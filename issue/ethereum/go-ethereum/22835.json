{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22835",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22835/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22835/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22835/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/22835",
  "id": 878495412,
  "node_id": "MDU6SXNzdWU4Nzg0OTU0MTI=",
  "number": 22835,
  "title": "panic: runtime error: invalid memory address or nil pointer dereference",
  "user": {
    "login": "multivars",
    "id": 61215049,
    "node_id": "MDQ6VXNlcjYxMjE1MDQ5",
    "avatar_url": "https://avatars.githubusercontent.com/u/61215049?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/multivars",
    "html_url": "https://github.com/multivars",
    "followers_url": "https://api.github.com/users/multivars/followers",
    "following_url": "https://api.github.com/users/multivars/following{/other_user}",
    "gists_url": "https://api.github.com/users/multivars/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/multivars/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/multivars/subscriptions",
    "organizations_url": "https://api.github.com/users/multivars/orgs",
    "repos_url": "https://api.github.com/users/multivars/repos",
    "events_url": "https://api.github.com/users/multivars/events{/privacy}",
    "received_events_url": "https://api.github.com/users/multivars/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 72233650,
      "node_id": "MDU6TGFiZWw3MjIzMzY1MA==",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:bug",
      "name": "type:bug",
      "color": "FF5E5E",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 8,
  "created_at": "2021-05-07T05:57:40Z",
  "updated_at": "2022-09-10T03:13:07Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nGeth version:\r\nVersion: 1.10.3-stable\r\nArchitecture: arm64\r\nGo Version: go1.16.3\r\nOperating System: darwin\r\n\r\nOS & Version: OSX\r\n\r\n#### Expected behaviour\r\nNo crashes\r\n\r\n#### Actual behaviour\r\npanic: runtime error: invalid memory address or nil pointer dereference\r\n[signal SIGSEGV: segmentation violation code=0x2 addr=0x1c0 pc=0x10472ad00]\r\n\r\n```\r\ngoroutine 645374 [running]:\r\ngithub.com/ethereum/go-ethereum/eth/downloader.(*Downloader).findAncestorBinarySearch(0x14006fa1c20, 0x14019ff0000, 0x100000001, 0xbcfc99, 0xbb9cb3, 0xbb9cb3, 0x0, 0x10509bcd8)\r\n\tgithub.com/ethereum/go-ethereum/eth/downloader/downloader.go:988 +0x440\r\ngithub.com/ethereum/go-ethereum/eth/downloader.(*Downloader).findAncestor(0x14006fa1c20, 0x14019ff0000, 0x14025d5a480, 0x1400067ab40, 0x0, 0x0)\r\n\tgithub.com/ethereum/go-ethereum/eth/downloader/downloader.go:840 +0x338\r\ngithub.com/ethereum/go-ethereum/eth/downloader.(*Downloader).syncWithPeer(0x14006fa1c20, 0x14019ff0000, 0x93275d9e27d9cc81, 0x20880d02a23dad6b, 0xefba04bd94c4dbfb, 0x632ca43bf48c30be, 0x1404d8ac5c0, 0x0, 0x0)\r\n\tgithub.com/ethereum/go-ethereum/eth/downloader/downloader.go:497 +0x3c0\r\ngithub.com/ethereum/go-ethereum/eth/downloader.(*Downloader).synchronise(0x14006fa1c20, 0x1403876e040, 0x40, 0x93275d9e27d9cc81, 0x20880d02a23dad6b, 0xefba04bd94c4dbfb, 0x632ca43bf48c30be, 0x1404d8ac5c0, 0x1, 0x0, ...)\r\n\tgithub.com/ethereum/go-ethereum/eth/downloader/downloader.go:453 +0x31c\r\ngithub.com/ethereum/go-ethereum/eth/downloader.(*Downloader).Synchronise(0x14006fa1c20, 0x1403876e040, 0x40, 0x93275d9e27d9cc81, 0x20880d02a23dad6b, 0xefba04bd94c4dbfb, 0x632ca43bf48c30be, 0x1404d8ac5c0, 0x23ac5c4400000002, 0x8b4b0ae95c9805f1, ...)\r\n\tgithub.com/ethereum/go-ethereum/eth/downloader/downloader.go:348 +0x6c\r\ngithub.com/ethereum/go-ethereum/eth.(*handler).doSync(0x140073c0000, 0x1403937e0c0, 0x1403c7781c0, 0x1c738c98100323fe)\r\n\tgithub.com/ethereum/go-ethereum/eth/sync.go:324 +0x100\r\ngithub.com/ethereum/go-ethereum/eth.(*chainSyncer).startSync.func1(0x14006efd950, 0x1403937e0c0)\r\n\tgithub.com/ethereum/go-ethereum/eth/sync.go:300 +0x34\r\ncreated by github.com/ethereum/go-ethereum/eth.(*chainSyncer).startSync\r\n\tgithub.com/ethereum/go-ethereum/eth/sync.go:300 +0x78\r\n\r\n```\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22835/reactions",
    "total_count": 2,
    "+1": 2,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22835/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/838509805",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22835#issuecomment-838509805",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22835",
    "id": 838509805,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgzODUwOTgwNQ==",
    "user": {
      "login": "RaibeartRuadh",
      "id": 38784332,
      "node_id": "MDQ6VXNlcjM4Nzg0MzMy",
      "avatar_url": "https://avatars.githubusercontent.com/u/38784332?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/RaibeartRuadh",
      "html_url": "https://github.com/RaibeartRuadh",
      "followers_url": "https://api.github.com/users/RaibeartRuadh/followers",
      "following_url": "https://api.github.com/users/RaibeartRuadh/following{/other_user}",
      "gists_url": "https://api.github.com/users/RaibeartRuadh/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/RaibeartRuadh/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/RaibeartRuadh/subscriptions",
      "organizations_url": "https://api.github.com/users/RaibeartRuadh/orgs",
      "repos_url": "https://api.github.com/users/RaibeartRuadh/repos",
      "events_url": "https://api.github.com/users/RaibeartRuadh/events{/privacy}",
      "received_events_url": "https://api.github.com/users/RaibeartRuadh/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-05-11T13:50:02Z",
    "updated_at": "2021-05-14T08:00:19Z",
    "author_association": "NONE",
    "body": "Version:v1.10.1\r\n\r\nI have a similar situation with a node crash on testnet mode:\r\n\r\ncommand: `--syncmode full --ropsten --nousb --http.api admin,personal,txpool,eth,web3 --http --http.addr 0.0.0.0 --cache=12288 --maxpeers=200`\r\nCrash log:\r\n```\r\nINFO [05-11|13:43:19.932] Block synchronisation started\r\npanic: runtime error: invalid memory address or nil pointer dereference\r\n[signal SIGSEGV: segmentation violation code=0x1 addr=0x1c0 pc=0xb1ecaf]\r\n\r\ngoroutine 1489 [running]:\r\ngithub.com/ethereum/go-ethereum/eth/downloader.(*Downloader).findAncestorBinarySearch(0xc00000c3c0, 0xc0da534d20, 0x0, 0x9bdc11, 0x98f379, 0x98f379, 0x0, 0x1539120)\r\n        github.com/ethereum/go-ethereum/eth/downloader/downloader.go:977 +0x58f\r\ngithub.com/ethereum/go-ethereum/eth/downloader.(*Downloader).findAncestor(0xc00000c3c0, 0xc0da534d20, 0xc0da37a6c0, 0x0, 0x0, 0x0)\r\n        github.com/ethereum/go-ethereum/eth/downloader/downloader.go:829 +0x3a5\r\ngithub.com/ethereum/go-ethereum/eth/downloader.(*Downloader).syncWithPeer(0xc00000c3c0, 0xc0da534d20, 0x9f9484732b7d3a6e, 0xa18ab4d23daa471e, 0x24e637921e99d771, 0x89d0b52e3c9ca486, 0xc045dca980, 0x0, 0x0)\r\n        github.com/ethereum/go-ethereum/eth/downloader/downloader.go:486 +0x517\r\ngithub.com/ethereum/go-ethereum/eth/downloader.(*Downloader).synchronise(0xc00000c3c0, 0xc0f1aa8ac0, 0x40, 0x9f9484732b7d3a6e, 0xa18ab4d23daa471e, 0x24e637921e99d771, 0x89d0b52e3c9ca486, 0xc045dca980, 0xc000000000, 0x0, ...)\r\n        github.com/ethereum/go-ethereum/eth/downloader/downloader.go:442 +0x3b1\r\ngithub.com/ethereum/go-ethereum/eth/downloader.(*Downloader).Synchronise(0xc00000c3c0, 0xc0f1aa8ac0, 0x40, 0x9f9484732b7d3a6e, 0xa18ab4d23daa471e, 0x24e637921e99d771, 0x89d0b52e3c9ca486, 0xc045dca980, 0xc000000000, 0xd9090e, ...)\r\n        github.com/ethereum/go-ethereum/eth/downloader/downloader.go:343 +0x8c\r\ngithub.com/ethereum/go-ethereum/eth.(*handler).doSync(0xc0222fba00, 0xc03772cec0, 0x1408088, 0xc000277420)\r\n        github.com/ethereum/go-ethereum/eth/sync.go:324 +0x125\r\ngithub.com/ethereum/go-ethereum/eth.(*chainSyncer).startSync.func1(0xc0182ff200, 0xc03772cec0)\r\n        github.com/ethereum/go-ethereum/eth/sync.go:300 +0x38\r\ncreated by github.com/ethereum/go-ethereum/eth.(*chainSyncer).startSync\r\n        github.com/ethereum/go-ethereum/eth/sync.go:300 +0x76\r\n\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/838509805/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/847865617",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22835#issuecomment-847865617",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22835",
    "id": 847865617,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg0Nzg2NTYxNw==",
    "user": {
      "login": "ShardYaco",
      "id": 32742825,
      "node_id": "MDQ6VXNlcjMyNzQyODI1",
      "avatar_url": "https://avatars.githubusercontent.com/u/32742825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ShardYaco",
      "html_url": "https://github.com/ShardYaco",
      "followers_url": "https://api.github.com/users/ShardYaco/followers",
      "following_url": "https://api.github.com/users/ShardYaco/following{/other_user}",
      "gists_url": "https://api.github.com/users/ShardYaco/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ShardYaco/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ShardYaco/subscriptions",
      "organizations_url": "https://api.github.com/users/ShardYaco/orgs",
      "repos_url": "https://api.github.com/users/ShardYaco/repos",
      "events_url": "https://api.github.com/users/ShardYaco/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ShardYaco/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-05-25T13:22:05Z",
    "updated_at": "2021-05-25T13:22:05Z",
    "author_association": "NONE",
    "body": "Same error on my 1.10.3 node \r\n`--syncmode full --snapshot=false --ropsten --http --http.api personal,eth,net,web3 --http.addr 0.0.0.0`",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/847865617/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/847880943",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22835#issuecomment-847880943",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22835",
    "id": 847880943,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg0Nzg4MDk0Mw==",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-05-25T13:41:50Z",
    "updated_at": "2021-05-25T13:41:50Z",
    "author_association": "MEMBER",
    "body": "When these types of errors occur, it would be useful to see a bit more of the logs _preceding_ the crash, and perhaps in particular the logs that are emitted during the start-up procedure.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/847880943/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/875845314",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22835#issuecomment-875845314",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22835",
    "id": 875845314,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3NTg0NTMxNA==",
    "user": {
      "login": "corymsmith",
      "id": 7315,
      "node_id": "MDQ6VXNlcjczMTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7315?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/corymsmith",
      "html_url": "https://github.com/corymsmith",
      "followers_url": "https://api.github.com/users/corymsmith/followers",
      "following_url": "https://api.github.com/users/corymsmith/following{/other_user}",
      "gists_url": "https://api.github.com/users/corymsmith/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/corymsmith/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/corymsmith/subscriptions",
      "organizations_url": "https://api.github.com/users/corymsmith/orgs",
      "repos_url": "https://api.github.com/users/corymsmith/repos",
      "events_url": "https://api.github.com/users/corymsmith/events{/privacy}",
      "received_events_url": "https://api.github.com/users/corymsmith/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-07T18:47:35Z",
    "updated_at": "2021-07-07T18:47:35Z",
    "author_association": "NONE",
    "body": "@holiman I'm seeing the same thing right now. Our Ropsten node is crashing on this line over and over and I'm not sure how to get it to recover:\r\n\r\n`if header.Number.Uint64() != check {` here: https://github.com/ethereum/go-ethereum/blob/master/eth/downloader/downloader.go#L966\r\n\r\n#### Logs\r\n```\r\nDEBUG[07-07|18:32:25.015] Synchronising with the network peer=cb2bf0beb664e1dad1af77fe86d9eeb33c36f148d8dc9f786c24442ad42483ad eth=66 head=d831b8..5c30df td=33,994,265,417,841,093 mode=full\r\n\r\nDEBUG[07-07|18:32:25.015] Retrieving remote chain head peer=cb2bf0be\r\n\r\nDEBUG[07-07|18:32:25.015] Recalculated msgrate QoS values proto=eth rtt=20s confidence=0.562 ttl=1m0s next=2021-07-07T18:32:45+0000\r\n\r\nTRACE[07-07|18:32:25.015] Debug dump of mean capacities proto=eth caps=map[]\r\n\r\nDEBUG[07-07|18:32:25.015] Fetching batch of headers id=cb2bf0beb664e1da conn=dyndial count=1 fromhash=d831b8..5c30df skip=63 reverse=true\r\n\r\nTRACE[07-07|18:32:25.066] DNS discovery lookup name=GAYDIKTRA7G3LGXQVOJI6ASW4Q.all.ropsten.ethdisco.net err=nil\r\n\r\nTRACE[07-07|18:32:25.109] Filtering headers peer=cb2bf0beb664e1dad1af77fe86d9eeb33c36f148d8dc9f786c24442ad42483ad headers=1\r\n\r\nDEBUG[07-07|18:32:25.109] Remote head identified, no pivot peer=cb2bf0be number=10,590,364 hash=d831b8..5c30df\r\n\r\nDEBUG[07-07|18:32:25.109] Looking for common ancestor peer=cb2bf0be local=10,481,606 remote=10,590,364\r\n\r\nTRACE[07-07|18:32:25.109] Span searching for common ancestor peer=cb2bf0be count=12 from=10,590,187 skip=15\r\n\r\nDEBUG[07-07|18:32:25.109] Fetching batch of headers id=cb2bf0beb664e1da conn=dyndial count=12 fromnum=10,590,187 skip=15 reverse=false\r\n\r\nTRACE[07-07|18:32:25.203] Binary searching for common ancestor peer=cb2bf0be start=10,391,606 end=10,590,364\r\n\r\nDEBUG[07-07|18:32:25.203] Fetching batch of headers id=cb2bf0beb664e1da conn=dyndial count=1 fromnum=10,490,985 skip=0 reverse=false\r\n\r\nTRACE[07-07|18:32:25.297] Filtering headers peer=cb2bf0beb664e1dad1af77fe86d9eeb33c36f148d8dc9f786c24442ad42483ad headers=1\r\n\r\nDEBUG[07-07|18:32:25.299] Synchronisation terminated elapsed=284.044ms\r\n\r\nmain\r\npanic: runtime error: invalid memory address or nil pointer dereference [signal SIGSEGV: segmentation violation code=0x1 addr=0x1c0 pc=0xb4832f] goroutine 2539 [running]: github.com/ethereum/go-ethereum/eth/downloader.(*Downloader).findAncestorBinarySearch(0xc0027a6540, 0xc020ffdc70, 0x0, 0xa1989c, 0x9e9036, 0x9e9036, 0x0, 0x157f660) github.com/ethereum/go-ethereum/eth/downloader/downloader.go:966 +0x58f github.com/ethereum/go-ethereum/eth/downloader.(*Downloader).findAncestor(0xc0027a6540, 0xc020ffdc70, 0xc00009c480, 0x0, 0x0, 0x0) github.com/ethereum/go-ethereum/eth/downloader/downloader.go:818 +0x3a5 github.com/ethereum/go-ethereum/eth/downloader.(*Downloader).syncWithPeer(0xc0027a6540, 0xc020ffdc70, 0xb9625a4e20b831d8, 0x3e31fd09191305df, 0xf7da9b5309f63afc, 0xdf305c5bb64df056, 0xc06fec26a0, 0x0, 0x0) github.com/ethereum/go-ethereum/eth/downloader/downloader.go:475 +0x517 github.com/ethereum/go-ethereum/eth/downloader.(*Downloader).synchronise(0xc0027a6540, 0xc043d05ac0, 0x40, 0xb9625a4e20b831d8, 0x3e31fd09191305df, 0xf7da9b5309f63afc, 0xdf305c5bb64df056, 0xc06fec26a0, 0xc000000000, 0x0, ...) github.com/ethereum/go-ethereum/eth/downloader/downloader.go:431 +0x3b0 github.com/ethereum/go-ethereum/eth/downloader.(*Downloader).Synchronise(0xc0027a6540, 0xc043d05ac0, 0x40, 0xb9625a4e20b831d8, 0x3e31fd09191305df, 0xf7da9b5309f63afc, 0xdf305c5bb64df056, 0xc06fec26a0, 0xc000000000, 0x481320, ...) github.com/ethereum/go-ethereum/eth/downloader/downloader.go:326 +0x8c github.com/ethereum/go-ethereum/eth.(*handler).doSync(0xc0005d5700, 0xc07d9e2e00, 0xaef775, 0xc071c70fc0) github.com/ethereum/go-ethereum/eth/sync.go:324 +0x125 github.com/ethereum/go-ethereum/eth.(*chainSyncer).startSync.func1(0xc002860c30, 0xc07d9e2e00) github.com/ethereum/go-ethereum/eth/sync.go:300 +0x38 created by github.com/ethereum/go-ethereum/eth.(*chainSyncer).startSync github.com/ethereum/go-ethereum/eth/sync.go:300 +0x76\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/875845314/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/875896052",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22835#issuecomment-875896052",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22835",
    "id": 875896052,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3NTg5NjA1Mg==",
    "user": {
      "login": "coopermaruyama",
      "id": 1325802,
      "node_id": "MDQ6VXNlcjEzMjU4MDI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1325802?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/coopermaruyama",
      "html_url": "https://github.com/coopermaruyama",
      "followers_url": "https://api.github.com/users/coopermaruyama/followers",
      "following_url": "https://api.github.com/users/coopermaruyama/following{/other_user}",
      "gists_url": "https://api.github.com/users/coopermaruyama/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/coopermaruyama/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/coopermaruyama/subscriptions",
      "organizations_url": "https://api.github.com/users/coopermaruyama/orgs",
      "repos_url": "https://api.github.com/users/coopermaruyama/repos",
      "events_url": "https://api.github.com/users/coopermaruyama/events{/privacy}",
      "received_events_url": "https://api.github.com/users/coopermaruyama/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-07T20:06:47Z",
    "updated_at": "2021-07-07T20:06:47Z",
    "author_association": "NONE",
    "body": "Also getting this issue since upgrading to 1.10.4\r\n\r\nThere are the flags I'm using:\r\n\r\n```\r\ngeth --ropsten --http --http.addr \"0.0.0.0\" --http.corsdomain \"*\" --http.vhosts=\"REDACTED\" --gpo.percentile 90 --gpo.blocks 200 --txlookuplimit=0 --cache.preimages --txlookuplimit=0 --snapshot=false --cache 10248 --syncmode=full\r\n```\r\n\r\nHere is 2 full iterations of it crashing from the logs:\r\n\r\n```\r\nJul 07 19:57:02 ip-10-0-0-44 systemd[1]: Started geth.\r\nJul 07 19:57:02 ip-10-0-0-44 geth[620]: INFO [07-07|19:57:02.075] Starting Geth on Ropsten testnet...\r\nJul 07 19:57:02 ip-10-0-0-44 geth[620]: INFO [07-07|19:57:02.078] Maximum peer count                       ETH=50 LES=0 total=50\r\nJul 07 19:57:02 ip-10-0-0-44 geth[620]: WARN [07-07|19:57:02.078] Using the deprecated `testnet` datadir. Future versions will store the Ropsten chain in `ropsten`.\r\nJul 07 19:57:02 ip-10-0-0-44 geth[620]: INFO [07-07|19:57:02.078] Smartcard socket not found, disabling    err=\"stat /run/pcscd/pcscd.comm: no such file or directory\"\r\nJul 07 19:57:02 ip-10-0-0-44 geth[620]: WARN [07-07|19:57:02.079] Sanitizing cache to Go's GC limits       provided=10248 updated=5337\r\nJul 07 19:57:02 ip-10-0-0-44 geth[620]: INFO [07-07|19:57:02.079] Set global gas cap                       cap=50,000,000\r\nJul 07 19:57:02 ip-10-0-0-44 geth[620]: INFO [07-07|19:57:02.081] Allocated trie memory caches             clean=800.00MiB dirty=1.30GiB\r\nJul 07 19:57:02 ip-10-0-0-44 geth[620]: INFO [07-07|19:57:02.081] Allocated cache and file handles         database=/home/ubuntu/.ethereum/ropsten/geth/chaindata cache=2.61GiB handles=2048\r\nJul 07 19:57:02 ip-10-0-0-44 geth[620]: INFO [07-07|19:57:02.709] Opened ancient database                  database=/home/ubuntu/.ethereum/ropsten/geth/chaindata/ancient readonly=false\r\nJul 07 19:57:02 ip-10-0-0-44 geth[620]: INFO [07-07|19:57:02.715] Persisted trie from memory database      nodes=355 size=50.41KiB time=\"879.666µs\" gcnodes=0 gcsize=0.00B gctime=0s livenodes=1 livesize=0.00B\r\nJul 07 19:57:02 ip-10-0-0-44 geth[620]: INFO [07-07|19:57:02.716] Initialised chain configuration          config=\"{ChainID: 3 Homestead: 0 DAO: <nil> DAOSupport: true EIP150: 0 EIP155: 10 EIP158: 10 Byzantium: 1700000 Constantinople: 4230000 Petersburg: 4939394 Istanbul: 6485846, Muir Glacier: 7117117, Berlin: 9812189, London: 10499401, Engine: ethash}\"\r\nJul 07 19:57:02 ip-10-0-0-44 geth[620]: INFO [07-07|19:57:02.832] Disk storage enabled for ethash caches   dir=/home/ubuntu/.ethereum/ropsten/geth/ethash count=3\r\nJul 07 19:57:02 ip-10-0-0-44 geth[620]: INFO [07-07|19:57:02.832] Disk storage enabled for ethash DAGs     dir=/home/ubuntu/.ethash count=2\r\nJul 07 19:57:02 ip-10-0-0-44 geth[620]: INFO [07-07|19:57:02.833] Initialising Ethereum protocol           network=3 dbversion=8\r\nJul 07 19:57:02 ip-10-0-0-44 geth[620]: INFO [07-07|19:57:02.834] Loaded most recent local header          number=9,814,598 hash=cafd68..e4fa03 td=32,971,859,168,040,298 age=3mo4w11h\r\nJul 07 19:57:02 ip-10-0-0-44 geth[620]: INFO [07-07|19:57:02.834] Loaded most recent local full block      number=9,814,598 hash=cafd68..e4fa03 td=32,971,859,168,040,298 age=3mo4w11h\r\nJul 07 19:57:02 ip-10-0-0-44 geth[620]: INFO [07-07|19:57:02.834] Loaded most recent local fast block      number=9,814,598 hash=cafd68..e4fa03 td=32,971,859,168,040,298 age=3mo4w11h\r\nJul 07 19:57:02 ip-10-0-0-44 geth[620]: INFO [07-07|19:57:02.834] Loaded last fast-sync pivot marker       number=9,811,393\r\nJul 07 19:57:02 ip-10-0-0-44 geth[620]: INFO [07-07|19:57:02.836] Resuming state snapshot generation       root=fbf989..47b111 at=00d79f..41259e accounts=106,076 slots=1,318,383 storage=95.82MiB elapsed=\"60.958µs\"\r\nJul 07 19:57:02 ip-10-0-0-44 geth[620]: INFO [07-07|19:57:02.836] Loaded local transaction journal         transactions=0 dropped=0\r\nJul 07 19:57:02 ip-10-0-0-44 geth[620]: INFO [07-07|19:57:02.836] Regenerated local transaction journal    transactions=0 accounts=0\r\nJul 07 19:57:02 ip-10-0-0-44 geth[620]: INFO [07-07|19:57:02.837] Gasprice oracle is ignoring threshold set threshold=2\r\nJul 07 19:57:02 ip-10-0-0-44 geth[620]: WARN [07-07|19:57:02.837] Old unclean shutdowns found              count=920\r\nJul 07 19:57:02 ip-10-0-0-44 geth[620]: WARN [07-07|19:57:02.837] Unclean shutdown detected                booted=2021-07-07T19:56:12+0000 age=50s\r\nJul 07 19:57:02 ip-10-0-0-44 geth[620]: WARN [07-07|19:57:02.837] Unclean shutdown detected                booted=2021-07-07T19:56:24+0000 age=38s\r\nJul 07 19:57:02 ip-10-0-0-44 geth[620]: WARN [07-07|19:57:02.837] Unclean shutdown detected                booted=2021-07-07T19:56:28+0000 age=34s\r\nJul 07 19:57:02 ip-10-0-0-44 geth[620]: WARN [07-07|19:57:02.837] Unclean shutdown detected                booted=2021-07-07T19:56:31+0000 age=31s\r\nJul 07 19:57:02 ip-10-0-0-44 geth[620]: WARN [07-07|19:57:02.837] Unclean shutdown detected                booted=2021-07-07T19:56:35+0000 age=27s\r\nJul 07 19:57:02 ip-10-0-0-44 geth[620]: WARN [07-07|19:57:02.837] Unclean shutdown detected                booted=2021-07-07T19:56:39+0000 age=23s\r\nJul 07 19:57:02 ip-10-0-0-44 geth[620]: WARN [07-07|19:57:02.837] Unclean shutdown detected                booted=2021-07-07T19:56:44+0000 age=18s\r\nJul 07 19:57:02 ip-10-0-0-44 geth[620]: WARN [07-07|19:57:02.837] Unclean shutdown detected                booted=2021-07-07T19:56:48+0000 age=14s\r\nJul 07 19:57:02 ip-10-0-0-44 geth[620]: WARN [07-07|19:57:02.837] Unclean shutdown detected                booted=2021-07-07T19:56:54+0000 age=8s\r\nJul 07 19:57:02 ip-10-0-0-44 geth[620]: WARN [07-07|19:57:02.837] Unclean shutdown detected                booted=2021-07-07T19:56:57+0000 age=5s\r\nJul 07 19:57:02 ip-10-0-0-44 geth[620]: WARN [07-07|19:57:02.837] Unclean shutdown detected                booted=2021-07-07T19:57:00+0000 age=2s\r\nJul 07 19:57:02 ip-10-0-0-44 geth[620]: INFO [07-07|19:57:02.837] Starting peer-to-peer node               instance=Geth/v1.10.4-stable-aa637fd3/linux-amd64/go1.16.4\r\nJul 07 19:57:03 ip-10-0-0-44 geth[620]: INFO [07-07|19:57:03.362] New local node record                    seq=1252 id=9999030f60472d1d ip=127.0.0.1 udp=30303 tcp=30303\r\nJul 07 19:57:03 ip-10-0-0-44 geth[620]: INFO [07-07|19:57:03.364] IPC endpoint opened                      url=/home/ubuntu/.ethereum/ropsten/geth.ipc\r\nJul 07 19:57:03 ip-10-0-0-44 geth[620]: INFO [07-07|19:57:03.365] HTTP server started                      endpoint=[::]:8545 prefix= cors=* vhosts=eth-testnet.coincircle.com\r\nJul 07 19:57:03 ip-10-0-0-44 geth[620]: INFO [07-07|19:57:03.365] Started P2P networking                   self=enode://ec98362499f16f7ccacdcec35fecb0ca2675c0b655430ad182bdd76753520b351ea5893da5c48e6f4400c035120cf65688d4113a0a20e927a1e2a4391d151242@127.0.0.1:30303\r\nJul 07 19:57:06 ip-10-0-0-44 geth[620]: INFO [07-07|19:57:06.904] Block synchronisation started\r\nJul 07 19:57:07 ip-10-0-0-44 geth[620]: panic: runtime error: invalid memory address or nil pointer dereference\r\nJul 07 19:57:07 ip-10-0-0-44 geth[620]: [signal SIGSEGV: segmentation violation code=0x1 addr=0x1c0 pc=0xb4428f]\r\nJul 07 19:57:07 ip-10-0-0-44 geth[620]: goroutine 12378 [running]:\r\nJul 07 19:57:07 ip-10-0-0-44 geth[620]: github.com/ethereum/go-ethereum/eth/downloader.(*Downloader).findAncestorBinarySearch(0xc003b62e00, 0xc005d271e0, 0x0, 0xa199e5, 0x9462b6, 0x9462b6, 0x0, 0x157a640)\r\nJul 07 19:57:07 ip-10-0-0-44 geth[620]:         github.com/ethereum/go-ethereum/eth/downloader/downloader.go:966 +0x58f\r\nJul 07 19:57:07 ip-10-0-0-44 geth[620]: github.com/ethereum/go-ethereum/eth/downloader.(*Downloader).findAncestor(0xc003b62e00, 0xc005d271e0, 0xc00013a240, 0x0, 0x0, 0x0)\r\nJul 07 19:57:07 ip-10-0-0-44 geth[620]:         github.com/ethereum/go-ethereum/eth/downloader/downloader.go:818 +0x3a5\r\nJul 07 19:57:07 ip-10-0-0-44 geth[620]: github.com/ethereum/go-ethereum/eth/downloader.(*Downloader).syncWithPeer(0xc003b62e00, 0xc005d271e0, 0xe5b3b5c3de246936, 0x2c12d02f7f07c59, 0x51ef8696c18a8034, 0x52e6ad956d27338b, 0xc019e61400, 0x0, 0x0)\r\nJul 07 19:57:07 ip-10-0-0-44 geth[620]:         github.com/ethereum/go-ethereum/eth/downloader/downloader.go:475 +0x517\r\nJul 07 19:57:07 ip-10-0-0-44 geth[620]: github.com/ethereum/go-ethereum/eth/downloader.(*Downloader).synchronise(0xc003b62e00, 0xc009503e80, 0x40, 0xe5b3b5c3de246936, 0x2c12d02f7f07c59, 0x51ef8696c18a8034, 0x52e6ad956d27338b, 0xc019e61400, 0xc000000000, 0x0, ...)\r\nJul 07 19:57:07 ip-10-0-0-44 geth[620]:         github.com/ethereum/go-ethereum/eth/downloader/downloader.go:431 +0x3b0\r\nJul 07 19:57:07 ip-10-0-0-44 geth[620]: github.com/ethereum/go-ethereum/eth/downloader.(*Downloader).Synchronise(0xc003b62e00, 0xc009503e80, 0x40, 0xe5b3b5c3de246936, 0x2c12d02f7f07c59, 0x51ef8696c18a8034, 0x52e6ad956d27338b, 0xc019e61400, 0xc000000000, 0xdb84ae, ...)\r\nJul 07 19:57:07 ip-10-0-0-44 geth[620]:         github.com/ethereum/go-ethereum/eth/downloader/downloader.go:326 +0x8c\r\nJul 07 19:57:07 ip-10-0-0-44 geth[620]: github.com/ethereum/go-ethereum/eth.(*handler).doSync(0xc000156c00, 0xc0105fec80, 0x1443600, 0xc003a62c40)\r\nJul 07 19:57:07 ip-10-0-0-44 geth[620]:         github.com/ethereum/go-ethereum/eth/sync.go:324 +0x125\r\nJul 07 19:57:07 ip-10-0-0-44 geth[620]: github.com/ethereum/go-ethereum/eth.(*chainSyncer).startSync.func1(0xc003ca7a70, 0xc0105fec80)\r\nJul 07 19:57:07 ip-10-0-0-44 geth[620]:         github.com/ethereum/go-ethereum/eth/sync.go:300 +0x38\r\nJul 07 19:57:07 ip-10-0-0-44 geth[620]: created by github.com/ethereum/go-ethereum/eth.(*chainSyncer).startSync\r\nJul 07 19:57:07 ip-10-0-0-44 geth[620]:         github.com/ethereum/go-ethereum/eth/sync.go:300 +0x76\r\nJul 07 19:57:07 ip-10-0-0-44 systemd[1]: geth.service: Main process exited, code=exited, status=2/INVALIDARGUMENT\r\nJul 07 19:57:07 ip-10-0-0-44 systemd[1]: geth.service: Failed with result 'exit-code'.\r\nJul 07 19:57:07 ip-10-0-0-44 systemd[1]: geth.service: Service hold-off time over, scheduling restart.\r\nJul 07 19:57:07 ip-10-0-0-44 systemd[1]: geth.service: Scheduled restart job, restart counter is at 11.\r\nJul 07 19:57:07 ip-10-0-0-44 systemd[1]: Stopped geth.\r\nJul 07 19:57:07 ip-10-0-0-44 systemd[1]: Started geth.\r\nJul 07 19:57:07 ip-10-0-0-44 geth[672]: INFO [07-07|19:57:07.825] Starting Geth on Ropsten testnet...\r\nJul 07 19:57:07 ip-10-0-0-44 geth[672]: INFO [07-07|19:57:07.827] Maximum peer count                       ETH=50 LES=0 total=50\r\nJul 07 19:57:07 ip-10-0-0-44 geth[672]: WARN [07-07|19:57:07.827] Using the deprecated `testnet` datadir. Future versions will store the Ropsten chain in `ropsten`.\r\nJul 07 19:57:07 ip-10-0-0-44 geth[672]: INFO [07-07|19:57:07.827] Smartcard socket not found, disabling    err=\"stat /run/pcscd/pcscd.comm: no such file or directory\"\r\nJul 07 19:57:07 ip-10-0-0-44 geth[672]: WARN [07-07|19:57:07.828] Sanitizing cache to Go's GC limits       provided=10248 updated=5337\r\nJul 07 19:57:07 ip-10-0-0-44 geth[672]: INFO [07-07|19:57:07.828] Set global gas cap                       cap=50,000,000\r\nJul 07 19:57:07 ip-10-0-0-44 geth[672]: INFO [07-07|19:57:07.829] Allocated trie memory caches             clean=800.00MiB dirty=1.30GiB\r\nJul 07 19:57:07 ip-10-0-0-44 geth[672]: INFO [07-07|19:57:07.829] Allocated cache and file handles         database=/home/ubuntu/.ethereum/ropsten/geth/chaindata cache=2.61GiB handles=2048\r\nJul 07 19:57:08 ip-10-0-0-44 geth[672]: INFO [07-07|19:57:08.447] Opened ancient database                  database=/home/ubuntu/.ethereum/ropsten/geth/chaindata/ancient readonly=false\r\nJul 07 19:57:08 ip-10-0-0-44 geth[672]: INFO [07-07|19:57:08.453] Persisted trie from memory database      nodes=355 size=50.41KiB time=\"863.959µs\" gcnodes=0 gcsize=0.00B gctime=0s livenodes=1 livesize=0.00B\r\nJul 07 19:57:08 ip-10-0-0-44 geth[672]: INFO [07-07|19:57:08.453] Initialised chain configuration          config=\"{ChainID: 3 Homestead: 0 DAO: <nil> DAOSupport: true EIP150: 0 EIP155: 10 EIP158: 10 Byzantium: 1700000 Constantinople: 4230000 Petersburg: 4939394 Istanbul: 6485846, Muir Glacier: 7117117, Berlin: 9812189, London: 10499401, Engine: ethash}\"\r\nJul 07 19:57:08 ip-10-0-0-44 geth[672]: INFO [07-07|19:57:08.566] Disk storage enabled for ethash caches   dir=/home/ubuntu/.ethereum/ropsten/geth/ethash count=3\r\nJul 07 19:57:08 ip-10-0-0-44 geth[672]: INFO [07-07|19:57:08.566] Disk storage enabled for ethash DAGs     dir=/home/ubuntu/.ethash count=2\r\nJul 07 19:57:08 ip-10-0-0-44 geth[672]: INFO [07-07|19:57:08.566] Initialising Ethereum protocol           network=3 dbversion=8\r\nJul 07 19:57:08 ip-10-0-0-44 geth[672]: INFO [07-07|19:57:08.567] Loaded most recent local header          number=9,814,598 hash=cafd68..e4fa03 td=32,971,859,168,040,298 age=3mo4w11h\r\nJul 07 19:57:08 ip-10-0-0-44 geth[672]: INFO [07-07|19:57:08.568] Loaded most recent local full block      number=9,814,598 hash=cafd68..e4fa03 td=32,971,859,168,040,298 age=3mo4w11h\r\nJul 07 19:57:08 ip-10-0-0-44 geth[672]: INFO [07-07|19:57:08.568] Loaded most recent local fast block      number=9,814,598 hash=cafd68..e4fa03 td=32,971,859,168,040,298 age=3mo4w11h\r\nJul 07 19:57:08 ip-10-0-0-44 geth[672]: INFO [07-07|19:57:08.568] Loaded last fast-sync pivot marker       number=9,811,393\r\nJul 07 19:57:08 ip-10-0-0-44 geth[672]: INFO [07-07|19:57:08.569] Resuming state snapshot generation       root=fbf989..47b111 at=00d79f..41259e accounts=106,076 slots=1,318,383 storage=95.82MiB elapsed=\"70.607µs\"\r\nJul 07 19:57:08 ip-10-0-0-44 geth[672]: INFO [07-07|19:57:08.569] Loaded local transaction journal         transactions=0 dropped=0\r\nJul 07 19:57:08 ip-10-0-0-44 geth[672]: INFO [07-07|19:57:08.570] Regenerated local transaction journal    transactions=0 accounts=0\r\nJul 07 19:57:08 ip-10-0-0-44 geth[672]: INFO [07-07|19:57:08.570] Gasprice oracle is ignoring threshold set threshold=2\r\nJul 07 19:57:08 ip-10-0-0-44 geth[672]: WARN [07-07|19:57:08.570] Old unclean shutdowns found              count=921\r\nJul 07 19:57:08 ip-10-0-0-44 geth[672]: WARN [07-07|19:57:08.570] Unclean shutdown detected                booted=2021-07-07T19:56:24+0000 age=44s\r\nJul 07 19:57:08 ip-10-0-0-44 geth[672]: WARN [07-07|19:57:08.570] Unclean shutdown detected                booted=2021-07-07T19:56:28+0000 age=40s\r\nJul 07 19:57:08 ip-10-0-0-44 geth[672]: WARN [07-07|19:57:08.570] Unclean shutdown detected                booted=2021-07-07T19:56:31+0000 age=37s\r\nJul 07 19:57:08 ip-10-0-0-44 geth[672]: WARN [07-07|19:57:08.570] Unclean shutdown detected                booted=2021-07-07T19:56:35+0000 age=33s\r\nJul 07 19:57:08 ip-10-0-0-44 geth[672]: WARN [07-07|19:57:08.570] Unclean shutdown detected                booted=2021-07-07T19:56:39+0000 age=29s\r\nJul 07 19:57:08 ip-10-0-0-44 geth[672]: WARN [07-07|19:57:08.570] Unclean shutdown detected                booted=2021-07-07T19:56:44+0000 age=24s\r\nJul 07 19:57:08 ip-10-0-0-44 geth[672]: WARN [07-07|19:57:08.570] Unclean shutdown detected                booted=2021-07-07T19:56:48+0000 age=20s\r\nJul 07 19:57:08 ip-10-0-0-44 geth[672]: WARN [07-07|19:57:08.570] Unclean shutdown detected                booted=2021-07-07T19:56:54+0000 age=14s\r\nJul 07 19:57:08 ip-10-0-0-44 geth[672]: WARN [07-07|19:57:08.570] Unclean shutdown detected                booted=2021-07-07T19:56:57+0000 age=11s\r\nJul 07 19:57:08 ip-10-0-0-44 geth[672]: WARN [07-07|19:57:08.570] Unclean shutdown detected                booted=2021-07-07T19:57:00+0000 age=8s\r\nJul 07 19:57:08 ip-10-0-0-44 geth[672]: WARN [07-07|19:57:08.570] Unclean shutdown detected                booted=2021-07-07T19:57:02+0000 age=6s\r\nJul 07 19:57:08 ip-10-0-0-44 geth[672]: INFO [07-07|19:57:08.570] Starting peer-to-peer node               instance=Geth/v1.10.4-stable-aa637fd3/linux-amd64/go1.16.4\r\nqJul 07 19:57:09 ip-10-0-0-44 geth[672]: INFO [07-07|19:57:09.156] New local node record                    seq=1253 id=9999030f60472d1d ip=127.0.0.1 udp=30303 tcp=30303\r\nJul 07 19:57:09 ip-10-0-0-44 geth[672]: INFO [07-07|19:57:09.158] IPC endpoint opened                      url=/home/ubuntu/.ethereum/ropsten/geth.ipc\r\nJul 07 19:57:09 ip-10-0-0-44 geth[672]: INFO [07-07|19:57:09.159] HTTP server started                      endpoint=[::]:8545 prefix= cors=* vhosts=eth-testnet.coincircle.com\r\nJul 07 19:57:09 ip-10-0-0-44 geth[672]: INFO [07-07|19:57:09.159] Started P2P networking                   self=enode://ec98362499f16f7ccacdcec35fecb0ca2675c0b655430ad182bdd76753520b351ea5893da5c48e6f4400c035120cf65688d4113a0a20e927a1e2a4391d151242@127.0.0.1:30303\r\nJul 07 19:57:12 ip-10-0-0-44 geth[672]: INFO [07-07|19:57:12.802] Block synchronisation started\r\nJul 07 19:57:13 ip-10-0-0-44 geth[672]: panic: runtime error: invalid memory address or nil pointer dereference\r\nJul 07 19:57:13 ip-10-0-0-44 geth[672]: [signal SIGSEGV: segmentation violation code=0x1 addr=0x1c0 pc=0xb4428f]\r\nJul 07 19:57:13 ip-10-0-0-44 geth[672]: goroutine 13412 [running]:\r\nJul 07 19:57:13 ip-10-0-0-44 geth[672]: github.com/ethereum/go-ethereum/eth/downloader.(*Downloader).findAncestorBinarySearch(0xc002797180, 0xc0186bc410, 0x0, 0xa199e5, 0x9462b6, 0x9462b6, 0x0, 0x157a640)\r\nJul 07 19:57:13 ip-10-0-0-44 geth[672]:         github.com/ethereum/go-ethereum/eth/downloader/downloader.go:966 +0x58f\r\nJul 07 19:57:13 ip-10-0-0-44 geth[672]: github.com/ethereum/go-ethereum/eth/downloader.(*Downloader).findAncestor(0xc002797180, 0xc0186bc410, 0xc002908240, 0x0, 0x0, 0x0)\r\nJul 07 19:57:13 ip-10-0-0-44 geth[672]:         github.com/ethereum/go-ethereum/eth/downloader/downloader.go:818 +0x3a5\r\nJul 07 19:57:13 ip-10-0-0-44 geth[672]: github.com/ethereum/go-ethereum/eth/downloader.(*Downloader).syncWithPeer(0xc002797180, 0xc0186bc410, 0xe5b3b5c3de246936, 0x2c12d02f7f07c59, 0x51ef8696c18a8034, 0x52e6ad956d27338b, 0xc01f7374c0, 0x0, 0x0)\r\nJul 07 19:57:13 ip-10-0-0-44 geth[672]:         github.com/ethereum/go-ethereum/eth/downloader/downloader.go:475 +0x517\r\nJul 07 19:57:13 ip-10-0-0-44 geth[672]: github.com/ethereum/go-ethereum/eth/downloader.(*Downloader).synchronise(0xc002797180, 0xc0169bc3c0, 0x40, 0xe5b3b5c3de246936, 0x2c12d02f7f07c59, 0x51ef8696c18a8034, 0x52e6ad956d27338b, 0xc01f7374c0, 0xc000000000, 0x0, ...)\r\nJul 07 19:57:13 ip-10-0-0-44 geth[672]:         github.com/ethereum/go-ethereum/eth/downloader/downloader.go:431 +0x3b0\r\nJul 07 19:57:13 ip-10-0-0-44 geth[672]: github.com/ethereum/go-ethereum/eth/downloader.(*Downloader).Synchronise(0xc002797180, 0xc0169bc3c0, 0x40, 0xe5b3b5c3de246936, 0x2c12d02f7f07c59, 0x51ef8696c18a8034, 0x52e6ad956d27338b, 0xc01f7374c0, 0xc000000000, 0xdb84ae, ...)\r\nJul 07 19:57:13 ip-10-0-0-44 geth[672]:         github.com/ethereum/go-ethereum/eth/downloader/downloader.go:326 +0x8c\r\nJul 07 19:57:13 ip-10-0-0-44 geth[672]: github.com/ethereum/go-ethereum/eth.(*handler).doSync(0xc0007fca00, 0xc003e5a040, 0x1443600, 0xc0000f69a0)\r\nJul 07 19:57:13 ip-10-0-0-44 geth[672]:         github.com/ethereum/go-ethereum/eth/sync.go:324 +0x125\r\nJul 07 19:57:13 ip-10-0-0-44 geth[672]: github.com/ethereum/go-ethereum/eth.(*chainSyncer).startSync.func1(0xc00278bf50, 0xc003e5a040)\r\nJul 07 19:57:13 ip-10-0-0-44 geth[672]:         github.com/ethereum/go-ethereum/eth/sync.go:300 +0x38\r\nJul 07 19:57:13 ip-10-0-0-44 geth[672]: created by github.com/ethereum/go-ethereum/eth.(*chainSyncer).startSync\r\nJul 07 19:57:13 ip-10-0-0-44 geth[672]:         github.com/ethereum/go-ethereum/eth/sync.go:300 +0x76\r\nJul 07 19:57:13 ip-10-0-0-44 systemd[1]: geth.service: Main process exited, code=exited, status=2/INVALIDARGUMENT\r\nJul 07 19:57:13 ip-10-0-0-44 systemd[1]: geth.service: Failed with result 'exit-code'.\r\nJul 07 19:57:13 ip-10-0-0-44 systemd[1]: geth.service: Service hold-off time over, scheduling restart.\r\nJul 07 19:57:13 ip-10-0-0-44 systemd[1]: geth.service: Scheduled restart job, restart counter is at 12.\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/875896052/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/875897872",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22835#issuecomment-875897872",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22835",
    "id": 875897872,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3NTg5Nzg3Mg==",
    "user": {
      "login": "coopermaruyama",
      "id": 1325802,
      "node_id": "MDQ6VXNlcjEzMjU4MDI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1325802?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/coopermaruyama",
      "html_url": "https://github.com/coopermaruyama",
      "followers_url": "https://api.github.com/users/coopermaruyama/followers",
      "following_url": "https://api.github.com/users/coopermaruyama/following{/other_user}",
      "gists_url": "https://api.github.com/users/coopermaruyama/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/coopermaruyama/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/coopermaruyama/subscriptions",
      "organizations_url": "https://api.github.com/users/coopermaruyama/orgs",
      "repos_url": "https://api.github.com/users/coopermaruyama/repos",
      "events_url": "https://api.github.com/users/coopermaruyama/events{/privacy}",
      "received_events_url": "https://api.github.com/users/coopermaruyama/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-07T20:09:32Z",
    "updated_at": "2021-07-07T20:09:54Z",
    "author_association": "NONE",
    "body": "Follow up, I ended up just deleting the data directory and syncing from scratch. Even after running `geth removedb` this error was still persisting. Only after I deleted the data directory was this issue resolved.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/875897872/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/875960725",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22835#issuecomment-875960725",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22835",
    "id": 875960725,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3NTk2MDcyNQ==",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-07T21:55:48Z",
    "updated_at": "2021-07-07T21:55:48Z",
    "author_association": "MEMBER",
    "body": "You need 'geth --ropsten removedb', otherwise it removes mainnet.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/875960725/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1242605197",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22835#issuecomment-1242605197",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22835",
    "id": 1242605197,
    "node_id": "IC_kwDOAOvK985KEKaN",
    "user": {
      "login": "kumavis",
      "id": 1474978,
      "node_id": "MDQ6VXNlcjE0NzQ5Nzg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1474978?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kumavis",
      "html_url": "https://github.com/kumavis",
      "followers_url": "https://api.github.com/users/kumavis/followers",
      "following_url": "https://api.github.com/users/kumavis/following{/other_user}",
      "gists_url": "https://api.github.com/users/kumavis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kumavis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kumavis/subscriptions",
      "organizations_url": "https://api.github.com/users/kumavis/orgs",
      "repos_url": "https://api.github.com/users/kumavis/repos",
      "events_url": "https://api.github.com/users/kumavis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kumavis/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-10T03:13:06Z",
    "updated_at": "2022-09-10T03:13:06Z",
    "author_association": "MEMBER",
    "body": "getting this as well https://github.com/ethereum/go-ethereum/issues/25731",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1242605197/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
