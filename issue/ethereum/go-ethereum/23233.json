{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23233",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23233/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23233/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23233/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/23233",
  "id": 947533974,
  "node_id": "MDU6SXNzdWU5NDc1MzM5NzQ=",
  "number": 23233,
  "title": "eth_createAccessList returns null storageKeys",
  "user": {
    "login": "ghost",
    "id": 10137,
    "node_id": "MDQ6VXNlcjEwMTM3",
    "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ghost",
    "html_url": "https://github.com/ghost",
    "followers_url": "https://api.github.com/users/ghost/followers",
    "following_url": "https://api.github.com/users/ghost/following{/other_user}",
    "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
    "organizations_url": "https://api.github.com/users/ghost/orgs",
    "repos_url": "https://api.github.com/users/ghost/repos",
    "events_url": "https://api.github.com/users/ghost/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ghost/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 72233650,
      "node_id": "MDU6TGFiZWw3MjIzMzY1MA==",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:bug",
      "name": "type:bug",
      "color": "FF5E5E",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2021-07-19T11:02:58Z",
  "updated_at": "2021-07-19T11:25:06Z",
  "closed_at": "2021-07-19T11:25:06Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nGeth version: \r\nGeth\r\nVersion: 1.10.5-stable\r\nGit Commit: 33ca98ece985f5085ac8ec19a49239d726850004\r\nGit Commit Date: 20210714\r\nArchitecture: amd64\r\nGo Version: go1.16.6\r\nOperating System: linux\r\nGOPATH=\r\nGOROOT=go\r\n\r\n\r\n#### Expected behaviour\r\n\r\n```json\r\n{\r\n  \"jsonrpc\": \"2.0\",\r\n  \"id\": \"1\",\r\n  \"result\": {\r\n    \"accessList\": [\r\n      {\r\n        \"address\": \"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48\",\r\n        \"storageKeys\": [\r\n          \"0x4876d605bd5e6e7f5a45e688681a94dd85e86558b46ea212b6f09b4ece144c9d\",\r\n          \"0x96736379929029d2c97f019f708bc9f9a493a9cacb216e33cad5a848c7a0bffc\",\r\n          \"0x48cbc36d213887bf11243feaa2e5bdd8215bfa4f86aa18fba1159f9183760320\",\r\n          \"0x5bdb10390058f3076c9a00b47cea9d46dcefec77016c4920581d1704baa4afb5\",\r\n          \"0x10d6a54a4754c8869d6886b5f5d7fbfa5b4522237ea5c60d11bc4e7a1ff9390b\",\r\n          \"0x7050c9e0f4ca769c69bd3a8ef740bc37934f8e2c036e5a723fd8ee048ed3f8c3\",\r\n          \"0x0000000000000000000000000000000000000000000000000000000000000001\"\r\n        ]\r\n      }\r\n    ],\r\n    \"gasUsed\": \"0x10699\"\r\n  }\r\n}\r\n```\r\n\r\n\r\n#### Actual behaviour\r\n\r\n```json\r\n{\r\n  \"jsonrpc\": \"2.0\",\r\n  \"id\": \"1\",\r\n  \"result\": {\r\n    \"accessList\": [\r\n      {\r\n        \"address\": \"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48\",\r\n        \"storageKeys\": [\r\n          \"0x4876d605bd5e6e7f5a45e688681a94dd85e86558b46ea212b6f09b4ece144c9d\",\r\n          \"0x96736379929029d2c97f019f708bc9f9a493a9cacb216e33cad5a848c7a0bffc\",\r\n          \"0x48cbc36d213887bf11243feaa2e5bdd8215bfa4f86aa18fba1159f9183760320\",\r\n          \"0x5bdb10390058f3076c9a00b47cea9d46dcefec77016c4920581d1704baa4afb5\",\r\n          \"0x10d6a54a4754c8869d6886b5f5d7fbfa5b4522237ea5c60d11bc4e7a1ff9390b\",\r\n          \"0x7050c9e0f4ca769c69bd3a8ef740bc37934f8e2c036e5a723fd8ee048ed3f8c3\",\r\n          \"0x0000000000000000000000000000000000000000000000000000000000000001\"\r\n        ]\r\n      },\r\n      {\r\n        \"address\": \"0xa2327a938febf5fec13bacfb16ae10ecbc4cbdcf\",\r\n        \"storageKeys\": null\r\n      }\r\n    ],\r\n    \"gasUsed\": \"0x10699\"\r\n  }\r\n}\r\n```\r\n\r\n#### Steps to reproduce the behaviour\r\n\r\ncall this on Mainnet\r\n\r\n```\r\ncurl --location --request POST 'http://127.0.0.1:8545' \\\r\n--header 'Content-Type: application/json' \\\r\n--data-raw '{\r\n    \"id\": \"1\",\r\n    \"jsonrpc\": \"2.0\",\r\n    \"method\": \"eth_createAccessList\",\r\n    \"params\": [\r\n        {\r\n            \"from\": \"0x6cc8dcbca746a6e4fdefb98e1d0df903b107fd21\",\r\n            \"to\": \"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48\",\r\n            \"gas\": \"0x186a0\",\r\n            \"gasPrice\": \"0x0\",\r\n            \"data\": \"0xa9059cbb0000000000000000000000000c6e73a95e7360f1e4369af08c744c5f6f721c890000000000000000000000000000000000000000000000000000000058a1d1c0\"\r\n        }\r\n    ]\r\n}'\r\n```\r\n\r\n#### Backtrace\r\n\r\n````\r\n[backtrace]\r\n````\r\n\r\nWhen submitting logs: please submit them as text and not screenshots.",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23233/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23233/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/882463206",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23233#issuecomment-882463206",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23233",
    "id": 882463206,
    "node_id": "IC_kwDOAOvK9840mVHm",
    "user": {
      "login": "MariusVanDerWijden",
      "id": 16664698,
      "node_id": "MDQ6VXNlcjE2NjY0Njk4",
      "avatar_url": "https://avatars.githubusercontent.com/u/16664698?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MariusVanDerWijden",
      "html_url": "https://github.com/MariusVanDerWijden",
      "followers_url": "https://api.github.com/users/MariusVanDerWijden/followers",
      "following_url": "https://api.github.com/users/MariusVanDerWijden/following{/other_user}",
      "gists_url": "https://api.github.com/users/MariusVanDerWijden/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MariusVanDerWijden/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MariusVanDerWijden/subscriptions",
      "organizations_url": "https://api.github.com/users/MariusVanDerWijden/orgs",
      "repos_url": "https://api.github.com/users/MariusVanDerWijden/repos",
      "events_url": "https://api.github.com/users/MariusVanDerWijden/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MariusVanDerWijden/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-19T11:12:54Z",
    "updated_at": "2021-07-19T11:12:54Z",
    "author_association": "MEMBER",
    "body": "What do you expect to be different here? We're returning null instead of `[]`, I think that is okay, no?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/882463206/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/882469885",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23233#issuecomment-882469885",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23233",
    "id": 882469885,
    "node_id": "IC_kwDOAOvK9840mWv9",
    "user": {
      "login": "ghost",
      "id": 10137,
      "node_id": "MDQ6VXNlcjEwMTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ghost",
      "html_url": "https://github.com/ghost",
      "followers_url": "https://api.github.com/users/ghost/followers",
      "following_url": "https://api.github.com/users/ghost/following{/other_user}",
      "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
      "organizations_url": "https://api.github.com/users/ghost/orgs",
      "repos_url": "https://api.github.com/users/ghost/repos",
      "events_url": "https://api.github.com/users/ghost/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ghost/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-19T11:22:36Z",
    "updated_at": "2021-07-19T11:22:36Z",
    "author_association": "NONE",
    "body": "I just edited my comment, I think, if an item in accessList has no storageKeys, it should not be included in accessList",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/882469885/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/882471464",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23233#issuecomment-882471464",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23233",
    "id": 882471464,
    "node_id": "IC_kwDOAOvK9840mXIo",
    "user": {
      "login": "ghost",
      "id": 10137,
      "node_id": "MDQ6VXNlcjEwMTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ghost",
      "html_url": "https://github.com/ghost",
      "followers_url": "https://api.github.com/users/ghost/followers",
      "following_url": "https://api.github.com/users/ghost/following{/other_user}",
      "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
      "organizations_url": "https://api.github.com/users/ghost/orgs",
      "repos_url": "https://api.github.com/users/ghost/repos",
      "events_url": "https://api.github.com/users/ghost/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ghost/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-19T11:25:06Z",
    "updated_at": "2021-07-19T11:25:06Z",
    "author_association": "NONE",
    "body": "ok, just read eip-2930, it's valid.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/882471464/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
