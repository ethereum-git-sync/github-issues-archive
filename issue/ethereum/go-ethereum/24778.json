{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24778",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24778/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24778/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24778/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/24778",
  "id": 1217527196,
  "node_id": "I_kwDOAOvK985Ikf2c",
  "number": 24778,
  "title": "BPM and ETA on snap sync",
  "user": {
    "login": "morphex",
    "id": 1617867,
    "node_id": "MDQ6VXNlcjE2MTc4Njc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1617867?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/morphex",
    "html_url": "https://github.com/morphex",
    "followers_url": "https://api.github.com/users/morphex/followers",
    "following_url": "https://api.github.com/users/morphex/following{/other_user}",
    "gists_url": "https://api.github.com/users/morphex/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/morphex/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/morphex/subscriptions",
    "organizations_url": "https://api.github.com/users/morphex/orgs",
    "repos_url": "https://api.github.com/users/morphex/repos",
    "events_url": "https://api.github.com/users/morphex/events{/privacy}",
    "received_events_url": "https://api.github.com/users/morphex/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 72233652,
      "node_id": "MDU6TGFiZWw3MjIzMzY1Mg==",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:feature",
      "name": "type:feature",
      "color": "84b6eb",
      "default": false,
      "description": null
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2022-04-27T15:33:22Z",
  "updated_at": "2022-05-11T14:18:29Z",
  "closed_at": "2022-05-11T14:18:29Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "# Rationale\r\n\r\nWhy should this feature exist?\r\n\r\nIt's nice to see ca when the node is done syncing, and current performance.\r\n\r\nWhat are the use-cases?\r\n\r\nClient-side use of the node as a query and development server, in relation to this issue:\r\n\r\nhttps://github.com/ethereum/go-ethereum/issues/24768\r\n\r\n# Implementation\r\n\r\nDo you have ideas regarding the implementation of this feature?\r\n\r\nShould be fairly straightforward.\r\n\r\nAre you willing to implement this feature?\r\n\r\nNo.  I have too much other stuff going on.",
  "closed_by": {
    "login": "holiman",
    "id": 142290,
    "node_id": "MDQ6VXNlcjE0MjI5MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/holiman",
    "html_url": "https://github.com/holiman",
    "followers_url": "https://api.github.com/users/holiman/followers",
    "following_url": "https://api.github.com/users/holiman/following{/other_user}",
    "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
    "organizations_url": "https://api.github.com/users/holiman/orgs",
    "repos_url": "https://api.github.com/users/holiman/repos",
    "events_url": "https://api.github.com/users/holiman/events{/privacy}",
    "received_events_url": "https://api.github.com/users/holiman/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24778/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24778/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1111156703",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/24778#issuecomment-1111156703",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24778",
    "id": 1111156703,
    "node_id": "IC_kwDOAOvK985COuff",
    "user": {
      "login": "morphex",
      "id": 1617867,
      "node_id": "MDQ6VXNlcjE2MTc4Njc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1617867?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/morphex",
      "html_url": "https://github.com/morphex",
      "followers_url": "https://api.github.com/users/morphex/followers",
      "following_url": "https://api.github.com/users/morphex/following{/other_user}",
      "gists_url": "https://api.github.com/users/morphex/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/morphex/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/morphex/subscriptions",
      "organizations_url": "https://api.github.com/users/morphex/orgs",
      "repos_url": "https://api.github.com/users/morphex/repos",
      "events_url": "https://api.github.com/users/morphex/events{/privacy}",
      "received_events_url": "https://api.github.com/users/morphex/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-04-27T15:41:08Z",
    "updated_at": "2022-04-27T15:41:08Z",
    "author_association": "NONE",
    "body": "I guess I got a bit ahead of myself there.\r\n\r\nThe most useful thing would probably be output in the log, stating that a transaction was not found, and the reason why (txlookuplimit / node not fully synced) etc.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1111156703/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1113285898",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/24778#issuecomment-1113285898",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24778",
    "id": 1113285898,
    "node_id": "IC_kwDOAOvK985CW2UK",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-04-29T13:03:01Z",
    "updated_at": "2022-04-29T13:03:01Z",
    "author_association": "MEMBER",
    "body": "Naps sync does log an ETA for the first phase:\r\n\r\n```\r\nINFO [04-29|12:56:32.924] State sync in progress                   synced=57.49% state=96.24GiB   accounts=99,870,455@22.70GiB slots=357,946,914@71.61GiB codes=342,879@1.94GiB    eta=2h4m56.981s\r\n```\r\n\r\nI.e. last field.\r\n\r\nThe healing phase is more problematic, as we don't know how much data changed i between (generally, the slower you sync, the more data that needs to be fixed). There's no way to put an ETA on this with the current protocol specs (and maintaining the ability would be prohibitively expensive with the trie).\r\n\r\nBut given the ETA for the state phase and the fairly good stability of the chain sync phase, it should give you a generally useful idea of when you node will be done. Probably not good enough for an automated process, but there you can keep watching the head to prevent firing RPC requests before it's done.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1113285898/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1114062265",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/24778#issuecomment-1114062265",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24778",
    "id": 1114062265,
    "node_id": "IC_kwDOAOvK985CZz25",
    "user": {
      "login": "morphex",
      "id": 1617867,
      "node_id": "MDQ6VXNlcjE2MTc4Njc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1617867?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/morphex",
      "html_url": "https://github.com/morphex",
      "followers_url": "https://api.github.com/users/morphex/followers",
      "following_url": "https://api.github.com/users/morphex/following{/other_user}",
      "gists_url": "https://api.github.com/users/morphex/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/morphex/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/morphex/subscriptions",
      "organizations_url": "https://api.github.com/users/morphex/orgs",
      "repos_url": "https://api.github.com/users/morphex/repos",
      "events_url": "https://api.github.com/users/morphex/events{/privacy}",
      "received_events_url": "https://api.github.com/users/morphex/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-04-30T22:11:06Z",
    "updated_at": "2022-04-30T22:11:06Z",
    "author_association": "NONE",
    "body": "OK. I would think that a verbose and proper feedback to the user (sysadmin) would be good for Ethereum in general as well, as it is easier to know what's going on, and what needs to be fixed.\r\n\r\nI think more than one person has been frustrated by the syncing process and lack of feedback, meaning less people are running a node than what there could have been. And nodes are a backbone and an important part of the security of Ethereum, aren't they?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1114062265/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1123833537",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/24778#issuecomment-1123833537",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24778",
    "id": 1123833537,
    "node_id": "IC_kwDOAOvK985C_FbB",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-11T14:18:29Z",
    "updated_at": "2022-05-11T14:18:29Z",
    "author_association": "MEMBER",
    "body": "It would be awesome to provide ETA on snap sync. We do what we can, which is better than what was possible with fast-sync, but it's still a phase towards the end which is simply not easily estimated. \r\n\r\nKind of the only way to even _try_ to estimate it would be to build some very complex estimator based on heuristics over time, and it would still be a pretty large error-factor in it. \r\n\r\nI don't think this ticket is actionable (we know if the desire, we've heard it before, we agree, but we cannot fix it), so I'm closing this. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1123833537/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
