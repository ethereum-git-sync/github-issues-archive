{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20912",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20912/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20912/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20912/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/20912",
  "id": 599410817,
  "node_id": "MDU6SXNzdWU1OTk0MTA4MTc=",
  "number": 20912,
  "title": "Fatal: Error starting protocol stack: gap (#808500) in the chain between ancients and leveldb",
  "user": {
    "login": "teruyukisaito",
    "id": 61681505,
    "node_id": "MDQ6VXNlcjYxNjgxNTA1",
    "avatar_url": "https://avatars.githubusercontent.com/u/61681505?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/teruyukisaito",
    "html_url": "https://github.com/teruyukisaito",
    "followers_url": "https://api.github.com/users/teruyukisaito/followers",
    "following_url": "https://api.github.com/users/teruyukisaito/following{/other_user}",
    "gists_url": "https://api.github.com/users/teruyukisaito/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/teruyukisaito/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/teruyukisaito/subscriptions",
    "organizations_url": "https://api.github.com/users/teruyukisaito/orgs",
    "repos_url": "https://api.github.com/users/teruyukisaito/repos",
    "events_url": "https://api.github.com/users/teruyukisaito/events{/privacy}",
    "received_events_url": "https://api.github.com/users/teruyukisaito/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1132754722,
      "node_id": "MDU6TGFiZWwxMTMyNzU0NzIy",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/need:more-information",
      "name": "need:more-information",
      "color": "db6fa3",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2020-04-14T09:02:13Z",
  "updated_at": "2021-02-24T08:38:57Z",
  "closed_at": "2020-05-23T20:41:53Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Hi there,\r\n\r\n#### System information\r\n\r\nGeth version: 1.9.12-stable-b6f1c8dc\r\nOS & Version: OSX\r\n\r\n#### Expected behaviour\r\nStart geth console\r\n\r\n#### Actual behaviour\r\nFatal: Error starting protocol stack: gap (#808500) in the chain between ancients and leveldb\r\n\r\n#### Steps to reproduce the behaviour\r\n$ geth --syncmode \"full\" --jitvm --cache=4096 --rpcapi admin,eth,net,web3,personal --datadir /Users/aaaa/Library/Ethereum/ 2>> /Users/aaaa/mainnet_data/e01.log &\r\n\r\n$ geth console\r\n\r\nAfter blockchain synchronization\r\n\r\n> miner.start(2)\r\n\r\n> exit\r\n\r\n$ geth --syncmode \"full\" --jitvm --cache=4096 --rpcapi admin,eth,net,web3,personal --datadir /Users/aaaa/Library/Ethereum/ 2>> /Users/aaaa/mainnet_data/e01.log &\r\n\r\n$ geth console\r\n\r\nFatal: Error starting protocol stack: gap (#808500) in the chain between ancients and leveldb\r\n\r\n#### What you want to check\r\n\r\nIt's a coincidence, but I feel that the leveldb went wrong due to the exit.\r\nIsn't geth supposed to exit in the first place?\r\n\r\nI want you to tell me how to finish properly",
  "closed_by": {
    "login": "no-response[bot]",
    "id": 32965360,
    "node_id": "MDM6Qm90MzI5NjUzNjA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/26350515?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/no-response%5Bbot%5D",
    "html_url": "https://github.com/apps/no-response",
    "followers_url": "https://api.github.com/users/no-response%5Bbot%5D/followers",
    "following_url": "https://api.github.com/users/no-response%5Bbot%5D/following{/other_user}",
    "gists_url": "https://api.github.com/users/no-response%5Bbot%5D/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/no-response%5Bbot%5D/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/no-response%5Bbot%5D/subscriptions",
    "organizations_url": "https://api.github.com/users/no-response%5Bbot%5D/orgs",
    "repos_url": "https://api.github.com/users/no-response%5Bbot%5D/repos",
    "events_url": "https://api.github.com/users/no-response%5Bbot%5D/events{/privacy}",
    "received_events_url": "https://api.github.com/users/no-response%5Bbot%5D/received_events",
    "type": "Bot",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20912/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20912/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/618261413",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/20912#issuecomment-618261413",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20912",
    "id": 618261413,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxODI2MTQxMw==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-23T08:32:26Z",
    "updated_at": "2020-04-23T08:32:26Z",
    "author_association": "MEMBER",
    "body": "Hmm, the commands you specified are invalid, there's no such thing as `--jitvm` for the past 4 years. The CLI will reject it: \r\n\r\n```\r\n$ geth --jitvm\r\nflag provided but not defined: -jitvm\r\n```\r\n\r\nAll in all that error means that your leveldb database (which stores the recent chain pieces) and the ancient database (which stores the old chain segments) don't match up. You either misconfigured your flags and leveldb and ancients point to mismatching chains, or somehow your databases are fried. If everything's correct, a resync will solve it.\r\n\r\nBtw, which network are you on?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/618261413/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/618261718",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/20912#issuecomment-618261718",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20912",
    "id": 618261718,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxODI2MTcxOA==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-23T08:33:00Z",
    "updated_at": "2020-04-23T08:33:00Z",
    "author_association": "MEMBER",
    "body": "Could you provide some logs that Geth prints? Was Geth in sync previously and it crashed?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/618261718/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/633136151",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/20912#issuecomment-633136151",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20912",
    "id": 633136151,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzMzEzNjE1MQ==",
    "user": {
      "login": "no-response[bot]",
      "id": 32965360,
      "node_id": "MDM6Qm90MzI5NjUzNjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/26350515?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/no-response%5Bbot%5D",
      "html_url": "https://github.com/apps/no-response",
      "followers_url": "https://api.github.com/users/no-response%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/no-response%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/no-response%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/no-response%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/no-response%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/no-response%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/no-response%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/no-response%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/no-response%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2020-05-23T20:41:51Z",
    "updated_at": "2020-05-23T20:41:51Z",
    "author_association": "NONE",
    "body": "This issue has been automatically closed because there has been no response to our request for more information from the original author. With only the information that is currently in the issue, we don't have enough information to take action. Please reach out if you have more relevant information or answers to our questions so that we can investigate further.\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/633136151/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/657262316",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/20912#issuecomment-657262316",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20912",
    "id": 657262316,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1NzI2MjMxNg==",
    "user": {
      "login": "hmajidy2001",
      "id": 4723263,
      "node_id": "MDQ6VXNlcjQ3MjMyNjM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4723263?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hmajidy2001",
      "html_url": "https://github.com/hmajidy2001",
      "followers_url": "https://api.github.com/users/hmajidy2001/followers",
      "following_url": "https://api.github.com/users/hmajidy2001/following{/other_user}",
      "gists_url": "https://api.github.com/users/hmajidy2001/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hmajidy2001/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hmajidy2001/subscriptions",
      "organizations_url": "https://api.github.com/users/hmajidy2001/orgs",
      "repos_url": "https://api.github.com/users/hmajidy2001/repos",
      "events_url": "https://api.github.com/users/hmajidy2001/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hmajidy2001/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-07-12T19:05:48Z",
    "updated_at": "2020-07-12T19:05:48Z",
    "author_association": "NONE",
    "body": "I am also getting this error with geth 1.9.16 stable and unable to recover. Is the only option to dump dbs and start over?\r\nError message:\r\nFatal: Error starting protocol stack: gap (#5861013) in the chain between ancients and leveldb",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/657262316/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/784907128",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/20912#issuecomment-784907128",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20912",
    "id": 784907128,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4NDkwNzEyOA==",
    "user": {
      "login": "osizadmin",
      "id": 52325658,
      "node_id": "MDQ6VXNlcjUyMzI1NjU4",
      "avatar_url": "https://avatars.githubusercontent.com/u/52325658?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/osizadmin",
      "html_url": "https://github.com/osizadmin",
      "followers_url": "https://api.github.com/users/osizadmin/followers",
      "following_url": "https://api.github.com/users/osizadmin/following{/other_user}",
      "gists_url": "https://api.github.com/users/osizadmin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/osizadmin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/osizadmin/subscriptions",
      "organizations_url": "https://api.github.com/users/osizadmin/orgs",
      "repos_url": "https://api.github.com/users/osizadmin/repos",
      "events_url": "https://api.github.com/users/osizadmin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/osizadmin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-24T08:38:57Z",
    "updated_at": "2021-02-24T08:38:57Z",
    "author_association": "NONE",
    "body": "I am also getting same error while start fast syncmode ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/784907128/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
