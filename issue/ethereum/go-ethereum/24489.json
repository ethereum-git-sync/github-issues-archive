{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24489",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24489/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24489/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24489/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/24489",
  "id": 1155357128,
  "node_id": "I_kwDOAOvK985E3VnI",
  "number": 24489,
  "title": "Go-ethereum client restarted [Docker]",
  "user": {
    "login": "AliakseiMalyshau",
    "id": 91066845,
    "node_id": "MDQ6VXNlcjkxMDY2ODQ1",
    "avatar_url": "https://avatars.githubusercontent.com/u/91066845?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/AliakseiMalyshau",
    "html_url": "https://github.com/AliakseiMalyshau",
    "followers_url": "https://api.github.com/users/AliakseiMalyshau/followers",
    "following_url": "https://api.github.com/users/AliakseiMalyshau/following{/other_user}",
    "gists_url": "https://api.github.com/users/AliakseiMalyshau/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/AliakseiMalyshau/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/AliakseiMalyshau/subscriptions",
    "organizations_url": "https://api.github.com/users/AliakseiMalyshau/orgs",
    "repos_url": "https://api.github.com/users/AliakseiMalyshau/repos",
    "events_url": "https://api.github.com/users/AliakseiMalyshau/events{/privacy}",
    "received_events_url": "https://api.github.com/users/AliakseiMalyshau/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 72233650,
      "node_id": "MDU6TGFiZWw3MjIzMzY1MA==",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:bug",
      "name": "type:bug",
      "color": "FF5E5E",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2022-03-01T13:43:33Z",
  "updated_at": "2022-05-16T14:45:10Z",
  "closed_at": "2022-05-16T14:45:10Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nGeth version: `ethereum/client-go:v1.10.16`\r\nOS & Version: Linux (Ubuntu 20.04 LTS)\r\nCommit hash : not develop\r\n\r\n#### Expected behaviour\r\n\r\nGeth client works correctly.\r\n\r\n#### Actual behaviour\r\n\r\nSometimes Geth client is restarting itself and go down on 5000 - 10000 blocks. I don't know why, logs provided below.\r\n\r\n#### Steps to reproduce the behaviour\r\n\r\n1. Start Geth client via Docker\r\n2. Waiting full sync, Geth client is continuing to watch last blocks\r\n3. Geth restart after 4 - 5 days and again...\r\n\r\n#### Backtrace\r\n\r\n03.01.2022 - Geth service was restarted, now works correctly\r\n\r\nLast logs:\r\n\r\n```\r\nINFO [03-01|11:42:53.355] Imported new chain segment               blocks=1    txs=22        mgas=1.451   elapsed=336.360ms   mgasps=4.313   number=14,300,899 hash=ac7ad3..f2e93f dirty=1.30GiB\r\nINFO [03-01|11:42:53.362] Unindexed transactions                   blocks=1    txs=355       tail=11,950,900 elapsed=6.216ms\r\nINFO [03-01|11:43:30.485] Deep froze chain segment                 blocks=2    elapsed=42.421ms    number=14,210,899 hash=5ff3e4..e51ea0\r\nINFO [03-01|11:43:53.173] Imported new chain segment               blocks=1    txs=230       mgas=14.316  elapsed=705.583ms   mgasps=20.290  number=14,300,900 hash=3fbf58..384537 age=1m1s      dirty=1.30GiB\r\nINFO [03-01|11:43:53.190] Unindexed transactions                   blocks=1    txs=197       tail=11,950,901 elapsed=5.191ms\r\nINFO [03-01|11:44:04.504] Imported new chain segment               blocks=1    txs=328       mgas=29.953  elapsed=1.917s      mgasps=15.617  number=14,300,901 hash=adff0c..fb9885 dirty=1.30GiB\r\nINFO [03-01|11:44:04.568] Unindexed transactions                   blocks=1    txs=108       tail=11,950,902 elapsed=39.448ms\r\nINFO [03-01|11:44:07.751] Imported new chain segment               blocks=1    txs=74        mgas=10.697  elapsed=2.232s      mgasps=4.791   number=14,300,902 hash=614004..f5abfa dirty=1.30GiB\r\nINFO [03-01|11:44:07.830] Unindexed transactions                   blocks=1    txs=130       tail=11,950,903 elapsed=40.766ms\r\nINFO [03-01|11:44:08.367] Imported new chain segment               blocks=1    txs=19        mgas=1.725   elapsed=482.146ms   mgasps=3.579   number=14,300,903 hash=f84fac..7e8d1a dirty=1.30GiB\r\nINFO [03-01|11:44:08.418] Unindexed transactions                   blocks=1    txs=0         tail=11,950,904 elapsed=40.010ms\r\nINFO [03-01|11:44:13.263] Imported new chain segment               blocks=1    txs=41        mgas=2.667   elapsed=732.781ms   mgasps=3.639   number=14,300,904 hash=37856f..a3d66d dirty=1.30GiB\r\nINFO [03-01|11:44:13.360] Unindexed transactions                   blocks=1    txs=214       tail=11,950,905 elapsed=62.436ms\r\nINFO [03-01|11:44:14.194] Imported new chain segment               blocks=1    txs=73        mgas=4.888   elapsed=784.429ms   mgasps=6.231   number=14,300,904 hash=6094c1..5f0dc2 dirty=1.30GiB\r\nINFO [03-01|11:44:27.893] Downloader queue stats                   receiptTasks=0 blockTasks=0 itemSize=63.40KiB  throttle=4135\r\nINFO [03-01|11:44:28.261] Imported new chain segment               blocks=1    txs=355       mgas=29.991  elapsed=2.558s      mgasps=11.721  number=14,300,905 hash=89273b..ad7cae dirty=1.30GiB\r\nINFO [03-01|11:44:28.411] Unindexed transactions                   blocks=1    txs=323       tail=11,950,906 elapsed=119.632ms\r\nINFO [03-01|11:44:28.474] Imported new chain segment               blocks=1    txs=355       mgas=0.000   elapsed=178.418ms   mgasps=0.000   number=14,300,906 hash=35ce80..9d41a2 dirty=1.30GiB    ignored=1\r\nINFO [03-01|11:44:28.581] Unindexed transactions                   blocks=1    txs=241       tail=11,950,907 elapsed=96.175ms\r\nINFO [03-01|11:44:30.924] Deep froze chain segment                 blocks=7    elapsed=429.672ms   number=14,210,906 hash=bb64b2..f1ca0a\r\nINFO [03-01|11:44:31.786] Imported new chain segment               blocks=1    txs=45        mgas=3.372   elapsed=856.496ms   mgasps=3.937   number=14,300,907 hash=7d6ea6..aa17ea dirty=1.30GiB\r\nINFO [03-01|11:44:31.878] Unindexed transactions                   blocks=1    txs=203       tail=11,950,908 elapsed=62.610ms\r\nINFO [03-01|11:44:32.068] Imported new chain segment               blocks=1    txs=42        mgas=1.488   elapsed=251.506ms   mgasps=5.918   number=14,300,907 hash=2e8896..54523d dirty=1.30GiB\r\nINFO [03-01|11:44:42.982] Chain reorg detected                     number=14,300,906 hash=35ce80..9d41a2 drop=1 dropfrom=7d6ea6..aa17ea add=2 addfrom=98c7ec..3b3b15\r\nINFO [03-01|11:44:42.988] Imported new chain segment               blocks=1    txs=224       mgas=28.581  elapsed=3.018s      mgasps=9.468   number=14,300,908 hash=98c7ec..3b3b15 dirty=1.30GiB\r\nINFO [03-01|11:44:42.994] Unindexed transactions                   blocks=1    txs=192       tail=11,950,909 elapsed=6.005ms\r\nINFO [03-01|11:44:46.037] Imported new chain segment               blocks=1    txs=24        mgas=1.146   elapsed=143.714ms   mgasps=7.972   number=14,300,909 hash=a0344c..b29d55 dirty=1.30GiB\r\nINFO [03-01|11:44:46.039] Unindexed transactions                   blocks=1    txs=176       tail=11,950,910 elapsed=1.802ms\r\nINFO [03-01|11:45:05.562] Imported new chain segment               blocks=1    txs=324       mgas=30.040  elapsed=3.668s      mgasps=8.188   number=14,300,910 hash=555770..ff7a14 dirty=1.30GiB\r\nINFO [03-01|11:45:05.656] Unindexed transactions                   blocks=1    txs=171       tail=11,950,911 elapsed=63.083ms\r\nINFO [03-01|11:45:07.317] Imported new chain segment               blocks=1    txs=371       mgas=10.969  elapsed=1.723s      mgasps=6.365   number=14,300,911 hash=e36e8c..756635 dirty=1.30GiB    ignored=1\r\nINFO [03-01|11:45:07.420] Unindexed transactions                   blocks=1    txs=84        tail=11,950,912 elapsed=64.486ms\r\nINFO [03-01|11:45:07.750] Imported new chain segment               blocks=1    txs=21        mgas=1.356   elapsed=258.066ms   mgasps=5.256   number=14,300,912 hash=6d810d..8d7ee2 dirty=1.30GiB\r\nINFO [03-01|11:45:07.783] Unindexed transactions                   blocks=1    txs=242       tail=11,950,913 elapsed=31.690ms\r\nINFO [03-01|11:45:14.154] Imported new chain segment               blocks=1    txs=165       mgas=19.700  elapsed=392.442ms   mgasps=50.199  number=14,300,913 hash=1c3840..63f624 dirty=1.30GiB\r\nINFO [03-01|11:45:14.160] Unindexed transactions                   blocks=1    txs=175       tail=11,950,914 elapsed=3.361ms\r\nINFO [03-01|11:45:28.084] Imported new chain segment               blocks=1    txs=166       mgas=14.273  elapsed=1.867s      mgasps=7.641   number=14,300,914 hash=39adb3..48684f dirty=1.30GiB\r\nINFO [03-01|11:45:28.128] Unindexed transactions                   blocks=1    txs=110       tail=11,950,915 elapsed=35.009ms\r\nINFO [03-01|11:45:28.244] Imported new chain segment               blocks=1    txs=0         mgas=0.000   elapsed=86.718ms    mgasps=0.000   number=14,300,915 hash=44ff4a..a7bf79 dirty=1.30GiB\r\nINFO [03-01|11:45:28.254] Unindexed transactions                   blocks=1    txs=114       tail=11,950,916 elapsed=9.685ms\r\nINFO [03-01|11:45:29.987] Downloader queue stats                   receiptTasks=0 blockTasks=0 itemSize=57.82KiB  throttle=4534\r\nINFO [03-01|11:45:34.374] Deep froze chain segment                 blocks=9    elapsed=148.618ms   number=14,210,915 hash=6f3429..981b5b\r\nINFO [03-01|11:45:58.812] Imported new chain segment               blocks=1    txs=342       mgas=30.059  elapsed=5.925s      mgasps=5.073   number=14,300,916 hash=f9284d..22292e dirty=1.30GiB\r\nINFO [03-01|11:45:58.831] Unindexed transactions                   blocks=1    txs=228       tail=11,950,917 elapsed=11.834ms\r\nINFO [03-01|11:46:10.292] Imported new chain segment               blocks=1    txs=157       mgas=16.509  elapsed=714.080ms   mgasps=23.119  number=14,300,917 hash=c15937..1ac01f dirty=1.30GiB\r\nINFO [03-01|11:46:10.300] Unindexed transactions                   blocks=1    txs=174       tail=11,950,918 elapsed=7.557ms\r\nINFO [03-01|11:46:19.024] Imported new chain segment               blocks=1    txs=212       mgas=27.938  elapsed=1.629s      mgasps=17.145  number=14,300,918 hash=c7f0b3..7f937e dirty=1.30GiB\r\nINFO [03-01|11:46:19.037] Unindexed transactions                   blocks=1    txs=130       tail=11,950,919 elapsed=4.053ms\r\nINFO [03-01|11:46:34.443] Deep froze chain segment                 blocks=3    elapsed=67.382ms    number=14,210,918 hash=245d85..b9a634\r\nINFO [03-01|11:47:08.437] Imported new chain segment               blocks=1    txs=330       mgas=30.073  elapsed=1.379s      mgasps=21.804  number=14,300,919 hash=cbbe54..6bc180 dirty=1.30GiB\r\nINFO [03-01|11:47:08.450] Unindexed transactions                   blocks=1    txs=118       tail=11,950,920 elapsed=6.977ms\r\nINFO [03-01|11:47:56.465] Starting Geth on Ethereum mainnet... \r\nWARN [03-01|11:47:56.478] Config field is deprecated and won't have an effect name=ethconfig.Config.EVMInterpreter\r\nWARN [03-01|11:47:56.480] Config field is deprecated and won't have an effect name=ethconfig.Config.EWASMInterpreter\r\nINFO [03-01|11:47:56.483] Maximum peer count                       ETH=100 LES=0 total=100\r\nINFO [03-01|11:47:56.487] Smartcard socket not found, disabling    err=\"stat /run/pcscd/pcscd.comm: no such file or directory\"\r\nWARN [03-01|11:47:56.487] Option nousb is deprecated and USB is deactivated by default. Use --usb to enable \r\nWARN [03-01|11:47:56.495] Sanitizing cache to Go's GC limits       provided=8192 updated=5333\r\nINFO [03-01|11:47:56.495] Set global gas cap                       cap=50,000,000\r\nINFO [03-01|11:47:56.495] Allocated trie memory caches             clean=799.00MiB dirty=1.30GiB\r\nINFO [03-01|11:47:56.496] Allocated cache and file handles         database=/data/archive/geth/chaindata cache=2.60GiB handles=524,288\r\nINFO [03-01|11:48:16.170] Opened ancient database                  database=/data/archive/geth/chaindata/ancient readonly=false\r\nINFO [03-01|11:48:16.199] Initialised chain configuration          config=\"{ChainID: 1 Homestead: 1150000 DAO: 1920000 DAOSupport: true EIP150: 2463000 EIP155: 2675000 EIP158: 2675000 Byzantium: 4370000 Constantinople: 7280000 Petersburg: 7280000 Istanbul: 9069000, Muir Glacier: 9200000, Berlin: 12244000, London: 12965000, Arrow Glacier: 13773000, MergeFork: <nil>, Engine: ethash}\"\r\nINFO [03-01|11:48:33.679] Disk storage enabled for ethash caches   dir=/data/archive/geth/ethash count=3\r\nINFO [03-01|11:48:33.679] Disk storage enabled for ethash DAGs     dir=/home/ec2-user/.ethash    count=2\r\nINFO [03-01|11:48:33.693] Initialising Ethereum protocol           network=1 dbversion=8\r\nINFO [03-01|11:48:37.237] Loaded most recent local header          number=14,300,919 hash=cbbe54..6bc180 td=42,695,267,489,732,293,515,357 age=2m19s\r\nINFO [03-01|11:48:37.238] Loaded most recent local full block      number=14,300,919 hash=cbbe54..6bc180 td=42,695,267,489,732,293,515,357 age=2m19s\r\nINFO [03-01|11:48:37.238] Loaded most recent local fast block      number=14,300,919 hash=cbbe54..6bc180 td=42,695,267,489,732,293,515,357 age=2m19s\r\nWARN [03-01|11:48:37.265] Head state missing, repairing            number=14,300,919 hash=cbbe54..6bc180 snaproot=19b46a..3a3125\r\nINFO [03-01|11:49:45.536] Loaded most recent local header          number=14,300,919 hash=cbbe54..6bc180 td=42,695,267,489,732,293,515,357 age=3m27s\r\nINFO [03-01|11:49:45.536] Loaded most recent local full block      number=14,293,445 hash=2dc616..042b5d td=42,600,097,850,582,694,392,169 age=1d3h43m\r\nINFO [03-01|11:49:45.536] Loaded most recent local fast block      number=14,300,919 hash=cbbe54..6bc180 td=42,695,267,489,732,293,515,357 age=3m27s\r\nWARN [03-01|11:49:45.546] Enabling snapshot recovery               chainhead=14,293,445 diskbase=14,300,693\r\nWARN [03-01|11:49:45.583] Loaded snapshot journal                  diskroot=19b46a..3a3125 diffs=unmatched\r\nWARN [03-01|11:49:45.584] Snapshot is not continuous with chain    snaproot=19b46a..3a3125 chainroot=97a09d..a37891\r\nINFO [03-01|11:49:45.584] Loaded local transaction journal         transactions=0 dropped=0\r\nINFO [03-01|11:49:45.585] Regenerated local transaction journal    transactions=0 accounts=0\r\nWARN [03-01|11:49:45.586] Sanitizing invalid gasprice oracle price cap provided=<nil> updated=500,000,000,000\r\nWARN [03-01|11:49:45.586] Sanitizing invalid gasprice oracle ignore price provided=<nil> updated=2\r\nWARN [03-01|11:49:45.586] Sanitizing invalid gasprice oracle max header history provided=0     updated=1\r\nWARN [03-01|11:49:45.586] Sanitizing invalid gasprice oracle max block history provided=0     updated=1\r\nWARN [03-01|11:49:45.586] Unclean shutdown detected                booted=2021-04-26T06:32:51+0000 age=10mo1w2d\r\nWARN [03-01|11:49:45.586] Unclean shutdown detected                booted=2021-11-29T08:07:09+0000 age=3mo2d3h\r\nWARN [03-01|11:49:45.586] Unclean shutdown detected                booted=2022-02-24T13:23:28+0000 age=4d22h26m\r\nWARN [03-01|11:49:45.586] Unclean shutdown detected                booted=2022-03-01T11:44:04+0000 age=5m41s\r\nINFO [03-01|11:49:45.586] Starting peer-to-peer node               instance=Geth/v1.10.16-stable-20356e57/linux-amd64/go1.17.7\r\nINFO [03-01|11:49:45.947] New local node record                    seq=34 id=f3b258759275df70 ip=127.0.0.1 udp=30303 tcp=30303\r\nINFO [03-01|11:49:45.950] Started P2P networking                   self=enode://6148c2d48f75179890105d4cc6fd3ae149014e8e251c58c60d8171cfa63fc7a46ef550bf1cd18bc683eb4d39c425f8cd9930f95b4bc1abd9cd6702474d85a564@127.0.0.1:30303\r\nINFO [03-01|11:49:45.952] IPC endpoint opened                      url=/data/archive/geth.ipc\r\nERROR[03-01|11:49:45.952] Unavailable modules in HTTP API list     unavailable=[shh] available=\"[admin debug web3 eth txpool personal ethash miner net]\"\r\nERROR[03-01|11:49:45.952] Unavailable modules in HTTP API list     unavailable=[network] available=\"[admin debug web3 eth txpool personal ethash miner net]\"\r\nINFO [03-01|11:49:45.953] HTTP server started                      endpoint=[::]:8545 prefix= cors= vhosts=*\r\nINFO [03-01|11:49:45.953] WebSocket enabled                        url=ws://[::]:8546\r\nERROR[03-01|11:49:49.614] Snapshot extension registration failed   peer=62ceb17d err=\"peer connected on snap without compatible eth support\"\r\nINFO [03-01|11:49:54.446] New local node record                    seq=35 id=f3b258759275df70 ip=127.0.0.1 udp=30303 tcp=30303\r\nINFO [03-01|11:49:54.858] New local node record                    seq=36 id=f3b258759275df70 ip=34.132.104.120 udp=30303 tcp=30303\r\nERROR[03-01|11:49:55.400] Snapshot extension registration failed   peer=050d6d4d err=\"peer connected on snap without compatible eth support\"\r\nINFO [03-01|11:49:55.981] Looking for peers                        peercount=0 tried=19 static=0\r\nINFO [03-01|11:50:03.462] Block synchronisation started \r\nINFO [03-01|11:50:05.273] Downloader queue stats                   receiptTasks=0 blockTasks=7 itemSize=2.71KiB throttle=8192\r\nINFO [03-01|11:50:06.717] Looking for peers                        peercount=1 tried=22 static=0\r\nINFO [03-01|11:50:08.041] Importing heavy sidechain segment        blocks=855 start=14,293,446 end=14,294,300\r\nINFO [03-01|11:50:16.736] Looking for peers                        peercount=3 tried=41 static=0\r\nINFO [03-01|11:50:27.078] Looking for peers                        peercount=3 tried=32 static=0\r\nERROR[03-01|11:50:28.140] Snapshot extension registration failed   peer=e4e7c91d err=\"peer connected on snap without compatible eth support\"\r\nINFO [03-01|11:50:29.398] Imported new chain segment               blocks=1   txs=327 mgas=29.983 elapsed=21.356s mgasps=1.404 number=14,293,446 hash=bf60fd..c501b9 age=1d3h44m  dirty=3.26MiB\r\nINFO [03-01|11:50:37.397] Looking for peers                        peercount=3 tried=31 static=0\r\nINFO [03-01|11:50:42.630] Imported new chain segment               blocks=2   txs=936 mgas=41.619 elapsed=13.232s mgasps=3.145 number=14,293,448 hash=608c56..9b518d age=1d3h43m  dirty=8.42MiB\r\nERROR[03-01|11:50:46.867] Snapshot extension registration failed   peer=babce73b err=\"peer connected on snap without compatible eth support\"\r\nINFO [03-01|11:50:47.716] Looking for peers                        peercount=4 tried=34 static=0\r\nINFO [03-01|11:50:50.693] Imported new chain segment               blocks=2   txs=255 mgas=29.039 elapsed=8.062s  mgasps=3.602 number=14,293,450 hash=54e701..e943c3 age=1d3h43m  dirty=11.60MiB\r\nINFO [03-01|11:50:57.718] Looking for peers                        peercount=6 tried=29 static=0\r\nINFO [03-01|11:50:59.351] Imported new chain segment               blocks=2   txs=380 mgas=30.445 elapsed=8.657s  mgasps=3.516 number=14,293,452 hash=78f33c..5ab3af age=1d3h42m  dirty=15.42MiB\r\nERROR[03-01|11:51:02.565] Snapshot extension registration failed   peer=8f804229 err=\"peer connected on snap without compatible eth support\"\r\nERROR[03-01|11:51:06.302] Snapshot extension registration failed   peer=ac41e951 err=\"peer connected on snap without compatible eth support\"\r\nINFO [03-01|11:51:07.732] Looking for peers                        peercount=6 tried=34 static=0\r\nINFO [03-01|11:51:12.382] Imported new chain segment               blocks=4   txs=473 mgas=49.211 elapsed=13.031s mgasps=3.776 number=14,293,456 hash=284d97..203e8a age=1d3h42m  dirty=20.92MiB\r\nINFO [03-01|11:51:21.714] Imported new chain segment               blocks=2   txs=351 mgas=34.223 elapsed=9.331s  mgasps=3.667 number=14,293,458 hash=95ce04..ea7a7f age=1d3h42m  dirty=24.92MiB\r\nINFO [03-01|11:51:30.451] Imported new chain segment               blocks=3   txs=415 mgas=33.893 elapsed=8.736s  mgasps=3.879 number=14,293,461 hash=855798..351ba5 age=1d3h41m  dirty=28.91MiB\r\nERROR[03-01|11:51:34.855] Snapshot extension registration failed   peer=23b6fc04 err=\"peer connected on snap without compatible eth support\"\r\nINFO [03-01|11:51:38.715] Imported new chain segment               blocks=3   txs=316 mgas=36.018 elapsed=8.264s  mgasps=4.358 number=14,293,464 hash=0b577d..9522c2 age=1d3h41m  dirty=32.75MiB\r\nERROR[03-01|11:51:45.931] Snapshot extension registration failed   peer=466a6eeb err=\"peer connected on snap without compatible eth support\"\r\nINFO [03-01|11:51:52.543] Imported new chain segment               blocks=3   txs=499 mgas=61.412 elapsed=13.827s mgasps=4.441 number=14,293,467 hash=661c9b..882cf0 age=1d3h41m  dirty=38.76MiB\r\nINFO [03-01|11:52:00.801] Imported new chain segment               blocks=3   txs=322 mgas=33.657 elapsed=8.258s  mgasps=4.076 number=14,293,470 hash=8a5f02..72e676 age=1d3h40m  dirty=42.89MiB\r\nERROR[03-01|11:52:07.259] Snapshot extension registration failed   peer=e67f96f7 err=\"peer connected on snap without compatible eth support\"\r\nINFO [03-01|11:52:08.895] Imported new chain segment               blocks=2   txs=416 mgas=38.619 elapsed=8.093s  mgasps=4.771 number=14,293,472 hash=57ab68..d09a77 age=1d3h40m  dirty=47.28MiB\r\nINFO [03-01|11:52:23.036] Imported new chain segment               blocks=4   txs=571 mgas=55.892 elapsed=14.141s mgasps=3.952 number=14,293,476 hash=f1a813..59de20 age=1d3h40m  dirty=53.46MiB\r\nERROR[03-01|11:52:30.540] Snapshot extension registration failed   peer=836158fb err=\"peer connected on snap without compatible eth support\"\r\nINFO [03-01|11:52:31.934] Imported new chain segment               blocks=5   txs=609 mgas=59.253 elapsed=8.898s  mgasps=6.659 number=14,293,481 hash=98aa5d..d198bf age=1d3h39m  dirty=59.50MiB\r\nERROR[03-01|11:52:32.749] Snapshot extension registration failed   peer=ac41e951 err=\"peer connected on snap without compatible eth support\"\r\nERROR[03-01|11:52:40.230] Snapshot extension registration failed   peer=04d11e91 err=\"peer connected on snap without compatible eth support\"\r\nINFO [03-01|11:52:43.073] Imported new chain segment               blocks=3   txs=713 mgas=62.171 elapsed=11.138s mgasps=5.582 number=14,293,484 hash=54d29b..6930a8 age=1d3h39m  dirty=66.37MiB\r\nINFO [03-01|11:52:52.595] Imported new chain segment               blocks=2   txs=639 mgas=53.630 elapsed=9.522s  mgasps=5.632 number=14,293,486 hash=acca5e..bb0b7d age=1d3h39m  dirty=72.63MiB\r\nERROR[03-01|11:52:58.818] Snapshot extension registration failed   peer=a4da81c9 err=\"peer connected on snap without compatible eth support\"\r\nINFO [03-01|11:53:01.119] Imported new chain segment               blocks=2   txs=539 mgas=46.687 elapsed=8.523s  mgasps=5.477 number=14,293,488 hash=48c0ff..fe7680 age=1d3h38m  dirty=77.17MiB\r\nINFO [03-01|11:53:11.701] Imported new chain segment               blocks=3   txs=784 mgas=61.805 elapsed=10.581s mgasps=5.841 number=14,293,491 hash=3b080b..4dc22d age=1d3h37m  dirty=84.31MiB\r\nERROR[03-01|11:53:13.475] Snapshot extension registration failed   peer=9f423fb2 err=\"peer connected on snap without compatible eth support\"\r\nINFO [03-01|11:53:24.175] Imported new chain segment               blocks=4   txs=1192 mgas=64.846 elapsed=12.474s mgasps=5.198 number=14,293,495 hash=e2ec5d..88ca2f age=1d3h36m  dirty=92.05MiB\r\nERROR[03-01|11:53:28.061] Snapshot extension registration failed   peer=ac41e951 err=\"peer connected on snap without compatible eth support\"\r\nINFO [03-01|11:53:33.275] Imported new chain segment               blocks=7   txs=931  mgas=65.577 elapsed=9.099s  mgasps=7.206 number=14,293,502 hash=f96d38..4b1c72 age=1d3h35m  dirty=100.46MiB\r\nERROR[03-01|11:53:39.981] Snapshot extension registration failed   peer=c80e0469 err=\"peer connected on snap without compatible eth support\"\r\nINFO [03-01|11:53:44.099] Imported new chain segment               blocks=4   txs=775  mgas=80.212 elapsed=10.824s mgasps=7.410 number=14,293,506 hash=58eeb3..e24bc0 age=1d3h34m  dirty=108.55MiB\r\nERROR[03-01|11:53:45.267] Snapshot extension registration failed   peer=4e4c7155 err=\"peer connected on snap without compatible eth support\"\r\nINFO [03-01|11:53:52.411] Imported new chain segment               blocks=6   txs=810  mgas=65.449 elapsed=8.311s  mgasps=7.874 number=14,293,512 hash=74cb8d..ef14a2 age=1d3h33m  dirty=116.28MiB\r\nERROR[03-01|11:53:56.559] Snapshot extension registration failed   peer=8e8f345d err=\"peer connected on snap without compatible eth support\"\r\nINFO [03-01|11:54:00.496] Imported new chain segment               blocks=4   txs=610  mgas=45.866 elapsed=8.085s  mgasps=5.673 number=14,293,516 hash=21b63d..193267 age=1d3h32m  dirty=122.04MiB\r\nERROR[03-01|11:54:05.818] Snapshot extension registration failed   peer=ac41e951 err=\"peer connected on snap without compatible eth support\"\r\n```\r\n\r\n**One note here**: two - three weeks ago we migrated our node to the new server and did snapshot from chain data. Based on snapshot we created new disk and attached to the instance. How we do snapshot:\r\n\r\n- Stoped geth service\r\n- Turned off server\r\n- Create snapshot\r\n- Create disk based on snapshot\r\n- Attached to the new instance",
  "closed_by": {
    "login": "AliakseiMalyshau",
    "id": 91066845,
    "node_id": "MDQ6VXNlcjkxMDY2ODQ1",
    "avatar_url": "https://avatars.githubusercontent.com/u/91066845?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/AliakseiMalyshau",
    "html_url": "https://github.com/AliakseiMalyshau",
    "followers_url": "https://api.github.com/users/AliakseiMalyshau/followers",
    "following_url": "https://api.github.com/users/AliakseiMalyshau/following{/other_user}",
    "gists_url": "https://api.github.com/users/AliakseiMalyshau/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/AliakseiMalyshau/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/AliakseiMalyshau/subscriptions",
    "organizations_url": "https://api.github.com/users/AliakseiMalyshau/orgs",
    "repos_url": "https://api.github.com/users/AliakseiMalyshau/repos",
    "events_url": "https://api.github.com/users/AliakseiMalyshau/events{/privacy}",
    "received_events_url": "https://api.github.com/users/AliakseiMalyshau/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24489/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24489/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1056528994",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/24489#issuecomment-1056528994",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24489",
    "id": 1056528994,
    "node_id": "IC_kwDOAOvK984--Vpi",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-03-02T08:12:26Z",
    "updated_at": "2022-03-02T08:12:26Z",
    "author_association": "MEMBER",
    "body": "I don't see any shutdown logs. Seem you just terminated the process. That would lead to a lot of stuff that's kept in memory to never be written, thus the chain needs to go back to a point where it has all the data for an older block.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1056528994/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1059949811",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/24489#issuecomment-1059949811",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24489",
    "id": 1059949811,
    "node_id": "IC_kwDOAOvK984_LYzz",
    "user": {
      "login": "AliakseiMalyshau",
      "id": 91066845,
      "node_id": "MDQ6VXNlcjkxMDY2ODQ1",
      "avatar_url": "https://avatars.githubusercontent.com/u/91066845?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AliakseiMalyshau",
      "html_url": "https://github.com/AliakseiMalyshau",
      "followers_url": "https://api.github.com/users/AliakseiMalyshau/followers",
      "following_url": "https://api.github.com/users/AliakseiMalyshau/following{/other_user}",
      "gists_url": "https://api.github.com/users/AliakseiMalyshau/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AliakseiMalyshau/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AliakseiMalyshau/subscriptions",
      "organizations_url": "https://api.github.com/users/AliakseiMalyshau/orgs",
      "repos_url": "https://api.github.com/users/AliakseiMalyshau/repos",
      "events_url": "https://api.github.com/users/AliakseiMalyshau/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AliakseiMalyshau/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-03-06T12:02:24Z",
    "updated_at": "2022-03-06T12:02:24Z",
    "author_association": "NONE",
    "body": "@karalabe okay, understood, but I didn't shutdown the process. I could pin some Grafana dashboard regarding CPU and RAM:\r\n\r\n<img width=\"438\" alt=\"image\" src=\"https://user-images.githubusercontent.com/91066845/156922051-59766dc9-52da-4b3b-acb8-0781c55327a3.png\">\r\n\r\nMaybe we should increase vCPU/RAM?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1059949811/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1063597834",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/24489#issuecomment-1063597834",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24489",
    "id": 1063597834,
    "node_id": "IC_kwDOAOvK984_ZTcK",
    "user": {
      "login": "bytejedi",
      "id": 43159905,
      "node_id": "MDQ6VXNlcjQzMTU5OTA1",
      "avatar_url": "https://avatars.githubusercontent.com/u/43159905?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bytejedi",
      "html_url": "https://github.com/bytejedi",
      "followers_url": "https://api.github.com/users/bytejedi/followers",
      "following_url": "https://api.github.com/users/bytejedi/following{/other_user}",
      "gists_url": "https://api.github.com/users/bytejedi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bytejedi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bytejedi/subscriptions",
      "organizations_url": "https://api.github.com/users/bytejedi/orgs",
      "repos_url": "https://api.github.com/users/bytejedi/repos",
      "events_url": "https://api.github.com/users/bytejedi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bytejedi/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-03-10T02:48:54Z",
    "updated_at": "2022-03-10T02:48:54Z",
    "author_association": "CONTRIBUTOR",
    "body": "@AliakseiMalyshau maybe OOM",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1063597834/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1127767447",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/24489#issuecomment-1127767447",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24489",
    "id": 1127767447,
    "node_id": "IC_kwDOAOvK985DOF2X",
    "user": {
      "login": "AliakseiMalyshau",
      "id": 91066845,
      "node_id": "MDQ6VXNlcjkxMDY2ODQ1",
      "avatar_url": "https://avatars.githubusercontent.com/u/91066845?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AliakseiMalyshau",
      "html_url": "https://github.com/AliakseiMalyshau",
      "followers_url": "https://api.github.com/users/AliakseiMalyshau/followers",
      "following_url": "https://api.github.com/users/AliakseiMalyshau/following{/other_user}",
      "gists_url": "https://api.github.com/users/AliakseiMalyshau/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AliakseiMalyshau/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AliakseiMalyshau/subscriptions",
      "organizations_url": "https://api.github.com/users/AliakseiMalyshau/orgs",
      "repos_url": "https://api.github.com/users/AliakseiMalyshau/repos",
      "events_url": "https://api.github.com/users/AliakseiMalyshau/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AliakseiMalyshau/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-16T14:45:07Z",
    "updated_at": "2022-05-16T14:45:07Z",
    "author_association": "NONE",
    "body": "Issue closed! For node was increased RAM memory.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1127767447/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
