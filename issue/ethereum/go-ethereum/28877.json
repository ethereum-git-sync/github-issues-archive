{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/28877",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/28877/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/28877/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/28877/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/28877",
  "id": 2100496436,
  "node_id": "I_kwDOAOvK9859Mwg0",
  "number": 28877,
  "title": "time to push first transaction in the network has increased since Monday",
  "user": {
    "login": "h4ck3rk3y",
    "id": 6670312,
    "node_id": "MDQ6VXNlcjY2NzAzMTI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6670312?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/h4ck3rk3y",
    "html_url": "https://github.com/h4ck3rk3y",
    "followers_url": "https://api.github.com/users/h4ck3rk3y/followers",
    "following_url": "https://api.github.com/users/h4ck3rk3y/following{/other_user}",
    "gists_url": "https://api.github.com/users/h4ck3rk3y/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/h4ck3rk3y/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/h4ck3rk3y/subscriptions",
    "organizations_url": "https://api.github.com/users/h4ck3rk3y/orgs",
    "repos_url": "https://api.github.com/users/h4ck3rk3y/repos",
    "events_url": "https://api.github.com/users/h4ck3rk3y/events{/privacy}",
    "received_events_url": "https://api.github.com/users/h4ck3rk3y/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 72233650,
      "node_id": "MDU6TGFiZWw3MjIzMzY1MA==",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:bug",
      "name": "type:bug",
      "color": "FF5E5E",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": {
    "login": "rjl493456442",
    "id": 5959481,
    "node_id": "MDQ6VXNlcjU5NTk0ODE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5959481?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/rjl493456442",
    "html_url": "https://github.com/rjl493456442",
    "followers_url": "https://api.github.com/users/rjl493456442/followers",
    "following_url": "https://api.github.com/users/rjl493456442/following{/other_user}",
    "gists_url": "https://api.github.com/users/rjl493456442/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/rjl493456442/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/rjl493456442/subscriptions",
    "organizations_url": "https://api.github.com/users/rjl493456442/orgs",
    "repos_url": "https://api.github.com/users/rjl493456442/repos",
    "events_url": "https://api.github.com/users/rjl493456442/events{/privacy}",
    "received_events_url": "https://api.github.com/users/rjl493456442/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "rjl493456442",
      "id": 5959481,
      "node_id": "MDQ6VXNlcjU5NTk0ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5959481?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rjl493456442",
      "html_url": "https://github.com/rjl493456442",
      "followers_url": "https://api.github.com/users/rjl493456442/followers",
      "following_url": "https://api.github.com/users/rjl493456442/following{/other_user}",
      "gists_url": "https://api.github.com/users/rjl493456442/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rjl493456442/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rjl493456442/subscriptions",
      "organizations_url": "https://api.github.com/users/rjl493456442/orgs",
      "repos_url": "https://api.github.com/users/rjl493456442/repos",
      "events_url": "https://api.github.com/users/rjl493456442/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rjl493456442/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2024-01-25T14:17:23Z",
  "updated_at": "2024-01-30T15:41:40Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Hey!\r\n\r\nI am Gyani and I work on Kurtosis. We maintain an example https://github.com/kurtosis-tech/awesome-kurtosis/tree/main/smart-contract-example where we show how a smart contract can be deployed against an Etheruem test net spun up using Kurotsis https://github.com/kurtosis-tech/ethereum-package. By default we spin up geth + lighthouse, `latest` images of both.\r\n\r\nFrom Tuesday we were noticing that the test was failing https://app.circleci.com/pipelines/github/kurtosis-tech/awesome-kurtosis/1476/workflows/7c9ac168-3b25-43fc-9232-b2da96660edc/jobs/3985\r\n\r\nThe failure talks about `ProviderError: transaction indexing is in progress`; after much debugging and not finding anything on the internet I decided to read your source code\r\n\r\nwhich is rather new and only got added on Monday - https://github.com/ethereum/go-ethereum/pull/28703/files#diff-af55d4d4253e0b8b994cedaa88607f84009a0b2971f9b3514afa71efc906a9c5\r\n\r\nWhen I switched to using 1.13.10 https://github.com/kurtosis-tech/awesome-kurtosis/pull/282/files things started working again as expected.\r\n\r\nI am wondering if this is a bug or is there some change you expect us to make to the smart contract example.\r\n\r\nTagging @leoporoli from Kurtosis who I have been debugging this with",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/28877/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/28877/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1910310604",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/28877#issuecomment-1910310604",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/28877",
    "id": 1910310604,
    "node_id": "IC_kwDOAOvK985x3QbM",
    "user": {
      "login": "h4ck3rk3y",
      "id": 6670312,
      "node_id": "MDQ6VXNlcjY2NzAzMTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6670312?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/h4ck3rk3y",
      "html_url": "https://github.com/h4ck3rk3y",
      "followers_url": "https://api.github.com/users/h4ck3rk3y/followers",
      "following_url": "https://api.github.com/users/h4ck3rk3y/following{/other_user}",
      "gists_url": "https://api.github.com/users/h4ck3rk3y/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/h4ck3rk3y/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/h4ck3rk3y/subscriptions",
      "organizations_url": "https://api.github.com/users/h4ck3rk3y/orgs",
      "repos_url": "https://api.github.com/users/h4ck3rk3y/repos",
      "events_url": "https://api.github.com/users/h4ck3rk3y/events{/privacy}",
      "received_events_url": "https://api.github.com/users/h4ck3rk3y/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2024-01-25T14:20:44Z",
    "updated_at": "2024-01-25T14:20:44Z",
    "author_association": "NONE",
    "body": "Switching v1.13.10 to v1.13.11 you will get the bug that I am talking about\r\n\r\n<img width=\"1728\" alt=\"image\" src=\"https://github.com/ethereum/go-ethereum/assets/6670312/a93f83b2-253d-4d4d-8c5e-23701644d612\">\r\n\r\nNote the run script inside the smart contract example is Linux only; but can be run with some tweaks on Mac using `gsed` or a different sed `sed -i '' \"s/<PORT>/$PORT/\" hardhat.config.ts`",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1910310604/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1910318767",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/28877#issuecomment-1910318767",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/28877",
    "id": 1910318767,
    "node_id": "IC_kwDOAOvK985x3Sav",
    "user": {
      "login": "h4ck3rk3y",
      "id": 6670312,
      "node_id": "MDQ6VXNlcjY2NzAzMTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6670312?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/h4ck3rk3y",
      "html_url": "https://github.com/h4ck3rk3y",
      "followers_url": "https://api.github.com/users/h4ck3rk3y/followers",
      "following_url": "https://api.github.com/users/h4ck3rk3y/following{/other_user}",
      "gists_url": "https://api.github.com/users/h4ck3rk3y/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/h4ck3rk3y/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/h4ck3rk3y/subscriptions",
      "organizations_url": "https://api.github.com/users/h4ck3rk3y/orgs",
      "repos_url": "https://api.github.com/users/h4ck3rk3y/repos",
      "events_url": "https://api.github.com/users/h4ck3rk3y/events{/privacy}",
      "received_events_url": "https://api.github.com/users/h4ck3rk3y/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2024-01-25T14:25:19Z",
    "updated_at": "2024-01-25T14:25:19Z",
    "author_association": "NONE",
    "body": "It seems like transactions that are being posted later are being processed just fine. If I try deploying the same thing with hardhat a little later it goes through.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1910318767/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1910324290",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/28877#issuecomment-1910324290",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/28877",
    "id": 1910324290,
    "node_id": "IC_kwDOAOvK985x3TxC",
    "user": {
      "login": "h4ck3rk3y",
      "id": 6670312,
      "node_id": "MDQ6VXNlcjY2NzAzMTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6670312?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/h4ck3rk3y",
      "html_url": "https://github.com/h4ck3rk3y",
      "followers_url": "https://api.github.com/users/h4ck3rk3y/followers",
      "following_url": "https://api.github.com/users/h4ck3rk3y/following{/other_user}",
      "gists_url": "https://api.github.com/users/h4ck3rk3y/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/h4ck3rk3y/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/h4ck3rk3y/subscriptions",
      "organizations_url": "https://api.github.com/users/h4ck3rk3y/orgs",
      "repos_url": "https://api.github.com/users/h4ck3rk3y/repos",
      "events_url": "https://api.github.com/users/h4ck3rk3y/events{/privacy}",
      "received_events_url": "https://api.github.com/users/h4ck3rk3y/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2024-01-25T14:28:24Z",
    "updated_at": "2024-01-25T14:29:31Z",
    "author_association": "NONE",
    "body": "Summarizing, while running against the latest published since Monday\r\n\r\n1. The smart contracts we are deploying are here; these are example/toy smart contracts https://github.com/kurtosis-tech/awesome-kurtosis/tree/main/smart-contract-example/contracts\r\n2. The error i get is `transaction indexing is in progress`; if I try submitting after a while then the error goes away and the network resumes as normal\r\n3. Here is the log of my geth client running v1.13.11; notice how the error happens in the beginning but fades away and the network resumes as normal https://gist.github.com/h4ck3rk3y/169fe3d2374afaffed75e976bc7ef579\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1910324290/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1910708734",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/28877#issuecomment-1910708734",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/28877",
    "id": 1910708734,
    "node_id": "IC_kwDOAOvK985x4xn-",
    "user": {
      "login": "lightclient",
      "id": 14004106,
      "node_id": "MDQ6VXNlcjE0MDA0MTA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/14004106?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lightclient",
      "html_url": "https://github.com/lightclient",
      "followers_url": "https://api.github.com/users/lightclient/followers",
      "following_url": "https://api.github.com/users/lightclient/following{/other_user}",
      "gists_url": "https://api.github.com/users/lightclient/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lightclient/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lightclient/subscriptions",
      "organizations_url": "https://api.github.com/users/lightclient/orgs",
      "repos_url": "https://api.github.com/users/lightclient/repos",
      "events_url": "https://api.github.com/users/lightclient/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lightclient/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2024-01-25T17:52:41Z",
    "updated_at": "2024-01-25T17:52:41Z",
    "author_association": "MEMBER",
    "body": "Can you please describe the order of events of your test? E.g. are you starting a chain from scratch? When is the block produced? Do you query for receipt immediately after the block is produced?\r\n\r\nWith #28703, we no longer index txs during sync so after a node is synced you'll have to wait a few minutes to query. In your case, it appears you are starting a fresh chain though, so I wouldn't expect this error to pop up, but maybe if you outline the events it will be clearer.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1910708734/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1910809529",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/28877#issuecomment-1910809529",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/28877",
    "id": 1910809529,
    "node_id": "IC_kwDOAOvK985x5KO5",
    "user": {
      "login": "h4ck3rk3y",
      "id": 6670312,
      "node_id": "MDQ6VXNlcjY2NzAzMTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6670312?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/h4ck3rk3y",
      "html_url": "https://github.com/h4ck3rk3y",
      "followers_url": "https://api.github.com/users/h4ck3rk3y/followers",
      "following_url": "https://api.github.com/users/h4ck3rk3y/following{/other_user}",
      "gists_url": "https://api.github.com/users/h4ck3rk3y/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/h4ck3rk3y/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/h4ck3rk3y/subscriptions",
      "organizations_url": "https://api.github.com/users/h4ck3rk3y/orgs",
      "repos_url": "https://api.github.com/users/h4ck3rk3y/repos",
      "events_url": "https://api.github.com/users/h4ck3rk3y/events{/privacy}",
      "received_events_url": "https://api.github.com/users/h4ck3rk3y/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2024-01-25T19:01:24Z",
    "updated_at": "2024-01-25T19:01:24Z",
    "author_association": "NONE",
    "body": "I am starting a chain from scratch. Going by the logs the first transaction is being posted even before block number=1.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1910809529/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1917258947",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/28877#issuecomment-1917258947",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/28877",
    "id": 1917258947,
    "node_id": "IC_kwDOAOvK985yRwzD",
    "user": {
      "login": "antazoey",
      "id": 19540978,
      "node_id": "MDQ6VXNlcjE5NTQwOTc4",
      "avatar_url": "https://avatars.githubusercontent.com/u/19540978?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/antazoey",
      "html_url": "https://github.com/antazoey",
      "followers_url": "https://api.github.com/users/antazoey/followers",
      "following_url": "https://api.github.com/users/antazoey/following{/other_user}",
      "gists_url": "https://api.github.com/users/antazoey/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/antazoey/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/antazoey/subscriptions",
      "organizations_url": "https://api.github.com/users/antazoey/orgs",
      "repos_url": "https://api.github.com/users/antazoey/repos",
      "events_url": "https://api.github.com/users/antazoey/events{/privacy}",
      "received_events_url": "https://api.github.com/users/antazoey/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2024-01-30T15:38:03Z",
    "updated_at": "2024-01-30T15:41:40Z",
    "author_association": "NONE",
    "body": "I am also hitting this issue in my local development node that uses geth.\r\nI believe my flow is similar:\r\n\r\n1. Init chain from genesis\r\n2. Make first transaction - a deploy - works great\r\n3. Second transaction - a contract function invoke - it fails if I try to wait for the tx too faster after sending it with this exact error message\r\n\r\nI am not a Go dev but looking at the code, it looks like this error message is returned at the interface level: https://github.com/ethereum/go-ethereum/blob/master/internal/ethapi/errors.go#L78",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1917258947/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
