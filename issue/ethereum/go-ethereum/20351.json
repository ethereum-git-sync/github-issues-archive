{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20351",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20351/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20351/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20351/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/20351",
  "id": 526513888,
  "node_id": "MDU6SXNzdWU1MjY1MTM4ODg=",
  "number": 20351,
  "title": "Not able to sync with a sealer node",
  "user": {
    "login": "puneet-khushwani-eth",
    "id": 17064120,
    "node_id": "MDQ6VXNlcjE3MDY0MTIw",
    "avatar_url": "https://avatars.githubusercontent.com/u/17064120?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/puneet-khushwani-eth",
    "html_url": "https://github.com/puneet-khushwani-eth",
    "followers_url": "https://api.github.com/users/puneet-khushwani-eth/followers",
    "following_url": "https://api.github.com/users/puneet-khushwani-eth/following{/other_user}",
    "gists_url": "https://api.github.com/users/puneet-khushwani-eth/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/puneet-khushwani-eth/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/puneet-khushwani-eth/subscriptions",
    "organizations_url": "https://api.github.com/users/puneet-khushwani-eth/orgs",
    "repos_url": "https://api.github.com/users/puneet-khushwani-eth/repos",
    "events_url": "https://api.github.com/users/puneet-khushwani-eth/events{/privacy}",
    "received_events_url": "https://api.github.com/users/puneet-khushwani-eth/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1132687333,
      "node_id": "MDU6TGFiZWwxMTMyNjg3MzMz",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/need:check-with-current-version",
      "name": "need:check-with-current-version",
      "color": "d3b300",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2019-11-21T10:49:23Z",
  "updated_at": "2020-08-20T06:47:53Z",
  "closed_at": "2020-08-20T06:47:53Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Hi there,\r\n\r\n#### System information\r\n\r\nOS & Version: OSX\r\n\r\nWe were running a sealer (for a private POA network) on geth `1.8.23` and migrated to istanbul EVM (geth `1.9.7`) by adding below to genesis file and doing an `geth init ` again on the existing datadir of geth\r\n\r\n```\r\n\"constantinopleBlock\": 401,\r\n\"petersburgBlock\": 402,\r\n\"istanbulBlock\": 403,   \r\n```\r\n\r\nTo run sealer node on Istanbul (geth v1.97)\r\n\r\n```\r\ndocker run --rm --network mosaic --name mosaic_sealer1 --publish 31002:31002 --volume /Users/puneetkhushwani/.mosaic/dev-origin/1000/sealer1:/chain_data --volume /Users/puneetkhushwani/work/protocol/local/mosaic-chains/password.txt:/password.txt ethereum/client-go:v1.9.7 --networkid 1000 --datadir ./chain_data --port 31002 --unlock 0x73d21c4c77d98d0c93575d9fca34e2e09e5628ab --password /password.txt --gasprice 0 --targetgaslimit 0 --mine\r\n```\r\nTo sync a node with above sealer node (on the same physical machine)\r\n\r\n```\r\ndocker run --rm --network mosaic --name mosaic_node1 --publish 31003:31003 --publish 41002:8545 --publish 51002:8546 --volume /Users/puneetkhushwani/.mosaic/dev-origin/1000/node1:/chain_data --volume /Users/puneetkhushwani/work/protocol/local/mosaic-chains/password.txt:/password.txt ethereum/client-go:v1.9.7 --networkid 1000 --datadir ./chain_data --port 31003 --rpc --rpcaddr 0.0.0.0 --rpcvhosts=* --rpccorsdomain=* --rpcapi eth,net,web3,network,debug,txpool,admin,personal,shh,clique --rpcport 8545 --ws --wsaddr 0.0.0.0 --wsport 8546 --wsapi eth,net,web3,network,debug,txpool,admin,personal --wsorigins=* --bootnodes=enode://8bf267b2d8880a15c9f904d7bc9d4c71511881aeb57c116090d1ed33a8a9c06790eae3e3a1185d58f08cf55ce5eaec9a80fda37b859690bf3a4923e534c327c4@172.16.0.201:31002 --verbosity=5 --debug --vmdebug\r\n```\r\n\r\nHave verified that enode://8bf267b2d8880a15c9f904d7bc9d4c71511881aeb57c116090d1ed33a8a9c06790eae3e3a1185d58f08cf55ce5eaec9a80fda37b859690bf3a4923e534c327c4@172.16.0.201:31002 is correct and the ip is accesible\r\n\r\n#### Expected behaviour\r\n\r\nshould be able to sync with the sealer node and then submit txs to it\r\n\r\n#### Actual behaviour\r\n\r\nBut we get below errors from this node while syncing, can someone help with this please\r\n\r\n#### Backtrace\r\n\r\n````\r\nWARN [11-21|09:57:26.215|geth/main.go:288] Sanitizing cache to Go's GC limits       provided=1024 updated=666\r\nDEBUG[11-21|09:57:26.215|geth/main.go:297] Sanitizing Go's GC trigger               percent=100\r\nINFO [11-21|09:57:26.216|cmd/utils/flags.go:1137] Maximum peer count                       ETH=50 LES=0 total=50\r\nINFO [11-21|09:57:26.216|cmd/utils/flags.go:1211] Smartcard socket not found, disabling    err=\"stat /run/pcscd/pcscd.comm: no such file or directory\"\r\nTRACE[11-21|09:57:26.218|accounts/keystore/watch.go:73] Started watching keystore folder         path=/chain_data/keystore\r\nDEBUG[11-21|09:57:26.218|accounts/keystore/file_cache.go:87] FS scan times                            list=1.0891ms set=10.9µs diff=27.6µs\r\nERROR[11-21|09:57:26.218|accounts/usbwallet/hub.go:170]      Failed to enumerate USB devices          hub=ledger vendor=11415 failcount=1 err=\"failed to initialize libusb: libusb: unknown error [code -99]\"\r\nERROR[11-21|09:57:26.218|accounts/usbwallet/hub.go:170]      Failed to enumerate USB devices          hub=trezor vendor=21324 failcount=1 err=\"failed to initialize libusb: libusb: unknown error [code -99]\"\r\nERROR[11-21|09:57:26.218|accounts/usbwallet/hub.go:170]      Failed to enumerate USB devices          hub=trezor vendor=4617  failcount=1 err=\"failed to initialize libusb: libusb: unknown error [code -99]\"\r\nERROR[11-21|09:57:26.218|accounts/usbwallet/hub.go:170]      Failed to enumerate USB devices          hub=ledger vendor=11415 failcount=2 err=\"failed to initialize libusb: libusb: unknown error [code -99]\"\r\nERROR[11-21|09:57:26.219|accounts/usbwallet/hub.go:170]      Failed to enumerate USB devices          hub=trezor vendor=21324 failcount=2 err=\"failed to initialize libusb: libusb: unknown error [code -99]\"\r\nERROR[11-21|09:57:26.219|accounts/usbwallet/hub.go:170]      Failed to enumerate USB devices          hub=trezor vendor=4617  failcount=2 err=\"failed to initialize libusb: libusb: unknown error [code -99]\"\r\nWARN [11-21|09:57:26.221|node/config.go:543]                 Using deprecated resource file /chain_data/nodekey, please move this file to the 'geth' subdirectory of datadir. \r\nINFO [11-21|09:57:26.223|node/node.go:190]                   Starting peer-to-peer node               instance=Geth/v1.9.7-stable-a718daa6/linux-amd64/go1.13.4\r\nINFO [11-21|09:57:26.224|eth/backend.go:131]                 Allocated trie memory caches             clean=166.00MiB dirty=166.00MiB\r\nINFO [11-21|09:57:26.224|ethdb/leveldb/leveldb.go:95]        Allocated cache and file handles         database=/chain_data/geth/chaindata cache=333.00MiB handles=524288\r\nDEBUG[11-21|09:57:26.257|core/rawdb/freezer_table.go:305]    Chain freezer table opened               database=/chain_data/geth/chaindata/ancient table=headers items=0 size=0.00B\r\nDEBUG[11-21|09:57:26.260|core/rawdb/freezer_table.go:305]    Chain freezer table opened               database=/chain_data/geth/chaindata/ancient table=hashes  items=0 size=0.00B\r\nDEBUG[11-21|09:57:26.263|core/rawdb/freezer_table.go:305]    Chain freezer table opened               database=/chain_data/geth/chaindata/ancient table=bodies  items=0 size=0.00B\r\nDEBUG[11-21|09:57:26.265|core/rawdb/freezer_table.go:305]    Chain freezer table opened               database=/chain_data/geth/chaindata/ancient table=receipts items=0 size=0.00B\r\nDEBUG[11-21|09:57:26.268|core/rawdb/freezer_table.go:305]    Chain freezer table opened               database=/chain_data/geth/chaindata/ancient table=diffs    items=0 size=0.00B\r\nINFO [11-21|09:57:26.268|core/rawdb/freezer.go:123]          Opened ancient database                  database=/chain_data/geth/chaindata/ancient\r\nDEBUG[11-21|09:57:26.271|core/rawdb/freezer.go:273]          Current full block not old enough        number=0 hash=d36f27…66f9dd delay=90000\r\nINFO [11-21|09:57:26.271|eth/backend.go:142]                 Initialised chain configuration          config=\"{ChainID: 1000 Homestead: 0 DAO: <nil> DAOSupport: false EIP150: 0 EIP155: 0 EIP158: 0 Byzantium: 0 Constantinople: 451 Petersburg: 452 Istanbul: 453 Engine: clique}\"\r\nINFO [11-21|09:57:26.272|eth/backend.go:163]                 Initialising Ethereum protocol           versions=\"[64 63]\" network=1000 dbversion=7\r\nINFO [11-21|09:57:26.309|core/blockchain.go:379]             Loaded most recent local header          number=0 hash=d36f27…66f9dd td=1 age=3mo3w3d\r\nINFO [11-21|09:57:26.309|core/blockchain.go:380]             Loaded most recent local full block      number=0 hash=d36f27…66f9dd td=1 age=3mo3w3d\r\nINFO [11-21|09:57:26.309|core/blockchain.go:381]             Loaded most recent local fast block      number=0 hash=d36f27…66f9dd td=1 age=3mo3w3d\r\nDEBUG[11-21|09:57:26.309|core/tx_pool.go:1146]               Reinjecting stale transactions           count=0\r\nINFO [11-21|09:57:26.312|core/tx_journal.go:114]             Loaded local transaction journal         transactions=0 dropped=0\r\nINFO [11-21|09:57:26.314|core/tx_journal.go:166]             Regenerated local transaction journal    transactions=0 accounts=0\r\nINFO [11-21|09:57:26.319|trie/sync_bloom.go:75]              Allocated fast sync bloom                size=332.00MiB\r\nDEBUG[11-21|09:57:26.320|eth/downloader/downloader.go:1796]  Recalculated downloader QoS values       rtt=20s confidence=1.000 ttl=1m0s\r\nTRACE[11-21|09:57:26.320|consensus/clique/clique.go:363]     Loaded voting snapshot from disk         number=0 hash=d36f27…66f9dd\r\nINFO [11-21|09:57:26.332|trie/sync_bloom.go:128]             Initialized fast sync bloom              items=355 errorrate=0.000 elapsed=11.374ms\r\nDEBUG[11-21|09:57:26.347|p2p/server.go:558]                  UDP listener up                          addr=[::]:31003\r\nDEBUG[11-21|09:57:26.348|p2p/server.go:866]                  TCP listener up                          addr=[::]:31003\r\nTRACE[11-21|09:57:26.349|p2p/discover/table.go:309]          Found seed node in database              id=442cf72b70b7810c addr=172.16.0.201:31002 age=437313h57m26.349475s\r\nINFO [11-21|09:57:26.350|p2p/enode/localnode.go:284]         New local node record                    seq=2 id=e8fcf7e4e731fa97 ip=127.0.0.1 udp=31003 tcp=31003\r\nINFO [11-21|09:57:26.350|p2p/server.go:644]                  Started P2P networking                   self=enode://ee6a675bbe39571ea4c7f46f8bf48bec058e9754773e31fe0b5f2a4ad539faf9715cce547c463da329b90e969bc95de6b27964fe7aea60e9ae99568a9e020f3d@127.0.0.1:31003\r\nTRACE[11-21|09:57:26.351|p2p/server.go:677]                  New dial task                            task=\"discovery query (want 16)\"\r\nDEBUG[11-21|09:57:26.351|node/node.go:318]                   InProc registered                        namespace=admin\r\nDEBUG[11-21|09:57:26.351|node/node.go:318]                   InProc registered                        namespace=admin\r\nDEBUG[11-21|09:57:26.352|node/node.go:318]                   InProc registered                        namespace=debug\r\nDEBUG[11-21|09:57:26.352|node/node.go:318]                   InProc registered                        namespace=web3\r\nDEBUG[11-21|09:57:26.352|node/node.go:318]                   InProc registered                        namespace=eth\r\nDEBUG[11-21|09:57:26.352|node/node.go:318]                   InProc registered                        namespace=eth\r\nDEBUG[11-21|09:57:26.352|node/node.go:318]                   InProc registered                        namespace=eth\r\nDEBUG[11-21|09:57:26.352|node/node.go:318]                   InProc registered                        namespace=txpool\r\nDEBUG[11-21|09:57:26.352|node/node.go:318]                   InProc registered                        namespace=debug\r\nDEBUG[11-21|09:57:26.353|node/node.go:318]                   InProc registered                        namespace=debug\r\nDEBUG[11-21|09:57:26.353|node/node.go:318]                   InProc registered                        namespace=eth\r\nDEBUG[11-21|09:57:26.353|node/node.go:318]                   InProc registered                        namespace=personal\r\nDEBUG[11-21|09:57:26.353|node/node.go:318]                   InProc registered                        namespace=clique\r\nTRACE[11-21|09:57:26.353|p2p/discover/table.go:309]          Found seed node in database              id=442cf72b70b7810c addr=172.16.0.201:31002 age=437313h57m26.3539779s\r\nTRACE[11-21|09:57:26.353|p2p/discover/v4_udp.go:664]         >> PING/v4                               id=442cf72b70b7810c addr=172.16.0.201:31002 err=nil\r\nDEBUG[11-21|09:57:26.354|node/node.go:318]                   InProc registered                        namespace=eth\r\nDEBUG[11-21|09:57:26.354|node/node.go:318]                   InProc registered                        namespace=eth\r\nDEBUG[11-21|09:57:26.354|node/node.go:318]                   InProc registered                        namespace=eth\r\nDEBUG[11-21|09:57:26.354|node/node.go:318]                   InProc registered                        namespace=miner\r\nDEBUG[11-21|09:57:26.354|node/node.go:318]                   InProc registered                        namespace=eth\r\nDEBUG[11-21|09:57:26.354|node/node.go:318]                   InProc registered                        namespace=admin\r\nDEBUG[11-21|09:57:26.354|node/node.go:318]                   InProc registered                        namespace=debug\r\nDEBUG[11-21|09:57:26.354|node/node.go:318]                   InProc registered                        namespace=debug\r\nDEBUG[11-21|09:57:26.354|node/node.go:318]                   InProc registered                        namespace=net\r\nDEBUG[11-21|09:57:26.355|rpc/endpoints.go:93]                IPC registered                           namespace=admin\r\nDEBUG[11-21|09:57:26.355|rpc/endpoints.go:93]                IPC registered                           namespace=admin\r\nTRACE[11-21|09:57:26.355|p2p/discover/v4_udp.go:664]         >> PING/v4                               id=442cf72b70b7810c addr=172.16.0.201:31002 err=nil\r\nDEBUG[11-21|09:57:26.355|rpc/endpoints.go:93]                IPC registered                           namespace=debug\r\nDEBUG[11-21|09:57:26.355|rpc/endpoints.go:93]                IPC registered                           namespace=web3\r\nDEBUG[11-21|09:57:26.355|rpc/endpoints.go:93]                IPC registered                           namespace=eth\r\nDEBUG[11-21|09:57:26.355|rpc/endpoints.go:93]                IPC registered                           namespace=eth\r\nDEBUG[11-21|09:57:26.355|rpc/endpoints.go:93]                IPC registered                           namespace=eth\r\nDEBUG[11-21|09:57:26.355|rpc/endpoints.go:93]                IPC registered                           namespace=txpool\r\nDEBUG[11-21|09:57:26.355|rpc/endpoints.go:93]                IPC registered                           namespace=debug\r\nDEBUG[11-21|09:57:26.355|rpc/endpoints.go:93]                IPC registered                           namespace=debug\r\nDEBUG[11-21|09:57:26.355|rpc/endpoints.go:93]                IPC registered                           namespace=eth\r\nDEBUG[11-21|09:57:26.356|rpc/endpoints.go:93]                IPC registered                           namespace=personal\r\nDEBUG[11-21|09:57:26.356|rpc/endpoints.go:93]                IPC registered                           namespace=clique\r\nDEBUG[11-21|09:57:26.356|rpc/endpoints.go:93]                IPC registered                           namespace=eth\r\nDEBUG[11-21|09:57:26.356|rpc/endpoints.go:93]                IPC registered                           namespace=eth\r\nDEBUG[11-21|09:57:26.356|rpc/endpoints.go:93]                IPC registered                           namespace=eth\r\nDEBUG[11-21|09:57:26.356|rpc/endpoints.go:93]                IPC registered                           namespace=miner\r\nDEBUG[11-21|09:57:26.356|rpc/endpoints.go:93]                IPC registered                           namespace=eth\r\nDEBUG[11-21|09:57:26.356|rpc/endpoints.go:93]                IPC registered                           namespace=admin\r\nDEBUG[11-21|09:57:26.356|rpc/endpoints.go:93]                IPC registered                           namespace=debug\r\nDEBUG[11-21|09:57:26.356|rpc/endpoints.go:93]                IPC registered                           namespace=debug\r\nDEBUG[11-21|09:57:26.356|rpc/endpoints.go:93]                IPC registered                           namespace=net\r\nINFO [11-21|09:57:26.358|node/node.go:343]                   IPC endpoint opened                      url=/chain_data/geth.ipc\r\nDEBUG[11-21|09:57:26.358|rpc/endpoints.go:39]                HTTP registered                          namespace=admin\r\nDEBUG[11-21|09:57:26.358|rpc/endpoints.go:39]                HTTP registered                          namespace=admin\r\nDEBUG[11-21|09:57:26.358|rpc/endpoints.go:39]                HTTP registered                          namespace=debug\r\nDEBUG[11-21|09:57:26.358|rpc/endpoints.go:39]                HTTP registered                          namespace=web3\r\nDEBUG[11-21|09:57:26.359|rpc/endpoints.go:39]                HTTP registered                          namespace=eth\r\nDEBUG[11-21|09:57:26.359|rpc/endpoints.go:39]                HTTP registered                          namespace=eth\r\nDEBUG[11-21|09:57:26.359|rpc/endpoints.go:39]                HTTP registered                          namespace=eth\r\nDEBUG[11-21|09:57:26.359|rpc/endpoints.go:39]                HTTP registered                          namespace=txpool\r\nDEBUG[11-21|09:57:26.359|rpc/endpoints.go:39]                HTTP registered                          namespace=debug\r\nDEBUG[11-21|09:57:26.360|rpc/endpoints.go:39]                HTTP registered                          namespace=debug\r\nDEBUG[11-21|09:57:26.360|rpc/endpoints.go:39]                HTTP registered                          namespace=eth\r\nDEBUG[11-21|09:57:26.360|rpc/endpoints.go:39]                HTTP registered                          namespace=personal\r\nDEBUG[11-21|09:57:26.360|rpc/endpoints.go:39]                HTTP registered                          namespace=clique\r\nDEBUG[11-21|09:57:26.360|rpc/endpoints.go:39]                HTTP registered                          namespace=eth\r\nDEBUG[11-21|09:57:26.360|rpc/endpoints.go:39]                HTTP registered                          namespace=eth\r\nDEBUG[11-21|09:57:26.360|rpc/endpoints.go:39]                HTTP registered                          namespace=eth\r\nDEBUG[11-21|09:57:26.360|rpc/endpoints.go:39]                HTTP registered                          namespace=eth\r\nDEBUG[11-21|09:57:26.360|rpc/endpoints.go:39]                HTTP registered                          namespace=admin\r\nDEBUG[11-21|09:57:26.360|rpc/endpoints.go:39]                HTTP registered                          namespace=debug\r\nDEBUG[11-21|09:57:26.361|rpc/endpoints.go:39]                HTTP registered                          namespace=debug\r\nDEBUG[11-21|09:57:26.361|rpc/endpoints.go:39]                HTTP registered                          namespace=net\r\nINFO [11-21|09:57:26.361|node/node.go:371]                   HTTP endpoint opened                     url=http://0.0.0.0:8545  cors=* vhosts=*\r\nDEBUG[11-21|09:57:26.361|rpc/endpoints.go:69]                WebSocket registered                     service=&{node:0xc000316c80} namespace=admin\r\nDEBUG[11-21|09:57:26.362|rpc/endpoints.go:69]                WebSocket registered                     service=&{node:0xc000316c80} namespace=admin\r\nDEBUG[11-21|09:57:26.363|rpc/endpoints.go:69]                WebSocket registered                     service=\"&{mu:{state:0 sema:0} cpuW:<nil> cpuFile: traceW:<nil> traceFile:}\" namespace=debug\r\nDEBUG[11-21|09:57:26.363|rpc/endpoints.go:69]                WebSocket registered                     service=&{stack:0xc000316c80} namespace=web3\r\nDEBUG[11-21|09:57:26.363|rpc/endpoints.go:69]                WebSocket registered                     service=&{b:0xc005510440}     namespace=eth\r\nDEBUG[11-21|09:57:26.363|rpc/endpoints.go:69]                WebSocket registered                     service=&{b:0xc005510440}     namespace=eth\r\nDEBUG[11-21|09:57:26.363|rpc/endpoints.go:69]                WebSocket registered                     service=\"&{b:0xc005510440 nonceLock:0xc00016f3f0}\" namespace=eth\r\nDEBUG[11-21|09:57:26.363|rpc/endpoints.go:69]                WebSocket registered                     service=&{b:0xc005510440}     namespace=txpool\r\nDEBUG[11-21|09:57:26.363|rpc/endpoints.go:69]                WebSocket registered                     service=&{b:0xc005510440}     namespace=debug\r\nDEBUG[11-21|09:57:26.364|rpc/endpoints.go:69]                WebSocket registered                     service=&{b:0xc005510440}     namespace=debug\r\nDEBUG[11-21|09:57:26.364|rpc/endpoints.go:69]                WebSocket registered                     service=&{am:0xc00010e540}    namespace=eth\r\nDEBUG[11-21|09:57:26.364|rpc/endpoints.go:69]                WebSocket registered                     service=\"&{am:0xc00010e540 nonceLock:0xc00016f3f0 b:0xc005510440}\" namespace=personal\r\nDEBUG[11-21|09:57:26.364|rpc/endpoints.go:69]                WebSocket registered                     service=&{e:0xc0000b12b0}     namespace=eth\r\nDEBUG[11-21|09:57:26.364|rpc/endpoints.go:69]                WebSocket registered                     service=&{e:0xc0000b12b0}     namespace=eth\r\nDEBUG[11-21|09:57:26.364|rpc/endpoints.go:69]                WebSocket registered                     service=\"&{d:0xc0000ca1c0 mux:0xc0001dbf20 installSyncSubscription:0xc00009c9c0 uninstallSyncSubscription:0xc00009ca20}\" namespace=eth\r\nDEBUG[11-21|09:57:26.364|rpc/endpoints.go:69]                WebSocket registered                     service=\"&{backend:0xc005510440 mux:0xc0001dbf20 quit:<nil> chainDb:0xc00017e400 events:0xc0000d9c20 filtersMu:{state:0 sema:0} filters:map[]}\" namespace=eth\r\nDEBUG[11-21|09:57:26.365|rpc/endpoints.go:69]                WebSocket registered                     service=&{eth:0xc0000b12b0}   namespace=admin\r\nDEBUG[11-21|09:57:26.365|rpc/endpoints.go:69]                WebSocket registered                     service=&{eth:0xc0000b12b0}   namespace=debug\r\nDEBUG[11-21|09:57:26.365|rpc/endpoints.go:69]                WebSocket registered                     service=&{eth:0xc0000b12b0}   namespace=debug\r\nDEBUG[11-21|09:57:26.365|rpc/endpoints.go:69]                WebSocket registered                     service=\"&{net:0xc0003f9600 networkVersion:1000}\" namespace=net\r\nDEBUG[11-21|09:57:26.365|rpc/websocket.go:92]                Allowed origin(s) for WS RPC interface [*] \r\nINFO [11-21|09:57:26.365|node/node.go:404]                   WebSocket endpoint opened                url=ws://[::]:8546\r\nERROR[11-21|09:57:27.220|accounts/usbwallet/hub.go:170]      Failed to enumerate USB devices          hub=ledger vendor=11415 failcount=3 err=\"failed to initialize libusb: libusb: unknown error [code -99]\"\r\nERROR[11-21|09:57:27.220|accounts/usbwallet/hub.go:170]      Failed to enumerate USB devices          hub=trezor vendor=4617  failcount=3 err=\"failed to initialize libusb: libusb: unknown error [code -99]\"\r\nERROR[11-21|09:57:27.220|accounts/usbwallet/hub.go:170]      Failed to enumerate USB devices          hub=trezor vendor=21324 failcount=3 err=\"failed to initialize libusb: libusb: unknown error [code -99]\"\r\nTRACE[11-21|09:57:27.356|p2p/discover/v4_udp.go:664]         >> FINDNODE/v4                           id=442cf72b70b7810c addr=172.16.0.201:31002 err=nil\r\nTRACE[11-21|09:57:27.357|p2p/discover/v4_udp.go:664]         >> FINDNODE/v4                           id=442cf72b70b7810c addr=172.16.0.201:31002 err=nil\r\nTRACE[11-21|09:57:27.858|p2p/discover/lookup.go:137]         Findnode failed                          id=442cf72b70b7810c failcount=6 err=\"RPC timeout\"\r\nTRACE[11-21|09:57:27.858|p2p/discover/lookup.go:139]         Too many findnode failures, dropping     id=442cf72b70b7810c failcount=6\r\nTRACE[11-21|09:57:27.858|p2p/discover/lookup.go:137]         Findnode failed                          id=442cf72b70b7810c failcount=6 err=\"RPC timeout\"\r\nTRACE[11-21|09:57:27.858|p2p/discover/lookup.go:139]         Too many findnode failures, dropping     id=442cf72b70b7810c failcount=6\r\nDEBUG[11-21|09:57:28.448|p2p/nat/nat.go:109]                 Couldn't add port mapping                proto=tcp extport=31003 intport=31003 interface=\"UPnP or NAT-PMP\" err=\"no UPnP or NAT-PMP router discovered\"\r\nDEBUG[11-21|09:57:28.449|p2p/nat/nat.go:109]                 Couldn't add port mapping                proto=udp extport=31003 intport=31003 interface=\"UPnP or NAT-PMP\" err=\"no UPnP or NAT-PMP router discovered\"\r\nDEBUG[11-21|09:57:46.322|eth/downloader/downloader.go:1796]  Recalculated downloader QoS values       rtt=20s confidence=1.000 ttl=1m0s\r\nDEBUG[11-21|09:58:06.287|eth/downloader/downloader.go:1796]  Recalculated downloader QoS values       rtt=20s confidence=1.000 ttl=1m0s\r\nDEBUG[11-21|09:58:26.204|core/rawdb/freezer.go:273]          Current full block not old enough        number=0 hash=d36f27…66f9dd delay=90000\r\nDEBUG[11-21|09:58:26.256|eth/downloader/downloader.go:1796]  Recalculated downloader QoS values       rtt=20s confidence=1.000 ttl=1m0s\r\nDEBUG[11-21|09:58:46.257|eth/downloader/downloader.go:1796]  Recalculated downloader QoS values       rtt=20s confidence=1.000 ttl=1m0s\r\nDEBUG[11-21|09:59:06.222|eth/downloader/downloader.go:1796]  Recalculated downloader QoS values       rtt=20s confidence=1.000 ttl=1m0s\r\nDEBUG[11-21|09:59:26.134|core/rawdb/freezer.go:273]          Current full block not old enough        number=0 hash=d36f27…66f9dd delay=90000\r\nDEBUG[11-21|09:59:26.188|eth/downloader/downloader.go:1796]  Recalculated downloader QoS values       rtt=20s confidence=1.000 ttl=1m0s\r\nDEBUG[11-21|09:59:46.189|eth/downloader/downloader.go:1796]  Recalculated downloader QoS values       rtt=20s confidence=1.000 ttl=1m0s\r\nDEBUG[11-21|10:00:06.154|eth/downloader/downloader.go:1796]  Recalculated downloader QoS values       rtt=20s confidence=1.000 ttl=1m0s\r\nDEBUG[11-21|10:00:26.064|core/rawdb/freezer.go:273]          Current full block not old enough        number=0 hash=d36f27…66f9dd delay=90000\r\nDEBUG[11-21|10:00:26.119|eth/downloader/downloader.go:1796]  Recalculated downloader QoS values       rtt=20s confidence=1.000 ttl=1m0s\r\nDEBUG[11-21|10:00:46.120|eth/downloader/downloader.go:1796]  Recalculated downloader QoS values       rtt=20s confidence=1.000 ttl=1m0s\r\nDEBUG[11-21|10:01:06.085|eth/downloader/downloader.go:1796]  Recalculated downloader QoS values       rtt=20s confidence=1.000 ttl=1m0s\r\nDEBUG[11-21|10:01:25.994|core/rawdb/freezer.go:273]          Current full block not old enough        number=0 hash=d36f27…66f9dd delay=90000\r\nDEBUG[11-21|10:01:26.050|eth/downloader/downloader.go:1796]  Recalculated downloader QoS values       rtt=20s confidence=1.000 ttl=1m0s\r\nDEBUG[11-21|10:01:46.051|eth/downloader/downloader.go:1796]  Recalculated downloader QoS values       rtt=20s confidence=1.000 ttl=1m0s\r\nDEBUG[11-21|10:02:06.016|eth/downloader/downloader.go:1796]  Recalculated downloader QoS values       rtt=20s confidence=1.000 ttl=1m0s\r\n````\r\n",
  "closed_by": {
    "login": "adamschmideg",
    "id": 208822,
    "node_id": "MDQ6VXNlcjIwODgyMg==",
    "avatar_url": "https://avatars.githubusercontent.com/u/208822?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/adamschmideg",
    "html_url": "https://github.com/adamschmideg",
    "followers_url": "https://api.github.com/users/adamschmideg/followers",
    "following_url": "https://api.github.com/users/adamschmideg/following{/other_user}",
    "gists_url": "https://api.github.com/users/adamschmideg/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/adamschmideg/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/adamschmideg/subscriptions",
    "organizations_url": "https://api.github.com/users/adamschmideg/orgs",
    "repos_url": "https://api.github.com/users/adamschmideg/repos",
    "events_url": "https://api.github.com/users/adamschmideg/events{/privacy}",
    "received_events_url": "https://api.github.com/users/adamschmideg/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20351/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20351/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/557033982",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/20351#issuecomment-557033982",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20351",
    "id": 557033982,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1NzAzMzk4Mg==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-11-21T11:01:46Z",
    "updated_at": "2019-11-21T11:01:46Z",
    "author_association": "MEMBER",
    "body": "cc @fjl, seems to be some findnode timeout?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/557033982/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/565472043",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/20351#issuecomment-565472043",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20351",
    "id": 565472043,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2NTQ3MjA0Mw==",
    "user": {
      "login": "artemistomaras",
      "id": 22180309,
      "node_id": "MDQ6VXNlcjIyMTgwMzA5",
      "avatar_url": "https://avatars.githubusercontent.com/u/22180309?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/artemistomaras",
      "html_url": "https://github.com/artemistomaras",
      "followers_url": "https://api.github.com/users/artemistomaras/followers",
      "following_url": "https://api.github.com/users/artemistomaras/following{/other_user}",
      "gists_url": "https://api.github.com/users/artemistomaras/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/artemistomaras/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/artemistomaras/subscriptions",
      "organizations_url": "https://api.github.com/users/artemistomaras/orgs",
      "repos_url": "https://api.github.com/users/artemistomaras/repos",
      "events_url": "https://api.github.com/users/artemistomaras/events{/privacy}",
      "received_events_url": "https://api.github.com/users/artemistomaras/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-13T14:59:36Z",
    "updated_at": "2019-12-13T14:59:36Z",
    "author_association": "NONE",
    "body": "I have a similar **findnode** issue with ``geth v1.9.8`` and ``go 1.13`` on my private PoA network.\r\n\r\n```\r\ngeth-miner-1     | INFO [12-13|14:55:12.330|miner/worker.go:987]                    Commit new mining work                   number=2 sealhash=d3b0f3…d13b93 uncles=0 txs=0 gas=0 fees=0 elapsed=424.615µs\r\ngeth-miner-1     | INFO [12-13|14:55:12.330|consensus/clique/clique.go:615]         Signed recently, must wait for others \r\ngeth-miner-1     | TRACE[12-13|14:55:12.806|p2p/discover/lookup.go:153]             Findnode failed                          id=63cdb4cd0e3cc393 failcount=2 err=\"RPC timeout\"\r\ngeth-miner-1     | INFO [12-13|14:55:12.809|p2p/enode/localnode.go:284]             New local node record                    seq=2 id=c09edd9cb13e3c2c ip=127.0.0.1 udp=30303 tcp=30303\r\ngeth-miner-1     | TRACE[12-13|14:55:12.810|p2p/discover/v4_udp.go:664]             >> FINDNODE/v4                           id=63cdb4cd0e3cc393 addr=192.168.80.2:30301 err=nil\r\ngeth-miner-1     | TRACE[12-13|14:55:12.814|p2p/discover/v4_udp.go:732]             << NEIGHBORS/v4                          id=63cdb4cd0e3cc393 addr=192.168.80.2:30301 err=nil\r\ngeth-miner-1     | TRACE[12-13|14:55:12.820|p2p/discover/lookup.go:153]             Findnode failed                          id=63cdb4cd0e3cc393 failcount=2 err=\"RPC timeout\"\r\ngeth-miner-1     | TRACE[12-13|14:55:12.822|p2p/discover/v4_udp.go:664]             >> FINDNODE/v4                           id=63cdb4cd0e3cc393 addr=192.168.80.2:30301 err=nil\r\ngeth-miner-1     | TRACE[12-13|14:55:12.825|p2p/discover/v4_udp.go:732]             << NEIGHBORS/v4                          id=63cdb4cd0e3cc393 addr=192.168.80.2:30301 err=nil\r\ngeth-miner-1     | TRACE[12-13|14:55:13.310|p2p/discover/lookup.go:153]             Findnode failed                          id=63cdb4cd0e3cc393 failcount=3 err=\"RPC timeout\"\r\ngeth-miner-1     | TRACE[12-13|14:55:13.311|p2p/discover/v4_udp.go:664]             >> FINDNODE/v4                           id=63cdb4cd0e3cc393 addr=192.168.80.2:30301 err=nil\r\ngeth-miner-1     | TRACE[12-13|14:55:13.314|p2p/discover/v4_udp.go:732]             << NEIGHBORS/v4                          id=63cdb4cd0e3cc393 addr=192.168.80.2:30301 err=nil\r\ngeth-miner-1     | TRACE[12-13|14:55:13.321|p2p/discover/lookup.go:153]             Findnode failed                          id=63cdb4cd0e3cc393 failcount=3 err=\"RPC timeout\"\r\ngeth-miner-1     | TRACE[12-13|14:55:13.322|p2p/discover/v4_udp.go:664]             >> FINDNODE/v4                           id=63cdb4cd0e3cc393 addr=192.168.80.2:30301 err=nil\r\ngeth-miner-1     | TRACE[12-13|14:55:13.325|p2p/discover/v4_udp.go:732]             << NEIGHBORS/v4                          id=63cdb4cd0e3cc393 addr=192.168.80.2:30301 err=nil\r\ngeth-miner-1     | DEBUG[12-13|14:55:13.382|p2p/nat/nat.go:109]                     Couldn't add port mapping                proto=tcp extport=30303 intport=30303 interface=\"UPnP or NAT-PMP\" err=\"no UPnP or NAT-PMP router discovered\"\r\ngeth-miner-1     | DEBUG[12-13|14:55:13.382|p2p/nat/nat.go:109]                     Couldn't add port mapping                proto=udp extport=30303 intport=30303 interface=\"UPnP or NAT-PMP\" err=\"no UPnP or NAT-PMP router discovered\"\r\ngeth-miner-1     | TRACE[12-13|14:55:13.811|p2p/discover/lookup.go:153]             Findnode failed                          id=63cdb4cd0e3cc393 failcount=4 err=\"RPC timeout\"\r\ngeth-miner-1     | TRACE[12-13|14:55:13.813|p2p/discover/v4_udp.go:664]             >> FINDNODE/v4                           id=63cdb4cd0e3cc393 addr=192.168.80.2:30301 err=nil\r\ngeth-miner-1     | TRACE[12-13|14:55:13.818|p2p/discover/v4_udp.go:732]             << NEIGHBORS/v4                          id=63cdb4cd0e3cc393 addr=192.168.80.2:30301 err=nil\r\ngeth-miner-1     | TRACE[12-13|14:55:13.822|p2p/discover/lookup.go:153]             Findnode failed                          id=63cdb4cd0e3cc393 failcount=4 err=\"RPC timeout\"\r\ngeth-miner-1     | TRACE[12-13|14:55:14.312|p2p/discover/lookup.go:153]             Findnode failed                          id=63cdb4cd0e3cc393 failcount=5 err=\"RPC timeout\"\r\ngeth-miner-1     | TRACE[12-13|14:55:14.312|p2p/discover/lookup.go:155]             Too many findnode failures, dropping     id=63cdb4cd0e3cc393 failcount=5\r\ngeth-bootnode    | enode://11bbf563b5c203c2d813bbfe9694e6d029dc7aa828acabc7819394f7454a40dc86d7c5650dbf4ab168c7ad37f3669605935264cb7940597609ab6d7facca1e4d@127.0.0.1:0?discport=30301\r\ngeth-bootnode    | Note: you're using cmd/bootnode, a developer tool.\r\ngeth-bootnode    | We recommend using a regular node as bootstrap node for production deployments.\r\ngeth-bootnode    | INFO [12-13|14:55:09.803] New local node record                    seq=1 id=63cdb4cd0e3cc393 ip=<nil> udp=0 tcp=0\r\ngeth-miner-2     | DEBUG[12-13|14:55:31.156|eth/downloader/downloader.go:1796]      Recalculated downloader QoS values       rtt=20s confidence=1.000 ttl=1m0s\r\ngeth-miner-3     | DEBUG[12-13|14:55:31.185|eth/downloader/downloader.go:1796]      Recalculated downloader QoS values       rtt=20s confidence=1.000 ttl=1m0s\r\ngeth-miner-1     | DEBUG[12-13|14:55:31.229|eth/downloader/downloader.go:1796]      Recalculated downloader QoS values       rtt=20s confidence=1.000 ttl=1m0s\r\n```\r\n\r\nWhen I downgrade to geth ``v1.9.7`` I have no such issue.\r\n\r\ncc @fjl ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/565472043/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/638714023",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/20351#issuecomment-638714023",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20351",
    "id": 638714023,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzODcxNDAyMw==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-04T08:55:07Z",
    "updated_at": "2020-06-04T08:55:07Z",
    "author_association": "MEMBER",
    "body": "Does this still happen?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/638714023/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/677348655",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/20351#issuecomment-677348655",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20351",
    "id": 677348655,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3NzM0ODY1NQ==",
    "user": {
      "login": "adamschmideg",
      "id": 208822,
      "node_id": "MDQ6VXNlcjIwODgyMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/208822?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/adamschmideg",
      "html_url": "https://github.com/adamschmideg",
      "followers_url": "https://api.github.com/users/adamschmideg/followers",
      "following_url": "https://api.github.com/users/adamschmideg/following{/other_user}",
      "gists_url": "https://api.github.com/users/adamschmideg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/adamschmideg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/adamschmideg/subscriptions",
      "organizations_url": "https://api.github.com/users/adamschmideg/orgs",
      "repos_url": "https://api.github.com/users/adamschmideg/repos",
      "events_url": "https://api.github.com/users/adamschmideg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/adamschmideg/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-20T06:47:53Z",
    "updated_at": "2020-08-20T06:47:53Z",
    "author_association": "MEMBER",
    "body": "I assume this issue has been fixed. If the problem persists, please open a new issue.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/677348655/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
