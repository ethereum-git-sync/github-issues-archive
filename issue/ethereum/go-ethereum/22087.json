{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22087",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22087/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22087/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22087/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/22087",
  "id": 775666571,
  "node_id": "MDU6SXNzdWU3NzU2NjY1NzE=",
  "number": 22087,
  "title": "Fully Synced Archive Node on v1.9.25 - Missing Trie Node Errors on ETH Balance Calls, Yet Succeeds on Subsequent Attempts",
  "user": {
    "login": "ymonye",
    "id": 13838584,
    "node_id": "MDQ6VXNlcjEzODM4NTg0",
    "avatar_url": "https://avatars.githubusercontent.com/u/13838584?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ymonye",
    "html_url": "https://github.com/ymonye",
    "followers_url": "https://api.github.com/users/ymonye/followers",
    "following_url": "https://api.github.com/users/ymonye/following{/other_user}",
    "gists_url": "https://api.github.com/users/ymonye/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ymonye/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ymonye/subscriptions",
    "organizations_url": "https://api.github.com/users/ymonye/orgs",
    "repos_url": "https://api.github.com/users/ymonye/repos",
    "events_url": "https://api.github.com/users/ymonye/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ymonye/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 72233650,
      "node_id": "MDU6TGFiZWw3MjIzMzY1MA==",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:bug",
      "name": "type:bug",
      "color": "FF5E5E",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2020-12-29T02:38:23Z",
  "updated_at": "2021-01-23T05:07:00Z",
  "closed_at": "2021-01-23T05:06:56Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nGeth version: v1.9.25-stable-e7872729\r\nOS & Version: CentOS 7\r\nHardware: Dell PowerEdge R720, 128GB RAM, (8) Toshiba 1.92 TB SSDs in RAID-6\r\nCommit hash : e7872729012a4871397307b12cc3f4772ffcbec6\r\n\r\n#### Detail\r\n\r\nHi all. I have a few fully synced archive nodes for my company, running off Dell PowerEdge R720 servers with CentOS 7. Every now and then I receive a \"missing trie node\" error when attempting to retrieve ETH balance information from older blocks, then no error on subsequent attempts off the same ETH call.\r\n\r\nI haven't any idea if this is hardware related as I have the same problem across multiple servers. Perhaps I'd need to explore the same version of Geth used by Infura, optimized for cloud infra? I'd love to trouble-shoot this sometime (or in Discord), as a RAID-6 configuration is the only way I can store an archive node from an economical standpoint. I've also played with various cache settings and still received the error on random balance calls, yet it seems everything else works fine as far as gathering historical ETH data.\r\n\r\nArchive nodes were fully synced from scratch.\r\n\r\n#### Steps to reproduce the behaviour\r\ngeth --syncmode=full --gcmode=archive\r\n",
  "closed_by": {
    "login": "ymonye",
    "id": 13838584,
    "node_id": "MDQ6VXNlcjEzODM4NTg0",
    "avatar_url": "https://avatars.githubusercontent.com/u/13838584?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ymonye",
    "html_url": "https://github.com/ymonye",
    "followers_url": "https://api.github.com/users/ymonye/followers",
    "following_url": "https://api.github.com/users/ymonye/following{/other_user}",
    "gists_url": "https://api.github.com/users/ymonye/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ymonye/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ymonye/subscriptions",
    "organizations_url": "https://api.github.com/users/ymonye/orgs",
    "repos_url": "https://api.github.com/users/ymonye/repos",
    "events_url": "https://api.github.com/users/ymonye/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ymonye/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22087/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22087/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/752106168",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22087#issuecomment-752106168",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22087",
    "id": 752106168,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc1MjEwNjE2OA==",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-12-29T14:51:40Z",
    "updated_at": "2020-12-29T14:51:40Z",
    "author_association": "MEMBER",
    "body": "> then no error on subsequent attempts off the same ETH call.\r\n\r\nJust to be clear: the _exact_ same call parameters? ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/752106168/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/765868380",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22087#issuecomment-765868380",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22087",
    "id": 765868380,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2NTg2ODM4MA==",
    "user": {
      "login": "ymonye",
      "id": 13838584,
      "node_id": "MDQ6VXNlcjEzODM4NTg0",
      "avatar_url": "https://avatars.githubusercontent.com/u/13838584?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ymonye",
      "html_url": "https://github.com/ymonye",
      "followers_url": "https://api.github.com/users/ymonye/followers",
      "following_url": "https://api.github.com/users/ymonye/following{/other_user}",
      "gists_url": "https://api.github.com/users/ymonye/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ymonye/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ymonye/subscriptions",
      "organizations_url": "https://api.github.com/users/ymonye/orgs",
      "repos_url": "https://api.github.com/users/ymonye/repos",
      "events_url": "https://api.github.com/users/ymonye/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ymonye/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-23T05:06:56Z",
    "updated_at": "2021-01-23T05:06:56Z",
    "author_association": "NONE",
    "body": "> > then no error on subsequent attempts off the same ETH call.\r\n> \r\n> Just to be clear: the _exact_ same call parameters?\r\n\r\nHey Martin, this was resolved. I'm currently using a software (CentOS) RAID-6 setup, which heavily / negatively impacts overall performance versus a hardware RAID setup, which I plan to migrate to.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/765868380/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
