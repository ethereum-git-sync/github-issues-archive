{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16420",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16420/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16420/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16420/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/16420",
  "id": 310237862,
  "node_id": "MDU6SXNzdWUzMTAyMzc4NjI=",
  "number": 16420,
  "title": "Light client and wallet creation on smart device",
  "user": {
    "login": "therealdannzor",
    "id": 35889839,
    "node_id": "MDQ6VXNlcjM1ODg5ODM5",
    "avatar_url": "https://avatars.githubusercontent.com/u/35889839?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/therealdannzor",
    "html_url": "https://github.com/therealdannzor",
    "followers_url": "https://api.github.com/users/therealdannzor/followers",
    "following_url": "https://api.github.com/users/therealdannzor/following{/other_user}",
    "gists_url": "https://api.github.com/users/therealdannzor/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/therealdannzor/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/therealdannzor/subscriptions",
    "organizations_url": "https://api.github.com/users/therealdannzor/orgs",
    "repos_url": "https://api.github.com/users/therealdannzor/repos",
    "events_url": "https://api.github.com/users/therealdannzor/events{/privacy}",
    "received_events_url": "https://api.github.com/users/therealdannzor/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 10,
  "created_at": "2018-03-31T12:40:45Z",
  "updated_at": "2018-04-11T19:15:24Z",
  "closed_at": "2018-04-11T19:15:24Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Hi there,\r\n\r\nI'm trying to connect an android device to my private network (LAN) using the light (les) protocol. I have managed to do the basic of syncing blocks (https://github.com/ethereum/go-ethereum/wiki/Mobile-Clients:-Libraries-and-Inproc-Ethereum-Nodes) but now I am trying to create a wallet and invoke a smart contract deployed on the private blockchain. I am using the examples from https://medium.com/kin-contributors/web3j-vs-geth-code-comparison-9a228509a70b. I have managed to show the balance of the android device but there are two issues:\r\n\r\n1. Even when it is synchronized (i.e `admin.peers` show my device after using `admin.addPeer(\"enode://ID@localip:port\")`, the balance is not updated despite sending some ETH. \r\n2. If I close the android client and open it again, the program will no longer show the balance. Instead, when debugging, there is an exception `go.Universe$proxyerror: can't fetch trie keys <..hash..>: no suitable peers available`. This happens **only** after I have added the mobile peer once and synched it, else debugging shows no problem. (This means that the light client cannot interact with the blockchain without throwing this exception.)\r\n\r\n![lightclientwalletissue](https://user-images.githubusercontent.com/35889839/38163097-ce8f7470-3520-11e8-9ff0-ccaa35ce9c29.png)\r\n\r\nGeth version: `1.8.3-stable`\r\nOS & Version: macOS High Sierra 10.13.4\r\n\r\n#### Expected behaviour\r\nWhile connected to a private blockchain be able to create a wallet on a mobile device, return its balance and be able to once again have the opportunity to see the balance (after subsequently adding it as a peer).\r\n\r\n#### Actual behaviour\r\nDevice is connected to the private blockchain but jumps into an exception instead of showing wallet balance information. Note: public address of the android client is shown without any problem.\r\n\r\n#### Steps to reproduce the behaviour\r\n1. Configure private blockchain\r\n2. Create wallet:\r\n\r\n\r\n```java\r\n            final String keyStorePath = getFilesDir() + \"./key\";\r\n            final String passphrase = \"github\";\r\n            KeyStore keyStore = Geth.newKeyStore(keyStorePath, Geth.LightScryptN, Geth.LightScryptP);\r\n            Account account = keyStore.newAccount(passphrase);\r\n\r\n            Accounts accounts = keyStore.getAccounts();\r\n            Account firstAccount = accounts.get(0);\r\n            String publicAddress = firstAccount.getAddress().getHex();\r\n\r\n            Context context = Geth.newContext();\r\n            Address address = Geth.newAddressFromHex(publicAddress);\r\n            BigInt balance = ethereumClient.getBalanceAt(context, address, -1); //goes to exception after stepping past this line\r\n            textbox.append(\"ETH balance: \" + balance);\r\n```\r\n3. Add android client as a peer\r\n4. Restart the android application\r\n5. Observe that the balance is no longer shown and that the application jumps into an exception\r\n\r\n#### Misc error messages\r\n`E/GoLog: WARN [03-31|14:43:44] Stats server unreachable                 err=\"websocket.Dial ws://<computer_local_ip>:<number_2>/api: unexpected EOF\"`\r\n`W/System.err:     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1520)`\r\n\r\n```\r\nE/GoLog: INFO [03-31|14:54:07] Imported new block headers               count=0    elapsed=9.393ms   number=1984 hash=8444da…840491 ignored=192\r\nE/GoLog: INFO [03-31|14:54:07] Imported new block headers               count=0    elapsed=14.847ms  number=2176 hash=19d0ee…092f4a ignored=192\r\nE/GoLog: INFO [03-31|14:54:07] Imported new block headers               count=0    elapsed=9.463ms   number=2368 hash=64e7d1…10b25a ignored=192\r\nE/GoLog: INFO [03-31|14:54:07] Imported new block headers               count=0    elapsed=9.306ms   number=2560 hash=e7077e…366c61 ignored=192\r\nE/GoLog: INFO [03-31|14:54:07] Imported new block headers               count=64   elapsed=184.656ms number=2752 hash=4705bf…2934a0 ignored=128\r\nE/GoLog: ERROR[03-31|14:54:07] Non contiguous header insert             number=2771 hash=289b65…96cd1e parent=a9010c…eb600b prevnumber=2770 prevhash=f3d601…e4fc24\r\nE/GoLog: WARN [03-31|14:54:07] Rolled back headers                      count=64   header=2752->2688 fast=0->0 block=0->0\r\nE/GoLog: WARN [03-31|14:54:07] Synchronisation failed, dropping peer    peer=43cf4de1eef55fae err=\"retrieved hash chain is invalid\"\r\n```\r\n\r\nThanks,\r\nMobile blockchain enthusiast",
  "closed_by": {
    "login": "therealdannzor",
    "id": 35889839,
    "node_id": "MDQ6VXNlcjM1ODg5ODM5",
    "avatar_url": "https://avatars.githubusercontent.com/u/35889839?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/therealdannzor",
    "html_url": "https://github.com/therealdannzor",
    "followers_url": "https://api.github.com/users/therealdannzor/followers",
    "following_url": "https://api.github.com/users/therealdannzor/following{/other_user}",
    "gists_url": "https://api.github.com/users/therealdannzor/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/therealdannzor/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/therealdannzor/subscriptions",
    "organizations_url": "https://api.github.com/users/therealdannzor/orgs",
    "repos_url": "https://api.github.com/users/therealdannzor/repos",
    "events_url": "https://api.github.com/users/therealdannzor/events{/privacy}",
    "received_events_url": "https://api.github.com/users/therealdannzor/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16420/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16420/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/377690839",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/16420#issuecomment-377690839",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16420",
    "id": 377690839,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NzY5MDgzOQ==",
    "user": {
      "login": "ligi",
      "id": 111600,
      "node_id": "MDQ6VXNlcjExMTYwMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/111600?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ligi",
      "html_url": "https://github.com/ligi",
      "followers_url": "https://api.github.com/users/ligi/followers",
      "following_url": "https://api.github.com/users/ligi/following{/other_user}",
      "gists_url": "https://api.github.com/users/ligi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ligi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ligi/subscriptions",
      "organizations_url": "https://api.github.com/users/ligi/orgs",
      "repos_url": "https://api.github.com/users/ligi/repos",
      "events_url": "https://api.github.com/users/ligi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ligi/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-31T12:49:38Z",
    "updated_at": "2018-03-31T12:49:38Z",
    "author_association": "MEMBER",
    "body": "Thanks for the detailed report! Combining this with the information you gave on gitter: https://gitter.im/ethereum/light-client?at=5abc861327c509a774b5d9df\r\nThe following question arises: do you have a node being a light client server \"--lightserv\" in your private network setup?\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/377690839/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/377691270",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/16420#issuecomment-377691270",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16420",
    "id": 377691270,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NzY5MTI3MA==",
    "user": {
      "login": "therealdannzor",
      "id": 35889839,
      "node_id": "MDQ6VXNlcjM1ODg5ODM5",
      "avatar_url": "https://avatars.githubusercontent.com/u/35889839?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/therealdannzor",
      "html_url": "https://github.com/therealdannzor",
      "followers_url": "https://api.github.com/users/therealdannzor/followers",
      "following_url": "https://api.github.com/users/therealdannzor/following{/other_user}",
      "gists_url": "https://api.github.com/users/therealdannzor/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/therealdannzor/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/therealdannzor/subscriptions",
      "organizations_url": "https://api.github.com/users/therealdannzor/orgs",
      "repos_url": "https://api.github.com/users/therealdannzor/repos",
      "events_url": "https://api.github.com/users/therealdannzor/events{/privacy}",
      "received_events_url": "https://api.github.com/users/therealdannzor/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-31T12:57:16Z",
    "updated_at": "2018-03-31T12:57:16Z",
    "author_association": "NONE",
    "body": "Yes, I forgot to add that, my additional flags are:\r\n\r\n`geth --datadir <path> --networkid <number_1> --port <number_2>  --maxpeers 10 --rpc --rpcport <number_3> --targetgaslimit <very_high_number> -gasprice <high_number> --lightserv 50 --rpcaddr <computer_local_ip> --rpcapi personal,db,eth,net,web3 console`",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/377691270/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/377691351",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/16420#issuecomment-377691351",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16420",
    "id": 377691351,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NzY5MTM1MQ==",
    "user": {
      "login": "ligi",
      "id": 111600,
      "node_id": "MDQ6VXNlcjExMTYwMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/111600?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ligi",
      "html_url": "https://github.com/ligi",
      "followers_url": "https://api.github.com/users/ligi/followers",
      "following_url": "https://api.github.com/users/ligi/following{/other_user}",
      "gists_url": "https://api.github.com/users/ligi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ligi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ligi/subscriptions",
      "organizations_url": "https://api.github.com/users/ligi/orgs",
      "repos_url": "https://api.github.com/users/ligi/repos",
      "events_url": "https://api.github.com/users/ligi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ligi/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-31T12:58:39Z",
    "updated_at": "2018-03-31T13:01:37Z",
    "author_association": "MEMBER",
    "body": "Ah thanks - kindly invite @zsfelfoldi to have a look \r\nI think the crux here is the private network. In main,rinkeby and ropsten I did not see this problem - can get Balance there without a problem - also creating wallets like you do(they are independent from the network - so they really should not be the problem)",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/377691351/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/378946060",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/16420#issuecomment-378946060",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16420",
    "id": 378946060,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3ODk0NjA2MA==",
    "user": {
      "login": "therealdannzor",
      "id": 35889839,
      "node_id": "MDQ6VXNlcjM1ODg5ODM5",
      "avatar_url": "https://avatars.githubusercontent.com/u/35889839?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/therealdannzor",
      "html_url": "https://github.com/therealdannzor",
      "followers_url": "https://api.github.com/users/therealdannzor/followers",
      "following_url": "https://api.github.com/users/therealdannzor/following{/other_user}",
      "gists_url": "https://api.github.com/users/therealdannzor/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/therealdannzor/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/therealdannzor/subscriptions",
      "organizations_url": "https://api.github.com/users/therealdannzor/orgs",
      "repos_url": "https://api.github.com/users/therealdannzor/repos",
      "events_url": "https://api.github.com/users/therealdannzor/events{/privacy}",
      "received_events_url": "https://api.github.com/users/therealdannzor/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-05T13:59:59Z",
    "updated_at": "2018-04-05T13:59:59Z",
    "author_association": "NONE",
    "body": "It seems like this error/issue arises from the command `ec.getBalanceAt(context, address, -1)` and `ec.getBlockByNumber(ctx, -1)`, where the culprit is the latest block (-1). Curious if @karalabe managed to get his example from above to work by looking at the last one *and* be able to restart the application without problem. For me, it only works when I change index to 0 (genesis?) but then I have difficulties to actually access the last information (last mined block).",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/378946060/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/378948064",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/16420#issuecomment-378948064",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16420",
    "id": 378948064,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3ODk0ODA2NA==",
    "user": {
      "login": "ligi",
      "id": 111600,
      "node_id": "MDQ6VXNlcjExMTYwMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/111600?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ligi",
      "html_url": "https://github.com/ligi",
      "followers_url": "https://api.github.com/users/ligi/followers",
      "following_url": "https://api.github.com/users/ligi/following{/other_user}",
      "gists_url": "https://api.github.com/users/ligi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ligi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ligi/subscriptions",
      "organizations_url": "https://api.github.com/users/ligi/orgs",
      "repos_url": "https://api.github.com/users/ligi/repos",
      "events_url": "https://api.github.com/users/ligi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ligi/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-05T14:05:46Z",
    "updated_at": "2018-04-05T14:05:46Z",
    "author_association": "MEMBER",
    "body": "What I am doing there: using subscribeNewHead and then and then pass block.number there - does this work for you?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/378948064/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/378948897",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/16420#issuecomment-378948897",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16420",
    "id": 378948897,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3ODk0ODg5Nw==",
    "user": {
      "login": "therealdannzor",
      "id": 35889839,
      "node_id": "MDQ6VXNlcjM1ODg5ODM5",
      "avatar_url": "https://avatars.githubusercontent.com/u/35889839?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/therealdannzor",
      "html_url": "https://github.com/therealdannzor",
      "followers_url": "https://api.github.com/users/therealdannzor/followers",
      "following_url": "https://api.github.com/users/therealdannzor/following{/other_user}",
      "gists_url": "https://api.github.com/users/therealdannzor/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/therealdannzor/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/therealdannzor/subscriptions",
      "organizations_url": "https://api.github.com/users/therealdannzor/orgs",
      "repos_url": "https://api.github.com/users/therealdannzor/repos",
      "events_url": "https://api.github.com/users/therealdannzor/events{/privacy}",
      "received_events_url": "https://api.github.com/users/therealdannzor/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-05T14:08:16Z",
    "updated_at": "2018-04-05T14:08:16Z",
    "author_association": "NONE",
    "body": "Would you mind showing me what you mean by a code example?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/378948897/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/378949968",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/16420#issuecomment-378949968",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16420",
    "id": 378949968,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3ODk0OTk2OA==",
    "user": {
      "login": "ligi",
      "id": 111600,
      "node_id": "MDQ6VXNlcjExMTYwMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/111600?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ligi",
      "html_url": "https://github.com/ligi",
      "followers_url": "https://api.github.com/users/ligi/followers",
      "following_url": "https://api.github.com/users/ligi/following{/other_user}",
      "gists_url": "https://api.github.com/users/ligi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ligi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ligi/subscriptions",
      "organizations_url": "https://api.github.com/users/ligi/orgs",
      "repos_url": "https://api.github.com/users/ligi/repos",
      "events_url": "https://api.github.com/users/ligi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ligi/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-05T14:11:30Z",
    "updated_at": "2018-04-05T14:11:39Z",
    "author_association": "MEMBER",
    "body": "sure\r\n```kotlin\r\n ethereumNode.ethereumClient.subscribeNewHead(ethereumContext, object : NewHeadHandler {\r\n                        override fun onNewHead(header: Header) {\r\n                            val balance = ethereumNode.ethereumClient.getBalanceAt(ethereumContext, gethAddress, header.number)\r\n                        }\r\n\r\n                        override fun onError(msg: String?) {}\r\n\r\n                    }, 16)\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/378949968/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/378952715",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/16420#issuecomment-378952715",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16420",
    "id": 378952715,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3ODk1MjcxNQ==",
    "user": {
      "login": "therealdannzor",
      "id": 35889839,
      "node_id": "MDQ6VXNlcjM1ODg5ODM5",
      "avatar_url": "https://avatars.githubusercontent.com/u/35889839?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/therealdannzor",
      "html_url": "https://github.com/therealdannzor",
      "followers_url": "https://api.github.com/users/therealdannzor/followers",
      "following_url": "https://api.github.com/users/therealdannzor/following{/other_user}",
      "gists_url": "https://api.github.com/users/therealdannzor/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/therealdannzor/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/therealdannzor/subscriptions",
      "organizations_url": "https://api.github.com/users/therealdannzor/orgs",
      "repos_url": "https://api.github.com/users/therealdannzor/repos",
      "events_url": "https://api.github.com/users/therealdannzor/events{/privacy}",
      "received_events_url": "https://api.github.com/users/therealdannzor/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-05T14:19:57Z",
    "updated_at": "2018-04-05T14:19:57Z",
    "author_association": "NONE",
    "body": "Would that go in the scope of a new handler [below], or in the try-clause of connecting to a blockchain (node settings)?\r\n\r\n```\r\n[.....]\r\nNewHeadHandler handler = new NewHeadHandler()\r\n            {\r\n\r\n                @Override public void onError(String error)\r\n                {\r\n                    textbox.append(\"ERROR: String Error (Override)\");\r\n                }\r\n                @Override public void onNewHead(final Header header)\r\n                {\r\n                    MainActivity.this.runOnUiThread(new Runnable()\r\n                    {\r\n                        public void run()\r\n                        {\r\n                            textbox.append(\"Balance: \" + balance.toString() + \"\\n\"); //does not update\r\n                        }\r\n\r\n                    });\r\n                }\r\n                \r\n            };\r\n            ec.subscribeNewHead(ctx, handler,  16);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/378952715/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/378954660",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/16420#issuecomment-378954660",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16420",
    "id": 378954660,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3ODk1NDY2MA==",
    "user": {
      "login": "ligi",
      "id": 111600,
      "node_id": "MDQ6VXNlcjExMTYwMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/111600?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ligi",
      "html_url": "https://github.com/ligi",
      "followers_url": "https://api.github.com/users/ligi/followers",
      "following_url": "https://api.github.com/users/ligi/following{/other_user}",
      "gists_url": "https://api.github.com/users/ligi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ligi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ligi/subscriptions",
      "organizations_url": "https://api.github.com/users/ligi/orgs",
      "repos_url": "https://api.github.com/users/ligi/repos",
      "events_url": "https://api.github.com/users/ligi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ligi/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-05T14:25:44Z",
    "updated_at": "2018-04-05T14:25:44Z",
    "author_association": "MEMBER",
    "body": "not sure what you mean",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/378954660/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/378971825",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/16420#issuecomment-378971825",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16420",
    "id": 378971825,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3ODk3MTgyNQ==",
    "user": {
      "login": "therealdannzor",
      "id": 35889839,
      "node_id": "MDQ6VXNlcjM1ODg5ODM5",
      "avatar_url": "https://avatars.githubusercontent.com/u/35889839?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/therealdannzor",
      "html_url": "https://github.com/therealdannzor",
      "followers_url": "https://api.github.com/users/therealdannzor/followers",
      "following_url": "https://api.github.com/users/therealdannzor/following{/other_user}",
      "gists_url": "https://api.github.com/users/therealdannzor/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/therealdannzor/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/therealdannzor/subscriptions",
      "organizations_url": "https://api.github.com/users/therealdannzor/orgs",
      "repos_url": "https://api.github.com/users/therealdannzor/repos",
      "events_url": "https://api.github.com/users/therealdannzor/events{/privacy}",
      "received_events_url": "https://api.github.com/users/therealdannzor/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-05T15:15:10Z",
    "updated_at": "2018-04-05T16:10:47Z",
    "author_association": "NONE",
    "body": "Not sure where in your android app this code snippet should be placed to update continuously. Will it show the balance once or will update the variable `balance` as you transfer ETH to your mobile wallet?\r\n\r\n**EDIT**: got it to work after some help with translating it to Java. It works fine now thanks to @ligi.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/378971825/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
