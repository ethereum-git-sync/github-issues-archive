{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19851",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19851/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19851/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19851/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/19851",
  "id": 469406510,
  "node_id": "MDU6SXNzdWU0Njk0MDY1MTA=",
  "number": 19851,
  "title": "1.9.0 out of gas on eth_call ?",
  "user": {
    "login": "garyng2000",
    "id": 241666,
    "node_id": "MDQ6VXNlcjI0MTY2Ng==",
    "avatar_url": "https://avatars.githubusercontent.com/u/241666?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/garyng2000",
    "html_url": "https://github.com/garyng2000",
    "followers_url": "https://api.github.com/users/garyng2000/followers",
    "following_url": "https://api.github.com/users/garyng2000/following{/other_user}",
    "gists_url": "https://api.github.com/users/garyng2000/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/garyng2000/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/garyng2000/subscriptions",
    "organizations_url": "https://api.github.com/users/garyng2000/orgs",
    "repos_url": "https://api.github.com/users/garyng2000/repos",
    "events_url": "https://api.github.com/users/garyng2000/events{/privacy}",
    "received_events_url": "https://api.github.com/users/garyng2000/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "karalabe",
    "id": 129561,
    "node_id": "MDQ6VXNlcjEyOTU2MQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/karalabe",
    "html_url": "https://github.com/karalabe",
    "followers_url": "https://api.github.com/users/karalabe/followers",
    "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
    "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
    "organizations_url": "https://api.github.com/users/karalabe/orgs",
    "repos_url": "https://api.github.com/users/karalabe/repos",
    "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
    "received_events_url": "https://api.github.com/users/karalabe/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2019-07-17T19:37:32Z",
  "updated_at": "2020-08-27T08:59:29Z",
  "closed_at": "2020-06-25T08:53:16Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "\r\n\r\n#### System information\r\n\r\nGeth version: 1.9.0\r\nOS & Version: Windows 10 64 bit\r\nCommit hash : \r\n\r\n#### Expected behaviour\r\nI use eth_call to call constant function, say balanceOf in ERC20. It works perfectly before moving the node to 1.9.0\r\n\r\n#### Actual behaviour\r\nsame code(no change of client rpc call) not always give me 'out of gas'. I tried to add --rpc.gascap 8000000 but still fails. \r\n\r\nThis is a private network, not the public mainnet node\r\n\r\n#### Steps to reproduce the behaviour\r\n\r\n\r\n#### Backtrace\r\n\r\n````\r\n[backtrace]\r\n````\r\n",
  "closed_by": {
    "login": "holiman",
    "id": 142290,
    "node_id": "MDQ6VXNlcjE0MjI5MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/holiman",
    "html_url": "https://github.com/holiman",
    "followers_url": "https://api.github.com/users/holiman/followers",
    "following_url": "https://api.github.com/users/holiman/following{/other_user}",
    "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
    "organizations_url": "https://api.github.com/users/holiman/orgs",
    "repos_url": "https://api.github.com/users/holiman/repos",
    "events_url": "https://api.github.com/users/holiman/events{/privacy}",
    "received_events_url": "https://api.github.com/users/holiman/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19851/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19851/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/512568045",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/19851#issuecomment-512568045",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19851",
    "id": 512568045,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxMjU2ODA0NQ==",
    "user": {
      "login": "garyng2000",
      "id": 241666,
      "node_id": "MDQ6VXNlcjI0MTY2Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/241666?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/garyng2000",
      "html_url": "https://github.com/garyng2000",
      "followers_url": "https://api.github.com/users/garyng2000/followers",
      "following_url": "https://api.github.com/users/garyng2000/following{/other_user}",
      "gists_url": "https://api.github.com/users/garyng2000/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/garyng2000/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/garyng2000/subscriptions",
      "organizations_url": "https://api.github.com/users/garyng2000/orgs",
      "repos_url": "https://api.github.com/users/garyng2000/repos",
      "events_url": "https://api.github.com/users/garyng2000/events{/privacy}",
      "received_events_url": "https://api.github.com/users/garyng2000/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-07-17T21:04:26Z",
    "updated_at": "2019-07-17T21:04:26Z",
    "author_association": "NONE",
    "body": "ok, it seems that the 'default' behavior changed. when I made the eth_call, I deliberately set to gas to 0(thought it is irrelevant as it is not transaction). It worked in the past but now I have to set something > 0. So I just set the --rpc.gascap to 8000000 and set 8000000 in eth_call and now it goes through.\r\n\r\nHowever, setting 8000000 for the estimate_gas call doesn't work.\r\n\r\nIs there any more info about this relatively new feature ? I cannot find anything other than a short mentioning of it and it seems that it actually has significant meaning some where inside the code",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/512568045/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/649393234",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/19851#issuecomment-649393234",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19851",
    "id": 649393234,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0OTM5MzIzNA==",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-25T08:53:16Z",
    "updated_at": "2020-06-25T08:53:16Z",
    "author_association": "MEMBER",
    "body": "This ticket is ~1 year old. Sorry we didn't act on it sooner, but by now it's probably not relevant. We changed how calls and estimategas works, since previously it depended on what the coinbase of the executing node was. Whereas now, we use `0x00` for sender unless explicitly set, and use a gasprice of `0`. \r\nI'll close this, please reopen if you still see something buggy in this area. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/649393234/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
