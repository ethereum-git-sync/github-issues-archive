{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/14857",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/14857/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/14857/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/14857/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/14857",
  "id": 245179923,
  "node_id": "MDU6SXNzdWUyNDUxNzk5MjM=",
  "number": 14857,
  "title": "testnet dir not created when --datadir is used",
  "user": {
    "login": "jeromer",
    "id": 93039,
    "node_id": "MDQ6VXNlcjkzMDM5",
    "avatar_url": "https://avatars.githubusercontent.com/u/93039?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jeromer",
    "html_url": "https://github.com/jeromer",
    "followers_url": "https://api.github.com/users/jeromer/followers",
    "following_url": "https://api.github.com/users/jeromer/following{/other_user}",
    "gists_url": "https://api.github.com/users/jeromer/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jeromer/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jeromer/subscriptions",
    "organizations_url": "https://api.github.com/users/jeromer/orgs",
    "repos_url": "https://api.github.com/users/jeromer/repos",
    "events_url": "https://api.github.com/users/jeromer/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jeromer/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2017-07-24T19:11:42Z",
  "updated_at": "2017-07-25T15:48:32Z",
  "closed_at": "2017-07-25T15:48:32Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nGeth version: `geth version`\r\n\r\n```\r\nVersion: 1.6.7-stable\r\nGit Commit: ab5646c532292b51e319f290afccf6a44f874372\r\nArchitecture: amd64\r\nProtocol Versions: [63 62]\r\nNetwork Id: 1\r\nGo Version: go1.8.3\r\nOperating System: freebsd\r\nGOPATH=\r\nGOROOT=/usr/local/go\r\n```\r\n\r\nOS & Version: Windows/Linux/OSX\r\n\r\n`FreeBSD 11.0-RELEASE-p9 FreeBSD 11.0-RELEASE-p9 #0: Tue Apr 11 08:48:40 UTC 2017     root@amd64-builder.daemonology.net:/usr/obj/usr/src/sys/GENERIC  amd64`\r\n\r\nCommit hash : (if `develop`)\r\n\r\n#### Expected behaviour\r\n\r\nThe `testnet` directory should be created. It is not.\r\n\r\n#### Actual behaviour\r\n\r\nDirectory not created\r\n\r\n#### Steps to reproduce the behaviour\r\nWithout `--datadir`:\r\n```\r\n$ ./build/bin/geth --testnet --fast --cache=512\r\nINFO [07-24|19:04:52] Starting peer-to-peer node               instance=Geth/v1.6.7-stable-ab5646c5/freebsd-amd64/go1.8.3\r\nINFO [07-24|19:04:52] Allocated cache and file handles         database=/home/iznogoud/.ethereum/testnet/geth/chaindata cache=512 handles=1024\r\n[...]\r\nINFO [07-24|19:04:52] Disk storage enabled for ethash caches   dir=/home/iznogoud/.ethereum/testnet/geth/ethash count=3\r\nINFO [07-24|19:04:52] Disk storage enabled for ethash DAGs     dir=/home/iznogoud/.ethash                       count=2\r\n[...]\r\n\r\n$ find ~/.ethereum/\r\n/home/iznogoud/.ethereum/\r\n/home/iznogoud/.ethereum/testnet\r\n[...]\r\n```\r\n\r\nWith `datadir`:\r\n\r\n```\r\n$ ./build/bin/geth --testnet --fast --cache=512 --datadir ~/.ethereum                                                                                                 \r\nINFO [07-24|19:05:47] Starting peer-to-peer node               instance=Geth/v1.6.7-stable-ab5646c5/freebsd-amd64/go1.8.3\r\nINFO [07-24|19:05:47] Allocated cache and file handles         database=/home/iznogoud/.ethereum/geth/chaindata cache=512 handles=1024\r\n[...]\r\nINFO [07-24|19:05:48] Disk storage enabled for ethash caches   dir=/home/iznogoud/.ethereum/geth/ethash count=3\r\nINFO [07-24|19:05:48] Disk storage enabled for ethash DAGs     dir=/home/iznogoud/.ethash               count=2\r\n[...]\r\n\r\n$ find ~/.ethereum/                                                                                                                                                   \r\n/home/iznogoud/.ethereum/\r\n/home/iznogoud/.ethereum/keystore\r\n/home/iznogoud/.ethereum/geth\r\n/home/iznogoud/.ethereum/geth/chaindata\r\n/home/iznogoud/.ethereum/geth/chaindata/MANIFEST-000000\r\n/home/iznogoud/.ethereum/geth/chaindata/LOG\r\n/home/iznogoud/.ethereum/geth/chaindata/LOCK\r\n/home/iznogoud/.ethereum/geth/chaindata/CURRENT\r\n/home/iznogoud/.ethereum/geth/chaindata/000001.log\r\n/home/iznogoud/.ethereum/geth/nodekey\r\n/home/iznogoud/.ethereum/geth/LOCK\r\n```",
  "closed_by": {
    "login": "karalabe",
    "id": 129561,
    "node_id": "MDQ6VXNlcjEyOTU2MQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/karalabe",
    "html_url": "https://github.com/karalabe",
    "followers_url": "https://api.github.com/users/karalabe/followers",
    "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
    "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
    "organizations_url": "https://api.github.com/users/karalabe/orgs",
    "repos_url": "https://api.github.com/users/karalabe/repos",
    "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
    "received_events_url": "https://api.github.com/users/karalabe/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/14857/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/14857/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/317728381",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/14857#issuecomment-317728381",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/14857",
    "id": 317728381,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNzcyODM4MQ==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-07-25T12:55:37Z",
    "updated_at": "2017-07-25T12:55:37Z",
    "author_association": "MEMBER",
    "body": "This is a feature, not a bug. The testnet has an implicit datadir for itself. If you however manually override that, it's assumed that you actually want to use the folder you specified, not some arbitrary subfolder there. The original behavior of placing it inside `your-custom-datadir/testnet` was a bug.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/317728381/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
