{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26020",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26020/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26020/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26020/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/26020",
  "id": 1417802407,
  "node_id": "I_kwDOAOvK985UgfKn",
  "number": 26020,
  "title": "```findBeaconAncestor```: panic: runtime error: invalid memory address or nil pointer dereference",
  "user": {
    "login": "mikoim",
    "id": 3958340,
    "node_id": "MDQ6VXNlcjM5NTgzNDA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/3958340?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/mikoim",
    "html_url": "https://github.com/mikoim",
    "followers_url": "https://api.github.com/users/mikoim/followers",
    "following_url": "https://api.github.com/users/mikoim/following{/other_user}",
    "gists_url": "https://api.github.com/users/mikoim/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/mikoim/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mikoim/subscriptions",
    "organizations_url": "https://api.github.com/users/mikoim/orgs",
    "repos_url": "https://api.github.com/users/mikoim/repos",
    "events_url": "https://api.github.com/users/mikoim/events{/privacy}",
    "received_events_url": "https://api.github.com/users/mikoim/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 72233650,
      "node_id": "MDU6TGFiZWw3MjIzMzY1MA==",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:bug",
      "name": "type:bug",
      "color": "FF5E5E",
      "default": false,
      "description": ""
    },
    {
      "id": 1132754722,
      "node_id": "MDU6TGFiZWwxMTMyNzU0NzIy",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/need:more-information",
      "name": "need:more-information",
      "color": "db6fa3",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2022-10-21T06:10:08Z",
  "updated_at": "2022-12-09T15:50:05Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nGeth version: 1.10.25-stable\r\nCL client & version: nimbus 22.10.1\r\nOS & Version: Ubuntu 22.04 x86_64\r\nCommit hash : 69568c554880b3567bace64f8848ff1be27d084d\r\n\r\n#### Expected behaviour\r\ngeth follow chain normally\r\n\r\n#### Actual behaviour\r\ngeth crashes in synchronizing blockchain\r\n\r\n#### Steps to reproduce the behaviour\r\n- geth --cache 32768 --datadir /ethereum/execution/geth --http --http.api eth,net,engine,admin --authrpc.jwtsecret /ethereum/consensus/jwt.hex\r\n\r\n#### Backtrace\r\n\r\n````\r\nINFO [10-21|05:42:23.981] Loaded most recent local header          number=15,792,402 hash=d20d2e..94ce66 td=58,750,003,716,598,352,816,469 age=6h52m48s                                                                                                             \r\nINFO [10-21|05:42:23.981] Loaded most recent local full block      number=0          hash=d4e567..cb8fa3 td=17,179,869,184                 age=53y6mo3w                                                                                                             \r\nINFO [10-21|05:42:23.981] Loaded most recent local fast block      number=15,792,402 hash=d20d2e..94ce66 td=58,750,003,716,598,352,816,469 age=6h52m48s                                                                                                             \r\nINFO [10-21|05:42:23.981] Loaded last fast-sync pivot marker       number=15,794,326                                                                                                                                                                                \r\nWARN [10-21|05:42:23.981] Rolled back chain segment                header=15794451->15792402 snap=15794326->15792402 block=15794326->0 reason=\"syncing canceled (requested)\"                                                                                        \r\nINFO [10-21|05:42:23.981] Downloader queue stats                   receiptTasks=0     blockTasks=0     itemSize=247.61KiB throttle=1059                                                                                                                             \r\nWARN [10-21|05:42:23.982] Ignoring payload while snap syncing      number=15,794,461 hash=5e0c2d..ddbd38                                                                                                                                                            \r\nWARN [10-21|05:42:23.982] Forkchoice requested unknown head        hash=d09e66..9bdc6c                                                                                                                                                                              \r\nWARN [10-21|05:42:23.982] Forkchoice requested unknown head        hash=f1e491..a3062a                                                                                                                                                                              \r\nWARN [10-21|05:42:23.983] Forkchoice requested unknown head        hash=5fe70b..c57b16                                                                                                                                                                              \r\nINFO [10-21|05:42:23.983] Forkchoice requested sync to new head    number=15,794,456 hash=d759b0..c64ad9                                                                                                                                                            \r\nINFO [10-21|05:42:23.983] Aborting state snapshot generation       root=6dec36..e8f79f at=012fe3..67c609 accounts=856,931              slots=9,377,481             storage=814.74MiB  dangling=0 elapsed=1m47.987s     eta=6h26m20.61s                              \r\nWARN [10-21|05:42:23.983] Beacon chain gapped                      head=15,794,452 newHead=15,794,456                                                                                                                                                               \r\nWARN [10-21|05:42:23.985] Forkchoice requested unknown head        hash=ebc2f0..bc8dc5                                                                                                                                                                              \r\nINFO [10-21|05:42:23.985] Forkchoice requested sync to new head    number=15,794,458 hash=ea09d5..6fe247                                                                                                                                                            \r\nWARN [10-21|05:42:23.986] Beacon chain gapped                      head=15,794,456 newHead=15,794,458                                                                                                                                                               \r\nERROR[10-21|05:42:23.986] Failed to clean stale beacon headers     err=\"filled header below beacon header tail: 15792402 < 15794456\"                                                                                                                                \r\nINFO [10-21|05:42:23.986] Forkchoice requested sync to new head    number=15,794,459 hash=357d0b..4c1f17                                                                                                                                                            \r\nINFO [10-21|05:42:23.987] Forkchoice requested sync to new head    number=15,794,460 hash=29805e..202f11                                                                                                                                                            \r\npanic: runtime error: invalid memory address or nil pointer dereference                                                                                                                                                                                             \r\n[signal SIGSEGV: segmentation violation code=0x1 addr=0x1c0 pc=0xa99b16]                                                                                                                                                                                            \r\n                                                                                                                                                                                                                                                                    \r\ngoroutine 5916628 [running]:                                                                                                                                                                                                                                        \r\ngithub.com/ethereum/go-ethereum/eth/downloader.(*Downloader).findBeaconAncestor(0xc0004be600)                                                                                                                                                                       \r\n        github.com/ethereum/go-ethereum/eth/downloader/beaconsync.go:250 +0x636                                                                                                                                                                                     \r\ngithub.com/ethereum/go-ethereum/eth/downloader.(*Downloader).syncWithPeer(0xc0004be600, 0x0, {0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, ...}, ...)                                                                                                                    \r\n        github.com/ethereum/go-ethereum/eth/downloader/downloader.go:527 +0x911                                                                                                                                                                                     \r\ngithub.com/ethereum/go-ethereum/eth/downloader.(*Downloader).synchronise(0xa8a229?, {0x0, 0x0}, {0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, ...}, ...)                                                                                                                      \r\n        github.com/ethereum/go-ethereum/eth/downloader/downloader.go:439 +0x505                                                                                                                                                                                     \r\ngithub.com/ethereum/go-ethereum/eth/downloader.(*beaconBackfiller).resume.func1()                                                                                                                                                                                   \r\n        github.com/ethereum/go-ethereum/eth/downloader/beaconsync.go:108 +0x96                                                                                                                                                                                      \r\ncreated by github.com/ethereum/go-ethereum/eth/downloader.(*beaconBackfiller).resume                                                                                                                                                                                \r\n        github.com/ethereum/go-ethereum/eth/downloader/beaconsync.go:98 +0x132\r\n````",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26020/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26020/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1290492056",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/26020#issuecomment-1290492056",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26020",
    "id": 1290492056,
    "node_id": "IC_kwDOAOvK985M61iY",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-25T12:42:20Z",
    "updated_at": "2022-10-25T12:42:20Z",
    "author_association": "MEMBER",
    "body": "Does this happen after a restart? If so, please run with `--vmodule=downloader=5` and send us the logs.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1290492056/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1344465456",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/26020#issuecomment-1344465456",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26020",
    "id": 1344465456,
    "node_id": "IC_kwDOAOvK985QIuow",
    "user": {
      "login": "HamidullahMuslih",
      "id": 54779762,
      "node_id": "MDQ6VXNlcjU0Nzc5NzYy",
      "avatar_url": "https://avatars.githubusercontent.com/u/54779762?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/HamidullahMuslih",
      "html_url": "https://github.com/HamidullahMuslih",
      "followers_url": "https://api.github.com/users/HamidullahMuslih/followers",
      "following_url": "https://api.github.com/users/HamidullahMuslih/following{/other_user}",
      "gists_url": "https://api.github.com/users/HamidullahMuslih/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/HamidullahMuslih/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/HamidullahMuslih/subscriptions",
      "organizations_url": "https://api.github.com/users/HamidullahMuslih/orgs",
      "repos_url": "https://api.github.com/users/HamidullahMuslih/repos",
      "events_url": "https://api.github.com/users/HamidullahMuslih/events{/privacy}",
      "received_events_url": "https://api.github.com/users/HamidullahMuslih/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-12-09T15:48:00Z",
    "updated_at": "2022-12-09T15:48:15Z",
    "author_association": "NONE",
    "body": "My Goerli node have similar issue. Reported [here ](https://github.com/ethereum/go-ethereum/issues/26338)\r\n\r\nany updates on this please?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1344465456/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
