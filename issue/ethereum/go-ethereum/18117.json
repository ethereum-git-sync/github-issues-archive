{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/18117",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/18117/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/18117/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/18117/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/18117",
  "id": 381309474,
  "node_id": "MDU6SXNzdWUzODEzMDk0NzQ=",
  "number": 18117,
  "title": "--rpcaddr and --wsaddr should support netmasks",
  "user": {
    "login": "dimroc",
    "id": 635121,
    "node_id": "MDQ6VXNlcjYzNTEyMQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/635121?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/dimroc",
    "html_url": "https://github.com/dimroc",
    "followers_url": "https://api.github.com/users/dimroc/followers",
    "following_url": "https://api.github.com/users/dimroc/following{/other_user}",
    "gists_url": "https://api.github.com/users/dimroc/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/dimroc/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/dimroc/subscriptions",
    "organizations_url": "https://api.github.com/users/dimroc/orgs",
    "repos_url": "https://api.github.com/users/dimroc/repos",
    "events_url": "https://api.github.com/users/dimroc/events{/privacy}",
    "received_events_url": "https://api.github.com/users/dimroc/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 72233652,
      "node_id": "MDU6TGFiZWw3MjIzMzY1Mg==",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:feature",
      "name": "type:feature",
      "color": "84b6eb",
      "default": false,
      "description": null
    },
    {
      "id": 1132689577,
      "node_id": "MDU6TGFiZWwxMTMyNjg5NTc3",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/status:triage",
      "name": "status:triage",
      "color": "6be514",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 7,
  "created_at": "2018-11-15T19:38:02Z",
  "updated_at": "2019-12-19T09:45:45Z",
  "closed_at": "2019-12-19T09:45:45Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Hi there,\r\n\r\nIt would be fantastic from an ops perspective to have a feature that limits RPC and WS to IPs that adhere to a netmask. This would allow devops to restrict calls to internal ip addresses as defined by https://en.wikipedia.org/wiki/Private_network and [RFC 1918](https://tools.ietf.org/html/rfc1918):\r\n\r\n* `10.0.0.0/8`\r\n* `172.16.0.0/12`\r\n* `192.168.0.0/16`\r\n\r\nUsage: `geth --rpc ---rpcaddr \"10.0.0.0/8\"`\r\n\r\n#### System information\r\n\r\nGeth version: `1.8.18`\r\nOS & Version: Windows/Linux/OSX\r\n\r\n#### Expected behaviour\r\n\r\n```\r\n---rpcaddr \"10.0.0.0/8\"\r\n```\r\n\r\nonly allows IPs adhering to the mask to make JSON-RPC calls.\r\n\r\n#### Actual behaviour\r\n\r\nErrors out with:\r\n\r\n```\r\nFatal: Error starting protocol stack: listen tcp: lookup 10.0.0.0/8: no such host\r\n```\r\n\r\n#### Steps to reproduce the behaviour\r\n\r\n```\r\ngeth --rpc --rpcaddr \"10.0.0.0/8\" --testnet\r\ngeth --ws --wsaddr \"10.0.0.0/8\" --testnet\r\n```",
  "closed_by": {
    "login": "holiman",
    "id": 142290,
    "node_id": "MDQ6VXNlcjE0MjI5MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/holiman",
    "html_url": "https://github.com/holiman",
    "followers_url": "https://api.github.com/users/holiman/followers",
    "following_url": "https://api.github.com/users/holiman/following{/other_user}",
    "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
    "organizations_url": "https://api.github.com/users/holiman/orgs",
    "repos_url": "https://api.github.com/users/holiman/repos",
    "events_url": "https://api.github.com/users/holiman/events{/privacy}",
    "received_events_url": "https://api.github.com/users/holiman/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/18117/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/18117/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/439334640",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/18117#issuecomment-439334640",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/18117",
    "id": 439334640,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzOTMzNDY0MA==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-16T09:31:06Z",
    "updated_at": "2018-11-16T09:31:06Z",
    "author_association": "MEMBER",
    "body": "These are not the source addresses that are allowed to connect. The address is the network interface inside your own machine that you want to listen on.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/439334640/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/448158895",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/18117#issuecomment-448158895",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/18117",
    "id": 448158895,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0ODE1ODg5NQ==",
    "user": {
      "login": "gballet",
      "id": 3272758,
      "node_id": "MDQ6VXNlcjMyNzI3NTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3272758?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gballet",
      "html_url": "https://github.com/gballet",
      "followers_url": "https://api.github.com/users/gballet/followers",
      "following_url": "https://api.github.com/users/gballet/following{/other_user}",
      "gists_url": "https://api.github.com/users/gballet/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gballet/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gballet/subscriptions",
      "organizations_url": "https://api.github.com/users/gballet/orgs",
      "repos_url": "https://api.github.com/users/gballet/repos",
      "events_url": "https://api.github.com/users/gballet/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gballet/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-12-18T09:43:15Z",
    "updated_at": "2018-12-18T09:43:15Z",
    "author_association": "MEMBER",
    "body": "@dimroc this would be redundant with what a packet filter like bpf does. What would be the advantage of implementing this in geth?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/448158895/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/448209878",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/18117#issuecomment-448209878",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/18117",
    "id": 448209878,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0ODIwOTg3OA==",
    "user": {
      "login": "dimroc",
      "id": 635121,
      "node_id": "MDQ6VXNlcjYzNTEyMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/635121?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dimroc",
      "html_url": "https://github.com/dimroc",
      "followers_url": "https://api.github.com/users/dimroc/followers",
      "following_url": "https://api.github.com/users/dimroc/following{/other_user}",
      "gists_url": "https://api.github.com/users/dimroc/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dimroc/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dimroc/subscriptions",
      "organizations_url": "https://api.github.com/users/dimroc/orgs",
      "repos_url": "https://api.github.com/users/dimroc/repos",
      "events_url": "https://api.github.com/users/dimroc/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dimroc/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-12-18T12:50:27Z",
    "updated_at": "2018-12-18T12:50:27Z",
    "author_association": "NONE",
    "body": "@gballet It would be. Just thought it would ease deployment on a node you want to restrict to internal ips.\r\n\r\nCurrently, the purpose of this field seems to be to constrain connecting ips to either localhost or all (0.0.0.0). Rather than having a whole netmask, we could compromise by adding a third option that only limits it to internal ips as defined by RFC 1918.\r\n\r\nFar easier operationally to configure than managing your own BPF, but I understand if this is something you don't want to include in `go-ethereum`.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/448209878/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/452244615",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/18117#issuecomment-452244615",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/18117",
    "id": 452244615,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1MjI0NDYxNQ==",
    "user": {
      "login": "fjl",
      "id": 6915,
      "node_id": "MDQ6VXNlcjY5MTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6915?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjl",
      "html_url": "https://github.com/fjl",
      "followers_url": "https://api.github.com/users/fjl/followers",
      "following_url": "https://api.github.com/users/fjl/following{/other_user}",
      "gists_url": "https://api.github.com/users/fjl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fjl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fjl/subscriptions",
      "organizations_url": "https://api.github.com/users/fjl/orgs",
      "repos_url": "https://api.github.com/users/fjl/repos",
      "events_url": "https://api.github.com/users/fjl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fjl/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-08T10:11:49Z",
    "updated_at": "2019-01-08T10:15:33Z",
    "author_association": "MEMBER",
    "body": "You don't need to restrict the source IPs because listening on the appropriate address will already restrict who can connect.\r\n\r\n- If you use `--rpcaddr 127.0.0.1`, nobody outside of localhost will be able to connect.\r\n- If you use `--rpcaddr 10.0.0.1` (i.e. put your host's LAN IP), nobody outside your local network will be able to connect.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/452244615/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/452244811",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/18117#issuecomment-452244811",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/18117",
    "id": 452244811,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1MjI0NDgxMQ==",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-08T10:12:30Z",
    "updated_at": "2019-01-08T10:12:30Z",
    "author_association": "MEMBER",
    "body": "Use `iptables` or whatever the firewall the distro is bundled with.  ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/452244811/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/452294492",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/18117#issuecomment-452294492",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/18117",
    "id": 452294492,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1MjI5NDQ5Mg==",
    "user": {
      "login": "dimroc",
      "id": 635121,
      "node_id": "MDQ6VXNlcjYzNTEyMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/635121?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dimroc",
      "html_url": "https://github.com/dimroc",
      "followers_url": "https://api.github.com/users/dimroc/followers",
      "following_url": "https://api.github.com/users/dimroc/following{/other_user}",
      "gists_url": "https://api.github.com/users/dimroc/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dimroc/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dimroc/subscriptions",
      "organizations_url": "https://api.github.com/users/dimroc/orgs",
      "repos_url": "https://api.github.com/users/dimroc/repos",
      "events_url": "https://api.github.com/users/dimroc/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dimroc/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-08T13:16:34Z",
    "updated_at": "2019-01-08T13:16:34Z",
    "author_association": "NONE",
    "body": "@fjl Just to clarify, what you've listed is the ask. Right now the only legal options for `--rpcaddr` are\r\n* 0.0.0.0\r\n* localhost\r\n\r\nYes, all of this can be done with a firewall. But so could everything to do with the current implementation of `rpcaddr/wsaddr`. It exists for ease of security and use, which is what this request wants to build on.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/452294492/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/567415609",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/18117#issuecomment-567415609",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/18117",
    "id": 567415609,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2NzQxNTYwOQ==",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-19T09:45:21Z",
    "updated_at": "2019-12-19T09:45:40Z",
    "author_association": "MEMBER",
    "body": "> But so could everything to do with the current implementation of rpcaddr/wsaddr. It exists for ease of security and use, which is what this request wants to build on.\r\n\r\nNo, the `rpcaddr` specifies which interface we should listen to. It's not about security or ease of use, it's simply impossible to open an rpc service unless we know what interface to use. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/567415609/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
