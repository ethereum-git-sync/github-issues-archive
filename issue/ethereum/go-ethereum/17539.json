{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17539",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17539/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17539/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17539/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/17539",
  "id": 354687732,
  "node_id": "MDU6SXNzdWUzNTQ2ODc3MzI=",
  "number": 17539,
  "title": "Ropsten won't sync in geth",
  "user": {
    "login": "smartwombat",
    "id": 8438931,
    "node_id": "MDQ6VXNlcjg0Mzg5MzE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/8438931?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/smartwombat",
    "html_url": "https://github.com/smartwombat",
    "followers_url": "https://api.github.com/users/smartwombat/followers",
    "following_url": "https://api.github.com/users/smartwombat/following{/other_user}",
    "gists_url": "https://api.github.com/users/smartwombat/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/smartwombat/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/smartwombat/subscriptions",
    "organizations_url": "https://api.github.com/users/smartwombat/orgs",
    "repos_url": "https://api.github.com/users/smartwombat/repos",
    "events_url": "https://api.github.com/users/smartwombat/events{/privacy}",
    "received_events_url": "https://api.github.com/users/smartwombat/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 856638432,
      "node_id": "MDU6TGFiZWw4NTY2Mzg0MzI=",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/status:inactive",
      "name": "status:inactive",
      "color": "ffffff",
      "default": false,
      "description": null
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2018-08-28T11:26:29Z",
  "updated_at": "2019-10-18T20:14:51Z",
  "closed_at": "2019-10-18T20:14:51Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Geth version: 1.8.13\r\nOS & Version: Windows 10\r\n\r\n#### Expected behaviour\r\nWell it seems obvious, I expect geth to synchronise.\r\n\r\n#### Actual behaviour\r\nRepeated errors \"Head headers broke chain ordering\" each followed by several hours when no new chain segments are imported, in some cases over 6 hours.\r\n\r\n#### Steps to reproduce the behaviour\r\n**geth --testnet 2>>geth.log**\r\n\r\nIt could be there is just a bad peer, and blacklisting it could make synchronisation succeed.\r\nI notice that it's always the same peer when it fails.\r\n\r\n```\r\n  | WARN [08-27\\|09:45:00.382] Head headers broke chain ordering        peer=**6332792c4a00e3e4** index=0 requested=3918572 received=3918768\r\n-- | --\r\n  | WARN [08-28\\|04:52:09.041] Head headers broke chain ordering        peer=**6332792c4a00e3e4** index=0 requested=3923599 received=3923812\r\n-- | --\r\n  | WARN [08-28\\|11:08:40.897] Head headers broke chain ordering        peer=**6332792c4a00e3e4** index=0 requested=3925339 received=3925547\r\n-- | --\r\n```\r\nAnd after each failure it takes several hours for synchronisation to continue.\r\n\r\nI know that Ropsten is a test network, but if that smaller chain can't be synchronised, then how reliable will the mainnnet be ?\r\n\r\nIn contrast a Parity node has been maintaining sync on Ropsten since last week with no issues.",
  "closed_by": {
    "login": "stale[bot]",
    "id": 26384082,
    "node_id": "MDM6Qm90MjYzODQwODI=",
    "avatar_url": "https://avatars.githubusercontent.com/in/1724?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/stale%5Bbot%5D",
    "html_url": "https://github.com/apps/stale",
    "followers_url": "https://api.github.com/users/stale%5Bbot%5D/followers",
    "following_url": "https://api.github.com/users/stale%5Bbot%5D/following{/other_user}",
    "gists_url": "https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/stale%5Bbot%5D/subscriptions",
    "organizations_url": "https://api.github.com/users/stale%5Bbot%5D/orgs",
    "repos_url": "https://api.github.com/users/stale%5Bbot%5D/repos",
    "events_url": "https://api.github.com/users/stale%5Bbot%5D/events{/privacy}",
    "received_events_url": "https://api.github.com/users/stale%5Bbot%5D/received_events",
    "type": "Bot",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17539/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17539/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/416862196",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/17539#issuecomment-416862196",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17539",
    "id": 416862196,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxNjg2MjE5Ng==",
    "user": {
      "login": "caesarchad",
      "id": 17776934,
      "node_id": "MDQ6VXNlcjE3Nzc2OTM0",
      "avatar_url": "https://avatars.githubusercontent.com/u/17776934?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/caesarchad",
      "html_url": "https://github.com/caesarchad",
      "followers_url": "https://api.github.com/users/caesarchad/followers",
      "following_url": "https://api.github.com/users/caesarchad/following{/other_user}",
      "gists_url": "https://api.github.com/users/caesarchad/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/caesarchad/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/caesarchad/subscriptions",
      "organizations_url": "https://api.github.com/users/caesarchad/orgs",
      "repos_url": "https://api.github.com/users/caesarchad/repos",
      "events_url": "https://api.github.com/users/caesarchad/events{/privacy}",
      "received_events_url": "https://api.github.com/users/caesarchad/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-29T08:00:41Z",
    "updated_at": "2018-08-29T08:27:20Z",
    "author_association": "CONTRIBUTOR",
    "body": "Tried to reproduce your error\r\n![_20180829160026](https://user-images.githubusercontent.com/17776934/44774031-aa99ea00-aba4-11e8-805f-7f66fa06140c.png)\r\n![_20180829162632](https://user-images.githubusercontent.com/17776934/44775485-542eaa80-aba8-11e8-8b3c-30f5cc4ee8d3.png)\r\nLooks like some peers are always failed to connect. Seems a network problem.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/416862196/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/416961331",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/17539#issuecomment-416961331",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17539",
    "id": 416961331,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxNjk2MTMzMQ==",
    "user": {
      "login": "smartwombat",
      "id": 8438931,
      "node_id": "MDQ6VXNlcjg0Mzg5MzE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8438931?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/smartwombat",
      "html_url": "https://github.com/smartwombat",
      "followers_url": "https://api.github.com/users/smartwombat/followers",
      "following_url": "https://api.github.com/users/smartwombat/following{/other_user}",
      "gists_url": "https://api.github.com/users/smartwombat/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/smartwombat/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/smartwombat/subscriptions",
      "organizations_url": "https://api.github.com/users/smartwombat/orgs",
      "repos_url": "https://api.github.com/users/smartwombat/repos",
      "events_url": "https://api.github.com/users/smartwombat/events{/privacy}",
      "received_events_url": "https://api.github.com/users/smartwombat/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-29T13:51:51Z",
    "updated_at": "2018-08-29T13:51:51Z",
    "author_association": "NONE",
    "body": "I'm thinking that it's related to the peers I can connect to.\r\nFrom behind a corporate firewall, with port 30303 not open.\r\nAll I can connect to is the shared peer addresses that are communicated from other nodes.\r\nAnd it's not going well, I seem to get poor quality peers.\r\n\r\n`INFO [08-28|14:16:43.220] Block synchronisation started \r\nINFO [08-28|14:16:44.984] Imported new chain segment               blocks=2 txs=41 mgas=7.709 elapsed=675.654ms mgasps=11.410 number=3925533 hash=408486…d664d0 cache=264.64kB\r\nINFO [08-28|14:16:45.832] Imported new chain segment               blocks=14 txs=251 mgas=36.582 elapsed=847.091ms mgasps=43.186 number=3925547 hash=c45044…87fe90 cache=1.77mB\r\nINFO [08-28|14:16:53.849] Imported new chain segment               blocks=116 txs=1885 mgas=353.217 elapsed=8.011s    mgasps=44.087 number=3925663 hash=685c1f…bda9e3 cache=14.14mB\r\nINFO [08-28|14:16:58.578] Imported new chain segment               blocks=125 txs=2340 mgas=266.090 elapsed=4.729s    mgasps=56.261 number=3925788 hash=9ea967…b8018a cache=16.77mB\r\nINFO [08-28|14:17:06.637] Imported new chain segment               blocks=283 txs=4083 mgas=572.158 elapsed=8.050s    mgasps=71.072 number=3926071 hash=bf321a…4028d5 cache=18.88mB\r\nINFO [08-28|14:17:14.497] Imported new chain segment               blocks=314 txs=4646 mgas=561.178 elapsed=7.859s    mgasps=71.405 number=3926385 hash=734a37…2dbeac cache=23.86mB\r\nINFO [08-28|15:15:56.715] Regenerated local transaction journal    transactions=0 accounts=0\r\nINFO [08-28|16:15:56.731] Regenerated local transaction journal    transactions=0 accounts=0\r\nINFO [08-28|17:15:56.745] Regenerated local transaction journal    transactions=0 accounts=0\r\nINFO [08-28|18:15:56.781] Regenerated local transaction journal    transactions=0 accounts=0\r\nINFO [08-28|19:15:56.923] Regenerated local transaction journal    transactions=0 accounts=0\r\nINFO [08-28|20:15:57.008] Regenerated local transaction journal    transactions=0 accounts=0\r\nINFO [08-28|21:15:57.060] Regenerated local transaction journal    transactions=0 accounts=0\r\nINFO [08-28|22:15:57.095] Regenerated local transaction journal    transactions=0 accounts=0\r\nINFO [08-28|23:15:57.120] Regenerated local transaction journal    transactions=0 accounts=0\r\nINFO [08-29|00:15:57.140] Regenerated local transaction journal    transactions=0 accounts=0\r\nINFO [08-29|01:15:57.157] Regenerated local transaction journal    transactions=0 accounts=0\r\nINFO [08-29|02:15:57.175] Regenerated local transaction journal    transactions=0 accounts=0\r\nINFO [08-29|03:15:57.198] Regenerated local transaction journal    transactions=0 accounts=0\r\nINFO [08-29|04:15:57.344] Regenerated local transaction journal    transactions=0 accounts=0\r\nINFO [08-29|05:15:57.429] Regenerated local transaction journal    transactions=0 accounts=0\r\nINFO [08-29|06:15:57.489] Regenerated local transaction journal    transactions=0 accounts=0\r\nINFO [08-29|07:15:57.519] Regenerated local transaction journal    transactions=0 accounts=0\r\nINFO [08-29|08:15:57.545] Regenerated local transaction journal    transactions=0 accounts=0\r\nINFO [08-29|08:18:25.717] Imported new chain segment               blocks=2   txs=28   mgas=3.499   elapsed=118.214ms mgasps=29.601 number=3926387 hash=be7dd6…2cbd0e cache=23.88mB\r\nINFO [08-29|08:18:28.451] Imported new chain segment               blocks=9   txs=112  mgas=15.087  elapsed=2.412s    mgasps=6.253  number=3926396 hash=cf8934…917d47 cache=23.90mB\r\nINFO [08-29|08:18:34.977] Imported new chain segment               blocks=112 txs=2216 mgas=249.366 elapsed=6.522s    mgasps=38.230 number=3926508 hash=01e59e…d89945 cache=26.67mB\r\nINFO [08-29|08:18:43.002] Imported new chain segment               blocks=121 txs=1639 mgas=231.606 elapsed=8.003s    mgasps=28.940 number=3926629 hash=257776…824044 cache=27.04mB\r\nINFO [08-29|08:18:51.073] Imported new chain segment               blocks=213 txs=3144 mgas=353.351 elapsed=8.070s    mgasps=43.785 number=3926842 hash=ab3b1f…1837da cache=29.54mB\r\nINFO [08-29|08:18:59.078] Imported new chain segment               blocks=319 txs=6011 mgas=599.495 elapsed=8.005s    mgasps=74.883 number=3927161 hash=723f63…80850f cache=32.07mB\r\nINFO [08-29|08:19:07.097] Imported new chain segment               blocks=272 txs=6037 mgas=591.732 elapsed=8.018s    mgasps=73.793 number=3927433 hash=cc6093…5b43b1 cache=35.42mB\r\nINFO [08-29|08:19:14.031] Imported new chain segment               blocks=234 txs=4035 mgas=571.337 elapsed=6.933s    mgasps=82.404 number=3927667 hash=7090b7…eeced3 cache=36.11mB\r\nINFO [08-29|08:19:22.068] Imported new chain segment               blocks=156 txs=1851 mgas=470.453 elapsed=8.002s    mgasps=58.785 number=3927823 hash=ddc5db…c62f4d cache=38.83mB\r\nINFO [08-29|08:19:30.210] Imported new chain segment               blocks=349 txs=4628 mgas=1004.620 elapsed=8.141s    mgasps=123.390 number=3928172 hash=1e5828…d0dc66 cache=39.73mB\r\nINFO [08-29|08:19:38.227] Imported new chain segment               blocks=383 txs=6123 mgas=871.975  elapsed=8.016s    mgasps=108.767 number=3928555 hash=614035…4a0049 cache=43.34mB\r\nINFO [08-29|08:19:46.246] Imported new chain segment               blocks=350 txs=4699 mgas=546.063  elapsed=8.019s    mgasps=68.095  number=3928905 hash=c7be7f…b71fc4 cache=45.67mB\r\nINFO [08-29|08:19:54.276] Imported new chain segment               blocks=387 txs=4182 mgas=500.223  elapsed=8.030s    mgasps=62.291  number=3929292 hash=7f4ee9…a21119 cache=45.83mB\r\nINFO [08-29|08:20:02.653] Imported new chain segment               blocks=265 txs=3723 mgas=432.423  elapsed=8.376s    mgasps=51.620  number=3929557 hash=a7c987…d55263 cache=50.18mB\r\nINFO [08-29|08:20:07.825] Imported new chain segment               blocks=158 txs=2980 mgas=280.934  elapsed=5.171s    mgasps=54.321  number=3929715 hash=fd3d93…9233dc cache=52.64mB\r\nINFO [08-29|08:20:15.913] Imported new chain segment               blocks=215 txs=3133 mgas=397.691  elapsed=8.050s    mgasps=49.397  number=3929930 hash=978090…6e393b cache=54.75mB\r\nINFO [08-29|08:20:23.948] Imported new chain segment               blocks=259 txs=4050 mgas=488.194  elapsed=8.035s    mgasps=60.757  number=3930189 hash=7da983…67e4c7 cache=55.24mB\r\nINFO [08-29|08:20:31.995] Imported new chain segment               blocks=264 txs=3741 mgas=599.190  elapsed=8.046s    mgasps=74.465  number=3930453 hash=670319…1f5566 cache=57.78mB\r\nINFO [08-29|08:20:39.997] Imported new chain segment               blocks=293 txs=4133 mgas=858.018  elapsed=8.001s    mgasps=107.228 number=3930746 hash=66d400…71d903 cache=62.05mB\r\nINFO [08-29|08:20:45.742] Imported new chain segment               blocks=175 txs=2696 mgas=417.455  elapsed=5.744s    mgasps=72.667  number=3930921 hash=f4a0c2…ad26f2 cache=66.59mB\r\nINFO [08-29|09:15:57.564] Regenerated local transaction journal    transactions=0 accounts=0\r\nINFO [08-29|10:15:57.583] Regenerated local transaction journal    transactions=0 accounts=0\r\nINFO [08-29|11:15:57.596] Regenerated local transaction journal    transactions=0 accounts=0\r\nINFO [08-29|12:15:57.610] Regenerated local transaction journal    transactions=0 accounts=0\r\nINFO [08-29|13:15:57.753] Regenerated local transaction journal    transactions=0 accounts=0\r\nINFO [08-29|14:15:57.844] Regenerated local transaction journal    transactions=0 accounts=0\r\n`\r\n\r\nIf this is indicative of the issues we will face on the mainnet, and the issues our customers will face if they try to run their own nodes, commercially it's not going to be a success.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/416961331/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/418765398",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/17539#issuecomment-418765398",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17539",
    "id": 418765398,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxODc2NTM5OA==",
    "user": {
      "login": "smartwombat",
      "id": 8438931,
      "node_id": "MDQ6VXNlcjg0Mzg5MzE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8438931?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/smartwombat",
      "html_url": "https://github.com/smartwombat",
      "followers_url": "https://api.github.com/users/smartwombat/followers",
      "following_url": "https://api.github.com/users/smartwombat/following{/other_user}",
      "gists_url": "https://api.github.com/users/smartwombat/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/smartwombat/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/smartwombat/subscriptions",
      "organizations_url": "https://api.github.com/users/smartwombat/orgs",
      "repos_url": "https://api.github.com/users/smartwombat/repos",
      "events_url": "https://api.github.com/users/smartwombat/events{/privacy}",
      "received_events_url": "https://api.github.com/users/smartwombat/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-05T15:05:35Z",
    "updated_at": "2018-09-05T15:05:35Z",
    "author_association": "NONE",
    "body": "Seems that the issue may be caused by a bad peer.\r\nThis week it has synchronised.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/418765398/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/528950895",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/17539#issuecomment-528950895",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17539",
    "id": 528950895,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyODk1MDg5NQ==",
    "user": {
      "login": "stale[bot]",
      "id": 26384082,
      "node_id": "MDM6Qm90MjYzODQwODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/1724?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stale%5Bbot%5D",
      "html_url": "https://github.com/apps/stale",
      "followers_url": "https://api.github.com/users/stale%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/stale%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stale%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/stale%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/stale%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/stale%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stale%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2019-09-06T17:50:31Z",
    "updated_at": "2019-09-06T17:50:31Z",
    "author_association": "NONE",
    "body": "This issue has been automatically marked as stale because it has not had recent activity. It will be closed if no further activity occurs. Thank you for your contributions.\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/528950895/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
