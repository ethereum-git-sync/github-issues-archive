{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22771",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22771/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22771/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22771/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/22771",
  "id": 871012433,
  "node_id": "MDU6SXNzdWU4NzEwMTI0MzM=",
  "number": 22771,
  "title": "Error \"Bad block\"",
  "user": {
    "login": "mikel2000",
    "id": 7446969,
    "node_id": "MDQ6VXNlcjc0NDY5Njk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/7446969?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/mikel2000",
    "html_url": "https://github.com/mikel2000",
    "followers_url": "https://api.github.com/users/mikel2000/followers",
    "following_url": "https://api.github.com/users/mikel2000/following{/other_user}",
    "gists_url": "https://api.github.com/users/mikel2000/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/mikel2000/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mikel2000/subscriptions",
    "organizations_url": "https://api.github.com/users/mikel2000/orgs",
    "repos_url": "https://api.github.com/users/mikel2000/repos",
    "events_url": "https://api.github.com/users/mikel2000/events{/privacy}",
    "received_events_url": "https://api.github.com/users/mikel2000/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 72233650,
      "node_id": "MDU6TGFiZWw3MjIzMzY1MA==",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:bug",
      "name": "type:bug",
      "color": "FF5E5E",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2021-04-29T13:24:13Z",
  "updated_at": "2021-04-29T15:14:48Z",
  "closed_at": "2021-04-29T15:12:08Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\r\nGeth version:\r\nVersion: 1.10.1-stable\r\nGit Commit: c2d2f4ed8f232bb11663a1b01a2e578aa22f24bd\r\nGit Commit Date: 20210308\r\nArchitecture: amd64\r\nGo Version: go1.16\r\nOperating System: linux\r\nGOPATH=\r\nGOROOT=go\r\n\r\nYesterday I found in the log the following error. The same error messages repeats several times. Finally the server resumes working normally. This occurred on two different servers, so I assume, that it's not a server specific problem. \r\n\r\n```\r\nWARN [04-28|20:54:14.280] Failed to load old bad blocks            error=\"leveldb: not found\"\r\nERROR[04-28|20:54:14.298]\r\n########## BAD BLOCK #########\r\nChain config: {ChainID: 1 Homestead: 1150000 DAO: 1920000 DAOSupport: true EIP150: 2463000 EIP155: 2675000 EIP158: 2675000 Byzantium: 4370000 Constantinople: 7280000 Petersburg: 7280000 Istanbul: 9069000, Muir Glacier: 9200000, Berlin: 12244000, YOLO v3: <nil>, Engine: ethash}\r\n\r\nNumber: 12330686\r\nHash: 0xfcf34e5f4e403c24c1b70eb1a46c3bda99d45b10fa3d261f2ebf0d2c20867423\r\n         0: cumulative: 21000 gas: 21000 contract: 0x0000000000000000000000000000000000000000 status: 1 tx: 0xc834252f73a4f0157fc41924080a9bf2782fd1e0f740cdd1b3011a15db51def1 logs: [] bloom: 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000 state:\r\n...\r\n         444: cumulative: 14952636 gas: 21000 contract: 0x0000000000000000000000000000000000000000 status: 1 tx: 0x462eb6a9dbaf1f8706af8af7b5319707207ff3ed5eef3bbd32f6aa20842dde90 logs: [] bloom: 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000 state:\r\n\r\nError: invalid merkle root (remote: 79933dd27171e0cc7459bba2c4879762e2e392e25db4560cb66b1c02c39b5545 local: 36e2428c5177cb706bd876d591b01889a86e02f6ab8d75ed0b74846a8fe3354b)\r\n##############################\r\n\r\nINFO [04-28|20:54:14.712] Skip duplicated bad block                number=12330686 hash=\"fcf34e…867423\"\r\n```\r\nStarting here, the same error message from above repeats several times.\r\n\r\nI just found, that the same error also occurred for block 12330852.",
  "closed_by": {
    "login": "karalabe",
    "id": 129561,
    "node_id": "MDQ6VXNlcjEyOTU2MQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/karalabe",
    "html_url": "https://github.com/karalabe",
    "followers_url": "https://api.github.com/users/karalabe/followers",
    "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
    "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
    "organizations_url": "https://api.github.com/users/karalabe/orgs",
    "repos_url": "https://api.github.com/users/karalabe/repos",
    "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
    "received_events_url": "https://api.github.com/users/karalabe/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22771/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22771/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/829273265",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22771#issuecomment-829273265",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22771",
    "id": 829273265,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyOTI3MzI2NQ==",
    "user": {
      "login": "yorickdowne",
      "id": 71337066,
      "node_id": "MDQ6VXNlcjcxMzM3MDY2",
      "avatar_url": "https://avatars.githubusercontent.com/u/71337066?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yorickdowne",
      "html_url": "https://github.com/yorickdowne",
      "followers_url": "https://api.github.com/users/yorickdowne/followers",
      "following_url": "https://api.github.com/users/yorickdowne/following{/other_user}",
      "gists_url": "https://api.github.com/users/yorickdowne/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yorickdowne/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yorickdowne/subscriptions",
      "organizations_url": "https://api.github.com/users/yorickdowne/orgs",
      "repos_url": "https://api.github.com/users/yorickdowne/repos",
      "events_url": "https://api.github.com/users/yorickdowne/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yorickdowne/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-29T14:13:37Z",
    "updated_at": "2021-04-29T14:22:25Z",
    "author_association": "NONE",
    "body": "Yup seeing the same, so not likely to be DB corruption caused by hardware failure: Not if it happens on the same block on entirely disparate servers.\r\n\r\nIn my case this is `Geth/v1.10.2-stable-97d11b01/linux-amd64/go1.16.3` on Ubuntu 20.04\r\n\r\nCould this be related to #22728 ?\r\n\r\n```\r\neth1_1    | INFO [04-28|18:54:06.634] Imported new chain segment               blocks=1    txs=235    mgas=14.970  elapsed=265.300ms   mgasps=56.428  number=12330685 hash=\"e4772a…d7a535\" dirty=1022.20MiB\r\neth1_1    | INFO [04-28|18:54:06.636] Unindexed transactions                   blocks=1    txs=64     tail=9980686 elapsed=1.723ms\r\neth1_1    | WARN [04-28|18:54:14.553] Failed to load old bad blocks            error=\"leveldb: not found\"\r\neth1_1    | ERROR[04-28|18:54:14.585]\r\neth1_1    | ########## BAD BLOCK #########\r\neth1_1    | Chain config: {ChainID: 1 Homestead: 1150000 DAO: 1920000 DAOSupport: true EIP150: 2463000 EIP155: 2675000 EIP158: 2675000 Byzantium: 4370000 Constantinople: 7280000 Petersburg: 7280000 Istanbul: 9069000, Muir Glacier: 9200000, Berlin: 12244000, YOLO v3: <nil>, Engine: ethash}\r\neth1_1    |\r\neth1_1    | Number: 12330686\r\neth1_1    | Hash: 0xfcf34e5f4e403c24c1b70eb1a46c3bda99d45b10fa3d261f2ebf0d2c20867423\r\n```\r\n\r\nand\r\n\r\n```\r\neth1_1    | INFO [04-28|19:30:45.994] Imported new chain segment               blocks=1    txs=415    mgas=14.976  elapsed=288.364ms   mgasps=51.934  number=12330851 hash=\"fd8c80…c072c7\" dirty=1022.26MiB\r\neth1_1    | INFO [04-28|19:30:45.997] Unindexed transactions                   blocks=1    txs=96     tail=9980852 elapsed=2.233ms\r\neth1_1    | INFO [04-28|19:30:50.184] Deep froze chain segment                 blocks=6    elapsed=17.647ms    number=12240851 hash=\"975911…5a49c5\"\r\neth1_1    | ERROR[04-28|19:31:46.151]\r\neth1_1    | ########## BAD BLOCK #########\r\neth1_1    | Chain config: {ChainID: 1 Homestead: 1150000 DAO: 1920000 DAOSupport: true EIP150: 2463000 EIP155: 2675000 EIP158: 2675000 Byzantium: 4370000 Constantinople: 7280000 Petersburg: 7280000 Istanbul: 9069000, Muir Glacier: 9200000, Berlin: 12244000, YOLO v3: <nil>, Engine: ethash}\r\neth1_1    |\r\neth1_1    | Number: 12330852\r\neth1_1    | Hash: 0xbc9e15b17e3a132773825bd463cb5cf6949a5de991fdb62e2940e85b0ccc0ff9\r\n```\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/829273265/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/829300102",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22771#issuecomment-829300102",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22771",
    "id": 829300102,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyOTMwMDEwMg==",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-29T14:46:05Z",
    "updated_at": "2021-04-29T14:46:05Z",
    "author_association": "MEMBER",
    "body": "Those are actually bad, not a local problem. Besu reports them aswell. See https://forkmon.ethdevops.io/",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/829300102/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 1
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/829311524",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22771#issuecomment-829311524",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22771",
    "id": 829311524,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyOTMxMTUyNA==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-29T15:00:45Z",
    "updated_at": "2021-04-29T15:00:45Z",
    "author_association": "MEMBER",
    "body": "The question is why they exist in the first place. We need to find who mined them, maybe something's of there.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/829311524/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/829318092",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22771#issuecomment-829318092",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22771",
    "id": 829318092,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyOTMxODA5Mg==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-29T15:08:38Z",
    "updated_at": "2021-04-29T15:08:38Z",
    "author_association": "MEMBER",
    "body": "\"Flexpool/S1/SE - Rome\" and \"Flexpool/H0/SE - Seattle\"",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/829318092/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/829322014",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22771#issuecomment-829322014",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22771",
    "id": 829322014,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyOTMyMjAxNA==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-29T15:12:08Z",
    "updated_at": "2021-04-29T15:12:08Z",
    "author_association": "MEMBER",
    "body": "Closing this issue as the bad blocks are indeed bad. We'll continue investigating where they come from.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/829322014/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/829324216",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22771#issuecomment-829324216",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22771",
    "id": 829324216,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyOTMyNDIxNg==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-29T15:14:48Z",
    "updated_at": "2021-04-29T15:14:48Z",
    "author_association": "MEMBER",
    "body": "<img width=\"629\" alt=\"Screen_Shot_2021-04-29_at_8 12 46_AM\" src=\"https://user-images.githubusercontent.com/129561/116574826-c25a3b00-a916-11eb-87a2-97449df33fdc.png\">\r\n\r\nNot a bug.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/829324216/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
