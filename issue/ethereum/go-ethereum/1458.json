{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/1458",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/1458/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/1458/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/1458/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/1458",
  "id": 94167025,
  "node_id": "MDU6SXNzdWU5NDE2NzAyNQ==",
  "number": 1458,
  "title": "watch() is fired immediately on private chain",
  "user": {
    "login": "ethers",
    "id": 6937903,
    "node_id": "MDQ6VXNlcjY5Mzc5MDM=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6937903?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ethers",
    "html_url": "https://github.com/ethers",
    "followers_url": "https://api.github.com/users/ethers/followers",
    "following_url": "https://api.github.com/users/ethers/following{/other_user}",
    "gists_url": "https://api.github.com/users/ethers/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ethers/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ethers/subscriptions",
    "organizations_url": "https://api.github.com/users/ethers/orgs",
    "repos_url": "https://api.github.com/users/ethers/repos",
    "events_url": "https://api.github.com/users/ethers/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ethers/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2015-07-09T22:31:26Z",
  "updated_at": "2015-07-09T22:50:18Z",
  "closed_at": "2015-07-09T22:50:18Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "Geth\nVersion: 0.9.39\nGit Commit: 5a810758dbe75dce9537d464ac0e5b5385b0e78f\nProtocol Versions: [61 60]\nNetwork Id: 0\nGo Version: go1.4.2\n\nprivate chain, note the blocknumber is 0xd4\n\n```\nI0709 15:19:30.678148   15479 mergedapi.go:61] eth_blockNumber []\nI0709 15:19:30.678230   15479 types.go:105] Generated response: *shared.SuccessResponse &{%!s(float64=7) 2.0 0xd4}\n```\n\nsend a transaction and watch for an event\n\n```\nI0709 15:20:06.777060   15479 mergedapi.go:61] eth_sendTransaction [{\"value\":\"0x78cad1e25d0000\",\"gas\":\"0x7a120\",\"to\":\"0xc53a82b9b7c9af4801c7d8ea531719e7657aff3c\",\"data\":\"0x66f7e56c000000000000000000000000a0dc485fc3ade71be5e1b68397abded386c0adb70000000000000000000000000000000000000000000000000078cad1e25d00000000000000000000000000000000000000000000000000000000002e90edd000\",\"from\":\"0xcd2a3d9f938e13cd947ec05abc7fe734df8dd826\"}]\nI0709 15:20:06.836476   15479 transaction_pool.go:241] (t) 6364326133643966 => c53a82b9 (0x5185a0) d2f28ab99fccdf6e5d11a7c0f5a854b90aa24b22dc7afdc67e657e1123033757\nI0709 15:20:06.860652   15479 xeth.go:951] Tx(32081dda35dcecde578d669a3a45228c058cbf2e1127c003ec1a5a157af474b5) to: &c53a82b9b7c9af4801c7d8ea531719e7657aff3c\nI0709 15:20:06.860841   15479 types.go:105] Generated response: *shared.SuccessResponse &{%!s(float64=5) 2.0 0xd2f28ab99fccdf6e5d11a7c0f5a854b90aa24b22dc7afdc67e657e1123033757}\nI0709 15:20:06.861046   15479 http_net.go:123] Sending payload: {\n    \"id\": 5,\n    \"jsonrpc\": \"2.0\",\n    \"result\": \"0xd2f28ab99fccdf6e5d11a7c0f5a854b90aa24b22dc7afdc67e657e1123033757\"\n}\nI0709 15:20:06.893825   15479 mergedapi.go:61] eth_newFilter [{\"topics\":[\"0x340eed3f3c99bab750b52a0c2b0a298eed8da5dee4fab03848edcc164bad9832\",\"0x0000000000000000000000000000000000000000000000000000000000000000\"],\"address\":\"0xc53a82b9b7c9af4801c7d8ea531719e7657aff3c\",\"fromBlock\":\"latest\",\"toBlock\":\"latest\"}]\nI0709 15:20:06.894148   15479 types.go:105] Generated response: *shared.SuccessResponse &{%!s(float64=6) 2.0 0x0}\nI0709 15:20:06.894273   15479 http_net.go:123] Sending payload: {\n    \"id\": 6,\n    \"jsonrpc\": \"2.0\",\n    \"result\": \"0x0\"\n}\nI0709 15:20:06.947814   15479 mergedapi.go:61] eth_getFilterLogs [\"0x0\"]\nI0709 15:20:06.948648   15479 types.go:105] Generated response: *shared.SuccessResponse &{%!s(float64=7) 2.0 [{0xc53a82b9b7c9af4801c7d8ea531719e7657aff3c [0x340eed3f3c99bab750b52a0c2b0a298eed8da5dee4fab03848edcc164bad9832 0x0000000000000000000000000000000000000000000000000000000000000000] 0x0000000000000000000000000000000000000000000000000000000000000009 0xd4 0x0 0x0000000000000000000000000000000000000000000000000000000000000000 0x7e4c4fb7048d587774d45f36adc2d55dca9c9477471e22b3b56f5f1631bc813f 0x0} {0xc53a82b9b7c9af4801c7d8ea531719e7657aff3c [0x340eed3f3c99bab750b52a0c2b0a298eed8da5dee4fab03848edcc164bad9832 0x0000000000000000000000000000000000000000000000000000000000000000] 0x000000000000000000000000000000000000000000000000000000000000000a 0xd4 0x0 0x0000000000000000000000000000000000000000000000000000000000000000 0xd36a8de72982472c44660464e8d8416eeb871d739ffbf9ea15909231720d1e7e 0x0}]}\nI0709 15:20:06.949181   15479 http_net.go:123] Sending payload: {\n    \"id\": 7,\n    \"jsonrpc\": \"2.0\",\n    \"result\": [\n        {\n            \"address\": \"0xc53a82b9b7c9af4801c7d8ea531719e7657aff3c\",\n            \"topics\": [\n                \"0x340eed3f3c99bab750b52a0c2b0a298eed8da5dee4fab03848edcc164bad9832\",\n                \"0x0000000000000000000000000000000000000000000000000000000000000000\"\n            ],\n            \"data\": \"0x0000000000000000000000000000000000000000000000000000000000000009\",\n            \"blockNumber\": \"0xd4\",\n            \"logIndex\": \"0x0\",\n            \"blockHash\": \"0x0000000000000000000000000000000000000000000000000000000000000000\",\n            \"transactionHash\": \"0x7e4c4fb7048d587774d45f36adc2d55dca9c9477471e22b3b56f5f1631bc813f\",\n            \"transactionIndex\": \"0x0\"\n        },\n        {\n            \"address\": \"0xc53a82b9b7c9af4801c7d8ea531719e7657aff3c\",\n            \"topics\": [\n                \"0x340eed3f3c99bab750b52a0c2b0a298eed8da5dee4fab03848edcc164bad9832\",\n                \"0x0000000000000000000000000000000000000000000000000000000000000000\"\n            ],\n            \"data\": \"0x000000000000000000000000000000000000000000000000000000000000000a\",\n            \"blockNumber\": \"0xd4\",\n            \"logIndex\": \"0x0\",\n            \"blockHash\": \"0x0000000000000000000000000000000000000000000000000000000000000000\",\n            \"transactionHash\": \"0xd36a8de72982472c44660464e8d8416eeb871d739ffbf9ea15909231720d1e7e\",\n            \"transactionIndex\": \"0x0\"\n        }\n    ]\n}\nI0709 15:20:07.023642   15479 mergedapi.go:61] eth_uninstallFilter [\"0x0\"]\nI0709 15:20:07.023898   15479 types.go:105] Generated response: *shared.SuccessResponse &{%!s(float64=8) 2.0 %!s(bool=true)}\nI0709 15:20:07.024240   15479 http_net.go:123] Sending payload: {\n    \"id\": 8,\n    \"jsonrpc\": \"2.0\",\n    \"result\": true\n}\n\n```\n\neth_getFilterLogs fires immediately and note `\"blockNumber\": \"0xd4\",`\n\nNo mining has been happening.\n\nI do not see this immediate behavior on the Olympic blockchain.\n\nThe watch is set up like:\n\n```\n  filter = contract.event({ indexedField: value }, { fromBlock: 'latest', toBlock: 'latest'});\n  filter.watch(function(err, res) {\n```\n",
  "closed_by": {
    "login": "ethers",
    "id": 6937903,
    "node_id": "MDQ6VXNlcjY5Mzc5MDM=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6937903?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ethers",
    "html_url": "https://github.com/ethers",
    "followers_url": "https://api.github.com/users/ethers/followers",
    "following_url": "https://api.github.com/users/ethers/following{/other_user}",
    "gists_url": "https://api.github.com/users/ethers/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ethers/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ethers/subscriptions",
    "organizations_url": "https://api.github.com/users/ethers/orgs",
    "repos_url": "https://api.github.com/users/ethers/repos",
    "events_url": "https://api.github.com/users/ethers/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ethers/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/1458/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/1458/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/120168465",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/1458#issuecomment-120168465",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/1458",
    "id": 120168465,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEyMDE2ODQ2NQ==",
    "user": {
      "login": "ethers",
      "id": 6937903,
      "node_id": "MDQ6VXNlcjY5Mzc5MDM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6937903?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ethers",
      "html_url": "https://github.com/ethers",
      "followers_url": "https://api.github.com/users/ethers/followers",
      "following_url": "https://api.github.com/users/ethers/following{/other_user}",
      "gists_url": "https://api.github.com/users/ethers/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ethers/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ethers/subscriptions",
      "organizations_url": "https://api.github.com/users/ethers/orgs",
      "repos_url": "https://api.github.com/users/ethers/repos",
      "events_url": "https://api.github.com/users/ethers/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ethers/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-07-09T22:50:18Z",
    "updated_at": "2015-07-09T22:50:18Z",
    "author_association": "MEMBER",
    "body": "closing.  the watch was fired by a previous log.  had to mine to clear the previous log.  and then the next watch was only fired after tx mined.\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/120168465/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
