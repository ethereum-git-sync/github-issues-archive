{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15749",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15749/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15749/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15749/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/15749",
  "id": 284453323,
  "node_id": "MDU6SXNzdWUyODQ0NTMzMjM=",
  "number": 15749,
  "title": "Transaction is not broadcasted after set nonce in sendTransaction",
  "user": {
    "login": "wcw84",
    "id": 7152596,
    "node_id": "MDQ6VXNlcjcxNTI1OTY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/7152596?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/wcw84",
    "html_url": "https://github.com/wcw84",
    "followers_url": "https://api.github.com/users/wcw84/followers",
    "following_url": "https://api.github.com/users/wcw84/following{/other_user}",
    "gists_url": "https://api.github.com/users/wcw84/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/wcw84/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/wcw84/subscriptions",
    "organizations_url": "https://api.github.com/users/wcw84/orgs",
    "repos_url": "https://api.github.com/users/wcw84/repos",
    "events_url": "https://api.github.com/users/wcw84/events{/privacy}",
    "received_events_url": "https://api.github.com/users/wcw84/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2017-12-25T14:59:56Z",
  "updated_at": "2018-01-22T09:08:56Z",
  "closed_at": "2017-12-29T17:31:59Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Hi all,\r\n\r\nI need to do several sendTransaction from one address to many other addresses, and I learned [that](https://ethereum.stackexchange.com/questions/27256/error-replacement-transaction-underpriced) I need to set nonce for every \"sendTransaction\", using \"web3.eth.getTransactionCount(myaddress) + 1\" to avoid the error \"replacement transaction underpriced\", and then the problem is that such transactions will never be mined:\r\n`\r\n> eth.getTransactionCount(\"0x2592a20db4c16c89b08e301792953911c4751d7f\")\r\n**80**\r\n> eth.getTransaction(\"0xf4181f7c94c508be850c595521dd83919ad7bf430440aaa0d67a526cb7fc28a7\");\r\n{\r\n  blockHash: \"0x0000000000000000000000000000000000000000000000000000000000000000\",\r\n  blockNumber: null,\r\n  from: \"0x2592a20db4c16c89b08e301792953911c4751d7f\",\r\n  gas: 37274,\r\n  gasPrice: 21000000000,\r\n  hash: \"0xf4181f7c94c508be850c595521dd83919ad7bf430440aaa0d67a526cb7fc28a7\",\r\n  input: \"0xa9059cbb000000000000000000000000f4619719afd787a9cc687f5a1a07c1cf543d1ccb0000000000000000000000000000000000000000000000000de0b6b3a7640000\",\r\n  **nonce: 81,**\r\n  r: \"0xe7069eac693fac344060cd4e15824bf36f4c75ccd39e99fa4faee84dd0ff367c\",\r\n  s: \"0x3d9616c312263ac62e034bb9cb40f27284f1a7ff69fed3861b8b875f25244919\",\r\n  to: \"0x584b44853680ee34a0f337b712a8f66d816df151\",\r\n  transactionIndex: 0,\r\n  v: \"0x25\",\r\n  value: 0\r\n}\r\n`\r\n\r\n\r\nIf I don't set nonce manually, the transaction will be sent correctly.\r\nCan anyone tell me how to set nonce in the \"sendTransaction\", or tell me how to send several transactions from one address in a short period of time.\r\n\r\n#### System information\r\n\r\nGeth version: Geth/v1.7.2-stable-1db4ecdc/linux-amd64/go1.9\r\nOS & Version: Linux\r\n\r\nAny help will be appreciated.\r\n",
  "closed_by": {
    "login": "holiman",
    "id": 142290,
    "node_id": "MDQ6VXNlcjE0MjI5MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/holiman",
    "html_url": "https://github.com/holiman",
    "followers_url": "https://api.github.com/users/holiman/followers",
    "following_url": "https://api.github.com/users/holiman/following{/other_user}",
    "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
    "organizations_url": "https://api.github.com/users/holiman/orgs",
    "repos_url": "https://api.github.com/users/holiman/repos",
    "events_url": "https://api.github.com/users/holiman/events{/privacy}",
    "received_events_url": "https://api.github.com/users/holiman/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15749/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15749/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/353965165",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15749#issuecomment-353965165",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15749",
    "id": 353965165,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1Mzk2NTE2NQ==",
    "user": {
      "login": "ghost",
      "id": 10137,
      "node_id": "MDQ6VXNlcjEwMTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ghost",
      "html_url": "https://github.com/ghost",
      "followers_url": "https://api.github.com/users/ghost/followers",
      "following_url": "https://api.github.com/users/ghost/following{/other_user}",
      "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
      "organizations_url": "https://api.github.com/users/ghost/orgs",
      "repos_url": "https://api.github.com/users/ghost/repos",
      "events_url": "https://api.github.com/users/ghost/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ghost/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-26T12:48:48Z",
    "updated_at": "2017-12-26T12:48:48Z",
    "author_association": "NONE",
    "body": "yip, had one stuck in pending after it had broadcasted too, what gives with this pending thing is there way to turn off I dont care if it doesn't go through I'll know if it doesn't b/c I always check on etherscan and also it just makes me paranoid to have a broadcasted tx get stuck in pending ..",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/353965165/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/354475966",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15749#issuecomment-354475966",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15749",
    "id": 354475966,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NDQ3NTk2Ng==",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-29T17:31:59Z",
    "updated_at": "2017-12-29T17:31:59Z",
    "author_association": "MEMBER",
    "body": "The easiest way to figure out the nonce is to check \"which is the last successfull transaction\". In the case of the account above [here](https://etherscan.io/address/0x2592a20db4c16c89b08e301792953911c4751d7f), the last one _out_ is [`0xf32d8eb2a3074e20d5f80598ed541bf4d60ee1184c51207acb2529096aab2bd0`](https://etherscan.io/tx/0xf32d8eb2a3074e20d5f80598ed541bf4d60ee1184c51207acb2529096aab2bd0), with the nonce `258`. So the next one should be `259`. \r\n\r\nHow to set nonce: \r\n```javascript\r\n\r\n> var tx = { from: \"..\", to : \"...\", nonce: 259 , ...}\r\n> personal.sendTransaction(tx,\"pass\")\r\n``` \r\nSeveral transactions in a short period of time _should_ be fine without messing with nonce manually, geth does a decent job of keeping track of it. But if you really don't want geth to do that, just set the nonce manually in a loop or whatever you use to generate the transactions. \r\n\r\nI'm closing this, because I don't see any real bug being reported here (?)\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/354475966/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
