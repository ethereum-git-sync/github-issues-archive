{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19962",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19962/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19962/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19962/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/19962",
  "id": 480520109,
  "node_id": "MDU6SXNzdWU0ODA1MjAxMDk=",
  "number": 19962,
  "title": "disk space",
  "user": {
    "login": "DingGeng-GitHub",
    "id": 39077274,
    "node_id": "MDQ6VXNlcjM5MDc3Mjc0",
    "avatar_url": "https://avatars.githubusercontent.com/u/39077274?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/DingGeng-GitHub",
    "html_url": "https://github.com/DingGeng-GitHub",
    "followers_url": "https://api.github.com/users/DingGeng-GitHub/followers",
    "following_url": "https://api.github.com/users/DingGeng-GitHub/following{/other_user}",
    "gists_url": "https://api.github.com/users/DingGeng-GitHub/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/DingGeng-GitHub/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/DingGeng-GitHub/subscriptions",
    "organizations_url": "https://api.github.com/users/DingGeng-GitHub/orgs",
    "repos_url": "https://api.github.com/users/DingGeng-GitHub/repos",
    "events_url": "https://api.github.com/users/DingGeng-GitHub/events{/privacy}",
    "received_events_url": "https://api.github.com/users/DingGeng-GitHub/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2019-08-14T07:18:51Z",
  "updated_at": "2019-08-14T07:24:13Z",
  "closed_at": "2019-08-14T07:24:13Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Hi there,\r\n\r\nGeth version: `geth 1.9.2`\r\nOS & Version: ubuntu16.04\r\nPrevious version 1.8.27\r\n\r\nDisk space of 300G, after upgrading to 450G in two hours, why?\r\nAnother hour later, 80G of disk space was released, why?\r\n````\r\ngeth.log\r\nINFO [08-14|14:28:26.793] Imported new chain segment               blocks=3     txs=154  mgas=8.470   elapsed=242.330ms mgasps=34.953  number=8347018      hash=b6966b…43690f age=3m9s     dirty=517.74MiB\r\nINFO [08-14|14:28:27.202] Imported new chain segment               blocks=1     txs=166  mgas=8.004   elapsed=295.176ms mgasps=27.116  number=8347019      hash=17e1bb…b78c69 age=2m48s    dirty=517.57MiB\r\nINFO [08-14|14:28:27.701] Imported new chain segment               blocks=1     txs=191  mgas=7.597   elapsed=308.370ms mgasps=24.634  number=8347020      hash=647624…9cc847 age=2m21s    dirty=517.90MiB\r\nINFO [08-14|14:28:29.740] Imported new chain segment               blocks=8     txs=1438 mgas=61.528  elapsed=2.038s    mgasps=30.178  number=8347028      hash=130b84…69d5ba dirty=520.40MiB ignored=2\r\nINFO [08-14|14:28:29.893] Imported new chain segment               blocks=1     txs=136  mgas=7.994   elapsed=131.208ms mgasps=60.928  number=8347022      hash=a7e736…a9e042 age=2m8s     dirty=520.60MiB\r\nINFO [08-14|14:29:00.108] Deep froze chain segment                 blocks=13    elapsed=61.929ms  number=8257027      hash=95330c…96e36d\r\nINFO [08-14|14:29:24.759] Imported new chain segment               blocks=1     txs=186  mgas=7.966   elapsed=172.972ms mgasps=46.053  number=8347029      hash=0d2fd8…f0483b age=1m21s    dirty=520.59MiB\r\nINFO [08-14|14:29:26.110] Imported new chain segment               blocks=1     txs=193  mgas=7.973   elapsed=136.502ms mgasps=58.409  number=8347030      hash=f99822…338897 dirty=521.14MiB\r\n````\r\n",
  "closed_by": {
    "login": "karalabe",
    "id": 129561,
    "node_id": "MDQ6VXNlcjEyOTU2MQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/karalabe",
    "html_url": "https://github.com/karalabe",
    "followers_url": "https://api.github.com/users/karalabe/followers",
    "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
    "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
    "organizations_url": "https://api.github.com/users/karalabe/orgs",
    "repos_url": "https://api.github.com/users/karalabe/repos",
    "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
    "received_events_url": "https://api.github.com/users/karalabe/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19962/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19962/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/521133428",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/19962#issuecomment-521133428",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19962",
    "id": 521133428,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyMTEzMzQyOA==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-08-14T07:24:13Z",
    "updated_at": "2019-08-14T07:24:13Z",
    "author_association": "MEMBER",
    "body": "Geth 1.9 introduced a new database mechanism called the freezer (look up the `Freezer` section in the [release blog post](https://blog.ethereum.org/2019/07/10/geth-v1-9-0/)), which will store all the immutable ancient chain data (headers, txs, recceipts).\r\n\r\nWhen you update an old Geth to 1.9, it will move all that ancient data out of leveldb into the freezer, but leveldb will not immediately free up space (that's how leveldb works). After some time, LevelDB will decide that part of the database has this weird gap, and will compact it, removing the unused-but-allocated files.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/521133428/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
