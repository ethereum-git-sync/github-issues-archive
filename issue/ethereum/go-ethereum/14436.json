{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/14436",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/14436/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/14436/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/14436/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/14436",
  "id": 226870362,
  "node_id": "MDU6SXNzdWUyMjY4NzAzNjI=",
  "number": 14436,
  "title": " import chaindata without --fast goes really really slow, is that normal?",
  "user": {
    "login": "modong",
    "id": 5488932,
    "node_id": "MDQ6VXNlcjU0ODg5MzI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5488932?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/modong",
    "html_url": "https://github.com/modong",
    "followers_url": "https://api.github.com/users/modong/followers",
    "following_url": "https://api.github.com/users/modong/following{/other_user}",
    "gists_url": "https://api.github.com/users/modong/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/modong/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/modong/subscriptions",
    "organizations_url": "https://api.github.com/users/modong/orgs",
    "repos_url": "https://api.github.com/users/modong/repos",
    "events_url": "https://api.github.com/users/modong/events{/privacy}",
    "received_events_url": "https://api.github.com/users/modong/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2017-05-07T15:51:39Z",
  "updated_at": "2017-05-10T19:45:15Z",
  "closed_at": "2017-05-10T19:45:15Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nGeth version: `Version: 1.6.1-stable`\r\nOS & Version: `Ubuntu 1404`\r\nCPU: `Intel(R) Core(TM) i7-3770 CPU @ 3.40GHz`\r\n#### Expected behaviour\r\n\r\nI initially synced with `--fast` option. However, as I need to call `eth_getBalance` RPC call, it is returning me errors saying trie node cannot be found. I googled a bit and found that this is because I used `--fast`. So, I followed this advice:\r\n\r\nhttps://ethereum.stackexchange.com/questions/3474/after-fast-sync-in-geth-is-there-a-way-to-rebuild-the-old-states\r\n\r\nI exported my current chaindata and started to import it.\r\n\r\nI used `--cache 32640` option hoping to speed things up (I have 64G mem)\r\n\r\n#### Actual behaviour\r\n\r\nAfter 24 hours, I am only at block ~2400000 (still 1200000 to go). What worries me is that from the look of the log, I am importing something like 1 block per 3 seconds (very rough number). With that speed, I need approximately 1 month to sync the rest of the stuff....\r\n\r\nSo I just wanted to ask how long approximately will it take to do a sync without `--fast` and is this speed I am seeing normal\r\n\r\nMany thanks!\r\n\r\n```\r\nINFO [05-07|10:45:46] Imported new chain segment               blocks=4  txs=57   mgas=2.944 elapsed=19.464s mgasps=0.151 number=2423491 hash=796df1…e97737\r\nINFO [05-07|10:45:59] Imported new chain segment               blocks=8  txs=73   mgas=4.133 elapsed=13.243s mgasps=0.312 number=2423499 hash=704a13…bbad7d\r\nINFO [05-07|10:46:14] Imported new chain segment               blocks=7  txs=47   mgas=2.959 elapsed=14.819s mgasps=0.200 number=2423506 hash=72567f…8270d2\r\nINFO [05-07|10:46:23] Imported new chain segment               blocks=23 txs=112  mgas=4.377 elapsed=9.292s  mgasps=0.471 number=2423529 hash=2f4129…fc905c\r\nINFO [05-07|10:46:35] Imported new chain segment               blocks=6  txs=29   mgas=1.414 elapsed=12.424s mgasps=0.114 number=2423535 hash=c20c18…76b912\r\nINFO [05-07|10:46:50] Imported new chain segment               blocks=6  txs=40   mgas=2.595 elapsed=14.916s mgasps=0.174 number=2423541 hash=2357dc…ead6c9\r\nINFO [05-07|10:47:06] Imported new chain segment               blocks=21 txs=137  mgas=6.056 elapsed=15.348s mgasps=0.395 number=2423562 hash=109839…654c51\r\nINFO [05-07|10:47:19] Imported new chain segment               blocks=2  txs=25   mgas=1.417 elapsed=13.613s mgasps=0.104 number=2423564 hash=7f9a16…b5c074\r\nINFO [05-07|10:47:29] Imported new chain segment               blocks=17 txs=102  mgas=5.111 elapsed=9.518s  mgasps=0.537 number=2423581 hash=35c480…ac9fad\r\nINFO [05-07|10:47:39] Imported new chain segment               blocks=10 txs=63   mgas=3.511 elapsed=10.154s mgasps=0.346 number=2423591 hash=04ba4d…7880f4\r\nINFO [05-07|10:47:48] Imported new chain segment               blocks=7  txs=41   mgas=2.775 elapsed=9.627s  mgasps=0.288 number=2423598 hash=668ec0…c3a5a6\r\n```\r\n\r\n#### Steps to reproduce the behaviour\r\n\r\n\r\n#### Backtrace\r\n\r\n````\r\n[backtrace]\r\n````\r\n",
  "closed_by": {
    "login": "karalabe",
    "id": 129561,
    "node_id": "MDQ6VXNlcjEyOTU2MQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/karalabe",
    "html_url": "https://github.com/karalabe",
    "followers_url": "https://api.github.com/users/karalabe/followers",
    "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
    "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
    "organizations_url": "https://api.github.com/users/karalabe/orgs",
    "repos_url": "https://api.github.com/users/karalabe/repos",
    "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
    "received_events_url": "https://api.github.com/users/karalabe/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/14436/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/14436/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/299728020",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/14436#issuecomment-299728020",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/14436",
    "id": 299728020,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5OTcyODAyMA==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-07T19:17:30Z",
    "updated_at": "2017-05-07T19:17:30Z",
    "author_association": "MEMBER",
    "body": "`eth_getBalance` will work fine for recent blocks, only not for historical blocks from long ago. Do you really need to query the blockchain's state from way past?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/299728020/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/299732103",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/14436#issuecomment-299732103",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/14436",
    "id": 299732103,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5OTczMjEwMw==",
    "user": {
      "login": "modong",
      "id": 5488932,
      "node_id": "MDQ6VXNlcjU0ODg5MzI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5488932?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/modong",
      "html_url": "https://github.com/modong",
      "followers_url": "https://api.github.com/users/modong/followers",
      "following_url": "https://api.github.com/users/modong/following{/other_user}",
      "gists_url": "https://api.github.com/users/modong/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/modong/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/modong/subscriptions",
      "organizations_url": "https://api.github.com/users/modong/orgs",
      "repos_url": "https://api.github.com/users/modong/repos",
      "events_url": "https://api.github.com/users/modong/events{/privacy}",
      "received_events_url": "https://api.github.com/users/modong/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-07T20:25:20Z",
    "updated_at": "2017-05-07T20:25:20Z",
    "author_association": "NONE",
    "body": "@karalabe correct sir,  that's precisely when I encounter the issue.\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/299732103/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/299741534",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/14436#issuecomment-299741534",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/14436",
    "id": 299741534,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5OTc0MTUzNA==",
    "user": {
      "login": "modong",
      "id": 5488932,
      "node_id": "MDQ6VXNlcjU0ODg5MzI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5488932?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/modong",
      "html_url": "https://github.com/modong",
      "followers_url": "https://api.github.com/users/modong/followers",
      "following_url": "https://api.github.com/users/modong/following{/other_user}",
      "gists_url": "https://api.github.com/users/modong/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/modong/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/modong/subscriptions",
      "organizations_url": "https://api.github.com/users/modong/orgs",
      "repos_url": "https://api.github.com/users/modong/repos",
      "events_url": "https://api.github.com/users/modong/events{/privacy}",
      "received_events_url": "https://api.github.com/users/modong/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-07T22:56:20Z",
    "updated_at": "2017-05-07T22:56:20Z",
    "author_association": "NONE",
    "body": "@karalabe I guess this is because of the earlier spam attack in Oct 2016 and I have to wait it out for that block interval and once I cross that, I should be back on the fast track?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/299741534/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/299831962",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/14436#issuecomment-299831962",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/14436",
    "id": 299831962,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5OTgzMTk2Mg==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-08T10:32:55Z",
    "updated_at": "2017-05-08T10:32:55Z",
    "author_association": "MEMBER",
    "body": "Yes, there are two extremely slow parts (DOS + DOS cleanup). Outside of those it should progress slowly forward.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/299831962/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/300592136",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/14436#issuecomment-300592136",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/14436",
    "id": 300592136,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwMDU5MjEzNg==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-10T19:45:15Z",
    "updated_at": "2017-05-10T19:45:15Z",
    "author_association": "MEMBER",
    "body": "Closing this as \"working as intended\". We have a few ideas how we could try and speed things up, but that's a long term commitment.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/300592136/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
