{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26784",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26784/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26784/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26784/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/26784",
  "id": 1604375326,
  "node_id": "I_kwDOAOvK985foNMe",
  "number": 26784,
  "title": "Beacon client online, but no consensus updates received in a while even though lighthouse is synced",
  "user": {
    "login": "GopherJ",
    "id": 33961674,
    "node_id": "MDQ6VXNlcjMzOTYxNjc0",
    "avatar_url": "https://avatars.githubusercontent.com/u/33961674?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/GopherJ",
    "html_url": "https://github.com/GopherJ",
    "followers_url": "https://api.github.com/users/GopherJ/followers",
    "following_url": "https://api.github.com/users/GopherJ/following{/other_user}",
    "gists_url": "https://api.github.com/users/GopherJ/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/GopherJ/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/GopherJ/subscriptions",
    "organizations_url": "https://api.github.com/users/GopherJ/orgs",
    "repos_url": "https://api.github.com/users/GopherJ/repos",
    "events_url": "https://api.github.com/users/GopherJ/events{/privacy}",
    "received_events_url": "https://api.github.com/users/GopherJ/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 72233650,
      "node_id": "MDU6TGFiZWw3MjIzMzY1MA==",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:bug",
      "name": "type:bug",
      "color": "FF5E5E",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2023-03-01T07:06:03Z",
  "updated_at": "2023-03-02T01:33:32Z",
  "closed_at": "2023-03-02T01:33:32Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nGeth version: `ethpandaops/geth:master`\r\nCL client & version: e.g. sigp/lighthouse:capella\r\nOS & Version: Linux\r\nCommit hash : (if `develop`)\r\n\r\n#### Expected behaviour\r\n\r\nGeth should start to sync if lighthouse finished syncing\r\n\r\n#### Actual behaviour\r\n\r\nGeth is not starting\r\n\r\n\r\n#### Steps to reproduce the behaviour\r\n\r\n\r\n#### Backtrace\r\n\r\n````\r\n[backtrace]\r\n````\r\n\r\nWhen submitting logs: please submit them as text and not screenshots.\r\n",
  "closed_by": {
    "login": "GopherJ",
    "id": 33961674,
    "node_id": "MDQ6VXNlcjMzOTYxNjc0",
    "avatar_url": "https://avatars.githubusercontent.com/u/33961674?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/GopherJ",
    "html_url": "https://github.com/GopherJ",
    "followers_url": "https://api.github.com/users/GopherJ/followers",
    "following_url": "https://api.github.com/users/GopherJ/following{/other_user}",
    "gists_url": "https://api.github.com/users/GopherJ/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/GopherJ/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/GopherJ/subscriptions",
    "organizations_url": "https://api.github.com/users/GopherJ/orgs",
    "repos_url": "https://api.github.com/users/GopherJ/repos",
    "events_url": "https://api.github.com/users/GopherJ/events{/privacy}",
    "received_events_url": "https://api.github.com/users/GopherJ/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26784/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26784/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1449460618",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/26784#issuecomment-1449460618",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26784",
    "id": 1449460618,
    "node_id": "IC_kwDOAOvK985WZQOK",
    "user": {
      "login": "GopherJ",
      "id": 33961674,
      "node_id": "MDQ6VXNlcjMzOTYxNjc0",
      "avatar_url": "https://avatars.githubusercontent.com/u/33961674?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/GopherJ",
      "html_url": "https://github.com/GopherJ",
      "followers_url": "https://api.github.com/users/GopherJ/followers",
      "following_url": "https://api.github.com/users/GopherJ/following{/other_user}",
      "gists_url": "https://api.github.com/users/GopherJ/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/GopherJ/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/GopherJ/subscriptions",
      "organizations_url": "https://api.github.com/users/GopherJ/orgs",
      "repos_url": "https://api.github.com/users/GopherJ/repos",
      "events_url": "https://api.github.com/users/GopherJ/events{/privacy}",
      "received_events_url": "https://api.github.com/users/GopherJ/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-03-01T07:07:09Z",
    "updated_at": "2023-03-01T07:39:53Z",
    "author_association": "NONE",
    "body": "top is the geth logs, bottom is the lighthouse logs\r\n![image](https://user-images.githubusercontent.com/33961674/222068213-959f49b2-bbfc-4953-89d0-d316dbfa0790.png)\r\n\r\n![image](https://user-images.githubusercontent.com/33961674/222070193-9fcd7387-2260-4bc5-853d-6436bc543cd9.png)\r\n\r\n![image](https://user-images.githubusercontent.com/33961674/222074731-f709215d-3414-42d6-88b3-af8890177a2a.png)\r\n\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1449460618/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1449467263",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/26784#issuecomment-1449467263",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26784",
    "id": 1449467263,
    "node_id": "IC_kwDOAOvK985WZR1_",
    "user": {
      "login": "GopherJ",
      "id": 33961674,
      "node_id": "MDQ6VXNlcjMzOTYxNjc0",
      "avatar_url": "https://avatars.githubusercontent.com/u/33961674?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/GopherJ",
      "html_url": "https://github.com/GopherJ",
      "followers_url": "https://api.github.com/users/GopherJ/followers",
      "following_url": "https://api.github.com/users/GopherJ/following{/other_user}",
      "gists_url": "https://api.github.com/users/GopherJ/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/GopherJ/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/GopherJ/subscriptions",
      "organizations_url": "https://api.github.com/users/GopherJ/orgs",
      "repos_url": "https://api.github.com/users/GopherJ/repos",
      "events_url": "https://api.github.com/users/GopherJ/events{/privacy}",
      "received_events_url": "https://api.github.com/users/GopherJ/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-03-01T07:13:32Z",
    "updated_at": "2023-03-01T07:15:16Z",
    "author_association": "NONE",
    "body": "You should be able to reproduce by:\r\n\r\n1. install ethdo\r\n```\r\ngo install github.com/wealdtech/ethdo@latest\r\n```\r\n2. clone paraspace-core then switch to feat/validator-launch\r\n```\r\ngit clone https://github.com/para-space/paraspace-core\r\ncd paraspace-core\r\ngit checkout feat/validator-launch\r\n```\r\n3. touch .env\r\n```\r\nNETWORK=zhejiang\r\nETHERSCAN_VERIFICATION=false\r\nETHERSCAN_VERIFICATION_CONTRACTS=\r\nMOCHA_JOBS=1\r\nDB_PATH=deployed-contracts.json\r\n```\r\n4. install deps\r\n```\r\nmake init\r\nyarn\r\n```\r\n6. generate docker-compose which has lighthouse-validator,geth,lighthouse-consensus\r\n```\r\nmake setup-validators\r\n```\r\n7. launch\r\n```\r\ncd app\r\ndocker-compose up -d --build\r\n```\r\n8. wait and check `app_validator1-execution ` logs",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1449467263/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1449479411",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/26784#issuecomment-1449479411",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26784",
    "id": 1449479411,
    "node_id": "IC_kwDOAOvK985WZUzz",
    "user": {
      "login": "GopherJ",
      "id": 33961674,
      "node_id": "MDQ6VXNlcjMzOTYxNjc0",
      "avatar_url": "https://avatars.githubusercontent.com/u/33961674?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/GopherJ",
      "html_url": "https://github.com/GopherJ",
      "followers_url": "https://api.github.com/users/GopherJ/followers",
      "following_url": "https://api.github.com/users/GopherJ/following{/other_user}",
      "gists_url": "https://api.github.com/users/GopherJ/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/GopherJ/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/GopherJ/subscriptions",
      "organizations_url": "https://api.github.com/users/GopherJ/orgs",
      "repos_url": "https://api.github.com/users/GopherJ/repos",
      "events_url": "https://api.github.com/users/GopherJ/events{/privacy}",
      "received_events_url": "https://api.github.com/users/GopherJ/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-03-01T07:26:31Z",
    "updated_at": "2023-03-01T07:26:50Z",
    "author_association": "NONE",
    "body": "example of generated docker-compose\r\n\r\n```yml\r\nversion: \"3.7\"\r\nservices:\r\n  validator1-consensus:\r\n    ports:\r\n      - 5052:5052\r\n    volumes:\r\n      - validator1-data:/data\r\n    build:\r\n      context: .\r\n      dockerfile: consensusLayer.Dockerfile\r\n    command:\r\n      - lighthouse\r\n      - --testnet-dir=/app\r\n      - bn\r\n      - --eth1\r\n      - --http\r\n      - --http-allow-sync-stalled\r\n      - --enr-udp-port=9000\r\n      - --enr-tcp-port=9000\r\n      - --discovery-port=9000\r\n      - --boot-nodes=enr:-Iq4QMCTfIMXnow27baRUb35Q8iiFHSIDBJh6hQM5Axohhf4b6Kr_cOCu0htQ5WvVqKvFgY28893DHAg8gnBAXsAVqmGAX53x8JggmlkgnY0gmlwhLKAlv6Jc2VjcDI1NmsxoQK6S-Cii_KmfFdUJL2TANL3ksaKUnNXvTCv1tLwXs0QgIN1ZHCCIyk,enr:-Ly4QOS00hvPDddEcCpwA1cMykWNdJUK50AjbRgbLZ9FLPyBa78i0NwsQZLSV67elpJU71L1Pt9yqVmE1C6XeSI-LV8Bh2F0dG5ldHOIAAAAAAAAAACEZXRoMpDuKNezAAAAckYFAAAAAAAAgmlkgnY0gmlwhEDhTgGJc2VjcDI1NmsxoQIgMUMFvJGlr8dI1TEQy-K78u2TJE2rWvah9nGqLQCEGohzeW5jbmV0cwCDdGNwgiMog3VkcIIjKA,enr:-MK4QMlRAwM7E8YBo6fqP7M2IWrjFHP35uC4pWIttUioZWOiaTl5zgZF2OwSxswTQwpiVCnj4n56bhy4NJVHSe682VWGAYYDHkp4h2F0dG5ldHOIAAAAAAAAAACEZXRoMpDuKNezAAAAckYFAAAAAAAAgmlkgnY0gmlwhJK-7tSJc2VjcDI1NmsxoQLDq7LlsXIXAoJXPt7rqf6CES1Q40xPw2yW0RQ-Ly5S1YhzeW5jbmV0cwCDdGNwgiMog3VkcIIjKA,enr:-MS4QCgiQisRxtzXKlBqq_LN1CRUSGIpDKO4e2hLQsffp0BrC3A7-8F6kxHYtATnzcrsVOr8gnwmBnHYTFvE9UmT-0EHh2F0dG5ldHOIAAAAAAAAAACEZXRoMpDuKNezAAAAckYFAAAAAAAAgmlkgnY0gmlwhKXoVKCJc2VjcDI1NmsxoQK6J-uvOXMf44iIlilx1uPWGRrrTntjLEFR2u-lHcHofIhzeW5jbmV0c4gAAAAAAAAAAIN0Y3CCIyiDdWRwgiMo,enr:-LK4QOQd-elgl_-dcSoUyHDbxBFNgQ687lzcKJiSBtpCyPQ0DinWSd2PKdJ4FHMkVLWD-oOquXPKSMtyoKpI0-Wo_38Bh2F0dG5ldHOIAAAAAAAAAACEZXRoMpDuKNezAAAAckYFAAAAAAAAgmlkgnY0gmlwhES3DaqJc2VjcDI1NmsxoQNIf37JZx-Lc8pnfDwURcHUqLbIEZ1RoxjZuBRtEODseYN0Y3CCIyiDdWRwgiMo,enr:-KG4QLNORYXUK76RPDI4rIVAqX__zSkc5AqMcwAketVzN9YNE8FHSu1im3qJTIeuwqI5JN5SPVsiX7L9nWXgWLRUf6sDhGV0aDKQ7ijXswAAAHJGBQAAAAAAAIJpZIJ2NIJpcIShI5NiiXNlY3AyNTZrMaECpA_KefrVAueFWiLLDZKQPPVOxMuxGogPrI474FaS-x2DdGNwgiMog3VkcIIjKA\r\n      - --suggested-fee-recipient=0x018281853eCC543Aa251732e8FDaa7323247eBeB\r\n      - --datadir=/data/lighthouse\r\n      - --jwt-secrets=/app/jwtsecret\r\n      - --execution-endpoints=http://validator1-execution:8551\r\n      - --http-address=0.0.0.0\r\n      - --http-port=5052\r\n    ulimits:\r\n      nofile:\r\n        soft: 65536\r\n        hard: 65536\r\n  validator1-execution:\r\n    ports:\r\n      - 8551:8551\r\n      - 8545:8545\r\n    volumes:\r\n      - validator1-data:/data\r\n    build:\r\n      context: .\r\n      dockerfile: executionLayer.Dockerfile\r\n    command:\r\n      - --http\r\n      - --http.api=engine,eth,web3,net,debug\r\n      - --ws\r\n      - --ws.api=engine,eth,web3,net,debug\r\n      - --http.corsdomain=*\r\n      - --syncmode=full\r\n      - --bootnodes=enode://691c66d0ce351633b2ef8b4e4ef7db9966915ca0937415bd2b408df22923f274873b4d4438929e029a13a680140223dcf701cabe22df7d8870044321022dfefa@64.225.78.1:30303,enode://89347b9461727ee1849256d78e84d5c86cc3b4c6c5347650093982b726d71f3d08027e280b399b7b6604ceeda863283dcfe1a01e93728b4883114e9f8c7cc8ef@146.190.238.212:30303,enode://c2892072efe247f21ed7ebea6637ade38512a0ae7c5cffa1bf0786d5e3be1e7f40ff71252a21b36aa9de54e49edbcfc6962a98032adadfa29c8524262e484ad3@165.232.84.160:30303,enode://71e862580d3177a99e9837bd9e9c13c83bde63d3dba1d5cea18e89eb2a17786bbd47a8e7ae690e4d29763b55c205af13965efcaf6105d58e118a5a8ed2b0f6d0@68.183.13.170:30303,enode://2f6cf7f774e4507e7c1b70815f9c0ccd6515ee1170c991ce3137002c6ba9c671af38920f5b8ab8a215b62b3b50388030548f1d826cb6c2b30c0f59472804a045@161.35.147.98:30303\r\n      - --datadir=/data/geth\r\n      - --authrpc.addr=0.0.0.0\r\n      - --authrpc.vhosts=*\r\n      - --http.addr=0.0.0.0\r\n      - --http.port=8545\r\n      - --http.vhosts=*\r\n      - --authrpc.port=8551\r\n      - --authrpc.jwtsecret=/app/jwtsecret\r\n      - --networkid=1337803\r\n    ulimits:\r\n      nofile:\r\n        soft: 65536\r\n        hard: 65536\r\n  validator1-validator:\r\n    ports: []\r\n    volumes:\r\n      - validator1-data:/data\r\n    build:\r\n      context: .\r\n      dockerfile: validator.Dockerfile\r\n    command:\r\n      - lighthouse\r\n      - --testnet-dir=/app\r\n      - vc\r\n      - --suggested-fee-recipient=0x018281853eCC543Aa251732e8FDaa7323247eBeB\r\n      - --datadir=/data/lighthouse/validator-data\r\n      - --beacon-nodes=http://validator1-consensus:5052\r\n    ulimits:\r\n      nofile:\r\n        soft: 65536\r\n        hard: 65536\r\nvolumes:\r\n  validator1-data:\r\n    external: true\r\n\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1449479411/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1449860802",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/26784#issuecomment-1449860802",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26784",
    "id": 1449860802,
    "node_id": "IC_kwDOAOvK985Wax7C",
    "user": {
      "login": "GopherJ",
      "id": 33961674,
      "node_id": "MDQ6VXNlcjMzOTYxNjc0",
      "avatar_url": "https://avatars.githubusercontent.com/u/33961674?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/GopherJ",
      "html_url": "https://github.com/GopherJ",
      "followers_url": "https://api.github.com/users/GopherJ/followers",
      "following_url": "https://api.github.com/users/GopherJ/following{/other_user}",
      "gists_url": "https://api.github.com/users/GopherJ/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/GopherJ/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/GopherJ/subscriptions",
      "organizations_url": "https://api.github.com/users/GopherJ/orgs",
      "repos_url": "https://api.github.com/users/GopherJ/repos",
      "events_url": "https://api.github.com/users/GopherJ/events{/privacy}",
      "received_events_url": "https://api.github.com/users/GopherJ/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-03-01T10:50:05Z",
    "updated_at": "2023-03-01T10:50:05Z",
    "author_association": "NONE",
    "body": "after switching from ethpandaops/geth:master to ethereum/client-go:latest it worked, close!",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1449860802/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
