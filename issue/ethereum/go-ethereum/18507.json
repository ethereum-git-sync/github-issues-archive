{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/18507",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/18507/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/18507/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/18507/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/18507",
  "id": 402232640,
  "node_id": "MDU6SXNzdWU0MDIyMzI2NDA=",
  "number": 18507,
  "title": "Blockchain Synced, Still eth.blockNumber returns 0",
  "user": {
    "login": "prashantprabhakar",
    "id": 20419322,
    "node_id": "MDQ6VXNlcjIwNDE5MzIy",
    "avatar_url": "https://avatars.githubusercontent.com/u/20419322?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/prashantprabhakar",
    "html_url": "https://github.com/prashantprabhakar",
    "followers_url": "https://api.github.com/users/prashantprabhakar/followers",
    "following_url": "https://api.github.com/users/prashantprabhakar/following{/other_user}",
    "gists_url": "https://api.github.com/users/prashantprabhakar/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/prashantprabhakar/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/prashantprabhakar/subscriptions",
    "organizations_url": "https://api.github.com/users/prashantprabhakar/orgs",
    "repos_url": "https://api.github.com/users/prashantprabhakar/repos",
    "events_url": "https://api.github.com/users/prashantprabhakar/events{/privacy}",
    "received_events_url": "https://api.github.com/users/prashantprabhakar/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2019-01-23T13:11:29Z",
  "updated_at": "2019-02-15T08:39:13Z",
  "closed_at": "2019-01-23T13:27:56Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "I am using ubuntu 16.04 to sync geth node in fast mode. I know geth node is difficult to keep up with HDD so I am using following server configuration.\r\n\r\nRAM: 4GB\r\nDisk: 500GB Provisional SSD with 100 IOPS\r\nCPUs: 2 \r\n\r\n#### System information\r\n\r\nGeth version: `1.8.21-stable`\r\nOS & Version: Linux ( Ubuntu 16.04)\r\n\r\n#### Expected behaviour\r\nBalances should reflect and block number should be latest one.\r\n\r\n\r\n#### Actual behaviour\r\neth.blockNumber returns 0 and hence no balances are refleceted.\r\n\r\n\r\n#### Steps to reproduce the behaviour\r\neth.syncing results\r\n```\r\n{\r\n  currentBlock: 7113789,\r\n  highestBlock: 7113858,\r\n  knownStates: 128401737,\r\n  pulledStates: 128398634,\r\n  startingBlock: 7113353\r\n}\r\n\r\n```\r\n\r\nCurrent block is only 69 blocks behind the highest blocks. It has been 4 days since I started syncing the blockchain. \r\n\r\nGeth syncing is really a pain. We are not sure how much time it will take to sync. If I need to restart syncing  by downgrading geth or wait for this sync. There is no definite time we can give to users when the BC will be available. How do we know if we are synced or still resolving state entries.\r\n\r\n#### Geth Logs\r\n\r\nseems geth has imported state entries, since long trail of importing state entries is gone.\r\n```\r\nNFO [01-23|13:08:32.010] Imported new block headers               count=1    elapsed=4.964ms   number=7113921 hash=ffeae4…9fdce2\r\nINFO [01-23|13:08:38.556] Imported new block headers               count=1    elapsed=4.744ms   number=7113922 hash=589762…9303f1\r\nINFO [01-23|13:08:51.380] Imported new block headers               count=1    elapsed=5.203ms   number=7113923 hash=92141e…f7d106\r\nINFO [01-23|13:08:53.766] Imported new state entries               count=1148 elapsed=4.160ms   processed=1\r\n\r\n```",
  "closed_by": {
    "login": "holiman",
    "id": 142290,
    "node_id": "MDQ6VXNlcjE0MjI5MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/holiman",
    "html_url": "https://github.com/holiman",
    "followers_url": "https://api.github.com/users/holiman/followers",
    "following_url": "https://api.github.com/users/holiman/following{/other_user}",
    "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
    "organizations_url": "https://api.github.com/users/holiman/orgs",
    "repos_url": "https://api.github.com/users/holiman/repos",
    "events_url": "https://api.github.com/users/holiman/events{/privacy}",
    "received_events_url": "https://api.github.com/users/holiman/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/18507/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/18507/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/456800930",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/18507#issuecomment-456800930",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/18507",
    "id": 456800930,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NjgwMDkzMA==",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-23T13:27:56Z",
    "updated_at": "2019-01-23T13:27:56Z",
    "author_association": "MEMBER",
    "body": "It's not synched yet, so it's correct behaviour that `eth.blockNumber` returns `0`. It _has_ downloaded all blocks, but there's still state left to download. So I'll close this bug since it does not indicate an error in geth. \r\n\r\nHowever, a fast sync should not take 4 days. I don't know if your 4G ram is a limiting factor, but otherwise you might want to investigate if the networking is good enough. There's quite a lot of data to download, and if your latency is very high you will have a lot of peer-connections being dropped, which will inflate the sync time a lot. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/456800930/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/457073866",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/18507#issuecomment-457073866",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/18507",
    "id": 457073866,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NzA3Mzg2Ng==",
    "user": {
      "login": "prashantprabhakar",
      "id": 20419322,
      "node_id": "MDQ6VXNlcjIwNDE5MzIy",
      "avatar_url": "https://avatars.githubusercontent.com/u/20419322?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/prashantprabhakar",
      "html_url": "https://github.com/prashantprabhakar",
      "followers_url": "https://api.github.com/users/prashantprabhakar/followers",
      "following_url": "https://api.github.com/users/prashantprabhakar/following{/other_user}",
      "gists_url": "https://api.github.com/users/prashantprabhakar/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/prashantprabhakar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/prashantprabhakar/subscriptions",
      "organizations_url": "https://api.github.com/users/prashantprabhakar/orgs",
      "repos_url": "https://api.github.com/users/prashantprabhakar/repos",
      "events_url": "https://api.github.com/users/prashantprabhakar/events{/privacy}",
      "received_events_url": "https://api.github.com/users/prashantprabhakar/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-24T05:41:29Z",
    "updated_at": "2019-01-24T05:41:29Z",
    "author_association": "NONE",
    "body": "Yeah, I know states have not been downloaded. But why not is the problem. Network speed is 0.25 - 0.65 GiB/sec. CPU utilization is hardly to 10%. I do keep checking logs, do not see lots of peer dropping. \r\nAnother day  has passed still not synced yet. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/457073866/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/463948843",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/18507#issuecomment-463948843",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/18507",
    "id": 463948843,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2Mzk0ODg0Mw==",
    "user": {
      "login": "yizhongbai",
      "id": 29227236,
      "node_id": "MDQ6VXNlcjI5MjI3MjM2",
      "avatar_url": "https://avatars.githubusercontent.com/u/29227236?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yizhongbai",
      "html_url": "https://github.com/yizhongbai",
      "followers_url": "https://api.github.com/users/yizhongbai/followers",
      "following_url": "https://api.github.com/users/yizhongbai/following{/other_user}",
      "gists_url": "https://api.github.com/users/yizhongbai/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yizhongbai/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yizhongbai/subscriptions",
      "organizations_url": "https://api.github.com/users/yizhongbai/orgs",
      "repos_url": "https://api.github.com/users/yizhongbai/repos",
      "events_url": "https://api.github.com/users/yizhongbai/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yizhongbai/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-15T08:20:31Z",
    "updated_at": "2019-02-15T08:39:13Z",
    "author_association": "NONE",
    "body": "@holiman \r\nwhen start geth  ,  why not can get blockNumber  and get balance  then sync ?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/463948843/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
