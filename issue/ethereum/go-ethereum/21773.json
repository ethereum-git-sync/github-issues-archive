{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21773",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21773/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21773/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21773/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/21773",
  "id": 734082278,
  "node_id": "MDU6SXNzdWU3MzQwODIyNzg=",
  "number": 21773,
  "title": "Surprised by the hard dependency on github.com/karalabe/usb",
  "user": {
    "login": "mvdan",
    "id": 3576549,
    "node_id": "MDQ6VXNlcjM1NzY1NDk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/3576549?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/mvdan",
    "html_url": "https://github.com/mvdan",
    "followers_url": "https://api.github.com/users/mvdan/followers",
    "following_url": "https://api.github.com/users/mvdan/following{/other_user}",
    "gists_url": "https://api.github.com/users/mvdan/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/mvdan/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mvdan/subscriptions",
    "organizations_url": "https://api.github.com/users/mvdan/orgs",
    "repos_url": "https://api.github.com/users/mvdan/repos",
    "events_url": "https://api.github.com/users/mvdan/events{/privacy}",
    "received_events_url": "https://api.github.com/users/mvdan/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1380077749,
      "node_id": "MDU6TGFiZWwxMzgwMDc3NzQ5",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/area:build",
      "name": "area:build",
      "color": "eadb52",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "fjl",
    "id": 6915,
    "node_id": "MDQ6VXNlcjY5MTU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6915?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/fjl",
    "html_url": "https://github.com/fjl",
    "followers_url": "https://api.github.com/users/fjl/followers",
    "following_url": "https://api.github.com/users/fjl/following{/other_user}",
    "gists_url": "https://api.github.com/users/fjl/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/fjl/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/fjl/subscriptions",
    "organizations_url": "https://api.github.com/users/fjl/orgs",
    "repos_url": "https://api.github.com/users/fjl/repos",
    "events_url": "https://api.github.com/users/fjl/events{/privacy}",
    "received_events_url": "https://api.github.com/users/fjl/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "fjl",
      "id": 6915,
      "node_id": "MDQ6VXNlcjY5MTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6915?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjl",
      "html_url": "https://github.com/fjl",
      "followers_url": "https://api.github.com/users/fjl/followers",
      "following_url": "https://api.github.com/users/fjl/following{/other_user}",
      "gists_url": "https://api.github.com/users/fjl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fjl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fjl/subscriptions",
      "organizations_url": "https://api.github.com/users/fjl/orgs",
      "repos_url": "https://api.github.com/users/fjl/repos",
      "events_url": "https://api.github.com/users/fjl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fjl/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 11,
  "created_at": "2020-11-01T22:58:21Z",
  "updated_at": "2022-01-11T04:18:31Z",
  "closed_at": "2021-11-03T18:12:21Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\ngithub.com/ethereum/go-ethereum v1.9.20\r\nLinux\r\n\r\n#### Expected behaviour\r\n\r\nNo hard dependency on USB libraries to run a basic Ethereum node.\r\n\r\n#### Actual behaviour\r\n\r\n```\r\n$ go mod why github.com/karalabe/usb\r\n# github.com/karalabe/usb\r\n<my package>\r\ngithub.com/ethereum/go-ethereum/node\r\ngithub.com/ethereum/go-ethereum/accounts/usbwallet\r\ngithub.com/karalabe/usb\r\n```\r\n\r\nFor example, this will mean failures to build on golang alpine images unless linux-headers is installed:\r\n\r\n```\r\n\r\n# github.com/karalabe/usb\r\nIn file included from /go/pkg/mod/github.com/karalabe/usb@v0.0.0-20191104083709-911d15fe12a9/libusb/libusb/os/linux_usbfs.c:43,\r\n                 from /go/pkg/mod/github.com/karalabe/usb@v0.0.0-20191104083709-911d15fe12a9/libs.go:46:\r\n/go/pkg/mod/github.com/karalabe/usb@v0.0.0-20191104083709-911d15fe12a9/libusb/libusb/os/linux_usbfs.h:24:10: fatal error: linux/types.h: No such file or directory\r\n   24 | #include <linux/types.h>\r\n      |          ^~~~~~~~~~~~~~~\r\n```\r\n\r\nI get that this probably provides good features to some people, but I'm pretty sure that we don't use any USB devices for our Ethereum nodes. It would be nice if this indirect dependency wasn't mandated by the node package, which we can't really stop using.\r\n\r\nThis \"tricky hard dependency\" issue is similar to https://github.com/ethereum/go-ethereum/issues/20590, which I filed a while ago.",
  "closed_by": {
    "login": "holiman",
    "id": 142290,
    "node_id": "MDQ6VXNlcjE0MjI5MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/holiman",
    "html_url": "https://github.com/holiman",
    "followers_url": "https://api.github.com/users/holiman/followers",
    "following_url": "https://api.github.com/users/holiman/following{/other_user}",
    "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
    "organizations_url": "https://api.github.com/users/holiman/orgs",
    "repos_url": "https://api.github.com/users/holiman/repos",
    "events_url": "https://api.github.com/users/holiman/events{/privacy}",
    "received_events_url": "https://api.github.com/users/holiman/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21773/reactions",
    "total_count": 3,
    "+1": 3,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21773/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/720165392",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/21773#issuecomment-720165392",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21773",
    "id": 720165392,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcyMDE2NTM5Mg==",
    "user": {
      "login": "mvdan",
      "id": 3576549,
      "node_id": "MDQ6VXNlcjM1NzY1NDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3576549?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mvdan",
      "html_url": "https://github.com/mvdan",
      "followers_url": "https://api.github.com/users/mvdan/followers",
      "following_url": "https://api.github.com/users/mvdan/following{/other_user}",
      "gists_url": "https://api.github.com/users/mvdan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mvdan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mvdan/subscriptions",
      "organizations_url": "https://api.github.com/users/mvdan/orgs",
      "repos_url": "https://api.github.com/users/mvdan/repos",
      "events_url": "https://api.github.com/users/mvdan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mvdan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-01T23:00:37Z",
    "updated_at": "2020-11-01T23:00:37Z",
    "author_association": "NONE",
    "body": "A nice way to fix this problem would be to have the user opt into the USB features by importing the node package as well as some other package like `usbwallet`. Then adding one or two lines using `usbwallet` would enable its features.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/720165392/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/720424776",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/21773#issuecomment-720424776",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21773",
    "id": 720424776,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcyMDQyNDc3Ng==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-02T11:50:56Z",
    "updated_at": "2020-11-02T11:50:56Z",
    "author_association": "MEMBER",
    "body": "Hmm, you should be able to disable it via `--tags=nocgo` during build, but I do get that it would be unwise since you only want USB out, not all the C libraries. Would a `--nousb` build tag be a suitable solution?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/720424776/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/720426702",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/21773#issuecomment-720426702",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21773",
    "id": 720426702,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcyMDQyNjcwMg==",
    "user": {
      "login": "mvdan",
      "id": 3576549,
      "node_id": "MDQ6VXNlcjM1NzY1NDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3576549?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mvdan",
      "html_url": "https://github.com/mvdan",
      "followers_url": "https://api.github.com/users/mvdan/followers",
      "following_url": "https://api.github.com/users/mvdan/following{/other_user}",
      "gists_url": "https://api.github.com/users/mvdan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mvdan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mvdan/subscriptions",
      "organizations_url": "https://api.github.com/users/mvdan/orgs",
      "repos_url": "https://api.github.com/users/mvdan/repos",
      "events_url": "https://api.github.com/users/mvdan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mvdan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-02T11:55:13Z",
    "updated_at": "2020-11-02T11:55:13Z",
    "author_association": "NONE",
    "body": "A universal `CGO_ENABLED=0` or `-tags=nocgo` is indeed an option, but not the best, like you say. I imagine running an Ethereum node without cgo isn't particularly well supported or tested. Plus, it enforces the rest of the program to not use cgo either.\r\n\r\nA \"nousb\" build tag would be better than nothing, but I still think opting in via import paths is the best option. The default build (with no build tags) should do the right thing, and the user should be in control of what optional dependencies are pulled in via imports.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/720426702/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/720497132",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/21773#issuecomment-720497132",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21773",
    "id": 720497132,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcyMDQ5NzEzMg==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-02T14:14:31Z",
    "updated_at": "2020-11-02T14:14:31Z",
    "author_association": "MEMBER",
    "body": "Ah, you're talking about the `node` package and whether we could break the dependency on USB. That would be ideal yes.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/720497132/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/730273787",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/21773#issuecomment-730273787",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21773",
    "id": 730273787,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczMDI3Mzc4Nw==",
    "user": {
      "login": "fjl",
      "id": 6915,
      "node_id": "MDQ6VXNlcjY5MTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6915?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjl",
      "html_url": "https://github.com/fjl",
      "followers_url": "https://api.github.com/users/fjl/followers",
      "following_url": "https://api.github.com/users/fjl/following{/other_user}",
      "gists_url": "https://api.github.com/users/fjl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fjl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fjl/subscriptions",
      "organizations_url": "https://api.github.com/users/fjl/orgs",
      "repos_url": "https://api.github.com/users/fjl/repos",
      "events_url": "https://api.github.com/users/fjl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fjl/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-19T10:18:55Z",
    "updated_at": "2020-11-19T10:18:55Z",
    "author_association": "MEMBER",
    "body": "This issue should be addressed by restructuring wallet initialization. At this time, wallets are initialized in package node:\r\n\r\nhttps://github.com/ethereum/go-ethereum/blob/c0c01612e95dd20f125154646b38283ab780f357/node/config.go#L480\r\n\r\nThis is very unfortunate because it means that all code using package node will depend on usbwallet (and scwallet!). \r\nIt would be nicer to perform the usbwallet/scwallet initialization outside of package node. While accounts.Manager\r\nshould remain in package node, it might be required to add a way to add wallet backends after creating the manager.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/730273787/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/730275467",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/21773#issuecomment-730275467",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21773",
    "id": 730275467,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczMDI3NTQ2Nw==",
    "user": {
      "login": "mvdan",
      "id": 3576549,
      "node_id": "MDQ6VXNlcjM1NzY1NDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3576549?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mvdan",
      "html_url": "https://github.com/mvdan",
      "followers_url": "https://api.github.com/users/mvdan/followers",
      "following_url": "https://api.github.com/users/mvdan/following{/other_user}",
      "gists_url": "https://api.github.com/users/mvdan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mvdan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mvdan/subscriptions",
      "organizations_url": "https://api.github.com/users/mvdan/orgs",
      "repos_url": "https://api.github.com/users/mvdan/repos",
      "events_url": "https://api.github.com/users/mvdan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mvdan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-19T10:21:37Z",
    "updated_at": "2020-11-19T10:21:37Z",
    "author_association": "NONE",
    "body": "Indeed, I agree that would be the best solution. Then the extra package/module dependencies need to be explicitly imported by the user's code.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/730275467/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/765091873",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/21773#issuecomment-765091873",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21773",
    "id": 765091873,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2NTA5MTg3Mw==",
    "user": {
      "login": "youngqqcn",
      "id": 30211020,
      "node_id": "MDQ6VXNlcjMwMjExMDIw",
      "avatar_url": "https://avatars.githubusercontent.com/u/30211020?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/youngqqcn",
      "html_url": "https://github.com/youngqqcn",
      "followers_url": "https://api.github.com/users/youngqqcn/followers",
      "following_url": "https://api.github.com/users/youngqqcn/following{/other_user}",
      "gists_url": "https://api.github.com/users/youngqqcn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/youngqqcn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/youngqqcn/subscriptions",
      "organizations_url": "https://api.github.com/users/youngqqcn/orgs",
      "repos_url": "https://api.github.com/users/youngqqcn/repos",
      "events_url": "https://api.github.com/users/youngqqcn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/youngqqcn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-22T03:15:50Z",
    "updated_at": "2021-01-22T03:15:50Z",
    "author_association": "NONE",
    "body": "I run make in `termux` on my android phone, `karalabe/usb` cause errors as belowing:\r\n\r\n```\r\n github.com/karalabe/usb\r\n# github.com/karalabe/usb\r\nIn file included from ../../go/pkg/mod/github.com/karalabe/usb@v0.0.0-20190919080040-51dc0efba356/libs.go:48:\r\n../../go/pkg/mod/github.com/karalabe/usb@v0.0.0-20190919080040-51dc0efba356/hidapi/libusb/hid.c:63:3: error: typedef redefinition with different types ('struct pthread_barrier' vs 'struct pthread_barrier_t')\r\n/data/data/com.termux/files/usr/include/bits/pthread_types.h:54:3: note: previous definition is here\r\nIn file included from ../../go/pkg/mod/github.com/karalabe/usb@v0.0.0-20190919080040-51dc0efba356/libs.go:48:\r\n../../go/pkg/mod/github.com/karalabe/usb@v0.0.0-20190919080040-51dc0efba356/hidapi/libusb/hid.c:65:12: error: static declaration of 'pthread_barrier_init' follows non-static declaration\r\n/data/data/com.termux/files/usr/include/pthread.h:329:5: note: previous declaration is here\r\nIn file included from ../../go/pkg/mod/github.com/karalabe/usb@v0.0.0-20190919080040-51dc0efba356/libs.go:48:\r\n../../go/pkg/mod/github.com/karalabe/usb@v0.0.0-20190919080040-51dc0efba356/hidapi/libusb/hid.c:72:34: error: no member named 'mutex' in 'pthread_barrier_t'\r\n../../go/pkg/mod/github.com/karalabe/usb@v0.0.0-20190919080040-51dc0efba356/hidapi/libusb/hid.c:75:33: error: no member named 'cond' in 'pthread_barrier_t'\r\n../../go/pkg/mod/github.com/karalabe/usb@v0.0.0-20190919080040-51dc0efba356/hidapi/libusb/hid.c:76:35: error: no member named 'mutex' in 'pthread_barrier_t'\r\n../../go/pkg/mod/github.com/karalabe/usb@v0.0.0-20190919080040-51dc0efba356/hidapi/libusb/hid.c:79:11: error: no member named 'trip_count' in 'pthread_barrier_t'\r\n../../go/pkg/mod/github.com/karalabe/usb@v0.0.0-20190919080040-51dc0efba356/hidapi/libusb/hid.c:80:11: error: no member named 'count' in 'pthread_barrier_t'\r\n../../go/pkg/mod/github.com/karalabe/usb@v0.0.0-20190919080040-51dc0efba356/hidapi/libusb/hid.c:85:12: error: static declaration of 'pthread_barrier_destroy' follows non-static declaration\r\n/data/data/com.termux/files/usr/include/pthread.h:330:5: note: previous declaration is here\r\nIn file included from ../../go/pkg/mod/github.com/karalabe/usb@v0.0.0-20190919080040-51dc0efba356/libs.go:48:\r\n../../go/pkg/mod/github.com/karalabe/usb@v0.0.0-20190919080040-51dc0efba356/hidapi/libusb/hid.c:87:33: error: no member named 'cond' in 'pthread_barrier_t'\r\n../../go/pkg/mod/github.com/karalabe/usb@v0.0.0-20190919080040-51dc0efba356/hidapi/libusb/hid.c:88:34: error: no member named 'mutex' in 'pthread_barrier_t'\r\n../../go/pkg/mod/github.com/karalabe/usb@v0.0.0-20190919080040-51dc0efba356/hidapi/libusb/hid.c:92:12: error: static declaration of 'pthread_barrier_wait' follows non-static declaration\r\n/data/data/com.termux/files/usr/include/pthread.h:331:5: note: previous declaration is here\r\nIn file included from ../../go/pkg/mod/github.com/karalabe/usb@v0.0.0-20190919080040-51dc0efba356/libs.go:48:\r\n../../go/pkg/mod/github.com/karalabe/usb@v0.0.0-20190919080040-51dc0efba356/hidapi/libusb/hid.c:94:31: error: no member named 'mutex' in 'pthread_barrier_t'\r\n../../go/pkg/mod/github.com/karalabe/usb@v0.0.0-20190919080040-51dc0efba356/hidapi/libusb/hid.c:95:14: error: no member named 'count' in 'pthread_barrier_t'\r\n../../go/pkg/mod/github.com/karalabe/usb@v0.0.0-20190919080040-51dc0efba356/hidapi/libusb/hid.c:96:14: error: no member named 'count' in 'pthread_barrier_t'\r\n../../go/pkg/mod/github.com/karalabe/usb@v0.0.0-20190919080040-51dc0efba356/hidapi/libusb/hid.c:96:32: error: no member named 'trip_count' in 'pthread_barrier_t'\r\n../../go/pkg/mod/github.com/karalabe/usb@v0.0.0-20190919080040-51dc0efba356/hidapi/libusb/hid.c:98:12: error: no member named 'count' in 'pthread_barrier_t'\r\n../../go/pkg/mod/github.com/karalabe/usb@v0.0.0-20190919080040-51dc0efba356/hidapi/libusb/hid.c:99:36: error: no member named 'cond' in 'pthread_barrier_t'\r\n../../go/pkg/mod/github.com/karalabe/usb@v0.0.0-20190919080040-51dc0efba356/hidapi/libusb/hid.c:100:34: error: no member named 'mutex' in 'pthread_barrier_t'\r\n../../go/pkg/mod/github.com/karalabe/usb@v0.0.0-20190919080040-51dc0efba356/hidapi/libusb/hid.c:105:31: error: no member named 'cond' in 'pthread_barrier_t'\r\nfatal error: too many errors emitted, stopping now [-ferror-limit=]\r\nutil.go:47: exit status 2\r\nexit status 1\r\nmake: *** [Makefile:16: geth] Error 1\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/765091873/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/959757333",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/21773#issuecomment-959757333",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21773",
    "id": 959757333,
    "node_id": "IC_kwDOAOvK9845NLwV",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-11-03T17:26:24Z",
    "updated_at": "2021-11-03T17:26:24Z",
    "author_association": "MEMBER",
    "body": "didn't we fix this already @fjl ? ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/959757333/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/959795416",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/21773#issuecomment-959795416",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21773",
    "id": 959795416,
    "node_id": "IC_kwDOAOvK9845NVDY",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-11-03T18:12:21Z",
    "updated_at": "2021-11-03T18:12:21Z",
    "author_association": "MEMBER",
    "body": "Yup, fixed\r\n```\r\n$ go mod why github.com/karalabe/usb\r\n# github.com/karalabe/usb\r\ngithub.com/ethereum/go-ethereum/accounts/usbwallet\r\ngithub.com/karalabe/usb\r\n```\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/959795416/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1009572376",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/21773#issuecomment-1009572376",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21773",
    "id": 1009572376,
    "node_id": "IC_kwDOAOvK9848LNoY",
    "user": {
      "login": "simbadMarino",
      "id": 11146636,
      "node_id": "MDQ6VXNlcjExMTQ2NjM2",
      "avatar_url": "https://avatars.githubusercontent.com/u/11146636?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/simbadMarino",
      "html_url": "https://github.com/simbadMarino",
      "followers_url": "https://api.github.com/users/simbadMarino/followers",
      "following_url": "https://api.github.com/users/simbadMarino/following{/other_user}",
      "gists_url": "https://api.github.com/users/simbadMarino/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/simbadMarino/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/simbadMarino/subscriptions",
      "organizations_url": "https://api.github.com/users/simbadMarino/orgs",
      "repos_url": "https://api.github.com/users/simbadMarino/repos",
      "events_url": "https://api.github.com/users/simbadMarino/events{/privacy}",
      "received_events_url": "https://api.github.com/users/simbadMarino/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-11T03:45:17Z",
    "updated_at": "2022-01-11T03:45:17Z",
    "author_association": "NONE",
    "body": "@youngqqcn hello mate, did you manage to compile on termux? I'm having a similar issue... I've tried lots of thing but still no luck...",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1009572376/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1009585404",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/21773#issuecomment-1009585404",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21773",
    "id": 1009585404,
    "node_id": "IC_kwDOAOvK9848LQz8",
    "user": {
      "login": "youngqqcn",
      "id": 30211020,
      "node_id": "MDQ6VXNlcjMwMjExMDIw",
      "avatar_url": "https://avatars.githubusercontent.com/u/30211020?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/youngqqcn",
      "html_url": "https://github.com/youngqqcn",
      "followers_url": "https://api.github.com/users/youngqqcn/followers",
      "following_url": "https://api.github.com/users/youngqqcn/following{/other_user}",
      "gists_url": "https://api.github.com/users/youngqqcn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/youngqqcn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/youngqqcn/subscriptions",
      "organizations_url": "https://api.github.com/users/youngqqcn/orgs",
      "repos_url": "https://api.github.com/users/youngqqcn/repos",
      "events_url": "https://api.github.com/users/youngqqcn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/youngqqcn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-11T04:18:31Z",
    "updated_at": "2022-01-11T04:18:31Z",
    "author_association": "NONE",
    "body": "> @youngqqcn hello mate, did you manage to compile on termux? I'm having a similar issue... I've tried lots of thing but still no luck...\r\n\r\n@simbadMarino \r\n\r\nI had solved this issue by removing `usbwallet` and other unimportant denpendencies.  \r\n\r\nAll modifies in here : https://github.com/orientwalt/go-ethereum/tree/v1.8.39 ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1009585404/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
