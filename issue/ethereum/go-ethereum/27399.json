{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27399",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27399/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27399/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27399/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/27399",
  "id": 1735541837,
  "node_id": "I_kwDOAOvK985nckRN",
  "number": 27399,
  "title": "Should struct `diffLayer`  be exposedï¼Ÿ",
  "user": {
    "login": "joohhnnn",
    "id": 68833933,
    "node_id": "MDQ6VXNlcjY4ODMzOTMz",
    "avatar_url": "https://avatars.githubusercontent.com/u/68833933?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/joohhnnn",
    "html_url": "https://github.com/joohhnnn",
    "followers_url": "https://api.github.com/users/joohhnnn/followers",
    "following_url": "https://api.github.com/users/joohhnnn/following{/other_user}",
    "gists_url": "https://api.github.com/users/joohhnnn/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/joohhnnn/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/joohhnnn/subscriptions",
    "organizations_url": "https://api.github.com/users/joohhnnn/orgs",
    "repos_url": "https://api.github.com/users/joohhnnn/repos",
    "events_url": "https://api.github.com/users/joohhnnn/events{/privacy}",
    "received_events_url": "https://api.github.com/users/joohhnnn/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 268304226,
      "node_id": "MDU6TGFiZWwyNjgzMDQyMjY=",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:docs",
      "name": "type:docs",
      "color": "fef2c0",
      "default": false,
      "description": null
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2023-06-01T06:05:55Z",
  "updated_at": "2023-06-01T08:45:07Z",
  "closed_at": "2023-06-01T08:45:06Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "I would like to discuss the possibility of exposing the difflayer to allow external querying of the differences between specific blocks. This feature would enable me to quickly identify the exact data changes made in each block. Additionally, it would eliminate the need to use the `NewStateSync()` _(core/state/sync.go)_ method to iterate through my own trie when synchronizing snapshots, thereby achieving faster synchronization.\r\n\r\nI believe that exposing the difflayer would provide significant benefits in terms of efficiency and data analysis. It would greatly enhance the ability to track and understand the modifications made in each block.\r\n\r\n**Implementation**\r\nAre you willing to implement this feature?\r\nyes",
  "closed_by": {
    "login": "joohhnnn",
    "id": 68833933,
    "node_id": "MDQ6VXNlcjY4ODMzOTMz",
    "avatar_url": "https://avatars.githubusercontent.com/u/68833933?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/joohhnnn",
    "html_url": "https://github.com/joohhnnn",
    "followers_url": "https://api.github.com/users/joohhnnn/followers",
    "following_url": "https://api.github.com/users/joohhnnn/following{/other_user}",
    "gists_url": "https://api.github.com/users/joohhnnn/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/joohhnnn/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/joohhnnn/subscriptions",
    "organizations_url": "https://api.github.com/users/joohhnnn/orgs",
    "repos_url": "https://api.github.com/users/joohhnnn/repos",
    "events_url": "https://api.github.com/users/joohhnnn/events{/privacy}",
    "received_events_url": "https://api.github.com/users/joohhnnn/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27399/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27399/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1571600837",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/27399#issuecomment-1571600837",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27399",
    "id": 1571600837,
    "node_id": "IC_kwDOAOvK985drLnF",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-01T08:33:27Z",
    "updated_at": "2023-06-01T08:33:27Z",
    "author_association": "MEMBER",
    "body": "diffLayer is a very internal part of snapshots and we really don't want to provide an API to it. Currently the snapshot tree ensures thread safety and everything and I don't want to think about another entry point. Also Gary's doing a lot of overhauls around this part of the code, so perhaps we should wait until that's in and then reconsider?\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1571600837/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1571616520",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/27399#issuecomment-1571616520",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27399",
    "id": 1571616520,
    "node_id": "IC_kwDOAOvK985drPcI",
    "user": {
      "login": "joohhnnn",
      "id": 68833933,
      "node_id": "MDQ6VXNlcjY4ODMzOTMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/68833933?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/joohhnnn",
      "html_url": "https://github.com/joohhnnn",
      "followers_url": "https://api.github.com/users/joohhnnn/followers",
      "following_url": "https://api.github.com/users/joohhnnn/following{/other_user}",
      "gists_url": "https://api.github.com/users/joohhnnn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/joohhnnn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/joohhnnn/subscriptions",
      "organizations_url": "https://api.github.com/users/joohhnnn/orgs",
      "repos_url": "https://api.github.com/users/joohhnnn/repos",
      "events_url": "https://api.github.com/users/joohhnnn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/joohhnnn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-01T08:45:06Z",
    "updated_at": "2023-06-01T08:45:06Z",
    "author_association": "CONTRIBUTOR",
    "body": "> diffLayer is a very internal part of snapshots and we really don't want to provide an API to it. Currently the snapshot tree ensures thread safety and everything and I don't want to think about another entry point. Also Gary's doing a lot of overhauls around this part of the code, so perhaps we should wait until that's in and then reconsider?\r\n\r\nsure thing",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1571616520/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
