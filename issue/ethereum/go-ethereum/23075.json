{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23075",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23075/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23075/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23075/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/23075",
  "id": 925673419,
  "node_id": "MDU6SXNzdWU5MjU2NzM0MTk=",
  "number": 23075,
  "title": "--snapshot=false is broken in 1.10.4-stable?",
  "user": {
    "login": "ryny24",
    "id": 4743721,
    "node_id": "MDQ6VXNlcjQ3NDM3MjE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4743721?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ryny24",
    "html_url": "https://github.com/ryny24",
    "followers_url": "https://api.github.com/users/ryny24/followers",
    "following_url": "https://api.github.com/users/ryny24/following{/other_user}",
    "gists_url": "https://api.github.com/users/ryny24/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ryny24/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ryny24/subscriptions",
    "organizations_url": "https://api.github.com/users/ryny24/orgs",
    "repos_url": "https://api.github.com/users/ryny24/repos",
    "events_url": "https://api.github.com/users/ryny24/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ryny24/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 268304226,
      "node_id": "MDU6TGFiZWwyNjgzMDQyMjY=",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:docs",
      "name": "type:docs",
      "color": "fef2c0",
      "default": false,
      "description": null
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 17,
  "created_at": "2021-06-20T20:12:35Z",
  "updated_at": "2022-06-12T14:49:07Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "I run several geth nodes on Raspberry PI (8GB). It is the only thing running on the Pi, but I find that system resources are MUCH better with snapshot disabled. So, I run the the option --snapshot=false.   I just upgraded today to 1.10.4, and it appears this option is being ignored. I now have the \"Aborting/Resuming state snapshot generation\" in the log.\r\n\r\nI don't see in the release notes that this was changed. Am I missing something?\r\n\r\nThank you.",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23075/reactions",
    "total_count": 1,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 1
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23075/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/864614518",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23075#issuecomment-864614518",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23075",
    "id": 864614518,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2NDYxNDUxOA==",
    "user": {
      "login": "PcDeaDZ",
      "id": 20911979,
      "node_id": "MDQ6VXNlcjIwOTExOTc5",
      "avatar_url": "https://avatars.githubusercontent.com/u/20911979?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/PcDeaDZ",
      "html_url": "https://github.com/PcDeaDZ",
      "followers_url": "https://api.github.com/users/PcDeaDZ/followers",
      "following_url": "https://api.github.com/users/PcDeaDZ/following{/other_user}",
      "gists_url": "https://api.github.com/users/PcDeaDZ/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/PcDeaDZ/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/PcDeaDZ/subscriptions",
      "organizations_url": "https://api.github.com/users/PcDeaDZ/orgs",
      "repos_url": "https://api.github.com/users/PcDeaDZ/repos",
      "events_url": "https://api.github.com/users/PcDeaDZ/events{/privacy}",
      "received_events_url": "https://api.github.com/users/PcDeaDZ/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-20T21:32:01Z",
    "updated_at": "2021-06-20T21:32:01Z",
    "author_association": "NONE",
    "body": "Have the same issue.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/864614518/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 1
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/864630622",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23075#issuecomment-864630622",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23075",
    "id": 864630622,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2NDYzMDYyMg==",
    "user": {
      "login": "ryny24",
      "id": 4743721,
      "node_id": "MDQ6VXNlcjQ3NDM3MjE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4743721?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryny24",
      "html_url": "https://github.com/ryny24",
      "followers_url": "https://api.github.com/users/ryny24/followers",
      "following_url": "https://api.github.com/users/ryny24/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryny24/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryny24/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryny24/subscriptions",
      "organizations_url": "https://api.github.com/users/ryny24/orgs",
      "repos_url": "https://api.github.com/users/ryny24/repos",
      "events_url": "https://api.github.com/users/ryny24/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryny24/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-20T23:51:14Z",
    "updated_at": "2021-06-20T23:56:30Z",
    "author_association": "NONE",
    "body": "I'm also getting these error messages flooding my LOG file. I shortened it because it's very long (repeating) but it keeps recurring.\r\n\r\n```\r\nWARN [06-20|19:31:51.273] Synchronisation failed, dropping peer    peer=66d65ad07a81f86a3d66aad42cae4668a6c03f30f69f5c9ccab454506eccaa51 err=\"retrieved hash chain i\r\ns invalid: invalid merkle root (remote: 551fd3fedb0dad82a910e1a0a34ca28a17c57b408267b90f8fe7c29c97006b58 local: 4a3d51243edc3437a9006d433d18f5788b71781154be59736ffc\r\ncadee64afbea)\"\r\nWARN [06-20|19:31:51.274] Synchronisation failed, retrying         err=\"peer is unknown or unhealthy\"\r\nINFO [06-20|19:31:52.284] Generating state snapshot                root=b903d7..82c50b in=008f65..483efb at=23f5e7..b20e56 accounts=302,939 slots=92,044,386 storage\r\n=7.92GiB elapsed=1h36m14.924s\r\nINFO [06-20|19:31:55.137] Skip duplicated bad block                number=12,674,202 hash=de35c0..7857bd\r\nERROR[06-20|19:31:55.380]\r\n########## BAD BLOCK #########\r\nChain config: {ChainID: 1 Homestead: 1150000 DAO: 1920000 DAOSupport: true EIP150: 2463000 EIP155: 2675000 EIP158: 2675000 Byzantium: 4370000 Constantinople: 728000\r\n0 Petersburg: 7280000 Istanbul: 9069000, Muir Glacier: 9200000, Berlin: 12244000, London: <nil>, Engine: ethash}\r\n\r\nNumber: 12674202\r\nHash: 0xde35c08cab97e831ba6ba3040d46cb35ed13336c0414ce9994aee8a7457857bd\r\n         0: cumulative: 34989 gas: 34989 contract: 0x0000000000000000000000000000000000000000 status: 1 tx: 0xd6489eead932de881ca1b817b236e752218438097efe036c0ab500\r\nba14e0c8cd logs: [0x40a11c6f20] bloom: 00000000000000000000000000001000000000000000000400000000000000000000000000000080000000000000000000000000000000000000000000000\r\n00000000000000000004000000800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000009400000000000000000000000000000001000000000\r\n00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000020000000000000000000000040000000000000000020000000000000000000\r\n00000000000000000000000000000000000000000000000000000000000 state:\r\n..........\r\nError: invalid merkle root (remote: 551fd3fedb0dad82a910e1a0a34ca28a17c57b408267b90f8fe7c29c97006b58 local: 4a3d51243edc3437a9006d433d18f5788b71781154be59736ffccadee64afbea)\r\n##############################\r\n```\r\nI went back to 1.10.3, resources are back to normal and the errors are gone.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/864630622/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/864793106",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23075#issuecomment-864793106",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23075",
    "id": 864793106,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2NDc5MzEwNg==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-21T07:19:59Z",
    "updated_at": "2021-06-21T07:19:59Z",
    "author_association": "MEMBER",
    "body": "Hmm, my guess is that the switch to `--syncmode=snap` by default is also forcing snapshots. Still, snapshots do make a huge difference is avoiding a DoS attack, so if you can afford a bit of downtime, I'd recommend resyncing with snap sync. That will net you an almost perfect snapshot that can be fixed very quickly afterwards. If you keep your `ancient` folder inside `chaindata`, then you won't even download the blocks, only the state (around 30GB).",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/864793106/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/864793377",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23075#issuecomment-864793377",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23075",
    "id": 864793377,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2NDc5MzM3Nw==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-21T07:20:26Z",
    "updated_at": "2021-06-21T07:20:26Z",
    "author_association": "MEMBER",
    "body": "The invalid merkle root is more worrying. Did you node crash during snapshot gneration? Did you turn it off non-gracefully?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/864793377/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/864793802",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23075#issuecomment-864793802",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23075",
    "id": 864793802,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2NDc5MzgwMg==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-21T07:21:12Z",
    "updated_at": "2021-06-21T07:21:12Z",
    "author_association": "MEMBER",
    "body": "Just FYI, `--snapshot=false` will be removed in the future completely, so it's better to try and not rely on it sooner rather than later.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/864793802/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/864878909",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23075#issuecomment-864878909",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23075",
    "id": 864878909,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2NDg3ODkwOQ==",
    "user": {
      "login": "ryny24",
      "id": 4743721,
      "node_id": "MDQ6VXNlcjQ3NDM3MjE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4743721?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryny24",
      "html_url": "https://github.com/ryny24",
      "followers_url": "https://api.github.com/users/ryny24/followers",
      "following_url": "https://api.github.com/users/ryny24/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryny24/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryny24/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryny24/subscriptions",
      "organizations_url": "https://api.github.com/users/ryny24/orgs",
      "repos_url": "https://api.github.com/users/ryny24/repos",
      "events_url": "https://api.github.com/users/ryny24/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryny24/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-21T09:22:36Z",
    "updated_at": "2021-06-21T09:22:36Z",
    "author_association": "NONE",
    "body": "> The invalid merkle root is more worrying. Did you node crash during snapshot gneration? Did you turn it off non-gracefully?\r\n\r\nI always turn it off gracefully. systemd has a 300 second wait. I always confirm \"Blockchain stopped\". It runs for about an hour before those messages start flooding the logs. I'm back to 1.10.3 and it's running fine again.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/864878909/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/865216756",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23075#issuecomment-865216756",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23075",
    "id": 865216756,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2NTIxNjc1Ng==",
    "user": {
      "login": "easeev",
      "id": 14873170,
      "node_id": "MDQ6VXNlcjE0ODczMTcw",
      "avatar_url": "https://avatars.githubusercontent.com/u/14873170?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/easeev",
      "html_url": "https://github.com/easeev",
      "followers_url": "https://api.github.com/users/easeev/followers",
      "following_url": "https://api.github.com/users/easeev/following{/other_user}",
      "gists_url": "https://api.github.com/users/easeev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/easeev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/easeev/subscriptions",
      "organizations_url": "https://api.github.com/users/easeev/orgs",
      "repos_url": "https://api.github.com/users/easeev/repos",
      "events_url": "https://api.github.com/users/easeev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/easeev/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-21T17:30:16Z",
    "updated_at": "2021-06-21T17:30:16Z",
    "author_association": "NONE",
    "body": "Can we please not break it? We use `--snapshot=false` for archive nodes that sync better this way and other Geth forks as well",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/865216756/reactions",
      "total_count": 8,
      "+1": 8,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/866203357",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23075#issuecomment-866203357",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23075",
    "id": 866203357,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2NjIwMzM1Nw==",
    "user": {
      "login": "yfl92",
      "id": 2656704,
      "node_id": "MDQ6VXNlcjI2NTY3MDQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2656704?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yfl92",
      "html_url": "https://github.com/yfl92",
      "followers_url": "https://api.github.com/users/yfl92/followers",
      "following_url": "https://api.github.com/users/yfl92/following{/other_user}",
      "gists_url": "https://api.github.com/users/yfl92/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yfl92/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yfl92/subscriptions",
      "organizations_url": "https://api.github.com/users/yfl92/orgs",
      "repos_url": "https://api.github.com/users/yfl92/repos",
      "events_url": "https://api.github.com/users/yfl92/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yfl92/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-22T17:55:11Z",
    "updated_at": "2021-06-22T17:55:32Z",
    "author_association": "NONE",
    "body": "Moving forward, how should I turn off snapshotting given `--snapshot=false` has been broken with 1.10.4 release and will be deprecated in the future? For context, our archival nodes cannot sync unless we explicitly turn off snapshotting",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/866203357/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/866475876",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23075#issuecomment-866475876",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23075",
    "id": 866475876,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2NjQ3NTg3Ng==",
    "user": {
      "login": "petejkim",
      "id": 30173,
      "node_id": "MDQ6VXNlcjMwMTcz",
      "avatar_url": "https://avatars.githubusercontent.com/u/30173?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/petejkim",
      "html_url": "https://github.com/petejkim",
      "followers_url": "https://api.github.com/users/petejkim/followers",
      "following_url": "https://api.github.com/users/petejkim/following{/other_user}",
      "gists_url": "https://api.github.com/users/petejkim/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/petejkim/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/petejkim/subscriptions",
      "organizations_url": "https://api.github.com/users/petejkim/orgs",
      "repos_url": "https://api.github.com/users/petejkim/repos",
      "events_url": "https://api.github.com/users/petejkim/events{/privacy}",
      "received_events_url": "https://api.github.com/users/petejkim/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-23T02:37:13Z",
    "updated_at": "2021-06-23T02:37:13Z",
    "author_association": "NONE",
    "body": "+1. Please preserve `--snapshot=false`, it does not make much sense/doesn't seem to work very well for archival nodes.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/866475876/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/866772988",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23075#issuecomment-866772988",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23075",
    "id": 866772988,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2Njc3Mjk4OA==",
    "user": {
      "login": "begetan",
      "id": 17225934,
      "node_id": "MDQ6VXNlcjE3MjI1OTM0",
      "avatar_url": "https://avatars.githubusercontent.com/u/17225934?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/begetan",
      "html_url": "https://github.com/begetan",
      "followers_url": "https://api.github.com/users/begetan/followers",
      "following_url": "https://api.github.com/users/begetan/following{/other_user}",
      "gists_url": "https://api.github.com/users/begetan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/begetan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/begetan/subscriptions",
      "organizations_url": "https://api.github.com/users/begetan/orgs",
      "repos_url": "https://api.github.com/users/begetan/repos",
      "events_url": "https://api.github.com/users/begetan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/begetan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-23T11:56:41Z",
    "updated_at": "2021-06-23T11:56:41Z",
    "author_association": "NONE",
    "body": "A node running with `--snapshot=false` prevents the whole network to go to the snapshot syncing completely. If you run a new node version 1.10.4 right now which relies on the snapshot sync you may see a lack of peers supporting it. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/866772988/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/867171272",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23075#issuecomment-867171272",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23075",
    "id": 867171272,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2NzE3MTI3Mg==",
    "user": {
      "login": "AusIV",
      "id": 977954,
      "node_id": "MDQ6VXNlcjk3Nzk1NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/977954?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AusIV",
      "html_url": "https://github.com/AusIV",
      "followers_url": "https://api.github.com/users/AusIV/followers",
      "following_url": "https://api.github.com/users/AusIV/following{/other_user}",
      "gists_url": "https://api.github.com/users/AusIV/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AusIV/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AusIV/subscriptions",
      "organizations_url": "https://api.github.com/users/AusIV/orgs",
      "repos_url": "https://api.github.com/users/AusIV/repos",
      "events_url": "https://api.github.com/users/AusIV/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AusIV/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-23T21:27:27Z",
    "updated_at": "2021-06-23T21:27:27Z",
    "author_association": "CONTRIBUTOR",
    "body": "Running with `--syncmode=fast` resolves this problem for me.\r\n\r\nI believe what happened here is that at one point, `--snapshot` defaulted to false and you had to explicitly pass it to set it to true. `--syncmode` defaulted to fast, and you had to explicitly set it to snap. At that time, the assumption was that if you set `--syncmode=snap` without setting `--snapshot=true` that you had actually intended to set `--snapshot=true`.\r\n\r\nThen `--snapshot` started defaulting to true, but `--syncmode` still defaulted to fast, so setting `--snapshot=false` worked as expected. In 1.10.4, they changed the default `--syncmode` to snap, and now the assumption that if `--syncmode` is set to snap meant you intended `--snapshot=true` violates peoples expectations, because the only way `--snapshot=false` is if somebody explicitly set it that way.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/867171272/reactions",
      "total_count": 3,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 2,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/867197257",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23075#issuecomment-867197257",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23075",
    "id": 867197257,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2NzE5NzI1Nw==",
    "user": {
      "login": "AusIV",
      "id": 977954,
      "node_id": "MDQ6VXNlcjk3Nzk1NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/977954?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AusIV",
      "html_url": "https://github.com/AusIV",
      "followers_url": "https://api.github.com/users/AusIV/followers",
      "following_url": "https://api.github.com/users/AusIV/following{/other_user}",
      "gists_url": "https://api.github.com/users/AusIV/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AusIV/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AusIV/subscriptions",
      "organizations_url": "https://api.github.com/users/AusIV/orgs",
      "repos_url": "https://api.github.com/users/AusIV/repos",
      "events_url": "https://api.github.com/users/AusIV/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AusIV/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-23T22:18:15Z",
    "updated_at": "2021-06-23T22:18:15Z",
    "author_association": "CONTRIBUTOR",
    "body": "> A node running with `--snapshot=false` prevents the whole network to go to the snapshot syncing completely. If you run a new node version 1.10.4 right now which relies on the snapshot sync you may see a lack of peers supporting it.\r\n\r\nIf having a few Geth operators running with `--snapshot=false` is going to prevent the network from going to snapshot syncing, other clients like Nethermind, OpenEthereum, Besu, etc. are probably going to cause even bigger problems. The network needs to have a critical mass of nodes running with `--snapshot`, but client diversity is more important for the network than snapshot sync, and to my knowledge none of the other clients have any serious plans to implement it. One Geth operator running with `--snapshot=false` is no more of a risk to the network than if they had elected to run Nethermind instead of Geth.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/867197257/reactions",
      "total_count": 3,
      "+1": 3,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/867256057",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23075#issuecomment-867256057",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23075",
    "id": 867256057,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2NzI1NjA1Nw==",
    "user": {
      "login": "ryny24",
      "id": 4743721,
      "node_id": "MDQ6VXNlcjQ3NDM3MjE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4743721?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryny24",
      "html_url": "https://github.com/ryny24",
      "followers_url": "https://api.github.com/users/ryny24/followers",
      "following_url": "https://api.github.com/users/ryny24/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryny24/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryny24/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryny24/subscriptions",
      "organizations_url": "https://api.github.com/users/ryny24/orgs",
      "repos_url": "https://api.github.com/users/ryny24/repos",
      "events_url": "https://api.github.com/users/ryny24/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryny24/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-24T01:06:09Z",
    "updated_at": "2021-06-24T01:06:09Z",
    "author_association": "NONE",
    "body": "Excellent suggestion @AusIV. `--syncmode=fast` worked for me. I'm gonna try it on my backup node for a few days, though. Thank you!",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/867256057/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1024633728",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23075#issuecomment-1024633728",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23075",
    "id": 1024633728,
    "node_id": "IC_kwDOAOvK9849EquA",
    "user": {
      "login": "AusIV",
      "id": 977954,
      "node_id": "MDQ6VXNlcjk3Nzk1NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/977954?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AusIV",
      "html_url": "https://github.com/AusIV",
      "followers_url": "https://api.github.com/users/AusIV/followers",
      "following_url": "https://api.github.com/users/AusIV/following{/other_user}",
      "gists_url": "https://api.github.com/users/AusIV/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AusIV/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AusIV/subscriptions",
      "organizations_url": "https://api.github.com/users/AusIV/orgs",
      "repos_url": "https://api.github.com/users/AusIV/repos",
      "events_url": "https://api.github.com/users/AusIV/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AusIV/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-28T21:03:38Z",
    "updated_at": "2022-01-28T21:03:38Z",
    "author_association": "CONTRIBUTOR",
    "body": "Note that --syncmode=fast will no longer work, but --syncmode=full will.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1024633728/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1025678571",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23075#issuecomment-1025678571",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23075",
    "id": 1025678571,
    "node_id": "IC_kwDOAOvK9849Ipzr",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-31T12:15:38Z",
    "updated_at": "2022-01-31T12:15:38Z",
    "author_association": "MEMBER",
    "body": "`fast` was replaced with `snap`. (i.e. `--syncmode=snap`)",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1025678571/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1025811544",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23075#issuecomment-1025811544",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23075",
    "id": 1025811544,
    "node_id": "IC_kwDOAOvK9849JKRY",
    "user": {
      "login": "AusIV",
      "id": 977954,
      "node_id": "MDQ6VXNlcjk3Nzk1NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/977954?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AusIV",
      "html_url": "https://github.com/AusIV",
      "followers_url": "https://api.github.com/users/AusIV/followers",
      "following_url": "https://api.github.com/users/AusIV/following{/other_user}",
      "gists_url": "https://api.github.com/users/AusIV/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AusIV/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AusIV/subscriptions",
      "organizations_url": "https://api.github.com/users/AusIV/orgs",
      "repos_url": "https://api.github.com/users/AusIV/repos",
      "events_url": "https://api.github.com/users/AusIV/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AusIV/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-31T14:40:13Z",
    "updated_at": "2022-01-31T14:40:13Z",
    "author_association": "CONTRIBUTOR",
    "body": "Yes, but if you want the --snapshot=false flag to work, as is the point of this thread, you must also explicitly set the --syncmode flag to something other than snap. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1025811544/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1040359526",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23075#issuecomment-1040359526",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23075",
    "id": 1040359526,
    "node_id": "IC_kwDOAOvK984-AqBm",
    "user": {
      "login": "raulmonge",
      "id": 6462150,
      "node_id": "MDQ6VXNlcjY0NjIxNTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6462150?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/raulmonge",
      "html_url": "https://github.com/raulmonge",
      "followers_url": "https://api.github.com/users/raulmonge/followers",
      "following_url": "https://api.github.com/users/raulmonge/following{/other_user}",
      "gists_url": "https://api.github.com/users/raulmonge/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/raulmonge/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/raulmonge/subscriptions",
      "organizations_url": "https://api.github.com/users/raulmonge/orgs",
      "repos_url": "https://api.github.com/users/raulmonge/repos",
      "events_url": "https://api.github.com/users/raulmonge/events{/privacy}",
      "received_events_url": "https://api.github.com/users/raulmonge/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-15T14:47:20Z",
    "updated_at": "2022-02-15T14:47:20Z",
    "author_association": "NONE",
    "body": "> \r\n\r\nYeah I have the same problem, I updated my node to the 1.10.15 version and with `--syncmode snap --snapshot=false` it still start with the snapshot generation",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1040359526/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
