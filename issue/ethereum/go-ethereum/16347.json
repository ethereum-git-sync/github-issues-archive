{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16347",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16347/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16347/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16347/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/16347",
  "id": 306696396,
  "node_id": "MDU6SXNzdWUzMDY2OTYzOTY=",
  "number": 16347,
  "title": "[LES] `eth_getTransactionReceipt` returns null when transaction has been mined",
  "user": {
    "login": "rkeene",
    "id": 5068442,
    "node_id": "MDQ6VXNlcjUwNjg0NDI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5068442?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/rkeene",
    "html_url": "https://github.com/rkeene",
    "followers_url": "https://api.github.com/users/rkeene/followers",
    "following_url": "https://api.github.com/users/rkeene/following{/other_user}",
    "gists_url": "https://api.github.com/users/rkeene/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/rkeene/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/rkeene/subscriptions",
    "organizations_url": "https://api.github.com/users/rkeene/orgs",
    "repos_url": "https://api.github.com/users/rkeene/repos",
    "events_url": "https://api.github.com/users/rkeene/events{/privacy}",
    "received_events_url": "https://api.github.com/users/rkeene/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1132689577,
      "node_id": "MDU6TGFiZWwxMTMyNjg5NTc3",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/status:triage",
      "name": "status:triage",
      "color": "6be514",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 7,
  "created_at": "2018-03-20T01:36:31Z",
  "updated_at": "2020-02-21T13:03:18Z",
  "closed_at": "2019-09-24T08:26:29Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "geth v1.8.2 running in light mode on Linux/x86_64 synced with 4 peers\r\n\r\nhttps://etherscan.io/tx/0x5d9a62b8a4aea33e86dc58abaec4dbd89e61eacbf4ab52fda332786f34fb0bf5\r\n\r\n```\r\n$ curl --header \"Content-type: application/json\" -sS -X POST --data '{\"jsonrpc\":\"2.0\",\"method\":\"eth_getTransactionReceipt\",\"params\":[\"0x5d9a62b8a4aea33e86dc58abaec4dbd89e61eacbf4ab52fda332786f34fb0bf5\"],\"id\":1}' http://54.89.237.211/\r\n{\"jsonrpc\":\"2.0\",\"id\":1,\"result\":null}\r\n$ \r\n```\r\n\r\n```\r\n$ geth attach\r\n> eth.getTransactionReceipt(\"0x5d9a62b8a4aea33e86dc58abaec4dbd89e61eacbf4ab52fda332786f34fb0bf5\")\r\nnull\r\n> eth.syncing\r\nfalse\r\n> eth.blockNumber\r\n5286470\r\n```\r\n\r\nIs it expected that light nodes cannot be used for verifying transactions ?",
  "closed_by": {
    "login": "karalabe",
    "id": 129561,
    "node_id": "MDQ6VXNlcjEyOTU2MQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/karalabe",
    "html_url": "https://github.com/karalabe",
    "followers_url": "https://api.github.com/users/karalabe/followers",
    "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
    "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
    "organizations_url": "https://api.github.com/users/karalabe/orgs",
    "repos_url": "https://api.github.com/users/karalabe/repos",
    "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
    "received_events_url": "https://api.github.com/users/karalabe/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16347/reactions",
    "total_count": 4,
    "+1": 4,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16347/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/374453457",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/16347#issuecomment-374453457",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16347",
    "id": 374453457,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NDQ1MzQ1Nw==",
    "user": {
      "login": "rkeene",
      "id": 5068442,
      "node_id": "MDQ6VXNlcjUwNjg0NDI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5068442?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rkeene",
      "html_url": "https://github.com/rkeene",
      "followers_url": "https://api.github.com/users/rkeene/followers",
      "following_url": "https://api.github.com/users/rkeene/following{/other_user}",
      "gists_url": "https://api.github.com/users/rkeene/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rkeene/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rkeene/subscriptions",
      "organizations_url": "https://api.github.com/users/rkeene/orgs",
      "repos_url": "https://api.github.com/users/rkeene/repos",
      "events_url": "https://api.github.com/users/rkeene/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rkeene/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-20T02:41:52Z",
    "updated_at": "2018-03-20T02:41:52Z",
    "author_association": "NONE",
    "body": "`eth.getTransactionFromBlock()` in the JavaScript console succeeds:\r\n\r\n```\r\n> eth.getTransactionFromBlock(5243155, 32)\r\n{\r\n  blockHash: \"0x3e7ce55799378a2b8ce47b319a224cec7d3445aaac3e45ac3fe2a23661a8d6ad\",\r\n  blockNumber: 5243155,\r\n  from: \"0x2b5634c42055806a59e9107ed44d43c426e58258\",\r\n  gas: 90000,\r\n  gasPrice: 15000000000,\r\n  hash: \"0x5d9a62b8a4aea33e86dc58abaec4dbd89e61eacbf4ab52fda332786f34fb0bf5\",\r\n  input: \"0x\",\r\n  nonce: 567361,\r\n  r: \"0x894a06cae04daad500ca26f1f4b3ba0d7533894b36d6648f12da4216c3a3446a\",\r\n  s: \"0x6f183807332e3347f08ea9faa49a6469ecbe62eee2ec4ca73b018f603b3e0718\",\r\n  to: \"0x2794a97c8cef516c044029ec4f799b7d24fab586\",\r\n  transactionIndex: 32,\r\n  v: \"0x26\",\r\n  value: 9990000000000000000\r\n}\r\n>\r\n```\r\n\r\nBut `eth.getTransactionReceipt()` fails.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/374453457/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/403530051",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/16347#issuecomment-403530051",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16347",
    "id": 403530051,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwMzUzMDA1MQ==",
    "user": {
      "login": "dimitar-petrov",
      "id": 4025446,
      "node_id": "MDQ6VXNlcjQwMjU0NDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4025446?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dimitar-petrov",
      "html_url": "https://github.com/dimitar-petrov",
      "followers_url": "https://api.github.com/users/dimitar-petrov/followers",
      "following_url": "https://api.github.com/users/dimitar-petrov/following{/other_user}",
      "gists_url": "https://api.github.com/users/dimitar-petrov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dimitar-petrov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dimitar-petrov/subscriptions",
      "organizations_url": "https://api.github.com/users/dimitar-petrov/orgs",
      "repos_url": "https://api.github.com/users/dimitar-petrov/repos",
      "events_url": "https://api.github.com/users/dimitar-petrov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dimitar-petrov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-09T16:00:25Z",
    "updated_at": "2018-07-09T16:00:25Z",
    "author_association": "NONE",
    "body": "I am facing same problem.\r\nDid you find a solution?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/403530051/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/427320055",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/16347#issuecomment-427320055",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16347",
    "id": 427320055,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyNzMyMDA1NQ==",
    "user": {
      "login": "traderbagel",
      "id": 13161274,
      "node_id": "MDQ6VXNlcjEzMTYxMjc0",
      "avatar_url": "https://avatars.githubusercontent.com/u/13161274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/traderbagel",
      "html_url": "https://github.com/traderbagel",
      "followers_url": "https://api.github.com/users/traderbagel/followers",
      "following_url": "https://api.github.com/users/traderbagel/following{/other_user}",
      "gists_url": "https://api.github.com/users/traderbagel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/traderbagel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/traderbagel/subscriptions",
      "organizations_url": "https://api.github.com/users/traderbagel/orgs",
      "repos_url": "https://api.github.com/users/traderbagel/repos",
      "events_url": "https://api.github.com/users/traderbagel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/traderbagel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-05T10:36:06Z",
    "updated_at": "2018-10-05T10:36:06Z",
    "author_association": "NONE",
    "body": "same problem ... ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/427320055/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/509898830",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/16347#issuecomment-509898830",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16347",
    "id": 509898830,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwOTg5ODgzMA==",
    "user": {
      "login": "yqzzj",
      "id": 19380198,
      "node_id": "MDQ6VXNlcjE5MzgwMTk4",
      "avatar_url": "https://avatars.githubusercontent.com/u/19380198?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yqzzj",
      "html_url": "https://github.com/yqzzj",
      "followers_url": "https://api.github.com/users/yqzzj/followers",
      "following_url": "https://api.github.com/users/yqzzj/following{/other_user}",
      "gists_url": "https://api.github.com/users/yqzzj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yqzzj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yqzzj/subscriptions",
      "organizations_url": "https://api.github.com/users/yqzzj/orgs",
      "repos_url": "https://api.github.com/users/yqzzj/repos",
      "events_url": "https://api.github.com/users/yqzzj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yqzzj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-07-10T04:06:01Z",
    "updated_at": "2019-07-10T04:06:01Z",
    "author_association": "NONE",
    "body": "same problem...\r\nv1.8.27",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/509898830/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/524065567",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/16347#issuecomment-524065567",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16347",
    "id": 524065567,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyNDA2NTU2Nw==",
    "user": {
      "login": "mw-cyzen",
      "id": 52932831,
      "node_id": "MDQ6VXNlcjUyOTMyODMx",
      "avatar_url": "https://avatars.githubusercontent.com/u/52932831?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mw-cyzen",
      "html_url": "https://github.com/mw-cyzen",
      "followers_url": "https://api.github.com/users/mw-cyzen/followers",
      "following_url": "https://api.github.com/users/mw-cyzen/following{/other_user}",
      "gists_url": "https://api.github.com/users/mw-cyzen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mw-cyzen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mw-cyzen/subscriptions",
      "organizations_url": "https://api.github.com/users/mw-cyzen/orgs",
      "repos_url": "https://api.github.com/users/mw-cyzen/repos",
      "events_url": "https://api.github.com/users/mw-cyzen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mw-cyzen/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-08-22T20:31:20Z",
    "updated_at": "2019-08-22T20:31:20Z",
    "author_association": "NONE",
    "body": "is this still an issue",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/524065567/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/534451112",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/16347#issuecomment-534451112",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16347",
    "id": 534451112,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzNDQ1MTExMg==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-09-24T08:26:29Z",
    "updated_at": "2019-09-24T08:26:29Z",
    "author_association": "MEMBER",
    "body": "This should have been fixed in 1.9.0 already. Please reopen if not.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/534451112/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/589639656",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/16347#issuecomment-589639656",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16347",
    "id": 589639656,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU4OTYzOTY1Ng==",
    "user": {
      "login": "veox",
      "id": 3036030,
      "node_id": "MDQ6VXNlcjMwMzYwMzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3036030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/veox",
      "html_url": "https://github.com/veox",
      "followers_url": "https://api.github.com/users/veox/followers",
      "following_url": "https://api.github.com/users/veox/following{/other_user}",
      "gists_url": "https://api.github.com/users/veox/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/veox/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/veox/subscriptions",
      "organizations_url": "https://api.github.com/users/veox/orgs",
      "repos_url": "https://api.github.com/users/veox/repos",
      "events_url": "https://api.github.com/users/veox/events{/privacy}",
      "received_events_url": "https://api.github.com/users/veox/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-02-21T12:48:22Z",
    "updated_at": "2020-02-21T13:03:18Z",
    "author_association": "CONTRIBUTOR",
    "body": "This must've resurfaced, I'm trying this in v1.9.10 and getting same buggy behaviour (in `console`).\r\n\r\n-----\r\n\r\nThere is nothing in the log with `debug.vmodule('rpc=5')`:\r\n\r\n```\r\nDEBUG[02-21|14:50:02.956] Served debug_vmodule                     reqid=23 t=128.163µs\r\nDEBUG[02-21|14:50:06.490] Served eth_getTransactionReceipt         reqid=24 t=132.386µs\r\nDEBUG[02-21|14:50:13.403] Served eth_getTransactionReceipt         reqid=25 t=208.154µs\r\nDEBUG[02-21|14:50:17.651] Served eth_getTransactionByHash          reqid=26 t=48.934033ms\r\n```\r\n\r\n-----\r\n\r\nSetting `debug.verbosity(5)` is quite noisy, but shows `Served eth_getTransactionReceipt` almost immediately in the logs, with no other lines.\r\n\r\nCompare to a few extra lines when issuing `eth.getTransaction()`:\r\n\r\n```\r\nDEBUG[02-21|14:54:24.614] Requesting transaction status            id=2d1f1ff277435247 conn=staticdial count=1\r\nDEBUG[02-21|14:54:24.616] Requesting transaction status            id=2d1f1ff277435247 conn=staticdial count=1\r\nTRACE[02-21|14:54:24.645] Light Ethereum message arrived           id=2d1f1ff277435247 conn=staticdial code=21 bytes=59\r\nTRACE[02-21|14:54:24.646] Received tx status response              id=2d1f1ff277435247 conn=staticdial\r\nDEBUG[02-21|14:54:24.647] Validating transaction status            count=1\r\nDEBUG[02-21|14:54:24.651] Served eth_getTransactionByHash          reqid=49 t=36.8826ms\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/589639656/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
