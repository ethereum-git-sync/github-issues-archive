{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2138",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2138/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2138/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2138/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/2138",
  "id": 127704997,
  "node_id": "MDU6SXNzdWUxMjc3MDQ5OTc=",
  "number": 2138,
  "title": "Docker geth : Cannot unlock account : \"Fatal: Failed to unlock account\"",
  "user": {
    "login": "gregbkr",
    "id": 5642000,
    "node_id": "MDQ6VXNlcjU2NDIwMDA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5642000?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gregbkr",
    "html_url": "https://github.com/gregbkr",
    "followers_url": "https://api.github.com/users/gregbkr/followers",
    "following_url": "https://api.github.com/users/gregbkr/following{/other_user}",
    "gists_url": "https://api.github.com/users/gregbkr/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gregbkr/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gregbkr/subscriptions",
    "organizations_url": "https://api.github.com/users/gregbkr/orgs",
    "repos_url": "https://api.github.com/users/gregbkr/repos",
    "events_url": "https://api.github.com/users/gregbkr/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gregbkr/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 856638432,
      "node_id": "MDU6TGFiZWw4NTY2Mzg0MzI=",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/status:inactive",
      "name": "status:inactive",
      "color": "ffffff",
      "default": false,
      "description": null
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2016-01-20T15:19:34Z",
  "updated_at": "2018-04-16T18:37:38Z",
  "closed_at": "2018-04-16T18:37:38Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Hello Ethereum team!\n\nI got issues to unlock account in Docker, impossible via --unlock in cmd or js (only possible while sending a transaction).\n\nMy environnement:\n- Ubuntu 14.04.2 LTS\n- docker version: 1.9.1\n- Geth 1.4 image: ethereum/client-go \n\nMy steps:\n## DATA container (for blockchain, wallet, password)\n\n```\ndocker run --name=geth-data -v /root/.ethereum busybox chown 1000:1000 /root/.ethereum\n```\n## Import wallet\n\n```\ndocker cp ./keystore geth-data:/root/.ethereum/keystore\necho -n 'test' > pw\ndocker cp ./pw geth-data:/root/.ethereum/pw\n```\n## Run geth while unlocking wallet: I tried all these commands with no luck:\n\n```\ndocker run --name geth -it -p 8545:8545 -p 30303:30303 --volumes-from=geth-data ethereum/client-go  --password /root/.ethereum/pw --unlock 0\nFatal: Failed to unlock account: 0\n\ndocker run --name geth -it -p 8545:8545 -p 30303:30303 --volumes-from=geth-data ethereum/client-go  --password /root/.ethereum/pw --unlock 0xb16711ee4a2b5b229729bd33d73c39c7527acb11\n```\n\nFatal: Failed to unlock account: 0xb16711ee4a2b5b229729bd33d73c39c7527acb11\n\n```\ndocker run --name geth -it -p 8545:8545 -p 30303:30303 --volumes-from=geth-data ethereum/client-go  --password <(echo -n 'test') --unlock 0\nFatal: Failed to read password file: open /dev/fd/63: no such file or directory\n```\n## I tried:\n- Creating 5 new different wallets\n- Using different complexity passwords.\n- some other image like : https://github.com/trapp/docker-ethereum-go\n## With js, unlocking doesn't work too:\n\n```\ndocker run --name geth -d -p 8545:8545 -p 30303:30303 --volumes-from=geth-data ethereum/client-go\ndocker exec -it geth geth attach\n> personal.unlockAccount(web3.eth.accounts[0])\n> Please enter your password..\n> test\n> false  :-(\n```\n## But it is working when you send a transaction, it ask you to unlock, for some reason it accepts the password here...\n\n```\nweb3.eth.sendTransaction({from: \"0xb16711ee4a2b5b229729bd33d73c39c7527acb11\", to: \"0x4efc6fc02f27960584be19df02567950931f0e7a\", value: 1000000000000, gas:21000, gasPrice:web3.toWei(60, 'gwei')})\n> Please enter your password..\n> test\n> ... transaction_id ... nice :-) !   \n```\n\nI can't see another option to try, hopefully I am missing something obvious.\nI need that option because I would like to automate the deployment of geth, while getting the password from a vault.\n\nThank you for your help!! And good week! :-)\nGreg.\n",
  "closed_by": {
    "login": "stale[bot]",
    "id": 26384082,
    "node_id": "MDM6Qm90MjYzODQwODI=",
    "avatar_url": "https://avatars.githubusercontent.com/in/1724?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/stale%5Bbot%5D",
    "html_url": "https://github.com/apps/stale",
    "followers_url": "https://api.github.com/users/stale%5Bbot%5D/followers",
    "following_url": "https://api.github.com/users/stale%5Bbot%5D/following{/other_user}",
    "gists_url": "https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/stale%5Bbot%5D/subscriptions",
    "organizations_url": "https://api.github.com/users/stale%5Bbot%5D/orgs",
    "repos_url": "https://api.github.com/users/stale%5Bbot%5D/repos",
    "events_url": "https://api.github.com/users/stale%5Bbot%5D/events{/privacy}",
    "received_events_url": "https://api.github.com/users/stale%5Bbot%5D/received_events",
    "type": "Bot",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2138/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2138/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/174552952",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/2138#issuecomment-174552952",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2138",
    "id": 174552952,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE3NDU1Mjk1Mg==",
    "user": {
      "login": "gregbkr",
      "id": 5642000,
      "node_id": "MDQ6VXNlcjU2NDIwMDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5642000?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gregbkr",
      "html_url": "https://github.com/gregbkr",
      "followers_url": "https://api.github.com/users/gregbkr/followers",
      "following_url": "https://api.github.com/users/gregbkr/following{/other_user}",
      "gists_url": "https://api.github.com/users/gregbkr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gregbkr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gregbkr/subscriptions",
      "organizations_url": "https://api.github.com/users/gregbkr/orgs",
      "repos_url": "https://api.github.com/users/gregbkr/repos",
      "events_url": "https://api.github.com/users/gregbkr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gregbkr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-01-25T15:56:41Z",
    "updated_at": "2016-01-25T15:56:41Z",
    "author_association": "NONE",
    "body": "Hello, seems like my problem is due of the alteration of my wallet password, when I create a new account via : \n    docker exec -it geth geth account new\n\nIf you see in docker \"Unsupported terminal, password will be echoed.\", thing will probably not work.\nSeems like the prompt is acting strange and geth will not accept the same password I just set seconds ago.\n\nA workaround I found is to create the wallet from a non-docker geth, or be in the container while creating the password: \n    docker run --rm -it --entrypoint /bin/bash ethereum/client-go\n\nThen unlocking the account work with a local file: \n    ... geth --password /root/.ethereum/pw --unlock 0\nBut it still doesn't work (through docker) with an echo : \n    ... geth --password <(echo -n 'mypass') --unlock 0 \n\nThank you!\nGreg.\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/174552952/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/370502149",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/2138#issuecomment-370502149",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2138",
    "id": 370502149,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MDUwMjE0OQ==",
    "user": {
      "login": "stale[bot]",
      "id": 26384082,
      "node_id": "MDM6Qm90MjYzODQwODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/1724?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stale%5Bbot%5D",
      "html_url": "https://github.com/apps/stale",
      "followers_url": "https://api.github.com/users/stale%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/stale%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stale%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/stale%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/stale%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/stale%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stale%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2018-03-05T17:44:28Z",
    "updated_at": "2018-03-05T17:44:28Z",
    "author_association": "NONE",
    "body": "This issue has been automatically marked as stale because it has not had recent activity. It will be closed if no further activity occurs. Thank you for your contributions.\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/370502149/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
