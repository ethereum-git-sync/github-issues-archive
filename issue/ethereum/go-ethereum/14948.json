{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/14948",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/14948/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/14948/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/14948/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/14948",
  "id": 248957971,
  "node_id": "MDU6SXNzdWUyNDg5NTc5NzE=",
  "number": 14948,
  "title": "Clique mining gets stuck with a signer that shouldn't exist",
  "user": {
    "login": "OniReimu",
    "id": 22544855,
    "node_id": "MDQ6VXNlcjIyNTQ0ODU1",
    "avatar_url": "https://avatars.githubusercontent.com/u/22544855?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/OniReimu",
    "html_url": "https://github.com/OniReimu",
    "followers_url": "https://api.github.com/users/OniReimu/followers",
    "following_url": "https://api.github.com/users/OniReimu/following{/other_user}",
    "gists_url": "https://api.github.com/users/OniReimu/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/OniReimu/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/OniReimu/subscriptions",
    "organizations_url": "https://api.github.com/users/OniReimu/orgs",
    "repos_url": "https://api.github.com/users/OniReimu/repos",
    "events_url": "https://api.github.com/users/OniReimu/events{/privacy}",
    "received_events_url": "https://api.github.com/users/OniReimu/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2017-08-09T08:40:48Z",
  "updated_at": "2017-08-09T10:23:01Z",
  "closed_at": "2017-08-09T10:23:01Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nGeth version: `geth 1.7.0`\r\nOS & Version: Linux/OSX\r\n\r\n#### Actual behaviour\r\n\r\nI am not sure if it is a bug or I missed something important. \r\nI have got two signers, Signer_1 and Signer_2, the number of consecutive blocks out of which a signer can sign one was floor(2/2+1)=2. Now I get the root admin of one of the signers, say Signer_2, and `rm -rvf data/` that includes all necessary data when `geth --datadir account new` and `geth --datadir init`. Then I come back to Signer_1 and do `clique.getSigners()`, found that the address of Signer_2 still exist, which means `SIGNER_LIMIT` still equals to 2, and if I run `miner.start()` on Signer_1, I will indefinitely get stuck with message `Signed recently, must wait for others`. Besides, `clique.propose(Addr, true/false)` does not work here either (may be because of the insufficient votes? Only one signer is working, Signer_1. The other one has been deleted by removing the directory). Although I tried to rebuild a node for Signer_2, but it was with a different address that even cannot be added into the signer list due to the inexistence of the old address of Signer_2 unexpectedly existing in the signer list. Unfortunately, I couldn't find any available function to delete this old address from signer list without a normal proposals.\r\nOther than start it over, any ideas with this?\r\n",
  "closed_by": {
    "login": "karalabe",
    "id": 129561,
    "node_id": "MDQ6VXNlcjEyOTU2MQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/karalabe",
    "html_url": "https://github.com/karalabe",
    "followers_url": "https://api.github.com/users/karalabe/followers",
    "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
    "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
    "organizations_url": "https://api.github.com/users/karalabe/orgs",
    "repos_url": "https://api.github.com/users/karalabe/repos",
    "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
    "received_events_url": "https://api.github.com/users/karalabe/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/14948/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/14948/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/321215980",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/14948#issuecomment-321215980",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/14948",
    "id": 321215980,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyMTIxNTk4MA==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-08-09T10:23:01Z",
    "updated_at": "2017-08-09T10:23:01Z",
    "author_association": "MEMBER",
    "body": "Well, how did you expect the network rules to change just because you deleted a folder from your computer?\r\n\r\nThe list of authorized signers remains constant until the majority signers proposes to make changes to it. You need majority consensus to both add and remove signers from that list. In your case, you need both keys to modify the authorization list. If you irreversibly deleted one key, you are pretty much out of luck.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/321215980/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
