{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15929",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15929/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15929/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15929/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/15929",
  "id": 290234125,
  "node_id": "MDU6SXNzdWUyOTAyMzQxMjU=",
  "number": 15929,
  "title": "gasPrice field of log in Javascript tracer",
  "user": {
    "login": "vsaraph",
    "id": 5934167,
    "node_id": "MDQ6VXNlcjU5MzQxNjc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5934167?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vsaraph",
    "html_url": "https://github.com/vsaraph",
    "followers_url": "https://api.github.com/users/vsaraph/followers",
    "following_url": "https://api.github.com/users/vsaraph/following{/other_user}",
    "gists_url": "https://api.github.com/users/vsaraph/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vsaraph/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vsaraph/subscriptions",
    "organizations_url": "https://api.github.com/users/vsaraph/orgs",
    "repos_url": "https://api.github.com/users/vsaraph/repos",
    "events_url": "https://api.github.com/users/vsaraph/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vsaraph/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2018-01-21T00:04:00Z",
  "updated_at": "2018-01-22T22:23:43Z",
  "closed_at": "2018-01-22T22:23:43Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "I am using geth version 1.7.3-stable on OS X.\r\n\r\nI've come across what I believe to be a minor bug in the transaction tracer ([debug.traceTransaction](https://github.com/ethereum/go-ethereum/wiki/Management-APIs#debug_tracetransaction) in Management API).\r\n\r\nThis concerns the `gasPrice` field of the `log` object in the Javascript tracer. While the gas price is accurately described in the documentation as the cost (in Wei) per unit gas, I believe that the tracer actually stores a _gas cost_ in the `gasPrice` field. This is what I observed when running the Javascript tracer and accessing the `gasPrice` field. Furthermore, I believe the intent was for `gasPrice` to actually be gas cost, since the default tracer returns a `gasCost` field per instruction (and not a gas price). So fixing this would merely require renaming the `gasPrice` field to `gasCost`, and updating the description in the documentation accordingly.\r\n\r\nRecreating this bug is pretty straightforward; just run the Javascript tracer given below, and compare the output to gas cost values in the yellow paper or in [this spreadsheet](https://docs.google.com/spreadsheets/d/1n6mRqkBz3iWcOlRem_mO09GtSKEKrAsfO7Frgx18pNU/edit#gid=0).\r\n\r\n`{data: [],\r\n    step: function(log) {\r\n        opstr = log.op.toString();\r\n        this.data.push([opstr, log.gasPrice]);\r\n    },\r\n    result: function() {return this.data; }\r\n}`",
  "closed_by": {
    "login": "vsaraph",
    "id": 5934167,
    "node_id": "MDQ6VXNlcjU5MzQxNjc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5934167?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vsaraph",
    "html_url": "https://github.com/vsaraph",
    "followers_url": "https://api.github.com/users/vsaraph/followers",
    "following_url": "https://api.github.com/users/vsaraph/following{/other_user}",
    "gists_url": "https://api.github.com/users/vsaraph/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vsaraph/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vsaraph/subscriptions",
    "organizations_url": "https://api.github.com/users/vsaraph/orgs",
    "repos_url": "https://api.github.com/users/vsaraph/repos",
    "events_url": "https://api.github.com/users/vsaraph/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vsaraph/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15929/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15929/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/359250336",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15929#issuecomment-359250336",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15929",
    "id": 359250336,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1OTI1MDMzNg==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-21T13:57:58Z",
    "updated_at": "2018-01-21T13:57:58Z",
    "author_association": "MEMBER",
    "body": "The JavaScript traces the completely reworked in Geth 1.8.0. Please try the master branch to see an updated behavior and API (and yes, this was also fixed, it indeed was the wrong field).",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/359250336/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/359250387",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15929#issuecomment-359250387",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15929",
    "id": 359250387,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1OTI1MDM4Nw==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-21T13:58:47Z",
    "updated_at": "2018-01-21T13:58:47Z",
    "author_association": "MEMBER",
    "body": "E.g. Our most complex tracer to date (call tracer): https://github.com/ethereum/go-ethereum/blob/master/eth/tracers/internal/tracers/call_tracer.js",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/359250387/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
