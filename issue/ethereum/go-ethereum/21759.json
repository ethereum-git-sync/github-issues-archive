{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21759",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21759/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21759/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21759/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/21759",
  "id": 730392188,
  "node_id": "MDU6SXNzdWU3MzAzOTIxODg=",
  "number": 21759,
  "title": "Why admin.nodeInfo.enode IP is 127.0.0.1?",
  "user": {
    "login": "dume2007",
    "id": 3312912,
    "node_id": "MDQ6VXNlcjMzMTI5MTI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/3312912?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/dume2007",
    "html_url": "https://github.com/dume2007",
    "followers_url": "https://api.github.com/users/dume2007/followers",
    "following_url": "https://api.github.com/users/dume2007/following{/other_user}",
    "gists_url": "https://api.github.com/users/dume2007/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/dume2007/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/dume2007/subscriptions",
    "organizations_url": "https://api.github.com/users/dume2007/orgs",
    "repos_url": "https://api.github.com/users/dume2007/repos",
    "events_url": "https://api.github.com/users/dume2007/events{/privacy}",
    "received_events_url": "https://api.github.com/users/dume2007/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2020-10-27T12:08:26Z",
  "updated_at": "2020-10-28T08:21:42Z",
  "closed_at": "2020-10-28T08:21:41Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "I created a local private chain like below in the Server 192.168.40.113:\r\n\r\n```\r\ngeth --datadir \"./\" --networkid 2020888 --port 30301 console --http --allow-insecure-unlock --http.api=\"eth,net,web3,personal,web3\" --http.addr \"192.168.40.113\" --http.vhosts \"*\" --http.corsdomain \"*\"\r\n```\r\n\r\nadmin.nodeInfo.enode showed\r\n\r\n> \"enode://dd47aff4da11c82496fec9253a1d2dac8c4abdbf93ff7458cf7965447355c265907b41dbd8c4b1dded6ae28b5a4d2d6b4d3fdad2950e5b6ef56169958b80b450@**127.0.0.1**:30301\"\r\n\r\n\r\nThe enode value is bind to the 127.0.0.1, how can I addPeer this enode in another server node? I hope it should be bind to 192.168.40.113, like this\r\n\r\n> \"enode://dd47aff4da11c82496fec9253a1d2dac8c4abdbf93ff7458cf7965447355c265907b41dbd8c4b1dded6ae28b5a4d2d6b4d3fdad2950e5b6ef56169958b80b450@**192.168.40.113**:30301\"\r\n\r\nor like this\r\n\r\n> \"enode://dd47aff4da11c82496fec9253a1d2dac8c4abdbf93ff7458cf7965447355c265907b41dbd8c4b1dded6ae28b5a4d2d6b4d3fdad2950e5b6ef56169958b80b450@**[::]**:30301\"\r\n\r\nI can't find any OPTIONS to set the ip.\r\n",
  "closed_by": {
    "login": "dume2007",
    "id": 3312912,
    "node_id": "MDQ6VXNlcjMzMTI5MTI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/3312912?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/dume2007",
    "html_url": "https://github.com/dume2007",
    "followers_url": "https://api.github.com/users/dume2007/followers",
    "following_url": "https://api.github.com/users/dume2007/following{/other_user}",
    "gists_url": "https://api.github.com/users/dume2007/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/dume2007/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/dume2007/subscriptions",
    "organizations_url": "https://api.github.com/users/dume2007/orgs",
    "repos_url": "https://api.github.com/users/dume2007/repos",
    "events_url": "https://api.github.com/users/dume2007/events{/privacy}",
    "received_events_url": "https://api.github.com/users/dume2007/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21759/reactions",
    "total_count": 1,
    "+1": 1,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21759/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/717207830",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/21759#issuecomment-717207830",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21759",
    "id": 717207830,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxNzIwNzgzMA==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-27T12:24:56Z",
    "updated_at": "2020-10-27T12:24:56Z",
    "author_association": "MEMBER",
    "body": "You can explicitly set your IP address via `--nat=extip:192.168.40.113`. Otherwise Geth will try to detect your public IP address, but that may not work, in which case it will be left on `localhost`. Note, Geth explicitly excludes internal IP addresses from it's discovery to avoid publishing unreachable nodes into the DHT. If you want to run the discovery protocol in a completely private setting, you might need to play with the `--netrestrict` flag, though I've never used it, so don't have enough knowledge how to best set it. Cc @fjl?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/717207830/reactions",
      "total_count": 2,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 1,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/717417948",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/21759#issuecomment-717417948",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21759",
    "id": 717417948,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxNzQxNzk0OA==",
    "user": {
      "login": "fjl",
      "id": 6915,
      "node_id": "MDQ6VXNlcjY5MTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6915?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjl",
      "html_url": "https://github.com/fjl",
      "followers_url": "https://api.github.com/users/fjl/followers",
      "following_url": "https://api.github.com/users/fjl/following{/other_user}",
      "gists_url": "https://api.github.com/users/fjl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fjl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fjl/subscriptions",
      "organizations_url": "https://api.github.com/users/fjl/orgs",
      "repos_url": "https://api.github.com/users/fjl/repos",
      "events_url": "https://api.github.com/users/fjl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fjl/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-27T17:53:55Z",
    "updated_at": "2020-10-27T17:53:55Z",
    "author_association": "MEMBER",
    "body": "If you run the discovery for a while, it will eventually find its own IP. If you don't want to use the discovery, just use the `--nat=extip:...` like @karalabe says.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/717417948/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/717658264",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/21759#issuecomment-717658264",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21759",
    "id": 717658264,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxNzY1ODI2NA==",
    "user": {
      "login": "dume2007",
      "id": 3312912,
      "node_id": "MDQ6VXNlcjMzMTI5MTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3312912?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dume2007",
      "html_url": "https://github.com/dume2007",
      "followers_url": "https://api.github.com/users/dume2007/followers",
      "following_url": "https://api.github.com/users/dume2007/following{/other_user}",
      "gists_url": "https://api.github.com/users/dume2007/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dume2007/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dume2007/subscriptions",
      "organizations_url": "https://api.github.com/users/dume2007/orgs",
      "repos_url": "https://api.github.com/users/dume2007/repos",
      "events_url": "https://api.github.com/users/dume2007/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dume2007/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-28T02:39:57Z",
    "updated_at": "2020-10-28T02:41:30Z",
    "author_association": "NONE",
    "body": "\r\n\r\n\r\n> You can explicitly set your IP address via `--nat=extip:192.168.40.113`. Otherwise Geth will try to detect your public IP address, but that may not work, in which case it will be left on `localhost`. Note, Geth explicitly excludes internal IP addresses from it's discovery to avoid publishing unreachable nodes into the DHT. If you want to run the discovery protocol in a completely private setting, you might need to play with the `--netrestrict` flag, though I've never used it, so don't have enough knowledge how to best set it. Cc @fjl?\r\n\r\nYes, it's useful. Thanks! \r\nAnd there is a new problem here:\r\nI can get the first node's account balance with use getBalance command, but list accounts is empty. It seems that the synchronization between the two nodes is not successful. What is the reason for this?\r\n\r\nIn the new second server node:\r\n```\r\n> eth.getBalance(\"0xd4ad5901fb321b0def8eb1a573b4249d57f6d4c9\")\r\n1.38999999999267578125e+21\r\n> eth.getBalance(\"0xffb555d9ab938fe8bf879f59baeb140e33915d5b\")\r\n5000000007324218750\r\n> eth.accounts\r\n[]\r\n> amount = web3.toWei(20, 'ether')\r\n\"20000000000000000000\"\r\n> eth.sendTransaction({from:\"0xd4ad5901fb321b0def8eb1a573b4249d57f6d4c9\", to:\"0xffb555d9ab938fe8bf879f59baeb140e33915d5b\", value:amount})\r\nINFO [10-28|10:25:36.410] Imported new chain segment               blocks=1  txs=0 mgas=0.000 elapsed=3.036ms     mgasps=0.000 number=322 hash=\"f79b08…54871e\" dirty=56.75KiB\r\nWARN [10-28|10:25:36.542] Served eth_sendTransaction               reqid=29 t=\"455.224µs\" err=\"unknown account\"\r\nError: unknown account\r\n\tat web3.js:6347:37(47)\r\n\tat web3.js:5081:62(37)\r\n\tat <eval>:1:20(10)\r\n\r\n```\r\n\r\nin the first server node:\r\n```\r\n> eth.accounts\r\n[\"0xd4ad5901fb321b0def8eb1a573b4249d57f6d4c9\", \"0xffb555d9ab938fe8bf879f59baeb140e33915d5b\"]\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/717658264/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/717766406",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/21759#issuecomment-717766406",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21759",
    "id": 717766406,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxNzc2NjQwNg==",
    "user": {
      "login": "MariusVanDerWijden",
      "id": 16664698,
      "node_id": "MDQ6VXNlcjE2NjY0Njk4",
      "avatar_url": "https://avatars.githubusercontent.com/u/16664698?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MariusVanDerWijden",
      "html_url": "https://github.com/MariusVanDerWijden",
      "followers_url": "https://api.github.com/users/MariusVanDerWijden/followers",
      "following_url": "https://api.github.com/users/MariusVanDerWijden/following{/other_user}",
      "gists_url": "https://api.github.com/users/MariusVanDerWijden/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MariusVanDerWijden/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MariusVanDerWijden/subscriptions",
      "organizations_url": "https://api.github.com/users/MariusVanDerWijden/orgs",
      "repos_url": "https://api.github.com/users/MariusVanDerWijden/repos",
      "events_url": "https://api.github.com/users/MariusVanDerWijden/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MariusVanDerWijden/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-28T08:01:37Z",
    "updated_at": "2020-10-28T08:01:37Z",
    "author_association": "MEMBER",
    "body": "`eth.accounts` lists the accounts that are **locally** available on this node. They are not synced between nodes. With `eth.getBalance` you can query the balance of **any** account (not necessarily a local one). So this behavior is expected. If you want to send transactions from your account with the \"second server node\" you need to copy your accounts to it. `geth account import`",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/717766406/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/717775496",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/21759#issuecomment-717775496",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21759",
    "id": 717775496,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxNzc3NTQ5Ng==",
    "user": {
      "login": "dume2007",
      "id": 3312912,
      "node_id": "MDQ6VXNlcjMzMTI5MTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3312912?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dume2007",
      "html_url": "https://github.com/dume2007",
      "followers_url": "https://api.github.com/users/dume2007/followers",
      "following_url": "https://api.github.com/users/dume2007/following{/other_user}",
      "gists_url": "https://api.github.com/users/dume2007/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dume2007/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dume2007/subscriptions",
      "organizations_url": "https://api.github.com/users/dume2007/orgs",
      "repos_url": "https://api.github.com/users/dume2007/repos",
      "events_url": "https://api.github.com/users/dume2007/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dume2007/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-28T08:21:41Z",
    "updated_at": "2020-10-28T08:21:41Z",
    "author_association": "NONE",
    "body": "I knew it, Thank you!",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/717775496/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
