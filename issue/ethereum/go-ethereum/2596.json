{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2596",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2596/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2596/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2596/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/2596",
  "id": 156167083,
  "node_id": "MDU6SXNzdWUxNTYxNjcwODM=",
  "number": 2596,
  "title": "eth_submitWork returns false on valid work item",
  "user": {
    "login": "peterbitfly",
    "id": 1674920,
    "node_id": "MDQ6VXNlcjE2NzQ5MjA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1674920?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/peterbitfly",
    "html_url": "https://github.com/peterbitfly",
    "followers_url": "https://api.github.com/users/peterbitfly/followers",
    "following_url": "https://api.github.com/users/peterbitfly/following{/other_user}",
    "gists_url": "https://api.github.com/users/peterbitfly/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/peterbitfly/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/peterbitfly/subscriptions",
    "organizations_url": "https://api.github.com/users/peterbitfly/orgs",
    "repos_url": "https://api.github.com/users/peterbitfly/repos",
    "events_url": "https://api.github.com/users/peterbitfly/events{/privacy}",
    "received_events_url": "https://api.github.com/users/peterbitfly/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2016-05-22T19:04:36Z",
  "updated_at": "2016-05-25T09:31:55Z",
  "closed_at": "2016-05-25T09:31:55Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "#### System information\n\nGeth version: v1.4.4-stable-94ad694a\nOS & Version: Linux\nCommit hash : (if `develop`)\n\nDuring mining sometimes geth return false when submitting work via eth_submitWork. The geth log does not print the submitted work at all, neither \"Block xxx mined\" nor \"Work was submitted for xxx but no pending work found\" can be seen in the log output. The work solution is simply discarded by geth without any reason.\n",
  "closed_by": {
    "login": "peterbitfly",
    "id": 1674920,
    "node_id": "MDQ6VXNlcjE2NzQ5MjA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1674920?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/peterbitfly",
    "html_url": "https://github.com/peterbitfly",
    "followers_url": "https://api.github.com/users/peterbitfly/followers",
    "following_url": "https://api.github.com/users/peterbitfly/following{/other_user}",
    "gists_url": "https://api.github.com/users/peterbitfly/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/peterbitfly/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/peterbitfly/subscriptions",
    "organizations_url": "https://api.github.com/users/peterbitfly/orgs",
    "repos_url": "https://api.github.com/users/peterbitfly/repos",
    "events_url": "https://api.github.com/users/peterbitfly/events{/privacy}",
    "received_events_url": "https://api.github.com/users/peterbitfly/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2596/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2596/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/220911272",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/2596#issuecomment-220911272",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2596",
    "id": 220911272,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMDkxMTI3Mg==",
    "user": {
      "login": "peterbitfly",
      "id": 1674920,
      "node_id": "MDQ6VXNlcjE2NzQ5MjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1674920?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/peterbitfly",
      "html_url": "https://github.com/peterbitfly",
      "followers_url": "https://api.github.com/users/peterbitfly/followers",
      "following_url": "https://api.github.com/users/peterbitfly/following{/other_user}",
      "gists_url": "https://api.github.com/users/peterbitfly/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/peterbitfly/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/peterbitfly/subscriptions",
      "organizations_url": "https://api.github.com/users/peterbitfly/orgs",
      "repos_url": "https://api.github.com/users/peterbitfly/repos",
      "events_url": "https://api.github.com/users/peterbitfly/events{/privacy}",
      "received_events_url": "https://api.github.com/users/peterbitfly/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-05-23T07:56:44Z",
    "updated_at": "2016-05-23T07:56:44Z",
    "author_association": "CONTRIBUTOR",
    "body": "This issue does not occur on v1.3.6 (just tested for 12 hours).\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/220911272/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/220936874",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/2596#issuecomment-220936874",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2596",
    "id": 220936874,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMDkzNjg3NA==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-05-23T09:54:09Z",
    "updated_at": "2016-05-23T09:54:09Z",
    "author_association": "MEMBER",
    "body": "@bas-vk Could you take a look at this if you have the time?\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/220936874/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/221231478",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/2596#issuecomment-221231478",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2596",
    "id": 221231478,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMTIzMTQ3OA==",
    "user": {
      "login": "peterbitfly",
      "id": 1674920,
      "node_id": "MDQ6VXNlcjE2NzQ5MjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1674920?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/peterbitfly",
      "html_url": "https://github.com/peterbitfly",
      "followers_url": "https://api.github.com/users/peterbitfly/followers",
      "following_url": "https://api.github.com/users/peterbitfly/following{/other_user}",
      "gists_url": "https://api.github.com/users/peterbitfly/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/peterbitfly/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/peterbitfly/subscriptions",
      "organizations_url": "https://api.github.com/users/peterbitfly/orgs",
      "repos_url": "https://api.github.com/users/peterbitfly/repos",
      "events_url": "https://api.github.com/users/peterbitfly/events{/privacy}",
      "received_events_url": "https://api.github.com/users/peterbitfly/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-05-24T10:39:22Z",
    "updated_at": "2016-05-24T10:39:48Z",
    "author_association": "CONTRIBUTOR",
    "body": "On v1.3.6 I see a similar behavior only that eth_submitWork returns true but geth prints the following error message:\n\n```\nI0524 11:55:31.340694    4523 worker.go:295] Invalid header on mined block: nonce for #1575385 [ccf92232eda42498f57bb07ad9aebfc2e40712ed491059721a118fbe61295cf8â€¦] is invalid (got 13364320432927586209)\n```\n\nThis is the corresponding work package submitted to geth:\n\n```\nHashNoNonce: 0x3e984873aa2644807751a0a0152cccac2f362a71f7208fd75815d66c667d81ac\nMixHash: 0x6a0200867b25d65afb97951668cab214a5c91afe089a59f1c7ee32fd5b7bfedc\nSeedHash: 0xcad4f4a99ad327de63b019b0116d93d299bf8ab65cdb0f56a94b9532d1c460ae\nNonce: 0x07847af45d2e9c73\nBlock difficulty: 0x25897c28c791\n```\n\nAccording to ethminer this solution is valid:\n\n```\nethminer -w 0x3e984873aa2644807751a0a0152cccac2f362a71f7208fd75815d66c667d81ac 0xcad4f4a99ad327de63b019b0116d93d299bf8ab65cdb0f56a94b9532d1c460ae 0x25897c28c791 0x07847af45d2e9c73\nVALID :-)\n00000000000587a6ef65abb11af7198b9041394affe51ba83ab15e0641f19312 < 000000000006d1e6d47f06e61315e2d17fa5b43784f6e34a810e8e15674a5419\n  where 000000000006d1e6d47f06e61315e2d17fa5b43784f6e34a810e8e15674a5419 = 2^256 / 41272423794577\n  and 00000000000587a6ef65abb11af7198b9041394affe51ba83ab15e0641f19312 = ethash(3e984873aa2644807751a0a0152cccac2f362a71f7208fd75815d66c667d81ac, 07847af45d2e9c73)\n  with seed as cad4f4a99ad327de63b019b0116d93d299bf8ab65cdb0f56a94b9532d1c460ae\n(mixHash = 6a0200867b25d65afb97951668cab214a5c91afe089a59f1c7ee32fd5b7bfedc)\nSHA3( light(seed) ) = 35ded12eecf2ce2e8da2e15c06d463aae9b84cb2530a00b932e4bbc484cde353\n```\n\nWhy does geth believe the solution is invalid?\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/221231478/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/221285591",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/2596#issuecomment-221285591",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2596",
    "id": 221285591,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMTI4NTU5MQ==",
    "user": {
      "login": "bas-vk",
      "id": 4280775,
      "node_id": "MDQ6VXNlcjQyODA3NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4280775?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bas-vk",
      "html_url": "https://github.com/bas-vk",
      "followers_url": "https://api.github.com/users/bas-vk/followers",
      "following_url": "https://api.github.com/users/bas-vk/following{/other_user}",
      "gists_url": "https://api.github.com/users/bas-vk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bas-vk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bas-vk/subscriptions",
      "organizations_url": "https://api.github.com/users/bas-vk/orgs",
      "repos_url": "https://api.github.com/users/bas-vk/repos",
      "events_url": "https://api.github.com/users/bas-vk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bas-vk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-05-24T14:18:22Z",
    "updated_at": "2016-05-24T14:18:22Z",
    "author_association": "MEMBER",
    "body": "@karalabe will take a look at it.\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/221285591/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/221487049",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/2596#issuecomment-221487049",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2596",
    "id": 221487049,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMTQ4NzA0OQ==",
    "user": {
      "login": "peterbitfly",
      "id": 1674920,
      "node_id": "MDQ6VXNlcjE2NzQ5MjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1674920?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/peterbitfly",
      "html_url": "https://github.com/peterbitfly",
      "followers_url": "https://api.github.com/users/peterbitfly/followers",
      "following_url": "https://api.github.com/users/peterbitfly/following{/other_user}",
      "gists_url": "https://api.github.com/users/peterbitfly/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/peterbitfly/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/peterbitfly/subscriptions",
      "organizations_url": "https://api.github.com/users/peterbitfly/orgs",
      "repos_url": "https://api.github.com/users/peterbitfly/repos",
      "events_url": "https://api.github.com/users/peterbitfly/events{/privacy}",
      "received_events_url": "https://api.github.com/users/peterbitfly/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-05-25T06:43:36Z",
    "updated_at": "2016-05-25T06:43:36Z",
    "author_association": "CONTRIBUTOR",
    "body": "I did some more digging:\neth_submitWork returns occasionally false on both http and ipc RPC requests\n\nI added some trace output at the beginning of [api.go#L203](https://github.com/ethereum/go-ethereum/blob/master/eth/api.go#L203). When the issue happens the function is not called at all! I assume the problem is somewhere in the RPC implementation itself.\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/221487049/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/221501955",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/2596#issuecomment-221501955",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2596",
    "id": 221501955,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMTUwMTk1NQ==",
    "user": {
      "login": "bas-vk",
      "id": 4280775,
      "node_id": "MDQ6VXNlcjQyODA3NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4280775?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bas-vk",
      "html_url": "https://github.com/bas-vk",
      "followers_url": "https://api.github.com/users/bas-vk/followers",
      "following_url": "https://api.github.com/users/bas-vk/following{/other_user}",
      "gists_url": "https://api.github.com/users/bas-vk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bas-vk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bas-vk/subscriptions",
      "organizations_url": "https://api.github.com/users/bas-vk/orgs",
      "repos_url": "https://api.github.com/users/bas-vk/repos",
      "events_url": "https://api.github.com/users/bas-vk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bas-vk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-05-25T08:05:34Z",
    "updated_at": "2016-05-25T08:05:34Z",
    "author_association": "MEMBER",
    "body": "Could you run geth with the following options `geth --vmodule rpc=6,eth=6`, capture the log and post it when you encounter this problem?\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/221501955/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/221521733",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/2596#issuecomment-221521733",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2596",
    "id": 221521733,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIyMTUyMTczMw==",
    "user": {
      "login": "peterbitfly",
      "id": 1674920,
      "node_id": "MDQ6VXNlcjE2NzQ5MjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1674920?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/peterbitfly",
      "html_url": "https://github.com/peterbitfly",
      "followers_url": "https://api.github.com/users/peterbitfly/followers",
      "following_url": "https://api.github.com/users/peterbitfly/following{/other_user}",
      "gists_url": "https://api.github.com/users/peterbitfly/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/peterbitfly/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/peterbitfly/subscriptions",
      "organizations_url": "https://api.github.com/users/peterbitfly/orgs",
      "repos_url": "https://api.github.com/users/peterbitfly/repos",
      "events_url": "https://api.github.com/users/peterbitfly/events{/privacy}",
      "received_events_url": "https://api.github.com/users/peterbitfly/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-05-25T09:31:55Z",
    "updated_at": "2016-05-25T09:31:55Z",
    "author_association": "CONTRIBUTOR",
    "body": "Sorry for the troubles, found the issue on my end of the table ;)\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/221521733/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
