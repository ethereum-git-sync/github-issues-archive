{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25046",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25046/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25046/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25046/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/25046",
  "id": 1265001969,
  "node_id": "I_kwDOAOvK985LZmXx",
  "number": 25046,
  "title": "ropsten merge ttd (geth_block_transactions=0)",
  "user": {
    "login": "basvlanat",
    "id": 60644692,
    "node_id": "MDQ6VXNlcjYwNjQ0Njky",
    "avatar_url": "https://avatars.githubusercontent.com/u/60644692?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/basvlanat",
    "html_url": "https://github.com/basvlanat",
    "followers_url": "https://api.github.com/users/basvlanat/followers",
    "following_url": "https://api.github.com/users/basvlanat/following{/other_user}",
    "gists_url": "https://api.github.com/users/basvlanat/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/basvlanat/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/basvlanat/subscriptions",
    "organizations_url": "https://api.github.com/users/basvlanat/orgs",
    "repos_url": "https://api.github.com/users/basvlanat/repos",
    "events_url": "https://api.github.com/users/basvlanat/events{/privacy}",
    "received_events_url": "https://api.github.com/users/basvlanat/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 268304226,
      "node_id": "MDU6TGFiZWwyNjgzMDQyMjY=",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:docs",
      "name": "type:docs",
      "color": "fef2c0",
      "default": false,
      "description": null
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2022-06-08T16:21:30Z",
  "updated_at": "2022-06-15T12:23:43Z",
  "closed_at": "2022-06-15T12:23:43Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Hello.\r\nI have two nodes running on a ropsten v1.10.16 testnet running through a docker image ethereum/client-go. Today I noticed that transactions through monitoring stopped going.\r\n![image](https://user-images.githubusercontent.com/60644692/172666963-4f4fcc6d-0fe3-4717-b96b-83a283aa8cec.png)\r\n\r\nI read the news about the merger https://blog.ethereum.org/2022/06/03/ropsten-merge-ttd/. \r\nDid I understand correctly that it is necessary to update the docker image to version v1.10.18 and add the parameter  --override.terminaltotaldifficulty=50000000000000000 and restart my node?\r\nIf so, approximately after how long will the node be able to return to a working state?\r\n\r\n**Commands on my node:**\r\n      - --ropsten\r\n      - --cache=1024\r\n      - --nousb\r\n      - --port=30303\r\n      - --http \r\n      - --http.api=admin,debug,miner,txpool,personal,eth,net,web3\r\n      - --http.port=8550\r\n      - --http.addr=0.0.0.0 \r\n      - --http.vhosts=*\r\n      - --http.corsdomain=*\r\n      - --metrics\r\n      - --metrics.addr=0.0.0.0\r\n      - --metrics.port=6060\r\n      - --graphql \r\n      - --graphql.vhosts=* \r\n      - --ws\r\n      - --ws.addr=0.0.0.0\r\n      - --ws.port=8546\r\n      - --ws.api=admin,debug,miner,txpool,personal,eth,net,web3\r\n      - --ws.origins=*\r\n      - --rpc.allow-unprotected-txs\r\n      - --cache=1024\r\n      - --override.terminaltotaldifficulty=50000000000000000",
  "closed_by": {
    "login": "karalabe",
    "id": 129561,
    "node_id": "MDQ6VXNlcjEyOTU2MQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/karalabe",
    "html_url": "https://github.com/karalabe",
    "followers_url": "https://api.github.com/users/karalabe/followers",
    "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
    "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
    "organizations_url": "https://api.github.com/users/karalabe/orgs",
    "repos_url": "https://api.github.com/users/karalabe/repos",
    "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
    "received_events_url": "https://api.github.com/users/karalabe/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25046/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25046/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1150588964",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/25046#issuecomment-1150588964",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25046",
    "id": 1150588964,
    "node_id": "IC_kwDOAOvK985ElJgk",
    "user": {
      "login": "rjl493456442",
      "id": 5959481,
      "node_id": "MDQ6VXNlcjU5NTk0ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5959481?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rjl493456442",
      "html_url": "https://github.com/rjl493456442",
      "followers_url": "https://api.github.com/users/rjl493456442/followers",
      "following_url": "https://api.github.com/users/rjl493456442/following{/other_user}",
      "gists_url": "https://api.github.com/users/rjl493456442/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rjl493456442/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rjl493456442/subscriptions",
      "organizations_url": "https://api.github.com/users/rjl493456442/orgs",
      "repos_url": "https://api.github.com/users/rjl493456442/repos",
      "events_url": "https://api.github.com/users/rjl493456442/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rjl493456442/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-09T02:01:10Z",
    "updated_at": "2022-06-09T02:01:10Z",
    "author_association": "MEMBER",
    "body": "Ropsten is merged(switch to PoS), in order to keep sync with the network, you should also run a beacon node. \r\n\r\nHere is a simple guide for you. https://geth.ethereum.org/docs/interface/merge",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1150588964/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1151011344",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/25046#issuecomment-1151011344",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25046",
    "id": 1151011344,
    "node_id": "IC_kwDOAOvK985EmwoQ",
    "user": {
      "login": "basvlanat",
      "id": 60644692,
      "node_id": "MDQ6VXNlcjYwNjQ0Njky",
      "avatar_url": "https://avatars.githubusercontent.com/u/60644692?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/basvlanat",
      "html_url": "https://github.com/basvlanat",
      "followers_url": "https://api.github.com/users/basvlanat/followers",
      "following_url": "https://api.github.com/users/basvlanat/following{/other_user}",
      "gists_url": "https://api.github.com/users/basvlanat/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/basvlanat/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/basvlanat/subscriptions",
      "organizations_url": "https://api.github.com/users/basvlanat/orgs",
      "repos_url": "https://api.github.com/users/basvlanat/repos",
      "events_url": "https://api.github.com/users/basvlanat/events{/privacy}",
      "received_events_url": "https://api.github.com/users/basvlanat/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-09T11:35:48Z",
    "updated_at": "2022-06-09T12:04:18Z",
    "author_association": "NONE",
    "body": "Okay thanks.\r\nIf I understood everything correctly:\r\n1. On the client-go I have to add the parameter **--override.terminaltotaldifficulty=100000000000000000000000**\r\n2. I have to start the beacon node as described here by giving it the address of my  client-go  **http-web3provider=localhost:8550**\r\nFor example [doc_beacon](https://docs.prylabs.network/docs/install/install-with-docker)\r\n`docker run -it -v $HOME/.eth2:/data -v /path/to/genesis.ssz:/genesis/genesis.ssz -p 4000:4000 -p 13000:13000 -p 12000:12000/udp --name beacon-node \\\r\n  gcr.io/prysmaticlabs/prysm/beacon-chain:stable \\\r\n  --datadir=/data \\\r\n  --rpc-host=0.0.0.0 \\\r\n  --monitoring-host=0.0.0.0 \\\r\n  --http-web3provider=<YOUR_ETH_EXECUTION_NODE_ENDPOINT> \\\r\n  --genesis-state=/genesis/genesis.ssz \\\r\n  --prater`\r\n  And should i run beacon on testnet --**prater**?\r\n  \r\nIs it true ??",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1151011344/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1151065692",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/25046#issuecomment-1151065692",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25046",
    "id": 1151065692,
    "node_id": "IC_kwDOAOvK985Em95c",
    "user": {
      "login": "lcgogo",
      "id": 8175573,
      "node_id": "MDQ6VXNlcjgxNzU1NzM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8175573?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lcgogo",
      "html_url": "https://github.com/lcgogo",
      "followers_url": "https://api.github.com/users/lcgogo/followers",
      "following_url": "https://api.github.com/users/lcgogo/following{/other_user}",
      "gists_url": "https://api.github.com/users/lcgogo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lcgogo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lcgogo/subscriptions",
      "organizations_url": "https://api.github.com/users/lcgogo/orgs",
      "repos_url": "https://api.github.com/users/lcgogo/repos",
      "events_url": "https://api.github.com/users/lcgogo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lcgogo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-09T12:35:59Z",
    "updated_at": "2022-06-09T12:35:59Z",
    "author_association": "NONE",
    "body": "> Okay thanks. If I understood everything correctly:\r\n> \r\n>     1. On the client-go I have to add the parameter **--override.terminaltotaldifficulty=100000000000000000000000**\r\n> \r\n>     2. I have to start the beacon node as described here by giving it the address of my  client-go  **http-web3provider=localhost:8550**\r\n>        For example [doc_beacon](https://docs.prylabs.network/docs/install/install-with-docker)\r\n>        `docker run -it -v $HOME/.eth2:/data -v /path/to/genesis.ssz:/genesis/genesis.ssz -p 4000:4000 -p 13000:13000 -p 12000:12000/udp --name beacon-node \\   gcr.io/prysmaticlabs/prysm/beacon-chain:stable \\   --datadir=/data \\   --rpc-host=0.0.0.0 \\   --monitoring-host=0.0.0.0 \\   --http-web3provider=<YOUR_ETH_EXECUTION_NODE_ENDPOINT> \\   --genesis-state=/genesis/genesis.ssz \\   --prater`\r\n>        And should i run beacon on testnet --**prater**?\r\n> \r\n> \r\n> Is it true ??\r\n\r\nI think should be **--ropsten** according to \r\nhttps://github.com/prysmaticlabs/prysm/releases/tag/v2.1.3-rc.3\r\n\r\nBut my ropsten geth repeat printout after I run beacon node by prysm 2.1.3-rc.3\r\n\r\n```shell\r\nINFO [06-09|12:32:11.373] Generating state snapshot                root=5036f2..31c7ed at=3de355..7e3acc accounts=8,820,578 slots=51,502,616 storage=4.31GiB dangling=0 elapsed=4h2m42.838s  eta=20h4m3.594s\r\nINFO [06-09|12:32:12.127] Legacy sync reached merge threshold      number=12,350,713 hash=4e8451..5809f6 td=50,001,647,293,494,169 ttd=50,000,000,000,000,000\r\nINFO [06-09|12:32:14.629] Legacy sync reached merge threshold      number=12,350,713 hash=4e8451..5809f6 td=50,001,647,293,494,169 ttd=50,000,000,000,000,000\r\nINFO [06-09|12:32:17.067] Legacy sync reached merge threshold      number=12,350,713 hash=4e8451..5809f6 td=50,001,647,293,494,169 ttd=50,000,000,000,000,000\r\nWARN [06-09|12:32:17.068] Local chain is post-merge, waiting for beacon client sync switch-over...\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1151065692/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1151217605",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/25046#issuecomment-1151217605",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25046",
    "id": 1151217605,
    "node_id": "IC_kwDOAOvK985Eni_F",
    "user": {
      "login": "s1na",
      "id": 1591639,
      "node_id": "MDQ6VXNlcjE1OTE2Mzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1591639?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/s1na",
      "html_url": "https://github.com/s1na",
      "followers_url": "https://api.github.com/users/s1na/followers",
      "following_url": "https://api.github.com/users/s1na/following{/other_user}",
      "gists_url": "https://api.github.com/users/s1na/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/s1na/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/s1na/subscriptions",
      "organizations_url": "https://api.github.com/users/s1na/orgs",
      "repos_url": "https://api.github.com/users/s1na/repos",
      "events_url": "https://api.github.com/users/s1na/events{/privacy}",
      "received_events_url": "https://api.github.com/users/s1na/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-09T14:47:46Z",
    "updated_at": "2022-06-09T14:47:46Z",
    "author_association": "MEMBER",
    "body": "> On the client-go I have to add the parameter --override.terminaltotaldifficulty=100000000000000000000000\r\n\r\nThe TTD on the website was outdated. It's now fixed: https://github.com/ethereum/go-ethereum/pull/25052. I.e. you need to use:\r\n\r\n```\r\n--override.terminaltotaldifficulty 50000000000000000\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1151217605/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1151219013",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/25046#issuecomment-1151219013",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25046",
    "id": 1151219013,
    "node_id": "IC_kwDOAOvK985EnjVF",
    "user": {
      "login": "s1na",
      "id": 1591639,
      "node_id": "MDQ6VXNlcjE1OTE2Mzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1591639?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/s1na",
      "html_url": "https://github.com/s1na",
      "followers_url": "https://api.github.com/users/s1na/followers",
      "following_url": "https://api.github.com/users/s1na/following{/other_user}",
      "gists_url": "https://api.github.com/users/s1na/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/s1na/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/s1na/subscriptions",
      "organizations_url": "https://api.github.com/users/s1na/orgs",
      "repos_url": "https://api.github.com/users/s1na/repos",
      "events_url": "https://api.github.com/users/s1na/events{/privacy}",
      "received_events_url": "https://api.github.com/users/s1na/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-09T14:48:56Z",
    "updated_at": "2022-06-09T14:48:56Z",
    "author_association": "MEMBER",
    "body": "> But my ropsten geth repeat printout after I run beacon node by prysm 2.1.3-rc.3\r\n\r\nIn your logs I see that it's still generating the state snapshot. Are you doing a fresh sync? in that case you'll have to wait for the sync to finish and then geth and prysm will co-ordinate the switchover.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1151219013/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
