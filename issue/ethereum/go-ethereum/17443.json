{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17443",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17443/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17443/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17443/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/17443",
  "id": 351864846,
  "node_id": "MDU6SXNzdWUzNTE4NjQ4NDY=",
  "number": 17443,
  "title": "Block sealing failed when I use my genesis.json",
  "user": {
    "login": "pedromazala",
    "id": 2103162,
    "node_id": "MDQ6VXNlcjIxMDMxNjI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2103162?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/pedromazala",
    "html_url": "https://github.com/pedromazala",
    "followers_url": "https://api.github.com/users/pedromazala/followers",
    "following_url": "https://api.github.com/users/pedromazala/following{/other_user}",
    "gists_url": "https://api.github.com/users/pedromazala/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/pedromazala/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/pedromazala/subscriptions",
    "organizations_url": "https://api.github.com/users/pedromazala/orgs",
    "repos_url": "https://api.github.com/users/pedromazala/repos",
    "events_url": "https://api.github.com/users/pedromazala/events{/privacy}",
    "received_events_url": "https://api.github.com/users/pedromazala/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 7,
  "created_at": "2018-08-19T01:22:25Z",
  "updated_at": "2023-04-25T07:01:11Z",
  "closed_at": "2018-08-19T03:18:16Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nGeth version: `Geth/v1.8.13-stable-225171a4/linux-amd64/go1.10.3`\r\nOS & Version: linux-amd64/go1.10.3\r\nCommit hash : (if `develop`)\r\n\r\n#### Expected behaviour\r\nIt should starts miner after run `miner.start(5)` on my console\r\n\r\n#### Actual behaviour\r\nThe minering process does not init. It prints a log like `WARN [MM-DD|HH:II:SS] Block sealing failed                     err=unauthorized`.\r\n\r\n#### Steps to reproduce the behaviour\r\n\r\n- Genesis file:\r\n```\r\n{\r\n  \"config\": {\r\n    \"chainId\": 500,\r\n    \"homesteadBlock\": 1,\r\n    \"eip150Block\": 2,\r\n    \"eip150Hash\": \"0x0000000000000000000000000000000000000000000000000000000000000000\",\r\n    \"eip155Block\": 3,\r\n    \"eip158Block\": 3,\r\n    \"byzantiumBlock\": 4,\r\n    \"clique\": {\r\n      \"period\": 15,\r\n      \"epoch\": 30000\r\n    }\r\n  },\r\n  \"nonce\": \"0x0\",\r\n  \"timestamp\": \"0x5a8efd25\",\r\n  \"extraData\": \"0x00000000000000000000000000000000000000000000000000000000000000003590aca93338b0721966a8d0c96ebf2c4c87c5448cc5a1a0802db41db826c2fcb72423744338dcb00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\",\r\n  \"gasLimit\": \"0x47b760\",\r\n  \"difficulty\": \"0x1\",\r\n  \"mixHash\": \"0x0000000000000000000000000000000000000000000000000000000000000000\",\r\n  \"coinbase\": \"0x0000000000000000000000000000000000000000\",\r\n  \"alloc\": {\r\n    \"3590aca93338b0721966a8d0c96ebf2c4c87c544\": {\r\n      \"balance\": \"0x200000000000000000000000000000000000000000000000000000000000000\"\r\n    },\r\n    \"8cc5a1a0802db41db826c2fcb72423744338dcb0\": {\r\n      \"balance\": \"0x200000000000000000000000000000000000000000000000000000000000000\"\r\n    }\r\n  },\r\n  \"number\": \"0x0\",\r\n  \"gasUsed\": \"0x0\",\r\n  \"parentHash\": \"0x0000000000000000000000000000000000000000000000000000000000000000\"\r\n}\r\n```\r\n\r\n- Creating node\r\n```\r\ndocker run -it --rm --entrypoint sh --name geth -p 8545:8545 ethereum/client-go:stable\r\n#inside container\r\ngeth init genesis.json\r\ngeth account new\r\ngeth --rpc --rpcaddr 0.0.0.0 --rpcport 8545 --rpccorsdomain '*' --rpcapi personal,admin,db,eth,net,web3,miner,shh,txpool,debug --gasprice 0 --targetgaslimit 9999999\r\n```\r\n\r\n- Creating console\r\n```\r\ndocker exec -it geth geth attach http://127.0.0.1:8545\r\npersonal.unlockAccount(eth.accounts[0])\r\nminer.start(5)\r\n```\r\n\r\n#### Backtrace\r\n\r\n````\r\nINFO [08-19|01:07:40.894] Maximum peer count                       ETH=25 LES=0 total=25\r\nINFO [08-19|01:07:40.911] Starting peer-to-peer node               instance=Geth/v1.8.13-stable-225171a4/linux-amd64/go1.10.3\r\nINFO [08-19|01:07:40.912] Allocated cache and file handles         database=/root/.ethereum/geth/chaindata cache=768 handles=1024\r\nINFO [08-19|01:07:40.972] Initialised chain configuration          config=\"{ChainID: 500 Homestead: 1 DAO: <nil> DAOSupport: false EIP150: 2 EIP155: 3 EIP158: 3 Byzantium: 4 Constantinople: <nil> Engine: clique}\"\r\nINFO [08-19|01:07:40.972] Initialising Ethereum protocol           versions=\"[63 62]\" network=1\r\nINFO [08-19|01:07:40.982] Loaded most recent local header          number=0 hash=62f584…23ba54 td=1\r\nINFO [08-19|01:07:40.982] Loaded most recent local full block      number=0 hash=62f584…23ba54 td=1\r\nINFO [08-19|01:07:40.983] Loaded most recent local fast block      number=0 hash=62f584…23ba54 td=1\r\nINFO [08-19|01:07:40.987] Loaded local transaction journal         transactions=0 dropped=0\r\nINFO [08-19|01:07:40.991] Regenerated local transaction journal    transactions=0 accounts=0\r\nINFO [08-19|01:07:40.997] Starting P2P networking \r\nINFO [08-19|01:07:43.195] UDP listener up                          self=enode://d9b44e3c40d11128db8413fc7929716a10cda60121e84d73b3a99542e6f60dfe9726ee9910271de11f54bf7684ce33f5e19e430f0e3d9e6c49a95bbc968945ce@[::]:30303\r\nINFO [08-19|01:07:43.208] RLPx listener up                         self=enode://d9b44e3c40d11128db8413fc7929716a10cda60121e84d73b3a99542e6f60dfe9726ee9910271de11f54bf7684ce33f5e19e430f0e3d9e6c49a95bbc968945ce@[::]:30303\r\nINFO [08-19|01:07:43.217] IPC endpoint opened                      url=/root/.ethereum/geth.ipc\r\nINFO [08-19|01:07:43.219] HTTP endpoint opened                     url=http://0.0.0.0:8545      cors=* vhosts=localhost\r\nWARN [08-19|01:07:43.220] ------------------------------------------------------------------- \r\nWARN [08-19|01:07:43.220] Referring to accounts by order in the keystore folder is dangerous! \r\nWARN [08-19|01:07:43.220] This functionality is deprecated and will be removed in the future! \r\nWARN [08-19|01:07:43.221] Please use explicit addresses! (can search via `geth account list`) \r\nWARN [08-19|01:07:43.221] ------------------------------------------------------------------- \r\nUnlocking account 1 | Attempt 1/3\r\nPassphrase: \r\nINFO [08-19|01:07:48.047] Unlocked account                         address=0x2D54E56e885A900d2DA21f59e54720594FF4A48a\r\n\r\nINFO [08-19|01:08:06.465] Etherbase automatically configured       address=0x55288d8cDA578efdf3FA95779CD20f023f175D3F\r\nINFO [08-19|01:08:17.852] Transaction pool price threshold updated price=0\r\nINFO [08-19|01:08:17.852] Starting mining operation \r\nINFO [08-19|01:08:17.853] Commit new mining work                   number=1 txs=0 uncles=0 elapsed=255.7µs\r\nWARN [08-19|01:08:17.853] Block sealing failed                     err=unauthorized\r\n\r\nINFO [08-19|01:10:17.235] Transaction pool price threshold updated price=0\r\nINFO [08-19|01:10:17.235] Starting mining operation \r\nINFO [08-19|01:10:17.236] Commit new mining work                   number=1 txs=0 uncles=0 elapsed=504.9µs\r\nWARN [08-19|01:10:17.236] Block sealing failed                     err=unauthorized\r\n^CINFO [08-19|01:17:54.189] Got interrupt, shutting down... \r\nINFO [08-19|01:17:54.189] HTTP endpoint closed                     url=http://0.0.0.0:8545\r\nINFO [08-19|01:17:54.225] IPC endpoint closed                      endpoint=/root/.ethereum/geth.ipc\r\nINFO [08-19|01:17:54.225] Blockchain manager stopped \r\nINFO [08-19|01:17:54.225] Stopping Ethereum protocol \r\nINFO [08-19|01:17:54.225] Ethereum protocol stopped \r\nINFO [08-19|01:17:54.227] Transaction pool stopped \r\nINFO [08-19|01:17:54.250] Database closed                          database=/root/.ethereum/geth/chaindata\r\n````\r\n",
  "closed_by": {
    "login": "pedromazala",
    "id": 2103162,
    "node_id": "MDQ6VXNlcjIxMDMxNjI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2103162?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/pedromazala",
    "html_url": "https://github.com/pedromazala",
    "followers_url": "https://api.github.com/users/pedromazala/followers",
    "following_url": "https://api.github.com/users/pedromazala/following{/other_user}",
    "gists_url": "https://api.github.com/users/pedromazala/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/pedromazala/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/pedromazala/subscriptions",
    "organizations_url": "https://api.github.com/users/pedromazala/orgs",
    "repos_url": "https://api.github.com/users/pedromazala/repos",
    "events_url": "https://api.github.com/users/pedromazala/events{/privacy}",
    "received_events_url": "https://api.github.com/users/pedromazala/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17443/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17443/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/417741283",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/17443#issuecomment-417741283",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17443",
    "id": 417741283,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxNzc0MTI4Mw==",
    "user": {
      "login": "nambrot",
      "id": 571810,
      "node_id": "MDQ6VXNlcjU3MTgxMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/571810?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nambrot",
      "html_url": "https://github.com/nambrot",
      "followers_url": "https://api.github.com/users/nambrot/followers",
      "following_url": "https://api.github.com/users/nambrot/following{/other_user}",
      "gists_url": "https://api.github.com/users/nambrot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nambrot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nambrot/subscriptions",
      "organizations_url": "https://api.github.com/users/nambrot/orgs",
      "repos_url": "https://api.github.com/users/nambrot/repos",
      "events_url": "https://api.github.com/users/nambrot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nambrot/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-31T17:48:44Z",
    "updated_at": "2018-08-31T17:48:44Z",
    "author_association": "NONE",
    "body": "Have you ever resolved this issue? What was the cause?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/417741283/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/417763238",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/17443#issuecomment-417763238",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17443",
    "id": 417763238,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxNzc2MzIzOA==",
    "user": {
      "login": "vdamle",
      "id": 5338861,
      "node_id": "MDQ6VXNlcjUzMzg4NjE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5338861?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vdamle",
      "html_url": "https://github.com/vdamle",
      "followers_url": "https://api.github.com/users/vdamle/followers",
      "following_url": "https://api.github.com/users/vdamle/following{/other_user}",
      "gists_url": "https://api.github.com/users/vdamle/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vdamle/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vdamle/subscriptions",
      "organizations_url": "https://api.github.com/users/vdamle/orgs",
      "repos_url": "https://api.github.com/users/vdamle/repos",
      "events_url": "https://api.github.com/users/vdamle/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vdamle/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-31T19:11:20Z",
    "updated_at": "2018-08-31T19:11:20Z",
    "author_association": "CONTRIBUTOR",
    "body": "`err=unauthorized` in a `clique/poa` consensus setup indicates that the member is not a Signer (because it does not have enough votes) and cannot cut blocks. You can check the current signer list on any member of the chain by running `clique.getSigners()` in geth. To make a node a signer, other members in the chain need to vote for it: `clique.propose(<node_id>, true)`. Once the member is voted in, you will no longer see the `err=unauthorized` error.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/417763238/reactions",
      "total_count": 3,
      "+1": 3,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/418782620",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/17443#issuecomment-418782620",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17443",
    "id": 418782620,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxODc4MjYyMA==",
    "user": {
      "login": "nelaturuk",
      "id": 3939682,
      "node_id": "MDQ6VXNlcjM5Mzk2ODI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3939682?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nelaturuk",
      "html_url": "https://github.com/nelaturuk",
      "followers_url": "https://api.github.com/users/nelaturuk/followers",
      "following_url": "https://api.github.com/users/nelaturuk/following{/other_user}",
      "gists_url": "https://api.github.com/users/nelaturuk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nelaturuk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nelaturuk/subscriptions",
      "organizations_url": "https://api.github.com/users/nelaturuk/orgs",
      "repos_url": "https://api.github.com/users/nelaturuk/repos",
      "events_url": "https://api.github.com/users/nelaturuk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nelaturuk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-05T15:52:21Z",
    "updated_at": "2018-09-05T15:52:21Z",
    "author_association": "NONE",
    "body": "I have setup a POA network with Clique consensus on azure. Due to some issue all the signer vms got deleted and we have no more signers and only normal geth nodes.\r\n\r\nSo i tried updating the geth nodes to signers. clique propose doesnt seem to work anyway i try.\r\n\r\nIs there any procedure I have to follow in this kind of situation ? I see the same error mentioned above.\r\n\r\nI have 3 nodes which are all geth nodes. And connected. I want to make all 3 of them signers.\r\n\r\nThank you.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/418782620/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/418845123",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/17443#issuecomment-418845123",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17443",
    "id": 418845123,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxODg0NTEyMw==",
    "user": {
      "login": "vdamle",
      "id": 5338861,
      "node_id": "MDQ6VXNlcjUzMzg4NjE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5338861?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vdamle",
      "html_url": "https://github.com/vdamle",
      "followers_url": "https://api.github.com/users/vdamle/followers",
      "following_url": "https://api.github.com/users/vdamle/following{/other_user}",
      "gists_url": "https://api.github.com/users/vdamle/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vdamle/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vdamle/subscriptions",
      "organizations_url": "https://api.github.com/users/vdamle/orgs",
      "repos_url": "https://api.github.com/users/vdamle/repos",
      "events_url": "https://api.github.com/users/vdamle/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vdamle/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-05T19:03:32Z",
    "updated_at": "2018-09-05T19:03:32Z",
    "author_association": "CONTRIBUTOR",
    "body": "@nelaturuk  A node needs to be a signer to propose other signers. If you have lost all your signers, I guess the only option is to re-create the chain",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/418845123/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1503361249",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/17443#issuecomment-1503361249",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17443",
    "id": 1503361249,
    "node_id": "IC_kwDOAOvK985Zm3jh",
    "user": {
      "login": "tomw1808",
      "id": 485781,
      "node_id": "MDQ6VXNlcjQ4NTc4MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/485781?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tomw1808",
      "html_url": "https://github.com/tomw1808",
      "followers_url": "https://api.github.com/users/tomw1808/followers",
      "following_url": "https://api.github.com/users/tomw1808/following{/other_user}",
      "gists_url": "https://api.github.com/users/tomw1808/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tomw1808/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tomw1808/subscriptions",
      "organizations_url": "https://api.github.com/users/tomw1808/orgs",
      "repos_url": "https://api.github.com/users/tomw1808/repos",
      "events_url": "https://api.github.com/users/tomw1808/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tomw1808/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-11T13:32:54Z",
    "updated_at": "2023-04-11T13:32:54Z",
    "author_association": "NONE",
    "body": "Apologies upfront for potentially spamming a follow-up question on an already closed ticket, but I went through all of SO, all the issues here and that one person here from 2018 is the most related situation to my problem.\r\n\r\nIn my case, I'd like to do a dev-clone of a production environment without giving out the production signer keys.\r\n\r\nI have access to a full chain. It's then like not having access to the signer keys anymore and needing the chain-data to migrate somehow to new signers.\r\n\r\nIs there really absolutely no way to start an existing Clique chain with different signers without the original set of private keys? Is there potentially something I can do to prepare the export on the production environment? Maybe a one-liner chain-export and then re-import the chain, but without having access to the new keys on the production system or the production keys on the dev system?\r\n\r\nI am trying to wrap my head around that for at least 2 days now, any help would be appreciated @vdamle @karalabe .",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1503361249/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1503463469",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/17443#issuecomment-1503463469",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17443",
    "id": 1503463469,
    "node_id": "IC_kwDOAOvK985ZnQgt",
    "user": {
      "login": "vdamle",
      "id": 5338861,
      "node_id": "MDQ6VXNlcjUzMzg4NjE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5338861?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vdamle",
      "html_url": "https://github.com/vdamle",
      "followers_url": "https://api.github.com/users/vdamle/followers",
      "following_url": "https://api.github.com/users/vdamle/following{/other_user}",
      "gists_url": "https://api.github.com/users/vdamle/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vdamle/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vdamle/subscriptions",
      "organizations_url": "https://api.github.com/users/vdamle/orgs",
      "repos_url": "https://api.github.com/users/vdamle/repos",
      "events_url": "https://api.github.com/users/vdamle/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vdamle/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-11T14:24:23Z",
    "updated_at": "2023-04-11T14:24:23Z",
    "author_association": "CONTRIBUTOR",
    "body": "@tomw1808 You will need to bring over a minimum of one signer's identity to the new chain. Here's how that would work:\n\n* Vote out all signers but one from the prod chain - the end result of this step is that there's only one signer and that node is mining blocks on the chain.\n\n* Stop that node and take a backup of the chain data upto the latest block that has one signer recorded in the header.\n\n* Create a node on the new chain instance (same chain id, genesis.json...) with the private key of the single signer from the prod chain. Restore that node using the chain data backup. The node will start mining blocks.\n\n* Add more nodes (you could use the same chain data backup so they don't have to sync from scratch) and vote them in on the new chain.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1503463469/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1521251120",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/17443#issuecomment-1521251120",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17443",
    "id": 1521251120,
    "node_id": "IC_kwDOAOvK985arHMw",
    "user": {
      "login": "tomw1808",
      "id": 485781,
      "node_id": "MDQ6VXNlcjQ4NTc4MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/485781?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tomw1808",
      "html_url": "https://github.com/tomw1808",
      "followers_url": "https://api.github.com/users/tomw1808/followers",
      "following_url": "https://api.github.com/users/tomw1808/following{/other_user}",
      "gists_url": "https://api.github.com/users/tomw1808/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tomw1808/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tomw1808/subscriptions",
      "organizations_url": "https://api.github.com/users/tomw1808/orgs",
      "repos_url": "https://api.github.com/users/tomw1808/repos",
      "events_url": "https://api.github.com/users/tomw1808/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tomw1808/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-25T07:00:05Z",
    "updated_at": "2023-04-25T07:00:05Z",
    "author_association": "NONE",
    "body": "In case someone else comes across this post, a few things that might bring you forward...\r\n\r\nMy biggest concern was that rotating miners in geth is potentially not scriptable (or very hard). However geth has a scripting functionality via the JavaScript console. That means, as soon as geth is started, its possible to attach and load a script.\r\n\r\nThe script we wrote could look something like this: \r\n\r\n```\r\nconst newSigners = [\"0x4d4cdf0e5a2dc72f74eaf8bacb82025998d5193c\", \"0x9fd7590558bf1fe9e8e607cea006093b68fc52d5\"]\r\n\r\nfor (let round = 0; round <= 16; round++) {\r\n    for (const signer of clique.getSigners()) {\r\n        miner.stop()\r\n        miner.setEtherbase(signer);\r\n        miner.start(1) //will work or fail, who cares, do it 16 times and the miners should be rotated\r\n        for (let waiter = 0; waiter < 10000000; waiter++) {\r\n            //ugly way of waiting a second or so because I did not find a way to do async/await or for the mining thread to start\r\n        }\r\n\r\n        for(const newSigner of newSigners) {\r\n            clique.propose(newSigner, true);\r\n        }\r\n        clique.propose(signer, newSigners.includes(signer)); //false for old signers\r\n        \r\n    }\r\n}\r\n```\r\n\r\nAs soon as geth started normally (unlocking all accounts etc), its possible to do a `geth attach --exec \"loadScript('theScript.js')\" /your/datadir/geth.ipc`\r\n\r\nFWIW, we have a [public repo](https://github.com/Morpher-io/private-network-geth-poa-clique-explorers/blob/feature/migrate-container/config/migrateSigners.js) using essentially this plus some AWS scripts between production and dev, but the script above is the main part. The main entry is a [migrate-container in the docker-compose.yml](https://github.com/Morpher-io/private-network-geth-poa-clique-explorers/blob/feature/migrate-container/docker-compose.yml) file.\r\n\r\nMight help someone. \r\n\r\nIf there are any suggestions to make it better, of course, any help is appreciated.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1521251120/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
