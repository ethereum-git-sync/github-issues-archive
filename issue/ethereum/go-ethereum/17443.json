{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17443",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17443/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17443/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17443/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/17443",
  "id": 351864846,
  "node_id": "MDU6SXNzdWUzNTE4NjQ4NDY=",
  "number": 17443,
  "title": "Block sealing failed when I use my genesis.json",
  "user": {
    "login": "pedromazala",
    "id": 2103162,
    "node_id": "MDQ6VXNlcjIxMDMxNjI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2103162?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/pedromazala",
    "html_url": "https://github.com/pedromazala",
    "followers_url": "https://api.github.com/users/pedromazala/followers",
    "following_url": "https://api.github.com/users/pedromazala/following{/other_user}",
    "gists_url": "https://api.github.com/users/pedromazala/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/pedromazala/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/pedromazala/subscriptions",
    "organizations_url": "https://api.github.com/users/pedromazala/orgs",
    "repos_url": "https://api.github.com/users/pedromazala/repos",
    "events_url": "https://api.github.com/users/pedromazala/events{/privacy}",
    "received_events_url": "https://api.github.com/users/pedromazala/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2018-08-19T01:22:25Z",
  "updated_at": "2018-09-05T19:03:33Z",
  "closed_at": "2018-08-19T03:18:16Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nGeth version: `Geth/v1.8.13-stable-225171a4/linux-amd64/go1.10.3`\r\nOS & Version: linux-amd64/go1.10.3\r\nCommit hash : (if `develop`)\r\n\r\n#### Expected behaviour\r\nIt should starts miner after run `miner.start(5)` on my console\r\n\r\n#### Actual behaviour\r\nThe minering process does not init. It prints a log like `WARN [MM-DD|HH:II:SS] Block sealing failed                     err=unauthorized`.\r\n\r\n#### Steps to reproduce the behaviour\r\n\r\n- Genesis file:\r\n```\r\n{\r\n  \"config\": {\r\n    \"chainId\": 500,\r\n    \"homesteadBlock\": 1,\r\n    \"eip150Block\": 2,\r\n    \"eip150Hash\": \"0x0000000000000000000000000000000000000000000000000000000000000000\",\r\n    \"eip155Block\": 3,\r\n    \"eip158Block\": 3,\r\n    \"byzantiumBlock\": 4,\r\n    \"clique\": {\r\n      \"period\": 15,\r\n      \"epoch\": 30000\r\n    }\r\n  },\r\n  \"nonce\": \"0x0\",\r\n  \"timestamp\": \"0x5a8efd25\",\r\n  \"extraData\": \"0x00000000000000000000000000000000000000000000000000000000000000003590aca93338b0721966a8d0c96ebf2c4c87c5448cc5a1a0802db41db826c2fcb72423744338dcb00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\",\r\n  \"gasLimit\": \"0x47b760\",\r\n  \"difficulty\": \"0x1\",\r\n  \"mixHash\": \"0x0000000000000000000000000000000000000000000000000000000000000000\",\r\n  \"coinbase\": \"0x0000000000000000000000000000000000000000\",\r\n  \"alloc\": {\r\n    \"3590aca93338b0721966a8d0c96ebf2c4c87c544\": {\r\n      \"balance\": \"0x200000000000000000000000000000000000000000000000000000000000000\"\r\n    },\r\n    \"8cc5a1a0802db41db826c2fcb72423744338dcb0\": {\r\n      \"balance\": \"0x200000000000000000000000000000000000000000000000000000000000000\"\r\n    }\r\n  },\r\n  \"number\": \"0x0\",\r\n  \"gasUsed\": \"0x0\",\r\n  \"parentHash\": \"0x0000000000000000000000000000000000000000000000000000000000000000\"\r\n}\r\n```\r\n\r\n- Creating node\r\n```\r\ndocker run -it --rm --entrypoint sh --name geth -p 8545:8545 ethereum/client-go:stable\r\n#inside container\r\ngeth init genesis.json\r\ngeth account new\r\ngeth --rpc --rpcaddr 0.0.0.0 --rpcport 8545 --rpccorsdomain '*' --rpcapi personal,admin,db,eth,net,web3,miner,shh,txpool,debug --gasprice 0 --targetgaslimit 9999999\r\n```\r\n\r\n- Creating console\r\n```\r\ndocker exec -it geth geth attach http://127.0.0.1:8545\r\npersonal.unlockAccount(eth.accounts[0])\r\nminer.start(5)\r\n```\r\n\r\n#### Backtrace\r\n\r\n````\r\nINFO [08-19|01:07:40.894] Maximum peer count                       ETH=25 LES=0 total=25\r\nINFO [08-19|01:07:40.911] Starting peer-to-peer node               instance=Geth/v1.8.13-stable-225171a4/linux-amd64/go1.10.3\r\nINFO [08-19|01:07:40.912] Allocated cache and file handles         database=/root/.ethereum/geth/chaindata cache=768 handles=1024\r\nINFO [08-19|01:07:40.972] Initialised chain configuration          config=\"{ChainID: 500 Homestead: 1 DAO: <nil> DAOSupport: false EIP150: 2 EIP155: 3 EIP158: 3 Byzantium: 4 Constantinople: <nil> Engine: clique}\"\r\nINFO [08-19|01:07:40.972] Initialising Ethereum protocol           versions=\"[63 62]\" network=1\r\nINFO [08-19|01:07:40.982] Loaded most recent local header          number=0 hash=62f584…23ba54 td=1\r\nINFO [08-19|01:07:40.982] Loaded most recent local full block      number=0 hash=62f584…23ba54 td=1\r\nINFO [08-19|01:07:40.983] Loaded most recent local fast block      number=0 hash=62f584…23ba54 td=1\r\nINFO [08-19|01:07:40.987] Loaded local transaction journal         transactions=0 dropped=0\r\nINFO [08-19|01:07:40.991] Regenerated local transaction journal    transactions=0 accounts=0\r\nINFO [08-19|01:07:40.997] Starting P2P networking \r\nINFO [08-19|01:07:43.195] UDP listener up                          self=enode://d9b44e3c40d11128db8413fc7929716a10cda60121e84d73b3a99542e6f60dfe9726ee9910271de11f54bf7684ce33f5e19e430f0e3d9e6c49a95bbc968945ce@[::]:30303\r\nINFO [08-19|01:07:43.208] RLPx listener up                         self=enode://d9b44e3c40d11128db8413fc7929716a10cda60121e84d73b3a99542e6f60dfe9726ee9910271de11f54bf7684ce33f5e19e430f0e3d9e6c49a95bbc968945ce@[::]:30303\r\nINFO [08-19|01:07:43.217] IPC endpoint opened                      url=/root/.ethereum/geth.ipc\r\nINFO [08-19|01:07:43.219] HTTP endpoint opened                     url=http://0.0.0.0:8545      cors=* vhosts=localhost\r\nWARN [08-19|01:07:43.220] ------------------------------------------------------------------- \r\nWARN [08-19|01:07:43.220] Referring to accounts by order in the keystore folder is dangerous! \r\nWARN [08-19|01:07:43.220] This functionality is deprecated and will be removed in the future! \r\nWARN [08-19|01:07:43.221] Please use explicit addresses! (can search via `geth account list`) \r\nWARN [08-19|01:07:43.221] ------------------------------------------------------------------- \r\nUnlocking account 1 | Attempt 1/3\r\nPassphrase: \r\nINFO [08-19|01:07:48.047] Unlocked account                         address=0x2D54E56e885A900d2DA21f59e54720594FF4A48a\r\n\r\nINFO [08-19|01:08:06.465] Etherbase automatically configured       address=0x55288d8cDA578efdf3FA95779CD20f023f175D3F\r\nINFO [08-19|01:08:17.852] Transaction pool price threshold updated price=0\r\nINFO [08-19|01:08:17.852] Starting mining operation \r\nINFO [08-19|01:08:17.853] Commit new mining work                   number=1 txs=0 uncles=0 elapsed=255.7µs\r\nWARN [08-19|01:08:17.853] Block sealing failed                     err=unauthorized\r\n\r\nINFO [08-19|01:10:17.235] Transaction pool price threshold updated price=0\r\nINFO [08-19|01:10:17.235] Starting mining operation \r\nINFO [08-19|01:10:17.236] Commit new mining work                   number=1 txs=0 uncles=0 elapsed=504.9µs\r\nWARN [08-19|01:10:17.236] Block sealing failed                     err=unauthorized\r\n^CINFO [08-19|01:17:54.189] Got interrupt, shutting down... \r\nINFO [08-19|01:17:54.189] HTTP endpoint closed                     url=http://0.0.0.0:8545\r\nINFO [08-19|01:17:54.225] IPC endpoint closed                      endpoint=/root/.ethereum/geth.ipc\r\nINFO [08-19|01:17:54.225] Blockchain manager stopped \r\nINFO [08-19|01:17:54.225] Stopping Ethereum protocol \r\nINFO [08-19|01:17:54.225] Ethereum protocol stopped \r\nINFO [08-19|01:17:54.227] Transaction pool stopped \r\nINFO [08-19|01:17:54.250] Database closed                          database=/root/.ethereum/geth/chaindata\r\n````\r\n",
  "closed_by": {
    "login": "pedromazala",
    "id": 2103162,
    "node_id": "MDQ6VXNlcjIxMDMxNjI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2103162?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/pedromazala",
    "html_url": "https://github.com/pedromazala",
    "followers_url": "https://api.github.com/users/pedromazala/followers",
    "following_url": "https://api.github.com/users/pedromazala/following{/other_user}",
    "gists_url": "https://api.github.com/users/pedromazala/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/pedromazala/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/pedromazala/subscriptions",
    "organizations_url": "https://api.github.com/users/pedromazala/orgs",
    "repos_url": "https://api.github.com/users/pedromazala/repos",
    "events_url": "https://api.github.com/users/pedromazala/events{/privacy}",
    "received_events_url": "https://api.github.com/users/pedromazala/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17443/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17443/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/417741283",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/17443#issuecomment-417741283",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17443",
    "id": 417741283,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxNzc0MTI4Mw==",
    "user": {
      "login": "nambrot",
      "id": 571810,
      "node_id": "MDQ6VXNlcjU3MTgxMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/571810?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nambrot",
      "html_url": "https://github.com/nambrot",
      "followers_url": "https://api.github.com/users/nambrot/followers",
      "following_url": "https://api.github.com/users/nambrot/following{/other_user}",
      "gists_url": "https://api.github.com/users/nambrot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nambrot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nambrot/subscriptions",
      "organizations_url": "https://api.github.com/users/nambrot/orgs",
      "repos_url": "https://api.github.com/users/nambrot/repos",
      "events_url": "https://api.github.com/users/nambrot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nambrot/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-31T17:48:44Z",
    "updated_at": "2018-08-31T17:48:44Z",
    "author_association": "NONE",
    "body": "Have you ever resolved this issue? What was the cause?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/417741283/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/417763238",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/17443#issuecomment-417763238",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17443",
    "id": 417763238,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxNzc2MzIzOA==",
    "user": {
      "login": "vdamle",
      "id": 5338861,
      "node_id": "MDQ6VXNlcjUzMzg4NjE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5338861?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vdamle",
      "html_url": "https://github.com/vdamle",
      "followers_url": "https://api.github.com/users/vdamle/followers",
      "following_url": "https://api.github.com/users/vdamle/following{/other_user}",
      "gists_url": "https://api.github.com/users/vdamle/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vdamle/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vdamle/subscriptions",
      "organizations_url": "https://api.github.com/users/vdamle/orgs",
      "repos_url": "https://api.github.com/users/vdamle/repos",
      "events_url": "https://api.github.com/users/vdamle/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vdamle/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-31T19:11:20Z",
    "updated_at": "2018-08-31T19:11:20Z",
    "author_association": "CONTRIBUTOR",
    "body": "`err=unauthorized` in a `clique/poa` consensus setup indicates that the member is not a Signer (because it does not have enough votes) and cannot cut blocks. You can check the current signer list on any member of the chain by running `clique.getSigners()` in geth. To make a node a signer, other members in the chain need to vote for it: `clique.propose(<node_id>, true)`. Once the member is voted in, you will no longer see the `err=unauthorized` error.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/417763238/reactions",
      "total_count": 3,
      "+1": 3,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/418782620",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/17443#issuecomment-418782620",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17443",
    "id": 418782620,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxODc4MjYyMA==",
    "user": {
      "login": "nelaturuk",
      "id": 3939682,
      "node_id": "MDQ6VXNlcjM5Mzk2ODI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3939682?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nelaturuk",
      "html_url": "https://github.com/nelaturuk",
      "followers_url": "https://api.github.com/users/nelaturuk/followers",
      "following_url": "https://api.github.com/users/nelaturuk/following{/other_user}",
      "gists_url": "https://api.github.com/users/nelaturuk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nelaturuk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nelaturuk/subscriptions",
      "organizations_url": "https://api.github.com/users/nelaturuk/orgs",
      "repos_url": "https://api.github.com/users/nelaturuk/repos",
      "events_url": "https://api.github.com/users/nelaturuk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nelaturuk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-05T15:52:21Z",
    "updated_at": "2018-09-05T15:52:21Z",
    "author_association": "NONE",
    "body": "I have setup a POA network with Clique consensus on azure. Due to some issue all the signer vms got deleted and we have no more signers and only normal geth nodes.\r\n\r\nSo i tried updating the geth nodes to signers. clique propose doesnt seem to work anyway i try.\r\n\r\nIs there any procedure I have to follow in this kind of situation ? I see the same error mentioned above.\r\n\r\nI have 3 nodes which are all geth nodes. And connected. I want to make all 3 of them signers.\r\n\r\nThank you.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/418782620/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/418845123",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/17443#issuecomment-418845123",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17443",
    "id": 418845123,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxODg0NTEyMw==",
    "user": {
      "login": "vdamle",
      "id": 5338861,
      "node_id": "MDQ6VXNlcjUzMzg4NjE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5338861?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vdamle",
      "html_url": "https://github.com/vdamle",
      "followers_url": "https://api.github.com/users/vdamle/followers",
      "following_url": "https://api.github.com/users/vdamle/following{/other_user}",
      "gists_url": "https://api.github.com/users/vdamle/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vdamle/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vdamle/subscriptions",
      "organizations_url": "https://api.github.com/users/vdamle/orgs",
      "repos_url": "https://api.github.com/users/vdamle/repos",
      "events_url": "https://api.github.com/users/vdamle/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vdamle/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-05T19:03:32Z",
    "updated_at": "2018-09-05T19:03:32Z",
    "author_association": "CONTRIBUTOR",
    "body": "@nelaturuk  A node needs to be a signer to propose other signers. If you have lost all your signers, I guess the only option is to re-create the chain",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/418845123/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
