{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19979",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19979/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19979/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19979/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/19979",
  "id": 482039597,
  "node_id": "MDU6SXNzdWU0ODIwMzk1OTc=",
  "number": 19979,
  "title": "default data availability locally on geth light modes",
  "user": {
    "login": "sidhujag",
    "id": 6238042,
    "node_id": "MDQ6VXNlcjYyMzgwNDI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6238042?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/sidhujag",
    "html_url": "https://github.com/sidhujag",
    "followers_url": "https://api.github.com/users/sidhujag/followers",
    "following_url": "https://api.github.com/users/sidhujag/following{/other_user}",
    "gists_url": "https://api.github.com/users/sidhujag/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/sidhujag/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/sidhujag/subscriptions",
    "organizations_url": "https://api.github.com/users/sidhujag/orgs",
    "repos_url": "https://api.github.com/users/sidhujag/repos",
    "events_url": "https://api.github.com/users/sidhujag/events{/privacy}",
    "received_events_url": "https://api.github.com/users/sidhujag/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2019-08-18T21:33:01Z",
  "updated_at": "2019-12-28T17:50:46Z",
  "closed_at": "2019-12-28T17:50:46Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "What is the general strategy around hard forks? I downloaded 1.9.2 and saw its 1 week old  and also pulls in headers from 1 week ago aswell. As per https://github.com/ethereum/go-ethereum/issues/19559 this is ok but my bridge code depends on perfomantly looking 120k headers (~3 weeks) from local geth node. Thanks to https://github.com/ethereum/go-ethereum/issues/19574 I can now download just the headers without having nodes do network lookups on blocks which makes my code sync up really fast. However in this case as of today I can only lookup around 50k headers locally and have to wait on network lookups from local nodes grabbing the rest, which is really slow.\r\n\r\nIdeally I think 3 weeks is a safe number to have nodes download headers in LES mode as forking strategies on consuming clients as well as apps that require perfomant header lookups like mine can depend on having enough data to ensure system security of those applications.\r\n\r\nDuring forks this is especially important as otherwise we would have to make special steps like disable our Syscoin to Ethereum bridge because we have to wait until theres atleast 3 weeks of data so users can securely walk over the bridge again. If nodes have to wait for network lookups they may be misaligned and might cause forks on my side.\r\n\r\nSo in general I hope to convince you to have geth light nodes download some sane amount of headers by default on any release, always a good idea aslong as it doesn't hinder adoption (I don't think 120k blocks is bad, with your new improvements it will take about 3 minutes total anyway). This way when you release mandatory upgrades we will be able to depend on the nodes having enough data to not adversely affect security of our consuming application.\r\n\r\nfyi we are running around 2000 geth light nodes on seperate dedicated vps servers (2-4 core, ssd, 8gb ram+) to support this initiative for a decentralized trustless cross chain bridge.\r\n\r\nKeep up the good work as always!",
  "closed_by": {
    "login": "sidhujag",
    "id": 6238042,
    "node_id": "MDQ6VXNlcjYyMzgwNDI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6238042?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/sidhujag",
    "html_url": "https://github.com/sidhujag",
    "followers_url": "https://api.github.com/users/sidhujag/followers",
    "following_url": "https://api.github.com/users/sidhujag/following{/other_user}",
    "gists_url": "https://api.github.com/users/sidhujag/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/sidhujag/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/sidhujag/subscriptions",
    "organizations_url": "https://api.github.com/users/sidhujag/orgs",
    "repos_url": "https://api.github.com/users/sidhujag/repos",
    "events_url": "https://api.github.com/users/sidhujag/events{/privacy}",
    "received_events_url": "https://api.github.com/users/sidhujag/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19979/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19979/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/569437950",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/19979#issuecomment-569437950",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19979",
    "id": 569437950,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2OTQzNzk1MA==",
    "user": {
      "login": "sidhujag",
      "id": 6238042,
      "node_id": "MDQ6VXNlcjYyMzgwNDI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6238042?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sidhujag",
      "html_url": "https://github.com/sidhujag",
      "followers_url": "https://api.github.com/users/sidhujag/followers",
      "following_url": "https://api.github.com/users/sidhujag/following{/other_user}",
      "gists_url": "https://api.github.com/users/sidhujag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sidhujag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sidhujag/subscriptions",
      "organizations_url": "https://api.github.com/users/sidhujag/orgs",
      "repos_url": "https://api.github.com/users/sidhujag/repos",
      "events_url": "https://api.github.com/users/sidhujag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sidhujag/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-28T17:50:46Z",
    "updated_at": "2019-12-28T17:50:46Z",
    "author_association": "NONE",
    "body": "it seems latest geth is a bit better, aslong as im synced its able to do basic lookups without connecting to fullnodes? anyways it seems better for now so im closing.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/569437950/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
