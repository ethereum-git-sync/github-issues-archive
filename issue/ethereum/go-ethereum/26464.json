{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26464",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26464/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26464/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26464/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/26464",
  "id": 1527114162,
  "node_id": "I_kwDOAOvK985bBemy",
  "number": 26464,
  "title": "Add an `--exit-at` flag under Ethereum options",
  "user": {
    "login": "kamikazechaser",
    "id": 18488025,
    "node_id": "MDQ6VXNlcjE4NDg4MDI1",
    "avatar_url": "https://avatars.githubusercontent.com/u/18488025?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/kamikazechaser",
    "html_url": "https://github.com/kamikazechaser",
    "followers_url": "https://api.github.com/users/kamikazechaser/followers",
    "following_url": "https://api.github.com/users/kamikazechaser/following{/other_user}",
    "gists_url": "https://api.github.com/users/kamikazechaser/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/kamikazechaser/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/kamikazechaser/subscriptions",
    "organizations_url": "https://api.github.com/users/kamikazechaser/orgs",
    "repos_url": "https://api.github.com/users/kamikazechaser/repos",
    "events_url": "https://api.github.com/users/kamikazechaser/events{/privacy}",
    "received_events_url": "https://api.github.com/users/kamikazechaser/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 72233652,
      "node_id": "MDU6TGFiZWw3MjIzMzY1Mg==",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:feature",
      "name": "type:feature",
      "color": "84b6eb",
      "default": false,
      "description": null
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2023-01-10T10:14:37Z",
  "updated_at": "2023-01-17T12:07:57Z",
  "closed_at": "2023-01-17T12:07:57Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "# Rationale\r\n\r\nRelated to #24461\r\n\r\nWhen setting up multiple sets of archive nodes each with their own range, it can be useful to stop a full node sync once a certain block target is reached.\r\n\r\n**What are the use-cases?**\r\n\r\nSetting up multiple archive node sets or \"refreshing\" archive node data.\r\n\r\n# Implementation\r\n\r\n**Do you have ideas regarding the implementation of this feature?**\r\n\r\nI was thinking that the `--exit-at` flag should only be activated by the existing `--exitwhensynced` flag. The goroutine already listens for downloaded done block events and another if statement can be added to check if downloadedDoneBlock >= exitAtBlock and close the stack.\r\n\r\n**Are you willing to implement this feature?**\r\n\r\nYes",
  "closed_by": {
    "login": "MariusVanDerWijden",
    "id": 16664698,
    "node_id": "MDQ6VXNlcjE2NjY0Njk4",
    "avatar_url": "https://avatars.githubusercontent.com/u/16664698?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/MariusVanDerWijden",
    "html_url": "https://github.com/MariusVanDerWijden",
    "followers_url": "https://api.github.com/users/MariusVanDerWijden/followers",
    "following_url": "https://api.github.com/users/MariusVanDerWijden/following{/other_user}",
    "gists_url": "https://api.github.com/users/MariusVanDerWijden/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/MariusVanDerWijden/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/MariusVanDerWijden/subscriptions",
    "organizations_url": "https://api.github.com/users/MariusVanDerWijden/orgs",
    "repos_url": "https://api.github.com/users/MariusVanDerWijden/repos",
    "events_url": "https://api.github.com/users/MariusVanDerWijden/events{/privacy}",
    "received_events_url": "https://api.github.com/users/MariusVanDerWijden/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26464/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26464/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1377049752",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/26464#issuecomment-1377049752",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26464",
    "id": 1377049752,
    "node_id": "IC_kwDOAOvK985SFByY",
    "user": {
      "login": "Pa4183",
      "id": 98368215,
      "node_id": "U_kgDOBdz61w",
      "avatar_url": "https://avatars.githubusercontent.com/u/98368215?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Pa4183",
      "html_url": "https://github.com/Pa4183",
      "followers_url": "https://api.github.com/users/Pa4183/followers",
      "following_url": "https://api.github.com/users/Pa4183/following{/other_user}",
      "gists_url": "https://api.github.com/users/Pa4183/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Pa4183/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Pa4183/subscriptions",
      "organizations_url": "https://api.github.com/users/Pa4183/orgs",
      "repos_url": "https://api.github.com/users/Pa4183/repos",
      "events_url": "https://api.github.com/users/Pa4183/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Pa4183/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-10T10:34:59Z",
    "updated_at": "2023-01-10T10:34:59Z",
    "author_association": "NONE",
    "body": "Yes\n\nEnvoyé à partir de Outlook pour iOS<https://aka.ms/o0ukef>\n________________________________\nDe : Mohamed Sohail ***@***.***>\nEnvoyé : Tuesday, January 10, 2023 5:16:50 AM\nÀ : ethereum/go-ethereum ***@***.***>\nCc : Subscribed ***@***.***>\nObjet : [ethereum/go-ethereum] Add an `--exit-at` flag under Ethereum options (Issue #26464)\n\n\nRationale\n\nRelated to #24461<https://github.com/ethereum/go-ethereum/issues/24461>\n\nWhen setting up multiple sets of archive nodes each with their own range, it can be useful to stop a full node sync once a certain block target is reached.\n\nWhat are the use-cases?\n\nSetting up multiple archive node sets or \"refreshing\" archive node data.\n\nImplementation\n\nDo you have ideas regarding the implementation of this feature?\n\nI was thinking that the --exit-at flag should only be activated by the existing --exitwhensynced flag. The goroutine already listens for downloaded done block events and another if statement can be added to check if downloadedDoneBlock >= exitAtBlock and close the stack.\n\nAre you willing to implement this feature?\n\nYes\n\n—\nReply to this email directly, view it on GitHub<https://github.com/ethereum/go-ethereum/issues/26464>, or unsubscribe<https://github.com/notifications/unsubscribe-auth/AXOPVVZRDEPXJUMEOO2TSBDWRUZJFANCNFSM6AAAAAATWRFW6E>.\nYou are receiving this because you are subscribed to this thread.Message ID: ***@***.***>\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1377049752/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1377054029",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/26464#issuecomment-1377054029",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26464",
    "id": 1377054029,
    "node_id": "IC_kwDOAOvK985SFC1N",
    "user": {
      "login": "MariusVanDerWijden",
      "id": 16664698,
      "node_id": "MDQ6VXNlcjE2NjY0Njk4",
      "avatar_url": "https://avatars.githubusercontent.com/u/16664698?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MariusVanDerWijden",
      "html_url": "https://github.com/MariusVanDerWijden",
      "followers_url": "https://api.github.com/users/MariusVanDerWijden/followers",
      "following_url": "https://api.github.com/users/MariusVanDerWijden/following{/other_user}",
      "gists_url": "https://api.github.com/users/MariusVanDerWijden/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MariusVanDerWijden/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MariusVanDerWijden/subscriptions",
      "organizations_url": "https://api.github.com/users/MariusVanDerWijden/orgs",
      "repos_url": "https://api.github.com/users/MariusVanDerWijden/repos",
      "events_url": "https://api.github.com/users/MariusVanDerWijden/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MariusVanDerWijden/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-10T10:38:27Z",
    "updated_at": "2023-01-10T10:38:27Z",
    "author_association": "MEMBER",
    "body": "This became a bit easier after the merge. You could just ask geth to sync to a certain head in full sync. I believe @rjl493456442 already worked on something like this",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1377054029/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1377059641",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/26464#issuecomment-1377059641",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26464",
    "id": 1377059641,
    "node_id": "IC_kwDOAOvK985SFEM5",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-10T10:43:21Z",
    "updated_at": "2023-01-10T10:43:21Z",
    "author_association": "MEMBER",
    "body": "Yep, can be achieved with this flag. With this option, you don't need a CL client either. It uses a \"virtual\" CL client which only ever feeds the given block to the EL. \r\n\r\nI don't know how geth behaves if the block is very early, before the merge. \r\n```\r\n$ geth -h | grep target\r\n    --synctarget value            \r\n          File for containing the hex-encoded block-rlp as sync target(dev feature)\r\n```\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1377059641/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
