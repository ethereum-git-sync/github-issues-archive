{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23930",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23930/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23930/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23930/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/23930",
  "id": 1057183531,
  "node_id": "I_kwDOAOvK984_A1cr",
  "number": 23930,
  "title": "Geth ropsten invalid blocks count than on etherscan (split chain)",
  "user": {
    "login": "l4zygreed",
    "id": 9384565,
    "node_id": "MDQ6VXNlcjkzODQ1NjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/9384565?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/l4zygreed",
    "html_url": "https://github.com/l4zygreed",
    "followers_url": "https://api.github.com/users/l4zygreed/followers",
    "following_url": "https://api.github.com/users/l4zygreed/following{/other_user}",
    "gists_url": "https://api.github.com/users/l4zygreed/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/l4zygreed/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/l4zygreed/subscriptions",
    "organizations_url": "https://api.github.com/users/l4zygreed/orgs",
    "repos_url": "https://api.github.com/users/l4zygreed/repos",
    "events_url": "https://api.github.com/users/l4zygreed/events{/privacy}",
    "received_events_url": "https://api.github.com/users/l4zygreed/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 72233650,
      "node_id": "MDU6TGFiZWw3MjIzMzY1MA==",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:bug",
      "name": "type:bug",
      "color": "FF5E5E",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2021-11-18T10:23:46Z",
  "updated_at": "2022-01-05T06:27:16Z",
  "closed_at": "2021-11-22T08:57:54Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\r\nGeth version: `1.10.12`\r\nOS & Version: Linux\r\n\r\n#### Expected behaviour\r\nCan see transactions from `ropsten.etherscan.io` on node console\r\n\r\n#### Actual behaviour\r\nyesterday (two days ago node was alright) found that my test node have wrong amount of blocks than on etherscan.\r\nrestarted it few times on different versions (10.9 - 10.12), but it finds only ~2 peers in half of hour and doesn't rescan the chain.\r\n\r\nalso it's print to console\r\n```\r\neth_1    | INFO [11-18|09:11:28.485] Looking for peers                        peercount=1 tried=54 static=0\r\neth_1    | INFO [11-18|09:11:38.529] Looking for peers                        peercount=1 tried=62 static=0\r\neth_1    | WARN [11-18|09:11:48.105] Head headers broke chain ordering        peer=c96397fa index=0 requested=11,363,724 received=11,448,384\r\neth_1    | WARN [11-18|09:11:48.105] Synchronisation failed, dropping peer    peer=c96397fad16bd7f808f08068c28853e55e28882e8ab779eb1a8df285a3cfe46e err=\"retrieved hash chain is invalid: head headers broke chain ordering\"\r\neth_1    | INFO [11-18|09:11:48.534] Looking for peers                        peercount=1 tried=64 static=0\r\neth_1    | INFO [11-18|09:11:58.820] Looking for peers                        peercount=1 tried=46 static=0\r\neth_1    | INFO [11-18|09:12:08.861] Looking for peers                        peercount=1 tried=64 static=0\r\neth_1    | ERROR[11-18|09:12:17.050] Error in block freeze operation          err=\"block body missing, can't freeze block 10272196\"\r\neth_1    | INFO [11-18|09:12:19.123] Looking for peers                        peercount=1 tried=39 static=0\r\neth_1    | INFO [11-18|09:12:29.123] Looking for peers                        peercount=1 tried=44 static=0\r\neth_1    | WARN [11-18|09:12:36.965] Served eth_call                        \r\n```\r\n\r\n`received=11,448,384` is actual correct block number on etherscan.\r\nNode is fast synced, tried to get lowest avaible block via `getBlockByNumber` api, but now it also differs with etherscan info...\r\n\r\nhow can I fix this without deleting/rescanning all chain?",
  "closed_by": {
    "login": "l4zygreed",
    "id": 9384565,
    "node_id": "MDQ6VXNlcjkzODQ1NjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/9384565?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/l4zygreed",
    "html_url": "https://github.com/l4zygreed",
    "followers_url": "https://api.github.com/users/l4zygreed/followers",
    "following_url": "https://api.github.com/users/l4zygreed/following{/other_user}",
    "gists_url": "https://api.github.com/users/l4zygreed/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/l4zygreed/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/l4zygreed/subscriptions",
    "organizations_url": "https://api.github.com/users/l4zygreed/orgs",
    "repos_url": "https://api.github.com/users/l4zygreed/repos",
    "events_url": "https://api.github.com/users/l4zygreed/events{/privacy}",
    "received_events_url": "https://api.github.com/users/l4zygreed/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23930/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23930/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/992735199",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23930#issuecomment-992735199",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23930",
    "id": 992735199,
    "node_id": "IC_kwDOAOvK9847K-_f",
    "user": {
      "login": "lodotek",
      "id": 2421856,
      "node_id": "MDQ6VXNlcjI0MjE4NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2421856?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lodotek",
      "html_url": "https://github.com/lodotek",
      "followers_url": "https://api.github.com/users/lodotek/followers",
      "following_url": "https://api.github.com/users/lodotek/following{/other_user}",
      "gists_url": "https://api.github.com/users/lodotek/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lodotek/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lodotek/subscriptions",
      "organizations_url": "https://api.github.com/users/lodotek/orgs",
      "repos_url": "https://api.github.com/users/lodotek/repos",
      "events_url": "https://api.github.com/users/lodotek/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lodotek/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-12-13T18:06:57Z",
    "updated_at": "2021-12-13T18:06:57Z",
    "author_association": "NONE",
    "body": "What was your solution @l4zygreed ?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/992735199/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1005137438",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23930#issuecomment-1005137438",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23930",
    "id": 1005137438,
    "node_id": "IC_kwDOAOvK98476S4e",
    "user": {
      "login": "l4zygreed",
      "id": 9384565,
      "node_id": "MDQ6VXNlcjkzODQ1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9384565?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/l4zygreed",
      "html_url": "https://github.com/l4zygreed",
      "followers_url": "https://api.github.com/users/l4zygreed/followers",
      "following_url": "https://api.github.com/users/l4zygreed/following{/other_user}",
      "gists_url": "https://api.github.com/users/l4zygreed/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/l4zygreed/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/l4zygreed/subscriptions",
      "organizations_url": "https://api.github.com/users/l4zygreed/orgs",
      "repos_url": "https://api.github.com/users/l4zygreed/repos",
      "events_url": "https://api.github.com/users/l4zygreed/events{/privacy}",
      "received_events_url": "https://api.github.com/users/l4zygreed/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-04T20:14:00Z",
    "updated_at": "2022-01-04T20:14:00Z",
    "author_association": "NONE",
    "body": "just deleted and rescanned blockchain :/",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1005137438/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 1,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1005416750",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23930#issuecomment-1005416750",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23930",
    "id": 1005416750,
    "node_id": "IC_kwDOAOvK98477XEu",
    "user": {
      "login": "lodotek",
      "id": 2421856,
      "node_id": "MDQ6VXNlcjI0MjE4NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2421856?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lodotek",
      "html_url": "https://github.com/lodotek",
      "followers_url": "https://api.github.com/users/lodotek/followers",
      "following_url": "https://api.github.com/users/lodotek/following{/other_user}",
      "gists_url": "https://api.github.com/users/lodotek/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lodotek/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lodotek/subscriptions",
      "organizations_url": "https://api.github.com/users/lodotek/orgs",
      "repos_url": "https://api.github.com/users/lodotek/repos",
      "events_url": "https://api.github.com/users/lodotek/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lodotek/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-05T06:27:16Z",
    "updated_at": "2022-01-05T06:27:16Z",
    "author_association": "NONE",
    "body": "Fortunately somehow after trying several things I was able to get it synced without deleting/resyncing.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1005416750/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
