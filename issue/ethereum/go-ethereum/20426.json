{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20426",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20426/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20426/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20426/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/20426",
  "id": 532769892,
  "node_id": "MDU6SXNzdWU1MzI3Njk4OTI=",
  "number": 20426,
  "title": "Served eth_getLogs err=\"context canceled\"",
  "user": {
    "login": "eduadiez",
    "id": 20141918,
    "node_id": "MDQ6VXNlcjIwMTQxOTE4",
    "avatar_url": "https://avatars.githubusercontent.com/u/20141918?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/eduadiez",
    "html_url": "https://github.com/eduadiez",
    "followers_url": "https://api.github.com/users/eduadiez/followers",
    "following_url": "https://api.github.com/users/eduadiez/following{/other_user}",
    "gists_url": "https://api.github.com/users/eduadiez/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/eduadiez/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/eduadiez/subscriptions",
    "organizations_url": "https://api.github.com/users/eduadiez/orgs",
    "repos_url": "https://api.github.com/users/eduadiez/repos",
    "events_url": "https://api.github.com/users/eduadiez/events{/privacy}",
    "received_events_url": "https://api.github.com/users/eduadiez/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 72233650,
      "node_id": "MDU6TGFiZWw3MjIzMzY1MA==",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:bug",
      "name": "type:bug",
      "color": "FF5E5E",
      "default": false,
      "description": ""
    },
    {
      "id": 1269313112,
      "node_id": "MDU6TGFiZWwxMjY5MzEzMTEy",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/status:backlog",
      "name": "status:backlog",
      "color": "29ceb3",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 8,
  "created_at": "2019-12-04T15:46:15Z",
  "updated_at": "2022-12-07T17:42:29Z",
  "closed_at": "2022-12-07T17:42:29Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\r\nGeth version: 1.9.8-stable-d62e9b28\r\nOS & Version: Linux\r\n#### Expected behaviour\r\nBe able to get the logs from `0x266BFdb2124A68beB6769dC887BD655f78778923` smartcontract since block `0x7A2CCB` related to the filter `0x526d4ccf8c3d7b6f0b6d4cc0de526d515c87d1ea3bd264ace0b5c2e70d1b2208`. \r\nThis are the results that I get with Parity v2.5.10-stable:\r\n```\r\neduadiez~ $ time curl -X POST  -H \"Content-Type: application/json\"  --data '{\"jsonrpc\":\"2.0\",\"method\":\"eth_getLogs\",\"params\":[{\"address\":\"0x266BFdb2124A68beB6769dC887BD655f78778923\",\"fromBlock\":\"0x7A2CCB\",\"topics\":[\"0x526d4ccf8c3d7b6f0b6d4cc0de526d515c87d1ea3bd264ace0b5c2e70d1b2208\"]}],\"id\":74}'  http://fullnode.dappnode:8545\r\n{\"jsonrpc\":\"2.0\",\"result\":[{\"address\":\"0x266bfdb2124a68beb6769dc887bd655f78778923\",\"blockHash\":\"0x3cd8bca571cd0d57967ae6a3f944a271a815ea97992ea01b86c5aa987d021dcd\",\"blockNumber\":\"0x7a2ccb\",\"data\":\"0xad6826e119f6a15caa9eb1c5c450c97ef03906b26a65c04c822a1cf0b9cdefc10000000000000000000000000000000000000000000000000000000000000060000000000000000000000000e1d145eda2845e0917c305525d8ee7cc208c029100000000000000000000000000000000000000000000000000000000000000116c696768746e696e672d6e6574776f726b000000000000000000000000000000\",\"logIndex\":\"0x1b\",\"removed\":false,\"topics\":[\"0x526d4ccf8c3d7b6f0b6d4cc0de526d515c87d1ea3bd264ace0b5c2e70d1b2208\"],\"transactionHash\":\"0xf329519b9a88c2ad5b82da769cf3479c48858e1d0058b5118c8eae61615cd1be\",\"transactionIndex\":\"0x25\",\"transactionLogIndex\":\"0x7\",\"type\":\"mined\"},{\"address\":\"0x266bfdb2124a68beb6769dc887bd655f78778923\",\"blockHash\":\"0xfe6e2bc524c885f82108b5680ebf11a6b4733eb398ab21a242939904b5e58dad\",\"blockNumber\":\"0x818fb3\",\"data\":\"0x1b9bd7546b166172b18b5f4cbfbd4d76ca340c60a698d2813f1b37513505789400000000000000000000000000000000000000000000000000000000000000600000000000000000000000006c4a0d357d8f590bacce42a4a497835beea2967b00000000000000000000000000000000000000000000000000000000000000046765746800000000000000000000000000000000000000000000000000000000\",\"logIndex\":\"0x55\",\"removed\":false,\"topics\":[\"0x526d4ccf8c3d7b6f0b6d4cc0de526d515c87d1ea3bd264ace0b5c2e70d1b2208\"],\"transactionHash\":\"0xf307ed2f9bd08fb82f6994ad3ec419ad4b49a6521800ed9c1f7a20ef7b05db4e\",\"transactionIndex\":\"0x81\",\"transactionLogIndex\":\"0x7\",\"type\":\"mined\"},{\"address\":\"0x266bfdb2124a68beb6769dc887bd655f78778923\",\"blockHash\":\"0x4781a43d04c78caa143a5399c9e4375eb048d70051dfeed8ec38bf8b16d49488\",\"blockNumber\":\"0x88f1f5\",\"data\":\"0x8f8eb5744c9c9f62af04b6b00ef91c8270b8ec5c80c78c639149786d6482f63600000000000000000000000000000000000000000000000000000000000000600000000000000000000000007e538ebb507d56de0fb6c573d9be0f9cdec5c528000000000000000000000000000000000000000000000000000000000000001274727573746c696e65732d6d6f6e69746f720000000000000000000000000000\",\"logIndex\":\"0x8a\",\"removed\":false,\"topics\":[\"0x526d4ccf8c3d7b6f0b6d4cc0de526d515c87d1ea3bd264ace0b5c2e70d1b2208\"],\"transactionHash\":\"0x1e50879e31384cc983bdd0384334c7c32ebc88de30c16d5f0f9237acfe4cbe65\",\"transactionIndex\":\"0x78\",\"transactionLogIndex\":\"0x8\",\"type\":\"mined\"},{\"address\":\"0x266bfdb2124a68beb6769dc887bd655f78778923\",\"blockHash\":\"0x8c5eeffbaed1893427821d1f98b8085b475c8727db3cd09998a1fa8d7fe31853\",\"blockNumber\":\"0x88f222\",\"data\":\"0xd88b3d6ce3b30af8a8a6ee417f1618117bd2ff9dad4788f51d6d76b1f12726d1000000000000000000000000000000000000000000000000000000000000006000000000000000000000000038bcfc1a7b62cae7970e04b08ed2b8d8b929bbb0000000000000000000000000000000000000000000000000000000000000000a74727573746c696e657300000000000000000000000000000000000000000000\",\"logIndex\":\"0x38\",\"removed\":false,\"topics\":[\"0x526d4ccf8c3d7b6f0b6d4cc0de526d515c87d1ea3bd264ace0b5c2e70d1b2208\"],\"transactionHash\":\"0x10a76e0604bb5a6047bc8c1b60ec2723e79adcab456cda97b6cfebeaeaf7d546\",\"transactionIndex\":\"0x36\",\"transactionLogIndex\":\"0x8\",\"type\":\"mined\"},{\"address\":\"0x266bfdb2124a68beb6769dc887bd655f78778923\",\"blockHash\":\"0xc84b9167c3e45e41be5e3b14e7a1774958c3780971d8ec82e2696f59f1ce5353\",\"blockNumber\":\"0x88f251\",\"data\":\"0xc1bea90834a069a38cf2d9ac689d2064a5c64604c7f76ea352d82b2eca00c48d00000000000000000000000000000000000000000000000000000000000000600000000000000000000000001e41779cfee567b7fac349ef0b5f5cdf3bda25b8000000000000000000000000000000000000000000000000000000000000001174727573746c696e65732d627269646765000000000000000000000000000000\",\"logIndex\":\"0x3a\",\"removed\":false,\"topics\":[\"0x526d4ccf8c3d7b6f0b6d4cc0de526d515c87d1ea3bd264ace0b5c2e70d1b2208\"],\"transactionHash\":\"0x72f86b06651a4f36b0326cb82b9a10fb8ee950c19ac8e3fc76e8ede5cb95e301\",\"transactionIndex\":\"0x2a\",\"transactionLogIndex\":\"0x8\",\"type\":\"mined\"},{\"address\":\"0x266bfdb2124a68beb6769dc887bd655f78778923\",\"blockHash\":\"0x76865137a37559565e46c8e90213fa6dff2ed3c821decc6ed5ef224f0135b933\",\"blockNumber\":\"0x88f271\",\"data\":\"0x377022fdf542b656429e5f3965f4cdc72bf5241aa27d13209c1f1ec0c06ef5c20000000000000000000000000000000000000000000000000000000000000060000000000000000000000000cc9a190e06531bd6a68ce14e2e2a87f75bfe473f000000000000000000000000000000000000000000000000000000000000001374727573746c696e65732d6e6574737461747300000000000000000000000000\",\"logIndex\":\"0x40\",\"removed\":false,\"topics\":[\"0x526d4ccf8c3d7b6f0b6d4cc0de526d515c87d1ea3bd264ace0b5c2e70d1b2208\"],\"transactionHash\":\"0xe5866770f8fff8fa270f13d8afd6dbdf1226a167baff0b04931f8f2066c92254\",\"transactionIndex\":\"0x2c\",\"transactionLogIndex\":\"0x8\",\"type\":\"mined\"},{\"address\":\"0x266bfdb2124a68beb6769dc887bd655f78778923\",\"blockHash\":\"0x2cff1f560db8a8fe0189c0f804f5d8d2472a09783821d942b3d52bc63ba2fe33\",\"blockNumber\":\"0x88f3b2\",\"data\":\"0x0b7cbabfabdb9154bada1192c34ed6d29f45ab8e9923e9005798ec716c50195e0000000000000000000000000000000000000000000000000000000000000060000000000000000000000000b191457a257c1734f18608d744ddfd120979bb2f000000000000000000000000000000000000000000000000000000000000001474727573746c696e65732d76616c696461746f72000000000000000000000000\",\"logIndex\":\"0x68\",\"removed\":false,\"topics\":[\"0x526d4ccf8c3d7b6f0b6d4cc0de526d515c87d1ea3bd264ace0b5c2e70d1b2208\"],\"transactionHash\":\"0x6168be4f1a30d2499eb5ef4f55c212d608ab4d62d387aa08c8bf21857c46c214\",\"transactionIndex\":\"0x72\",\"transactionLogIndex\":\"0x8\",\"type\":\"mined\"},{\"address\":\"0x266bfdb2124a68beb6769dc887bd655f78778923\",\"blockHash\":\"0xe575ddaa16b3fcc5a421ba47d96978a9320b561b9dfefcfb96eda321b03e010c\",\"blockNumber\":\"0x89eb53\",\"data\":\"0x4feb3c0b0b2dc37cf7a616dd81954cbd29c175aa073bdba8ef2b55ef0b13419d000000000000000000000000000000000000000000000000000000000000006000000000000000000000000039ef4e2d2d62134b1b71103fa7a895fda023fe4d000000000000000000000000000000000000000000000000000000000000000c697066732d636c75737465720000000000000000000000000000000000000000\",\"logIndex\":\"0x62\",\"removed\":false,\"topics\":[\"0x526d4ccf8c3d7b6f0b6d4cc0de526d515c87d1ea3bd264ace0b5c2e70d1b2208\"],\"transactionHash\":\"0x4087d76b686748d2ae6626a032614ce2a402a207fbbf099451d17f6b2cade4e8\",\"transactionIndex\":\"0x46\",\"transactionLogIndex\":\"0x8\",\"type\":\"mined\"},{\"address\":\"0x266bfdb2124a68beb6769dc887bd655f78778923\",\"blockHash\":\"0x19347ef9385b559c306ff67919d0c9832b864e92c8df60fb49abee6059003f77\",\"blockNumber\":\"0x89eca2\",\"data\":\"0x2e3ecc5ebebf071ec6ecbb0ce30267d59367ac69b8dbc2f7156672a7398e5a5b000000000000000000000000000000000000000000000000000000000000006000000000000000000000000032e1ef330df9840c4a689ba9affb22d6762aae2b000000000000000000000000000000000000000000000000000000000000000b697066732d70696e6e6572000000000000000000000000000000000000000000\",\"logIndex\":\"0x7d\",\"removed\":false,\"topics\":[\"0x526d4ccf8c3d7b6f0b6d4cc0de526d515c87d1ea3bd264ace0b5c2e70d1b2208\"],\"transactionHash\":\"0xae20a4f86014d453b2480ecee692ae9dd182c64000a88b07738844dcb09d4dd7\",\"transactionIndex\":\"0x67\",\"transactionLogIndex\":\"0x8\",\"type\":\"mined\"}],\"id\":74}\r\n\r\nreal\t0m28.315s\r\nuser\t0m0.005s\r\nsys\t0m0.011s\r\n```\r\n#### Actual behaviour\r\nI tried in several machines with the same geth version fully synchronised and I get this response:\r\n```\r\neduadiez~ $ time curl -X POST  -H \"Content-Type: application/json\"  --data '{\"jsonrpc\":\"2.0\",\"method\":\"eth_getLogs\",\"params\":[{\"address\":\"0x266BFdb2124A68beB6769dC887BD655f78778923\",\"fromBlock\":\"0x7A2CCB\",\"topics\":[\"0x526d4ccf8c3d7b6f0b6d4cc0de526d515c87d1ea3bd264ace0b5c2e70d1b2208\"]}],\"id\":74}'  http://fullnode.dappnode:8545\r\ncurl: (52) Empty reply from server\r\n\r\nreal\t4m59.892s\r\nuser\t0m0.011s\r\nsys\t0m0.024s\r\n```\r\n#### Steps to reproduce the behaviour\r\n\r\n```\r\ncurl -X POST  -H \"Content-Type: application/json\"  --data '{\"jsonrpc\":\"2.0\",\"method\":\"eth_getLogs\",\"params\":[{\"address\":\"0x266BFdb2124A68beB6769dC887BD655f78778923\",\"fromBlock\":\"0x7A2CCB\",\"topics\":[\"0x526d4ccf8c3d7b6f0b6d4cc0de526d515c87d1ea3bd264ace0b5c2e70d1b2208\"]}],\"id\":74}'  \r\n```\r\n#### Backtrace\r\n\r\n````\r\nINFO [12-04|15:37:41.913] Imported new chain segment               blocks=1  txs=164  mgas=9.934   elapsed=8.326s    mgasps=1.193   number=9050020 hash=1bab4a…4d45c4 dirty=459.72MiB\r\nINFO [12-04|15:38:00.234] Imported new chain segment               blocks=1  txs=173  mgas=9.940   elapsed=4.669s    mgasps=2.129   number=9050021 hash=e19cc7…8da4e7 dirty=459.79MiB\r\nWARN [12-04|15:38:01.916] Served eth_getLogs                       conn=172.33.0.2:52062  reqid=1411 t=2m0.04507267s   err=\"context canceled\"\r\nINFO [12-04|15:38:10.696] Imported new chain segment               blocks=1  txs=25   mgas=0.992   elapsed=45.965ms  mgasps=21.585  number=9050022 hash=c8fa1a…23edd7 dirty=459.22MiB\r\nINFO [12-04|15:38:23.229] Deep froze chain segment                 blocks=5  elapsed=622.084ms number=8960021 hash=1f7947…90b4f7````\r\n",
  "closed_by": {
    "login": "s1na",
    "id": 1591639,
    "node_id": "MDQ6VXNlcjE1OTE2Mzk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1591639?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/s1na",
    "html_url": "https://github.com/s1na",
    "followers_url": "https://api.github.com/users/s1na/followers",
    "following_url": "https://api.github.com/users/s1na/following{/other_user}",
    "gists_url": "https://api.github.com/users/s1na/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/s1na/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/s1na/subscriptions",
    "organizations_url": "https://api.github.com/users/s1na/orgs",
    "repos_url": "https://api.github.com/users/s1na/repos",
    "events_url": "https://api.github.com/users/s1na/events{/privacy}",
    "received_events_url": "https://api.github.com/users/s1na/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20426/reactions",
    "total_count": 1,
    "+1": 1,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20426/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/562071449",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/20426#issuecomment-562071449",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20426",
    "id": 562071449,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2MjA3MTQ0OQ==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-05T10:35:25Z",
    "updated_at": "2019-12-05T10:35:25Z",
    "author_association": "MEMBER",
    "body": "This seems to be a nice issue. We'll need to take a closer look into this.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/562071449/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/562072071",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/20426#issuecomment-562072071",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20426",
    "id": 562072071,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2MjA3MjA3MQ==",
    "user": {
      "login": "eduadiez",
      "id": 20141918,
      "node_id": "MDQ6VXNlcjIwMTQxOTE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/20141918?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/eduadiez",
      "html_url": "https://github.com/eduadiez",
      "followers_url": "https://api.github.com/users/eduadiez/followers",
      "following_url": "https://api.github.com/users/eduadiez/following{/other_user}",
      "gists_url": "https://api.github.com/users/eduadiez/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/eduadiez/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/eduadiez/subscriptions",
      "organizations_url": "https://api.github.com/users/eduadiez/orgs",
      "repos_url": "https://api.github.com/users/eduadiez/repos",
      "events_url": "https://api.github.com/users/eduadiez/events{/privacy}",
      "received_events_url": "https://api.github.com/users/eduadiez/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-05T10:37:03Z",
    "updated_at": "2019-12-05T10:37:03Z",
    "author_association": "NONE",
    "body": "Thanks @karalabe. Let me know if I can help with anything",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/562072071/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/638699261",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/20426#issuecomment-638699261",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20426",
    "id": 638699261,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzODY5OTI2MQ==",
    "user": {
      "login": "rjl493456442",
      "id": 5959481,
      "node_id": "MDQ6VXNlcjU5NTk0ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5959481?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rjl493456442",
      "html_url": "https://github.com/rjl493456442",
      "followers_url": "https://api.github.com/users/rjl493456442/followers",
      "following_url": "https://api.github.com/users/rjl493456442/following{/other_user}",
      "gists_url": "https://api.github.com/users/rjl493456442/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rjl493456442/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rjl493456442/subscriptions",
      "organizations_url": "https://api.github.com/users/rjl493456442/orgs",
      "repos_url": "https://api.github.com/users/rjl493456442/repos",
      "events_url": "https://api.github.com/users/rjl493456442/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rjl493456442/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-04T08:33:58Z",
    "updated_at": "2020-06-04T08:33:58Z",
    "author_association": "MEMBER",
    "body": "Maybe this PR can help with it? https://github.com/ethereum/go-ethereum/pull/16070",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/638699261/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/694044000",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/20426#issuecomment-694044000",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20426",
    "id": 694044000,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5NDA0NDAwMA==",
    "user": {
      "login": "kutysam",
      "id": 1703663,
      "node_id": "MDQ6VXNlcjE3MDM2NjM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1703663?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kutysam",
      "html_url": "https://github.com/kutysam",
      "followers_url": "https://api.github.com/users/kutysam/followers",
      "following_url": "https://api.github.com/users/kutysam/following{/other_user}",
      "gists_url": "https://api.github.com/users/kutysam/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kutysam/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kutysam/subscriptions",
      "organizations_url": "https://api.github.com/users/kutysam/orgs",
      "repos_url": "https://api.github.com/users/kutysam/repos",
      "events_url": "https://api.github.com/users/kutysam/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kutysam/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-09-17T07:37:24Z",
    "updated_at": "2020-09-17T07:37:24Z",
    "author_association": "NONE",
    "body": "Hi,\r\n\r\nWe are also facing a similar issue.\r\nThe two queries below have also been ran on an archive node.\r\nHaving a higher fromblock works but lower fromblock doesn't work.\r\n\r\n#### Works (Block 10870000)\r\n```\r\ncurl -v --location --request POST 'http://localhost:8545' \\\r\n--header 'Content-Type: application/json' \\\r\n--data-raw '{\r\n    \"jsonrpc\": \"2.0\",\r\n    \"method\": \"eth_getLogs\",\r\n    \"params\": [\r\n        {\r\n            \"fromBlock\": \"0xA5DCF0\",\r\n            \"address\": [\r\n                \"0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f\"\r\n            ]\r\n        }\r\n    ],\r\n    \"id\": 1\r\n}'\r\n```\r\n---------------------------------------\r\n#### Not Working (Block 10800000) - `curl: (52) Empty reply from server`\r\n\r\n```\r\ncurl -v --location --request POST 'http://localhost:8545' \\\r\n--header 'Content-Type: application/json' \\\r\n--data-raw '{\r\n    \"jsonrpc\": \"2.0\",\r\n    \"method\": \"eth_getLogs\",\r\n    \"params\": [\r\n        {\r\n            \"fromBlock\": \"0xA4CB80\",\r\n            \"address\": [\r\n                \"0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f\"\r\n            ]\r\n        }\r\n    ],\r\n    \"id\": 1\r\n}'\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/694044000/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/742600820",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/20426#issuecomment-742600820",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20426",
    "id": 742600820,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc0MjYwMDgyMA==",
    "user": {
      "login": "mrice32",
      "id": 11791551,
      "node_id": "MDQ6VXNlcjExNzkxNTUx",
      "avatar_url": "https://avatars.githubusercontent.com/u/11791551?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mrice32",
      "html_url": "https://github.com/mrice32",
      "followers_url": "https://api.github.com/users/mrice32/followers",
      "following_url": "https://api.github.com/users/mrice32/following{/other_user}",
      "gists_url": "https://api.github.com/users/mrice32/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mrice32/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mrice32/subscriptions",
      "organizations_url": "https://api.github.com/users/mrice32/orgs",
      "repos_url": "https://api.github.com/users/mrice32/repos",
      "events_url": "https://api.github.com/users/mrice32/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mrice32/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-12-10T15:41:16Z",
    "updated_at": "2020-12-10T23:11:09Z",
    "author_association": "NONE",
    "body": "@karalabe We're seeing a similar issue when we make log queries that span more than ~400k blocks (we default to `fromBlock: 0`).  Note: we updated our docker image yesterday and we're running a fairly standard non-archival node. Recognizing that querying geth with `fromBlock: 0` isn't ideal, is there a way to either:\r\n1. Make geth respond to queries without timing out, even if they take a long time/a lot of resources (we've extended the read timeout and still see the same issue)?\r\n2. Determine how small queries need to be to _guarantee_ that geth will not throw this error?\r\n\r\n\r\nEdit: The context canceled was coming from a timeout on the client side. It also required increasing the _write_ timeout in geth to keep it from silently timing out on geth's end. This isn't an issue for us, though.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/742600820/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/797705111",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/20426#issuecomment-797705111",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20426",
    "id": 797705111,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc5NzcwNTExMQ==",
    "user": {
      "login": "miohtama",
      "id": 49922,
      "node_id": "MDQ6VXNlcjQ5OTIy",
      "avatar_url": "https://avatars.githubusercontent.com/u/49922?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/miohtama",
      "html_url": "https://github.com/miohtama",
      "followers_url": "https://api.github.com/users/miohtama/followers",
      "following_url": "https://api.github.com/users/miohtama/following{/other_user}",
      "gists_url": "https://api.github.com/users/miohtama/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/miohtama/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/miohtama/subscriptions",
      "organizations_url": "https://api.github.com/users/miohtama/orgs",
      "repos_url": "https://api.github.com/users/miohtama/repos",
      "events_url": "https://api.github.com/users/miohtama/events{/privacy}",
      "received_events_url": "https://api.github.com/users/miohtama/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-12T19:29:35Z",
    "updated_at": "2021-03-12T19:29:35Z",
    "author_association": "NONE",
    "body": "> It also required increasing the write timeout in geth to keep it from silently timing out on geth's end.\r\n\r\nI am also facing `err=\"context canceled\"` \r\n\r\nAre there any starting points where one could tune what timeouts and such settings in geth could be tuned for this?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/797705111/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/798977614",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/20426#issuecomment-798977614",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20426",
    "id": 798977614,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc5ODk3NzYxNA==",
    "user": {
      "login": "miohtama",
      "id": 49922,
      "node_id": "MDQ6VXNlcjQ5OTIy",
      "avatar_url": "https://avatars.githubusercontent.com/u/49922?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/miohtama",
      "html_url": "https://github.com/miohtama",
      "followers_url": "https://api.github.com/users/miohtama/followers",
      "following_url": "https://api.github.com/users/miohtama/following{/other_user}",
      "gists_url": "https://api.github.com/users/miohtama/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/miohtama/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/miohtama/subscriptions",
      "organizations_url": "https://api.github.com/users/miohtama/orgs",
      "repos_url": "https://api.github.com/users/miohtama/repos",
      "events_url": "https://api.github.com/users/miohtama/events{/privacy}",
      "received_events_url": "https://api.github.com/users/miohtama/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-14T20:51:24Z",
    "updated_at": "2021-03-14T20:51:24Z",
    "author_association": "NONE",
    "body": "I did an example on web3.py how to throttle down requests on HTTP timeout reply. Not ideal, but works for now. Ultimately would be nice to be able to have more control over how much data can be requested at once. \r\n\r\nhttps://github.com/ethereum/web3.py/pull/1910",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/798977614/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1341335738",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/20426#issuecomment-1341335738",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20426",
    "id": 1341335738,
    "node_id": "IC_kwDOAOvK985P8yi6",
    "user": {
      "login": "s1na",
      "id": 1591639,
      "node_id": "MDQ6VXNlcjE1OTE2Mzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1591639?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/s1na",
      "html_url": "https://github.com/s1na",
      "followers_url": "https://api.github.com/users/s1na/followers",
      "following_url": "https://api.github.com/users/s1na/following{/other_user}",
      "gists_url": "https://api.github.com/users/s1na/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/s1na/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/s1na/subscriptions",
      "organizations_url": "https://api.github.com/users/s1na/orgs",
      "repos_url": "https://api.github.com/users/s1na/repos",
      "events_url": "https://api.github.com/users/s1na/events{/privacy}",
      "received_events_url": "https://api.github.com/users/s1na/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-12-07T17:42:29Z",
    "updated_at": "2022-12-07T17:42:29Z",
    "author_association": "MEMBER",
    "body": "Geth silently closed connections on timeout which caused confusion. With #25457 merged, geth will return a timeout error. You can extend the WriteTimeout if you want your node to run longer queries. Closing.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1341335738/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
