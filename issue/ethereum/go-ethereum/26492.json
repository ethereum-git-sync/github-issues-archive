{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26492",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26492/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26492/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26492/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/26492",
  "id": 1533156794,
  "node_id": "I_kwDOAOvK985bYh26",
  "number": 26492,
  "title": "State heal slow, unknown when it will end",
  "user": {
    "login": "xanatos",
    "id": 821344,
    "node_id": "MDQ6VXNlcjgyMTM0NA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/821344?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/xanatos",
    "html_url": "https://github.com/xanatos",
    "followers_url": "https://api.github.com/users/xanatos/followers",
    "following_url": "https://api.github.com/users/xanatos/following{/other_user}",
    "gists_url": "https://api.github.com/users/xanatos/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/xanatos/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/xanatos/subscriptions",
    "organizations_url": "https://api.github.com/users/xanatos/orgs",
    "repos_url": "https://api.github.com/users/xanatos/repos",
    "events_url": "https://api.github.com/users/xanatos/events{/privacy}",
    "received_events_url": "https://api.github.com/users/xanatos/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 268304226,
      "node_id": "MDU6TGFiZWwyNjgzMDQyMjY=",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:docs",
      "name": "type:docs",
      "color": "fef2c0",
      "default": false,
      "description": null
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2023-01-14T06:22:46Z",
  "updated_at": "2023-01-17T12:00:34Z",
  "closed_at": "2023-01-17T12:00:34Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Using latest stable (1.10.26) on Windows. Had a crash of the PC. On restart it downloaded some blocks and then it entered \"State heal in progress\". It is 12h it iÅ› \"state healing\". Is it possible to know more or less how much it still has to \"state heal\"? There are various indicators in the log (accounts, slots, nodes, pending). Pending seems to be quite random (it goes up and down), the others seems to be increasing, but it is unclear the \"target\" they must reach.\r\n\r\n> INFO [01-14|07:17:04.521] State heal in progress                   accounts=653,220@44.92MiB slots=411,193@29.23MiB codes=508@4.03MiB nodes=8,384,408@2.38GiB    pending=78296\r\n> INFO [01-14|07:17:16.214] State heal in progress                   accounts=653,256@44.92MiB slots=411,193@29.23MiB codes=508@4.03MiB nodes=8,385,473@2.38GiB    pending=80693\r\n> INFO [01-14|07:17:25.345] State heal in progress                   accounts=653,285@44.93MiB slots=411,193@29.23MiB codes=508@4.03MiB nodes=8,386,528@2.38GiB    pending=83236\r\n> ",
  "closed_by": {
    "login": "MariusVanDerWijden",
    "id": 16664698,
    "node_id": "MDQ6VXNlcjE2NjY0Njk4",
    "avatar_url": "https://avatars.githubusercontent.com/u/16664698?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/MariusVanDerWijden",
    "html_url": "https://github.com/MariusVanDerWijden",
    "followers_url": "https://api.github.com/users/MariusVanDerWijden/followers",
    "following_url": "https://api.github.com/users/MariusVanDerWijden/following{/other_user}",
    "gists_url": "https://api.github.com/users/MariusVanDerWijden/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/MariusVanDerWijden/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/MariusVanDerWijden/subscriptions",
    "organizations_url": "https://api.github.com/users/MariusVanDerWijden/orgs",
    "repos_url": "https://api.github.com/users/MariusVanDerWijden/repos",
    "events_url": "https://api.github.com/users/MariusVanDerWijden/events{/privacy}",
    "received_events_url": "https://api.github.com/users/MariusVanDerWijden/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26492/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26492/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1382898461",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/26492#issuecomment-1382898461",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26492",
    "id": 1382898461,
    "node_id": "IC_kwDOAOvK985SbVsd",
    "user": {
      "login": "xanatos",
      "id": 821344,
      "node_id": "MDQ6VXNlcjgyMTM0NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/821344?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/xanatos",
      "html_url": "https://github.com/xanatos",
      "followers_url": "https://api.github.com/users/xanatos/followers",
      "following_url": "https://api.github.com/users/xanatos/following{/other_user}",
      "gists_url": "https://api.github.com/users/xanatos/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/xanatos/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/xanatos/subscriptions",
      "organizations_url": "https://api.github.com/users/xanatos/orgs",
      "repos_url": "https://api.github.com/users/xanatos/repos",
      "events_url": "https://api.github.com/users/xanatos/events{/privacy}",
      "received_events_url": "https://api.github.com/users/xanatos/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-14T19:43:18Z",
    "updated_at": "2023-01-14T19:43:18Z",
    "author_association": "NONE",
    "body": "It took another 13h and then it finished. I think it would be useful to give in the log infos about the \"end condition\" for the State heal. I had to restart various times, because I was installing updates, and I saw that accounts and slots were reset to 0 after every restart, while nodes always increased (until it reached a little less than 21M).",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1382898461/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 1,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1385319112",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/26492#issuecomment-1385319112",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26492",
    "id": 1385319112,
    "node_id": "IC_kwDOAOvK985SkkrI",
    "user": {
      "login": "MariusVanDerWijden",
      "id": 16664698,
      "node_id": "MDQ6VXNlcjE2NjY0Njk4",
      "avatar_url": "https://avatars.githubusercontent.com/u/16664698?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MariusVanDerWijden",
      "html_url": "https://github.com/MariusVanDerWijden",
      "followers_url": "https://api.github.com/users/MariusVanDerWijden/followers",
      "following_url": "https://api.github.com/users/MariusVanDerWijden/following{/other_user}",
      "gists_url": "https://api.github.com/users/MariusVanDerWijden/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MariusVanDerWijden/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MariusVanDerWijden/subscriptions",
      "organizations_url": "https://api.github.com/users/MariusVanDerWijden/orgs",
      "repos_url": "https://api.github.com/users/MariusVanDerWijden/repos",
      "events_url": "https://api.github.com/users/MariusVanDerWijden/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MariusVanDerWijden/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-17T12:00:34Z",
    "updated_at": "2023-01-17T12:00:34Z",
    "author_association": "MEMBER",
    "body": "It's not possible to compute how long the heal phase will take as it depends on the amount of churn happening on chain. The amount of trie nodes that have to be healed depend heavily on how long the sync took, so if you are on a bad connection, the heal phase will take even longer.\r\n\r\nWe can not compute (or even estimate) how long the healing will take unfortunately, otherwise we would add logs for that immediately",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1385319112/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
