{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16518",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16518/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16518/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16518/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/16518",
  "id": 315061276,
  "node_id": "MDU6SXNzdWUzMTUwNjEyNzY=",
  "number": 16518,
  "title": "abigen support for solc flags and/or stdin reading",
  "user": {
    "login": "Shadowfiend",
    "id": 8245,
    "node_id": "MDQ6VXNlcjgyNDU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/8245?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Shadowfiend",
    "html_url": "https://github.com/Shadowfiend",
    "followers_url": "https://api.github.com/users/Shadowfiend/followers",
    "following_url": "https://api.github.com/users/Shadowfiend/following{/other_user}",
    "gists_url": "https://api.github.com/users/Shadowfiend/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Shadowfiend/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Shadowfiend/subscriptions",
    "organizations_url": "https://api.github.com/users/Shadowfiend/orgs",
    "repos_url": "https://api.github.com/users/Shadowfiend/repos",
    "events_url": "https://api.github.com/users/Shadowfiend/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Shadowfiend/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2018-04-17T13:31:35Z",
  "updated_at": "2018-06-05T10:22:03Z",
  "closed_at": "2018-06-05T10:22:03Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "We are trying to set up a `go:generate` call to generate our Go interfaces from our Solidity files. Unfortunately, `abigen` seems to be unable to support imports with the same diversity as `solc` or `truffle`. For example, our code imports code from a third-party library that is pulled in via `npm`. Truffle handles this relatively transparently. For `solc`, we can deal with the situation by mapping the import path to the `node_modules` import path  and then specifying `--allow-paths` appropriately. Unfortunately, there's no way to ask `abigen` to pass any flags to `solc` when invoking it with a Solidity file, and `abigen` doesn't have first-class support for `--allow-paths` or import path mapping.\r\n\r\nMy next attempt was to pipe the output of `solc` to `abigen`. Unfortunately, there doesn't seem to be a way to ask `abigen` to read its contents from `stdin`.\r\n\r\nIt's not immediately obvious if one or the other (passing flags to `solc` or reading from `stdin`) would be preferable. `stdin` is probably most easily supported, by allowing `--abi -` to be interpreted as reading the ABI from standard input, a fairly common idiom.\r\n\r\nI'm willing to put in some legwork and issue a PR here if either or both of these are acceptable ideas.\r\n\r\nThanks for all the tooling!\r\n\r\n#### System information\r\n\r\nGeth version: 1.8.1-stable\r\nOS & Version: macOS",
  "closed_by": {
    "login": "fjl",
    "id": 6915,
    "node_id": "MDQ6VXNlcjY5MTU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6915?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/fjl",
    "html_url": "https://github.com/fjl",
    "followers_url": "https://api.github.com/users/fjl/followers",
    "following_url": "https://api.github.com/users/fjl/following{/other_user}",
    "gists_url": "https://api.github.com/users/fjl/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/fjl/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/fjl/subscriptions",
    "organizations_url": "https://api.github.com/users/fjl/orgs",
    "repos_url": "https://api.github.com/users/fjl/repos",
    "events_url": "https://api.github.com/users/fjl/events{/privacy}",
    "received_events_url": "https://api.github.com/users/fjl/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16518/reactions",
    "total_count": 3,
    "+1": 3,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16518/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/382111587",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/16518#issuecomment-382111587",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16518",
    "id": 382111587,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MjExMTU4Nw==",
    "user": {
      "login": "pschlump",
      "id": 543809,
      "node_id": "MDQ6VXNlcjU0MzgwOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/543809?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pschlump",
      "html_url": "https://github.com/pschlump",
      "followers_url": "https://api.github.com/users/pschlump/followers",
      "following_url": "https://api.github.com/users/pschlump/following{/other_user}",
      "gists_url": "https://api.github.com/users/pschlump/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pschlump/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pschlump/subscriptions",
      "organizations_url": "https://api.github.com/users/pschlump/orgs",
      "repos_url": "https://api.github.com/users/pschlump/repos",
      "events_url": "https://api.github.com/users/pschlump/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pschlump/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-17T19:23:16Z",
    "updated_at": "2018-04-17T19:24:38Z",
    "author_association": "CONTRIBUTOR",
    "body": "There needs to be a way to specify a \"PATH\" with multiple components.  This is like \"bash\" or \"sh\" PATH that will be searched for files.   To get both truffle and solc and abigen to work together seems at present to require copying of an entire library from node_modules/zepplin-* to the ./contracts directory.   I think that a copy like this is a bad thing.  abigen and solc need to be able to search for the files.   Also solcjs seems to work differently with relative paths.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/382111587/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
