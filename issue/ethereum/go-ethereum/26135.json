{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26135",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26135/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26135/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26135/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/26135",
  "id": 1439528186,
  "node_id": "I_kwDOAOvK985VzXT6",
  "number": 26135,
  "title": "An error occurred when I filtered the log",
  "user": {
    "login": "cong08",
    "id": 33095661,
    "node_id": "MDQ6VXNlcjMzMDk1NjYx",
    "avatar_url": "https://avatars.githubusercontent.com/u/33095661?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/cong08",
    "html_url": "https://github.com/cong08",
    "followers_url": "https://api.github.com/users/cong08/followers",
    "following_url": "https://api.github.com/users/cong08/following{/other_user}",
    "gists_url": "https://api.github.com/users/cong08/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/cong08/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/cong08/subscriptions",
    "organizations_url": "https://api.github.com/users/cong08/orgs",
    "repos_url": "https://api.github.com/users/cong08/repos",
    "events_url": "https://api.github.com/users/cong08/events{/privacy}",
    "received_events_url": "https://api.github.com/users/cong08/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 72233650,
      "node_id": "MDU6TGFiZWw3MjIzMzY1MA==",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:bug",
      "name": "type:bug",
      "color": "FF5E5E",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2022-11-08T05:44:43Z",
  "updated_at": "2022-11-08T07:33:18Z",
  "closed_at": "2022-11-08T07:33:18Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "abi: cannot marshal in to go slice: offset 19769644479428549312776125060887257714514478847149814825860839060346402504736 would go over slice boundary (len=1956)\r\n```\r\ncontractAddress = 0x7f268357A8c2552623316e2562D90e642bB538E5\r\nblockNumber = 15134607\r\nmatchSig := []byte(\"OrderApprovedPartTwo(bytes32,uint8,bytes,bytes,address,bytes,address,uint256,uint256,uint256,uint256,uint256,bool)\")\r\nmatchSigHash := crypto.Keccak256Hash(matchSig)\r\n\r\nI use this contract to obtain the OrderApprovedPartTwo event. When I use\r\n`contractAbi. UnpackIntoMap (v, \"OrderApprovedPartTwo\", tx. Data()) ` Errors will occur, abi: cannot market in to go slice: offset 1976964447942854931277125068725714514478847149814825860839060346402504736 would go over slice boundary (len=1956)\r\n\r\n",
  "closed_by": {
    "login": "cong08",
    "id": 33095661,
    "node_id": "MDQ6VXNlcjMzMDk1NjYx",
    "avatar_url": "https://avatars.githubusercontent.com/u/33095661?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/cong08",
    "html_url": "https://github.com/cong08",
    "followers_url": "https://api.github.com/users/cong08/followers",
    "following_url": "https://api.github.com/users/cong08/following{/other_user}",
    "gists_url": "https://api.github.com/users/cong08/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/cong08/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/cong08/subscriptions",
    "organizations_url": "https://api.github.com/users/cong08/orgs",
    "repos_url": "https://api.github.com/users/cong08/repos",
    "events_url": "https://api.github.com/users/cong08/events{/privacy}",
    "received_events_url": "https://api.github.com/users/cong08/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26135/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26135/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1306678888",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/26135#issuecomment-1306678888",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26135",
    "id": 1306678888,
    "node_id": "IC_kwDOAOvK985N4lZo",
    "user": {
      "login": "rjl493456442",
      "id": 5959481,
      "node_id": "MDQ6VXNlcjU5NTk0ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5959481?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rjl493456442",
      "html_url": "https://github.com/rjl493456442",
      "followers_url": "https://api.github.com/users/rjl493456442/followers",
      "following_url": "https://api.github.com/users/rjl493456442/following{/other_user}",
      "gists_url": "https://api.github.com/users/rjl493456442/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rjl493456442/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rjl493456442/subscriptions",
      "organizations_url": "https://api.github.com/users/rjl493456442/orgs",
      "repos_url": "https://api.github.com/users/rjl493456442/repos",
      "events_url": "https://api.github.com/users/rjl493456442/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rjl493456442/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-11-08T06:03:16Z",
    "updated_at": "2022-11-08T06:03:16Z",
    "author_association": "MEMBER",
    "body": "Are you using the go-binding to filter logs? Or you just manually filter out the logs, decode them?\r\n\r\nCan you share a bit more information, or the script you are using.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1306678888/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1306686670",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/26135#issuecomment-1306686670",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26135",
    "id": 1306686670,
    "node_id": "IC_kwDOAOvK985N4nTO",
    "user": {
      "login": "cong08",
      "id": 33095661,
      "node_id": "MDQ6VXNlcjMzMDk1NjYx",
      "avatar_url": "https://avatars.githubusercontent.com/u/33095661?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cong08",
      "html_url": "https://github.com/cong08",
      "followers_url": "https://api.github.com/users/cong08/followers",
      "following_url": "https://api.github.com/users/cong08/following{/other_user}",
      "gists_url": "https://api.github.com/users/cong08/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cong08/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cong08/subscriptions",
      "organizations_url": "https://api.github.com/users/cong08/orgs",
      "repos_url": "https://api.github.com/users/cong08/repos",
      "events_url": "https://api.github.com/users/cong08/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cong08/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-11-08T06:12:55Z",
    "updated_at": "2022-11-08T06:12:55Z",
    "author_association": "NONE",
    "body": "> 您是否使用 go-binding 过滤日志？或者你只是手动过滤掉日志，解码它们？\r\n> \r\n> 您能否分享更多信息或您正在使用的脚本。\r\nThis is most of my code\r\n```\r\n\t\tcontractAddress := strings.ToLower(\"0x7f268357A8c2552623316e2562D90e642bB538E5\")\r\n\t\tcontractAddressHex := common.HexToAddress(contractAddress)\r\n\t\tabiData := opensea.OpenseaMetaData.ABI\r\n\t\tcontractAbi, err := abi.JSON(strings.NewReader(abiData))\r\n\r\n\t\tquery := ethereum.FilterQuery{\r\n\t\t\tFromBlock: big.NewInt(fromBlock),\r\n\t\t\tToBlock:   big.NewInt(endBlock),\r\n\t\t\tAddresses: []common.Address{\r\n\t\t\t\tcontractAddressHex,\r\n\t\t\t},\r\n\t\t}\r\n\t\tlogs, err := h.client.FilterLogs(context.Background(), query)\r\n\t\tif err != nil {\r\n\t\t\th.logger.Panic(\"Filter logs failed, err:\", zap.Any(\"err\", err))\r\n\t\t}\r\n\r\n\t\tmatchSig := []byte(\"OrderApprovedPartTwo(bytes32,uint8,bytes,bytes,address,bytes,address,uint256,uint256,uint256,uint256,uint256,bool)\")\r\n\t\tmatchSigHash := crypto.Keccak256Hash(matchSig)\r\n\r\n\t\tfmt.Println(matchSigHash)\r\n\r\n\t\tfor _, vLog := range logs {\r\n\r\n\t\t\t// 解析交易签名\r\n\t\t\ttx, _, err := h.client.TransactionByHash(context.Background(), vLog.TxHash)\r\n\r\n\t\t\tif err != nil {\r\n\t\t\t\th.logger.Panic(fmt.Sprintf(\"fial, TxHash: 【%s】. err:\", vLog.TxHash.Hex()), zap.Any(\"err\", err))\r\n\t\t\t}\r\n\r\n\t\t\tif vLog.Topics[0].Hex() != matchSigHash.Hex() {\r\n\t\t\t\tcontinue\r\n\t\t\t}\r\n\r\n\t\t\tv := make(map[string]interface{})\r\n\t\t\terr = contractAbi.UnpackIntoMap(v, \"OrderApprovedPartTwo\", tx.Data())\r\n\r\n\t\t\tfmt.Println(err)\r\n\r\n\t\t}",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1306686670/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1306729005",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/26135#issuecomment-1306729005",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26135",
    "id": 1306729005,
    "node_id": "IC_kwDOAOvK985N4xot",
    "user": {
      "login": "rjl493456442",
      "id": 5959481,
      "node_id": "MDQ6VXNlcjU5NTk0ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5959481?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rjl493456442",
      "html_url": "https://github.com/rjl493456442",
      "followers_url": "https://api.github.com/users/rjl493456442/followers",
      "following_url": "https://api.github.com/users/rjl493456442/following{/other_user}",
      "gists_url": "https://api.github.com/users/rjl493456442/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rjl493456442/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rjl493456442/subscriptions",
      "organizations_url": "https://api.github.com/users/rjl493456442/orgs",
      "repos_url": "https://api.github.com/users/rjl493456442/repos",
      "events_url": "https://api.github.com/users/rjl493456442/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rjl493456442/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-11-08T07:07:39Z",
    "updated_at": "2022-11-08T07:07:39Z",
    "author_association": "MEMBER",
    "body": "We strongly recommend to use this tool `abigen`(https://geth.ethereum.org/docs/dapp/abigen). It can generate the golang binding for you to interact with dapps. You can find the API for filtering logs in binding.\r\n\r\nIt's very easy to get wrong if you decode stuff manually.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1306729005/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1306753736",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/26135#issuecomment-1306753736",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26135",
    "id": 1306753736,
    "node_id": "IC_kwDOAOvK985N43rI",
    "user": {
      "login": "cong08",
      "id": 33095661,
      "node_id": "MDQ6VXNlcjMzMDk1NjYx",
      "avatar_url": "https://avatars.githubusercontent.com/u/33095661?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cong08",
      "html_url": "https://github.com/cong08",
      "followers_url": "https://api.github.com/users/cong08/followers",
      "following_url": "https://api.github.com/users/cong08/following{/other_user}",
      "gists_url": "https://api.github.com/users/cong08/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cong08/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cong08/subscriptions",
      "organizations_url": "https://api.github.com/users/cong08/orgs",
      "repos_url": "https://api.github.com/users/cong08/repos",
      "events_url": "https://api.github.com/users/cong08/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cong08/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-11-08T07:32:57Z",
    "updated_at": "2022-11-08T07:32:57Z",
    "author_association": "NONE",
    "body": "> We strongly recommend to use this tool `abigen`(https://geth.ethereum.org/docs/dapp/abigen). It can generate the golang binding for you to interact with dapps. You can find the API for filtering logs in binding.\r\n> \r\n> It's very easy to get wrong if you decode stuff manually.\r\n\r\nok, it works. thank you!",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1306753736/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
