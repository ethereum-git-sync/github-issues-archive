{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22438",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22438/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22438/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22438/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/22438",
  "id": 822921976,
  "node_id": "MDU6SXNzdWU4MjI5MjE5NzY=",
  "number": 22438,
  "title": "Can i switch from fast to snap sync mode?",
  "user": {
    "login": "Jacks349",
    "id": 65462643,
    "node_id": "MDQ6VXNlcjY1NDYyNjQz",
    "avatar_url": "https://avatars.githubusercontent.com/u/65462643?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Jacks349",
    "html_url": "https://github.com/Jacks349",
    "followers_url": "https://api.github.com/users/Jacks349/followers",
    "following_url": "https://api.github.com/users/Jacks349/following{/other_user}",
    "gists_url": "https://api.github.com/users/Jacks349/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Jacks349/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Jacks349/subscriptions",
    "organizations_url": "https://api.github.com/users/Jacks349/orgs",
    "repos_url": "https://api.github.com/users/Jacks349/repos",
    "events_url": "https://api.github.com/users/Jacks349/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Jacks349/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 268304226,
      "node_id": "MDU6TGFiZWwyNjgzMDQyMjY=",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:docs",
      "name": "type:docs",
      "color": "fef2c0",
      "default": false,
      "description": null
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2021-03-05T09:43:15Z",
  "updated_at": "2021-03-05T13:59:38Z",
  "closed_at": "2021-03-05T10:15:38Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "So this is a very noob question and it's probably not possible, but i started syncing a mode using `geth --syncmode fast --cache=2048 --datadir /mnt --ws`, and the node seems to be stuck importing new state entries:  \r\n`Imported new state entries count=385  elapsed=\"3.287Âµs\"   processed=236000921 pending=100815`.\r\n\r\nNow i'm on a VPS with 2 cores CPU and 8GB RAM and i'm afraid this process it's going to take a lot of days, so i was wondering: is `snap` faster than `fast` during this phase too? And, even though i'm afraid this is not possible, can i switch from `--syncmode fast` to `snap`? Thanks in advance!\r\n \r\nAnd my last newbie question: i need to run a node in order to use it for a web3py api, can i do this with `snap` too? And am i still going to get an high number of peers with `snap`?",
  "closed_by": {
    "login": "MariusVanDerWijden",
    "id": 16664698,
    "node_id": "MDQ6VXNlcjE2NjY0Njk4",
    "avatar_url": "https://avatars.githubusercontent.com/u/16664698?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/MariusVanDerWijden",
    "html_url": "https://github.com/MariusVanDerWijden",
    "followers_url": "https://api.github.com/users/MariusVanDerWijden/followers",
    "following_url": "https://api.github.com/users/MariusVanDerWijden/following{/other_user}",
    "gists_url": "https://api.github.com/users/MariusVanDerWijden/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/MariusVanDerWijden/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/MariusVanDerWijden/subscriptions",
    "organizations_url": "https://api.github.com/users/MariusVanDerWijden/orgs",
    "repos_url": "https://api.github.com/users/MariusVanDerWijden/repos",
    "events_url": "https://api.github.com/users/MariusVanDerWijden/events{/privacy}",
    "received_events_url": "https://api.github.com/users/MariusVanDerWijden/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22438/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22438/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/791321804",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22438#issuecomment-791321804",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22438",
    "id": 791321804,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc5MTMyMTgwNA==",
    "user": {
      "login": "MariusVanDerWijden",
      "id": 16664698,
      "node_id": "MDQ6VXNlcjE2NjY0Njk4",
      "avatar_url": "https://avatars.githubusercontent.com/u/16664698?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MariusVanDerWijden",
      "html_url": "https://github.com/MariusVanDerWijden",
      "followers_url": "https://api.github.com/users/MariusVanDerWijden/followers",
      "following_url": "https://api.github.com/users/MariusVanDerWijden/following{/other_user}",
      "gists_url": "https://api.github.com/users/MariusVanDerWijden/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MariusVanDerWijden/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MariusVanDerWijden/subscriptions",
      "organizations_url": "https://api.github.com/users/MariusVanDerWijden/orgs",
      "repos_url": "https://api.github.com/users/MariusVanDerWijden/repos",
      "events_url": "https://api.github.com/users/MariusVanDerWijden/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MariusVanDerWijden/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-05T10:15:38Z",
    "updated_at": "2021-03-05T10:15:38Z",
    "author_association": "MEMBER",
    "body": "You can switch to `syncmode=snap`, however all of your current synced states can not be used by snap sync which means you'll loose some of your progress. Snap starts syncing the state from scratch (won't redownload blocks and headers though). In theory it should be faster than fast sync even if you are halfway done with your fast sync, but it depends on how many of your peers have a snapshot generated to serve you. \r\n\r\nYes you can, the syncmode only defines how your node initially syncs, it has no impact on your node operation going forward (though you can not query receipts that occurred before your node was fully synced). You should get the same amount of peers with snap (only some older OpenEthereum/Parity peers won't connect to you)",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/791321804/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/791436522",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22438#issuecomment-791436522",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22438",
    "id": 791436522,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc5MTQzNjUyMg==",
    "user": {
      "login": "Jacks349",
      "id": 65462643,
      "node_id": "MDQ6VXNlcjY1NDYyNjQz",
      "avatar_url": "https://avatars.githubusercontent.com/u/65462643?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Jacks349",
      "html_url": "https://github.com/Jacks349",
      "followers_url": "https://api.github.com/users/Jacks349/followers",
      "following_url": "https://api.github.com/users/Jacks349/following{/other_user}",
      "gists_url": "https://api.github.com/users/Jacks349/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Jacks349/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Jacks349/subscriptions",
      "organizations_url": "https://api.github.com/users/Jacks349/orgs",
      "repos_url": "https://api.github.com/users/Jacks349/repos",
      "events_url": "https://api.github.com/users/Jacks349/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Jacks349/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-05T13:59:38Z",
    "updated_at": "2021-03-05T13:59:38Z",
    "author_association": "NONE",
    "body": "Awesome! Thank you a lot @MariusVanDerWijden ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/791436522/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
