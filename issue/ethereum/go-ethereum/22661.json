{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22661",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22661/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22661/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22661/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/22661",
  "id": 856859947,
  "node_id": "MDU6SXNzdWU4NTY4NTk5NDc=",
  "number": 22661,
  "title": "web3.eth.getTransaction returns null for existing, older than a year transactions in mainnet",
  "user": {
    "login": "mdeliadi",
    "id": 41289680,
    "node_id": "MDQ6VXNlcjQxMjg5Njgw",
    "avatar_url": "https://avatars.githubusercontent.com/u/41289680?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/mdeliadi",
    "html_url": "https://github.com/mdeliadi",
    "followers_url": "https://api.github.com/users/mdeliadi/followers",
    "following_url": "https://api.github.com/users/mdeliadi/following{/other_user}",
    "gists_url": "https://api.github.com/users/mdeliadi/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/mdeliadi/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mdeliadi/subscriptions",
    "organizations_url": "https://api.github.com/users/mdeliadi/orgs",
    "repos_url": "https://api.github.com/users/mdeliadi/repos",
    "events_url": "https://api.github.com/users/mdeliadi/events{/privacy}",
    "received_events_url": "https://api.github.com/users/mdeliadi/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 268304226,
      "node_id": "MDU6TGFiZWwyNjgzMDQyMjY=",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:docs",
      "name": "type:docs",
      "color": "fef2c0",
      "default": false,
      "description": null
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2021-04-13T11:17:04Z",
  "updated_at": "2021-04-13T16:05:41Z",
  "closed_at": "2021-04-13T14:33:08Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "I'm running a geth node in mainnet, version Kepler Verge (v1.10.2). The sync mode is \"fast\".\r\n\r\nWhen I try to execute web3.eth.getTransaction for some old transaction (e.g. 0x74e51fb791fe430856ca0d55fdfd63d8ba08463a725241a6bc9c031f6c221874) I get null. The same happens with web3.eth.getTransactionReceipt.\r\n\r\nWhat's wrong here? Shouldn't a fast node be capable of handling at least getTransaction?\r\n\r\nIf I do the same test with a more recent transaction (e.g. 0x53ea196d87a8cdd05a02abd41d80a99b7f0e1814824819cb2fd8f4b05e3a44a7) I'm able to get everything right.\r\n\r\nThe node has been created and synced less than a week ago. What's going on here?",
  "closed_by": {
    "login": "holiman",
    "id": 142290,
    "node_id": "MDQ6VXNlcjE0MjI5MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/holiman",
    "html_url": "https://github.com/holiman",
    "followers_url": "https://api.github.com/users/holiman/followers",
    "following_url": "https://api.github.com/users/holiman/following{/other_user}",
    "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
    "organizations_url": "https://api.github.com/users/holiman/orgs",
    "repos_url": "https://api.github.com/users/holiman/repos",
    "events_url": "https://api.github.com/users/holiman/events{/privacy}",
    "received_events_url": "https://api.github.com/users/holiman/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22661/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22661/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/818775576",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22661#issuecomment-818775576",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22661",
    "id": 818775576,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgxODc3NTU3Ng==",
    "user": {
      "login": "mdeliadi",
      "id": 41289680,
      "node_id": "MDQ6VXNlcjQxMjg5Njgw",
      "avatar_url": "https://avatars.githubusercontent.com/u/41289680?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mdeliadi",
      "html_url": "https://github.com/mdeliadi",
      "followers_url": "https://api.github.com/users/mdeliadi/followers",
      "following_url": "https://api.github.com/users/mdeliadi/following{/other_user}",
      "gists_url": "https://api.github.com/users/mdeliadi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mdeliadi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mdeliadi/subscriptions",
      "organizations_url": "https://api.github.com/users/mdeliadi/orgs",
      "repos_url": "https://api.github.com/users/mdeliadi/repos",
      "events_url": "https://api.github.com/users/mdeliadi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mdeliadi/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-13T14:21:00Z",
    "updated_at": "2021-04-13T14:21:00Z",
    "author_association": "NONE",
    "body": "@lukerQuant is this the same issue you reported yesterday here https://github.com/ethereum/go-ethereum/issues/22644#issuecomment-817663213 ?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/818775576/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/818784878",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22661#issuecomment-818784878",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22661",
    "id": 818784878,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgxODc4NDg3OA==",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-13T14:33:04Z",
    "updated_at": "2021-04-13T14:33:04Z",
    "author_association": "MEMBER",
    "body": "https://github.com/ethereum/go-ethereum/releases/tag/v1.10.0\r\n\r\n> Geth 1.10.0 contains some changes which remove unnecessary data in the blockchain database. In particular, Geth no longer keeps transaction inclusion info for all transactions, and instead limits the storage of inclusion records to one year. For application developers, this change means that very old transactions can no longer be accessed by hash. Note: if you would like to\r\ndisable this behavior and keep inclusion information for all historical transactions, you can re-enable indexing using the --txlookuplimit=0 command-line flag. (#22293, #22419)",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/818784878/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/818789001",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22661#issuecomment-818789001",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22661",
    "id": 818789001,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgxODc4OTAwMQ==",
    "user": {
      "login": "lukerQuant",
      "id": 54838320,
      "node_id": "MDQ6VXNlcjU0ODM4MzIw",
      "avatar_url": "https://avatars.githubusercontent.com/u/54838320?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lukerQuant",
      "html_url": "https://github.com/lukerQuant",
      "followers_url": "https://api.github.com/users/lukerQuant/followers",
      "following_url": "https://api.github.com/users/lukerQuant/following{/other_user}",
      "gists_url": "https://api.github.com/users/lukerQuant/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lukerQuant/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lukerQuant/subscriptions",
      "organizations_url": "https://api.github.com/users/lukerQuant/orgs",
      "repos_url": "https://api.github.com/users/lukerQuant/repos",
      "events_url": "https://api.github.com/users/lukerQuant/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lukerQuant/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-13T14:38:25Z",
    "updated_at": "2021-04-13T14:38:25Z",
    "author_association": "NONE",
    "body": "> @lukerQuant is this the same issue you reported yesterday here [#22644 (comment)](https://github.com/ethereum/go-ethereum/issues/22644#issuecomment-817663213) ?\r\n\r\nYes it was. For me it was difficult to find this information but hopefully from now on developers will have the notes placed here to point them in the correct direction 👍 ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/818789001/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/818791373",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22661#issuecomment-818791373",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22661",
    "id": 818791373,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgxODc5MTM3Mw==",
    "user": {
      "login": "mdeliadi",
      "id": 41289680,
      "node_id": "MDQ6VXNlcjQxMjg5Njgw",
      "avatar_url": "https://avatars.githubusercontent.com/u/41289680?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mdeliadi",
      "html_url": "https://github.com/mdeliadi",
      "followers_url": "https://api.github.com/users/mdeliadi/followers",
      "following_url": "https://api.github.com/users/mdeliadi/following{/other_user}",
      "gists_url": "https://api.github.com/users/mdeliadi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mdeliadi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mdeliadi/subscriptions",
      "organizations_url": "https://api.github.com/users/mdeliadi/orgs",
      "repos_url": "https://api.github.com/users/mdeliadi/repos",
      "events_url": "https://api.github.com/users/mdeliadi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mdeliadi/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-13T14:41:45Z",
    "updated_at": "2021-04-13T14:42:17Z",
    "author_association": "NONE",
    "body": "@holiman Thank You!!! But I don't understand how this is supposed to work. My node is in sync, I put the `--txlookuplimit=0` and that's it? Did I just need to wait for the recovering of old txs? Is there a way to check this is actually happening?\r\n\r\n@lukerQuant unfortunately the same happened to me!",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/818791373/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/818855791",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22661#issuecomment-818855791",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22661",
    "id": 818855791,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgxODg1NTc5MQ==",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-13T16:05:41Z",
    "updated_at": "2021-04-13T16:05:41Z",
    "author_association": "MEMBER",
    "body": "> Did I just need to wait for the recovering of old txs? Is there a way to check this is actually happening? \r\n\r\nYes, you should see something along the lines of `Indexed transactions   blocks=...`",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/818855791/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
