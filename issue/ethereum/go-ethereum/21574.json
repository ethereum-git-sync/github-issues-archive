{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21574",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21574/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21574/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21574/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/21574",
  "id": 702603324,
  "node_id": "MDU6SXNzdWU3MDI2MDMzMjQ=",
  "number": 21574,
  "title": "Ancient directory is too small",
  "user": {
    "login": "carlosfrancia",
    "id": 28731961,
    "node_id": "MDQ6VXNlcjI4NzMxOTYx",
    "avatar_url": "https://avatars.githubusercontent.com/u/28731961?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/carlosfrancia",
    "html_url": "https://github.com/carlosfrancia",
    "followers_url": "https://api.github.com/users/carlosfrancia/followers",
    "following_url": "https://api.github.com/users/carlosfrancia/following{/other_user}",
    "gists_url": "https://api.github.com/users/carlosfrancia/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/carlosfrancia/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/carlosfrancia/subscriptions",
    "organizations_url": "https://api.github.com/users/carlosfrancia/orgs",
    "repos_url": "https://api.github.com/users/carlosfrancia/repos",
    "events_url": "https://api.github.com/users/carlosfrancia/events{/privacy}",
    "received_events_url": "https://api.github.com/users/carlosfrancia/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2020-09-16T09:23:37Z",
  "updated_at": "2020-09-17T15:37:20Z",
  "closed_at": "2020-09-17T15:37:20Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "In our company we run a full archive sync network. In total we are using around 4.9Tb of SSD storage and we are looking into some cost saving using the freezer feature. Looking into the potential saving we have noticed that our `chaindata/ancient` directory is only 150.7Gb and this is obviously a very small proportion of the entire network data.\r\n\r\nAccording to the documentation freezer directory should contain data older than 3 epochs so we assumed that the ancient data would be much larger.\r\n\r\nShouldnâ€™t ancient data directory be much larger and contains all the old data including archive?\r\n\r\n#### System information\r\n\r\nGeth version: `geth v1.9.15`\r\nArgs: `--cache=4096 --syncmode=full --gcmode=archive`\r\nOS & Version:Linux\r\n",
  "closed_by": {
    "login": "karalabe",
    "id": 129561,
    "node_id": "MDQ6VXNlcjEyOTU2MQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/karalabe",
    "html_url": "https://github.com/karalabe",
    "followers_url": "https://api.github.com/users/karalabe/followers",
    "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
    "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
    "organizations_url": "https://api.github.com/users/karalabe/orgs",
    "repos_url": "https://api.github.com/users/karalabe/repos",
    "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
    "received_events_url": "https://api.github.com/users/karalabe/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21574/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21574/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/694318308",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/21574#issuecomment-694318308",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21574",
    "id": 694318308,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5NDMxODMwOA==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-09-17T15:37:19Z",
    "updated_at": "2020-09-17T15:37:19Z",
    "author_association": "MEMBER",
    "body": "The ancient folder only stores the chain (headers, blocks, uncles, receipts). State can't really be stored on an HDD. For an archive node, the freezer is not that useful since the crux of the data is the state. Unfortunately there's no way - currently at least - to meaningfully cut down on SSD usage.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/694318308/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
