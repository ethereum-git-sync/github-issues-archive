{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17929",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17929/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17929/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17929/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/17929",
  "id": 370943667,
  "node_id": "MDU6SXNzdWUzNzA5NDM2Njc=",
  "number": 17929,
  "title": "Crosscompiling Go-Ethereum from AMD64 to ARM7 fails",
  "user": {
    "login": "TwinbrotherPro",
    "id": 3323231,
    "node_id": "MDQ6VXNlcjMzMjMyMzE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/3323231?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/TwinbrotherPro",
    "html_url": "https://github.com/TwinbrotherPro",
    "followers_url": "https://api.github.com/users/TwinbrotherPro/followers",
    "following_url": "https://api.github.com/users/TwinbrotherPro/following{/other_user}",
    "gists_url": "https://api.github.com/users/TwinbrotherPro/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/TwinbrotherPro/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/TwinbrotherPro/subscriptions",
    "organizations_url": "https://api.github.com/users/TwinbrotherPro/orgs",
    "repos_url": "https://api.github.com/users/TwinbrotherPro/repos",
    "events_url": "https://api.github.com/users/TwinbrotherPro/events{/privacy}",
    "received_events_url": "https://api.github.com/users/TwinbrotherPro/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2018-10-17T07:55:29Z",
  "updated_at": "2018-11-20T13:28:19Z",
  "closed_at": "2018-11-15T08:56:59Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Hi there,\r\n\r\n#### System information\r\n\r\nGeth version: `1.8.17`\r\nOS & Version: Cross-compiling on Linux Amd64 for Linux ARM-7\r\nCommit hash : (if `develop`)\r\n\r\n#### Expected behaviour\r\n\r\nI am currently trying to cross-compile some go-ethereum packages for a Linux ARM-7 device. I am using xgo and die instructions supplied at  https://github.com/ethereum/go-ethereum/wiki/Cross-compiling-Ethereum . \r\n\r\n#### Actual behaviour\r\n\r\nMy Source code compiles for every distribution except die ARM-7 architecture. When cross-compiling for ARM-7 I get the following error:\r\n\r\n```\r\n/tmp/cccYZQi3.s: Assembler messages:\r\n/tmp/cccYZQi3.s:427: Error: thumb conditional instruction should be in IT block -- `movcc r1,#0'\r\n /tmp/cccYZQi3.s:428: Error: thumb conditional instruction should be in IT block -- `movcs r1,#-1'\r\n/tmp/cccYZQi3.s:755: Error: thumb conditional instruction should be in IT block -- `movcc r1,#0'\r\n/tmp/cccYZQi3.s:756: Error: thumb conditional instruction should be in IT block -- `movcs r1,#-1'\r\n```\r\n\r\nI attached the whole log file of the xgo docker container [geth-arm7.log](https://github.com/ethereum/go-ethereum/files/2486311/geth-arm7.log). Sadly the error occurs in a subprocess so I could not scrap it.\r\n\r\n#### Steps to reproduce the behaviour\r\n\r\nI am cross-compiling with the following statement:\r\n\r\n`$ xgo --deps=https://gmplib.org/download/gmp/gmp-6.0.0a.tar.bz2 --targets=linux/arm-7 ./src/github.com/ethereum/go-ethereum/cmd/geth/`\r\n\r\nMay someone wants to reproduce this error and check whether it is working on his system? \r\n\r\nWhat am I doing differently then the command in the Makefile?\r\n\r\n`geth-linux-arm-7:\r\n\tbuild/env.sh go run build/ci.go xgo -- --go=$(GO) --targets=linux/arm-7 -v ./cmd/geth`\r\n\r\nI would be glad if someone could help me out here :)\r\n\r\n@karalabe I can open this issue at https://github.com/karalabe/xgo/issues if you prefer.",
  "closed_by": {
    "login": "TwinbrotherPro",
    "id": 3323231,
    "node_id": "MDQ6VXNlcjMzMjMyMzE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/3323231?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/TwinbrotherPro",
    "html_url": "https://github.com/TwinbrotherPro",
    "followers_url": "https://api.github.com/users/TwinbrotherPro/followers",
    "following_url": "https://api.github.com/users/TwinbrotherPro/following{/other_user}",
    "gists_url": "https://api.github.com/users/TwinbrotherPro/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/TwinbrotherPro/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/TwinbrotherPro/subscriptions",
    "organizations_url": "https://api.github.com/users/TwinbrotherPro/orgs",
    "repos_url": "https://api.github.com/users/TwinbrotherPro/repos",
    "events_url": "https://api.github.com/users/TwinbrotherPro/events{/privacy}",
    "received_events_url": "https://api.github.com/users/TwinbrotherPro/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17929/reactions",
    "total_count": 1,
    "+1": 1,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17929/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/430567669",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/17929#issuecomment-430567669",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17929",
    "id": 430567669,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzMDU2NzY2OQ==",
    "user": {
      "login": "gballet",
      "id": 3272758,
      "node_id": "MDQ6VXNlcjMyNzI3NTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3272758?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gballet",
      "html_url": "https://github.com/gballet",
      "followers_url": "https://api.github.com/users/gballet/followers",
      "following_url": "https://api.github.com/users/gballet/following{/other_user}",
      "gists_url": "https://api.github.com/users/gballet/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gballet/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gballet/subscriptions",
      "organizations_url": "https://api.github.com/users/gballet/orgs",
      "repos_url": "https://api.github.com/users/gballet/repos",
      "events_url": "https://api.github.com/users/gballet/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gballet/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-17T09:59:46Z",
    "updated_at": "2018-10-17T09:59:46Z",
    "author_association": "MEMBER",
    "body": "What kind of arch are you compiling for? I'm surprised that ti's trying to compile for thumb when arm-v7 are usually more powerful machines.\r\n\r\nFor starters, I would look at the cross-compilation toolchain that you use. `arm-linux-gnueabihf-` vs. `arm-linux-gnueabi-` ?\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/430567669/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/430608444",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/17929#issuecomment-430608444",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17929",
    "id": 430608444,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzMDYwODQ0NA==",
    "user": {
      "login": "TwinbrotherPro",
      "id": 3323231,
      "node_id": "MDQ6VXNlcjMzMjMyMzE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3323231?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TwinbrotherPro",
      "html_url": "https://github.com/TwinbrotherPro",
      "followers_url": "https://api.github.com/users/TwinbrotherPro/followers",
      "following_url": "https://api.github.com/users/TwinbrotherPro/following{/other_user}",
      "gists_url": "https://api.github.com/users/TwinbrotherPro/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TwinbrotherPro/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TwinbrotherPro/subscriptions",
      "organizations_url": "https://api.github.com/users/TwinbrotherPro/orgs",
      "repos_url": "https://api.github.com/users/TwinbrotherPro/repos",
      "events_url": "https://api.github.com/users/TwinbrotherPro/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TwinbrotherPro/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-17T12:28:43Z",
    "updated_at": "2018-10-17T12:28:43Z",
    "author_association": "NONE",
    "body": "> What kind of arch are you compiling for? I'm surprised that ti's trying to compile for thumb when arm-v7 are usually more powerful machines.\r\n> \r\n> For starters, I would look at the cross-compilation toolchain that you use. `arm-linux-gnueabihf-` vs. `arm-linux-gnueabi-` ?\r\n\r\nRegarding my logs it is arm-linux-gnueabihf. I do not exactly know what is happening there because I am just using the xgo docker container, which is also used by the Makescript in the repo.\r\n\r\nSo my question is whether someone may try to reproduce this or tell me that it is working on his machine ^^",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/430608444/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/430985139",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/17929#issuecomment-430985139",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17929",
    "id": 430985139,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzMDk4NTEzOQ==",
    "user": {
      "login": "gballet",
      "id": 3272758,
      "node_id": "MDQ6VXNlcjMyNzI3NTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3272758?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gballet",
      "html_url": "https://github.com/gballet",
      "followers_url": "https://api.github.com/users/gballet/followers",
      "following_url": "https://api.github.com/users/gballet/following{/other_user}",
      "gists_url": "https://api.github.com/users/gballet/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gballet/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gballet/subscriptions",
      "organizations_url": "https://api.github.com/users/gballet/orgs",
      "repos_url": "https://api.github.com/users/gballet/repos",
      "events_url": "https://api.github.com/users/gballet/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gballet/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-18T12:13:14Z",
    "updated_at": "2018-10-18T12:13:28Z",
    "author_association": "MEMBER",
    "body": "My question is to find out what toolchain are installed on your system so that I can try to reproduce the issue",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/430985139/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/431006989",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/17929#issuecomment-431006989",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17929",
    "id": 431006989,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzMTAwNjk4OQ==",
    "user": {
      "login": "TwinbrotherPro",
      "id": 3323231,
      "node_id": "MDQ6VXNlcjMzMjMyMzE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3323231?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TwinbrotherPro",
      "html_url": "https://github.com/TwinbrotherPro",
      "followers_url": "https://api.github.com/users/TwinbrotherPro/followers",
      "following_url": "https://api.github.com/users/TwinbrotherPro/following{/other_user}",
      "gists_url": "https://api.github.com/users/TwinbrotherPro/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TwinbrotherPro/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TwinbrotherPro/subscriptions",
      "organizations_url": "https://api.github.com/users/TwinbrotherPro/orgs",
      "repos_url": "https://api.github.com/users/TwinbrotherPro/repos",
      "events_url": "https://api.github.com/users/TwinbrotherPro/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TwinbrotherPro/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-18T13:24:54Z",
    "updated_at": "2018-10-18T13:24:54Z",
    "author_association": "NONE",
    "body": "This is the environment the Docker Container I am using is using\r\n\r\n`CC=arm-linux-gnueabihf-gcc-5 GOOS=linux GOARCH=arm GOARM=7 CGO_ENABLED=1 CGO_CFLAGS=\"-march=armv7-a\" CGO_CXXFLAGS=\"-march=armv7-a\"`\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/431006989/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/438965735",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/17929#issuecomment-438965735",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17929",
    "id": 438965735,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzODk2NTczNQ==",
    "user": {
      "login": "TwinbrotherPro",
      "id": 3323231,
      "node_id": "MDQ6VXNlcjMzMjMyMzE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3323231?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TwinbrotherPro",
      "html_url": "https://github.com/TwinbrotherPro",
      "followers_url": "https://api.github.com/users/TwinbrotherPro/followers",
      "following_url": "https://api.github.com/users/TwinbrotherPro/following{/other_user}",
      "gists_url": "https://api.github.com/users/TwinbrotherPro/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TwinbrotherPro/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TwinbrotherPro/subscriptions",
      "organizations_url": "https://api.github.com/users/TwinbrotherPro/orgs",
      "repos_url": "https://api.github.com/users/TwinbrotherPro/repos",
      "events_url": "https://api.github.com/users/TwinbrotherPro/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TwinbrotherPro/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-15T08:56:59Z",
    "updated_at": "2018-11-15T08:56:59Z",
    "author_association": "NONE",
    "body": "I fixed this by cross-compiling with xgo without the supplied binaries.\r\n\r\n`geth-linux-arm-7: xgo --targets=linux/arm-7 ./src/github.com/ethereum/go-ethereum/cmd/geth/`\r\n\r\nAs noone else has this issue this thread can be closed. Thanks for your help @gballet ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/438965735/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/440273290",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/17929#issuecomment-440273290",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17929",
    "id": 440273290,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0MDI3MzI5MA==",
    "user": {
      "login": "EnchanterIO",
      "id": 3595242,
      "node_id": "MDQ6VXNlcjM1OTUyNDI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3595242?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/EnchanterIO",
      "html_url": "https://github.com/EnchanterIO",
      "followers_url": "https://api.github.com/users/EnchanterIO/followers",
      "following_url": "https://api.github.com/users/EnchanterIO/following{/other_user}",
      "gists_url": "https://api.github.com/users/EnchanterIO/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/EnchanterIO/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/EnchanterIO/subscriptions",
      "organizations_url": "https://api.github.com/users/EnchanterIO/orgs",
      "repos_url": "https://api.github.com/users/EnchanterIO/repos",
      "events_url": "https://api.github.com/users/EnchanterIO/events{/privacy}",
      "received_events_url": "https://api.github.com/users/EnchanterIO/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-20T13:28:19Z",
    "updated_at": "2018-11-20T13:28:19Z",
    "author_association": "NONE",
    "body": "Compilation worked @TwinbrotherPro! Let's see if the binary will be actually executable. Will get to you soon.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/440273290/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
