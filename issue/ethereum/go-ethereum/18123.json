{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/18123",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/18123/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/18123/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/18123/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/18123",
  "id": 381825174,
  "node_id": "MDU6SXNzdWUzODE4MjUxNzQ=",
  "number": 18123,
  "title": "Separating chain data from state data",
  "user": {
    "login": "Helios-vmg",
    "id": 6202851,
    "node_id": "MDQ6VXNlcjYyMDI4NTE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6202851?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Helios-vmg",
    "html_url": "https://github.com/Helios-vmg",
    "followers_url": "https://api.github.com/users/Helios-vmg/followers",
    "following_url": "https://api.github.com/users/Helios-vmg/following{/other_user}",
    "gists_url": "https://api.github.com/users/Helios-vmg/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Helios-vmg/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Helios-vmg/subscriptions",
    "organizations_url": "https://api.github.com/users/Helios-vmg/orgs",
    "repos_url": "https://api.github.com/users/Helios-vmg/repos",
    "events_url": "https://api.github.com/users/Helios-vmg/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Helios-vmg/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2018-11-17T03:59:23Z",
  "updated_at": "2019-06-19T20:20:45Z",
  "closed_at": "2019-06-19T20:20:45Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "First off, let me see if I understand how Geth syncing works:\r\n1. Assume that the node is synced up to height n.\r\n2. Fetch the next block from the network.\r\n3. Transition the state from state[n] to state[n+1].\r\n4. If not in archive gcmode, prune superseded state information.\r\n5. Now the node is synced up to height n+1.\r\n\r\nIt would seem that to sync Geth only needs the state that resulted from the last block, plus information from previous blocks, such as hashes. That's the information that's going to require the most IOps from the storage device, while the old state information is only needed to replay old transactions and such. It's also the case that this old state information comprises the vast majority of the size of the blockchain (since a full node uses around 150 GiB, while an archive node uses well over a terabyte). If this information was physically separate (as in, in a different directory) from the data Geth actually needs to sync, the cost of a full node could be significantly reduced. For example, someone could create a symlink so that .ethereum/geth/olddata points to a directory in a regular HDD. One way to implement this could be by modifying the prune behavior so that it moves data out of chaindata and into this other directory.",
  "closed_by": {
    "login": "holiman",
    "id": 142290,
    "node_id": "MDQ6VXNlcjE0MjI5MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/holiman",
    "html_url": "https://github.com/holiman",
    "followers_url": "https://api.github.com/users/holiman/followers",
    "following_url": "https://api.github.com/users/holiman/following{/other_user}",
    "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
    "organizations_url": "https://api.github.com/users/holiman/orgs",
    "repos_url": "https://api.github.com/users/holiman/repos",
    "events_url": "https://api.github.com/users/holiman/events{/privacy}",
    "received_events_url": "https://api.github.com/users/holiman/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/18123/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/18123/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/439748328",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/18123#issuecomment-439748328",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/18123",
    "id": 439748328,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzOTc0ODMyOA==",
    "user": {
      "login": "rjl493456442",
      "id": 5959481,
      "node_id": "MDQ6VXNlcjU5NTk0ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5959481?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rjl493456442",
      "html_url": "https://github.com/rjl493456442",
      "followers_url": "https://api.github.com/users/rjl493456442/followers",
      "following_url": "https://api.github.com/users/rjl493456442/following{/other_user}",
      "gists_url": "https://api.github.com/users/rjl493456442/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rjl493456442/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rjl493456442/subscriptions",
      "organizations_url": "https://api.github.com/users/rjl493456442/orgs",
      "repos_url": "https://api.github.com/users/rjl493456442/repos",
      "events_url": "https://api.github.com/users/rjl493456442/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rjl493456442/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-19T01:50:05Z",
    "updated_at": "2018-11-19T01:50:05Z",
    "author_association": "MEMBER",
    "body": "PTAL https://github.com/ethereum/go-ethereum/pull/17814",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/439748328/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/439812042",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/18123#issuecomment-439812042",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/18123",
    "id": 439812042,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzOTgxMjA0Mg==",
    "user": {
      "login": "Helios-vmg",
      "id": 6202851,
      "node_id": "MDQ6VXNlcjYyMDI4NTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6202851?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Helios-vmg",
      "html_url": "https://github.com/Helios-vmg",
      "followers_url": "https://api.github.com/users/Helios-vmg/followers",
      "following_url": "https://api.github.com/users/Helios-vmg/following{/other_user}",
      "gists_url": "https://api.github.com/users/Helios-vmg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Helios-vmg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Helios-vmg/subscriptions",
      "organizations_url": "https://api.github.com/users/Helios-vmg/orgs",
      "repos_url": "https://api.github.com/users/Helios-vmg/repos",
      "events_url": "https://api.github.com/users/Helios-vmg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Helios-vmg/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-19T08:38:33Z",
    "updated_at": "2018-11-19T08:38:33Z",
    "author_association": "NONE",
    "body": "Thanks. I've subscribed to that PR, as it seems extremely relevant.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/439812042/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/503731508",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/18123#issuecomment-503731508",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/18123",
    "id": 503731508,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwMzczMTUwOA==",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-06-19T20:20:41Z",
    "updated_at": "2019-06-19T20:20:41Z",
    "author_association": "MEMBER",
    "body": "This is now implemented in `master`, and is slated for release in 1.9 . ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/503731508/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
