{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16525",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16525/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16525/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16525/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/16525",
  "id": 315404685,
  "node_id": "MDU6SXNzdWUzMTU0MDQ2ODU=",
  "number": 16525,
  "title": "lightserv: repeated attempts to `dyndial` other-genesis LES clients",
  "user": {
    "login": "veox",
    "id": 3036030,
    "node_id": "MDQ6VXNlcjMwMzYwMzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/3036030?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/veox",
    "html_url": "https://github.com/veox",
    "followers_url": "https://api.github.com/users/veox/followers",
    "following_url": "https://api.github.com/users/veox/following{/other_user}",
    "gists_url": "https://api.github.com/users/veox/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/veox/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/veox/subscriptions",
    "organizations_url": "https://api.github.com/users/veox/orgs",
    "repos_url": "https://api.github.com/users/veox/repos",
    "events_url": "https://api.github.com/users/veox/events{/privacy}",
    "received_events_url": "https://api.github.com/users/veox/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1132689577,
      "node_id": "MDU6TGFiZWwxMTMyNjg5NTc3",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/status:triage",
      "name": "status:triage",
      "color": "6be514",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "zsfelfoldi",
    "id": 9884311,
    "node_id": "MDQ6VXNlcjk4ODQzMTE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/9884311?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/zsfelfoldi",
    "html_url": "https://github.com/zsfelfoldi",
    "followers_url": "https://api.github.com/users/zsfelfoldi/followers",
    "following_url": "https://api.github.com/users/zsfelfoldi/following{/other_user}",
    "gists_url": "https://api.github.com/users/zsfelfoldi/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/zsfelfoldi/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/zsfelfoldi/subscriptions",
    "organizations_url": "https://api.github.com/users/zsfelfoldi/orgs",
    "repos_url": "https://api.github.com/users/zsfelfoldi/repos",
    "events_url": "https://api.github.com/users/zsfelfoldi/events{/privacy}",
    "received_events_url": "https://api.github.com/users/zsfelfoldi/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "zsfelfoldi",
      "id": 9884311,
      "node_id": "MDQ6VXNlcjk4ODQzMTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9884311?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zsfelfoldi",
      "html_url": "https://github.com/zsfelfoldi",
      "followers_url": "https://api.github.com/users/zsfelfoldi/followers",
      "following_url": "https://api.github.com/users/zsfelfoldi/following{/other_user}",
      "gists_url": "https://api.github.com/users/zsfelfoldi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zsfelfoldi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zsfelfoldi/subscriptions",
      "organizations_url": "https://api.github.com/users/zsfelfoldi/orgs",
      "repos_url": "https://api.github.com/users/zsfelfoldi/repos",
      "events_url": "https://api.github.com/users/zsfelfoldi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zsfelfoldi/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 7,
  "created_at": "2018-04-18T09:39:16Z",
  "updated_at": "2019-05-14T08:52:52Z",
  "closed_at": "2019-05-14T08:52:51Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nGeth version: `1.8.4-stable` (installed via Ubuntu PPA package)\r\nOS & Version: Ubuntu 16.04.4 LTS (Xenial Xerus)\r\n\r\n#### Expected behaviour\r\n\r\nOn LES handshake failure, especially due to genesis block mismatch, no repeat dial should be attempted, for a prolonged period of time.\r\n\r\n#### Actual behaviour\r\n\r\nA `dyndial` to the same ~~incompatible~~ other-genesis peers is attempted repeatedly.\r\n\r\nEDIT: To clarify, IMO peer exchange with other ether-networks is nice, and might come in handy when sharding; but hammering known-different peers with connections is not.\r\n\r\n#### Steps to reproduce the behaviour\r\n\r\n`geth` run as:\r\n\r\n``` sh\r\n/usr/bin/geth --metrics --datadir /home/geth/.ethereum --cache 4096 --txpool.globalslots 16384 --txpool.pricelimit 31337000 --lightserv 50 --lightpeers 725 --maxpeers 750\r\n```\r\n\r\nEnable `les` debug messages in `console`:\r\n\r\n``` js\r\ndebug.vmodule(\"les=4\")\r\n```\r\n\r\nObserve log.\r\n\r\n#### Backtrace\r\n\r\nIs this necessary to demonstrate this particular issue?..\r\n\r\nHere's the relevant log output:\r\n\r\n```\r\nDEBUG[04-18|12:19:00] Light Ethereum peer connected            id=65d01089d2e42275 conn=dyndial    name=Geth/v1.7.3-stable/linux-amd64/go1.9.2\r\nDEBUG[04-18|12:19:01] Light Ethereum handshake failed          id=65d01089d2e42275 conn=dyndial    err=\"Genesis block mismatch - dde1c9209b315ed2 (!= d4e56740f876aef8)\"\r\nDEBUG[04-18|12:19:13] Light Ethereum peer connected            id=bbc3b33e4a8d6c04 conn=dyndial    name=Geth/v1.8.0-unstable-908faf8c/linux-amd64/go1.9.2\r\nDEBUG[04-18|12:19:13] Light Ethereum handshake failed          id=bbc3b33e4a8d6c04 conn=dyndial    err=\"Genesis block mismatch - a4293815e8a06b09 (!= d4e56740f876aef8)\"\r\nDEBUG[04-18|12:19:25] Light Ethereum peer connected            id=47692f11d9f82fd4 conn=dyndial    name=Geth/v1.8.3-unstable-933972d1/linux-amd64/go1.10\r\nDEBUG[04-18|12:19:25] Light Ethereum handshake failed          id=47692f11d9f82fd4 conn=dyndial    err=\"Genesis block mismatch - a373ec376981118b (!= d4e56740f876aef8)\"\r\nDEBUG[04-18|12:19:31] Light Ethereum peer connected            id=65d01089d2e42275 conn=dyndial    name=Geth/v1.7.3-stable/linux-amd64/go1.9.2\r\nDEBUG[04-18|12:19:31] Light Ethereum handshake failed          id=65d01089d2e42275 conn=dyndial    err=\"Genesis block mismatch - dde1c9209b315ed2 (!= d4e56740f876aef8)\"\r\nDEBUG[04-18|12:19:55] Light Ethereum peer connected            id=47692f11d9f82fd4 conn=dyndial    name=Geth/v1.8.3-unstable-933972d1/linux-amd64/go1.10\r\nDEBUG[04-18|12:19:55] Light Ethereum handshake failed          id=47692f11d9f82fd4 conn=dyndial    err=\"Genesis block mismatch - a373ec376981118b (!= d4e56740f876aef8)\"\r\nDEBUG[04-18|12:20:01] Light Ethereum peer connected            id=65d01089d2e42275 conn=dyndial    name=Geth/v1.7.3-stable/linux-amd64/go1.9.2\r\nDEBUG[04-18|12:20:02] Light Ethereum handshake failed          id=65d01089d2e42275 conn=dyndial    err=\"Genesis block mismatch - dde1c9209b315ed2 (!= d4e56740f876aef8)\"\r\nDEBUG[04-18|12:20:05] Light Ethereum peer connected            id=bbc3b33e4a8d6c04 conn=dyndial    name=Geth/v1.8.0-unstable-908faf8c/linux-amd64/go1.9.2\r\nDEBUG[04-18|12:20:05] Light Ethereum handshake failed          id=bbc3b33e4a8d6c04 conn=dyndial    err=\"Genesis block mismatch - a4293815e8a06b09 (!= d4e56740f876aef8)\"\r\nDEBUG[04-18|12:20:25] Light Ethereum peer connected            id=47692f11d9f82fd4 conn=dyndial    name=Geth/v1.8.3-unstable-933972d1/linux-amd64/go1.10\r\nDEBUG[04-18|12:20:26] Light Ethereum handshake failed          id=47692f11d9f82fd4 conn=dyndial    err=\"Genesis block mismatch - a373ec376981118b (!= d4e56740f876aef8)\"\r\nDEBUG[04-18|12:20:32] Light Ethereum peer connected            id=65d01089d2e42275 conn=dyndial    name=Geth/v1.7.3-stable/linux-amd64/go1.9.2\r\nDEBUG[04-18|12:20:32] Light Ethereum handshake failed          id=65d01089d2e42275 conn=dyndial    err=\"Genesis block mismatch - dde1c9209b315ed2 (!= d4e56740f876aef8)\"\r\n````\r\n\r\n(It's the same three peers.)",
  "closed_by": {
    "login": "karalabe",
    "id": 129561,
    "node_id": "MDQ6VXNlcjEyOTU2MQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/karalabe",
    "html_url": "https://github.com/karalabe",
    "followers_url": "https://api.github.com/users/karalabe/followers",
    "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
    "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
    "organizations_url": "https://api.github.com/users/karalabe/orgs",
    "repos_url": "https://api.github.com/users/karalabe/repos",
    "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
    "received_events_url": "https://api.github.com/users/karalabe/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16525/reactions",
    "total_count": 2,
    "+1": 2,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16525/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/382409214",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/16525#issuecomment-382409214",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16525",
    "id": 382409214,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MjQwOTIxNA==",
    "user": {
      "login": "veox",
      "id": 3036030,
      "node_id": "MDQ6VXNlcjMwMzYwMzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3036030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/veox",
      "html_url": "https://github.com/veox",
      "followers_url": "https://api.github.com/users/veox/followers",
      "following_url": "https://api.github.com/users/veox/following{/other_user}",
      "gists_url": "https://api.github.com/users/veox/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/veox/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/veox/subscriptions",
      "organizations_url": "https://api.github.com/users/veox/orgs",
      "repos_url": "https://api.github.com/users/veox/repos",
      "events_url": "https://api.github.com/users/veox/events{/privacy}",
      "received_events_url": "https://api.github.com/users/veox/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-18T14:36:08Z",
    "updated_at": "2018-04-18T18:46:36Z",
    "author_association": "CONTRIBUTOR",
    "body": "This _might_ actually be two issues collated:\r\n\r\n* not saving the ~~\"other-genesis\" information after a handshake failing for that reason~~ reason why a `dyndial` failed, and subsequently trying to re-dial other-genesis peers _as often_ as same-genesis ones;\r\n* trying to `dyndial` \"light\" peers in the first place (on my `lightserv`, near-100% of `les` peers are `inbound`).",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/382409214/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/382464162",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/16525#issuecomment-382464162",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16525",
    "id": 382464162,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MjQ2NDE2Mg==",
    "user": {
      "login": "ligi",
      "id": 111600,
      "node_id": "MDQ6VXNlcjExMTYwMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/111600?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ligi",
      "html_url": "https://github.com/ligi",
      "followers_url": "https://api.github.com/users/ligi/followers",
      "following_url": "https://api.github.com/users/ligi/following{/other_user}",
      "gists_url": "https://api.github.com/users/ligi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ligi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ligi/subscriptions",
      "organizations_url": "https://api.github.com/users/ligi/orgs",
      "repos_url": "https://api.github.com/users/ligi/repos",
      "events_url": "https://api.github.com/users/ligi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ligi/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-18T17:22:18Z",
    "updated_at": "2018-04-18T17:22:18Z",
    "author_association": "MEMBER",
    "body": "cc @zsfelfoldi ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/382464162/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/486587944",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/16525#issuecomment-486587944",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16525",
    "id": 486587944,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4NjU4Nzk0NA==",
    "user": {
      "login": "stale[bot]",
      "id": 26384082,
      "node_id": "MDM6Qm90MjYzODQwODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/1724?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stale%5Bbot%5D",
      "html_url": "https://github.com/apps/stale",
      "followers_url": "https://api.github.com/users/stale%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/stale%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stale%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/stale%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/stale%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/stale%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stale%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2019-04-25T09:17:46Z",
    "updated_at": "2019-04-25T09:17:46Z",
    "author_association": "NONE",
    "body": "This issue has been automatically marked as stale because it has not had recent activity. It will be closed if no further activity occurs. Thank you for your contributions.\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/486587944/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/486618855",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/16525#issuecomment-486618855",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16525",
    "id": 486618855,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4NjYxODg1NQ==",
    "user": {
      "login": "veox",
      "id": 3036030,
      "node_id": "MDQ6VXNlcjMwMzYwMzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3036030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/veox",
      "html_url": "https://github.com/veox",
      "followers_url": "https://api.github.com/users/veox/followers",
      "following_url": "https://api.github.com/users/veox/following{/other_user}",
      "gists_url": "https://api.github.com/users/veox/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/veox/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/veox/subscriptions",
      "organizations_url": "https://api.github.com/users/veox/orgs",
      "repos_url": "https://api.github.com/users/veox/repos",
      "events_url": "https://api.github.com/users/veox/events{/privacy}",
      "received_events_url": "https://api.github.com/users/veox/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-04-25T10:33:17Z",
    "updated_at": "2019-04-29T09:07:22Z",
    "author_association": "CONTRIBUTOR",
    "body": "In `trinity`, a peer database is maintained, and past failures - say, \"genesis mismatch\" - are recorded. Past failures add a \"timer\" to skip re-dialing that particular peer; the nature of the failure determines the timer's duration. Wrong network/failure [have the timer set to one day](https://github.com/ethereum/trinity/blob/31691c0d01c268d6b6ef7c6dcd53bd0502d5a810/p2p/persistence.py#L26).",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/486618855/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/487493911",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/16525#issuecomment-487493911",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16525",
    "id": 487493911,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4NzQ5MzkxMQ==",
    "user": {
      "login": "zsfelfoldi",
      "id": 9884311,
      "node_id": "MDQ6VXNlcjk4ODQzMTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9884311?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zsfelfoldi",
      "html_url": "https://github.com/zsfelfoldi",
      "followers_url": "https://api.github.com/users/zsfelfoldi/followers",
      "following_url": "https://api.github.com/users/zsfelfoldi/following{/other_user}",
      "gists_url": "https://api.github.com/users/zsfelfoldi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zsfelfoldi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zsfelfoldi/subscriptions",
      "organizations_url": "https://api.github.com/users/zsfelfoldi/orgs",
      "repos_url": "https://api.github.com/users/zsfelfoldi/repos",
      "events_url": "https://api.github.com/users/zsfelfoldi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zsfelfoldi/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-04-29T08:38:15Z",
    "updated_at": "2019-04-29T08:38:15Z",
    "author_association": "MEMBER",
    "body": "I am looking at it now. The \"server pool\" (the peer selection logic of clients) is indeed a bit dumb, one of its problems is that currently it does not distinguish between reasons of failure like \"no free slots at the moment\" and permanent incompatibility.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/487493911/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/487858364",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/16525#issuecomment-487858364",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16525",
    "id": 487858364,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4Nzg1ODM2NA==",
    "user": {
      "login": "zsfelfoldi",
      "id": 9884311,
      "node_id": "MDQ6VXNlcjk4ODQzMTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9884311?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zsfelfoldi",
      "html_url": "https://github.com/zsfelfoldi",
      "followers_url": "https://api.github.com/users/zsfelfoldi/followers",
      "following_url": "https://api.github.com/users/zsfelfoldi/following{/other_user}",
      "gists_url": "https://api.github.com/users/zsfelfoldi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zsfelfoldi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zsfelfoldi/subscriptions",
      "organizations_url": "https://api.github.com/users/zsfelfoldi/orgs",
      "repos_url": "https://api.github.com/users/zsfelfoldi/repos",
      "events_url": "https://api.github.com/users/zsfelfoldi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zsfelfoldi/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-04-30T08:17:39Z",
    "updated_at": "2019-04-30T08:17:39Z",
    "author_association": "MEMBER",
    "body": "This issue seems to be primarily an issue with the (soon to be replaced) experimental discv5 discovery. Sometimes somehow discv4 and discv5 peers get mixed up so ETH nodes sometimes try to dial random LES nodes too in the hope of establishing an ETH connection. This will be fixed by the new discv5 and I don't think it is a serious issue in itself. The fact that these peers are repeatedly hammered is bad but it is a general p2p issue unrelated to LES.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/487858364/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/492149116",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/16525#issuecomment-492149116",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16525",
    "id": 492149116,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5MjE0OTExNg==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-14T08:52:51Z",
    "updated_at": "2019-05-14T08:52:51Z",
    "author_association": "MEMBER",
    "body": "Based on the logs, these seem to originate from a full node dialing a light client (or rather dialing a random node and matching the les protocol capability). To fix this, we need to make the discovery protocol a bit smarter, which we're currently doing with ENRs. It's a known issue (same happens during finding testnet peers for example). There's no inherent issue, just a protocol limitation. Will be fixed soon-ish.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/492149116/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
