{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23009",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23009/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23009/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23009/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/23009",
  "id": 913572041,
  "node_id": "MDU6SXNzdWU5MTM1NzIwNDE=",
  "number": 23009,
  "title": " Transactions not broadcasted properly",
  "user": {
    "login": "ezdac",
    "id": 15726643,
    "node_id": "MDQ6VXNlcjE1NzI2NjQz",
    "avatar_url": "https://avatars.githubusercontent.com/u/15726643?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ezdac",
    "html_url": "https://github.com/ezdac",
    "followers_url": "https://api.github.com/users/ezdac/followers",
    "following_url": "https://api.github.com/users/ezdac/following{/other_user}",
    "gists_url": "https://api.github.com/users/ezdac/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ezdac/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ezdac/subscriptions",
    "organizations_url": "https://api.github.com/users/ezdac/orgs",
    "repos_url": "https://api.github.com/users/ezdac/repos",
    "events_url": "https://api.github.com/users/ezdac/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ezdac/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 72233650,
      "node_id": "MDU6TGFiZWw3MjIzMzY1MA==",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:bug",
      "name": "type:bug",
      "color": "FF5E5E",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2021-06-07T13:50:06Z",
  "updated_at": "2022-06-12T14:48:33Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nGeth version: `1.10.1`\r\nOS & Version: Linux\r\n\r\n#### Expected behaviour\r\nTransactions with a gas-price around the current average should get broadcasted properly to the network and \r\nshow up on the blockchain\r\n\r\n\r\n#### Actual behaviour\r\n\r\nSince Thursday we experienced a couple of situations where transactions did not get broadcast. We checked gas price and nonces and those checked out. Here are two example transactions: \r\n\r\n```json\r\n{\r\n  \"function_name\": \"approve\",\r\n  \"to_address\": \"0x255Aa6DF07540Cb5d3d297f0D0D4D84cb52bc8e6\",\r\n  \"args\": [\r\n    \"b'\\\\x1cb\\\\xfff\\\\xaf\\\\x8a\\\\xadA\\\\x00e\\\\xe0#8\\\\xf5\\\\xbf\\\\xbb\\\\xe2>\\\\x1f\\\\x10'\",\r\n    0\r\n  ],\r\n  \"kwargs\": {},\r\n  \"value\": 0,\r\n  \"token\": \"89109fbd-297f-44f7-8cb6-577ae55f38f7\",\r\n  \"node\": \"0x4852c63389da19DcCBEA405c4f9Da3A0104CffC4\",\r\n  \"from_address\": \"0x4852c63389da19DcCBEA405c4f9Da3A0104CffC4\",\r\n  \"eth_node\": \"<EthClient.GETH: 'geth'>\",\r\n  \"startgas\": 33993,\r\n  \"gas_price\": 19982666969,\r\n  \"nonce\": 20,\r\n  \"transaction_hash\": \"0x7493ae44db054c4acf28b2f1bfc1bcfe7f2d1513480744b4887713dfa1d12a42\",\r\n  \"chain_id\": 1,\r\n  \"event\": \"Transaction sent\",\r\n  \"logger\": \"raiden.network.rpc.client\",\r\n  \"level\": \"debug\",\r\n  \"timestamp\": \"2021-06-04 15:39:33.923385\"\r\n}\r\n{\r\n  \"function_name\": \"transfer\",\r\n  \"to_address\": \"0x6B175474E89094C44Da98b954EedeAC495271d0F\",\r\n  \"args\": [\r\n    \"0x3C17455Ad08170DE38cC7B17A3842f90C2490fAB\",\r\n    1e+19\r\n  ],\r\n  \"kwargs\": {},\r\n  \"value\": 0,\r\n  \"token\": \"be309aca-8d90-4877-883b-d9d0727c7160\",\r\n  \"node\": \"0x4852c63389da19DcCBEA405c4f9Da3A0104CffC4\",\r\n  \"from_address\": \"0x4852c63389da19DcCBEA405c4f9Da3A0104CffC4\",\r\n  \"eth_node\": \"<EthClient.GETH: 'geth'>\",\r\n  \"startgas\": 67347,\r\n  \"gas_price\": 19982666969,\r\n  \"nonce\": 21,\r\n  \"transaction_hash\": \"0x76ac1dcbf83805e7cf46015d74f4f45935884b3e4e7836cbbc1bc86b1d893e3a\",\r\n  \"chain_id\": 1,\r\n  \"event\": \"Transaction sent\",\r\n  \"logger\": \"raiden.network.rpc.client\",\r\n  \"level\": \"debug\",\r\n  \"timestamp\": \"2021-06-04 15:39:34.584075\"\r\n\r\n}\r\n```\r\n\r\nThey were posted last Friday but never showed up on etherscan:\r\n[0x7493ae44db054c4acf28b2f1bfc1bcfe7f2d1513480744b4887713dfa1d12a42](https://etherscan.io/tx/0x7493ae44db054c4acf28b2f1bfc1bcfe7f2d1513480744b4887713dfa1d12a42)\r\n[0x76ac1dcbf83805e7cf46015d74f4f45935884b3e4e7836cbbc1bc86b1d893e3a](https://etherscan.io/tx/0x76ac1dcbf83805e7cf46015d74f4f45935884b3e4e7836cbbc1bc86b1d893e3a)\r\n\r\n(note: the tx previous to these two were sent out by the same process for the same [sender](https://etherscan.io/address/0x4852c63389da19dccbea405c4f9da3a0104cffc4)).\r\n\r\n*So far we have*\r\n\r\n1) asserted, that the tx were seen by geth â€“ when creating more transactions for the same address, the nonce/transaction count queried from geth went up.\r\n2) inspected the mempool via the web3's txpool API (some time after the tx were handed to Geth) and the most noteworthy thing to see was that the txpool of our node is at the limits that were configured. We are using the default config for `txpool.*` parameters and had 1024 queued, 4096 pending tx's. We don't use `txpool.locals` whitelisting.\r\n\r\nDo you have any insight on what may be causing this? Any further hints on debugging this behavior?\r\n\r\n\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23009/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23009/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/857171066",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23009#issuecomment-857171066",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23009",
    "id": 857171066,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg1NzE3MTA2Ng==",
    "user": {
      "login": "afmsavage",
      "id": 29739267,
      "node_id": "MDQ6VXNlcjI5NzM5MjY3",
      "avatar_url": "https://avatars.githubusercontent.com/u/29739267?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/afmsavage",
      "html_url": "https://github.com/afmsavage",
      "followers_url": "https://api.github.com/users/afmsavage/followers",
      "following_url": "https://api.github.com/users/afmsavage/following{/other_user}",
      "gists_url": "https://api.github.com/users/afmsavage/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/afmsavage/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/afmsavage/subscriptions",
      "organizations_url": "https://api.github.com/users/afmsavage/orgs",
      "repos_url": "https://api.github.com/users/afmsavage/repos",
      "events_url": "https://api.github.com/users/afmsavage/events{/privacy}",
      "received_events_url": "https://api.github.com/users/afmsavage/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-08T21:29:31Z",
    "updated_at": "2021-06-11T22:59:38Z",
    "author_association": "NONE",
    "body": "Want to add in that I have seen something similar on my nodes which are on `1.10.2`, transactions apparently being broadcast by applications, nonce's incrementing, but nothing actually showing on chain.  Its been extremely difficult to troubleshoot so I'm just happy someone else is seeing something similar.  \r\n\r\nEdit: We are seeing this also on `1.10.3`",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/857171066/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/857221632",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23009#issuecomment-857221632",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23009",
    "id": 857221632,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg1NzIyMTYzMg==",
    "user": {
      "login": "pdyraga",
      "id": 4712360,
      "node_id": "MDQ6VXNlcjQ3MTIzNjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4712360?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pdyraga",
      "html_url": "https://github.com/pdyraga",
      "followers_url": "https://api.github.com/users/pdyraga/followers",
      "following_url": "https://api.github.com/users/pdyraga/following{/other_user}",
      "gists_url": "https://api.github.com/users/pdyraga/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pdyraga/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pdyraga/subscriptions",
      "organizations_url": "https://api.github.com/users/pdyraga/orgs",
      "repos_url": "https://api.github.com/users/pdyraga/repos",
      "events_url": "https://api.github.com/users/pdyraga/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pdyraga/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-08T22:27:35Z",
    "updated_at": "2021-06-08T22:27:35Z",
    "author_association": "CONTRIBUTOR",
    "body": "I was helping to debug this problem for two independent companies. One is running 1.10.1 and another 1.10.2, the timing is similar to what @ezdac reports. What is interesting, the transactions were getting gas-bumped and none of them was mined. For instance, `0x9881e61e74b8ca41ba7b25cc6ea4eba617c8a460eba8d13d8273c8427334379e` was sent with 766 Gwei while the average was ~20 Gwei at that time, so it does not look like something related to the gas price too low/the transaction sitting in the mempool for too long and getting evicted there for that reason.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/857221632/reactions",
      "total_count": 3,
      "+1": 3,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/859216349",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23009#issuecomment-859216349",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23009",
    "id": 859216349,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg1OTIxNjM0OQ==",
    "user": {
      "login": "yyj-zz",
      "id": 970970,
      "node_id": "MDQ6VXNlcjk3MDk3MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/970970?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yyj-zz",
      "html_url": "https://github.com/yyj-zz",
      "followers_url": "https://api.github.com/users/yyj-zz/followers",
      "following_url": "https://api.github.com/users/yyj-zz/following{/other_user}",
      "gists_url": "https://api.github.com/users/yyj-zz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yyj-zz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yyj-zz/subscriptions",
      "organizations_url": "https://api.github.com/users/yyj-zz/orgs",
      "repos_url": "https://api.github.com/users/yyj-zz/repos",
      "events_url": "https://api.github.com/users/yyj-zz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yyj-zz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-11T02:28:49Z",
    "updated_at": "2021-06-11T02:29:26Z",
    "author_association": "NONE",
    "body": "I have the same problem in the versions of 1.10.2 and 1.10.3. TXes are broadcasted to chain befor 6/6/2021 that version is 1.10.2,after than ,all TXes are not broadcated ,ether in version 1.10.2 or 1.10.3.\r\n\r\nHope someone can solve this problem!",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/859216349/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/859949771",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23009#issuecomment-859949771",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23009",
    "id": 859949771,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg1OTk0OTc3MQ==",
    "user": {
      "login": "afmsavage",
      "id": 29739267,
      "node_id": "MDQ6VXNlcjI5NzM5MjY3",
      "avatar_url": "https://avatars.githubusercontent.com/u/29739267?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/afmsavage",
      "html_url": "https://github.com/afmsavage",
      "followers_url": "https://api.github.com/users/afmsavage/followers",
      "following_url": "https://api.github.com/users/afmsavage/following{/other_user}",
      "gists_url": "https://api.github.com/users/afmsavage/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/afmsavage/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/afmsavage/subscriptions",
      "organizations_url": "https://api.github.com/users/afmsavage/orgs",
      "repos_url": "https://api.github.com/users/afmsavage/repos",
      "events_url": "https://api.github.com/users/afmsavage/events{/privacy}",
      "received_events_url": "https://api.github.com/users/afmsavage/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-11T23:05:02Z",
    "updated_at": "2021-06-11T23:05:02Z",
    "author_association": "NONE",
    "body": "@pdyraga what namespaces do you have enabled on your node(s)?  Or if possible, can you share your geth run command/config so I can compare with ours?  \r\n\r\nHere's ours:\r\n```shell\r\nexec geth \\\r\n      --syncmode \"fast\" \\\r\n      --gcmode \"full\" \\\r\n      --http \\\r\n      --http.addr 0.0.0.0 \\\r\n      --http.corsdomain \"*\" \\\r\n      --http.api eth,web3,net \\\r\n      --http.port \"8545\" \\\r\n      --http.vhosts '*' \\\r\n      --maxpeers \"50\" \\\r\n      --ws \\\r\n      --ws.addr 0.0.0.0 \\\r\n      --ws.origins \"*\" \\\r\n      --ws.port \"8545\" \\\r\n      --metrics \\\r\n      --pprof \\\r\n      --pprof.addr 0.0.0.0 \\\r\n      --pprof.port \"6060\" \\\r\n      --datadir /ethereum/ \\\r\n      --cache \"4096\" \\\r\n      --networkid \"1\" \\\r\n      --mainnet \\\r\n      --verbosity \"4\" \\\r\n      --snapshot=false\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/859949771/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/894240319",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23009#issuecomment-894240319",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23009",
    "id": 894240319,
    "node_id": "IC_kwDOAOvK9841TQY_",
    "user": {
      "login": "bogdangainusa",
      "id": 13803843,
      "node_id": "MDQ6VXNlcjEzODAzODQz",
      "avatar_url": "https://avatars.githubusercontent.com/u/13803843?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bogdangainusa",
      "html_url": "https://github.com/bogdangainusa",
      "followers_url": "https://api.github.com/users/bogdangainusa/followers",
      "following_url": "https://api.github.com/users/bogdangainusa/following{/other_user}",
      "gists_url": "https://api.github.com/users/bogdangainusa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bogdangainusa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bogdangainusa/subscriptions",
      "organizations_url": "https://api.github.com/users/bogdangainusa/orgs",
      "repos_url": "https://api.github.com/users/bogdangainusa/repos",
      "events_url": "https://api.github.com/users/bogdangainusa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bogdangainusa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-06T12:55:45Z",
    "updated_at": "2021-08-06T12:55:45Z",
    "author_association": "NONE",
    "body": "Having the same problem with geth version v.1.10.6. \r\nThis problem was reported by me for more than 2 years, stil lwaiting for a solution ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/894240319/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
