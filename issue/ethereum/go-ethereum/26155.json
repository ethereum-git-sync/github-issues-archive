{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26155",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26155/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26155/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26155/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/26155",
  "id": 1444698181,
  "node_id": "I_kwDOAOvK985WHFhF",
  "number": 26155,
  "title": "Params cannot be nil because it fails in `argument.go` file inside `abi` pkg. ",
  "user": {
    "login": "nicobarra",
    "id": 71539596,
    "node_id": "MDQ6VXNlcjcxNTM5NTk2",
    "avatar_url": "https://avatars.githubusercontent.com/u/71539596?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/nicobarra",
    "html_url": "https://github.com/nicobarra",
    "followers_url": "https://api.github.com/users/nicobarra/followers",
    "following_url": "https://api.github.com/users/nicobarra/following{/other_user}",
    "gists_url": "https://api.github.com/users/nicobarra/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/nicobarra/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/nicobarra/subscriptions",
    "organizations_url": "https://api.github.com/users/nicobarra/orgs",
    "repos_url": "https://api.github.com/users/nicobarra/repos",
    "events_url": "https://api.github.com/users/nicobarra/events{/privacy}",
    "received_events_url": "https://api.github.com/users/nicobarra/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 72233650,
      "node_id": "MDU6TGFiZWw3MjIzMzY1MA==",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:bug",
      "name": "type:bug",
      "color": "FF5E5E",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 0,
  "created_at": "2022-11-10T23:22:52Z",
  "updated_at": "2022-11-11T01:29:39Z",
  "closed_at": "2022-11-11T01:29:14Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nGeth version: `geth version`\r\nCL client & version: e.g. lighthouse/nimbus/prysm@v1.0.0\r\nOS & Version: Windows/Linux/OSX\r\nCommit hash : (if `develop`)\r\n\r\n#### Expected behaviour\r\nit should succeed if a transaction executed over a smart contract method has `nil` as params argument.\r\n\r\n#### Actual behaviour\r\nIt fails if the `params` of type `interface{}` is `nil` or is an empty interface.\r\nBecause in the `abi.Pack()` func the params argument is treated as an array. And if the args array has only a nil value, the len of it is 1. But if the abi of the smart contract indicates that the smart contract function doesn't have any argument, the len of the array is 0. \r\nSo it fails with the error \"`argument count mismatch: got 1 for 0`\".\r\n\r\n#### Steps to reproduce the behaviour\r\n\r\nI think it should be a conditional that gets if the value inside the array index is nil, it shouldn't count for the len.\r\n\r\n#### Backtrace\r\n\r\n````\r\n// The func is inside `arguments.go` file\r\nfunc (arguments Arguments) Pack(args ...interface{}) ([]byte, error) {\r\n\t// Make sure arguments match up and pack them\r\n\tabiArgs := arguments\r\n\tif len(args) != len(abiArgs) {\r\n\t\treturn nil, fmt.Errorf(\"argument count mismatch: got %d for %d\", len(args), len(abiArgs))\r\n\t}\r\n        ...\r\n````",
  "closed_by": {
    "login": "nicobarra",
    "id": 71539596,
    "node_id": "MDQ6VXNlcjcxNTM5NTk2",
    "avatar_url": "https://avatars.githubusercontent.com/u/71539596?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/nicobarra",
    "html_url": "https://github.com/nicobarra",
    "followers_url": "https://api.github.com/users/nicobarra/followers",
    "following_url": "https://api.github.com/users/nicobarra/following{/other_user}",
    "gists_url": "https://api.github.com/users/nicobarra/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/nicobarra/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/nicobarra/subscriptions",
    "organizations_url": "https://api.github.com/users/nicobarra/orgs",
    "repos_url": "https://api.github.com/users/nicobarra/repos",
    "events_url": "https://api.github.com/users/nicobarra/events{/privacy}",
    "received_events_url": "https://api.github.com/users/nicobarra/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26155/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26155/timeline",
  "performed_via_github_app": null,
  "state_reason": "not_planned"
}
[

]
