{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22384",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22384/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22384/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22384/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/22384",
  "id": 817276915,
  "node_id": "MDU6SXNzdWU4MTcyNzY5MTU=",
  "number": 22384,
  "title": "Geth Node Sync: best metrics to track progress of state trie download?",
  "user": {
    "login": "ernopp",
    "id": 2433131,
    "node_id": "MDQ6VXNlcjI0MzMxMzE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2433131?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ernopp",
    "html_url": "https://github.com/ernopp",
    "followers_url": "https://api.github.com/users/ernopp/followers",
    "following_url": "https://api.github.com/users/ernopp/following{/other_user}",
    "gists_url": "https://api.github.com/users/ernopp/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ernopp/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ernopp/subscriptions",
    "organizations_url": "https://api.github.com/users/ernopp/orgs",
    "repos_url": "https://api.github.com/users/ernopp/repos",
    "events_url": "https://api.github.com/users/ernopp/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ernopp/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 268304226,
      "node_id": "MDU6TGFiZWwyNjgzMDQyMjY=",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:docs",
      "name": "type:docs",
      "color": "fef2c0",
      "default": false,
      "description": null
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2021-02-26T11:26:59Z",
  "updated_at": "2022-08-21T22:22:39Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Hey everyone,\r\n\r\nFirst time setting up a full node with Geth and was hoping someone could help me better track progress. \r\n\r\nHave been running for about 8 days and I believe geth is currently doing the \"state sync\" \r\n\r\n**1) Based on the details and performance below, do you think the sync will ever complete? Or I need to change some settings / up the machine specs?**\r\n\r\n**2) Do you have any recommendations on metrics to track the progress of the sync? I also have the InfluxDb+Grafana setup described [here][1]**\r\n\r\nMany thanks\r\n\r\n----------\r\n\r\n\r\n## Geth Settings\r\n\r\n```\r\n/usr/bin/sudo /usr/bin/geth --rpc --rpcaddr localhost --rpcport 8545 --datadir /ssd/ethereum --nousb --cache=8184 --syncmode fast --maxpeers 2000 --metrics --metrics.influxdb --metrics.influxdb.endpoint \"http://0.0.0.0:8086\" --metrics.influxdb.username \"$U\" --metrics.influxdb.password \"$PW\"\r\n```\r\n\r\n## Machine Specs\r\n\r\nGCP e2-standard-2 (2 vCPUs, 8 GB memory)\r\n\r\n500GB SSD drive\r\n\r\n## Machine Performance\r\n\r\n[![enter image description here][2]][2]\r\n\r\n## eth.syncing output\r\n\r\n```\r\n{\r\n  currentBlock: 11932371,\r\n  highestBlock: 11932458,\r\n  knownStates: 733106883,\r\n  pulledStates: 733044518,\r\n  startingBlock: 11928734\r\n}\r\n```\r\n\r\n## Data Stored\r\n\r\n```\r\n> sudo du -H /ssd\r\n28      /ssd/beacon/beaconchaindata\r\n40      /ssd/beacon\r\n179157676       /ssd/ethereum/geth/chaindata/ancient\r\n340470580       /ssd/ethereum/geth/chaindata\r\n201612  /ssd/ethereum/geth/ethash\r\n4664    /ssd/ethereum/geth/nodes\r\n709976  /ssd/ethereum/geth/triecache\r\n341386840       /ssd/ethereum/geth\r\n8       /ssd/ethereum/keystore\r\n341386856       /ssd/ethereum\r\n341386900       /ssd\r\n```\r\n\r\n## Latest logs sample\r\n\r\n```\r\nFeb 26 11:06:49 eth-node sudo[18855]: INFO [02-26|11:06:49.022] Initializing fast sync bloom             items=291095016 errorrate=0.000 elapsed=25m47.374s\r\nFeb 26 11:06:57 eth-node sudo[18855]: INFO [02-26|11:06:57.022] Initializing fast sync bloom             items=291116651 errorrate=0.000 elapsed=25m55.375s\r\nFeb 26 11:06:59 eth-node sudo[18855]: WARN [02-26|11:06:59.659] Dropping unsynced node during fast sync  id=9f9bb99ec1018c88 conn=inbound addr=222.190.117.130:52684 type=Geth/v1.9.25-stable-...\r\nFeb 26 11:07:05 eth-node sudo[18855]: INFO [02-26|11:07:05.023] Initializing fast sync bloom             items=291138086 errorrate=0.000 elapsed=26m3.375s\r\nFeb 26 11:07:06 eth-node sudo[18855]: INFO [02-26|11:07:06.240] Imported new block headers               count=1    elapsed=12.311ms    number=11932451 hash=\"a37c27…bf08e3\" age=1m37s\r\nFeb 26 11:07:07 eth-node sudo[18855]: INFO [02-26|11:07:07.108] Downloader queue stats                   receiptTasks=0    blockTasks=0    itemSize=201.23KiB throttle=326\r\nFeb 26 11:07:13 eth-node sudo[18855]: INFO [02-26|11:07:13.023] Initializing fast sync bloom             items=291157306 errorrate=0.000 elapsed=26m11.375s\r\nFeb 26 11:07:19 eth-node sudo[18855]: WARN [02-26|11:07:19.407] Checkpoint challenge timed out, dropping id=e4c869f857022b98 conn=inbound addr=47.94.10.24:42520     type=Geth/v1.9.19-stable-...\r\nFeb 26 11:07:21 eth-node sudo[18855]: INFO [02-26|11:07:21.023] Initializing fast sync bloom             items=291177218 errorrate=0.000 elapsed=26m19.375s\r\nFeb 26 11:07:26 eth-node sudo[18855]: INFO [02-26|11:07:26.674] Imported new state entries               count=384  elapsed=\"6.344µs\"   processed=733043119 pending=39982 trieretry=0   coderetry=0 duplicate=0 unexpected=41\r\nFeb 26 11:07:29 eth-node sudo[18855]: INFO [02-26|11:07:29.035] Initializing fast sync bloom             items=291194474 errorrate=0.000 elapsed=26m27.387s\r\nFeb 26 11:07:30 eth-node sudo[18855]: WARN [02-26|11:07:30.009] Dropping unsynced node during fast sync  id=97e32697f36f3c0c conn=dyndial addr=135.181.113.114:30303 type=Geth/v1.9.6-unstable...\r\nFeb 26 11:07:37 eth-node sudo[18855]: INFO [02-26|11:07:37.047] Initializing fast sync bloom             items=291213828 errorrate=0.000 elapsed=26m35.400s\r\nFeb 26 11:07:45 eth-node sudo[18855]: INFO [02-26|11:07:45.048] Initializing fast sync bloom             items=291233936 errorrate=0.000 elapsed=26m43.400s\r\nFeb 26 11:07:52 eth-node sudo[18855]: INFO [02-26|11:07:52.194] Imported new state entries               count=247  elapsed=\"4.277µs\"   processed=733043366 pending=43934 trieretry=0   coderetry=0 duplicate=0 unexpected=41\r\nFeb 26 11:07:53 eth-node sudo[18855]: INFO [02-26|11:07:53.049] Initializing fast sync bloom             items=291254043 errorrate=0.000 elapsed=26m51.401s\r\nFeb 26 11:08:01 eth-node sudo[18855]: INFO [02-26|11:08:01.049] Initializing fast sync bloom             items=291277819 errorrate=0.000 elapsed=26m59.402s\r\nFeb 26 11:08:09 eth-node sudo[18855]: INFO [02-26|11:08:09.050] Initializing fast sync bloom             items=291299359 errorrate=0.000 elapsed=27m7.402s\r\nFeb 26 11:08:11 eth-node sudo[18855]: INFO [02-26|11:08:11.864] Imported new block headers               count=1    elapsed=15.773ms    number=11932452 hash=\"3aabcb…9a783b\" age=2m11s\r\nFeb 26 11:08:12 eth-node sudo[18855]: INFO [02-26|11:08:12.277] Downloader queue stats                   receiptTasks=0    blockTasks=0    itemSize=201.26KiB throttle=326\r\nFeb 26 11:08:16 eth-node sudo[18855]: WARN [02-26|11:08:16.116] Dropping unsynced node during fast sync  id=3049cd81df1f6e5d conn=inbound addr=176.9.143.74:40158    type=Geth/v1.9.25-stable-...\r\nFeb 26 11:08:17 eth-node sudo[18855]: INFO [02-26|11:08:17.051] Initializing fast sync bloom             items=291320239 errorrate=0.000 elapsed=27m15.403s\r\nFeb 26 11:08:19 eth-node sudo[18855]: WARN [02-26|11:08:19.653] Dropping unsynced node during fast sync  id=309e62d9c2fa98ba conn=inbound addr=159.117.150.121:40290 type=Geth/v1.9.9-stable-0...\r\nFeb 26 11:08:21 eth-node sudo[18855]: INFO [02-26|11:08:21.436] Imported new block headers               count=1    elapsed=37.423ms    number=11932453 hash=\"45e5ee…36485a\" age=2m11s/v3.0.0-...\r\nFeb 26 11:08:21 eth-node sudo[18855]: WARN [02-26|11:08:21.799] Checkpoint challenge timed out, dropping id=95069edb97397bee conn=inbound addr=18.200.194.248:45006  type=Geth/v1.9.25-stable-...\r\nFeb 26 11:08:24 eth-node sudo[18855]: WARN [02-26|11:08:24.636] Dropping unsynced node during fast sync  id=8948548c76d25eb4 conn=dyndial addr=71.178.43.135:30302   type=Geth/v1.9.25-stable-...=0 duplicate=0 unexpected=41\r\nFeb 26 11:08:25 eth-node sudo[18855]: INFO [02-26|11:08:25.075] Initializing fast sync bloom             items=291338275 errorrate=0.000 elapsed=27m23.427s\r\nFeb 26 11:01:42 eth-node sudo[18855]: INFO [02-26|11:01:42.244] Imported new block headers               count=1    elapsed=12.403ms    number=11932431 hash=\"1ef3ce…09d21c\"\r\nFeb 26 11:01:43 eth-node sudo[18855]: INFO [02-26|11:01:43.144] Downloader queue stats                   receiptTasks=0    blockTasks=0    itemSize=215.80KiB t\r\n```\r\n\r\n  [1]: https://ethereum.org/vi/developers/tutorials/monitoring-geth-with-influxdb-and-grafana/\r\n  [2]: https://i.stack.imgur.com/KEvqN.png",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22384/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22384/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/788925011",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22384#issuecomment-788925011",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22384",
    "id": 788925011,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4ODkyNTAxMQ==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-02T13:53:40Z",
    "updated_at": "2021-03-02T13:53:40Z",
    "author_association": "MEMBER",
    "body": "Unfortunately there's no way to say in advance how many trie nodes there are, it's an explorative procedure that keeps expanding until it is done. Geth v1.10.0 will ship snap sync that does have support for progress monitoring (for the most part).\r\n\r\nIn your post, one particular thing is the 2000 peer limit. Having that many peers will be quite detrimental to sync as your node will keep requesting data from all of them, and if a large number of them are \"junk\" peers, they will just waste resources without giving you useful data. I don't think there's a meaningful reason to raise the peer count above the defaults.\r\n\r\nAFAIK GCP e2-sandard-2 doesn't have SSD attached. Using an HDD will definitely bleed out. Attaching a remote SSD (if possible?) will probably have a very large IO latency and IOPS limitation so you might end up with a fairly low performance.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/788925011/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/790574010",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22384#issuecomment-790574010",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22384",
    "id": 790574010,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc5MDU3NDAxMA==",
    "user": {
      "login": "Octave-0x",
      "id": 19383064,
      "node_id": "MDQ6VXNlcjE5MzgzMDY0",
      "avatar_url": "https://avatars.githubusercontent.com/u/19383064?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Octave-0x",
      "html_url": "https://github.com/Octave-0x",
      "followers_url": "https://api.github.com/users/Octave-0x/followers",
      "following_url": "https://api.github.com/users/Octave-0x/following{/other_user}",
      "gists_url": "https://api.github.com/users/Octave-0x/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Octave-0x/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Octave-0x/subscriptions",
      "organizations_url": "https://api.github.com/users/Octave-0x/orgs",
      "repos_url": "https://api.github.com/users/Octave-0x/repos",
      "events_url": "https://api.github.com/users/Octave-0x/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Octave-0x/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-04T12:12:23Z",
    "updated_at": "2021-03-04T12:12:23Z",
    "author_association": "NONE",
    "body": "Thanks @karalabe for the great suggestion.\r\n\r\n1. Are the below set of monitoring metrics those you would expect during syncing please? We are now 2+ weeks into it, don't seem CPU/Disk/RAM bound, and can't find the bottleneck in our sync. \r\n\r\n2. Is it expected for disk writes to be so low? We're also concerned at the fact the States count is incrementing so slowly (730m -> 760m in the last week).\r\n\r\n### Machine Specs\r\n(admittedly this is a little skinny)\r\n> GCP e2-standard-2 (2 vCPUs, 8 GB memory)\r\n> 500GB SSD drive attached (15,000 IOPS / 240MB/s read/write)\r\n\r\n### Geth Parameters\r\n```\r\n/usr/bin/sudo /usr/bin/geth --rpc --rpcaddr localhost --rpcport 8545 --datadir /ssd/ethereum --nousb --cache=12278 --syncmode fast --metrics --metrics.influxdb --metrics.influxdb.endpoint \"http://0.0.0.0:8086\" --metrics.influxdb.username \"geth\" --metrics.influxdb.password \"XXX\"\r\n```\r\n\r\n### Vps Monitoring\r\n![image](https://user-images.githubusercontent.com/19383064/109956085-224bb100-7cdb-11eb-876a-21ab5cac329f.png)\r\n\r\n### Syncing status\r\n```\r\n> web3.eth.syncing\r\n{\r\n  currentBlock: 11971299,\r\n  highestBlock: 11971404,\r\n  knownStates: 760303367,\r\n  pulledStates: 760174176,\r\n  startingBlock: 11959099\r\n}\r\n> web3.net.peerCount\r\n50\r\n```\r\n\r\n### SSD Read/Latency/IOPS tests\r\n**Read**\r\n```\r\n>sudo hdparm -Ttv /dev/sdb1\r\n`>dev/sdb1:\r\nSG_IO: bad/missing sense data, sb[]:  70 00 05 00 00 00 00 0a 00 00 00 00 20 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00\r\n Timing cached reads:   13376 MB in  1.99 seconds = 6726.19 MB/sec\r\n Timing buffered disk reads: 726 MB in  3.00 seconds = 241.67 MB/sec\r\n```\r\n**Latency**\r\n```\r\nsudo ioping /dev/sdb1\r\n4 KiB from /dev/sdb1 (block device 500.0 GiB): request=1 time=316 us\r\n4 KiB from /dev/sdb1 (block device 500.0 GiB): request=2 time=214 us\r\n4 KiB from /dev/sdb1 (block device 500.0 GiB): request=3 time=1.02 ms\r\n4 KiB from /dev/sdb1 (block device 500.0 GiB): request=4 time=528 us\r\n4 KiB from /dev/sdb1 (block device 500.0 GiB): request=5 time=215 us\r\n4 KiB from /dev/sdb1 (block device 500.0 GiB): request=6 time=575 us\r\n4 KiB from /dev/sdb1 (block device 500.0 GiB): request=7 time=611 us\r\n4 KiB from /dev/sdb1 (block device 500.0 GiB): request=8 time=761 us\r\n4 KiB from /dev/sdb1 (block device 500.0 GiB): request=9 time=145 us\r\n^C\r\n--- /dev/sdb1 (block device 500.0 GiB) ioping statistics ---\r\n9 requests completed in 8.96 s, 2.05 k iops, 8.02 MiB/s\r\nmin/avg/max/mdev = 145 us / 486 us / 1.02 ms / 273 us\r\n```\r\n**IOPS**\r\n```\r\nsudo fio --name=random-write --ioengine=posixaio --rw=randwrite --bs=4k --numjobs=1 --size=4g --iodepth=1 --runtime=60 --time_based --end_fsync=1\r\nrandom-write: (g=0): rw=randwrite, bs=4K-4K/4K-4K/4K-4K, ioengine=posixaio, iodepth=1\r\nfio-2.2.10\r\nStarting 1 process\r\nrandom-write: Laying out IO file(s) (1 file(s) / 4096MB)\r\nJobs: 1 (f=1): [F(1)] [100.0% done] [0KB/0KB/0KB /s] [0/0/0 iops] [eta 00m:00s]\r\nrandom-write: (groupid=0, jobs=1): err= 0: pid=4773: Thu Mar  4 11:47:15 2021\r\n  write: io=928692KB, bw=9784.5KB/s, iops=2446, runt= 94919msec\r\n```\r\n\r\n### Log Output\r\n ```\r\nMar 04 12:07:27 eth-node sudo[5509]: INFO [03-04|12:07:27.000] Imported new state entries               count=384  elapsed=\"4.42µs\"    processed=760466124 pending=174556 trieretry=0   coderetry=0 duplicate=0 unexpected=20952\r\nMar 04 12:07:32 eth-node sudo[5509]: INFO [03-04|12:07:32.398] Imported new state entries               count=384  elapsed=\"248.761µs\" processed=760466508 pending=175844 trieretry=0   coderetry=0 duplicate=0 unexpected=20952\r\nMar 04 12:07:34 eth-node sudo[5509]: INFO [03-04|12:07:34.541] Imported new block headers               count=1    elapsed=13.565ms    number=11971679 hash=\"83ab70…9b1d76\"\r\nMar 04 12:07:37 eth-node sudo[5509]: INFO [03-04|12:07:37.288] Imported new state entries               count=384  elapsed=\"535.156µs\" processed=760466892 pending=176850 trieretry=0   coderetry=0 duplicate=0 unexpected=20952\r\nMar 04 12:07:41 eth-node sudo[5509]: INFO [03-04|12:07:41.833] Imported new state entries               count=384  elapsed=\"282.606µs\" processed=760467276 pending=178562 trieretry=0   coderetry=0 duplicate=0 unexpected=20952\r\nMar 04 12:07:43 eth-node sudo[5509]: INFO [03-04|12:07:43.709] Imported new block headers               count=2    elapsed=10.507ms    number=11971681 hash=\"25fd63…23e1ee\"\r\nMar 04 12:07:47 eth-node sudo[5509]: INFO [03-04|12:07:47.739] Imported new state entries               count=384  elapsed=\"256.671µs\" processed=760467660 pending=180108 trieretry=0   coderetry=0 duplicate=0 unexpected=20952\r\nMar 04 12:07:47 eth-node sudo[5509]: INFO [03-04|12:07:47.742] Imported new state entries               count=0    elapsed=\"15.281µs\"  processed=760467660 pending=180108 trieretry=6   coderetry=0 duplicate=0 unexpected=20954\r\nMar 04 12:07:51 eth-node sudo[5509]: INFO [03-04|12:07:51.617] Imported new state entries               count=384  elapsed=\"366.64µs\"  processed=760468044 pending=182114 trieretry=2   coderetry=0 duplicate=0 unexpected=20954\r\nMar 04 12:07:56 eth-node sudo[5509]: INFO [03-04|12:07:56.210] Imported new state entries               count=384  elapsed=\"88.725µs\"  processed=760468428 pending=183708 trieretry=4   coderetry=0 duplicate=0 unexpected=20954\r\nMar 04 12:08:01 eth-node sudo[5509]: INFO [03-04|12:08:01.004] Imported new state entries               count=384  elapsed=\"405.227µs\" processed=760468812 pending=185378 trieretry=0   coderetry=0 duplicate=0 unexpected=20954\r\nMar 04 12:08:04 eth-node sudo[5509]: INFO [03-04|12:08:04.631] Imported new state entries               count=384  elapsed=\"195.561µs\" processed=760469196 pending=187062 trieretry=2   coderetry=0 duplicate=0 unexpected=20954\r\nMar 04 12:08:09 eth-node sudo[5509]: INFO [03-04|12:08:09.812] Imported new state entries               count=384  elapsed=\"121.964µs\" processed=760469580 pending=188486 trieretry=0   coderetry=0 duplicate=0 unexpected=20954\r\n```\r\n\r\n\r\n\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/790574010/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/904967196",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22384#issuecomment-904967196",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22384",
    "id": 904967196,
    "node_id": "IC_kwDOAOvK98418LQc",
    "user": {
      "login": "xanoni",
      "id": 77220130,
      "node_id": "MDQ6VXNlcjc3MjIwMTMw",
      "avatar_url": "https://avatars.githubusercontent.com/u/77220130?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/xanoni",
      "html_url": "https://github.com/xanoni",
      "followers_url": "https://api.github.com/users/xanoni/followers",
      "following_url": "https://api.github.com/users/xanoni/following{/other_user}",
      "gists_url": "https://api.github.com/users/xanoni/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/xanoni/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/xanoni/subscriptions",
      "organizations_url": "https://api.github.com/users/xanoni/orgs",
      "repos_url": "https://api.github.com/users/xanoni/repos",
      "events_url": "https://api.github.com/users/xanoni/events{/privacy}",
      "received_events_url": "https://api.github.com/users/xanoni/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-24T20:54:45Z",
    "updated_at": "2021-08-24T20:54:45Z",
    "author_association": "NONE",
    "body": "Also asking here as well, because there's been no indication in the other threads, yet ... I've read the FAQ and I understand that the node doesn't know by itself how far it has advanced in the sync process (except for the initial state sync phase, where it shows a percentage completion indicator). \r\n\r\nHowever, can one of the metrics from the log files be used to estimate overall progress if one also has the log files of a different node that recently completed syncing? Is there some metric that could be compared across the logs?\r\n\r\nWould this differ between Snap Sync and Fast Sync?\r\n\r\nThis would help people understand if Snap Sync is broken (which it seems to be for many here), or if it's just super slow for whatever reason.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/904967196/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/999176133",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22384#issuecomment-999176133",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22384",
    "id": 999176133,
    "node_id": "IC_kwDOAOvK9847jjfF",
    "user": {
      "login": "willianpaixao",
      "id": 201236,
      "node_id": "MDQ6VXNlcjIwMTIzNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/201236?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/willianpaixao",
      "html_url": "https://github.com/willianpaixao",
      "followers_url": "https://api.github.com/users/willianpaixao/followers",
      "following_url": "https://api.github.com/users/willianpaixao/following{/other_user}",
      "gists_url": "https://api.github.com/users/willianpaixao/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/willianpaixao/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/willianpaixao/subscriptions",
      "organizations_url": "https://api.github.com/users/willianpaixao/orgs",
      "repos_url": "https://api.github.com/users/willianpaixao/repos",
      "events_url": "https://api.github.com/users/willianpaixao/events{/privacy}",
      "received_events_url": "https://api.github.com/users/willianpaixao/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-12-22T00:03:44Z",
    "updated_at": "2021-12-22T00:03:44Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hey @karalabe,\r\n\r\nnow that Geth v1.10.x is released and Snap syncs are present, would you point us to the metric that answers this issue?\r\nI went to the metric page but it's many hundreds of lines long and I couldn't find it.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/999176133/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1218045165",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22384#issuecomment-1218045165",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22384",
    "id": 1218045165,
    "node_id": "IC_kwDOAOvK985ImeTt",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-17T13:55:56Z",
    "updated_at": "2022-08-17T13:55:56Z",
    "author_association": "NONE",
    "body": "I know of at least two exporters that call the RPC API in order to provide syncing metrics:\r\n\r\n* https://github.com/status-im/geth_exporter\r\n* https://github.com/samcm/ethereum-metrics-exporter.git\r\n\r\nWhy the Geth metrics do not provide a metric for `currentBlock` and `highestBlock` from `eth_syncing` is beyond me.\r\n\r\nIt seems like such an obvious thing to add to the available metrics.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1218045165/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1221631678",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22384#issuecomment-1221631678",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22384",
    "id": 1221631678,
    "node_id": "IC_kwDOAOvK985I0J6-",
    "user": {
      "login": "willianpaixao",
      "id": 201236,
      "node_id": "MDQ6VXNlcjIwMTIzNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/201236?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/willianpaixao",
      "html_url": "https://github.com/willianpaixao",
      "followers_url": "https://api.github.com/users/willianpaixao/followers",
      "following_url": "https://api.github.com/users/willianpaixao/following{/other_user}",
      "gists_url": "https://api.github.com/users/willianpaixao/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/willianpaixao/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/willianpaixao/subscriptions",
      "organizations_url": "https://api.github.com/users/willianpaixao/orgs",
      "repos_url": "https://api.github.com/users/willianpaixao/repos",
      "events_url": "https://api.github.com/users/willianpaixao/events{/privacy}",
      "received_events_url": "https://api.github.com/users/willianpaixao/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-21T22:22:39Z",
    "updated_at": "2022-08-21T22:22:39Z",
    "author_association": "CONTRIBUTOR",
    "body": "I personally use [this](https://grafana.com/grafana/dashboards/15750-geth-server/) one.\r\n\r\nThis issue still persists and together with #25043 would be a great improvement to the monitoring of Geth nodes.\r\n\r\nI work in a Node as Service provider and monitoring of Geth processes is surely the biggest part our in-house tooling. Better monitoring out-of-the-box is long needed.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1221631678/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
