{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/28409",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/28409/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/28409/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/28409/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/28409",
  "id": 1958354616,
  "node_id": "I_kwDOAOvK9850uh64",
  "number": 28409,
  "title": "geth v1.13.3 pebble db data issue",
  "user": {
    "login": "DaraDoyoung",
    "id": 95335707,
    "node_id": "U_kgDOBa61Gw",
    "avatar_url": "https://avatars.githubusercontent.com/u/95335707?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/DaraDoyoung",
    "html_url": "https://github.com/DaraDoyoung",
    "followers_url": "https://api.github.com/users/DaraDoyoung/followers",
    "following_url": "https://api.github.com/users/DaraDoyoung/following{/other_user}",
    "gists_url": "https://api.github.com/users/DaraDoyoung/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/DaraDoyoung/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/DaraDoyoung/subscriptions",
    "organizations_url": "https://api.github.com/users/DaraDoyoung/orgs",
    "repos_url": "https://api.github.com/users/DaraDoyoung/repos",
    "events_url": "https://api.github.com/users/DaraDoyoung/events{/privacy}",
    "received_events_url": "https://api.github.com/users/DaraDoyoung/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 72233650,
      "node_id": "MDU6TGFiZWw3MjIzMzY1MA==",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:bug",
      "name": "type:bug",
      "color": "FF5E5E",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 0,
  "created_at": "2023-10-24T02:22:54Z",
  "updated_at": "2023-10-24T02:25:20Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nGeth version: \r\n`Geth\r\nVersion: 1.13.3-unstable\r\nGit Commit: 0004c6b229b787281760b14fb9460ffd9c2496f1\r\nGit Commit Date: 20231011\r\nArchitecture: arm64\r\nGo Version: go1.20.7\r\nOperating System: linux\r\nGOPATH=\r\nGOROOT=`\r\n\r\nCL client & version: `Lighthouse v4.5.0-441fc16`\r\n\r\nOS & Version: Linux\r\n\r\nBehavior:\r\ngeth run script:\r\n```\r\nnohup geth \\\r\n  --snapshot=false \\\r\n  --datadir ~/data \\\r\n  --syncmode full \\\r\n  --gcmode archive \\\r\n  --holesky \\\r\n  --maxpeers 50 \\\r\n  --nousb \\\r\n  --cache 8192  \\\r\n  --http --http.addr 0.0.0.0 \\\r\n  --http.api='eth,web3,net,debug' \\\r\n  --http.corsdomain='*' \\\r\n  --http.vhosts='*' \\\r\n  --ws \\\r\n  --ws.addr 0.0.0.0 \\\r\n  --ws.api='eth,web3,net' \\\r\n  --ws.origins '*' \\\r\n  --http.port 8545 \\\r\n  --ws.port 8546 \\\r\n  --log.vmodule=p2p=1 \\\r\n  --verbosity=3 \\\r\n  --txlookuplimit 0 \\\r\n  --authrpc.jwtsecret /tmp/jwtsecret \\\r\n  --config config.toml \\\r\n  >> ~/data/logs/geth.log \\\r\n  2>&1 &\r\n```\r\nRan geth as archive node, but calling this:\r\n`curl -X POST -H \"Content-Type: application/json\" --data '{\"jsonrpc\": \"2.0\", \"method\":\"debug_traceBlockByNumber\", \"params\": [\"0x95\", {\"tracer\": \"callTracer\"}], \"id\":1}' localhost:8545`\r\n\r\nresponse\r\n`{\"jsonrpc\":\"2.0\",\"id\":1,\"error\":{\"code\":-32000,\"message\":\"required historical state unavailable (reexec=128)\"}}`\r\n\r\nSome blocks work but some blocks give message saying `required historical state unavailable (reexec=128)` even though the node is run as archive mode.\r\n\r\nIt seems that pebble db has some kind of issue. \r\n\r\nI've removed all the data and synced again and the problem was solved. But there still might be some issue in the future, so some investigation on this issue should be done. ",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/28409/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/28409/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[

]
