{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24158",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24158/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24158/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24158/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/24158",
  "id": 1088750762,
  "node_id": "I_kwDOAOvK985A5QSq",
  "number": 24158,
  "title": "keeps showing Failed to decode block body, error=EOF",
  "user": {
    "login": "bitrocks",
    "id": 7197352,
    "node_id": "MDQ6VXNlcjcxOTczNTI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/7197352?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/bitrocks",
    "html_url": "https://github.com/bitrocks",
    "followers_url": "https://api.github.com/users/bitrocks/followers",
    "following_url": "https://api.github.com/users/bitrocks/following{/other_user}",
    "gists_url": "https://api.github.com/users/bitrocks/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/bitrocks/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/bitrocks/subscriptions",
    "organizations_url": "https://api.github.com/users/bitrocks/orgs",
    "repos_url": "https://api.github.com/users/bitrocks/repos",
    "events_url": "https://api.github.com/users/bitrocks/events{/privacy}",
    "received_events_url": "https://api.github.com/users/bitrocks/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 72233650,
      "node_id": "MDU6TGFiZWw3MjIzMzY1MA==",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:bug",
      "name": "type:bug",
      "color": "FF5E5E",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2021-12-26T11:20:12Z",
  "updated_at": "2022-01-20T10:06:57Z",
  "closed_at": "2022-01-20T10:06:57Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nGeth version: 1.10.14-stable\r\nOS & Version:  Linux\r\n\r\n#### Expected behaviour\r\n\r\nSyncing blocks to the latest\r\n\r\n#### Actual behaviour\r\n\r\nShowing `Failed to decode block body`: \r\n\r\n```\r\nINFO [12-26|11:14:07.867] Initialised chain configuration          config=\"{ChainID: 1 Homestead: 1150000 DAO: 1920000 DAOSupport: true EIP150: 2463000 EIP155: 2675000 EIP158: 2675000 Byzantium: 4370000 Constantinople: 7280000 Petersburg: 7280000 Istanbul: 9069000, Muir Glacier: 9200000, Berlin: 12244000, London: 12965000, Arrow Glacier: 13773000, MergeFork: <nil>, Engine: ethash}\"\r\nINFO [12-26|11:14:08.167] Disk storage enabled for ethash caches   dir=/data/chain-data/eth/geth/ethash count=3\r\nINFO [12-26|11:14:08.167] Disk storage enabled for ethash DAGs     dir=/home/cryptodog/.ethash          count=2\r\nINFO [12-26|11:14:08.167] Initialising Ethereum protocol           network=1 dbversion=8\r\nINFO [12-26|11:14:08.365] Loaded most recent local header          number=13,798,950 hash=c51716..9a2441 td=36,501,196,317,498,564,696,790 age=1w5d15h\r\nINFO [12-26|11:14:08.365] Loaded most recent local full block      number=13,798,950 hash=c51716..9a2441 td=36,501,196,317,498,564,696,790 age=1w5d15h\r\nINFO [12-26|11:14:08.365] Loaded most recent local fast block      number=13,798,950 hash=c51716..9a2441 td=36,501,196,317,498,564,696,790 age=1w5d15h\r\nINFO [12-26|11:14:08.365] Loaded last fast-sync pivot marker       number=12,785,936\r\nWARN [12-26|11:14:08.365] Enabling snapshot recovery               chainhead=13,798,950 diskbase=13,800,642\r\nWARN [12-26|11:14:08.369] Loaded snapshot journal                  diskroot=171df4..4a77a1 diffs=unmatched\r\nWARN [12-26|11:14:08.369] Snapshot is not continuous with chain    snaproot=171df4..4a77a1 chainroot=ebd7fd..c9ef08\r\nINFO [12-26|11:14:08.370] Loaded local transaction journal         transactions=0 dropped=0\r\nINFO [12-26|11:14:08.370] Regenerated local transaction journal    transactions=0 accounts=0\r\nINFO [12-26|11:14:08.370] Gasprice oracle is ignoring threshold set threshold=2\r\nWARN [12-26|11:14:08.370] Sanitizing invalid gasprice oracle max header history provided=0 updated=1\r\nWARN [12-26|11:14:08.370] Sanitizing invalid gasprice oracle max block history provided=0 updated=1\r\nWARN [12-26|11:14:08.370] Old unclean shutdowns found              count=3\r\nWARN [12-26|11:14:08.370] Unclean shutdown detected                booted=2021-07-08T13:10:18+0000 age=5mo2w6d\r\nWARN [12-26|11:14:08.370] Unclean shutdown detected                booted=2021-07-08T15:00:33+0000 age=5mo2w6d\r\nWARN [12-26|11:14:08.370] Unclean shutdown detected                booted=2021-07-12T15:27:06+0000 age=5mo2w2d\r\nWARN [12-26|11:14:08.370] Unclean shutdown detected                booted=2021-07-15T04:10:58+0000 age=5mo2w7h\r\nWARN [12-26|11:14:08.370] Unclean shutdown detected                booted=2021-07-25T10:03:16+0000 age=5mo4d1h\r\nWARN [12-26|11:14:08.370] Unclean shutdown detected                booted=2021-07-28T15:24:02+0000 age=5mo19h50m\r\nWARN [12-26|11:14:08.370] Unclean shutdown detected                booted=2021-08-27T15:19:11+0000 age=4mo19h54m\r\nWARN [12-26|11:14:08.370] Unclean shutdown detected                booted=2021-12-25T05:47:53+0000 age=1d5h26m\r\nWARN [12-26|11:14:08.370] Unclean shutdown detected                booted=2021-12-26T01:55:36+0000 age=9h18m32s\r\nWARN [12-26|11:14:08.370] Unclean shutdown detected                booted=2021-12-26T10:47:25+0000 age=26m43s\r\n...\r\nINFO [12-26|11:15:55.143] Imported new chain segment               blocks=90  txs=15401 mgas=1401.691 elapsed=8.007s mgasps=175.043 number=13,799,702 hash=c6c21b..d16319 age=1w5d12h   dirty=534.44MiB\r\nINFO [12-26|11:16:03.183] Imported new chain segment               blocks=96  txs=17645 mgas=1494.357 elapsed=8.039s mgasps=185.871 number=13,799,798 hash=1f3ea1..6785fb age=1w5d12h   dirty=561.35MiB\r\nINFO [12-26|11:16:03.301] Imported new chain segment               blocks=2   txs=295   mgas=22.299   elapsed=117.993ms mgasps=188.984 number=13,799,800 hash=39c26e..fe89dd age=1w5d12h   dirty=562.99MiB\r\nWARN [12-26|11:16:03.599] Failed to decode block body              block=11,305,880 error=EOF\r\nINFO [12-26|11:16:03.727] Importing heavy sidechain segment        blocks=902 start=13,799,801 end=13,800,702\r\nWARN [12-26|11:16:03.753] Failed to decode block body              block=11,305,881 error=EOF\r\nWARN [12-26|11:16:04.120] Failed to decode block body              block=11,306,102 error=EOF\r\nWARN [12-26|11:16:04.505] Failed to decode block body              block=11,306,341 error=EOF\r\nINFO [12-26|11:16:11.782] Imported new chain segment               blocks=37  txs=6722  mgas=581.545  elapsed=8.054s    mgasps=72.201  number=13,799,837 hash=a81b3f..def40f age=1w5d11h   dirty=574.22MiB\r\nWARN [12-26|11:16:16.980] Failed to decode block body              block=11,429,333 error=EOF\r\nWARN [12-26|11:16:17.295] Failed to decode block body              block=11,429,334 error=EOF\r\nWARN [12-26|11:16:17.452] Failed to decode block body              block=11,429,335 error=EOF\r\nWARN [12-26|11:16:17.766] Failed to decode block body              block=11,429,355 error=EOF\r\nWARN [12-26|11:16:17.929] Failed to decode block body              block=11,429,356 error=EOF\r\nWARN [12-26|11:16:18.242] Failed to decode block body              block=11,429,437 error=EOF\r\nWARN [12-26|11:16:18.399] Failed to decode block body              block=11,429,438 error=EOF\r\nWARN [12-26|11:16:18.715] Failed to decode block body              block=11,429,524 error=EOF\r\nWARN [12-26|11:16:19.029] Failed to decode block body              block=11,429,525 error=EOF\r\nWARN [12-26|11:16:19.186] Failed to decode block body              block=11,429,526 error=EOF\r\nWARN [12-26|11:16:19.501] Failed to decode block body              block=11,429,589 error=EOF\r\nWARN [12-26|11:16:19.667] Failed to decode block body              block=11,429,590 error=EOF\r\nINFO [12-26|11:16:19.851] Imported new chain segment               blocks=56  txs=9604  mgas=857.564  elapsed=8.069s    mgasps=106.278 number=13,799,893 hash=27f55f..ece190 age=1w5d11h   dirty=594.01MiB\r\nWARN [12-26|11:16:19.981] Failed to decode block body              block=11,429,612 error=EOF\r\nWARN [12-26|11:16:20.138] Failed to decode block body              block=11,429,613 error=EOF\r\n```\r\n\r\nDoes it mean the chain state is corrupted?\r\n\r\n#### Steps to reproduce the behaviour\r\n\r\n\r\n#### Backtrace\r\n\r\nWhen submitting logs: please submit them as text and not screenshots.",
  "closed_by": {
    "login": "MariusVanDerWijden",
    "id": 16664698,
    "node_id": "MDQ6VXNlcjE2NjY0Njk4",
    "avatar_url": "https://avatars.githubusercontent.com/u/16664698?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/MariusVanDerWijden",
    "html_url": "https://github.com/MariusVanDerWijden",
    "followers_url": "https://api.github.com/users/MariusVanDerWijden/followers",
    "following_url": "https://api.github.com/users/MariusVanDerWijden/following{/other_user}",
    "gists_url": "https://api.github.com/users/MariusVanDerWijden/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/MariusVanDerWijden/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/MariusVanDerWijden/subscriptions",
    "organizations_url": "https://api.github.com/users/MariusVanDerWijden/orgs",
    "repos_url": "https://api.github.com/users/MariusVanDerWijden/repos",
    "events_url": "https://api.github.com/users/MariusVanDerWijden/events{/privacy}",
    "received_events_url": "https://api.github.com/users/MariusVanDerWijden/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24158/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24158/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1011924384",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/24158#issuecomment-1011924384",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24158",
    "id": 1011924384,
    "node_id": "IC_kwDOAOvK9848UL2g",
    "user": {
      "login": "ligi",
      "id": 111600,
      "node_id": "MDQ6VXNlcjExMTYwMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/111600?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ligi",
      "html_url": "https://github.com/ligi",
      "followers_url": "https://api.github.com/users/ligi/followers",
      "following_url": "https://api.github.com/users/ligi/following{/other_user}",
      "gists_url": "https://api.github.com/users/ligi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ligi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ligi/subscriptions",
      "organizations_url": "https://api.github.com/users/ligi/orgs",
      "repos_url": "https://api.github.com/users/ligi/repos",
      "events_url": "https://api.github.com/users/ligi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ligi/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-13T08:52:13Z",
    "updated_at": "2022-01-13T08:52:13Z",
    "author_association": "MEMBER",
    "body": "Did you have any unclean shutdown? Can you provide more logs (from the beginning?)",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1011924384/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1017311444",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/24158#issuecomment-1017311444",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24158",
    "id": 1017311444,
    "node_id": "IC_kwDOAOvK9848ovDU",
    "user": {
      "login": "MariusVanDerWijden",
      "id": 16664698,
      "node_id": "MDQ6VXNlcjE2NjY0Njk4",
      "avatar_url": "https://avatars.githubusercontent.com/u/16664698?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MariusVanDerWijden",
      "html_url": "https://github.com/MariusVanDerWijden",
      "followers_url": "https://api.github.com/users/MariusVanDerWijden/followers",
      "following_url": "https://api.github.com/users/MariusVanDerWijden/following{/other_user}",
      "gists_url": "https://api.github.com/users/MariusVanDerWijden/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MariusVanDerWijden/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MariusVanDerWijden/subscriptions",
      "organizations_url": "https://api.github.com/users/MariusVanDerWijden/orgs",
      "repos_url": "https://api.github.com/users/MariusVanDerWijden/repos",
      "events_url": "https://api.github.com/users/MariusVanDerWijden/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MariusVanDerWijden/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-20T10:06:57Z",
    "updated_at": "2022-01-20T10:06:57Z",
    "author_association": "MEMBER",
    "body": "So this error only happens if the bodies are non-existent in the database.\r\nThis should *never* happen. Since it does happen, it looks like one of the unclean shutdowns destroyed your database. \r\nOnly way forward is to delete the db and resync (you can still retain the ancient folder)",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1017311444/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
