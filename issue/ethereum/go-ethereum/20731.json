{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20731",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20731/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20731/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20731/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/20731",
  "id": 573182394,
  "node_id": "MDU6SXNzdWU1NzMxODIzOTQ=",
  "number": 20731,
  "title": "[BUG] Go Ethereum Does Not Adhere to Unsafe Usage Conventions With Go 1.14 Changes",
  "user": {
    "login": "bonedaddy",
    "id": 17089485,
    "node_id": "MDQ6VXNlcjE3MDg5NDg1",
    "avatar_url": "https://avatars.githubusercontent.com/u/17089485?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/bonedaddy",
    "html_url": "https://github.com/bonedaddy",
    "followers_url": "https://api.github.com/users/bonedaddy/followers",
    "following_url": "https://api.github.com/users/bonedaddy/following{/other_user}",
    "gists_url": "https://api.github.com/users/bonedaddy/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/bonedaddy/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/bonedaddy/subscriptions",
    "organizations_url": "https://api.github.com/users/bonedaddy/orgs",
    "repos_url": "https://api.github.com/users/bonedaddy/repos",
    "events_url": "https://api.github.com/users/bonedaddy/events{/privacy}",
    "received_events_url": "https://api.github.com/users/bonedaddy/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 15,
  "created_at": "2020-02-29T05:17:54Z",
  "updated_at": "2020-03-14T12:23:59Z",
  "closed_at": "2020-03-14T12:23:59Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nGeth version: 1.9.11\r\nOS & Version: Linux\r\nCommit hash : v1.9.11 release\r\nGo Version: 1.14\r\n\r\n#### Expected behaviour\r\n\r\nTests with race detection should run safely and CI passes\r\n\r\n#### Actual behaviour\r\n\r\nCI builds with `-race` fail because go1.14 introduces new detection methods to better validate usage of `unsafe.Pointer`\r\n\r\n#### Steps to reproduce the behaviour\r\n\r\nWrite code that uses go-ethereum while using v1.14 of go. Write a test and run test with `-race` enabled\r\n\r\n#### Backtrace\r\n\r\n````\r\n$ go test -race -short -coverprofile=coverage.txt ./...\r\nfatal error: checkptr: unsafe pointer conversion\r\ngoroutine 1 [running, locked to thread]:\r\nruntime.throw(0x11deb14, 0x23)\r\n\t/home/travis/.gimme/versions/go1.14.linux.amd64/src/runtime/panic.go:1112 +0x72 fp=0xc00010ba98 sp=0xc00010ba68 pc=0x44a082\r\nruntime.checkptrAlignment(0xc0001522a9, 0x108c740, 0x1)\r\n\t/home/travis/.gimme/versions/go1.14.linux.amd64/src/runtime/checkptr.go:13 +0xd0 fp=0xc00010bac8 sp=0xc00010ba98 pc=0x41b6a0\r\ngolang.org/x/crypto/sha3.xorInUnaligned(0xc0001521c0, 0xc0001522a9, 0x88, 0xa8)\r\n\t/home/travis/gopath/pkg/mod/golang.org/x/crypto@v0.0.0-20190530122614-20be4c3c3ed5/sha3/xor_unaligned.go:13 +0x60 fp=0xc00010bb00 sp=0xc00010bac8 pc=0x6a7400\r\ngolang.org/x/crypto/sha3.(*state).permute(0xc0001521c0)\r\n\t/home/travis/gopath/pkg/mod/golang.org/x/crypto@v0.0.0-20190530122614-20be4c3c3ed5/sha3/sha3.go:84 +0x1d3 fp=0xc00010bb50 sp=0xc00010bb00 pc=0x6a5d23\r\ngolang.org/x/crypto/sha3.(*state).padAndPermute(0xc0001521c0, 0x1f41b01)\r\n\t/home/travis/gopath/pkg/mod/golang.org/x/crypto@v0.0.0-20190530122614-20be4c3c3ed5/sha3/sha3.go:117 +0x347 fp=0xc00010bbf8 sp=0xc00010bb50 pc=0x6a60e7\r\ngolang.org/x/crypto/sha3.(*state).Read(0xc0001521c0, 0xc000026860, 0x20, 0x20, 0x7faeebfe5108, 0x0, 0xc000152000)\r\n\t/home/travis/gopath/pkg/mod/golang.org/x/crypto@v0.0.0-20190530122614-20be4c3c3ed5/sha3/sha3.go:163 +0x2e0 fp=0xc00010bc88 sp=0xc00010bbf8 pc=0x6a6bb0\r\ngolang.org/x/crypto/sha3.(*state).Sum(0xc000152000, 0xc000026840, 0x0, 0x20, 0x0, 0x0, 0x0)\r\n\t/home/travis/gopath/pkg/mod/golang.org/x/crypto@v0.0.0-20190530122614-20be4c3c3ed5/sha3/sha3.go:190 +0x233 fp=0xc00010bd20 sp=0xc00010bc88 pc=0x6a6e13\r\ngithub.com/ethereum/go-ethereum/crypto.Keccak256Hash(0xc00000ee80, 0x1, 0x1, 0x6ef8c092e64583ff, 0xc0ad6c991be0485b, 0x21b463e3b52f6201, 0xc00014a000)\r\n\t/home/travis/gopath/pkg/mod/github.com/ethereum/go-ethereum@v1.9.11/crypto/crypto.go:69 +0x1b6 fp=0xc00010bd88 sp=0xc00010bd20 pc=0x71afd6\r\ngithub.com/ethereum/go-ethereum/trie.init()\r\n\t/home/travis/gopath/pkg/mod/github.com/ethereum/go-ethereum@v1.9.11/trie/trie.go:35 +0xc32 fp=0xc00010be68 sp=0xc00010bd88 pc=0x8142e2\r\nruntime.doInit(0x1e62e00)\r\n\t/home/travis/.gimme/versions/go1.14.linux.amd64/src/runtime/proc.go:5414 +0x8a fp=0xc00010be98 sp=0xc00010be68 pc=0x4594ca\r\nruntime.doInit(0x1e62540)\r\n\t/home/travis/.gimme/versions/go1.14.linux.amd64/src/runtime/proc.go:5409 +0x57 fp=0xc00010bec8 sp=0xc00010be98 pc=0x459497\r\nruntime.doInit(0x1e5c5e0)\r\n\t/home/travis/.gimme/versions/go1.14.linux.amd64/src/runtime/proc.go:5409 +0x57 fp=0xc00010bef8 sp=0xc00010bec8 pc=0x459497\r\nruntime.doInit(0x1e5dc60)\r\n\t/home/travis/.gimme/versions/go1.14.linux.amd64/src/runtime/proc.go:5409 +0x57 fp=0xc00010bf28 sp=0xc00010bef8 pc=0x459497\r\nruntime.doInit(0x1e5ea80)\r\n\t/home/travis/.gimme/versions/go1.14.linux.amd64/src/runtime/proc.go:5409 +0x57 fp=0xc00010bf58 sp=0xc00010bf28 pc=0x459497\r\nruntime.doInit(0x1e5d540)\r\n\t/home/travis/.gimme/versions/go1.14.linux.amd64/src/runtime/proc.go:5409 +0x57 fp=0xc00010bf88 sp=0xc00010bf58 pc=0x459497\r\nruntime.main()\r\n\t/home/travis/.gimme/versions/go1.14.linux.amd64/src/runtime/proc.go:190 +0x1ce fp=0xc00010bfe0 sp=0xc00010bf88 pc=0x44c68e\r\nruntime.goexit()\r\n\t/home/travis/.gimme/versions/go1.14.linux.amd64/src/runtime/asm_amd64.s:1373 +0x1 fp=0xc00010bfe8 sp=0xc00010bfe0 pc=0x47e151\r\nFAIL\tgithub.com/RTradeLtd/baple/backend\t0.029s\r\n?   \tgithub.com/RTradeLtd/baple/bindings\t[no test files]\r\n?   \tgithub.com/RTradeLtd/baple/cmd/baple\t[no test files]\r\nok  \tgithub.com/RTradeLtd/baple/config\t0.019s\tcoverage: 87.5% of statements\r\nok  \tgithub.com/RTradeLtd/baple/mongo\t0.542s\tcoverage: 84.2% of statements\r\nfatal error: checkptr: unsafe pointer conversion\r\ngoroutine 1 [running, locked to thread]:\r\nruntime.throw(0xeedc81, 0x23)\r\n\t/home/travis/.gimme/versions/go1.14.linux.amd64/src/runtime/panic.go:1112 +0x72 fp=0xc0000b3a98 sp=0xc0000b3a68 pc=0x44a062\r\nruntime.checkptrAlignment(0xc0000fe2a9, 0xdd7300, 0x1)\r\n\t/home/travis/.gimme/versions/go1.14.linux.amd64/src/runtime/checkptr.go:13 +0xd0 fp=0xc0000b3ac8 sp=0xc0000b3a98 pc=0x41b6a0\r\ngolang.org/x/crypto/sha3.xorInUnaligned(0xc0000fe1c0, 0xc0000fe2a9, 0x88, 0xa8)\r\n\t/home/travis/gopath/pkg/mod/golang.org/x/crypto@v0.0.0-20190530122614-20be4c3c3ed5/sha3/xor_unaligned.go:13 +0x60 fp=0xc0000b3b00 sp=0xc0000b3ac8 pc=0x69fbd0\r\ngolang.org/x/crypto/sha3.(*state).permute(0xc0000fe1c0)\r\n\t/home/travis/gopath/pkg/mod/golang.org/x/crypto@v0.0.0-20190530122614-20be4c3c3ed5/sha3/sha3.go:84 +0x1d3 fp=0xc0000b3b50 sp=0xc0000b3b00 pc=0x69e4f3\r\ngolang.org/x/crypto/sha3.(*state).padAndPermute(0xc0000fe1c0, 0x188f301)\r\n\t/home/travis/gopath/pkg/mod/golang.org/x/crypto@v0.0.0-20190530122614-20be4c3c3ed5/sha3/sha3.go:117 +0x347 fp=0xc0000b3bf8 sp=0xc0000b3b50 pc=0x69e8b7\r\ngolang.org/x/crypto/sha3.(*state).Read(0xc0000fe1c0, 0xc0000d6100, 0x20, 0x20, 0x7ff4f3b467d0, 0x0, 0xc0000fe000)\r\n\t/home/travis/gopath/pkg/mod/golang.org/x/crypto@v0.0.0-20190530122614-20be4c3c3ed5/sha3/sha3.go:163 +0x2e0 fp=0xc0000b3c88 sp=0xc0000b3bf8 pc=0x69f380\r\ngolang.org/x/crypto/sha3.(*state).Sum(0xc0000fe000, 0xc0000d60e0, 0x0, 0x20, 0x0, 0x0, 0x0)\r\n\t/home/travis/gopath/pkg/mod/golang.org/x/crypto@v0.0.0-20190530122614-20be4c3c3ed5/sha3/sha3.go:190 +0x233 fp=0xc0000b3d20 sp=0xc0000b3c88 pc=0x69f5e3\r\ngithub.com/ethereum/go-ethereum/crypto.Keccak256Hash(0xc0000bce20, 0x1, 0x1, 0x6ef8c092e64583ff, 0xc0ad6c991be0485b, 0x21b463e3b52f6201, 0xc0000f6000)\r\n\t/home/travis/gopath/pkg/mod/github.com/ethereum/go-ethereum@v1.9.11/crypto/crypto.go:69 +0x1b6 fp=0xc0000b3d88 sp=0xc0000b3d20 pc=0x714ef6\r\ngithub.com/ethereum/go-ethereum/trie.init()\r\n\t/home/travis/gopath/pkg/mod/github.com/ethereum/go-ethereum@v1.9.11/trie/trie.go:35 +0xc32 fp=0xc0000b3e68 sp=0xc0000b3d88 pc=0x812722\r\nruntime.doInit(0x17bd1c0)\r\n\t/home/travis/.gimme/versions/go1.14.linux.amd64/src/runtime/proc.go:5414 +0x8a fp=0xc0000b3e98 sp=0xc0000b3e68 pc=0x45926a\r\nruntime.doInit(0x17bc900)\r\n\t/home/travis/.gimme/versions/go1.14.linux.amd64/src/runtime/proc.go:5409 +0x57 fp=0xc0000b3ec8 sp=0xc0000b3e98 pc=0x459237\r\nruntime.doInit(0x17b75e0)\r\n\t/home/travis/.gimme/versions/go1.14.linux.amd64/src/runtime/proc.go:5409 +0x57 fp=0xc0000b3ef8 sp=0xc0000b3ec8 pc=0x459237\r\nruntime.doInit(0x17b8c00)\r\n\t/home/travis/.gimme/versions/go1.14.linux.amd64/src/runtime/proc.go:5409 +0x57 fp=0xc0000b3f28 sp=0xc0000b3ef8 pc=0x459237\r\nruntime.doInit(0x17b92c0)\r\n\t/home/travis/.gimme/versions/go1.14.linux.amd64/src/runtime/proc.go:5409 +0x57 fp=0xc0000b3f58 sp=0xc0000b3f28 pc=0x459237\r\nruntime.doInit(0x17b84e0)\r\n\t/home/travis/.gimme/versions/go1.14.linux.amd64/src/runtime/proc.go:5409 +0x57 fp=0xc0000b3f88 sp=0xc0000b3f58 pc=0x459237\r\nruntime.main()\r\n\t/home/travis/.gimme/versions/go1.14.linux.amd64/src/runtime/proc.go:190 +0x1ce fp=0xc0000b3fe0 sp=0xc0000b3f88 pc=0x44c66e\r\nruntime.goexit()\r\n\t/home/travis/.gimme/versions/go1.14.linux.amd64/src/runtime/asm_amd64.s:1373 +0x1 fp=0xc0000b3fe8 sp=0xc0000b3fe0 pc=0x47de41\r\nFAIL\tgithub.com/RTradeLtd/baple/testutils\t0.027s\r\nFAIL\r\nThe command \"go test -race -short -coverprofile=coverage.txt ./...\" exited with 1.\r\ncache.2\r\nstore build cache````\r\n",
  "closed_by": {
    "login": "karalabe",
    "id": 129561,
    "node_id": "MDQ6VXNlcjEyOTU2MQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/karalabe",
    "html_url": "https://github.com/karalabe",
    "followers_url": "https://api.github.com/users/karalabe/followers",
    "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
    "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
    "organizations_url": "https://api.github.com/users/karalabe/orgs",
    "repos_url": "https://api.github.com/users/karalabe/repos",
    "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
    "received_events_url": "https://api.github.com/users/karalabe/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20731/reactions",
    "total_count": 1,
    "+1": 1,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20731/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/593399579",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/20731#issuecomment-593399579",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20731",
    "id": 593399579,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5MzM5OTU3OQ==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-02T13:24:05Z",
    "updated_at": "2020-03-02T13:24:30Z",
    "author_association": "MEMBER",
    "body": "This bug is in Go's crypto libs. Was fixed upstream (https://github.com/golang/crypto/commit/c7e5f84aec591254278750bee18f39e5dd19cdb5), we need to update our dependency.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/593399579/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/593611757",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/20731#issuecomment-593611757",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20731",
    "id": 593611757,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5MzYxMTc1Nw==",
    "user": {
      "login": "bonedaddy",
      "id": 17089485,
      "node_id": "MDQ6VXNlcjE3MDg5NDg1",
      "avatar_url": "https://avatars.githubusercontent.com/u/17089485?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bonedaddy",
      "html_url": "https://github.com/bonedaddy",
      "followers_url": "https://api.github.com/users/bonedaddy/followers",
      "following_url": "https://api.github.com/users/bonedaddy/following{/other_user}",
      "gists_url": "https://api.github.com/users/bonedaddy/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bonedaddy/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bonedaddy/subscriptions",
      "organizations_url": "https://api.github.com/users/bonedaddy/orgs",
      "repos_url": "https://api.github.com/users/bonedaddy/repos",
      "events_url": "https://api.github.com/users/bonedaddy/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bonedaddy/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-02T20:43:13Z",
    "updated_at": "2020-03-02T20:43:13Z",
    "author_association": "NONE",
    "body": "Ah okay, thanks.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/593611757/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/594636434",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/20731#issuecomment-594636434",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20731",
    "id": 594636434,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5NDYzNjQzNA==",
    "user": {
      "login": "mvdan",
      "id": 3576549,
      "node_id": "MDQ6VXNlcjM1NzY1NDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3576549?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mvdan",
      "html_url": "https://github.com/mvdan",
      "followers_url": "https://api.github.com/users/mvdan/followers",
      "following_url": "https://api.github.com/users/mvdan/following{/other_user}",
      "gists_url": "https://api.github.com/users/mvdan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mvdan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mvdan/subscriptions",
      "organizations_url": "https://api.github.com/users/mvdan/orgs",
      "repos_url": "https://api.github.com/users/mvdan/repos",
      "events_url": "https://api.github.com/users/mvdan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mvdan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-04T16:14:28Z",
    "updated_at": "2020-03-04T16:14:28Z",
    "author_association": "NONE",
    "body": "@karalabe are you sure? I'm still getting very similar panics, even though I'm using a very recent x/crypto version, after that fix:\r\n\r\n```\r\nfatal error: checkptr: unsafe pointer conversion\r\n\r\ngoroutine 11 [running]:\r\nruntime.throw(0x310e7b2, 0x23)\r\n\t/usr/lib/go/src/runtime/panic.go:1112 +0x72 fp=0xc0005a1f18 sp=0xc0005a1ee8 pc=0xda50b2\r\nruntime.checkptrAlignment(0xc0000f8785, 0x2d4fc60, 0x11)\r\n\t/usr/lib/go/src/runtime/checkptr.go:13 +0xd0 fp=0xc0005a1f48 sp=0xc0005a1f18 pc=0xd761d0\r\ngolang.org/x/crypto/sha3.xorInUnaligned(0xc00134afc0, 0xc0000f8785, 0x88, 0x2fb)\r\n\t/home/mvdan/go/pkg/mod/golang.org/x/crypto@v0.0.0-20200210222208-86ce3cb69678/sha3/xor_unaligned.go:21 +0x65 fp=0xc0005a1f88 sp=0xc0005a1f48 pc=0x108d765\r\ngolang.org/x/crypto/sha3.(*state).Write(0xc00134afc0, 0xc0000f8785, 0x26a, 0x2fb, 0x3, 0x0, 0x0)\r\n\t/home/mvdan/go/pkg/mod/golang.org/x/crypto@v0.0.0-20200210222208-86ce3cb69678/sha3/sha3.go:138 +0x19e fp=0xc0005a2028 sp=0xc0005a1f88 pc=0x108c43e\r\ngithub.com/ethereum/go-ethereum/rlp.(*encbuf).toWriter(0xc0015d55e0, 0x7fbf607ccd78, 0xc00134afc0, 0x0, 0x0)\r\n\t/home/mvdan/go/pkg/mod/github.com/ethereum/go-ethereum@v1.9.10/rlp/encode.go:240 +0x3f2 fp=0xc0005a20d8 sp=0xc0005a2028 pc=0x10acb72\r\ngithub.com/ethereum/go-ethereum/rlp.Encode(0x7fbf607ccd78, 0xc00134afc0, 0x2ee2020, 0xc0004be6c0, 0x0, 0x0)\r\n\t/home/mvdan/go/pkg/mod/github.com/ethereum/go-ethereum@v1.9.10/rlp/encode.go:65 +0x1d9 fp=0xc0005a2180 sp=0xc0005a20d8 pc=0x10aab69\r\ngithub.com/ethereum/go-ethereum/core/types.rlpHash(0x2ee2020, 0xc0004be6c0, 0x0, 0xb, 0xc0011ddb20, 0x30d8a7d)\r\n```\r\n\r\nNote that I don't know if the bug is in this module, or once again in the crypto module.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/594636434/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/595791228",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/20731#issuecomment-595791228",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20731",
    "id": 595791228,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5NTc5MTIyOA==",
    "user": {
      "login": "RmbRT",
      "id": 12518378,
      "node_id": "MDQ6VXNlcjEyNTE4Mzc4",
      "avatar_url": "https://avatars.githubusercontent.com/u/12518378?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/RmbRT",
      "html_url": "https://github.com/RmbRT",
      "followers_url": "https://api.github.com/users/RmbRT/followers",
      "following_url": "https://api.github.com/users/RmbRT/following{/other_user}",
      "gists_url": "https://api.github.com/users/RmbRT/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/RmbRT/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/RmbRT/subscriptions",
      "organizations_url": "https://api.github.com/users/RmbRT/orgs",
      "repos_url": "https://api.github.com/users/RmbRT/repos",
      "events_url": "https://api.github.com/users/RmbRT/events{/privacy}",
      "received_events_url": "https://api.github.com/users/RmbRT/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-06T14:26:47Z",
    "updated_at": "2020-03-06T14:26:47Z",
    "author_association": "NONE",
    "body": "**Probable cause**&emsp;\r\nFrom the [Go 1.14 release notes](https://golang.org/doc/go1.14#compiler):\r\n>This release adds `-d=checkptr` as a compile-time option for adding instrumentation to check that Go code is following unsafe.Pointer safety rules dynamically. **This option is enabled by default (except on Windows) with the `-race` or `-msan` flags, and can be disabled with `-gcflags=all=-d=checkptr=0`**. Specifically, `-d=checkptr` checks the following:\r\n>* When converting unsafe.Pointer to *T, the resulting pointer must be aligned appropriately for T.\r\n    If the result of pointer arithmetic points into a Go heap object, one of the unsafe.Pointer-typed operands must point into the same object.\r\n>\r\n>Using `-d=checkptr` is not currently recommended on Windows because it causes false alerts in the standard library. \r\n\r\nIt seems this feature not only breaks on windows, but also on GNU+Linux.\r\nIt is only active in race testing, it seems.\r\n\r\n**Fix**&emsp;\r\nAdd `-gcflags=all=-d=checkptr=0` to the pipeline.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/595791228/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 1,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/595801137",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/20731#issuecomment-595801137",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20731",
    "id": 595801137,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5NTgwMTEzNw==",
    "user": {
      "login": "mvdan",
      "id": 3576549,
      "node_id": "MDQ6VXNlcjM1NzY1NDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3576549?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mvdan",
      "html_url": "https://github.com/mvdan",
      "followers_url": "https://api.github.com/users/mvdan/followers",
      "following_url": "https://api.github.com/users/mvdan/following{/other_user}",
      "gists_url": "https://api.github.com/users/mvdan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mvdan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mvdan/subscriptions",
      "organizations_url": "https://api.github.com/users/mvdan/orgs",
      "repos_url": "https://api.github.com/users/mvdan/repos",
      "events_url": "https://api.github.com/users/mvdan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mvdan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-06T14:49:16Z",
    "updated_at": "2020-03-06T14:49:16Z",
    "author_association": "NONE",
    "body": "The fix is not to disable the check entirely, unless you're certain you've found a bug in the checkptr feature. If you're going to be disabling checks, you might as well not use `-race` at all.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/595801137/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/595801919",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/20731#issuecomment-595801919",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20731",
    "id": 595801919,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5NTgwMTkxOQ==",
    "user": {
      "login": "RmbRT",
      "id": 12518378,
      "node_id": "MDQ6VXNlcjEyNTE4Mzc4",
      "avatar_url": "https://avatars.githubusercontent.com/u/12518378?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/RmbRT",
      "html_url": "https://github.com/RmbRT",
      "followers_url": "https://api.github.com/users/RmbRT/followers",
      "following_url": "https://api.github.com/users/RmbRT/following{/other_user}",
      "gists_url": "https://api.github.com/users/RmbRT/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/RmbRT/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/RmbRT/subscriptions",
      "organizations_url": "https://api.github.com/users/RmbRT/orgs",
      "repos_url": "https://api.github.com/users/RmbRT/repos",
      "events_url": "https://api.github.com/users/RmbRT/events{/privacy}",
      "received_events_url": "https://api.github.com/users/RmbRT/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-06T14:50:57Z",
    "updated_at": "2020-03-06T14:50:57Z",
    "author_association": "NONE",
    "body": "@mvdan The problem occurs within golang's sha3 implementation. It's not something we as developers have control over. Normally, it would be bad style to do this, but the Go team seems to have released a broken version.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/595801919/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/595805844",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/20731#issuecomment-595805844",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20731",
    "id": 595805844,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5NTgwNTg0NA==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-06T14:59:11Z",
    "updated_at": "2020-03-06T14:59:11Z",
    "author_association": "MEMBER",
    "body": "Hmm, lemme try and repro this locally. If it's indeed a bug in Go, I'm sure they'd fix is quite quickly if reported. Just would be nice to repro it without all our code in the soup.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/595805844/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/595812105",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/20731#issuecomment-595812105",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20731",
    "id": 595812105,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5NTgxMjEwNQ==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-06T15:12:52Z",
    "updated_at": "2020-03-06T15:12:52Z",
    "author_association": "MEMBER",
    "body": "@mvdan @RmbRT I'm still kind of confident that it's a bug in Go crypto, and that it's already been fixed upstream:\r\n\r\nRunning the trie tests with 1.14 on current codebase:\r\n\r\n```\r\n$ go test -race ./trie --count=1\r\nfatal error: checkptr: unsafe pointer conversion\r\n\r\ngoroutine 1 [running, locked to thread]:\r\nruntime.throw(0x902edb, 0x23)\r\n\t/opt/google/go/src/runtime/panic.go:1112 +0x72 fp=0xc00012bb58 sp=0xc00012bb28 pc=0x446972\r\nruntime.checkptrAlignment(0xc000178469, 0x8889c0, 0x1)\r\n\t/opt/google/go/src/runtime/checkptr.go:13 +0xd0 fp=0xc00012bb88 sp=0xc00012bb58 pc=0x418130\r\ngolang.org/x/crypto/sha3.xorInUnaligned(0xc000178380, 0xc000178469, 0x88, 0xa8)\r\n\t/work/pkg/mod/golang.org/x/crypto@v0.0.0-20190308221718-c2843e01d9a2/sha3/xor_unaligned.go:13 +0x60 fp=0xc00012bbc0 sp=0xc00012bb88 pc=0x66f8b0\r\ngolang.org/x/crypto/sha3.(*state).permute(0xc000178380)\r\n\t/work/pkg/mod/golang.org/x/crypto@v0.0.0-20190308221718-c2843e01d9a2/sha3/sha3.go:84 +0x1d3 fp=0xc00012bc10 sp=0xc00012bbc0 pc=0x66e1d3\r\ngolang.org/x/crypto/sha3.(*state).padAndPermute(0xc000178380, 0xbe2c01)\r\n\t/work/pkg/mod/golang.org/x/crypto@v0.0.0-20190308221718-c2843e01d9a2/sha3/sha3.go:117 +0x347 fp=0xc00012bcb8 sp=0xc00012bc10 pc=0x66e597\r\ngolang.org/x/crypto/sha3.(*state).Read(0xc000178380, 0xc00014e240, 0x20, 0x20, 0x7fa3cb72ae98, 0x0, 0xc0001781c0)\r\n\t/work/pkg/mod/golang.org/x/crypto@v0.0.0-20190308221718-c2843e01d9a2/sha3/sha3.go:163 +0x2e0 fp=0xc00012bd48 sp=0xc00012bcb8 pc=0x66f060\r\ngolang.org/x/crypto/sha3.(*state).Sum(0xc0001781c0, 0xc00014e220, 0x0, 0x20, 0x0, 0x0, 0x0)\r\n\t/work/pkg/mod/golang.org/x/crypto@v0.0.0-20190308221718-c2843e01d9a2/sha3/sha3.go:190 +0x233 fp=0xc00012bde0 sp=0xc00012bd48 pc=0x66f2c3\r\ngithub.com/ethereum/go-ethereum/crypto.Keccak256Hash(0xc000134f20, 0x1, 0x1, 0x6ef8c092e64583ff, 0xc0ad6c991be0485b, 0x21b463e3b52f6201, 0x7bffd8)\r\n\t/work/src/github.com/ethereum/go-ethereum/crypto/crypto.go:69 +0x1b6 fp=0xc00012be48 sp=0xc00012bde0 pc=0x716376\r\ngithub.com/ethereum/go-ethereum/trie.init()\r\n\t/work/src/github.com/ethereum/go-ethereum/trie/trie.go:35 +0xc32 fp=0xc00012bf28 sp=0xc00012be48 pc=0x8170b2\r\nruntime.doInit(0xbd1e60)\r\n\t/opt/google/go/src/runtime/proc.go:5414 +0x8a fp=0xc00012bf58 sp=0xc00012bf28 pc=0x455b7a\r\nruntime.doInit(0xbcd400)\r\n\t/opt/google/go/src/runtime/proc.go:5409 +0x57 fp=0xc00012bf88 sp=0xc00012bf58 pc=0x455b47\r\nruntime.main()\r\n\t/opt/google/go/src/runtime/proc.go:190 +0x1ce fp=0xc00012bfe0 sp=0xc00012bf88 pc=0x448f7e\r\nruntime.goexit()\r\n\t/opt/google/go/src/runtime/asm_amd64.s:1373 +0x1 fp=0xc00012bfe8 sp=0xc00012bfe0 pc=0x479e71\r\nFAIL\tgithub.com/ethereum/go-ethereum/trie\t0.026s\r\nFAIL\r\n```\r\n\r\nUpdate the crpyto modules:\r\n\r\n```\r\n$ go get -u golang.org/x/crypto/...\r\n```\r\n\r\nRerun the trie tests:\r\n\r\n```\r\n$ go test -race ./trie --count=1\r\nok  \tgithub.com/ethereum/go-ethereum/trie\t39.473s\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/595812105/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/595812532",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/20731#issuecomment-595812532",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20731",
    "id": 595812532,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5NTgxMjUzMg==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-06T15:13:51Z",
    "updated_at": "2020-03-06T15:13:51Z",
    "author_association": "MEMBER",
    "body": "I'll open a PR to update the crypto package, will probably solve a lot of issues if you don't have to jump through hoops to replace the package yourself.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/595812532/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/595821902",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/20731#issuecomment-595821902",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20731",
    "id": 595821902,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5NTgyMTkwMg==",
    "user": {
      "login": "mvdan",
      "id": 3576549,
      "node_id": "MDQ6VXNlcjM1NzY1NDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3576549?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mvdan",
      "html_url": "https://github.com/mvdan",
      "followers_url": "https://api.github.com/users/mvdan/followers",
      "following_url": "https://api.github.com/users/mvdan/following{/other_user}",
      "gists_url": "https://api.github.com/users/mvdan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mvdan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mvdan/subscriptions",
      "organizations_url": "https://api.github.com/users/mvdan/orgs",
      "repos_url": "https://api.github.com/users/mvdan/repos",
      "events_url": "https://api.github.com/users/mvdan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mvdan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-06T15:33:17Z",
    "updated_at": "2020-03-06T15:33:17Z",
    "author_association": "NONE",
    "body": "@karalabe just so we are on the same page, note that my panic trace contains an up-to-date version of the module containing the sha3 package. That version contains the fix you're referencing. I'm pretty sure we're talking about different issues here, even though they both surface because of 1.14 and the same package.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/595821902/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/595822557",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/20731#issuecomment-595822557",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20731",
    "id": 595822557,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5NTgyMjU1Nw==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-06T15:34:44Z",
    "updated_at": "2020-03-06T15:34:44Z",
    "author_association": "MEMBER",
    "body": "@mvdan Oh, that's super interesting, I can repro that issue with updated crypto too. Funky, lemme dig deeper :)",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/595822557/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/595822908",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/20731#issuecomment-595822908",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20731",
    "id": 595822908,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5NTgyMjkwOA==",
    "user": {
      "login": "mvdan",
      "id": 3576549,
      "node_id": "MDQ6VXNlcjM1NzY1NDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3576549?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mvdan",
      "html_url": "https://github.com/mvdan",
      "followers_url": "https://api.github.com/users/mvdan/followers",
      "following_url": "https://api.github.com/users/mvdan/following{/other_user}",
      "gists_url": "https://api.github.com/users/mvdan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mvdan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mvdan/subscriptions",
      "organizations_url": "https://api.github.com/users/mvdan/orgs",
      "repos_url": "https://api.github.com/users/mvdan/repos",
      "events_url": "https://api.github.com/users/mvdan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mvdan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-06T15:35:35Z",
    "updated_at": "2020-03-06T15:35:35Z",
    "author_association": "NONE",
    "body": "Precisely. Even if you update the version, the check can still fail.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/595822908/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/595834234",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/20731#issuecomment-595834234",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20731",
    "id": 595834234,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5NTgzNDIzNA==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-06T15:59:27Z",
    "updated_at": "2020-03-06T15:59:27Z",
    "author_association": "MEMBER",
    "body": "The smallest repro I have currently is\r\n\r\n```go\r\npackage racerepro\r\n\r\nimport (\r\n\t\"testing\"\r\n\r\n\t\"github.com/ethereum/go-ethereum/rlp\"\r\n\t\"golang.org/x/crypto/sha3\"\r\n)\r\n\r\ntype S struct {\r\n\tF1 [2048]byte\r\n\tF2 [32]byte\r\n}\r\n\r\nfunc TestRacePanic(t *testing.T) {\r\n\trlp.Encode(sha3.NewLegacyKeccak256(), new(S))\r\n}\r\n```\r\n\r\nI still need to nuke out parts of `rlp` to check if the bug is us or Go (high chance it's us at this point).",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/595834234/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/595838675",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/20731#issuecomment-595838675",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20731",
    "id": 595838675,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5NTgzODY3NQ==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-06T16:08:32Z",
    "updated_at": "2020-03-06T16:08:32Z",
    "author_association": "MEMBER",
    "body": ":boom: Bug's in Go\r\n\r\n```go\r\npackage racerepro\r\n\r\nimport (\r\n\t\"encoding/hex\"\r\n\t\"testing\"\r\n\r\n\t\"golang.org/x/crypto/sha3\"\r\n)\r\n\r\nfunc TestRacePanic(t *testing.T) {\r\n\tb1, _ := hex.DecodeString(\"f90824\")\r\n\tb2, _ := hex.DecodeString(\"b908000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000a00000000000000000000000000000000000000000000000000000000000000000\")\r\n\r\n\thasher := sha3.NewLegacyKeccak256()\r\n\thasher.Write(b1)\r\n\thasher.Write(b2)\r\n}\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/595838675/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/596001668",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/20731#issuecomment-596001668",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20731",
    "id": 596001668,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5NjAwMTY2OA==",
    "user": {
      "login": "mvdan",
      "id": 3576549,
      "node_id": "MDQ6VXNlcjM1NzY1NDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3576549?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mvdan",
      "html_url": "https://github.com/mvdan",
      "followers_url": "https://api.github.com/users/mvdan/followers",
      "following_url": "https://api.github.com/users/mvdan/following{/other_user}",
      "gists_url": "https://api.github.com/users/mvdan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mvdan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mvdan/subscriptions",
      "organizations_url": "https://api.github.com/users/mvdan/orgs",
      "repos_url": "https://api.github.com/users/mvdan/repos",
      "events_url": "https://api.github.com/users/mvdan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mvdan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-06T23:04:16Z",
    "updated_at": "2020-03-06T23:04:16Z",
    "author_association": "NONE",
    "body": "Nice find. Good to see that the go team is already aware of the bug. It's unfortunate I didn't find the existing issue when googling just a couple of days ago.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/596001668/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
