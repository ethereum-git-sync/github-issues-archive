{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25787",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25787/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25787/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25787/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/25787",
  "id": 1375712621,
  "node_id": "I_kwDOAOvK985R_7Vt",
  "number": 25787,
  "title": "`panic` in `findBeaconAncestor`",
  "user": {
    "login": "holiman",
    "id": 142290,
    "node_id": "MDQ6VXNlcjE0MjI5MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/holiman",
    "html_url": "https://github.com/holiman",
    "followers_url": "https://api.github.com/users/holiman/followers",
    "following_url": "https://api.github.com/users/holiman/following{/other_user}",
    "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
    "organizations_url": "https://api.github.com/users/holiman/orgs",
    "repos_url": "https://api.github.com/users/holiman/repos",
    "events_url": "https://api.github.com/users/holiman/events{/privacy}",
    "received_events_url": "https://api.github.com/users/holiman/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 72233650,
      "node_id": "MDU6TGFiZWw3MjIzMzY1MA==",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:bug",
      "name": "type:bug",
      "color": "FF5E5E",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2022-09-16T09:53:12Z",
  "updated_at": "2022-12-05T06:55:37Z",
  "closed_at": null,
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "Crash on one of the bootnodes\r\n\r\n`Geth/v1.11.0-unstable-6f9bc7b0-20220906/linux-amd64/go1.18.1`\r\n\r\n\r\n```\r\nINFO [09-15|23:44:14.693] ---------------------------------------------------------------------------------------------------------------------------------------------------------\r\nINFO [09-15|23:44:14.693]\r\nINFO [09-15|23:44:15.431] Loaded most recent local header number=15,542,291 hash=cbd5f0..a3fe79 td=58,750,003,716,598,352,816,469 age=28m16s\r\nINFO [09-15|23:44:15.432] Loaded most recent local full block number=15,540,935 hash=207c21..5a6d5d td=58,750,003,716,598,352,816,469 age=5h3m4s\r\nINFO [09-15|23:44:15.432] Loaded most recent local fast block number=15,542,291 hash=cbd5f0..a3fe79 td=58,750,003,716,598,352,816,469 age=28m16s\r\nINFO [09-15|23:44:15.432] Loaded most recent local finalized block number=15,542,052 hash=21abe4..41b981 td=58,750,003,716,598,352,816,469 age=1h16m40s\r\nINFO [09-15|23:44:15.432] Loaded last fast-sync pivot marker number=15,489,901\r\nWARN [09-15|23:44:15.432] Enabling snapshot recovery chainhead=15,540,935 diskbase=15,542,283\r\nWARN [09-15|23:44:15.433] Loaded snapshot journal diffs=missing\r\nWARN [09-15|23:44:15.433] Snapshot is not continuous with chain snaproot=f135fc..60bc0c chainroot=55a45e..7d85e4\r\nINFO [09-15|23:44:15.433] Loaded local transaction journal transactions=0 dropped=0\r\nINFO [09-15|23:44:15.433] Resuming state snapshot generation root=f135fc..60bc0c in=2b33da..96de26 at=1b5041..895bdb accounts=30,662,550 slots=146,387,588 storage=12.03GiB dangling=0 elapsed=\"139.901Âµs\"\r\nINFO [09-15|23:44:15.434] Regenerated local transaction journal transactions=0 accounts=0\r\nWARN [09-15|23:44:15.434] Switch sync mode from snap sync to full sync\r\nINFO [09-15|23:44:15.434] Chain post-TTD, sync via beacon client\r\nINFO [09-15|23:44:15.434] Gasprice oracle is ignoring threshold set threshold=2\r\nWARN [09-15|23:44:15.434] Old unclean shutdowns found count=190\r\nWARN [09-15|23:44:15.434] Unclean shutdown detected booted=2022-09-15T23:41:30+0000 age=2m45s\r\nWARN [09-15|23:44:15.434] Unclean shutdown detected booted=2022-09-15T23:41:43+0000 age=2m32s\r\nWARN [09-15|23:44:15.434] Unclean shutdown detected booted=2022-09-15T23:42:02+0000 age=2m13s\r\nWARN [09-15|23:44:15.434] Unclean shutdown detected booted=2022-09-15T23:42:12+0000 age=2m3s\r\nWARN [09-15|23:44:15.434] Unclean shutdown detected booted=2022-09-15T23:42:22+0000 age=1m53s\r\nWARN [09-15|23:44:15.434] Unclean shutdown detected booted=2022-09-15T23:42:30+0000 age=1m45s\r\nWARN [09-15|23:44:15.434] Unclean shutdown detected booted=2022-09-15T23:42:37+0000 age=1m38s\r\nWARN [09-15|23:44:15.434] Unclean shutdown detected booted=2022-09-15T23:42:46+0000 age=1m29s\r\nWARN [09-15|23:44:15.434] Unclean shutdown detected booted=2022-09-15T23:42:59+0000 age=1m16s\r\nWARN [09-15|23:44:15.434] Unclean shutdown detected booted=2022-09-15T23:43:16+0000 age=59s\r\nWARN [09-15|23:44:15.434] Unclean shutdown detected booted=2022-09-15T23:43:49+0000 age=26s\r\nINFO [09-15|23:44:15.434] Allocated cache and file handles database=/root/.ethereum/geth/les.server cache=16.00MiB handles=16\r\nINFO [09-15|23:44:15.456] Trie missing, state snapshotting paused root=f135fc..60bc0c in=2b33da..96de26 at=1b5041..895bdb accounts=30,662,550 slots=146,387,588 storage=12.03GiB dangling=0 elapsed=22.247ms\r\nINFO [09-15|23:44:15.489] Configured checkpoint oracle address=0x9a9070028361F7AAbeB3f2F2Dc07F82C4a98A02a signers=5 threshold=2\r\nINFO [09-15|23:44:15.490] Loaded latest checkpoint section=473 head=4373f2..2811cb chtroot=6c987f..a0d3de bloomroot=7082f3..696e6d\r\nWARN [09-15|23:44:15.490] Engine API enabled protocol=eth\r\nINFO [09-15|23:44:15.490] Starting peer-to-peer node instance=Geth/v1.11.0-unstable-6f9bc7b0-20220906/linux-amd64/go1.18.1\r\nINFO [09-15|23:44:15.522] Mapped network port proto=tcp extport=30303 intport=30303 interface=ExtIP(191.234.162.198)\r\nINFO [09-15|23:44:15.522] Mapped network port proto=udp extport=30303 intport=30303 interface=ExtIP(191.234.162.198)\r\nINFO [09-15|23:44:15.565] New local node record seq=1633 id=32f7e89d30e83b68 ip=191.234.162.198 udp=30303 tcp=30303\r\nINFO [09-15|23:44:15.620] Started P2P networking self=enode://103858bdb88756c71f15e9b5e09b56dc1be52f0a5021d46301dbbfb7e130029cc9d0d6f73f693bc29b665770fff7da4d34f3c6379fe12721b5d7a0bcb5ca1fc1@191.234.162.198:30303\r\nINFO [09-15|23:44:15.622] IPC endpoint opened url=/root/.ethereum/geth.ipc\r\nINFO [09-15|23:44:15.622] Loaded JWT secret file path=/execution-auth.jwt crc32=0xba247cd0\r\nINFO [09-15|23:44:15.623] WebSocket enabled url=ws://[::]:8551\r\nINFO [09-15|23:44:15.623] HTTP server started endpoint=[::]:8551 auth=true prefix= cors=localhost vhosts=*\r\nINFO [09-15|23:44:15.623] Stats daemon started\r\nWARN [09-15|23:44:17.143] Ignoring payload with missing parent number=15,542,424 hash=72e967..35217c parent=14f7f8..8a14f6\r\nINFO [09-15|23:44:17.287] Forkchoice requested sync to new head number=15,542,424 hash=72e967..35217c\r\nINFO [09-15|23:44:17.289] Block synchronisation started\r\npanic: runtime error: invalid memory address or nil pointer dereference\r\n[signal SIGSEGV: segmentation violation code=0x1 addr=0x1c0 pc=0xa92a88]\r\ngoroutine 1381 [running]:\r\ngithub.com/ethereum/go-ethereum/eth/downloader.(*Downloader).findBeaconAncestor(0xc0001b4780)\r\ngithub.com/ethereum/go-ethereum/eth/downloader/beaconsync.go:220 +0xe8\r\ngithub.com/ethereum/go-ethereum/eth/downloader.(*Downloader).syncWithPeer(0xc0001b4780, 0x0, {0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, ...}, ...)\r\ngithub.com/ethereum/go-ethereum/eth/downloader/downloader.go:527 +0x911\r\ngithub.com/ethereum/go-ethereum/eth/downloader.(*Downloader).synchronise(0x100000000000003?, {0x0, 0x0}, {0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, ...}, ...)\r\ngithub.com/ethereum/go-ethereum/eth/downloader/downloader.go:439 +0x505\r\ngithub.com/ethereum/go-ethereum/eth/downloader.(*beaconBackfiller).resume.func1()\r\ngithub.com/ethereum/go-ethereum/eth/downloader/beaconsync.go:108 +0x96\r\ncreated by github.com/ethereum/go-ethereum/eth/downloader.(*beaconBackfiller).resume\r\ngithub.com/ethereum/go-ethereum/eth/downloader/beaconsync.go:98 +0x132\r\nWARN [09-15|23:44:17.143] Ignoring payload with missing parent number=15,542,424 hash=72e967..35217c parent=14f7f8..8a14f6\r\nINFO [09-15|23:44:17.287] Forkchoice requested sync to new head number=15,542,424 hash=72e967..35217c\r\nINFO [09-15|23:44:17.289] Block synchronisation started\r\npanic: runtime error: invalid memory address or nil pointer dereference\r\n[signal SIGSEGV: segmentation violation code=0x1 addr=0x1c0 pc=0xa92a88]\r\ngoroutine 1381 [running]:\r\ngithub.com/ethereum/go-ethereum/eth/downloader.(*Downloader).findBeaconAncestor(0xc0001b4780)\r\ngithub.com/ethereum/go-ethereum/eth/downloader/beaconsync.go:220 +0xe8\r\ngithub.com/ethereum/go-ethereum/eth/downloader.(*Downloader).syncWithPeer(0xc0001b4780, 0x0, {0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, ...}, ...)\r\ngithub.com/ethereum/go-ethereum/eth/downloader/downloader.go:527 +0x911\r\ngithub.com/ethereum/go-ethereum/eth/downloader.(*Downloader).synchronise(0x100000000000003?, {0x0, 0x0}, {0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, ...}, ...)\r\ngithub.com/ethereum/go-ethereum/eth/downloader/downloader.go:439 +0x505\r\ngithub.com/ethereum/go-ethereum/eth/downloader.(*beaconBackfiller).resume.func1()\r\ngithub.com/ethereum/go-ethereum/eth/downloader/beaconsync.go:108 +0x96\r\ncreated by github.com/ethereum/go-ethereum/eth/downloader.(*beaconBackfiller).resume\r\ngithub.com/ethereum/go-ethereum/eth/downloader/beaconsync.go:98 +0x132\r\n```",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25787/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25787/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1336829029",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/25787#issuecomment-1336829029",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25787",
    "id": 1336829029,
    "node_id": "IC_kwDOAOvK985PrmRl",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-12-05T06:55:37Z",
    "updated_at": "2022-12-05T06:55:37Z",
    "author_association": "MEMBER",
    "body": "Duplicate of https://github.com/ethereum/go-ethereum/issues/26300\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1336829029/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
