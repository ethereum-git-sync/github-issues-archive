{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23678",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23678/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23678/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23678/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/23678",
  "id": 1015019783,
  "node_id": "I_kwDOAOvK9848f_kH",
  "number": 23678,
  "title": "EIP1599 transaction is always in pending list",
  "user": {
    "login": "kgiedrius",
    "id": 15670549,
    "node_id": "MDQ6VXNlcjE1NjcwNTQ5",
    "avatar_url": "https://avatars.githubusercontent.com/u/15670549?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/kgiedrius",
    "html_url": "https://github.com/kgiedrius",
    "followers_url": "https://api.github.com/users/kgiedrius/followers",
    "following_url": "https://api.github.com/users/kgiedrius/following{/other_user}",
    "gists_url": "https://api.github.com/users/kgiedrius/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/kgiedrius/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/kgiedrius/subscriptions",
    "organizations_url": "https://api.github.com/users/kgiedrius/orgs",
    "repos_url": "https://api.github.com/users/kgiedrius/repos",
    "events_url": "https://api.github.com/users/kgiedrius/events{/privacy}",
    "received_events_url": "https://api.github.com/users/kgiedrius/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 72233650,
      "node_id": "MDU6TGFiZWw3MjIzMzY1MA==",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:bug",
      "name": "type:bug",
      "color": "FF5E5E",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2021-10-04T10:48:30Z",
  "updated_at": "2021-10-28T09:26:28Z",
  "closed_at": "2021-10-28T09:00:29Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nGeth version: 1.10.8-stable-26675454\r\nOS: Windows 10\r\n\r\n#### Expected behavior\r\nCreated EIP-1599 Transaction appears on rinkeby.etherscan.io (testnet)\r\n\r\n#### Actual behaviour\r\nThe transaction goes to the pending list and stays there forever\r\n\r\n#### Steps to reproduce the behavior\r\n\r\n\t//tx := types.NewTx(nonce, toAddress, amount, gasLimit, gasPrice, data)\r\n\tchainID, err := client.NetworkID(ctx)\r\n\tif err != nil {\r\n\t\treturn nil, err\r\n\t}\r\n\r\n    // Transaction fees and Gas explained: https://docs.avax.network/learn/platform-overview/transaction-fees\r\n\ttx := types.NewTx(&types.DynamicFeeTx{\r\n\t\tChainID: chainID,\r\n\t\tNonce: nonce,\r\n\t\tGasFeeCap: big.NewInt(70000000000),//gasPrice,     //  maximum price per unit of gas that the transaction is willing to pay\r\n\t\tGasTipCap: big.NewInt(69000000000),//tipCap,       // maximum amount above the baseFee of a block that the transaction is willing to pay to be included\r\n\t\tGas: gasLimit,\r\n\t\tTo: &toAddress,\r\n\t\tValue: amount,\r\n\t\tData: data,\r\n\t})\r\n\r\n\tsignedTx, err := types.SignTx(tx, types.NewLondonSigner(chainID), privateKey)\r\n\r\n#### Backtrace\r\n\r\n> eth.getTransaction('0xb36233a92a1831a2b2ccd3ed17716aa956be9192d9b582eb3cb4cce60e72c101')\r\n{\r\n  accessList: [],\r\n  blockHash: null,\r\n  blockNumber: null,\r\n  chainId: \"0x4\",\r\n  from: \"0xa16002db5438b5862270a9e404346e3c3b059eeb\",\r\n  gas: 30000,\r\n  gasPrice: 70000000000,\r\n  hash: \"0xb36233a92a1831a2b2ccd3ed17716aa956be9192d9b582eb3cb4cce60e72c101\",\r\n  input: \"0x\",\r\n  maxFeePerGas: 70000000000,\r\n  maxPriorityFeePerGas: 69000000000,\r\n  nonce: 85,\r\n  r: \"0x9c93f3bd51b3d4168a12493399aa75edfe1661d5ac96781b259dc7a7ef11aa1b\",\r\n  s: \"0xa6c870c3dea0c0dd2050d0356f821433f18b2499d2ab2c72c5939648e24d5cf\",\r\n  to: \"0xab23d77d7cb0b1ab53a1bd5b6f84d38701ca87e2\",\r\n  transactionIndex: null,\r\n  type: \"0x2\",\r\n  v: \"0x0\",\r\n  value: 20000000000000000\r\n}",
  "closed_by": {
    "login": "karalabe",
    "id": 129561,
    "node_id": "MDQ6VXNlcjEyOTU2MQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/karalabe",
    "html_url": "https://github.com/karalabe",
    "followers_url": "https://api.github.com/users/karalabe/followers",
    "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
    "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
    "organizations_url": "https://api.github.com/users/karalabe/orgs",
    "repos_url": "https://api.github.com/users/karalabe/repos",
    "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
    "received_events_url": "https://api.github.com/users/karalabe/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23678/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23678/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/933365506",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23678#issuecomment-933365506",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23678",
    "id": 933365506,
    "node_id": "IC_kwDOAOvK9843ogcC",
    "user": {
      "login": "kgiedrius",
      "id": 15670549,
      "node_id": "MDQ6VXNlcjE1NjcwNTQ5",
      "avatar_url": "https://avatars.githubusercontent.com/u/15670549?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kgiedrius",
      "html_url": "https://github.com/kgiedrius",
      "followers_url": "https://api.github.com/users/kgiedrius/followers",
      "following_url": "https://api.github.com/users/kgiedrius/following{/other_user}",
      "gists_url": "https://api.github.com/users/kgiedrius/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kgiedrius/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kgiedrius/subscriptions",
      "organizations_url": "https://api.github.com/users/kgiedrius/orgs",
      "repos_url": "https://api.github.com/users/kgiedrius/repos",
      "events_url": "https://api.github.com/users/kgiedrius/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kgiedrius/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-04T10:50:00Z",
    "updated_at": "2021-10-04T10:50:00Z",
    "author_association": "NONE",
    "body": "But transactions from geth console: eth.sendTransaction({from: \"0x5897435e01492a765d30c6612ad00836af668efa\", to: \"0xaB23D77D7cB0B1ab53a1BD5b6F84d38701CA87e2\", value: \"0000144900000000000\"})  in a few seconds are included into block\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/933365506/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/933401976",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23678#issuecomment-933401976",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23678",
    "id": 933401976,
    "node_id": "IC_kwDOAOvK9843opV4",
    "user": {
      "login": "kgiedrius",
      "id": 15670549,
      "node_id": "MDQ6VXNlcjE1NjcwNTQ5",
      "avatar_url": "https://avatars.githubusercontent.com/u/15670549?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kgiedrius",
      "html_url": "https://github.com/kgiedrius",
      "followers_url": "https://api.github.com/users/kgiedrius/followers",
      "following_url": "https://api.github.com/users/kgiedrius/following{/other_user}",
      "gists_url": "https://api.github.com/users/kgiedrius/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kgiedrius/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kgiedrius/subscriptions",
      "organizations_url": "https://api.github.com/users/kgiedrius/orgs",
      "repos_url": "https://api.github.com/users/kgiedrius/repos",
      "events_url": "https://api.github.com/users/kgiedrius/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kgiedrius/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-04T11:42:57Z",
    "updated_at": "2021-10-04T11:42:57Z",
    "author_association": "NONE",
    "body": "took transaction RAW data and pushed to testnet, and transaction is pending there also.\r\n\r\nhttps://rinkeby.etherscan.io/tx/0x4036f209f180d735d4dfc8a529b42ce5120737304fef7ca8d837605e971bf07b",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/933401976/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/933402967",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23678#issuecomment-933402967",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23678",
    "id": 933402967,
    "node_id": "IC_kwDOAOvK9843oplX",
    "user": {
      "login": "kgiedrius",
      "id": 15670549,
      "node_id": "MDQ6VXNlcjE1NjcwNTQ5",
      "avatar_url": "https://avatars.githubusercontent.com/u/15670549?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kgiedrius",
      "html_url": "https://github.com/kgiedrius",
      "followers_url": "https://api.github.com/users/kgiedrius/followers",
      "following_url": "https://api.github.com/users/kgiedrius/following{/other_user}",
      "gists_url": "https://api.github.com/users/kgiedrius/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kgiedrius/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kgiedrius/subscriptions",
      "organizations_url": "https://api.github.com/users/kgiedrius/orgs",
      "repos_url": "https://api.github.com/users/kgiedrius/repos",
      "events_url": "https://api.github.com/users/kgiedrius/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kgiedrius/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-04T11:44:26Z",
    "updated_at": "2021-10-04T11:44:26Z",
    "author_association": "NONE",
    "body": "Legacy transaction sending works fine",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/933402967/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/953649941",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23678#issuecomment-953649941",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23678",
    "id": 953649941,
    "node_id": "IC_kwDOAOvK984414sV",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-28T09:00:29Z",
    "updated_at": "2021-10-28T09:00:29Z",
    "author_association": "MEMBER",
    "body": "Looking at your account on Etherscan https://rinkeby.etherscan.io/address/0xa16002db5438b5862270a9e404346e3c3b059eeb your next nonce should be 72. Since you specified 85, it's a gapped tx that's kept by your node, but can't be included until you fill the nonce gap.\r\n\r\nYou can check the next required nonce from the console too via `eth.getTranscationCount(addr)`",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/953649941/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
