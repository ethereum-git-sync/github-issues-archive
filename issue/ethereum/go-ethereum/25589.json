{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25589",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25589/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25589/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25589/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/25589",
  "id": 1349216907,
  "node_id": "I_kwDOAOvK985Qa2qL",
  "number": 25589,
  "title": "Need help with 1.10.22 regression, in 1.10.23 I get `Unhandled trie error: missing trie node`",
  "user": {
    "login": "Sajjon",
    "id": 864410,
    "node_id": "MDQ6VXNlcjg2NDQxMA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/864410?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Sajjon",
    "html_url": "https://github.com/Sajjon",
    "followers_url": "https://api.github.com/users/Sajjon/followers",
    "following_url": "https://api.github.com/users/Sajjon/following{/other_user}",
    "gists_url": "https://api.github.com/users/Sajjon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Sajjon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Sajjon/subscriptions",
    "organizations_url": "https://api.github.com/users/Sajjon/orgs",
    "repos_url": "https://api.github.com/users/Sajjon/repos",
    "events_url": "https://api.github.com/users/Sajjon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Sajjon/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 72233650,
      "node_id": "MDU6TGFiZWw3MjIzMzY1MA==",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:bug",
      "name": "type:bug",
      "color": "FF5E5E",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 47,
  "created_at": "2022-08-24T10:28:55Z",
  "updated_at": "2022-10-11T07:32:38Z",
  "closed_at": "2022-09-09T02:04:47Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Hey, this morning I started using the 1.10.22 version this morning for maybe 1 hour, and then I saw that there were reports about regression bug with it. So I followed the [instructions in the release notes for 1.10.23](https://github.com/ethereum/go-ethereum/releases/tag/v1.10.23) to use `debug.setHead` with a blocknumber older than when I moved from 1.10.21 to 1.10.22. I used block number [15400840](https://ethblockexplorer.org/block/0xc910a52d91f2cfaa36242517c9b0c0694f365b65fccd371e72c8659c896de3c7) from 8 hours ago. `0d15400840` is `0xEAFF88` in hex, so I did this command\r\n\r\n```sh\r\n> debug.setHead(\"0xEAFF88\")\r\n```\r\n\r\nwhich looked like it hanged, and then after maybe a minute, I got this error output.:\r\n\r\n```sh\r\nError: Post \"http://localhost:3334\": EOF\r\n\tat web3.js:6365:9(45)\r\n\tat send (web3.js:5099:62(34))\r\n\tat <eval>:1:14(4)\r\n```\r\n\r\nThen I wanted to know which block I was at and if I was syncing:\r\n\r\n```sh\r\n> eth.syncing\r\n{\r\n  currentBlock: 15371819,\r\n  healedBytecodeBytes: 0,\r\n  healedBytecodes: 0,\r\n  healedTrienodeBytes: 0,\r\n  healedTrienodes: 0,\r\n  healingBytecode: 0,\r\n  healingTrienodes: 0,\r\n  highestBlock: 15402202,\r\n  startingBlock: 15402191,\r\n  syncedAccountBytes: 0,\r\n  syncedAccounts: 0,\r\n  syncedBytecodeBytes: 0,\r\n  syncedBytecodes: 0,\r\n  syncedStorage: 0,\r\n  syncedStorageBytes: 0\r\n}\r\n> eth.syncing.highestBlock - eth.syncing.currentBlock\r\n30383\r\n```\r\n\r\nSo it looks like it used some other block number than what I specified, because currentBlock was set to `15371819` and not `15400840` as I specified, which was weird.\r\n\r\nNow I see a crazy amount of errors in log\r\n\r\n```sh\r\nERROR[08-24|12:21:26.881] Unhandled trie error: missing trie node b4fd295a8de6d22dd1009b7e281451681c13a04a122d7de37a89617859548089 (path 08070a) <nil>\r\nERROR[08-24|12:21:26.946] Unhandled trie error: missing trie node f330119795ef1ffb240126b5cf53d34db7a4ba45f051f804b35830af25ccfb05 (path 09010904) <nil>\r\nERROR[08-24|12:21:26.946] Unhandled trie error: missing trie node f330119795ef1ffb240126b5cf53d34db7a4ba45f051f804b35830af25ccfb05 (path 09010904) <nil>\r\nERROR[08-24|12:21:27.181] Unhandled trie error: missing trie node 1e4d3aa7ac49b97d1e1bfd8f2e02be05d7627341ad14e25e9e10f82e42704f7e (path 0f0b0103) <nil>\r\nERROR[08-24|12:21:27.181] Unhandled trie error: missing trie node 1e4d3aa7ac49b97d1e1bfd8f2e02be05d7627341ad14e25e9e10f82e42704f7e (path 0f0b0103) <nil>\r\nERROR[08-24|12:21:27.274] Unhandled trie error: missing trie node d0dac8813869164c560910aee54856c50b85177ab7499601d69d6923f356373a (path 050c0c00) <nil>\r\nERROR[08-24|12:21:27.274] Unhandled trie error: missing trie node d0dac8813869164c560910aee54856c50b85177ab7499601d69d6923f356373a (path 050c0c00) <nil>\r\nERROR[08-24|12:21:27.303] Unhandled trie error: missing trie node 1e5c54aece0093e0be2eda6116dd958062f3523b2bf12b416f4668abd6e7134a (path 050e01) <nil>\r\nERROR[08-24|12:21:27.303] Unhandled trie error: missing trie node 1e5c54aece0093e0be2eda6116dd958062f3523b2bf12b416f4668abd6e7134a (path 050e01) <nil>\r\nERROR[08-24|12:21:27.346] Unhandled trie error: missing trie node 0e6f00399370f7d4b177e4deac666b54c1b146e40dc14bfafefbdfbad1ab96e2 (path 0105060b) <nil>\r\nERROR[08-24|12:21:27.346] Unhandled trie error: missing trie node 0e6f00399370f7d4b177e4deac666b54c1b146e40dc14bfafefbdfbad1ab96e2 (path 0105060b) <nil>\r\nERROR[08-24|12:21:27.418] Unhandled trie error: missing trie node 0e6f00399370f7d4b177e4deac666b54c1b146e40dc14bfafefbdfbad1ab96e2 (path 0105060b) <nil>\r\nERROR[08-24|12:21:27.418] Unhandled trie error: missing trie node 0e6f00399370f7d4b177e4deac666b54c1b146e40dc14bfafefbdfbad1ab96e2 (path 0105060b) <nil>\r\nERROR[08-24|12:21:27.490] Unhandled trie error: missing trie node f330119795ef1ffb240126b5cf53d34db7a4ba45f051f804b35830af25ccfb05 (path 09010904) <nil>\r\nERROR[08-24|12:21:27.490] Unhandled trie error: missing trie node f330119795ef1ffb240126b5cf53d34db7a4ba45f051f804b35830af25ccfb05 (path 09010904) <nil>\r\nERROR[08-24|12:21:27.514] Unhandled trie error: missing trie node 7922024350a418118480a9a08345cd717476146e5f7c68ada7399b5de05d8d36 (path 0c030b0b) <nil>\r\nERROR[08-24|12:21:27.514] Unhandled trie error: missing trie node 7922024350a418118480a9a08345cd717476146e5f7c68ada7399b5de05d8d36 (path 0c030b0b) <nil>\r\nERROR[08-24|12:21:27.547] Unhandled trie error: missing trie node 881d144514a217e25338ab52f8ae41830c149b8daa9c8e7543116af7393ed162 (path 0d020307) <nil>\r\nERROR[08-24|12:21:27.547] Unhandled trie error: missing trie node 881d144514a217e25338ab52f8ae41830c149b8daa9c8e7543116af7393ed162 (path 0d020307) <nil>\r\nERROR[08-24|12:21:27.550] Unhandled trie error: missing trie node 881d144514a217e25338ab52f8ae41830c149b8daa9c8e7543116af7393ed162 (path 0d020307) <nil>\r\nERROR[08-24|12:21:27.550] Unhandled trie error: missing trie node 881d144514a217e25338ab52f8ae41830c149b8daa9c8e7543116af7393ed162 (path 0d020307) <nil>\r\nINFO [08-24|12:21:27.581] Imported new chain segment               blocks=16    txs=1791      mgas=191.093 elapsed=5.423s      mgasps=35.233  number=15,376,561 hash=99400b..d401ac age=4d1h56m  dirty=1018.49MiB\r\nINFO [08-24|12:21:27.960] Importing heavy sidechain segment        blocks=811   start=15,376,562 end=15,377,372\r\nINFO [08-24|12:21:28.094] Unindexed transactions                   blocks=821   txs=130,461   tail=13,026,562 elapsed=512.120ms\r\nINFO [08-24|12:21:36.485] Imported new chain segment               blocks=13    txs=3571      mgas=242.603 elapsed=8.525s      mgasps=28.456  number=15,376,574 hash=9e3069..6e85de age=4d1h54m  dirty=1023.51MiB\r\nINFO [08-24|12:21:44.997] Imported new chain segment               blocks=20    txs=3720      mgas=298.215 elapsed=8.511s      mgasps=35.036  number=15,376,594 hash=8d8539..b0b388 age=4d1h48m  dirty=1023.18MiB\r\nINFO [08-24|12:21:53.875] Imported new chain segment               blocks=17    txs=4552      mgas=325.808 elapsed=8.877s      mgasps=36.699  number=15,376,611 hash=f72b3b..206d5e age=4d1h44m  dirty=1022.29MiB\r\nERROR[08-24|12:22:22.498] Unhandled trie error: missing trie node 17cae2616b12b1f7032d041d2a2b0e681a1416506ffed502d46b51ab48c0f3f0 (path 0e0c0107) <nil>\r\nERROR[08-24|12:22:22.498] Unhandled trie error: missing trie node 17cae2616b12b1f7032d041d2a2b0e681a1416506ffed502d46b51ab48c0f3f0 (path 0e0c0107) <nil>\r\nERROR[08-24|12:22:23.028] Unhandled trie error: missing trie node 17cae2616b12b1f7032d041d2a2b0e681a1416506ffed502d46b51ab48c0f3f0 (path 0e0c0107) <nil>\r\nERROR[08-24|12:22:23.029] Unhandled trie error: missing trie node 17cae2616b12b1f7032d041d2a2b0e681a1416506ffed502d46b51ab48c0f3f0 (path 0e0c0107) <nil>\r\nERROR[08-24|12:22:24.629] Unhandled trie error: missing trie node f9d725c99e120e0f6c1f8dc9cb3d7bab497ed646c6f8bccb6b4b9123840dc44c (path 010f0404) <nil>\r\nERROR[08-24|12:22:24.629] Unhandled trie error: missing trie node f9d725c99e120e0f6c1f8dc9cb3d7bab497ed646c6f8bccb6b4b9123840dc44c (path 010f0404) <nil>\r\nERROR[08-24|12:22:24.693] Unhandled trie error: missing trie node e5b7e37abe5e439ef607018e93729940fab123238920988e548f669d02d14eec (path 0d0b09) <nil>\r\nERROR[08-24|12:22:24.693] Unhandled trie error: missing trie node e5b7e37abe5e439ef607018e93729940fab123238920988e548f669d02d14eec (path 0d0b09) <nil>\r\nERROR[08-24|12:22:24.736] Unhandled trie error: missing trie node e5b7e37abe5e439ef607018e93729940fab123238920988e548f669d02d14eec (path 0d0b09) <nil>\r\nERROR[08-24|12:22:24.736] Unhandled trie error: missing trie node e5b7e37abe5e439ef607018e93729940fab123238920988e548f669d02d14eec (path 0d0b09) <nil>\r\nERROR[08-24|12:22:25.281] Unhandled trie error: missing trie node f9d725c99e120e0f6c1f8dc9cb3d7bab497ed646c6f8bccb6b4b9123840dc44c (path 010f0404) <nil>\r\nERROR[08-24|12:22:25.281] Unhandled trie error: missing trie node f9d725c99e120e0f6c1f8dc9cb3d7bab497ed646c6f8bccb6b4b9123840dc44c (path 010f0404) <nil>\r\nERROR[08-24|12:22:25.342] Unhandled trie error: missing trie node e5b7e37abe5e439ef607018e93729940fab123238920988e548f669d02d14eec (path 0d0b09) <nil>\r\nERROR[08-24|12:22:25.342] Unhandled trie error: missing trie node e5b7e37abe5e439ef607018e93729940fab123238920988e548f669d02d14eec (path 0d0b09) <nil>\r\nERROR[08-24|12:22:25.381] Unhandled trie error: missing trie node 10731524a3e6d4e99017a9a2245cde3acf639007ae150f77b1bb640df5e7506b (path 040f0a03) <nil>\r\nERROR[08-24|12:22:25.381] Unhandled trie error: missing trie node 10731524a3e6d4e99017a9a2245cde3acf639007ae150f77b1bb640df5e7506b (path 040f0a03) <nil>\r\nERROR[08-24|12:22:25.391] Unhandled trie error: missing trie node 6d683e09199f2e85ba9b700db06305ac344f21a2ffccb1fe2cdd8f62275dd2dc (path 050e07) <nil>\r\nERROR[08-24|12:22:25.391] Unhandled trie error: missing trie node 6d683e09199f2e85ba9b700db06305ac344f21a2ffccb1fe2cdd8f62275dd2dc (path 050e07) <nil>\r\nERROR[08-24|12:22:25.703] Unhandled trie error: missing trie node 984fc8385f7111d46c03ad478f4f433d2c01b16da4fc2102892035121c845252 (path 040a09) <nil>\r\nERROR[08-24|12:22:25.730] Unhandled trie error: missing trie node b7e1d3b67cd6c6e72625b629a7ea410626722cd0c3e6c5d6dea02a00e9db77b3 (path 0b0c05) <nil>\r\nERROR[08-24|12:22:25.730] Unhandled trie error: missing trie node b7e1d3b67cd6c6e72625b629a7ea410626722cd0c3e6c5d6dea02a00e9db77b3 (path 0b0c05) <nil>\r\nERROR[08-24|12:22:25.730] Unhandled trie error: missing trie node b7e1d3b67cd6c6e72625b629a7\r\n```\r\n\r\nMaybe not relevant, I also saw:\r\n```sh\r\nWARN [08-24|12:24:54.078] Merge is configured, but previously seen beacon client is offline. Please ensure it is operational before the transition arrives! eta=3w1d1h\r\n```\r\nBut lighthouse is not running now, because of cannot start it https://github.com/sigp/lighthouse/issues/3500\r\n\r\nSo what does this ocean of `Unhandled trie error: missing trie node` mean? Am I f**ked, do I have to do a clean sync from start (7 days)? Or is this normal, i.e. these errors will disappear onces `eth.syncing` goes to `false`? Because when checking, it looks that I'm making progress:\r\n\r\n```sh\r\n> eth.syncing.highestBlock - eth.syncing.currentBlock\r\n27981\r\n> eth.syncing.highestBlock - eth.syncing.currentBlock\r\n27584\r\n> eth.syncing.highestBlock - eth.syncing.currentBlock\r\n27399\r\n> eth.syncing.highestBlock - eth.syncing.currentBlock\r\n27034\r\n> eth.syncing.highestBlock - eth.syncing.currentBlock\r\n25933\r\n> eth.syncing.highestBlock - eth.syncing.currentBlock\r\n24759\r\n```\r\n\r\nBut I don't remember having  seen `Unhandled trie error: missing trie node` before!\r\n\r\nPlease please help <3 \r\n\r\n#### System information\r\n\r\nGeth version: 1.10.23\r\nOS & Version: macOS Monterey 12.5.1 (21G83)\r\n\r\n#### Expected behaviour\r\n\r\n\r\n#### Actual behaviour\r\n\r\n\r\n#### Steps to reproduce the behaviour\r\n\r\n\r\n#### Backtrace\r\n\r\n````\r\n[backtrace]\r\n````\r\n\r\nWhen submitting logs: please submit them as text and not screenshots.",
  "closed_by": {
    "login": "rjl493456442",
    "id": 5959481,
    "node_id": "MDQ6VXNlcjU5NTk0ODE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5959481?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/rjl493456442",
    "html_url": "https://github.com/rjl493456442",
    "followers_url": "https://api.github.com/users/rjl493456442/followers",
    "following_url": "https://api.github.com/users/rjl493456442/following{/other_user}",
    "gists_url": "https://api.github.com/users/rjl493456442/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/rjl493456442/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/rjl493456442/subscriptions",
    "organizations_url": "https://api.github.com/users/rjl493456442/orgs",
    "repos_url": "https://api.github.com/users/rjl493456442/repos",
    "events_url": "https://api.github.com/users/rjl493456442/events{/privacy}",
    "received_events_url": "https://api.github.com/users/rjl493456442/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25589/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25589/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1225537511",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/25589#issuecomment-1225537511",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25589",
    "id": 1225537511,
    "node_id": "IC_kwDOAOvK985JDDfn",
    "user": {
      "login": "Sajjon",
      "id": 864410,
      "node_id": "MDQ6VXNlcjg2NDQxMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/864410?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sajjon",
      "html_url": "https://github.com/Sajjon",
      "followers_url": "https://api.github.com/users/Sajjon/followers",
      "following_url": "https://api.github.com/users/Sajjon/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sajjon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sajjon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sajjon/subscriptions",
      "organizations_url": "https://api.github.com/users/Sajjon/orgs",
      "repos_url": "https://api.github.com/users/Sajjon/repos",
      "events_url": "https://api.github.com/users/Sajjon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sajjon/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-24T10:34:49Z",
    "updated_at": "2022-08-24T10:34:49Z",
    "author_association": "NONE",
    "body": "I just tried restaring `geth` to see what I see, I get `Head state missing, repairing`, what does that mean?\r\n\r\nFull log:\r\n\r\n```sh\r\nINFO [08-24|12:33:53.395] Disk storage enabled for ethash caches   dir=/Users/sajjode/Library/Ethereum/geth/ethash count=3\r\nINFO [08-24|12:33:53.396] Disk storage enabled for ethash DAGs     dir=/Users/sajjode/Library/Ethash count=2\r\nINFO [08-24|12:33:53.398] Initialising Ethereum protocol           network=1 dbversion=8\r\nINFO [08-24|12:33:53.437] Loaded most recent local header          number=15,378,033 hash=db6612..1c3690 td=56,803,191,999,581,582,767,893 age=3d20h28m\r\nINFO [08-24|12:33:53.438] Loaded most recent local full block      number=15,378,033 hash=db6612..1c3690 td=56,803,191,999,581,582,767,893 age=3d20h28m\r\nINFO [08-24|12:33:53.438] Loaded most recent local fast block      number=15,378,033 hash=db6612..1c3690 td=56,803,191,999,581,582,767,893 age=3d20h28m\r\nINFO [08-24|12:33:53.438] Loaded last fast-sync pivot marker       number=12,467,495\r\nWARN [08-24|12:33:53.439] Head state missing, repairing            number=15,378,033 hash=db6612..1c3690 snaproot=07944c..a49773\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1225537511/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1225617209",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/25589#issuecomment-1225617209",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25589",
    "id": 1225617209,
    "node_id": "IC_kwDOAOvK985JDW85",
    "user": {
      "login": "garyng2000",
      "id": 241666,
      "node_id": "MDQ6VXNlcjI0MTY2Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/241666?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/garyng2000",
      "html_url": "https://github.com/garyng2000",
      "followers_url": "https://api.github.com/users/garyng2000/followers",
      "following_url": "https://api.github.com/users/garyng2000/following{/other_user}",
      "gists_url": "https://api.github.com/users/garyng2000/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/garyng2000/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/garyng2000/subscriptions",
      "organizations_url": "https://api.github.com/users/garyng2000/orgs",
      "repos_url": "https://api.github.com/users/garyng2000/repos",
      "events_url": "https://api.github.com/users/garyng2000/events{/privacy}",
      "received_events_url": "https://api.github.com/users/garyng2000/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-24T11:55:21Z",
    "updated_at": "2022-08-24T11:55:21Z",
    "author_association": "NONE",
    "body": "indeed, that debug.setHead(\"0xEAFF88\") gives me the exact same message\r\n\r\nError: Post \"http://localhost:3334\": EOF\r\n\tat web3.js:6365:9(45)\r\n\tat send (web3.js:5099:62(34))\r\n\tat <eval>:1:14(4)\r\n\r\nbut my journal log seems to suggest it is still syncing. just don't know what state it is. This release(.22 and .23) seems to be too rush and the 'patch' is my scary(without warning that the above command may not return immediately and not sure what exactly the above message means",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1225617209/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1225635910",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/25589#issuecomment-1225635910",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25589",
    "id": 1225635910,
    "node_id": "IC_kwDOAOvK985JDbhG",
    "user": {
      "login": "garyng2000",
      "id": 241666,
      "node_id": "MDQ6VXNlcjI0MTY2Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/241666?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/garyng2000",
      "html_url": "https://github.com/garyng2000",
      "followers_url": "https://api.github.com/users/garyng2000/followers",
      "following_url": "https://api.github.com/users/garyng2000/following{/other_user}",
      "gists_url": "https://api.github.com/users/garyng2000/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/garyng2000/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/garyng2000/subscriptions",
      "organizations_url": "https://api.github.com/users/garyng2000/orgs",
      "repos_url": "https://api.github.com/users/garyng2000/repos",
      "events_url": "https://api.github.com/users/garyng2000/events{/privacy}",
      "received_events_url": "https://api.github.com/users/garyng2000/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-24T12:10:10Z",
    "updated_at": "2022-08-24T13:12:58Z",
    "author_association": "NONE",
    "body": "and now my log is showing huge amount of this\r\n\r\nERROR[08-24|12:09:27.894] Demoting invalidated transaction         hash=41b422..127396\r\nand\r\nnow it disappear and continue syncing from the block I specify, but extremely slow.\r\n\r\nthis regression is a nightmare\r\n\r\nand now I see these Tries missing error(and the imported new chain segment is extremely slow, at this rate I would further lag behind as my other node which I haven't done the rewind is importing faster which is already like 10k block ahead and counting)\r\n\r\n```\r\nAug 24 12:31:21 hqprdubeth startmainnet.sh[3940083]: INFO [08-24|12:31:21.226] Resuming state snapshot generation       root=e25933..59c0d5 at=004550..1aae0f accounts=190,049 slots=1,179,077 storage=93.40MiB dangling=0 elapsed=6m33.>\r\nAug 24 12:31:21 hqprdubeth startmainnet.sh[3940083]: INFO [08-24|12:31:21.226] Trie missing, state snapshotting paused  root=e25933..59c0d5 at=004550..1aae0f accounts=190,049 slots=1,179,077 storage=93.40MiB dangling=0 elapsed=6m33.>\r\nAug 24 12:31:21 hqprdubeth startmainnet.sh[3940083]: INFO [08-24|12:31:21.228] Imported new chain segment               blocks=1 txs=74  mgas=6.826  elapsed=14.535s     mgasps=0.470 number=15,393,661 hash=b86569..d8482f age=1d11h12m>\r\nAug 24 12:31:47 hqprdubeth startmainnet.sh[3940083]: INFO [08-24|12:31:47.648] Resuming state snapshot generation       root=f2b19b..de357b at=004550..1aae0f accounts=190,049 slots=1,179,077 storage=93.40MiB dangling=0 elapsed=7m0.3>\r\nAug 24 12:31:47 hqprdubeth startmainnet.sh[3940083]: INFO [08-24|12:31:47.648] Trie missing, state snapshotting paused  root=f2b19b..de357b at=004550..1aae0f accounts=190,049 slots=1,179,077 storage=93.40MiB dangling=0 elapsed=7m0.3>\r\nAug 24 12:31:47 hqprdubeth startmainnet.sh[3940083]: INFO [08-24|12:31:47.653] Imported new chain segment               blocks=1 txs=173 mgas=19.751 elapsed=26.424s     mgasps=0.747 number=15,393,662 hash=232236..c92d4c age=1d11h12m>\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1225635910/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1225700997",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/25589#issuecomment-1225700997",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25589",
    "id": 1225700997,
    "node_id": "IC_kwDOAOvK985JDraF",
    "user": {
      "login": "RisingPaw",
      "id": 104254327,
      "node_id": "U_kgDOBjbLdw",
      "avatar_url": "https://avatars.githubusercontent.com/u/104254327?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/RisingPaw",
      "html_url": "https://github.com/RisingPaw",
      "followers_url": "https://api.github.com/users/RisingPaw/followers",
      "following_url": "https://api.github.com/users/RisingPaw/following{/other_user}",
      "gists_url": "https://api.github.com/users/RisingPaw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/RisingPaw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/RisingPaw/subscriptions",
      "organizations_url": "https://api.github.com/users/RisingPaw/orgs",
      "repos_url": "https://api.github.com/users/RisingPaw/repos",
      "events_url": "https://api.github.com/users/RisingPaw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/RisingPaw/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-24T13:06:24Z",
    "updated_at": "2022-08-24T13:26:28Z",
    "author_association": "NONE",
    "body": "Same issue here. Did rewind with setHead to a block before the release (docker tag), encountered the same error EOF from the console. However it looked like it worked as it started syncing from 2d, but I went back to a log full of trie missing errors.\r\n\r\nWould love to have an update to know if my node is borked and if I should resync from scratch. Here is a log dump:\r\n\r\nhttps://gist.github.com/RisingPaw/93c04a636b905e32318978db87c0ac38\r\n\r\nI think it might be smart to enter a feature freeze for geth before the merge, just to be on the safe side.\r\n\r\nEDIT: Anyway, keep up the good work! And thank you for this awesome piece of software.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1225700997/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1225711267",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/25589#issuecomment-1225711267",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25589",
    "id": 1225711267,
    "node_id": "IC_kwDOAOvK985JDt6j",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-24T13:15:04Z",
    "updated_at": "2022-08-24T13:15:04Z",
    "author_association": "MEMBER",
    "body": "`Trie missing, state snapshotting paused` @garyng2000 yes this is borked. Did you do a sethead back? It appears it didn't go far enough. I would recommend a fresh sync, via `geth ... removedb` but opt to keep the ancients in place. \r\n\r\n@RisingPaw can't say for sure without logs. \"trie missing errors\" -- in what context? ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1225711267/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1225717136",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/25589#issuecomment-1225717136",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25589",
    "id": 1225717136,
    "node_id": "IC_kwDOAOvK985JDvWQ",
    "user": {
      "login": "garyng2000",
      "id": 241666,
      "node_id": "MDQ6VXNlcjI0MTY2Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/241666?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/garyng2000",
      "html_url": "https://github.com/garyng2000",
      "followers_url": "https://api.github.com/users/garyng2000/followers",
      "following_url": "https://api.github.com/users/garyng2000/following{/other_user}",
      "gists_url": "https://api.github.com/users/garyng2000/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/garyng2000/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/garyng2000/subscriptions",
      "organizations_url": "https://api.github.com/users/garyng2000/orgs",
      "repos_url": "https://api.github.com/users/garyng2000/repos",
      "events_url": "https://api.github.com/users/garyng2000/events{/privacy}",
      "received_events_url": "https://api.github.com/users/garyng2000/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-24T13:19:55Z",
    "updated_at": "2022-08-24T13:19:55Z",
    "author_association": "NONE",
    "body": "@RisingPaw indeed. I usually would delay my upgrade or at least test them out on a spare setup for a while. But this time it is about the merge, sigh.\r\n\r\n@holiman, thanks. I would just sync from fresh.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1225717136/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1225719047",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/25589#issuecomment-1225719047",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25589",
    "id": 1225719047,
    "node_id": "IC_kwDOAOvK985JDv0H",
    "user": {
      "login": "RisingPaw",
      "id": 104254327,
      "node_id": "U_kgDOBjbLdw",
      "avatar_url": "https://avatars.githubusercontent.com/u/104254327?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/RisingPaw",
      "html_url": "https://github.com/RisingPaw",
      "followers_url": "https://api.github.com/users/RisingPaw/followers",
      "following_url": "https://api.github.com/users/RisingPaw/following{/other_user}",
      "gists_url": "https://api.github.com/users/RisingPaw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/RisingPaw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/RisingPaw/subscriptions",
      "organizations_url": "https://api.github.com/users/RisingPaw/orgs",
      "repos_url": "https://api.github.com/users/RisingPaw/repos",
      "events_url": "https://api.github.com/users/RisingPaw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/RisingPaw/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-24T13:21:32Z",
    "updated_at": "2022-08-24T13:21:32Z",
    "author_association": "NONE",
    "body": "@holiman here is a log dump before I did a docker compose restart .\r\n\r\nhttps://gist.github.com/RisingPaw/93c04a636b905e32318978db87c0ac38",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1225719047/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1225721965",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/25589#issuecomment-1225721965",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25589",
    "id": 1225721965,
    "node_id": "IC_kwDOAOvK985JDwht",
    "user": {
      "login": "garyng2000",
      "id": 241666,
      "node_id": "MDQ6VXNlcjI0MTY2Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/241666?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/garyng2000",
      "html_url": "https://github.com/garyng2000",
      "followers_url": "https://api.github.com/users/garyng2000/followers",
      "following_url": "https://api.github.com/users/garyng2000/following{/other_user}",
      "gists_url": "https://api.github.com/users/garyng2000/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/garyng2000/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/garyng2000/subscriptions",
      "organizations_url": "https://api.github.com/users/garyng2000/orgs",
      "repos_url": "https://api.github.com/users/garyng2000/repos",
      "events_url": "https://api.github.com/users/garyng2000/events{/privacy}",
      "received_events_url": "https://api.github.com/users/garyng2000/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-24T13:23:57Z",
    "updated_at": "2022-08-24T13:23:57Z",
    "author_association": "NONE",
    "body": "and I really strongly suggest to not even mentioning that debug.setHead patch, just re-sync with the ancient data kept(based on what I see only about 1 week of data). It seems to cause my trouble.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1225721965/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1225725118",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/25589#issuecomment-1225725118",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25589",
    "id": 1225725118,
    "node_id": "IC_kwDOAOvK985JDxS-",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-24T13:26:20Z",
    "updated_at": "2022-08-24T13:26:20Z",
    "author_association": "MEMBER",
    "body": "@RisingPaw that's a lot of errors. I'd recommend to just resync with the ancient data kept. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1225725118/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1225726243",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/25589#issuecomment-1225726243",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25589",
    "id": 1225726243,
    "node_id": "IC_kwDOAOvK985JDxkj",
    "user": {
      "login": "RisingPaw",
      "id": 104254327,
      "node_id": "U_kgDOBjbLdw",
      "avatar_url": "https://avatars.githubusercontent.com/u/104254327?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/RisingPaw",
      "html_url": "https://github.com/RisingPaw",
      "followers_url": "https://api.github.com/users/RisingPaw/followers",
      "following_url": "https://api.github.com/users/RisingPaw/following{/other_user}",
      "gists_url": "https://api.github.com/users/RisingPaw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/RisingPaw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/RisingPaw/subscriptions",
      "organizations_url": "https://api.github.com/users/RisingPaw/orgs",
      "repos_url": "https://api.github.com/users/RisingPaw/repos",
      "events_url": "https://api.github.com/users/RisingPaw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/RisingPaw/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-24T13:27:14Z",
    "updated_at": "2022-08-24T13:27:54Z",
    "author_association": "NONE",
    "body": "> @RisingPaw that's a lot of errors. I'd recommend to just resync with the ancient data kept.\r\n\r\nHow can I achieve that? Just restart? Anything to enter into the console? Thanks!",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1225726243/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1225727446",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/25589#issuecomment-1225727446",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25589",
    "id": 1225727446,
    "node_id": "IC_kwDOAOvK985JDx3W",
    "user": {
      "login": "garyng2000",
      "id": 241666,
      "node_id": "MDQ6VXNlcjI0MTY2Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/241666?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/garyng2000",
      "html_url": "https://github.com/garyng2000",
      "followers_url": "https://api.github.com/users/garyng2000/followers",
      "following_url": "https://api.github.com/users/garyng2000/following{/other_user}",
      "gists_url": "https://api.github.com/users/garyng2000/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/garyng2000/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/garyng2000/subscriptions",
      "organizations_url": "https://api.github.com/users/garyng2000/orgs",
      "repos_url": "https://api.github.com/users/garyng2000/repos",
      "events_url": "https://api.github.com/users/garyng2000/events{/privacy}",
      "received_events_url": "https://api.github.com/users/garyng2000/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-24T13:28:09Z",
    "updated_at": "2022-08-24T13:28:09Z",
    "author_association": "NONE",
    "body": "geth removedb but keep the ancient data when asked\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1225727446/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1225732029",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/25589#issuecomment-1225732029",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25589",
    "id": 1225732029,
    "node_id": "IC_kwDOAOvK985JDy-9",
    "user": {
      "login": "RisingPaw",
      "id": 104254327,
      "node_id": "U_kgDOBjbLdw",
      "avatar_url": "https://avatars.githubusercontent.com/u/104254327?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/RisingPaw",
      "html_url": "https://github.com/RisingPaw",
      "followers_url": "https://api.github.com/users/RisingPaw/followers",
      "following_url": "https://api.github.com/users/RisingPaw/following{/other_user}",
      "gists_url": "https://api.github.com/users/RisingPaw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/RisingPaw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/RisingPaw/subscriptions",
      "organizations_url": "https://api.github.com/users/RisingPaw/orgs",
      "repos_url": "https://api.github.com/users/RisingPaw/repos",
      "events_url": "https://api.github.com/users/RisingPaw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/RisingPaw/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-24T13:31:30Z",
    "updated_at": "2022-08-24T13:31:30Z",
    "author_association": "NONE",
    "body": "@garyng2000 just to be sure:\r\n\r\n`Remove full node state database (/data/ethereum/geth/chaindata)?` should answer `y`.\r\n`Remove full node ancient database (/data/ethereum/geth/chaindata/ancient)?` should answer `n`.\r\n\r\nThats it?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1225732029/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1225732707",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/25589#issuecomment-1225732707",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25589",
    "id": 1225732707,
    "node_id": "IC_kwDOAOvK985JDzJj",
    "user": {
      "login": "garyng2000",
      "id": 241666,
      "node_id": "MDQ6VXNlcjI0MTY2Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/241666?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/garyng2000",
      "html_url": "https://github.com/garyng2000",
      "followers_url": "https://api.github.com/users/garyng2000/followers",
      "following_url": "https://api.github.com/users/garyng2000/following{/other_user}",
      "gists_url": "https://api.github.com/users/garyng2000/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/garyng2000/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/garyng2000/subscriptions",
      "organizations_url": "https://api.github.com/users/garyng2000/orgs",
      "repos_url": "https://api.github.com/users/garyng2000/repos",
      "events_url": "https://api.github.com/users/garyng2000/events{/privacy}",
      "received_events_url": "https://api.github.com/users/garyng2000/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-24T13:32:03Z",
    "updated_at": "2022-08-24T13:32:03Z",
    "author_association": "NONE",
    "body": "that is what I have done, and waiting the re-sync about a week behind",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1225732707/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1225785115",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/25589#issuecomment-1225785115",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25589",
    "id": 1225785115,
    "node_id": "IC_kwDOAOvK985JD_8b",
    "user": {
      "login": "cybersi",
      "id": 47881355,
      "node_id": "MDQ6VXNlcjQ3ODgxMzU1",
      "avatar_url": "https://avatars.githubusercontent.com/u/47881355?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cybersi",
      "html_url": "https://github.com/cybersi",
      "followers_url": "https://api.github.com/users/cybersi/followers",
      "following_url": "https://api.github.com/users/cybersi/following{/other_user}",
      "gists_url": "https://api.github.com/users/cybersi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cybersi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cybersi/subscriptions",
      "organizations_url": "https://api.github.com/users/cybersi/orgs",
      "repos_url": "https://api.github.com/users/cybersi/repos",
      "events_url": "https://api.github.com/users/cybersi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cybersi/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-24T14:13:51Z",
    "updated_at": "2022-08-24T14:13:51Z",
    "author_association": "NONE",
    "body": "I took me about 15 hours, to sync from scratch, so it's not that bad. The snapshot sync is now enabled by default and it helps a lot. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1225785115/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1225796045",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/25589#issuecomment-1225796045",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25589",
    "id": 1225796045,
    "node_id": "IC_kwDOAOvK985JECnN",
    "user": {
      "login": "Sajjon",
      "id": 864410,
      "node_id": "MDQ6VXNlcjg2NDQxMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/864410?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sajjon",
      "html_url": "https://github.com/Sajjon",
      "followers_url": "https://api.github.com/users/Sajjon/followers",
      "following_url": "https://api.github.com/users/Sajjon/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sajjon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sajjon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sajjon/subscriptions",
      "organizations_url": "https://api.github.com/users/Sajjon/orgs",
      "repos_url": "https://api.github.com/users/Sajjon/repos",
      "events_url": "https://api.github.com/users/Sajjon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sajjon/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-24T14:22:28Z",
    "updated_at": "2022-08-24T14:22:28Z",
    "author_association": "NONE",
    "body": "> `Trie missing, state snapshotting paused` @garyng2000 yes this is borked. Did you do a sethead back? It appears it didn't go far enough. I would recommend a fresh sync, via `geth ... removedb` but opt to keep the ancients in place. \n> \n> \n> \n> @RisingPaw can't say for sure without logs. \"trie missing errors\" -- in what context? \n\nAm I (OP) borked too?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1225796045/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1225848818",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/25589#issuecomment-1225848818",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25589",
    "id": 1225848818,
    "node_id": "IC_kwDOAOvK985JEPfy",
    "user": {
      "login": "gitmewai",
      "id": 101709931,
      "node_id": "U_kgDOBg_4aw",
      "avatar_url": "https://avatars.githubusercontent.com/u/101709931?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gitmewai",
      "html_url": "https://github.com/gitmewai",
      "followers_url": "https://api.github.com/users/gitmewai/followers",
      "following_url": "https://api.github.com/users/gitmewai/following{/other_user}",
      "gists_url": "https://api.github.com/users/gitmewai/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gitmewai/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gitmewai/subscriptions",
      "organizations_url": "https://api.github.com/users/gitmewai/orgs",
      "repos_url": "https://api.github.com/users/gitmewai/repos",
      "events_url": "https://api.github.com/users/gitmewai/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gitmewai/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-24T15:02:58Z",
    "updated_at": "2022-08-24T15:02:58Z",
    "author_association": "NONE",
    "body": "We are running archive nodes with `--gcmode archive` with `SyncMode = \"full\"` and `NoPruning = true` in config file. Is the archive node also affected by the `1.10.22` regression if there is no pruning action on the node?\r\n\r\nThe command `geth snapshot traverse-state` has been running for almost 2.5 hours on this goerli archive node and no errors reported so far. You know, it's not practical to resync an archive node from genesis.\r\n\r\nThanks",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1225848818/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1225859742",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/25589#issuecomment-1225859742",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25589",
    "id": 1225859742,
    "node_id": "IC_kwDOAOvK985JESKe",
    "user": {
      "login": "c0deright",
      "id": 20477825,
      "node_id": "MDQ6VXNlcjIwNDc3ODI1",
      "avatar_url": "https://avatars.githubusercontent.com/u/20477825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/c0deright",
      "html_url": "https://github.com/c0deright",
      "followers_url": "https://api.github.com/users/c0deright/followers",
      "following_url": "https://api.github.com/users/c0deright/following{/other_user}",
      "gists_url": "https://api.github.com/users/c0deright/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/c0deright/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/c0deright/subscriptions",
      "organizations_url": "https://api.github.com/users/c0deright/orgs",
      "repos_url": "https://api.github.com/users/c0deright/repos",
      "events_url": "https://api.github.com/users/c0deright/events{/privacy}",
      "received_events_url": "https://api.github.com/users/c0deright/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-24T15:11:44Z",
    "updated_at": "2022-08-24T15:11:44Z",
    "author_association": "NONE",
    "body": "The EOF error is most likely a timeout between geth cli and geth daemon and can be ignored. Just check the log of your daemon and you will see that geth is indeed rewinding the blockchain.\r\n\r\nBut I have these\r\n```\r\nUnhandled trie error: missing trie node 9a2047c93da8dd3f9a92a18295a3569ebb41371e6676650d239cae8561536257 (path 0c04040a) <nil>\r\n```\r\nerrors, too, but geth is still syncing.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1225859742/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1225942254",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/25589#issuecomment-1225942254",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25589",
    "id": 1225942254,
    "node_id": "IC_kwDOAOvK985JEmTu",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-24T16:15:07Z",
    "updated_at": "2022-08-24T16:15:07Z",
    "author_association": "MEMBER",
    "body": "Now that I think about it... Archive nodes should not be affected. They don't have a node garbage collector, so everything is immediately flushed. You should be fine.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1225942254/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1226015853",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/25589#issuecomment-1226015853",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25589",
    "id": 1226015853,
    "node_id": "IC_kwDOAOvK985JE4Rt",
    "user": {
      "login": "Sajjon",
      "id": 864410,
      "node_id": "MDQ6VXNlcjg2NDQxMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/864410?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sajjon",
      "html_url": "https://github.com/Sajjon",
      "followers_url": "https://api.github.com/users/Sajjon/followers",
      "following_url": "https://api.github.com/users/Sajjon/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sajjon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sajjon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sajjon/subscriptions",
      "organizations_url": "https://api.github.com/users/Sajjon/orgs",
      "repos_url": "https://api.github.com/users/Sajjon/repos",
      "events_url": "https://api.github.com/users/Sajjon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sajjon/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-24T17:20:59Z",
    "updated_at": "2022-08-24T17:34:35Z",
    "author_association": "NONE",
    "body": "@karalabe You wrote in [another thread](https://github.com/ethereum/go-ethereum/issues/25579#issuecomment-1225962331):\r\n\r\n> If after setHead you are seeing missing trie node errors, then the db is fried beyond recovery and you shoudl resync \r\n\r\nBut I think maybe it works for me now, maybe here is a [gist with hundred log entries](https://gist.github.com/Sajjon/0d2da59ba3e73052a2b480917f387e06), and I don't see any errors anymore? \r\n\r\n```sh\r\nUnindexed transactions                   blocks=1     txs=39        tail=13,054,155 elapsed=\"313.875µs\"\r\nINFO [08-24|19:13:44.624] Generating state snapshot                root=5ad928..cd0ba1 at=0593cc..e22cb3 accounts=3,926,565            slots=17,271,639           storage=1.51GiB    dangling=0 elapsed=3m17.830s   eta=2h28m2.607s\r\nINFO [08-24|19:13:52.626] Generating state snapshot                root=5ad928..cd0ba1 in=05ed74..370d0d at=edbbef..af99d4 accounts=4,173,799            slots=17,887,309           storage=1.56GiB    dangling=0 elapsed=3m25.832s   eta=2h24m43.708s\r\nINFO [08-24|19:13:56.159] Aborting state snapshot generation       root=5ad928..cd0ba1 in=061039..c5fd4e at=39d3c7..b4d670 accounts=4,269,191            slots=18,208,306           storage=1.59GiB    dangling=0 elapsed=3m29.365s   eta=2h23m50.218s\r\nINFO [08-24|19:13:56.159] Resuming state snapshot generation       root=606014..8c7dbd in=061039..c5fd4e at=39d3c7..b4d670 accounts=4,269,191            slots=18,208,306           storage=1.59GiB    dangling=0 elapsed=3m29.365s   eta=2h23m50.218s\r\nINFO [08-24|19:13:56.190] Imported new chain segment               blocks=1     txs=208       mgas=21.150  elapsed=131.092ms   mgasps=161.338 number=15,404,155 hash=58cd64..ce066e dirty=216.45MiB\r\nINFO [08-24|19:13:56.193] Unindexed transactions                   blocks=1     txs=402       tail=13,054,156 elapsed=2.885ms\r\n```\r\n\r\nFuthermore, when I `geth attach` it is not syncing anymore:\r\n\r\n```sh\r\n{\r\n  currentBlock: 15404013,\r\n  healedBytecodeBytes: 1380778,\r\n  healedBytecodes: 169,\r\n  healedTrienodeBytes: 311875891,\r\n  healedTrienodes: 1088686,\r\n  healingBytecode: 0,\r\n  healingTrienodes: 1181,\r\n  highestBlock: 15404111,\r\n  startingBlock: 15400840,\r\n  syncedAccountBytes: 44688733182,\r\n  syncedAccounts: 181096005,\r\n  syncedBytecodeBytes: 1570849,\r\n  syncedBytecodes: 184,\r\n  syncedStorage: 229585039,\r\n  syncedStorageBytes: 50173550930\r\n}\r\n> eth.syncing.highestBlock - eth.syncing.currentBlock\r\n98\r\n> eth.syncing.highestBlock - eth.syncing.currentBlock\r\nNaN\r\n> eth.syncing.highestBlock - eth.syncing.currentBlock\r\nNaN\r\n>\r\n```\r\n\r\nSo am I all good now? `debug.setHead` work even though I saw nasty `Unhandled trie error: missing trie node` until syncing was done? Or should I still resync? \r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1226015853/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1226151908",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/25589#issuecomment-1226151908",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25589",
    "id": 1226151908,
    "node_id": "IC_kwDOAOvK985JFZfk",
    "user": {
      "login": "c0deright",
      "id": 20477825,
      "node_id": "MDQ6VXNlcjIwNDc3ODI1",
      "avatar_url": "https://avatars.githubusercontent.com/u/20477825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/c0deright",
      "html_url": "https://github.com/c0deright",
      "followers_url": "https://api.github.com/users/c0deright/followers",
      "following_url": "https://api.github.com/users/c0deright/following{/other_user}",
      "gists_url": "https://api.github.com/users/c0deright/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/c0deright/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/c0deright/subscriptions",
      "organizations_url": "https://api.github.com/users/c0deright/orgs",
      "repos_url": "https://api.github.com/users/c0deright/repos",
      "events_url": "https://api.github.com/users/c0deright/events{/privacy}",
      "received_events_url": "https://api.github.com/users/c0deright/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-24T19:29:30Z",
    "updated_at": "2022-08-24T19:29:30Z",
    "author_association": "NONE",
    "body": "Same for me. I saw many `missing trie node` errors but as soon as geth did sync to head no more errors, even after restart of geth. Still wipe db @karalabe?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1226151908/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1226214944",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/25589#issuecomment-1226214944",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25589",
    "id": 1226214944,
    "node_id": "IC_kwDOAOvK985JFo4g",
    "user": {
      "login": "winksaville",
      "id": 1024284,
      "node_id": "MDQ6VXNlcjEwMjQyODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1024284?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/winksaville",
      "html_url": "https://github.com/winksaville",
      "followers_url": "https://api.github.com/users/winksaville/followers",
      "following_url": "https://api.github.com/users/winksaville/following{/other_user}",
      "gists_url": "https://api.github.com/users/winksaville/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/winksaville/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/winksaville/subscriptions",
      "organizations_url": "https://api.github.com/users/winksaville/orgs",
      "repos_url": "https://api.github.com/users/winksaville/repos",
      "events_url": "https://api.github.com/users/winksaville/events{/privacy}",
      "received_events_url": "https://api.github.com/users/winksaville/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-24T20:02:38Z",
    "updated_at": "2022-08-24T20:02:38Z",
    "author_association": "NONE",
    "body": "@c0deright, @Sajjon, I also saw many many `missing trie node` on my `goerli` node and then it \"sync'd\" and it seemed OK. I then rebooted and everything continues to look good.\r\n\r\nSince that seemed OK, I went ahead and did it on a `mainnet` node and it's just finished syncing, and all seem OK.\r\n\r\nHere is the console output from eth.syncing the first one was just before it finished and a short time later we see `false`:\r\n```\r\n> eth.syncing\r\n{\r\n  currentBlock: 15404546,\r\n  healedBytecodeBytes: 0,\r\n  healedBytecodes: 0,\r\n  healedTrienodeBytes: 0,\r\n  healedTrienodes: 0,\r\n  healingBytecode: 0,\r\n  healingTrienodes: 0,\r\n  highestBlock: 15404695,\r\n  startingBlock: 15398218,\r\n  syncedAccountBytes: 0,\r\n  syncedAccounts: 0,\r\n  syncedBytecodeBytes: 0,\r\n  syncedBytecodes: 0,\r\n  syncedStorage: 0,\r\n  syncedStorageBytes: 0\r\n}\r\n> eth.syncing\r\nfalse\r\n> \r\n```\r\nHere is the eth1.service logs when I stopped seeing the \"Unhanded trie error\":\r\n```\r\nAug 24 12:37:41 hazel geth[20942]: ERROR[08-24|12:37:41.583] Unhandled trie error: missing trie node 3de83dc52d315d44bc1559e9461c93345781e1dafe2f1bd2223f89383f5f7450 (path 06) <nil>\r\nAug 24 12:37:41 hazel geth[20942]: ERROR[08-24|12:37:41.631] Unhandled trie error: missing trie node 5b57397796aab0c2a975f0c5d7a671374ae92683c7c096b376a1d09d3a9ffa16 (path 0a) <nil>\r\nAug 24 12:37:41 hazel geth[20942]: ERROR[08-24|12:37:41.631] Unhandled trie error: missing trie node 5b57397796aab0c2a975f0c5d7a671374ae92683c7c096b376a1d09d3a9ffa16 (path 0a) <nil>\r\nAug 24 12:37:41 hazel geth[20942]: INFO [08-24|12:37:41.638] Imported new chain segment               blocks=45   txs=6363      mgas=632.026 elapsed=6.617s    mgasps=95.510  number=15,404,695 hash=6ccbb3..39e5ba age=21m       dirty=1021.51MiB\r\nAug 24 12:37:41 hazel geth[20942]: WARN [08-24|12:37:41.646] Synchronisation failed, dropping peer    peer=da5f8f45b9c8f74d93465ec3833b60894636645489097de4c6e6ea2364b75031 err=\"action from bad peer ignored: header request failed: timeout\"\r\nAug 24 12:37:41 hazel geth[20942]: INFO [08-24|12:37:41.871] Unindexed transactions                   blocks=175  txs=36399     tail=13,054,696 elapsed=233.003ms\r\nAug 24 12:37:50 hazel geth[20942]: INFO [08-24|12:37:50.713] Imported new chain segment               blocks=15   txs=3004      mgas=282.238 elapsed=2.600s    mgasps=108.518 number=15,404,710 hash=3d251a..f65cef age=17m43s    dirty=1022.99MiB\r\nAug 24 12:37:50 hazel geth[20942]: INFO [08-24|12:37:50.735] Unindexed transactions                   blocks=15   txs=3581      tail=13,054,711 elapsed=21.503ms\r\nAug 24 12:37:57 hazel geth[20942]: INFO [08-24|12:37:57.885] Imported new chain segment               blocks=41   txs=7435      mgas=705.481 elapsed=7.170s    mgasps=98.386  number=15,404,751 hash=d35855..850c16 age=7m43s     dirty=1019.27MiB\r\nAug 24 12:37:58 hazel geth[20942]: INFO [08-24|12:37:58.012] Unindexed transactions                   blocks=41   txs=9420      tail=13,054,752 elapsed=126.751ms\r\nAug 24 12:38:02 hazel geth[20942]: INFO [08-24|12:38:02.632] Imported new chain segment               blocks=32   txs=5001      mgas=460.011 elapsed=4.746s    mgasps=96.910  number=15,404,783 hash=ad71ac..5cc713 dirty=1022.51MiB\r\nAug 24 12:38:02 hazel geth[20942]: INFO [08-24|12:38:02.703] Unindexed transactions                   blocks=32   txs=9093      tail=13,054,784 elapsed=67.809ms\r\nAug 24 12:38:02 hazel geth[20942]: INFO [08-24|12:38:02.787] Imported new chain segment               blocks=2    txs=179       mgas=17.783  elapsed=155.107ms mgasps=114.650 number=15,404,785 hash=2967d7..aedaf3 dirty=1020.93MiB\r\nAug 24 12:38:02 hazel geth[20942]: INFO [08-24|12:38:02.792] Unindexed transactions                   blocks=2    txs=689       tail=13,054,786 elapsed=4.756ms\r\nAug 24 12:38:24 hazel geth[20942]: INFO [08-24|12:38:24.399] Imported new chain segment               blocks=1    txs=330       mgas=29.996  elapsed=153.239ms mgasps=195.745 number=15,404,786 hash=b6d1df..f45f6f dirty=1022.82MiB\r\nAug 24 12:38:24 hazel geth[20942]: INFO [08-24|12:38:24.400] Unindexed transactions                   blocks=1    txs=153       tail=13,054,787 elapsed=1.368ms\r\nAug 24 12:38:34 hazel geth[20942]: INFO [08-24|12:38:34.544] Imported new chain segment               blocks=1    txs=273       mgas=29.997  elapsed=246.268ms mgasps=121.806 number=15,404,787 hash=507988..2b794f dirty=1022.73MiB\r\nAug 24 12:38:34 hazel geth[20942]: INFO [08-24|12:38:34.548] Unindexed transactions                   blocks=1    txs=448       tail=13,054,788 elapsed=3.945ms\r\nAug 24 12:38:47 hazel geth[20942]: INFO [08-24|12:38:47.120] Imported new chain segment               blocks=1    txs=270       mgas=29.992  elapsed=117.827ms mgasps=254.537 number=15,404,787 hash=79f1df..b0acc7 dirty=1023.12MiB\r\nAug 24 12:38:52 hazel geth[20942]: INFO [08-24|12:38:52.880] Chain reorg detected                     number=15,404,786 hash=b6d1df..f45f6f drop=1 dropfrom=507988..2b794f add=2 addfrom=4668f5..25d613\r\nAug 24 12:38:52 hazel geth[20942]: INFO [08-24|12:38:52.889] Imported new chain segment               blocks=1    txs=307       mgas=19.036  elapsed=184.067ms mgasps=103.417 number=15,404,788 hash=4668f5..25d613 dirty=1023.55MiB\r\nAug 24 12:38:52 hazel geth[20942]: INFO [08-24|12:38:52.891] Unindexed transactions                   blocks=1    txs=242       tail=13,054,789 elapsed=1.937ms\r\nAug 24 12:39:37 hazel geth[20942]: INFO [08-24|12:39:37.850] Imported new chain segment               blocks=1    txs=365       mgas=30.022  elapsed=234.365ms mgasps=128.099 number=15,404,789 hash=32b103..c551f9 dirty=1022.57MiB\r\nAug 24 12:39:37 hazel geth[20942]: INFO [08-24|12:39:37.854] Unindexed transactions                   blocks=1    txs=387       tail=13,054,790 elapsed=3.508ms\r\nAug 24 12:39:40 hazel geth[20942]: INFO [08-24|12:39:40.093] Imported new chain segment               blocks=1    txs=114       mgas=9.922   elapsed=108.565ms mgasps=91.397  number=15,404,790 hash=b6beeb..920036 dirty=1021.70MiB\r\n```\r\nAnd on the `beacon-chain` node and we see `WARN Not ready for merge` and 12 seconds later we see `INFO Ready for merge`:\r\n```\r\nAug 24 12:38:05 hazel lighthouse[20959]: Aug 24 19:38:05.002 WARN Not ready for merge ...\r\n...\r\nAug 24 12:38:17 hazel lighthouse[20959]: Aug 24 19:38:17.011 INFO Ready for the merge\r\n```\r\n\r\nHere is the complete logs for the `beacon-chain` covering the same time:\r\n```\r\nAug 24 12:37:41 hazel lighthouse[20959]: Aug 24 19:37:41.001 INFO Synced                                  slot: 4545486, block: 0x1309…c87a, epoch: 142046, finalized_epoch: 142044, finalized_root: 0x05f3…8163, exec_hash: n/a, peers: 25, service: slot_notifier\r\nAug 24 12:37:41 hazel lighthouse[20959]: Aug 24 19:37:41.002 WARN Not ready for merge                     info: The execution endpoint is connected and configured, however it is not yet synced, service: slot_notifier\r\nAug 24 12:37:47 hazel lighthouse[20959]: Aug 24 19:37:47.503 INFO New block received                      root: 0xc5f198792e240ae5bbbe46db830c4cd9b0e986cb4ce9f754c63395c2271a53e9, slot: 4545487\r\nAug 24 12:37:53 hazel lighthouse[20959]: Aug 24 19:37:53.001 INFO Synced                                  slot: 4545487, block: 0xc5f1…53e9, epoch: 142046, finalized_epoch: 142044, finalized_root: 0x05f3…8163, exec_hash: n/a, peers: 25, service: slot_notifier\r\nAug 24 12:37:53 hazel lighthouse[20959]: Aug 24 19:37:53.002 WARN Not ready for merge                     info: The execution endpoint is connected and configured, however it is not yet synced, service: slot_notifier\r\nAug 24 12:38:00 hazel lighthouse[20959]: Aug 24 19:38:00.171 INFO New block received                      root: 0x5ea9a1b06d41dedc4bc51f5e2e92fa432a24074c4e5ef669aabc61004d4594c1, slot: 4545488\r\nAug 24 12:38:05 hazel lighthouse[20959]: Aug 24 19:38:05.001 INFO Synced                                  slot: 4545488, block: 0x5ea9…94c1, epoch: 142046, finalized_epoch: 142044, finalized_root: 0x05f3…8163, exec_hash: n/a, peers: 26, service: slot_notifier\r\nAug 24 12:38:05 hazel lighthouse[20959]: Aug 24 19:38:05.002 WARN Not ready for merge                     info: The execution endpoint is connected and configured, however it is not yet synced, service: slot_notifier\r\nAug 24 12:38:05 hazel lighthouse[20959]: Aug 24 19:38:05.003 INFO Execution engine online                 service: exec\r\nAug 24 12:38:11 hazel lighthouse[20959]: Aug 24 19:38:11.630 INFO New block received                      root: 0x8d54b0402d80416f4ceb29cfe73a64197b7ea00523ef9ea0c9aca4d142cbc3d8, slot: 4545489\r\nAug 24 12:38:12 hazel lighthouse[20959]: Aug 24 19:38:12.906 INFO Sending metrics to remote endpoint      endpoint: https://beaconcha.in/, service: monitoring_client\r\nAug 24 12:38:16 hazel lighthouse[20959]: Aug 24 19:38:16.446 INFO Imported deposit log(s)                 new: 1, total: 424402, latest_block: 15403284, service: deposit_contract_rpc\r\nAug 24 12:38:17 hazel lighthouse[20959]: Aug 24 19:38:17.001 INFO Synced                                  slot: 4545489, block: 0x8d54…c3d8, epoch: 142046, finalized_epoch: 142044, finalized_root: 0x05f3…8163, exec_hash: n/a, peers: 25, service: slot_notifier\r\nAug 24 12:38:17 hazel lighthouse[20959]: Aug 24 19:38:17.011 INFO Ready for the merge                     current_difficulty: 57120613437982261439710, terminal_total_difficulty: 58750000000000000000000, service: slot_notifier\r\nAug 24 12:38:24 hazel lighthouse[20959]: Aug 24 19:38:24.077 INFO New block received                      root: 0x4b49b1750f4ec1738b3cab1f7b55cbf5b8887006ad22b40c514aeac4cd1dced3, slot: 4545490\r\nAug 24 12:38:29 hazel lighthouse[20959]: Aug 24 19:38:29.000 INFO Synced                                  slot: 4545490, block: 0x4b49…ced3, epoch: 142046, finalized_epoch: 142044, finalized_root: 0x05f3…8163, exec_hash: n/a, peers: 26, service: slot_notifier\r\nAug 24 12:38:29 hazel lighthouse[20959]: Aug 24 19:38:29.006 INFO Ready for the merge                     current_difficulty: 57120625691195076242407, terminal_total_difficulty: 58750000000000000000000, service: slot_notifier\r\nAug 24 12:38:35 hazel lighthouse[20959]: Aug 24 19:38:35.655 INFO New block received                      root: 0x157b393b16d0dcc545d945c46b2c6567843c7a4d473bc52e11ab63df5da2b2fb, slot: 4545491\r\nAug 24 12:38:41 hazel lighthouse[20959]: Aug 24 19:38:41.001 INFO Synced                                  slot: 4545491, block: 0x157b…b2fb, epoch: 142046, finalized_epoch: 142044, finalized_root: 0x05f3…8163, exec_hash: n/a, peers: 29, service: slot_notifier\r\nAug 24 12:38:41 hazel lighthouse[20959]: Aug 24 19:38:41.008 INFO Ready for the merge                     current_difficulty: 57120637938699754882321, terminal_total_difficulty: 58750000000000000000000, service: slot_notifier\r\nAug 24 12:38:47 hazel lighthouse[20959]: Aug 24 19:38:47.593 INFO New block received                      root: 0x8766f293b495d82ee12194ddd810af11682ffef5ce53f798db10a1c52fdb4fe2, slot: 4545492\r\nAug 24 12:38:53 hazel lighthouse[20959]: Aug 24 19:38:53.001 INFO Synced                                  slot: 4545492, block: 0x8766…4fe2, epoch: 142046, finalized_epoch: 142044, finalized_root: 0x05f3…8163, exec_hash: n/a, peers: 30, service: slot_notifier\r\nAug 24 12:38:53 hazel lighthouse[20959]: Aug 24 19:38:53.007 INFO Ready for the merge                     current_difficulty: 57120650186479311429179, terminal_total_difficulty: 58750000000000000000000, service: slot_notifier\r\nAug 24 12:38:59 hazel lighthouse[20959]: Aug 24 19:38:59.805 INFO New block received                      root: 0x097b86b69b554310cef8aa1f9ca1379c4e0e4e20e70ea83c70f332f257b2dd24, slot: 4545493\r\nAug 24 12:39:05 hazel lighthouse[20959]: Aug 24 19:39:05.001 INFO Synced                                  slot: 4545493, block: 0x097b…dd24, epoch: 142046, finalized_epoch: 142044, finalized_root: 0x05f3…8163, exec_hash: n/a, peers: 33, service: slot_notifier\r\nAug 24 12:39:05 hazel lighthouse[20959]: Aug 24 19:39:05.007 INFO Ready for the merge                     current_difficulty: 57120650186479311429179, terminal_total_difficulty: 58750000000000000000000, service: slot_notifier\r\nAug 24 12:39:11 hazel lighthouse[20959]: Aug 24 19:39:11.362 INFO New block received                      root: 0x01437c2e26197ac01102fc98fd195e90d5fc9ca8361ced063bfe63a0757ba090, slot: 4545494\r\nAug 24 12:39:12 hazel lighthouse[20959]: Aug 24 19:39:12.914 INFO Sending metrics to remote endpoint      endpoint: https://beaconcha.in/, service: monitoring_client\r\nAug 24 12:39:17 hazel lighthouse[20959]: Aug 24 19:39:17.001 INFO Synced                                  slot: 4545494, block: 0x0143…a090, epoch: 142046, finalized_epoch: 142044, finalized_root: 0x05f3…8163, exec_hash: n/a, peers: 29, service: slot_notifier\r\nAug 24 12:39:17 hazel lighthouse[20959]: Aug 24 19:39:17.003 INFO Ready for the merge                     current_difficulty: 57120650186479311429179, terminal_total_difficulty: 58750000000000000000000, service: slot_notifier\r\nAug 24 12:39:23 hazel lighthouse[20959]: Aug 24 19:39:23.549 INFO New block received                      root: 0x662310b1d1fde3ef62cc578b444a5fe2a94eea1afc8d49248c342bc523008022, slot: 4545495\r\nAug 24 12:39:29 hazel lighthouse[20959]: Aug 24 19:39:29.001 INFO Synced                                  slot: 4545495, block: 0x6623…8022, epoch: 142046, finalized_epoch: 142044, finalized_root: 0x05f3…8163, exec_hash: n/a, peers: 28, service: slot_notifier\r\nAug 24 12:39:29 hazel lighthouse[20959]: Aug 24 19:39:29.006 INFO Ready for the merge                     current_difficulty: 57120650186479311429179, terminal_total_difficulty: 58750000000000000000000, service: slot_notifier\r\nAug 24 12:39:35 hazel lighthouse[20959]: Aug 24 19:39:35.832 INFO New block received                      root: 0xcb9ab452c704a40294653dde96f758dc8e996e43314fd41d6a2951b536be4e4f, slot: 4545496\r\nAug 24 12:39:41 hazel lighthouse[20959]: Aug 24 19:39:41.001 INFO Synced                                  slot: 4545496, block: 0xcb9a…4e4f, epoch: 142046, finalized_epoch: 142044, finalized_root: 0x05f3…8163, exec_hash: n/a, peers: 28, service: slot_notifier\r\nAug 24 12:39:41 hazel lighthouse[20959]: Aug 24 19:39:41.004 INFO Ready for the merge                     current_difficulty: 57120674658941076926435, terminal_total_difficulty: 58750000000000000000000, service: slot_notifier\r\n```\r\nSo @karalabe, same q, is the db wipe needed?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1226214944/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1226639062",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/25589#issuecomment-1226639062",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25589",
    "id": 1226639062,
    "node_id": "IC_kwDOAOvK985JHQbW",
    "user": {
      "login": "alex88",
      "id": 436888,
      "node_id": "MDQ6VXNlcjQzNjg4OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/436888?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alex88",
      "html_url": "https://github.com/alex88",
      "followers_url": "https://api.github.com/users/alex88/followers",
      "following_url": "https://api.github.com/users/alex88/following{/other_user}",
      "gists_url": "https://api.github.com/users/alex88/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alex88/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alex88/subscriptions",
      "organizations_url": "https://api.github.com/users/alex88/orgs",
      "repos_url": "https://api.github.com/users/alex88/repos",
      "events_url": "https://api.github.com/users/alex88/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alex88/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-25T00:41:07Z",
    "updated_at": "2022-08-25T00:41:07Z",
    "author_association": "NONE",
    "body": "Even when a db wipe, after the `State sync in progress` ended I'm getting lots of these logs:\r\n\r\n```\r\nImported new block headers               count=1    elapsed=5.222ms      number=15,406,079 hash=6fbd0c..b303fe\r\nState heal in progress                   accounts=3766@198.00KiB       slots=224@17.64KiB          codes=6@72.00KiB         nodes=30061@11.21MiB pending=41491\r\nUnexpected trienode heal packet          peer=dfbd782c reqid=5,352,399,348,225,992,007\r\nUnexpected trienode heal packet          peer=e7b4ee21 reqid=4,783,303,500,655,206,990\r\nUnexpected trienode heal packet          peer=8b5a6c65 reqid=4,331,723,279,535,021,208\r\nImported new block headers               count=1    elapsed=5.869ms      number=15,406,080 hash=156276..cc1651\r\nUnexpected trienode heal packet          peer=cda4b3d3 reqid=7,945,169,409,859,770,559\r\nImported new block headers               count=2    elapsed=5.191ms      number=15,406,082 hash=b0e798..6d233b\r\nUnexpected trienode heal packet          peer=4ce74c2f reqid=5,664,668,594,071,610,051\r\nUnexpected trienode heal packet          peer=ecd785d3 reqid=115,536,799,573,859,131\r\nUnexpected trienode heal packet          peer=e9e64d3a reqid=2,658,483,760,195,569,180\r\nState heal in progress                   accounts=3825@201.19KiB       slots=224@17.64KiB          codes=6@72.00KiB         nodes=30582@11.37MiB pending=42173\r\nState heal in progress                   accounts=3935@207.01KiB       slots=224@17.64KiB          codes=6@72.00KiB         nodes=31252@11.59MiB pending=43237\r\nUnexpected trienode heal packet          peer=f65d3d68 reqid=5,004,796,167,503,447,278\r\nUnexpected trienode heal packet          peer=26653bbc reqid=7,918,807,320,170,735,492\r\nUnexpected trienode heal packet          peer=4ce74c2f reqid=6,754,713,326,928,148,598\r\nUnexpected trienode heal packet          peer=ecd785d3 reqid=6,256,785,757,804,213,597\r\nImported new block headers               count=1    elapsed=5.505ms      number=15,406,083 hash=22e020..eddbd5\r\nDownloader queue stats                   receiptTasks=0     blockTasks=0     itemSize=308.57KiB throttle=850\r\nImported new block headers               count=1    elapsed=5.232ms      number=15,406,084 hash=8c8613..a5c8f7\r\nState heal in progress                   accounts=4061@213.48KiB       slots=224@17.64KiB          codes=6@72.00KiB         nodes=31982@11.83MiB pending=43790\r\nUnexpected trienode heal packet          peer=f65d3d68 reqid=1,315,505,038,391,565,705\r\n```\r\n\r\nwith the pending value increasing instead of decreasing.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1226639062/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1226803609",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/25589#issuecomment-1226803609",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25589",
    "id": 1226803609,
    "node_id": "IC_kwDOAOvK985JH4mZ",
    "user": {
      "login": "c0deright",
      "id": 20477825,
      "node_id": "MDQ6VXNlcjIwNDc3ODI1",
      "avatar_url": "https://avatars.githubusercontent.com/u/20477825?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/c0deright",
      "html_url": "https://github.com/c0deright",
      "followers_url": "https://api.github.com/users/c0deright/followers",
      "following_url": "https://api.github.com/users/c0deright/following{/other_user}",
      "gists_url": "https://api.github.com/users/c0deright/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/c0deright/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/c0deright/subscriptions",
      "organizations_url": "https://api.github.com/users/c0deright/orgs",
      "repos_url": "https://api.github.com/users/c0deright/repos",
      "events_url": "https://api.github.com/users/c0deright/events{/privacy}",
      "received_events_url": "https://api.github.com/users/c0deright/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-25T05:45:11Z",
    "updated_at": "2022-08-25T05:45:11Z",
    "author_association": "NONE",
    "body": "I deleted everything in `chaindata/` but kept `chaindata/ancients` untouched. After the sync of the last 7 days I got\r\n\r\n```\r\nState heal in progress\r\nUnexpected trienode heal packet\r\nUnexpected bytecode heal packet\r\n```\r\n\r\nbut eventually it reached `Rebuilding state snapshot` and then all the trienode/heal messages disappeared and geth reached the usual state (pruning active):\r\n\r\n```\r\nImported new chain segment               blocks=1\r\nUnindexed transactions                   blocks=1\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1226803609/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1227150793",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/25589#issuecomment-1227150793",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25589",
    "id": 1227150793,
    "node_id": "IC_kwDOAOvK985JJNXJ",
    "user": {
      "login": "garyng2000",
      "id": 241666,
      "node_id": "MDQ6VXNlcjI0MTY2Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/241666?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/garyng2000",
      "html_url": "https://github.com/garyng2000",
      "followers_url": "https://api.github.com/users/garyng2000/followers",
      "following_url": "https://api.github.com/users/garyng2000/following{/other_user}",
      "gists_url": "https://api.github.com/users/garyng2000/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/garyng2000/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/garyng2000/subscriptions",
      "organizations_url": "https://api.github.com/users/garyng2000/orgs",
      "repos_url": "https://api.github.com/users/garyng2000/repos",
      "events_url": "https://api.github.com/users/garyng2000/events{/privacy}",
      "received_events_url": "https://api.github.com/users/garyng2000/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-25T11:46:27Z",
    "updated_at": "2022-08-25T11:46:27Z",
    "author_association": "NONE",
    "body": "state heal in progress, how long it would take ? this really is a nightmare now. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1227150793/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1227239169",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/25589#issuecomment-1227239169",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25589",
    "id": 1227239169,
    "node_id": "IC_kwDOAOvK985JJi8B",
    "user": {
      "login": "geomad",
      "id": 7707517,
      "node_id": "MDQ6VXNlcjc3MDc1MTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7707517?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/geomad",
      "html_url": "https://github.com/geomad",
      "followers_url": "https://api.github.com/users/geomad/followers",
      "following_url": "https://api.github.com/users/geomad/following{/other_user}",
      "gists_url": "https://api.github.com/users/geomad/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/geomad/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/geomad/subscriptions",
      "organizations_url": "https://api.github.com/users/geomad/orgs",
      "repos_url": "https://api.github.com/users/geomad/repos",
      "events_url": "https://api.github.com/users/geomad/events{/privacy}",
      "received_events_url": "https://api.github.com/users/geomad/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-25T13:11:00Z",
    "updated_at": "2022-08-25T13:11:00Z",
    "author_association": "NONE",
    "body": "I had the same issue, and I opted to removedb, but not ancient.\r\nNow I'm syncing but I'm getting lots of \"unexpected storange ranges packets\", \"unexpected bytecode packet\" and \"unexpected account range\" WARNS.\r\nIs this normal or should I do a clean resync by deleting ancients as well?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1227239169/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1227248799",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/25589#issuecomment-1227248799",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25589",
    "id": 1227248799,
    "node_id": "IC_kwDOAOvK985JJlSf",
    "user": {
      "login": "garyng2000",
      "id": 241666,
      "node_id": "MDQ6VXNlcjI0MTY2Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/241666?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/garyng2000",
      "html_url": "https://github.com/garyng2000",
      "followers_url": "https://api.github.com/users/garyng2000/followers",
      "following_url": "https://api.github.com/users/garyng2000/following{/other_user}",
      "gists_url": "https://api.github.com/users/garyng2000/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/garyng2000/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/garyng2000/subscriptions",
      "organizations_url": "https://api.github.com/users/garyng2000/orgs",
      "repos_url": "https://api.github.com/users/garyng2000/repos",
      "events_url": "https://api.github.com/users/garyng2000/events{/privacy}",
      "received_events_url": "https://api.github.com/users/garyng2000/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-25T13:19:05Z",
    "updated_at": "2022-08-25T13:19:05Z",
    "author_association": "NONE",
    "body": "I think it is probably better to remove everything. a single account state heal took 1 hour(since my last post) and I don't know how many are there that need this. This is not a super fast machine but not slow either(nvme, standard intel server CPU, not VM and the CPU usage is very low so it seems to be all about graining slowly).",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1227248799/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1227262293",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/25589#issuecomment-1227262293",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25589",
    "id": 1227262293,
    "node_id": "IC_kwDOAOvK985JJolV",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-25T13:29:41Z",
    "updated_at": "2022-08-25T13:29:41Z",
    "author_association": "MEMBER",
    "body": "> I think it is probably better to remove everything.\r\n\r\nNo. It's better to remove chaindata but leave ancients in place. It saves ~300GB of download.\r\n\r\nThe \"unexpected xxx packets\" thing is not directly related, although there might inefficiencies (https://github.com/ethereum/go-ethereum/issues/25600)  we can improve upon. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1227262293/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 1,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1227265952",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/25589#issuecomment-1227265952",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25589",
    "id": 1227265952,
    "node_id": "IC_kwDOAOvK985JJpeg",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-25T13:32:30Z",
    "updated_at": "2022-08-25T13:32:30Z",
    "author_association": "MEMBER",
    "body": "> a single account state heal took 1 hour(since my last post) and I don't know how many are there that need this. \r\n\r\nThere's no such thing -- state heal heals the entire trie. I don't know what it could have been that happened during that hour ? Maybe it simply finished the state heal (i.e: completed sync) in that hour? \r\n\r\nThe generation of snapshot data is a post-sync operation, when it's doing that you're already in sync.  ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1227265952/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1227297676",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/25589#issuecomment-1227297676",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25589",
    "id": 1227297676,
    "node_id": "IC_kwDOAOvK985JJxOM",
    "user": {
      "login": "garyng2000",
      "id": 241666,
      "node_id": "MDQ6VXNlcjI0MTY2Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/241666?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/garyng2000",
      "html_url": "https://github.com/garyng2000",
      "followers_url": "https://api.github.com/users/garyng2000/followers",
      "following_url": "https://api.github.com/users/garyng2000/following{/other_user}",
      "gists_url": "https://api.github.com/users/garyng2000/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/garyng2000/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/garyng2000/subscriptions",
      "organizations_url": "https://api.github.com/users/garyng2000/orgs",
      "repos_url": "https://api.github.com/users/garyng2000/repos",
      "events_url": "https://api.github.com/users/garyng2000/events{/privacy}",
      "received_events_url": "https://api.github.com/users/garyng2000/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-25T13:56:10Z",
    "updated_at": "2022-08-25T13:56:10Z",
    "author_association": "NONE",
    "body": "but it seems that it is still not in normal mode where I should see the normal message of\r\n\r\nAug 25 06:54:45 hqprdubada startmainnet.sh[2723248]: INFO [08-25|06:54:45.646] Imported new chain segment               blocks=1 txs=49   mgas=3.414  elap\r\n\r\nstill seeing import header and that state heal which the account # changed after about an hour to another one and I don't know where that would be done",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1227297676/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1227304627",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/25589#issuecomment-1227304627",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25589",
    "id": 1227304627,
    "node_id": "IC_kwDOAOvK985JJy6z",
    "user": {
      "login": "garyng2000",
      "id": 241666,
      "node_id": "MDQ6VXNlcjI0MTY2Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/241666?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/garyng2000",
      "html_url": "https://github.com/garyng2000",
      "followers_url": "https://api.github.com/users/garyng2000/followers",
      "following_url": "https://api.github.com/users/garyng2000/following{/other_user}",
      "gists_url": "https://api.github.com/users/garyng2000/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/garyng2000/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/garyng2000/subscriptions",
      "organizations_url": "https://api.github.com/users/garyng2000/orgs",
      "repos_url": "https://api.github.com/users/garyng2000/repos",
      "events_url": "https://api.github.com/users/garyng2000/events{/privacy}",
      "received_events_url": "https://api.github.com/users/garyng2000/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-25T14:01:36Z",
    "updated_at": "2022-08-26T01:24:38Z",
    "author_association": "NONE",
    "body": "like this(that 24088 is increasing but it can stay the same for an hour before it changes, if there are 1M accounts, it would take how many hours but I don't know the meaning of it)\r\n\r\nAug 25 13:59:13 hqprdubeth startmainnet.sh[3945015]: INFO [08-25|13:59:13.377] State heal in progress                   accounts=24088@1.21MiB        slots=7672@612.17KiB        codes=55@509.58KiB       nodes=665,196@298.98MiB pending=128,150\r\n\r\ntwelve hours later, this is what I am seeing so it seems that it is fixing the account one at a time and no way to tell how many more remains. probably better to just scrap the whole thing and sync from fresh ! As it is still not in normal state AFAICT\r\n\r\nAug 26 01:20:40 hqprdubeth startmainnet.sh[3945015]: INFO [08-26|01:20:40.850] State heal in progress                   accounts=137,843@7.32MiB      slots=96077@7.24MiB         codes=254@2.05MiB        nodes=2,388,175@962.15MiB pending=88563\r\n\r\nsyncing: {\r\n    currentBlock: 15412385,\r\n    healedBytecodeBytes: 2150002,\r\n    healedBytecodes: 254,\r\n    healedTrienodeBytes: 1015310728,\r\n    healedTrienodes: 2400585,\r\n    healingBytecode: 0,\r\n    healingTrienodes: 4192,\r\n    highestBlock: 15412460,\r\n    startingBlock: 15312742,\r\n    syncedAccountBytes: 44692712980,\r\n    syncedAccounts: 183966641,\r\n    syncedBytecodeBytes: 4191239478,\r\n    syncedBytecodes: 646245,\r\n    syncedStorage: 763860220,\r\n    syncedStorageBytes: 163710644801\r\n  },\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1227304627/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
