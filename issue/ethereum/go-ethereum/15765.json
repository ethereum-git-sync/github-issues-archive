{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15765",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15765/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15765/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15765/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/15765",
  "id": 284752497,
  "node_id": "MDU6SXNzdWUyODQ3NTI0OTc=",
  "number": 15765,
  "title": "Exceptions & Hang",
  "user": {
    "login": "niclash",
    "id": 106693,
    "node_id": "MDQ6VXNlcjEwNjY5Mw==",
    "avatar_url": "https://avatars.githubusercontent.com/u/106693?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/niclash",
    "html_url": "https://github.com/niclash",
    "followers_url": "https://api.github.com/users/niclash/followers",
    "following_url": "https://api.github.com/users/niclash/following{/other_user}",
    "gists_url": "https://api.github.com/users/niclash/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/niclash/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/niclash/subscriptions",
    "organizations_url": "https://api.github.com/users/niclash/orgs",
    "repos_url": "https://api.github.com/users/niclash/repos",
    "events_url": "https://api.github.com/users/niclash/events{/privacy}",
    "received_events_url": "https://api.github.com/users/niclash/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2017-12-27T16:16:43Z",
  "updated_at": "2017-12-28T02:12:34Z",
  "closed_at": "2017-12-27T19:30:44Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Hi there,\r\n\r\nplease note that this is an issue tracker reserved for bug reports and feature requests.\r\n\r\nFor general questions please use the gitter channel or the Ethereum stack exchange at https://ethereum.stackexchange.com.\r\n\r\n#### System information\r\n\r\nGeth version: Whatever version comes in Ethereum Wallet 0.9.3\r\nOS & Version: Linux Debian stable\r\nCommit hash : (if `develop`)\r\n\r\n#### Expected behaviour\r\nThat the Wallet manage to re-establish its sync.\r\n\r\n#### Actual behaviour\r\nCrash\r\n\r\n#### Steps to reproduce the behaviour\r\nI had a fully sync'd Wallet two days ago. Then I turned it off for a day, because I needed the RAM for other use, and since then I can not get it to sync again.\r\n\r\nOn my computer, 20 times in a row; start, wait 1 - 90 minutes and stack trace follows and nothing happens.\r\n\r\nI ran with --loglevel=trace, to get more output of what is going on.\r\n\r\nAnd the output quickly fills the console buffer (I have 5000 lines), but I notice that the number of peers goes up and down a lot. Personally I suspect that there is a condition somewhere where a disconnecting peer causes a poor state in this node. And since a lot of recommendations online about recovering from \"hanged\" is to restart. So if people keep restarting and restarting, we all induce more and more problems with others. Only if one is \"lucky\" to get hold of fully operational and stable peers, then the sync manages to get through.\r\n\r\nMy friend is having the same kind of problems, and eventually gave up after 2 weeks (I am more persistent), but he has similar problems with \"parity\". Are the problems at a deeper Ethereum protocol level, and it is all built on sand? Of course you will all deny that possibility, but I haven't seen anything this shaky since the introduction of TCP/IP over leased lines in the late 1980s. And since I am in the process of building a company on top of EVM, I am not convinced at all that this is useful, and that the situation is pushing people to (effectively) insecure, online wallets.\r\n\r\nI am willing to help out in any way I can, to help resolve this, because IMHO, nothing can be more crucial at the moment than to get stability of the user experience to a reasonable level. \r\n\r\nOTOH, seeing how many \"Issues\" there is here, I am not that hopeful that anyone bothers with users, and that this report will be collecting dust, long after I have either figured it out on my own, or moved on to better technologies in this space.\r\n\r\n#### Backtrace\r\n````\r\n[2017-12-27 23:58:31.471] [TRACE] Sockets/node-ipc - Write data {\"jsonrpc\":\"2.0\",\"id\":\"e4ae1426-b61f-4968-9434-24073c6e6d2d\",\"method\":\"eth_syncing\",\"params\":[]}\r\n[2017-12-27 23:58:31.471] [ERROR] Sockets/node-ipc - { Error: This socket has been ended by the other party\r\n    at Socket.writeAfterFIN [as write] (net.js:305:12)\r\n    at Web3IpcSocket.write (/opt/Ethereum Wallet/resources/app.asar/modules/sockets/base.js:181:22)\r\n    at Q.try (/opt/Ethereum Wallet/resources/app.asar/modules/sockets/web3Base.js:55:18)\r\n    at tryCatcher (/opt/Ethereum Wallet/resources/app.asar/node_modules/bluebird/js/release/util.js:16:23)\r\n    at Function.Promise.attempt.Promise.try (/opt/Ethereum Wallet/resources/app.asar/node_modules/bluebird/js/release/method.js:39:29)\r\n    at Web3IpcSocket.send (/opt/Ethereum Wallet/resources/app.asar/modules/sockets/web3Base.js:29:21)\r\n    at EthereumNode.send (/opt/Ethereum Wallet/resources/app.asar/modules/ethereumNode.js:242:29)\r\n    at _.delay (/opt/Ethereum Wallet/resources/app.asar/modules/nodeSync.js:113:26)\r\n    at Timeout._onTimeout (/opt/Ethereum Wallet/resources/app.asar/node_modules/underscore/underscore.js:768:19)\r\n    at ontimeout (timers.js:386:14)\r\n    at tryOnTimeout (timers.js:250:5)\r\n    at Timer.listOnTimeout (timers.js:214:5) code: 'EPIPE' }\r\n[2017-12-27 23:58:31.476] [ERROR] NodeSync - Node crashed while syncing? { Error: This socket has been ended by the other party\r\n    at Socket.writeAfterFIN [as write] (net.js:305:12)\r\n    at Web3IpcSocket.write (/opt/Ethereum Wallet/resources/app.asar/modules/sockets/base.js:181:22)\r\n    at Q.try (/opt/Ethereum Wallet/resources/app.asar/modules/sockets/web3Base.js:55:18)\r\n    at tryCatcher (/opt/Ethereum Wallet/resources/app.asar/node_modules/bluebird/js/release/util.js:16:23)\r\n    at Function.Promise.attempt.Promise.try (/opt/Ethereum Wallet/resources/app.asar/node_modules/bluebird/js/release/method.js:39:29)\r\n    at Web3IpcSocket.send (/opt/Ethereum Wallet/resources/app.asar/modules/sockets/web3Base.js:29:21)\r\n    at EthereumNode.send (/opt/Ethereum Wallet/resources/app.asar/modules/ethereumNode.js:242:29)\r\n    at _.delay (/opt/Ethereum Wallet/resources/app.asar/modules/nodeSync.js:113:26)\r\n    at Timeout._onTimeout (/opt/Ethereum Wallet/resources/app.asar/node_modules/underscore/underscore.js:768:19)\r\n    at ontimeout (timers.js:386:14)\r\n    at tryOnTimeout (timers.js:250:5)\r\n    at Timer.listOnTimeout (timers.js:214:5) code: 'EPIPE' }\r\n[2017-12-27 23:58:31.476] [ERROR] NodeSync - Sync error { Error: This socket has been ended by the other party\r\n    at Socket.writeAfterFIN [as write] (net.js:305:12)\r\n    at Web3IpcSocket.write (/opt/Ethereum Wallet/resources/app.asar/modules/sockets/base.js:181:22)\r\n    at Q.try (/opt/Ethereum Wallet/resources/app.asar/modules/sockets/web3Base.js:55:18)\r\n    at tryCatcher (/opt/Ethereum Wallet/resources/app.asar/node_modules/bluebird/js/release/util.js:16:23)\r\n    at Function.Promise.attempt.Promise.try (/opt/Ethereum Wallet/resources/app.asar/node_modules/bluebird/js/release/method.js:39:29)\r\n    at Web3IpcSocket.send (/opt/Ethereum Wallet/resources/app.asar/modules/sockets/web3Base.js:29:21)\r\n    at EthereumNode.send (/opt/Ethereum Wallet/resources/app.asar/modules/ethereumNode.js:242:29)\r\n    at _.delay (/opt/Ethereum Wallet/resources/app.asar/modules/nodeSync.js:113:26)\r\n    at Timeout._onTimeout (/opt/Ethereum Wallet/resources/app.asar/node_modules/underscore/underscore.js:768:19)\r\n    at ontimeout (timers.js:386:14)\r\n    at tryOnTimeout (timers.js:250:5)\r\n    at Timer.listOnTimeout (timers.js:214:5) code: 'EPIPE' }\r\n[2017-12-27 23:58:31.477] [ERROR] main - Error syncing node { Error: This socket has been ended by the other party\r\n    at Socket.writeAfterFIN [as write] (net.js:305:12)\r\n    at Web3IpcSocket.write (/opt/Ethereum Wallet/resources/app.asar/modules/sockets/base.js:181:22)\r\n    at Q.try (/opt/Ethereum Wallet/resources/app.asar/modules/sockets/web3Base.js:55:18)\r\n    at tryCatcher (/opt/Ethereum Wallet/resources/app.asar/node_modules/bluebird/js/release/util.js:16:23)\r\n    at Function.Promise.attempt.Promise.try (/opt/Ethereum Wallet/resources/app.asar/node_modules/bluebird/js/release/method.js:39:29)\r\n    at Web3IpcSocket.send (/opt/Ethereum Wallet/resources/app.asar/modules/sockets/web3Base.js:29:21)\r\n    at EthereumNode.send (/opt/Ethereum Wallet/resources/app.asar/modules/ethereumNode.js:242:29)\r\n    at _.delay (/opt/Ethereum Wallet/resources/app.asar/modules/nodeSync.js:113:26)\r\n    at Timeout._onTimeout (/opt/Ethereum Wallet/resources/app.asar/node_modules/underscore/underscore.js:768:19)\r\n    at ontimeout (timers.js:386:14)\r\n    at tryOnTimeout (timers.js:250:5)\r\n    at Timer.listOnTimeout (timers.js:214:5) code: 'EPIPE' }\r\n[2017-12-27 23:58:31.478] [INFO] NodeSync - Sync loop ended\r\n[2017-12-27 23:58:31.478] [ERROR] main - Error starting up node and/or syncing { Error: This socket has been ended by the other party\r\n    at Socket.writeAfterFIN [as write] (net.js:305:12)\r\n    at Web3IpcSocket.write (/opt/Ethereum Wallet/resources/app.asar/modules/sockets/base.js:181:22)\r\n    at Q.try (/opt/Ethereum Wallet/resources/app.asar/modules/sockets/web3Base.js:55:18)\r\n    at tryCatcher (/opt/Ethereum Wallet/resources/app.asar/node_modules/bluebird/js/release/util.js:16:23)\r\n    at Function.Promise.attempt.Promise.try (/opt/Ethereum Wallet/resources/app.asar/node_modules/bluebird/js/release/method.js:39:29)\r\n    at Web3IpcSocket.send (/opt/Ethereum Wallet/resources/app.asar/modules/sockets/web3Base.js:29:21)\r\n    at EthereumNode.send (/opt/Ethereum Wallet/resources/app.asar/modules/ethereumNode.js:242:29)\r\n    at _.delay (/opt/Ethereum Wallet/resources/app.asar/modules/nodeSync.js:113:26)\r\n    at Timeout._onTimeout (/opt/Ethereum Wallet/resources/app.asar/node_modules/underscore/underscore.js:768:19)\r\n    at ontimeout (timers.js:386:14)\r\n    at tryOnTimeout (timers.js:250:5)\r\n    at Timer.listOnTimeout (timers.js:214:5) code: 'EPIPE' }\r\n````\r\n",
  "closed_by": {
    "login": "fjl",
    "id": 6915,
    "node_id": "MDQ6VXNlcjY5MTU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6915?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/fjl",
    "html_url": "https://github.com/fjl",
    "followers_url": "https://api.github.com/users/fjl/followers",
    "following_url": "https://api.github.com/users/fjl/following{/other_user}",
    "gists_url": "https://api.github.com/users/fjl/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/fjl/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/fjl/subscriptions",
    "organizations_url": "https://api.github.com/users/fjl/orgs",
    "repos_url": "https://api.github.com/users/fjl/repos",
    "events_url": "https://api.github.com/users/fjl/events{/privacy}",
    "received_events_url": "https://api.github.com/users/fjl/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15765/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15765/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/354139409",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15765#issuecomment-354139409",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15765",
    "id": 354139409,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NDEzOTQwOQ==",
    "user": {
      "login": "niclash",
      "id": 106693,
      "node_id": "MDQ6VXNlcjEwNjY5Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/106693?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/niclash",
      "html_url": "https://github.com/niclash",
      "followers_url": "https://api.github.com/users/niclash/followers",
      "following_url": "https://api.github.com/users/niclash/following{/other_user}",
      "gists_url": "https://api.github.com/users/niclash/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/niclash/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/niclash/subscriptions",
      "organizations_url": "https://api.github.com/users/niclash/orgs",
      "repos_url": "https://api.github.com/users/niclash/repos",
      "events_url": "https://api.github.com/users/niclash/events{/privacy}",
      "received_events_url": "https://api.github.com/users/niclash/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-27T16:34:47Z",
    "updated_at": "2017-12-27T16:34:47Z",
    "author_association": "NONE",
    "body": "I just want to add the lovely news that I now found the reason why it will never recover. LevelDB is now corrupted. I am pretty sure that error message wasn't there in the initial failures.\r\n\r\n````\r\n\r\n[2017-12-28 00:08:13.729] [TRACE] EthereumNode - GETH: CRIT [12-28|00:08:13] Failed to store block total difficulty   err=\"leveldb/table: corruption on data-block (pos=136743): checksum mismatch, want=0xc1056df2 got=0x8f0bb064 [file=475260.ldb]\"\r\n[2017-12-28 00:08:13.729] [TRACE] Windows - Broadcast { '0': 'uiAction_nodeLogText',\r\n  '1': ' Failed to store block total difficulty   err=\"leveldb/table: corruption on data-block (pos=136743): checksum mismatch, want=0xc1056df2 got=0x8f0bb064 [file=475260.ldb]\"' }\r\n[2017-12-28 00:08:13.729] [TRACE] Windows/loading - Sending data { '0': 'uiAction_nodeLogText',\r\n  '1': ' Failed to store block total difficulty   err=\"leveldb/table: corruption on data-block (pos=136743): checksum mismatch, want=0xc1056df2 got=0x8f0bb064 [file=475260.ldb]\"' }\r\n[2017-12-28 00:08:13.730] [TRACE] Windows/splash - Sending data { '0': 'uiAction_nodeLogText',\r\n  '1': ' Failed to store block total difficulty   err=\"leveldb/table: corruption on data-block (pos=136743): checksum mismatch, want=0xc1056df2 got=0x8f0bb064 [file=475260.ldb]\"' }\r\n[2017-12-28 00:08:13.730] [TRACE] EthereumNode - GETH: CRIT [12-28|00:08:13] Failed to store block total difficulty   err=\"leveldb/table: corruption on data-block (pos=136743): checksum mismatch, want=0xc1056df2 got=0x8f0bb064 [file=475260.ldb]\"\r\n[2017-12-28 00:08:13.730] [TRACE] Windows - Broadcast { '0': 'uiAction_nodeLogText',\r\n  '1': ' Failed to store block total difficulty   err=\"leveldb/table: corruption on data-block (pos=136743): checksum mismatch, want=0xc1056df2 got=0x8f0bb064 [file=475260.ldb]\"' }\r\n[2017-12-28 00:08:13.730] [TRACE] Windows/loading - Sending data { '0': 'uiAction_nodeLogText',\r\n  '1': ' Failed to store block total difficulty   err=\"leveldb/table: corruption on data-block (pos=136743): checksum mismatch, want=0xc1056df2 got=0x8f0bb064 [file=475260.ldb]\"' }\r\n````\r\n\r\nAnd when trying to repair the LevelDB with node tool \"level-repair\", I get the fantastic news of\r\n\r\n````\r\nniclas@devdesk:~/.ethereum/geth/chaindata$ level-repair\r\nnode: ../deps/leveldb/leveldb-1.20/db/dbformat.h:99: leveldb::Slice leveldb::ExtractUserKey(const leveldb::Slice&): Assertion `internal_key.size() >= 8' failed.\r\nAborted\r\n````\r\n\r\nwhich to me sounds like; \"Delete all and start over\".  Seriously guys??\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/354139409/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/354165368",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15765#issuecomment-354165368",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15765",
    "id": 354165368,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NDE2NTM2OA==",
    "user": {
      "login": "fjl",
      "id": 6915,
      "node_id": "MDQ6VXNlcjY5MTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6915?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjl",
      "html_url": "https://github.com/fjl",
      "followers_url": "https://api.github.com/users/fjl/followers",
      "following_url": "https://api.github.com/users/fjl/following{/other_user}",
      "gists_url": "https://api.github.com/users/fjl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fjl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fjl/subscriptions",
      "organizations_url": "https://api.github.com/users/fjl/orgs",
      "repos_url": "https://api.github.com/users/fjl/repos",
      "events_url": "https://api.github.com/users/fjl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fjl/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-27T19:27:43Z",
    "updated_at": "2017-12-27T19:27:43Z",
    "author_association": "MEMBER",
    "body": "I'm not sure C++ leveldb tools will work on the our database because the implementation we use might be incompatible. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/354165368/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/354165609",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15765#issuecomment-354165609",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15765",
    "id": 354165609,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NDE2NTYwOQ==",
    "user": {
      "login": "fjl",
      "id": 6915,
      "node_id": "MDQ6VXNlcjY5MTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6915?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjl",
      "html_url": "https://github.com/fjl",
      "followers_url": "https://api.github.com/users/fjl/followers",
      "following_url": "https://api.github.com/users/fjl/following{/other_user}",
      "gists_url": "https://api.github.com/users/fjl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fjl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fjl/subscriptions",
      "organizations_url": "https://api.github.com/users/fjl/orgs",
      "repos_url": "https://api.github.com/users/fjl/repos",
      "events_url": "https://api.github.com/users/fjl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fjl/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-27T19:29:36Z",
    "updated_at": "2017-12-27T19:29:36Z",
    "author_association": "MEMBER",
    "body": "The corruption issue is tracked in #2289",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/354165609/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/354211811",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15765#issuecomment-354211811",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15765",
    "id": 354211811,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NDIxMTgxMQ==",
    "user": {
      "login": "niclash",
      "id": 106693,
      "node_id": "MDQ6VXNlcjEwNjY5Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/106693?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/niclash",
      "html_url": "https://github.com/niclash",
      "followers_url": "https://api.github.com/users/niclash/followers",
      "following_url": "https://api.github.com/users/niclash/following{/other_user}",
      "gists_url": "https://api.github.com/users/niclash/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/niclash/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/niclash/subscriptions",
      "organizations_url": "https://api.github.com/users/niclash/orgs",
      "repos_url": "https://api.github.com/users/niclash/repos",
      "events_url": "https://api.github.com/users/niclash/events{/privacy}",
      "received_events_url": "https://api.github.com/users/niclash/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-28T01:41:01Z",
    "updated_at": "2017-12-28T01:41:01Z",
    "author_association": "NONE",
    "body": "First of all, thanks for not reading very carefully.\r\nI am pretty sure that the LevelDB corruption is a consequence of my dozens of restarts and not because of the underlying problem. I am pretty sure it wasn't there early on. And EVEN IF it was the cause (it ran 5-6 hours before the first of this series of crashes), then having a data corruption issue open for nearly 2 YEARS, is simply unacceptable. \r\n\r\nSecondly, in aggregate, I have ended up in this situation (non-sync'd wallet) in 5 out of 5 times in the last 4 weeks. On 3 of those occasions, I managed to get it to a sync'd state for a while. But soon enough, it gets out of sync. That is abysmal odds for a consumer application, especially considering it is supposed to handle financially relevant assets (not tweets, nor photos, nor messages).",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/354211811/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 1,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/354214835",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15765#issuecomment-354214835",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15765",
    "id": 354214835,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NDIxNDgzNQ==",
    "user": {
      "login": "niclash",
      "id": 106693,
      "node_id": "MDQ6VXNlcjEwNjY5Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/106693?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/niclash",
      "html_url": "https://github.com/niclash",
      "followers_url": "https://api.github.com/users/niclash/followers",
      "following_url": "https://api.github.com/users/niclash/following{/other_user}",
      "gists_url": "https://api.github.com/users/niclash/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/niclash/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/niclash/subscriptions",
      "organizations_url": "https://api.github.com/users/niclash/orgs",
      "repos_url": "https://api.github.com/users/niclash/repos",
      "events_url": "https://api.github.com/users/niclash/events{/privacy}",
      "received_events_url": "https://api.github.com/users/niclash/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-28T02:12:34Z",
    "updated_at": "2017-12-28T02:12:34Z",
    "author_association": "NONE",
    "body": "I ran the following snippet of code;\r\n\r\n````\r\n\topts := &goleveldbOpt.Options{}\r\n\topts.ErrorIfMissing = true\r\n\topts.ForceRebuild = true\r\n\topts.DropTableOnRebuildError = true\r\n\r\n\tdb, err := goleveldb.RecoverFile(DB_PATH, opts)\r\n````\r\nfrom https://github.com/rchunping/leveldb-tools/blob/master/main.go and that overcame the corruption complaint in Ethereum Wallet. Also, it only took sub-second to execute, so one could wonder if it shouldn't be built in to Ethereum Wallet.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/354214835/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 1,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
