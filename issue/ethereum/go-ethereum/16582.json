{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16582",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16582/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16582/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16582/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/16582",
  "id": 318296082,
  "node_id": "MDU6SXNzdWUzMTgyOTYwODI=",
  "number": 16582,
  "title": "Success status and REVERT opcode",
  "user": {
    "login": "xuhcc",
    "id": 1660460,
    "node_id": "MDQ6VXNlcjE2NjA0NjA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1660460?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/xuhcc",
    "html_url": "https://github.com/xuhcc",
    "followers_url": "https://api.github.com/users/xuhcc/followers",
    "following_url": "https://api.github.com/users/xuhcc/following{/other_user}",
    "gists_url": "https://api.github.com/users/xuhcc/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/xuhcc/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/xuhcc/subscriptions",
    "organizations_url": "https://api.github.com/users/xuhcc/orgs",
    "repos_url": "https://api.github.com/users/xuhcc/repos",
    "events_url": "https://api.github.com/users/xuhcc/events{/privacy}",
    "received_events_url": "https://api.github.com/users/xuhcc/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2018-04-27T06:48:02Z",
  "updated_at": "2018-04-27T13:28:20Z",
  "closed_at": "2018-04-27T13:28:20Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "I have found interesting transaction on Rinkeby chain:\r\n\r\nhttps://rinkeby.etherscan.io/tx/0x9d0f5ae03a1708f85858764d631a89ef373f92f759f4a6b773675ad02a8e6700\r\n\r\nThe transaction receipt indicates successful execution, while geth trace contains REVERT opcode. How it could be?\r\n\r\n#### System information\r\n\r\nGeth version: 1.8.4\r\nOS & Version: Linux",
  "closed_by": {
    "login": "karalabe",
    "id": 129561,
    "node_id": "MDQ6VXNlcjEyOTU2MQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/karalabe",
    "html_url": "https://github.com/karalabe",
    "followers_url": "https://api.github.com/users/karalabe/followers",
    "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
    "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
    "organizations_url": "https://api.github.com/users/karalabe/orgs",
    "repos_url": "https://api.github.com/users/karalabe/repos",
    "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
    "received_events_url": "https://api.github.com/users/karalabe/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16582/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16582/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/384930839",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/16582#issuecomment-384930839",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16582",
    "id": 384930839,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4NDkzMDgzOQ==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-27T10:24:28Z",
    "updated_at": "2018-04-27T10:24:28Z",
    "author_association": "MEMBER",
    "body": "Hey there!\r\n\r\nThanks for the report! Apparently the transaction before this one (https://rinkeby.etherscan.io/address/0x3630a567cf8c88e72dd7a8e6fd0824efc49912d5) already self destructed the contract, so your faulty transaction should be a NOOP.\r\n\r\nLooking at its gas use, 21272, that's the base transaction fee (21000) + 4 byte of input data (4 * 64 gas), which is again consistent with a NOOP. I.e. this transaction executed correctly, and consumed a correct amount of gas, and reported correctly the success status.\r\n\r\nThat leaves the question, why does etherscan (any my local node too) report it as REVERTed. We're still looking into it, but our hunch is that the tracer code uses a slightly modified transaction execution pathway and somewhere the code of the contract was not flagged as deleted and still used that during tracing.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/384930839/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/384945859",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/16582#issuecomment-384945859",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16582",
    "id": 384945859,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4NDk0NTg1OQ==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-27T11:40:53Z",
    "updated_at": "2018-04-27T11:40:53Z",
    "author_association": "MEMBER",
    "body": "Yeah, so the error originates from the tracer which used some funky legacy code to dispose of deleted objects, not the consensus code. Swapping it out to the proper consensus function call makes everything run smoothly.\r\n\r\nSorry for the messup, I'll have to ping @mtbitcoin to re-trace after this is merged/released.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/384945859/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
