{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15866",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15866/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15866/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15866/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/15866",
  "id": 288182880,
  "node_id": "MDU6SXNzdWUyODgxODI4ODA=",
  "number": 15866,
  "title": "Are logs due to uncles removed ?",
  "user": {
    "login": "anks003",
    "id": 34793565,
    "node_id": "MDQ6VXNlcjM0NzkzNTY1",
    "avatar_url": "https://avatars.githubusercontent.com/u/34793565?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/anks003",
    "html_url": "https://github.com/anks003",
    "followers_url": "https://api.github.com/users/anks003/followers",
    "following_url": "https://api.github.com/users/anks003/following{/other_user}",
    "gists_url": "https://api.github.com/users/anks003/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/anks003/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/anks003/subscriptions",
    "organizations_url": "https://api.github.com/users/anks003/orgs",
    "repos_url": "https://api.github.com/users/anks003/repos",
    "events_url": "https://api.github.com/users/anks003/events{/privacy}",
    "received_events_url": "https://api.github.com/users/anks003/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 856638432,
      "node_id": "MDU6TGFiZWw4NTY2Mzg0MzI=",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/status:inactive",
      "name": "status:inactive",
      "color": "ffffff",
      "default": false,
      "description": null
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2018-01-12T16:57:30Z",
  "updated_at": "2019-03-02T03:17:52Z",
  "closed_at": "2019-03-02T03:17:52Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Hi there,\r\n\r\nSorry if I violate the guidelines by asking a question here. This is regarding the logs stored in state.\r\nSuppose a log is generated corresponding to a contract execution and later on the block having that transaction is not included in the main chain due to chain reorganaisation. Are the past logs removed from the stored state and `eth_getLogs`does not return them anymore ? I have read that only uncle headers are persisted and other info like transaction receipts are not.\r\n\r\nI see a `removed : true` field in the log information. For me the expected behavior looks like this:\r\n\r\n1) If the log is returned to a subscription with a filter and it will be returned again with removed : true because it was earlier removed.\r\n2) If I get past logs by waiting for some block confirmations and by giving a block range say, (x,latest-50) . If the log is already removed, then it won't never be returned in `eth_getLogs`\r\n\r\n#### System information\r\n\r\nGeth version: 1.7.2\r\nOS & Version: Ubuntu 16.04\r\nCommit hash : (if `develop`)\r\n\r\n### Referred code \r\nhttps://github.com/ethereum/go-ethereum/blob/2ab2a9f13116748ca343892f851e3632861c994e/eth/filters/api.go#L290\r\n",
  "closed_by": {
    "login": "stale[bot]",
    "id": 26384082,
    "node_id": "MDM6Qm90MjYzODQwODI=",
    "avatar_url": "https://avatars.githubusercontent.com/in/1724?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/stale%5Bbot%5D",
    "html_url": "https://github.com/apps/stale",
    "followers_url": "https://api.github.com/users/stale%5Bbot%5D/followers",
    "following_url": "https://api.github.com/users/stale%5Bbot%5D/following{/other_user}",
    "gists_url": "https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/stale%5Bbot%5D/subscriptions",
    "organizations_url": "https://api.github.com/users/stale%5Bbot%5D/orgs",
    "repos_url": "https://api.github.com/users/stale%5Bbot%5D/repos",
    "events_url": "https://api.github.com/users/stale%5Bbot%5D/events{/privacy}",
    "received_events_url": "https://api.github.com/users/stale%5Bbot%5D/received_events",
    "type": "Bot",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15866/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15866/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/455743650",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15866#issuecomment-455743650",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15866",
    "id": 455743650,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NTc0MzY1MA==",
    "user": {
      "login": "stale[bot]",
      "id": 26384082,
      "node_id": "MDM6Qm90MjYzODQwODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/1724?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stale%5Bbot%5D",
      "html_url": "https://github.com/apps/stale",
      "followers_url": "https://api.github.com/users/stale%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/stale%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stale%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/stale%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/stale%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/stale%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stale%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2019-01-19T03:00:17Z",
    "updated_at": "2019-01-19T03:00:17Z",
    "author_association": "NONE",
    "body": "This issue has been automatically marked as stale because it has not had recent activity. It will be closed if no further activity occurs. Thank you for your contributions.\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/455743650/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
