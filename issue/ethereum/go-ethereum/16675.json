{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16675",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16675/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16675/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16675/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/16675",
  "id": 320183133,
  "node_id": "MDU6SXNzdWUzMjAxODMxMzM=",
  "number": 16675,
  "title": "starting private network node stops with \"runtime error: invalid memory address or nil pointer dereference\" filter_system.go:434",
  "user": {
    "login": "paulvi",
    "id": 1614482,
    "node_id": "MDQ6VXNlcjE2MTQ0ODI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1614482?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/paulvi",
    "html_url": "https://github.com/paulvi",
    "followers_url": "https://api.github.com/users/paulvi/followers",
    "following_url": "https://api.github.com/users/paulvi/following{/other_user}",
    "gists_url": "https://api.github.com/users/paulvi/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/paulvi/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/paulvi/subscriptions",
    "organizations_url": "https://api.github.com/users/paulvi/orgs",
    "repos_url": "https://api.github.com/users/paulvi/repos",
    "events_url": "https://api.github.com/users/paulvi/events{/privacy}",
    "received_events_url": "https://api.github.com/users/paulvi/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 856638432,
      "node_id": "MDU6TGFiZWw4NTY2Mzg0MzI=",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/status:inactive",
      "name": "status:inactive",
      "color": "ffffff",
      "default": false,
      "description": null
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2018-05-04T07:55:56Z",
  "updated_at": "2019-07-03T01:49:50Z",
  "closed_at": "2019-07-03T01:49:50Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Hi there,\r\n\r\nGeth stops with nil pointer derefence error when running new private network.  \r\nWhile something may be not implemented, a software should not stop without pointing to reason of error.\r\n\r\n#### System information\r\n\r\nGeth version: `geth version`\r\n```\r\nE:\\Geth>geth version\r\nGeth\r\nVersion: 1.8.2-stable\r\nGit Commit: b8b9f7f4476a30a0aaf6077daade6ae77f969960\r\nArchitecture: amd64\r\n```\r\nOS & Version: Windows/Linux/OSX   \r\nWindows 7\r\n\r\n#### Expected behaviour\r\n\r\nnode can start\r\n\r\n#### Actual behaviour\r\n\r\nnode fails with nil pointer derefence error\r\n\r\n#### Steps to reproduce the behaviour\r\n\r\n1. modify previouly successful genesis.json (generated by puppeth)\r\n(genesis json shown fully in #16676)\r\n2. geth init\r\n3. geth run (see below)\r\n\r\n#### Backtrace\r\n\r\n````\r\nINFO [05-04|15:05:34] Successfully wrote genesis state         database=lightchaindata                          hash=61c7cc…b502fb\r\n\r\nE:\\Geth>geth --datadir .bc5202/ --networkid 5202 --syncmode \"full\" --port 35202 --nodiscover --nousb --rpc --rpcaddr \"localhost\" --rpcport 8502 --rpcapi \"admin,\r\npersonal,db,eth,net,web3,txpool,miner\" --txpool.pricelimit 0 --mine --gasprice 0 --etherbase 0x31a5e0e68b4ca721a2005144f6c32f6d1c1c4b99 --unlock 0x31a5e0e68b4ca\r\n721a2005144f6c32f6d1c1c4b99 --password password31.txt --extradata node1\r\nINFO [05-04|15:07:59] Maximum peer count                       ETH=25 LES=0 total=25\r\nINFO [05-04|15:07:59] Starting peer-to-peer node               instance=Geth/v1.8.2-stable-b8b9f7f4/windows-amd64/go1.9.2\r\nINFO [05-04|15:07:59] Allocated cache and file handles         database=E:\\\\Geth\\\\.bc5202\\\\geth\\\\chaindata cache=768 handles=1024\r\nWARN [05-04|15:08:00] Upgrading database to use lookup entries\r\nINFO [05-04|15:08:00] Initialised chain configuration          config=\"{ChainID: 5202 Homestead: 0 DAO: <nil> DAOSupport: false EIP150: 0 EIP155: 0 EIP158: 0 By\r\nzantium: 0 Constantinople: <nil> Engine: clique}\"\r\nINFO [05-04|15:08:00] Initialising Ethereum protocol           versions=\"[63 62]\" network=5202\r\nINFO [05-04|15:08:00] Database deduplication successful        deduped=0\r\nINFO [05-04|15:08:00] Loaded most recent local header          number=0 hash=61c7cc…b502fb td=1\r\nINFO [05-04|15:08:00] Loaded most recent local full block      number=0 hash=61c7cc…b502fb td=1\r\nINFO [05-04|15:08:00] Loaded most recent local fast block      number=0 hash=61c7cc…b502fb td=1\r\nWARN [05-04|15:08:00] Sanitizing invalid txpool price limit    provided=0 updated=1\r\nINFO [05-04|15:08:00] Regenerated local transaction journal    transactions=0 accounts=0\r\nINFO [05-04|15:08:00] Starting P2P networking\r\nINFO [05-04|15:08:00] RLPx listener up                         self=\"enode://1b77169a3d234f83646b0f91f6aec0c7dc2074da6c2a5a900d6c72116a0036567cee4c69panic: \r\nruntime error: invalid memory address or nil pointer dereference\r\n[signal 0xc0000005 code=0x0 addr=0x0 pc=0xab2c57]\r\n\r\ngoroutine 82 [running]:\r\ngithub.com/ethereum/go-ethereum/eth/filters.(*EventSystem).eventLoop(0xc0422ed500)\r\n        C:/gopath/src/github.com/ethereum/go-ethereum/eth/filters/filter_system.go:434 +0x337\r\ncreated by github.com/ethereum/go-ethereum/eth/filters.NewEventSystem\r\n        C:/gopath/src/github.com/ethereum/go-ethereum/eth/filters/filter_system.go:113 +0x10b\r\n````\r\n\r\nCode in question\r\n\r\nhttps://github.com/ethereum/go-ethereum/blob/release/1.8/eth/filters/filter_system.go#L113\r\n\r\nhttps://github.com/ethereum/go-ethereum/blob/release/1.8/eth/filters/filter_system.go#L434\r\n",
  "closed_by": {
    "login": "stale[bot]",
    "id": 26384082,
    "node_id": "MDM6Qm90MjYzODQwODI=",
    "avatar_url": "https://avatars.githubusercontent.com/in/1724?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/stale%5Bbot%5D",
    "html_url": "https://github.com/apps/stale",
    "followers_url": "https://api.github.com/users/stale%5Bbot%5D/followers",
    "following_url": "https://api.github.com/users/stale%5Bbot%5D/following{/other_user}",
    "gists_url": "https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/stale%5Bbot%5D/subscriptions",
    "organizations_url": "https://api.github.com/users/stale%5Bbot%5D/orgs",
    "repos_url": "https://api.github.com/users/stale%5Bbot%5D/repos",
    "events_url": "https://api.github.com/users/stale%5Bbot%5D/events{/privacy}",
    "received_events_url": "https://api.github.com/users/stale%5Bbot%5D/received_events",
    "type": "Bot",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16675/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16675/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/390528133",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/16675#issuecomment-390528133",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16675",
    "id": 390528133,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MDUyODEzMw==",
    "user": {
      "login": "paulvi",
      "id": 1614482,
      "node_id": "MDQ6VXNlcjE2MTQ0ODI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1614482?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/paulvi",
      "html_url": "https://github.com/paulvi",
      "followers_url": "https://api.github.com/users/paulvi/followers",
      "following_url": "https://api.github.com/users/paulvi/following{/other_user}",
      "gists_url": "https://api.github.com/users/paulvi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/paulvi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/paulvi/subscriptions",
      "organizations_url": "https://api.github.com/users/paulvi/orgs",
      "repos_url": "https://api.github.com/users/paulvi/repos",
      "events_url": "https://api.github.com/users/paulvi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/paulvi/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-21T01:10:27Z",
    "updated_at": "2018-05-21T01:10:55Z",
    "author_association": "NONE",
    "body": "TODO check in 1.8.8 https://github.com/ethereum/go-ethereum/releases/tag/v1.8.8",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/390528133/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/494616416",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/16675#issuecomment-494616416",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16675",
    "id": 494616416,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5NDYxNjQxNg==",
    "user": {
      "login": "stale[bot]",
      "id": 26384082,
      "node_id": "MDM6Qm90MjYzODQwODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/1724?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stale%5Bbot%5D",
      "html_url": "https://github.com/apps/stale",
      "followers_url": "https://api.github.com/users/stale%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/stale%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stale%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/stale%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/stale%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/stale%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stale%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2019-05-22T01:24:49Z",
    "updated_at": "2019-05-22T01:24:49Z",
    "author_association": "NONE",
    "body": "This issue has been automatically marked as stale because it has not had recent activity. It will be closed if no further activity occurs. Thank you for your contributions.\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/494616416/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
