{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16824",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16824/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16824/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16824/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/16824",
  "id": 327177034,
  "node_id": "MDU6SXNzdWUzMjcxNzcwMzQ=",
  "number": 16824,
  "title": "runtime: out of memory: cannot allocate 201326592-byte block (1306238976 in use)",
  "user": {
    "login": "mccoysc",
    "id": 18025276,
    "node_id": "MDQ6VXNlcjE4MDI1Mjc2",
    "avatar_url": "https://avatars.githubusercontent.com/u/18025276?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/mccoysc",
    "html_url": "https://github.com/mccoysc",
    "followers_url": "https://api.github.com/users/mccoysc/followers",
    "following_url": "https://api.github.com/users/mccoysc/following{/other_user}",
    "gists_url": "https://api.github.com/users/mccoysc/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/mccoysc/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mccoysc/subscriptions",
    "organizations_url": "https://api.github.com/users/mccoysc/orgs",
    "repos_url": "https://api.github.com/users/mccoysc/repos",
    "events_url": "https://api.github.com/users/mccoysc/events{/privacy}",
    "received_events_url": "https://api.github.com/users/mccoysc/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 8,
  "created_at": "2018-05-29T05:45:14Z",
  "updated_at": "2018-11-13T10:18:27Z",
  "closed_at": "2018-11-13T10:18:27Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "runtime: out of memory: cannot allocate 201326592-byte block (1306238976 in use)\r\nfatal error: out of memory\r\n\r\nruntime stack:\r\nruntime.throw(0xcf85c0, 0xd)\r\n        C:/Go/src/runtime/panic.go:616 +0x6b\r\nruntime.largeAlloc(0xc000000, 0x35db0101, 0x450423)\r\n        C:/Go/src/runtime/malloc.go:828 +0xdc\r\nruntime.mallocgc.func1()\r\n        C:/Go/src/runtime/malloc.go:721 +0x39\r\n......",
  "closed_by": {
    "login": "karalabe",
    "id": 129561,
    "node_id": "MDQ6VXNlcjEyOTU2MQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/karalabe",
    "html_url": "https://github.com/karalabe",
    "followers_url": "https://api.github.com/users/karalabe/followers",
    "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
    "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
    "organizations_url": "https://api.github.com/users/karalabe/orgs",
    "repos_url": "https://api.github.com/users/karalabe/repos",
    "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
    "received_events_url": "https://api.github.com/users/karalabe/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16824/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16824/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/392659249",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/16824#issuecomment-392659249",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16824",
    "id": 392659249,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MjY1OTI0OQ==",
    "user": {
      "login": "mccoysc",
      "id": 18025276,
      "node_id": "MDQ6VXNlcjE4MDI1Mjc2",
      "avatar_url": "https://avatars.githubusercontent.com/u/18025276?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mccoysc",
      "html_url": "https://github.com/mccoysc",
      "followers_url": "https://api.github.com/users/mccoysc/followers",
      "following_url": "https://api.github.com/users/mccoysc/following{/other_user}",
      "gists_url": "https://api.github.com/users/mccoysc/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mccoysc/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mccoysc/subscriptions",
      "organizations_url": "https://api.github.com/users/mccoysc/orgs",
      "repos_url": "https://api.github.com/users/mccoysc/repos",
      "events_url": "https://api.github.com/users/mccoysc/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mccoysc/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-29T05:45:51Z",
    "updated_at": "2018-05-29T05:45:51Z",
    "author_association": "NONE",
    "body": "ver:1.8.9\r\nwindows 10 x64",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/392659249/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/392685404",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/16824#issuecomment-392685404",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16824",
    "id": 392685404,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MjY4NTQwNA==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-29T07:52:22Z",
    "updated_at": "2018-05-29T07:52:34Z",
    "author_association": "MEMBER",
    "body": "How much memory does your machine have? Are you sure you downloaded the 64bit build of Geth? What does `geth version` print?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/392685404/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/393817168",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/16824#issuecomment-393817168",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16824",
    "id": 393817168,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MzgxNzE2OA==",
    "user": {
      "login": "tinshen",
      "id": 16872084,
      "node_id": "MDQ6VXNlcjE2ODcyMDg0",
      "avatar_url": "https://avatars.githubusercontent.com/u/16872084?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tinshen",
      "html_url": "https://github.com/tinshen",
      "followers_url": "https://api.github.com/users/tinshen/followers",
      "following_url": "https://api.github.com/users/tinshen/following{/other_user}",
      "gists_url": "https://api.github.com/users/tinshen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tinshen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tinshen/subscriptions",
      "organizations_url": "https://api.github.com/users/tinshen/orgs",
      "repos_url": "https://api.github.com/users/tinshen/repos",
      "events_url": "https://api.github.com/users/tinshen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tinshen/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-01T08:57:10Z",
    "updated_at": "2018-06-01T08:57:10Z",
    "author_association": "NONE",
    "body": "you need more memory! \r\nI run geth server is 32g memory.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/393817168/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/394178920",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/16824#issuecomment-394178920",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16824",
    "id": 394178920,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NDE3ODkyMA==",
    "user": {
      "login": "stricq",
      "id": 1395862,
      "node_id": "MDQ6VXNlcjEzOTU4NjI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1395862?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stricq",
      "html_url": "https://github.com/stricq",
      "followers_url": "https://api.github.com/users/stricq/followers",
      "following_url": "https://api.github.com/users/stricq/following{/other_user}",
      "gists_url": "https://api.github.com/users/stricq/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stricq/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stricq/subscriptions",
      "organizations_url": "https://api.github.com/users/stricq/orgs",
      "repos_url": "https://api.github.com/users/stricq/repos",
      "events_url": "https://api.github.com/users/stricq/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stricq/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-03T17:47:49Z",
    "updated_at": "2018-06-03T17:52:40Z",
    "author_association": "NONE",
    "body": "```\r\nruntime: out of memory: cannot allocate 3221225472-byte block (31317721088 in use)\r\nfatal error: out of memory\r\n\r\nruntime stack:\r\nruntime.throw(0xf140e2, 0xd)\r\n        C:/go/src/runtime/panic.go:605 +0x9c\r\nruntime.largeAlloc(0xc0000000, 0x5d70101, 0x459945)\r\n        C:/go/src/runtime/malloc.go:829 +0x11b\r\nruntime.mallocgc.func1()\r\n        C:/go/src/runtime/malloc.go:722 +0x4d\r\nruntime.systemstack(0xc04201f300)\r\n        C:/go/src/runtime/asm_amd64.s:344 +0x7e\r\nruntime.mstart()\r\n        C:/go/src/runtime/proc.go:1135\r\n```\r\n\r\nI get this error running under Windows Server 2012 R2.  The machine has 128G of RAM with two CPUs.  geth has, essentially, access to pretty much all the RAM on the machine as very little else is running aside from the File and Storage Services.  This is the command line:\r\n\r\n\"C:\\Users\\Administrator\\AppData\\Roaming\\Ethereum Wallet\\binaries\\Geth\\unpacked\\geth.exe\" --syncmode fast --datadir C:\\Users\\Administrator\\AppData\\Roaming\\Ethereum --cache 16384\r\n\r\n```\r\nC:\\Users\\Administrator>\"C:\\Users\\Administrator\\AppData\\Roaming\\Ethereum Wallet\\binaries\\Geth\\unpacked\\geth.exe\" version\r\nGeth\r\nVersion: 1.8.2-stable\r\nGit Commit: b8b9f7f4476a30a0aaf6077daade6ae77f969960\r\nArchitecture: amd64\r\nProtocol Versions: [63 62]\r\nNetwork Id: 1\r\nGo Version: go1.9.2\r\nOperating System: windows\r\nGOPATH=\r\nGOROOT=c:\\go\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/394178920/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/394209413",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/16824#issuecomment-394209413",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16824",
    "id": 394209413,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NDIwOTQxMw==",
    "user": {
      "login": "stricq",
      "id": 1395862,
      "node_id": "MDQ6VXNlcjEzOTU4NjI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1395862?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stricq",
      "html_url": "https://github.com/stricq",
      "followers_url": "https://api.github.com/users/stricq/followers",
      "following_url": "https://api.github.com/users/stricq/following{/other_user}",
      "gists_url": "https://api.github.com/users/stricq/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stricq/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stricq/subscriptions",
      "organizations_url": "https://api.github.com/users/stricq/orgs",
      "repos_url": "https://api.github.com/users/stricq/repos",
      "events_url": "https://api.github.com/users/stricq/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stricq/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-04T01:11:49Z",
    "updated_at": "2018-06-04T01:45:46Z",
    "author_association": "NONE",
    "body": "It still happens under 1.8.10\r\n\r\n```\r\nruntime: out of memory: cannot allocate 3221225472-byte block (32171884544 in use)\r\nfatal error: out of memory\r\n\r\nruntime stack:\r\nruntime.throw(0xeab47e, 0xd)\r\n        C:/go/src/runtime/panic.go:616 +0x88\r\nruntime.largeAlloc(0xc0000000, 0x450101, 0x2680000)\r\n        C:/go/src/runtime/malloc.go:828 +0x117\r\nruntime.mallocgc.func1()\r\n        C:/go/src/runtime/malloc.go:721 +0x4d\r\nruntime.systemstack(0x0)\r\n        C:/go/src/runtime/asm_amd64.s:409 +0x7e\r\nruntime.mstart()\r\n        C:/go/src/runtime/proc.go:1175\r\n```\r\n```\r\n\r\nC:\\Users\\Administrator>\"C:\\Users\\Administrator\\AppData\\Roaming\\Ethereum Wallet\\binaries\\Geth\\unpacked\\geth.exe\" version\r\nGeth\r\nVersion: 1.8.10-stable\r\nGit Commit: eae63c511ceafab14b92e274c1b18bf1700e2d3d\r\nArchitecture: amd64\r\nProtocol Versions: [63 62]\r\nNetwork Id: 1\r\nGo Version: go1.10.2\r\nOperating System: windows\r\nGOPATH=\r\nGOROOT=C:\\go\r\n```\r\n\r\nAlso, there are a few **thousand** lines of stack trace that pops up as well.  If you need that, just ask.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/394209413/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/394210632",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/16824#issuecomment-394210632",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16824",
    "id": 394210632,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NDIxMDYzMg==",
    "user": {
      "login": "mccoysc",
      "id": 18025276,
      "node_id": "MDQ6VXNlcjE4MDI1Mjc2",
      "avatar_url": "https://avatars.githubusercontent.com/u/18025276?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mccoysc",
      "html_url": "https://github.com/mccoysc",
      "followers_url": "https://api.github.com/users/mccoysc/followers",
      "following_url": "https://api.github.com/users/mccoysc/following{/other_user}",
      "gists_url": "https://api.github.com/users/mccoysc/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mccoysc/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mccoysc/subscriptions",
      "organizations_url": "https://api.github.com/users/mccoysc/orgs",
      "repos_url": "https://api.github.com/users/mccoysc/repos",
      "events_url": "https://api.github.com/users/mccoysc/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mccoysc/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-04T01:23:19Z",
    "updated_at": "2018-06-04T01:23:19Z",
    "author_association": "NONE",
    "body": "you can't imagine and require all resource is sufficent supported ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/394210632/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/394210843",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/16824#issuecomment-394210843",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16824",
    "id": 394210843,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NDIxMDg0Mw==",
    "user": {
      "login": "mccoysc",
      "id": 18025276,
      "node_id": "MDQ6VXNlcjE4MDI1Mjc2",
      "avatar_url": "https://avatars.githubusercontent.com/u/18025276?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mccoysc",
      "html_url": "https://github.com/mccoysc",
      "followers_url": "https://api.github.com/users/mccoysc/followers",
      "following_url": "https://api.github.com/users/mccoysc/following{/other_user}",
      "gists_url": "https://api.github.com/users/mccoysc/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mccoysc/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mccoysc/subscriptions",
      "organizations_url": "https://api.github.com/users/mccoysc/orgs",
      "repos_url": "https://api.github.com/users/mccoysc/repos",
      "events_url": "https://api.github.com/users/mccoysc/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mccoysc/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-04T01:25:23Z",
    "updated_at": "2018-06-04T01:25:23Z",
    "author_association": "NONE",
    "body": "code should be more efficient and should not use memory just like it's so cheap to use",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/394210843/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/402537550",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/16824#issuecomment-402537550",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/16824",
    "id": 402537550,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwMjUzNzU1MA==",
    "user": {
      "login": "stricq",
      "id": 1395862,
      "node_id": "MDQ6VXNlcjEzOTU4NjI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1395862?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stricq",
      "html_url": "https://github.com/stricq",
      "followers_url": "https://api.github.com/users/stricq/followers",
      "following_url": "https://api.github.com/users/stricq/following{/other_user}",
      "gists_url": "https://api.github.com/users/stricq/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stricq/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stricq/subscriptions",
      "organizations_url": "https://api.github.com/users/stricq/orgs",
      "repos_url": "https://api.github.com/users/stricq/repos",
      "events_url": "https://api.github.com/users/stricq/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stricq/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-04T18:14:43Z",
    "updated_at": "2018-07-04T18:14:43Z",
    "author_association": "NONE",
    "body": "This issue appears to be fixed with 1.8.11.  I've been running geth for about 24 hours now, it's memory usage has stayed under the 16G specified on the command line.  The block chain was about 500k behind (three weeks) and has just finished catching up.  No crashes at all, no high memory consumption.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/402537550/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
