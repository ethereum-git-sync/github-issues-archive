{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23248",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23248/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23248/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23248/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/23248",
  "id": 950703269,
  "node_id": "MDU6SXNzdWU5NTA3MDMyNjk=",
  "number": 23248,
  "title": "unexpected eth_call behavior in pending opt",
  "user": {
    "login": "huahuayu",
    "id": 1725060,
    "node_id": "MDQ6VXNlcjE3MjUwNjA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1725060?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/huahuayu",
    "html_url": "https://github.com/huahuayu",
    "followers_url": "https://api.github.com/users/huahuayu/followers",
    "following_url": "https://api.github.com/users/huahuayu/following{/other_user}",
    "gists_url": "https://api.github.com/users/huahuayu/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/huahuayu/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/huahuayu/subscriptions",
    "organizations_url": "https://api.github.com/users/huahuayu/orgs",
    "repos_url": "https://api.github.com/users/huahuayu/repos",
    "events_url": "https://api.github.com/users/huahuayu/events{/privacy}",
    "received_events_url": "https://api.github.com/users/huahuayu/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 268304226,
      "node_id": "MDU6TGFiZWwyNjgzMDQyMjY=",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:docs",
      "name": "type:docs",
      "color": "fef2c0",
      "default": false,
      "description": null
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 14,
  "created_at": "2021-07-22T14:01:24Z",
  "updated_at": "2021-07-29T03:07:46Z",
  "closed_at": "2021-07-29T03:07:18Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "hi, since `eth_call` have a pending opt for query based on the pending stats, I do a test as below.\r\n\r\n![image](https://user-images.githubusercontent.com/1725060/126651369-5606ec28-c441-4929-b8a9-ce5d2fbafda1.png)\r\n\r\nI send a tx which can change some stat variables, and I check the stat variable before and after sending it, \r\n\r\nI expected to get different results, but the results are identical.",
  "closed_by": {
    "login": "rjl493456442",
    "id": 5959481,
    "node_id": "MDQ6VXNlcjU5NTk0ODE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5959481?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/rjl493456442",
    "html_url": "https://github.com/rjl493456442",
    "followers_url": "https://api.github.com/users/rjl493456442/followers",
    "following_url": "https://api.github.com/users/rjl493456442/following{/other_user}",
    "gists_url": "https://api.github.com/users/rjl493456442/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/rjl493456442/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/rjl493456442/subscriptions",
    "organizations_url": "https://api.github.com/users/rjl493456442/orgs",
    "repos_url": "https://api.github.com/users/rjl493456442/repos",
    "events_url": "https://api.github.com/users/rjl493456442/events{/privacy}",
    "received_events_url": "https://api.github.com/users/rjl493456442/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23248/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23248/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/885445074",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23248#issuecomment-885445074",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23248",
    "id": 885445074,
    "node_id": "IC_kwDOAOvK9840xtHS",
    "user": {
      "login": "rjl493456442",
      "id": 5959481,
      "node_id": "MDQ6VXNlcjU5NTk0ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5959481?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rjl493456442",
      "html_url": "https://github.com/rjl493456442",
      "followers_url": "https://api.github.com/users/rjl493456442/followers",
      "following_url": "https://api.github.com/users/rjl493456442/following{/other_user}",
      "gists_url": "https://api.github.com/users/rjl493456442/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rjl493456442/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rjl493456442/subscriptions",
      "organizations_url": "https://api.github.com/users/rjl493456442/orgs",
      "repos_url": "https://api.github.com/users/rjl493456442/repos",
      "events_url": "https://api.github.com/users/rjl493456442/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rjl493456442/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-23T07:09:27Z",
    "updated_at": "2021-07-28T02:25:36Z",
    "author_association": "MEMBER",
    "body": "Can you extend the sleep interval a bit longer? Perhaps the node hasn't included your transaction into the pending state. Or perhaps your transaction isn't executable?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/885445074/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/886152418",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23248#issuecomment-886152418",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23248",
    "id": 886152418,
    "node_id": "IC_kwDOAOvK98400Zzi",
    "user": {
      "login": "huahuayu",
      "id": 1725060,
      "node_id": "MDQ6VXNlcjE3MjUwNjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1725060?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huahuayu",
      "html_url": "https://github.com/huahuayu",
      "followers_url": "https://api.github.com/users/huahuayu/followers",
      "following_url": "https://api.github.com/users/huahuayu/following{/other_user}",
      "gists_url": "https://api.github.com/users/huahuayu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huahuayu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huahuayu/subscriptions",
      "organizations_url": "https://api.github.com/users/huahuayu/orgs",
      "repos_url": "https://api.github.com/users/huahuayu/repos",
      "events_url": "https://api.github.com/users/huahuayu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huahuayu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-25T06:07:03Z",
    "updated_at": "2021-07-25T06:11:07Z",
    "author_association": "CONTRIBUTOR",
    "body": "hi @rjl493456442 I write some code to demonstrate the problem https://github.com/huahuayu/ethcall\r\n\r\nI'd rather say it's gas estimation problem, `eth_call` with pending opt is working fine, but gas estimation is not.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/886152418/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/886152725",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23248#issuecomment-886152725",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23248",
    "id": 886152725,
    "node_id": "IC_kwDOAOvK98400Z4V",
    "user": {
      "login": "huahuayu",
      "id": 1725060,
      "node_id": "MDQ6VXNlcjE3MjUwNjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1725060?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huahuayu",
      "html_url": "https://github.com/huahuayu",
      "followers_url": "https://api.github.com/users/huahuayu/followers",
      "following_url": "https://api.github.com/users/huahuayu/following{/other_user}",
      "gists_url": "https://api.github.com/users/huahuayu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huahuayu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huahuayu/subscriptions",
      "organizations_url": "https://api.github.com/users/huahuayu/orgs",
      "repos_url": "https://api.github.com/users/huahuayu/repos",
      "events_url": "https://api.github.com/users/huahuayu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huahuayu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-25T06:10:47Z",
    "updated_at": "2021-07-25T06:10:47Z",
    "author_association": "CONTRIBUTOR",
    "body": "for a workaround, if only I can do `eth_call` for not just view function but transactions, so I can use it to replace gasEstimation for some cases.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/886152725/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/887968848",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23248#issuecomment-887968848",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23248",
    "id": 887968848,
    "node_id": "IC_kwDOAOvK98407VRQ",
    "user": {
      "login": "rjl493456442",
      "id": 5959481,
      "node_id": "MDQ6VXNlcjU5NTk0ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5959481?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rjl493456442",
      "html_url": "https://github.com/rjl493456442",
      "followers_url": "https://api.github.com/users/rjl493456442/followers",
      "following_url": "https://api.github.com/users/rjl493456442/following{/other_user}",
      "gists_url": "https://api.github.com/users/rjl493456442/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rjl493456442/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rjl493456442/subscriptions",
      "organizations_url": "https://api.github.com/users/rjl493456442/orgs",
      "repos_url": "https://api.github.com/users/rjl493456442/repos",
      "events_url": "https://api.github.com/users/rjl493456442/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rjl493456442/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-28T02:52:17Z",
    "updated_at": "2021-07-28T02:52:17Z",
    "author_association": "MEMBER",
    "body": "I think you have to wait the first transaction to be mined first. You can use `accounts/abi/bind.WaitMined` for waiting.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/887968848/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/887972756",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23248#issuecomment-887972756",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23248",
    "id": 887972756,
    "node_id": "IC_kwDOAOvK98407WOU",
    "user": {
      "login": "huahuayu",
      "id": 1725060,
      "node_id": "MDQ6VXNlcjE3MjUwNjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1725060?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huahuayu",
      "html_url": "https://github.com/huahuayu",
      "followers_url": "https://api.github.com/users/huahuayu/followers",
      "following_url": "https://api.github.com/users/huahuayu/following{/other_user}",
      "gists_url": "https://api.github.com/users/huahuayu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huahuayu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huahuayu/subscriptions",
      "organizations_url": "https://api.github.com/users/huahuayu/orgs",
      "repos_url": "https://api.github.com/users/huahuayu/repos",
      "events_url": "https://api.github.com/users/huahuayu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huahuayu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-28T03:04:33Z",
    "updated_at": "2021-07-28T03:04:33Z",
    "author_association": "CONTRIBUTOR",
    "body": "I want to predict the tx success or not before it gets mined, as the `EstimateGas` comment says, it is based on the current pending state to do the estimation, since `TransactionByHash` returns `isPending` = true, so it's included to the mempool, why the estimation is not accurate?\r\n\r\n```\r\n\t// EstimateGas tries to estimate the gas needed to execute a specific\r\n\t// transaction based on the current pending state of the backend blockchain.\r\n\t// There is no guarantee that this is the true gas limit requirement as other\r\n\t// transactions may be added or removed by miners, but it should provide a basis\r\n\t// for setting a reasonable default.\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/887972756/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/887983219",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23248#issuecomment-887983219",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23248",
    "id": 887983219,
    "node_id": "IC_kwDOAOvK98407Yxz",
    "user": {
      "login": "rjl493456442",
      "id": 5959481,
      "node_id": "MDQ6VXNlcjU5NTk0ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5959481?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rjl493456442",
      "html_url": "https://github.com/rjl493456442",
      "followers_url": "https://api.github.com/users/rjl493456442/followers",
      "following_url": "https://api.github.com/users/rjl493456442/following{/other_user}",
      "gists_url": "https://api.github.com/users/rjl493456442/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rjl493456442/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rjl493456442/subscriptions",
      "organizations_url": "https://api.github.com/users/rjl493456442/orgs",
      "repos_url": "https://api.github.com/users/rjl493456442/repos",
      "events_url": "https://api.github.com/users/rjl493456442/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rjl493456442/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-28T03:34:10Z",
    "updated_at": "2021-07-28T03:34:10Z",
    "author_association": "MEMBER",
    "body": "The result returned by the `TransactionByHash` can't indicate your transaction is included in the pending block. It only shows that the transaction is sitting in the txpool. So I would recommend to use wait the *first transaction(the one to send ether to contract)* to be mined, or you can subscribe the pending transaction for notification.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/887983219/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/887983381",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23248#issuecomment-887983381",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23248",
    "id": 887983381,
    "node_id": "IC_kwDOAOvK98407Y0V",
    "user": {
      "login": "rjl493456442",
      "id": 5959481,
      "node_id": "MDQ6VXNlcjU5NTk0ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5959481?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rjl493456442",
      "html_url": "https://github.com/rjl493456442",
      "followers_url": "https://api.github.com/users/rjl493456442/followers",
      "following_url": "https://api.github.com/users/rjl493456442/following{/other_user}",
      "gists_url": "https://api.github.com/users/rjl493456442/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rjl493456442/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rjl493456442/subscriptions",
      "organizations_url": "https://api.github.com/users/rjl493456442/orgs",
      "repos_url": "https://api.github.com/users/rjl493456442/repos",
      "events_url": "https://api.github.com/users/rjl493456442/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rjl493456442/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-28T03:34:45Z",
    "updated_at": "2021-07-28T03:34:45Z",
    "author_association": "MEMBER",
    "body": "```\r\n// NewPendingTransactionFilter creates a filter that fetches pending transaction hashes\r\n// as transactions enter the pending state.\r\n//\r\n// It is part of the filter package because this filter can be used through the\r\n// `eth_getFilterChanges` polling method that is also used for log filters.\r\n//\r\n// https://eth.wiki/json-rpc/API#eth_newpendingtransactionfilter\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/887983381/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/887983852",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23248#issuecomment-887983852",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23248",
    "id": 887983852,
    "node_id": "IC_kwDOAOvK98407Y7s",
    "user": {
      "login": "rjl493456442",
      "id": 5959481,
      "node_id": "MDQ6VXNlcjU5NTk0ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5959481?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rjl493456442",
      "html_url": "https://github.com/rjl493456442",
      "followers_url": "https://api.github.com/users/rjl493456442/followers",
      "following_url": "https://api.github.com/users/rjl493456442/following{/other_user}",
      "gists_url": "https://api.github.com/users/rjl493456442/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rjl493456442/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rjl493456442/subscriptions",
      "organizations_url": "https://api.github.com/users/rjl493456442/orgs",
      "repos_url": "https://api.github.com/users/rjl493456442/repos",
      "events_url": "https://api.github.com/users/rjl493456442/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rjl493456442/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-28T03:36:24Z",
    "updated_at": "2021-07-28T03:36:24Z",
    "author_association": "MEMBER",
    "body": "Btw, I guess I do understand your requirement for estimating/predicting a batch of transactions before sending them out.\r\nWe do have a PR for it but it's not decided whether the feature is wanted or not. https://github.com/ethereum/go-ethereum/pull/21268",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/887983852/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/887990355",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23248#issuecomment-887990355",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23248",
    "id": 887990355,
    "node_id": "IC_kwDOAOvK98407ahT",
    "user": {
      "login": "huahuayu",
      "id": 1725060,
      "node_id": "MDQ6VXNlcjE3MjUwNjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1725060?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huahuayu",
      "html_url": "https://github.com/huahuayu",
      "followers_url": "https://api.github.com/users/huahuayu/followers",
      "following_url": "https://api.github.com/users/huahuayu/following{/other_user}",
      "gists_url": "https://api.github.com/users/huahuayu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huahuayu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huahuayu/subscriptions",
      "organizations_url": "https://api.github.com/users/huahuayu/orgs",
      "repos_url": "https://api.github.com/users/huahuayu/repos",
      "events_url": "https://api.github.com/users/huahuayu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huahuayu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-28T03:59:47Z",
    "updated_at": "2021-07-28T03:59:47Z",
    "author_association": "CONTRIBUTOR",
    "body": "> So I would recommend to use wait the first transaction(the one to send ether to contract) to be mined.\r\n\r\nI only care about pending tx, and btw I test in ropsten network with 10Gwei the tx should be in the pending block right?  \r\n\r\n> can't indicate your transaction is included in the pending block\r\n\r\nso how can I manually make it's in pending block, at least in my client.\r\n\r\n> or you can subscribe the pending transaction for notification\r\n\r\nDo you mean the txhash `NewPendingTransactionFilter` is all in pending block rather than pending stats",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/887990355/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/888023328",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23248#issuecomment-888023328",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23248",
    "id": 888023328,
    "node_id": "IC_kwDOAOvK98407ikg",
    "user": {
      "login": "huahuayu",
      "id": 1725060,
      "node_id": "MDQ6VXNlcjE3MjUwNjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1725060?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huahuayu",
      "html_url": "https://github.com/huahuayu",
      "followers_url": "https://api.github.com/users/huahuayu/followers",
      "following_url": "https://api.github.com/users/huahuayu/following{/other_user}",
      "gists_url": "https://api.github.com/users/huahuayu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huahuayu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huahuayu/subscriptions",
      "organizations_url": "https://api.github.com/users/huahuayu/orgs",
      "repos_url": "https://api.github.com/users/huahuayu/repos",
      "events_url": "https://api.github.com/users/huahuayu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huahuayu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-28T05:33:44Z",
    "updated_at": "2021-07-28T05:34:42Z",
    "author_association": "CONTRIBUTOR",
    "body": "Did you run https://github.com/huahuayu/ethcall ? The inconsistency is that eth_call with pending opt has perceived the stat variable change, but gasEstimation doesn't?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/888023328/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/888225483",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23248#issuecomment-888225483",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23248",
    "id": 888225483,
    "node_id": "IC_kwDOAOvK98408T7L",
    "user": {
      "login": "rjl493456442",
      "id": 5959481,
      "node_id": "MDQ6VXNlcjU5NTk0ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5959481?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rjl493456442",
      "html_url": "https://github.com/rjl493456442",
      "followers_url": "https://api.github.com/users/rjl493456442/followers",
      "following_url": "https://api.github.com/users/rjl493456442/following{/other_user}",
      "gists_url": "https://api.github.com/users/rjl493456442/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rjl493456442/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rjl493456442/subscriptions",
      "organizations_url": "https://api.github.com/users/rjl493456442/orgs",
      "repos_url": "https://api.github.com/users/rjl493456442/repos",
      "events_url": "https://api.github.com/users/rjl493456442/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rjl493456442/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-28T11:12:31Z",
    "updated_at": "2021-07-28T11:12:31Z",
    "author_association": "MEMBER",
    "body": "I tried your code and nothing wrong to me. It's on the goerli testnet.\r\n\r\n```\r\ntest contract deployed:  0xd0413F5E44F06Abeb927e28572bc753Bd483D8Fb\r\nsleep for 20 seconds to make sure test contract deployed\r\nsendEth tx 0x3be4f40143814c2bc565cfd3380c533fa10d097d875de3a3595abe07f0bca3e0 balanceBefore 0, balanceAfter 1\r\ntxHash: 0x3be4f40143814c2bc565cfd3380c533fa10d097d875de3a3595abe07f0bca3e0 isPending true\r\neth_call result: balance after  1\r\nsendEthBack tx 0xb5abc85140fae47d610e2e9f34a3e485006e07c10a2b1af44db1361f0c24e358 balanceBefore 1, balanceAfter 0\r\nsendEthBackSimulation success! 3761053\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/888225483/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/888243708",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23248#issuecomment-888243708",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23248",
    "id": 888243708,
    "node_id": "IC_kwDOAOvK98408YX8",
    "user": {
      "login": "huahuayu",
      "id": 1725060,
      "node_id": "MDQ6VXNlcjE3MjUwNjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1725060?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huahuayu",
      "html_url": "https://github.com/huahuayu",
      "followers_url": "https://api.github.com/users/huahuayu/followers",
      "following_url": "https://api.github.com/users/huahuayu/following{/other_user}",
      "gists_url": "https://api.github.com/users/huahuayu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huahuayu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huahuayu/subscriptions",
      "organizations_url": "https://api.github.com/users/huahuayu/orgs",
      "repos_url": "https://api.github.com/users/huahuayu/repos",
      "events_url": "https://api.github.com/users/huahuayu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huahuayu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-28T11:45:44Z",
    "updated_at": "2021-07-28T11:45:58Z",
    "author_association": "CONTRIBUTOR",
    "body": "Could you please just `go run main.go` it's in `ropsten` network. I don't know why there's a difference.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/888243708/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/888244771",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23248#issuecomment-888244771",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23248",
    "id": 888244771,
    "node_id": "IC_kwDOAOvK98408Yoj",
    "user": {
      "login": "huahuayu",
      "id": 1725060,
      "node_id": "MDQ6VXNlcjE3MjUwNjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1725060?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/huahuayu",
      "html_url": "https://github.com/huahuayu",
      "followers_url": "https://api.github.com/users/huahuayu/followers",
      "following_url": "https://api.github.com/users/huahuayu/following{/other_user}",
      "gists_url": "https://api.github.com/users/huahuayu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/huahuayu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/huahuayu/subscriptions",
      "organizations_url": "https://api.github.com/users/huahuayu/orgs",
      "repos_url": "https://api.github.com/users/huahuayu/repos",
      "events_url": "https://api.github.com/users/huahuayu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/huahuayu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-28T11:47:48Z",
    "updated_at": "2021-07-28T11:47:48Z",
    "author_association": "CONTRIBUTOR",
    "body": "> Btw, I guess I do understand your requirement for estimating/predicting a batch of transactions before sending them out.\r\n> We do have a PR for it but it's not decided whether the feature is wanted or not. #21268\r\n\r\nthis is helpful",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/888244771/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/888764629",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23248#issuecomment-888764629",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23248",
    "id": 888764629,
    "node_id": "IC_kwDOAOvK9840-XjV",
    "user": {
      "login": "rjl493456442",
      "id": 5959481,
      "node_id": "MDQ6VXNlcjU5NTk0ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5959481?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rjl493456442",
      "html_url": "https://github.com/rjl493456442",
      "followers_url": "https://api.github.com/users/rjl493456442/followers",
      "following_url": "https://api.github.com/users/rjl493456442/following{/other_user}",
      "gists_url": "https://api.github.com/users/rjl493456442/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rjl493456442/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rjl493456442/subscriptions",
      "organizations_url": "https://api.github.com/users/rjl493456442/orgs",
      "repos_url": "https://api.github.com/users/rjl493456442/repos",
      "events_url": "https://api.github.com/users/rjl493456442/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rjl493456442/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-29T03:07:18Z",
    "updated_at": "2021-07-29T03:07:46Z",
    "author_association": "MEMBER",
    "body": "@huahuayu I guess it's the nondeterministic error. I can't reproduce it. But I still recommend you to try some different approaches to have some strong correctness guarantee if you are making your own client. I will close it now if you think #21268 is helpful. But feel free to reopen it.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/888764629/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
