{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15839",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15839/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15839/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15839/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/15839",
  "id": 287110725,
  "node_id": "MDU6SXNzdWUyODcxMTA3MjU=",
  "number": 15839,
  "title": "geth crash: out of memory",
  "user": {
    "login": "FOUNDXFUND",
    "id": 3086958,
    "node_id": "MDQ6VXNlcjMwODY5NTg=",
    "avatar_url": "https://avatars.githubusercontent.com/u/3086958?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/FOUNDXFUND",
    "html_url": "https://github.com/FOUNDXFUND",
    "followers_url": "https://api.github.com/users/FOUNDXFUND/followers",
    "following_url": "https://api.github.com/users/FOUNDXFUND/following{/other_user}",
    "gists_url": "https://api.github.com/users/FOUNDXFUND/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/FOUNDXFUND/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/FOUNDXFUND/subscriptions",
    "organizations_url": "https://api.github.com/users/FOUNDXFUND/orgs",
    "repos_url": "https://api.github.com/users/FOUNDXFUND/repos",
    "events_url": "https://api.github.com/users/FOUNDXFUND/events{/privacy}",
    "received_events_url": "https://api.github.com/users/FOUNDXFUND/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2018-01-09T14:38:48Z",
  "updated_at": "2019-01-29T09:55:13Z",
  "closed_at": "2018-11-19T12:32:28Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Hi there,\r\n\r\nplease note that this is an issue tracker reserved for bug reports and feature requests.\r\n\r\nFor general questions please use the gitter channel or the Ethereum stack exchange at https://ethereum.stackexchange.com.\r\n\r\n#### System information\r\n\r\nGeth version:Version: 1.8.0-unstable\r\nOS & Version: CentOs\r\nCommit hash : (if `develop`)\r\n\r\n#### Expected behaviour\r\n\r\n\r\n#### Actual behaviour\r\n\r\n\r\n#### Steps to reproduce the behaviour\r\n\r\n\r\n#### Backtrace\r\n\r\n````\r\nfatal error: runtime: out of memory\r\n\r\nruntime stack:\r\nruntime.throw(0x100555a, 0x16)\r\n        /go/src/runtime/panic.go:605 +0x95\r\nruntime.sysMap(0xc5e4d40000, 0x20000000, 0xcbc133aba0463100, 0x1cf3d38)\r\n        /go/src/runtime/mem_linux.go:216 +0x1d0\r\nruntime.(*mheap).sysAlloc(0x1cda4a0, 0x20000000, 0x7fb1ac13e010)\r\n        /go/src/runtime/malloc.go:470 +0xd7\r\nruntime.(*mheap).grow(0x1cda4a0, 0x10000, 0x0)\r\n        /go/src/runtime/mheap.go:887 +0x60\r\nruntime.(*mheap).allocSpanLocked(0x1cda4a0, 0x10000, 0x1cf3d48, 0xc446e76780)\r\n        /go/src/runtime/mheap.go:800 +0x334\r\nruntime.(*mheap).alloc_m(0x1cda4a0, 0x10000, 0x7fb1d67f0101, 0x7fb1d67fbdd8)\r\n        /go/src/runtime/mheap.go:666 +0x118\r\nruntime.(*mheap).alloc.func1()\r\n        /go/src/runtime/mheap.go:733 +0x4d\r\nruntime.systemstack(0x7fb1d67fbdd0)\r\n        /go/src/runtime/asm_amd64.s:360 +0xab\r\nruntime.(*mheap).alloc(0x1cda4a0, 0x10000, 0xc447010101, 0x7fb1ac4d9720)\r\n        /go/src/runtime/mheap.go:732 +0xa1\r\nruntime.largeAlloc(0x20000000, 0x7fb1d67f0101, 0x46d28e)\r\n        /go/src/runtime/malloc.go:827 +0x98\r\nruntime.mallocgc.func1()\r\n        /go/src/runtime/malloc.go:722 +0x46\r\nruntime.systemstack(0xc42001f300)\r\n        /go/src/runtime/asm_amd64.s:344 +0x79\r\nruntime.mstart()\r\n        /go/src/runtime/proc.go:1135\r\n\r\ngoroutine 881949 [running]:\r\nruntime.systemstack_switch()\r\n\r\n````\r\n",
  "closed_by": {
    "login": "holiman",
    "id": 142290,
    "node_id": "MDQ6VXNlcjE0MjI5MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/holiman",
    "html_url": "https://github.com/holiman",
    "followers_url": "https://api.github.com/users/holiman/followers",
    "following_url": "https://api.github.com/users/holiman/following{/other_user}",
    "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
    "organizations_url": "https://api.github.com/users/holiman/orgs",
    "repos_url": "https://api.github.com/users/holiman/repos",
    "events_url": "https://api.github.com/users/holiman/events{/privacy}",
    "received_events_url": "https://api.github.com/users/holiman/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15839/reactions",
    "total_count": 3,
    "+1": 3,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15839/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/356303750",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15839#issuecomment-356303750",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15839",
    "id": 356303750,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NjMwMzc1MA==",
    "user": {
      "login": "FOUNDXFUND",
      "id": 3086958,
      "node_id": "MDQ6VXNlcjMwODY5NTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3086958?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/FOUNDXFUND",
      "html_url": "https://github.com/FOUNDXFUND",
      "followers_url": "https://api.github.com/users/FOUNDXFUND/followers",
      "following_url": "https://api.github.com/users/FOUNDXFUND/following{/other_user}",
      "gists_url": "https://api.github.com/users/FOUNDXFUND/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/FOUNDXFUND/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/FOUNDXFUND/subscriptions",
      "organizations_url": "https://api.github.com/users/FOUNDXFUND/orgs",
      "repos_url": "https://api.github.com/users/FOUNDXFUND/repos",
      "events_url": "https://api.github.com/users/FOUNDXFUND/events{/privacy}",
      "received_events_url": "https://api.github.com/users/FOUNDXFUND/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-09T14:45:22Z",
    "updated_at": "2018-01-09T14:45:39Z",
    "author_association": "NONE",
    "body": "total        used        free      shared  buff/cache   available\r\nMem:           7.8G        6.6G         58M        3.3M        1.2G        1.1G\r\nSwap:          255M         26M        229M\r\n\r\nmemory info\r\n\r\n  ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/356303750/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/362006483",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15839#issuecomment-362006483",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15839",
    "id": 362006483,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2MjAwNjQ4Mw==",
    "user": {
      "login": "GoodMirek",
      "id": 7804468,
      "node_id": "MDQ6VXNlcjc4MDQ0Njg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7804468?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/GoodMirek",
      "html_url": "https://github.com/GoodMirek",
      "followers_url": "https://api.github.com/users/GoodMirek/followers",
      "following_url": "https://api.github.com/users/GoodMirek/following{/other_user}",
      "gists_url": "https://api.github.com/users/GoodMirek/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/GoodMirek/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/GoodMirek/subscriptions",
      "organizations_url": "https://api.github.com/users/GoodMirek/orgs",
      "repos_url": "https://api.github.com/users/GoodMirek/repos",
      "events_url": "https://api.github.com/users/GoodMirek/events{/privacy}",
      "received_events_url": "https://api.github.com/users/GoodMirek/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-31T17:24:51Z",
    "updated_at": "2018-01-31T17:24:51Z",
    "author_association": "NONE",
    "body": "@johnsneakers I cannot find what command line you used to run `geth`. With 8GB RAM you should not set `--cache` to more than 2048. Furthermore, there is a known memory leak bug #15428 causing Out Of Memory issues during initial fast sync. Workaround is just to restart `geth`.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/362006483/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/393342392",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15839#issuecomment-393342392",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15839",
    "id": 393342392,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MzM0MjM5Mg==",
    "user": {
      "login": "dbblackdiamond",
      "id": 11542603,
      "node_id": "MDQ6VXNlcjExNTQyNjAz",
      "avatar_url": "https://avatars.githubusercontent.com/u/11542603?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dbblackdiamond",
      "html_url": "https://github.com/dbblackdiamond",
      "followers_url": "https://api.github.com/users/dbblackdiamond/followers",
      "following_url": "https://api.github.com/users/dbblackdiamond/following{/other_user}",
      "gists_url": "https://api.github.com/users/dbblackdiamond/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dbblackdiamond/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dbblackdiamond/subscriptions",
      "organizations_url": "https://api.github.com/users/dbblackdiamond/orgs",
      "repos_url": "https://api.github.com/users/dbblackdiamond/repos",
      "events_url": "https://api.github.com/users/dbblackdiamond/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dbblackdiamond/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-30T22:39:27Z",
    "updated_at": "2018-05-30T22:39:27Z",
    "author_association": "NONE",
    "body": "I am having the same issue with Geth 1.8.9, where, if I let Geth run for a few days, it will crash with an \"out of memory\" error. My Ubutun Xenial server is configured with 8GB of RAM and 32GB of swap. The command line to start Geth is the following: `go-ethereum/build/bin/geth --nodiscover --cache=2048 --rpc --rpcaddr 0.0.0.0 --rpccorsdomain \"*\" --rpcapi \"db,eth,net,web3,personal,debug,txpool\" js ./ethereum/mine_pending.js `\r\n\r\ni used to run Geth 1.6.x with the same command and never had an issue with it running out of memory. I have actually tripled the swap space on this server to accommodate the \"out of memory\" issue and it is still there. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/393342392/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/420598008",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15839#issuecomment-420598008",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15839",
    "id": 420598008,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyMDU5ODAwOA==",
    "user": {
      "login": "sivachaitanya",
      "id": 6172334,
      "node_id": "MDQ6VXNlcjYxNzIzMzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6172334?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sivachaitanya",
      "html_url": "https://github.com/sivachaitanya",
      "followers_url": "https://api.github.com/users/sivachaitanya/followers",
      "following_url": "https://api.github.com/users/sivachaitanya/following{/other_user}",
      "gists_url": "https://api.github.com/users/sivachaitanya/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sivachaitanya/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sivachaitanya/subscriptions",
      "organizations_url": "https://api.github.com/users/sivachaitanya/orgs",
      "repos_url": "https://api.github.com/users/sivachaitanya/repos",
      "events_url": "https://api.github.com/users/sivachaitanya/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sivachaitanya/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-12T10:31:22Z",
    "updated_at": "2018-09-12T10:31:22Z",
    "author_association": "NONE",
    "body": "How did you solved this guys ?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/420598008/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/420601302",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15839#issuecomment-420601302",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15839",
    "id": 420601302,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyMDYwMTMwMg==",
    "user": {
      "login": "GoodMirek",
      "id": 7804468,
      "node_id": "MDQ6VXNlcjc4MDQ0Njg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7804468?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/GoodMirek",
      "html_url": "https://github.com/GoodMirek",
      "followers_url": "https://api.github.com/users/GoodMirek/followers",
      "following_url": "https://api.github.com/users/GoodMirek/following{/other_user}",
      "gists_url": "https://api.github.com/users/GoodMirek/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/GoodMirek/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/GoodMirek/subscriptions",
      "organizations_url": "https://api.github.com/users/GoodMirek/orgs",
      "repos_url": "https://api.github.com/users/GoodMirek/repos",
      "events_url": "https://api.github.com/users/GoodMirek/events{/privacy}",
      "received_events_url": "https://api.github.com/users/GoodMirek/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-12T10:43:31Z",
    "updated_at": "2018-09-12T10:43:31Z",
    "author_association": "NONE",
    "body": "With a wrapper script, which restarts geth upon failure. In another case by\nswitching to parity.\n-- \n\nMirek Svoboda\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/420601302/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/439877824",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15839#issuecomment-439877824",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15839",
    "id": 439877824,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzOTg3NzgyNA==",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-19T12:32:28Z",
    "updated_at": "2018-11-19T12:32:28Z",
    "author_association": "MEMBER",
    "body": "` --rpcaddr 0.0.0.0 --rpccorsdomain \"*\" --rpcapi \"db,eth,net,web3,personal,debug,txpool\"` -- recipe for failure. Remote hosts on the internet will discover this node, and attempt password bruteforce, which will lead to OOM issues. \r\nI don't know if that was the case with the original reporter, @johnsneakers , please reopen if that was not the case.  ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/439877824/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
