{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15471",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15471/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15471/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15471/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/15471",
  "id": 273474874,
  "node_id": "MDU6SXNzdWUyNzM0NzQ4NzQ=",
  "number": 15471,
  "title": "Impossible reorg after fast sync of Rinkeby",
  "user": {
    "login": "ralph-pichler",
    "id": 7851801,
    "node_id": "MDQ6VXNlcjc4NTE4MDE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/7851801?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ralph-pichler",
    "html_url": "https://github.com/ralph-pichler",
    "followers_url": "https://api.github.com/users/ralph-pichler/followers",
    "following_url": "https://api.github.com/users/ralph-pichler/following{/other_user}",
    "gists_url": "https://api.github.com/users/ralph-pichler/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ralph-pichler/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ralph-pichler/subscriptions",
    "organizations_url": "https://api.github.com/users/ralph-pichler/orgs",
    "repos_url": "https://api.github.com/users/ralph-pichler/repos",
    "events_url": "https://api.github.com/users/ralph-pichler/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ralph-pichler/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "karalabe",
    "id": 129561,
    "node_id": "MDQ6VXNlcjEyOTU2MQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/karalabe",
    "html_url": "https://github.com/karalabe",
    "followers_url": "https://api.github.com/users/karalabe/followers",
    "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
    "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
    "organizations_url": "https://api.github.com/users/karalabe/orgs",
    "repos_url": "https://api.github.com/users/karalabe/repos",
    "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
    "received_events_url": "https://api.github.com/users/karalabe/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2017-11-13T15:42:19Z",
  "updated_at": "2018-02-12T11:36:46Z",
  "closed_at": "2018-02-12T10:53:46Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nGeth version: 1.7.3-unstable\r\nOS & Version: OSX\r\nCommit hash : 836314c055bebed671a392a0cf8202e57efceb41\r\n\r\n#### Expected behaviour\r\n\r\nFast-syncing with Rinkeby should work\r\n\r\n#### Actual behaviour\r\n\r\nIt did a fast sync to #1117685. Afterwards the console starts forever printing messages like\r\nERROR[11-13|16:34:29] Impossible reorg, please file an issue   oldnum=1117505 oldhash=d44286…dff14e newnum=1117505 newhash=d44286…dff14e\r\nERROR[11-13|16:34:29] Impossible reorg, please file an issue   oldnum=1117513 oldhash=63fdc3…3db293 newnum=1117513 newhash=63fdc3…3db293\r\nERROR[11-13|16:34:29] Impossible reorg, please file an issue   oldnum=1117515 oldhash=a86cff…3b44ab newnum=1117515 newhash=a86cff…3b44ab\r\nERROR[11-13|16:34:29] Impossible reorg, please file an issue   oldnum=1117517 oldhash=908861…776b15 newnum=1117517 newhash=908861…776b15\r\nERROR[11-13|16:34:29] Impossible reorg, please file an issue   oldnum=1117523 oldhash=3aea7e…f5f2f2 newnum=1117523 newhash=3aea7e…f5f2f2\r\nERROR[11-13|16:34:29] Impossible reorg, please file an issue   oldnum=1117552 oldhash=aaf223…45e2c4 newnum=1117552 newhash=aaf223…45e2c4\r\n\r\n\r\n#### Steps to reproduce the behaviour\r\n\r\nInitialise the datadir with the command from rinkeby.io:\r\ngeth --datadir=$HOME/.rinkeby init rinkeby.json\r\n\r\nStart geth with the command from rinkeby.io (full node section):\r\ngeth --networkid=4 --datadir=$HOME/.rinkeby --cache=512 --ethstats='yournode:Respect my authoritah!@stats.rinkeby.io' --bootnodes=enode://a24ac7c5484ef4ed0c5eb2d36620ba4e4aa13b8c84684e1b4aab0cebea2ae45cb4d375b77eab56516d34bfbd3c1a833fc51296ff084b770b94fb9028c4d25ccf@52.169.42.101:30303\r\n\r\nWait for fast sync to finish. Afterwards the messages appear.\r\n",
  "closed_by": {
    "login": "karalabe",
    "id": 129561,
    "node_id": "MDQ6VXNlcjEyOTU2MQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/karalabe",
    "html_url": "https://github.com/karalabe",
    "followers_url": "https://api.github.com/users/karalabe/followers",
    "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
    "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
    "organizations_url": "https://api.github.com/users/karalabe/orgs",
    "repos_url": "https://api.github.com/users/karalabe/repos",
    "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
    "received_events_url": "https://api.github.com/users/karalabe/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15471/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15471/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/343963334",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15471#issuecomment-343963334",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15471",
    "id": 343963334,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0Mzk2MzMzNA==",
    "user": {
      "login": "ralph-pichler",
      "id": 7851801,
      "node_id": "MDQ6VXNlcjc4NTE4MDE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7851801?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ralph-pichler",
      "html_url": "https://github.com/ralph-pichler",
      "followers_url": "https://api.github.com/users/ralph-pichler/followers",
      "following_url": "https://api.github.com/users/ralph-pichler/following{/other_user}",
      "gists_url": "https://api.github.com/users/ralph-pichler/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ralph-pichler/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ralph-pichler/subscriptions",
      "organizations_url": "https://api.github.com/users/ralph-pichler/orgs",
      "repos_url": "https://api.github.com/users/ralph-pichler/repos",
      "events_url": "https://api.github.com/users/ralph-pichler/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ralph-pichler/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-13T15:55:30Z",
    "updated_at": "2017-11-13T15:55:30Z",
    "author_association": "NONE",
    "body": "After an hour it finally continued to sync and everything is working properly now.\r\nI'm still keeping the issue open for now since it explicitly said \"please file an issue\"",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/343963334/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/357946741",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15471#issuecomment-357946741",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15471",
    "id": 357946741,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1Nzk0Njc0MQ==",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-16T12:35:55Z",
    "updated_at": "2018-01-16T12:35:55Z",
    "author_association": "MEMBER",
    "body": "Can confirm the exact same thing, after the fast sync, every single block reported as \"impossible reorg\"\r\nExamples:\r\n```\r\nERROR[01-16|12:35:34] Impossible reorg, please file an issue   oldnum=404123 oldhash=a067b7…d9b982 newnum=404123 newhash=a067b7…d9b982\r\nERROR[01-16|12:35:35] Impossible reorg, please file an issue   oldnum=404162 oldhash=d7dd73…8bdc98 newnum=404162 newhash=d7dd73…8bdc98\r\nERROR[01-16|12:35:35] Impossible reorg, please file an issue   oldnum=404165 oldhash=a28af1…ece097 newnum=404165 newhash=a28af1…ece097\r\nERROR[01-16|12:35:35] Impossible reorg, please file an issue   oldnum=404168 oldhash=e15ad7…6f001a newnum=404168 newhash=e15ad7…6f001a\r\nERROR[01-16|12:35:35] Impossible reorg, please file an issue   oldnum=404172 oldhash=4ea2f8…8ed37f newnum=404172 newhash=4ea2f8…8ed37f\r\nERROR[01-16|12:35:35] Impossible reorg, please file an issue   oldnum=404174 oldhash=db6085…fe8cb6 newnum=404174 newhash=db6085…fe8cb6\r\nERROR[01-16|12:35:35] Impossible reorg, please file an issue   oldnum=404177 oldhash=0331f7…f4a00c newnum=404177 newhash=0331f7…f4a00c\r\nERROR[01-16|12:35:35] Impossible reorg, please file an issue   oldnum=404183 oldhash=386e28…b9bc9a newnum=404183 newhash=386e28…b9bc9a\r\nERROR[01-16|12:35:35] Impossible reorg, please file an issue   oldnum=404195 oldhash=969e2d…1fdec3 newnum=404195 newhash=969e2d…1fdec3\r\nERROR[01-16|12:35:35] Impossible reorg, please file an issue   oldnum=404201 oldhash=805e87…4c053a newnum=404201 newhash=805e87…4c053a\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/357946741/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
