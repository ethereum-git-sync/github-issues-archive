{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22467",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22467/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22467/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22467/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/22467",
  "id": 825619258,
  "node_id": "MDU6SXNzdWU4MjU2MTkyNTg=",
  "number": 22467,
  "title": "Excessive Disk Usage since upgrade from 1.9.25 -> 1.10.1",
  "user": {
    "login": "antbelcastro",
    "id": 18137083,
    "node_id": "MDQ6VXNlcjE4MTM3MDgz",
    "avatar_url": "https://avatars.githubusercontent.com/u/18137083?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/antbelcastro",
    "html_url": "https://github.com/antbelcastro",
    "followers_url": "https://api.github.com/users/antbelcastro/followers",
    "following_url": "https://api.github.com/users/antbelcastro/following{/other_user}",
    "gists_url": "https://api.github.com/users/antbelcastro/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/antbelcastro/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/antbelcastro/subscriptions",
    "organizations_url": "https://api.github.com/users/antbelcastro/orgs",
    "repos_url": "https://api.github.com/users/antbelcastro/repos",
    "events_url": "https://api.github.com/users/antbelcastro/events{/privacy}",
    "received_events_url": "https://api.github.com/users/antbelcastro/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 72233650,
      "node_id": "MDU6TGFiZWw3MjIzMzY1MA==",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:bug",
      "name": "type:bug",
      "color": "FF5E5E",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2021-03-09T09:38:16Z",
  "updated_at": "2021-03-09T18:58:22Z",
  "closed_at": "2021-03-09T18:58:22Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nGeth version:   1.10.1+build25351+focal\r\nOS & Version: Ubuntu 20.04.2 LTS\r\n\r\n#### Expected behaviour\r\nUpgrade conducted from 1.9.25+build24398+focal to 1.10.1+build25351+focal using the ppa. \r\nI would have expected disk iops to behave similarly between versions.\r\n\r\n#### Actual behaviour\r\nUpon upgrade of the geth service (approx 13:33) excessive hardware read and write was seen. \r\nCurrently unable to roll back as the 1.9.25 has been removed from the version table.\r\nUpon restart of the device only the excessive read is seen. \r\nDisk activity stops if Geth is stopped. \r\n\r\n![image](https://user-images.githubusercontent.com/18137083/110449375-3e55b500-8116-11eb-8c46-46ee9750b25a.png)\r\n\r\nAdditional Notes:\r\nGeth is run in the following configuration \r\n`geth --http --datadir /var/lib/goethereum --cache 2048 --maxpeers 30`\r\niotop confirms that it is Goeth is preforming the reads\r\n\r\nThere do not appear to be any erroneous logs.\r\n\r\nQuestion: Is this expected behaviour? ",
  "closed_by": {
    "login": "antbelcastro",
    "id": 18137083,
    "node_id": "MDQ6VXNlcjE4MTM3MDgz",
    "avatar_url": "https://avatars.githubusercontent.com/u/18137083?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/antbelcastro",
    "html_url": "https://github.com/antbelcastro",
    "followers_url": "https://api.github.com/users/antbelcastro/followers",
    "following_url": "https://api.github.com/users/antbelcastro/following{/other_user}",
    "gists_url": "https://api.github.com/users/antbelcastro/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/antbelcastro/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/antbelcastro/subscriptions",
    "organizations_url": "https://api.github.com/users/antbelcastro/orgs",
    "repos_url": "https://api.github.com/users/antbelcastro/repos",
    "events_url": "https://api.github.com/users/antbelcastro/events{/privacy}",
    "received_events_url": "https://api.github.com/users/antbelcastro/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22467/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22467/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/794047229",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22467#issuecomment-794047229",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22467",
    "id": 794047229,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc5NDA0NzIyOQ==",
    "user": {
      "login": "mikel2000",
      "id": 7446969,
      "node_id": "MDQ6VXNlcjc0NDY5Njk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7446969?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mikel2000",
      "html_url": "https://github.com/mikel2000",
      "followers_url": "https://api.github.com/users/mikel2000/followers",
      "following_url": "https://api.github.com/users/mikel2000/following{/other_user}",
      "gists_url": "https://api.github.com/users/mikel2000/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mikel2000/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mikel2000/subscriptions",
      "organizations_url": "https://api.github.com/users/mikel2000/orgs",
      "repos_url": "https://api.github.com/users/mikel2000/repos",
      "events_url": "https://api.github.com/users/mikel2000/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mikel2000/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-09T15:28:33Z",
    "updated_at": "2021-03-09T15:32:02Z",
    "author_association": "NONE",
    "body": "I guess this happens because of the unindexing. This should be done after a few hours. Additionally a new snapshot is created, which takes much longer. Check here for details. https://blog.ethereum.org/2021/03/03/geth-v1-10-0/",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/794047229/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/794308723",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22467#issuecomment-794308723",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22467",
    "id": 794308723,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc5NDMwODcyMw==",
    "user": {
      "login": "antbelcastro",
      "id": 18137083,
      "node_id": "MDQ6VXNlcjE4MTM3MDgz",
      "avatar_url": "https://avatars.githubusercontent.com/u/18137083?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/antbelcastro",
      "html_url": "https://github.com/antbelcastro",
      "followers_url": "https://api.github.com/users/antbelcastro/followers",
      "following_url": "https://api.github.com/users/antbelcastro/following{/other_user}",
      "gists_url": "https://api.github.com/users/antbelcastro/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/antbelcastro/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/antbelcastro/subscriptions",
      "organizations_url": "https://api.github.com/users/antbelcastro/orgs",
      "repos_url": "https://api.github.com/users/antbelcastro/repos",
      "events_url": "https://api.github.com/users/antbelcastro/events{/privacy}",
      "received_events_url": "https://api.github.com/users/antbelcastro/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-09T18:58:22Z",
    "updated_at": "2021-03-09T18:58:22Z",
    "author_association": "NONE",
    "body": "Thanks for the response. Ah true, sorry I missed the advice on the duration of the snapshoting. Iâ€™ll keep an eye on it. \r\n\r\nThanks again\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/794308723/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
