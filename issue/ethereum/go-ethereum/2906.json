{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2906",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2906/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2906/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2906/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/2906",
  "id": 170977749,
  "node_id": "MDU6SXNzdWUxNzA5Nzc3NDk=",
  "number": 2906,
  "title": "Issues with macOS Sierra Beta, can't sync blocks",
  "user": {
    "login": "econoar",
    "id": 5050615,
    "node_id": "MDQ6VXNlcjUwNTA2MTU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5050615?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/econoar",
    "html_url": "https://github.com/econoar",
    "followers_url": "https://api.github.com/users/econoar/followers",
    "following_url": "https://api.github.com/users/econoar/following{/other_user}",
    "gists_url": "https://api.github.com/users/econoar/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/econoar/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/econoar/subscriptions",
    "organizations_url": "https://api.github.com/users/econoar/orgs",
    "repos_url": "https://api.github.com/users/econoar/repos",
    "events_url": "https://api.github.com/users/econoar/events{/privacy}",
    "received_events_url": "https://api.github.com/users/econoar/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2016-08-12T23:28:51Z",
  "updated_at": "2016-08-13T06:28:08Z",
  "closed_at": "2016-08-13T06:28:08Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\n\nGeth version: 1.4.10\nOS & Version: macOS Sierra\n\nMist/geth works fine on El Capitan but testing it out on the Sierra beta does not allow me to sync blocks.  I get fairly erratic behavior, sometimes it goes to the block count and just sits there and sometimes it says node sync failed right away.\n\nStarting geth directly, I also see a variation of error messages.  The latest is below:\n\n```\nI0812 19:23:32.801542 ethdb/database.go:169] closed db:/Users/Eric/Library/Ethereum/chaindata\nI0812 19:23:32.809829 ethdb/database.go:82] Alloted 128MB cache and 1024 file handles to /Users/Eric/Library/Ethereum/chaindata\nI0812 19:23:33.224751 ethdb/database.go:82] Alloted 16MB cache and 16 file handles to /Users/Eric/Library/Ethereum/dapp\nI0812 19:23:33.235967 eth/backend.go:172] Protocol Versions: [63 62], Network Id: 1\nI0812 19:23:33.236251 eth/backend.go:201] Blockchain DB Version: 3\nI0812 19:23:33.239279 core/blockchain.go:206] Last header: #2060236 [f58fc3c3…] TD=47316260148734322922\nI0812 19:23:33.239329 core/blockchain.go:207] Last block: #2060236 [f58fc3c3…] TD=47316260148734322922\nI0812 19:23:33.239358 core/blockchain.go:208] Fast block: #2060236 [f58fc3c3…] TD=47316260148734322922\nI0812 19:23:33.246408 p2p/server.go:313] Starting Server\nI0812 19:23:33.250067 p2p/nat/nat.go:111] mapped network port udp:30303 -> 30303 (ethereum discovery) using NAT-PMP(10.0.1.1)\nI0812 19:23:33.258826 p2p/discover/udp.go:217] Listening, enode://9d12afe2cd3a38fe3b2184bc60767cd4a94f21eca3500373ce8fa75b885fb7035288de6740f538410c25145c81dbf4b90eeacf2c00f8839cb478ea13f6a54d34@107.3.116.31:30303\nI0812 19:23:33.260759 p2p/server.go:556] Listening on [::]:30303\nI0812 19:23:33.262617 node/node.go:296] IPC endpoint opened: /Users/Eric/Library/Ethereum/geth.ipc\nI0812 19:23:33.267424 p2p/nat/nat.go:111] mapped network port tcp:30303 -> 30303 (ethereum p2p) using NAT-PMP(10.0.1.1)\nI0812 19:23:58.729932 eth/handler.go:295] Peer e8f86db2bdffd4c9 [eth/63]: timed out DAO fork-check, dropping\nfailed MSpanList_Insert 0x8998840 0x65eb043251e 0x0 0x0\nfatal error: MSpanList_Insert\n\n```\n\nSometimes I get this one though:\n\n```\n\npanic: sync: inconsistent mutex state\n\ngoroutine 501 [running]:\npanic(0x48f6ea0, 0xc823b5cba0)\n    /Users/jeffrey/goroot16/src/runtime/panic.go:464 +0x3e6\nsync.(*Mutex).Lock(0xc821069270)\n    /Users/jeffrey/goroot16/src/sync/mutex.go:75 +0x16d\ngithub.com/ethereum/go-ethereum/p2p.(*rlpx).ReadMsg(0xc821069260, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0, 0x0)\n    /Users/jeffrey/go/src/github.com/ethereum/go-ethereum/p2p/rlpx.go:86 +0x8a\ngithub.com/ethereum/go-ethereum/p2p.(*Peer).readLoop(0xc8239e73c0, 0xc8212751a0)\n    /Users/jeffrey/go/src/github.com/ethereum/go-ethereum/p2p/peer.go:214 +0x90\ncreated by github.com/ethereum/go-ethereum/p2p.(*Peer).run\n    /Users/jeffrey/go/src/github.com/ethereum/go-ethereum/p2p/peer.go:145 +0xf9\nlogout\nSaving session...\n...copying shared history...\n...saving history...truncating history files...\n...completed.\n```\n",
  "closed_by": {
    "login": "fjl",
    "id": 6915,
    "node_id": "MDQ6VXNlcjY5MTU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6915?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/fjl",
    "html_url": "https://github.com/fjl",
    "followers_url": "https://api.github.com/users/fjl/followers",
    "following_url": "https://api.github.com/users/fjl/following{/other_user}",
    "gists_url": "https://api.github.com/users/fjl/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/fjl/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/fjl/subscriptions",
    "organizations_url": "https://api.github.com/users/fjl/orgs",
    "repos_url": "https://api.github.com/users/fjl/repos",
    "events_url": "https://api.github.com/users/fjl/events{/privacy}",
    "received_events_url": "https://api.github.com/users/fjl/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2906/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2906/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/239595815",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/2906#issuecomment-239595815",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2906",
    "id": 239595815,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzOTU5NTgxNQ==",
    "user": {
      "login": "econoar",
      "id": 5050615,
      "node_id": "MDQ6VXNlcjUwNTA2MTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5050615?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/econoar",
      "html_url": "https://github.com/econoar",
      "followers_url": "https://api.github.com/users/econoar/followers",
      "following_url": "https://api.github.com/users/econoar/following{/other_user}",
      "gists_url": "https://api.github.com/users/econoar/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/econoar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/econoar/subscriptions",
      "organizations_url": "https://api.github.com/users/econoar/orgs",
      "repos_url": "https://api.github.com/users/econoar/repos",
      "events_url": "https://api.github.com/users/econoar/events{/privacy}",
      "received_events_url": "https://api.github.com/users/econoar/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-13T02:04:50Z",
    "updated_at": "2016-08-13T02:04:50Z",
    "author_association": "NONE",
    "body": "I found the fix but if I'm being completely honest I don't really understand it, but wanted to pass it onto the dev team.\n\nhttps://forums.docker.com/t/docker-beta-for-mac-does-not-work-and-hangs-frequently-on-macos-10-12/18109/5\n\nDisabling ntpd via sudo launchctl unload /System/Library/LaunchDaemons/org.ntp.ntpd.plist now lets me sync!  Not sure if this is an apple bug or go bug or what.\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/239595815/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/239605332",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/2906#issuecomment-239605332",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2906",
    "id": 239605332,
    "node_id": "MDEyOklzc3VlQ29tbWVudDIzOTYwNTMzMg==",
    "user": {
      "login": "fjl",
      "id": 6915,
      "node_id": "MDQ6VXNlcjY5MTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6915?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjl",
      "html_url": "https://github.com/fjl",
      "followers_url": "https://api.github.com/users/fjl/followers",
      "following_url": "https://api.github.com/users/fjl/following{/other_user}",
      "gists_url": "https://api.github.com/users/fjl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fjl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fjl/subscriptions",
      "organizations_url": "https://api.github.com/users/fjl/orgs",
      "repos_url": "https://api.github.com/users/fjl/repos",
      "events_url": "https://api.github.com/users/fjl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fjl/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-13T06:26:21Z",
    "updated_at": "2016-08-13T06:28:07Z",
    "author_association": "MEMBER",
    "body": "Please use Go 1.7rc6 ([download here](https://golang.org/dl/)) to compile geth on macOS Sierra. There are known issues with earlier versions of Go on that OS.\n\nI use Sierra as well and geth works fine when compiled with Go 1.7.\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/239605332/reactions",
      "total_count": 3,
      "+1": 3,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
