{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/28259",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/28259/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/28259/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/28259/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/28259",
  "id": 1928488484,
  "node_id": "I_kwDOAOvK985y8mYk",
  "number": 28259,
  "title": "Valid transaction gas limit",
  "user": {
    "login": "hyunchel",
    "id": 3271191,
    "node_id": "MDQ6VXNlcjMyNzExOTE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/3271191?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/hyunchel",
    "html_url": "https://github.com/hyunchel",
    "followers_url": "https://api.github.com/users/hyunchel/followers",
    "following_url": "https://api.github.com/users/hyunchel/following{/other_user}",
    "gists_url": "https://api.github.com/users/hyunchel/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/hyunchel/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/hyunchel/subscriptions",
    "organizations_url": "https://api.github.com/users/hyunchel/orgs",
    "repos_url": "https://api.github.com/users/hyunchel/repos",
    "events_url": "https://api.github.com/users/hyunchel/events{/privacy}",
    "received_events_url": "https://api.github.com/users/hyunchel/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2023-10-05T14:50:57Z",
  "updated_at": "2023-10-06T05:07:52Z",
  "closed_at": "2023-10-06T05:07:51Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "https://github.com/ethereum/go-ethereum/blob/052355f5e2b1726552fdb38a94cf6ea1506caf95/core/txpool/validation.go#L79\r\n\r\nI find this line of validation a bit confusing.\r\nI'm sure there is a historical reason for this validation, but can someone explain to me why such upper bound was chosen?\r\nIf a large amount of gas is problematic,  50% or 10% upper bound seems to be more proper than 100% of the block's gas limit.",
  "closed_by": {
    "login": "karalabe",
    "id": 129561,
    "node_id": "MDQ6VXNlcjEyOTU2MQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/karalabe",
    "html_url": "https://github.com/karalabe",
    "followers_url": "https://api.github.com/users/karalabe/followers",
    "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
    "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
    "organizations_url": "https://api.github.com/users/karalabe/orgs",
    "repos_url": "https://api.github.com/users/karalabe/repos",
    "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
    "received_events_url": "https://api.github.com/users/karalabe/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/28259/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/28259/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1749125374",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/28259#issuecomment-1749125374",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/28259",
    "id": 1749125374,
    "node_id": "IC_kwDOAOvK985oQYj-",
    "user": {
      "login": "jwasinger",
      "id": 3411040,
      "node_id": "MDQ6VXNlcjM0MTEwNDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3411040?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jwasinger",
      "html_url": "https://github.com/jwasinger",
      "followers_url": "https://api.github.com/users/jwasinger/followers",
      "following_url": "https://api.github.com/users/jwasinger/following{/other_user}",
      "gists_url": "https://api.github.com/users/jwasinger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jwasinger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jwasinger/subscriptions",
      "organizations_url": "https://api.github.com/users/jwasinger/orgs",
      "repos_url": "https://api.github.com/users/jwasinger/repos",
      "events_url": "https://api.github.com/users/jwasinger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jwasinger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-10-05T15:23:01Z",
    "updated_at": "2023-10-05T15:23:01Z",
    "author_association": "MEMBER",
    "body": "A transaction that consumes more gas than the current gas limit of the head block of chain is ineligible for inclusion and unlikely to be eligible in the near future.  So it should be discarded and not added to the pool (as this code does).\r\n\r\n> If a large amount of gas is problematic, 50% or 10% upper bound seems to be more proper than 100% of the block's gas limit.\r\n\r\nWhy would that be the case?\r\n\r\nA transaction with a large upper-bound could potentially be included and should be considered (especially if it will be included by a block the client is proposing, yielding the tx fees as part of the reward)",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1749125374/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1749504854",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/28259#issuecomment-1749504854",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/28259",
    "id": 1749504854,
    "node_id": "IC_kwDOAOvK985oR1NW",
    "user": {
      "login": "hyunchel",
      "id": 3271191,
      "node_id": "MDQ6VXNlcjMyNzExOTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3271191?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hyunchel",
      "html_url": "https://github.com/hyunchel",
      "followers_url": "https://api.github.com/users/hyunchel/followers",
      "following_url": "https://api.github.com/users/hyunchel/following{/other_user}",
      "gists_url": "https://api.github.com/users/hyunchel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hyunchel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hyunchel/subscriptions",
      "organizations_url": "https://api.github.com/users/hyunchel/orgs",
      "repos_url": "https://api.github.com/users/hyunchel/repos",
      "events_url": "https://api.github.com/users/hyunchel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hyunchel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-10-05T19:18:46Z",
    "updated_at": "2023-10-05T19:18:46Z",
    "author_association": "CONTRIBUTOR",
    "body": "> A transaction with a large upper-bound could potentially be included ...\r\n\r\nRight, so a transaction that consumes 90% of the header's gas limit imposes the same level of danger.\r\nIf the limit was `100`, and the transaction's gas estimate returns `99`, the above code let the transaction slide.\r\nIf such transaction is included, wouldn't that bump the block's total gas to near 200% of its expected value?\r\n\r\nMaybe I'm not understanding what `head.GasLimit` is exactly.\r\nI thought this value depends on the block's gas target, which aims to deal with network congestion.\r\n\r\nI feel like I'm missing and/or misunderstanding something big here.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1749504854/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1749991160",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/28259#issuecomment-1749991160",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/28259",
    "id": 1749991160,
    "node_id": "IC_kwDOAOvK985oTr74",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-10-06T05:07:51Z",
    "updated_at": "2023-10-06T05:07:51Z",
    "author_association": "MEMBER",
    "body": "> If such transaction is included, wouldn't that bump the block's total gas to near 200% of its expected value?\r\n\r\nYes, it would, that's fine though. If it fits, it fits.\r\n\r\n> I thought this value depends on the block's gas target, which aims to deal with network congestion.\r\n\r\nNo, not really. The base fee (calculated from the gas limits and gas targets) are meant to stabilize the gas prices. They cannot \"solve\" congestion: if the pool is full, the pool if full no matter how you charge for it. But with the base fee, you can quickly hike up prices and then equally quickly go down, independent of what users send their txs with. I.e. instead of users sending needlessly large prices, the protocol can figure out what's the bare minimum needed and charges only that.\r\n\r\nEither way, pricing and fitting is two different concepts :)",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1749991160/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
