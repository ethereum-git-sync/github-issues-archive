{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27251",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27251/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27251/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27251/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/27251",
  "id": 1705997470,
  "node_id": "I_kwDOAOvK985lr3Se",
  "number": 27251,
  "title": "mainnet sync hangs on 100%",
  "user": {
    "login": "danieloadebimpe",
    "id": 62970277,
    "node_id": "MDQ6VXNlcjYyOTcwMjc3",
    "avatar_url": "https://avatars.githubusercontent.com/u/62970277?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/danieloadebimpe",
    "html_url": "https://github.com/danieloadebimpe",
    "followers_url": "https://api.github.com/users/danieloadebimpe/followers",
    "following_url": "https://api.github.com/users/danieloadebimpe/following{/other_user}",
    "gists_url": "https://api.github.com/users/danieloadebimpe/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/danieloadebimpe/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/danieloadebimpe/subscriptions",
    "organizations_url": "https://api.github.com/users/danieloadebimpe/orgs",
    "repos_url": "https://api.github.com/users/danieloadebimpe/repos",
    "events_url": "https://api.github.com/users/danieloadebimpe/events{/privacy}",
    "received_events_url": "https://api.github.com/users/danieloadebimpe/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 72233650,
      "node_id": "MDU6TGFiZWw3MjIzMzY1MA==",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:bug",
      "name": "type:bug",
      "color": "FF5E5E",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 9,
  "created_at": "2023-05-11T14:58:10Z",
  "updated_at": "2023-05-16T01:17:24Z",
  "closed_at": "2023-05-16T01:17:23Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nGeth version: v1.11.16-stable\r\nCL client & version: lighthouse-v4.1.0\r\nOS & Version: Linux\r\ngo version: v1.18.1\r\n\r\n#### Expected behaviour\r\nPretty self-explanatory - when the client reaches 100%, it should be fully synced and `eth.syncing` should return `false` \r\n\r\n\r\n#### Actual behaviour\r\nThe client hangs at 100% sync state, and the logs continue. \r\n\r\nThe current block does not progress. However, it appears the system then goes back to about ~99.4%, and the current block progresses. This pattern has repeated for two and a half days.\r\n\r\nNote: Many people are experiencing this issue. You can check the go-ethereum discord.\r\n\r\n#### Steps to reproduce the behaviour\r\nBegin syncing with the following configuration:\r\n```\r\n     - --mainnet\r\n      - --syncmode=snap\r\n      - --http\r\n      - --http.port=8545\r\n      - --http.addr=0.0.0.0\r\n      - --ws\r\n      - --ws.port=8546\r\n      - --ws.addr=0.0.0.0\r\n      - --authrpc.addr=0.0.0.0 \r\n      - --authrpc.port=8551\r\n      - --http.api=eth,admin,engine,net\r\n      - --db.engine=pebble\r\n```\r\n\r\n#### Backtrace\r\n\r\n````\r\nINFO [05-11|14:54:21.239] Syncing: chain download in progress      synced=100.00% chain=383.74GiB  headers=16,682,850@7.11GiB   bodies=16,682,785@255.07GiB receipts=16,682,785@121.55GiB eta=2.087s\r\nWARN [05-11|14:54:23.298] Forkchoice requested unknown head        hash=5c0f21..f7df0b\r\nWARN [05-11|14:54:27.925] Forkchoice requested unknown head        hash=68639e..ca9a9f\r\nINFO [05-11|14:54:29.245] Syncing: chain download in progress      synced=100.00% chain=383.74GiB  headers=16,682,850@7.11GiB   bodies=16,682,785@255.07GiB receipts=16,682,785@121.55GiB eta=2.087s\r\nWARN [05-11|14:54:32.474] Dropping unsynced node during sync       id=89be5be7c255edb3 conn=dyndial addr=141.94.142.241:30304  type=Geth/v1.11.6-stable-...\r\nWARN [05-11|14:54:32.486] Forkchoice requested unknown head        hash=13439d..292530\r\nINFO [05-11|14:54:37.250] Syncing: chain download in progress      synced=100.00% chain=383.74GiB  headers=16,682,850@7.11GiB   bodies=16,682,785@255.07GiB receipts=16,682,785@121.55GiB eta=2.087s\r\nWARN [05-11|14:54:37.465] Forkchoice requested unknown head        hash=1836aa..2bef06\r\nWARN [05-11|14:54:42.436] Forkchoice requested unknown head        hash=2d94b4..78b490\r\nINFO [05-11|14:54:45.256] Syncing: chain download in progress      synced=100.00% chain=383.74GiB  headers=16,682,850@7.11GiB   bodies=16,682,785@255.07GiB receipts=16,682,785@121.55GiB eta=2.087s\r\nINFO [05-11|14:54:53.263] Syncing: chain download in progress      synced=100.00% chain=383.74GiB  headers=16,682,850@7.11GiB   bodies=16,682,785@255.07GiB receipts=16,682,785@121.55GiB eta=2.087s\r\nINFO [05-11|14:55:01.268] Syncing: chain download in progress      synced=100.00% chain=383.74GiB  headers=16,682,850@7.11GiB   bodies=16,682,785@255.07GiB receipts=16,682,785@121.55GiB eta=2.087s\r\nINFO [05-11|14:55:09.273] Syncing: chain download in progress      synced=100.00% chain=383.74GiB  headers=16,682,850@7.11GiB   bodies=16,682,785@255.07GiB receipts=16,682,785@121.55GiB eta=2.088s\r\nINFO [05-11|14:55:17.277] Syncing: chain download in progress      synced=100.00% chain=383.74GiB  headers=16,682,850@7.11GiB   bodies=16,682,785@255.07GiB receipts=16,682,785@121.55GiB eta=2.088s\r\nINFO [05-11|14:55:25.281] Syncing: chain download in progress      synced=100.00% chain=383.74GiB  headers=16,682,850@7.11GiB   bodies=16,682,785@255.07GiB receipts=16,682,785@121.55GiB eta=2.088s\r\nINFO [05-11|14:55:33.287] Syncing: chain download in progress      synced=100.00% chain=383.74GiB  headers=16,682,850@7.11GiB   bodies=16,682,785@255.07GiB receipts=16,682,785@121.55GiB eta=2.088s\r\nWARN [05-11|14:55:38.748] Forkchoice requested unknown head        hash=639224..5aa978\r\nINFO [05-11|14:55:41.293] Syncing: chain download in progress      synced=100.00% chain=383.74GiB  headers=16,682,850@7.11GiB   bodies=16,682,785@255.07GiB receipts=16,682,785@121.55GiB eta=2.088s\r\nINFO [05-11|14:55:49.299] Syncing: chain download in progress      synced=100.00% chain=383.74GiB  headers=16,682,850@7.11GiB   bodies=16,682,785@255.07GiB receipts=16,682,785@121.55GiB eta=2.088s\r\nINFO [05-11|14:55:57.304] Syncing: chain download in progress      synced=100.00% chain=383.74GiB  headers=16,682,850@7.11GiB   bodies=16,682,785@255.07GiB receipts=16,682,785@121.55GiB eta=2.088s\r\nINFO [05-11|14:56:05.308] Syncing: chain download in progress      synced=100.00% chain=383.74GiB  headers=16,682,850@7.11GiB   bodies=16,682,785@255.07GiB receipts=16,682,785@121.55GiB eta=2.088s\r\nINFO [05-11|14:56:13.314] Syncing: chain download in progress      synced=100.00% chain=383.74GiB  headers=16,682,850@7.11GiB   bodies=16,682,785@255.07GiB receipts=16,682,785@121.55GiB eta=2.088s\r\nINFO [05-11|14:56:21.319] Syncing: chain download in progress      synced=100.00% chain=383.74GiB  headers=16,682,850@7.11GiB   bodies=16,682,785@255.07GiB receipts=16,682,785@121.55GiB eta=2.088s\r\nINFO [05-11|14:56:29.324] Syncing: chain download in progress      synced=100.00% chain=383.74GiB  headers=16,682,850@7.11GiB   bodies=16,682,785@255.07GiB receipts=16,682,785@121.55GiB eta=2.088s\r\nWARN [05-11|14:56:32.654] Forkchoice requested unknown head        hash=201c5d..555ce9\r\nINFO [05-11|14:56:37.339] Syncing: chain download in progress      synced=100.00% chain=383.74GiB  headers=16,682,850@7.11GiB   bodies=16,682,785@255.07GiB receipts=16,682,785@121.55GiB eta=2.088s\r\nWARN [05-11|14:56:37.363] Forkchoice requested unknown head        hash=54192c..b93f03\r\nWARN [05-11|14:56:42.761] Forkchoice requested unknown head        hash=1606bc..90e1db\r\nINFO [05-11|14:56:45.344] Syncing: chain download in progress      synced=100.00% chain=383.74GiB  headers=16,682,850@7.11GiB   bodies=16,682,785@255.07GiB receipts=16,682,785@121.55GiB eta=2.088s\r\nWARN [05-11|14:56:47.765] Forkchoice requested unknown head        hash=782192..ed1ee9\r\nWARN [05-11|14:56:52.535] Forkchoice requested unknown head        hash=b87036..69b012\r\nINFO [05-11|14:56:53.350] Syncing: chain download in progress      synced=100.00% chain=383.74GiB  headers=16,682,850@7.11GiB   bodies=16,682,785@255.07GiB receipts=16,682,785@121.55GiB eta=2.088s\r\nWARN [05-11|14:56:57.451] Forkchoice requested unknown head        hash=857082..05c29b\r\nINFO [05-11|14:57:01.354] Syncing: chain download in progress      synced=100.00% chain=383.74GiB  headers=16,682,850@7.11GiB   bodies=16,682,785@255.07GiB receipts=16,682,785@121.55GiB eta=2.088s\r\nINFO [05-11|14:57:09.359] Syncing: chain download in progress      synced=100.00% chain=383.74GiB  headers=16,682,850@7.11GiB   bodies=16,682,785@255.07GiB receipts=16,682,785@121.55GiB eta=2.088s\r\nWARN [05-11|14:57:16.111] Forkchoice requested unknown head        hash=3f7e69..bca4ee\r\nINFO [05-11|14:57:17.365] Syncing: chain download in progress      synced=100.00% chain=383.74GiB  headers=16,682,850@7.11GiB   bodies=16,682,785@255.07GiB receipts=16,682,785@121.55GiB eta=2.088s\r\nWARN [05-11|14:57:22.156] Forkchoice requested unknown head        hash=d876b1..1ad47c\r\nINFO [05-11|14:57:25.369] Syncing: chain download in progress      synced=100.00% chain=383.74GiB  headers=16,682,850@7.11GiB   bodies=16,682,785@255.07GiB receipts=16,682,785@121.55GiB eta=2.088s\r\n\r\n````\r\n",
  "closed_by": {
    "login": "danieloadebimpe",
    "id": 62970277,
    "node_id": "MDQ6VXNlcjYyOTcwMjc3",
    "avatar_url": "https://avatars.githubusercontent.com/u/62970277?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/danieloadebimpe",
    "html_url": "https://github.com/danieloadebimpe",
    "followers_url": "https://api.github.com/users/danieloadebimpe/followers",
    "following_url": "https://api.github.com/users/danieloadebimpe/following{/other_user}",
    "gists_url": "https://api.github.com/users/danieloadebimpe/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/danieloadebimpe/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/danieloadebimpe/subscriptions",
    "organizations_url": "https://api.github.com/users/danieloadebimpe/orgs",
    "repos_url": "https://api.github.com/users/danieloadebimpe/repos",
    "events_url": "https://api.github.com/users/danieloadebimpe/events{/privacy}",
    "received_events_url": "https://api.github.com/users/danieloadebimpe/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27251/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27251/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1544632412",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/27251#issuecomment-1544632412",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27251",
    "id": 1544632412,
    "node_id": "IC_kwDOAOvK985cEThc",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-11T20:26:29Z",
    "updated_at": "2023-05-11T20:26:29Z",
    "author_association": "MEMBER",
    "body": "\"Forkchoice requested unknown head\" means that lighthouse keeps telling us that the new head is \"hash xyz\", but it should have given us the respective block in a NewPayload message, which it seems it did not. Geth cannot proceed because it's lacking the needed information from the consensus client.\r\n\r\nNot blaming Lighthouse per se, but based on the logs, it would *seem* to me that there's an issue in Lighthouse where it does not honour the engine API requirements.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1544632412/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1544635813",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/27251#issuecomment-1544635813",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27251",
    "id": 1544635813,
    "node_id": "IC_kwDOAOvK985cEUWl",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-11T20:29:23Z",
    "updated_at": "2023-05-11T20:29:23Z",
    "author_association": "MEMBER",
    "body": "In a Geth console, could you please do\r\n\r\n```\r\ndebug.vmodule(\"catalyst=5\")\r\n```\r\n\r\nthis will raise the log level for the engine API package to print everything it's doing. It might help see if the issue is indeed Lighthouse not sending us the data, or that being rejected by Geth for some reason.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1544635813/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1544971011",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/27251#issuecomment-1544971011",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27251",
    "id": 1544971011,
    "node_id": "IC_kwDOAOvK985cFmMD",
    "user": {
      "login": "danieloadebimpe",
      "id": 62970277,
      "node_id": "MDQ6VXNlcjYyOTcwMjc3",
      "avatar_url": "https://avatars.githubusercontent.com/u/62970277?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/danieloadebimpe",
      "html_url": "https://github.com/danieloadebimpe",
      "followers_url": "https://api.github.com/users/danieloadebimpe/followers",
      "following_url": "https://api.github.com/users/danieloadebimpe/following{/other_user}",
      "gists_url": "https://api.github.com/users/danieloadebimpe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/danieloadebimpe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/danieloadebimpe/subscriptions",
      "organizations_url": "https://api.github.com/users/danieloadebimpe/orgs",
      "repos_url": "https://api.github.com/users/danieloadebimpe/repos",
      "events_url": "https://api.github.com/users/danieloadebimpe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/danieloadebimpe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-12T01:22:46Z",
    "updated_at": "2023-05-12T01:22:46Z",
    "author_association": "NONE",
    "body": "This returns `null` . I think its because I did not load the debug module. I added this configuration and restarted geth and lighthouse. Now it looks like lighthouse has more to sync. I will follow up when lighthouse is fully synced (~1 day)",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1544971011/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1545270231",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/27251#issuecomment-1545270231",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27251",
    "id": 1545270231,
    "node_id": "IC_kwDOAOvK985cGvPX",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-12T07:00:35Z",
    "updated_at": "2023-05-12T07:00:35Z",
    "author_association": "MEMBER",
    "body": "It does't need to return anything, it just raises the log level so more detailed infos are printed while the node is operating.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1545270231/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1546159227",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/27251#issuecomment-1546159227",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27251",
    "id": 1546159227,
    "node_id": "IC_kwDOAOvK985cKIR7",
    "user": {
      "login": "danieloadebimpe",
      "id": 62970277,
      "node_id": "MDQ6VXNlcjYyOTcwMjc3",
      "avatar_url": "https://avatars.githubusercontent.com/u/62970277?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/danieloadebimpe",
      "html_url": "https://github.com/danieloadebimpe",
      "followers_url": "https://api.github.com/users/danieloadebimpe/followers",
      "following_url": "https://api.github.com/users/danieloadebimpe/following{/other_user}",
      "gists_url": "https://api.github.com/users/danieloadebimpe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/danieloadebimpe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/danieloadebimpe/subscriptions",
      "organizations_url": "https://api.github.com/users/danieloadebimpe/orgs",
      "repos_url": "https://api.github.com/users/danieloadebimpe/repos",
      "events_url": "https://api.github.com/users/danieloadebimpe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/danieloadebimpe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-12T19:03:50Z",
    "updated_at": "2023-05-12T19:11:56Z",
    "author_association": "NONE",
    "body": "The consensus layer if fully synced - now I get these geth logs:\r\n```\r\nINFO [05-12|19:00:10.494] Syncing: state download in progress      synced=0.20%  state=525.91MiB accounts=1,027,298@97.87MiB slots=1,994,227@404.62MiB codes=7835@23.42MiB eta=301h41m3.438s\r\nINFO [05-12|19:00:11.233] Syncing: chain download in progress      synced=97.73% chain=383.74GiB headers=16,890,943@7.11GiB bodies=16,854,706@255.07GiB receipts=16,854,706@121.55GiB eta=8h23m51.257s\r\nWARN [05-12|19:00:11.239] Unexpected storage ranges packet         peer=98caaca1 reqid=5,877,491,272,377,480,450\r\nTRACE[05-12|19:00:14.301] Engine API request received              method=NewPayload                      number=17,245,908 hash=55b240..3107ef\r\nDEBUG[05-12|19:00:14.311] Payload accepted for sync extension      number=17,245,908 hash=55b240..3107ef\r\nTRACE[05-12|19:00:14.382] Engine API request received              method=ForkchoiceUpdated               head=55b240..3107ef finalized=3a665e..0b3999 safe=e825aa..1bec15\r\nINFO [05-12|19:00:14.382] Forkchoice requested sync to new head    number=17,245,908 hash=55b240..3107ef finalized=17,245,830\r\nINFO [05-12|19:00:19.663] Syncing: chain download in progress      synced=97.73% chain=383.74GiB headers=16,890,943@7.11GiB bodies=16,855,068@255.07GiB receipts=16,855,068@121.55GiB eta=8h18m53.785s\r\nINFO [05-12|19:00:20.710] Syncing: state download in progress      synced=0.20%  state=529.07MiB accounts=1,027,298@97.87MiB slots=2,010,253@407.78MiB codes=7835@23.42MiB eta=303h6m37.038s\r\nTRACE[05-12|19:00:26.256] Engine API request received              method=NewPayload                      number=17,245,909 hash=18ffab..8faa95\r\nDEBUG[05-12|19:00:26.266] Payload accepted for sync extension      number=17,245,909 hash=18ffab..8faa95\r\nTRACE[05-12|19:00:26.340] Engine API request received              method=ForkchoiceUpdated               head=18ffab..8faa95 finalized=3a665e..0b3999 safe=e825aa..1bec15\r\nINFO [05-12|19:00:26.340] Forkchoice requested sync to new head    number=17,245,909 hash=18ffab..8faa95 finalized=17,245,830\r\nINFO [05-12|19:00:29.709] Syncing: state download in progress      synced=0.20%  state=532.24MiB accounts=1,027,298@97.87MiB slots=2,026,279@410.94MiB codes=7835@23.42MiB eta=304h22m44.144s\r\nTRACE[05-12|19:00:36.641] Engine API request received              method=NewPayload                      number=17,245,910 hash=03f459..53f7f1\r\n```\r\nThese are natural right? However the state syncing time looks unreasonable\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1546159227/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1546206759",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/27251#issuecomment-1546206759",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27251",
    "id": 1546206759,
    "node_id": "IC_kwDOAOvK985cKT4n",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-12T19:45:41Z",
    "updated_at": "2023-05-12T19:45:41Z",
    "author_association": "MEMBER",
    "body": "The ETA is calculated based on progress, initially it will be very off and will gradually become more precise.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1546206759/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1546466982",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/27251#issuecomment-1546466982",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27251",
    "id": 1546466982,
    "node_id": "IC_kwDOAOvK985cLTam",
    "user": {
      "login": "michaelsproul",
      "id": 4452260,
      "node_id": "MDQ6VXNlcjQ0NTIyNjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4452260?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/michaelsproul",
      "html_url": "https://github.com/michaelsproul",
      "followers_url": "https://api.github.com/users/michaelsproul/followers",
      "following_url": "https://api.github.com/users/michaelsproul/following{/other_user}",
      "gists_url": "https://api.github.com/users/michaelsproul/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/michaelsproul/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/michaelsproul/subscriptions",
      "organizations_url": "https://api.github.com/users/michaelsproul/orgs",
      "repos_url": "https://api.github.com/users/michaelsproul/repos",
      "events_url": "https://api.github.com/users/michaelsproul/events{/privacy}",
      "received_events_url": "https://api.github.com/users/michaelsproul/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-13T00:28:04Z",
    "updated_at": "2023-05-13T00:36:54Z",
    "author_association": "NONE",
    "body": "> \"Forkchoice requested unknown head\" means that lighthouse keeps telling us that the new head is \"hash xyz\", but it should have given us the respective block in a NewPayload message, which it seems it did not. Geth cannot proceed because it's lacking the needed information from the consensus client.\r\n\r\nGeth can get the block from devp2p during sync, can't it? Lighthouse's default behaviour is to not send `newPayload` while syncing the finalized portion of the chain, but this can be turned off with `--disable-optimistic-finalized-sync`. We could change this default, but had observed that ELs re-sync faster when we don't hammer them with `newPayload` calls\r\n\r\nIt might be that @danieloadebimpe's Lighthouse node was switching from finalized sync to head sync when Geth logged the error. It seems to have corrected itself, so either way it probably isn't cause for concern",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1546466982/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1546475354",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/27251#issuecomment-1546475354",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27251",
    "id": 1546475354,
    "node_id": "IC_kwDOAOvK985cLVda",
    "user": {
      "login": "danieloadebimpe",
      "id": 62970277,
      "node_id": "MDQ6VXNlcjYyOTcwMjc3",
      "avatar_url": "https://avatars.githubusercontent.com/u/62970277?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/danieloadebimpe",
      "html_url": "https://github.com/danieloadebimpe",
      "followers_url": "https://api.github.com/users/danieloadebimpe/followers",
      "following_url": "https://api.github.com/users/danieloadebimpe/following{/other_user}",
      "gists_url": "https://api.github.com/users/danieloadebimpe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/danieloadebimpe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/danieloadebimpe/subscriptions",
      "organizations_url": "https://api.github.com/users/danieloadebimpe/orgs",
      "repos_url": "https://api.github.com/users/danieloadebimpe/repos",
      "events_url": "https://api.github.com/users/danieloadebimpe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/danieloadebimpe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-13T00:54:48Z",
    "updated_at": "2023-05-13T00:54:48Z",
    "author_association": "NONE",
    "body": "Perhaps it was related to the finalization issues recently on the beacon chain - https://twitter.com/haydenzadams/status/1657104665912266759?s=20",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1546475354/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1548828495",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/27251#issuecomment-1548828495",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/27251",
    "id": 1548828495,
    "node_id": "IC_kwDOAOvK985cUT9P",
    "user": {
      "login": "danieloadebimpe",
      "id": 62970277,
      "node_id": "MDQ6VXNlcjYyOTcwMjc3",
      "avatar_url": "https://avatars.githubusercontent.com/u/62970277?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/danieloadebimpe",
      "html_url": "https://github.com/danieloadebimpe",
      "followers_url": "https://api.github.com/users/danieloadebimpe/followers",
      "following_url": "https://api.github.com/users/danieloadebimpe/following{/other_user}",
      "gists_url": "https://api.github.com/users/danieloadebimpe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/danieloadebimpe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/danieloadebimpe/subscriptions",
      "organizations_url": "https://api.github.com/users/danieloadebimpe/orgs",
      "repos_url": "https://api.github.com/users/danieloadebimpe/repos",
      "events_url": "https://api.github.com/users/danieloadebimpe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/danieloadebimpe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-16T01:17:23Z",
    "updated_at": "2023-05-16T01:17:23Z",
    "author_association": "NONE",
    "body": "the client is fully synced and is running naturally",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1548828495/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
