{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15739",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15739/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15739/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15739/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/15739",
  "id": 284196973,
  "node_id": "MDU6SXNzdWUyODQxOTY5NzM=",
  "number": 15739,
  "title": "geth API performance degradation ",
  "user": {
    "login": "richiela",
    "id": 928196,
    "node_id": "MDQ6VXNlcjkyODE5Ng==",
    "avatar_url": "https://avatars.githubusercontent.com/u/928196?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/richiela",
    "html_url": "https://github.com/richiela",
    "followers_url": "https://api.github.com/users/richiela/followers",
    "following_url": "https://api.github.com/users/richiela/following{/other_user}",
    "gists_url": "https://api.github.com/users/richiela/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/richiela/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/richiela/subscriptions",
    "organizations_url": "https://api.github.com/users/richiela/orgs",
    "repos_url": "https://api.github.com/users/richiela/repos",
    "events_url": "https://api.github.com/users/richiela/events{/privacy}",
    "received_events_url": "https://api.github.com/users/richiela/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 24,
  "created_at": "2017-12-22T16:03:26Z",
  "updated_at": "2019-01-29T09:55:13Z",
  "closed_at": "2019-01-29T09:21:31Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Hi there,\r\n\r\nplease note that this is an issue tracker reserved for bug reports and feature requests.\r\n\r\nFor general questions please use the gitter channel or the Ethereum stack exchange at https://ethereum.stackexchange.com.\r\n\r\n#### System information\r\n\r\nGeth version: \"Geth/v1.7.2-stable/linux-amd64/go1.8\"\r\nOS & Version: Ubuntu 16.04\r\nCommit hash : (if `develop`)\r\n\r\n#### Expected behaviour\r\ndaemon responds to API calls in a timeline manner\r\n\r\n#### Actual behaviour\r\nAfter running for 10-12 hours, the daemon jsonrpc interface response times for certain calls start slowing down.  getBalance calls seem to take the same time, as do eth_call.  But send eth_sendTransaction, regardless from a locked or unlocked (coinbase) account, slows down to the point where its unusable.  A restart of the daemon fixes the issue.\r\n\r\nThis is what it looks like after restart of the daemon and for the first few hours\r\n\r\nEthereumDeposit [ETH] : Ethereum.Deposit: swept 0xc3cc155e320bb7da40b65c7a36ad4d944aafaa86 2056 / 2816: getBalanceDuration 55 ms sendDuration 802 ms\t2017-12-22 05:56:20.350\r\nEthereumDeposit [ETH] : Ethereum.Deposit: swept 0x6045ed31b513c80c44e31594c4feb27333022bd7 2055 / 2816: getBalanceDuration 51 ms sendDuration 436 ms\t2017-12-22 05:56:19.337\r\nEthereumDeposit [ETH] : Ethereum.Deposit: swept 0x5cf085326ad6e992409806bef9d93b99eb968261 2054 / 2816: getBalanceDuration 48 ms sendDuration 494 ms\t2017-12-22 05:56:18.807\r\nEthereumDeposit [ETH] : Ethereum.Deposit: swept 0x6034f9fecdca8355dbfe971f80e82ba42236f5ef 2053 / 2816: getBalanceDuration 52 ms sendDuration 463 ms\t2017-12-22 05:56:18.243\r\nEthereumDeposit [ETH] : Ethereum.Deposit: swept 0x30277fc62f48a2b54903cb427628acef6c33f287 2052 / 2816: getBalanceDuration 41 ms sendDuration 1884 ms\t2017-12-22 05:56:17.697\r\nEthereumDeposit [ETH] : Ethereum.Deposit: swept 0xab8b9e9d6cf1cd0cefac392d8a87d48e0597fc58 2051 / 2816: getBalanceDuration 44 ms sendDuration 364 ms\t2017-12-22 05:56:15.730\r\n\r\nHere is the response time after about 10 hours:\r\n\r\n\r\nEthereumDeposit [ETH] : Ethereum.Deposit: swept 0xfbb30fd8cb6869a711455348b01f740ecfcc7a1f 575 / 618: getBalanceDuration 40 ms sendDuration 11508 ms\r\nEthereumDeposit [ETH] : Ethereum.Deposit: swept 0x40b378794490d77acd52e188619bf0aff5178202 574 / 618: getBalanceDuration 2 ms sendDuration 149232 ms\r\nEthereumDeposit [ETH] : Ethereum.Deposit: swept 0x83aea7637dd722283a2f86e3037716a57ec8082e 573 / 618: getBalanceDuration 40 ms sendDuration 49735 ms\r\nEthereumDeposit [ETH] : Ethereum.Deposit: swept 0xab744eab6f50422b44b30b55a599f277a61f7465 572 / 618: getBalanceDuration 44 ms sendDuration 144540 ms\r\nEthereumDeposit [ETH] : Ethereum.Deposit: swept 0xe0a21dfac0182b71850b90b0a72e8b2f8c8114e9 571 / 618: getBalanceDuration 40 ms sendDuration 90995 ms\r\nEthereumDeposit [ETH] : Ethereum.Deposit: swept 0x635b5f9af7edabc406f4b7afc0ebb9d52f3e8875 570 / 618: getBalanceDuration 41 ms sendDuration 152650 ms\r\n\r\ngeth is not resource constrained down it keeps climbing in memory usage\r\n\r\n47771 101001    20   0 22.521g 0.016t  45992 S 161.8 30.3 823:12.48 geth\r\n\r\n#### Steps to reproduce the behaviour\r\nJust let daemon run and use it normally\r\n\r\n#### Backtrace\r\n\r\n````\r\n[backtrace]\r\n````\r\n",
  "closed_by": {
    "login": "fjl",
    "id": 6915,
    "node_id": "MDQ6VXNlcjY5MTU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6915?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/fjl",
    "html_url": "https://github.com/fjl",
    "followers_url": "https://api.github.com/users/fjl/followers",
    "following_url": "https://api.github.com/users/fjl/following{/other_user}",
    "gists_url": "https://api.github.com/users/fjl/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/fjl/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/fjl/subscriptions",
    "organizations_url": "https://api.github.com/users/fjl/orgs",
    "repos_url": "https://api.github.com/users/fjl/repos",
    "events_url": "https://api.github.com/users/fjl/events{/privacy}",
    "received_events_url": "https://api.github.com/users/fjl/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15739/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15739/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/353640929",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15739#issuecomment-353640929",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15739",
    "id": 353640929,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MzY0MDkyOQ==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-22T17:21:04Z",
    "updated_at": "2017-12-22T17:21:21Z",
    "author_association": "MEMBER",
    "body": "When this happens again, could you do a `debug.cpuProfile(\"geth.cpu\", 60)` and send the generated file to us? It would be invaluable to see where Geth is spending its time.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/353640929/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/353644006",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15739#issuecomment-353644006",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15739",
    "id": 353644006,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MzY0NDAwNg==",
    "user": {
      "login": "richiela",
      "id": 928196,
      "node_id": "MDQ6VXNlcjkyODE5Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/928196?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/richiela",
      "html_url": "https://github.com/richiela",
      "followers_url": "https://api.github.com/users/richiela/followers",
      "following_url": "https://api.github.com/users/richiela/following{/other_user}",
      "gists_url": "https://api.github.com/users/richiela/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/richiela/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/richiela/subscriptions",
      "organizations_url": "https://api.github.com/users/richiela/orgs",
      "repos_url": "https://api.github.com/users/richiela/repos",
      "events_url": "https://api.github.com/users/richiela/events{/privacy}",
      "received_events_url": "https://api.github.com/users/richiela/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-22T17:39:57Z",
    "updated_at": "2017-12-22T17:39:57Z",
    "author_association": "NONE",
    "body": "I restarted and its acting badly already :( \r\n\r\n[geth.zip](https://github.com/ethereum/go-ethereum/files/1583127/geth.zip)\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/353644006/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/353644564",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15739#issuecomment-353644564",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15739",
    "id": 353644564,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MzY0NDU2NA==",
    "user": {
      "login": "mtbitcoin",
      "id": 8327464,
      "node_id": "MDQ6VXNlcjgzMjc0NjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8327464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mtbitcoin",
      "html_url": "https://github.com/mtbitcoin",
      "followers_url": "https://api.github.com/users/mtbitcoin/followers",
      "following_url": "https://api.github.com/users/mtbitcoin/following{/other_user}",
      "gists_url": "https://api.github.com/users/mtbitcoin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mtbitcoin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mtbitcoin/subscriptions",
      "organizations_url": "https://api.github.com/users/mtbitcoin/orgs",
      "repos_url": "https://api.github.com/users/mtbitcoin/repos",
      "events_url": "https://api.github.com/users/mtbitcoin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mtbitcoin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-22T17:43:28Z",
    "updated_at": "2017-12-22T17:43:28Z",
    "author_association": "NONE",
    "body": "We're seeing the same mainly when it is used to serve a lot of RPC requests. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/353644564/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/353663543",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15739#issuecomment-353663543",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15739",
    "id": 353663543,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MzY2MzU0Mw==",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-22T19:44:02Z",
    "updated_at": "2017-12-22T19:54:35Z",
    "author_association": "MEMBER",
    "body": "[Graph](https://user-images.githubusercontent.com/142290/34310612-cd34918e-e758-11e7-92c6-94cbc89799bb.png)\r\n\r\nEdit: image was so large so I made it a link instead of displaying inline. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/353663543/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/353665194",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15739#issuecomment-353665194",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15739",
    "id": 353665194,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MzY2NTE5NA==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-22T19:55:28Z",
    "updated_at": "2017-12-22T19:55:28Z",
    "author_association": "MEMBER",
    "body": "Could background database compaction be the culprit?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/353665194/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/354476230",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15739#issuecomment-354476230",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15739",
    "id": 354476230,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NDQ3NjIzMA==",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-29T17:33:50Z",
    "updated_at": "2017-12-29T17:33:50Z",
    "author_association": "MEMBER",
    "body": "Does not really look like compaction to me, more like many simultaneous db requests, (during state.copy?) and IO-lag when it tries to open database-files. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/354476230/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/354945901",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15739#issuecomment-354945901",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15739",
    "id": 354945901,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NDk0NTkwMQ==",
    "user": {
      "login": "TinyCalf",
      "id": 24789195,
      "node_id": "MDQ6VXNlcjI0Nzg5MTk1",
      "avatar_url": "https://avatars.githubusercontent.com/u/24789195?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TinyCalf",
      "html_url": "https://github.com/TinyCalf",
      "followers_url": "https://api.github.com/users/TinyCalf/followers",
      "following_url": "https://api.github.com/users/TinyCalf/following{/other_user}",
      "gists_url": "https://api.github.com/users/TinyCalf/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TinyCalf/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TinyCalf/subscriptions",
      "organizations_url": "https://api.github.com/users/TinyCalf/orgs",
      "repos_url": "https://api.github.com/users/TinyCalf/repos",
      "events_url": "https://api.github.com/users/TinyCalf/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TinyCalf/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-03T06:42:47Z",
    "updated_at": "2018-01-03T06:44:50Z",
    "author_association": "NONE",
    "body": "same problem when I send more than 5 rpc requests at the same time.Memory will be occupied and won't release. In bitcoin core, the bitcoind can limit the rpcthreads to avoid this problem:\r\n -rpcthreads=<n> Set the number of threads to service RPC calls (default: 4)\r\nbut geth do not have such option, any solutions or advise?\r\n  ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/354945901/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/355140834",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15739#issuecomment-355140834",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15739",
    "id": 355140834,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NTE0MDgzNA==",
    "user": {
      "login": "richiela",
      "id": 928196,
      "node_id": "MDQ6VXNlcjkyODE5Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/928196?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/richiela",
      "html_url": "https://github.com/richiela",
      "followers_url": "https://api.github.com/users/richiela/followers",
      "following_url": "https://api.github.com/users/richiela/following{/other_user}",
      "gists_url": "https://api.github.com/users/richiela/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/richiela/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/richiela/subscriptions",
      "organizations_url": "https://api.github.com/users/richiela/orgs",
      "repos_url": "https://api.github.com/users/richiela/repos",
      "events_url": "https://api.github.com/users/richiela/events{/privacy}",
      "received_events_url": "https://api.github.com/users/richiela/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-03T22:05:11Z",
    "updated_at": "2018-01-03T22:05:11Z",
    "author_association": "NONE",
    "body": "[geth.zip](https://github.com/ethereum/go-ethereum/files/1601852/geth.zip)\r\n\r\nAdding another debug.cpuProfile(\"geth.cpu\", 60) during a time that estimategas took over 1minute to return.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/355140834/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/355401242",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15739#issuecomment-355401242",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15739",
    "id": 355401242,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NTQwMTI0Mg==",
    "user": {
      "login": "richiela",
      "id": 928196,
      "node_id": "MDQ6VXNlcjkyODE5Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/928196?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/richiela",
      "html_url": "https://github.com/richiela",
      "followers_url": "https://api.github.com/users/richiela/followers",
      "following_url": "https://api.github.com/users/richiela/following{/other_user}",
      "gists_url": "https://api.github.com/users/richiela/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/richiela/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/richiela/subscriptions",
      "organizations_url": "https://api.github.com/users/richiela/orgs",
      "repos_url": "https://api.github.com/users/richiela/repos",
      "events_url": "https://api.github.com/users/richiela/events{/privacy}",
      "received_events_url": "https://api.github.com/users/richiela/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-04T21:17:49Z",
    "updated_at": "2018-01-04T21:17:49Z",
    "author_association": "NONE",
    "body": "[geth.cpu.zip](https://github.com/ethereum/go-ethereum/files/1604738/geth.cpu.zip)\r\n\r\nAnd another.  geth is under 0 load.  Everything is offline and times are still in the 10s of seconds.  This should be obvious to track down.  Please help.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/355401242/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/355422659",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15739#issuecomment-355422659",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15739",
    "id": 355422659,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NTQyMjY1OQ==",
    "user": {
      "login": "fjl",
      "id": 6915,
      "node_id": "MDQ6VXNlcjY5MTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6915?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjl",
      "html_url": "https://github.com/fjl",
      "followers_url": "https://api.github.com/users/fjl/followers",
      "following_url": "https://api.github.com/users/fjl/following{/other_user}",
      "gists_url": "https://api.github.com/users/fjl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fjl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fjl/subscriptions",
      "organizations_url": "https://api.github.com/users/fjl/orgs",
      "repos_url": "https://api.github.com/users/fjl/repos",
      "events_url": "https://api.github.com/users/fjl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fjl/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-04T22:54:34Z",
    "updated_at": "2018-01-04T22:54:34Z",
    "author_association": "MEMBER",
    "body": "@richiela which version of geth are you running?\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/355422659/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/355424398",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15739#issuecomment-355424398",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15739",
    "id": 355424398,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NTQyNDM5OA==",
    "user": {
      "login": "fjl",
      "id": 6915,
      "node_id": "MDQ6VXNlcjY5MTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6915?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjl",
      "html_url": "https://github.com/fjl",
      "followers_url": "https://api.github.com/users/fjl/followers",
      "following_url": "https://api.github.com/users/fjl/following{/other_user}",
      "gists_url": "https://api.github.com/users/fjl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fjl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fjl/subscriptions",
      "organizations_url": "https://api.github.com/users/fjl/orgs",
      "repos_url": "https://api.github.com/users/fjl/repos",
      "events_url": "https://api.github.com/users/fjl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fjl/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-04T23:03:03Z",
    "updated_at": "2018-01-04T23:03:19Z",
    "author_association": "MEMBER",
    "body": "I'm asking because I can't make sense of the profile without having the binary that created it. It doesn't seem to be geth 1.7.2 from geth.ethereum.org/downloads.\r\n  ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/355424398/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/355425082",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15739#issuecomment-355425082",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15739",
    "id": 355425082,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NTQyNTA4Mg==",
    "user": {
      "login": "richiela",
      "id": 928196,
      "node_id": "MDQ6VXNlcjkyODE5Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/928196?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/richiela",
      "html_url": "https://github.com/richiela",
      "followers_url": "https://api.github.com/users/richiela/followers",
      "following_url": "https://api.github.com/users/richiela/following{/other_user}",
      "gists_url": "https://api.github.com/users/richiela/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/richiela/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/richiela/subscriptions",
      "organizations_url": "https://api.github.com/users/richiela/orgs",
      "repos_url": "https://api.github.com/users/richiela/repos",
      "events_url": "https://api.github.com/users/richiela/events{/privacy}",
      "received_events_url": "https://api.github.com/users/richiela/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-04T23:06:39Z",
    "updated_at": "2018-01-04T23:06:39Z",
    "author_association": "NONE",
    "body": "  name: \"Geth/v1.7.2-stable/linux-amd64/go1.8\",\r\n\r\nCompiled from source.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/355425082/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/355438669",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15739#issuecomment-355438669",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15739",
    "id": 355438669,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NTQzODY2OQ==",
    "user": {
      "login": "fjl",
      "id": 6915,
      "node_id": "MDQ6VXNlcjY5MTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6915?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjl",
      "html_url": "https://github.com/fjl",
      "followers_url": "https://api.github.com/users/fjl/followers",
      "following_url": "https://api.github.com/users/fjl/following{/other_user}",
      "gists_url": "https://api.github.com/users/fjl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fjl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fjl/subscriptions",
      "organizations_url": "https://api.github.com/users/fjl/orgs",
      "repos_url": "https://api.github.com/users/fjl/repos",
      "events_url": "https://api.github.com/users/fjl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fjl/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-05T00:24:05Z",
    "updated_at": "2018-01-05T00:24:05Z",
    "author_association": "MEMBER",
    "body": "In that case it would be good to have the actual geth binary.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/355438669/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/355438805",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15739#issuecomment-355438805",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15739",
    "id": 355438805,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NTQzODgwNQ==",
    "user": {
      "login": "fjl",
      "id": 6915,
      "node_id": "MDQ6VXNlcjY5MTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6915?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjl",
      "html_url": "https://github.com/fjl",
      "followers_url": "https://api.github.com/users/fjl/followers",
      "following_url": "https://api.github.com/users/fjl/following{/other_user}",
      "gists_url": "https://api.github.com/users/fjl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fjl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fjl/subscriptions",
      "organizations_url": "https://api.github.com/users/fjl/orgs",
      "repos_url": "https://api.github.com/users/fjl/repos",
      "events_url": "https://api.github.com/users/fjl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fjl/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-05T00:24:52Z",
    "updated_at": "2018-01-05T00:26:45Z",
    "author_association": "MEMBER",
    "body": "Note: you should consider compiling with go 1.9.2 instead of go 1.8. They added debug symbols to profiles in go 1.9. We still need the \"Geth/v1.7.2-stable/linux-amd64/go1.8\" binary to look at the profiles you posted.\r\n  ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/355438805/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/355538090",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15739#issuecomment-355538090",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15739",
    "id": 355538090,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NTUzODA5MA==",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-05T11:54:26Z",
    "updated_at": "2018-01-05T11:54:26Z",
    "author_association": "MEMBER",
    "body": "@richiela could you provide us with the binary?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/355538090/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/355565386",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15739#issuecomment-355565386",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15739",
    "id": 355565386,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NTU2NTM4Ng==",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-05T14:20:08Z",
    "updated_at": "2018-01-05T14:20:08Z",
    "author_association": "MEMBER",
    "body": "Regarding estimategas,I have a hunch that providing a \"gas\" (which is the max gas) in the call instead of letting geth supply, you'll get back to very quick responses. @richiela could you please test that? Specify something like `gas=8000000` (8M).   ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/355565386/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/355565638",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15739#issuecomment-355565638",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15739",
    "id": 355565638,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NTU2NTYzOA==",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-05T14:21:11Z",
    "updated_at": "2018-01-05T14:21:11Z",
    "author_association": "MEMBER",
    "body": "I'm not able to repro myself, but I would very much like to know if this \"solves\" it, because if so I know what the underlying issue is. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/355565638/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/355566083",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15739#issuecomment-355566083",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15739",
    "id": 355566083,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NTU2NjA4Mw==",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-05T14:23:21Z",
    "updated_at": "2018-01-05T14:23:21Z",
    "author_association": "MEMBER",
    "body": "@richiela also, when you measure `sendDuration` -- which specific method is used to send? Does it include unlock and signing, or sending a raw signed transaction? ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/355566083/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/355625605",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15739#issuecomment-355625605",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15739",
    "id": 355625605,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NTYyNTYwNQ==",
    "user": {
      "login": "richiela",
      "id": 928196,
      "node_id": "MDQ6VXNlcjkyODE5Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/928196?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/richiela",
      "html_url": "https://github.com/richiela",
      "followers_url": "https://api.github.com/users/richiela/followers",
      "following_url": "https://api.github.com/users/richiela/following{/other_user}",
      "gists_url": "https://api.github.com/users/richiela/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/richiela/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/richiela/subscriptions",
      "organizations_url": "https://api.github.com/users/richiela/orgs",
      "repos_url": "https://api.github.com/users/richiela/repos",
      "events_url": "https://api.github.com/users/richiela/events{/privacy}",
      "received_events_url": "https://api.github.com/users/richiela/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-05T18:14:22Z",
    "updated_at": "2018-01-05T18:14:22Z",
    "author_association": "NONE",
    "body": "time curl -X POST http://10.0.0.23:8101 -d @test.json\r\n{\"jsonrpc\":\"2.0\",\"id\":9,\"result\":\"0x5208\"}\r\n\r\nreal    0m5.283s\r\nuser    0m0.004s\r\nsys     0m0.000s\r\n\r\ncat test.json\r\n{\"id\":9,\"jsonrpc\":\"2.0\",\"method\":\"eth_estimateGas\",\"params\":[{\"from\":\"0xfbb1b73c4f0bda4f67dca266ce6ef42f520fbb98\",\"to\":\"0xfbb1b73c4f0bda4f67dca266ce6ef42f520fbb98\",\"value\":\"0x16345785D8A0000\", \"gas\" : \"0x7A1200\"}]}\r\n\r\nDoesn't solve the problem.  As for the sendDuration, it is not constant because in some cases we have to unlock, in others we don't.  Following Nick's suggestion of using a static gas value,  our problem seems to been solved, so the majority of it was caused by that single call.   \r\n\r\nThis is what it looks like today:\r\n\r\nEthereumDeposit [ETH] : Ethereum.Deposit: swept 0xcca1917d40043229c82e44cf9afc239dbea027a1 192 / 198: getBalanceDuration 38 ms sendDuration 1260 ms\r\nEthereumDeposit [ETH] : Ethereum.Deposit: swept 0xc382db0633f17234cfbaaf791909f9a3b6eff417 191 / 198: getBalanceDuration 38 ms sendDuration 135 ms\r\nEthereumDeposit [ETH] : Ethereum.Deposit: swept 0xe40dad060b5a034374462eb411d311d90baa005a 190 / 198: getBalanceDuration 43 ms sendDuration 126 ms\r\nEthereumDeposit [ETH] : Ethereum.Deposit: swept 0xb6e4989121ca00b3512360612106749c5bee738b 189 / 198: getBalanceDuration 39 ms sendDuration 553 ms\r\nEthereumDeposit [ETH] : Ethereum.Deposit: swept 0x83a835c4097fe9a05276bdd0c21ea145ee2c0c4e 188 / 198: getBalanceDuration 40 ms sendDuration 126 ms\r\nEthereumDeposit [ETH] : Ethereum.Deposit: swept 0x6c6386772e8c872e2bda834bccbd800bef47827d 187 / 198: getBalanceDuration 1 ms sendDuration 1276 ms\r\nEthereumDeposit [ETH] : Ethereum.Deposit: swept 0x4311f1050c414afc5984cffc6e83f879b0872717 186 / 198: getBalanceDuration 38 ms sendDuration 216 ms\r\nEthereumDeposit [ETH] : Ethereum.Deposit: swept 0x3cabc3e29a7e9b681078f06a00aa5403cab66097 185 / 198: getBalanceDuration 41 ms sendDuration 125 ms\r\nEthereumDeposit [ETH] : Ethereum.Deposit: swept 0xf045c1a21b4ac448781d9c6ee3f5df6df3a2aa1c 184 / 198: getBalanceDuration 41 ms sendDuration 0 ms\r\nEthereumDeposit [ETH] : Ethereum.Deposit: swept 0x217b8a24200d67c56f3927e9bec723f3d01518e6 183 / 198: getBalanceDuration 39 ms sendDuration 1245 ms\r\nEthereumDeposit [ETH] : Ethereum.Deposit: swept 0xab4e1fc208851823df8e20da9a3088c5ac7e4e3b 182 / 198: getBalanceDuration 41 ms sendDuration 125 ms\r\nEthereumDeposit [ETH] : Ethereum.Deposit: swept 0x4418d1ff48c42ecc2bf96beab707566b82615671 181 / 198: getBalanceDuration 38 ms sendDuration 0 ms\r\nEthereumDeposit [ETH] : Ethereum.Deposit: swept 0x0bfb1c2890dbea6a17648a5b910b9929df67dcae 180 / 198: getBalanceDuration 38 ms sendDuration 125 ms\r\nEthereumDeposit [ETH] : Ethereum.Deposit: swept 0x606c0ad30959095c910939f8ae71eb38d3d88f6d 179 / 198: getBalanceDuration 40 ms sendDuration 786 ms\r\nEthereumDeposit [ETH] : Ethereum.Deposit: swept 0x0cf5982f58e8361efaa31dd5e4eca277066206f7 178 / 198: getBalanceDuration 41 ms sendDuration 129 ms\r\nEthereumDeposit [ETH] : Ethereum.Deposit: swept 0xfc89d292c9d9624352783ebfbffb69d6a1e4c6a2 177 / 198: getBalanceDuration 42 ms sendDuration 129 ms\r\nEthereumDeposit [ETH] : Ethereum.Deposit: swept 0x5f7095761da7fad1af52d6a0c80b7771ec8f1341 176 / 198: getBalanceDuration 47 ms sendDuration 128 ms\r\nEthereumDeposit [ETH] : Ethereum.Deposit: swept 0x756fd71df547188b39498368384feeab75113bdd 175 / 198: getBalanceDuration 41 ms sendDuration 129 ms\r\nEthereumDeposit [ETH] : Ethereum.Deposit: swept 0x3bf03643bcb8d68f4be2ce9efc6ce3a560e3770f 174 / 198: getBalanceDuration 40 ms sendDuration 125 ms\r\nEthereumDeposit [ETH] : Ethereum.Deposit: swept 0x24abcbebcf7ebff159d6f1a1a6472e83517934e7 173 / 198: getBalanceDuration 40 ms sendDuration 477 ms\r\n\r\nAny calls > 1s is usually an unlock.  Anything sub 1 sec is a deposit contract.\r\n\r\nI will upload a binary as soon as i get a second to go back on that server.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/355625605/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/355842516",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15739#issuecomment-355842516",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15739",
    "id": 355842516,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NTg0MjUxNg==",
    "user": {
      "login": "richiela",
      "id": 928196,
      "node_id": "MDQ6VXNlcjkyODE5Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/928196?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/richiela",
      "html_url": "https://github.com/richiela",
      "followers_url": "https://api.github.com/users/richiela/followers",
      "following_url": "https://api.github.com/users/richiela/following{/other_user}",
      "gists_url": "https://api.github.com/users/richiela/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/richiela/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/richiela/subscriptions",
      "organizations_url": "https://api.github.com/users/richiela/orgs",
      "repos_url": "https://api.github.com/users/richiela/repos",
      "events_url": "https://api.github.com/users/richiela/events{/privacy}",
      "received_events_url": "https://api.github.com/users/richiela/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-07T18:35:25Z",
    "updated_at": "2018-01-07T18:35:25Z",
    "author_association": "NONE",
    "body": "[geth (2).zip](https://github.com/ethereum/go-ethereum/files/1610078/geth.2.zip)\r\nBinary as requested.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/355842516/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/357089867",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15739#issuecomment-357089867",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15739",
    "id": 357089867,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NzA4OTg2Nw==",
    "user": {
      "login": "ryanschneider",
      "id": 53520,
      "node_id": "MDQ6VXNlcjUzNTIw",
      "avatar_url": "https://avatars.githubusercontent.com/u/53520?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanschneider",
      "html_url": "https://github.com/ryanschneider",
      "followers_url": "https://api.github.com/users/ryanschneider/followers",
      "following_url": "https://api.github.com/users/ryanschneider/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanschneider/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanschneider/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanschneider/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanschneider/orgs",
      "repos_url": "https://api.github.com/users/ryanschneider/repos",
      "events_url": "https://api.github.com/users/ryanschneider/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanschneider/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-11T23:01:08Z",
    "updated_at": "2018-01-11T23:01:08Z",
    "author_association": "CONTRIBUTOR",
    "body": "@richiela when you say `eth_call` is fine during these slow downs, are those calls targetting an existing block (e.g. `latest`) or `pending`?  I'd be curious if `eth_call`s on `pending` are just as slow (see potentially related #15859).",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/357089867/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/357098256",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15739#issuecomment-357098256",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15739",
    "id": 357098256,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NzA5ODI1Ng==",
    "user": {
      "login": "richiela",
      "id": 928196,
      "node_id": "MDQ6VXNlcjkyODE5Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/928196?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/richiela",
      "html_url": "https://github.com/richiela",
      "followers_url": "https://api.github.com/users/richiela/followers",
      "following_url": "https://api.github.com/users/richiela/following{/other_user}",
      "gists_url": "https://api.github.com/users/richiela/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/richiela/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/richiela/subscriptions",
      "organizations_url": "https://api.github.com/users/richiela/orgs",
      "repos_url": "https://api.github.com/users/richiela/repos",
      "events_url": "https://api.github.com/users/richiela/events{/privacy}",
      "received_events_url": "https://api.github.com/users/richiela/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-11T23:44:03Z",
    "updated_at": "2018-01-11T23:44:03Z",
    "author_association": "NONE",
    "body": "Hmm.. eth_call is done on latest and usually just on a small number of calls.  I dont have a good way to test eth_call on pending.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/357098256/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/357104227",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15739#issuecomment-357104227",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15739",
    "id": 357104227,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NzEwNDIyNw==",
    "user": {
      "login": "ryanschneider",
      "id": 53520,
      "node_id": "MDQ6VXNlcjUzNTIw",
      "avatar_url": "https://avatars.githubusercontent.com/u/53520?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanschneider",
      "html_url": "https://github.com/ryanschneider",
      "followers_url": "https://api.github.com/users/ryanschneider/followers",
      "following_url": "https://api.github.com/users/ryanschneider/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanschneider/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanschneider/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanschneider/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanschneider/orgs",
      "repos_url": "https://api.github.com/users/ryanschneider/repos",
      "events_url": "https://api.github.com/users/ryanschneider/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanschneider/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-12T00:16:56Z",
    "updated_at": "2018-01-12T00:16:56Z",
    "author_association": "CONTRIBUTOR",
    "body": "Ok, I just took what was a slow estimateGas RPC and turned it into an `eth_call` where I targeted first latest and then pending.  So something like:\r\n\r\n```\r\n$PAYLOAD='{ ... }'\r\ntime curl http://0.0.0.0:8545 -X POST  -H \"Content-Type: application/json\" -d '{\"id\":1,\"jsonrpc\":\"2.0\",\"params\":[ $PAYLOAD, \"latest\" ], \"method\":\"eth_call\"}'\r\n\r\ntime curl http://0.0.0.0:8545 -X POST  -H \"Content-Type: application/json\" -d '{\"id\":2,\"jsonrpc\":\"2.0\",\"params\":[ $PAYLOAD, \"pending\" ], \"method\":\"eth_call\"}'\r\n```\r\n\r\nThat is, do the same `eth_call` payload twice in a row, once on `latest` and once on `pending`, and got back these results:\r\n\r\n```\r\n{\"jsonrpc\":\"2.0\",\"id\":1,\"result\":\"...\"}\r\n\r\nreal\t0m0.014s\r\nuser\t0m0.004s\r\nsys\t0m0.000s\r\n{\"jsonrpc\":\"2.0\",\"id\":2,\"result\":\"...\"}\r\n\r\nreal\t0m6.572s\r\nuser\t0m0.004s\r\nsys\t0m0.000s\r\n```\r\n\r\nThis is on a node that's processing other `estimateGas` calls, as well as normal devp2p traffic.\r\n\r\nSometimes they both take roughly the same time (10s of milliseconds), but very often the 'pending' one takes 6-10 seconds.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/357104227/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/458466359",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15739#issuecomment-458466359",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15739",
    "id": 458466359,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1ODQ2NjM1OQ==",
    "user": {
      "login": "fjl",
      "id": 6915,
      "node_id": "MDQ6VXNlcjY5MTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6915?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjl",
      "html_url": "https://github.com/fjl",
      "followers_url": "https://api.github.com/users/fjl/followers",
      "following_url": "https://api.github.com/users/fjl/following{/other_user}",
      "gists_url": "https://api.github.com/users/fjl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fjl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fjl/subscriptions",
      "organizations_url": "https://api.github.com/users/fjl/orgs",
      "repos_url": "https://api.github.com/users/fjl/repos",
      "events_url": "https://api.github.com/users/fjl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fjl/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-29T09:21:31Z",
    "updated_at": "2019-01-29T09:21:31Z",
    "author_association": "MEMBER",
    "body": "This is too old to do anything meaningful. Some amount of fluctuation is to be expected when interacting with the pending state because access to it must synchronize with generation of the pending state.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/458466359/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
