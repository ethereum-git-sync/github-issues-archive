{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21911",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21911/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21911/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21911/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/21911",
  "id": 752108247,
  "node_id": "MDU6SXNzdWU3NTIxMDgyNDc=",
  "number": 21911,
  "title": "Can't figure out how to run own geth node for web3",
  "user": {
    "login": "thestick613",
    "id": 1608525,
    "node_id": "MDQ6VXNlcjE2MDg1MjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1608525?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/thestick613",
    "html_url": "https://github.com/thestick613",
    "followers_url": "https://api.github.com/users/thestick613/followers",
    "following_url": "https://api.github.com/users/thestick613/following{/other_user}",
    "gists_url": "https://api.github.com/users/thestick613/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/thestick613/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/thestick613/subscriptions",
    "organizations_url": "https://api.github.com/users/thestick613/orgs",
    "repos_url": "https://api.github.com/users/thestick613/repos",
    "events_url": "https://api.github.com/users/thestick613/events{/privacy}",
    "received_events_url": "https://api.github.com/users/thestick613/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 268304226,
      "node_id": "MDU6TGFiZWwyNjgzMDQyMjY=",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:docs",
      "name": "type:docs",
      "color": "fef2c0",
      "default": false,
      "description": null
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2020-11-27T09:27:12Z",
  "updated_at": "2020-12-03T10:23:08Z",
  "closed_at": "2020-12-03T10:23:08Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Hello,\r\n\r\nI've been using infura and linkpool as web3 providers:\r\nfrom web3 import Web3\r\n```\r\n# w3 = Web3(Web3.HTTPProvider('https://main-rpc.linkpool.io'))\r\n# w3 = Web3(Web3.HTTPProvider('https://mainnet.infura.io/v3/XxxxxxxxXXxxxxxxxxxxxxxxxxxxx/'))\r\n```\r\nbut decided to run my own node, for better performance. I downloaded `geth-linux-amd64-1.9.24` and ran it like this:\r\n`geth --cache 6144 --rpcapi admin,db,eth,debug,miner,net,shh,txpool,personal,web3 --rpcport 8080 --rpccorsdomain \"*\" --rpcaddr \"127.0.0.1\" --rpc`\r\n\r\n`geth attach` and `eth.syncing` shows me\r\n```\r\n  currentBlock: 11339623,\r\n  highestBlock: 11339709,\r\n```\r\nSo i guess i'm synced.\r\nHowever, when i run `w3.eth.getBalance(some_address)`, it returns 0. When i use linkpool or infura, i get a different value.\r\n\r\nI'm also unable to interact with tether:\r\n\r\n```\r\nERC20_ABI = [..]\r\ntether_contract = w3.eth.contract('0xdAC17F958D2ee523a2206206994597C13D831ec7', abi=ERC20_ABI)\r\ntether_contract.functions.balanceOf(that_address).call()\r\n```\r\n\r\n```\r\nTraceback (most recent call last):\r\n  File \"/usr/local/lib/python3.6/dist-packages/web3/contract.py\", line 1507, in call_contract_function\r\n    output_data = web3.codec.decode_abi(output_types, return_data)\r\n  File \"/usr/local/lib/python3.6/dist-packages/eth_abi/codec.py\", line 181, in decode_abi\r\n    return decoder(stream)\r\n  File \"/usr/local/lib/python3.6/dist-packages/eth_abi/decoding.py\", line 127, in __call__\r\n    return self.decode(stream)\r\n  File \"/usr/local/lib/python3.6/dist-packages/eth_utils/functional.py\", line 45, in inner\r\n    return callback(fn(*args, **kwargs))\r\n  File \"/usr/local/lib/python3.6/dist-packages/eth_abi/decoding.py\", line 173, in decode\r\n    yield decoder(stream)\r\n  File \"/usr/local/lib/python3.6/dist-packages/eth_abi/decoding.py\", line 127, in __call__\r\n    return self.decode(stream)\r\n  File \"/usr/local/lib/python3.6/dist-packages/eth_abi/decoding.py\", line 198, in decode\r\n    raw_data = self.read_data_from_stream(stream)\r\n  File \"/usr/local/lib/python3.6/dist-packages/eth_abi/decoding.py\", line 308, in read_data_from_stream\r\n    len(data),\r\neth_abi.exceptions.InsufficientDataBytes: Tried to read 32 bytes.  Only got 0 bytes\r\n\r\nThe above exception was the direct cause of the following exception:\r\n\r\nTraceback (most recent call last):\r\n  File \"testcode.py\", line 46, in <module>\r\n    usdt_balance = tether_contract.functions.balanceOf(that_address).call()\r\n  File \"/usr/local/lib/python3.6/dist-packages/web3/contract.py\", line 964, in call\r\n    **self.kwargs\r\n  File \"/usr/local/lib/python3.6/dist-packages/web3/contract.py\", line 1528, in call_contract_function\r\n    raise BadFunctionCallOutput(msg) from e\r\nweb3.exceptions.BadFunctionCallOutput: Could not transact with/call contract function, is contract deployed correctly and chain synced?\r\n```\r\n\r\nWhat am i doing wrong?",
  "closed_by": {
    "login": "MariusVanDerWijden",
    "id": 16664698,
    "node_id": "MDQ6VXNlcjE2NjY0Njk4",
    "avatar_url": "https://avatars.githubusercontent.com/u/16664698?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/MariusVanDerWijden",
    "html_url": "https://github.com/MariusVanDerWijden",
    "followers_url": "https://api.github.com/users/MariusVanDerWijden/followers",
    "following_url": "https://api.github.com/users/MariusVanDerWijden/following{/other_user}",
    "gists_url": "https://api.github.com/users/MariusVanDerWijden/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/MariusVanDerWijden/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/MariusVanDerWijden/subscriptions",
    "organizations_url": "https://api.github.com/users/MariusVanDerWijden/orgs",
    "repos_url": "https://api.github.com/users/MariusVanDerWijden/repos",
    "events_url": "https://api.github.com/users/MariusVanDerWijden/events{/privacy}",
    "received_events_url": "https://api.github.com/users/MariusVanDerWijden/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21911/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21911/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/735284495",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/21911#issuecomment-735284495",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21911",
    "id": 735284495,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczNTI4NDQ5NQ==",
    "user": {
      "login": "bitwise343",
      "id": 19704046,
      "node_id": "MDQ6VXNlcjE5NzA0MDQ2",
      "avatar_url": "https://avatars.githubusercontent.com/u/19704046?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bitwise343",
      "html_url": "https://github.com/bitwise343",
      "followers_url": "https://api.github.com/users/bitwise343/followers",
      "following_url": "https://api.github.com/users/bitwise343/following{/other_user}",
      "gists_url": "https://api.github.com/users/bitwise343/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bitwise343/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bitwise343/subscriptions",
      "organizations_url": "https://api.github.com/users/bitwise343/orgs",
      "repos_url": "https://api.github.com/users/bitwise343/repos",
      "events_url": "https://api.github.com/users/bitwise343/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bitwise343/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-28T20:07:28Z",
    "updated_at": "2020-11-28T20:07:28Z",
    "author_association": "NONE",
    "body": "Hi. This is pretty straightforward to fix: you just have to wait longer, because you are **not synced** yet. When your node has finished syncing, calling `eth.syncing` will return `false`.\r\n\r\nThe last chunk of blocks to sync takes a long time, and it varies depending on your hardware/network.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/735284495/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/735296375",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/21911#issuecomment-735296375",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21911",
    "id": 735296375,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczNTI5NjM3NQ==",
    "user": {
      "login": "thestick613",
      "id": 1608525,
      "node_id": "MDQ6VXNlcjE2MDg1MjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1608525?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thestick613",
      "html_url": "https://github.com/thestick613",
      "followers_url": "https://api.github.com/users/thestick613/followers",
      "following_url": "https://api.github.com/users/thestick613/following{/other_user}",
      "gists_url": "https://api.github.com/users/thestick613/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thestick613/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thestick613/subscriptions",
      "organizations_url": "https://api.github.com/users/thestick613/orgs",
      "repos_url": "https://api.github.com/users/thestick613/repos",
      "events_url": "https://api.github.com/users/thestick613/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thestick613/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-28T22:05:59Z",
    "updated_at": "2020-11-28T22:05:59Z",
    "author_association": "NONE",
    "body": "Hello,\r\n\r\nYou are right, it works now.\r\nThanks",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/735296375/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
