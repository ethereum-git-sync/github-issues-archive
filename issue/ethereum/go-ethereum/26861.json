{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26861",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26861/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26861/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26861/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/26861",
  "id": 1619943932,
  "node_id": "I_kwDOAOvK985gjmH8",
  "number": 26861,
  "title": "`t8n` tool behaves differently for different unsupported transaction types",
  "user": {
    "login": "gurukamath",
    "id": 48196632,
    "node_id": "MDQ6VXNlcjQ4MTk2NjMy",
    "avatar_url": "https://avatars.githubusercontent.com/u/48196632?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gurukamath",
    "html_url": "https://github.com/gurukamath",
    "followers_url": "https://api.github.com/users/gurukamath/followers",
    "following_url": "https://api.github.com/users/gurukamath/following{/other_user}",
    "gists_url": "https://api.github.com/users/gurukamath/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gurukamath/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gurukamath/subscriptions",
    "organizations_url": "https://api.github.com/users/gurukamath/orgs",
    "repos_url": "https://api.github.com/users/gurukamath/repos",
    "events_url": "https://api.github.com/users/gurukamath/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gurukamath/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 72233650,
      "node_id": "MDU6TGFiZWw3MjIzMzY1MA==",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:bug",
      "name": "type:bug",
      "color": "FF5E5E",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2023-03-11T09:22:02Z",
  "updated_at": "2023-03-11T15:57:54Z",
  "closed_at": "2023-03-11T15:57:53Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nGeth version: `geth version`\r\nCL client & version: e.g. lighthouse/nimbus/prysm@v1.0.0\r\nOS & Version: OSX\r\nCommit hash : `master` (789de23d16045190af3ace2276ea3957190e869b)\r\n\r\n#### Expected behaviour\r\nWhen a `1559` transaction is passed to a fork prior to `London`, the `t8n` tool does not quit with an error. It also outputs the `alloc.json` and `results.json` with the unsupported transaction in the `rejected` list.\r\n\r\n\r\nHowever, if an `AccessListTransaction` is passed to a fork prior to `Berlin`, the tool quits and no `alloc.json` and `result.json` are written.\r\n\r\n#### Actual behaviour\r\nThe behaviour should probably be the same since the issue is similar.\r\n\r\n#### Steps to reproduce the behaviour\r\n\r\n1559 Transaction\r\n\r\n```\r\n./evm t8n --input.alloc testdata/10/alloc.json --input.env testdata/10/env.json --input.txs testdata/10/txs.json --state.fork Frontier\r\n```\r\n\r\n\r\n```\r\nWARN [03-11|10:15:38.265] rejected tx                              index=0 hash=88980f..206701 error=\"transaction type not supported\"\r\nWARN [03-11|10:15:38.265] rejected tx                              index=1 hash=d7bf38..757582 error=\"transaction type not supported\"\r\nWARN [03-11|10:15:38.265] rejected tx                              index=2 hash=503082..4923db error=\"transaction type not supported\"\r\nWARN [03-11|10:15:38.265] rejected tx                              index=3 hash=db07bf..ede1e8 error=\"transaction type not supported\"\r\nINFO [03-11|10:15:38.265] Trie dumping started                     root=cb88fe..096060\r\nINFO [03-11|10:15:38.265] Trie dumping complete                    accounts=4 elapsed=\"42.834Âµs\"\r\nINFO [03-11|10:15:38.265] Wrote file                               file=alloc.json\r\nINFO [03-11|10:15:38.266] Wrote file                               file=result.json\r\n```\r\n\r\n\r\n`AccessListTransaction`\r\n\r\n```\r\n./evm t8n --input.alloc testdata/8/alloc.json --input.env testdata/8/env.json --input.txs testdata/8/txs.json --state.fork Frontier\r\n```\r\n\r\n```\r\nERROR(10): failed signing transactions: ERROR(10): tx 0: failed to sign tx: transaction type not supported\r\n```\r\n\r\n",
  "closed_by": {
    "login": "gurukamath",
    "id": 48196632,
    "node_id": "MDQ6VXNlcjQ4MTk2NjMy",
    "avatar_url": "https://avatars.githubusercontent.com/u/48196632?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gurukamath",
    "html_url": "https://github.com/gurukamath",
    "followers_url": "https://api.github.com/users/gurukamath/followers",
    "following_url": "https://api.github.com/users/gurukamath/following{/other_user}",
    "gists_url": "https://api.github.com/users/gurukamath/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gurukamath/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gurukamath/subscriptions",
    "organizations_url": "https://api.github.com/users/gurukamath/orgs",
    "repos_url": "https://api.github.com/users/gurukamath/repos",
    "events_url": "https://api.github.com/users/gurukamath/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gurukamath/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26861/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26861/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1464870686",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/26861#issuecomment-1464870686",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26861",
    "id": 1464870686,
    "node_id": "IC_kwDOAOvK985XUCce",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-03-11T09:30:17Z",
    "updated_at": "2023-03-11T09:30:17Z",
    "author_association": "MEMBER",
    "body": "No, I think the difference is if you sign it yourself or ask t8n to sign it. If you ask t8n to sign it for you, it uses the latest signer for that fork. And thus fails to sign it. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1464870686/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1464941401",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/26861#issuecomment-1464941401",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26861",
    "id": 1464941401,
    "node_id": "IC_kwDOAOvK985XUTtZ",
    "user": {
      "login": "gurukamath",
      "id": 48196632,
      "node_id": "MDQ6VXNlcjQ4MTk2NjMy",
      "avatar_url": "https://avatars.githubusercontent.com/u/48196632?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gurukamath",
      "html_url": "https://github.com/gurukamath",
      "followers_url": "https://api.github.com/users/gurukamath/followers",
      "following_url": "https://api.github.com/users/gurukamath/following{/other_user}",
      "gists_url": "https://api.github.com/users/gurukamath/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gurukamath/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gurukamath/subscriptions",
      "organizations_url": "https://api.github.com/users/gurukamath/orgs",
      "repos_url": "https://api.github.com/users/gurukamath/repos",
      "events_url": "https://api.github.com/users/gurukamath/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gurukamath/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-03-11T15:57:53Z",
    "updated_at": "2023-03-11T15:57:53Z",
    "author_association": "CONTRIBUTOR",
    "body": "Thank you. I missed this distinction.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1464941401/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
