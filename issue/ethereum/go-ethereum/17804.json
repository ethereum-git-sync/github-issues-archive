{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17804",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17804/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17804/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17804/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/17804",
  "id": 365701472,
  "node_id": "MDU6SXNzdWUzNjU3MDE0NzI=",
  "number": 17804,
  "title": "Geth sync keep going behind but it say syncing false",
  "user": {
    "login": "donamk",
    "id": 816815,
    "node_id": "MDQ6VXNlcjgxNjgxNQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/816815?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/donamk",
    "html_url": "https://github.com/donamk",
    "followers_url": "https://api.github.com/users/donamk/followers",
    "following_url": "https://api.github.com/users/donamk/following{/other_user}",
    "gists_url": "https://api.github.com/users/donamk/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/donamk/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/donamk/subscriptions",
    "organizations_url": "https://api.github.com/users/donamk/orgs",
    "repos_url": "https://api.github.com/users/donamk/repos",
    "events_url": "https://api.github.com/users/donamk/events{/privacy}",
    "received_events_url": "https://api.github.com/users/donamk/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 856638432,
      "node_id": "MDU6TGFiZWw4NTY2Mzg0MzI=",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/status:inactive",
      "name": "status:inactive",
      "color": "ffffff",
      "default": false,
      "description": null
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2018-10-02T01:12:50Z",
  "updated_at": "2019-11-14T02:47:21Z",
  "closed_at": "2019-11-14T02:47:21Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "I have no idea why my node keep going behind the sync.\r\nMy node is using SSD. \r\nUsually geth is working around 2 days, however, after 2 or 3 days, geth start to show the following errors and do not sync anymore.\r\n\r\n```\r\nWARN [10-02|07:49:50.653] Synchronisation failed, dropping peer    peer=bfd46000bb9e14c3 err=timeout\r\nWARN [10-02|07:52:17.355] Synchronisation failed, dropping peer    peer=34945878fa43ab2d err=timeout\r\nWARN [10-02|07:53:47.076] Synchronisation failed, dropping peer    peer=9311269287f37080 err=timeout\r\nWARN [10-02|07:55:06.901] Synchronisation failed, dropping peer    peer=0572338f298a2889 err=timeout\r\nWARN [10-02|07:57:06.826] Synchronisation failed, dropping peer    peer=64fe713f5a5421cc err=timeout\r\nWARN [10-02|07:59:56.826] Synchronisation failed, dropping peer    peer=99acc69269794c5d err=timeout\r\nWARN [10-02|08:00:50.187] Synchronisation failed, dropping peer    peer=b759f9376fd09b1d err=timeout\r\nWARN [10-02|08:02:16.827] Synchronisation failed, dropping peer    peer=473381835eb56228 err=timeout\r\n```\r\n\r\nso I kill the geth using kill -9 and then start geth again\r\nit shows incredeible amount of following log before start `Imported new chain segment` log come out.\r\n\r\n```\r\nINFO [10-02|08:14:00.770] Setting new local account                address=0x6AC34E4F5872B8411675714E09D8912847c23957\r\nINFO [10-02|08:14:00.783] Setting new local account                address=0x7c7AeE453BfBeDF52919216ED915a93C1B126CD7\r\nINFO [10-02|08:14:01.082] Setting new local account                address=0x1F971Ca87a67d73BbF0eA932B5aF0a5bDcE8233c\r\nINFO [10-02|08:14:01.093] Setting new local account                address=0x3648174514D9b7E1347de9b76A3097c79467A84D\r\nINFO [10-02|08:14:01.105] Setting new local account                address=0xFb1992Cc798041aA959F802eB9cD109272F76f8B\r\n...\r\n```\r\n\r\nWhen I check the `Setting new local account` log, it seems like txpool log. Not acutal local account.\r\n\r\n#### System information\r\n\r\nGeth version: 1.8.16\r\nOS & Version: Ubuntu xenial\r\nCommit hash : (if `develop`)\r\n\r\n#### Expected behaviour\r\nSync working well\r\n\r\n#### Actual behaviour\r\nAround two or threes days after start, it shows `Synchronisation failed, dropping peer` log and then stop sync however eth.syncing shows false\r\n\r\n#### Steps to reproduce the behaviour\r\nNo idea\r\n\r\n#### geth config file\r\n```\r\n[Eth]\r\nNetworkId = 1\r\nSyncMode = \"fast\"\r\nNoPruning = false\r\nLightPeers = 100\r\nDatabaseCache = 768\r\nTrieCache = 256\r\nTrieTimeout = 3600000000000\r\nMinerGasFloor = 8000000\r\nMinerGasCeil = 8000000\r\nMinerGasPrice = 1000000000\r\nMinerRecommit = 3000000000\r\nMinerNoverify = false\r\nEnablePreimageRecording = false\r\n\r\n[Eth.Ethash]\r\nCacheDir = \"ethash\"\r\nCachesInMem = 2\r\nCachesOnDisk = 3\r\nDatasetDir = \"/root/.ethash\"\r\nDatasetsInMem = 1\r\nDatasetsOnDisk = 2\r\nPowMode = 0\r\n\r\n[Eth.TxPool]\r\nLocals = []\r\nNoLocals = false\r\nJournal = \"transactions.rlp\"\r\nRejournal = 3600000000000\r\nPriceLimit = 1\r\nPriceBump = 10\r\nAccountSlots = 16\r\nGlobalSlots = 4096\r\nAccountQueue = 64\r\nGlobalQueue = 1024\r\nLifetime = 10800000000000\r\n\r\n[Eth.GPO]\r\nBlocks = 20\r\nPercentile = 60\r\n\r\n[Shh]\r\nMaxMessageSize = 1048576\r\nMinimumAcceptedPOW = 2e-01\r\nRestrictConnectionBetweenLightClients = true\r\n\r\n[Node]\r\nDataDir = \"/data/ethereum/mainnet\"\r\nIPCPath = \"geth.ipc\"\r\nHTTPHost = \"127.0.0.1\"\r\nHTTPPort = 8545\r\nHTTPCors = [\"*\"]\r\nHTTPVirtualHosts = [\"localhost\"]\r\nHTTPModules = [\"eth\", \"shh\", \"net\", \"web3\"]\r\nWSPort = 8546\r\nWSModules = [\"net\", \"web3\", \"eth\", \"shh\"]\r\n\r\n[Node.P2P]\r\nMaxPeers = 25\r\nNoDiscovery = false\r\nBootstrapNodes = [\"enode://a979fb575495b8d6db44f750317d0f4622bf4c2aa3365d6af7c284339968eef29b69ad0dce72a4d8db5ebb4968de0e3bec910127f134779fbcb0cb6d3331163c@52.16.188.185:30303\", \"enode://3f1d12044546b76342d59d4a05532c14b85aa669704bfe1f864fe079415aa2c02d743e03218e57a33fb94523adb54032871a6c51b2cc5514cb7c7e35b3ed0a99@13.93.211.84:30303\", \"enode://78de8a0916848093c73790ead81d1928bec737d565119932b98c6b100d944b7a95e94f847f689fc723399d2e31129d182f7ef3863f2b4c820abbf3ab2722344d@191.235.84.50:30303\", \"enode://158f8aab45f6d19c6cbf4a089c2670541a8da11978a2f90dbf6a502a4a3bab80d288afdbeb7ec0ef6d92de563767f3b1ea9e8e334ca711e9f8e2df5a0385e8e6@13.75.154.138:30303\", \"enode://1118980bf48b0a3640bdba04e0fe78b1add18e1cd99bf22d53daac1fd9972ad650df52176e7c7d89d1114cfef2bc23a2959aa54998a46afcf7d91809f0855082@52.74.57.123:30303\", \"enode://979b7fa28feeb35a4741660a16076f1943202cb72b6af70d327f053e248bab9ba81760f39d0701ef1d8f89cc1fbd2cacba0710a12cd5314d5e0c9021aa3637f9@5.1.83.226:30303\"]\r\nBootstrapNodesV5 = [\"enode://06051a5573c81934c9554ef2898eb13b33a34b94cf36b202b69fde139ca17a85051979867720d4bdae4323d4943ddf9aeeb6643633aa656e0be843659795007a@35.177.226.168:30303\", \"enode://0cc5f5ffb5d9098c8b8c62325f3797f56509bff942704687b6530992ac706e2cb946b90a34f1f19548cd3c7baccbcaea354531e5983c7d1bc0dee16ce4b6440b@40.118.3.223:30304\", \"enode://1c7a64d76c0334b0418c004af2f67c50e36a3be60b5e4790bdac0439d21603469a85fad36f2473c9a80eb043ae60936df905fa28f1ff614c3e5dc34f15dcd2dc@40.118.3.223:30306\", \"enode://85c85d7143ae8bb96924f2b54f1b3e70d8c4d367af305325d30a61385a432f247d2c75c45c6b4a60335060d072d7f5b35dd1d4c45f76941f62a4f83b6e75daaf@40.118.3.223:30307\"]\r\nStaticNodes = []\r\nTrustedNodes = []\r\nListenAddr = \":30303\"\r\nEnableMsgEvents = false\r\n\r\n[Node.HTTPTimeouts]\r\nReadTimeout = 30000000000\r\nWriteTimeout = 30000000000\r\nIdleTimeout = 120000000000\r\n\r\n[Dashboard]\r\nHost = \"localhost\"\r\nPort = 8080\r\nRefresh = 500000000\r\n```\r\n",
  "closed_by": {
    "login": "stale[bot]",
    "id": 26384082,
    "node_id": "MDM6Qm90MjYzODQwODI=",
    "avatar_url": "https://avatars.githubusercontent.com/in/1724?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/stale%5Bbot%5D",
    "html_url": "https://github.com/apps/stale",
    "followers_url": "https://api.github.com/users/stale%5Bbot%5D/followers",
    "following_url": "https://api.github.com/users/stale%5Bbot%5D/following{/other_user}",
    "gists_url": "https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/stale%5Bbot%5D/subscriptions",
    "organizations_url": "https://api.github.com/users/stale%5Bbot%5D/orgs",
    "repos_url": "https://api.github.com/users/stale%5Bbot%5D/repos",
    "events_url": "https://api.github.com/users/stale%5Bbot%5D/events{/privacy}",
    "received_events_url": "https://api.github.com/users/stale%5Bbot%5D/received_events",
    "type": "Bot",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17804/reactions",
    "total_count": 3,
    "+1": 3,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17804/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/537756256",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/17804#issuecomment-537756256",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17804",
    "id": 537756256,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzNzc1NjI1Ng==",
    "user": {
      "login": "stale[bot]",
      "id": 26384082,
      "node_id": "MDM6Qm90MjYzODQwODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/1724?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stale%5Bbot%5D",
      "html_url": "https://github.com/apps/stale",
      "followers_url": "https://api.github.com/users/stale%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/stale%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stale%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/stale%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/stale%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/stale%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stale%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2019-10-03T02:15:09Z",
    "updated_at": "2019-10-03T02:15:09Z",
    "author_association": "NONE",
    "body": "This issue has been automatically marked as stale because it has not had recent activity. It will be closed if no further activity occurs. Thank you for your contributions.\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/537756256/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
