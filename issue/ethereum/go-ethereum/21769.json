{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21769",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21769/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21769/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21769/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/21769",
  "id": 733489684,
  "node_id": "MDU6SXNzdWU3MzM0ODk2ODQ=",
  "number": 21769,
  "title": "Speed of RPC execution - speed of estimate gas execution - number of ethclient handles ",
  "user": {
    "login": "fxfactorial",
    "id": 3036816,
    "node_id": "MDQ6VXNlcjMwMzY4MTY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/3036816?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/fxfactorial",
    "html_url": "https://github.com/fxfactorial",
    "followers_url": "https://api.github.com/users/fxfactorial/followers",
    "following_url": "https://api.github.com/users/fxfactorial/following{/other_user}",
    "gists_url": "https://api.github.com/users/fxfactorial/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/fxfactorial/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/fxfactorial/subscriptions",
    "organizations_url": "https://api.github.com/users/fxfactorial/orgs",
    "repos_url": "https://api.github.com/users/fxfactorial/repos",
    "events_url": "https://api.github.com/users/fxfactorial/events{/privacy}",
    "received_events_url": "https://api.github.com/users/fxfactorial/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2020-10-30T20:19:12Z",
  "updated_at": "2021-11-03T18:13:54Z",
  "closed_at": "2021-11-03T18:13:54Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "Several questions of which its hard to find any notes about \r\n\r\nLooking for insight into how to increase the speed of execution of RPC calls - that is - does the size of the txn pool have any bearing on how quickly the RPC calls go through ? (assume IPC connection used) (wondering if dropping in https://github.com/valyala/fastjson would increase speed) \r\n\r\nOr does the size of the txn pool have any bearing on the speed at which estimate gas goes through - is there any tip/trick to make estimate gas go faster? why is it so slow \r\n\r\nWhat about the number of ethclient handles made? Is it better to have one handle with many queries that hit it up or to have many ethclients ? ",
  "closed_by": {
    "login": "holiman",
    "id": 142290,
    "node_id": "MDQ6VXNlcjE0MjI5MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/holiman",
    "html_url": "https://github.com/holiman",
    "followers_url": "https://api.github.com/users/holiman/followers",
    "following_url": "https://api.github.com/users/holiman/following{/other_user}",
    "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
    "organizations_url": "https://api.github.com/users/holiman/orgs",
    "repos_url": "https://api.github.com/users/holiman/repos",
    "events_url": "https://api.github.com/users/holiman/events{/privacy}",
    "received_events_url": "https://api.github.com/users/holiman/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21769/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21769/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/734189527",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/21769#issuecomment-734189527",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21769",
    "id": 734189527,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczNDE4OTUyNw==",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-26T09:41:36Z",
    "updated_at": "2020-11-26T09:41:36Z",
    "author_association": "MEMBER",
    "body": "More info about eth calls in general can be found here: https://github.com/ethereum/go-ethereum/issues/21772",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/734189527/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/734191056",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/21769#issuecomment-734191056",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21769",
    "id": 734191056,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczNDE5MTA1Ng==",
    "user": {
      "login": "ligi",
      "id": 111600,
      "node_id": "MDQ6VXNlcjExMTYwMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/111600?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ligi",
      "html_url": "https://github.com/ligi",
      "followers_url": "https://api.github.com/users/ligi/followers",
      "following_url": "https://api.github.com/users/ligi/following{/other_user}",
      "gists_url": "https://api.github.com/users/ligi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ligi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ligi/subscriptions",
      "organizations_url": "https://api.github.com/users/ligi/orgs",
      "repos_url": "https://api.github.com/users/ligi/repos",
      "events_url": "https://api.github.com/users/ligi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ligi/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-26T09:44:29Z",
    "updated_at": "2020-11-26T09:44:29Z",
    "author_association": "MEMBER",
    "body": "The bottleneck is most likely the EVM execution. Gas estimation is basically doing a binary search to find the smallest gas price where the tx still succeeds. Things like JSON parsing are not really relevant performance wise here.\r\nWe do not really see ways to improve the situation. Ideas welcome - otherwise we can just recommend more computing power.\r\nIf you see it differently please provide us with numbers/benchmarks.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/734191056/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/744059848",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/21769#issuecomment-744059848",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21769",
    "id": 744059848,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc0NDA1OTg0OA==",
    "user": {
      "login": "fxfactorial",
      "id": 3036816,
      "node_id": "MDQ6VXNlcjMwMzY4MTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3036816?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fxfactorial",
      "html_url": "https://github.com/fxfactorial",
      "followers_url": "https://api.github.com/users/fxfactorial/followers",
      "following_url": "https://api.github.com/users/fxfactorial/following{/other_user}",
      "gists_url": "https://api.github.com/users/fxfactorial/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fxfactorial/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fxfactorial/subscriptions",
      "organizations_url": "https://api.github.com/users/fxfactorial/orgs",
      "repos_url": "https://api.github.com/users/fxfactorial/repos",
      "events_url": "https://api.github.com/users/fxfactorial/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fxfactorial/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-12-13T19:57:19Z",
    "updated_at": "2020-12-13T19:57:19Z",
    "author_association": "CONTRIBUTOR",
    "body": "@ligi do you mean the loop run in `(Interpreter).Run()`? that is, the majority of time spent is there",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/744059848/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/747283446",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/21769#issuecomment-747283446",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21769",
    "id": 747283446,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc0NzI4MzQ0Ng==",
    "user": {
      "login": "MariusVanDerWijden",
      "id": 16664698,
      "node_id": "MDQ6VXNlcjE2NjY0Njk4",
      "avatar_url": "https://avatars.githubusercontent.com/u/16664698?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MariusVanDerWijden",
      "html_url": "https://github.com/MariusVanDerWijden",
      "followers_url": "https://api.github.com/users/MariusVanDerWijden/followers",
      "following_url": "https://api.github.com/users/MariusVanDerWijden/following{/other_user}",
      "gists_url": "https://api.github.com/users/MariusVanDerWijden/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MariusVanDerWijden/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MariusVanDerWijden/subscriptions",
      "organizations_url": "https://api.github.com/users/MariusVanDerWijden/orgs",
      "repos_url": "https://api.github.com/users/MariusVanDerWijden/repos",
      "events_url": "https://api.github.com/users/MariusVanDerWijden/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MariusVanDerWijden/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-12-17T08:12:09Z",
    "updated_at": "2020-12-17T08:12:09Z",
    "author_association": "MEMBER",
    "body": "Which loop are you referring too? `core/vm/interpreter.go:210` ? This is the main loop of the EVM that executes the opcodes of the  smart contract. So this is the most compute intensive loop and by far the biggest holdup which can not be optimized away of course. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/747283446/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/959796697",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/21769#issuecomment-959796697",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21769",
    "id": 959796697,
    "node_id": "IC_kwDOAOvK9845NVXZ",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-11-03T18:13:54Z",
    "updated_at": "2021-11-03T18:13:54Z",
    "author_association": "MEMBER",
    "body": "This isn't really a bug report, rather a pretty vague set of questions, which have been mostly answered. Closing ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/959796697/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
