{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26293",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26293/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26293/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26293/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/26293",
  "id": 1473887114,
  "node_id": "I_kwDOAOvK985X2buK",
  "number": 26293,
  "title": "`Unhandled trie error in Trie.Prove` with experimental pbss",
  "user": {
    "login": "yorickdowne",
    "id": 71337066,
    "node_id": "MDQ6VXNlcjcxMzM3MDY2",
    "avatar_url": "https://avatars.githubusercontent.com/u/71337066?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/yorickdowne",
    "html_url": "https://github.com/yorickdowne",
    "followers_url": "https://api.github.com/users/yorickdowne/followers",
    "following_url": "https://api.github.com/users/yorickdowne/following{/other_user}",
    "gists_url": "https://api.github.com/users/yorickdowne/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/yorickdowne/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/yorickdowne/subscriptions",
    "organizations_url": "https://api.github.com/users/yorickdowne/orgs",
    "repos_url": "https://api.github.com/users/yorickdowne/repos",
    "events_url": "https://api.github.com/users/yorickdowne/events{/privacy}",
    "received_events_url": "https://api.github.com/users/yorickdowne/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 72233650,
      "node_id": "MDU6TGFiZWw3MjIzMzY1MA==",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:bug",
      "name": "type:bug",
      "color": "FF5E5E",
      "default": false,
      "description": ""
    },
    {
      "id": 4880434652,
      "node_id": "LA_kwDOAOvK988AAAABIuWF3A",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/pbss",
      "name": "pbss",
      "color": "8BED5C",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": {
    "login": "rjl493456442",
    "id": 5959481,
    "node_id": "MDQ6VXNlcjU5NTk0ODE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5959481?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/rjl493456442",
    "html_url": "https://github.com/rjl493456442",
    "followers_url": "https://api.github.com/users/rjl493456442/followers",
    "following_url": "https://api.github.com/users/rjl493456442/following{/other_user}",
    "gists_url": "https://api.github.com/users/rjl493456442/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/rjl493456442/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/rjl493456442/subscriptions",
    "organizations_url": "https://api.github.com/users/rjl493456442/orgs",
    "repos_url": "https://api.github.com/users/rjl493456442/repos",
    "events_url": "https://api.github.com/users/rjl493456442/events{/privacy}",
    "received_events_url": "https://api.github.com/users/rjl493456442/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "rjl493456442",
      "id": 5959481,
      "node_id": "MDQ6VXNlcjU5NTk0ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5959481?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rjl493456442",
      "html_url": "https://github.com/rjl493456442",
      "followers_url": "https://api.github.com/users/rjl493456442/followers",
      "following_url": "https://api.github.com/users/rjl493456442/following{/other_user}",
      "gists_url": "https://api.github.com/users/rjl493456442/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rjl493456442/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rjl493456442/subscriptions",
      "organizations_url": "https://api.github.com/users/rjl493456442/orgs",
      "repos_url": "https://api.github.com/users/rjl493456442/repos",
      "events_url": "https://api.github.com/users/rjl493456442/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rjl493456442/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 13,
  "created_at": "2022-12-03T10:08:55Z",
  "updated_at": "2022-12-20T01:27:26Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nGeth version: `1.11.0-unstable`\r\nCL client & version: Teku `v22.11.0`\r\nCommit hash : `eb57884596df203c40c3144ed51542bb7e9ef3e8`, PR https://github.com/ethereum/go-ethereum/pull/26274\r\n\r\n#### Observation\r\n\r\nOn a fresh sync on mainnet with `--trie.path-based=true`, Geth is following chain head after sync and prints errors about `missing trie node 746d39f09b4c5c1b26ce016fcc3468c88eddecb18b0897b6e031d49925b8d1ab`\r\n\r\nThis is a test system. It's understood pbss is experimental and not production-ready.\r\n\r\n#### Logs\r\n\r\nLogs when this error first occurred. I don't have debug logs, alas. This is not quite 2 hours after initial sync finished.\r\n\r\n````\r\nexecution_1                  | INFO [12-03|04:11:24.563] Imported new potential chain segment     number=16,101,815 hash=10f4c6..2c31c7 blocks=1       txs=119         mgas=15.294  elapsed=245.149ms    mgasps=62.387  dirty=388.29MiB\r\nexecution_1                  | INFO [12-03|04:11:24.582] Chain head was updated                   number=16,101,815 hash=10f4c6..2c31c7 root=97b340..1bf986 elapsed=4.236644ms\r\nexecution_1                  | INFO [12-03|04:11:32.553] Generating state snapshot                root=99d3be..61f40b in=6f898e..db63e9 at=8dc388..9b5775 accounts=83,119,824           slots=375,464,680           storage=30.58GiB   dangling=0 elapsed=1h49m15.223s eta=2h21m30.298s\r\nexecution_1                  | INFO [12-03|04:11:37.649] Aborting state snapshot generation       root=99d3be..61f40b in=6f898e..db63e9 at=d513d8..396ca5 accounts=83,119,824           slots=375,746,220           storage=30.60GiB   dangling=0 elapsed=1h49m20.320s eta=2h21m36.9s\r\nexecution_1                  | INFO [12-03|04:11:37.653] Resuming state snapshot generation       root=e1dd39..66e8e8 in=6f898e..db63e9 at=d513d8..396ca5 accounts=83,119,824           slots=375,746,220           storage=30.60GiB   dangling=0 elapsed=1h49m20.324s eta=2h21m36.905s\r\nexecution_1                  | INFO [12-03|04:11:37.670] Imported new potential chain segment     number=16,101,816 hash=ee0821..317480 blocks=1       txs=89          mgas=8.874   elapsed=217.279ms    mgasps=40.842  dirty=387.90MiB\r\nexecution_1                  | INFO [12-03|04:11:37.681] Chain head was updated                   number=16,101,816 hash=ee0821..317480 root=9ad43a..a7f54f elapsed=3.060608ms\r\nexecution_1                  | INFO [12-03|04:11:45.655] Generating state snapshot                root=e1dd39..66e8e8 at=6fa9cc..35d51c accounts=83,213,530           slots=376,135,293           storage=30.63GiB   dangling=0 elapsed=1h49m28.325s eta=2h21m30.262s\r\nexecution_1                  | INFO [12-03|04:11:50.062] Aborting state snapshot generation       root=e1dd39..66e8e8 at=6fc8d1..c9e879 accounts=83,303,042           slots=376,301,884           storage=30.65GiB   dangling=0 elapsed=1h49m32.732s eta=2h21m19.625s\r\nexecution_1                  | INFO [12-03|04:11:50.064] Resuming state snapshot generation       root=c11999..0ebd8f at=6fc8d1..c9e879 accounts=83,303,042           slots=376,301,884           storage=30.65GiB   dangling=0 elapsed=1h49m32.734s eta=2h21m19.628s\r\nexecution_1                  | INFO [12-03|04:11:50.078] Imported new potential chain segment     number=16,101,817 hash=130697..77ceba blocks=1       txs=133         mgas=14.488  elapsed=263.507ms    mgasps=54.982  dirty=388.42MiB\r\nexecution_1                  | INFO [12-03|04:11:50.100] Chain head was updated                   number=16,101,817 hash=130697..77ceba root=5b344f..72a765 elapsed=9.124248ms\r\nexecution_1                  | INFO [12-03|04:11:58.066] Generating state snapshot                root=c11999..0ebd8f in=6ff11f..0be9b4 at=2898a1..eb153c accounts=83,420,643           slots=376,686,491           storage=30.68GiB   dangling=0 elapsed=1h49m40.736s eta=2h21m8.755s\r\nexecution_1                  | INFO [12-03|04:12:00.457] Aborting state snapshot generation       root=c11999..0ebd8f in=6ff621..e6b9af at=77f358..94748f accounts=83,435,273           slots=376,953,690           storage=30.70GiB   dangling=0 elapsed=1h49m43.127s eta=2h21m9.202s\r\nexecution_1                  | INFO [12-03|04:12:00.459] Resuming state snapshot generation       root=a747ed..9abd12 in=6ff621..e6b9af at=77f358..94748f accounts=83,435,273           slots=376,953,690           storage=30.70GiB   dangling=0 elapsed=1h49m43.129s eta=2h21m9.205s\r\nexecution_1                  | INFO [12-03|04:12:00.474] Imported new potential chain segment     number=16,101,818 hash=9c5f0e..9f1f48 blocks=1       txs=114         mgas=11.670  elapsed=206.845ms    mgasps=56.420  dirty=389.31MiB\r\nexecution_1                  | INFO [12-03|04:12:00.496] Chain head was updated                   number=16,101,818 hash=9c5f0e..9f1f48 root=dd18cf..f513e5 elapsed=3.635276ms\r\nexecution_1                  | ERROR[12-03|04:12:05.076] Unhandled trie error in Trie.Prove       err=\"missing trie node 746d39f09b4c5c1b26ce016fcc3468c88eddecb18b0897b6e031d49925b8d1ab (owner 7006375ac2fae9614f6258206c1e86e5112c551b246dd6efb4783aa4b1b62d75) (path 000b) unexpected node 57c165b4d08f768f5714db8af1b8b1c2ec10bffd839cec024d9ba9a94b578e3c!=746d39f09b4c5c1b26ce016fcc3468c88eddecb18b0897b6e031d49925b8d1ab(7006375ac2fae9614f6258206c1e86e5112c551b246dd6efb4783aa4b1b62d75 [0 11])\"\r\nexecution_1                  | INFO [12-03|04:12:12.423] Resuming state snapshot generation       root=c2e408..494bc8 in=6ff621..e6b9af at=77f358..94748f accounts=83,481,616           slots=377,281,232           storage=30.73GiB   dangling=0 elapsed=1h49m55.093s eta=2h21m24.596s\r\nexecution_1                  | INFO [12-03|04:12:12.443] Imported new potential chain segment     number=16,101,819 hash=67c747..e62623 blocks=1       txs=67          mgas=24.353  elapsed=272.196ms    mgasps=89.469  dirty=391.03MiB\r\nexecution_1                  | INFO [12-03|04:12:12.467] Chain head was updated                   number=16,101,819 hash=67c747..e62623 root=6d4a4c..484398 elapsed=3.452427ms\r\nexecution_1                  | ERROR[12-03|04:12:16.551] Unhandled trie error in Trie.Prove       err=\"missing trie node 746d39f09b4c5c1b26ce016fcc3468c88eddecb18b0897b6e031d49925b8d1ab (owner 7006375ac2fae9614f6258206c1e86e5112c551b246dd6efb4783aa4b1b62d75) (path 000b) unexpected node 57c165b4d08f768f5714db8af1b8b1c2ec10bffd839cec024d9ba9a94b578e3c!=746d39f09b4c5c1b26ce016fcc3468c88eddecb18b0897b6e031d49925b8d1ab(7006375ac2fae9614f6258206c1e86e5112c551b246dd6efb4783aa4b1b62d75 [0 11])\"\r\nexecution_1                  | INFO [12-03|04:12:25.172] Resuming state snapshot generation       root=9346eb..939cb9 in=6ff621..e6b9af at=77f358..94748f accounts=83,527,959           slots=377,608,774           storage=30.75GiB   dangling=0 elapsed=1h50m7.842s  eta=2h21m40.998s\r\nexecution_1                  | INFO [12-03|04:12:25.190] Imported new potential chain segment     number=16,101,820 hash=1a700a..3ebe53 blocks=1       txs=134         mgas=21.304  elapsed=322.445ms    mgasps=66.071  dirty=391.97MiB\r\nexecution_1                  | INFO [12-03|04:12:25.227] Chain head was updated                   number=16,101,820 hash=1a700a..3ebe53 root=ce8a5c..6fbd90 elapsed=16.55591ms\r\nexecution_1                  | ERROR[12-03|04:12:29.434] Unhandled trie error in Trie.Prove       err=\"missing trie node 746d39f09b4c5c1b26ce016fcc3468c88eddecb18b0897b6e031d49925b8d1ab (owner 7006375ac2fae9614f6258206c1e86e5112c551b246dd6efb4783aa4b1b62d75) (path 000b) unexpected node 57c165b4d08f768f5714db8af1b8b1c2ec10bffd839cec024d9ba9a94b578e3c!=746d39f09b4c5c1b26ce016fcc3468c88eddecb18b0897b6e031d49925b8d1ab(7006375ac2fae9614f6258206c1e86e5112c551b246dd6efb4783aa4b1b62d75 [0 11])\"\r\nexecution_1                  | INFO [12-03|04:12:36.382] Resuming state snapshot generation       root=3deb32..45e55a in=6ff621..e6b9af at=77f358..94748f accounts=83,574,302           slots=377,936,316           storage=30.78GiB   dangling=0 elapsed=1h50m19.052s eta=2h21m55.42s\r\nexecution_1                  | INFO [12-03|04:12:36.394] Imported new potential chain segment     number=16,101,821 hash=85ef21..e5c311 blocks=1       txs=127         mgas=11.942  elapsed=316.151ms    mgasps=37.772  dirty=392.35MiB\r\nexecution_1                  | INFO [12-03|04:12:36.407] Chain head was updated                   number=16,101,821 hash=85ef21..e5c311 root=685b26..07bacd elapsed=4.217528ms\r\nexecution_1                  | ERROR[12-03|04:12:40.454] Unhandled trie error in Trie.Prove       err=\"missing trie node 746d39f09b4c5c1b26ce016fcc3468c88eddecb18b0897b6e031d49925b8d1ab (owner 7006375ac2fae9614f6258206c1e86e5112c551b246dd6efb4783aa4b1b62d75) (path 000b) unexpected node 57c165b4d08f768f5714db8af1b8b1c2ec10bffd839cec024d9ba9a94b578e3c!=746d39f09b4c5c1b26ce016fcc3468c88eddecb18b0897b6e031d49925b8d1ab(7006375ac2fae9614f6258206c1e86e5112c551b246dd6efb4783aa4b1b62d75 [0 11])\"\r\nexecution_1                  | INFO [12-03|04:12:48.300] Resuming state snapshot generation       root=3cc9fa..26b48b in=6ff621..e6b9af at=77f358..94748f accounts=83,620,645           slots=378,263,858           storage=30.80GiB   dangling=0 elapsed=1h50m30.970s eta=2h22m10.752s\r\nexecution_1                  | INFO [12-03|04:12:48.319] Imported new potential chain segment     number=16,101,822 hash=031a1c..942e9e blocks=1       txs=119         mgas=10.348  elapsed=203.691ms    mgasps=50.801  dirty=391.93MiB\r\nexecution_1                  | INFO [12-03|04:12:48.343] Chain head was updated                   number=16,101,822 hash=031a1c..942e9e root=8dd65b..f59000 elapsed=6.472359ms\r\n````\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26293/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26293/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1336128337",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/26293#issuecomment-1336128337",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26293",
    "id": 1336128337,
    "node_id": "IC_kwDOAOvK985Po7NR",
    "user": {
      "login": "yorickdowne",
      "id": 71337066,
      "node_id": "MDQ6VXNlcjcxMzM3MDY2",
      "avatar_url": "https://avatars.githubusercontent.com/u/71337066?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yorickdowne",
      "html_url": "https://github.com/yorickdowne",
      "followers_url": "https://api.github.com/users/yorickdowne/followers",
      "following_url": "https://api.github.com/users/yorickdowne/following{/other_user}",
      "gists_url": "https://api.github.com/users/yorickdowne/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yorickdowne/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yorickdowne/subscriptions",
      "organizations_url": "https://api.github.com/users/yorickdowne/orgs",
      "repos_url": "https://api.github.com/users/yorickdowne/repos",
      "events_url": "https://api.github.com/users/yorickdowne/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yorickdowne/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-12-03T10:14:27Z",
    "updated_at": "2022-12-03T10:14:27Z",
    "author_association": "NONE",
    "body": "Starting a fresh sync this time with debug logs, in hopes of catching this error.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1336128337/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1336135001",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/26293#issuecomment-1336135001",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26293",
    "id": 1336135001,
    "node_id": "IC_kwDOAOvK985Po81Z",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-12-03T11:00:54Z",
    "updated_at": "2022-12-03T11:00:54Z",
    "author_association": "MEMBER",
    "body": "Aside from `--trie.path-based=true`, what other switches are you using? \r\nAlso: thanks for trying it out, we appreciate it! \r\nUsers wiling to try out the bleeding edge help a lot. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1336135001/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1336138168",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/26293#issuecomment-1336138168",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26293",
    "id": 1336138168,
    "node_id": "IC_kwDOAOvK985Po9m4",
    "user": {
      "login": "yorickdowne",
      "id": 71337066,
      "node_id": "MDQ6VXNlcjcxMzM3MDY2",
      "avatar_url": "https://avatars.githubusercontent.com/u/71337066?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yorickdowne",
      "html_url": "https://github.com/yorickdowne",
      "followers_url": "https://api.github.com/users/yorickdowne/followers",
      "following_url": "https://api.github.com/users/yorickdowne/following{/other_user}",
      "gists_url": "https://api.github.com/users/yorickdowne/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yorickdowne/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yorickdowne/subscriptions",
      "organizations_url": "https://api.github.com/users/yorickdowne/orgs",
      "repos_url": "https://api.github.com/users/yorickdowne/repos",
      "events_url": "https://api.github.com/users/yorickdowne/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yorickdowne/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-12-03T11:20:19Z",
    "updated_at": "2022-12-03T11:20:19Z",
    "author_association": "NONE",
    "body": "```\r\n      - geth\r\n      - --http\r\n      - --http.addr\r\n      - 0.0.0.0\r\n      - --http.vhosts=*\r\n      - --http.corsdomain=*\r\n      - --http.api\r\n      - web3,eth,net\r\n      - --datadir\r\n      - /var/lib/goethereum\r\n      - --port\r\n      - ${EL_P2P_PORT:-30303}\r\n      - --http.port\r\n      - ${EL_RPC_PORT:-8545}\r\n      - --ws\r\n      - --ws.addr\r\n      - 0.0.0.0\r\n      - --ws.port\r\n      - ${EL_WS_PORT:-8546}\r\n      - --ws.api\r\n      - web3,eth,net\r\n      - --${NETWORK}\r\n      - --metrics\r\n      - --metrics.expensive\r\n      - --pprof\r\n      - --pprof.addr\r\n      - 0.0.0.0\r\n      - --authrpc.jwtsecret\r\n      - /var/lib/goethereum/ee-secret/jwtsecret\r\n      - --authrpc.addr\r\n      - 0.0.0.0\r\n      - --authrpc.port\r\n      - ${EE_PORT:-8551}\r\n      - --authrpc.vhosts=*\r\n      - --maxpeers\r\n      - ${EL_MAX_PEER_COUNT:-50}\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1336138168/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1336407578",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/26293#issuecomment-1336407578",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26293",
    "id": 1336407578,
    "node_id": "IC_kwDOAOvK985Pp_Ya",
    "user": {
      "login": "yorickdowne",
      "id": 71337066,
      "node_id": "MDQ6VXNlcjcxMzM3MDY2",
      "avatar_url": "https://avatars.githubusercontent.com/u/71337066?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yorickdowne",
      "html_url": "https://github.com/yorickdowne",
      "followers_url": "https://api.github.com/users/yorickdowne/followers",
      "following_url": "https://api.github.com/users/yorickdowne/following{/other_user}",
      "gists_url": "https://api.github.com/users/yorickdowne/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yorickdowne/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yorickdowne/subscriptions",
      "organizations_url": "https://api.github.com/users/yorickdowne/orgs",
      "repos_url": "https://api.github.com/users/yorickdowne/repos",
      "events_url": "https://api.github.com/users/yorickdowne/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yorickdowne/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-12-04T13:06:40Z",
    "updated_at": "2022-12-04T13:06:40Z",
    "author_association": "NONE",
    "body": "Now that I'm watching for it, it doesn't occur again. Of course.\r\n\r\nIs this more likely to be an issue that just needs a specific state change to happen on chain to occur, and so it's just a matter of waiting; or more likely to be an issue that could be \"forced\" to reoccur by just syncing from scratch a bunch of times?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1336407578/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1339389693",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/26293#issuecomment-1339389693",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26293",
    "id": 1339389693,
    "node_id": "IC_kwDOAOvK985P1Xb9",
    "user": {
      "login": "rjl493456442",
      "id": 5959481,
      "node_id": "MDQ6VXNlcjU5NTk0ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5959481?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rjl493456442",
      "html_url": "https://github.com/rjl493456442",
      "followers_url": "https://api.github.com/users/rjl493456442/followers",
      "following_url": "https://api.github.com/users/rjl493456442/following{/other_user}",
      "gists_url": "https://api.github.com/users/rjl493456442/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rjl493456442/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rjl493456442/subscriptions",
      "organizations_url": "https://api.github.com/users/rjl493456442/orgs",
      "repos_url": "https://api.github.com/users/rjl493456442/repos",
      "events_url": "https://api.github.com/users/rjl493456442/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rjl493456442/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-12-06T13:27:01Z",
    "updated_at": "2022-12-06T13:27:01Z",
    "author_association": "MEMBER",
    "body": "It feels like some trie nodes are corrupted. Maybe you can run `geth snapshot traverse-state --trie.path-based=true --datadir <your-dir>`, it should detect the stuff.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1339389693/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1339410933",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/26293#issuecomment-1339410933",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26293",
    "id": 1339410933,
    "node_id": "IC_kwDOAOvK985P1cn1",
    "user": {
      "login": "yorickdowne",
      "id": 71337066,
      "node_id": "MDQ6VXNlcjcxMzM3MDY2",
      "avatar_url": "https://avatars.githubusercontent.com/u/71337066?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yorickdowne",
      "html_url": "https://github.com/yorickdowne",
      "followers_url": "https://api.github.com/users/yorickdowne/followers",
      "following_url": "https://api.github.com/users/yorickdowne/following{/other_user}",
      "gists_url": "https://api.github.com/users/yorickdowne/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yorickdowne/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yorickdowne/subscriptions",
      "organizations_url": "https://api.github.com/users/yorickdowne/orgs",
      "repos_url": "https://api.github.com/users/yorickdowne/repos",
      "events_url": "https://api.github.com/users/yorickdowne/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yorickdowne/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-12-06T13:45:27Z",
    "updated_at": "2022-12-06T13:45:27Z",
    "author_association": "NONE",
    "body": "That particular DB is no longer available, I started over with a fresh DB and debug logs. To reproduce this, is it more likely that just waiting will, or that syncing from scratch repeatedly until issue is encountered will?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1339410933/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1339435051",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/26293#issuecomment-1339435051",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26293",
    "id": 1339435051,
    "node_id": "IC_kwDOAOvK985P1igr",
    "user": {
      "login": "rjl493456442",
      "id": 5959481,
      "node_id": "MDQ6VXNlcjU5NTk0ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5959481?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rjl493456442",
      "html_url": "https://github.com/rjl493456442",
      "followers_url": "https://api.github.com/users/rjl493456442/followers",
      "following_url": "https://api.github.com/users/rjl493456442/following{/other_user}",
      "gists_url": "https://api.github.com/users/rjl493456442/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rjl493456442/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rjl493456442/subscriptions",
      "organizations_url": "https://api.github.com/users/rjl493456442/orgs",
      "repos_url": "https://api.github.com/users/rjl493456442/repos",
      "events_url": "https://api.github.com/users/rjl493456442/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rjl493456442/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-12-06T14:02:04Z",
    "updated_at": "2022-12-06T14:02:48Z",
    "author_association": "MEMBER",
    "body": "I don't know, I think you can just try to play around with it and save the db if it happens again. \r\nI tested it manually for a couple of times and nothing wrong happened. \r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1339435051/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1342378434",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/26293#issuecomment-1342378434",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26293",
    "id": 1342378434,
    "node_id": "IC_kwDOAOvK985QAxHC",
    "user": {
      "login": "rjl493456442",
      "id": 5959481,
      "node_id": "MDQ6VXNlcjU5NTk0ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5959481?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rjl493456442",
      "html_url": "https://github.com/rjl493456442",
      "followers_url": "https://api.github.com/users/rjl493456442/followers",
      "following_url": "https://api.github.com/users/rjl493456442/following{/other_user}",
      "gists_url": "https://api.github.com/users/rjl493456442/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rjl493456442/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rjl493456442/subscriptions",
      "organizations_url": "https://api.github.com/users/rjl493456442/orgs",
      "repos_url": "https://api.github.com/users/rjl493456442/repos",
      "events_url": "https://api.github.com/users/rjl493456442/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rjl493456442/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-12-08T09:42:56Z",
    "updated_at": "2022-12-08T09:42:56Z",
    "author_association": "MEMBER",
    "body": "Btw, I just did another round of snap sync and it can generate snapshot correctly.\r\nMight be some corner cases or something irrelevant. But anyway, would be nice\r\nto have something to repro.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1342378434/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1345587353",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/26293#issuecomment-1345587353",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26293",
    "id": 1345587353,
    "node_id": "IC_kwDOAOvK985QNAiZ",
    "user": {
      "login": "yorickdowne",
      "id": 71337066,
      "node_id": "MDQ6VXNlcjcxMzM3MDY2",
      "avatar_url": "https://avatars.githubusercontent.com/u/71337066?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yorickdowne",
      "html_url": "https://github.com/yorickdowne",
      "followers_url": "https://api.github.com/users/yorickdowne/followers",
      "following_url": "https://api.github.com/users/yorickdowne/following{/other_user}",
      "gists_url": "https://api.github.com/users/yorickdowne/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yorickdowne/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yorickdowne/subscriptions",
      "organizations_url": "https://api.github.com/users/yorickdowne/orgs",
      "repos_url": "https://api.github.com/users/yorickdowne/repos",
      "events_url": "https://api.github.com/users/yorickdowne/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yorickdowne/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-12-11T15:44:41Z",
    "updated_at": "2022-12-11T15:44:41Z",
    "author_association": "NONE",
    "body": "Unable to repro so far. I'll keep trying.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1345587353/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1345782792",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/26293#issuecomment-1345782792",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26293",
    "id": 1345782792,
    "node_id": "IC_kwDOAOvK985QNwQI",
    "user": {
      "login": "sagivo",
      "id": 1484886,
      "node_id": "MDQ6VXNlcjE0ODQ4ODY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1484886?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sagivo",
      "html_url": "https://github.com/sagivo",
      "followers_url": "https://api.github.com/users/sagivo/followers",
      "following_url": "https://api.github.com/users/sagivo/following{/other_user}",
      "gists_url": "https://api.github.com/users/sagivo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sagivo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sagivo/subscriptions",
      "organizations_url": "https://api.github.com/users/sagivo/orgs",
      "repos_url": "https://api.github.com/users/sagivo/repos",
      "events_url": "https://api.github.com/users/sagivo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sagivo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-12-12T02:35:44Z",
    "updated_at": "2022-12-12T02:35:57Z",
    "author_association": "NONE",
    "body": "for what it's worth, I also have these errors, tried to clean the DB multiple times but after the DB gets to ~500GB it start giving me these messages and never fully syncs. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1345782792/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 1
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1345786843",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/26293#issuecomment-1345786843",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26293",
    "id": 1345786843,
    "node_id": "IC_kwDOAOvK985QNxPb",
    "user": {
      "login": "rjl493456442",
      "id": 5959481,
      "node_id": "MDQ6VXNlcjU5NTk0ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5959481?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rjl493456442",
      "html_url": "https://github.com/rjl493456442",
      "followers_url": "https://api.github.com/users/rjl493456442/followers",
      "following_url": "https://api.github.com/users/rjl493456442/following{/other_user}",
      "gists_url": "https://api.github.com/users/rjl493456442/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rjl493456442/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rjl493456442/subscriptions",
      "organizations_url": "https://api.github.com/users/rjl493456442/orgs",
      "repos_url": "https://api.github.com/users/rjl493456442/repos",
      "events_url": "https://api.github.com/users/rjl493456442/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rjl493456442/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-12-12T02:43:59Z",
    "updated_at": "2022-12-12T02:44:30Z",
    "author_association": "MEMBER",
    "body": "Are you also using this experimental PBSS branch?\r\n\r\nWhat do you mean \"tried to clean the DB multiple times\"?\r\n\r\n> it start giving me these messages and never fully syncs.\r\n\r\nCan you also share some logs?\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1345786843/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1358018903",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/26293#issuecomment-1358018903",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26293",
    "id": 1358018903,
    "node_id": "IC_kwDOAOvK985Q8blX",
    "user": {
      "login": "yorickdowne",
      "id": 71337066,
      "node_id": "MDQ6VXNlcjcxMzM3MDY2",
      "avatar_url": "https://avatars.githubusercontent.com/u/71337066?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yorickdowne",
      "html_url": "https://github.com/yorickdowne",
      "followers_url": "https://api.github.com/users/yorickdowne/followers",
      "following_url": "https://api.github.com/users/yorickdowne/following{/other_user}",
      "gists_url": "https://api.github.com/users/yorickdowne/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yorickdowne/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yorickdowne/subscriptions",
      "organizations_url": "https://api.github.com/users/yorickdowne/orgs",
      "repos_url": "https://api.github.com/users/yorickdowne/repos",
      "events_url": "https://api.github.com/users/yorickdowne/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yorickdowne/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-12-19T17:44:54Z",
    "updated_at": "2022-12-19T17:44:54Z",
    "author_association": "NONE",
    "body": "I've synced two of these pretty much once a day for the last week, and I cannot reproduce this now. If it's still in the code, it's some real corner case.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1358018903/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1358710952",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/26293#issuecomment-1358710952",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26293",
    "id": 1358710952,
    "node_id": "IC_kwDOAOvK985Q_Eio",
    "user": {
      "login": "rjl493456442",
      "id": 5959481,
      "node_id": "MDQ6VXNlcjU5NTk0ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5959481?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rjl493456442",
      "html_url": "https://github.com/rjl493456442",
      "followers_url": "https://api.github.com/users/rjl493456442/followers",
      "following_url": "https://api.github.com/users/rjl493456442/following{/other_user}",
      "gists_url": "https://api.github.com/users/rjl493456442/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rjl493456442/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rjl493456442/subscriptions",
      "organizations_url": "https://api.github.com/users/rjl493456442/orgs",
      "repos_url": "https://api.github.com/users/rjl493456442/repos",
      "events_url": "https://api.github.com/users/rjl493456442/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rjl493456442/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-12-20T01:27:26Z",
    "updated_at": "2022-12-20T01:27:26Z",
    "author_association": "MEMBER",
    "body": "@yorickdowne thanks for your time! I also fixed some issues in state history construction. But I guess it's irrelevant with your original issue, which should only occur when `SetHead` happens.\r\n\r\nSince you are heavily testing/playing around it, I will let you know if I have the next stable version.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1358710952/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 1,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
