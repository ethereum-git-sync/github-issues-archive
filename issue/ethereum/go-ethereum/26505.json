{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26505",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26505/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26505/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26505/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/26505",
  "id": 1535194561,
  "node_id": "I_kwDOAOvK985bgTXB",
  "number": 26505,
  "title": "geth crashes on `protocolVersion` command and tab-expansion",
  "user": {
    "login": "msooseth",
    "id": 99662964,
    "node_id": "U_kgDOBfC8dA",
    "avatar_url": "https://avatars.githubusercontent.com/u/99662964?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/msooseth",
    "html_url": "https://github.com/msooseth",
    "followers_url": "https://api.github.com/users/msooseth/followers",
    "following_url": "https://api.github.com/users/msooseth/following{/other_user}",
    "gists_url": "https://api.github.com/users/msooseth/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/msooseth/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/msooseth/subscriptions",
    "organizations_url": "https://api.github.com/users/msooseth/orgs",
    "repos_url": "https://api.github.com/users/msooseth/repos",
    "events_url": "https://api.github.com/users/msooseth/events{/privacy}",
    "received_events_url": "https://api.github.com/users/msooseth/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 72233650,
      "node_id": "MDU6TGFiZWw3MjIzMzY1MA==",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:bug",
      "name": "type:bug",
      "color": "FF5E5E",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": {
    "login": "s1na",
    "id": 1591639,
    "node_id": "MDQ6VXNlcjE1OTE2Mzk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1591639?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/s1na",
    "html_url": "https://github.com/s1na",
    "followers_url": "https://api.github.com/users/s1na/followers",
    "following_url": "https://api.github.com/users/s1na/following{/other_user}",
    "gists_url": "https://api.github.com/users/s1na/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/s1na/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/s1na/subscriptions",
    "organizations_url": "https://api.github.com/users/s1na/orgs",
    "repos_url": "https://api.github.com/users/s1na/repos",
    "events_url": "https://api.github.com/users/s1na/events{/privacy}",
    "received_events_url": "https://api.github.com/users/s1na/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "s1na",
      "id": 1591639,
      "node_id": "MDQ6VXNlcjE1OTE2Mzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1591639?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/s1na",
      "html_url": "https://github.com/s1na",
      "followers_url": "https://api.github.com/users/s1na/followers",
      "following_url": "https://api.github.com/users/s1na/following{/other_user}",
      "gists_url": "https://api.github.com/users/s1na/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/s1na/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/s1na/subscriptions",
      "organizations_url": "https://api.github.com/users/s1na/orgs",
      "repos_url": "https://api.github.com/users/s1na/repos",
      "events_url": "https://api.github.com/users/s1na/events{/privacy}",
      "received_events_url": "https://api.github.com/users/s1na/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 0,
  "created_at": "2023-01-16T16:20:56Z",
  "updated_at": "2023-01-17T11:21:49Z",
  "closed_at": null,
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "#### System information\r\nI compiled `geth` from ae42148093fdfd72749ff3dda2b986cef543510f, which is latest as of now.\r\n\r\n\r\nGeth version: `geth version`\r\n```\r\n./geth version\r\nGeth\r\nVersion: 1.11.0-unstable\r\nGit Commit: ae42148093fdfd72749ff3dda2b986cef543510f\r\nGit Commit Date: 20221115\r\nArchitecture: amd64\r\nGo Version: go1.19.3\r\nOperating System: linux\r\nGOPATH=\r\nGOROOT=\r\n```\r\n\r\nCL client & version: `./geth attach`\r\nOS & Version: Arch Linux\r\n\r\n```\r\nuname -a\r\nLinux athena 6.1.1-1-MANJARO #1 SMP PREEMPT_DYNAMIC Wed Dec 21 23:21:50 UTC 2022 x86_64 GNU/Linux\r\n```\r\n\r\n```\r\n$ go version  \r\ngo version go1.19.4 linux/amd64\r\n```\r\n\r\nCommit hash : ae42148093fdfd72749ff3dda2b986cef543510f\r\n\r\n#### Expected behaviour\r\nRun\r\n```\r\n./geth attach\r\n```\r\n\r\nThen type: `eth.protocolVersion` and press TAB (to auto-complete). It should not do anything because that command has been removed (:cry: )\r\n\r\n#### Actual behaviour\r\nIt crashes:\r\n\r\n```\r\n./geth attach\r\nWelcome to the Geth JavaScript console!\r\n\r\ninstance: Geth/v1.11.0-unstable-ae421480-20221115/linux-amd64/go1.19.3\r\ncoinbase: 0xe0d37502a3bc682ef7b34abce8acd88ae4fed486\r\nat block: 1 (Mon Jan 16 2023 16:22:39 GMT+0100 (CET))\r\n datadir: \r\n modules: admin:1.0 clique:1.0 debug:1.0 engine:1.0 eth:1.0 miner:1.0 net:1.0 personal:1.0 rpc:1.0 txpool:1.0 web3:1.0\r\n\r\nTo exit, press ctrl-d or type exit\r\n> eth.protocolVersionpanic: Error: the method eth_protocolVersion does not exist/is not available at web3.js:6365:9(45)\r\n\r\ngoroutine 28 [running]:\r\ngithub.com/dop251/goja._throw.exec({}, 0xc00041c400)\r\n        github.com/dop251/goja@v0.0.0-20220405120441-9037c2b61cbf/vm.go:3663 +0x13a\r\ngithub.com/dop251/goja.(*vm).run(0xc00041c400)\r\n        github.com/dop251/goja@v0.0.0-20220405120441-9037c2b61cbf/vm.go:408 +0x8b\r\ngithub.com/dop251/goja.(*baseJsFuncObject)._call(0xc00015aa50, {{0x188f458, 0xc0007f0810}, {0x0, 0x0, 0x0}}, {0x0?, 0x0}, {0x188f458, 0xc0007f0810})\r\n        github.com/dop251/goja@v0.0.0-20220405120441-9037c2b61cbf/func.go:193 +0x41f\r\ngithub.com/dop251/goja.(*baseJsFuncObject).call(...)\r\n        github.com/dop251/goja@v0.0.0-20220405120441-9037c2b61cbf/func.go:203\r\ngithub.com/dop251/goja.(*baseJsFuncObject).Call(0x13c3440?, {{0x188f458, 0xc0007f0810}, {0x0, 0x0, 0x0}})\r\n        github.com/dop251/goja@v0.0.0-20220405120441-9037c2b61cbf/func.go:156 +0xc7\r\ngithub.com/dop251/goja.(*valueProperty).get(0x134bde0?, {0x188f458, 0xc0007f0810})\r\n        github.com/dop251/goja@v0.0.0-20220405120441-9037c2b61cbf/value.go:512 +0xbb\r\ngithub.com/dop251/goja.(*baseObject).getStr(0xc000f17bc0, {0xc0002442a4, 0xf}, {0x0?, 0x0})\r\n        github.com/dop251/goja@v0.0.0-20220405120441-9037c2b61cbf/object.go:353 +0x125\r\ngithub.com/dop251/goja.(*Object).Get(0xc0007f0810, {0xc0002442a4?, 0xc0006a3dc8?})\r\n        github.com/dop251/goja@v0.0.0-20220405120441-9037c2b61cbf/value.go:792 +0x52\r\ngithub.com/ethereum/go-ethereum/internal/jsre.getCompletions(0xc000185880, {0xc0002442a0, 0x13})\r\n        github.com/ethereum/go-ethereum/internal/jsre/completion.go:70 +0x2a5\r\ngithub.com/ethereum/go-ethereum/internal/jsre.(*JSRE).CompleteKeywords.func1(0xc0006a3f20?)\r\n        github.com/ethereum/go-ethereum/internal/jsre/completion.go:31 +0x2a\r\ngithub.com/ethereum/go-ethereum/internal/jsre.(*JSRE).runEventLoop(0xc0002a5e80)\r\n        github.com/ethereum/go-ethereum/internal/jsre/jsre.go:205 +0x4ed\r\ncreated by github.com/ethereum/go-ethereum/internal/jsre.New\r\n        github.com/ethereum/go-ethereum/internal/jsre/jsre.go:80 +0x190\r\n```\r\n\r\n#### Steps to reproduce the behaviour\r\nAs per above.\r\n\r\n#### Backtrace\r\nAs above:\r\n\r\n````\r\ngoroutine 28 [running]:\r\ngithub.com/dop251/goja._throw.exec({}, 0xc00041c400)\r\n        github.com/dop251/goja@v0.0.0-20220405120441-9037c2b61cbf/vm.go:3663 +0x13a\r\ngithub.com/dop251/goja.(*vm).run(0xc00041c400)\r\n        github.com/dop251/goja@v0.0.0-20220405120441-9037c2b61cbf/vm.go:408 +0x8b\r\ngithub.com/dop251/goja.(*baseJsFuncObject)._call(0xc00015aa50, {{0x188f458, 0xc0007f0810}, {0x0, 0x0, 0x0}}, {0x0?, 0x0}, {0x188f458, 0xc0007f0810})\r\n        github.com/dop251/goja@v0.0.0-20220405120441-9037c2b61cbf/func.go:193 +0x41f\r\ngithub.com/dop251/goja.(*baseJsFuncObject).call(...)\r\n        github.com/dop251/goja@v0.0.0-20220405120441-9037c2b61cbf/func.go:203\r\ngithub.com/dop251/goja.(*baseJsFuncObject).Call(0x13c3440?, {{0x188f458, 0xc0007f0810}, {0x0, 0x0, 0x0}})\r\n        github.com/dop251/goja@v0.0.0-20220405120441-9037c2b61cbf/func.go:156 +0xc7\r\ngithub.com/dop251/goja.(*valueProperty).get(0x134bde0?, {0x188f458, 0xc0007f0810})\r\n        github.com/dop251/goja@v0.0.0-20220405120441-9037c2b61cbf/value.go:512 +0xbb\r\ngithub.com/dop251/goja.(*baseObject).getStr(0xc000f17bc0, {0xc0002442a4, 0xf}, {0x0?, 0x0})\r\n        github.com/dop251/goja@v0.0.0-20220405120441-9037c2b61cbf/object.go:353 +0x125\r\ngithub.com/dop251/goja.(*Object).Get(0xc0007f0810, {0xc0002442a4?, 0xc0006a3dc8?})\r\n        github.com/dop251/goja@v0.0.0-20220405120441-9037c2b61cbf/value.go:792 +0x52\r\ngithub.com/ethereum/go-ethereum/internal/jsre.getCompletions(0xc000185880, {0xc0002442a0, 0x13})\r\n        github.com/ethereum/go-ethereum/internal/jsre/completion.go:70 +0x2a5\r\ngithub.com/ethereum/go-ethereum/internal/jsre.(*JSRE).CompleteKeywords.func1(0xc0006a3f20?)\r\n        github.com/ethereum/go-ethereum/internal/jsre/completion.go:31 +0x2a\r\ngithub.com/ethereum/go-ethereum/internal/jsre.(*JSRE).runEventLoop(0xc0002a5e80)\r\n        github.com/ethereum/go-ethereum/internal/jsre/jsre.go:205 +0x4ed\r\ncreated by github.com/ethereum/go-ethereum/internal/jsre.New\r\n        github.com/ethereum/go-ethereum/internal/jsre/jsre.go:80 +0x190\r\n```\r\n\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26505/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26505/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[

]
