{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23205",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23205/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23205/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23205/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/23205",
  "id": 943800254,
  "node_id": "MDU6SXNzdWU5NDM4MDAyNTQ=",
  "number": 23205,
  "title": "Trace response of traceBlockByHash is non-deterministic and get \"execution reverted\" error",
  "user": {
    "login": "wangwangz18",
    "id": 87391127,
    "node_id": "MDQ6VXNlcjg3MzkxMTI3",
    "avatar_url": "https://avatars.githubusercontent.com/u/87391127?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/wangwangz18",
    "html_url": "https://github.com/wangwangz18",
    "followers_url": "https://api.github.com/users/wangwangz18/followers",
    "following_url": "https://api.github.com/users/wangwangz18/following{/other_user}",
    "gists_url": "https://api.github.com/users/wangwangz18/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/wangwangz18/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/wangwangz18/subscriptions",
    "organizations_url": "https://api.github.com/users/wangwangz18/orgs",
    "repos_url": "https://api.github.com/users/wangwangz18/repos",
    "events_url": "https://api.github.com/users/wangwangz18/events{/privacy}",
    "received_events_url": "https://api.github.com/users/wangwangz18/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 72233650,
      "node_id": "MDU6TGFiZWw3MjIzMzY1MA==",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:bug",
      "name": "type:bug",
      "color": "FF5E5E",
      "default": false,
      "description": ""
    },
    {
      "id": 1132689577,
      "node_id": "MDU6TGFiZWwxMTMyNjg5NTc3",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/status:triage",
      "name": "status:triage",
      "color": "6be514",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "holiman",
    "id": 142290,
    "node_id": "MDQ6VXNlcjE0MjI5MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/holiman",
    "html_url": "https://github.com/holiman",
    "followers_url": "https://api.github.com/users/holiman/followers",
    "following_url": "https://api.github.com/users/holiman/following{/other_user}",
    "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
    "organizations_url": "https://api.github.com/users/holiman/orgs",
    "repos_url": "https://api.github.com/users/holiman/repos",
    "events_url": "https://api.github.com/users/holiman/events{/privacy}",
    "received_events_url": "https://api.github.com/users/holiman/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 13,
  "created_at": "2021-07-13T20:26:09Z",
  "updated_at": "2022-01-26T03:45:27Z",
  "closed_at": "2022-01-25T13:45:30Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nGeth version:  v1.10.2\r\n\r\n#### Expected behaviour\r\n1. When getting block traces using `traceBlockByHash`, the response should be deterministic\r\n2. For a transaction with `Success` status, should not get \"execution reverted\" trace error\r\n\r\n#### Actual behaviour\r\nIn Ethereum mainnet\r\n1. Run `debug.traceBlockByHash(\"0x27049febec8fd16fb662d0d8c00f5ff7cec571b71585b18c30e0c6d2df93b4fe\", {\"tracer\": \"callTracer\", \"timeout\": \"60s\"})` twice, get different trace result for the transaction `0x44de5f0ce469c09e4003f974e4ae119aea69ac461fdb0974fe410a1657284ce5`\r\n\r\nFirst time tx trace result:\r\n```{\r\n    result: {\r\n      calls: [{...}],\r\n      from: \"0x00000000c0293c8ca34dac9bcc0f953532d34e4d\",\r\n      gas: \"0xa7ac\",\r\n      gasUsed: \"0x6876\",\r\n      input: \"0xca722cdc5ae6e1d89dcdb255d8851f3b47f374103d5022146b4e29a3bf4aea91993ae06fdd3d5766c2b7db16c171487fdb4800eaabf851f35488b76b33e53faa21b36588\",\r\n      output: \"0x\",\r\n      time: \"86.428742ms\",\r\n      to: \"0xd1ceeeeee83f8bcf3bedad437202b6154e9f5405\",\r\n      type: \"CALL\",\r\n      value: \"0x0\"\r\n    }\r\n}\r\n```\r\n\r\nSecond time tx trace result:\r\n```\r\n{\r\n    result: {\r\n      error: \"execution reverted\",\r\n      from: \"0x00000000c0293c8ca34dac9bcc0f953532d34e4d\",\r\n      gas: \"0xa7ac\",\r\n      gasUsed: \"0xa8f\",\r\n      input: \"0xca722cdc5ae6e1d89dcdb255d8851f3b47f374103d5022146b4e29a3bf4aea91993ae06fdd3d5766c2b7db16c171487fdb4800eaabf851f35488b76b33e53faa21b36588\",\r\n      time: \"15.241119ms\",\r\n      to: \"0xd1ceeeeee83f8bcf3bedad437202b6154e9f5405\",\r\n      type: \"CALL\",\r\n      value: \"0x0\"\r\n    }\r\n}\r\n```\r\n\r\n\r\n2. Why get \"execution reverted\" error for the successful transaction `0x44de5f0ce469c09e4003f974e4ae119aea69ac461fdb0974fe410a1657284ce5` at the second `traceBlockByHash` call\r\n\r\n\r\n\r\n",
  "closed_by": {
    "login": "holiman",
    "id": 142290,
    "node_id": "MDQ6VXNlcjE0MjI5MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/holiman",
    "html_url": "https://github.com/holiman",
    "followers_url": "https://api.github.com/users/holiman/followers",
    "following_url": "https://api.github.com/users/holiman/following{/other_user}",
    "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
    "organizations_url": "https://api.github.com/users/holiman/orgs",
    "repos_url": "https://api.github.com/users/holiman/repos",
    "events_url": "https://api.github.com/users/holiman/events{/privacy}",
    "received_events_url": "https://api.github.com/users/holiman/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23205/reactions",
    "total_count": 1,
    "+1": 1,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23205/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/879629131",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23205#issuecomment-879629131",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23205",
    "id": 879629131,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3OTYyOTEzMQ==",
    "user": {
      "login": "rjl493456442",
      "id": 5959481,
      "node_id": "MDQ6VXNlcjU5NTk0ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5959481?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rjl493456442",
      "html_url": "https://github.com/rjl493456442",
      "followers_url": "https://api.github.com/users/rjl493456442/followers",
      "following_url": "https://api.github.com/users/rjl493456442/following{/other_user}",
      "gists_url": "https://api.github.com/users/rjl493456442/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rjl493456442/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rjl493456442/subscriptions",
      "organizations_url": "https://api.github.com/users/rjl493456442/orgs",
      "repos_url": "https://api.github.com/users/rjl493456442/repos",
      "events_url": "https://api.github.com/users/rjl493456442/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rjl493456442/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-14T06:28:17Z",
    "updated_at": "2021-07-14T06:28:17Z",
    "author_association": "MEMBER",
    "body": "So I ran the tracing for a few times with the latest master code, but I can't reproduce your issue. Can you please try the latest master if it still happens to you?\r\n\r\n```\r\ngeth attach ./ssd/geth_data/geth.ipc --exec \"debug.traceBlockByHash('0x27049febec8fd16fb662d0d8c00f5ff7cec571b71585b18c30e0c6d2df93b4fe', {'tracer': 'callTracer',\r\n'timeout': '60s'})\" > output\r\n```\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/879629131/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/880144068",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23205#issuecomment-880144068",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23205",
    "id": 880144068,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg4MDE0NDA2OA==",
    "user": {
      "login": "jiezhang",
      "id": 37601164,
      "node_id": "MDQ6VXNlcjM3NjAxMTY0",
      "avatar_url": "https://avatars.githubusercontent.com/u/37601164?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jiezhang",
      "html_url": "https://github.com/jiezhang",
      "followers_url": "https://api.github.com/users/jiezhang/followers",
      "following_url": "https://api.github.com/users/jiezhang/following{/other_user}",
      "gists_url": "https://api.github.com/users/jiezhang/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jiezhang/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jiezhang/subscriptions",
      "organizations_url": "https://api.github.com/users/jiezhang/orgs",
      "repos_url": "https://api.github.com/users/jiezhang/repos",
      "events_url": "https://api.github.com/users/jiezhang/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jiezhang/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-14T19:15:13Z",
    "updated_at": "2021-07-15T17:28:13Z",
    "author_association": "NONE",
    "body": "Here's another repro using a newer version v1.10.4. It returned out-of-gas error in the first call and subsequently traced the transaction successfully.\r\n\r\nThe transaction with non-deterministic tracing result is linked [here](https://etherscan.io/tx/0x7c03e48c1ceb3cd30f53c76fec97ab57b9073e21e598cf8afcddc1e4b38accf6). \r\n\r\nAfter you try the following commands, you may need to wait for a while before you can repro the issue again, potentially due to some state being cached in the node.\r\n\r\n```\r\nWelcome to the Geth JavaScript console!\r\n\r\ninstance: Geth/v1.10.4-stable-aa637fd3/linux-amd64/go1.15.13\r\nat block: 12826894 (Wed Jul 14 2021 12:06:57 GMT-0700 (PDT))\r\n modules: debug:1.0 eth:1.0 net:1.0 rpc:1.0 web3:1.0\r\n\r\nTo exit, press ctrl-d\r\n> debug.traceBlockByNumber(11087337, {\"tracer\": \"callTracer\", \"timeout\": \"60s\"})[30]\r\n{\r\n  result: {\r\n    calls: [{\r\n        from: \"0x06012c8cf97bead5deae237070f9587f8e7a266d\",\r\n        gas: \"0x345fe\",\r\n        gasUsed: \"0x19b0c\",\r\n        input: \"0x0d9f5aed00006ad0859dab4a46372c493304c1a46c0a0a24b092428a07255b20582794e1000032d2b71c84498013aca2004ce7bd4578c8c7b1ea5398c4217a2a84a198030000000000000000000000000000000000000000000000000000000000a92da9\",\r\n        output: \"0x00006ad28391c4480235b8450818e7a8650bc8c4bc8a430ac7215b50822198e1\",\r\n        to: \"0xb77feddb7e627a78140a2a32cac65a49ed1dba8e\",\r\n        type: \"CALL\",\r\n        value: \"0x0\"\r\n    }],\r\n    error: \"out of gas\",\r\n    from: \"0x09191d18729da57a83a9afc8ace0c8d7d104e118\",\r\n    gas: \"0x38c86\",\r\n    gasUsed: \"0x38c86\",\r\n    input: \"0x88c2a0bf0000000000000000000000000000000000000000000000000000000000183e2c\",\r\n    time: \"659.691392ms\",\r\n    to: \"0x06012c8cf97bead5deae237070f9587f8e7a266d\",\r\n    type: \"CALL\",\r\n    value: \"0x0\"\r\n  }\r\n}\r\n> debug.traceBlockByNumber(11087337, {\"tracer\": \"callTracer\", \"timeout\": \"60s\"})[30]\r\n{\r\n  result: {\r\n    calls: [{\r\n        from: \"0x06012c8cf97bead5deae237070f9587f8e7a266d\",\r\n        gas: \"0x345fe\",\r\n        gasUsed: \"0x195e2\",\r\n        input: \"0x0d9f5aed00006ad0859dab4a46372c493304c1a46c0a0a24b092428a07255b20582794e1000032d2b71c84498013aca2004ce7bd4578c8c7b1ea5398c4217a2a84a198030000000000000000000000000000000000000000000000000000000000a92da9\",\r\n        output: \"0x00006ad28590eb48d2172c4b0044c7a4651bc2c63df2428a07255b2a982198e0\",\r\n        to: \"0xb77feddb7e627a78140a2a32cac65a49ed1dba8e\",\r\n        type: \"CALL\",\r\n        value: \"0x0\"\r\n    }, {\r\n        from: \"0x06012c8cf97bead5deae237070f9587f8e7a266d\",\r\n        input: \"0x\",\r\n        output: \"0x\",\r\n        to: \"0x09191d18729da57a83a9afc8ace0c8d7d104e118\",\r\n        type: \"CALL\",\r\n        value: \"0x1c6bf526340000\"\r\n    }],\r\n    from: \"0x09191d18729da57a83a9afc8ace0c8d7d104e118\",\r\n    gas: \"0x38c86\",\r\n    gasUsed: \"0x383dd\",\r\n    input: \"0x88c2a0bf0000000000000000000000000000000000000000000000000000000000183e2c\",\r\n    output: \"0x00000000000000000000000000000000000000000000000000000000001e1289\",\r\n    time: \"1.073330468s\",\r\n    to: \"0x06012c8cf97bead5deae237070f9587f8e7a266d\",\r\n    type: \"CALL\",\r\n    value: \"0x0\"\r\n  }\r\n}\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/880144068/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/880150554",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23205#issuecomment-880150554",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23205",
    "id": 880150554,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg4MDE1MDU1NA==",
    "user": {
      "login": "jiezhang",
      "id": 37601164,
      "node_id": "MDQ6VXNlcjM3NjAxMTY0",
      "avatar_url": "https://avatars.githubusercontent.com/u/37601164?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jiezhang",
      "html_url": "https://github.com/jiezhang",
      "followers_url": "https://api.github.com/users/jiezhang/followers",
      "following_url": "https://api.github.com/users/jiezhang/following{/other_user}",
      "gists_url": "https://api.github.com/users/jiezhang/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jiezhang/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jiezhang/subscriptions",
      "organizations_url": "https://api.github.com/users/jiezhang/orgs",
      "repos_url": "https://api.github.com/users/jiezhang/repos",
      "events_url": "https://api.github.com/users/jiezhang/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jiezhang/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-14T19:26:25Z",
    "updated_at": "2021-07-14T19:26:25Z",
    "author_association": "NONE",
    "body": "We have observed lots of transactions exhibiting this non-deterministic tracing behavior. Coincidentally they all seem to interact with following two contracts:\r\n- [Dice2Win](https://etherscan.io/address/0xd1ceeeeee83f8bcf3bedad437202b6154e9f5405)\r\n- [CryptoKitties](https://etherscan.io/address/0x06012c8cf97bead5deae237070f9587f8e7a266d)",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/880150554/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/880509479",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23205#issuecomment-880509479",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23205",
    "id": 880509479,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg4MDUwOTQ3OQ==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-15T08:37:19Z",
    "updated_at": "2021-07-15T08:37:19Z",
    "author_association": "MEMBER",
    "body": "Do you have some logs from the Geth node executing these? Do you see warnings that it might be running out of file descriptors? If the database remains without those, it starts returning empty responses to state requests, which might explain occasional bad traces.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/880509479/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/880513290",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23205#issuecomment-880513290",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23205",
    "id": 880513290,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg4MDUxMzI5MA==",
    "user": {
      "login": "MariusVanDerWijden",
      "id": 16664698,
      "node_id": "MDQ6VXNlcjE2NjY0Njk4",
      "avatar_url": "https://avatars.githubusercontent.com/u/16664698?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MariusVanDerWijden",
      "html_url": "https://github.com/MariusVanDerWijden",
      "followers_url": "https://api.github.com/users/MariusVanDerWijden/followers",
      "following_url": "https://api.github.com/users/MariusVanDerWijden/following{/other_user}",
      "gists_url": "https://api.github.com/users/MariusVanDerWijden/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MariusVanDerWijden/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MariusVanDerWijden/subscriptions",
      "organizations_url": "https://api.github.com/users/MariusVanDerWijden/orgs",
      "repos_url": "https://api.github.com/users/MariusVanDerWijden/repos",
      "events_url": "https://api.github.com/users/MariusVanDerWijden/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MariusVanDerWijden/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-15T08:43:05Z",
    "updated_at": "2021-07-15T08:43:05Z",
    "author_association": "MEMBER",
    "body": "This is the tx btw: https://etherscan.io/tx/0x7c03e48c1ceb3cd30f53c76fec97ab57b9073e21e598cf8afcddc1e4b38accf6",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/880513290/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/936859939",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23205#issuecomment-936859939",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23205",
    "id": 936859939,
    "node_id": "IC_kwDOAOvK984311kj",
    "user": {
      "login": "maxogden",
      "id": 39759,
      "node_id": "MDQ6VXNlcjM5NzU5",
      "avatar_url": "https://avatars.githubusercontent.com/u/39759?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/maxogden",
      "html_url": "https://github.com/maxogden",
      "followers_url": "https://api.github.com/users/maxogden/followers",
      "following_url": "https://api.github.com/users/maxogden/following{/other_user}",
      "gists_url": "https://api.github.com/users/maxogden/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/maxogden/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/maxogden/subscriptions",
      "organizations_url": "https://api.github.com/users/maxogden/orgs",
      "repos_url": "https://api.github.com/users/maxogden/repos",
      "events_url": "https://api.github.com/users/maxogden/events{/privacy}",
      "received_events_url": "https://api.github.com/users/maxogden/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-06T18:31:37Z",
    "updated_at": "2021-10-06T18:32:15Z",
    "author_association": "NONE",
    "body": "I am able to reproduce this issue by tracing the hash shared by OP: `curl -X POST -H \"Content-Type: application/json\" --data '{\"method\":\"debug_traceBlockByHash\",\"params\":[\"0x27049febec8fd16fb662d0d8c00f5ff7cec571b71585b18c30e0c6d2df93b4fe\",{\"tracer\":\"callTracer\",\"timeout\":null}],\"id\":15293,\"jsonrpc\":\"2.0\"}' http://localhost:8545`\r\n\r\nI ran that twice (on geth master, archive mode), the first time it took 30 seconds to complete, and the second 1.5 seconds. The only difference was this:\r\n\r\n![image](https://user-images.githubusercontent.com/39759/136262196-b8c7e80b-03be-46ac-8587-78bc6b194cc0.png)\r\n\r\nI'm also seeing many `execution reverted` errors on other blocks. Edit: there's nothing weird in our geth logs, and our ulimit -n is set to 1048576\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/936859939/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/937808104",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23205#issuecomment-937808104",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23205",
    "id": 937808104,
    "node_id": "IC_kwDOAOvK98435dDo",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-07T13:45:14Z",
    "updated_at": "2021-10-07T13:45:14Z",
    "author_association": "MEMBER",
    "body": "@maxogden thanks, I'll try to debug this next week",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/937808104/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/939820907",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23205#issuecomment-939820907",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23205",
    "id": 939820907,
    "node_id": "IC_kwDOAOvK9844BIdr",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-11T08:49:15Z",
    "updated_at": "2021-10-11T08:49:15Z",
    "author_association": "MEMBER",
    "body": "I'm having some problems obtaining the data to repro this, since the blocks are so old. Does anyone have a more recent example to try and repro this with? ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/939820907/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1018907466",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23205#issuecomment-1018907466",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23205",
    "id": 1018907466,
    "node_id": "IC_kwDOAOvK9848u0tK",
    "user": {
      "login": "wangwangz18",
      "id": 87391127,
      "node_id": "MDQ6VXNlcjg3MzkxMTI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/87391127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wangwangz18",
      "html_url": "https://github.com/wangwangz18",
      "followers_url": "https://api.github.com/users/wangwangz18/followers",
      "following_url": "https://api.github.com/users/wangwangz18/following{/other_user}",
      "gists_url": "https://api.github.com/users/wangwangz18/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wangwangz18/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wangwangz18/subscriptions",
      "organizations_url": "https://api.github.com/users/wangwangz18/orgs",
      "repos_url": "https://api.github.com/users/wangwangz18/repos",
      "events_url": "https://api.github.com/users/wangwangz18/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wangwangz18/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-21T22:22:09Z",
    "updated_at": "2022-01-21T22:22:09Z",
    "author_association": "NONE",
    "body": "Seems we get this issue again, and this time those transactions seem to interact with this [smart contract](https://etherscan.io/address/0xd6e382aa7a09fc4a09c2fb99cfce6a429985e65d).\r\n\r\nTransaction examples:\r\nhttps://etherscan.io/tx/0x3174ce409b9895dae36fa3869587b0937d102f896a662fea65c6471a994c6423\r\nhttps://etherscan.io/tx/0x0827f411f7f8bc7256786d8486a9e04990540e57770b4f4eecbbbc03220be547\r\nhttps://etherscan.io/tx/0x7b05c28bcacc8b521f426096027c73c7d24a0761e19c7f6e311da2d18ee2a27d\r\n\r\n@holiman could you help take a look on this? Thanks!",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1018907466/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1020182452",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23205#issuecomment-1020182452",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23205",
    "id": 1020182452,
    "node_id": "IC_kwDOAOvK9848zr-0",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-24T14:52:45Z",
    "updated_at": "2022-01-24T14:52:45Z",
    "author_association": "MEMBER",
    "body": "> could you help take a look on this? Thanks\r\n\r\nYup, will do",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1020182452/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1020231415",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23205#issuecomment-1020231415",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23205",
    "id": 1020231415,
    "node_id": "IC_kwDOAOvK9848z373",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-24T15:38:03Z",
    "updated_at": "2022-01-24T15:38:03Z",
    "author_association": "MEMBER",
    "body": "Ok, managed to repro it!",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1020231415/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1020240217",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23205#issuecomment-1020240217",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23205",
    "id": 1020240217,
    "node_id": "IC_kwDOAOvK9848z6FZ",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-24T15:47:03Z",
    "updated_at": "2022-01-24T15:47:03Z",
    "author_association": "MEMBER",
    "body": "Out of 7 blockdumps, two are different from the other five. I set the node to archive-mode as it was processing that block, so this has nothing to do with any errors during the reexec-phase -- all the trie data is at hand. \r\nVery curious. \r\n```\r\n1733636 jan 24 16:42 out.1\r\n1733636 jan 24 16:43 out.2\r\n1738663 jan 24 16:43 out.3\r\n1733636 jan 24 16:43 out.4\r\n1733636 jan 24 16:43 out.5\r\n1738663 jan 24 16:43 out.6\r\n1733636 jan 24 16:43 out.7\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1020240217/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1021834331",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23205#issuecomment-1021834331",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23205",
    "id": 1021834331,
    "node_id": "IC_kwDOAOvK98485_Rb",
    "user": {
      "login": "wangwangz18",
      "id": 87391127,
      "node_id": "MDQ6VXNlcjg3MzkxMTI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/87391127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wangwangz18",
      "html_url": "https://github.com/wangwangz18",
      "followers_url": "https://api.github.com/users/wangwangz18/followers",
      "following_url": "https://api.github.com/users/wangwangz18/following{/other_user}",
      "gists_url": "https://api.github.com/users/wangwangz18/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wangwangz18/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wangwangz18/subscriptions",
      "organizations_url": "https://api.github.com/users/wangwangz18/orgs",
      "repos_url": "https://api.github.com/users/wangwangz18/repos",
      "events_url": "https://api.github.com/users/wangwangz18/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wangwangz18/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-26T03:45:27Z",
    "updated_at": "2022-01-26T03:45:27Z",
    "author_association": "NONE",
    "body": "@holiman Thanks for the fix! Any idea when will this get released? Thanks",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1021834331/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
