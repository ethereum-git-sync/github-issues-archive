{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/28151",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/28151/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/28151/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/28151/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/28151",
  "id": 1902157801,
  "node_id": "I_kwDOAOvK985xYJ_p",
  "number": 28151,
  "title": "Unable to run goerli network through the configuration file using the latest version",
  "user": {
    "login": "YuXiaoCoder",
    "id": 26297513,
    "node_id": "MDQ6VXNlcjI2Mjk3NTEz",
    "avatar_url": "https://avatars.githubusercontent.com/u/26297513?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/YuXiaoCoder",
    "html_url": "https://github.com/YuXiaoCoder",
    "followers_url": "https://api.github.com/users/YuXiaoCoder/followers",
    "following_url": "https://api.github.com/users/YuXiaoCoder/following{/other_user}",
    "gists_url": "https://api.github.com/users/YuXiaoCoder/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/YuXiaoCoder/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/YuXiaoCoder/subscriptions",
    "organizations_url": "https://api.github.com/users/YuXiaoCoder/orgs",
    "repos_url": "https://api.github.com/users/YuXiaoCoder/repos",
    "events_url": "https://api.github.com/users/YuXiaoCoder/events{/privacy}",
    "received_events_url": "https://api.github.com/users/YuXiaoCoder/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 72233650,
      "node_id": "MDU6TGFiZWw3MjIzMzY1MA==",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:bug",
      "name": "type:bug",
      "color": "FF5E5E",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2023-09-19T03:50:47Z",
  "updated_at": "2023-09-19T06:10:37Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nGeth version: `1.13.1`\r\nCL client & version: `prysm@v4.0.8`\r\nOS & Version: Linux\r\nCommit hash : (if `develop`)\r\n\r\n#### Expected behaviour\r\nThe service can run as a test network instead of the main network\r\n\r\n#### Actual behaviour\r\nIn the configuration file it is specified that the run is on the test network, but the actual run is on the main network, and if you add the command line parameter `-goerli`, it is possible to run it normally\r\n\r\n```bash\r\n/opt/eth-goerlimain/core/geth --config=/mnt/eth-goerlimain/conf/config.toml\r\n```\r\n\r\n```log\r\nINFO [09-19|11:23:21.516] Starting Geth on Ethereum mainnet...\r\nINFO [09-19|11:23:21.516] Bumping default cache on mainnet         provided=1024 updated=4096\r\nINFO [09-19|11:23:21.519] Maximum peer count                       ETH=50 LES=0 total=50\r\nINFO [09-19|11:23:21.520] Smartcard socket not found, disabling    err=\"stat /run/pcscd/pcscd.comm: no such file or directory\"\r\nINFO [09-19|11:23:21.523] Enabling recording of key preimages since archive mode is used\r\nINFO [09-19|11:23:21.526] Using pebble as the backing database\r\nINFO [09-19|11:23:21.526] Allocated cache and file handles         database=/mnt/eth-goerlimain/node/geth/geth/chaindata cache=2.00GiB handles=524,288\r\nINFO [09-19|11:23:21.531] Opened ancient database                  database=/mnt/eth-goerlimain/node/geth/geth/chaindata/ancient/chain readonly=true\r\nINFO [09-19|11:23:21.531] State schema set to default              scheme=hash\r\nINFO [09-19|11:23:21.532] Set global gas cap                       cap=50,000,000\r\nINFO [09-19|11:23:21.532] Initializing the KZG library             backend=gokzg\r\nINFO [09-19|11:23:21.571] Allocated trie memory caches             clean=1.20GiB dirty=0.00B\r\nINFO [09-19|11:23:21.574] Using pebble as the backing database\r\nINFO [09-19|11:23:21.574] Allocated cache and file handles         database=/mnt/eth-goerlimain/node/geth/geth/chaindata cache=2.00GiB handles=524,288\r\nINFO [09-19|11:23:21.587] Opened ancient database                  database=/mnt/eth-goerlimain/node/geth/geth/chaindata/ancient/chain readonly=false\r\nINFO [09-19|11:23:21.590] Initialising Ethereum protocol           network=5 dbversion=8\r\nFatal: Failed to register the Ethereum service: database contains incompatible genesis (have bf7e331f7f7c1dd2e05159666b3bf8bc7a8a3a9eb1d518969eab529dd9b88c1a, new d4e56740f876aef8c010b86a40d5f56745a118d0906a34e69aec8c0db1cb8fa3)\r\n```\r\n\r\n```bash\r\n/opt/eth-goerlimain/core/geth --config=/mnt/eth-goerlimain/conf/config.toml --goerli\r\n```\r\n\r\n```log\r\nINFO [09-19|11:23:33.584] \"Starting Geth on GÃ¶rli testnet...\"\r\nINFO [09-19|11:23:33.587] Maximum peer count                       ETH=50 LES=0 total=50\r\nINFO [09-19|11:23:33.589] Smartcard socket not found, disabling    err=\"stat /run/pcscd/pcscd.comm: no such file or directory\"\r\nINFO [09-19|11:23:33.591] Enabling recording of key preimages since archive mode is used\r\nINFO [09-19|11:23:33.594] Using pebble as the backing database\r\nINFO [09-19|11:23:33.594] Allocated cache and file handles         database=/mnt/eth-goerlimain/node/geth/geth/chaindata cache=512.00MiB handles=524,288\r\nINFO [09-19|11:23:33.599] Opened ancient database                  database=/mnt/eth-goerlimain/node/geth/geth/chaindata/ancient/chain readonly=true\r\nINFO [09-19|11:23:33.599] State schema set to default              scheme=hash\r\nINFO [09-19|11:23:33.600] Set global gas cap                       cap=50,000,000\r\nINFO [09-19|11:23:33.600] Initializing the KZG library             backend=gokzg\r\nINFO [09-19|11:23:33.639] Allocated trie memory caches             clean=307.00MiB dirty=0.00B\r\nINFO [09-19|11:23:33.641] Using pebble as the backing database\r\nINFO [09-19|11:23:33.641] Allocated cache and file handles         database=/mnt/eth-goerlimain/node/geth/geth/chaindata cache=512.00MiB handles=524,288\r\nINFO [09-19|11:23:33.656] Opened ancient database                  database=/mnt/eth-goerlimain/node/geth/geth/chaindata/ancient/chain readonly=false\r\nINFO [09-19|11:23:33.662] Initialising Ethereum protocol           network=5 dbversion=8\r\nINFO [09-19|11:23:33.681] Persisted trie from memory database      nodes=361 size=51.44KiB time=4.751853ms gcnodes=0 gcsize=0.00B gctime=0s livenodes=0 livesize=0.00B\r\nINFO [09-19|11:23:33.695]\r\nINFO [09-19|11:23:33.695] ---------------------------------------------------------------------------------------------------------------------------------------------------------\r\n```\r\n\r\n\r\n#### Steps to reproduce the behaviour\r\n\r\n```bash\r\n/opt/eth-goerlimain/core/geth --config=/mnt/eth-goerlimain/conf/config.toml\r\n```\r\n\r\n```toml\r\n[Eth]\r\nNetworkId = 5\r\nSyncMode = \"snap\"\r\nEthDiscoveryURLs = [\"enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.goerli.ethdisco.net\"]\r\nSnapDiscoveryURLs = [\"enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.goerli.ethdisco.net\"]\r\nNoPruning = true  # GCMODE\r\nNoPrefetch = false\r\nTxLookupLimit = 2350000\r\nTransactionHistory = 2350000\r\nStateHistory = 90000\r\nStateScheme = \"path\"\r\nLightPeers = 100\r\nDatabaseCache = 512\r\nDatabaseFreezer = \"\"\r\nTrieCleanCache = 154\r\nTrieDirtyCache = 256\r\nTrieTimeout = 3600000000000\r\nSnapshotCache = 102\r\nPreimages = true\r\nFilterLogCacheSize = 32\r\nEnablePreimageRecording = false\r\nRPCGasCap = 50000000\r\nRPCEVMTimeout = 5000000000\r\nRPCTxFeeCap = 1e+00\r\n\r\n[Eth.TxPool]\r\nLocals = []\r\nNoLocals = false\r\nJournal = \"transactions.rlp\"\r\nRejournal = 3600000000000\r\nPriceLimit = 1\r\nPriceBump = 10\r\nAccountSlots = 16\r\nGlobalSlots = 5120\r\nAccountQueue = 64\r\nGlobalQueue = 1024\r\nLifetime = 10800000000000\r\n\r\n[Eth.BlobPool]\r\nDatadir = \"blobpool\"\r\nDatacap = 10737418240\r\nPriceBump = 100\r\n\r\n[Eth.GPO]\r\nBlocks = 20\r\nPercentile = 60\r\nMaxHeaderHistory = 1024\r\nMaxBlockHistory = 1024\r\nMaxPrice = 500000000000\r\nIgnorePrice = 2\r\n\r\n[Node]\r\nDataDir = \"/mnt/eth-goerlimain/node/geth\"\r\nIPCPath = \"/mnt/eth-goerlimain/node/eth.ipc\"\r\nHTTPHost = \"0.0.0.0\"\r\nHTTPPort = 8545\r\nHTTPVirtualHosts = [\"*\"]\r\nHTTPModules = [\"admin\", \"eth\", \"net\", \"engine\", \"web3\", \"personal\", \"debug\", \"txpool\"]\r\nAuthAddr = \"0.0.0.0\"\r\nAuthPort = 8551\r\nAuthVirtualHosts = [\"*\"]\r\nWSHost = \"0.0.0.0\"\r\nWSPort = 8546\r\nWSOrigins = [\"*\"]\r\nWSModules = [\"admin\", \"eth\", \"net\", \"web3\", \"personal\", \"debug\", \"txpool\"]\r\nJWTSecret = \"/mnt/eth-goerlimain/node/jwt.hex\"\r\nDBEngine = \"pebble\"\r\n\r\n[Node.P2P]\r\nMaxPeers = 50\r\nNoDiscovery = false\r\nDiscoveryV4 = true\r\nBootstrapNodes = [\"enode://011f758e6552d105183b1761c5e2dea0111bc20fd5f6422bc7f91e0fabbec9a6595caf6239b37feb773dddd3f87240d99d859431891e4a642cf2a0a9e6cbb98a@51.141.78.53:30303\", \"enode://176b9417f511d05b6b2cf3e34b756cf0a7096b3094572a8f6ef4cdcb9d1f9d00683bf0f83347eebdf3b81c3521c2332086d9592802230bf528eaf606a1d9677b@13.93.54.137:30303\", \"enode://46add44b9f13965f7b9875ac6b85f016f341012d84f975377573800a863526f4da19ae2c620ec73d11591fa9510e992ecc03ad0751f53cc02f7c7ed6d55c7291@94.237.54.114:30313\", \"enode://b5948a2d3e9d486c4d75bf32713221c2bd6cf86463302339299bd227dc2e276cd5a1c7ca4f43a0e9122fe9af884efed563bd2a1fd28661f3b5f5ad7bf1de5949@18.218.250.66:30303\", \"enode://a61215641fb8714a373c80edbfa0ea8878243193f57c96eeb44d0bc019ef295abd4e044fd619bfc4c59731a73fb79afe84e9ab6da0c743ceb479cbb6d263fa91@3.11.147.67:30303\", \"enode://d4f764a48ec2a8ecf883735776fdefe0a3949eb0ca476bd7bc8d0954a9defe8fea15ae5da7d40b5d2d59ce9524a99daedadf6da6283fca492cc80b53689fb3b3@46.4.99.122:32109\", \"enode://d2b720352e8216c9efc470091aa91ddafc53e222b32780f505c817ceef69e01d5b0b0797b69db254c586f493872352f5a022b4d8479a00fc92ec55f9ad46a27e@88.99.70.182:30303\"]\r\nBootstrapNodesV5 = [\"enr:-KG4QOtcP9X1FbIMOe17QNMKqDxCpm14jcX5tiOE4_TyMrFqbmhPZHK_ZPG2Gxb1GE2xdtodOfx9-cgvNtxnRyHEmC0ghGV0aDKQ9aX9QgAAAAD__________4JpZIJ2NIJpcIQDE8KdiXNlY3AyNTZrMaEDhpehBDbZjM_L9ek699Y7vhUJ-eAdMyQW_Fil522Y0fODdGNwgiMog3VkcIIjKA\", \"enr:-KG4QDyytgmE4f7AnvW-ZaUOIi9i79qX4JwjRAiXBZCU65wOfBu-3Nb5I7b_Rmg3KCOcZM_C3y5pg7EBU5XGrcLTduQEhGV0aDKQ9aX9QgAAAAD__________4JpZIJ2NIJpcIQ2_DUbiXNlY3AyNTZrMaEDKnz_-ps3UUOfHWVYaskI5kWYO_vtYMGYCQRAR3gHDouDdGNwgiMog3VkcIIjKA\", \"enr:-Ku4QImhMc1z8yCiNJ1TyUxdcfNucje3BGwEHzodEZUan8PherEo4sF7pPHPSIB1NNuSg5fZy7qFsjmUKs2ea1Whi0EBh2F0dG5ldHOIAAAAAAAAAACEZXRoMpD1pf1CAAAAAP__________gmlkgnY0gmlwhBLf22SJc2VjcDI1NmsxoQOVphkDqal4QzPMksc5wnpuC3gvSC8AfbFOnZY_On34wIN1ZHCCIyg\", \"enr:-Ku4QP2xDnEtUXIjzJ_DhlCRN9SN99RYQPJL92TMlSv7U5C1YnYLjwOQHgZIUXw6c-BvRg2Yc2QsZxxoS_pPRVe0yK8Bh2F0dG5ldHOIAAAAAAAAAACEZXRoMpD1pf1CAAAAAP__________gmlkgnY0gmlwhBLf22SJc2VjcDI1NmsxoQMeFF5GrS7UZpAH2Ly84aLK-TyvH-dRo0JM1i8yygH50YN1ZHCCJxA\", \"enr:-Ku4QPp9z1W4tAO8Ber_NQierYaOStqhDqQdOPY3bB3jDgkjcbk6YrEnVYIiCBbTxuar3CzS528d2iE7TdJsrL-dEKoBh2F0dG5ldHOIAAAAAAAAAACEZXRoMpD1pf1CAAAAAP__________gmlkgnY0gmlwhBLf22SJc2VjcDI1NmsxoQMw5fqqkw2hHC4F5HZZDPsNmPdB1Gi8JPQK7pRc9XHh-oN1ZHCCKvg\", \"enr:-IS4QLkKqDMy_ExrpOEWa59NiClemOnor-krjp4qoeZwIw2QduPC-q7Kz4u1IOWf3DDbdxqQIgC4fejavBOuUPy-HE4BgmlkgnY0gmlwhCLzAHqJc2VjcDI1NmsxoQLQSJfEAHZApkm5edTCZ_4qps_1k_ub2CxHFxi-gr2JMIN1ZHCCIyg\", \"enr:-IS4QDAyibHCzYZmIYZCjXwU9BqpotWmv2BsFlIq1V31BwDDMJPFEbox1ijT5c2Ou3kvieOKejxuaCqIcjxBjJ_3j_cBgmlkgnY0gmlwhAMaHiCJc2VjcDI1NmsxoQJIdpj_foZ02MXz4It8xKD7yUHTBx7lVFn3oeRP21KRV4N1ZHCCIyg\", \"enr:-Ku4QHqVeJ8PPICcWk1vSn_XcSkjOkNiTg6Fmii5j6vUQgvzMc9L1goFnLKgXqBJspJjIsB91LTOleFmyWWrFVATGngBh2F0dG5ldHOIAAAAAAAAAACEZXRoMpC1MD8qAAAAAP__________gmlkgnY0gmlwhAMRHkWJc2VjcDI1NmsxoQKLVXFOhp2uX6jeT0DvvDpPcU8FWMjQdR4wMuORMhpX24N1ZHCCIyg\", \"enr:-Ku4QG-2_Md3sZIAUebGYT6g0SMskIml77l6yR-M_JXc-UdNHCmHQeOiMLbylPejyJsdAPsTHJyjJB2sYGDLe0dn8uYBh2F0dG5ldHOIAAAAAAAAAACEZXRoMpC1MD8qAAAAAP__________gmlkgnY0gmlwhBLY-NyJc2VjcDI1NmsxoQORcM6e19T1T9gi7jxEZjk_sjVLGFscUNqAY9obgZaxbIN1ZHCCIyg\", \"enr:-Ku4QPn5eVhcoF1opaFEvg1b6JNFD2rqVkHQ8HApOKK61OIcIXD127bKWgAtbwI7pnxx6cDyk_nI88TrZKQaGMZj0q0Bh2F0dG5ldHOIAAAAAAAAAACEZXRoMpC1MD8qAAAAAP__________gmlkgnY0gmlwhDayLMaJc2VjcDI1NmsxoQK2sBOLGcUb4AwuYzFuAVCaNHA-dy24UuEKkeFNgCVCsIN1ZHCCIyg\", \"enr:-Ku4QEWzdnVtXc2Q0ZVigfCGggOVB2Vc1ZCPEc6j21NIFLODSJbvNaef1g4PxhPwl_3kax86YPheFUSLXPRs98vvYsoBh2F0dG5ldHOIAAAAAAAAAACEZXRoMpC1MD8qAAAAAP__________gmlkgnY0gmlwhDZBrP2Jc2VjcDI1NmsxoQM6jr8Rb1ktLEsVcKAPa08wCsKUmvoQ8khiOl_SLozf9IN1ZHCCIyg\"]\r\nStaticNodes = []\r\nTrustedNodes = []\r\nListenAddr = \":30303\"\r\nDiscAddr = \"\"\r\nEnableMsgEvents = false\r\n\r\n[Node.HTTPTimeouts]\r\nReadTimeout = 120000000000\r\nReadHeaderTimeout = 30000000000\r\nWriteTimeout = 120000000000\r\nIdleTimeout = 120000000000\r\n```\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/28151/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/28151/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1724884741",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/28151#issuecomment-1724884741",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/28151",
    "id": 1724884741,
    "node_id": "IC_kwDOAOvK985mz6cF",
    "user": {
      "login": "rjl493456442",
      "id": 5959481,
      "node_id": "MDQ6VXNlcjU5NTk0ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5959481?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rjl493456442",
      "html_url": "https://github.com/rjl493456442",
      "followers_url": "https://api.github.com/users/rjl493456442/followers",
      "following_url": "https://api.github.com/users/rjl493456442/following{/other_user}",
      "gists_url": "https://api.github.com/users/rjl493456442/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rjl493456442/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rjl493456442/subscriptions",
      "organizations_url": "https://api.github.com/users/rjl493456442/orgs",
      "repos_url": "https://api.github.com/users/rjl493456442/repos",
      "events_url": "https://api.github.com/users/rjl493456442/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rjl493456442/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-09-19T06:10:37Z",
    "updated_at": "2023-09-19T06:10:37Z",
    "author_association": "MEMBER",
    "body": "`Fatal: Failed to register the Ethereum service: database contains incompatible genesis (have bf7e331f7f7c1dd2e05159666b3bf8bc7a8a3a9eb1d518969eab529dd9b88c1a, new d4e56740f876aef8c010b86a40d5f56745a118d0906a34e69aec8c0db1cb8fa3)\r\n`\r\n\r\nYour data directory contains the incompatible genesis state belonging to another network. You need to either specify a different data directory or simply clean up the original one.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1724884741/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
