{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25730",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25730/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25730/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25730/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/25730",
  "id": 1368210126,
  "node_id": "I_kwDOAOvK985RjTrO",
  "number": 25730,
  "title": "Geth refuses to sync after being a few months offline",
  "user": {
    "login": "elsampsa",
    "id": 13978980,
    "node_id": "MDQ6VXNlcjEzOTc4OTgw",
    "avatar_url": "https://avatars.githubusercontent.com/u/13978980?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/elsampsa",
    "html_url": "https://github.com/elsampsa",
    "followers_url": "https://api.github.com/users/elsampsa/followers",
    "following_url": "https://api.github.com/users/elsampsa/following{/other_user}",
    "gists_url": "https://api.github.com/users/elsampsa/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/elsampsa/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/elsampsa/subscriptions",
    "organizations_url": "https://api.github.com/users/elsampsa/orgs",
    "repos_url": "https://api.github.com/users/elsampsa/repos",
    "events_url": "https://api.github.com/users/elsampsa/events{/privacy}",
    "received_events_url": "https://api.github.com/users/elsampsa/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 268304226,
      "node_id": "MDU6TGFiZWwyNjgzMDQyMjY=",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:docs",
      "name": "type:docs",
      "color": "fef2c0",
      "default": false,
      "description": null
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 28,
  "created_at": "2022-09-09T18:55:42Z",
  "updated_at": "2022-10-26T08:26:23Z",
  "closed_at": "2022-09-21T21:29:38Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Weird behaviour from geth when putting a client online after it's been offline for a few months.  I would really appreciate if someone would explain me what's going on / put me on the right track.\r\n\r\nSo far happened:\r\n\r\n- On Jan 22 did a fresh snap sync from scratch.  The blockchain was synced within a matter of days.  Awesome!\r\n- Wen't offline for the summer.  Let's call the  world state before summer \"S0\".\r\n- On Sept 22 went online again & wanted to go POS, so updated to geth 1.10.23 and started using prysm 3.0.0.\r\n- After going online again, geth refuses to reconstruct the current world state \"SC\".\r\n\r\nI am using the \"--syncmode=snap\" option.  When \"--syncmode=snap\" is enabled, I have to admit I am not sure which one of the two ways, (A) or (B), geth is syncing:\r\n\r\nA. The full-node way:\r\n\r\n- Picks up the world state \"S0\" where it was left in before summer.\r\n- Starts executing the blocks, until the state has been updated from \"S0\"->\"SC\"\r\n\r\nB. Snapshot download:\r\n\r\n- Proceeds in downloading state snapshot fragments from other peers\r\n- ..using snapshot packets, reconstructs the state **from scratch** into \"SC\"?\r\n- ..or tries to do an **incremental heal** of \"S0\" --> \"SC\" using snapshot fragments (sounds silly, right?  I guess I'm just imaging this)\r\n\r\nIs there some criteria which one of the two ways geth ends up doing?  Say, if state is enough old, then do (B) instead of (A)?\r\n\r\nObviously, I would prefer (A), since I'm not syncing from scratch.  Should I then remove \"--syncmode=snap\" ?\r\n\r\nNext, let's take a look at the logs:\r\n```\r\nsyys 05 11:28:36 sampsa-asus geth[11610]: INFO [09-05|11:28:36.595] Imported new block headers               count=1    elapsed=4.940ms     number=15,476,571 hash=0cb37e..4b58b2 age=1h51m15s\r\nsyys 05 11:28:46 sampsa-asus geth[11610]: INFO [09-05|11:28:46.906] State heal in progress                   accounts=11,848,726@533.25MiB slots=34,874,749@2.60GiB    codes=107,715@798.25MiB nodes=363,163,945@58.88GiB pending=1\r\nsyys 05 11:29:04 sampsa-asus geth[11610]: WARN [09-05|11:29:04.616] Snapshot extension registration failed   peer=35ba3061 err=\"peer connected on snap without compatible eth support\"\r\nsyys 05 11:29:08 sampsa-asus geth[11610]: INFO [09-05|11:29:08.040] State heal in progress                   accounts=11,848,726@533.25MiB slots=34,874,749@2.60GiB    codes=107,715@798.25MiB nodes=363,163,945@58.88GiB pending=1\r\nsyys 05 11:29:08 sampsa-asus geth[11610]: INFO [09-05|11:29:08.096] Imported new block headers               count=1    elapsed=5.270ms     number=15,476,572 hash=eab73d..75ece5 age=1h51m42s\r\nsyys 05 11:29:08 sampsa-asus geth[11610]: WARN [09-05|11:29:08.098] Dropping unsynced node during sync       id=c83d584aa6a7cf69 conn=inbound addr=146.0.216.163:40678   type=Geth/v1.10.23-stable...\r\nsyys 05 11:29:23 sampsa-asus geth[11610]: WARN [09-05|11:29:23.229] Snapshot extension registration failed   peer=2b87dc19 err=\"peer connected on snap without compatible eth support\"\r\nsyys 05 11:29:27 sampsa-asus geth[11610]: WARN [09-05|11:29:27.443] Snapshot extension registration failed   peer=6de3885d err=\"peer connected on snap without compatible eth support\"\r\nsyys 05 11:30:04 sampsa-asus geth[11610]: INFO [09-05|11:30:04.652] Imported new block headers               count=1    elapsed=5.077ms     number=15,476,573 hash=695338..95f981 age=1h52m27s\r\nsyys 05 11:30:05 sampsa-asus geth[11610]: INFO [09-05|11:30:05.349] Downloader queue stats                   receiptTasks=0     blockTasks=0     itemSize=254.59KiB throttle=1030\r\nsyys 05 11:30:48 sampsa-asus geth[11610]: INFO [09-05|11:30:48.716] Imported new block headers               count=2    elapsed=5.064ms     number=15,476,575 hash=664007..cdd2dd age=1h52m55s\r\nsyys 05 11:30:49 sampsa-asus geth[11610]: WARN [09-05|11:30:49.374] Pivot became stale, moving               old=15,476,449 new=15,476,513\r\nsyys 05 11:30:49 sampsa-asus geth[11610]: INFO [09-05|11:30:49.504] Imported new block receipts              count=64   elapsed=129.241ms   number=15,476,512 hash=14ddfa..f13f36 age=2h9m6s    size=8.55MiB\r\nsyys 05 11:30:49 sampsa-asus geth[11610]: INFO [09-05|11:30:49.504] State heal in progress                   accounts=11,848,726@533.25MiB slots=34,874,749@2.60GiB    codes=107,715@798.25MiB nodes=363,163,945@58.88GiB pending=1\r\nsyys 05 11:30:55 sampsa-asus geth[11610]: INFO [09-05|11:30:55.112] Imported new block headers               count=1    elapsed=4.197ms     number=15,476,576 hash=413332..413f19 age=1h52m57s\r\nsyys 05 11:31:23 sampsa-asus geth[11610]: INFO [09-05|11:31:23.472] Imported new block headers               count=1    elapsed=4.914ms     number=15,476,577 hash=192227..5f294e age=1h52m55s\r\nsyys 05 11:31:24 sampsa-asus geth[11610]: INFO [09-05|11:31:24.524] Downloader queue stats                   receiptTasks=0     blockTasks=0     itemSize=260.17KiB throttle=1008\r\nsyys 05 11:31:36 sampsa-asus geth[11610]: INFO [09-05|11:31:36.180] Imported new block headers               count=2    elapsed=9.148ms     number=15,476,579 hash=1d9258..ef0920 age=1h52m52s\r\nsyys 05 11:32:04 sampsa-asus geth[11610]: INFO [09-05|11:32:04.529] Imported new block headers               count=2    elapsed=6.110ms     number=15,476,581 hash=37288d..497e7a age=1h53m14s\r\nsyys 05 11:32:07 sampsa-asus geth[11610]: INFO [09-05|11:32:07.813] Imported new block headers               count=6    elapsed=17.703ms    number=15,476,587 hash=dbcbde..6a6aa8 age=1h52m40s\r\nsyys 05 11:32:11 sampsa-asus geth[11610]: INFO [09-05|11:32:11.064] Imported new block headers               count=2    elapsed=5.816ms     number=15,476,589 hash=f78c93..d547a7 age=1h52m35s\r\nsyys 05 11:32:14 sampsa-asus geth[11610]: INFO [09-05|11:32:14.329] Imported new block headers               count=1    elapsed=5.343ms     number=15,476,590 hash=1d970a..dbb580 age=1h52m36s\r\nsyys 05 11:32:17 sampsa-asus geth[11610]: INFO [09-05|11:32:17.596] Imported new block headers               count=1    elapsed=5.462ms     number=15,476,591 hash=8efbe0..077eb1 age=1h52m28s\r\nsyys 05 11:32:24 sampsa-asus geth[11610]: INFO [09-05|11:32:24.007] Imported new block headers               count=2    elapsed=13.627ms    number=15,476,593 hash=9d2ae6..f64c80 age=1h51m17s\r\nsyys 05 11:32:24 sampsa-asus geth[11610]: INFO [09-05|11:32:24.562] Downloader queue stats                   receiptTasks=0     blockTasks=0     itemSize=372.89KiB throttle=704\r\nsyys 05 11:32:30 sampsa-asus geth[11610]: INFO [09-05|11:32:30.406] Imported new block headers               count=1    elapsed=5.857ms     number=15,476,594 hash=59a38c..b964ff age=1h50m21s\r\nsyys 05 11:32:33 sampsa-asus geth[11610]: INFO [09-05|11:32:33.696] Imported new block headers               count=1    elapsed=5.346ms     number=15,476,595 hash=a0f7d8..ccb3e3 age=1h50m1s\r\nsyys 05 11:32:40 sampsa-asus geth[11610]: INFO [09-05|11:32:40.090] Imported new block headers               count=3    elapsed=5.102ms     number=15,476,598 hash=961009..fc298a age=1h49m9s\r\nsyys 05 11:32:43 sampsa-asus geth[11610]: INFO [09-05|11:32:43.361] Imported new block headers               count=1    elapsed=4.918ms     number=15,476,599 hash=05bd57..d6f4b9 age=1h49m\r\nsyys 05 11:32:49 sampsa-asus geth[11610]: INFO [09-05|11:32:49.788] Imported new block headers               count=6    elapsed=22.194ms    number=15,476,605 hash=91c36f..a618eb age=1h48m28s\r\nsyys 05 11:32:53 sampsa-asus geth[11610]: INFO [09-05|11:32:53.036] Imported new block headers               count=1    elapsed=4.784ms     number=15,476,606 hash=d3a357..1cb4d0 age=1h48m30s\r\nsyys 05 11:32:56 sampsa-asus geth[11610]: INFO [09-05|11:32:56.313] Imported new block headers               count=1    elapsed=4.866ms     number=15,476,607 hash=c0fc48..6b72f0 age=1h48m30s\r\nsyys 05 11:32:59 sampsa-asus geth[11610]: INFO [09-05|11:32:59.583] Imported new block headers               count=1    elapsed=5.789ms     number=15,476,608 hash=f7470d..d2f3c5 age=1h48m31s\r\n```\r\n\r\n- Blocks are imported at a good pace?  A few milliseconds per block.\r\n- \"Pivot became stale, moving\" : does this has to do something with downloading the snapshot from other peers? .. starting it all over again?  Is it doing (A) or (B) (see above)?\r\n- State heal in progress reports the number of accounts in ethereum.. this should be near hundred millions at the moment?  Why the state is healed/updated soooo slow?  (this is after being a few days online).\r\n\r\nLet's continue:\r\n```\r\nsyys 05 11:50:13 sampsa-asus geth[11610]: INFO [09-05|11:50:13.381] Disabling direct-ancient mode            origin=15,477,053 ancient=14,627,238\r\nsyys 05 11:50:13 sampsa-asus geth[11610]: INFO [09-05|11:50:13.381] State heal in progress                   accounts=11,848,726@533.25MiB slots=34,874,749@2.60GiB    codes=107,715@798.25MiB nodes=363,168,162@58.88GiB pending=1\r\nsyys 05 11:50:13 sampsa-asus geth[11610]: INFO [09-05|11:50:13.750] Imported new block headers               count=9    elapsed=90.869ms    number=15,477,128 hash=8cad3b..8a6686 age=1m10s     ignored=66\r\nsyys 05 11:50:17 sampsa-asus geth[11610]: INFO [09-05|11:50:17.219] Imported new block headers               count=1    elapsed=4.008ms     number=15,477,129 hash=4a8b20..97bd42 age=1m10s\r\nsyys 05 11:50:18 sampsa-asus geth[11610]: INFO [09-05|11:50:18.430] Downloader queue stats                   receiptTasks=0     blockTasks=0     itemSize=262.34KiB throttle=1000\r\nsyys 05 11:50:18 sampsa-asus geth[11610]: INFO [09-05|11:50:18.451] Imported new block receipts              count=10   elapsed=20.515ms    number=15,477,063 hash=68f457..1a4bca age=14m52s    size=2.11MiB\r\nsyys 05 11:50:18 sampsa-asus geth[11610]: INFO [09-05|11:50:18.451] State heal in progress                   accounts=11,848,726@533.25MiB slots=34,874,749@2.60GiB    codes=107,715@798.25MiB nodes=363,168,162@58.88GiB pending=1\r\nsyys 05 11:50:25 sampsa-asus geth[11610]: INFO [09-05|11:50:25.672] Imported new block headers               count=1    elapsed=6.006ms     number=15,477,130 hash=5c6caa..88b273\r\nsyys 05 11:50:29 sampsa-asus geth[11610]: INFO [09-05|11:50:29.716] State heal in progress                   accounts=11,848,726@533.25MiB slots=34,874,749@2.60GiB    codes=107,715@798.25MiB nodes=363,169,396@58.88GiB pending=19532\r\nsyys 05 11:50:40 sampsa-asus geth[11610]: WARN [09-05|11:50:40.869] Snapshot extension registration failed   peer=1125cc47 err=\"peer connected on snap without compatible eth support\"\r\nsyys 05 11:50:47 sampsa-asus geth[11610]: INFO [09-05|11:50:47.686] Imported new block headers               count=1    elapsed=8.713ms     number=15,477,131 hash=0145a7..0ce6dc\r\n```\r\n\r\n- What is disabling direct-ancient mode?  Does it has to do with the problem at hand?\r\n- Note the \"State heal in progress\" reporting number of pending accounts jumping from 1 to 19532.  Why's that?\r\n- Note that donwloaded and verified blocks are practically *there*: \"age=1m10s\"\r\n- Then we have **a lot** of this going on:\r\n```\r\nsyys 05 16:08:19 sampsa-asus geth[11610]: WARN [09-05|16:08:19.561] Unexpected bytecode heal packet          peer=905d36fa reqid=7,304,675,219,279,965,590\r\n```\r\n- what's that about?  Haven't seen a proper explanation of this anywhere.\r\n\r\nThe client was running ~ 4 days until I got fed up and put it offline.  Got this far:\r\n```\r\nsyys 05 16:08:58 sampsa-asus geth[11610]: INFO [09-05|16:08:58.909] State heal in progress                   accounts=12,866,567@579.80MiB slots=37,899,809@2.82GiB    codes=111,459@826.38MiB nodes=371,245,285@60.02GiB pending=188,584\r\n```\r\n\r\nI interprete that downloaded and verified blocks are ok (it seem to reach the latest block occasionally), but the client is unable to reconstruct the up-to-date world state \"SC\".\r\n\r\nI don't understand why.  Once the block is downloaded and verified you get the state change, so what is interfering here with the state update/reconstruction?\r\n\r\nIs there some competition/contradiction going on between (A) and (B)? (see above)\r\n\r\nSome details on my system:\r\n8 x Intel(R) Core(TM) i7-4700HQ CPU @ 2.40GHz\r\n2TB SSD drive: \"Crucial BX500\"\r\n12 GB RAM (& all the swap you could wish for)\r\n(as mentioned, this was able to snapsync from scratch before summer)\r\n\r\nP. S. It would be important to be able to contribute to the network without being a 24/7 avail/on-call eth-client-massage service provider.. to be offline if needed, etc.  Imagine that I'd done staking at this point..!\r\n\r\n",
  "closed_by": {
    "login": "elsampsa",
    "id": 13978980,
    "node_id": "MDQ6VXNlcjEzOTc4OTgw",
    "avatar_url": "https://avatars.githubusercontent.com/u/13978980?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/elsampsa",
    "html_url": "https://github.com/elsampsa",
    "followers_url": "https://api.github.com/users/elsampsa/followers",
    "following_url": "https://api.github.com/users/elsampsa/following{/other_user}",
    "gists_url": "https://api.github.com/users/elsampsa/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/elsampsa/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/elsampsa/subscriptions",
    "organizations_url": "https://api.github.com/users/elsampsa/orgs",
    "repos_url": "https://api.github.com/users/elsampsa/repos",
    "events_url": "https://api.github.com/users/elsampsa/events{/privacy}",
    "received_events_url": "https://api.github.com/users/elsampsa/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25730/reactions",
    "total_count": 1,
    "+1": 1,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25730/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1242908491",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/25730#issuecomment-1242908491",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25730",
    "id": 1242908491,
    "node_id": "IC_kwDOAOvK985KFUdL",
    "user": {
      "login": "MariusVanDerWijden",
      "id": 16664698,
      "node_id": "MDQ6VXNlcjE2NjY0Njk4",
      "avatar_url": "https://avatars.githubusercontent.com/u/16664698?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MariusVanDerWijden",
      "html_url": "https://github.com/MariusVanDerWijden",
      "followers_url": "https://api.github.com/users/MariusVanDerWijden/followers",
      "following_url": "https://api.github.com/users/MariusVanDerWijden/following{/other_user}",
      "gists_url": "https://api.github.com/users/MariusVanDerWijden/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MariusVanDerWijden/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MariusVanDerWijden/subscriptions",
      "organizations_url": "https://api.github.com/users/MariusVanDerWijden/orgs",
      "repos_url": "https://api.github.com/users/MariusVanDerWijden/repos",
      "events_url": "https://api.github.com/users/MariusVanDerWijden/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MariusVanDerWijden/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-11T07:39:51Z",
    "updated_at": "2022-09-11T07:39:51Z",
    "author_association": "MEMBER",
    "body": "It looks like you were not fully snap synced when you shut down your node the last time. You were most likely still in the state heal phase. Otherwise geth would import blocks one by one afterwards. The problem now is that you have a really old state that is not fully healed, so a lot of accounts, balances etc are different than the current state. In the state healing phase these states are fetched one by one from the network. Since they are so many differences between you and the network, the state heal phase will likely never finish. The best way to fix this is to stop geth and remove the old state that you have (via `geth removedb` `y` 'n`). This will force the node to start a new snap sync which should finish in a couple of hours. \r\n\r\nRegarding your PS: nodes can recover very quickly from a couple of days of downtime once they are fully synced (and healed). Since the gas limit in ethereum was voted up and is pretty high atm, the nodes have to do a lot of computation, especially if they want to sync up to the network",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1242908491/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1242994938",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/25730#issuecomment-1242994938",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25730",
    "id": 1242994938,
    "node_id": "IC_kwDOAOvK985KFpj6",
    "user": {
      "login": "elsampsa",
      "id": 13978980,
      "node_id": "MDQ6VXNlcjEzOTc4OTgw",
      "avatar_url": "https://avatars.githubusercontent.com/u/13978980?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/elsampsa",
      "html_url": "https://github.com/elsampsa",
      "followers_url": "https://api.github.com/users/elsampsa/followers",
      "following_url": "https://api.github.com/users/elsampsa/following{/other_user}",
      "gists_url": "https://api.github.com/users/elsampsa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/elsampsa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/elsampsa/subscriptions",
      "organizations_url": "https://api.github.com/users/elsampsa/orgs",
      "repos_url": "https://api.github.com/users/elsampsa/repos",
      "events_url": "https://api.github.com/users/elsampsa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/elsampsa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-11T16:06:18Z",
    "updated_at": "2022-09-11T16:06:55Z",
    "author_association": "NONE",
    "body": "Thanks for the reply.  But I am 100% sure that it synced.. checked it form the geth console, etc.\r\n\r\nI guess there's nothing else left to do than to do yet  another snap sync & I keep this ticket still open a few days just in case..\r\n\r\nTo confirm.. once the snap sync is over, after that geth will behave like a normal \"full\" node..  there's no condition/bug? under which it would start a snap sync _again_.   And it's pitty no-one never explains that \"Unexpected bytecode heal packet\"..!",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1242994938/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1243017061",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/25730#issuecomment-1243017061",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25730",
    "id": 1243017061,
    "node_id": "IC_kwDOAOvK985KFu9l",
    "user": {
      "login": "MariusVanDerWijden",
      "id": 16664698,
      "node_id": "MDQ6VXNlcjE2NjY0Njk4",
      "avatar_url": "https://avatars.githubusercontent.com/u/16664698?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MariusVanDerWijden",
      "html_url": "https://github.com/MariusVanDerWijden",
      "followers_url": "https://api.github.com/users/MariusVanDerWijden/followers",
      "following_url": "https://api.github.com/users/MariusVanDerWijden/following{/other_user}",
      "gists_url": "https://api.github.com/users/MariusVanDerWijden/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MariusVanDerWijden/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MariusVanDerWijden/subscriptions",
      "organizations_url": "https://api.github.com/users/MariusVanDerWijden/orgs",
      "repos_url": "https://api.github.com/users/MariusVanDerWijden/repos",
      "events_url": "https://api.github.com/users/MariusVanDerWijden/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MariusVanDerWijden/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-11T18:23:19Z",
    "updated_at": "2022-09-11T18:23:19Z",
    "author_association": "MEMBER",
    "body": "Yes a node will never start a sync again after its been synced once\r\nThe \"unexpected bytecode heal packet\" is printed either when a peer sends us data that we haven't requested or if a reply arrives after the request already timed out (so you request something, the peer takes too long to respond, you stop tracking the request, the peer finally responds)",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1243017061/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1243271286",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/25730#issuecomment-1243271286",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25730",
    "id": 1243271286,
    "node_id": "IC_kwDOAOvK985KGtB2",
    "user": {
      "login": "elsampsa",
      "id": 13978980,
      "node_id": "MDQ6VXNlcjEzOTc4OTgw",
      "avatar_url": "https://avatars.githubusercontent.com/u/13978980?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/elsampsa",
      "html_url": "https://github.com/elsampsa",
      "followers_url": "https://api.github.com/users/elsampsa/followers",
      "following_url": "https://api.github.com/users/elsampsa/following{/other_user}",
      "gists_url": "https://api.github.com/users/elsampsa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/elsampsa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/elsampsa/subscriptions",
      "organizations_url": "https://api.github.com/users/elsampsa/orgs",
      "repos_url": "https://api.github.com/users/elsampsa/repos",
      "events_url": "https://api.github.com/users/elsampsa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/elsampsa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-12T06:22:13Z",
    "updated_at": "2022-09-12T06:26:35Z",
    "author_association": "NONE",
    "body": "I'm running\r\n```\r\ngeth removedb\r\n```\r\nShould I remove ancient database as well..?\r\n\r\nI keps the ancient database & now it seems to work like a full node..?\r\n```\r\nsyys 12 08:23:08 sampsa-asus geth[2567]: INFO [09-12|08:23:08.248] Imported new block receipts              count=18   elapsed=135.821ms   number=14,627,793 hash=769804..0be43a age=4mo3w2d\r\n....\r\nsyys 12 08:23:03 sampsa-asus geth[2567]: WARN [09-12|08:23:03.989] Pivot seemingly stale, moving            old=15,519,069 new=15,519,133\r\n```\r\nState heal logs missing at the moment\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1243271286/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1244222223",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/25730#issuecomment-1244222223",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25730",
    "id": 1244222223,
    "node_id": "IC_kwDOAOvK985KKVMP",
    "user": {
      "login": "aathan",
      "id": 24279435,
      "node_id": "MDQ6VXNlcjI0Mjc5NDM1",
      "avatar_url": "https://avatars.githubusercontent.com/u/24279435?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aathan",
      "html_url": "https://github.com/aathan",
      "followers_url": "https://api.github.com/users/aathan/followers",
      "following_url": "https://api.github.com/users/aathan/following{/other_user}",
      "gists_url": "https://api.github.com/users/aathan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aathan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aathan/subscriptions",
      "organizations_url": "https://api.github.com/users/aathan/orgs",
      "repos_url": "https://api.github.com/users/aathan/repos",
      "events_url": "https://api.github.com/users/aathan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aathan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-12T19:23:52Z",
    "updated_at": "2022-09-12T19:23:52Z",
    "author_association": "NONE",
    "body": "I've spent some time looking around and trying to understand the differences between geth's sync modes but am still left with some open questions. For example: Does a geth node that either snap or fast sync's initially, end up with the same database state as a \"full node\" that has executed all of the transactions since the genesis block? Or does snap sync involve only acquiring a \"digest\" of the storage state of all addresses as of the sync point, such that future requests made to this node for storage as of some older block, would then involve the node making new requests to peers to acquire that older state? Please forgive me if any of this is malformed. I'm asking these questions having made some possibly incorrect assumptions about \"everything.\"\r\n\r\nHaving just written these questions, I thought of a better google query, and found this: https://github.com/ethereum/go-ethereum/issues/24413\r\n\r\nProbably a good idea to incorporate some/all of the wisdom there, into the docs.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1244222223/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1245550340",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/25730#issuecomment-1245550340",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25730",
    "id": 1245550340,
    "node_id": "IC_kwDOAOvK985KPZcE",
    "user": {
      "login": "elsampsa",
      "id": 13978980,
      "node_id": "MDQ6VXNlcjEzOTc4OTgw",
      "avatar_url": "https://avatars.githubusercontent.com/u/13978980?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/elsampsa",
      "html_url": "https://github.com/elsampsa",
      "followers_url": "https://api.github.com/users/elsampsa/followers",
      "following_url": "https://api.github.com/users/elsampsa/following{/other_user}",
      "gists_url": "https://api.github.com/users/elsampsa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/elsampsa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/elsampsa/subscriptions",
      "organizations_url": "https://api.github.com/users/elsampsa/orgs",
      "repos_url": "https://api.github.com/users/elsampsa/repos",
      "events_url": "https://api.github.com/users/elsampsa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/elsampsa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-13T15:05:56Z",
    "updated_at": "2022-09-13T15:13:28Z",
    "author_association": "NONE",
    "body": "After doing ``geth removedb\" (but keeping ancient database/freezer) now it's in the state heal process again.  It downloaded all missing blocks and after that \"state heal\" logs started to appear.\r\n\r\nNow, as always, logs are saturated with:\r\n```\r\nUnexpected trienode heal packet\r\n```\r\nState healing is painstakingly slow:\r\n```\r\nsyys 13 16:51:30 sampsa-asus geth[1325]: INFO [09-13|16:51:30.912] State heal in progress                   accounts=524,748@26.14MiB     slots=1,009,090@76.24MiB    codes=877@6.82MiB     nodes=5,091,192@1.26GiB    pending=29246\r\n```\r\nMaybe 500 000 accounts per 24h ..?\r\n\r\nSo ``geth removedb`` didn't help.  Now what?  Should I also remove also the \"ancient\" database and try to do snap sync?\r\n\r\ndownload recent global state \"SC0\" using snap\r\n\r\nthen that global state needs to be \"healed\" using the downloaded blocks \"SC0\" --> blocks --> \"SC1\" (current global state)\r\n\r\nNobody knows why.. just (clueless) nerds (like myself) trying to scrap information from the internet. Do you have any \"testing\" lab where you put clients on & offline & try to disturb them in some private geth ethereum network?  Or does \"ci/cd testing\" equal to \"merge\" (I hope not).\r\n\r\nEDIT: maybe the ancient database is corrupt..?  Does the ancient database include a state trie that is loaded in the beginning & then it tries to heal it..\r\n..or is the latest state fetched with snap sync if I have done ``geth removedb`` (but not removed the ancient database)",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1245550340/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1245730940",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/25730#issuecomment-1245730940",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25730",
    "id": 1245730940,
    "node_id": "IC_kwDOAOvK985KQFh8",
    "user": {
      "login": "aathan",
      "id": 24279435,
      "node_id": "MDQ6VXNlcjI0Mjc5NDM1",
      "avatar_url": "https://avatars.githubusercontent.com/u/24279435?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aathan",
      "html_url": "https://github.com/aathan",
      "followers_url": "https://api.github.com/users/aathan/followers",
      "following_url": "https://api.github.com/users/aathan/following{/other_user}",
      "gists_url": "https://api.github.com/users/aathan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aathan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aathan/subscriptions",
      "organizations_url": "https://api.github.com/users/aathan/orgs",
      "repos_url": "https://api.github.com/users/aathan/repos",
      "events_url": "https://api.github.com/users/aathan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aathan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-13T17:37:50Z",
    "updated_at": "2022-09-13T17:39:17Z",
    "author_association": "NONE",
    "body": "On a related note, I ended up with the impression that it has become quite difficult to stand up a full node in lieu of using centralized providers such as alchemy/moralis/infura etc because of these types of troubles (and perhaps my last attempt was when snap sync was too new). That slowness and/or troubles in this area ends up pushing dApp providers to rely on centralized resources such as Infura/Moralis/Alchemy (vs it being super easy to stand up their own nodes) may be an issue to think about (pros and cons to each).\r\n\r\nIt would be really nice to be able to stand up a full node that can answer historical requests (gcmode archive) quickly by acquiring that database and/or being able to forward such queries to/from peers, and then verifying it on a best-efforts basis over a longer timeframe. I'm not fully conversant on the security implications and/or implementation difficulties and/or bandwidth/resource management issues of doing such a thing -- but I sense it would help reduce centralization onto a handful of dApp service providers.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1245730940/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1253265706",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/25730#issuecomment-1253265706",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25730",
    "id": 1253265706,
    "node_id": "IC_kwDOAOvK985Ks1Eq",
    "user": {
      "login": "Sreeram1993",
      "id": 57712569,
      "node_id": "MDQ6VXNlcjU3NzEyNTY5",
      "avatar_url": "https://avatars.githubusercontent.com/u/57712569?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sreeram1993",
      "html_url": "https://github.com/Sreeram1993",
      "followers_url": "https://api.github.com/users/Sreeram1993/followers",
      "following_url": "https://api.github.com/users/Sreeram1993/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sreeram1993/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sreeram1993/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sreeram1993/subscriptions",
      "organizations_url": "https://api.github.com/users/Sreeram1993/orgs",
      "repos_url": "https://api.github.com/users/Sreeram1993/repos",
      "events_url": "https://api.github.com/users/Sreeram1993/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sreeram1993/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-21T06:32:28Z",
    "updated_at": "2022-09-21T06:32:28Z",
    "author_association": "NONE",
    "body": "Similar scenarios in my node as well. I have 2 geth archival nodes connected to 2 beacon nodes and both seems to have completed merge. But the nodes seems to be syncing very slowly. PFB the status from both nodes\r\n\r\nGETH\r\nnode 0 - INFO [09-21|06:25:06.231] Imported new potential chain segment blocks=1 txs=295 mgas=22.221 elapsed=9.974s mgasps=2.228 number=15,559,291 hash=0961a7..1d9571 age=2d21h47m dirty=0.00B\r\nnode 1 - INFO [09-21|06:25:07.196] Imported new potential chain segment blocks=1 txs=371 mgas=27.281 elapsed=9.188s mgasps=2.969 number=15,557,806 hash=9b6067..887a31 age=3d2h46m dirty=0.00B\r\n\r\nBEACON\r\nnode 0 - time=\"2022-09-21 06:26:27\" level=info msg=\"Processing block batch of size 64 starting from 0xb47a08d1... 4722176/4743130 - estimated time remaining 15m39s\" blocksPerSecond=22.3 peers=49 prefix=initial-sync\r\nnode 1 - time=\"2022-09-21 06:25:20\" level=info msg=\"Processing block batch of size 64 starting from 0x2ff82104... 4720690/4743124 - estimated time remaining 29m19s\" blocksPerSecond=12.8 peers=45 prefix=initial-sync\r\n\r\nThe slots(3 days behind current slot) in beacon seems to be in sync with the block shown in geth node. Can anyone confirm if this is healthy and our sync is well and good but a bit slow ?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1253265706/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1253308956",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/25730#issuecomment-1253308956",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25730",
    "id": 1253308956,
    "node_id": "IC_kwDOAOvK985Ks_oc",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-21T07:22:50Z",
    "updated_at": "2022-09-21T07:22:50Z",
    "author_association": "MEMBER",
    "body": "> Now, as always, logs are saturated with:\r\n>\r\n> Unexpected trienode heal packet\r\n\r\nThis has actually been fixed, but not pushed to `stable`(a.k.a `v1.10.xx`).  If you use `latest` (a.k.a `1.11.xx -unstable`) you should not see these messages (as much). Several issues related to snap-sync were fixed, and in many cases that were previously unable to sync due to IO performance is now made possible. \r\n\r\nSo, I recommend switching geth-version. \r\n\r\n\r\n> So geth removedb didn't help. Now what? Should I also remove also the \"ancient\" database and try to do snap sync?\r\n\r\nI recommend\r\n\r\n1. Use 1.11\r\n2. do `geth removedb` but keep ancients intact. \r\n\r\n@Sreeram1993 \r\n\r\n```\r\nnode 0 - INFO [09-21|06:25:06.231] Imported new potential chain segment blocks=1 txs=295 mgas=22.221 elapsed=9.974s mgasps=2.228 number=15,559,291 hash=0961a7..1d9571 age=2d21h47m dirty=0.00B\r\nnode 1 - INFO [09-21|06:25:07.196] Imported new potential chain segment blocks=1 txs=371 mgas=27.281 elapsed=9.188s mgasps=2.969 number=15,557,806 hash=9b6067..887a31 age=3d2h46m dirty=0.00B\r\n```\r\nThese numbers aren't great -- as you can sees, importing one block takes almost `10s`. That is very close to the block-time. Obviously, if import is slower than block-time, then you will not be able to keep up. Other than that, yeah, looks ok to me",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1253308956/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1253309480",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/25730#issuecomment-1253309480",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25730",
    "id": 1253309480,
    "node_id": "IC_kwDOAOvK985Ks_wo",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-21T07:23:21Z",
    "updated_at": "2022-09-21T07:23:21Z",
    "author_association": "MEMBER",
    "body": "Oh, btw -- is there really a point in keeping this bug open? Seems like the discussion has trailed off into new areas? ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1253309480/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1253314910",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/25730#issuecomment-1253314910",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25730",
    "id": 1253314910,
    "node_id": "IC_kwDOAOvK985KtBFe",
    "user": {
      "login": "Sreeram1993",
      "id": 57712569,
      "node_id": "MDQ6VXNlcjU3NzEyNTY5",
      "avatar_url": "https://avatars.githubusercontent.com/u/57712569?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sreeram1993",
      "html_url": "https://github.com/Sreeram1993",
      "followers_url": "https://api.github.com/users/Sreeram1993/followers",
      "following_url": "https://api.github.com/users/Sreeram1993/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sreeram1993/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sreeram1993/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sreeram1993/subscriptions",
      "organizations_url": "https://api.github.com/users/Sreeram1993/orgs",
      "repos_url": "https://api.github.com/users/Sreeram1993/repos",
      "events_url": "https://api.github.com/users/Sreeram1993/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sreeram1993/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-21T07:29:04Z",
    "updated_at": "2022-09-21T07:29:04Z",
    "author_association": "NONE",
    "body": "Thanks for the update @holiman  Is there anyway to increase the import time, I am already using an 16TB SSD and the nodes are in AKS as well. Any sol to increase peers or network bandwidth so that archival node stays upto date ?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1253314910/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1253318606",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/25730#issuecomment-1253318606",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25730",
    "id": 1253318606,
    "node_id": "IC_kwDOAOvK985KtB_O",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-21T07:32:53Z",
    "updated_at": "2022-09-21T07:32:53Z",
    "author_association": "MEMBER",
    "body": "Increasing peers will most likely have a negative impact. I don't know what AKS means. \r\n\r\nIf you are interested in trying something new, we have a new database backend which we think will be an improvement: https://github.com/ethereum/go-ethereum/pull/24615 . Unfortunately, we don't have any conversion-tool, so the only thing one can do with it is to sync from scratch -- which is a PITA with archive node, I know, so I don't actually expect you to try it out. \r\n\r\nOther than that, I don't have a lot of ideas. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1253318606/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1254994230",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/25730#issuecomment-1254994230",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25730",
    "id": 1254994230,
    "node_id": "IC_kwDOAOvK985KzbE2",
    "user": {
      "login": "Sreeram1993",
      "id": 57712569,
      "node_id": "MDQ6VXNlcjU3NzEyNTY5",
      "avatar_url": "https://avatars.githubusercontent.com/u/57712569?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sreeram1993",
      "html_url": "https://github.com/Sreeram1993",
      "followers_url": "https://api.github.com/users/Sreeram1993/followers",
      "following_url": "https://api.github.com/users/Sreeram1993/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sreeram1993/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sreeram1993/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sreeram1993/subscriptions",
      "organizations_url": "https://api.github.com/users/Sreeram1993/orgs",
      "repos_url": "https://api.github.com/users/Sreeram1993/repos",
      "events_url": "https://api.github.com/users/Sreeram1993/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sreeram1993/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-22T13:04:04Z",
    "updated_at": "2022-09-22T13:04:04Z",
    "author_association": "NONE",
    "body": "@holiman  Got it fixed and I started running. But I get this INFO for blocks multiple times for a same block. \r\n\r\n--GETH--\r\nINFO [09-22|13:01:36.034] Imported new potential chain segment blocks=1 txs=210 mgas=25.110 elapsed=1m19.317s mgasps=0.317 number=15,588,279 hash=461b03..8964d1 age=2h34m37s dirty=0.00B\r\nINFO [09-22|13:01:36.176] Imported new potential chain segment blocks=1 txs=210 mgas=25.110 elapsed=142.118ms mgasps=176.686 number=15,588,279 hash=461b03..8964d1 age=2h34m37s dirty=0.00B\r\nINFO [09-22|13:01:36.318] Imported new potential chain segment blocks=1 txs=210 mgas=25.110 elapsed=141.422ms mgasps=177.556 number=15,588,279 hash=461b03..8964d1 age=2h34m37s dirty=0.00B\r\n--GETH--\r\nCertain blocks show import just once while some shows multiple info messages like above. Is it corrupting the node ? ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1254994230/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1256162411",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/25730#issuecomment-1256162411",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25730",
    "id": 1256162411,
    "node_id": "IC_kwDOAOvK985K34Rr",
    "user": {
      "login": "Yvelo",
      "id": 95425399,
      "node_id": "U_kgDOBbATdw",
      "avatar_url": "https://avatars.githubusercontent.com/u/95425399?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yvelo",
      "html_url": "https://github.com/Yvelo",
      "followers_url": "https://api.github.com/users/Yvelo/followers",
      "following_url": "https://api.github.com/users/Yvelo/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yvelo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yvelo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yvelo/subscriptions",
      "organizations_url": "https://api.github.com/users/Yvelo/orgs",
      "repos_url": "https://api.github.com/users/Yvelo/repos",
      "events_url": "https://api.github.com/users/Yvelo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yvelo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-23T12:42:37Z",
    "updated_at": "2022-09-23T12:43:29Z",
    "author_association": "NONE",
    "body": "I have the same issue after upgrading geth syncmode from Full to Snap. 12 Hours later it is still syncing with no clear indication on when or if the process will end.  There are some posts that the parameter \"accounts\" should reach the total number of Ethereum accounts (201M today) for the snap sync process to end. Which in this case, means it will never ends. Or shall I simply be more patient?\r\n\r\nSep 23 12:34:04 eth2-validator-0 bash[24081]: INFO [09-23|12:34:04.490] State heal in progress                   accounts=169,292@9.01MiB  slots=293,066@22.30MiB codes=401@2.71MiB    nodes=2,170,769@585.82MiB pending=20889\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1256162411/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1256317213",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/25730#issuecomment-1256317213",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25730",
    "id": 1256317213,
    "node_id": "IC_kwDOAOvK985K4eEd",
    "user": {
      "login": "Yvelo",
      "id": 95425399,
      "node_id": "U_kgDOBbATdw",
      "avatar_url": "https://avatars.githubusercontent.com/u/95425399?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yvelo",
      "html_url": "https://github.com/Yvelo",
      "followers_url": "https://api.github.com/users/Yvelo/followers",
      "following_url": "https://api.github.com/users/Yvelo/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yvelo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yvelo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yvelo/subscriptions",
      "organizations_url": "https://api.github.com/users/Yvelo/orgs",
      "repos_url": "https://api.github.com/users/Yvelo/repos",
      "events_url": "https://api.github.com/users/Yvelo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yvelo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-23T14:51:54Z",
    "updated_at": "2022-09-23T14:51:54Z",
    "author_association": "NONE",
    "body": "In an attempt to follow @holiman recommendations, I failed to locate the latest version of geth (a.k.a 1.11.xx -unstable). The last version published on github is the 1.10.25. A google seach on \"go-ethereum v1.11.1\" is not helpful either. Any help is welcome",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1256317213/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1256900197",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/25730#issuecomment-1256900197",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25730",
    "id": 1256900197,
    "node_id": "IC_kwDOAOvK985K6sZl",
    "user": {
      "login": "Yvelo",
      "id": 95425399,
      "node_id": "U_kgDOBbATdw",
      "avatar_url": "https://avatars.githubusercontent.com/u/95425399?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Yvelo",
      "html_url": "https://github.com/Yvelo",
      "followers_url": "https://api.github.com/users/Yvelo/followers",
      "following_url": "https://api.github.com/users/Yvelo/following{/other_user}",
      "gists_url": "https://api.github.com/users/Yvelo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Yvelo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Yvelo/subscriptions",
      "organizations_url": "https://api.github.com/users/Yvelo/orgs",
      "repos_url": "https://api.github.com/users/Yvelo/repos",
      "events_url": "https://api.github.com/users/Yvelo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Yvelo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-24T07:53:49Z",
    "updated_at": "2022-09-24T07:53:49Z",
    "author_association": "NONE",
    "body": "All it took was enough patience. Snap Sync finalized after 20 hours on a GCloud 16vCPU (e2-standard-16) + Balanced Persistent Disks. It will be downgraded to e2-standard-4 now that it is fully synced. Contrary to what is reported in other posts the parameter accounts in the log file below does not need to reach the total number of Ethereum accounts for the snap sync process to finalize.\r\n\r\nSep 23 12:34:04 eth2-validator-0 bash[24081]: INFO [09-23|12:34:04.490] State heal in progress accounts=169,[292@9.01MiB](mailto:292@9.01MiB) slots=293,[066@22.30MiB](mailto:066@22.30MiB) codes=[401@2.71MiB](mailto:401@2.71MiB) nodes=2,170,[769@585.82MiB](mailto:769@585.82MiB) pending=20889",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1256900197/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1257711835",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/25730#issuecomment-1257711835",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25730",
    "id": 1257711835,
    "node_id": "IC_kwDOAOvK985K9yjb",
    "user": {
      "login": "Sreeram1993",
      "id": 57712569,
      "node_id": "MDQ6VXNlcjU3NzEyNTY5",
      "avatar_url": "https://avatars.githubusercontent.com/u/57712569?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sreeram1993",
      "html_url": "https://github.com/Sreeram1993",
      "followers_url": "https://api.github.com/users/Sreeram1993/followers",
      "following_url": "https://api.github.com/users/Sreeram1993/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sreeram1993/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sreeram1993/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sreeram1993/subscriptions",
      "organizations_url": "https://api.github.com/users/Sreeram1993/orgs",
      "repos_url": "https://api.github.com/users/Sreeram1993/repos",
      "events_url": "https://api.github.com/users/Sreeram1993/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sreeram1993/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-26T08:55:17Z",
    "updated_at": "2022-09-26T08:55:17Z",
    "author_association": "NONE",
    "body": "@Yvelo  The issue is mine is an archival sync node :D So I think I need a lot more patience. Happily it has reached 6 hours behind ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1257711835/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1257735923",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/25730#issuecomment-1257735923",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25730",
    "id": 1257735923,
    "node_id": "IC_kwDOAOvK985K94bz",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-26T09:14:44Z",
    "updated_at": "2022-09-26T09:14:44Z",
    "author_association": "MEMBER",
    "body": "> I failed to locate the latest version of geth (a.k.a 1.11.xx -unstable). The last version published on github is the 1.10.25. A google seach on \"go-ethereum v1.11.1\" is not helpful either. Any help is welcome\r\n\r\nDidn't see this until now. On any of our \"Releases\" pages, e.g. https://github.com/ethereum/go-ethereum/releases/tag/v1.10.25 , we link to \r\n\r\n>    Pre-built binaries for all platforms on our [downloads page](https://geth.ethereum.org/downloads/).\r\n\r\nOn that download-page, we have 'stable' and 'develop' builds. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1257735923/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1281959786",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/25730#issuecomment-1281959786",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25730",
    "id": 1281959786,
    "node_id": "IC_kwDOAOvK985MaSdq",
    "user": {
      "login": "felix-halim",
      "id": 1087268,
      "node_id": "MDQ6VXNlcjEwODcyNjg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1087268?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/felix-halim",
      "html_url": "https://github.com/felix-halim",
      "followers_url": "https://api.github.com/users/felix-halim/followers",
      "following_url": "https://api.github.com/users/felix-halim/following{/other_user}",
      "gists_url": "https://api.github.com/users/felix-halim/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/felix-halim/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/felix-halim/subscriptions",
      "organizations_url": "https://api.github.com/users/felix-halim/orgs",
      "repos_url": "https://api.github.com/users/felix-halim/repos",
      "events_url": "https://api.github.com/users/felix-halim/events{/privacy}",
      "received_events_url": "https://api.github.com/users/felix-halim/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-18T07:52:46Z",
    "updated_at": "2022-10-18T07:52:46Z",
    "author_association": "NONE",
    "body": "I am doing sync from scratch with geth version: 1.10.25-stable\r\n\r\nWith this command line:\r\n`geth --cache=12048 --http --datadir /path/to/geth/snap-data --authrpc.jwtsecret /path/to/jwt.hex`\r\n\r\nThe datadir is now about 605G, and the \"State heal in progress\" started about 2 days ago, and now the logs is showing:\r\n\r\n`INFO [10-18|00:41:59.699] State heal in progress                   accounts=1,800,572@96.80MiB   slots=4,221,205@308.02MiB   codes=2596@19.81MiB      nodes=21,541,853@5.58GiB   pending=26107`\r\n\r\nSo it is progressing about 1M accounts per day? At this rate, I need to wait 200 days for it to be fully sync to 200M accounts?\r\n\r\n@Yvelo can you share what is the number of account shown in your logs when it's fully sync? is it around 169K accounts? \r\n\r\nWhat indicator in the log that can be used to estimate the time for the \"State heal\" to finish?\r\n\r\nIf I run this command:\r\n\r\n`geth attach http://localhost:8545`\r\n\r\nand type:\r\n\r\n```\r\n> eth.syncing\r\n{\r\n  currentBlock: 15773502,\r\n  healedBytecodeBytes: 20841216,\r\n  healedBytecodes: 2605,\r\n  healedTrienodeBytes: 6011477028,\r\n  healedTrienodes: 21616064,\r\n  healingBytecode: 0,\r\n  healingTrienodes: 1153,\r\n  highestBlock: 15773610,\r\n  startingBlock: 0,\r\n  syncedAccountBytes: 45757800173,\r\n  syncedAccounts: 192540876,\r\n  syncedBytecodeBytes: 4627746078,\r\n  syncedBytecodes: 700408,\r\n  syncedStorage: 814610039,\r\n  syncedStorageBytes: 174772608597\r\n}\r\n```\r\n\r\nThere is no saying what is the \"highest\" number of trie nodes are there?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1281959786/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1282000382",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/25730#issuecomment-1282000382",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25730",
    "id": 1282000382,
    "node_id": "IC_kwDOAOvK985MacX-",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-18T08:23:39Z",
    "updated_at": "2022-10-18T08:23:39Z",
    "author_association": "MEMBER",
    "body": "> So it is progressing about 1M accounts per day? At this rate, I need to wait 200 days for it to be fully sync to 200M accounts?\r\n\r\nNo, that's not how it works. But I'm curious, why are you using `1.10.25`? As I've recommended above, please use `latest` a.k.a `1.11.xx` which has a lot of snap-sync related fixes.  \r\n\r\n\r\n> There is no saying what is the \"highest\" number of trie nodes are there?\r\n\r\nThere's no point trying to infer the state of the sync based on now many nodes or accounts you have synced. I know it's tempting (users compare those numbers all the time), but it's not a good metric. \r\n\r\nIt's like two people walking upwards in an escalator going downwards: compare how many steps they take to reach the top. But they walk at different speeds. And one started near the bottom, another close to the top.   ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1282000382/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1282013011",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/25730#issuecomment-1282013011",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25730",
    "id": 1282013011,
    "node_id": "IC_kwDOAOvK985MafdT",
    "user": {
      "login": "felix-halim",
      "id": 1087268,
      "node_id": "MDQ6VXNlcjEwODcyNjg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1087268?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/felix-halim",
      "html_url": "https://github.com/felix-halim",
      "followers_url": "https://api.github.com/users/felix-halim/followers",
      "following_url": "https://api.github.com/users/felix-halim/following{/other_user}",
      "gists_url": "https://api.github.com/users/felix-halim/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/felix-halim/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/felix-halim/subscriptions",
      "organizations_url": "https://api.github.com/users/felix-halim/orgs",
      "repos_url": "https://api.github.com/users/felix-halim/repos",
      "events_url": "https://api.github.com/users/felix-halim/events{/privacy}",
      "received_events_url": "https://api.github.com/users/felix-halim/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-18T08:33:08Z",
    "updated_at": "2022-10-18T08:33:08Z",
    "author_association": "NONE",
    "body": "Thanks for the prompt reply, @holiman!\r\n\r\nI used 1.10.25 because I started using geth around 5 days ago without knowing about this bug. I just I read about this bug now. Hearing that I should delete everything and start from scratch again feels discouraging.\r\n\r\nIf I were to use 1.11.xx, what is the expected time to sync from scratch to full? Should I use the same command line as above? or is there a faster way to do it? perhaps like a checkpoint sync?\r\n\r\nI am wondering, so there is no good metric at all to tell what is the ETA for the state heal? I don't need to compare with other people if the log shows any indicator about the ETA ...\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1282013011/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1282028956",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/25730#issuecomment-1282028956",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25730",
    "id": 1282028956,
    "node_id": "IC_kwDOAOvK985MajWc",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-18T08:44:07Z",
    "updated_at": "2022-10-18T08:44:24Z",
    "author_association": "MEMBER",
    "body": "> Hearing that I should delete everything and start from scratch again feels discouraging.\r\n\r\nJust switch then, you don't _have to_ restart from scratch. \r\n\r\n> If I were to use 1.11.xx, what is the expected time to sync from scratch to full? Should I use the same command line as above? or is there a faster way to do it? perhaps like a checkpoint sync?\r\n\r\nA couple of days. Yes. No. No. \r\n\r\n> I am wondering, so there is no good metric at all to tell what is the ETA for the state heal? I don't need to compare with other people if the log shows any indicator about the ETA ...\r\n\r\nNo. If there were, you can rest assured we would have added it and displayed it promptly to the users. It's something that users have requested consistently since 2016. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1282028956/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1282086041",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/25730#issuecomment-1282086041",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25730",
    "id": 1282086041,
    "node_id": "IC_kwDOAOvK985MaxSZ",
    "user": {
      "login": "felix-halim",
      "id": 1087268,
      "node_id": "MDQ6VXNlcjEwODcyNjg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1087268?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/felix-halim",
      "html_url": "https://github.com/felix-halim",
      "followers_url": "https://api.github.com/users/felix-halim/followers",
      "following_url": "https://api.github.com/users/felix-halim/following{/other_user}",
      "gists_url": "https://api.github.com/users/felix-halim/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/felix-halim/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/felix-halim/subscriptions",
      "organizations_url": "https://api.github.com/users/felix-halim/orgs",
      "repos_url": "https://api.github.com/users/felix-halim/repos",
      "events_url": "https://api.github.com/users/felix-halim/events{/privacy}",
      "received_events_url": "https://api.github.com/users/felix-halim/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-18T09:22:41Z",
    "updated_at": "2022-10-18T09:22:41Z",
    "author_association": "NONE",
    "body": "I cannot install 1.11.xx from brew on MacOS using this doc:\r\n\r\nhttps://geth.ethereum.org/docs/install-and-build/installing-geth\r\n\r\nRunning:\r\n\r\n`brew install ethereum --devel`\r\n\r\nI got:\r\n\r\n`Error: invalid option: --devel`\r\n\r\n\r\nIf I go to the downloads page:\r\n\r\nhttps://geth.ethereum.org/downloads/\r\n\r\nI can't seem to find the 1.11 on the \"Develop builds\" section?\r\n\r\nit looks empty:\r\n\r\n![Screen Shot 2022-10-18 at 2 17 07 AM](https://user-images.githubusercontent.com/1087268/196390698-ace0d77e-fa2d-4046-9ec0-7766daea26a5.png)\r\n\r\n\r\nWhen will the 1.11 be released into stable?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1282086041/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1282110933",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/25730#issuecomment-1282110933",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25730",
    "id": 1282110933,
    "node_id": "IC_kwDOAOvK985Ma3XV",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-18T09:37:01Z",
    "updated_at": "2022-10-18T09:37:01Z",
    "author_association": "MEMBER",
    "body": "> I can't seem to find the 1.11 on the \"Develop builds\" section?\r\n\r\nHm, yes, that's some bug in our pipeline. We'll look into it. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1282110933/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1282525080",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/25730#issuecomment-1282525080",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25730",
    "id": 1282525080,
    "node_id": "IC_kwDOAOvK985McceY",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-18T14:53:41Z",
    "updated_at": "2022-10-18T14:53:41Z",
    "author_association": "MEMBER",
    "body": "Fixed, macos binaries available again",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1282525080/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1285819110",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/25730#issuecomment-1285819110",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25730",
    "id": 1285819110,
    "node_id": "IC_kwDOAOvK985MpArm",
    "user": {
      "login": "felix-halim",
      "id": 1087268,
      "node_id": "MDQ6VXNlcjEwODcyNjg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1087268?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/felix-halim",
      "html_url": "https://github.com/felix-halim",
      "followers_url": "https://api.github.com/users/felix-halim/followers",
      "following_url": "https://api.github.com/users/felix-halim/following{/other_user}",
      "gists_url": "https://api.github.com/users/felix-halim/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/felix-halim/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/felix-halim/subscriptions",
      "organizations_url": "https://api.github.com/users/felix-halim/orgs",
      "repos_url": "https://api.github.com/users/felix-halim/repos",
      "events_url": "https://api.github.com/users/felix-halim/events{/privacy}",
      "received_events_url": "https://api.github.com/users/felix-halim/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-20T16:12:22Z",
    "updated_at": "2022-10-20T16:12:22Z",
    "author_association": "NONE",
    "body": "It is quite frustrating experience when using geth to sync from scratch without any indicator of when it will complete. The logs did print the number of accounts: mine showing about 1M accounts, however AFAIK there are 200M accounts, and I've been syncing for 4+ days nonstop. At this rate, it will take 1+ years to fully sync. I am not comfortable of using the unstable 1.11 version. I don't know what other issues it will have? I don't want to risk it for now.\r\n\r\nSo I gave besu a try, syncing from scratch using checkpoint, and it finished in a bit less than 2 days using this command:\r\n\r\n```\r\nbesu \\\r\n--sync-mode=X_CHECKPOINT \\\r\n--data-storage-format=BONSAI \\\r\n--data-path=besu-data-checkpoint \\\r\n--rpc-http-enabled \\\r\n--engine-jwt-enabled=true \\\r\n--engine-jwt-secret=/path/to/jwt.hex  \\\r\n--engine-host-allowlist=\"*\" \\\r\n--metrics-enabled \\\r\n--Xplugin-rocksdb-high-spec-enabled\r\n```\r\n\r\nThe logs is also very clear, it shows:\r\n\r\n`2022-10-20 07:25:35.524-07:00 | EthScheduler-Services-26 (batchPersistTrieNodeData) | INFO  | SnapsyncMetricsManager | Healed 15342826 world state nodes`\r\n\r\nThe current number of nodes is 15790393, that is when I know it's near finish.\r\n\r\n\r\nCompare that with the log from geth:\r\n\r\n`INFO [10-18|00:41:59.699] State heal in progress accounts=1,800,572@96.80MiB slots=4,221,205@308.02MiB codes=2596@19.81MiB nodes=21,541,853@5.58GiB pending=26107`\r\n\r\nThe number of nodes is `21,541,853`? Perhaps it's referring to another data structure? I don't know how to interpret that to estimate the completion time?\r\n\r\nI hope my feedback can make geth logs better.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1285819110/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1285996333",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/25730#issuecomment-1285996333",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25730",
    "id": 1285996333,
    "node_id": "IC_kwDOAOvK985Mpr8t",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-20T18:52:06Z",
    "updated_at": "2022-10-20T18:52:06Z",
    "author_association": "MEMBER",
    "body": "> The logs did print the number of accounts: mine showing about 1M accounts, however AFAIK there are 200M accounts, and I've been syncing for 4+ days nonstop. At this rate, it will take 1+ years to fully sync.\r\n\r\nAs I have already said:  There's no point trying to infer the state of the sync based on now many nodes or accounts you have synced. I know it's tempting (users compare those numbers all the time), but it's not a good metric. You **cannot** extrapolate the remaining state-heal time based on those numbers. \r\n\r\n> So I gave besu a try, syncing from scratch using checkpoint, and it finished in a bit less than 2 days\r\n\r\nGood to hear! \r\n\r\n> I don't know how to interpret that to estimate the completion time?\r\n\r\nNo, as I've said, that's not the point. If it could be done, we would be doing it already, and show you the estimate. \r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1285996333/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1291675990",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/25730#issuecomment-1291675990",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25730",
    "id": 1291675990,
    "node_id": "IC_kwDOAOvK985M_WlW",
    "user": {
      "login": "plansten",
      "id": 35131590,
      "node_id": "MDQ6VXNlcjM1MTMxNTkw",
      "avatar_url": "https://avatars.githubusercontent.com/u/35131590?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/plansten",
      "html_url": "https://github.com/plansten",
      "followers_url": "https://api.github.com/users/plansten/followers",
      "following_url": "https://api.github.com/users/plansten/following{/other_user}",
      "gists_url": "https://api.github.com/users/plansten/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/plansten/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/plansten/subscriptions",
      "organizations_url": "https://api.github.com/users/plansten/orgs",
      "repos_url": "https://api.github.com/users/plansten/repos",
      "events_url": "https://api.github.com/users/plansten/events{/privacy}",
      "received_events_url": "https://api.github.com/users/plansten/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-26T08:26:22Z",
    "updated_at": "2022-10-26T08:26:22Z",
    "author_association": "NONE",
    "body": "I have a similar problem. When are you plan to add this fix to ethereum/client-go stable docker tag?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1291675990/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
