{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15156",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15156/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15156/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15156/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/15156",
  "id": 258355019,
  "node_id": "MDU6SXNzdWUyNTgzNTUwMTk=",
  "number": 15156,
  "title": "core/chain_indexer.go:268 type=bloombits error=\"canonical block unknown\"",
  "user": {
    "login": "4Ykw",
    "id": 6281545,
    "node_id": "MDQ6VXNlcjYyODE1NDU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6281545?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/4Ykw",
    "html_url": "https://github.com/4Ykw",
    "followers_url": "https://api.github.com/users/4Ykw/followers",
    "following_url": "https://api.github.com/users/4Ykw/following{/other_user}",
    "gists_url": "https://api.github.com/users/4Ykw/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/4Ykw/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/4Ykw/subscriptions",
    "organizations_url": "https://api.github.com/users/4Ykw/orgs",
    "repos_url": "https://api.github.com/users/4Ykw/repos",
    "events_url": "https://api.github.com/users/4Ykw/events{/privacy}",
    "received_events_url": "https://api.github.com/users/4Ykw/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2017-09-18T02:13:38Z",
  "updated_at": "2018-07-10T11:49:41Z",
  "closed_at": "2018-07-10T11:49:41Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nGeth version: instance=Geth/v1.7.0-stable-6c6c7b2a/windows-amd64/go1.9\r\nat block: 4285948 (Mon, 18 Sep 2017 13:54:22 NZST)\r\nmodules: admin:1.0 debug:1.0 eth:1.0 miner:1.0 net:1.0 personal:1.0 rpc:1.0 txpool:1.0 web3:1.0\r\n\r\nOS & Version: Windows 10 64bit\r\n\r\n#### Expected behaviour\r\nUpgrading chain from version 1.6.7 to 1.7.0 should finish.\r\n\r\n#### Actual behaviour\r\nStuck at block 2379351 with below error, but keeps synchronizing:\r\n```\r\nERROR[09-18|14:04:29|core/chain_indexer.go:268]      Section processing failed                type=bloombits error=\"canonical block #2379351 unknown\"\r\n```\r\n#### Steps to reproduce the behaviour\r\nNot known. First time. I have no backup of the chain. At least a recent one.\r\n\r\n#### Backtrace\r\n\r\n````\r\n> debug.backtraceAt(\"core/chain_indexer.go:268\")\r\nnull\r\n> debug.backtraceAt(\"chain_indexer.go:268\")\r\nnull\r\n>\r\n````\r\n",
  "closed_by": {
    "login": "4Ykw",
    "id": 6281545,
    "node_id": "MDQ6VXNlcjYyODE1NDU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6281545?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/4Ykw",
    "html_url": "https://github.com/4Ykw",
    "followers_url": "https://api.github.com/users/4Ykw/followers",
    "following_url": "https://api.github.com/users/4Ykw/following{/other_user}",
    "gists_url": "https://api.github.com/users/4Ykw/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/4Ykw/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/4Ykw/subscriptions",
    "organizations_url": "https://api.github.com/users/4Ykw/orgs",
    "repos_url": "https://api.github.com/users/4Ykw/repos",
    "events_url": "https://api.github.com/users/4Ykw/events{/privacy}",
    "received_events_url": "https://api.github.com/users/4Ykw/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15156/reactions",
    "total_count": 3,
    "+1": 3,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15156/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/351778664",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15156#issuecomment-351778664",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15156",
    "id": 351778664,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MTc3ODY2NA==",
    "user": {
      "login": "Asone",
      "id": 441960,
      "node_id": "MDQ6VXNlcjQ0MTk2MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/441960?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Asone",
      "html_url": "https://github.com/Asone",
      "followers_url": "https://api.github.com/users/Asone/followers",
      "following_url": "https://api.github.com/users/Asone/following{/other_user}",
      "gists_url": "https://api.github.com/users/Asone/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Asone/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Asone/subscriptions",
      "organizations_url": "https://api.github.com/users/Asone/orgs",
      "repos_url": "https://api.github.com/users/Asone/repos",
      "events_url": "https://api.github.com/users/Asone/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Asone/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-14T17:21:50Z",
    "updated_at": "2017-12-14T17:21:50Z",
    "author_association": "NONE",
    "body": "Hi @4Ykw , did you manage to solve the problem or at least find where's that was coming from ? ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/351778664/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/377057940",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15156#issuecomment-377057940",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15156",
    "id": 377057940,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NzA1Nzk0MA==",
    "user": {
      "login": "ligi",
      "id": 111600,
      "node_id": "MDQ6VXNlcjExMTYwMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/111600?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ligi",
      "html_url": "https://github.com/ligi",
      "followers_url": "https://api.github.com/users/ligi/followers",
      "following_url": "https://api.github.com/users/ligi/following{/other_user}",
      "gists_url": "https://api.github.com/users/ligi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ligi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ligi/subscriptions",
      "organizations_url": "https://api.github.com/users/ligi/orgs",
      "repos_url": "https://api.github.com/users/ligi/repos",
      "events_url": "https://api.github.com/users/ligi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ligi/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-28T22:24:37Z",
    "updated_at": "2018-03-28T22:24:37Z",
    "author_association": "MEMBER",
    "body": "could you solve the problem?\r\nI am now also running into this with 1.8.2 on rinkeby with the android ARM lib -\r\n\r\n```\r\n03-28 22:18:00.871  2836  2880 E GoLog   : WARN [03-28|22:18:00] Light client mode is an experimental feature \r\n03-28 22:18:00.871  2836  2884 E GoLog   : INFO [03-28|22:18:00] Stats daemon started \r\n03-28 22:18:25.200  2836  2877 E GoLog   : INFO [03-28|22:18:25] Block synchronisation started \r\n03-28 22:18:25.504  2836  2891 E GoLog   : INFO [03-28|22:18:25] Upgrading chain index                    type=bloombits percentage=6\r\n03-28 22:18:25.640  2836  2884 E GoLog   : WARN [03-28|22:18:25] Synchronisation failed, dropping peer    peer=a24ac7c5484ef4ed err=\"retrieved hash chain is invalid\"\r\n03-28 22:18:55.340  2836  2874 E GoLog   : INFO [03-28|22:18:55] Upgrading chain index                    type=bloombits percentage=8\r\n03-28 22:19:02.621  2836  2885 E GoLog   : WARN [03-28|22:19:02] Synchronisation failed, dropping peer    peer=a24ac7c5484ef4ed err=\"retrieved hash chain is invalid\"\r\n03-28 22:19:21.498  2836  2884 E GoLog   : INFO [03-28|22:19:21] Upgrading chain index                    type=bloombits percentage=9\r\n03-28 22:19:31.634  2836  2891 E GoLog   : ERROR[03-28|22:19:31] Section processing failed                type=bloombits error=\"canonical block #209580 unknown\"\r\n03-28 22:19:32.459  2836  2878 E GoLog   : WARN [03-28|22:19:32] Synchronisation failed, dropping peer    peer=a24ac7c5484ef4ed err=\"retrieved hash chain is invalid\"\r\n03-28 22:19:59.615  2836  2887 E GoLog   : WARN [03-28|22:19:59] Synchronisation failed, dropping peer    peer=a24ac7c5484ef4ed err=\"retrieved hash chain is invalid\"\r\n03-28 22:20:03.131  2836  2880 E GoLog   : WARN [03-28|22:20:03] Synchronisation failed, dropping peer    peer=9a4e67ab6482ce58 err=\"retrieved hash chain is invalid\"\r\n03-28 22:20:19.268  2836  2887 E GoLog   : WARN [03-28|22:20:19] Synchronisation failed, dropping peer    peer=c8f41b59efa6290d err=\"retrieved hash chain is invalid\"\r\n03-28 22:20:30.336  2836  2915 E GoLog   : WARN [03-28|22:20:30] Synchronisation failed, dropping peer    peer=a24ac7c5484ef4ed err=\"retrieved hash chain is invalid\"\r\n03-28 22:20:49.264  2836  2878 E GoLog   : WARN [03-28|22:20:49] Synchronisation failed, dropping peer    peer=c8f41b59efa6290d err=\"retrieved hash chain is invalid\"\r\n03-28 22:21:03.771  2836  2891 E GoLog   : WARN [03-28|22:21:03] Synchronisation failed, dropping peer    peer=a24ac7c5484ef4ed err=\"retrieved hash chain is invalid\"\r\n03-28 22:21:19.968  2836  2884 E GoLog   : WARN [03-28|22:21:19] Synchronisation failed, dropping peer    peer=c8f41b59efa6290d err=\"retrieved hash chain is invalid\"\r\n03-28 22:21:34.943  2836  2887 E GoLog   : WARN [03-28|22:21:34] Synchronisation failed, dropping peer    peer=c8f41b59efa6290d err=\"retrieved hash chain is invalid\"\r\n03-28 22:22:01.483  2836  2878 E GoLog   : WARN [03-28|22:22:01] Synchronisation failed, dropping peer    peer=a24ac7c5484ef4ed err=\"retrieved hash chain is invalid\"\r\n03-28 22:22:07.249  2836  2874 E GoLog   : WARN [03-28|22:22:07] Synchronisation failed, dropping peer    peer=c8f41b59efa6290d err=\"retrieved hash chain is invalid\"\r\n\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/377057940/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/403794964",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15156#issuecomment-403794964",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15156",
    "id": 403794964,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwMzc5NDk2NA==",
    "user": {
      "login": "4Ykw",
      "id": 6281545,
      "node_id": "MDQ6VXNlcjYyODE1NDU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6281545?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/4Ykw",
      "html_url": "https://github.com/4Ykw",
      "followers_url": "https://api.github.com/users/4Ykw/followers",
      "following_url": "https://api.github.com/users/4Ykw/following{/other_user}",
      "gists_url": "https://api.github.com/users/4Ykw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/4Ykw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/4Ykw/subscriptions",
      "organizations_url": "https://api.github.com/users/4Ykw/orgs",
      "repos_url": "https://api.github.com/users/4Ykw/repos",
      "events_url": "https://api.github.com/users/4Ykw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/4Ykw/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-10T11:49:41Z",
    "updated_at": "2018-07-10T11:49:41Z",
    "author_association": "NONE",
    "body": "No, sorry. I have never got into this issue again. I can't reproduce. I am running the latest version now. Still no issues.\r\n\r\nI am closing this one.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/403794964/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
