{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/1233",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/1233/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/1233/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/1233/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/1233",
  "id": 86982097,
  "node_id": "MDU6SXNzdWU4Njk4MjA5Nw==",
  "number": 1233,
  "title": "Ctrl+C shutdown hang?",
  "user": {
    "login": "karalabe",
    "id": 129561,
    "node_id": "MDQ6VXNlcjEyOTU2MQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/karalabe",
    "html_url": "https://github.com/karalabe",
    "followers_url": "https://api.github.com/users/karalabe/followers",
    "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
    "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
    "organizations_url": "https://api.github.com/users/karalabe/orgs",
    "repos_url": "https://api.github.com/users/karalabe/repos",
    "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
    "received_events_url": "https://api.github.com/users/karalabe/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 7,
  "created_at": "2015-06-10T14:04:12Z",
  "updated_at": "2015-06-21T06:18:40Z",
  "closed_at": "2015-06-21T06:18:35Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "I've been fully in sync and running a node for about 2 hours, then decided to stop geth, and Ctrl+C wouldn't terminate it. After waiting a bit, I've decided to abort it to maybe see where it's stuck. If anyone has some ideas, do share:\n\nhttps://gist.github.com/karalabe/f2dd24b79dc4ffa8d229\n",
  "closed_by": {
    "login": "fjl",
    "id": 6915,
    "node_id": "MDQ6VXNlcjY5MTU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6915?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/fjl",
    "html_url": "https://github.com/fjl",
    "followers_url": "https://api.github.com/users/fjl/followers",
    "following_url": "https://api.github.com/users/fjl/following{/other_user}",
    "gists_url": "https://api.github.com/users/fjl/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/fjl/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/fjl/subscriptions",
    "organizations_url": "https://api.github.com/users/fjl/orgs",
    "repos_url": "https://api.github.com/users/fjl/repos",
    "events_url": "https://api.github.com/users/fjl/events{/privacy}",
    "received_events_url": "https://api.github.com/users/fjl/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/1233/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/1233/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/111291058",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/1233#issuecomment-111291058",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/1233",
    "id": 111291058,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExMTI5MTA1OA==",
    "user": {
      "login": "joeykrug",
      "id": 5925937,
      "node_id": "MDQ6VXNlcjU5MjU5Mzc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5925937?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/joeykrug",
      "html_url": "https://github.com/joeykrug",
      "followers_url": "https://api.github.com/users/joeykrug/followers",
      "following_url": "https://api.github.com/users/joeykrug/following{/other_user}",
      "gists_url": "https://api.github.com/users/joeykrug/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/joeykrug/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/joeykrug/subscriptions",
      "organizations_url": "https://api.github.com/users/joeykrug/orgs",
      "repos_url": "https://api.github.com/users/joeykrug/repos",
      "events_url": "https://api.github.com/users/joeykrug/events{/privacy}",
      "received_events_url": "https://api.github.com/users/joeykrug/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-06-11T22:13:29Z",
    "updated_at": "2015-06-11T22:13:29Z",
    "author_association": "MEMBER",
    "body": "No ideas, but I can confirm this bug\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/111291058/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/111437377",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/1233#issuecomment-111437377",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/1233",
    "id": 111437377,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExMTQzNzM3Nw==",
    "user": {
      "login": "veox",
      "id": 3036030,
      "node_id": "MDQ6VXNlcjMwMzYwMzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3036030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/veox",
      "html_url": "https://github.com/veox",
      "followers_url": "https://api.github.com/users/veox/followers",
      "following_url": "https://api.github.com/users/veox/following{/other_user}",
      "gists_url": "https://api.github.com/users/veox/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/veox/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/veox/subscriptions",
      "organizations_url": "https://api.github.com/users/veox/orgs",
      "repos_url": "https://api.github.com/users/veox/repos",
      "events_url": "https://api.github.com/users/veox/events{/privacy}",
      "received_events_url": "https://api.github.com/users/veox/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-06-12T10:11:14Z",
    "updated_at": "2015-06-12T10:11:14Z",
    "author_association": "CONTRIBUTOR",
    "body": "Cannot reproduce on current `develop` (4bb9a61049882f427e2742773c69b969849da1c2).\n\nDoes this happen after some time (e.g. 2 hours) or always?\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/111437377/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/111440648",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/1233#issuecomment-111440648",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/1233",
    "id": 111440648,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExMTQ0MDY0OA==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-06-12T10:22:58Z",
    "updated_at": "2015-06-12T10:22:58Z",
    "author_association": "MEMBER",
    "body": "Rarely, that's why I attached the abort dump, to have an idea where the goroutines are stuck. It's most probably a rare data race.\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/111440648/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/111446286",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/1233#issuecomment-111446286",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/1233",
    "id": 111446286,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExMTQ0NjI4Ng==",
    "user": {
      "login": "fjl",
      "id": 6915,
      "node_id": "MDQ6VXNlcjY5MTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6915?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjl",
      "html_url": "https://github.com/fjl",
      "followers_url": "https://api.github.com/users/fjl/followers",
      "following_url": "https://api.github.com/users/fjl/following{/other_user}",
      "gists_url": "https://api.github.com/users/fjl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fjl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fjl/subscriptions",
      "organizations_url": "https://api.github.com/users/fjl/orgs",
      "repos_url": "https://api.github.com/users/fjl/repos",
      "events_url": "https://api.github.com/users/fjl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fjl/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-06-12T10:48:30Z",
    "updated_at": "2015-06-12T10:48:47Z",
    "author_association": "MEMBER",
    "body": "It does not happen very often. The trace shows that a bunch of network message sends are waiting for their turn. One of the sending goroutines is in `I/O wait` state and would unblock the others when it finished. I suspect that this could be a rare failure where the write deadline is ineffective for some reason.\n\nFor reference, most goroutines in the trace are [stuck here](https://github.com/ethereum/go-ethereum/blob/4bb9a61049882f427e2742773c69b969849da1c2/p2p/rlpx.go#L74).\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/111446286/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/112017452",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/1233#issuecomment-112017452",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/1233",
    "id": 112017452,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExMjAxNzQ1Mg==",
    "user": {
      "login": "jorisbontje",
      "id": 620959,
      "node_id": "MDQ6VXNlcjYyMDk1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/620959?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jorisbontje",
      "html_url": "https://github.com/jorisbontje",
      "followers_url": "https://api.github.com/users/jorisbontje/followers",
      "following_url": "https://api.github.com/users/jorisbontje/following{/other_user}",
      "gists_url": "https://api.github.com/users/jorisbontje/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jorisbontje/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jorisbontje/subscriptions",
      "organizations_url": "https://api.github.com/users/jorisbontje/orgs",
      "repos_url": "https://api.github.com/users/jorisbontje/repos",
      "events_url": "https://api.github.com/users/jorisbontje/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jorisbontje/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-06-15T10:55:38Z",
    "updated_at": "2015-06-15T10:55:38Z",
    "author_association": "MEMBER",
    "body": "geth develop 6f5c615 taking multiple minutes to shut down after Ctrl+C:\n\n```\nI0615 12:41:38.385962    2545 chain_manager.go:698] imported 1 block(s) (0 queued 0 ignored) including 75 txs in 167.661748ms. #606203 [b129ea86 / b129ea86]\n^CI0615 12:41:44.653669    2545 cmd.go:60] Shutting down (interrupt) ...\nI0615 12:45:39.051153    2545 chain_manager.go:526] Chain manager stopped\nI0615 12:45:39.051213    2545 handler.go:136] Stopping ethereum protocol handler...\nI0615 12:45:39.051234    2545 handler.go:146] Ethereum protocol handler stopped\nI0615 12:45:39.051244    2545 transaction_pool.go:108] TX Pool stopped\nI0615 12:45:39.051257    2545 backend.go:616] Automatic pregeneration of ethash DAG OFF (ethash dir: /Users/mids/.ethash)\nI0615 12:45:39.052013    2545 database.go:78] flushed and closed db: /Users/mids/Library/Ethereum/blockchain\nI0615 12:45:39.052514    2545 database.go:78] flushed and closed db: /Users/mids/Library/Ethereum/state\nI0615 12:45:39.052676    2545 database.go:78] flushed and closed db: /Users/mids/Library/Ethereum/extra\n```\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/112017452/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/112408476",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/1233#issuecomment-112408476",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/1233",
    "id": 112408476,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExMjQwODQ3Ng==",
    "user": {
      "login": "fjl",
      "id": 6915,
      "node_id": "MDQ6VXNlcjY5MTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6915?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjl",
      "html_url": "https://github.com/fjl",
      "followers_url": "https://api.github.com/users/fjl/followers",
      "following_url": "https://api.github.com/users/fjl/following{/other_user}",
      "gists_url": "https://api.github.com/users/fjl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fjl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fjl/subscriptions",
      "organizations_url": "https://api.github.com/users/fjl/orgs",
      "repos_url": "https://api.github.com/users/fjl/repos",
      "events_url": "https://api.github.com/users/fjl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fjl/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-06-16T12:31:10Z",
    "updated_at": "2015-06-16T12:31:10Z",
    "author_association": "MEMBER",
    "body": "The linked PR (part of release 0.9.30) should accelerate shutdown. Please test.\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/112408476/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/113865456",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/1233#issuecomment-113865456",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/1233",
    "id": 113865456,
    "node_id": "MDEyOklzc3VlQ29tbWVudDExMzg2NTQ1Ng==",
    "user": {
      "login": "joeykrug",
      "id": 5925937,
      "node_id": "MDQ6VXNlcjU5MjU5Mzc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5925937?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/joeykrug",
      "html_url": "https://github.com/joeykrug",
      "followers_url": "https://api.github.com/users/joeykrug/followers",
      "following_url": "https://api.github.com/users/joeykrug/following{/other_user}",
      "gists_url": "https://api.github.com/users/joeykrug/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/joeykrug/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/joeykrug/subscriptions",
      "organizations_url": "https://api.github.com/users/joeykrug/orgs",
      "repos_url": "https://api.github.com/users/joeykrug/repos",
      "events_url": "https://api.github.com/users/joeykrug/events{/privacy}",
      "received_events_url": "https://api.github.com/users/joeykrug/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-06-21T05:40:58Z",
    "updated_at": "2015-06-21T05:40:58Z",
    "author_association": "MEMBER",
    "body": "New version works swell for me!\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/113865456/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
