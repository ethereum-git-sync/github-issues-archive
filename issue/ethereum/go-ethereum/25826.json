{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25826",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25826/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25826/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25826/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/25826",
  "id": 1378802401,
  "node_id": "I_kwDOAOvK985SLtrh",
  "number": 25826,
  "title": "missing trie node exception on latest block",
  "user": {
    "login": "ktjooho",
    "id": 18390988,
    "node_id": "MDQ6VXNlcjE4MzkwOTg4",
    "avatar_url": "https://avatars.githubusercontent.com/u/18390988?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ktjooho",
    "html_url": "https://github.com/ktjooho",
    "followers_url": "https://api.github.com/users/ktjooho/followers",
    "following_url": "https://api.github.com/users/ktjooho/following{/other_user}",
    "gists_url": "https://api.github.com/users/ktjooho/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ktjooho/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ktjooho/subscriptions",
    "organizations_url": "https://api.github.com/users/ktjooho/orgs",
    "repos_url": "https://api.github.com/users/ktjooho/repos",
    "events_url": "https://api.github.com/users/ktjooho/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ktjooho/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 268304226,
      "node_id": "MDU6TGFiZWwyNjgzMDQyMjY=",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:docs",
      "name": "type:docs",
      "color": "fef2c0",
      "default": false,
      "description": null
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2022-09-20T04:32:41Z",
  "updated_at": "2022-09-20T09:40:28Z",
  "closed_at": "2022-09-20T09:40:28Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "1. geth version : 1.10.24.unstable(ecefab51888cce3ac7ee2d49c75c5df8618ff4d9)\r\n2. description \r\nI got 'missing trie node exception' on latest block issue. Below is the sequence of what I tried. \r\n(1) Receive event logs from latest block(let say block number A)\r\n(2) Request eth_call to call contract on block A to fetch some data which is mapping type storage data. \r\n(3) Returned 'missing trie node exception path (...)' message from the call\r\n> missing trie node 288259a570829264e76b2c58d4369b5a94f086018dc4409d1d0131405c5d1975 (path )\r\n\r\nIs it possible to occurred missing trie node exception on latest block.?? \r\nSome query to storage on which has no data(no key in the map)  would make missing trie node issue?\r\n\r\nThanks.",
  "closed_by": {
    "login": "ktjooho",
    "id": 18390988,
    "node_id": "MDQ6VXNlcjE4MzkwOTg4",
    "avatar_url": "https://avatars.githubusercontent.com/u/18390988?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ktjooho",
    "html_url": "https://github.com/ktjooho",
    "followers_url": "https://api.github.com/users/ktjooho/followers",
    "following_url": "https://api.github.com/users/ktjooho/following{/other_user}",
    "gists_url": "https://api.github.com/users/ktjooho/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ktjooho/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ktjooho/subscriptions",
    "organizations_url": "https://api.github.com/users/ktjooho/orgs",
    "repos_url": "https://api.github.com/users/ktjooho/repos",
    "events_url": "https://api.github.com/users/ktjooho/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ktjooho/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25826/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25826/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1251924522",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/25826#issuecomment-1251924522",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25826",
    "id": 1251924522,
    "node_id": "IC_kwDOAOvK985Kntoq",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-20T07:01:00Z",
    "updated_at": "2022-09-20T07:01:00Z",
    "author_association": "MEMBER",
    "body": "Since the path is empty, it means that the missing trie node is a root. Therefore, I would suspect that it's the stateRoot of the block you are trying to use, block `A`. If that is the case, then I would also suspect that block `A` recently became older than `128` blocks, and the root was garbage-collected. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1251924522/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1251935474",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/25826#issuecomment-1251935474",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25826",
    "id": 1251935474,
    "node_id": "IC_kwDOAOvK985KnwTy",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-20T07:12:17Z",
    "updated_at": "2022-09-20T07:12:17Z",
    "author_association": "MEMBER",
    "body": "Yup: https://etherscan.io/block/15572430 , block `15572430` has stateroot `0x288259a570829264e76b2c58d4369b5a94f086018dc4409d1d0131405c5d1975`. \r\n\r\nIf it's indeed the `latest` block you are using, then it is indeed a bit odd that you would get this error. Could you provide some info on how you are invoking the calls? ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1251935474/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1252100235",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/25826#issuecomment-1252100235",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25826",
    "id": 1252100235,
    "node_id": "IC_kwDOAOvK985KoYiL",
    "user": {
      "login": "ktjooho",
      "id": 18390988,
      "node_id": "MDQ6VXNlcjE4MzkwOTg4",
      "avatar_url": "https://avatars.githubusercontent.com/u/18390988?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ktjooho",
      "html_url": "https://github.com/ktjooho",
      "followers_url": "https://api.github.com/users/ktjooho/followers",
      "following_url": "https://api.github.com/users/ktjooho/following{/other_user}",
      "gists_url": "https://api.github.com/users/ktjooho/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ktjooho/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ktjooho/subscriptions",
      "organizations_url": "https://api.github.com/users/ktjooho/orgs",
      "repos_url": "https://api.github.com/users/ktjooho/repos",
      "events_url": "https://api.github.com/users/ktjooho/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ktjooho/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-20T09:40:14Z",
    "updated_at": "2022-09-20T09:40:14Z",
    "author_association": "CONTRIBUTOR",
    "body": "It was my code issue.\r\n```json\r\n{\"time\":\"2022-09-20T09:29:00.973Z\", \"msg\":\"Contract call error (protocol impl or pruned storage) : Returned error: missing trie node b04acd9b3393c76b27c89ed01002986f781ba8a6a97d0f2ed80c2d3f8fc0dcba (path ) <nil> - on 0x6c6Bc977E13Df9b0de53b251522280BB72383700,  request block: 15573632 , current block : 15573804)\"}\r\n```\r\neth_call api call was requested way late(some scheduling issue in my code). The above log shows request block is older than 128. \r\n\r\nThanks! ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1252100235/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
