{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24600",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24600/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24600/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24600/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/24600",
  "id": 1183338508,
  "node_id": "I_kwDOAOvK985GiFAM",
  "number": 24600,
  "title": "Syncmode and gcmode is being ignored.",
  "user": {
    "login": "dmgnflx99",
    "id": 102524356,
    "node_id": "U_kgDOBhxlxA",
    "avatar_url": "https://avatars.githubusercontent.com/u/102524356?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/dmgnflx99",
    "html_url": "https://github.com/dmgnflx99",
    "followers_url": "https://api.github.com/users/dmgnflx99/followers",
    "following_url": "https://api.github.com/users/dmgnflx99/following{/other_user}",
    "gists_url": "https://api.github.com/users/dmgnflx99/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/dmgnflx99/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/dmgnflx99/subscriptions",
    "organizations_url": "https://api.github.com/users/dmgnflx99/orgs",
    "repos_url": "https://api.github.com/users/dmgnflx99/repos",
    "events_url": "https://api.github.com/users/dmgnflx99/events{/privacy}",
    "received_events_url": "https://api.github.com/users/dmgnflx99/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 268304226,
      "node_id": "MDU6TGFiZWwyNjgzMDQyMjY=",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:docs",
      "name": "type:docs",
      "color": "fef2c0",
      "default": false,
      "description": null
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2022-03-28T12:06:05Z",
  "updated_at": "2022-03-28T15:26:21Z",
  "closed_at": "2022-03-28T15:26:21Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Hi,\r\n\r\nRecently i added an explorer to my private POA network, however, it requires the syncmode to be full and the gcmode be archive.\r\nFrom the above two pre-requisite I already met one with `--gcmode archive`,\r\nI changed the --syncmode to full and restarted the node.\r\n\r\ngeth logs as the explorer trying to parse chain:\r\n\r\n`WARN [03-28|13:49:03.596] Served debug_traceTransaction            conn=192.168.1.11:38058 reqid=0 t=42.807292ms err=\"required historical state unavailable (reexec=128)\"\r\nWARN [03-28|13:49:04.448] Served debug_traceTransaction            conn=192.168.1.11:38060 reqid=0 t=45.82722ms  err=\"required historical state unavailable (reexec=128)\"\r\nWARN [03-28|13:49:04.645] Served debug_traceTransaction            conn=192.168.1.11:38060 reqid=0 t=128.542628ms err=\"required historical state unavailable (reexec=128)\"\r\nWARN [03-28|13:49:04.810] Served eth_getCode                       conn=192.168.1.11:38056 reqid=0 t=12.867604ms  err=\"missing trie node 7a721e1cdba27c6b4d96cae337f0e2013972ac6d2ec7092c26cb3bcac5ec0e6d (path )\"\r\nWARN [03-28|13:49:04.829] Served eth_getCode                       conn=192.168.1.11:38054 reqid=0 t=30.219965ms  err=\"missing trie node 509e3c0a21a00d68aeb994e6c23355fd069fadd36dda33d47f5c48fee7fc2483 (path )\"\r\nWARN [03-28|13:49:04.832] Served eth_getCode                       conn=192.168.1.11:38056 reqid=1 t=22.12976ms   err=\"missing trie node c714bc1645599ea47dfd51a446e30913b7d983355b5da4f3cdb21a3b9b98c8d3 (path )\"`\r\n\r\nI can see geth is importing new segments. and commiting mining work.\r\n`INFO [03-28|13:49:05.016] Imported new chain segment               blocks=1  txs=0 mgas=0.000 elapsed=\"323.988µs\" mgasps=0.000 number=322299488 hash=\"ab246b…4edf0d\" dirty=0.00B\r\nINFO [03-28|13:49:05.017] Commit new mining work                   number=322299489 sealhash=\"2a3407…ae6f14\" uncles=1 txs=0 gas=0 fees=0 elapsed=\"555.041µs\"`\r\n\r\neth console about the sync:\r\n`To exit, press ctrl-d\r\n> eth.syncing\r\nfalse`\r\n\r\nDo i have to remove the database and reinit the genesis to apply the syncmode full to the node or should it work without it?\r\n\r\nThanks. ",
  "closed_by": {
    "login": "s1na",
    "id": 1591639,
    "node_id": "MDQ6VXNlcjE1OTE2Mzk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1591639?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/s1na",
    "html_url": "https://github.com/s1na",
    "followers_url": "https://api.github.com/users/s1na/followers",
    "following_url": "https://api.github.com/users/s1na/following{/other_user}",
    "gists_url": "https://api.github.com/users/s1na/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/s1na/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/s1na/subscriptions",
    "organizations_url": "https://api.github.com/users/s1na/orgs",
    "repos_url": "https://api.github.com/users/s1na/repos",
    "events_url": "https://api.github.com/users/s1na/events{/privacy}",
    "received_events_url": "https://api.github.com/users/s1na/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24600/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24600/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1080795636",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/24600#issuecomment-1080795636",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24600",
    "id": 1080795636,
    "node_id": "IC_kwDOAOvK985Aa6H0",
    "user": {
      "login": "s1na",
      "id": 1591639,
      "node_id": "MDQ6VXNlcjE1OTE2Mzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1591639?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/s1na",
      "html_url": "https://github.com/s1na",
      "followers_url": "https://api.github.com/users/s1na/followers",
      "following_url": "https://api.github.com/users/s1na/following{/other_user}",
      "gists_url": "https://api.github.com/users/s1na/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/s1na/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/s1na/subscriptions",
      "organizations_url": "https://api.github.com/users/s1na/orgs",
      "repos_url": "https://api.github.com/users/s1na/repos",
      "events_url": "https://api.github.com/users/s1na/events{/privacy}",
      "received_events_url": "https://api.github.com/users/s1na/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-03-28T15:26:21Z",
    "updated_at": "2022-03-28T15:26:21Z",
    "author_association": "MEMBER",
    "body": "Yes if you didn't do full sync from the beginning you won't have the state for blocks before full sync was switched on. You'll need to clear the database and do a fresh full sync (re-initing genesis shouldn't be unnecessary).",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1080795636/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
