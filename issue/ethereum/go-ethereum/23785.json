{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23785",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23785/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23785/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23785/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/23785",
  "id": 1032327504,
  "node_id": "I_kwDOAOvK9849iBFQ",
  "number": 23785,
  "title": "iOS build does not work",
  "user": {
    "login": "ghost",
    "id": 10137,
    "node_id": "MDQ6VXNlcjEwMTM3",
    "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ghost",
    "html_url": "https://github.com/ghost",
    "followers_url": "https://api.github.com/users/ghost/followers",
    "following_url": "https://api.github.com/users/ghost/following{/other_user}",
    "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
    "organizations_url": "https://api.github.com/users/ghost/orgs",
    "repos_url": "https://api.github.com/users/ghost/repos",
    "events_url": "https://api.github.com/users/ghost/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ghost/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "open",
  "locked": false,
  "assignee": {
    "login": "karalabe",
    "id": 129561,
    "node_id": "MDQ6VXNlcjEyOTU2MQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/karalabe",
    "html_url": "https://github.com/karalabe",
    "followers_url": "https://api.github.com/users/karalabe/followers",
    "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
    "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
    "organizations_url": "https://api.github.com/users/karalabe/orgs",
    "repos_url": "https://api.github.com/users/karalabe/repos",
    "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
    "received_events_url": "https://api.github.com/users/karalabe/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2021-10-21T10:32:04Z",
  "updated_at": "2021-10-30T13:10:30Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Missing MacOS Brew Formulae update for Geth v1.10.11 (Xatharron) \r\nFormulae ethereum/ethereum/ethereum\r\n\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23785/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23785/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/949468769",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23785#issuecomment-949468769",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23785",
    "id": 949468769,
    "node_id": "IC_kwDOAOvK9844l75h",
    "user": {
      "login": "MariusVanDerWijden",
      "id": 16664698,
      "node_id": "MDQ6VXNlcjE2NjY0Njk4",
      "avatar_url": "https://avatars.githubusercontent.com/u/16664698?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MariusVanDerWijden",
      "html_url": "https://github.com/MariusVanDerWijden",
      "followers_url": "https://api.github.com/users/MariusVanDerWijden/followers",
      "following_url": "https://api.github.com/users/MariusVanDerWijden/following{/other_user}",
      "gists_url": "https://api.github.com/users/MariusVanDerWijden/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MariusVanDerWijden/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MariusVanDerWijden/subscriptions",
      "organizations_url": "https://api.github.com/users/MariusVanDerWijden/orgs",
      "repos_url": "https://api.github.com/users/MariusVanDerWijden/repos",
      "events_url": "https://api.github.com/users/MariusVanDerWijden/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MariusVanDerWijden/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-22T09:53:34Z",
    "updated_at": "2021-10-22T09:53:34Z",
    "author_association": "MEMBER",
    "body": "Yep OSX build seemed to fail currently https://app.travis-ci.com/github/ethereum/go-ethereum/jobs/544252625",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/949468769/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/949492791",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23785#issuecomment-949492791",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23785",
    "id": 949492791,
    "node_id": "IC_kwDOAOvK9844mBw3",
    "user": {
      "login": "ghost",
      "id": 10137,
      "node_id": "MDQ6VXNlcjEwMTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ghost",
      "html_url": "https://github.com/ghost",
      "followers_url": "https://api.github.com/users/ghost/followers",
      "following_url": "https://api.github.com/users/ghost/following{/other_user}",
      "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
      "organizations_url": "https://api.github.com/users/ghost/orgs",
      "repos_url": "https://api.github.com/users/ghost/repos",
      "events_url": "https://api.github.com/users/ghost/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ghost/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-22T10:25:21Z",
    "updated_at": "2021-10-22T10:25:21Z",
    "author_association": "NONE",
    "body": "Yep, seems to be failing on building for iOS.  \r\n\r\nI do not know why it would even attempt to build with an iOS target as I do not imagine anyone is running Geth on a mobile phone, because it is not possible to keep up with the blockchain without very high IOPS, well beyond what any mobile phone is capable, perhaps in the distant future.  \r\n\r\nIt maybe be an easy fix of just adding this switch \"-scheme macOS\" to xcodebuild arguments or changing the the build config in a similar way if a config file is being used instead of switches.  I am guessing the \"go run build/ci.go xcode -signer IOS_SIGNING_KEY -signify SIGNIFY_KEY -deploy trunk -upload gethstore/builds\" command wraps xcodebuild.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/949492791/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/949832195",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23785#issuecomment-949832195",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23785",
    "id": 949832195,
    "node_id": "IC_kwDOAOvK9844nUoD",
    "user": {
      "login": "ghost",
      "id": 10137,
      "node_id": "MDQ6VXNlcjEwMTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ghost",
      "html_url": "https://github.com/ghost",
      "followers_url": "https://api.github.com/users/ghost/followers",
      "following_url": "https://api.github.com/users/ghost/following{/other_user}",
      "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
      "organizations_url": "https://api.github.com/users/ghost/orgs",
      "repos_url": "https://api.github.com/users/ghost/repos",
      "events_url": "https://api.github.com/users/ghost/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ghost/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-22T17:32:30Z",
    "updated_at": "2021-10-22T17:32:30Z",
    "author_association": "NONE",
    "body": "[this needs the help of someone with editor rights to the build config]\r\n\r\nI did some research on this error and it seems this issue started for many people after Go v1.16 was released.  In many cases, some were able to workaround the issue by reverting to Go v1.15.  The root cause of the issues is related to the passing of linker and/or complier flags (see reference links below).  \r\n\r\nThe solution to the problem without reverting to prior versions of Go, is to change the Go install -mod flag to \"-mod=mod\".  The settings for \"osx\" in the config file for the builder being discussed is currently (as of 2021/10/22 17:17UTC) setting the Go install -mod flag to \"-mod=readonly\" when it should be \"-mod=mod\".\r\n\r\nI believe the first thing to try is change this -mod flag to \"-mod=mod\".  This can be done by setting this ENV variable PRIOR to the osx Go install statement in the build config file on line 286.  To something of the effect:\r\n\r\n`\"export CGO_CFLAGS='-mod=mod'\",`\r\n\r\n(Go experts please correct any syntax errors, although I believe the above is correct)\r\n\r\nSo just insert the above code line right before line 286 in the build config, save, and restart the pipeline.\r\nIt should resolve the issue.\r\n\r\nRef:\r\nhttps://app.travis-ci.com/github/ethereum/go-ethereum/jobs/544252625/config (line 286)\r\nhttps://github.com/golang/go/issues/44129 (Lord-Y June 4th)\r\nhttps://github.com/golang/go/issues/23749 (general discussion)\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/949832195/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/953642285",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23785#issuecomment-953642285",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23785",
    "id": 953642285,
    "node_id": "IC_kwDOAOvK9844120t",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-28T08:50:14Z",
    "updated_at": "2021-10-28T08:50:14Z",
    "author_association": "MEMBER",
    "body": "The original issue of missing brew entry for v1.10.11 was fixed. I'll leave it open for the iOS issue.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/953642285/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/955206980",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23785#issuecomment-955206980",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23785",
    "id": 955206980,
    "node_id": "IC_kwDOAOvK9844701E",
    "user": {
      "login": "fjl",
      "id": 6915,
      "node_id": "MDQ6VXNlcjY5MTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6915?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjl",
      "html_url": "https://github.com/fjl",
      "followers_url": "https://api.github.com/users/fjl/followers",
      "following_url": "https://api.github.com/users/fjl/following{/other_user}",
      "gists_url": "https://api.github.com/users/fjl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fjl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fjl/subscriptions",
      "organizations_url": "https://api.github.com/users/fjl/orgs",
      "repos_url": "https://api.github.com/users/fjl/repos",
      "events_url": "https://api.github.com/users/fjl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fjl/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-30T13:09:56Z",
    "updated_at": "2021-10-30T13:10:30Z",
    "author_association": "MEMBER",
    "body": "The iOS build is not related to homebrew at all. It is failing because there is a problem with go.mod & gomobile:\r\n\r\n```\r\n>>> /Users/travis/gopath/src/github.com/ethereum/go-ethereum/build/bin/gomobile bind -ldflags -s -w --target ios -v github.com/ethereum/go-ethereum/mobile\r\n\r\nunable to import bind: [-: missing go.sum entry for module providing package golang.org/x/mobile/bind; to add:\r\n\r\n\tgo mod download golang.org/x/mobile]\r\n\r\nunable to import bind: [-: missing go.sum entry for module providing package golang.org/x/mobile/bind; to add:\r\n\r\n\tgo mod download golang.org/x/mobile]\r\n\r\nunable to import bind/objc: [-: missing go.sum entry for module providing package golang.org/x/mobile/bind/objc; to add:\r\n\r\n\tgo mod download golang.org/x/mobile]\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/955206980/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
