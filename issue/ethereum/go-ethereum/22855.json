{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22855",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22855/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22855/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22855/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/22855",
  "id": 885785936,
  "node_id": "MDU6SXNzdWU4ODU3ODU5MzY=",
  "number": 22855,
  "title": "Bad Block Error happens on private POA chain",
  "user": {
    "login": "james-ray",
    "id": 26137182,
    "node_id": "MDQ6VXNlcjI2MTM3MTgy",
    "avatar_url": "https://avatars.githubusercontent.com/u/26137182?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/james-ray",
    "html_url": "https://github.com/james-ray",
    "followers_url": "https://api.github.com/users/james-ray/followers",
    "following_url": "https://api.github.com/users/james-ray/following{/other_user}",
    "gists_url": "https://api.github.com/users/james-ray/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/james-ray/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/james-ray/subscriptions",
    "organizations_url": "https://api.github.com/users/james-ray/orgs",
    "repos_url": "https://api.github.com/users/james-ray/repos",
    "events_url": "https://api.github.com/users/james-ray/events{/privacy}",
    "received_events_url": "https://api.github.com/users/james-ray/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 72233650,
      "node_id": "MDU6TGFiZWw3MjIzMzY1MA==",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:bug",
      "name": "type:bug",
      "color": "FF5E5E",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 13,
  "created_at": "2021-05-11T03:13:14Z",
  "updated_at": "2021-05-12T10:56:35Z",
  "closed_at": "2021-05-12T10:56:35Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Geth\r\nVersion: 1.10.1-stable\r\nGit Commit: c2d2f4ed8f232bb11663a1b01a2e578aa22f24bd\r\nGit Commit Date: 20210308\r\nArchitecture: amd64\r\nGo Version: go1.16\r\nOperating System: ubuntu\r\n\r\nI started a two signers Clique chain, let peer1 addPeer peer0. I set the period to 5, the chainID is 156.\r\n```\r\n{\r\n  \"config\": {\r\n    \"chainId\": 156,\r\n    \"homesteadBlock\": 0,\r\n    \"eip150Block\": 0,\r\n    \"eip155Block\": 0,\r\n    \"eip158Block\": 0,\r\n    \"byzantiumBlock\": 0,\r\n    \"constantinopleBlock\": 0,\r\n    \"petersburgBlock\": 0,\r\n    \"clique\": {\r\n      \"period\": 5,\r\n      \"epoch\": 30000\r\n    }\r\n  },\r\n  \"difficulty\": \"1\",\r\n \"coinbase\": \"0x5e217e1f386783b7a7d7388ee9f7e4f7cd2e2d6b\",\r\n  \"gasLimit\": \"8000000\",\r\n  \"extradata\": \"0x00000000000000000000000000000000000000000000000000000000000000005e217e1f386783b7a7d7388ee9f7e4f7cd2e2d6b8fcddbfae1d85463520bff02bc83d346d0ec26800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\",\r\n  \"alloc\": {\r\n    \"5e217e1f386783b7a7d7388ee9f7e4f7cd2e2d6b\": { \"balance\": \"300000000000000000000000\" },\r\n    \"8fcddbfae1d85463520bff02bc83d346d0ec2680\": { \"balance\": \"400000000000000000000000\" }\r\n  }\r\n}\r\n```\r\n\r\nSince I use empty password to generate keystore account, the attacker comes and figures out the password, then it tries to move all the funds of eth.accounts[0] to its account. It sends lots of transfer txs to peer1.\r\nAt height 1213, peer1 mines a block, but peer0 refuses to sync it for the bad block error happen.\r\n\r\nPeer1 log:\r\n```\r\nt=0x773b556e7F3222F3B93d6519484cef0C443B9d7e value=790000000000000000\r\nINFO [05-10|19:31:35.168] Submitted transaction                    hash=0x08323c8a2655748e77d371000e32f25239837dde19deee77fd4aa280516326db from=0x8fCDdBFAE1d85463520BFf02bC83D346D0eC2680 nonce=25 recipient=0x773b556e7F3222F3B93d6519484cef0C443B9d7e value=790000000000000000\r\nINFO [05-10|19:31:35.577] Submitted transaction                    hash=0x7f3e36daf7eacae5bb02010c34d294912a45006390383019114befc6f9954d27 from=0x8fCDdBFAE1d85463520BFf02bC83D346D0eC2680 nonce=26 recipient=0x773b556e7F3222F3B93d6519484cef0C443B9d7e value=790000000000000000\r\nINFO [05-10|19:31:36.005] Commit new mining work                   number=1213 sealhash=\"87b234â€¦b9f55e\" uncles=0 txs=27 gas=567000 fees=5.67 elapsed=1.327ms\r\nINFO [05-10|19:31:36.926] Submitted transaction                    hash=0x3c7288316bc5a448ee1fa634f63a6e80700d8ff58164cc2e393664a6cc39287f from=0x8fCDdBFAE1d85463520BFf02bC83D346D0eC2680 nonce=27 recipient=0x773b556e7F3222F3B93d6519484cef0C443B9d7e value=790000000000000000\r\nINFO [05-10|19:31:36.931] Submitted transaction                    hash=0x61990a7bc6533459f249e96eed5193929745c73a6a9e813bcc46b47eda057cd5 from=0x8fCDdBFAE1d85463520BFf02bC83D346D0eC2680 nonce=28 recipient=0x773b556e7F3222F3B93d6519484cef0C443B9d7e value=790000000000000000\r\nINFO [05-10|19:31:36.986] Submitted transaction                    hash=0x79ff0fcf5ec59f614e9ef21b5fc6a9d2c41b448aec939640b9ef177390a802a4 from=0x8fCDdBFAE1d85463520BFf02bC83D346D0eC2680 nonce=29 recipient=0x773b556e7F3222F3B93d6519484cef0C443B9d7e value=790000000000000000\r\nINFO [05-10|19:31:37.017] Submitted transaction                    hash=0x4a720d8347e58388d57b4ba7b9835b55f833290eac0a38ad8af4e6969661e2a9 from=0x8fCDdBFAE1d85463520BFf02bC83D346D0eC2680 nonce=30 recipient=0x773b556e7F3222F3B93d6519484cef0C443B9d7e value=790000000000000000\r\nINFO [05-10|19:31:37.643] Submitted transaction                    hash=0x48d7dc355a12dce8c5454a7cf0ba7c0a7e9d66046e1d70065d217b40f54ab848 from=0x8fCDdBFAE1d85463520BFf02bC83D346D0eC2680 nonce=31 recipient=0x773b556e7F3222F3B93d6519484cef0C443B9d7e value=790000000000000000\r\nINFO [05-10|19:31:37.645] Submitted transaction                    hash=0xec9bcae567649ce907b09ca67776830ec6071f144fed2d8002bf61906aacbb21 from=0x8fCDdBFAE1d85463520BFf02bC83D346D0eC2680 nonce=32 recipient=0x773b556e7F3222F3B93d6519484cef0C443B9d7e value=790000000000000000\r\nINFO [05-10|19:31:37.649] Submitted transaction                    hash=0x43a6092df2623e18aa154d37139867d7a4fd3337c1b715e55583f959cf59358a from=0x8fCDdBFAE1d85463520BFf02bC83D346D0eC2680 nonce=33 recipient=0x773b556e7F3222F3B93d6519484cef0C443B9d7e value=790000000000000000\r\nINFO [05-10|19:31:37.658] Submitted transaction                    hash=0x1e52cc3cee0d43e76b70a9be53503cbacd724f94f4b8114bc747f92fb409e9c4 from=0x8fCDdBFAE1d85463520BFf02bC83D346D0eC2680 nonce=34 recipient=0x773b556e7F3222F3B93d6519484cef0C443B9d7e value=790000000000000000\r\nINFO [05-10|19:31:37.661] Submitted transaction                    hash=0xe9bf772dc5025bb31b423d7693a4ca4f285c0c327e2719b93f9d4c079524793b from=0x8fCDdBFAE1d85463520BFf02bC83D346D0eC2680 nonce=35 recipient=0x773b556e7F3222F3B93d6519484cef0C443B9d7e value=790000000000000000\r\nINFO [05-10|19:31:37.672] Submitted transaction                    hash=0xb25ac7717be01dd46c6178a3fd5f6c2226cb651322b82363113141003d33db1e from=0x8fCDdBFAE1d85463520BFf02bC83D346D0eC2680 nonce=36 recipient=0x773b556e7F3222F3B93d6519484cef0C443B9d7e value=790000000000000000\r\nINFO [05-10|19:31:37.673] Submitted transaction                    hash=0xa2f528e779eb604611916edc1b6028509107f8c5eed7645414dbdba987a04019 from=0x8fCDdBFAE1d85463520BFf02bC83D346D0eC2680 nonce=37 recipient=0x773b556e7F3222F3B93d6519484cef0C443B9d7e value=790000000000000000\r\nINFO [05-10|19:31:37.673] Submitted transaction                    hash=0xe830138efed82d8cc8d96ac025762919408774f5679a32e5426bfff25cd93ba7 from=0x8fCDdBFAE1d85463520BFf02bC83D346D0eC2680 nonce=38 recipient=0x773b556e7F3222F3B93d6519484cef0C443B9d7e value=790000000000000000\r\nINFO [05-10|19:31:37.677] Submitted transaction                    hash=0x21ff32d380fcab366c69996cdb9e903648f63e58e0e8258ae72d93bf7a8700f6 from=0x8fCDdBFAE1d85463520BFf02bC83D346D0eC2680 nonce=39 recipient=0x773b556e7F3222F3B93d6519484cef0C443B9d7e value=790000000000000000\r\nINFO [05-10|19:31:37.681] Submitted transaction                    hash=0xd637a012af6e69d84de826069482efd8e5af47de4b9fd5a1562222be56da3d99 from=0x8fCDdBFAE1d85463520BFf02bC83D346D0eC2680 nonce=40 recipient=0x773b556e7F3222F3B93d6519484cef0C443B9d7e value=790000000000000000\r\nINFO [05-10|19:31:38.001] Successfully sealed new block            number=1213 sealhash=\"87b234â€¦b9f55e\" hash=\"47a1f5â€¦83f2bf\" elapsed=1.995s\r\nINFO [05-10|19:31:38.001] ðŸ”¨ mined potential block                  number=1213 hash=\"47a1f5â€¦83f2bf\"\r\nINFO [05-10|19:31:38.002] Commit new mining work                   number=1214 sealhash=\"1fb455â€¦9cbeb3\" uncles=0 txs=0  gas=0      fees=0    elapsed=\"549.573Âµs\"\r\nINFO [05-10|19:31:38.002] Signed recently, must wait for others\r\nINFO [05-10|19:31:38.004] Commit new mining work                   number=1214 sealhash=\"54d943â€¦7fb12d\" uncles=0 txs=14 gas=294000 fees=2.94 elapsed=2.262ms\r\n```\r\nPeer0 log:\r\n```\r\nINFO [05-10|19:31:08.003] Commit new mining work                   number=1208 sealhash=\"dc29b0â€¦c7df19\" uncles=0 txs=0 gas=0     fees=0       elapsed=\"241.987Âµs\"\r\nINFO [05-10|19:31:13.002] Successfully sealed new block            number=1208 sealhash=\"dc29b0â€¦c7df19\" hash=\"680244â€¦36048d\" elapsed=4.998s\r\nINFO [05-10|19:31:13.002] ðŸ”¨ mined potential block                  number=1208 hash=\"680244â€¦36048d\"\r\nINFO [05-10|19:31:13.002] Commit new mining work                   number=1209 sealhash=\"cae756â€¦acb6a6\" uncles=0 txs=0 gas=0     fees=0       elapsed=\"492.62Âµs\"\r\nINFO [05-10|19:31:13.002] Signed recently, must wait for others \r\nINFO [05-10|19:31:18.003] Imported new chain segment               blocks=1 txs=0 mgas=0.000 elapsed=\"420.108Âµs\" mgasps=0.000  number=1209 hash=\"8d5316â€¦a3a991\" dirty=1.22KiB\r\nINFO [05-10|19:31:18.003] ðŸ”— block reached canonical chain          number=1202 hash=\"9d2478â€¦fc8d5c\"\r\nINFO [05-10|19:31:18.003] Commit new mining work                   number=1210 sealhash=\"81e47eâ€¦fde07d\" uncles=0 txs=0 gas=0     fees=0       elapsed=\"261.988Âµs\"\r\nINFO [05-10|19:31:23.001] Successfully sealed new block            number=1210 sealhash=\"81e47eâ€¦fde07d\" hash=\"a5f6c0â€¦55b84e\" elapsed=4.998s\r\nINFO [05-10|19:31:23.001] ðŸ”¨ mined potential block                  number=1210 hash=\"a5f6c0â€¦55b84e\"\r\nINFO [05-10|19:31:23.002] Commit new mining work                   number=1211 sealhash=\"171500â€¦3c14a6\" uncles=0 txs=0 gas=0     fees=0       elapsed=\"490.956Âµs\"\r\nINFO [05-10|19:31:23.002] Signed recently, must wait for others \r\nINFO [05-10|19:31:28.003] Imported new chain segment               blocks=1 txs=0 mgas=0.000 elapsed=\"979.207Âµs\" mgasps=0.000  number=1211 hash=\"2919c6â€¦436cd6\" dirty=1.22KiB\r\nINFO [05-10|19:31:28.004] ðŸ”— block reached canonical chain          number=1204 hash=\"8fccf7â€¦956b4f\"\r\nINFO [05-10|19:31:28.004] Commit new mining work                   number=1212 sealhash=\"6be480â€¦2dc090\" uncles=0 txs=0 gas=0     fees=0       elapsed=\"439.497Âµs\"\r\nINFO [05-10|19:31:33.001] Successfully sealed new block            number=1212 sealhash=\"6be480â€¦2dc090\" hash=\"da4840â€¦386bc9\" elapsed=4.996s\r\nINFO [05-10|19:31:33.001] ðŸ”¨ mined potential block                  number=1212 hash=\"da4840â€¦386bc9\"\r\nINFO [05-10|19:31:33.001] Commit new mining work                   number=1213 sealhash=\"ee3addâ€¦bbaacc\" uncles=0 txs=0 gas=0     fees=0       elapsed=\"432.483Âµs\"\r\nINFO [05-10|19:31:33.001] Signed recently, must wait for others \r\nINFO [05-10|19:31:33.002] Commit new mining work                   number=1213 sealhash=\"d66967â€¦c91a73\" uncles=0 txs=2 gas=42000 fees=0.42    elapsed=1.258ms\r\nINFO [05-10|19:31:33.002] Signed recently, must wait for others \r\nINFO [05-10|19:31:36.003] Commit new mining work                   number=1213 sealhash=\"14a274â€¦94516b\" uncles=0 txs=27 gas=567000 fees=5.67    elapsed=1.598ms\r\nINFO [05-10|19:31:36.003] Signed recently, must wait for others \r\nWARN [05-10|19:31:38.007] Failed to load old bad blocks            error=\"leveldb: not found\"\r\nERROR[05-10|19:31:38.009] \r\n########## BAD BLOCK #########\r\nChain config: {ChainID: 156 Homestead: 0 DAO: <nil> DAOSupport: false EIP150: 0 EIP155: 0 EIP158: 0 Byzantium: 0 Constantinople: 0 Petersburg: 0 Istanbul: <nil>, Muir Glacier: <nil>, Berlin: <nil>, YOLO v3: <nil>, Engine: clique}\r\n\r\nNumber: 1213\r\nHash: 0x47a1f5bd02440cf069d287df797f46636631fda85102125dda357f73fa83f2bf\r\n\t 0: cumulative: 21000 gas: 21000 contract: 0x0000000000000000000000000000000000000000 status: 1 tx: 0x79e59aa1a7d572c672a9164e50c4388c69dfefa4adb1d3cfb64d25a1bf82f336 logs: [] bloom: 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000 state: \r\n\t 1: cumulative: 42000 gas: 21000 contract: 0x0000000000000000000000000000000000000000 status: 1 tx: 0x828da1d52a07d4e9c51e5d3e77be35599fa30e559a9ced4f4bcb5a78e80b8362 logs: [] bloom: 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000 state: \r\n\t 2: cumulative: 63000 gas: 21000 contract: 0x0000000000000000000000000000000000000000 status: 1 tx: 0x24a880bef4dfe07932b3e5ab60f34138c8613fa14caec82d7a7c78e305f6d61d logs: [] bloom: 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000 state: \r\n\t 3: cumulative: 84000 gas: 21000 contract: 0x0000000000000000000000000000000000000000 status: 1 tx: 0x668b067678ef0733dbb13fb41a942eeb4c5c1f0090eba5d1ba2815470aad5a9c logs: [] bloom: 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000 state: \r\n\t 4: cumulative: 105000 gas: 21000 contract: 0x0000000000000000000000000000000000000000 status: 1 tx: 0x7018e5e1713fc55b2cfa53f7ac97b0e1be9c3f11dc8daed8058b3479d6e3907f logs: [] bloom: 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000 state: \r\n\t 5: cumulative: 126000 gas: 21000 contract: 0x0000000000000000000000000000000000000000 status: 1 tx: 0x0ededd68cd7abbbc6729ddf36fa1eea1f300dab1c64566b7c188a826bb5d4fdd logs: [] bloom: 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000 state: \r\n\t 6: cumulative: 147000 gas: 21000 contract: 0x0000000000000000000000000000000000000000 status: 1 tx: 0xdcc81deabcb88a32bb753ed142a4b4684a5e34195e4afcc53578f88abf9c4d08 logs: [] bloom: 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000 state: \r\n\t 7: cumulative: 168000 gas: 21000 contract: 0x0000000000000000000000000000000000000000 status: 1 tx: 0x117573dcd6ce8e6c73bc0e70eac2b8ac09c3139e46631cd97063b314fbe60824 logs: [] bloom: 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000 state: \r\n\t 8: cumulative: 189000 gas: 21000 contract: 0x0000000000000000000000000000000000000000 status: 1 tx: 0xd015aa8b20fd24f8c9068db8ca2de600b30ed81a55501b4c4eabb0e7ae99ac37 logs: [] bloom: 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000 state: \r\n\t 9: cumulative: 210000 gas: 21000 contract: 0x0000000000000000000000000000000000000000 status: 1 tx: 0x9301d56ae24045c069050f0ab6dfc117d49111f0ebdb3e9a817acdce517e6414 logs: [] bloom: 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000 state: \r\n\t 10: cumulative: 231000 gas: 21000 contract: 0x0000000000000000000000000000000000000000 status: 1 tx: 0x09b50632031155083bfceebb5778626c2f54c32d662b7ba9985bc21d6e89cb2a logs: [] bloom: 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000 state: \r\n\t 11: cumulative: 252000 gas: 21000 contract: 0x0000000000000000000000000000000000000000 status: 1 tx: 0xce2a1d28a22989e763f4cfe0078d25d6e287462d918d61b23ca92c2ab1c5b492 logs: [] bloom: 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000 state: \r\n\t 12: cumulative: 273000 gas: 21000 contract: 0x0000000000000000000000000000000000000000 status: 1 tx: 0xc213b149729cc0f6cc261dc0f6644133bc25c63b2e41ec6078e79394c25b6ee9 logs: [] bloom: 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000 state: \r\n\t 13: cumulative: 294000 gas: 21000 contract: 0x0000000000000000000000000000000000000000 status: 1 tx: 0xefc61f1532db157f9cd1a5c1109f3e401ff58c27ade84be39dbabf2d090238f7 logs: [] bloom: 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000 state: \r\n\t 14: cumulative: 315000 gas: 21000 contract: 0x0000000000000000000000000000000000000000 status: 1 tx: 0x74e3ac6fa0e0a97794ac09a14c554a7748d0e1bdab782caf43eebc412e292d52 logs: [] bloom: 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000 state: \r\n\t 15: cumulative: 336000 gas: 21000 contract: 0x0000000000000000000000000000000000000000 status: 1 tx: 0x5dac05186308c403c5a20f822abc051dc855053ff194752251e8259c742ce3b1 logs: [] bloom: 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000 state: \r\n\t 16: cumulative: 357000 gas: 21000 contract: 0x0000000000000000000000000000000000000000 status: 1 tx: 0x7da38b4de9815bc16a6b8931d54b155d010d8f4f7d751cb61f5bd6404b0e2129 logs: [] bloom: 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000 state: \r\n\t 17: cumulative: 378000 gas: 21000 contract: 0x0000000000000000000000000000000000000000 status: 1 tx: 0x40411feadf90b2e27d57592db29dcef29737314d78eae157b7d092509ce51fdf logs: [] bloom: 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000 state: \r\n\t 18: cumulative: 399000 gas: 21000 contract: 0x0000000000000000000000000000000000000000 status: 1 tx: 0xb065a949fdfd0d930f3480b3dfb8d54103262a264afa46ef23e4b0e998e498a9 logs: [] bloom: 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000 state: \r\n\t 19: cumulative: 420000 gas: 21000 contract: 0x0000000000000000000000000000000000000000 status: 1 tx: 0xc83f410c16052b4f1f55af4b107b68ab5062523c116a6a04d82a1a3bc3a1fc6d logs: [] bloom: 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000 state: \r\n\t 20: cumulative: 441000 gas: 21000 contract: 0x0000000000000000000000000000000000000000 status: 1 tx: 0x081652b3f34bf298b930af1aa4eb546e97bba473968be691169794bbe433b14b logs: [] bloom: 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000 state: \r\n\t 21: cumulative: 462000 gas: 21000 contract: 0x0000000000000000000000000000000000000000 status: 1 tx: 0xe56703d3876c34edfc6dd3cf9f5e56bce41ff6e4763504370d8cec6950f5dbea logs: [] bloom: 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000 state: \r\n\t 22: cumulative: 483000 gas: 21000 contract: 0x0000000000000000000000000000000000000000 status: 1 tx: 0xaa9747fbd9b060db3f157636fbfbdd555bc179f0dd2bb35158c09a2f16c8f077 logs: [] bloom: 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000 state: \r\n\t 23: cumulative: 504000 gas: 21000 contract: 0x0000000000000000000000000000000000000000 status: 1 tx: 0xde682309187d81153162647ed5e7f75cbc0acd88637edb2381788a9a1a368b74 logs: [] bloom: 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000 state: \r\n\t 24: cumulative: 525000 gas: 21000 contract: 0x0000000000000000000000000000000000000000 status: 1 tx: 0xd7a5bafe4a9c9976d7574bf94e3386155028fbfc4c9ee591bd50367794c11943 logs: [] bloom: 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000 state: \r\n\t 25: cumulative: 546000 gas: 21000 contract: 0x0000000000000000000000000000000000000000 status: 1 tx: 0x08323c8a2655748e77d371000e32f25239837dde19deee77fd4aa280516326db logs: [] bloom: 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000 state: \r\n\t 26: cumulative: 567000 gas: 21000 contract: 0x0000000000000000000000000000000000000000 status: 1 tx: 0x7f3e36daf7eacae5bb02010c34d294912a45006390383019114befc6f9954d27 logs: [] bloom: 00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000 state: \r\n\r\n\r\nError: invalid merkle root (remote: 5579a880e36b67bc053cc61db50c082cdc2737fd1d32ef5d982cbfa67c7d8bf6 local: cb8ed7f96bb0444558e7cfff936d6fb591e21310d8f78a1b5d50e369ae958768)\r\n##############################\r\n```\r\n\r\nWe can see, since there are only two nodes, to avoid becoming recent signer, they propose blocks alternately, peer0 proposes blocks with even heights, and peer1 proposes blocks with odd heights, the 1213 block is indeed created by peer1 since the block hash 47a1f5â€¦83f2bf and 0x47a1f5bd02440cf069d287df797f46636631fda85102125dda357f73fa83f2bf match on the two nodes.\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
  "closed_by": {
    "login": "james-ray",
    "id": 26137182,
    "node_id": "MDQ6VXNlcjI2MTM3MTgy",
    "avatar_url": "https://avatars.githubusercontent.com/u/26137182?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/james-ray",
    "html_url": "https://github.com/james-ray",
    "followers_url": "https://api.github.com/users/james-ray/followers",
    "following_url": "https://api.github.com/users/james-ray/following{/other_user}",
    "gists_url": "https://api.github.com/users/james-ray/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/james-ray/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/james-ray/subscriptions",
    "organizations_url": "https://api.github.com/users/james-ray/orgs",
    "repos_url": "https://api.github.com/users/james-ray/repos",
    "events_url": "https://api.github.com/users/james-ray/events{/privacy}",
    "received_events_url": "https://api.github.com/users/james-ray/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22855/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22855/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/838527191",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22855#issuecomment-838527191",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22855",
    "id": 838527191,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgzODUyNzE5MQ==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-05-11T14:00:50Z",
    "updated_at": "2021-05-11T14:00:50Z",
    "author_association": "MEMBER",
    "body": "So you have full logs from these two machines by any chance? Does this happen on 1.10.2? How did you run your nodes?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/838527191/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/839581963",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22855#issuecomment-839581963",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22855",
    "id": 839581963,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgzOTU4MTk2Mw==",
    "user": {
      "login": "james-ray",
      "id": 26137182,
      "node_id": "MDQ6VXNlcjI2MTM3MTgy",
      "avatar_url": "https://avatars.githubusercontent.com/u/26137182?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/james-ray",
      "html_url": "https://github.com/james-ray",
      "followers_url": "https://api.github.com/users/james-ray/followers",
      "following_url": "https://api.github.com/users/james-ray/following{/other_user}",
      "gists_url": "https://api.github.com/users/james-ray/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/james-ray/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/james-ray/subscriptions",
      "organizations_url": "https://api.github.com/users/james-ray/orgs",
      "repos_url": "https://api.github.com/users/james-ray/repos",
      "events_url": "https://api.github.com/users/james-ray/events{/privacy}",
      "received_events_url": "https://api.github.com/users/james-ray/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-05-12T08:35:30Z",
    "updated_at": "2021-05-12T08:35:30Z",
    "author_association": "NONE",
    "body": "I update the code to latest, this error \"revision id 0 cannot be reverted\"  occurs\r\n```\r\n====tx  from 0x48Ba3d1DdFBb315d777Cec442572e0E0BBF41702 to 0x045FC125689ba1B11bfb2af2DC5b6644Ca1e00cc st.gas 21000 \r\n---applyMessage in DoCall from 48BA3D1DDFBB315D777CEC442572E0E0BBF41702 nonce 0 \r\nINFO [05-12|16:29:45.938] Setting new local account                address=0x48Ba3d1DdFBb315d777Cec442572e0E0BBF41702\r\nINFO [05-12|16:29:45.938] Submitted transaction                    hash=0x22dc35444a03863d77c3e35247c22ef11388c02848a832fb48ebb17a348a4bcb from=0x48Ba3d1DdFBb315d777Cec442572e0E0BBF41702 nonce=0 recipient=0x045FC125689ba1B11bfb2af2DC5b6644Ca1e00cc value=2,000,000,000,000\r\n---in Process, header.Root 02719E5F8C05495C2C53BDF4E3F5ECE9B91AE66B74744604E2FBF14C936C3A0C \r\nINFO [05-12|16:29:46.003] Imported new chain segment               blocks=1 txs=0 mgas=0.000 elapsed=\"386.164Âµs\" mgasps=0.000 number=15 hash=f8ce49..1833a2 dirty=0.00B\r\n---in commitNewWork, parent.Root 02719E5F8C05495C2C53BDF4E3F5ECE9B91AE66B74744604E2FBF14C936C3A0C \r\nINFO [05-12|16:29:46.004] ðŸ”— block reached canonical chain          number=8  hash=630cc8..da26ef\r\nINFO [05-12|16:29:46.004] Commit new mining work                   number=16 sealhash=a4f578..62bcb3 uncles=0 txs=0 gas=0 fees=0 elapsed=\"652.22Âµs\"\r\n--- tx as message  hash 22DC35444A03863D77C3E35247C22EF11388C02848A832FB48EBB17A348A4BCB  \r\n====tx  from 0x48Ba3d1DdFBb315d777Cec442572e0E0BBF41702 to 0x045FC125689ba1B11bfb2af2DC5b6644Ca1e00cc st.gas 21000 \r\n---index 0 hash 22DC35444A03863D77C3E35247C22EF11388C02848A832FB48EBB17A348A4BCB preroot 02719E5F8C05495C2C53BDF4E3F5ECE9B91AE66B74744604E2FBF14C936C3A0C root 2B0C6AACE871B7E292434C1A2D1CB0CF9F827AF1E369E72891F57677F53FF4EE \r\nINFO [05-12|16:29:46.005] Commit new mining work                   number=16 sealhash=7e6955..0c906b uncles=0 txs=1 gas=21000 fees=2.1e-05 elapsed=1.173ms\r\nINFO [05-12|16:29:51.000] Successfully sealed new block            number=16 sealhash=7e6955..0c906b hash=33b055..9eb16b elapsed=4.995s\r\nINFO [05-12|16:29:51.001] ðŸ”¨ mined potential block                  number=16 hash=33b055..9eb16b\r\n---in commitNewWork, parent.Root 2B0C6AACE871B7E292434C1A2D1CB0CF9F827AF1E369E72891F57677F53FF4EE \r\nINFO [05-12|16:29:51.001] Commit new mining work                   number=17 sealhash=680dc8..374dd9 uncles=0 txs=0 gas=0     fees=0       elapsed=\"449.017Âµs\"\r\n--- tx as message  hash 22DC35444A03863D77C3E35247C22EF11388C02848A832FB48EBB17A348A4BCB  \r\npanic: revision id 0 cannot be reverted\r\n\r\ngoroutine 59 [running]:\r\ngithub.com/ethereum/go-ethereum/core/state.(*StateDB).RevertToSnapshot(0xc0007b81a0, 0x0)\r\n\t/home/james/gopath/src/github.com/ethereum/go-ethereum/core/state/statedb.go:774 +0x18b\r\ngithub.com/ethereum/go-ethereum/miner.(*worker).commitTransaction(0xc000203440, 0xc000d61020, 0x5d31bbdf1d3dba48, 0xe0e0722544ec7c77, 0xcb4b8a340217f4bb, 0x217f4bb, 0x0, 0x0, 0xc000326380, 0xc00079f500)\r\n\t/home/james/gopath/src/github.com/ethereum/go-ethereum/miner/worker.go:742 +0x3b8\r\ngithub.com/ethereum/go-ethereum/miner.(*worker).commitTransactions(0xc000203440, 0xc0007c0600, 0x5d31bbdf1d3dba48, 0xe0e0722544ec7c77, 0x217f4bb, 0xc0007335d8, 0xc01f025fc00f6a6e)\r\n\t/home/james/gopath/src/github.com/ethereum/go-ethereum/miner/worker.go:810 +0x4b2\r\ngithub.com/ethereum/go-ethereum/miner.(*worker).commitNewWork(0xc000203440, 0xc0007335d8, 0x0, 0x609b9200)\r\n\t/home/james/gopath/src/github.com/ethereum/go-ethereum/miner/worker.go:979 +0xb37\r\ngithub.com/ethereum/go-ethereum/miner.(*worker).mainLoop(0xc000203440)\r\n\t/home/james/gopath/src/github.com/ethereum/go-ethereum/miner/worker.go:442 +0xdd9\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/839581963/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/839590170",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22855#issuecomment-839590170",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22855",
    "id": 839590170,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgzOTU5MDE3MA==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-05-12T08:47:24Z",
    "updated_at": "2021-05-12T08:47:24Z",
    "author_association": "MEMBER",
    "body": "Are you running stock Geth, or did you modify it?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/839590170/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/839591529",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22855#issuecomment-839591529",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22855",
    "id": 839591529,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgzOTU5MTUyOQ==",
    "user": {
      "login": "james-ray",
      "id": 26137182,
      "node_id": "MDQ6VXNlcjI2MTM3MTgy",
      "avatar_url": "https://avatars.githubusercontent.com/u/26137182?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/james-ray",
      "html_url": "https://github.com/james-ray",
      "followers_url": "https://api.github.com/users/james-ray/followers",
      "following_url": "https://api.github.com/users/james-ray/following{/other_user}",
      "gists_url": "https://api.github.com/users/james-ray/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/james-ray/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/james-ray/subscriptions",
      "organizations_url": "https://api.github.com/users/james-ray/orgs",
      "repos_url": "https://api.github.com/users/james-ray/repos",
      "events_url": "https://api.github.com/users/james-ray/events{/privacy}",
      "received_events_url": "https://api.github.com/users/james-ray/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-05-12T08:49:23Z",
    "updated_at": "2021-05-12T08:49:23Z",
    "author_association": "NONE",
    "body": "I just add some debug logs, I don't modify any logic.   \r\nI do not understand the error stack, the height 17 is no tx, so the panic should occur on height 16, but in height 16, already \"Successfully sealed new block            number=16 sealhash=7e6955..0c906b\"\r\nWhy it commitNewWork again?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/839591529/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/839591959",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22855#issuecomment-839591959",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22855",
    "id": 839591959,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgzOTU5MTk1OQ==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-05-12T08:50:00Z",
    "updated_at": "2021-05-12T08:50:00Z",
    "author_association": "MEMBER",
    "body": "Do you have a script that reproduces this? Would be really nice to be able to run it locally?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/839591959/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/839593353",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22855#issuecomment-839593353",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22855",
    "id": 839593353,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgzOTU5MzM1Mw==",
    "user": {
      "login": "james-ray",
      "id": 26137182,
      "node_id": "MDQ6VXNlcjI2MTM3MTgy",
      "avatar_url": "https://avatars.githubusercontent.com/u/26137182?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/james-ray",
      "html_url": "https://github.com/james-ray",
      "followers_url": "https://api.github.com/users/james-ray/followers",
      "following_url": "https://api.github.com/users/james-ray/following{/other_user}",
      "gists_url": "https://api.github.com/users/james-ray/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/james-ray/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/james-ray/subscriptions",
      "organizations_url": "https://api.github.com/users/james-ray/orgs",
      "repos_url": "https://api.github.com/users/james-ray/repos",
      "events_url": "https://api.github.com/users/james-ray/events{/privacy}",
      "received_events_url": "https://api.github.com/users/james-ray/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-05-12T08:52:07Z",
    "updated_at": "2021-05-12T08:53:07Z",
    "author_association": "NONE",
    "body": "I guess this may relate to the value amount, in previous time, I sent 300 txs with a small amount, then this error occurs.\r\nThis time, I just sent one tx, but with large amount, then it occurs.\r\n\r\nOK, I will run the test locally.  Thanks.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/839593353/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/839593850",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22855#issuecomment-839593850",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22855",
    "id": 839593850,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgzOTU5Mzg1MA==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-05-12T08:52:50Z",
    "updated_at": "2021-05-12T08:52:50Z",
    "author_association": "MEMBER",
    "body": "I have an idea, trying to repro locally.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/839593850/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/839606637",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22855#issuecomment-839606637",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22855",
    "id": 839606637,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgzOTYwNjYzNw==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-05-12T09:10:42Z",
    "updated_at": "2021-05-12T09:10:42Z",
    "author_association": "MEMBER",
    "body": "Nope, can't repro. Please try to send us a script or something that results in this error / crash.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/839606637/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/839613115",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22855#issuecomment-839613115",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22855",
    "id": 839613115,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgzOTYxMzExNQ==",
    "user": {
      "login": "james-ray",
      "id": 26137182,
      "node_id": "MDQ6VXNlcjI2MTM3MTgy",
      "avatar_url": "https://avatars.githubusercontent.com/u/26137182?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/james-ray",
      "html_url": "https://github.com/james-ray",
      "followers_url": "https://api.github.com/users/james-ray/followers",
      "following_url": "https://api.github.com/users/james-ray/following{/other_user}",
      "gists_url": "https://api.github.com/users/james-ray/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/james-ray/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/james-ray/subscriptions",
      "organizations_url": "https://api.github.com/users/james-ray/orgs",
      "repos_url": "https://api.github.com/users/james-ray/repos",
      "events_url": "https://api.github.com/users/james-ray/events{/privacy}",
      "received_events_url": "https://api.github.com/users/james-ray/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-05-12T09:20:35Z",
    "updated_at": "2021-05-12T09:23:33Z",
    "author_association": "NONE",
    "body": "I use the two startup scripts:\r\nnohup geth --identity \"peer0\" --datadir=/root/clique/peer0 --networkid 156 --nodiscover --unlock=0xbad98f2e06ca412f73ca36aa96f7edcec3ad08ab --password=/root/clique/peer0/passwd --allow-insecure-unlock --mine --miner.threads=3 --rpc --rpcaddr \"0.0.0.0\" --rpcport \"8545\" --rpccorsdomain=\"*\" --rpcapi \"admin,debug,eth,net,web3,miner,personal\"  --port=30303 --nat extip:47.241.229.153 > ~/clique/peer0/geth.log 2>&1 &\r\n\r\nand \r\n\r\nnohup geth --identity \"peer1\" --datadir=/root/clique/peer1 --networkid 156 --nodiscover --unlock=0x48ba3d1ddfbb315d777cec442572e0e0bbf41702 --password=/root/clique/peer1/passwd --allow-insecure-unlock  --mine --miner.threads=3 --rpc --rpcaddr \"0.0.0.0\" --rpcport \"8545\" --rpccorsdomain=\"*\" --rpcapi \"admin,debug,eth,net,web3,miner,personal\" --port=30303 --nat extip:47.241.233.73 --bootnodes \"enode://1491d8a6253b13e67d55598d6f2dd625bcbaaec8f3fd4c05ae168ed2c17493285e1636b820236ec53e44e7ef79e321b899339e27d805bf81db5885c2190b4dc6@47.241.229.153:30303\" > ~/clique/peer1/geth.log 2>&1 &\r\n\r\nbut the bootnodes seems not take effect, so I geth attach peer1 and admin.addPeer to peer0,  but they are both in fastsync mode and ignore the propagated block, so I restart them again, and let peer1 connects to peer0 again. Then the consensus starts, they begin to propose block one by one, empty blocks, until I do the stress test, then error occurs.\r\n\r\nI am going to test this on my own computer",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/839613115/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/839644006",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22855#issuecomment-839644006",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22855",
    "id": 839644006,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgzOTY0NDAwNg==",
    "user": {
      "login": "james-ray",
      "id": 26137182,
      "node_id": "MDQ6VXNlcjI2MTM3MTgy",
      "avatar_url": "https://avatars.githubusercontent.com/u/26137182?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/james-ray",
      "html_url": "https://github.com/james-ray",
      "followers_url": "https://api.github.com/users/james-ray/followers",
      "following_url": "https://api.github.com/users/james-ray/following{/other_user}",
      "gists_url": "https://api.github.com/users/james-ray/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/james-ray/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/james-ray/subscriptions",
      "organizations_url": "https://api.github.com/users/james-ray/orgs",
      "repos_url": "https://api.github.com/users/james-ray/repos",
      "events_url": "https://api.github.com/users/james-ray/events{/privacy}",
      "received_events_url": "https://api.github.com/users/james-ray/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-05-12T10:01:37Z",
    "updated_at": "2021-05-12T10:14:06Z",
    "author_association": "NONE",
    "body": "peer0 log:\r\n[geth.log](https://github.com/ethereum/go-ethereum/files/6465339/geth.log)\r\npeer1 log:\r\n[geth.log](https://github.com/ethereum/go-ethereum/files/6465356/geth.log)\r\n\r\n\r\nI reproduce it on my local computer, by sending lots of transfer txs and sleep 150ms between each send.\r\nI send the txs to peer1\r\n\r\nThe genesis.json is as follow, please rename it to .json\r\n\r\n[genesis.log](https://github.com/ethereum/go-ethereum/files/6465438/genesis.log)\r\n\r\n\r\n\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/839644006/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/839651168",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22855#issuecomment-839651168",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22855",
    "id": 839651168,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgzOTY1MTE2OA==",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-05-12T10:11:57Z",
    "updated_at": "2021-05-12T10:11:57Z",
    "author_association": "MEMBER",
    "body": "Did you use the same geth version when attempting it locally?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/839651168/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/839654939",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22855#issuecomment-839654939",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22855",
    "id": 839654939,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgzOTY1NDkzOQ==",
    "user": {
      "login": "james-ray",
      "id": 26137182,
      "node_id": "MDQ6VXNlcjI2MTM3MTgy",
      "avatar_url": "https://avatars.githubusercontent.com/u/26137182?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/james-ray",
      "html_url": "https://github.com/james-ray",
      "followers_url": "https://api.github.com/users/james-ray/followers",
      "following_url": "https://api.github.com/users/james-ray/following{/other_user}",
      "gists_url": "https://api.github.com/users/james-ray/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/james-ray/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/james-ray/subscriptions",
      "organizations_url": "https://api.github.com/users/james-ray/orgs",
      "repos_url": "https://api.github.com/users/james-ray/repos",
      "events_url": "https://api.github.com/users/james-ray/events{/privacy}",
      "received_events_url": "https://api.github.com/users/james-ray/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-05-12T10:17:27Z",
    "updated_at": "2021-05-12T10:43:50Z",
    "author_association": "NONE",
    "body": "Yes, the same. I  revert my debug log commit and use the latest geth version on master and test this again.\r\n\r\nThere is no error, strange.  I upload this geth to my test machines and test again.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/839654939/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/839677627",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22855#issuecomment-839677627",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22855",
    "id": 839677627,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgzOTY3NzYyNw==",
    "user": {
      "login": "james-ray",
      "id": 26137182,
      "node_id": "MDQ6VXNlcjI2MTM3MTgy",
      "avatar_url": "https://avatars.githubusercontent.com/u/26137182?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/james-ray",
      "html_url": "https://github.com/james-ray",
      "followers_url": "https://api.github.com/users/james-ray/followers",
      "following_url": "https://api.github.com/users/james-ray/following{/other_user}",
      "gists_url": "https://api.github.com/users/james-ray/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/james-ray/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/james-ray/subscriptions",
      "organizations_url": "https://api.github.com/users/james-ray/orgs",
      "repos_url": "https://api.github.com/users/james-ray/repos",
      "events_url": "https://api.github.com/users/james-ray/events{/privacy}",
      "received_events_url": "https://api.github.com/users/james-ray/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-05-12T10:56:35Z",
    "updated_at": "2021-05-12T10:56:35Z",
    "author_association": "NONE",
    "body": "Seems like it works fine, I should check the modification I made, thanks for supporting this, I close this for now.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/839677627/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
