{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25065",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25065/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25065/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25065/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/25065",
  "id": 1268625891,
  "node_id": "I_kwDOAOvK985LnbHj",
  "number": 25065,
  "title": "Generics instantiation error using mapset.Set[T comparable] within rpc/server.go and rpc/websocket.go",
  "user": {
    "login": "th3outcast",
    "id": 69354771,
    "node_id": "MDQ6VXNlcjY5MzU0Nzcx",
    "avatar_url": "https://avatars.githubusercontent.com/u/69354771?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/th3outcast",
    "html_url": "https://github.com/th3outcast",
    "followers_url": "https://api.github.com/users/th3outcast/followers",
    "following_url": "https://api.github.com/users/th3outcast/following{/other_user}",
    "gists_url": "https://api.github.com/users/th3outcast/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/th3outcast/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/th3outcast/subscriptions",
    "organizations_url": "https://api.github.com/users/th3outcast/orgs",
    "repos_url": "https://api.github.com/users/th3outcast/repos",
    "events_url": "https://api.github.com/users/th3outcast/events{/privacy}",
    "received_events_url": "https://api.github.com/users/th3outcast/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2022-06-12T15:55:26Z",
  "updated_at": "2022-08-28T01:31:18Z",
  "closed_at": "2022-06-15T12:14:27Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nGeth version: `1.10.3-stable`\r\nOS & Version: Windows/Linux/OSX\r\n\r\n#### Expected behaviour\r\nDial into an ethclient.\r\n\r\n#### Actual behaviour\r\nGenerics instantiation errors.\r\n\r\n#### Steps to reproduce the behaviour\r\nUse the import:\r\n\r\n````\r\nimport \"github.com/ethereum/go-ethereum/ethclient\"\r\n````\r\n\r\n#### Backtrace\r\n\r\n````\r\n# github.com/ethereum/go-ethereum/rpc\r\n../../ethereum/go-ethereum/rpc/server.go:49:11: cannot use generic type mapset.Set[T comparable] without instantiation\r\n../../ethereum/go-ethereum/rpc/server.go:55:69: cannot infer T (/home/zero/Documents/Go/src/github.com/deckarep/golang-set/set.go:180:13)\r\n../../ethereum/go-ethereum/rpc/websocket.go:72:26: cannot infer T (/home/zero/Documents/Go/src/github.com/deckarep/golang-set/set.go:180:13)\r\n../../ethereum/go-ethereum/rpc/websocket.go:125:37: cannot use generic type mapset.Set[T comparable] without instantiation\r\n````",
  "closed_by": {
    "login": "karalabe",
    "id": 129561,
    "node_id": "MDQ6VXNlcjEyOTU2MQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/karalabe",
    "html_url": "https://github.com/karalabe",
    "followers_url": "https://api.github.com/users/karalabe/followers",
    "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
    "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
    "organizations_url": "https://api.github.com/users/karalabe/orgs",
    "repos_url": "https://api.github.com/users/karalabe/repos",
    "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
    "received_events_url": "https://api.github.com/users/karalabe/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25065/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25065/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1153233835",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/25065#issuecomment-1153233835",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25065",
    "id": 1153233835,
    "node_id": "IC_kwDOAOvK985EvPOr",
    "user": {
      "login": "th3outcast",
      "id": 69354771,
      "node_id": "MDQ6VXNlcjY5MzU0Nzcx",
      "avatar_url": "https://avatars.githubusercontent.com/u/69354771?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/th3outcast",
      "html_url": "https://github.com/th3outcast",
      "followers_url": "https://api.github.com/users/th3outcast/followers",
      "following_url": "https://api.github.com/users/th3outcast/following{/other_user}",
      "gists_url": "https://api.github.com/users/th3outcast/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/th3outcast/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/th3outcast/subscriptions",
      "organizations_url": "https://api.github.com/users/th3outcast/orgs",
      "repos_url": "https://api.github.com/users/th3outcast/repos",
      "events_url": "https://api.github.com/users/th3outcast/events{/privacy}",
      "received_events_url": "https://api.github.com/users/th3outcast/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-12T17:00:58Z",
    "updated_at": "2022-06-12T17:00:58Z",
    "author_association": "NONE",
    "body": "Issue caused by breaking changes to **github.com/deckarep/golang-set** v2.1.0 module dependency, works fine on previous v1.7.1.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1153233835/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1155094496",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/25065#issuecomment-1155094496",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25065",
    "id": 1155094496,
    "node_id": "IC_kwDOAOvK985E2Vfg",
    "user": {
      "login": "fjl",
      "id": 6915,
      "node_id": "MDQ6VXNlcjY5MTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6915?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjl",
      "html_url": "https://github.com/fjl",
      "followers_url": "https://api.github.com/users/fjl/followers",
      "following_url": "https://api.github.com/users/fjl/following{/other_user}",
      "gists_url": "https://api.github.com/users/fjl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fjl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fjl/subscriptions",
      "organizations_url": "https://api.github.com/users/fjl/orgs",
      "repos_url": "https://api.github.com/users/fjl/repos",
      "events_url": "https://api.github.com/users/fjl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fjl/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-14T12:05:51Z",
    "updated_at": "2022-06-14T12:05:51Z",
    "author_association": "MEMBER",
    "body": "There is nothing simple we can do here to fix this.\r\n\r\ngo-ethereum depends on golang-set v1.8.0. The new library version v2.x has an incompatible API, and using both at the same time seems not possible. We will not upgrade to the generics-based version of this library until next year.\r\n\r\nWhat we could do is, remove the dependency and implement our own set using a map instead.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1155094496/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1228776146",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/25065#issuecomment-1228776146",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25065",
    "id": 1228776146,
    "node_id": "IC_kwDOAOvK985JPaLS",
    "user": {
      "login": "deckarep",
      "id": 200686,
      "node_id": "MDQ6VXNlcjIwMDY4Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/200686?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/deckarep",
      "html_url": "https://github.com/deckarep",
      "followers_url": "https://api.github.com/users/deckarep/followers",
      "following_url": "https://api.github.com/users/deckarep/following{/other_user}",
      "gists_url": "https://api.github.com/users/deckarep/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/deckarep/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/deckarep/subscriptions",
      "organizations_url": "https://api.github.com/users/deckarep/orgs",
      "repos_url": "https://api.github.com/users/deckarep/repos",
      "events_url": "https://api.github.com/users/deckarep/events{/privacy}",
      "received_events_url": "https://api.github.com/users/deckarep/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-26T18:05:26Z",
    "updated_at": "2022-08-26T18:05:26Z",
    "author_association": "CONTRIBUTOR",
    "body": "@karalabe - hello I'm the original author of the golang-set module and purposely didn't want to have to maintain two separate API's going forward. The hope is that people eventually cut over to the generics implementation at some point.\r\n\r\nWith that being said, if there is a super solid reason to have two differing API's supported (generics and non-generics) I could be swayed to incorporate it if it really, really helps out the Ethereum project. \r\n\r\nBut, my preference is to just have you upgrade to the generics version when the time comes. I also recognize that a project of this size might take longer to supporting generics.\r\n\r\nPlease let me know as I'm here to help!\r\n\r\n-@deckarep",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1228776146/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1229163575",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/25065#issuecomment-1229163575",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25065",
    "id": 1229163575,
    "node_id": "IC_kwDOAOvK985JQ4w3",
    "user": {
      "login": "fjl",
      "id": 6915,
      "node_id": "MDQ6VXNlcjY5MTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6915?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjl",
      "html_url": "https://github.com/fjl",
      "followers_url": "https://api.github.com/users/fjl/followers",
      "following_url": "https://api.github.com/users/fjl/following{/other_user}",
      "gists_url": "https://api.github.com/users/fjl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fjl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fjl/subscriptions",
      "organizations_url": "https://api.github.com/users/fjl/orgs",
      "repos_url": "https://api.github.com/users/fjl/repos",
      "events_url": "https://api.github.com/users/fjl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fjl/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-27T10:06:15Z",
    "updated_at": "2022-08-27T10:06:15Z",
    "author_association": "MEMBER",
    "body": "Yeah, we will just wait for a while and then change to the new version. go-ethereum has a policy to support the last two or even three Go versions, so we cannot start using generics until spring 2023.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1229163575/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1229353780",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/25065#issuecomment-1229353780",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/25065",
    "id": 1229353780,
    "node_id": "IC_kwDOAOvK985JRnM0",
    "user": {
      "login": "deckarep",
      "id": 200686,
      "node_id": "MDQ6VXNlcjIwMDY4Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/200686?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/deckarep",
      "html_url": "https://github.com/deckarep",
      "followers_url": "https://api.github.com/users/deckarep/followers",
      "following_url": "https://api.github.com/users/deckarep/following{/other_user}",
      "gists_url": "https://api.github.com/users/deckarep/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/deckarep/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/deckarep/subscriptions",
      "organizations_url": "https://api.github.com/users/deckarep/orgs",
      "repos_url": "https://api.github.com/users/deckarep/repos",
      "events_url": "https://api.github.com/users/deckarep/events{/privacy}",
      "received_events_url": "https://api.github.com/users/deckarep/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-28T01:31:18Z",
    "updated_at": "2022-08-28T01:31:18Z",
    "author_association": "CONTRIBUTOR",
    "body": "@fjl - sounds good if golang-set becomes an issue between now and than…just let me know!",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1229353780/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
