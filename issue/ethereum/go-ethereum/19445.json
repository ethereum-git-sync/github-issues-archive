{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19445",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19445/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19445/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19445/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/19445",
  "id": 431932281,
  "node_id": "MDU6SXNzdWU0MzE5MzIyODE=",
  "number": 19445,
  "title": "Les nodes with RPC invoke failure",
  "user": {
    "login": "fadeAce",
    "id": 20850645,
    "node_id": "MDQ6VXNlcjIwODUwNjQ1",
    "avatar_url": "https://avatars.githubusercontent.com/u/20850645?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/fadeAce",
    "html_url": "https://github.com/fadeAce",
    "followers_url": "https://api.github.com/users/fadeAce/followers",
    "following_url": "https://api.github.com/users/fadeAce/following{/other_user}",
    "gists_url": "https://api.github.com/users/fadeAce/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/fadeAce/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/fadeAce/subscriptions",
    "organizations_url": "https://api.github.com/users/fadeAce/orgs",
    "repos_url": "https://api.github.com/users/fadeAce/repos",
    "events_url": "https://api.github.com/users/fadeAce/events{/privacy}",
    "received_events_url": "https://api.github.com/users/fadeAce/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2019-04-11T09:52:01Z",
  "updated_at": "2019-04-11T10:21:08Z",
  "closed_at": "2019-04-11T10:21:06Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Geth\r\nVersion: 1.8.23-stable\r\nGit Commit: c942700427557e3ff6de3aaf6b916e2f056c1ec2\r\nArchitecture: amd64\r\nProtocol Versions: [63 62]\r\nNetwork Id: 1\r\nGo Version: go1.11.5\r\nOperating System: darwin\r\nGOPATH=/Users/terrill/main/envs/go:/Users/terrill/go\r\nGOROOT=/Users/travis/.gimme/versions/go1.11.5.darwin.amd64\r\n\r\nusing ethclient in go-ethereum , to send TX but always get failed with geth crash\r\n```\r\nfunc TestSendEth(t *testing.T) {\r\n\tclient, err := ethclient.Dial(\"http://127.0.0.1:8545\")\r\n\tif err != nil {\r\n\t\tfmt.Println(err)\r\n\t}\r\n\r\n\ttoAddress := common.HexToAddress(\"FC8eFa516089C2c1Fd606914c94137a98653b676\")\r\n\r\n\t// make tx\r\n\ttx := types2.NewTransaction(1, toAddress, big.NewInt(21000000), 200000, big.NewInt(80000), nil)\r\n\r\n\tkey := new(keystore.Key)\r\n\r\n\t// file testing\r\n\r\n\tfd, err := os.Open(\"key.dat\")\r\n\tif err != nil {\r\n\t\tfmt.Println(err)\r\n\t}\r\n\tdefer fd.Close()\r\n\tif err := json.NewDecoder(fd).Decode(key); err != nil {\r\n\t\tfmt.Println(err)\r\n\t}\r\n\tsignTx, err := types2.SignTx(tx, &types2.HomesteadSigner{}, key.PrivateKey)\r\n\tfmt.Println(signTx.Hash())\r\n\tif err != nil {\r\n\t\tfmt.Println(err)\r\n\t}\r\n\terr = client.SendTransaction(context.TODO(), signTx)\r\n\tif err != nil {\r\n\t\tfmt.Println(\"error :\", err)\r\n\t}\r\n\tfmt.Println(signTx.Hash().Hex())\r\n}\r\n```\r\n\r\n\r\nand failed logs like\r\n```\r\nINFO [04-11|17:45:12.328] Imported new block headers               count=2 elapsed=143.822ms number=4189768 hash=fdc7fd…aeef57 ignored=1\r\nINFO [04-11|17:45:14.761] Imported new block headers               count=1 elapsed=17.321ms  number=4189769 hash=6e0834…ac9794\r\nINFO [04-11|17:45:29.694] Imported new block headers               count=1 elapsed=989.952µs number=4189770 hash=8c5846…6d0c6a\r\nINFO [04-11|17:45:44.556] Imported new block headers               count=1 elapsed=13.500ms  number=4189771 hash=08a814…3f1c64\r\nINFO [04-11|17:45:59.701] Imported new block headers               count=1 elapsed=1.052ms   number=4189772 hash=982219…e97a3f\r\nINFO [04-11|17:46:14.585] Imported new block headers               count=1 elapsed=11.295ms  number=4189773 hash=053ef8…9cbf3b\r\nINFO [04-11|17:46:16.293] Submitted transaction                    fullhash=0x0b366310977a8e72b72ea774a98994c2d9527f4c1cd9e2ca2f567d98320bc55e recipient=0xFC8eFa516089C2c1Fd606914c94137a98653b676\r\npanic: runtime error: invalid memory address or nil pointer dereference\r\n[signal SIGSEGV: segmentation violation code=0x1 addr=0x0 pc=0x4726e70]\r\n\r\ngoroutine 13 [running]:\r\ngithub.com/ethereum/go-ethereum/les.(*peer).GetRequestCost(0xc0000f9810, 0xc, 0x1, 0x0)\r\n\t/Users/travis/gopath/src/github.com/ethereum/go-ethereum/les/peer.go:166 +0xa0\r\ngithub.com/ethereum/go-ethereum/les.(*LesTxRelay).send.func1(0x4e16e80, 0xc0000f9810, 0xc011543d01)\r\n\t/Users/travis/gopath/src/github.com/ethereum/go-ethereum/les/txrelay.go:121 +0x4e\r\ngithub.com/ethereum/go-ethereum/les.(*requestDistributor).nextRequest(0xc010671900, 0x0, 0x0, 0x0, 0x0)\r\n\t/Users/travis/gopath/src/github.com/ethereum/go-ethereum/les/distributor.go:195 +0x2b1\r\ngithub.com/ethereum/go-ethereum/les.(*requestDistributor).loop(0xc010671900)\r\n\t/Users/travis/gopath/src/github.com/ethereum/go-ethereum/les/distributor.go:129 +0x7f\r\ncreated by github.com/ethereum/go-ethereum/les.newRequestDistributor\r\n\t/Users/travis/gopath/src/github.com/ethereum/go-ethereum/les/distributor.go:80 +0xf9\r\n```\r\n\r\nRinkeby env activated in cmd :\r\n./geth --rinkeby --syncmode \"light\" --rpc\r\n",
  "closed_by": {
    "login": "karalabe",
    "id": 129561,
    "node_id": "MDQ6VXNlcjEyOTU2MQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/karalabe",
    "html_url": "https://github.com/karalabe",
    "followers_url": "https://api.github.com/users/karalabe/followers",
    "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
    "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
    "organizations_url": "https://api.github.com/users/karalabe/orgs",
    "repos_url": "https://api.github.com/users/karalabe/repos",
    "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
    "received_events_url": "https://api.github.com/users/karalabe/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19445/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19445/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/482057624",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/19445#issuecomment-482057624",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19445",
    "id": 482057624,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4MjA1NzYyNA==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-04-11T10:21:06Z",
    "updated_at": "2019-04-11T10:21:06Z",
    "author_association": "MEMBER",
    "body": "Please upgrade to Geth v1.8.26 https://github.com/ethereum/go-ethereum/releases/tag/v1.8.26",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/482057624/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
