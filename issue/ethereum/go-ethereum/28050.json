{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/28050",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/28050/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/28050/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/28050/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/28050",
  "id": 1877932180,
  "node_id": "I_kwDOAOvK985v7viU",
  "number": 28050,
  "title": "How to run full archive Geth to sync from the beginning?",
  "user": {
    "login": "Aracki",
    "id": 6129986,
    "node_id": "MDQ6VXNlcjYxMjk5ODY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6129986?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Aracki",
    "html_url": "https://github.com/Aracki",
    "followers_url": "https://api.github.com/users/Aracki/followers",
    "following_url": "https://api.github.com/users/Aracki/following{/other_user}",
    "gists_url": "https://api.github.com/users/Aracki/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Aracki/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Aracki/subscriptions",
    "organizations_url": "https://api.github.com/users/Aracki/orgs",
    "repos_url": "https://api.github.com/users/Aracki/repos",
    "events_url": "https://api.github.com/users/Aracki/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Aracki/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 268304226,
      "node_id": "MDU6TGFiZWwyNjgzMDQyMjY=",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:docs",
      "name": "type:docs",
      "color": "fef2c0",
      "default": false,
      "description": null
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2023-09-01T19:10:19Z",
  "updated_at": "2023-09-05T09:10:32Z",
  "closed_at": "2023-09-05T09:10:32Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "I've started `v1.12.0` Geth with following flags:\r\n```\r\n            \"--mainnet\",\r\n            \"--datadir=/root/.ethereum/mainnet-geth\",\r\n            \"--syncmode=full\",\r\n            \"--gcmode=archive\",\r\n            \"--cache=65536\",\r\n            \"--http\",\r\n            \"--http.addr=0.0.0.0\",\r\n            \"--http.corsdomain=*\",\r\n            \"--http.vhosts=*\",\r\n            \"--http.port=8545\",\r\n            \"--http.api=engine,eth,net,web3,admin,debug,personal,txpool\",\r\n            \"--ws\",\r\n            \"--ws.addr=0.0.0.0\",\r\n            \"--ws.origins=*\",\r\n            \"--ws.port=8546\",\r\n            \"--ws.api=engine,eth,net,web3,admin,debug,personal,miner,txpool\",\r\n            \"--port=30303\",\r\n            \"--txlookuplimit=0\",\r\n            \"--rpc.allow-unprotected-txs\",\r\n            \"--cache.preimages\",\r\n            \"--authrpc.port=8551\",\r\n            \"--authrpc.jwtsecret=/root/.ethereum/jwt.secret\",\r\n```\r\n\r\nIn the logs I can see:\r\n\r\n> New local node record lines\r\n\r\nstarted from *seq=1,692,800,175,905*, and after 7 days it's *seq=1,692,800,176,877*.\r\n\r\nAlso I'm getting warnings:\r\n> Beacon client online, but never received consensus updates. Please ensure your beacon client is operational to follow the chain!\r\n\r\nI am running lighthouse also, but it's latest beacon slot at the moment is 3,463,520 (out of 7mil currently on chain).\r\n\r\nDoes it mean I need to wait for Lighthouse to be in sync with the network or I need to run Geth with some special flags in order to tell it to sync blocks which happened before The Merge?",
  "closed_by": {
    "login": "holiman",
    "id": 142290,
    "node_id": "MDQ6VXNlcjE0MjI5MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/holiman",
    "html_url": "https://github.com/holiman",
    "followers_url": "https://api.github.com/users/holiman/followers",
    "following_url": "https://api.github.com/users/holiman/following{/other_user}",
    "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
    "organizations_url": "https://api.github.com/users/holiman/orgs",
    "repos_url": "https://api.github.com/users/holiman/repos",
    "events_url": "https://api.github.com/users/holiman/events{/privacy}",
    "received_events_url": "https://api.github.com/users/holiman/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/28050/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/28050/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1703512693",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/28050#issuecomment-1703512693",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/28050",
    "id": 1703512693,
    "node_id": "IC_kwDOAOvK985liYp1",
    "user": {
      "login": "yorickdowne",
      "id": 71337066,
      "node_id": "MDQ6VXNlcjcxMzM3MDY2",
      "avatar_url": "https://avatars.githubusercontent.com/u/71337066?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yorickdowne",
      "html_url": "https://github.com/yorickdowne",
      "followers_url": "https://api.github.com/users/yorickdowne/followers",
      "following_url": "https://api.github.com/users/yorickdowne/following{/other_user}",
      "gists_url": "https://api.github.com/users/yorickdowne/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yorickdowne/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yorickdowne/subscriptions",
      "organizations_url": "https://api.github.com/users/yorickdowne/orgs",
      "repos_url": "https://api.github.com/users/yorickdowne/repos",
      "events_url": "https://api.github.com/users/yorickdowne/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yorickdowne/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-09-01T23:36:04Z",
    "updated_at": "2023-09-01T23:36:04Z",
    "author_association": "NONE",
    "body": "Lighthouse needs to be synced. This takes a few days. You can checkpoint sync Lighthouse and tell it to backfill back to genesis so it is an archive, and Geth can start sync sooner.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1703512693/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1706148870",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/28050#issuecomment-1706148870",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/28050",
    "id": 1706148870,
    "node_id": "IC_kwDOAOvK985lscQG",
    "user": {
      "login": "MariusVanDerWijden",
      "id": 16664698,
      "node_id": "MDQ6VXNlcjE2NjY0Njk4",
      "avatar_url": "https://avatars.githubusercontent.com/u/16664698?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MariusVanDerWijden",
      "html_url": "https://github.com/MariusVanDerWijden",
      "followers_url": "https://api.github.com/users/MariusVanDerWijden/followers",
      "following_url": "https://api.github.com/users/MariusVanDerWijden/following{/other_user}",
      "gists_url": "https://api.github.com/users/MariusVanDerWijden/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MariusVanDerWijden/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MariusVanDerWijden/subscriptions",
      "organizations_url": "https://api.github.com/users/MariusVanDerWijden/orgs",
      "repos_url": "https://api.github.com/users/MariusVanDerWijden/repos",
      "events_url": "https://api.github.com/users/MariusVanDerWijden/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MariusVanDerWijden/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-09-05T08:12:50Z",
    "updated_at": "2023-09-05T08:12:50Z",
    "author_association": "MEMBER",
    "body": "You should definitely use `--db.engine pebble` and at some point in the future also enable `--state.scheme path` once the path based storage scheme supports archive nodes",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1706148870/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1706236262",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/28050#issuecomment-1706236262",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/28050",
    "id": 1706236262,
    "node_id": "IC_kwDOAOvK985lsxlm",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-09-05T09:09:58Z",
    "updated_at": "2023-09-05T09:09:58Z",
    "author_association": "MEMBER",
    "body": "> Lighthouse needs to be synced.\r\n\r\nActually, if you are doing a block by block sync, you do not _need_ a CL node until towards the end. \r\n```\r\n    --synctarget value            \r\n          File for containing the hex-encoded block-rlp as sync target(dev feature)\r\n```\r\nIt is possible to just specify a synctarget, and geth will \"pretend\" that a CL gave it that target, and it will sync towards it. Only when we do state-sync (snap-sync) do we need regular updates in order to move the pivot-block forward, but moving the target forward is not needed when doing a block by block sync. \r\n\r\nBut yeah, it's a bit non-userfriendly-UX, so it's probably simpler to just use a synced CL. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1706236262/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
