{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21507",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21507/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21507/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21507/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/21507",
  "id": 690056583,
  "node_id": "MDU6SXNzdWU2OTAwNTY1ODM=",
  "number": 21507,
  "title": "Transaction is not mined in private-net even block number is increasing",
  "user": {
    "login": "prashantprabhakar",
    "id": 20419322,
    "node_id": "MDQ6VXNlcjIwNDE5MzIy",
    "avatar_url": "https://avatars.githubusercontent.com/u/20419322?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/prashantprabhakar",
    "html_url": "https://github.com/prashantprabhakar",
    "followers_url": "https://api.github.com/users/prashantprabhakar/followers",
    "following_url": "https://api.github.com/users/prashantprabhakar/following{/other_user}",
    "gists_url": "https://api.github.com/users/prashantprabhakar/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/prashantprabhakar/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/prashantprabhakar/subscriptions",
    "organizations_url": "https://api.github.com/users/prashantprabhakar/orgs",
    "repos_url": "https://api.github.com/users/prashantprabhakar/repos",
    "events_url": "https://api.github.com/users/prashantprabhakar/events{/privacy}",
    "received_events_url": "https://api.github.com/users/prashantprabhakar/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1132689577,
      "node_id": "MDU6TGFiZWwxMTMyNjg5NTc3",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/status:triage",
      "name": "status:triage",
      "color": "6be514",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2020-09-01T11:18:11Z",
  "updated_at": "2020-09-22T08:52:19Z",
  "closed_at": "2020-09-22T08:52:18Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "I have forked geth and build from source. I have pending transactions but when running miner, miner only mines empty blocks. The pending transactions remain as it is.\r\n\r\nI have changed **CalcDifficulty** function to return static difficulty. \r\n```\r\nfunc (ethash *Ethash) CalcDifficulty(chain consensus.ChainReader, time uint64, parent *types.Header) *big.Int {\r\n\treturn big.NewInt(10)\r\n}\r\n \r\n```\r\n\r\nIt's a private net with given genesis.json.\r\n\r\n```{\r\n  \"config\": {\r\n        \"chainId\": 1902,\r\n        \"homesteadBlock\": 1,\r\n        \"eip150Block\": 1,\r\n        \"eip155Block\": 1,\r\n        \"eip158Block\": 1,\r\n        \"byzantiumBlock\": 1,\r\n        \"petersburgBlock\": 1,\r\n        \"istanbulBlock\": 1,\r\n        \"constantinopleBlock\": 1\r\n        },\r\n      \"alloc\": {\r\n        \"0xb96cc63995379807374ae80eac13b0e121d72fe2\": { \"balance\": \"100000000000000000000000000\"}\r\n      },\r\n      \"coinbase\"   : \"0xb96cc63995379807374ae80eac13b0e121d72fe2\",\r\n      \"difficulty\" : \"0x20000\",\r\n      \"extraData\"  : \"0x00\",\r\n      \"gasLimit\"   : \"0xA7D8C0\",\r\n      \"nonce\"      : \"0x0000000000000042\",\r\n      \"mixhash\"    : \"0x0000000000000000000000000000000000000000000000000000000000000000\",\r\n      \"parentHash\" : \"0x0000000000000000000000000000000000000000000000000000000000000000\",\r\n      \"timestamp\"  : \"0x00\"\r\n    }\r\n```\r\n\r\nHere is my tx pool\r\n\r\n```{\r\n  pending: {\r\n    0xB96Cc63995379807374AE80Eac13b0e121d72FE2: {\r\n      38: \"0xB96Cc63995379807374AE80Eac13b0e121d72FE2: 1 wei + 21000 gas × 15000000000 wei\",\r\n      39: \"0x18Cd6153dB9D8e83F0Bc44E29a601143d06E154B: 0 wei + 157755 gas × 9000000000 wei\",\r\n      40: \"0x18Cd6153dB9D8e83F0Bc44E29a601143d06E154B: 0 wei + 157755 gas × 9000000000 wei\",\r\n      41: \"0x18Cd6153dB9D8e83F0Bc44E29a601143d06E154B: 0 wei + 157755 gas × 9000000000 wei\",\r\n      42: \"0x18Cd6153dB9D8e83F0Bc44E29a601143d06E154B: 0 wei + 157755 gas × 9000000000 wei\",\r\n      43: \"0x18Cd6153dB9D8e83F0Bc44E29a601143d06E154B: 0 wei + 157755 gas × 9000000000 wei\",\r\n      44: \"0x18Cd6153dB9D8e83F0Bc44E29a601143d06E154B: 0 wei + 157755 gas × 9000000000 wei\",\r\n      45: \"0x18Cd6153dB9D8e83F0Bc44E29a601143d06E154B: 0 wei + 157755 gas × 9000000000 wei\",\r\n      46: \"0x18Cd6153dB9D8e83F0Bc44E29a601143d06E154B: 0 wei + 157755 gas × 9000000000 wei\",\r\n      47: \"0x18Cd6153dB9D8e83F0Bc44E29a601143d06E154B: 0 wei + 157755 gas × 9000000000 wei\"\r\n    }\r\n  },\r\n  queued: {}\r\n}\r\n```\r\n\r\nI have set ` miner.setGasPrice(0)`, so `eth.gasPrice` returns 0. \r\n\r\nAll the previous transaction ( till nonce 37 is mined successfully). So nonce is in order.\r\n\r\n## Expectation:\r\n\r\nThe transactions should clear.\r\n",
  "closed_by": {
    "login": "holiman",
    "id": 142290,
    "node_id": "MDQ6VXNlcjE0MjI5MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/holiman",
    "html_url": "https://github.com/holiman",
    "followers_url": "https://api.github.com/users/holiman/followers",
    "following_url": "https://api.github.com/users/holiman/following{/other_user}",
    "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
    "organizations_url": "https://api.github.com/users/holiman/orgs",
    "repos_url": "https://api.github.com/users/holiman/repos",
    "events_url": "https://api.github.com/users/holiman/events{/privacy}",
    "received_events_url": "https://api.github.com/users/holiman/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21507/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21507/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/696592682",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/21507#issuecomment-696592682",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/21507",
    "id": 696592682,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5NjU5MjY4Mg==",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-09-22T08:52:18Z",
    "updated_at": "2020-09-22T08:52:18Z",
    "author_association": "MEMBER",
    "body": "If you fork and change some pretty core functionality, we can't really spend the time investigating the issues that come up. The difficulty is pretty deep in the core, and there are checks in geth to prevent `0` gasPrice. You are probably bumping into one of those checks. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/696592682/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
