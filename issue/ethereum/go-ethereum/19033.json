{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19033",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19033/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19033/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19033/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/19033",
  "id": 408606328,
  "node_id": "MDU6SXNzdWU0MDg2MDYzMjg=",
  "number": 19033,
  "title": "Transaction tests are incorrectly passing; need updating to latest format",
  "user": {
    "login": "danjm",
    "id": 7499938,
    "node_id": "MDQ6VXNlcjc0OTk5Mzg=",
    "avatar_url": "https://avatars.githubusercontent.com/u/7499938?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/danjm",
    "html_url": "https://github.com/danjm",
    "followers_url": "https://api.github.com/users/danjm/followers",
    "following_url": "https://api.github.com/users/danjm/following{/other_user}",
    "gists_url": "https://api.github.com/users/danjm/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/danjm/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/danjm/subscriptions",
    "organizations_url": "https://api.github.com/users/danjm/orgs",
    "repos_url": "https://api.github.com/users/danjm/repos",
    "events_url": "https://api.github.com/users/danjm/events{/privacy}",
    "received_events_url": "https://api.github.com/users/danjm/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "fjl",
    "id": 6915,
    "node_id": "MDQ6VXNlcjY5MTU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6915?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/fjl",
    "html_url": "https://github.com/fjl",
    "followers_url": "https://api.github.com/users/fjl/followers",
    "following_url": "https://api.github.com/users/fjl/following{/other_user}",
    "gists_url": "https://api.github.com/users/fjl/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/fjl/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/fjl/subscriptions",
    "organizations_url": "https://api.github.com/users/fjl/orgs",
    "repos_url": "https://api.github.com/users/fjl/repos",
    "events_url": "https://api.github.com/users/fjl/events{/privacy}",
    "received_events_url": "https://api.github.com/users/fjl/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "fjl",
      "id": 6915,
      "node_id": "MDQ6VXNlcjY5MTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6915?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjl",
      "html_url": "https://github.com/fjl",
      "followers_url": "https://api.github.com/users/fjl/followers",
      "following_url": "https://api.github.com/users/fjl/following{/other_user}",
      "gists_url": "https://api.github.com/users/fjl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fjl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fjl/subscriptions",
      "organizations_url": "https://api.github.com/users/fjl/orgs",
      "repos_url": "https://api.github.com/users/fjl/repos",
      "events_url": "https://api.github.com/users/fjl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fjl/received_events",
      "type": "User",
      "site_admin": false
    },
    {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 0,
  "created_at": "2019-02-11T01:06:12Z",
  "updated_at": "2019-05-23T15:22:33Z",
  "closed_at": "2019-05-21T11:58:19Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "It seems that the tests found in `go-ethereum/tests/testdata/TransactionTests/` and run via `go-ethereum/tests/transaction_test.go` are not actually running but appearing as if they are all running and passing.\r\n\r\nThe current structs in `https://github.com/ethereum/go-ethereum/blob/master/tests/transaction_test_util.go` were written to handle the form of the tests before https://github.com/ethereum/tests/pull/374. With that PR, the structure of the json for each test changed. As a result, the following portion of the code returns `nil` for every test:\r\n```\r\nif err := rlp.DecodeBytes(tt.json.RLP, tx); err != nil {\r\n\t\tif tt.json.Transaction == nil {\r\n\t\t\treturn nil\r\n\t\t}\r\n\t\treturn fmt.Errorf(\"RLP decoding failed: %v\", err)\r\n\t}\r\n```\r\n`nil` indicates a passing test.\r\n\r\nI have put together a rough draft of how we can fix this https://github.com/ethereum/go-ethereum/compare/master...danjm:fix-TransactionTests?expand=1 Essentialy it requires updating the tests to work with the transaction test json as it is currently structured. There are a number of failing transaction tests on that branch, and I need to confirm whether those failures are real or the result of errors in the test code.\r\n\r\nIn the meantime, I wished to create an issue first because it seemed strange that this would have been a problem for so long. I want to confirm that there is not an intended reason for keeping the transaction tests in there current state? Other whether the preferred solution, at least in the short term, would be to return to using the tests of the old format?\r\n",
  "closed_by": {
    "login": "karalabe",
    "id": 129561,
    "node_id": "MDQ6VXNlcjEyOTU2MQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/karalabe",
    "html_url": "https://github.com/karalabe",
    "followers_url": "https://api.github.com/users/karalabe/followers",
    "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
    "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
    "organizations_url": "https://api.github.com/users/karalabe/orgs",
    "repos_url": "https://api.github.com/users/karalabe/repos",
    "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
    "received_events_url": "https://api.github.com/users/karalabe/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19033/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19033/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[

]
