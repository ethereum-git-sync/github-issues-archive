{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20069",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20069/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20069/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20069/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/20069",
  "id": 493180398,
  "node_id": "MDU6SXNzdWU0OTMxODAzOTg=",
  "number": 20069,
  "title": "Feature-request: methodCall API ",
  "user": {
    "login": "holiman",
    "id": 142290,
    "node_id": "MDQ6VXNlcjE0MjI5MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/holiman",
    "html_url": "https://github.com/holiman",
    "followers_url": "https://api.github.com/users/holiman/followers",
    "following_url": "https://api.github.com/users/holiman/following{/other_user}",
    "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
    "organizations_url": "https://api.github.com/users/holiman/orgs",
    "repos_url": "https://api.github.com/users/holiman/repos",
    "events_url": "https://api.github.com/users/holiman/events{/privacy}",
    "received_events_url": "https://api.github.com/users/holiman/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 72233652,
      "node_id": "MDU6TGFiZWw3MjIzMzY1Mg==",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:feature",
      "name": "type:feature",
      "color": "84b6eb",
      "default": false,
      "description": null
    },
    {
      "id": 1269313112,
      "node_id": "MDU6TGFiZWwxMjY5MzEzMTEy",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/status:backlog",
      "name": "status:backlog",
      "color": "29ceb3",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2019-09-13T07:39:40Z",
  "updated_at": "2020-06-25T08:54:55Z",
  "closed_at": null,
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "From a discussion on discord with @MicahZoltu \r\nIt would be good to add a method to Clef so that dapps can request signing method calls without constructing the calldata.  Something like this\r\n\r\n```json\r\n{\r\n    \"method_call\": {\r\n        \"contract_address\": \"0xabcd1234...\",\r\n        \"signature\": \"transfer(address, uint256)\",\r\n        \"parameters\": [ \"0x1234abcd...\", \"1,000,000,000,000,000,000\" ]\r\n    }\r\n}\r\n```\r\nThis does not provide any details about `nonce`, `gasPrice` etc, so that would have to be either added\r\n\r\n```json\r\n{\r\n    \"method_call\": {\r\n        \"contract_address\": \"0xabcd1234...\",\r\n        \"signature\": \"transfer(address, uint256)\",\r\n        \"parameters\": [ \"0x1234abcd...\", \"1,000,000,000,000,000,000\" ]\r\n    }, \r\n   \"tx_data\":{\r\n      \"nonce\": 1, \r\n      \"sender\" : \"\", \r\n      \"gasPrice\": \"...\", \r\n   }\r\n}\r\n```\r\nAlternatively, we could add this method to `eth_`-namespace in Geth, and geth could fill the blockchain details, and then pass it on to clef. ",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20069/reactions",
    "total_count": 2,
    "+1": 2,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20069/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/531136074",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/20069#issuecomment-531136074",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20069",
    "id": 531136074,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzMTEzNjA3NA==",
    "user": {
      "login": "MicahZoltu",
      "id": 886059,
      "node_id": "MDQ6VXNlcjg4NjA1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/886059?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MicahZoltu",
      "html_url": "https://github.com/MicahZoltu",
      "followers_url": "https://api.github.com/users/MicahZoltu/followers",
      "following_url": "https://api.github.com/users/MicahZoltu/following{/other_user}",
      "gists_url": "https://api.github.com/users/MicahZoltu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MicahZoltu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MicahZoltu/subscriptions",
      "organizations_url": "https://api.github.com/users/MicahZoltu/orgs",
      "repos_url": "https://api.github.com/users/MicahZoltu/repos",
      "events_url": "https://api.github.com/users/MicahZoltu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MicahZoltu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-09-13T07:45:19Z",
    "updated_at": "2019-09-13T07:45:19Z",
    "author_association": "MEMBER",
    "body": "I'm a fan of the dapp only providing the first JSON block and leaving nonce management, gas pricing, and gas estimation to Geth (or whatever sits between the signer and the dapp).  As a dapp developer, I don't think that those are things that are appropriate for the dapp to be managing.\r\n\r\nOne exception is for variable gas cost calls, where changes in the chain may result in gas cost estimations being too low.  There could be value in the API providing a mechanism for the dapp to say, \"This is a variable cost transaction, we recommend XXX gas for it.\"  Ideally, dapp developers would _only_ use this when the transaction is truly variable, but otherwise they would lean on the node to do estimation.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/531136074/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/531136201",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/20069#issuecomment-531136201",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20069",
    "id": 531136201,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzMTEzNjIwMQ==",
    "user": {
      "login": "MicahZoltu",
      "id": 886059,
      "node_id": "MDQ6VXNlcjg4NjA1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/886059?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MicahZoltu",
      "html_url": "https://github.com/MicahZoltu",
      "followers_url": "https://api.github.com/users/MicahZoltu/followers",
      "following_url": "https://api.github.com/users/MicahZoltu/following{/other_user}",
      "gists_url": "https://api.github.com/users/MicahZoltu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MicahZoltu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MicahZoltu/subscriptions",
      "organizations_url": "https://api.github.com/users/MicahZoltu/orgs",
      "repos_url": "https://api.github.com/users/MicahZoltu/repos",
      "events_url": "https://api.github.com/users/MicahZoltu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MicahZoltu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-09-13T07:45:48Z",
    "updated_at": "2019-09-13T07:45:48Z",
    "author_association": "MEMBER",
    "body": "It would be nice if this API also left space for something like https://github.com/ethereum/EIPs/issues/719 in it, so the node can present the user with a human readable signature prompt.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/531136201/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
