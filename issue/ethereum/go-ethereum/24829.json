{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24829",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24829/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24829/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24829/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/24829",
  "id": 1228362529,
  "node_id": "I_kwDOAOvK985JN1Mh",
  "number": 24829,
  "title": "ethclient.Client should support for upcoming block definitions (safe, unsafe, finalized)",
  "user": {
    "login": "marioevz",
    "id": 11726710,
    "node_id": "MDQ6VXNlcjExNzI2NzEw",
    "avatar_url": "https://avatars.githubusercontent.com/u/11726710?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/marioevz",
    "html_url": "https://github.com/marioevz",
    "followers_url": "https://api.github.com/users/marioevz/followers",
    "following_url": "https://api.github.com/users/marioevz/following{/other_user}",
    "gists_url": "https://api.github.com/users/marioevz/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/marioevz/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/marioevz/subscriptions",
    "organizations_url": "https://api.github.com/users/marioevz/orgs",
    "repos_url": "https://api.github.com/users/marioevz/repos",
    "events_url": "https://api.github.com/users/marioevz/events{/privacy}",
    "received_events_url": "https://api.github.com/users/marioevz/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 72233652,
      "node_id": "MDU6TGFiZWw3MjIzMzY1Mg==",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:feature",
      "name": "type:feature",
      "color": "84b6eb",
      "default": false,
      "description": null
    },
    {
      "id": 1132689577,
      "node_id": "MDU6TGFiZWwxMTMyNjg5NTc3",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/status:triage",
      "name": "status:triage",
      "color": "6be514",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2022-05-06T20:34:25Z",
  "updated_at": "2022-05-12T08:43:21Z",
  "closed_at": "2022-05-12T08:43:21Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "# Rationale\r\n\r\n- Why should this feature exist?\r\nEngine API has concept for `safe` and `finalized` payloads within the ForkchoiceUpdated directive.\r\nThe execution spec does not require yet that these blocks are made available through the JSON-RPC, but it has been suggested and discussed several times in the ACD calls for example.\r\nThe ethclient.Client now support `latest` (nil) and `pending` (-1), but it would be useful to also support these new block concepts.\r\n\r\n- What are the use-cases?\r\nFor the end-user it would be helpful to have these available, but also for implementing tests in hive, we currently use the ethclient.Client module to obtain information from JSON-RPC, and part of the new tests for the Engine API require that we query for `safe` and  `finalized` (I am not sure of the state of `unsafe` but it has been mentioned).\r\n\r\n# Implementation\r\n\r\n- Do you have ideas regarding the implementation of this feature?\r\nAt the moment it would be simply a matter of adding the string definitions (`safe`, `finalized` and maybe `unsafe`) to this [function](https://github.com/ethereum/go-ethereum/blob/86d547707965685cef732aa28c15e6811ea98408/ethclient/gethclient/gethclient.go#L183), even if setting the block number parameter to any of these strings results in error, we could this way start preparing the tests for when the actual definitions are included in the spec.\r\n\r\n- Are you willing to implement this feature?\r\nYes",
  "closed_by": {
    "login": "holiman",
    "id": 142290,
    "node_id": "MDQ6VXNlcjE0MjI5MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/holiman",
    "html_url": "https://github.com/holiman",
    "followers_url": "https://api.github.com/users/holiman/followers",
    "following_url": "https://api.github.com/users/holiman/following{/other_user}",
    "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
    "organizations_url": "https://api.github.com/users/holiman/orgs",
    "repos_url": "https://api.github.com/users/holiman/repos",
    "events_url": "https://api.github.com/users/holiman/events{/privacy}",
    "received_events_url": "https://api.github.com/users/holiman/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24829/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24829/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1120175203",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/24829#issuecomment-1120175203",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24829",
    "id": 1120175203,
    "node_id": "IC_kwDOAOvK985CxIRj",
    "user": {
      "login": "mkalinin",
      "id": 1892772,
      "node_id": "MDQ6VXNlcjE4OTI3NzI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1892772?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mkalinin",
      "html_url": "https://github.com/mkalinin",
      "followers_url": "https://api.github.com/users/mkalinin/followers",
      "following_url": "https://api.github.com/users/mkalinin/following{/other_user}",
      "gists_url": "https://api.github.com/users/mkalinin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mkalinin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mkalinin/subscriptions",
      "organizations_url": "https://api.github.com/users/mkalinin/orgs",
      "repos_url": "https://api.github.com/users/mkalinin/repos",
      "events_url": "https://api.github.com/users/mkalinin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mkalinin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-07T09:33:01Z",
    "updated_at": "2022-05-07T09:33:01Z",
    "author_association": "MEMBER",
    "body": "`unsafe` isn't considered anymore, related PR has been updated recently https://github.com/ethereum/execution-apis/pull/200",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1120175203/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1124699808",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/24829#issuecomment-1124699808",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/24829",
    "id": 1124699808,
    "node_id": "IC_kwDOAOvK985DCY6g",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-12T08:43:21Z",
    "updated_at": "2022-05-12T08:43:21Z",
    "author_association": "MEMBER",
    "body": "The `ethclient` just needs to pass a string, @MariusVanDerWijden has a PR to fix this in the go-ethereum RPC layer instead",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1124699808/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
