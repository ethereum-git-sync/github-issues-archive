{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17000",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17000/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17000/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17000/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/17000",
  "id": 332911171,
  "node_id": "MDU6SXNzdWUzMzI5MTExNzE=",
  "number": 17000,
  "title": "Can't ping bootnode",
  "user": {
    "login": "MichaelJFlynn",
    "id": 2887500,
    "node_id": "MDQ6VXNlcjI4ODc1MDA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2887500?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/MichaelJFlynn",
    "html_url": "https://github.com/MichaelJFlynn",
    "followers_url": "https://api.github.com/users/MichaelJFlynn/followers",
    "following_url": "https://api.github.com/users/MichaelJFlynn/following{/other_user}",
    "gists_url": "https://api.github.com/users/MichaelJFlynn/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/MichaelJFlynn/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/MichaelJFlynn/subscriptions",
    "organizations_url": "https://api.github.com/users/MichaelJFlynn/orgs",
    "repos_url": "https://api.github.com/users/MichaelJFlynn/repos",
    "events_url": "https://api.github.com/users/MichaelJFlynn/events{/privacy}",
    "received_events_url": "https://api.github.com/users/MichaelJFlynn/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 856638432,
      "node_id": "MDU6TGFiZWw4NTY2Mzg0MzI=",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/status:inactive",
      "name": "status:inactive",
      "color": "ffffff",
      "default": false,
      "description": null
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2018-06-15T20:54:30Z",
  "updated_at": "2019-10-19T01:46:45Z",
  "closed_at": "2019-10-19T01:46:45Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Hi there,\r\n\r\nI am unable to ping Ethereum Foundation's bootnodes, specifically the ones at\r\n\r\n```\r\n\"enode://3f1d12044546b76342d59d4a05532c14b85aa669704bfe1f864fe079415aa2c02d743e03218e57a33fb94523adb54032871a6c51b2cc5514cb7c7e35b3ed0a99@13.93.211.84:30303\",  // US-WEST\r\n```\r\n\r\nand\r\n\r\n```\r\n\"enode://979b7fa28feeb35a4741660a16076f1943202cb72b6af70d327f053e248bab9ba81760f39d0701ef1d8f89cc1fbd2cacba0710a12cd5314d5e0c9021aa3637f9@5.1.83.226:30303\", // DE\r\n```\r\n\r\n#### Expected behaviour\r\n\r\nWhen I run a bootnode on my local machine using the command:\r\n\r\n./bootnode -nodekey <mykey> -addr :30301 &\r\n\r\nI get a response to my implementation's pings. The following is debug output from my Ethereum implementation of the full handshake:\r\n\r\n```\r\nsending (Ping 3 (EP 52.4.20.183 30302 30302) (EP 127.0.0.1 30301 30301) 1529094670.59)\r\nreceived message[ ('127.0.0.1', 30301) ]:\r\n Verified message hash.\r\n Verified signature.\r\n received Pong\r\n (Pong (EP 127.0.0.1 30302 30302) <echo hash> 1529094688)\r\nreceived message[ ('127.0.0.1', 30301) ]:\r\n Verified message hash.\r\n Verified signature.\r\n received Ping\r\n  sending Pong response: (Pong (EP 127.0.0.1 30301 30301) <echo hash> 1529094728.61)\r\nsending (Pong (EP 127.0.0.1 30301 30301) <echo hash> 1529094728.61)\r\n```\r\n\r\n#### Actual behaviour\r\n\r\nWhen I ping either of the Foundation bootnodes I get no response:\r\n\r\n```\r\nDiscovery status: 0 peers / 25 min peers / 0 connecting\r\nsending (Ping 3 (EP 52.4.20.183 30302 30302) (EP 13.93.211.84 30303 30303) 1529095141.09)\r\n<no response>\r\nDiscovery status: 0 peers / 25 min peers / 0 connecting\r\nsending (Ping 3 (EP 52.4.20.183 30302 30302) (EP 13.93.211.84 30303 30303) 1529095146.09)\r\n<no response>\r\nDiscovery status: 0 peers / 25 min peers / 0 connecting\r\nsending (Ping 3 (EP 52.4.20.183 30302 30302) (EP 13.93.211.84 30303 30303) 1529095151.1)\r\n<no response>\r\n```\r\n\r\n```\r\nDiscovery status: 0 peers / 25 min peers / 0 connecting\r\nsending (Ping 3 (EP 52.4.20.183 30302 30302) (EP 5.1.83.226 30303 30303) 1529095321.1)\r\n<no response>\r\nDiscovery status: 0 peers / 25 min peers / 0 connecting\r\nsending (Ping 3 (EP 52.4.20.183 30302 30302) (EP 5.1.83.226 30303 30303) 1529095326.11)\r\n<no response>\r\nDiscovery status: 0 peers / 25 min peers / 0 connecting\r\nsending (Ping 3 (EP 52.4.20.183 30302 30302) (EP 5.1.83.226 30303 30303) 1529095331.11)\r\n<no response>\r\n```\r\n\r\nFor reference, to wrap a packet my implementation first \"packs\" the packet where a ping might go from:\r\n\r\n```\r\n(Ping 3 (EP 52.4.20.183 30302 30302) (EP 5.1.83.226 30303 30303) 1529095717.39)\r\n```\r\n\r\nto\r\n\r\n```\r\n['\\x03', ['4\\x04\\x14\\xb7', 'v^', 'v^'], ['\\x05\\x01S\\xe2', 'v_', 'v_'], '[$&%', []]\r\n```\r\n\r\nI then RLP encode the list and append the ping `packet_type` which is 1 to the front:\r\n\r\n```\r\n'\\x01\\xdf\\x03\\xcb\\x844\\x04\\x14\\xb7\\x82v^\\x82v^\\xcb\\x84\\x05\\x01S\\xe2\\x82v_\\x82v_\\x84[$&%\\xc0'\r\n```\r\n\r\nI then do a keccak256 signature and append that:\r\n\r\n```\r\n\"$\\xca\\xe4\\x9f\\xdb\\x07\\x95_\\x0c$\\x156%\\xd7sP\\x9c\\x9f}\\xeb\\xd1\\x8cXh\\x05\\xb5\\xf8\\xda\\x8d\\x07\\xd9y\\x9b\\xe7\\xd5\\xbf+@\\xf1\\xb93 \\x82\\x95_\\x8c\\x83+,\\x8c\\xddM\\xb2\\xbf\\xc9\\xe4\\x19\\xc1Y\\xdancnY4\\xb3''\\x00\\xcf\\xa0\\x98\\x10y\\xd5\\x88.\\xb4\\xfd\\xe8\\xc9\\xca\\x957V1?\\xaf\\xb9Y\\xfe6\\x87\\x8f\\x8b;\\x01\\x01\\xdf\\x03\\xcb\\x844\\x04\\x14\\xb7\\x82v^\\x82v^\\xcb\\x84\\x05\\x01S\\xe2\\x82v_\\x82v_\\x84[$&%\\xc0\"\r\n```\r\n\r\nThis then gets sent over UDP. I was able to get a response from the bootnodes until a few months ago. What changed?",
  "closed_by": {
    "login": "stale[bot]",
    "id": 26384082,
    "node_id": "MDM6Qm90MjYzODQwODI=",
    "avatar_url": "https://avatars.githubusercontent.com/in/1724?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/stale%5Bbot%5D",
    "html_url": "https://github.com/apps/stale",
    "followers_url": "https://api.github.com/users/stale%5Bbot%5D/followers",
    "following_url": "https://api.github.com/users/stale%5Bbot%5D/following{/other_user}",
    "gists_url": "https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/stale%5Bbot%5D/subscriptions",
    "organizations_url": "https://api.github.com/users/stale%5Bbot%5D/orgs",
    "repos_url": "https://api.github.com/users/stale%5Bbot%5D/repos",
    "events_url": "https://api.github.com/users/stale%5Bbot%5D/events{/privacy}",
    "received_events_url": "https://api.github.com/users/stale%5Bbot%5D/received_events",
    "type": "Bot",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17000/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17000/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/398127571",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/17000#issuecomment-398127571",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17000",
    "id": 398127571,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5ODEyNzU3MQ==",
    "user": {
      "login": "MichaelJFlynn",
      "id": 2887500,
      "node_id": "MDQ6VXNlcjI4ODc1MDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2887500?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MichaelJFlynn",
      "html_url": "https://github.com/MichaelJFlynn",
      "followers_url": "https://api.github.com/users/MichaelJFlynn/followers",
      "following_url": "https://api.github.com/users/MichaelJFlynn/following{/other_user}",
      "gists_url": "https://api.github.com/users/MichaelJFlynn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MichaelJFlynn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MichaelJFlynn/subscriptions",
      "organizations_url": "https://api.github.com/users/MichaelJFlynn/orgs",
      "repos_url": "https://api.github.com/users/MichaelJFlynn/repos",
      "events_url": "https://api.github.com/users/MichaelJFlynn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MichaelJFlynn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-18T17:11:34Z",
    "updated_at": "2018-06-18T17:11:34Z",
    "author_association": "NONE",
    "body": "It could be that my node is blacklisted for some reason, for example because it would turn on and then turn off often, being a \"bad citizen\" or something. Is that possible?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/398127571/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/398663681",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/17000#issuecomment-398663681",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17000",
    "id": 398663681,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5ODY2MzY4MQ==",
    "user": {
      "login": "FrankSzendzielarz",
      "id": 33515470,
      "node_id": "MDQ6VXNlcjMzNTE1NDcw",
      "avatar_url": "https://avatars.githubusercontent.com/u/33515470?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/FrankSzendzielarz",
      "html_url": "https://github.com/FrankSzendzielarz",
      "followers_url": "https://api.github.com/users/FrankSzendzielarz/followers",
      "following_url": "https://api.github.com/users/FrankSzendzielarz/following{/other_user}",
      "gists_url": "https://api.github.com/users/FrankSzendzielarz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/FrankSzendzielarz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/FrankSzendzielarz/subscriptions",
      "organizations_url": "https://api.github.com/users/FrankSzendzielarz/orgs",
      "repos_url": "https://api.github.com/users/FrankSzendzielarz/repos",
      "events_url": "https://api.github.com/users/FrankSzendzielarz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/FrankSzendzielarz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-20T08:13:45Z",
    "updated_at": "2018-06-20T08:15:28Z",
    "author_association": "MEMBER",
    "body": "I see the same issue. Tested c++ and go bootnodes at these mainnet addresses  https://github.com/ethereum/go-ethereum/blob/master/params/bootnodes.go and no response. Testnet addresses work.  \r\n\r\nIn case it's related, I was playing with p2p stuff yesterday and noticed lots of nodes coming back in findNeighbours requests with same NodeId but different IP endpoints. Checked those IPs and they were either AWS or Singapore Alibaba servers. Maybe the bootnodes moved too?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/398663681/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/398910222",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/17000#issuecomment-398910222",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17000",
    "id": 398910222,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5ODkxMDIyMg==",
    "user": {
      "login": "MichaelJFlynn",
      "id": 2887500,
      "node_id": "MDQ6VXNlcjI4ODc1MDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2887500?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MichaelJFlynn",
      "html_url": "https://github.com/MichaelJFlynn",
      "followers_url": "https://api.github.com/users/MichaelJFlynn/followers",
      "following_url": "https://api.github.com/users/MichaelJFlynn/following{/other_user}",
      "gists_url": "https://api.github.com/users/MichaelJFlynn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MichaelJFlynn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MichaelJFlynn/subscriptions",
      "organizations_url": "https://api.github.com/users/MichaelJFlynn/orgs",
      "repos_url": "https://api.github.com/users/MichaelJFlynn/repos",
      "events_url": "https://api.github.com/users/MichaelJFlynn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MichaelJFlynn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-20T21:54:59Z",
    "updated_at": "2018-06-20T21:54:59Z",
    "author_association": "NONE",
    "body": "I'm glad I'm not the only one experiencing this. If the bootnodes moved then this should be reflected at\r\n\r\nhttps://github.com/ethereum/go-ethereum/blob/master/params/bootnodes.go\r\n\r\nHopefully this issue will get some attention because if that is the case it is a relatively easy fix.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/398910222/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/398923910",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/17000#issuecomment-398923910",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17000",
    "id": 398923910,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5ODkyMzkxMA==",
    "user": {
      "login": "FrankSzendzielarz",
      "id": 33515470,
      "node_id": "MDQ6VXNlcjMzNTE1NDcw",
      "avatar_url": "https://avatars.githubusercontent.com/u/33515470?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/FrankSzendzielarz",
      "html_url": "https://github.com/FrankSzendzielarz",
      "followers_url": "https://api.github.com/users/FrankSzendzielarz/followers",
      "following_url": "https://api.github.com/users/FrankSzendzielarz/following{/other_user}",
      "gists_url": "https://api.github.com/users/FrankSzendzielarz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/FrankSzendzielarz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/FrankSzendzielarz/subscriptions",
      "organizations_url": "https://api.github.com/users/FrankSzendzielarz/orgs",
      "repos_url": "https://api.github.com/users/FrankSzendzielarz/repos",
      "events_url": "https://api.github.com/users/FrankSzendzielarz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/FrankSzendzielarz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-20T23:00:01Z",
    "updated_at": "2018-06-20T23:00:01Z",
    "author_association": "MEMBER",
    "body": "I am not sure where such cross platform issues should be addressed. This is not a geth issue, but a c++ and geth mainnet problem. At least, as far as I can see. There is of course the possibility we are somehow both blacklisted, if such a blacklist exists. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/398923910/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/418913418",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/17000#issuecomment-418913418",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17000",
    "id": 418913418,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxODkxMzQxOA==",
    "user": {
      "login": "egalano",
      "id": 1383412,
      "node_id": "MDQ6VXNlcjEzODM0MTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1383412?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/egalano",
      "html_url": "https://github.com/egalano",
      "followers_url": "https://api.github.com/users/egalano/followers",
      "following_url": "https://api.github.com/users/egalano/following{/other_user}",
      "gists_url": "https://api.github.com/users/egalano/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/egalano/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/egalano/subscriptions",
      "organizations_url": "https://api.github.com/users/egalano/orgs",
      "repos_url": "https://api.github.com/users/egalano/repos",
      "events_url": "https://api.github.com/users/egalano/events{/privacy}",
      "received_events_url": "https://api.github.com/users/egalano/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-05T23:27:08Z",
    "updated_at": "2018-09-05T23:27:08Z",
    "author_association": "NONE",
    "body": "Running a TCP connection check against these two bootnodes failed:\r\n```\r\n\"enode://3f1d12044546b76342d59d4a05532c14b85aa669704bfe1f864fe079415aa2c02d743e03218e57a33fb94523adb54032871a6c51b2cc5514cb7c7e35b3ed0a99@13.93.211.84:30303\",  // US-WEST\r\n\"enode://78de8a0916848093c73790ead81d1928bec737d565119932b98c6b100d944b7a95e94f847f689fc723399d2e31129d182f7ef3863f2b4c820abbf3ab2722344d@191.235.84.50:30303\", // BR\r\n```\r\n\r\nEither this list is out of date, or we need to verify the availability of these two nodes.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/418913418/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/529049105",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/17000#issuecomment-529049105",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/17000",
    "id": 529049105,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyOTA0OTEwNQ==",
    "user": {
      "login": "stale[bot]",
      "id": 26384082,
      "node_id": "MDM6Qm90MjYzODQwODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/1724?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stale%5Bbot%5D",
      "html_url": "https://github.com/apps/stale",
      "followers_url": "https://api.github.com/users/stale%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/stale%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stale%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/stale%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/stale%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/stale%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stale%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2019-09-06T23:50:31Z",
    "updated_at": "2019-09-06T23:50:31Z",
    "author_association": "NONE",
    "body": "This issue has been automatically marked as stale because it has not had recent activity. It will be closed if no further activity occurs. Thank you for your contributions.\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/529049105/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
