{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/3086",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/3086/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/3086/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/3086/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/3086",
  "id": 181077778,
  "node_id": "MDU6SXNzdWUxODEwNzc3Nzg=",
  "number": 3086,
  "title": "Shh doesnot get enabled even if specified via --rpcapi or --ipcapi",
  "user": {
    "login": "shravan-shandilya",
    "id": 6094424,
    "node_id": "MDQ6VXNlcjYwOTQ0MjQ=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6094424?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/shravan-shandilya",
    "html_url": "https://github.com/shravan-shandilya",
    "followers_url": "https://api.github.com/users/shravan-shandilya/followers",
    "following_url": "https://api.github.com/users/shravan-shandilya/following{/other_user}",
    "gists_url": "https://api.github.com/users/shravan-shandilya/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/shravan-shandilya/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/shravan-shandilya/subscriptions",
    "organizations_url": "https://api.github.com/users/shravan-shandilya/orgs",
    "repos_url": "https://api.github.com/users/shravan-shandilya/repos",
    "events_url": "https://api.github.com/users/shravan-shandilya/events{/privacy}",
    "received_events_url": "https://api.github.com/users/shravan-shandilya/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 72233652,
      "node_id": "MDU6TGFiZWw3MjIzMzY1Mg==",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:feature",
      "name": "type:feature",
      "color": "84b6eb",
      "default": false,
      "description": null
    },
    {
      "id": 856638432,
      "node_id": "MDU6TGFiZWw4NTY2Mzg0MzI=",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/status:inactive",
      "name": "status:inactive",
      "color": "ffffff",
      "default": false,
      "description": null
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2016-10-05T06:54:27Z",
  "updated_at": "2018-04-16T15:37:25Z",
  "closed_at": "2018-04-16T15:37:25Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\n\nGeth version: `1.5.0`\nOS & Version: Linux\nCommit hash : (if `develop`)\n#### Expected behaviour\n\nWhen Whisper is included in either **--rpcapi** or **--ipcapi**, whisper has to be started\n#### Actual behaviour\n\nWhisper is not started unless **--shh** is explicitly passed to Geth.\n#### Steps to reproduce the behaviour\n\n`$ geth --mine --rpcapi \"network,admin,personal,shh\"` Whisper is not started\n`$ geth --mine --rpcapi \"network,admin,personal,shh\" --shh` Whisper is started\n#### Backtrace\n\n`$ geth --mine --rpcapi \"network,admin,personal,shh\"` \n\n```\nminer@miner:~/py-geth$ geth --rpcapi \"network,personal,shh\" --ipcapi \"network,personal,admin,shh\" --mine\nI1005 11:53:48.384131 ethdb/database.go:80] Allotted 128MB cache and 1024 file handles to /home/miner/.ethereum/chaindata\nI1005 11:53:48.466237 ethdb/database.go:167] closed db:/home/miner/.ethereum/chaindata\nI1005 11:53:48.466341 cmd/geth/main.go:329] instance: Geth/1.5.0-unstable/go1.6.2/linux\nI1005 11:53:48.466370 ethdb/database.go:80] Allotted 128MB cache and 1024 file handles to /home/miner/.ethereum/chaindata\nI1005 11:53:48.474986 eth/backend.go:179] Protocol Versions: [63 62], Network Id: 1\nI1005 11:53:48.476897 core/blockchain.go:204] Last header: #6994 [efd83f8eâ€¦] TD=5253808064\nI1005 11:53:48.476933 core/blockchain.go:205] Last block: #6994 [efd83f8eâ€¦] TD=5253808064\nI1005 11:53:48.476959 core/blockchain.go:206] Fast block: #6994 [efd83f8eâ€¦] TD=5253808064\nI1005 11:53:48.478487 p2p/server.go:322] Starting Server\nI1005 11:53:50.490304 p2p/discover/udp.go:217] Listening, enode://d31d240d4f9d4cac8f543ba4350c74f834f8848ab41360bd95b9a30f7d62cdd7c15921aefe884f5ac17bc7dd92f9085528cbe175e451b493c051360dfe8c8773@[::]:30303\nI1005 11:53:50.490707 p2p/server.go:576] Listening on [::]:30303\nI1005 11:53:50.490741 eth/backend.go:437] Automatic pregeneration of ethash DAG ON (ethash dir: /home/miner/.ethash)\nI1005 11:53:50.490885 eth/backend.go:444] checking DAG (ethash dir: /home/miner/.ethash)\nI1005 11:53:50.491358 node/node.go:308] IPC endpoint opened: /home/miner/.ethereum/geth.ipc\nI1005 11:53:50.491371 miner/miner.go:136] Starting mining operation (CPU=8 TOT=9)\nI1005 11:53:50.492440 miner/worker.go:573] commit new work on block 6995 with 0 txs & 0 uncles. Took 1.01829ms\nI1005 11:53:50.492528 ethash.go:259] Generating DAG for epoch 0 (size 1073739904) (0000000000000000000000000000000000000000000000000000000000000000)\nI1005 11:53:51.551761 ethash.go:276] Done generating DAG for epoch 0, it took 1.059234846s\nI1005 11:53:53.149137 miner/worker.go:339] ðŸ”¨  Mined block (#6995 / 57323a0b). Wait 5 blocks for confirmation\nI1005 11:53:53.149711 miner/worker.go:573] commit new work on block 6996 with 0 txs & 0 uncles. Took 303.603Âµs\nI1005 11:53:53.158635 miner/worker.go:573] commit new work on block 6996 with 0 txs & 0 uncles. Took 290.193Âµs\n```\n\n`$ geth --mine --rpcapi \"network,admin,personal,shh\" --shh`\n\n```\nminer@miner:~/py-geth$ geth --rpcapi \"network,personal,shh\" --ipcapi \"network,personal,admin,shh\" --mine --shh\nI1005 11:54:13.623951 cmd/utils/flags.go:670] You're one of the lucky few that will try out the JIT VM (random). If you get a consensus failure please be so kind to report this incident with the block hash that failed. You can switch to the regular VM by setting --jitvm=false\nI1005 11:54:13.624581 ethdb/database.go:80] Allotted 128MB cache and 1024 file handles to /home/miner/.ethereum/chaindata\nI1005 11:54:13.643888 ethdb/database.go:167] closed db:/home/miner/.ethereum/chaindata\nI1005 11:54:13.644006 cmd/geth/main.go:329] instance: Geth/1.5.0-unstable/go1.6.2/linux\nI1005 11:54:13.644051 ethdb/database.go:80] Allotted 128MB cache and 1024 file handles to /home/miner/.ethereum/chaindata\nI1005 11:54:13.672068 eth/backend.go:179] Protocol Versions: [63 62], Network Id: 1\nI1005 11:54:13.673862 core/blockchain.go:204] Last header: #6998 [6c68504eâ€¦] TD=5260401169\nI1005 11:54:13.673926 core/blockchain.go:205] Last block: #6998 [6c68504eâ€¦] TD=5260401169\nI1005 11:54:13.673953 core/blockchain.go:206] Fast block: #6998 [6c68504eâ€¦] TD=5260401169\nI1005 11:54:13.676224 p2p/server.go:322] Starting Server\nI1005 11:54:15.732915 p2p/discover/udp.go:217] Listening, enode://d31d240d4f9d4cac8f543ba4350c74f834f8848ab41360bd95b9a30f7d62cdd7c15921aefe884f5ac17bc7dd92f9085528cbe175e451b493c051360dfe8c8773@[::]:30303\nI1005 11:54:15.733204 whisper/whisper.go:176] Whisper started  <----------------------------------------\nI1005 11:54:15.734605 miner/miner.go:136] Starting mining operation (CPU=8 TOT=9)\nI1005 11:54:15.735495 miner/worker.go:573] commit new work on block 6999 with 0 txs & 0 uncles. Took 819.722Âµs\nI1005 11:54:15.735725 ethash.go:259] Generating DAG for epoch 0 (size 1073739904) (0000000000000000000000000000000000000000000000000000000000000000)\n```\n",
  "closed_by": {
    "login": "stale[bot]",
    "id": 26384082,
    "node_id": "MDM6Qm90MjYzODQwODI=",
    "avatar_url": "https://avatars.githubusercontent.com/in/1724?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/stale%5Bbot%5D",
    "html_url": "https://github.com/apps/stale",
    "followers_url": "https://api.github.com/users/stale%5Bbot%5D/followers",
    "following_url": "https://api.github.com/users/stale%5Bbot%5D/following{/other_user}",
    "gists_url": "https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/stale%5Bbot%5D/subscriptions",
    "organizations_url": "https://api.github.com/users/stale%5Bbot%5D/orgs",
    "repos_url": "https://api.github.com/users/stale%5Bbot%5D/repos",
    "events_url": "https://api.github.com/users/stale%5Bbot%5D/events{/privacy}",
    "received_events_url": "https://api.github.com/users/stale%5Bbot%5D/received_events",
    "type": "Bot",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/3086/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/3086/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/251634471",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/3086#issuecomment-251634471",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/3086",
    "id": 251634471,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI1MTYzNDQ3MQ==",
    "user": {
      "login": "bas-vk",
      "id": 4280775,
      "node_id": "MDQ6VXNlcjQyODA3NzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4280775?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bas-vk",
      "html_url": "https://github.com/bas-vk",
      "followers_url": "https://api.github.com/users/bas-vk/followers",
      "following_url": "https://api.github.com/users/bas-vk/following{/other_user}",
      "gists_url": "https://api.github.com/users/bas-vk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bas-vk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bas-vk/subscriptions",
      "organizations_url": "https://api.github.com/users/bas-vk/orgs",
      "repos_url": "https://api.github.com/users/bas-vk/repos",
      "events_url": "https://api.github.com/users/bas-vk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bas-vk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-10-05T10:06:40Z",
    "updated_at": "2016-10-05T10:07:01Z",
    "author_association": "MEMBER",
    "body": "This is a valid request but I would reverse it and enable the shh api when `--shh` is passed. \n@gluk256 \n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/251634471/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/370441044",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/3086#issuecomment-370441044",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/3086",
    "id": 370441044,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MDQ0MTA0NA==",
    "user": {
      "login": "stale[bot]",
      "id": 26384082,
      "node_id": "MDM6Qm90MjYzODQwODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/1724?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stale%5Bbot%5D",
      "html_url": "https://github.com/apps/stale",
      "followers_url": "https://api.github.com/users/stale%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/stale%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stale%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/stale%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/stale%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/stale%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stale%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2018-03-05T14:44:44Z",
    "updated_at": "2018-03-05T14:44:44Z",
    "author_association": "NONE",
    "body": "This issue has been automatically marked as stale because it has not had recent activity. It will be closed if no further activity occurs. Thank you for your contributions.\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/370441044/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
