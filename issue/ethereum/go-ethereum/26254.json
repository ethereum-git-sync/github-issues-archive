{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26254",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26254/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26254/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26254/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/26254",
  "id": 1464141800,
  "node_id": "I_kwDOAOvK985XRQfo",
  "number": 26254,
  "title": "is there a way to callStatic func like in ethers js?",
  "user": {
    "login": "jonathantyar",
    "id": 19704585,
    "node_id": "MDQ6VXNlcjE5NzA0NTg1",
    "avatar_url": "https://avatars.githubusercontent.com/u/19704585?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jonathantyar",
    "html_url": "https://github.com/jonathantyar",
    "followers_url": "https://api.github.com/users/jonathantyar/followers",
    "following_url": "https://api.github.com/users/jonathantyar/following{/other_user}",
    "gists_url": "https://api.github.com/users/jonathantyar/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jonathantyar/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jonathantyar/subscriptions",
    "organizations_url": "https://api.github.com/users/jonathantyar/orgs",
    "repos_url": "https://api.github.com/users/jonathantyar/repos",
    "events_url": "https://api.github.com/users/jonathantyar/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jonathantyar/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 72233652,
      "node_id": "MDU6TGFiZWw3MjIzMzY1Mg==",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:feature",
      "name": "type:feature",
      "color": "84b6eb",
      "default": false,
      "description": null
    },
    {
      "id": 1380157004,
      "node_id": "MDU6TGFiZWwxMzgwMTU3MDA0",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/area:ethclient",
      "name": "area:ethclient",
      "color": "bfd4ff",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2022-11-25T07:29:37Z",
  "updated_at": "2022-12-01T09:31:02Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "just try out go-ethereum its worked great so far. but had problem when trying to call static func like in ether js. using transactionOpt to not send the transaction. the command is worked, but abigen only return transacction and error where it should send another value. How to get the value i need on these transaction.\r\n\r\nthis is how i call to contract func, with nosend and signer params\r\n```\r\n\ttrx, err := client.Collect(&bind.TransactOpts{\r\n\t\tSigner: func(addr common.Address, trx *types.Transaction) (*types.Transaction, error) {\r\n\t\t\treturn trx, nil\r\n\t\t},\r\n\t\tNoSend: true,\r\n\t}, cex.INonfungiblePositionManagerCollectParams{\r\n\t\tTokenId:    big.NewInt(tokenId),\r\n\t\tRecipient:  address.Address(),\r\n\t\tAmount0Max: bigTotal,\r\n\t\tAmount1Max: bigTotal,\r\n\t})\r\n```\r\n\r\nthis is generated code from abigen, it shows comment that a func should return 3 values, but instead abigen generated just 2 values\r\n```\r\n\r\n// Collect is a paid mutator transaction binding the contract method 0xfc6f7865.\r\n//\r\n// Solidity: function collect((uint256,address,uint128,uint128) params) payable returns(uint256 amount0, uint256 amount1)\r\nfunc (_UNISWAPv3 *UNISWAPv3Transactor) Collect(opts *bind.TransactOpts, params INonfungiblePositionManagerCollectParams) (*types.Transaction, error) {\r\n\treturn _UNISWAPv3.contract.Transact(opts, \"collect\", params)\r\n}\r\n\r\n// Collect is a paid mutator transaction binding the contract method 0xfc6f7865.\r\n//\r\n// Solidity: function collect((uint256,address,uint128,uint128) params) payable returns(uint256 amount0, uint256 amount1)\r\nfunc (_UNISWAPv3 *UNISWAPv3Session) Collect(params INonfungiblePositionManagerCollectParams) (*types.Transaction, error) {\r\n\treturn _UNISWAPv3.Contract.Collect(&_UNISWAPv3.TransactOpts, params)\r\n}\r\n\r\n// Collect is a paid mutator transaction binding the contract method 0xfc6f7865.\r\n//\r\n// Solidity: function collect((uint256,address,uint128,uint128) params) payable returns(uint256 amount0, uint256 amount1)\r\nfunc (_UNISWAPv3 *UNISWAPv3TransactorSession) Collect(params INonfungiblePositionManagerCollectParams) (*types.Transaction, error) {\r\n\treturn _UNISWAPv3.Contract.Collect(&_UNISWAPv3.TransactOpts, params)\r\n}\r\n```",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26254/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26254/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1327109137",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/26254#issuecomment-1327109137",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26254",
    "id": 1327109137,
    "node_id": "IC_kwDOAOvK985PGhQR",
    "user": {
      "login": "jonathantyar",
      "id": 19704585,
      "node_id": "MDQ6VXNlcjE5NzA0NTg1",
      "avatar_url": "https://avatars.githubusercontent.com/u/19704585?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jonathantyar",
      "html_url": "https://github.com/jonathantyar",
      "followers_url": "https://api.github.com/users/jonathantyar/followers",
      "following_url": "https://api.github.com/users/jonathantyar/following{/other_user}",
      "gists_url": "https://api.github.com/users/jonathantyar/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jonathantyar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jonathantyar/subscriptions",
      "organizations_url": "https://api.github.com/users/jonathantyar/orgs",
      "repos_url": "https://api.github.com/users/jonathantyar/repos",
      "events_url": "https://api.github.com/users/jonathantyar/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jonathantyar/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-11-25T07:30:52Z",
    "updated_at": "2022-11-25T07:30:52Z",
    "author_association": "NONE",
    "body": "i can call this func on ethers js using callstatic and it return the result i need\r\n```\r\n  const encoded = {\r\n    tokenId: positionId,\r\n    recipient: FROM,\r\n    amount0Max: MAX,\r\n    amount1Max: MAX,\r\n  }\r\n\r\n  const trx = await contract.callStatic.collect(encoded)\r\n\r\n  const formatUnits = (amt: Number, units?: number): string =>\r\n    ethers.utils\r\n      .formatUnits(ethers.BigNumber.from(amt).toString(), units || 18)\r\n      .toString()\r\n\r\n  const amount0 = formatUnits(trx.amount0, 8)\r\n  const amount1 = formatUnits(trx.amount1)\r\n\r\n  console.log(`Token 0: ${amount0} | Token 1: ${amount1}`)\r\n  ```",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1327109137/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1333476672",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/26254#issuecomment-1333476672",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/26254",
    "id": 1333476672,
    "node_id": "IC_kwDOAOvK985Pez1A",
    "user": {
      "login": "fjl",
      "id": 6915,
      "node_id": "MDQ6VXNlcjY5MTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6915?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjl",
      "html_url": "https://github.com/fjl",
      "followers_url": "https://api.github.com/users/fjl/followers",
      "following_url": "https://api.github.com/users/fjl/following{/other_user}",
      "gists_url": "https://api.github.com/users/fjl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fjl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fjl/subscriptions",
      "organizations_url": "https://api.github.com/users/fjl/orgs",
      "repos_url": "https://api.github.com/users/fjl/repos",
      "events_url": "https://api.github.com/users/fjl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fjl/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-12-01T09:30:26Z",
    "updated_at": "2022-12-01T09:30:26Z",
    "author_association": "MEMBER",
    "body": "While we don't have this feature right now, there is a workaround: encode the call yourself, submit using `CallContract` with ethclient, and decode the result using `accounts/abi`.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1333476672/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
