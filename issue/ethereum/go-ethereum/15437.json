{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15437",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15437/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15437/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15437/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/15437",
  "id": 272182688,
  "node_id": "MDU6SXNzdWUyNzIxODI2ODg=",
  "number": 15437,
  "title": "repeat \"Imported new chain segment\", not update block in fast mode",
  "user": {
    "login": "yangfee",
    "id": 16202014,
    "node_id": "MDQ6VXNlcjE2MjAyMDE0",
    "avatar_url": "https://avatars.githubusercontent.com/u/16202014?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/yangfee",
    "html_url": "https://github.com/yangfee",
    "followers_url": "https://api.github.com/users/yangfee/followers",
    "following_url": "https://api.github.com/users/yangfee/following{/other_user}",
    "gists_url": "https://api.github.com/users/yangfee/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/yangfee/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/yangfee/subscriptions",
    "organizations_url": "https://api.github.com/users/yangfee/orgs",
    "repos_url": "https://api.github.com/users/yangfee/repos",
    "events_url": "https://api.github.com/users/yangfee/events{/privacy}",
    "received_events_url": "https://api.github.com/users/yangfee/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2017-11-08T12:34:35Z",
  "updated_at": "2017-11-10T08:25:29Z",
  "closed_at": "2017-11-10T08:25:28Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nGeth version: `geth 1.7.2`\r\nOS & Version: centos7.3\r\nCommit hash : (if `develop`) master\r\ndownload url:   https://github.com/ethereum/go-ethereum/releases\r\n\r\n#### Expected behaviour\r\nupdate the latest block in fast block\r\n\r\n\r\n#### Actual behaviour\r\neth.syncing stop here\r\n```\r\n{\r\n  currentBlock: 4513174,\r\n  highestBlock: 4513460,\r\n  knownStates: 172919,\r\n  pulledStates: 164974,\r\n  startingBlock: 4512289\r\n}\r\n```\r\nnow ethscan.io blocknumber is : 4513679\r\n\r\n#### Steps to reproduce the behaviour\r\nuse my os env and the same geth version, you can reprodece the behaviour\r\nmy start cmd: \r\n`./geth --datadir /data-ssd/wallet/geth-data --rpc --rpcapi eth,web3,personal,net --rpcaddr 0.0.0.0 --rpcport 8545 --syncmode fast`\r\n\r\n\r\n#### Backtrace\r\n\r\nlog like:\r\n\r\n```\r\ntail -50 /data/wallet/geth.log\r\nINFO [11-07|04:02:00] Imported new chain segment               blocks=4  txs=42  mgas=1.838 elapsed=2m22.439s mgasps=0.013 number=2429456 hash=ec64dc…ab857a\r\nINFO [11-07|04:02:49] Regenerated local transaction journal    transactions=0 accounts=0\r\nINFO [11-07|04:04:16] Imported new chain segment               blocks=2  txs=17  mgas=1.323 elapsed=2m16.173s mgasps=0.010 number=2429458 hash=e051c6…3b5a73\r\nINFO [11-07|04:05:32] Imported new chain segment               blocks=6  txs=32  mgas=1.554 elapsed=1m15.712s mgasps=0.021 number=2429464 hash=92eb86…05cb59\r\nINFO [11-07|04:07:34] Imported new chain segment               blocks=6  txs=53  mgas=1.987 elapsed=2m1.651s  mgasps=0.016 number=2429470 hash=c7e3bb…736b12\r\nINFO [11-07|04:10:02] Imported new chain segment               blocks=2  txs=25  mgas=1.459 elapsed=2m28.376s mgasps=0.010 number=2429472 hash=f8f0cf…830784\r\nINFO [11-07|04:14:03] Imported new chain segment               blocks=9  txs=42  mgas=2.274 elapsed=4m0.972s  mgasps=0.009 number=2429481 hash=789872…082f57\r\nINFO [11-07|04:18:38] Imported new chain segment               blocks=25 txs=55  mgas=2.486 elapsed=4m35.297s mgasps=0.009 number=2429506 hash=9195e8…e73279\r\nINFO [11-07|04:21:10] Imported new chain segment               blocks=4  txs=41  mgas=1.785 elapsed=2m31.677s mgasps=0.012 number=2429510 hash=1277e3…347023\r\nINFO [11-07|04:25:45] Imported new chain segment               blocks=2  txs=19  mgas=1.558 elapsed=4m34.817s mgasps=0.006 number=2429512 hash=ce660c…d10024\r\nINFO [11-07|04:29:29] Imported new chain segment               blocks=13 txs=40  mgas=1.997 elapsed=3m44.019s mgasps=0.009 number=2429525 hash=a3bfec…ad8173\r\nINFO [11-07|04:31:11] Imported new chain segment               blocks=19 txs=129 mgas=3.448 elapsed=1m41.891s mgasps=0.034 number=2429544 hash=1738be…fb9b03\r\nINFO [11-07|04:35:16] Imported new chain segment               blocks=6  txs=8   mgas=1.311 elapsed=4m5.100s  mgasps=0.005 number=2429550 hash=049573…b13eff\r\nINFO [11-07|04:37:44] Imported new chain segment               blocks=2  txs=24  mgas=1.285 elapsed=2m27.762s mgasps=0.009 number=2429552 hash=0e1df3…271df5\r\nINFO [11-07|04:41:57] Imported new chain segment               blocks=15 txs=39  mgas=1.912 elapsed=4m13.667s mgasps=0.008 number=2429567 hash=48baeb…9aeeb7\r\nINFO [11-07|04:44:17] Imported new chain segment               blocks=10 txs=30  mgas=1.523 elapsed=2m20.017s mgasps=0.011 number=2429577 hash=cfabbe…872407\r\nINFO [11-07|04:50:15] Imported new chain segment               blocks=4  txs=7   mgas=1.469 elapsed=5m57.193s mgasps=0.004 number=2429581 hash=9e1368…b2f642\r\nINFO [11-07|04:52:35] Imported new chain segment               blocks=1  txs=4   mgas=0.656 elapsed=2m20.051s mgasps=0.005 number=2429582 hash=9ae7d7…d6a865\r\nINFO [11-07|04:53:01] Imported new chain segment               blocks=1  txs=46  mgas=1.418 elapsed=26.684s   mgasps=0.053 number=2429583 hash=455f9b…624f3e\r\nINFO [11-07|04:58:15] Imported new chain segment               blocks=22 txs=68  mgas=2.781 elapsed=5m13.964s mgasps=0.009 number=2429605 hash=d479de…c84a8e\r\nINFO [11-07|04:58:39] Imported new chain segment               blocks=1  txs=11  mgas=0.525 elapsed=24.164s   mgasps=0.022 number=2429606 hash=2de177…aa186d\r\nINFO [11-07|05:00:59] Imported new chain segment               blocks=6  txs=30  mgas=1.522 elapsed=2m19.181s mgasps=0.011 number=2429612 hash=9ebde3…af2b43\r\nINFO [11-07|05:02:49] Regenerated local transaction journal    transactions=0 accounts=0\r\nINFO [11-07|05:05:57] Imported new chain segment               blocks=13 txs=24  mgas=1.814 elapsed=4m57.852s mgasps=0.006 number=2429625 hash=220620…76bd40\r\nINFO [11-07|05:08:09] Imported new chain segment               blocks=2  txs=27  mgas=1.445 elapsed=2m12.072s mgasps=0.011 number=2429627 hash=cce398…4dbfc4\r\nINFO [11-07|05:13:15] Imported new chain segment               blocks=8  txs=19  mgas=1.542 elapsed=5m6.791s  mgasps=0.005 number=2429635 hash=acfa03…c8477a\r\nINFO [11-07|05:15:10] Imported new chain segment               blocks=2  txs=30  mgas=1.462 elapsed=1m54.415s mgasps=0.013 number=2429637 hash=a6b5c7…ab01b0\r\nINFO [11-07|05:18:10] Imported new chain segment               blocks=2  txs=24  mgas=1.472 elapsed=3m0.048s  mgasps=0.008 number=2429639 hash=806c07…0e071c\r\nINFO [11-07|05:20:36] Imported new chain segment               blocks=2  txs=24  mgas=1.337 elapsed=2m26.390s mgasps=0.009 number=2429641 hash=22d0e6…9c90d9\r\nINFO [11-07|05:25:11] Imported new chain segment               blocks=1  txs=6   mgas=1.257 elapsed=4m34.453s mgasps=0.005 number=2429642 hash=4005a4…880f71\r\nINFO [11-07|05:28:53] Imported new chain segment               blocks=1  txs=5   mgas=0.855 elapsed=3m42.530s mgasps=0.004 number=2429643 hash=542280…4992b6\r\nINFO [11-07|05:33:38] Imported new chain segment               blocks=6  txs=11  mgas=1.374 elapsed=4m44.401s mgasps=0.005 number=2429649 hash=a27f0d…72a4f7\r\nINFO [11-07|05:34:15] Imported new chain segment               blocks=5  txs=30  mgas=0.865 elapsed=37.769s   mgasps=0.023 number=2429654 hash=3a2942…88847f\r\nINFO [11-07|05:38:37] Imported new chain segment               blocks=8  txs=25  mgas=1.736 elapsed=4m22.096s mgasps=0.007 number=2429662 hash=ed8291…43af7b\r\nINFO [11-07|05:40:37] Imported new chain segment               blocks=4  txs=34  mgas=1.548 elapsed=1m59.767s mgasps=0.013 number=2429666 hash=9e018a…e08786\r\nINFO [11-07|05:43:43] Imported new chain segment               blocks=2  txs=20  mgas=1.418 elapsed=3m5.966s  mgasps=0.008 number=2429668 hash=458f7c…67e7b5\r\nINFO [11-07|05:46:12] Imported new chain segment               blocks=5  txs=32  mgas=1.586 elapsed=2m29.090s mgasps=0.011 number=2429673 hash=bce3ef…442429\r\nINFO [11-07|05:49:17] Imported new chain segment               blocks=2  txs=24  mgas=1.466 elapsed=3m4.577s  mgasps=0.008 number=2429675 hash=e48f46…0e9294\r\nINFO [11-07|05:51:53] Imported new chain segment               blocks=8  txs=42  mgas=1.836 elapsed=2m36.119s mgasps=0.012 number=2429683 hash=3c382f…6a54aa\r\nINFO [11-07|05:54:30] Imported new chain segment               blocks=11 txs=51  mgas=2.054 elapsed=2m36.609s mgasps=0.013 number=2429694 hash=2138ff…e62aa3\r\nINFO [11-07|05:58:43] Imported new chain segment               blocks=4  txs=14  mgas=1.437 elapsed=4m12.907s mgasps=0.006 number=2429698 hash=478cc7…b88409\r\nINFO [11-07|06:01:19] Imported new chain segment               blocks=2  txs=27  mgas=1.485 elapsed=2m36.294s mgasps=0.010 number=2429700 hash=40bce1…e5de43\r\nINFO [11-07|06:02:50] Regenerated local transaction journal    transactions=0 accounts=0\r\nINFO [11-07|06:04:42] Imported new chain segment               blocks=6  txs=26  mgas=1.446 elapsed=3m23.097s mgasps=0.007 number=2429706 hash=f88162…5f8d31\r\nINFO [11-07|06:11:16] Imported new chain segment               blocks=7  txs=16  mgas=1.457 elapsed=6m33.841s mgasps=0.004 number=2429713 hash=e1783e…ee29f8\r\nINFO [11-07|06:14:22] Imported new chain segment               blocks=23 txs=69  mgas=2.432 elapsed=3m5.745s  mgasps=0.013 number=2429736 hash=3e995d…de35ce\r\nINFO [11-07|06:20:07] Imported new chain segment               blocks=1  txs=7   mgas=1.457 elapsed=5m45.147s mgasps=0.004 number=2429737 hash=c1b517…3e41df\r\nINFO [11-07|06:26:13] Imported new chain segment               blocks=3  txs=17  mgas=1.666 elapsed=6m6.120s  mgasps=0.005 number=2429740 hash=d5ef18…efe36e\r\nINFO [11-07|06:31:42] Imported new chain segment               blocks=8  txs=21  mgas=1.677 elapsed=5m29.404s mgasps=0.005 number=2429748 hash=1dcc23…f77ba1\r\nINFO [11-07|06:33:53] Imported new chain segment               blocks=1  txs=24  mgas=1.235 elapsed=2m11.127s mgasps=0.009 number=2429749 hash=79db8b…568937\r\n```\r\n\r\n\r\n````\r\n[backtrace]\r\n````\r\n",
  "closed_by": {
    "login": "holiman",
    "id": 142290,
    "node_id": "MDQ6VXNlcjE0MjI5MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/holiman",
    "html_url": "https://github.com/holiman",
    "followers_url": "https://api.github.com/users/holiman/followers",
    "following_url": "https://api.github.com/users/holiman/following{/other_user}",
    "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
    "organizations_url": "https://api.github.com/users/holiman/orgs",
    "repos_url": "https://api.github.com/users/holiman/repos",
    "events_url": "https://api.github.com/users/holiman/events{/privacy}",
    "received_events_url": "https://api.github.com/users/holiman/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15437/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15437/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/342805055",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15437#issuecomment-342805055",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15437",
    "id": 342805055,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0MjgwNTA1NQ==",
    "user": {
      "login": "yangfee",
      "id": 16202014,
      "node_id": "MDQ6VXNlcjE2MjAyMDE0",
      "avatar_url": "https://avatars.githubusercontent.com/u/16202014?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yangfee",
      "html_url": "https://github.com/yangfee",
      "followers_url": "https://api.github.com/users/yangfee/followers",
      "following_url": "https://api.github.com/users/yangfee/following{/other_user}",
      "gists_url": "https://api.github.com/users/yangfee/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yangfee/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yangfee/subscriptions",
      "organizations_url": "https://api.github.com/users/yangfee/orgs",
      "repos_url": "https://api.github.com/users/yangfee/repos",
      "events_url": "https://api.github.com/users/yangfee/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yangfee/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-08T12:36:33Z",
    "updated_at": "2017-11-08T12:36:33Z",
    "author_association": "NONE",
    "body": "mount poind      /data-ssd     is a ssd disk\r\n\r\nthanks",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/342805055/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/343060008",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15437#issuecomment-343060008",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15437",
    "id": 343060008,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0MzA2MDAwOA==",
    "user": {
      "login": "yangfee",
      "id": 16202014,
      "node_id": "MDQ6VXNlcjE2MjAyMDE0",
      "avatar_url": "https://avatars.githubusercontent.com/u/16202014?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yangfee",
      "html_url": "https://github.com/yangfee",
      "followers_url": "https://api.github.com/users/yangfee/followers",
      "following_url": "https://api.github.com/users/yangfee/following{/other_user}",
      "gists_url": "https://api.github.com/users/yangfee/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yangfee/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yangfee/subscriptions",
      "organizations_url": "https://api.github.com/users/yangfee/orgs",
      "repos_url": "https://api.github.com/users/yangfee/repos",
      "events_url": "https://api.github.com/users/yangfee/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yangfee/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-09T06:29:39Z",
    "updated_at": "2017-11-10T08:20:42Z",
    "author_association": "NONE",
    "body": "here is another problem: \r\ni kill geth, and start it show this log:   Blockchain not empty, fast sync disabled\r\n\r\nthis is more log: \r\n```\r\nINFO [11-09|10:04:14] Initialising Ethereum protocol           versions=\"[63 62]\" network=1\r\nINFO [11-09|10:04:14] Loaded most recent local header          number=4517180 hash=c09136…a2362b td=1411453364323608067269\r\nINFO [11-09|10:04:14] Loaded most recent local full block      number=4517180 hash=c09136…a2362b td=1411453364323608067269\r\nINFO [11-09|10:04:14] Loaded most recent local fast block      number=4517180 hash=c09136…a2362b td=1411453364323608067269\r\nINFO [11-09|10:04:14] Loaded local transaction journal         transactions=0 dropped=0\r\nINFO [11-09|10:04:14] Regenerated local transaction journal    transactions=0 accounts=0\r\nWARN [11-09|10:04:14] Blockchain not empty, fast sync disabled \r\nINFO [11-09|10:04:14] Starting P2P networking \r\nINFO [11-09|10:04:16] UDP listener up  \r\n``` ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/343060008/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/343407689",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15437#issuecomment-343407689",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15437",
    "id": 343407689,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0MzQwNzY4OQ==",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-10T08:25:28Z",
    "updated_at": "2017-11-10T08:25:28Z",
    "author_association": "MEMBER",
    "body": "Fast-sync means that it will determine a so called pivot-point, and perform a fast-sync up to that block. Once it reaches that block, it will switch over to block-by-block import, and never again be able to fast-sync. \r\n\r\nSo if you fast-sync, then switch it off for a week or two, it will 'slow-sync' the missing blocks. The only way to get fast-sync again, is to remove the old data and perform a fresh fast-sync. \r\n\r\nI'll close this ticket, please reopen if I've misunderstood the problem description. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/343407689/reactions",
      "total_count": 4,
      "+1": 4,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
