{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22372",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22372/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22372/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22372/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/22372",
  "id": 815030285,
  "node_id": "MDU6SXNzdWU4MTUwMzAyODU=",
  "number": 22372,
  "title": "Node synchronization problem, always keep a distance of about 100 from the latest height",
  "user": {
    "login": "lyon0712",
    "id": 77255416,
    "node_id": "MDQ6VXNlcjc3MjU1NDE2",
    "avatar_url": "https://avatars.githubusercontent.com/u/77255416?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/lyon0712",
    "html_url": "https://github.com/lyon0712",
    "followers_url": "https://api.github.com/users/lyon0712/followers",
    "following_url": "https://api.github.com/users/lyon0712/following{/other_user}",
    "gists_url": "https://api.github.com/users/lyon0712/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/lyon0712/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/lyon0712/subscriptions",
    "organizations_url": "https://api.github.com/users/lyon0712/orgs",
    "repos_url": "https://api.github.com/users/lyon0712/repos",
    "events_url": "https://api.github.com/users/lyon0712/events{/privacy}",
    "received_events_url": "https://api.github.com/users/lyon0712/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 268304226,
      "node_id": "MDU6TGFiZWwyNjgzMDQyMjY=",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:docs",
      "name": "type:docs",
      "color": "fef2c0",
      "default": false,
      "description": null
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2021-02-24T02:50:15Z",
  "updated_at": "2021-02-25T08:12:36Z",
  "closed_at": "2021-02-25T08:12:36Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "## Node synchronization problem, always keep a distance of about 100 from the latest height\r\n\r\nThe node has been running normally, and there is no error message logs. \r\nWhen querying in the console, the currentBlock and highestBlock always have a difference of more than 100 block heights. This situation has been maintained for more than a week.\r\nI tried restarting geth, but it didn't solve the problem.\r\n\r\ngeth version\r\n```\r\nGeth\r\nVersion: 1.9.25-stable\r\nGit Commit: e7872729012a4871397307b12cc3f4772ffcbec6\r\nArchitecture: amd64\r\nProtocol Versions: [65 64 63]\r\nGo Version: go1.14.13\r\nOperating System: linux\r\nGOPATH=/home/ec2-user/go\r\nGOROOT=/usr/local/go\r\n```\r\n\r\nlatest log\r\n```\r\nINFO [02-24|02:42:40.509] Imported new state entries               count=384  elapsed=\"648.175µs\" processed=733862267 pending=56131 trieretry=0   coderetry=0 duplicate=0 unexpected=768\r\nINFO [02-24|02:42:41.065] Imported new block headers               count=1    elapsed=86.211ms    number=11917207 hash=\"3eabed…f1c018\"\r\nINFO [02-24|02:42:49.497] Imported new state entries               count=384  elapsed=\"488.864µs\" processed=733862651 pending=56554 trieretry=2   coderetry=0 duplicate=0 unexpected=768\r\nINFO [02-24|02:42:50.147] Imported new block headers               count=1    elapsed=20.647ms    number=11917208 hash=\"c5c3c1…a266a0\"\r\nINFO [02-24|02:42:55.331] Imported new state entries               count=313  elapsed=1.212ms     processed=733862964 pending=56880 trieretry=4   coderetry=0 duplicate=0 unexpected=768\r\nINFO [02-24|02:43:04.420] Imported new state entries               count=384  elapsed=\"523.437µs\" processed=733863348 pending=57376 trieretry=0   coderetry=0 duplicate=0 unexpected=768\r\nINFO [02-24|02:43:05.358] Imported new block headers               count=1    elapsed=10.462ms    number=11917209 hash=\"0c1eb7…28d24f\"\r\nINFO [02-24|02:43:11.513] Imported new block headers               count=1    elapsed=53.987ms    number=11917210 hash=\"1f8875…93788a\"\r\nINFO [02-24|02:43:14.120] Imported new state entries               count=384  elapsed=\"558.113µs\" processed=733863732 pending=57759 trieretry=0   coderetry=0 duplicate=0 unexpected=768\r\n```\r\n\r\nconsole information\r\n```\r\n> eth.syncing\r\n{\r\n  currentBlock: 11917111,\r\n  highestBlock: 11917213,\r\n  knownStates: 733924498,\r\n  pulledStates: 733865222,\r\n  startingBlock: 11880232\r\n}\r\n> eth.blockNumber\r\n0\r\n```",
  "closed_by": {
    "login": "karalabe",
    "id": 129561,
    "node_id": "MDQ6VXNlcjEyOTU2MQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/karalabe",
    "html_url": "https://github.com/karalabe",
    "followers_url": "https://api.github.com/users/karalabe/followers",
    "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
    "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
    "organizations_url": "https://api.github.com/users/karalabe/orgs",
    "repos_url": "https://api.github.com/users/karalabe/repos",
    "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
    "received_events_url": "https://api.github.com/users/karalabe/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22372/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22372/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/785142858",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22372#issuecomment-785142858",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22372",
    "id": 785142858,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4NTE0Mjg1OA==",
    "user": {
      "login": "ppershing",
      "id": 837681,
      "node_id": "MDQ6VXNlcjgzNzY4MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/837681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ppershing",
      "html_url": "https://github.com/ppershing",
      "followers_url": "https://api.github.com/users/ppershing/followers",
      "following_url": "https://api.github.com/users/ppershing/following{/other_user}",
      "gists_url": "https://api.github.com/users/ppershing/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ppershing/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ppershing/subscriptions",
      "organizations_url": "https://api.github.com/users/ppershing/orgs",
      "repos_url": "https://api.github.com/users/ppershing/repos",
      "events_url": "https://api.github.com/users/ppershing/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ppershing/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-24T15:10:02Z",
    "updated_at": "2021-02-24T15:10:02Z",
    "author_association": "NONE",
    "body": "I have similar problem. I am trying to re-sync node since last week. The process few time crashed and few time got stuck about 100 blocks from the head.\r\n```\r\n> eth.syncing\r\n\r\n{\r\n  currentBlock: 11920443,\r\n  highestBlock: 11920560,\r\n  knownStates: 571082961,\r\n  pulledStates: 570992471,\r\n  startingBlock: 11918187\r\n}\r\n```\r\nThe states keep advancing as well as currentBlock but it always seem to keep about 80-100 blocks behind the tip",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/785142858/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/785518321",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22372#issuecomment-785518321",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22372",
    "id": 785518321,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4NTUxODMyMQ==",
    "user": {
      "login": "ligi",
      "id": 111600,
      "node_id": "MDQ6VXNlcjExMTYwMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/111600?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ligi",
      "html_url": "https://github.com/ligi",
      "followers_url": "https://api.github.com/users/ligi/followers",
      "following_url": "https://api.github.com/users/ligi/following{/other_user}",
      "gists_url": "https://api.github.com/users/ligi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ligi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ligi/subscriptions",
      "organizations_url": "https://api.github.com/users/ligi/orgs",
      "repos_url": "https://api.github.com/users/ligi/repos",
      "events_url": "https://api.github.com/users/ligi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ligi/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-25T01:57:33Z",
    "updated_at": "2021-02-25T01:57:33Z",
    "author_association": "MEMBER",
    "body": "Please read: https://github.com/ethereum/go-ethereum/issues/16218#issuecomment-371454280",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/785518321/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
