{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19297",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19297/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19297/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19297/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/19297",
  "id": 422513333,
  "node_id": "MDU6SXNzdWU0MjI1MTMzMzM=",
  "number": 19297,
  "title": "Handling all unhandled errors found through static analysis?",
  "user": {
    "login": "SamuelMarks",
    "id": 807580,
    "node_id": "MDQ6VXNlcjgwNzU4MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/807580?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/SamuelMarks",
    "html_url": "https://github.com/SamuelMarks",
    "followers_url": "https://api.github.com/users/SamuelMarks/followers",
    "following_url": "https://api.github.com/users/SamuelMarks/following{/other_user}",
    "gists_url": "https://api.github.com/users/SamuelMarks/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/SamuelMarks/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/SamuelMarks/subscriptions",
    "organizations_url": "https://api.github.com/users/SamuelMarks/orgs",
    "repos_url": "https://api.github.com/users/SamuelMarks/repos",
    "events_url": "https://api.github.com/users/SamuelMarks/events{/privacy}",
    "received_events_url": "https://api.github.com/users/SamuelMarks/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2019-03-19T02:22:00Z",
  "updated_at": "2020-04-30T10:44:57Z",
  "closed_at": "2020-04-30T10:43:58Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "A question goes along with #19296, using [automated static analysis tools](https://github.com/mre/awesome-static-analysis#go) one can find a multitude of linting issues and probable bugs.\r\n\r\nTo highlight a large example, there are 1776 [`!`](https://en.wikipedia.org/wiki/United_States_Declaration_of_Independence) unhandled errors. Many are simple ones like:\r\nhttps://github.com/ethereum/go-ethereum/blob/fa87929a2fbed11c614d57d43cd64ced15ba80b8/cmd/swarm/access_test.go#L79\r\n\r\nWhich could be replaced with:\r\n```go\r\ndefer func(){\r\n\tif err := os.RemoveAll(dataFilename); err != nil {\r\n\t\tpanic(err)\r\n\t}\r\n}()\r\n```\r\n\r\nOutside of tests however, it gets a little more complicated:\r\nhttps://github.com/ethereum/go-ethereum/blob/245f3146c26698193c4b479e7bc5825b058c444a/rpc/json.go#L223:L228\r\n\r\nWould need to change its signature/prototype and all its uses, to guarantee error handling or propogation at every turn.\r\n\r\nUncomfortable with changing that many files without asking permission, because it would impact basically all open PRs.\r\n\r\nThoughts?",
  "closed_by": {
    "login": "fjl",
    "id": 6915,
    "node_id": "MDQ6VXNlcjY5MTU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6915?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/fjl",
    "html_url": "https://github.com/fjl",
    "followers_url": "https://api.github.com/users/fjl/followers",
    "following_url": "https://api.github.com/users/fjl/following{/other_user}",
    "gists_url": "https://api.github.com/users/fjl/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/fjl/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/fjl/subscriptions",
    "organizations_url": "https://api.github.com/users/fjl/orgs",
    "repos_url": "https://api.github.com/users/fjl/repos",
    "events_url": "https://api.github.com/users/fjl/events{/privacy}",
    "received_events_url": "https://api.github.com/users/fjl/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19297/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19297/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/474269687",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/19297#issuecomment-474269687",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19297",
    "id": 474269687,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3NDI2OTY4Nw==",
    "user": {
      "login": "fjl",
      "id": 6915,
      "node_id": "MDQ6VXNlcjY5MTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6915?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjl",
      "html_url": "https://github.com/fjl",
      "followers_url": "https://api.github.com/users/fjl/followers",
      "following_url": "https://api.github.com/users/fjl/following{/other_user}",
      "gists_url": "https://api.github.com/users/fjl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fjl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fjl/subscriptions",
      "organizations_url": "https://api.github.com/users/fjl/orgs",
      "repos_url": "https://api.github.com/users/fjl/repos",
      "events_url": "https://api.github.com/users/fjl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fjl/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-19T09:42:45Z",
    "updated_at": "2019-03-19T09:42:45Z",
    "author_association": "MEMBER",
    "body": "There are many places where errors are ignored because these errors don't matter in most cases or because it cannot be handled appropriately. A good example is closing a network connection: closing can fail but there is no good way to handle the error.\r\n\r\nWe would appreciate code changes for places where the error does matter, but AFAIK we handle the ones that matter already.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/474269687/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/520400985",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/19297#issuecomment-520400985",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19297",
    "id": 520400985,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyMDQwMDk4NQ==",
    "user": {
      "login": "SjonHortensius",
      "id": 1684987,
      "node_id": "MDQ6VXNlcjE2ODQ5ODc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1684987?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SjonHortensius",
      "html_url": "https://github.com/SjonHortensius",
      "followers_url": "https://api.github.com/users/SjonHortensius/followers",
      "following_url": "https://api.github.com/users/SjonHortensius/following{/other_user}",
      "gists_url": "https://api.github.com/users/SjonHortensius/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SjonHortensius/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SjonHortensius/subscriptions",
      "organizations_url": "https://api.github.com/users/SjonHortensius/orgs",
      "repos_url": "https://api.github.com/users/SjonHortensius/repos",
      "events_url": "https://api.github.com/users/SjonHortensius/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SjonHortensius/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-08-12T12:17:22Z",
    "updated_at": "2019-08-12T12:17:22Z",
    "author_association": "CONTRIBUTOR",
    "body": "although these sort of errors are not fixable it might be interesting to output them using `log.Debug`. They might come in handy as context for other issues and static-analysis tools will consider them handled",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/520400985/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/521867907",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/19297#issuecomment-521867907",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19297",
    "id": 521867907,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyMTg2NzkwNw==",
    "user": {
      "login": "SamuelMarks",
      "id": 807580,
      "node_id": "MDQ6VXNlcjgwNzU4MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/807580?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SamuelMarks",
      "html_url": "https://github.com/SamuelMarks",
      "followers_url": "https://api.github.com/users/SamuelMarks/followers",
      "following_url": "https://api.github.com/users/SamuelMarks/following{/other_user}",
      "gists_url": "https://api.github.com/users/SamuelMarks/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SamuelMarks/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SamuelMarks/subscriptions",
      "organizations_url": "https://api.github.com/users/SamuelMarks/orgs",
      "repos_url": "https://api.github.com/users/SamuelMarks/repos",
      "events_url": "https://api.github.com/users/SamuelMarks/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SamuelMarks/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-08-16T03:05:40Z",
    "updated_at": "2019-08-16T03:05:40Z",
    "author_association": "CONTRIBUTOR",
    "body": "I would actually still be keen on making all these changes, so that all errors are properly handled.\r\n\r\nJust don't want to dedicate the time just to have the PR rejected.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/521867907/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/621756289",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/19297#issuecomment-621756289",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19297",
    "id": 621756289,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyMTc1NjI4OQ==",
    "user": {
      "login": "fjl",
      "id": 6915,
      "node_id": "MDQ6VXNlcjY5MTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6915?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjl",
      "html_url": "https://github.com/fjl",
      "followers_url": "https://api.github.com/users/fjl/followers",
      "following_url": "https://api.github.com/users/fjl/following{/other_user}",
      "gists_url": "https://api.github.com/users/fjl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fjl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fjl/subscriptions",
      "organizations_url": "https://api.github.com/users/fjl/orgs",
      "repos_url": "https://api.github.com/users/fjl/repos",
      "events_url": "https://api.github.com/users/fjl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fjl/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-30T10:44:57Z",
    "updated_at": "2020-04-30T10:44:57Z",
    "author_association": "MEMBER",
    "body": "Closing this because I stand by my original assessment: there is no way we're ever going to handle every single possible error.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/621756289/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 1,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
