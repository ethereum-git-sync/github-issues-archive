{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/18438",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/18438/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/18438/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/18438/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/18438",
  "id": 398598883,
  "node_id": "MDU6SXNzdWUzOTg1OTg4ODM=",
  "number": 18438,
  "title": "GETH SYNCS - Then slows down and lags behind [Server info & Geth config attached]",
  "user": {
    "login": "mishul",
    "id": 16978080,
    "node_id": "MDQ6VXNlcjE2OTc4MDgw",
    "avatar_url": "https://avatars.githubusercontent.com/u/16978080?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/mishul",
    "html_url": "https://github.com/mishul",
    "followers_url": "https://api.github.com/users/mishul/followers",
    "following_url": "https://api.github.com/users/mishul/following{/other_user}",
    "gists_url": "https://api.github.com/users/mishul/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/mishul/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mishul/subscriptions",
    "organizations_url": "https://api.github.com/users/mishul/orgs",
    "repos_url": "https://api.github.com/users/mishul/repos",
    "events_url": "https://api.github.com/users/mishul/events{/privacy}",
    "received_events_url": "https://api.github.com/users/mishul/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2019-01-12T22:38:26Z",
  "updated_at": "2019-06-19T14:42:57Z",
  "closed_at": "2019-06-19T14:42:57Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Geth server Info: \r\n6 cpus, 18gb mem\r\nSSD: 450 GB (42%used)\r\n\r\nGeth Config is below. Our node originally syncs all the way, then slows down and lags behind.. we have to restart it to pickup pace but then yet again it slows down. So we have been upgrading our server one after the other to hopefully resolve this issue... We are supporting an exchange so need the node to be upto sync continously. We need eth_blocknumber to be working so cannot use --fast mode. Are these specs enough? Does something need to be changed in config? WHAT EXACTLY DO WE NEED TO MAKE THIS GETH NODE RUN & STAY IN SYNC?? \r\n\r\nThanks for your help!\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nEth config\r\nMaxPeers = 100\r\nNoDiscovery = false\r\nBootstrapNodes = [\"enode://a979fb575495b8d6db44f750317d0f4622bf4c2aa3365d6af7c284339968eef29b69ad0dce72a4d8db5ebb4968de0e3bec910127f134779fbcb0cb6d3331163c@52.16.188.185:30303\", \"enode://3f1d12044546b76342d59d4a05532c14b85aa669704bfe1f864fe079415aa2c02d743e03218e57a33fb94523adb54032871a6c51b2cc5514cb7c7e35b3ed0a99@13.93.211.84:30303\", \"enode://78de8a0916848093c73790ead81d1928bec737d565119932b98c6b100d944b7a95e94f847f689fc723399d2e31129d182f7ef3863f2b4c820abbf3ab2722344d@191.235.84.50:30303\", \"enode://158f8aab45f6d19c6cbf4a089c2670541a8da11978a2f90dbf6a502a4a3bab80d288afdbeb7ec0ef6d92de563767f3b1ea9e8e334ca711e9f8e2df5a0385e8e6@13.75.154.138:30303\", \"enode://1118980bf48b0a3640bdba04e0fe78b1add18e1cd99bf22d53daac1fd9972ad650df52176e7c7d89d1114cfef2bc23a2959aa54998a46afcf7d91809f0855082@52.74.57.123:30303\", \"enode://979b7fa28feeb35a4741660a16076f1943202cb72b6af70d327f053e248bab9ba81760f39d0701ef1d8f89cc1fbd2cacba0710a12cd5314d5e0c9021aa3637f9@5.1.83.226:30303\"]\r\nBootstrapNodesV5 = [\"enode://06051a5573c81934c9554ef2898eb13b33a34b94cf36b202b69fde139ca17a85051979867720d4bdae4323d4943ddf9aeeb6643633aa656e0be843659795007a@35.177.226.168:30303\", \"enode://0cc5f5ffb5d9098c8b8c62325f3797f56509bff942704687b6530992ac706e2cb946b90a34f1f19548cd3c7baccbcaea354531e5983c7d1bc0dee16ce4b6440b@40.118.3.223:30304\", \"enode://1c7a64d76c0334b0418c004af2f67c50e36a3be60b5e4790bdac0439d21603469a85fad36f2473c9a80eb043ae60936df905fa28f1ff614c3e5dc34f15dcd2dc@40.118.3.223:30306\", \"enode://85c85d7143ae8bb96924f2b54f1b3e70d8c4d367af305325d30a61385a432f247d2c75c45c6b4a60335060d072d7f5b35dd1d4c45f76941f62a4f83b6e75daaf@40.118.3.223:30307\"]\r\nStaticNodes = []\r\nTrustedNodes = []\r\nListenAddr = \":30303\"\r\nEnableMsgEvents = false\r\n\r\n[Node.HTTPTimeouts]\r\nReadTimeout = 30000000000\r\nWriteTimeout = 30000000000\r\nIdleTimeout = 120000000000\r\n\r\n[Dashboard]\r\nHost = \"localhost\"\r\nPort = 8080\r\nRefresh = 5000000000",
  "closed_by": {
    "login": "holiman",
    "id": 142290,
    "node_id": "MDQ6VXNlcjE0MjI5MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/holiman",
    "html_url": "https://github.com/holiman",
    "followers_url": "https://api.github.com/users/holiman/followers",
    "following_url": "https://api.github.com/users/holiman/following{/other_user}",
    "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
    "organizations_url": "https://api.github.com/users/holiman/orgs",
    "repos_url": "https://api.github.com/users/holiman/repos",
    "events_url": "https://api.github.com/users/holiman/events{/privacy}",
    "received_events_url": "https://api.github.com/users/holiman/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/18438/reactions",
    "total_count": 1,
    "+1": 1,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/18438/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/455242209",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/18438#issuecomment-455242209",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/18438",
    "id": 455242209,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NTI0MjIwOQ==",
    "user": {
      "login": "xiaods",
      "id": 37678,
      "node_id": "MDQ6VXNlcjM3Njc4",
      "avatar_url": "https://avatars.githubusercontent.com/u/37678?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/xiaods",
      "html_url": "https://github.com/xiaods",
      "followers_url": "https://api.github.com/users/xiaods/followers",
      "following_url": "https://api.github.com/users/xiaods/following{/other_user}",
      "gists_url": "https://api.github.com/users/xiaods/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/xiaods/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/xiaods/subscriptions",
      "organizations_url": "https://api.github.com/users/xiaods/orgs",
      "repos_url": "https://api.github.com/users/xiaods/repos",
      "events_url": "https://api.github.com/users/xiaods/events{/privacy}",
      "received_events_url": "https://api.github.com/users/xiaods/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-17T16:43:23Z",
    "updated_at": "2019-01-17T16:43:23Z",
    "author_association": "NONE",
    "body": "yes, the full mode is very slow, you only pay patience to waiting the syncing.  by the way, the disk space should be keep 1T is satisfy.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/455242209/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/456745882",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/18438#issuecomment-456745882",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/18438",
    "id": 456745882,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1Njc0NTg4Mg==",
    "user": {
      "login": "xiaods",
      "id": 37678,
      "node_id": "MDQ6VXNlcjM3Njc4",
      "avatar_url": "https://avatars.githubusercontent.com/u/37678?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/xiaods",
      "html_url": "https://github.com/xiaods",
      "followers_url": "https://api.github.com/users/xiaods/followers",
      "following_url": "https://api.github.com/users/xiaods/following{/other_user}",
      "gists_url": "https://api.github.com/users/xiaods/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/xiaods/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/xiaods/subscriptions",
      "organizations_url": "https://api.github.com/users/xiaods/orgs",
      "repos_url": "https://api.github.com/users/xiaods/repos",
      "events_url": "https://api.github.com/users/xiaods/events{/privacy}",
      "received_events_url": "https://api.github.com/users/xiaods/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-23T10:15:52Z",
    "updated_at": "2019-01-23T10:15:52Z",
    "author_association": "NONE",
    "body": "this is not issue, it should be close asap.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/456745882/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/456751963",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/18438#issuecomment-456751963",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/18438",
    "id": 456751963,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1Njc1MTk2Mw==",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-23T10:34:14Z",
    "updated_at": "2019-01-23T10:34:14Z",
    "author_association": "MEMBER",
    "body": ">  We need eth_blocknumber to be working so cannot use --fast mode \r\n\r\nSounds like a misconception. After the initial sync, which _should_ be done in a couple of hours (as opposed to 100+ hours of full sync), the node behaves like a full-synced node, importing block by block. \r\n\r\nThe specs look ok. Could you please provide some logs from the slow blocks? \r\nFrom experience, I would suspect that the SSD has been worn out. I've had to replace an SSD which had degraded to usb-drive speeds (20M/s). Replacing it bumped the SSD speeds with a factor of `20`, IIRC.  See https://askubuntu.com/questions/87035/how-to-check-hard-disk-performance . \r\n\r\n> this is not issue, it should be close asap.\r\n\r\nI agree, but we can keep it open a bit longer. A 6-cpu / 18G system should not have any problems keeping in sync. \r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/456751963/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/457561958",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/18438#issuecomment-457561958",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/18438",
    "id": 457561958,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NzU2MTk1OA==",
    "user": {
      "login": "xiaods",
      "id": 37678,
      "node_id": "MDQ6VXNlcjM3Njc4",
      "avatar_url": "https://avatars.githubusercontent.com/u/37678?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/xiaods",
      "html_url": "https://github.com/xiaods",
      "followers_url": "https://api.github.com/users/xiaods/followers",
      "following_url": "https://api.github.com/users/xiaods/following{/other_user}",
      "gists_url": "https://api.github.com/users/xiaods/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/xiaods/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/xiaods/subscriptions",
      "organizations_url": "https://api.github.com/users/xiaods/orgs",
      "repos_url": "https://api.github.com/users/xiaods/repos",
      "events_url": "https://api.github.com/users/xiaods/events{/privacy}",
      "received_events_url": "https://api.github.com/users/xiaods/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-25T12:45:11Z",
    "updated_at": "2019-01-25T12:45:11Z",
    "author_association": "NONE",
    "body": "@holiman agree",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/457561958/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/457866974",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/18438#issuecomment-457866974",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/18438",
    "id": 457866974,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1Nzg2Njk3NA==",
    "user": {
      "login": "mishul",
      "id": 16978080,
      "node_id": "MDQ6VXNlcjE2OTc4MDgw",
      "avatar_url": "https://avatars.githubusercontent.com/u/16978080?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mishul",
      "html_url": "https://github.com/mishul",
      "followers_url": "https://api.github.com/users/mishul/followers",
      "following_url": "https://api.github.com/users/mishul/following{/other_user}",
      "gists_url": "https://api.github.com/users/mishul/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mishul/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mishul/subscriptions",
      "organizations_url": "https://api.github.com/users/mishul/orgs",
      "repos_url": "https://api.github.com/users/mishul/repos",
      "events_url": "https://api.github.com/users/mishul/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mishul/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-26T21:20:35Z",
    "updated_at": "2019-01-26T21:20:35Z",
    "author_association": "NONE",
    "body": "@holiman I see what you mean by 'initial syncing'. After a while, our block_number is no longer null. My understanding is when 'initial syncing' is done, block_number changes from null. However, block_number is never the latest block. It matches the current block which we are syncing, which right now is still behind the latest block. Will this become an issue when new transactions come in and our block_number still isn't at the latest block?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/457866974/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
