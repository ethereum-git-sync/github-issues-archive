{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/28044",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/28044/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/28044/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/28044/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/28044",
  "id": 1876854410,
  "node_id": "I_kwDOAOvK985v3oaK",
  "number": 28044,
  "title": "Should I switch to \"checkpint sync\" now?",
  "user": {
    "login": "kevgithub",
    "id": 813641,
    "node_id": "MDQ6VXNlcjgxMzY0MQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/813641?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/kevgithub",
    "html_url": "https://github.com/kevgithub",
    "followers_url": "https://api.github.com/users/kevgithub/followers",
    "following_url": "https://api.github.com/users/kevgithub/following{/other_user}",
    "gists_url": "https://api.github.com/users/kevgithub/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/kevgithub/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/kevgithub/subscriptions",
    "organizations_url": "https://api.github.com/users/kevgithub/orgs",
    "repos_url": "https://api.github.com/users/kevgithub/repos",
    "events_url": "https://api.github.com/users/kevgithub/events{/privacy}",
    "received_events_url": "https://api.github.com/users/kevgithub/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 268304226,
      "node_id": "MDU6TGFiZWwyNjgzMDQyMjY=",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:docs",
      "name": "type:docs",
      "color": "fef2c0",
      "default": false,
      "description": null
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2023-09-01T06:53:55Z",
  "updated_at": "2023-09-06T09:42:45Z",
  "closed_at": "2023-09-05T08:06:08Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "My node has been syncing for a while now(8 days), and here's the latest log:\r\nCL:\r\n```\r\ntime=\"2023-09-01 14:54:37\" level=info msg=\"Called new payload with optimistic block\" payloadBlockHash=0xe8c18e0af93a prefix=blockchain slot=6232378\r\ntime=\"2023-09-01 14:54:37\" level=info msg=\"Called new payload with optimistic block\" payloadBlockHash=0x26dc03d219f1 prefix=blockchain slot=6232379\r\ntime=\"2023-09-01 14:54:37\" level=info msg=\"Called new payload with optimistic block\" payloadBlockHash=0x72f1ddbe714e prefix=blockchain slot=6232380\r\ntime=\"2023-09-01 14:54:37\" level=info msg=\"Called new payload with optimistic block\" payloadBlockHash=0x2b8d9858bb44 prefix=blockchain slot=6232381\r\ntime=\"2023-09-01 14:54:37\" level=info msg=\"Called new payload with optimistic block\" payloadBlockHash=0x768649bc5352 prefix=blockchain slot=6232382\r\ntime=\"2023-09-01 14:54:37\" level=info msg=\"Called new payload with optimistic block\" payloadBlockHash=0x6c5d773eec08 prefix=blockchain slot=6232383\r\ntime=\"2023-09-01 14:54:37\" level=info msg=\"Called fork choice updated with optimistic block\" finalizedPayloadBlockHash=0x9765c1402bd5 headPayloadBlockHash=0x6c5d773eec08 headSlot=6232383 prefix=blockchain\r\ntime=\"2023-09-01 14:54:37\" level=info msg=\"Processing block batch of size 58 starting from  0x7334f1cd... 6232384/7227271 - estimated time remaining 30h2m19s\" blocksPerSecond=9.2 peers=35 prefix=initial-sync\r\n```\r\n\r\nEL:\r\n```\r\nINFO [09-01|14:55:37.676] Syncing: chain download in progress      synced=100.00% chain=327.56GiB headers=17,056,775@6.60GiB bodies=17,056,677@215.96GiB receipts=17,056,677@105.00GiB eta=29.202s\r\nWARN [09-01|14:55:37.945] Pivot seemingly stale, moving            old=17,056,678 new=17,056,741\r\nINFO [09-01|14:55:38.745] Syncing: state healing in progress       accounts=0@0.00B slots=0@0.00B codes=34716@259.11MiB nodes=97,790,751@7.55GiB pending=1\r\nINFO [09-01|14:55:44.472] Forkchoice requested sync to new head    number=17,056,869 hash=13e9c5..e116e4 finalized=17,056,806\r\nINFO [09-01|14:55:45.750] Syncing: chain download in progress      synced=100.00% chain=327.56GiB headers=17,056,838@6.60GiB bodies=17,056,740@215.96GiB receipts=17,056,740@105.00GiB eta=29.395s\r\nWARN [09-01|14:55:46.948] Pivot seemingly stale, moving            old=17,056,741 new=17,056,805\r\nINFO [09-01|14:55:47.819] Syncing: state healing in progress       accounts=0@0.00B slots=0@0.00B codes=34716@259.11MiB nodes=97,790,751@7.55GiB pending=1\r\n```\r\neth.syncing:\r\n```\r\n{\r\n  currentBlock: 17057747,\r\n  healedBytecodeBytes: 271694812,\r\n  healedBytecodes: 34716,\r\n  healedTrienodeBytes: 8106227747,\r\n  healedTrienodes: 97790751,\r\n  healingBytecode: 0,\r\n  healingTrienodes: 0,\r\n  highestBlock: 17057812,\r\n  startingBlock: 17033083,\r\n  syncedAccountBytes: 47670286424,\r\n  syncedAccounts: 192520528,\r\n  syncedBytecodeBytes: 5057491353,\r\n  syncedBytecodes: 763178,\r\n  syncedStorage: 831341321,\r\n  syncedStorageBytes: 178645236259\r\n}\r\n```\r\n Now I'm considering about whether I should switch to the checkpoint method of syncing, and I have two questions: \r\n\r\n1, if I switch to the checkpoint method now, do I need to clear the data and start syncing over? \r\n2, I'm not sure how much longer the current sync method will take, if I switch to checkpoint now, will I be able to finish the sync in a shorter period of time?\r\n Thanks a lot!",
  "closed_by": {
    "login": "MariusVanDerWijden",
    "id": 16664698,
    "node_id": "MDQ6VXNlcjE2NjY0Njk4",
    "avatar_url": "https://avatars.githubusercontent.com/u/16664698?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/MariusVanDerWijden",
    "html_url": "https://github.com/MariusVanDerWijden",
    "followers_url": "https://api.github.com/users/MariusVanDerWijden/followers",
    "following_url": "https://api.github.com/users/MariusVanDerWijden/following{/other_user}",
    "gists_url": "https://api.github.com/users/MariusVanDerWijden/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/MariusVanDerWijden/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/MariusVanDerWijden/subscriptions",
    "organizations_url": "https://api.github.com/users/MariusVanDerWijden/orgs",
    "repos_url": "https://api.github.com/users/MariusVanDerWijden/repos",
    "events_url": "https://api.github.com/users/MariusVanDerWijden/events{/privacy}",
    "received_events_url": "https://api.github.com/users/MariusVanDerWijden/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/28044/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/28044/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1703723702",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/28044#issuecomment-1703723702",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/28044",
    "id": 1703723702,
    "node_id": "IC_kwDOAOvK985ljMK2",
    "user": {
      "login": "namiloh",
      "id": 143267891,
      "node_id": "U_kgDOCIoYMw",
      "avatar_url": "https://avatars.githubusercontent.com/u/143267891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/namiloh",
      "html_url": "https://github.com/namiloh",
      "followers_url": "https://api.github.com/users/namiloh/followers",
      "following_url": "https://api.github.com/users/namiloh/following{/other_user}",
      "gists_url": "https://api.github.com/users/namiloh/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/namiloh/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/namiloh/subscriptions",
      "organizations_url": "https://api.github.com/users/namiloh/orgs",
      "repos_url": "https://api.github.com/users/namiloh/repos",
      "events_url": "https://api.github.com/users/namiloh/events{/privacy}",
      "received_events_url": "https://api.github.com/users/namiloh/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-09-02T06:16:01Z",
    "updated_at": "2023-09-02T06:16:01Z",
    "author_association": "NONE",
    "body": "@kevgithub that looks very strange. Your state-heal, after 9 days, should have finished long ago. What are your commmand parameters, and are you using an ssd or hdd backend?\r\n\r\nAlas there's no checkpoint-sync method to switch to, for EL. You are already using the fastest way to sync (usually takes a day or two)",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1703723702/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1706137958",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/28044#issuecomment-1706137958",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/28044",
    "id": 1706137958,
    "node_id": "IC_kwDOAOvK985lsZlm",
    "user": {
      "login": "MariusVanDerWijden",
      "id": 16664698,
      "node_id": "MDQ6VXNlcjE2NjY0Njk4",
      "avatar_url": "https://avatars.githubusercontent.com/u/16664698?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MariusVanDerWijden",
      "html_url": "https://github.com/MariusVanDerWijden",
      "followers_url": "https://api.github.com/users/MariusVanDerWijden/followers",
      "following_url": "https://api.github.com/users/MariusVanDerWijden/following{/other_user}",
      "gists_url": "https://api.github.com/users/MariusVanDerWijden/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MariusVanDerWijden/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MariusVanDerWijden/subscriptions",
      "organizations_url": "https://api.github.com/users/MariusVanDerWijden/orgs",
      "repos_url": "https://api.github.com/users/MariusVanDerWijden/repos",
      "events_url": "https://api.github.com/users/MariusVanDerWijden/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MariusVanDerWijden/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-09-05T08:04:38Z",
    "updated_at": "2023-09-05T08:05:33Z",
    "author_association": "MEMBER",
    "body": "Yes you should move to checkpoint sync on the consensus layer.\r\nRight now the CL node feeds us old blocks one by one, so we can't finish our healing (because we try to fetch old states from peers that they don't have anymore)\r\n\r\nWe can only finalize our sync once the CL node arrived at the head (so ~30h judging from your logs)\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1706137958/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1706997243",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/28044#issuecomment-1706997243",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/28044",
    "id": 1706997243,
    "node_id": "IC_kwDOAOvK985lvrX7",
    "user": {
      "login": "Deacon77",
      "id": 139610590,
      "node_id": "U_kgDOCFJJ3g",
      "avatar_url": "https://avatars.githubusercontent.com/u/139610590?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Deacon77",
      "html_url": "https://github.com/Deacon77",
      "followers_url": "https://api.github.com/users/Deacon77/followers",
      "following_url": "https://api.github.com/users/Deacon77/following{/other_user}",
      "gists_url": "https://api.github.com/users/Deacon77/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Deacon77/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Deacon77/subscriptions",
      "organizations_url": "https://api.github.com/users/Deacon77/orgs",
      "repos_url": "https://api.github.com/users/Deacon77/repos",
      "events_url": "https://api.github.com/users/Deacon77/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Deacon77/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-09-05T17:09:57Z",
    "updated_at": "2023-09-06T09:42:44Z",
    "author_association": "NONE",
    "body": "﻿﻿On Sep 5, 2023, at 2:06 AM, Marius van der ﻿ ***@***.***>﻿\r\nClosed #28044 as completed.\r\n\r\n—Reply to this email directly, view it on GitHub, or unsubscribe.You are receiving this because you commented.Message ID: ***@***.***>",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1706997243/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1706997274",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/28044#issuecomment-1706997274",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/28044",
    "id": 1706997274,
    "node_id": "IC_kwDOAOvK985lvrYa",
    "user": {
      "login": "Deacon77",
      "id": 139610590,
      "node_id": "U_kgDOCFJJ3g",
      "avatar_url": "https://avatars.githubusercontent.com/u/139610590?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Deacon77",
      "html_url": "https://github.com/Deacon77",
      "followers_url": "https://api.github.com/users/Deacon77/followers",
      "following_url": "https://api.github.com/users/Deacon77/following{/other_user}",
      "gists_url": "https://api.github.com/users/Deacon77/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Deacon77/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Deacon77/subscriptions",
      "organizations_url": "https://api.github.com/users/Deacon77/orgs",
      "repos_url": "https://api.github.com/users/Deacon77/repos",
      "events_url": "https://api.github.com/users/Deacon77/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Deacon77/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-09-05T17:09:59Z",
    "updated_at": "2023-09-06T09:42:45Z",
    "author_association": "NONE",
    "body": "﻿﻿﻿ ﻿﻿On Sep 5, 2023, at 2:06 AM, Marius van der Wijden ***@***.***> wrote:﻿\r\nClosed #28044 as completed.\r\n\r\n—Reply to this email directly, view it on GitHub, or unsubscribe.You are receiving this because you commented.Message ID: ***@***.***>",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1706997274/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1706997596",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/28044#issuecomment-1706997596",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/28044",
    "id": 1706997596,
    "node_id": "IC_kwDOAOvK985lvrdc",
    "user": {
      "login": "Deacon77",
      "id": 139610590,
      "node_id": "U_kgDOCFJJ3g",
      "avatar_url": "https://avatars.githubusercontent.com/u/139610590?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Deacon77",
      "html_url": "https://github.com/Deacon77",
      "followers_url": "https://api.github.com/users/Deacon77/followers",
      "following_url": "https://api.github.com/users/Deacon77/following{/other_user}",
      "gists_url": "https://api.github.com/users/Deacon77/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Deacon77/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Deacon77/subscriptions",
      "organizations_url": "https://api.github.com/users/Deacon77/orgs",
      "repos_url": "https://api.github.com/users/Deacon77/repos",
      "events_url": "https://api.github.com/users/Deacon77/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Deacon77/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-09-05T17:10:13Z",
    "updated_at": "2023-09-06T09:42:45Z",
    "author_association": "NONE",
    "body": "﻿﻿﻿﻿﻿﻿cc﻿ ﻿﻿On Sep 5, 2023, at 2:06 AM, Marius van der Wijden ***@***.***> wrote:﻿\r\nClosed #28044 as completed.\r\n\r\n—Reply to this email directly, view it on GitHub, or unsubscribe.You are receiving this because you commented.Message ID: ***@***.***>",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1706997596/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1706997629",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/28044#issuecomment-1706997629",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/28044",
    "id": 1706997629,
    "node_id": "IC_kwDOAOvK985lvrd9",
    "user": {
      "login": "Deacon77",
      "id": 139610590,
      "node_id": "U_kgDOCFJJ3g",
      "avatar_url": "https://avatars.githubusercontent.com/u/139610590?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Deacon77",
      "html_url": "https://github.com/Deacon77",
      "followers_url": "https://api.github.com/users/Deacon77/followers",
      "following_url": "https://api.github.com/users/Deacon77/following{/other_user}",
      "gists_url": "https://api.github.com/users/Deacon77/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Deacon77/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Deacon77/subscriptions",
      "organizations_url": "https://api.github.com/users/Deacon77/orgs",
      "repos_url": "https://api.github.com/users/Deacon77/repos",
      "events_url": "https://api.github.com/users/Deacon77/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Deacon77/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-09-05T17:10:15Z",
    "updated_at": "2023-09-06T09:42:45Z",
    "author_association": "NONE",
    "body": "﻿﻿﻿﻿﻿﻿﻿cc﻿ ﻿﻿On Sep 5, 2023, at 2:06 AM, Marius van der Wijden ***@***.***> wrote:﻿\r\nClosed #28044 as completed.\r\n\r\n—Reply to this email directly, view it on GitHub, or unsubscribe.You are receiving this because you commented.Message ID: ***@***.***>",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/1706997629/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
