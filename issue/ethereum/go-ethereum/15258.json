{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15258",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15258/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15258/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15258/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/15258",
  "id": 263626828,
  "node_id": "MDU6SXNzdWUyNjM2MjY4Mjg=",
  "number": 15258,
  "title": "Shh_post invalid id result",
  "user": {
    "login": "hacktar",
    "id": 11939542,
    "node_id": "MDQ6VXNlcjExOTM5NTQy",
    "avatar_url": "https://avatars.githubusercontent.com/u/11939542?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/hacktar",
    "html_url": "https://github.com/hacktar",
    "followers_url": "https://api.github.com/users/hacktar/followers",
    "following_url": "https://api.github.com/users/hacktar/following{/other_user}",
    "gists_url": "https://api.github.com/users/hacktar/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/hacktar/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/hacktar/subscriptions",
    "organizations_url": "https://api.github.com/users/hacktar/orgs",
    "repos_url": "https://api.github.com/users/hacktar/repos",
    "events_url": "https://api.github.com/users/hacktar/events{/privacy}",
    "received_events_url": "https://api.github.com/users/hacktar/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 856638432,
      "node_id": "MDU6TGFiZWw4NTY2Mzg0MzI=",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/status:inactive",
      "name": "status:inactive",
      "color": "ffffff",
      "default": false,
      "description": null
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2017-10-07T08:41:56Z",
  "updated_at": "2019-04-27T18:23:12Z",
  "closed_at": "2019-04-27T18:23:12Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nGeth version: `<= 1.7.1 `\r\nOS & Version: Windows/Linux/OSX\r\n\r\n#### Expected behaviour\r\nshh.post a message\r\n\r\n#### Actual behaviour\r\nshh.post message with symkey receive invalid id result\r\n\r\n\r\n#### Steps to reproduce the behaviour\r\nRequest:\r\n````\r\n{\r\n\t\"jsonrpc\": \"2.0\",\r\n\t\"id\": 22,\r\n\t\"method\": \"shh_post\",\r\n\t\"params\": [{\r\n\t\t\"symKeyId\": \"6d328fba5e63f59d27e56fe5a37aa6862b8da0571b4443340c0d12c6bf0430ec\",\r\n\t\t\"ttl\": 20,\r\n\t\t\"sig\": \"0x0478205537d216a03419e06c9fc060cec833b85db56736298007315a268743def3c32c96ae3ad053af4ce1687a413815d80528b71d6132c6dba2eeea732013ed89\",\r\n\t\t\"topic\": \"0xb60cbc19\",\r\n\t\t\"payload\": \"0x73656e642073796d6d6574726963616c6c7920656e637279707465642c207369676e6564206d65737361676520286e6f646531202d3e206e6f64653129\",\r\n\t\t\"powTime\": 3,\r\n\t\t\"powTarget\": 0.1\r\n\t}]\r\n}\r\n````\r\nResult:\r\n````\r\n{\r\n\t\"jsonrpc\": \"2.0\",\r\n\t\"id\": 22,\r\n\t\"error\": {\r\n\t\t\"code\": -32000,\r\n\t\t\"message\": \"invalid id\"\r\n\t}\r\n}\r\n````\r\n#### Comments\r\n\r\n````\r\nWhich id? \r\nCould we have a working example with symkey, even for unencrypted message?\r\n````",
  "closed_by": {
    "login": "stale[bot]",
    "id": 26384082,
    "node_id": "MDM6Qm90MjYzODQwODI=",
    "avatar_url": "https://avatars.githubusercontent.com/in/1724?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/stale%5Bbot%5D",
    "html_url": "https://github.com/apps/stale",
    "followers_url": "https://api.github.com/users/stale%5Bbot%5D/followers",
    "following_url": "https://api.github.com/users/stale%5Bbot%5D/following{/other_user}",
    "gists_url": "https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/stale%5Bbot%5D/subscriptions",
    "organizations_url": "https://api.github.com/users/stale%5Bbot%5D/orgs",
    "repos_url": "https://api.github.com/users/stale%5Bbot%5D/repos",
    "events_url": "https://api.github.com/users/stale%5Bbot%5D/events{/privacy}",
    "received_events_url": "https://api.github.com/users/stale%5Bbot%5D/received_events",
    "type": "Bot",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15258/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15258/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/336824804",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15258#issuecomment-336824804",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15258",
    "id": 336824804,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNjgyNDgwNA==",
    "user": {
      "login": "nkbai",
      "id": 10471399,
      "node_id": "MDQ6VXNlcjEwNDcxMzk5",
      "avatar_url": "https://avatars.githubusercontent.com/u/10471399?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nkbai",
      "html_url": "https://github.com/nkbai",
      "followers_url": "https://api.github.com/users/nkbai/followers",
      "following_url": "https://api.github.com/users/nkbai/following{/other_user}",
      "gists_url": "https://api.github.com/users/nkbai/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nkbai/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nkbai/subscriptions",
      "organizations_url": "https://api.github.com/users/nkbai/orgs",
      "repos_url": "https://api.github.com/users/nkbai/repos",
      "events_url": "https://api.github.com/users/nkbai/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nkbai/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-16T09:01:53Z",
    "updated_at": "2017-10-16T09:01:53Z",
    "author_association": "CONTRIBUTOR",
    "body": "this error means geth cannot find private key to encrypt your message.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/336824804/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/336825220",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15258#issuecomment-336825220",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15258",
    "id": 336825220,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNjgyNTIyMA==",
    "user": {
      "login": "nkbai",
      "id": 10471399,
      "node_id": "MDQ6VXNlcjEwNDcxMzk5",
      "avatar_url": "https://avatars.githubusercontent.com/u/10471399?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nkbai",
      "html_url": "https://github.com/nkbai",
      "followers_url": "https://api.github.com/users/nkbai/followers",
      "following_url": "https://api.github.com/users/nkbai/following{/other_user}",
      "gists_url": "https://api.github.com/users/nkbai/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nkbai/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nkbai/subscriptions",
      "organizations_url": "https://api.github.com/users/nkbai/orgs",
      "repos_url": "https://api.github.com/users/nkbai/repos",
      "events_url": "https://api.github.com/users/nkbai/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nkbai/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-16T09:03:31Z",
    "updated_at": "2017-10-16T09:03:31Z",
    "author_association": "CONTRIBUTOR",
    "body": "var identities = [];\r\nvar subscription = null;\r\n\r\nPromise.all([\r\n    web3.shh.newSymKey().then((id) => {identities.push(id);}),\r\n    web3.shh.newKeyPair().then((id) => {identities.push(id);})]\r\n\r\n).then(() => {\r\n\r\n    // will receive also its own message send, below\r\n    subscription = shh.subscribe(\"messages\", {\r\n        symKeyID: identities[0],\r\n        topics: ['0xffaadd11']\r\n    }).on('data', console.log);\r\n\r\n}).then(() => {\r\n   shh.post({\r\n        symKeyID: identities[0], // encrypts using the sym key ID\r\n        sig: identities[1], // signs the message using the keyPair ID\r\n        ttl: 10,\r\n        topic: '0xffaadd11',\r\n        payload: '0xffffffdddddd1122',\r\n        powTime: 3,\r\n        powTarget: 0.5\r\n    })\r\n});",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/336825220/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/373440550",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15258#issuecomment-373440550",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15258",
    "id": 373440550,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MzQ0MDU1MA==",
    "user": {
      "login": "REPTILEHAUS",
      "id": 4680621,
      "node_id": "MDQ6VXNlcjQ2ODA2MjE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4680621?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/REPTILEHAUS",
      "html_url": "https://github.com/REPTILEHAUS",
      "followers_url": "https://api.github.com/users/REPTILEHAUS/followers",
      "following_url": "https://api.github.com/users/REPTILEHAUS/following{/other_user}",
      "gists_url": "https://api.github.com/users/REPTILEHAUS/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/REPTILEHAUS/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/REPTILEHAUS/subscriptions",
      "organizations_url": "https://api.github.com/users/REPTILEHAUS/orgs",
      "repos_url": "https://api.github.com/users/REPTILEHAUS/repos",
      "events_url": "https://api.github.com/users/REPTILEHAUS/events{/privacy}",
      "received_events_url": "https://api.github.com/users/REPTILEHAUS/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-15T16:35:07Z",
    "updated_at": "2018-03-15T16:35:07Z",
    "author_association": "NONE",
    "body": "Hitting this error too, any luck resolving it ?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/373440550/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/473567499",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15258#issuecomment-473567499",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15258",
    "id": 473567499,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3MzU2NzQ5OQ==",
    "user": {
      "login": "stale[bot]",
      "id": 26384082,
      "node_id": "MDM6Qm90MjYzODQwODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/1724?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stale%5Bbot%5D",
      "html_url": "https://github.com/apps/stale",
      "followers_url": "https://api.github.com/users/stale%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/stale%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stale%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/stale%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/stale%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/stale%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stale%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2019-03-16T17:26:02Z",
    "updated_at": "2019-03-16T17:26:02Z",
    "author_association": "NONE",
    "body": "This issue has been automatically marked as stale because it has not had recent activity. It will be closed if no further activity occurs. Thank you for your contributions.\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/473567499/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
