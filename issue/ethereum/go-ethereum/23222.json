{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23222",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23222/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23222/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23222/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/23222",
  "id": 946058158,
  "node_id": "MDU6SXNzdWU5NDYwNTgxNTg=",
  "number": 23222,
  "title": "BAD BLOCK error: invalid merkle root",
  "user": {
    "login": "diglos",
    "id": 16838272,
    "node_id": "MDQ6VXNlcjE2ODM4Mjcy",
    "avatar_url": "https://avatars.githubusercontent.com/u/16838272?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/diglos",
    "html_url": "https://github.com/diglos",
    "followers_url": "https://api.github.com/users/diglos/followers",
    "following_url": "https://api.github.com/users/diglos/following{/other_user}",
    "gists_url": "https://api.github.com/users/diglos/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/diglos/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/diglos/subscriptions",
    "organizations_url": "https://api.github.com/users/diglos/orgs",
    "repos_url": "https://api.github.com/users/diglos/repos",
    "events_url": "https://api.github.com/users/diglos/events{/privacy}",
    "received_events_url": "https://api.github.com/users/diglos/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 72233650,
      "node_id": "MDU6TGFiZWw3MjIzMzY1MA==",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:bug",
      "name": "type:bug",
      "color": "FF5E5E",
      "default": false,
      "description": ""
    },
    {
      "id": 1132754722,
      "node_id": "MDU6TGFiZWwxMTMyNzU0NzIy",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/need:more-information",
      "name": "need:more-information",
      "color": "db6fa3",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2021-07-16T08:20:30Z",
  "updated_at": "2021-08-28T09:16:32Z",
  "closed_at": "2021-08-28T09:16:32Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nGeth version: `1.10.5`\r\nOS & Version: Ubuntu 20.04/Linux ARM 64\r\n\r\n#### Expected behaviour\r\n\r\nKeep in sync with the rest of the network\r\n\r\n#### Actual behaviour\r\n\r\nWe are getting a BAD BLOCK error after upgrading to 1.10.5. It may be a DB corruption but it happened right after the update. We are doing a fresh sync in another device to check if we get this error again.\r\n\r\nDid the Go version change for this release? I asked because it may be related to ARM arch as well, see: #19754\r\n\r\n#### Steps to reproduce the behaviour\r\n\r\nUpdate from 1.10.4 to 1.10.5\r\n\r\n#### Backtrace\r\n\r\n[geth-bad-block-invalid-merkletree-20210716.txt](https://github.com/ethereum/go-ethereum/files/6829063/geth-bad-block-invalid-merkletree-20210716.txt)\r\n",
  "closed_by": {
    "login": "no-response[bot]",
    "id": 32965360,
    "node_id": "MDM6Qm90MzI5NjUzNjA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/26350515?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/no-response%5Bbot%5D",
    "html_url": "https://github.com/apps/no-response",
    "followers_url": "https://api.github.com/users/no-response%5Bbot%5D/followers",
    "following_url": "https://api.github.com/users/no-response%5Bbot%5D/following{/other_user}",
    "gists_url": "https://api.github.com/users/no-response%5Bbot%5D/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/no-response%5Bbot%5D/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/no-response%5Bbot%5D/subscriptions",
    "organizations_url": "https://api.github.com/users/no-response%5Bbot%5D/orgs",
    "repos_url": "https://api.github.com/users/no-response%5Bbot%5D/repos",
    "events_url": "https://api.github.com/users/no-response%5Bbot%5D/events{/privacy}",
    "received_events_url": "https://api.github.com/users/no-response%5Bbot%5D/received_events",
    "type": "Bot",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23222/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23222/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/882642867",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23222#issuecomment-882642867",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23222",
    "id": 882642867,
    "node_id": "IC_kwDOAOvK9840nA-z",
    "user": {
      "login": "AusIV",
      "id": 977954,
      "node_id": "MDQ6VXNlcjk3Nzk1NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/977954?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AusIV",
      "html_url": "https://github.com/AusIV",
      "followers_url": "https://api.github.com/users/AusIV/followers",
      "following_url": "https://api.github.com/users/AusIV/following{/other_user}",
      "gists_url": "https://api.github.com/users/AusIV/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AusIV/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AusIV/subscriptions",
      "organizations_url": "https://api.github.com/users/AusIV/orgs",
      "repos_url": "https://api.github.com/users/AusIV/repos",
      "events_url": "https://api.github.com/users/AusIV/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AusIV/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-19T15:28:55Z",
    "updated_at": "2021-07-19T15:28:55Z",
    "author_association": "CONTRIBUTOR",
    "body": "I might suggest setting `--syncmode=full --snapshot=false` and see if that fixes it. I run a bunch of nodes, and lately I've been getting BAD BLOCK errors, but disabling snapshots solves the problem. (I've not reported this myself because I'm running a fork of Geth that I believe to be introducing the mismatch between the snapshot and the chain, but it looks similar enough that those flags might solve your problem).",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/882642867/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/888909951",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23222#issuecomment-888909951",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23222",
    "id": 888909951,
    "node_id": "IC_kwDOAOvK9840-7B_",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-29T08:23:14Z",
    "updated_at": "2021-07-29T08:23:14Z",
    "author_association": "MEMBER",
    "body": "Have snapshots finished generating?\r\n\r\nCan you try `geth snapshot verify-state`?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/888909951/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/907598910",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/23222#issuecomment-907598910",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/23222",
    "id": 907598910,
    "node_id": "IC_kwDOAOvK9842GNw-",
    "user": {
      "login": "no-response[bot]",
      "id": 32965360,
      "node_id": "MDM6Qm90MzI5NjUzNjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/26350515?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/no-response%5Bbot%5D",
      "html_url": "https://github.com/apps/no-response",
      "followers_url": "https://api.github.com/users/no-response%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/no-response%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/no-response%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/no-response%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/no-response%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/no-response%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/no-response%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/no-response%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/no-response%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2021-08-28T09:16:31Z",
    "updated_at": "2021-08-28T09:16:31Z",
    "author_association": "NONE",
    "body": "This issue has been automatically closed because there has been no response to our request for more information from the original author. With only the information that is currently in the issue, we don't have enough information to take action. Please reach out if you have more relevant information or answers to our questions so that we can investigate further.\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/907598910/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
