{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22914",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22914/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22914/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22914/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/22914",
  "id": 897126109,
  "node_id": "MDU6SXNzdWU4OTcxMjYxMDk=",
  "number": 22914,
  "title": "Error Bad Block #12464643",
  "user": {
    "login": "mikel2000",
    "id": 7446969,
    "node_id": "MDQ6VXNlcjc0NDY5Njk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/7446969?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/mikel2000",
    "html_url": "https://github.com/mikel2000",
    "followers_url": "https://api.github.com/users/mikel2000/followers",
    "following_url": "https://api.github.com/users/mikel2000/following{/other_user}",
    "gists_url": "https://api.github.com/users/mikel2000/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/mikel2000/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mikel2000/subscriptions",
    "organizations_url": "https://api.github.com/users/mikel2000/orgs",
    "repos_url": "https://api.github.com/users/mikel2000/repos",
    "events_url": "https://api.github.com/users/mikel2000/events{/privacy}",
    "received_events_url": "https://api.github.com/users/mikel2000/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 72233650,
      "node_id": "MDU6TGFiZWw3MjIzMzY1MA==",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:bug",
      "name": "type:bug",
      "color": "FF5E5E",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2021-05-20T16:55:21Z",
  "updated_at": "2021-05-25T17:36:34Z",
  "closed_at": "2021-05-25T15:49:35Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\r\nVersion: 1.10.1-stable\r\nGit Commit: c2d2f4ed8f232bb11663a1b01a2e578aa22f24bd\r\nGit Commit Date: 20210308\r\nArchitecture: amd64\r\nGo Version: go1.16\r\nOperating System: linux\r\nGOPATH=\r\nGOROOT=go\r\n\r\n#### Actual behaviour\r\nFor block 12464643 the error \"bad block\" occurred. Afterwards geth stopped importing new chain segments and seemed to start syncing. As I didn't see any progress, I shutdown geth, removed .ethereum and started syncing from scratch. Syncing worked without problems.\r\n\r\nThe following error messages repeated until I stopped geth.\r\n```\r\n########## BAD BLOCK #########\r\nChain config: {ChainID: 1 Homestead: 1150000 DAO: 1920000 DAOSupport: true EIP150: 2463000 EIP155: 2675000 EIP158: 2675000 Byzantium: 4370000 Constantinople: 7280000 Petersburg: 7280000 Istanbul: 9069000, Muir Glacier: 9200000, Berlin: 12244000, YOLO v3: <nil>, Engine: ethash}\r\n\r\nNumber: 12464643\r\nHash: 0x827a753065f8342852301738c3d053d99dd98d2418ea21219b6d698f4cc78c0e\r\n...\r\nError: invalid merkle root (remote: 66b393ca30a4886d6ad6be051263bae65356bd5878898bba48bb2fc22dafe623 local: 17e141c1347d04026c0684327ece140e378f40189a703d66b9fd1133bb67aac1)\r\n##############################\r\n```",
  "closed_by": {
    "login": "MariusVanDerWijden",
    "id": 16664698,
    "node_id": "MDQ6VXNlcjE2NjY0Njk4",
    "avatar_url": "https://avatars.githubusercontent.com/u/16664698?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/MariusVanDerWijden",
    "html_url": "https://github.com/MariusVanDerWijden",
    "followers_url": "https://api.github.com/users/MariusVanDerWijden/followers",
    "following_url": "https://api.github.com/users/MariusVanDerWijden/following{/other_user}",
    "gists_url": "https://api.github.com/users/MariusVanDerWijden/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/MariusVanDerWijden/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/MariusVanDerWijden/subscriptions",
    "organizations_url": "https://api.github.com/users/MariusVanDerWijden/orgs",
    "repos_url": "https://api.github.com/users/MariusVanDerWijden/repos",
    "events_url": "https://api.github.com/users/MariusVanDerWijden/events{/privacy}",
    "received_events_url": "https://api.github.com/users/MariusVanDerWijden/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22914/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22914/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/847933588",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22914#issuecomment-847933588",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22914",
    "id": 847933588,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg0NzkzMzU4OA==",
    "user": {
      "login": "MariusVanDerWijden",
      "id": 16664698,
      "node_id": "MDQ6VXNlcjE2NjY0Njk4",
      "avatar_url": "https://avatars.githubusercontent.com/u/16664698?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MariusVanDerWijden",
      "html_url": "https://github.com/MariusVanDerWijden",
      "followers_url": "https://api.github.com/users/MariusVanDerWijden/followers",
      "following_url": "https://api.github.com/users/MariusVanDerWijden/following{/other_user}",
      "gists_url": "https://api.github.com/users/MariusVanDerWijden/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MariusVanDerWijden/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MariusVanDerWijden/subscriptions",
      "organizations_url": "https://api.github.com/users/MariusVanDerWijden/orgs",
      "repos_url": "https://api.github.com/users/MariusVanDerWijden/repos",
      "events_url": "https://api.github.com/users/MariusVanDerWijden/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MariusVanDerWijden/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-05-25T14:48:14Z",
    "updated_at": "2021-05-25T14:48:14Z",
    "author_association": "MEMBER",
    "body": "Weird. This seems to be the following block: https://etherscan.io/block/12464643 it looks like your data directory was fried. Does it work now after resyncing? Do you have some startup logs for the node (it should log unclean shutdowns which can potentially fry your database)",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/847933588/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/847966992",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22914#issuecomment-847966992",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22914",
    "id": 847966992,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg0Nzk2Njk5Mg==",
    "user": {
      "login": "mikel2000",
      "id": 7446969,
      "node_id": "MDQ6VXNlcjc0NDY5Njk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7446969?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mikel2000",
      "html_url": "https://github.com/mikel2000",
      "followers_url": "https://api.github.com/users/mikel2000/followers",
      "following_url": "https://api.github.com/users/mikel2000/following{/other_user}",
      "gists_url": "https://api.github.com/users/mikel2000/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mikel2000/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mikel2000/subscriptions",
      "organizations_url": "https://api.github.com/users/mikel2000/orgs",
      "repos_url": "https://api.github.com/users/mikel2000/repos",
      "events_url": "https://api.github.com/users/mikel2000/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mikel2000/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-05-25T15:23:39Z",
    "updated_at": "2021-05-25T15:23:39Z",
    "author_association": "NONE",
    "body": "> Does it work now after resyncing? \r\n\r\nYes, after syncing from scratch, it works without problems.\r\n\r\n> Do you have some startup logs for the node (it should log unclean shutdowns which can potentially fry your database)\r\n\r\nI had a look at the log, which I saved before starting the new sync. I didn't find an \"unclean shutdown\". Is this the exact wording I should look for in the log? \r\n\r\nObviously I tried to start geth, although it was already running. This resulted in the error \"Fatal: Failed to create the protocol stack: datadir already used by another process\". This sounds for me, as this couldn't have caused the corruption.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/847966992/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/847986365",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22914#issuecomment-847986365",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22914",
    "id": 847986365,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg0Nzk4NjM2NQ==",
    "user": {
      "login": "MariusVanDerWijden",
      "id": 16664698,
      "node_id": "MDQ6VXNlcjE2NjY0Njk4",
      "avatar_url": "https://avatars.githubusercontent.com/u/16664698?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MariusVanDerWijden",
      "html_url": "https://github.com/MariusVanDerWijden",
      "followers_url": "https://api.github.com/users/MariusVanDerWijden/followers",
      "following_url": "https://api.github.com/users/MariusVanDerWijden/following{/other_user}",
      "gists_url": "https://api.github.com/users/MariusVanDerWijden/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MariusVanDerWijden/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MariusVanDerWijden/subscriptions",
      "organizations_url": "https://api.github.com/users/MariusVanDerWijden/orgs",
      "repos_url": "https://api.github.com/users/MariusVanDerWijden/repos",
      "events_url": "https://api.github.com/users/MariusVanDerWijden/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MariusVanDerWijden/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-05-25T15:48:34Z",
    "updated_at": "2021-05-25T15:49:34Z",
    "author_association": "MEMBER",
    "body": "No the \"datadir already used by another process\" error can't cause a corruption.\r\nYeah, the nodes prints something like this on startup\r\n ```\r\n WARN [05-25|17:47:53.819] Unclean shutdown detected                booted=2020-12-28T14:21:51+0100 age=4mo4w2h\r\nWARN [05-25|17:47:53.819] Unclean shutdown detected                booted=2021-01-27T13:29:20+0100 age=3mo4w3h\r\nWARN [05-25|17:47:53.819] Unclean shutdown detected                booted=2021-01-27T13:36:25+0100 age=3mo4w3h\r\nWARN [05-25|17:47:53.819] Unclean shutdown detected                booted=2021-02-26T14:30:25+0100 age=2mo4w2h\r\n```\r\nBut if you don't have the beginning in the log anymore, then you won't find it. \r\nThanks for replying! since everything works now, I'll close the issue, ok?\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/847986365/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/848076776",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/22914#issuecomment-848076776",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/22914",
    "id": 848076776,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg0ODA3Njc3Ng==",
    "user": {
      "login": "mikel2000",
      "id": 7446969,
      "node_id": "MDQ6VXNlcjc0NDY5Njk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7446969?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mikel2000",
      "html_url": "https://github.com/mikel2000",
      "followers_url": "https://api.github.com/users/mikel2000/followers",
      "following_url": "https://api.github.com/users/mikel2000/following{/other_user}",
      "gists_url": "https://api.github.com/users/mikel2000/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mikel2000/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mikel2000/subscriptions",
      "organizations_url": "https://api.github.com/users/mikel2000/orgs",
      "repos_url": "https://api.github.com/users/mikel2000/repos",
      "events_url": "https://api.github.com/users/mikel2000/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mikel2000/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-05-25T17:36:34Z",
    "updated_at": "2021-05-25T17:36:34Z",
    "author_association": "NONE",
    "body": "> But if you don't have the beginning in the log anymore, then you won't find it.\r\n\r\nI have the beginning in the log, but I didn't find an unclean shutdown message.\r\n\r\nCould the corruption also be caused by a SSD hardware problem? If so, any hints, how I could check the integrity of the SSDs (on CentOS)? Thanks!\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/848076776/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
