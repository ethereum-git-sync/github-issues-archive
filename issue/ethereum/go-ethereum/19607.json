{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19607",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19607/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19607/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19607/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/19607",
  "id": 446839862,
  "node_id": "MDU6SXNzdWU0NDY4Mzk4NjI=",
  "number": 19607,
  "title": "Feature request: EthClient support for SubscribePendingTransactions ",
  "user": {
    "login": "Sexual",
    "id": 8002719,
    "node_id": "MDQ6VXNlcjgwMDI3MTk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/8002719?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Sexual",
    "html_url": "https://github.com/Sexual",
    "followers_url": "https://api.github.com/users/Sexual/followers",
    "following_url": "https://api.github.com/users/Sexual/following{/other_user}",
    "gists_url": "https://api.github.com/users/Sexual/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Sexual/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Sexual/subscriptions",
    "organizations_url": "https://api.github.com/users/Sexual/orgs",
    "repos_url": "https://api.github.com/users/Sexual/repos",
    "events_url": "https://api.github.com/users/Sexual/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Sexual/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 72233652,
      "node_id": "MDU6TGFiZWw3MjIzMzY1Mg==",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:feature",
      "name": "type:feature",
      "color": "84b6eb",
      "default": false,
      "description": null
    },
    {
      "id": 1132754722,
      "node_id": "MDU6TGFiZWwxMTMyNzU0NzIy",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/need:more-information",
      "name": "need:more-information",
      "color": "db6fa3",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2019-05-21T21:45:54Z",
  "updated_at": "2019-08-29T10:17:08Z",
  "closed_at": "2019-08-29T10:17:08Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "There is a comment with a \"todo\" for this. Any plans on implementing it? ",
  "closed_by": {
    "login": "no-response[bot]",
    "id": 32965360,
    "node_id": "MDM6Qm90MzI5NjUzNjA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/26350515?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/no-response%5Bbot%5D",
    "html_url": "https://github.com/apps/no-response",
    "followers_url": "https://api.github.com/users/no-response%5Bbot%5D/followers",
    "following_url": "https://api.github.com/users/no-response%5Bbot%5D/following{/other_user}",
    "gists_url": "https://api.github.com/users/no-response%5Bbot%5D/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/no-response%5Bbot%5D/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/no-response%5Bbot%5D/subscriptions",
    "organizations_url": "https://api.github.com/users/no-response%5Bbot%5D/orgs",
    "repos_url": "https://api.github.com/users/no-response%5Bbot%5D/repos",
    "events_url": "https://api.github.com/users/no-response%5Bbot%5D/events{/privacy}",
    "received_events_url": "https://api.github.com/users/no-response%5Bbot%5D/received_events",
    "type": "Bot",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19607/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19607/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/496425213",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/19607#issuecomment-496425213",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19607",
    "id": 496425213,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5NjQyNTIxMw==",
    "user": {
      "login": "adamschmideg",
      "id": 208822,
      "node_id": "MDQ6VXNlcjIwODgyMg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/208822?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/adamschmideg",
      "html_url": "https://github.com/adamschmideg",
      "followers_url": "https://api.github.com/users/adamschmideg/followers",
      "following_url": "https://api.github.com/users/adamschmideg/following{/other_user}",
      "gists_url": "https://api.github.com/users/adamschmideg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/adamschmideg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/adamschmideg/subscriptions",
      "organizations_url": "https://api.github.com/users/adamschmideg/orgs",
      "repos_url": "https://api.github.com/users/adamschmideg/repos",
      "events_url": "https://api.github.com/users/adamschmideg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/adamschmideg/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-28T08:49:46Z",
    "updated_at": "2019-05-28T08:49:46Z",
    "author_association": "MEMBER",
    "body": "Referring to https://github.com/ethereum/go-ethereum/blob/master/ethclient/ethclient.go#L444",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/496425213/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/496426500",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/19607#issuecomment-496426500",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19607",
    "id": 496426500,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5NjQyNjUwMA==",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-28T08:53:06Z",
    "updated_at": "2019-05-28T08:53:06Z",
    "author_association": "MEMBER",
    "body": "No, no plans on that. It's very unclear what the caller would expect. \r\nTransactions are internally shuffled between pending and queued quite a lot, and at any time a couple of hundred transactions may be moved from one to the other. and then back again a few seconds later. \r\n\r\nOr is the caller interested in the transactions from the next pending block? Those are re-evaluated about every three seconds, and not really nice either. \r\n\r\nSo, no. Do you have a usecase that you want support for? If so, please elaborate. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/496426500/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/496687123",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/19607#issuecomment-496687123",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19607",
    "id": 496687123,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5NjY4NzEyMw==",
    "user": {
      "login": "Sexual",
      "id": 8002719,
      "node_id": "MDQ6VXNlcjgwMDI3MTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8002719?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sexual",
      "html_url": "https://github.com/Sexual",
      "followers_url": "https://api.github.com/users/Sexual/followers",
      "following_url": "https://api.github.com/users/Sexual/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sexual/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sexual/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sexual/subscriptions",
      "organizations_url": "https://api.github.com/users/Sexual/orgs",
      "repos_url": "https://api.github.com/users/Sexual/repos",
      "events_url": "https://api.github.com/users/Sexual/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sexual/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-28T20:57:38Z",
    "updated_at": "2019-05-28T20:57:38Z",
    "author_association": "NONE",
    "body": "@holiman To simplify our use case, we want to detect when an address receives a transaction/payment before it has confirmed.\r\n\r\nCurrently, our JS implementation uses `web3.eth.filter('pending')`, but the new version utilizes Go. We've tried a \"hacky\" implementation using the below function, and whilst it seemed to work on the Ropsten network, on the main net it would be really delayed.\r\n\r\n```go\r\nfunc (ec *Client) SubscribePendingTransactions(ctx context.Context, ch chan<- string) (ethereum.Subscription, error) {\r\n\treturn ec.c.EthSubscribe(ctx, ch, \"newPendingTransactions\")\r\n}\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/496687123/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/516342302",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/19607#issuecomment-516342302",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19607",
    "id": 516342302,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxNjM0MjMwMg==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-07-30T09:29:53Z",
    "updated_at": "2019-07-30T09:29:53Z",
    "author_association": "MEMBER",
    "body": "There are a few interesting corner cases here that we'd need to consider:\r\n\r\n * If you create a subscription to pending transactions, I guess that would be streaming individual transactions back to you. However, the pending block is continually assembled as transactions come, until it's full, so you won't know when a transaction belongs to a previous or next block. Should we also add inclusion block numbers?\r\n * Some nodes (miners) may periodically (every 3 second) reconstruct blocks to better optimize gas earnings, what happens if the same pending block gets a new set of transactions, what should be streamed.\r\n * The pending block is just a guess as to what transactions might be included in the next 15 seconds. Is that really so valuable? The transactions might disappear, they might get delayed arbitrarilly many blocks, and pending transactions might not even show up in the pendig block if they don't fit yet (e.g. if there are 1000  txs in the pool, but only 200 fits).\r\n * If you want to detect received funds, you might run into interesting issues with contract senders, where the transaction recipient is actually a multi-sig that forwards funds to you. You have no way to detect that unless you have a contract account firing logs, in which case I think you can already subscribe to pending logs.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/516342302/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/526122244",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/19607#issuecomment-526122244",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/19607",
    "id": 526122244,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyNjEyMjI0NA==",
    "user": {
      "login": "no-response[bot]",
      "id": 32965360,
      "node_id": "MDM6Qm90MzI5NjUzNjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/26350515?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/no-response%5Bbot%5D",
      "html_url": "https://github.com/apps/no-response",
      "followers_url": "https://api.github.com/users/no-response%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/no-response%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/no-response%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/no-response%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/no-response%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/no-response%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/no-response%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/no-response%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/no-response%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2019-08-29T10:17:07Z",
    "updated_at": "2019-08-29T10:17:07Z",
    "author_association": "NONE",
    "body": "This issue has been automatically closed because there has been no response to our request for more information from the original author. With only the information that is currently in the issue, we don't have enough information to take action. Please reach out if you have more relevant information or answers to our questions so that we can investigate further.\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/526122244/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
