{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20549",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20549/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20549/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20549/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/20549",
  "id": 549074884,
  "node_id": "MDU6SXNzdWU1NDkwNzQ4ODQ=",
  "number": 20549,
  "title": "Geth 1.9.9 seems to leak memory while mining",
  "user": {
    "login": "lehisnoe",
    "id": 12033768,
    "node_id": "MDQ6VXNlcjEyMDMzNzY4",
    "avatar_url": "https://avatars.githubusercontent.com/u/12033768?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/lehisnoe",
    "html_url": "https://github.com/lehisnoe",
    "followers_url": "https://api.github.com/users/lehisnoe/followers",
    "following_url": "https://api.github.com/users/lehisnoe/following{/other_user}",
    "gists_url": "https://api.github.com/users/lehisnoe/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/lehisnoe/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/lehisnoe/subscriptions",
    "organizations_url": "https://api.github.com/users/lehisnoe/orgs",
    "repos_url": "https://api.github.com/users/lehisnoe/repos",
    "events_url": "https://api.github.com/users/lehisnoe/events{/privacy}",
    "received_events_url": "https://api.github.com/users/lehisnoe/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 15,
  "created_at": "2020-01-13T17:25:46Z",
  "updated_at": "2021-07-01T07:18:10Z",
  "closed_at": "2020-02-19T07:53:33Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\r\n\r\nVersion: 1.9.9-stable\r\nGit Commit: 017449971e1e9e220efcd97d3313a0e27f47003b\r\nArchitecture: amd64\r\nProtocol Versions: [64 63]\r\nGo Version: go1.13.4\r\nOperating System: linux\r\n\r\n#### Expected behaviour\r\n\r\nNodes should run without crashes.\r\n\r\n#### Actual behaviour\r\nI run 2 geth nodes for mining purposes. Just after upgrade to 1.9.9 they've started crashing with 'out of memory' error. There is 32GB RAM on each server, the config hasn't changed. Nodes run under systemd:\r\n```\r\n[Service]\r\nType=simple\r\nExecStart=/usr/bin/geth --mine --etherbase=0x... --rpcvhosts=* --rpc --rpcport 1234 --rpcaddr 0.0.0.0 --rpccorsdomain \"*\" --rpcapi \"eth,net,web3,txpool,miner\" --maxpeers \"150\" --cache \"8192\"  --txpool.globalslots 1024 --txpool.globalqueue 256\r\nExecReload=/bin/kill -HUP $MAINPID\r\nKillSignal=TERM\r\nRestart=on-failure\r\nRestartSec=15s\r\nLimitNOFILE=32768\r\nLimitAS=26843545600\r\n```\r\n#### Backtrace\r\n```\r\nJan 13 07:51:21 eu geth[11356]: INFO [01-13|07:51:21.414] Successfully sealed new block            number=9271359 sealhash=5d389fâ€¦27b763 hash=dd62bfâ€¦9185f6 elapsed=2.242s\r\nJan 13 07:51:21 eu geth[11356]: INFO [01-13|07:51:21.414] ðŸ”¨ mined potential block                  number=9271359 hash=dd62bfâ€¦9185f6\r\nJan 13 07:51:21 eu geth[11356]: INFO [01-13|07:51:21.415] Commit new mining work                   number=9271360 sealhash=7fcc57â€¦d050c7 uncles=0 txs=0     gas=0       fees=\r\n0              elapsed=481.049Âµs\r\nJan 13 07:51:21 eu geth[11356]: INFO [01-13|07:51:21.426] Commit new mining work                   number=9271360 sealhash=040c0câ€¦5de728 uncles=0 txs=16    gas=756860  fees=\r\n0.0122152808   elapsed=11.580ms\r\nJan 13 07:51:23 eu geth[11356]: ERROR[01-13|07:51:23.140] Failed to generate mapped ethash dataset epoch=310 err=\"cannot allocate memory\"\r\nJan 13 07:51:23 eu geth[11356]: runtime: out of memory: cannot allocate 7348420608-byte block (14074249216 in use)\r\nJan 13 07:51:23 eu geth[11356]: fatal error: out of memory\r\nJan 13 07:51:23 eu geth[11356]: runtime stack:\r\nJan 13 07:51:23 eu geth[11356]: runtime.throw(0x116068a, 0xd)\r\nJan 13 07:51:23 eu geth[11356]: #011/build/ethereum-Bq7Cjd/.go/src/runtime/panic.go:774 +0x72\r\nJan 13 07:51:23 eu geth[11356]: runtime.largeAlloc(0x1b5ffed00, 0x1ed0101, 0x7f5f4c8332a8)\r\nJan 13 07:51:23 eu geth[11356]: #011/build/ethereum-Bq7Cjd/.go/src/runtime/malloc.go:1140 +0x16a\r\nJan 13 07:51:23 eu geth[11356]: runtime.mallocgc.func1()\r\nJan 13 07:51:23 eu geth[11356]: #011/build/ethereum-Bq7Cjd/.go/src/runtime/malloc.go:1033 +0x46\r\nJan 13 07:51:23 eu geth[11356]: runtime.systemstack(0x0)\r\nJan 13 07:51:23 eu geth[11356]: #011/build/ethereum-Bq7Cjd/.go/src/runtime/asm_amd64.s:370 +0x66\r\nJan 13 07:51:23 eu geth[11356]: runtime.mstart()\r\nJan 13 07:51:23 eu geth[11356]: #011/build/ethereum-Bq7Cjd/.go/src/runtime/proc.go:1146\r\nJan 13 07:51:23 eu geth[11356]: goroutine 2116805 [running]:\r\nJan 13 07:51:23 eu geth[11356]: runtime.systemstack_switch()\r\nJan 13 07:51:23 eu geth[11356]: #011/build/ethereum-Bq7Cjd/.go/src/runtime/asm_amd64.s:330 fp=0xc0271c1b78 sp=0xc0271c1b70 pc=0x473280\r\nJan 13 07:51:23 eu geth[11356]: runtime.mallocgc(0x1b5ffed00, 0xf87ec0, 0x1, 0x2)\r\nJan 13 07:51:23 eu geth[11356]: #011/build/ethereum-Bq7Cjd/.go/src/runtime/malloc.go:1032 +0x895 fp=0xc0271c1c18 sp=0xc0271c1b78 pc=0x422265\r\nJan 13 07:51:23 eu geth[11356]: runtime.makeslice(0xf87ec0, 0x6d7ffb40, 0x6d7ffb40, 0xc1892bcfc0)\r\nJan 13 07:51:23 eu geth[11356]: #011/build/ethereum-Bq7Cjd/.go/src/runtime/slice.go:49 +0x6c fp=0xc0271c1c48 sp=0xc0271c1c18 pc=0x45bd6c\r\nJan 13 07:51:23 eu geth[11356]: github.com/ethereum/go-ethereum/consensus/ethash.(*dataset).generate.func1()\r\nJan 13 07:51:23 eu geth[11356]: #011/build/ethereum-Bq7Cjd/ethereum-1.9.9+build20761+bionic/build/_workspace/src/github.com/ethereum/go-ethereum/consensus/ethash/ethash.go:3\r\n44 +0x87a fp=0xc0271c1e98 sp=0xc0271c1c48 pc=0xafcdea\r\nJan 13 07:51:23 eu geth[11356]: sync.(*Once).doSlow(0xc07aa58180, 0xc15eef2f48)\r\nJan 13 07:51:23 eu geth[11356]: #011/build/ethereum-Bq7Cjd/.go/src/sync/once.go:66 +0xe3 fp=0xc0271c1f38 sp=0xc0271c1e98 pc=0x493603\r\nJan 13 07:51:23 eu geth[11356]: sync.(*Once).Do(...)\r\nJan 13 07:51:23 eu geth[11356]: #011/build/ethereum-Bq7Cjd/.go/src/sync/once.go:57\r\nJan 13 07:51:23 eu geth[11356]: github.com/ethereum/go-ethereum/consensus/ethash.(*dataset).generate(0xc07aa58140, 0xc0002ab5d0, 0xd, 0x2, 0x0)\r\nJan 13 07:51:23 eu geth[11356]: #011/build/ethereum-Bq7Cjd/ethereum-1.9.9+build20761+bionic/build/_workspace/src/github.com/ethereum/go-ethereum/consensus/ethash/ethash.go:2\r\n94 +0x9a fp=0xc0271c1f88 sp=0xc0271c1f38 pc=0xaf464a\r\nJan 13 07:51:23 eu geth[11356]: github.com/ethereum/go-ethereum/consensus/ethash.(*Ethash).dataset.func1(0xc07aa580f0, 0xc0001e2c30, 0x100aaa0, 0xc07aa58140)\r\nJan 13 07:51:23 eu geth[11356]: #011/build/ethereum-Bq7Cjd/ethereum-1.9.9+build20761+bionic/build/_workspace/src/github.com/ethereum/go-ethereum/consensus/ethash/ethash.go:5\r\n81 +0xa7 fp=0xc0271c1fc0 sp=0xc0271c1f88 pc=0xafd4c7\r\nJan 13 07:51:23 eu geth[11356]: runtime.goexit()\r\nJan 13 07:51:23 eu geth[11356]: #011/build/ethereum-Bq7Cjd/.go/src/runtime/asm_amd64.s:1357 +0x1 fp=0xc0271c1fc8 sp=0xc0271c1fc0 pc=0x475351\r\nJan 13 07:51:23 eu geth[11356]: created by github.com/ethereum/go-ethereum/consensus/ethash.(*Ethash).dataset\r\nJan 13 07:51:23 eu geth[11356]: #011/build/ethereum-Bq7Cjd/ethereum-1.9.9+build20761+bionic/build/_workspace/src/github.com/ethereum/go-ethereum/consensus/ethash/ethash.go:5\r\n76 +0xc5\r\nJan 13 07:51:23 eu geth[11356]: goroutine 1 [chan receive, 90 minutes]:\r\nJan 13 07:51:23 eu geth[11356]: github.com/ethereum/go-ethereum/node.(*Node).Wait(0xc0000edb80)\r\n...\r\n```\r\nFull log available [here](http://tmp.lehis.ru/tmp/geth.txt)\r\nHow I can fix it?\r\n",
  "closed_by": {
    "login": "karalabe",
    "id": 129561,
    "node_id": "MDQ6VXNlcjEyOTU2MQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/karalabe",
    "html_url": "https://github.com/karalabe",
    "followers_url": "https://api.github.com/users/karalabe/followers",
    "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
    "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
    "organizations_url": "https://api.github.com/users/karalabe/orgs",
    "repos_url": "https://api.github.com/users/karalabe/repos",
    "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
    "received_events_url": "https://api.github.com/users/karalabe/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20549/reactions",
    "total_count": 1,
    "+1": 1,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20549/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/574619516",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/20549#issuecomment-574619516",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20549",
    "id": 574619516,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3NDYxOTUxNg==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-01-15T11:29:47Z",
    "updated_at": "2020-01-15T11:31:06Z",
    "author_association": "MEMBER",
    "body": "Geth tries to memory map a file to generate the next mining DAG and the OS refuses to grant it.\r\n\r\nAccording to https://www.freedesktop.org/software/systemd/man/systemd.exec.html, `LimitAS` sets the `virtual` memory limit (`ulimit -v`), which also acts as a limit on mmap. Essentially (by setting `LimitAS=26843545600`) you are limiting the address space Geth can use, even if that much memory is never actually consumed.\r\n\r\n> RLIMIT_AS The maximum size of the process's virtual memory (address space) in bytes. This limit affects calls to brk(2), mmap(2) and mremap(2), which fail with the error ENOMEM upon exceeding this limit.\r\n\r\nInstead of limiting the virtual address space (which doesn't make much sense really), you should limit the amount of physical memory that you're willing to give Geth (`ulimit -m`). I think this is `LimitRSS` in systemd world.\r\n\r\nMore at https://unix.stackexchange.com/questions/438986/is-setting-ulimit-v-sufficient-to-avoid-memory-leak",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/574619516/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/574632660",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/20549#issuecomment-574632660",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20549",
    "id": 574632660,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3NDYzMjY2MA==",
    "user": {
      "login": "lehisnoe",
      "id": 12033768,
      "node_id": "MDQ6VXNlcjEyMDMzNzY4",
      "avatar_url": "https://avatars.githubusercontent.com/u/12033768?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lehisnoe",
      "html_url": "https://github.com/lehisnoe",
      "followers_url": "https://api.github.com/users/lehisnoe/followers",
      "following_url": "https://api.github.com/users/lehisnoe/following{/other_user}",
      "gists_url": "https://api.github.com/users/lehisnoe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lehisnoe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lehisnoe/subscriptions",
      "organizations_url": "https://api.github.com/users/lehisnoe/orgs",
      "repos_url": "https://api.github.com/users/lehisnoe/repos",
      "events_url": "https://api.github.com/users/lehisnoe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lehisnoe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-01-15T12:10:36Z",
    "updated_at": "2020-01-15T12:15:05Z",
    "author_association": "NONE",
    "body": "I've used LimitAS because geth used all available RAM and swap on servers and even ixgbe drivers start lagged and there were nor free RAM nether free swap space.\r\nNormally, LimitAS shouldn't be used at all (as it was with 1.9.8).\r\n\r\nWhat size of RAM geth require if 32Gb is not enough?\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/574632660/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/574634651",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/20549#issuecomment-574634651",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20549",
    "id": 574634651,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3NDYzNDY1MQ==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-01-15T12:16:38Z",
    "updated_at": "2020-01-15T12:16:38Z",
    "author_association": "MEMBER",
    "body": "Our bootnodes consume 6-7GB RAM (with --cache 4096). Shoud definitely not eat up 32GB in any case.\r\n\r\nLimistAS is still wrong, because you put a cap on the virtual address space, which mmap also uses. Current + future mining DAGs is already a huge address space, which never gets pulled into RAM, but nonetheless still needs to exist as address space.\r\n\r\nDoes Geth crash with the virtual memory limit removed? Do you have a log of such a crash?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/574634651/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/574637323",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/20549#issuecomment-574637323",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20549",
    "id": 574637323,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3NDYzNzMyMw==",
    "user": {
      "login": "lehisnoe",
      "id": 12033768,
      "node_id": "MDQ6VXNlcjEyMDMzNzY4",
      "avatar_url": "https://avatars.githubusercontent.com/u/12033768?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lehisnoe",
      "html_url": "https://github.com/lehisnoe",
      "followers_url": "https://api.github.com/users/lehisnoe/followers",
      "following_url": "https://api.github.com/users/lehisnoe/following{/other_user}",
      "gists_url": "https://api.github.com/users/lehisnoe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lehisnoe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lehisnoe/subscriptions",
      "organizations_url": "https://api.github.com/users/lehisnoe/orgs",
      "repos_url": "https://api.github.com/users/lehisnoe/repos",
      "events_url": "https://api.github.com/users/lehisnoe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lehisnoe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-01-15T12:24:58Z",
    "updated_at": "2020-01-15T12:24:58Z",
    "author_association": "NONE",
    "body": "There is no crash geth 1.9.9 with virtual memory limit removed, but servers stop responding by network when no free memory left.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/574637323/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/574651864",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/20549#issuecomment-574651864",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20549",
    "id": 574651864,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3NDY1MTg2NA==",
    "user": {
      "login": "lehisnoe",
      "id": 12033768,
      "node_id": "MDQ6VXNlcjEyMDMzNzY4",
      "avatar_url": "https://avatars.githubusercontent.com/u/12033768?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lehisnoe",
      "html_url": "https://github.com/lehisnoe",
      "followers_url": "https://api.github.com/users/lehisnoe/followers",
      "following_url": "https://api.github.com/users/lehisnoe/following{/other_user}",
      "gists_url": "https://api.github.com/users/lehisnoe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lehisnoe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lehisnoe/subscriptions",
      "organizations_url": "https://api.github.com/users/lehisnoe/orgs",
      "repos_url": "https://api.github.com/users/lehisnoe/repos",
      "events_url": "https://api.github.com/users/lehisnoe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lehisnoe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-01-15T13:07:23Z",
    "updated_at": "2020-01-15T13:07:23Z",
    "author_association": "NONE",
    "body": "I've removed LimitAS and restart one of geth nodes. Let's wait while geth will eat all available RAM.\r\nWhat kind info may be helpful?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/574651864/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/574652523",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/20549#issuecomment-574652523",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20549",
    "id": 574652523,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3NDY1MjUyMw==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-01-15T13:09:27Z",
    "updated_at": "2020-01-15T13:09:27Z",
    "author_association": "MEMBER",
    "body": "Are you monitoring the node via the exposed metrics? (Influx / Grafana)? If yes, this is one of our current dashboard snapshots https://gist.github.com/karalabe/858516531f611de2c217630d698c60a0, it would be helpful to see how things evolve.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/574652523/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/574656215",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/20549#issuecomment-574656215",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20549",
    "id": 574656215,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3NDY1NjIxNQ==",
    "user": {
      "login": "lehisnoe",
      "id": 12033768,
      "node_id": "MDQ6VXNlcjEyMDMzNzY4",
      "avatar_url": "https://avatars.githubusercontent.com/u/12033768?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lehisnoe",
      "html_url": "https://github.com/lehisnoe",
      "followers_url": "https://api.github.com/users/lehisnoe/followers",
      "following_url": "https://api.github.com/users/lehisnoe/following{/other_user}",
      "gists_url": "https://api.github.com/users/lehisnoe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lehisnoe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lehisnoe/subscriptions",
      "organizations_url": "https://api.github.com/users/lehisnoe/orgs",
      "repos_url": "https://api.github.com/users/lehisnoe/repos",
      "events_url": "https://api.github.com/users/lehisnoe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lehisnoe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-01-15T13:19:41Z",
    "updated_at": "2020-01-15T13:56:31Z",
    "author_association": "NONE",
    "body": "Not yet, but I'll do right now: I've already installed influxdb+grafana. \r\n\r\nUpdate: done",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/574656215/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/575213677",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/20549#issuecomment-575213677",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20549",
    "id": 575213677,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3NTIxMzY3Nw==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-01-16T15:48:08Z",
    "updated_at": "2020-01-16T15:48:08Z",
    "author_association": "MEMBER",
    "body": "Btw, we've reached out to Bitfly and Sparkpool and they are running 1.9.9 since it was released without issues, memory consumption seems stable.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/575213677/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/575521849",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/20549#issuecomment-575521849",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20549",
    "id": 575521849,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3NTUyMTg0OQ==",
    "user": {
      "login": "lehisnoe",
      "id": 12033768,
      "node_id": "MDQ6VXNlcjEyMDMzNzY4",
      "avatar_url": "https://avatars.githubusercontent.com/u/12033768?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lehisnoe",
      "html_url": "https://github.com/lehisnoe",
      "followers_url": "https://api.github.com/users/lehisnoe/followers",
      "following_url": "https://api.github.com/users/lehisnoe/following{/other_user}",
      "gists_url": "https://api.github.com/users/lehisnoe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lehisnoe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lehisnoe/subscriptions",
      "organizations_url": "https://api.github.com/users/lehisnoe/orgs",
      "repos_url": "https://api.github.com/users/lehisnoe/repos",
      "events_url": "https://api.github.com/users/lehisnoe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lehisnoe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-01-17T08:11:46Z",
    "updated_at": "2020-01-17T08:11:46Z",
    "author_association": "NONE",
    "body": "Maybe my startup args are differ from them.\r\nLet's wait when geth eats all RAM. Now it looks like\r\n```\r\n  PID USER      PRI  NI  VIRT   RES   SHR S CPU% MEM%   TIME+  Command\r\n18418 root       20   0 25.0G 13.7G 71188 S 242. 43.9 92h06:52 /usr/bin/geth\r\n```\r\n![image](https://user-images.githubusercontent.com/12033768/72594869-92ea0f80-3919-11ea-8682-6fe91c66fef9.png)\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/575521849/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/575882568",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/20549#issuecomment-575882568",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20549",
    "id": 575882568,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3NTg4MjU2OA==",
    "user": {
      "login": "lehisnoe",
      "id": 12033768,
      "node_id": "MDQ6VXNlcjEyMDMzNzY4",
      "avatar_url": "https://avatars.githubusercontent.com/u/12033768?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lehisnoe",
      "html_url": "https://github.com/lehisnoe",
      "followers_url": "https://api.github.com/users/lehisnoe/followers",
      "following_url": "https://api.github.com/users/lehisnoe/following{/other_user}",
      "gists_url": "https://api.github.com/users/lehisnoe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lehisnoe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lehisnoe/subscriptions",
      "organizations_url": "https://api.github.com/users/lehisnoe/orgs",
      "repos_url": "https://api.github.com/users/lehisnoe/repos",
      "events_url": "https://api.github.com/users/lehisnoe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lehisnoe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-01-18T09:32:34Z",
    "updated_at": "2020-01-18T09:32:34Z",
    "author_association": "NONE",
    "body": "Update info:\r\n```\r\n  PID USER      PRI  NI  VIRT   RES   SHR S CPU% MEM%   TIME+  Command\r\n18418 root       20   0 28.1G 15.4G  102M S 291. 49.2     153h /usr/bin/geth\r\n```\r\n![image](https://user-images.githubusercontent.com/12033768/72661700-82579900-39ee-11ea-84c0-51864cfa2fe6.png)\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/575882568/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/577009897",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/20549#issuecomment-577009897",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20549",
    "id": 577009897,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3NzAwOTg5Nw==",
    "user": {
      "login": "lehisnoe",
      "id": 12033768,
      "node_id": "MDQ6VXNlcjEyMDMzNzY4",
      "avatar_url": "https://avatars.githubusercontent.com/u/12033768?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lehisnoe",
      "html_url": "https://github.com/lehisnoe",
      "followers_url": "https://api.github.com/users/lehisnoe/followers",
      "following_url": "https://api.github.com/users/lehisnoe/following{/other_user}",
      "gists_url": "https://api.github.com/users/lehisnoe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lehisnoe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lehisnoe/subscriptions",
      "organizations_url": "https://api.github.com/users/lehisnoe/orgs",
      "repos_url": "https://api.github.com/users/lehisnoe/repos",
      "events_url": "https://api.github.com/users/lehisnoe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lehisnoe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-01-22T05:07:22Z",
    "updated_at": "2020-01-22T05:07:22Z",
    "author_association": "NONE",
    "body": "Current info:\r\n```\r\n  PID USER      PRI  NI  VIRT   RES   SHR S CPU% MEM%   TIME+  Command\r\n18418 root       20   0 29.5G 16.5G 69948 S 256. 52.9     370h /usr/bin/geth\r\n```\r\n![image](https://user-images.githubusercontent.com/12033768/72866881-fe532900-3ced-11ea-82e6-59cb14370ae7.png)\r\n\r\nLook at **VIRT** - it seems that value is too high, isn't it?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/577009897/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/588073676",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/20549#issuecomment-588073676",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20549",
    "id": 588073676,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU4ODA3MzY3Ng==",
    "user": {
      "login": "lehisnoe",
      "id": 12033768,
      "node_id": "MDQ6VXNlcjEyMDMzNzY4",
      "avatar_url": "https://avatars.githubusercontent.com/u/12033768?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lehisnoe",
      "html_url": "https://github.com/lehisnoe",
      "followers_url": "https://api.github.com/users/lehisnoe/followers",
      "following_url": "https://api.github.com/users/lehisnoe/following{/other_user}",
      "gists_url": "https://api.github.com/users/lehisnoe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lehisnoe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lehisnoe/subscriptions",
      "organizations_url": "https://api.github.com/users/lehisnoe/orgs",
      "repos_url": "https://api.github.com/users/lehisnoe/repos",
      "events_url": "https://api.github.com/users/lehisnoe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lehisnoe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-02-19T07:25:00Z",
    "updated_at": "2020-02-19T07:29:11Z",
    "author_association": "NONE",
    "body": "Looks like geth became runs stable. Current info:\r\n```\r\n  PID USER      PRI  NI  VIRT   RES   SHR S CPU% MEM%   TIME+  Command\r\n18418 root       20   0 31.7G 15.7G  123M S 291. 50.4    2170h /usr/bin/geth\r\n```\r\n\r\n![image](https://user-images.githubusercontent.com/12033768/74811253-2a1ff980-5302-11ea-886a-ba5690224742.png)\r\n\r\nGeth-1.9.10 looks like stable too on another node.\r\n\r\nIt's time to upgrade to geth-1.9.11 ;), so let's close this issue.\r\n\r\nThanks for the support.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/588073676/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/588082809",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/20549#issuecomment-588082809",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20549",
    "id": 588082809,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU4ODA4MjgwOQ==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-02-19T07:53:33Z",
    "updated_at": "2020-02-19T07:53:33Z",
    "author_association": "MEMBER",
    "body": "Thanks for all the investigation :)",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/588082809/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/871280031",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/20549#issuecomment-871280031",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20549",
    "id": 871280031,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3MTI4MDAzMQ==",
    "user": {
      "login": "nyetwurk",
      "id": 1088639,
      "node_id": "MDQ6VXNlcjEwODg2Mzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1088639?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nyetwurk",
      "html_url": "https://github.com/nyetwurk",
      "followers_url": "https://api.github.com/users/nyetwurk/followers",
      "following_url": "https://api.github.com/users/nyetwurk/following{/other_user}",
      "gists_url": "https://api.github.com/users/nyetwurk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nyetwurk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nyetwurk/subscriptions",
      "organizations_url": "https://api.github.com/users/nyetwurk/orgs",
      "repos_url": "https://api.github.com/users/nyetwurk/repos",
      "events_url": "https://api.github.com/users/nyetwurk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nyetwurk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-30T10:22:08Z",
    "updated_at": "2021-06-30T10:22:08Z",
    "author_association": "CONTRIBUTOR",
    "body": "v1.10.4 is leaking now.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/871280031/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/871991444",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/20549#issuecomment-871991444",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/20549",
    "id": 871991444,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3MTk5MTQ0NA==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-01T07:18:10Z",
    "updated_at": "2021-07-01T07:18:10Z",
    "author_association": "MEMBER",
    "body": "@nyetwurk Please open an issue then. Your comment is absolutely useless to try and even figure out what's wrong if any.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/871991444/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
