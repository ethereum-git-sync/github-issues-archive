{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15780",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15780/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15780/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15780/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/15780",
  "id": 285216768,
  "node_id": "MDU6SXNzdWUyODUyMTY3Njg=",
  "number": 15780,
  "title": "Management or JSON-RPC API Enhancement: determine the current sync mode",
  "user": {
    "login": "jpitts",
    "id": 509756,
    "node_id": "MDQ6VXNlcjUwOTc1Ng==",
    "avatar_url": "https://avatars.githubusercontent.com/u/509756?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jpitts",
    "html_url": "https://github.com/jpitts",
    "followers_url": "https://api.github.com/users/jpitts/followers",
    "following_url": "https://api.github.com/users/jpitts/following{/other_user}",
    "gists_url": "https://api.github.com/users/jpitts/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jpitts/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jpitts/subscriptions",
    "organizations_url": "https://api.github.com/users/jpitts/orgs",
    "repos_url": "https://api.github.com/users/jpitts/repos",
    "events_url": "https://api.github.com/users/jpitts/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jpitts/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 72233652,
      "node_id": "MDU6TGFiZWw3MjIzMzY1Mg==",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/type:feature",
      "name": "type:feature",
      "color": "84b6eb",
      "default": false,
      "description": null
    },
    {
      "id": 1132754722,
      "node_id": "MDU6TGFiZWwxMTMyNzU0NzIy",
      "url": "https://api.github.com/repos/ethereum/go-ethereum/labels/need:more-information",
      "name": "need:more-information",
      "color": "db6fa3",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2017-12-30T18:29:22Z",
  "updated_at": "2019-12-14T10:30:13Z",
  "closed_at": "2019-12-14T10:30:13Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "**Background**\r\n\r\ngeth CLI users as well as dapp browsers depending on geth may wish to get more feedback during the initial download / synchronization.\r\n\r\n**Enhancement**\r\n\r\nAdd the ability to determine the current type or mode of synchronization to the Management or JSON-RPC API.\r\n\r\nAdditionally, add a synchronization status code and message. Status codes could include 'syncing' or 'error'. The status code and message would act as a pair. This pair should be expected to change once the underlying condition has changed.\r\n\r\nPossible approach using the Management API:\r\n\r\n> &gt; admin.downloaderStatus\r\n\r\nResult:\r\n> {\r\n>    syncMode: 'fast',\r\n>    syncStatus: 'error'.\r\n>    syncMessage: 'Something just went wrong',\r\n>    startingBlock: 0,\r\n>    currentBlock: 0,\r\n>    highestBlock: 0,    \r\n> }\r\n\r\nPossible approach using JSON-RPC:\r\n\r\n> &gt; eth.syncing\r\n\r\nResult:\r\n\r\n> {\r\n>    syncMode: 'fast',\r\n>    syncStatus: 'error'.\r\n>    syncMessage: 'Something just went wrong',\r\n>    startingBlock: 0,\r\n>    currentBlock: 0,\r\n>    highestBlock: 0\r\n> }\r\n\r\n**References**\r\n\r\n[Management APIs](https://github.com/ethereum/go-ethereum/wiki/Management-APIs)\r\n\r\n[JSON-RPC API: eth_syncing](https://github.com/ethereum/wiki/wiki/JSON-RPC#eth_syncing)\r\n\r\n[Ethereum_Wallet_Syncing_Problems](https://theethereum.wiki/w/index.php/Ethereum_Wallet_Syncing_Problems)\r\n",
  "closed_by": {
    "login": "no-response[bot]",
    "id": 32965360,
    "node_id": "MDM6Qm90MzI5NjUzNjA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/26350515?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/no-response%5Bbot%5D",
    "html_url": "https://github.com/apps/no-response",
    "followers_url": "https://api.github.com/users/no-response%5Bbot%5D/followers",
    "following_url": "https://api.github.com/users/no-response%5Bbot%5D/following{/other_user}",
    "gists_url": "https://api.github.com/users/no-response%5Bbot%5D/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/no-response%5Bbot%5D/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/no-response%5Bbot%5D/subscriptions",
    "organizations_url": "https://api.github.com/users/no-response%5Bbot%5D/orgs",
    "repos_url": "https://api.github.com/users/no-response%5Bbot%5D/repos",
    "events_url": "https://api.github.com/users/no-response%5Bbot%5D/events{/privacy}",
    "received_events_url": "https://api.github.com/users/no-response%5Bbot%5D/received_events",
    "type": "Bot",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15780/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15780/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/355718498",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15780#issuecomment-355718498",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15780",
    "id": 355718498,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1NTcxODQ5OA==",
    "user": {
      "login": "evertonfraga",
      "id": 47108,
      "node_id": "MDQ6VXNlcjQ3MTA4",
      "avatar_url": "https://avatars.githubusercontent.com/u/47108?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/evertonfraga",
      "html_url": "https://github.com/evertonfraga",
      "followers_url": "https://api.github.com/users/evertonfraga/followers",
      "following_url": "https://api.github.com/users/evertonfraga/following{/other_user}",
      "gists_url": "https://api.github.com/users/evertonfraga/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/evertonfraga/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/evertonfraga/subscriptions",
      "organizations_url": "https://api.github.com/users/evertonfraga/orgs",
      "repos_url": "https://api.github.com/users/evertonfraga/repos",
      "events_url": "https://api.github.com/users/evertonfraga/events{/privacy}",
      "received_events_url": "https://api.github.com/users/evertonfraga/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-06T03:03:25Z",
    "updated_at": "2018-01-06T03:03:25Z",
    "author_association": "MEMBER",
    "body": "Adding my 2 wei:\r\n\r\nAs the wallet uses `--syncmode fast`, having only `currentBlock` and `highestBlock` is not enough. As the >50M state entries take significant time to sync, this API method could also return some data about state entry download progress â€” or an overall sync %.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/355718498/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/397189845",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15780#issuecomment-397189845",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15780",
    "id": 397189845,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NzE4OTg0NQ==",
    "user": {
      "login": "skitzofrenicdev",
      "id": 38913720,
      "node_id": "MDQ6VXNlcjM4OTEzNzIw",
      "avatar_url": "https://avatars.githubusercontent.com/u/38913720?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/skitzofrenicdev",
      "html_url": "https://github.com/skitzofrenicdev",
      "followers_url": "https://api.github.com/users/skitzofrenicdev/followers",
      "following_url": "https://api.github.com/users/skitzofrenicdev/following{/other_user}",
      "gists_url": "https://api.github.com/users/skitzofrenicdev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/skitzofrenicdev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/skitzofrenicdev/subscriptions",
      "organizations_url": "https://api.github.com/users/skitzofrenicdev/orgs",
      "repos_url": "https://api.github.com/users/skitzofrenicdev/repos",
      "events_url": "https://api.github.com/users/skitzofrenicdev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/skitzofrenicdev/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-14T06:48:35Z",
    "updated_at": "2018-06-14T06:48:35Z",
    "author_association": "NONE",
    "body": ":family_man_man_girl_boy::bikini::mother_christmas:",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/397189845/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/553807360",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15780#issuecomment-553807360",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15780",
    "id": 553807360,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1MzgwNzM2MA==",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-11-14T09:41:14Z",
    "updated_at": "2019-11-14T09:41:14Z",
    "author_association": "MEMBER",
    "body": "Adding error message doesn't really make sense, geth continuously connects/disconects with peers, and if a problem occur it will reinitiate sync with other peers. \r\nDifferentiating between the modes \"doing fast-sync\" and \"caught up to head, now doing block-by-block import\" (which is what full-sync does from genesis) is already possible: when fast-sync is still catching up, it will also output the number of states downloaded. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/553807360/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/553807829",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15780#issuecomment-553807829",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15780",
    "id": 553807829,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1MzgwNzgyOQ==",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-11-14T09:42:25Z",
    "updated_at": "2019-11-14T09:42:25Z",
    "author_association": "MEMBER",
    "body": "> As the >50M state entries take significant time to sync, this API method could also return some data about state entry download progress â€” or an overall sync %.\r\n\r\nIt's closer to `300M` now. The problem is that it's not really possible to know in advance how many state entries there are :( . Hardcoding it will become wrong. It might be possible to guesstimate it based on trie density, but it's flaky",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/553807829/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/565705129",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/15780#issuecomment-565705129",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/15780",
    "id": 565705129,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2NTcwNTEyOQ==",
    "user": {
      "login": "no-response[bot]",
      "id": 32965360,
      "node_id": "MDM6Qm90MzI5NjUzNjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/26350515?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/no-response%5Bbot%5D",
      "html_url": "https://github.com/apps/no-response",
      "followers_url": "https://api.github.com/users/no-response%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/no-response%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/no-response%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/no-response%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/no-response%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/no-response%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/no-response%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/no-response%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/no-response%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2019-12-14T10:30:12Z",
    "updated_at": "2019-12-14T10:30:12Z",
    "author_association": "NONE",
    "body": "This issue has been automatically closed because there has been no response to our request for more information from the original author. With only the information that is currently in the issue, we don't have enough information to take action. Please reach out if you have more relevant information or answers to our questions so that we can investigate further.\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/565705129/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
