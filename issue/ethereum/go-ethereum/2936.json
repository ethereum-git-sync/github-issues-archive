{
  "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2936",
  "repository_url": "https://api.github.com/repos/ethereum/go-ethereum",
  "labels_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2936/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2936/comments",
  "events_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2936/events",
  "html_url": "https://github.com/ethereum/go-ethereum/issues/2936",
  "id": 172833374,
  "node_id": "MDU6SXNzdWUxNzI4MzMzNzQ=",
  "number": 2936,
  "title": "while geth is syncing a fresh blockchain with --rpc and --fast, eth_blockNumber() always returns zero",
  "user": {
    "login": "paulohm2",
    "id": 20868141,
    "node_id": "MDQ6VXNlcjIwODY4MTQx",
    "avatar_url": "https://avatars.githubusercontent.com/u/20868141?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/paulohm2",
    "html_url": "https://github.com/paulohm2",
    "followers_url": "https://api.github.com/users/paulohm2/followers",
    "following_url": "https://api.github.com/users/paulohm2/following{/other_user}",
    "gists_url": "https://api.github.com/users/paulohm2/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/paulohm2/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/paulohm2/subscriptions",
    "organizations_url": "https://api.github.com/users/paulohm2/orgs",
    "repos_url": "https://api.github.com/users/paulohm2/repos",
    "events_url": "https://api.github.com/users/paulohm2/events{/privacy}",
    "received_events_url": "https://api.github.com/users/paulohm2/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2016-08-23T23:45:01Z",
  "updated_at": "2016-11-15T02:40:07Z",
  "closed_at": "2016-08-27T12:13:31Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "#### System information\n\nGeth version: `1.5.0-unstable`\nOS & Version: Linux\n#### Expected behaviour\n\ncalling geth RPC while blockchain is syncing should return at least some well known info, like the blockchain block numbers (eth_blockNumber()).\n#### Actual behaviour\n\neth_blockNumber() returns 0 (zero) until blockchain is fully synced. then it starts to return the correct number.\n#### Steps to reproduce the behaviour\n\n1) invoke geth --rpc --fast without a full block chain\n2) invoke a python console and ..\n\n> > > import json\n> > > import urllib\n> > > import urllib2\n> > > import pprint\n> > > from ethjsonrpc import EthJsonRpc\n> > > c = EthJsonRpc('127.0.0.1', 8545)\n> > > print c.eth_blockNumber()\n> > > 0\n",
  "closed_by": {
    "login": "karalabe",
    "id": 129561,
    "node_id": "MDQ6VXNlcjEyOTU2MQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/karalabe",
    "html_url": "https://github.com/karalabe",
    "followers_url": "https://api.github.com/users/karalabe/followers",
    "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
    "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
    "organizations_url": "https://api.github.com/users/karalabe/orgs",
    "repos_url": "https://api.github.com/users/karalabe/repos",
    "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
    "received_events_url": "https://api.github.com/users/karalabe/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2936/reactions",
    "total_count": 1,
    "+1": 1,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2936/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/241980418",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/2936#issuecomment-241980418",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2936",
    "id": 241980418,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0MTk4MDQxOA==",
    "user": {
      "login": "karalabe",
      "id": 129561,
      "node_id": "MDQ6VXNlcjEyOTU2MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/129561?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/karalabe",
      "html_url": "https://github.com/karalabe",
      "followers_url": "https://api.github.com/users/karalabe/followers",
      "following_url": "https://api.github.com/users/karalabe/following{/other_user}",
      "gists_url": "https://api.github.com/users/karalabe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/karalabe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/karalabe/subscriptions",
      "organizations_url": "https://api.github.com/users/karalabe/orgs",
      "repos_url": "https://api.github.com/users/karalabe/repos",
      "events_url": "https://api.github.com/users/karalabe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/karalabe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-24T07:30:41Z",
    "updated_at": "2016-08-24T07:30:41Z",
    "author_association": "MEMBER",
    "body": "This works as intended. During fast sync Geth is only downloading the blocks, but not processing them, so although it has the blocks it doesn't have the associated state with it. Concurrently it is also downloading the state for the head block (not intermediate ones up to that point). So during fast sync we have \"stateless blocks\" and \"blockless states\". When fast sync completes, these two things join, forming the \"statefull-blockfull-chain\" :) Up to this point all the data is unusable, so reporting anything other than 0 would be a lie.\n\nDuring sync you could look at the `eth.syncing` endpoint, which returns the current sync progress. Based on that you can display proper UI stuff if you need it (or simply have a proper guess for yourself).\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/241980418/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/260530940",
    "html_url": "https://github.com/ethereum/go-ethereum/issues/2936#issuecomment-260530940",
    "issue_url": "https://api.github.com/repos/ethereum/go-ethereum/issues/2936",
    "id": 260530940,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI2MDUzMDk0MA==",
    "user": {
      "login": "yaoyu26",
      "id": 16487674,
      "node_id": "MDQ6VXNlcjE2NDg3Njc0",
      "avatar_url": "https://avatars.githubusercontent.com/u/16487674?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yaoyu26",
      "html_url": "https://github.com/yaoyu26",
      "followers_url": "https://api.github.com/users/yaoyu26/followers",
      "following_url": "https://api.github.com/users/yaoyu26/following{/other_user}",
      "gists_url": "https://api.github.com/users/yaoyu26/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yaoyu26/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yaoyu26/subscriptions",
      "organizations_url": "https://api.github.com/users/yaoyu26/orgs",
      "repos_url": "https://api.github.com/users/yaoyu26/repos",
      "events_url": "https://api.github.com/users/yaoyu26/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yaoyu26/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-11-15T02:40:07Z",
    "updated_at": "2016-11-15T02:40:07Z",
    "author_association": "NONE",
    "body": "the answer help me, good job!\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/go-ethereum/issues/comments/260530940/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
