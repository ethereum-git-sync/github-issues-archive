{
  "url": "https://api.github.com/repos/ethereum/execution-spec-tests/issues/189",
  "repository_url": "https://api.github.com/repos/ethereum/execution-spec-tests",
  "labels_url": "https://api.github.com/repos/ethereum/execution-spec-tests/issues/189/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/execution-spec-tests/issues/189/comments",
  "events_url": "https://api.github.com/repos/ethereum/execution-spec-tests/issues/189/events",
  "html_url": "https://github.com/ethereum/execution-spec-tests/issues/189",
  "id": 1788310799,
  "node_id": "I_kwDOIQGLK85ql3UP",
  "number": 189,
  "title": "feat(tools): improve solc error messages",
  "user": {
    "login": "winsvega",
    "id": 4492341,
    "node_id": "MDQ6VXNlcjQ0OTIzNDE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4492341?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/winsvega",
    "html_url": "https://github.com/winsvega",
    "followers_url": "https://api.github.com/users/winsvega/followers",
    "following_url": "https://api.github.com/users/winsvega/following{/other_user}",
    "gists_url": "https://api.github.com/users/winsvega/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/winsvega/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/winsvega/subscriptions",
    "organizations_url": "https://api.github.com/users/winsvega/orgs",
    "repos_url": "https://api.github.com/users/winsvega/repos",
    "events_url": "https://api.github.com/users/winsvega/events{/privacy}",
    "received_events_url": "https://api.github.com/users/winsvega/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 6008518917,
      "node_id": "LA_kwDOIQGLK88AAAABZiK5BQ",
      "url": "https://api.github.com/repos/ethereum/execution-spec-tests/labels/scope:tools",
      "name": "scope:tools",
      "color": "3F2F1C",
      "default": false,
      "description": "Scope: ethereum_test_tools package"
    },
    {
      "id": 6008623232,
      "node_id": "LA_kwDOIQGLK88AAAABZiRQgA",
      "url": "https://api.github.com/repos/ethereum/execution-spec-tests/labels/type:feat",
      "name": "type:feat",
      "color": "0e8a16",
      "default": false,
      "description": "type: Feature"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2023-07-04T18:09:17Z",
  "updated_at": "2023-09-26T08:53:41Z",
  "closed_at": "2023-09-26T08:53:15Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "if yul or solidity code failed to compile the error messaging should be follow:\r\n\r\n1) message if solc not detected when filling a solc require test filler\r\n2) message that the test required a different solc version to the one that found\r\n3) message the exact code that failed to compile with found solc version\r\n\r\nI suggest to maintain all tests to use the latest version of solc to avoid solc versioning managment. ",
  "closed_by": {
    "login": "danceratopz",
    "id": 91727015,
    "node_id": "U_kgDOBXekpw",
    "avatar_url": "https://avatars.githubusercontent.com/u/91727015?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/danceratopz",
    "html_url": "https://github.com/danceratopz",
    "followers_url": "https://api.github.com/users/danceratopz/followers",
    "following_url": "https://api.github.com/users/danceratopz/following{/other_user}",
    "gists_url": "https://api.github.com/users/danceratopz/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/danceratopz/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/danceratopz/subscriptions",
    "organizations_url": "https://api.github.com/users/danceratopz/orgs",
    "repos_url": "https://api.github.com/users/danceratopz/repos",
    "events_url": "https://api.github.com/users/danceratopz/events{/privacy}",
    "received_events_url": "https://api.github.com/users/danceratopz/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/execution-spec-tests/issues/189/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/execution-spec-tests/issues/189/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/execution-spec-tests/issues/comments/1735110711",
    "html_url": "https://github.com/ethereum/execution-spec-tests/issues/189#issuecomment-1735110711",
    "issue_url": "https://api.github.com/repos/ethereum/execution-spec-tests/issues/189",
    "id": 1735110711,
    "node_id": "IC_kwDOIQGLK85na7A3",
    "user": {
      "login": "danceratopz",
      "id": 91727015,
      "node_id": "U_kgDOBXekpw",
      "avatar_url": "https://avatars.githubusercontent.com/u/91727015?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/danceratopz",
      "html_url": "https://github.com/danceratopz",
      "followers_url": "https://api.github.com/users/danceratopz/followers",
      "following_url": "https://api.github.com/users/danceratopz/following{/other_user}",
      "gists_url": "https://api.github.com/users/danceratopz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/danceratopz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/danceratopz/subscriptions",
      "organizations_url": "https://api.github.com/users/danceratopz/orgs",
      "repos_url": "https://api.github.com/users/danceratopz/repos",
      "events_url": "https://api.github.com/users/danceratopz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/danceratopz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-09-26T08:53:15Z",
    "updated_at": "2023-09-26T08:53:15Z",
    "author_association": "MEMBER",
    "body": "- The last few versions of solc are supported (currently 0.8.20, 0.8.21, and custom builds of upcoming 0.8.22). \r\n- Test cases do not specify which version of solc is required to compile the yul defined within the test.\r\n\r\nThe following error messages are provided:\r\n1. `solc` not found\r\n    ```\r\n    fill tests/homestead/yul/test_yul_example.py -x --solc-bin=/home/dtopz/bin/solc-0.123.0\r\n    ```\r\n    says:\r\n    ```\r\n    INTERNALERROR> Exception: `solc` binary executable not found, please refer to\r\n    INTERNALERROR>                 https://docs.soliditylang.org/en/latest/installing-solidity.html\r\n    INTERNALERROR>                 for help downloading and installing `solc`\r\n    ```\r\n2. Not applicable as it currently stands.\r\n3. Example error:\r\n    ```\r\n    <----snip---->\r\n                if result.returncode != 0:\r\n                    stderr_lines = result.stderr.decode().split(\"\\n\")\r\n                    stderr_message = \"\\n\".join(line.strip() for line in stderr_lines)\r\n    >               raise Exception(f\"failed to compile yul source:\\n{stderr_message[7:]}\")\r\n    E               Exception: failed to compile yul source:\r\n    E               Function \"retrn\" not found.\r\n    E               --> <stdin>:8:17:\r\n    E               |\r\n    E               8 |                 retrn(0, 32)\r\n    E               |                 ^^^^^\r\n  \r\n    \r\n\r\n    src/ethereum_test_tools/code/yul.py:99: Exception\r\n    ============= short test summary info ============\r\n    FAILED tests/homestead/yul/test_yul_example.py::test_yul[fork=Homestead] - Exception: failed to compile yul source:\r\n    ```",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/execution-spec-tests/issues/comments/1735110711/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
