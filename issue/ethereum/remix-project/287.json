{
  "url": "https://api.github.com/repos/ethereum/remix-project/issues/287",
  "repository_url": "https://api.github.com/repos/ethereum/remix-project",
  "labels_url": "https://api.github.com/repos/ethereum/remix-project/issues/287/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/remix-project/issues/287/comments",
  "events_url": "https://api.github.com/repos/ethereum/remix-project/issues/287/events",
  "html_url": "https://github.com/ethereum/remix-project/issues/287",
  "id": 668536974,
  "node_id": "MDU6SXNzdWU2Njg1MzY5NzQ=",
  "number": 287,
  "title": "[Static analysis] Random number generation",
  "user": {
    "login": "pauliax",
    "id": 22328890,
    "node_id": "MDQ6VXNlcjIyMzI4ODkw",
    "avatar_url": "https://avatars.githubusercontent.com/u/22328890?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/pauliax",
    "html_url": "https://github.com/pauliax",
    "followers_url": "https://api.github.com/users/pauliax/followers",
    "following_url": "https://api.github.com/users/pauliax/following{/other_user}",
    "gists_url": "https://api.github.com/users/pauliax/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/pauliax/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/pauliax/subscriptions",
    "organizations_url": "https://api.github.com/users/pauliax/orgs",
    "repos_url": "https://api.github.com/users/pauliax/repos",
    "events_url": "https://api.github.com/users/pauliax/events{/privacy}",
    "received_events_url": "https://api.github.com/users/pauliax/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 2236028662,
      "node_id": "MDU6TGFiZWwyMjM2MDI4NjYy",
      "url": "https://api.github.com/repos/ethereum/remix-project/labels/remix-analyzer",
      "name": "remix-analyzer",
      "color": "a7f788",
      "default": false,
      "description": ""
    },
    {
      "id": 2239365015,
      "node_id": "MDU6TGFiZWwyMjM5MzY1MDE1",
      "url": "https://api.github.com/repos/ethereum/remix-project/labels/investigate",
      "name": "investigate",
      "color": "e99695",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2018-06-17T10:56:53Z",
  "updated_at": "2020-07-30T09:24:59Z",
  "closed_at": null,
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "This is a feature request for new static analysis module.\r\n\r\n**Issue:** Every experienced Solidity developer probably knows about this issue, but is there a possibility to add a static analysis module that informs the developer if he is using an unsafe known pattern for random number generation? I think this issue is very serious, as the wrong implementation could lead to a big loss of Ether (especially in lotteries and other gambling DApps). I do not mean cases when \"Oraclize\" is used, the main concern is about a more decentralized way to get such number.\r\nSome terrible examples:\r\n\r\n`bool won = (block.number % 2) == 0;`\r\n`var random = uint(sha3(block.timestamp)) % 2;`\r\n\r\n**Recognition:** Usually to generate a random number inside the contract developer uses some parameters of the block (timestamp, blockhash, number, difficulty, etc). Finding the usage of one of these parameters should not be hard. The main concern is finding when such parameter is used for a random number generation. Maybe the variable or function name contains words like \"random\", \"rnd\", etc?\r\n\r\n**More:** From the documentation of Solidity: \r\n\"Do not rely on block.timestamp, now and blockhash as a source of randomness, unless you know\r\nwhat you are doing. Both the timestamp and the block hash can be influenced by miners to some degree. Bad actors in the mining community can for example run a casino payout function on a chosen hash and just retry a different hash if they did not receive any money.\"\r\nhttps://media.readthedocs.org/pdf/solidity/develop/solidity.pdf",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/remix-project/issues/287/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/remix-project/issues/287/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ethereum/remix-project/issues/comments/398484379",
    "html_url": "https://github.com/ethereum/remix-project/issues/287#issuecomment-398484379",
    "issue_url": "https://api.github.com/repos/ethereum/remix-project/issues/287",
    "id": 398484379,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5ODQ4NDM3OQ==",
    "user": {
      "login": "yann300",
      "id": 6940742,
      "node_id": "MDQ6VXNlcjY5NDA3NDI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6940742?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yann300",
      "html_url": "https://github.com/yann300",
      "followers_url": "https://api.github.com/users/yann300/followers",
      "following_url": "https://api.github.com/users/yann300/following{/other_user}",
      "gists_url": "https://api.github.com/users/yann300/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yann300/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yann300/subscriptions",
      "organizations_url": "https://api.github.com/users/yann300/orgs",
      "repos_url": "https://api.github.com/users/yann300/repos",
      "events_url": "https://api.github.com/users/yann300/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yann300/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-19T17:41:06Z",
    "updated_at": "2018-06-19T17:41:06Z",
    "author_association": "MEMBER",
    "body": "@soad003 @chriseth  would that be doable?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/remix-project/issues/comments/398484379/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/remix-project/issues/comments/398485031",
    "html_url": "https://github.com/ethereum/remix-project/issues/287#issuecomment-398485031",
    "issue_url": "https://api.github.com/repos/ethereum/remix-project/issues/287",
    "id": 398485031,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5ODQ4NTAzMQ==",
    "user": {
      "login": "axic",
      "id": 20340,
      "node_id": "MDQ6VXNlcjIwMzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/axic",
      "html_url": "https://github.com/axic",
      "followers_url": "https://api.github.com/users/axic/followers",
      "following_url": "https://api.github.com/users/axic/following{/other_user}",
      "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
      "organizations_url": "https://api.github.com/users/axic/orgs",
      "repos_url": "https://api.github.com/users/axic/repos",
      "events_url": "https://api.github.com/users/axic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/axic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-19T17:43:20Z",
    "updated_at": "2018-06-19T17:43:39Z",
    "author_association": "MEMBER",
    "body": "I think someone needs to clearly write down the rules first and then it can be estimated how much work it is to implement.\r\n\r\nOne thing potentially worth warning for is using hashing functions with one or more block-constant variables and other constant literals, e.g. `sha3(block.timestamp, block.number, 42)` or `sha3(block.timestamp)`\r\n\r\nHowever note that with recent versions of Solidity this will change, where `sha3` was renamed to `keccak256` and the new class of `abi.encode*` methods must be used since hashing functions require a bytes input only. The above examples will turn into`keccak256(abi.encodePacked(block.timestamp, block.number, 42))` or `keccak256(abi.encodePacked(block.timestamp))`",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/remix-project/issues/comments/398485031/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/remix-project/issues/comments/398652448",
    "html_url": "https://github.com/ethereum/remix-project/issues/287#issuecomment-398652448",
    "issue_url": "https://api.github.com/repos/ethereum/remix-project/issues/287",
    "id": 398652448,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5ODY1MjQ0OA==",
    "user": {
      "login": "soad003",
      "id": 6850271,
      "node_id": "MDQ6VXNlcjY4NTAyNzE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6850271?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/soad003",
      "html_url": "https://github.com/soad003",
      "followers_url": "https://api.github.com/users/soad003/followers",
      "following_url": "https://api.github.com/users/soad003/following{/other_user}",
      "gists_url": "https://api.github.com/users/soad003/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/soad003/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/soad003/subscriptions",
      "organizations_url": "https://api.github.com/users/soad003/orgs",
      "repos_url": "https://api.github.com/users/soad003/repos",
      "events_url": "https://api.github.com/users/soad003/events{/privacy}",
      "received_events_url": "https://api.github.com/users/soad003/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-20T07:30:52Z",
    "updated_at": "2018-06-20T07:30:52Z",
    "author_association": "CONTRIBUTOR",
    "body": "We already have warnings for block.blockhash usage a well as block.timestamp. Maybe we could just adapt the warning that it explicitly stats that using those values as seed to generate randomness is not a good idea. The warning already stats that those values can be influenced by miners to a certain degree but it does not explicitly mention randomness.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/remix-project/issues/comments/398652448/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
