{
  "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/3170",
  "repository_url": "https://api.github.com/repos/ethereum/consensus-specs",
  "labels_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/3170/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/3170/comments",
  "events_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/3170/events",
  "html_url": "https://github.com/ethereum/consensus-specs/issues/3170",
  "id": 1503309990,
  "node_id": "I_kwDOCOoGbc5ZmrCm",
  "number": 3170,
  "title": "is_data_available should be in fork-choice",
  "user": {
    "login": "djrtwo",
    "id": 1433595,
    "node_id": "MDQ6VXNlcjE0MzM1OTU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1433595?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/djrtwo",
    "html_url": "https://github.com/djrtwo",
    "followers_url": "https://api.github.com/users/djrtwo/followers",
    "following_url": "https://api.github.com/users/djrtwo/following{/other_user}",
    "gists_url": "https://api.github.com/users/djrtwo/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/djrtwo/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/djrtwo/subscriptions",
    "organizations_url": "https://api.github.com/users/djrtwo/orgs",
    "repos_url": "https://api.github.com/users/djrtwo/repos",
    "events_url": "https://api.github.com/users/djrtwo/events{/privacy}",
    "received_events_url": "https://api.github.com/users/djrtwo/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 0,
  "created_at": "2022-12-19T17:26:04Z",
  "updated_at": "2022-12-19T17:50:33Z",
  "closed_at": null,
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "`assert is_data_available`  should not livein the state transition validation logic. This seems very much a fork-choice consideration. Both places have the same general effect but:\r\n1. This puts a hidden input on the state transition function (`BlobSideCar`) instead of it being a function of only `(pre_state, block)`. So as a function call, we've degraded it's integrity and mixed layers/concerns which we've actively avoided in all other past considerations in the beacon chain functionality.\r\n2. it's also weird to have a temporally aware condition in the state transition function. That is -- you only need to validate the sidecar availability once. After that, you don't necessarily validate it again  nor can! (e.g. if now outside of the prune window).\r\n\r\nThis shouldn't affect client implementations at all, but this more appropriately (in sidecar and DAS form) lives in the fork-choice in `on_block`.",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/3170/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/3170/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[

]
