{
  "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/1873",
  "repository_url": "https://api.github.com/repos/ethereum/consensus-specs",
  "labels_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/1873/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/1873/comments",
  "events_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/1873/events",
  "html_url": "https://github.com/ethereum/consensus-specs/issues/1873",
  "id": 631005220,
  "node_id": "MDU6SXNzdWU2MzEwMDUyMjA=",
  "number": 1873,
  "title": "Security:  A malicious proposer can successfully avoid slashing (?)",
  "user": {
    "login": "kladkogex",
    "id": 13399135,
    "node_id": "MDQ6VXNlcjEzMzk5MTM1",
    "avatar_url": "https://avatars.githubusercontent.com/u/13399135?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/kladkogex",
    "html_url": "https://github.com/kladkogex",
    "followers_url": "https://api.github.com/users/kladkogex/followers",
    "following_url": "https://api.github.com/users/kladkogex/following{/other_user}",
    "gists_url": "https://api.github.com/users/kladkogex/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/kladkogex/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/kladkogex/subscriptions",
    "organizations_url": "https://api.github.com/users/kladkogex/orgs",
    "repos_url": "https://api.github.com/users/kladkogex/repos",
    "events_url": "https://api.github.com/users/kladkogex/events{/privacy}",
    "received_events_url": "https://api.github.com/users/kladkogex/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2020-06-04T17:10:30Z",
  "updated_at": "2020-06-11T08:39:30Z",
  "closed_at": "2020-06-11T08:39:29Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "It seems that a malicious proposer that creates multiple concurrent proposals can successfully avoid slashing.\r\n\r\nThe attack goes as follows:\r\n\r\n1.  The proposer creates zillions of conflicting proposals, causing the network to consider a great number of weak branches with no obvious winner.\r\n\r\n2.   Note that to slash the proposer the slashing evidence needs to be included in the WINNING branch. Therefore, the strategy of the malicious party is \r\n\r\n  a) pick a specific branch that does not include the slashing event, and \r\n  b) make this branch win.\r\n\r\n3.  Assume the malicious proposer controls a small portion of the network (say 5%).  The proposer will then make all of his guys to attest for the branch where he is not slashed.  Such a branch will inevitably exist. Assuming that other attesters vote more or less randomly, 5% will be enough to to win in the situation of havoc where all other branches are super weak.\r\n\r\nThe spec needs to at least analyze and discuss why this attack is not feasible.\r\n \r\n\r\n\r\n\r\n",
  "closed_by": {
    "login": "adiasg",
    "id": 25324105,
    "node_id": "MDQ6VXNlcjI1MzI0MTA1",
    "avatar_url": "https://avatars.githubusercontent.com/u/25324105?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/adiasg",
    "html_url": "https://github.com/adiasg",
    "followers_url": "https://api.github.com/users/adiasg/followers",
    "following_url": "https://api.github.com/users/adiasg/following{/other_user}",
    "gists_url": "https://api.github.com/users/adiasg/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/adiasg/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/adiasg/subscriptions",
    "organizations_url": "https://api.github.com/users/adiasg/orgs",
    "repos_url": "https://api.github.com/users/adiasg/repos",
    "events_url": "https://api.github.com/users/adiasg/events{/privacy}",
    "received_events_url": "https://api.github.com/users/adiasg/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/1873/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/1873/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/comments/639073896",
    "html_url": "https://github.com/ethereum/consensus-specs/issues/1873#issuecomment-639073896",
    "issue_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/1873",
    "id": 639073896,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzOTA3Mzg5Ng==",
    "user": {
      "login": "dankrad",
      "id": 6130607,
      "node_id": "MDQ6VXNlcjYxMzA2MDc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6130607?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dankrad",
      "html_url": "https://github.com/dankrad",
      "followers_url": "https://api.github.com/users/dankrad/followers",
      "following_url": "https://api.github.com/users/dankrad/following{/other_user}",
      "gists_url": "https://api.github.com/users/dankrad/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dankrad/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dankrad/subscriptions",
      "organizations_url": "https://api.github.com/users/dankrad/orgs",
      "repos_url": "https://api.github.com/users/dankrad/repos",
      "events_url": "https://api.github.com/users/dankrad/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dankrad/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-04T19:38:51Z",
    "updated_at": "2020-06-04T19:38:51Z",
    "author_association": "MEMBER",
    "body": "I don't understand how you suggest they keep the other validators from submitting the slashing message to the \"winning\" branch once it's the consensus?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/comments/639073896/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/comments/639220698",
    "html_url": "https://github.com/ethereum/consensus-specs/issues/1873#issuecomment-639220698",
    "issue_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/1873",
    "id": 639220698,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzOTIyMDY5OA==",
    "user": {
      "login": "adiasg",
      "id": 25324105,
      "node_id": "MDQ6VXNlcjI1MzI0MTA1",
      "avatar_url": "https://avatars.githubusercontent.com/u/25324105?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/adiasg",
      "html_url": "https://github.com/adiasg",
      "followers_url": "https://api.github.com/users/adiasg/followers",
      "following_url": "https://api.github.com/users/adiasg/following{/other_user}",
      "gists_url": "https://api.github.com/users/adiasg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/adiasg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/adiasg/subscriptions",
      "organizations_url": "https://api.github.com/users/adiasg/orgs",
      "repos_url": "https://api.github.com/users/adiasg/repos",
      "events_url": "https://api.github.com/users/adiasg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/adiasg/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-05T02:28:21Z",
    "updated_at": "2020-06-05T02:28:21Z",
    "author_association": "MEMBER",
    "body": "- More details on @dankrad's comment:\r\nIf a proof of two distinct blocks from the same proposer for the same slot is provided in a block, the malicious proposer is slashed in that block's chain ([here](https://github.com/ethereum/eth2.0-specs/blob/dev/specs/phase0/beacon-chain.md#proposer-slashings) is the associated spec code). Since the attacker does not control the proposers in future slots, there will be a block in the winning chain that includes a proof of the attacker's malice, which will lead to a proposer slashing.\r\n\r\n- Regarding confusion caused by the large number of proposals for a single slot -- it is expected that the [LMD GHOST fork choice rule](https://github.com/ethereum/eth2.0-specs/blob/dev/specs/phase0/fork-choice.md#get_head) will lead to all honest validators rapidly converging (within a few slots time) on the same chain. A simple explanation: if all honest validators see every other honest validator's attestation from the previous slot, then each of them will see the same LMD GHOST fork choice winner.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/comments/639220698/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/comments/642501895",
    "html_url": "https://github.com/ethereum/consensus-specs/issues/1873#issuecomment-642501895",
    "issue_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/1873",
    "id": 642501895,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0MjUwMTg5NQ==",
    "user": {
      "login": "adiasg",
      "id": 25324105,
      "node_id": "MDQ6VXNlcjI1MzI0MTA1",
      "avatar_url": "https://avatars.githubusercontent.com/u/25324105?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/adiasg",
      "html_url": "https://github.com/adiasg",
      "followers_url": "https://api.github.com/users/adiasg/followers",
      "following_url": "https://api.github.com/users/adiasg/following{/other_user}",
      "gists_url": "https://api.github.com/users/adiasg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/adiasg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/adiasg/subscriptions",
      "organizations_url": "https://api.github.com/users/adiasg/orgs",
      "repos_url": "https://api.github.com/users/adiasg/repos",
      "events_url": "https://api.github.com/users/adiasg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/adiasg/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-11T08:39:29Z",
    "updated_at": "2020-06-11T08:39:29Z",
    "author_association": "MEMBER",
    "body": "@kladkogex Closing this issue. Feel free to reopen if there's more to this attack.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/comments/642501895/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
