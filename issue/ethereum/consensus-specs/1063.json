{
  "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/1063",
  "repository_url": "https://api.github.com/repos/ethereum/consensus-specs",
  "labels_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/1063/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/1063/comments",
  "events_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/1063/events",
  "html_url": "https://github.com/ethereum/consensus-specs/issues/1063",
  "id": 441481028,
  "node_id": "MDU6SXNzdWU0NDE0ODEwMjg=",
  "number": 1063,
  "title": "Discv5 Open Questions",
  "user": {
    "login": "mslipper",
    "id": 67953,
    "node_id": "MDQ6VXNlcjY3OTUz",
    "avatar_url": "https://avatars.githubusercontent.com/u/67953?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/mslipper",
    "html_url": "https://github.com/mslipper",
    "followers_url": "https://api.github.com/users/mslipper/followers",
    "following_url": "https://api.github.com/users/mslipper/following{/other_user}",
    "gists_url": "https://api.github.com/users/mslipper/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/mslipper/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mslipper/subscriptions",
    "organizations_url": "https://api.github.com/users/mslipper/orgs",
    "repos_url": "https://api.github.com/users/mslipper/repos",
    "events_url": "https://api.github.com/users/mslipper/events{/privacy}",
    "received_events_url": "https://api.github.com/users/mslipper/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1063043872,
      "node_id": "MDU6TGFiZWwxMDYzMDQzODcy",
      "url": "https://api.github.com/repos/ethereum/consensus-specs/labels/general:question",
      "name": "general:question",
      "color": "FAD689",
      "default": false,
      "description": "Further information is requested"
    },
    {
      "id": 1295438707,
      "node_id": "MDU6TGFiZWwxMjk1NDM4NzA3",
      "url": "https://api.github.com/repos/ethereum/consensus-specs/labels/scope:networking",
      "name": "scope:networking",
      "color": "F596AA",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2019-05-07T23:02:08Z",
  "updated_at": "2019-08-10T07:38:11Z",
  "closed_at": "2019-08-10T07:38:11Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "Hi everyone,\r\n\r\nI thought I'd compile this issue with a couple of notes regarding `discv5`. Inputs for these consist of research I've done into `discv5` and other discovery protocols, and the discussion I had with @fjl about two weeks ago. The goal here is to kick off a discussion around `discv5`, and make a decision around its adoption.\r\n\r\n## Implementation Notes\r\n\r\n`discv5` uses a different transport mechanism and DHT than `libp2p`. As such, it cannot easily be assembled from `libp2p` components. That said, `discv5` is an upgrade over `discv4`, which already sports a number of existing implementations.\r\n\r\n**Questions:** How hard is it to interoperate between peers discovered via `discv5` and peers communicating via `libp2p`? It looks possible to wrap ENRs with the appropriate `multiaddr` metadata for use within the `libp2p` peer book.\r\n\r\n## Topic Subsets\r\n\r\n`discv5` was invented in order to add support for the advertisement of topic subsets. This works well for ETH2, as we'll likely want to advertise topics for the following things:\r\n\r\n1. Chain ID\r\n2. Node type (i.e., light/full node)\r\n\r\nNote that `discv5` is a poor choice for ephemeral topics (such as shard information) because topic advertisements are long-lived.\r\n\r\n**Questions:** Are there any other long-lived topic types that we will need?\r\n\r\n## Transport Mechanism\r\n\r\nThe `discv5` transport mechanism consists of RLP-encoded UDP packets (see the [wire protocol](https://github.com/ethereum/devp2p/blob/master/discv5/discv5-wire.md) for the full spec). Obviously, this is different from the SSZ encodings we've been using elsewhere.\r\n\r\n**Questions:** Is the encoding/transport mechanism something that we will want to change for the sake of consistency?\r\n\r\n## Encryption\r\n\r\n`discv5` generates an ephemeral key during the [handshake](https://github.com/ethereum/devp2p/blob/master/discv5/discv5-wire.md#handshake) phase of the protocol. This same key could be used to encrypt traffic between ETH2.0 nodes elsewhere in the network stack.\r\n\r\n**Question:** What is the relative priority of encrypting network traffic at this time? IMO, we should punt on this until later. If it's high enough to warrant inclusion in Phase 0, are there any objections to using the ephemeral key to encrypt non-`discv5` network traffic?",
  "closed_by": {
    "login": "mslipper",
    "id": 67953,
    "node_id": "MDQ6VXNlcjY3OTUz",
    "avatar_url": "https://avatars.githubusercontent.com/u/67953?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/mslipper",
    "html_url": "https://github.com/mslipper",
    "followers_url": "https://api.github.com/users/mslipper/followers",
    "following_url": "https://api.github.com/users/mslipper/following{/other_user}",
    "gists_url": "https://api.github.com/users/mslipper/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/mslipper/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mslipper/subscriptions",
    "organizations_url": "https://api.github.com/users/mslipper/orgs",
    "repos_url": "https://api.github.com/users/mslipper/repos",
    "events_url": "https://api.github.com/users/mslipper/events{/privacy}",
    "received_events_url": "https://api.github.com/users/mslipper/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/1063/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/1063/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/comments/507043158",
    "html_url": "https://github.com/ethereum/consensus-specs/issues/1063#issuecomment-507043158",
    "issue_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/1063",
    "id": 507043158,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwNzA0MzE1OA==",
    "user": {
      "login": "JustinDrake",
      "id": 731743,
      "node_id": "MDQ6VXNlcjczMTc0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/731743?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JustinDrake",
      "html_url": "https://github.com/JustinDrake",
      "followers_url": "https://api.github.com/users/JustinDrake/followers",
      "following_url": "https://api.github.com/users/JustinDrake/following{/other_user}",
      "gists_url": "https://api.github.com/users/JustinDrake/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JustinDrake/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JustinDrake/subscriptions",
      "organizations_url": "https://api.github.com/users/JustinDrake/orgs",
      "repos_url": "https://api.github.com/users/JustinDrake/repos",
      "events_url": "https://api.github.com/users/JustinDrake/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JustinDrake/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-06-30T14:59:44Z",
    "updated_at": "2019-06-30T14:59:44Z",
    "author_association": "MEMBER",
    "body": "As I understand there has been a lot of recent progress on discv5. @mslipper have you been able to answer all your questions?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/comments/507043158/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/comments/519787882",
    "html_url": "https://github.com/ethereum/consensus-specs/issues/1063#issuecomment-519787882",
    "issue_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/1063",
    "id": 519787882,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxOTc4Nzg4Mg==",
    "user": {
      "login": "hwwhww",
      "id": 9263930,
      "node_id": "MDQ6VXNlcjkyNjM5MzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9263930?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hwwhww",
      "html_url": "https://github.com/hwwhww",
      "followers_url": "https://api.github.com/users/hwwhww/followers",
      "following_url": "https://api.github.com/users/hwwhww/following{/other_user}",
      "gists_url": "https://api.github.com/users/hwwhww/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hwwhww/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hwwhww/subscriptions",
      "organizations_url": "https://api.github.com/users/hwwhww/orgs",
      "repos_url": "https://api.github.com/users/hwwhww/repos",
      "events_url": "https://api.github.com/users/hwwhww/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hwwhww/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-08-09T05:51:23Z",
    "updated_at": "2019-08-09T05:51:23Z",
    "author_association": "MEMBER",
    "body": "link https://github.com/ethereum/devp2p/issues/107",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/comments/519787882/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/comments/520127108",
    "html_url": "https://github.com/ethereum/consensus-specs/issues/1063#issuecomment-520127108",
    "issue_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/1063",
    "id": 520127108,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyMDEyNzEwOA==",
    "user": {
      "login": "mslipper",
      "id": 67953,
      "node_id": "MDQ6VXNlcjY3OTUz",
      "avatar_url": "https://avatars.githubusercontent.com/u/67953?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mslipper",
      "html_url": "https://github.com/mslipper",
      "followers_url": "https://api.github.com/users/mslipper/followers",
      "following_url": "https://api.github.com/users/mslipper/following{/other_user}",
      "gists_url": "https://api.github.com/users/mslipper/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mslipper/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mslipper/subscriptions",
      "organizations_url": "https://api.github.com/users/mslipper/orgs",
      "repos_url": "https://api.github.com/users/mslipper/repos",
      "events_url": "https://api.github.com/users/mslipper/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mslipper/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-08-10T07:38:10Z",
    "updated_at": "2019-08-10T07:38:10Z",
    "author_association": "MEMBER",
    "body": "This can be closed.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/comments/520127108/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
