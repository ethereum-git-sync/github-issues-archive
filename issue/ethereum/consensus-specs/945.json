{
  "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/945",
  "repository_url": "https://api.github.com/repos/ethereum/consensus-specs",
  "labels_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/945/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/945/comments",
  "events_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/945/events",
  "html_url": "https://github.com/ethereum/consensus-specs/issues/945",
  "id": 433933273,
  "node_id": "MDU6SXNzdWU0MzM5MzMyNzM=",
  "number": 945,
  "title": "generate_seed mixes in get_active_index_root",
  "user": {
    "login": "dankrad",
    "id": 6130607,
    "node_id": "MDQ6VXNlcjYxMzA2MDc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6130607?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/dankrad",
    "html_url": "https://github.com/dankrad",
    "followers_url": "https://api.github.com/users/dankrad/followers",
    "following_url": "https://api.github.com/users/dankrad/following{/other_user}",
    "gists_url": "https://api.github.com/users/dankrad/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/dankrad/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/dankrad/subscriptions",
    "organizations_url": "https://api.github.com/users/dankrad/orgs",
    "repos_url": "https://api.github.com/users/dankrad/repos",
    "events_url": "https://api.github.com/users/dankrad/events{/privacy}",
    "received_events_url": "https://api.github.com/users/dankrad/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2019-04-16T18:51:37Z",
  "updated_at": "2019-04-17T03:31:56Z",
  "closed_at": "2019-04-17T03:31:55Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "In the definition\r\n```python\r\ndef generate_seed(state: BeaconState,\r\n                  epoch: Epoch) -> Bytes32:\r\n    \"\"\"\r\n    Generate a seed for the given ``epoch``.\r\n    \"\"\"\r\n    return hash(\r\n        get_randao_mix(state, epoch - MIN_SEED_LOOKAHEAD) +\r\n        get_active_index_root(state, epoch) +\r\n        int_to_bytes32(epoch)\r\n    )\r\n```\r\nIs there any reason to mix in the get_active_index_root? Currently this does not seem dangerous, but also does not provide any advantage as far as I can see. So with simplification in mind we could just remove it.\r\nAlso to protect RANDAO from biasability, it is advantageous to keep the seed as clean as possible. In case there would be any \"instant changes\" to the validator set, possibly introduced in some unforeseen spec version in the future, it would be unwise to have this in the mix.",
  "closed_by": {
    "login": "dankrad",
    "id": 6130607,
    "node_id": "MDQ6VXNlcjYxMzA2MDc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6130607?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/dankrad",
    "html_url": "https://github.com/dankrad",
    "followers_url": "https://api.github.com/users/dankrad/followers",
    "following_url": "https://api.github.com/users/dankrad/following{/other_user}",
    "gists_url": "https://api.github.com/users/dankrad/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/dankrad/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/dankrad/subscriptions",
    "organizations_url": "https://api.github.com/users/dankrad/orgs",
    "repos_url": "https://api.github.com/users/dankrad/repos",
    "events_url": "https://api.github.com/users/dankrad/events{/privacy}",
    "received_events_url": "https://api.github.com/users/dankrad/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/945/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/945/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/comments/483839669",
    "html_url": "https://github.com/ethereum/consensus-specs/issues/945#issuecomment-483839669",
    "issue_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/945",
    "id": 483839669,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4MzgzOTY2OQ==",
    "user": {
      "login": "djrtwo",
      "id": 1433595,
      "node_id": "MDQ6VXNlcjE0MzM1OTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1433595?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/djrtwo",
      "html_url": "https://github.com/djrtwo",
      "followers_url": "https://api.github.com/users/djrtwo/followers",
      "following_url": "https://api.github.com/users/djrtwo/following{/other_user}",
      "gists_url": "https://api.github.com/users/djrtwo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/djrtwo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/djrtwo/subscriptions",
      "organizations_url": "https://api.github.com/users/djrtwo/orgs",
      "repos_url": "https://api.github.com/users/djrtwo/repos",
      "events_url": "https://api.github.com/users/djrtwo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/djrtwo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-04-16T20:55:21Z",
    "updated_at": "2019-04-16T20:55:21Z",
    "author_association": "MEMBER",
    "body": "This was added in #476 as per issue #459.\r\n\r\nThe specific rational is\r\n\r\n> We add the active index root into the shuffling seed to make sure that it is not possible to affect the shuffling in predictable ways by entering or exiting the validator set (there is a Fiat-Shamir-heuristic-like argument here: even if the attacker can \"choose\" the validator set, the protocol randomly chooses the shuffling after they do that)",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/comments/483839669/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/comments/483923709",
    "html_url": "https://github.com/ethereum/consensus-specs/issues/945#issuecomment-483923709",
    "issue_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/945",
    "id": 483923709,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4MzkyMzcwOQ==",
    "user": {
      "login": "dankrad",
      "id": 6130607,
      "node_id": "MDQ6VXNlcjYxMzA2MDc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6130607?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dankrad",
      "html_url": "https://github.com/dankrad",
      "followers_url": "https://api.github.com/users/dankrad/followers",
      "following_url": "https://api.github.com/users/dankrad/following{/other_user}",
      "gists_url": "https://api.github.com/users/dankrad/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dankrad/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dankrad/subscriptions",
      "organizations_url": "https://api.github.com/users/dankrad/orgs",
      "repos_url": "https://api.github.com/users/dankrad/repos",
      "events_url": "https://api.github.com/users/dankrad/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dankrad/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-04-17T03:31:55Z",
    "updated_at": "2019-04-17T03:31:55Z",
    "author_association": "MEMBER",
    "body": "Ah so we need it for light clients. Thanks",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/comments/483923709/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
