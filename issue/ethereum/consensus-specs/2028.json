{
  "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/2028",
  "repository_url": "https://api.github.com/repos/ethereum/consensus-specs",
  "labels_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/2028/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/2028/comments",
  "events_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/2028/events",
  "html_url": "https://github.com/ethereum/consensus-specs/issues/2028",
  "id": 686125526,
  "node_id": "MDU6SXNzdWU2ODYxMjU1MjY=",
  "number": 2028,
  "title": "Missing trivial attestation checks for gossip propagation",
  "user": {
    "login": "arnetheduck",
    "id": 1382986,
    "node_id": "MDQ6VXNlcjEzODI5ODY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1382986?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/arnetheduck",
    "html_url": "https://github.com/arnetheduck",
    "followers_url": "https://api.github.com/users/arnetheduck/followers",
    "following_url": "https://api.github.com/users/arnetheduck/following{/other_user}",
    "gists_url": "https://api.github.com/users/arnetheduck/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/arnetheduck/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/arnetheduck/subscriptions",
    "organizations_url": "https://api.github.com/users/arnetheduck/orgs",
    "repos_url": "https://api.github.com/users/arnetheduck/repos",
    "events_url": "https://api.github.com/users/arnetheduck/events{/privacy}",
    "received_events_url": "https://api.github.com/users/arnetheduck/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1295438707,
      "node_id": "MDU6TGFiZWwxMjk1NDM4NzA3",
      "url": "https://api.github.com/repos/ethereum/consensus-specs/labels/scope:networking",
      "name": "scope:networking",
      "color": "F596AA",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2020-08-26T08:33:41Z",
  "updated_at": "2020-09-09T17:08:41Z",
  "closed_at": null,
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "Per phase 0 spec, attestations included in blocks must pass some trivial checks:\r\n\r\nhttps://github.com/ethereum/eth2.0-specs/blob/v0.12.2/specs/phase0/beacon-chain.md#attestations\r\n\r\n```\r\n    assert data.target.epoch == compute_epoch_at_slot(data.slot)\r\n    assert data.index < get_committee_count_per_slot(state, data.target.epoch)\r\n    assert len(attestation.aggregation_bits) == len(committee)\r\n```\r\n\r\nTo validate the attestation for gossip, one must verify its signature - this means the beacon committee must be computed to get the public key of the relevant validator.\r\n\r\nSince the committee has to be available anyway, it would be trivial and good to also add these trivial checks to prevent unviable attestations from be propagated - currently for example, the target epoch vs slot match is not checked, and the other checks are perhaps done implicitly when constructing the committee but otherwise not.\r\n\r\n\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/2028/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/2028/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/comments/681106066",
    "html_url": "https://github.com/ethereum/consensus-specs/issues/2028#issuecomment-681106066",
    "issue_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/2028",
    "id": 681106066,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4MTEwNjA2Ng==",
    "user": {
      "login": "lsankar4033",
      "id": 451947,
      "node_id": "MDQ6VXNlcjQ1MTk0Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/451947?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lsankar4033",
      "html_url": "https://github.com/lsankar4033",
      "followers_url": "https://api.github.com/users/lsankar4033/followers",
      "following_url": "https://api.github.com/users/lsankar4033/following{/other_user}",
      "gists_url": "https://api.github.com/users/lsankar4033/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lsankar4033/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lsankar4033/subscriptions",
      "organizations_url": "https://api.github.com/users/lsankar4033/orgs",
      "repos_url": "https://api.github.com/users/lsankar4033/repos",
      "events_url": "https://api.github.com/users/lsankar4033/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lsankar4033/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-26T20:27:39Z",
    "updated_at": "2020-08-26T20:27:39Z",
    "author_association": "CONTRIBUTOR",
    "body": "The first of those assertions is already included in gossip validations (see the 3rd validation [here](https://github.com/ethereum/eth2.0-specs/blob/dev/specs/phase0/p2p-interface.md#beacon_attestation_subnet_id))\r\n\r\nI think the other 2 are worth adding as they could be used to dos the gossip network. Can put up a PR.\r\n\r\nGood point re:committee needing to be available for signature validation. Wonder if there are any other committee oriented validations that're missing.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/comments/681106066/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
