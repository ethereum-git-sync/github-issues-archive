{
  "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/127",
  "repository_url": "https://api.github.com/repos/ethereum/consensus-specs",
  "labels_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/127/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/127/comments",
  "events_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/127/events",
  "html_url": "https://github.com/ethereum/consensus-specs/issues/127",
  "id": 380497965,
  "node_id": "MDU6SXNzdWUzODA0OTc5NjU=",
  "number": 127,
  "title": "Understanding the `get_new_shuffling()` function",
  "user": {
    "login": "Mikerah",
    "id": 4249799,
    "node_id": "MDQ6VXNlcjQyNDk3OTk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4249799?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Mikerah",
    "html_url": "https://github.com/Mikerah",
    "followers_url": "https://api.github.com/users/Mikerah/followers",
    "following_url": "https://api.github.com/users/Mikerah/following{/other_user}",
    "gists_url": "https://api.github.com/users/Mikerah/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Mikerah/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Mikerah/subscriptions",
    "organizations_url": "https://api.github.com/users/Mikerah/orgs",
    "repos_url": "https://api.github.com/users/Mikerah/repos",
    "events_url": "https://api.github.com/users/Mikerah/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Mikerah/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2018-11-14T01:35:30Z",
  "updated_at": "2018-11-15T02:20:46Z",
  "closed_at": "2018-11-15T02:20:46Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "For the past several weeks, as part of my hackternship, I have been trying to understand the `get_new_shuffling()` function. In its current iteration, the `get_new_shuffling()` function is in charge of sorting validators into committees and associating a committee to a particular shard for a particular cycle and a slot in that cycle. The shard in question is one that has a crosslink from the committee that was given by `get_new_shuffling()`. \r\n\r\nIs the above right?\r\n\r\nMy main question is what is the motivation for selecting committees in this way?\r\n\r\n\r\n\r\n",
  "closed_by": {
    "login": "Mikerah",
    "id": 4249799,
    "node_id": "MDQ6VXNlcjQyNDk3OTk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4249799?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Mikerah",
    "html_url": "https://github.com/Mikerah",
    "followers_url": "https://api.github.com/users/Mikerah/followers",
    "following_url": "https://api.github.com/users/Mikerah/following{/other_user}",
    "gists_url": "https://api.github.com/users/Mikerah/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Mikerah/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Mikerah/subscriptions",
    "organizations_url": "https://api.github.com/users/Mikerah/orgs",
    "repos_url": "https://api.github.com/users/Mikerah/repos",
    "events_url": "https://api.github.com/users/Mikerah/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Mikerah/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/127/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/127/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/comments/438506642",
    "html_url": "https://github.com/ethereum/consensus-specs/issues/127#issuecomment-438506642",
    "issue_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/127",
    "id": 438506642,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzODUwNjY0Mg==",
    "user": {
      "login": "Mikerah",
      "id": 4249799,
      "node_id": "MDQ6VXNlcjQyNDk3OTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4249799?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Mikerah",
      "html_url": "https://github.com/Mikerah",
      "followers_url": "https://api.github.com/users/Mikerah/followers",
      "following_url": "https://api.github.com/users/Mikerah/following{/other_user}",
      "gists_url": "https://api.github.com/users/Mikerah/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Mikerah/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Mikerah/subscriptions",
      "organizations_url": "https://api.github.com/users/Mikerah/orgs",
      "repos_url": "https://api.github.com/users/Mikerah/repos",
      "events_url": "https://api.github.com/users/Mikerah/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Mikerah/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-14T01:45:14Z",
    "updated_at": "2018-11-14T01:45:36Z",
    "author_association": "CONTRIBUTOR",
    "body": "Also, `crosslinking_start_shard` is used to create `shard_id`'s and the associated `shardAndCommittee` objects but where do is come from and who provides it?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/comments/438506642/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/comments/438840205",
    "html_url": "https://github.com/ethereum/consensus-specs/issues/127#issuecomment-438840205",
    "issue_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/127",
    "id": 438840205,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzODg0MDIwNQ==",
    "user": {
      "login": "djrtwo",
      "id": 1433595,
      "node_id": "MDQ6VXNlcjE0MzM1OTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1433595?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/djrtwo",
      "html_url": "https://github.com/djrtwo",
      "followers_url": "https://api.github.com/users/djrtwo/followers",
      "following_url": "https://api.github.com/users/djrtwo/following{/other_user}",
      "gists_url": "https://api.github.com/users/djrtwo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/djrtwo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/djrtwo/subscriptions",
      "organizations_url": "https://api.github.com/users/djrtwo/orgs",
      "repos_url": "https://api.github.com/users/djrtwo/repos",
      "events_url": "https://api.github.com/users/djrtwo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/djrtwo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-14T22:19:00Z",
    "updated_at": "2018-11-14T22:19:00Z",
    "author_association": "MEMBER",
    "body": "When there is a validator set change due to all required crosslinks being created and finality occurring, we use `crosslinking_start_shard` is simply the last shard from the last committee in the last shuffling plus 1. In the case where there are enough validators/committees to crosslink all shards each shuffling, this will always jsut start at the same shard.\r\n\r\nWhen there is not a validator set change, but just a reshuffling, we use the same crosslink start shard as previous so that we get new committees for the same shards.\r\n\r\nThe shard in question is not just the shard_id passed in. That is just the _start_ shard. It is one shard per committee. If 100 committees are produced from the shuffling and the start shard passed in was 150, then it produces committees for shards 150 to 249. \r\n\r\nCheck out the line\r\n```python\r\nshard_id_start = crosslinking_start_shard + slot * committees_per_slot\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/comments/438840205/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/comments/438892021",
    "html_url": "https://github.com/ethereum/consensus-specs/issues/127#issuecomment-438892021",
    "issue_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/127",
    "id": 438892021,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzODg5MjAyMQ==",
    "user": {
      "login": "Mikerah",
      "id": 4249799,
      "node_id": "MDQ6VXNlcjQyNDk3OTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4249799?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Mikerah",
      "html_url": "https://github.com/Mikerah",
      "followers_url": "https://api.github.com/users/Mikerah/followers",
      "following_url": "https://api.github.com/users/Mikerah/following{/other_user}",
      "gists_url": "https://api.github.com/users/Mikerah/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Mikerah/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Mikerah/subscriptions",
      "organizations_url": "https://api.github.com/users/Mikerah/orgs",
      "repos_url": "https://api.github.com/users/Mikerah/repos",
      "events_url": "https://api.github.com/users/Mikerah/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Mikerah/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-15T02:20:46Z",
    "updated_at": "2018-11-15T02:20:46Z",
    "author_association": "CONTRIBUTOR",
    "body": "Aah. That makes more sense. Thank you so much.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/comments/438892021/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
