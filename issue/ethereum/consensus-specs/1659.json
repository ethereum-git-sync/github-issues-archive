{
  "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/1659",
  "repository_url": "https://api.github.com/repos/ethereum/consensus-specs",
  "labels_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/1659/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/1659/comments",
  "events_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/1659/events",
  "html_url": "https://github.com/ethereum/consensus-specs/issues/1659",
  "id": 579697235,
  "node_id": "MDU6SXNzdWU1Nzk2OTcyMzU=",
  "number": 1659,
  "title": "v0.11.0 Gossip verification questions",
  "user": {
    "login": "paulhauner",
    "id": 6660660,
    "node_id": "MDQ6VXNlcjY2NjA2NjA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6660660?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/paulhauner",
    "html_url": "https://github.com/paulhauner",
    "followers_url": "https://api.github.com/users/paulhauner/followers",
    "following_url": "https://api.github.com/users/paulhauner/following{/other_user}",
    "gists_url": "https://api.github.com/users/paulhauner/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/paulhauner/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/paulhauner/subscriptions",
    "organizations_url": "https://api.github.com/users/paulhauner/orgs",
    "repos_url": "https://api.github.com/users/paulhauner/repos",
    "events_url": "https://api.github.com/users/paulhauner/events{/privacy}",
    "received_events_url": "https://api.github.com/users/paulhauner/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 7,
  "created_at": "2020-03-12T05:11:07Z",
  "updated_at": "2020-03-17T14:00:27Z",
  "closed_at": "2020-03-17T14:00:27Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "I'm seeking come clarity around two points in the [Global topics](https://github.com/ethereum/eth2.0-specs/blob/v0.11.0/specs/phase0/p2p-interface.md#global-topics) section of `v0.11.0` of the p2p-interface spec states, please :)\r\n\r\n## A. First block for the proposer of the slot\r\n\r\n> The block is the first block with valid signature received for the proposer for the slot, signed_beacon_block.message.slot.\r\n\r\nCould you please confirm if the following accurately reflects the intention of the above statement?\r\n\r\n_The block is the first block with a valid signature received with the given slot and proposer index tuple: `(signed_block.message.slot, signed_block.message.proposer_index)`_\r\n\r\nIf this is the case, then a simple hash-set of `(slot, proposer_index)` which is updated after signature verification should be sufficient to check this condition.\r\n\r\n## B. Proposer signature verification\r\n\r\n> The proposer signature, signed_beacon_block.signature, is valid.\r\n\r\nThere are (as of v0.11.0) two things for checking a block signature validity:\r\n\r\n1. Was the signature produced by the validators public key?\r\n1. Was the validator scheduled to propose the block at the slot?\r\n\r\nI'm looking for some clarity about if we should include (2) in the verification.",
  "closed_by": {
    "login": "djrtwo",
    "id": 1433595,
    "node_id": "MDQ6VXNlcjE0MzM1OTU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1433595?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/djrtwo",
    "html_url": "https://github.com/djrtwo",
    "followers_url": "https://api.github.com/users/djrtwo/followers",
    "following_url": "https://api.github.com/users/djrtwo/following{/other_user}",
    "gists_url": "https://api.github.com/users/djrtwo/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/djrtwo/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/djrtwo/subscriptions",
    "organizations_url": "https://api.github.com/users/djrtwo/orgs",
    "repos_url": "https://api.github.com/users/djrtwo/repos",
    "events_url": "https://api.github.com/users/djrtwo/events{/privacy}",
    "received_events_url": "https://api.github.com/users/djrtwo/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/1659/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/1659/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/comments/598045123",
    "html_url": "https://github.com/ethereum/consensus-specs/issues/1659#issuecomment-598045123",
    "issue_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/1659",
    "id": 598045123,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5ODA0NTEyMw==",
    "user": {
      "login": "mkalinin",
      "id": 1892772,
      "node_id": "MDQ6VXNlcjE4OTI3NzI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1892772?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mkalinin",
      "html_url": "https://github.com/mkalinin",
      "followers_url": "https://api.github.com/users/mkalinin/followers",
      "following_url": "https://api.github.com/users/mkalinin/following{/other_user}",
      "gists_url": "https://api.github.com/users/mkalinin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mkalinin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mkalinin/subscriptions",
      "organizations_url": "https://api.github.com/users/mkalinin/orgs",
      "repos_url": "https://api.github.com/users/mkalinin/repos",
      "events_url": "https://api.github.com/users/mkalinin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mkalinin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-12T07:29:10Z",
    "updated_at": "2020-03-12T07:29:10Z",
    "author_association": "MEMBER",
    "body": "> I'm looking for some clarity about if we should include (2) in the verification.\r\n\r\nIf we do not we have a DoS vector. Adversary owning `N` validators is able to flood network with at least `N-1` blocks in each slot.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/comments/598045123/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/comments/598074730",
    "html_url": "https://github.com/ethereum/consensus-specs/issues/1659#issuecomment-598074730",
    "issue_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/1659",
    "id": 598074730,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5ODA3NDczMA==",
    "user": {
      "login": "paulhauner",
      "id": 6660660,
      "node_id": "MDQ6VXNlcjY2NjA2NjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6660660?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/paulhauner",
      "html_url": "https://github.com/paulhauner",
      "followers_url": "https://api.github.com/users/paulhauner/followers",
      "following_url": "https://api.github.com/users/paulhauner/following{/other_user}",
      "gists_url": "https://api.github.com/users/paulhauner/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/paulhauner/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/paulhauner/subscriptions",
      "organizations_url": "https://api.github.com/users/paulhauner/orgs",
      "repos_url": "https://api.github.com/users/paulhauner/repos",
      "events_url": "https://api.github.com/users/paulhauner/events{/privacy}",
      "received_events_url": "https://api.github.com/users/paulhauner/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-12T08:54:29Z",
    "updated_at": "2020-03-12T08:54:29Z",
    "author_association": "CONTRIBUTOR",
    "body": "> If we do not we have a DoS vector. Adversary owning N validators is able to flood network with at least N-1 blocks in each slot.\r\n\r\nI agree, verifying 2 seems to be pragmatic.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/comments/598074730/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/comments/598358587",
    "html_url": "https://github.com/ethereum/consensus-specs/issues/1659#issuecomment-598358587",
    "issue_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/1659",
    "id": 598358587,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5ODM1ODU4Nw==",
    "user": {
      "login": "djrtwo",
      "id": 1433595,
      "node_id": "MDQ6VXNlcjE0MzM1OTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1433595?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/djrtwo",
      "html_url": "https://github.com/djrtwo",
      "followers_url": "https://api.github.com/users/djrtwo/followers",
      "following_url": "https://api.github.com/users/djrtwo/following{/other_user}",
      "gists_url": "https://api.github.com/users/djrtwo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/djrtwo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/djrtwo/subscriptions",
      "organizations_url": "https://api.github.com/users/djrtwo/orgs",
      "repos_url": "https://api.github.com/users/djrtwo/repos",
      "events_url": "https://api.github.com/users/djrtwo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/djrtwo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-12T18:47:37Z",
    "updated_at": "2020-03-12T18:47:37Z",
    "author_association": "MEMBER",
    "body": "I think we add a condition \"The block is proposed by the expected proposer_index for the slot in the context of the shuffling (defined by parent/slot)\"\r\n\r\nand maybe also \"If the proposer_index cannot immediately be verified against the expected cache, the block MAY be queued for later processing while proposer caches are recalculated\"\r\n\r\nThis reduces the DoS vector of out of unexpected blocks (e.g. built on some long past parent) to be one that can be handled on a per-case basis in the client rather than prescribing a MUST or MUST NOT process. In normal operation if you got one weird block, you oculd go check it out, but if you get `N`, you can drop.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/comments/598358587/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/comments/598575626",
    "html_url": "https://github.com/ethereum/consensus-specs/issues/1659#issuecomment-598575626",
    "issue_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/1659",
    "id": 598575626,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5ODU3NTYyNg==",
    "user": {
      "login": "mkalinin",
      "id": 1892772,
      "node_id": "MDQ6VXNlcjE4OTI3NzI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1892772?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mkalinin",
      "html_url": "https://github.com/mkalinin",
      "followers_url": "https://api.github.com/users/mkalinin/followers",
      "following_url": "https://api.github.com/users/mkalinin/following{/other_user}",
      "gists_url": "https://api.github.com/users/mkalinin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mkalinin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mkalinin/subscriptions",
      "organizations_url": "https://api.github.com/users/mkalinin/orgs",
      "repos_url": "https://api.github.com/users/mkalinin/repos",
      "events_url": "https://api.github.com/users/mkalinin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mkalinin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-13T06:43:44Z",
    "updated_at": "2020-03-13T06:43:44Z",
    "author_association": "MEMBER",
    "body": "I totally agree. We should not obligate clients to verify all those blocks, but a block that hasn't been verified must not be propagated.\r\n\r\nBtw, once we change leader election algorithm we could slash for ineligible proposals. It would significantly reduce the DoS vector.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/comments/598575626/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/comments/598846243",
    "html_url": "https://github.com/ethereum/consensus-specs/issues/1659#issuecomment-598846243",
    "issue_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/1659",
    "id": 598846243,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5ODg0NjI0Mw==",
    "user": {
      "login": "djrtwo",
      "id": 1433595,
      "node_id": "MDQ6VXNlcjE0MzM1OTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1433595?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/djrtwo",
      "html_url": "https://github.com/djrtwo",
      "followers_url": "https://api.github.com/users/djrtwo/followers",
      "following_url": "https://api.github.com/users/djrtwo/following{/other_user}",
      "gists_url": "https://api.github.com/users/djrtwo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/djrtwo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/djrtwo/subscriptions",
      "organizations_url": "https://api.github.com/users/djrtwo/orgs",
      "repos_url": "https://api.github.com/users/djrtwo/repos",
      "events_url": "https://api.github.com/users/djrtwo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/djrtwo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-13T18:00:22Z",
    "updated_at": "2020-03-13T18:00:22Z",
    "author_association": "MEMBER",
    "body": "And yes @paulhauner, confirmed on [A]",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/comments/598846243/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/comments/598847520",
    "html_url": "https://github.com/ethereum/consensus-specs/issues/1659#issuecomment-598847520",
    "issue_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/1659",
    "id": 598847520,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5ODg0NzUyMA==",
    "user": {
      "login": "djrtwo",
      "id": 1433595,
      "node_id": "MDQ6VXNlcjE0MzM1OTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1433595?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/djrtwo",
      "html_url": "https://github.com/djrtwo",
      "followers_url": "https://api.github.com/users/djrtwo/followers",
      "following_url": "https://api.github.com/users/djrtwo/following{/other_user}",
      "gists_url": "https://api.github.com/users/djrtwo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/djrtwo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/djrtwo/subscriptions",
      "organizations_url": "https://api.github.com/users/djrtwo/orgs",
      "repos_url": "https://api.github.com/users/djrtwo/repos",
      "events_url": "https://api.github.com/users/djrtwo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/djrtwo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-13T18:03:34Z",
    "updated_at": "2020-03-13T18:03:34Z",
    "author_association": "MEMBER",
    "body": "Addressed in  #1661\r\nAppreciate some review",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/comments/598847520/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/comments/599826326",
    "html_url": "https://github.com/ethereum/consensus-specs/issues/1659#issuecomment-599826326",
    "issue_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/1659",
    "id": 599826326,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5OTgyNjMyNg==",
    "user": {
      "login": "paulhauner",
      "id": 6660660,
      "node_id": "MDQ6VXNlcjY2NjA2NjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6660660?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/paulhauner",
      "html_url": "https://github.com/paulhauner",
      "followers_url": "https://api.github.com/users/paulhauner/followers",
      "following_url": "https://api.github.com/users/paulhauner/following{/other_user}",
      "gists_url": "https://api.github.com/users/paulhauner/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/paulhauner/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/paulhauner/subscriptions",
      "organizations_url": "https://api.github.com/users/paulhauner/orgs",
      "repos_url": "https://api.github.com/users/paulhauner/repos",
      "events_url": "https://api.github.com/users/paulhauner/events{/privacy}",
      "received_events_url": "https://api.github.com/users/paulhauner/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-17T01:06:21Z",
    "updated_at": "2020-03-17T01:06:21Z",
    "author_association": "CONTRIBUTOR",
    "body": "Thank you! Sorry I came back to this late and didn't review.\r\n\r\nFeel free to close at will :)",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/comments/599826326/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
