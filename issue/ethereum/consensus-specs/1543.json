{
  "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/1543",
  "repository_url": "https://api.github.com/repos/ethereum/consensus-specs",
  "labels_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/1543/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/1543/comments",
  "events_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/1543/events",
  "html_url": "https://github.com/ethereum/consensus-specs/issues/1543",
  "id": 540294881,
  "node_id": "MDU6SXNzdWU1NDAyOTQ4ODE=",
  "number": 1543,
  "title": "\"Exit and Transfer\" operation",
  "user": {
    "login": "mcdee",
    "id": 511384,
    "node_id": "MDQ6VXNlcjUxMTM4NA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/511384?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/mcdee",
    "html_url": "https://github.com/mcdee",
    "followers_url": "https://api.github.com/users/mcdee/followers",
    "following_url": "https://api.github.com/users/mcdee/following{/other_user}",
    "gists_url": "https://api.github.com/users/mcdee/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/mcdee/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mcdee/subscriptions",
    "organizations_url": "https://api.github.com/users/mcdee/orgs",
    "repos_url": "https://api.github.com/users/mcdee/repos",
    "events_url": "https://api.github.com/users/mcdee/events{/privacy}",
    "received_events_url": "https://api.github.com/users/mcdee/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1252242617,
      "node_id": "MDU6TGFiZWwxMjUyMjQyNjE3",
      "url": "https://api.github.com/repos/ethereum/consensus-specs/labels/phase2",
      "name": "phase2",
      "color": "90B44B",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 8,
  "created_at": "2019-12-19T12:50:54Z",
  "updated_at": "2021-12-08T18:00:01Z",
  "closed_at": null,
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "This is more of a note for the future, as we don't have transfers yet, but given the long period of time between staking and any potential exit there is a fair chance that at least some users' withdrawal keys will be compromised.  It would be nice to give them a potential second chance at retaining their funds rather than them being stolen.\r\n\r\nAt current there is a `VoluntaryExit` operation, which moves the validator in to a state where its funds will eventually become available for transfer.  If the withdrawal key is compromised you can pretty much guarantee that a 'bot will transfer funds away from the legitimate user as soon as they are available.\r\n\r\nIf an additional operation `VoluntaryExitTo` were added (or additional parameters to the existing operation), including a destination for the validator funds and appropriate authorization, it would give stakers a bit more security as both the validator and withdrawal key would need to be compromised for the funds to be lost.",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/1543/reactions",
    "total_count": 2,
    "+1": 2,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/1543/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/comments/567487978",
    "html_url": "https://github.com/ethereum/consensus-specs/issues/1543#issuecomment-567487978",
    "issue_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/1543",
    "id": 567487978,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2NzQ4Nzk3OA==",
    "user": {
      "login": "mkalinin",
      "id": 1892772,
      "node_id": "MDQ6VXNlcjE4OTI3NzI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1892772?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mkalinin",
      "html_url": "https://github.com/mkalinin",
      "followers_url": "https://api.github.com/users/mkalinin/followers",
      "following_url": "https://api.github.com/users/mkalinin/following{/other_user}",
      "gists_url": "https://api.github.com/users/mkalinin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mkalinin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mkalinin/subscriptions",
      "organizations_url": "https://api.github.com/users/mkalinin/orgs",
      "repos_url": "https://api.github.com/users/mkalinin/repos",
      "events_url": "https://api.github.com/users/mkalinin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mkalinin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-19T13:23:52Z",
    "updated_at": "2019-12-19T13:23:52Z",
    "author_association": "MEMBER",
    "body": "I guess `VoluntaryExitTo` operation assumed to be signed by validator's _hot key_. Doesn't it give an ability for staking service to `VoluntaryExitTo` their own withdrawal address?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/comments/567487978/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/comments/567714569",
    "html_url": "https://github.com/ethereum/consensus-specs/issues/1543#issuecomment-567714569",
    "issue_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/1543",
    "id": 567714569,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2NzcxNDU2OQ==",
    "user": {
      "login": "mcdee",
      "id": 511384,
      "node_id": "MDQ6VXNlcjUxMTM4NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/511384?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mcdee",
      "html_url": "https://github.com/mcdee",
      "followers_url": "https://api.github.com/users/mcdee/followers",
      "following_url": "https://api.github.com/users/mcdee/following{/other_user}",
      "gists_url": "https://api.github.com/users/mcdee/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mcdee/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mcdee/subscriptions",
      "organizations_url": "https://api.github.com/users/mcdee/orgs",
      "repos_url": "https://api.github.com/users/mcdee/repos",
      "events_url": "https://api.github.com/users/mcdee/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mcdee/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-19T22:58:05Z",
    "updated_at": "2019-12-19T22:58:05Z",
    "author_association": "CONTRIBUTOR",
    "body": "It would have the same fields as `VoluntaryExit` with additional fields:\r\n  - pubkey to which to send the funds\r\n  - signature(withdrawal pubkey, validator pubkey, transfer pubkey)* signed by the withdrawal private key\r\n\r\nSo the withdrawal private key is still required to carry out `VoluntaryExitTo` and a validator cannot run off with the staker's funds.\r\n\r\n*I think; haven't fully thought it through but something like this",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/comments/567714569/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/comments/567862716",
    "html_url": "https://github.com/ethereum/consensus-specs/issues/1543#issuecomment-567862716",
    "issue_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/1543",
    "id": 567862716,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2Nzg2MjcxNg==",
    "user": {
      "login": "mkalinin",
      "id": 1892772,
      "node_id": "MDQ6VXNlcjE4OTI3NzI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1892772?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mkalinin",
      "html_url": "https://github.com/mkalinin",
      "followers_url": "https://api.github.com/users/mkalinin/followers",
      "following_url": "https://api.github.com/users/mkalinin/following{/other_user}",
      "gists_url": "https://api.github.com/users/mkalinin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mkalinin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mkalinin/subscriptions",
      "organizations_url": "https://api.github.com/users/mkalinin/orgs",
      "repos_url": "https://api.github.com/users/mkalinin/repos",
      "events_url": "https://api.github.com/users/mkalinin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mkalinin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-20T09:47:15Z",
    "updated_at": "2019-12-20T09:47:15Z",
    "author_association": "MEMBER",
    "body": "If this message is signed by a withdrawal private key then exactly what you've originally addressed would happen:\r\n> If the withdrawal key is compromised you can pretty much guarantee that a 'bot will transfer funds away from the legitimate user as soon as they are available.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/comments/567862716/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/comments/567863090",
    "html_url": "https://github.com/ethereum/consensus-specs/issues/1543#issuecomment-567863090",
    "issue_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/1543",
    "id": 567863090,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2Nzg2MzA5MA==",
    "user": {
      "login": "mcdee",
      "id": 511384,
      "node_id": "MDQ6VXNlcjUxMTM4NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/511384?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mcdee",
      "html_url": "https://github.com/mcdee",
      "followers_url": "https://api.github.com/users/mcdee/followers",
      "following_url": "https://api.github.com/users/mcdee/following{/other_user}",
      "gists_url": "https://api.github.com/users/mcdee/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mcdee/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mcdee/subscriptions",
      "organizations_url": "https://api.github.com/users/mcdee/orgs",
      "repos_url": "https://api.github.com/users/mcdee/repos",
      "events_url": "https://api.github.com/users/mcdee/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mcdee/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-20T09:48:27Z",
    "updated_at": "2019-12-20T09:48:27Z",
    "author_association": "CONTRIBUTOR",
    "body": "These are *additional* fields, the `VoluntaryExitTo` operation still has to be signed by the validator key as per the standard `VoluntaryExit` operation.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/comments/567863090/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/comments/725591556",
    "html_url": "https://github.com/ethereum/consensus-specs/issues/1543#issuecomment-725591556",
    "issue_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/1543",
    "id": 725591556,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcyNTU5MTU1Ng==",
    "user": {
      "login": "V-Vigg",
      "id": 50237309,
      "node_id": "MDQ6VXNlcjUwMjM3MzA5",
      "avatar_url": "https://avatars.githubusercontent.com/u/50237309?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/V-Vigg",
      "html_url": "https://github.com/V-Vigg",
      "followers_url": "https://api.github.com/users/V-Vigg/followers",
      "following_url": "https://api.github.com/users/V-Vigg/following{/other_user}",
      "gists_url": "https://api.github.com/users/V-Vigg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/V-Vigg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/V-Vigg/subscriptions",
      "organizations_url": "https://api.github.com/users/V-Vigg/orgs",
      "repos_url": "https://api.github.com/users/V-Vigg/repos",
      "events_url": "https://api.github.com/users/V-Vigg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/V-Vigg/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-11T18:37:40Z",
    "updated_at": "2020-11-11T18:38:11Z",
    "author_association": "NONE",
    "body": "I agree that there will be validators who have lost keys and seeds.  If a user enters now, the launchpad steps don't have you create a withdrawal key. If the seed is lost they will never be able to withdrawal.\r\n\r\nWould it make sense for `VoluntaryExit` to automatically withdrawal to the address that funded the validator, and for that to only require the private validator key?\r\n\r\nIf that was the case it would be a safer practice to never create the withdrawal key.  The only function of the withdrawal key would be to use the `VoluntaryExitTo` command for withdrawing somewhere other than the validator funding address.\r\n\r\nThat would solve most cases of lost keys, unless they also lost access to everything including their funding wallet.  ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/comments/725591556/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/comments/911009965",
    "html_url": "https://github.com/ethereum/consensus-specs/issues/1543#issuecomment-911009965",
    "issue_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/1543",
    "id": 911009965,
    "node_id": "IC_kwDOCOoGbc42TOit",
    "user": {
      "login": "TobesVibration",
      "id": 89404761,
      "node_id": "MDQ6VXNlcjg5NDA0NzYx",
      "avatar_url": "https://avatars.githubusercontent.com/u/89404761?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TobesVibration",
      "html_url": "https://github.com/TobesVibration",
      "followers_url": "https://api.github.com/users/TobesVibration/followers",
      "following_url": "https://api.github.com/users/TobesVibration/following{/other_user}",
      "gists_url": "https://api.github.com/users/TobesVibration/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TobesVibration/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TobesVibration/subscriptions",
      "organizations_url": "https://api.github.com/users/TobesVibration/orgs",
      "repos_url": "https://api.github.com/users/TobesVibration/repos",
      "events_url": "https://api.github.com/users/TobesVibration/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TobesVibration/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-02T01:37:05Z",
    "updated_at": "2021-09-02T01:37:05Z",
    "author_association": "NONE",
    "body": "Please Devs, please dont give up on this, I beg you. Thanks for the time shared with me this evening on Discord.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/comments/911009965/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/comments/988215585",
    "html_url": "https://github.com/ethereum/consensus-specs/issues/1543#issuecomment-988215585",
    "issue_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/1543",
    "id": 988215585,
    "node_id": "IC_kwDOCOoGbc465vkh",
    "user": {
      "login": "Skretch",
      "id": 1174923,
      "node_id": "MDQ6VXNlcjExNzQ5MjM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1174923?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Skretch",
      "html_url": "https://github.com/Skretch",
      "followers_url": "https://api.github.com/users/Skretch/followers",
      "following_url": "https://api.github.com/users/Skretch/following{/other_user}",
      "gists_url": "https://api.github.com/users/Skretch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Skretch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Skretch/subscriptions",
      "organizations_url": "https://api.github.com/users/Skretch/orgs",
      "repos_url": "https://api.github.com/users/Skretch/repos",
      "events_url": "https://api.github.com/users/Skretch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Skretch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-12-07T19:44:08Z",
    "updated_at": "2021-12-08T04:50:10Z",
    "author_association": "NONE",
    "body": "I don't know if this is possible still but wouldn't it be better to allow for funds to be withdrawn to a specific address initiated from the wallet that funded the validator OR the withdrawal keys with a minimum waiting period of for example 1 week but allow users to bypass this minimum by initiating the withdrawal from both funding address and withdrawal keys.\r\n\r\nThis way the withdrawal happens in one of these ways:\r\n 1. User lost one of the keys so they sign with the one they have and wait 7 days\r\n 2. An attacker got access to one of the keys and initiates a withdrawal, the user sees that a withdrawal has been initiated and has 7 days to use both their keys to override the withdrawal and send the funds to an address they control\r\n 3. An attacker has access to both keys, the user loses their funds\r\n 4. The user has both keys, they sign with both and don't have to wait 7 days to withdraw and they get top priority if any other withdrawal has been initiated\r\n 5. User only has one key and an attacker has one key, if the attacker has the same key as the user then it will be down to who initiates the withdrawal first, if the attacker has the opposite key of the user then priority could be given to the most secure key or it could come down to who initiates a withdrawal first. \r\n \r\nI'd argue that priority should be given to the funding wallet since I suspect most users funded their validator from a hardware wallet while I suspect a larger portion of users didn't generate their validator keys on an air-gapped fresh install. The counter-argument here would be that it is not the behavior expected when the user created the validator so some users might have used a throwaway funding wallet and no longer have access to that wallet, the chance that an attacker got access to the wallet and kept it I'd argue is minuscule.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/comments/988215585/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/comments/989044394",
    "html_url": "https://github.com/ethereum/consensus-specs/issues/1543#issuecomment-989044394",
    "issue_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/1543",
    "id": 989044394,
    "node_id": "IC_kwDOCOoGbc46856q",
    "user": {
      "login": "TobesVibration",
      "id": 89404761,
      "node_id": "MDQ6VXNlcjg5NDA0NzYx",
      "avatar_url": "https://avatars.githubusercontent.com/u/89404761?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TobesVibration",
      "html_url": "https://github.com/TobesVibration",
      "followers_url": "https://api.github.com/users/TobesVibration/followers",
      "following_url": "https://api.github.com/users/TobesVibration/following{/other_user}",
      "gists_url": "https://api.github.com/users/TobesVibration/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TobesVibration/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TobesVibration/subscriptions",
      "organizations_url": "https://api.github.com/users/TobesVibration/orgs",
      "repos_url": "https://api.github.com/users/TobesVibration/repos",
      "events_url": "https://api.github.com/users/TobesVibration/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TobesVibration/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-12-08T18:00:01Z",
    "updated_at": "2021-12-08T18:00:01Z",
    "author_association": "NONE",
    "body": "Hey Skretch, thanks for keeping the topic going, but sadly I think you answered your own question, what if some have two keys breached or used a throwaway wallet. So imho your option doesn't work, it wouldn't for me.\r\n\r\nI still think the easiest solution is to enable an option where withdrawals can only be made (Optionally) server side, unless someones network is being hacked how could their deposit be stolen. Maybe even a dongle could be created where details can be loaded onto the dongle and plugged into the server. There are solutions and I still have confidence Ethereum devs will find it. I would be devastated and let down big time if beta investors are left behind, we can & must pass this milestone together, everyone has a different reason for why they may have been breached, lets not punish anyone especially if there are ways to resolve the situation. Devs have said in the past they cannot divide the time for this issue, but they can for other issues so why not this one. There are thousands of Breached keys we know that already!\r\n\r\nI hope everyone is well. Good luck Client Devs. Even though you banned me from R&D I have confidence in you. I don't hold it against you, I am not out to get you. I just want to protect my investment, that is surely understandable and thats why people like me want to find a solution. Thanks for your time. We can do this. WAGMI ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/comments/989044394/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
