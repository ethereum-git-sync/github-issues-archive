{
  "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/491",
  "repository_url": "https://api.github.com/repos/ethereum/consensus-specs",
  "labels_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/491/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/491/comments",
  "events_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/491/events",
  "html_url": "https://github.com/ethereum/consensus-specs/issues/491",
  "id": 402178025,
  "node_id": "MDU6SXNzdWU0MDIxNzgwMjU=",
  "number": 491,
  "title": "SSZ spec ambiguity regarding Lists",
  "user": {
    "login": "holiman",
    "id": 142290,
    "node_id": "MDQ6VXNlcjE0MjI5MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/holiman",
    "html_url": "https://github.com/holiman",
    "followers_url": "https://api.github.com/users/holiman/followers",
    "following_url": "https://api.github.com/users/holiman/following{/other_user}",
    "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
    "organizations_url": "https://api.github.com/users/holiman/orgs",
    "repos_url": "https://api.github.com/users/holiman/repos",
    "events_url": "https://api.github.com/users/holiman/events{/privacy}",
    "received_events_url": "https://api.github.com/users/holiman/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1170174610,
      "node_id": "MDU6TGFiZWwxMTcwMTc0NjEw",
      "url": "https://api.github.com/repos/ethereum/consensus-specs/labels/scope:SSZ",
      "name": "scope:SSZ",
      "color": "77428D",
      "default": false,
      "description": "Simple Serialize"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2019-01-23T10:46:47Z",
  "updated_at": "2019-01-28T12:13:26Z",
  "closed_at": "2019-01-28T12:13:26Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "The spec says\r\n\r\n#### List/Vectors\r\n\r\nLists are a collection of elements of the same homogeneous type.\r\n\r\n1. Get the number of raw bytes to serialize: it is ``len(list) * sizeof(element)``.\r\n   * Encode that as a `4-byte` **little endian** `uint32`.\r\n\r\n...\r\n\r\n* *Note on efficiency*: consider using a container that does not need to iterate over all elements to get its length. For example Python lists, C++ vectors or Rust Vec.\r\n\r\n--------\r\n1.  the `len(list) * sizeof(element)` only works if all elements are of same fixed size. \r\n2. The 'Note on efficiency' is also only valid if all elements are of the same fixed size. \r\n\r\nThe spec says that it's the same homogenous type, not same fixed-size type. So the recommendations are wrong. \r\nHowever, it would be nice to have a `fixed-size list` type, since that would make encoding/decoding certain types of data simpler, and allow for things like lazy lookup of particular pieces of data. \r\n\r\nIt might be possible to define `bytes` and `bytesN` as subsets of those types of lists (where the size of each individual element is `1`). ",
  "closed_by": {
    "login": "holiman",
    "id": 142290,
    "node_id": "MDQ6VXNlcjE0MjI5MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/holiman",
    "html_url": "https://github.com/holiman",
    "followers_url": "https://api.github.com/users/holiman/followers",
    "following_url": "https://api.github.com/users/holiman/following{/other_user}",
    "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
    "organizations_url": "https://api.github.com/users/holiman/orgs",
    "repos_url": "https://api.github.com/users/holiman/repos",
    "events_url": "https://api.github.com/users/holiman/events{/privacy}",
    "received_events_url": "https://api.github.com/users/holiman/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/491/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/491/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/comments/456763528",
    "html_url": "https://github.com/ethereum/consensus-specs/issues/491#issuecomment-456763528",
    "issue_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/491",
    "id": 456763528,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1Njc2MzUyOA==",
    "user": {
      "login": "jannikluhn",
      "id": 29854669,
      "node_id": "MDQ6VXNlcjI5ODU0NjY5",
      "avatar_url": "https://avatars.githubusercontent.com/u/29854669?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jannikluhn",
      "html_url": "https://github.com/jannikluhn",
      "followers_url": "https://api.github.com/users/jannikluhn/followers",
      "following_url": "https://api.github.com/users/jannikluhn/following{/other_user}",
      "gists_url": "https://api.github.com/users/jannikluhn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jannikluhn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jannikluhn/subscriptions",
      "organizations_url": "https://api.github.com/users/jannikluhn/orgs",
      "repos_url": "https://api.github.com/users/jannikluhn/repos",
      "events_url": "https://api.github.com/users/jannikluhn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jannikluhn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-23T11:13:09Z",
    "updated_at": "2019-01-23T11:13:09Z",
    "author_association": "MEMBER",
    "body": "Referencing #232 and #484 \r\n\r\n> However, it would be nice to have a fixed-size list type, since that would make encoding/decoding certain types of data simpler, and allow for things like lazy lookup of particular pieces of data.\r\n\r\nWouldn't a fixed-size list essentially be a container?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/comments/456763528/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/comments/456766597",
    "html_url": "https://github.com/ethereum/consensus-specs/issues/491#issuecomment-456766597",
    "issue_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/491",
    "id": 456766597,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1Njc2NjU5Nw==",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-23T11:24:09Z",
    "updated_at": "2019-01-23T11:24:09Z",
    "author_association": "MEMBER",
    "body": "> Wouldn't a `fixed-size` list essentially be a container?\r\n\r\nMy bad, I meant a `fixed-size-elements` list. For example if we have a list of hashes, where the list-size is dynamic but each elem is `32` bytes. \r\n\r\nSo the possible options are (FS=fixedsize, DS=dynamicsize)\r\n\r\n1. FS elements, DS length. Not really well defined. If List, then suboptimal.\r\n2. FS elements, FS length. Container\r\n3. DS elements, DS length. List\r\n4. DS elements, FS length. Container\r\n\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/comments/456766597/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/comments/458108598",
    "html_url": "https://github.com/ethereum/consensus-specs/issues/491#issuecomment-458108598",
    "issue_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/491",
    "id": 458108598,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1ODEwODU5OA==",
    "user": {
      "login": "holiman",
      "id": 142290,
      "node_id": "MDQ6VXNlcjE0MjI5MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/142290?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holiman",
      "html_url": "https://github.com/holiman",
      "followers_url": "https://api.github.com/users/holiman/followers",
      "following_url": "https://api.github.com/users/holiman/following{/other_user}",
      "gists_url": "https://api.github.com/users/holiman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holiman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holiman/subscriptions",
      "organizations_url": "https://api.github.com/users/holiman/orgs",
      "repos_url": "https://api.github.com/users/holiman/repos",
      "events_url": "https://api.github.com/users/holiman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holiman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-28T12:13:26Z",
    "updated_at": "2019-01-28T12:13:26Z",
    "author_association": "MEMBER",
    "body": "I guess this can be closed now, with the updates to the spec. \r\nRegarding more optimized implementation of lists with `fixed-size` elements, I've realized that _that_ particular optimization can be left to the encoders, and does not actually need any change in the protocol.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/comments/458108598/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
