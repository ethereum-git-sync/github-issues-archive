{
  "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/2084",
  "repository_url": "https://api.github.com/repos/ethereum/consensus-specs",
  "labels_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/2084/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/2084/comments",
  "events_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/2084/events",
  "html_url": "https://github.com/ethereum/consensus-specs/issues/2084",
  "id": 710817172,
  "node_id": "MDU6SXNzdWU3MTA4MTcxNzI=",
  "number": 2084,
  "title": "A validator may be included both in a slashing and a voluntary exit in the same block, which causes the block invalid ",
  "user": {
    "login": "lucianyao",
    "id": 1046069,
    "node_id": "MDQ6VXNlcjEwNDYwNjk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1046069?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/lucianyao",
    "html_url": "https://github.com/lucianyao",
    "followers_url": "https://api.github.com/users/lucianyao/followers",
    "following_url": "https://api.github.com/users/lucianyao/following{/other_user}",
    "gists_url": "https://api.github.com/users/lucianyao/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/lucianyao/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/lucianyao/subscriptions",
    "organizations_url": "https://api.github.com/users/lucianyao/orgs",
    "repos_url": "https://api.github.com/users/lucianyao/repos",
    "events_url": "https://api.github.com/users/lucianyao/events{/privacy}",
    "received_events_url": "https://api.github.com/users/lucianyao/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2020-09-29T06:49:54Z",
  "updated_at": "2020-10-16T14:40:45Z",
  "closed_at": "2020-10-16T14:40:45Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "In a case that a validator is to exit, while it triggers a slashing, then\r\nIn block proposal:\r\nAccording to current spec of honest validators, the block proposer may include the same validator in both slashings and voluntary exits into the same block(since  the exits satisfies the verification conditions found in `exits processing` based on current beacon state).\r\n\r\nBut in state transition:\r\nThe block is not to be accepted by other validators, since, after `process_proposer_slashing` and `process_attester_slashing`, the exit_epoch will be set, while `process_voluntary_exit` will reject the voluntary exits whose exit epochs are set before.\r\n\r\nI checked lighthouse, prysm and nimbus, according to my limited investigations, I haven't seen these versions are trying to avoid the conflict.  ",
  "closed_by": {
    "login": "djrtwo",
    "id": 1433595,
    "node_id": "MDQ6VXNlcjE0MzM1OTU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1433595?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/djrtwo",
    "html_url": "https://github.com/djrtwo",
    "followers_url": "https://api.github.com/users/djrtwo/followers",
    "following_url": "https://api.github.com/users/djrtwo/following{/other_user}",
    "gists_url": "https://api.github.com/users/djrtwo/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/djrtwo/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/djrtwo/subscriptions",
    "organizations_url": "https://api.github.com/users/djrtwo/orgs",
    "repos_url": "https://api.github.com/users/djrtwo/repos",
    "events_url": "https://api.github.com/users/djrtwo/events{/privacy}",
    "received_events_url": "https://api.github.com/users/djrtwo/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/2084/reactions",
    "total_count": 1,
    "+1": 1,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/2084/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/comments/702680131",
    "html_url": "https://github.com/ethereum/consensus-specs/issues/2084#issuecomment-702680131",
    "issue_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/2084",
    "id": 702680131,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwMjY4MDEzMQ==",
    "user": {
      "login": "JustinDrake",
      "id": 731743,
      "node_id": "MDQ6VXNlcjczMTc0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/731743?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JustinDrake",
      "html_url": "https://github.com/JustinDrake",
      "followers_url": "https://api.github.com/users/JustinDrake/followers",
      "following_url": "https://api.github.com/users/JustinDrake/following{/other_user}",
      "gists_url": "https://api.github.com/users/JustinDrake/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JustinDrake/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JustinDrake/subscriptions",
      "organizations_url": "https://api.github.com/users/JustinDrake/orgs",
      "repos_url": "https://api.github.com/users/JustinDrake/repos",
      "events_url": "https://api.github.com/users/JustinDrake/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JustinDrake/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-02T11:27:59Z",
    "updated_at": "2020-10-02T11:27:59Z",
    "author_association": "MEMBER",
    "body": "Great point!",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/comments/702680131/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
