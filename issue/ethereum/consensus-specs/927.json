{
  "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/927",
  "repository_url": "https://api.github.com/repos/ethereum/consensus-specs",
  "labels_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/927/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/927/comments",
  "events_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/927/events",
  "html_url": "https://github.com/ethereum/consensus-specs/issues/927",
  "id": 433127262,
  "node_id": "MDU6SXNzdWU0MzMxMjcyNjI=",
  "number": 927,
  "title": "Test-generator: operations from blocks",
  "user": {
    "login": "protolambda",
    "id": 19571989,
    "node_id": "MDQ6VXNlcjE5NTcxOTg5",
    "avatar_url": "https://avatars.githubusercontent.com/u/19571989?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/protolambda",
    "html_url": "https://github.com/protolambda",
    "followers_url": "https://api.github.com/users/protolambda/followers",
    "following_url": "https://api.github.com/users/protolambda/following{/other_user}",
    "gists_url": "https://api.github.com/users/protolambda/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/protolambda/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/protolambda/subscriptions",
    "organizations_url": "https://api.github.com/users/protolambda/orgs",
    "repos_url": "https://api.github.com/users/protolambda/repos",
    "events_url": "https://api.github.com/users/protolambda/events{/privacy}",
    "received_events_url": "https://api.github.com/users/protolambda/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1295439957,
      "node_id": "MDU6TGFiZWwxMjk1NDM5OTU3",
      "url": "https://api.github.com/repos/ethereum/consensus-specs/labels/scope:CI/tests/pyspec",
      "name": "scope:CI/tests/pyspec",
      "color": "BDC0BA",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2019-04-15T07:11:01Z",
  "updated_at": "2019-06-09T23:21:11Z",
  "closed_at": "2019-06-09T23:21:11Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "Since the generators are now (waiting for #851 merge) integrated into the PySpec and hosted in this repository, we can push for much more completeness in YAML testing.\r\n\r\nThis issue is to track the progress of providing test-cases for block-operations (\"transactions\" previously).\r\nSuggestions for test-cases are welcome. And better, open up a PR with implementation (once #851 is ready)\r\n\r\n- [x] Deposits\r\n  - [x] Valid new deposit\r\n  - [x] Valid top-up\r\n  - [x] Invalid: deposit index\r\n  - [x] Invalid: deposit proof\r\n  - [x] Valid new deposit but invalid signature (proof of possession)\r\n- [x] Proposer slashings\r\n  - [x] Valid proposer slashing\r\n  - [x] Invalid proposer index\r\n  - [x] Invalid: different epoch\r\n  - [x] Invalid: Same block headers\r\n  - [x] Invalid: Non-slashable proposer (not activated) [TODO: correct, maybe just slash them anyway, \r\nsince they signed it?]\r\n  - [x] Invalid: Non-slashable proposer (slashed)\r\n  - [x] Invalid: Non-slashable proposer (withdrawn)\r\n  - [x] Invalid: Invalid signatures (either header, or both)\r\n- [x] Attester slashings\r\n  - [x] Invalid: Same attestation\r\n  - [x] Valid: double vote\r\n  - [x] Valid: surround vote\r\n  - [x] Invalid: no double or surround vote\r\n  - [x] Invalid: either attestation has invalid indexed form (custody bit indices wrong)\r\n  - [x] Invalid: no slashable indices\r\n  - [x] Invalid: invalid signatures (either attestation, or both)\r\n- [x] Attestations (inclusion)\r\n  - [x] Valid attestation\r\n  - [x] Valid previous epoch\r\n  - [x] Invalid: shard out of range\r\n  - [x] Invalid: incorrect source epoch (previous and current epoch)\r\n  - [x] Invalid: incorrect source root (previous and current epoch)\r\n  - [x] Invalid: non-zero crosslink root\r\n  - [x] Invalid: incorrect previous crosslink root with state (previous)\r\n  - [x] Invalid: source root is target root\r\n  - [x] Invalid: attestation references non-zero custody bitfield\r\n  - [x] Invalid: current and previous root switched\r\n  - [x] Invalid: mismatch in participants/custody bits\r\n  - [x] Invalid: invalid signature\r\n- [x] Voluntary Exits\r\n  - [x] Valid exit\r\n  - [x] Exit queue\r\n  - [x] Invalid: out of range validator index\r\n  - [x] Invalid: not active (activation phase)\r\n  - [x] Invalid: already exited\r\n  - [x] Invalid: voluntary exit is in the future\r\n  - [x] Invalid: exit is too soon\r\n  - [x] Invalid: invalid signature\r\n- [x] Transfers\r\n  - [x] Valid transfer from not yet activated validator\r\n  - [x] Valid transfer from withdrawable validator\r\n  - [x] Valid transfer, above effective balance\r\n  - [x] Valid transfer, above effective balance, just fee\r\n  - [x] Invalid: active, transfer past effective balance\r\n  - [x] Invalid: transfer past effective balance, by fee\r\n  - [x] Invalid: balance less than transfer amount\r\n  - [x] Invalid: balance less than fee amount\r\n  - [x] Invalid: transfer slot is not the current state slot\r\n  - [x] Invalid: withdrawal credentials are incorrect\r\n  - [x] Invalid: sender account is dust afterwards\r\n  - [x] Invalid: recipient account is dust afterwards\r\n  - [x] Invalid: incorrect signature\r\n\r\nstaged tests (i.e. need review/update):\r\n- [ ] Invalid: incorrect previous crosslink root with state (current epoch)",
  "closed_by": {
    "login": "protolambda",
    "id": 19571989,
    "node_id": "MDQ6VXNlcjE5NTcxOTg5",
    "avatar_url": "https://avatars.githubusercontent.com/u/19571989?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/protolambda",
    "html_url": "https://github.com/protolambda",
    "followers_url": "https://api.github.com/users/protolambda/followers",
    "following_url": "https://api.github.com/users/protolambda/following{/other_user}",
    "gists_url": "https://api.github.com/users/protolambda/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/protolambda/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/protolambda/subscriptions",
    "organizations_url": "https://api.github.com/users/protolambda/orgs",
    "repos_url": "https://api.github.com/users/protolambda/repos",
    "events_url": "https://api.github.com/users/protolambda/events{/privacy}",
    "received_events_url": "https://api.github.com/users/protolambda/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/927/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/927/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/comments/500242722",
    "html_url": "https://github.com/ethereum/consensus-specs/issues/927#issuecomment-500242722",
    "issue_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/927",
    "id": 500242722,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwMDI0MjcyMg==",
    "user": {
      "login": "JustinDrake",
      "id": 731743,
      "node_id": "MDQ6VXNlcjczMTc0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/731743?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JustinDrake",
      "html_url": "https://github.com/JustinDrake",
      "followers_url": "https://api.github.com/users/JustinDrake/followers",
      "following_url": "https://api.github.com/users/JustinDrake/following{/other_user}",
      "gists_url": "https://api.github.com/users/JustinDrake/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JustinDrake/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JustinDrake/subscriptions",
      "organizations_url": "https://api.github.com/users/JustinDrake/orgs",
      "repos_url": "https://api.github.com/users/JustinDrake/repos",
      "events_url": "https://api.github.com/users/JustinDrake/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JustinDrake/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-06-09T20:31:37Z",
    "updated_at": "2019-06-09T20:31:37Z",
    "author_association": "MEMBER",
    "body": "Can this be closed Proto?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/comments/500242722/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/comments/500253714",
    "html_url": "https://github.com/ethereum/consensus-specs/issues/927#issuecomment-500253714",
    "issue_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/927",
    "id": 500253714,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwMDI1MzcxNA==",
    "user": {
      "login": "protolambda",
      "id": 19571989,
      "node_id": "MDQ6VXNlcjE5NTcxOTg5",
      "avatar_url": "https://avatars.githubusercontent.com/u/19571989?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/protolambda",
      "html_url": "https://github.com/protolambda",
      "followers_url": "https://api.github.com/users/protolambda/followers",
      "following_url": "https://api.github.com/users/protolambda/following{/other_user}",
      "gists_url": "https://api.github.com/users/protolambda/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/protolambda/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/protolambda/subscriptions",
      "organizations_url": "https://api.github.com/users/protolambda/orgs",
      "repos_url": "https://api.github.com/users/protolambda/repos",
      "events_url": "https://api.github.com/users/protolambda/events{/privacy}",
      "received_events_url": "https://api.github.com/users/protolambda/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-06-09T23:21:11Z",
    "updated_at": "2019-06-09T23:21:11Z",
    "author_association": "MEMBER",
    "body": "Yes. I'm running coverage reports on ZRNT, and it's looking good for most parts of the spec, but will open another issue with remaining tests to be written later this week.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/comments/500253714/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
