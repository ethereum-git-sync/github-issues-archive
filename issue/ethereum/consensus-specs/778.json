{
  "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/778",
  "repository_url": "https://api.github.com/repos/ethereum/consensus-specs",
  "labels_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/778/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/778/comments",
  "events_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/778/events",
  "html_url": "https://github.com/ethereum/consensus-specs/issues/778",
  "id": 421448510,
  "node_id": "MDU6SXNzdWU0MjE0NDg1MTA=",
  "number": 778,
  "title": "SSZ: Allow partial deserialization of containers",
  "user": {
    "login": "jannikluhn",
    "id": 29854669,
    "node_id": "MDQ6VXNlcjI5ODU0NjY5",
    "avatar_url": "https://avatars.githubusercontent.com/u/29854669?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jannikluhn",
    "html_url": "https://github.com/jannikluhn",
    "followers_url": "https://api.github.com/users/jannikluhn/followers",
    "following_url": "https://api.github.com/users/jannikluhn/following{/other_user}",
    "gists_url": "https://api.github.com/users/jannikluhn/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jannikluhn/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jannikluhn/subscriptions",
    "organizations_url": "https://api.github.com/users/jannikluhn/orgs",
    "repos_url": "https://api.github.com/users/jannikluhn/repos",
    "events_url": "https://api.github.com/users/jannikluhn/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jannikluhn/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2019-03-15T10:23:18Z",
  "updated_at": "2019-03-29T11:40:25Z",
  "closed_at": "2019-03-29T11:40:25Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "To decode a SSZed string, we need to know its schema. This makes it a little clumsy to use SSZ as a network serialization format as there are multiple different message types with schemas that are unknown in advance. As far as I can see, the only solution to this is to serialize the actual message and then embed it as byte string in an envelope container. The receiver can then deserialize the envelope, read the message type id in the container, choose the appropriate schema from this id, and then deserialize the actual message. In some cases, we may even have to do this on multiple levels (e.g. to further distinguish between success and failure responses).\r\n\r\nIncidentally, containers that have a length prefix can successfully be interpreted as byte strings already. So in some sense containers embed sub-containers automatically as byte strings and we don't have to do this explicitly. This saves us one length prefix, we don't have to do anything special at serialization time, and it makes the process more elegant. Unfortunately, this breaks in the case in which containers have a fixed size as those don't have a length prefix.\r\n\r\nIf all of this makes sense, it might make sense to require a length prefix for all containers, no matter if they have a fixed size or not (assuming that the resulting overhead is acceptable and we actually are going to use SSZ for network messages).\r\n\r\n**Tl;dr**: If we require a length prefix for all containers to allow deserializing them as byte strings if we don't know their schema (yet).",
  "closed_by": {
    "login": "jannikluhn",
    "id": 29854669,
    "node_id": "MDQ6VXNlcjI5ODU0NjY5",
    "avatar_url": "https://avatars.githubusercontent.com/u/29854669?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jannikluhn",
    "html_url": "https://github.com/jannikluhn",
    "followers_url": "https://api.github.com/users/jannikluhn/followers",
    "following_url": "https://api.github.com/users/jannikluhn/following{/other_user}",
    "gists_url": "https://api.github.com/users/jannikluhn/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jannikluhn/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jannikluhn/subscriptions",
    "organizations_url": "https://api.github.com/users/jannikluhn/orgs",
    "repos_url": "https://api.github.com/users/jannikluhn/repos",
    "events_url": "https://api.github.com/users/jannikluhn/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jannikluhn/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/778/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/778/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/comments/473247191",
    "html_url": "https://github.com/ethereum/consensus-specs/issues/778#issuecomment-473247191",
    "issue_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/778",
    "id": 473247191,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3MzI0NzE5MQ==",
    "user": {
      "login": "protolambda",
      "id": 19571989,
      "node_id": "MDQ6VXNlcjE5NTcxOTg5",
      "avatar_url": "https://avatars.githubusercontent.com/u/19571989?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/protolambda",
      "html_url": "https://github.com/protolambda",
      "followers_url": "https://api.github.com/users/protolambda/followers",
      "following_url": "https://api.github.com/users/protolambda/following{/other_user}",
      "gists_url": "https://api.github.com/users/protolambda/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/protolambda/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/protolambda/subscriptions",
      "organizations_url": "https://api.github.com/users/protolambda/orgs",
      "repos_url": "https://api.github.com/users/protolambda/repos",
      "events_url": "https://api.github.com/users/protolambda/events{/privacy}",
      "received_events_url": "https://api.github.com/users/protolambda/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-15T11:11:11Z",
    "updated_at": "2019-03-15T11:11:11Z",
    "author_association": "MEMBER",
    "body": "Please refer to https://github.com/ethereum/eth2.0-specs/issues/754\r\nAnd the corresponding brain dump: https://notes.ethereum.org/QF8jgOQbRTWUhK1zoi8D4Q#\r\n\r\nThe idea there for single value encoding + two structure encoding options should cover a lot of use-cases.\r\nAlso note that we want an option without the unnecessary-meta encodings for constrained usages such as proofs. Agree that other alternatives make sense in other use cases.\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/comments/473247191/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/comments/477967817",
    "html_url": "https://github.com/ethereum/consensus-specs/issues/778#issuecomment-477967817",
    "issue_url": "https://api.github.com/repos/ethereum/consensus-specs/issues/778",
    "id": 477967817,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3Nzk2NzgxNw==",
    "user": {
      "login": "jannikluhn",
      "id": 29854669,
      "node_id": "MDQ6VXNlcjI5ODU0NjY5",
      "avatar_url": "https://avatars.githubusercontent.com/u/29854669?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jannikluhn",
      "html_url": "https://github.com/jannikluhn",
      "followers_url": "https://api.github.com/users/jannikluhn/followers",
      "following_url": "https://api.github.com/users/jannikluhn/following{/other_user}",
      "gists_url": "https://api.github.com/users/jannikluhn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jannikluhn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jannikluhn/subscriptions",
      "organizations_url": "https://api.github.com/users/jannikluhn/orgs",
      "repos_url": "https://api.github.com/users/jannikluhn/repos",
      "events_url": "https://api.github.com/users/jannikluhn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jannikluhn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-29T11:40:25Z",
    "updated_at": "2019-03-29T11:40:25Z",
    "author_association": "MEMBER",
    "body": "Outdated",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/consensus-specs/issues/comments/477967817/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
