{
  "url": "https://api.github.com/repos/ethereum/staking-launchpad/issues/368",
  "repository_url": "https://api.github.com/repos/ethereum/staking-launchpad",
  "labels_url": "https://api.github.com/repos/ethereum/staking-launchpad/issues/368/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/staking-launchpad/issues/368/comments",
  "events_url": "https://api.github.com/repos/ethereum/staking-launchpad/issues/368/events",
  "html_url": "https://github.com/ethereum/staking-launchpad/issues/368",
  "id": 814727330,
  "node_id": "MDU6SXNzdWU4MTQ3MjczMzA=",
  "number": 368,
  "title": "Top Up page improvements",
  "user": {
    "login": "samajammin",
    "id": 8097623,
    "node_id": "MDQ6VXNlcjgwOTc2MjM=",
    "avatar_url": "https://avatars.githubusercontent.com/u/8097623?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/samajammin",
    "html_url": "https://github.com/samajammin",
    "followers_url": "https://api.github.com/users/samajammin/followers",
    "following_url": "https://api.github.com/users/samajammin/following{/other_user}",
    "gists_url": "https://api.github.com/users/samajammin/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/samajammin/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/samajammin/subscriptions",
    "organizations_url": "https://api.github.com/users/samajammin/orgs",
    "repos_url": "https://api.github.com/users/samajammin/repos",
    "events_url": "https://api.github.com/users/samajammin/events{/privacy}",
    "received_events_url": "https://api.github.com/users/samajammin/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1810641663,
      "node_id": "MDU6TGFiZWwxODEwNjQxNjYz",
      "url": "https://api.github.com/repos/ethereum/staking-launchpad/labels/enhancement",
      "name": "enhancement",
      "color": "a2eeef",
      "default": true,
      "description": "New feature or request"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2021-02-23T18:34:08Z",
  "updated_at": "2021-02-24T23:16:32Z",
  "closed_at": "2021-02-24T23:16:23Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "Hey @CarlBeek - was looking through this Top Up feature with @wackerow & @ryancreatescopy. We have a few thoughts on potential improvements. Would love your input!\r\n\r\n### 1 - There's a couple edge cases on this feature that lead to suboptimal UX\r\n\r\nOverall our stance here is that we should provide warning / advisories but allow user to top up (up to a max of 33 ETH) if they choose to do so so they can ensure they have the max effective balance of 32 ETH.\r\n\r\n**Scenario A: Validator balance is >31 ETH & <32 ETH. Effective balance is 31 ETH**\r\n\r\nCurrent world: \r\n- Top up input auto-populates value to (32 ETH - their balance) BUT this value is <1 ETH which is invalid. This creates a confusing UX.\r\n- User can't do anything... can't top up at all, button is disabled.\r\n\r\n![image](https://user-images.githubusercontent.com/8097623/108895531-8ded9a00-75c8-11eb-9437-6a5d7185a8b0.png)\r\n\r\nProposal:\r\n- Allow users to send 1 ETH or more (since contract requires minimum of 1 ETH). We add a warning but allow users to top up balance to be over 32 ETH, so that they can get effective balance to 32 ETH. If we want to add safeguards, we could force the maximum top up to bring them to <33 ETH.\r\n- Auto-populate input value to 1 ETH (i.e. prevent value from ever being <1.0 ETH, since that is invalid)\r\n\r\n**Scenario B: Validator balance is >32 ETH but <32.25 ETH. Effective balance is 31 ETH**\r\n\r\nSimilar situation here - if validator had dropped below effective 32 ETH balance at some point, there's a chance they may want to top up to push up that effective balance.\r\n\r\n### 2 - Within the content we added a blurb explaining true balance vs. effective balance to make this more clear. We'd plan to link to [this article](https://www.attestant.io/posts/understanding-validator-effective-balance/). Any opposition to this? \r\n\r\nI was even thinking of reaching out to the author to see if we could add the content to the Launchpad so that we could translate the content. That might be an initiative for a future iteration of translations though as we'd need approval from the author & we'd have to add the page & configure it for translations.",
  "closed_by": {
    "login": "samajammin",
    "id": 8097623,
    "node_id": "MDQ6VXNlcjgwOTc2MjM=",
    "avatar_url": "https://avatars.githubusercontent.com/u/8097623?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/samajammin",
    "html_url": "https://github.com/samajammin",
    "followers_url": "https://api.github.com/users/samajammin/followers",
    "following_url": "https://api.github.com/users/samajammin/following{/other_user}",
    "gists_url": "https://api.github.com/users/samajammin/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/samajammin/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/samajammin/subscriptions",
    "organizations_url": "https://api.github.com/users/samajammin/orgs",
    "repos_url": "https://api.github.com/users/samajammin/repos",
    "events_url": "https://api.github.com/users/samajammin/events{/privacy}",
    "received_events_url": "https://api.github.com/users/samajammin/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/staking-launchpad/issues/368/reactions",
    "total_count": 3,
    "+1": 3,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/staking-launchpad/issues/368/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/staking-launchpad/issues/comments/785007819",
    "html_url": "https://github.com/ethereum/staking-launchpad/issues/368#issuecomment-785007819",
    "issue_url": "https://api.github.com/repos/ethereum/staking-launchpad/issues/368",
    "id": 785007819,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4NTAwNzgxOQ==",
    "user": {
      "login": "CarlBeek",
      "id": 12530043,
      "node_id": "MDQ6VXNlcjEyNTMwMDQz",
      "avatar_url": "https://avatars.githubusercontent.com/u/12530043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/CarlBeek",
      "html_url": "https://github.com/CarlBeek",
      "followers_url": "https://api.github.com/users/CarlBeek/followers",
      "following_url": "https://api.github.com/users/CarlBeek/following{/other_user}",
      "gists_url": "https://api.github.com/users/CarlBeek/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/CarlBeek/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/CarlBeek/subscriptions",
      "organizations_url": "https://api.github.com/users/CarlBeek/orgs",
      "repos_url": "https://api.github.com/users/CarlBeek/repos",
      "events_url": "https://api.github.com/users/CarlBeek/events{/privacy}",
      "received_events_url": "https://api.github.com/users/CarlBeek/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-24T11:22:26Z",
    "updated_at": "2021-02-24T11:22:26Z",
    "author_association": "MEMBER",
    "body": "Looping in @Battenfield and @georgeweiler as I was discussing this with them in an out of band channel.\r\n\r\n### 1 - Top-up amounts\r\n\r\nI am coming around to the idea of allowing users to top-up to get their Effective Balance (henceforth EB) up to 32 ETH. We should not be deciding for users how they handle their validators. I like your proposal, @samajammin, but I think we can tweak it further based off of the hard requirements of validating.\r\n\r\n* Minimum top-up: 1 ETH\r\n* Max top-up (Whichever is greater):\r\n    * 32.26 - effective balance\r\n    * 1 ETH\r\n* No top-ups for exited or slashed validators\r\n\r\nSome user stories (modified from a a discussion with @Battenfield):\r\n\r\n* User has 30.5ETH -> User can deposit 1-1.76ETH\r\n* User has 31.26ETH -> User can only deposit 1ETH with an additional consent warning that 1ETH is the minimum\r\n* User has been slashed -> can not deposit\r\n\r\n### 2 - EB Content:\r\n\r\nThat article is really well done and really digs down into the technicals, I like it. I agree that we should ask to borrow some of the content to host ourselves and get translated. üëç ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/staking-launchpad/issues/comments/785007819/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/staking-launchpad/issues/comments/785457281",
    "html_url": "https://github.com/ethereum/staking-launchpad/issues/368#issuecomment-785457281",
    "issue_url": "https://api.github.com/repos/ethereum/staking-launchpad/issues/368",
    "id": 785457281,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4NTQ1NzI4MQ==",
    "user": {
      "login": "samajammin",
      "id": 8097623,
      "node_id": "MDQ6VXNlcjgwOTc2MjM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8097623?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/samajammin",
      "html_url": "https://github.com/samajammin",
      "followers_url": "https://api.github.com/users/samajammin/followers",
      "following_url": "https://api.github.com/users/samajammin/following{/other_user}",
      "gists_url": "https://api.github.com/users/samajammin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/samajammin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/samajammin/subscriptions",
      "organizations_url": "https://api.github.com/users/samajammin/orgs",
      "repos_url": "https://api.github.com/users/samajammin/repos",
      "events_url": "https://api.github.com/users/samajammin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/samajammin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-24T23:16:22Z",
    "updated_at": "2021-02-24T23:16:32Z",
    "author_association": "MEMBER",
    "body": "Solved in #363 ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/staking-launchpad/issues/comments/785457281/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
