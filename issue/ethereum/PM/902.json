{
  "url": "https://api.github.com/repos/ethereum/pm/issues/902",
  "repository_url": "https://api.github.com/repos/ethereum/pm",
  "labels_url": "https://api.github.com/repos/ethereum/pm/issues/902/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/pm/issues/902/comments",
  "events_url": "https://api.github.com/repos/ethereum/pm/issues/902/events",
  "html_url": "https://github.com/ethereum/pm/issues/902",
  "id": 1995553340,
  "node_id": "I_kwDOBCfO0M528bo8",
  "number": 902,
  "title": "Verkle Implementers Call #8",
  "user": {
    "login": "jrudolf",
    "id": 3322549,
    "node_id": "MDQ6VXNlcjMzMjI1NDk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/3322549?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jrudolf",
    "html_url": "https://github.com/jrudolf",
    "followers_url": "https://api.github.com/users/jrudolf/followers",
    "following_url": "https://api.github.com/users/jrudolf/following{/other_user}",
    "gists_url": "https://api.github.com/users/jrudolf/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jrudolf/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jrudolf/subscriptions",
    "organizations_url": "https://api.github.com/users/jrudolf/orgs",
    "repos_url": "https://api.github.com/users/jrudolf/repos",
    "events_url": "https://api.github.com/users/jrudolf/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jrudolf/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2023-11-15T20:53:48Z",
  "updated_at": "2023-11-30T09:50:01Z",
  "closed_at": "2023-11-29T22:45:45Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "[Get added to the calendar event here](https://docs.google.com/forms/d/1yTN_Gf4oPGg6z4xenaYK2QCSyP2keLrhfqyeZXs851k)\r\n\r\n### Meeting Info\r\n\r\n- [November 28, 2023, 14:00 UTC](https://savvytime.com/converter/utc-to-germany-berlin-united-kingdom-london-ny-new-york-city-ca-san-francisco-china-shanghai-japan-tokyo-australia-sydney/nov-28-2023/2-00pm)\r\n- Duration: 60 minutes\r\n- Meet link: https://meet.google.com/odf-tghm-ttu\r\n- Recording: https://youtu.be/UOEfqSfE4wg\r\n\r\n### Agenda\r\n\r\n1. Client team updates\r\n2. Kaustinen relaunched\r\n    1. [verkle-gen-devnet](https://verkle-gen-devnet-2.ethpandaops.io/)\r\n    3. [see here](https://notes.ethereum.org/@ethpandaops/verkle-gen-devnet-2) for more info\r\n3. Proposal for new perf optimization for the conversion (MPT -> Verkle)\r\n4. BLOCKHASH opcode for new stateless clients\r\n    1. Discussion in [R&D Discord](https://discord.com/channels/595666850260713488/824798757618188339/1178647376844570694) \r\n    2. Note from Micah: two plans I have seen are to include the needed mappings in the witness, or move the mapping into the state trie (so BLOCKHASH opcode is basically just an SLOAD of sorts).\r\n    3. Note 2: also need to think about BLOBHASH in a post-dencun world \r\n5. [Verkle proof verification precompile](https://github.com/ethereum/EIPs/pull/7926)\r\n    1. Protoâ€™s proposal for adding MPT to the precompile \r\n    2. Also, adding new feature to the precompile so you can determine whether the key is in the witness or not. Verifying keys belong to the witness.",
  "closed_by": {
    "login": "jrudolf",
    "id": 3322549,
    "node_id": "MDQ6VXNlcjMzMjI1NDk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/3322549?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jrudolf",
    "html_url": "https://github.com/jrudolf",
    "followers_url": "https://api.github.com/users/jrudolf/followers",
    "following_url": "https://api.github.com/users/jrudolf/following{/other_user}",
    "gists_url": "https://api.github.com/users/jrudolf/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jrudolf/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jrudolf/subscriptions",
    "organizations_url": "https://api.github.com/users/jrudolf/orgs",
    "repos_url": "https://api.github.com/users/jrudolf/repos",
    "events_url": "https://api.github.com/users/jrudolf/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jrudolf/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/pm/issues/902/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/pm/issues/902/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/pm/issues/comments/1829699020",
    "html_url": "https://github.com/ethereum/pm/issues/902#issuecomment-1829699020",
    "issue_url": "https://api.github.com/repos/ethereum/pm/issues/902",
    "id": 1829699020,
    "node_id": "IC_kwDOBCfO0M5tDv3M",
    "user": {
      "login": "holgerd77",
      "id": 931137,
      "node_id": "MDQ6VXNlcjkzMTEzNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/931137?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holgerd77",
      "html_url": "https://github.com/holgerd77",
      "followers_url": "https://api.github.com/users/holgerd77/followers",
      "following_url": "https://api.github.com/users/holgerd77/following{/other_user}",
      "gists_url": "https://api.github.com/users/holgerd77/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holgerd77/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holgerd77/subscriptions",
      "organizations_url": "https://api.github.com/users/holgerd77/orgs",
      "repos_url": "https://api.github.com/users/holgerd77/repos",
      "events_url": "https://api.github.com/users/holgerd77/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holgerd77/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-11-28T11:59:06Z",
    "updated_at": "2023-11-28T11:59:06Z",
    "author_association": "MEMBER",
    "body": "Hi everyone, Holger from the JavaScript team here, not sure if I can make it on today's call but generally planning to join the Verkle calls more often in the future.\r\n\r\nSome notes on the 4. BLOCKHASH opcode discussion respectively sorting this a bit, so there seems to be the following options:\r\n\r\n1. **Include mappings in the wittness**. This adds some significant amount of extra data to the block size, if all mappings are used something like at least 10KB+ (32 Bytes * 256 just for the hashes). This solution also disallows/hinders dynamic statless execution contexts (e.g. running arbitrary eth_calls for a stateless client, e.g. in combination with getting state from somewhere else (portal network e.g.)), at least for the case that there is no alternative way to retrieve num -> hash mapping for the last 256 blocks (also by portal network e.g.?).\r\n\r\n2. **move the mapping into the state trie**. I wonder what this means? Is this some sort of specialized solution? Or does this mean to deploy this as as an additional (system) contract?\r\n\r\nMicah mentioned in the discussion that it is pretty much unlikely that `BLOCKHASH` will be deprecated. Guess it nevertheless can't hurt to put this into the discussion here at least as a theoretical option and not unnecessarily narrow the discussion from the beginning, since `BLOCKHASH` definitely is a factor of making stateless execution harder (or to say: \"less pure\").\r\n\r\n3. (theoretical) **Deprecate BLOCKHASH** opcode. This will break contracts.\r\n\r\nMaybe (?) there is room for a fourth option to discuss which would be to narrow down on the 256 blocks range by HF or at least analyze/discuss what the effects would be if this would be lowered to a \"waitable\" number (so that stateless clients have to wait for max 10 blocks/slots e.g. until all mappings are available).\r\n\r\n4. **Lower BLOCKHASH range from 256 to x**. Likely also will break contracts.\r\n\r\nHere are some numbers for orientation:\r\n256 blocks: 51,2 min\r\n100 blocks: 20 min\r\n50 blocks: 10 min\r\n10 blocks: 2 min\r\n\r\nOk, maybe this helps a bit for sorting. ðŸ™‚ \r\n\r\nSomeone any other possibilities/solutions in mind?\r\n\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/pm/issues/comments/1829699020/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/pm/issues/comments/1829713858",
    "html_url": "https://github.com/ethereum/pm/issues/902#issuecomment-1829713858",
    "issue_url": "https://api.github.com/repos/ethereum/pm/issues/902",
    "id": 1829713858,
    "node_id": "IC_kwDOBCfO0M5tDzfC",
    "user": {
      "login": "holgerd77",
      "id": 931137,
      "node_id": "MDQ6VXNlcjkzMTEzNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/931137?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/holgerd77",
      "html_url": "https://github.com/holgerd77",
      "followers_url": "https://api.github.com/users/holgerd77/followers",
      "following_url": "https://api.github.com/users/holgerd77/following{/other_user}",
      "gists_url": "https://api.github.com/users/holgerd77/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/holgerd77/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/holgerd77/subscriptions",
      "organizations_url": "https://api.github.com/users/holgerd77/orgs",
      "repos_url": "https://api.github.com/users/holgerd77/repos",
      "events_url": "https://api.github.com/users/holgerd77/events{/privacy}",
      "received_events_url": "https://api.github.com/users/holgerd77/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-11-28T12:08:17Z",
    "updated_at": "2023-11-28T12:08:17Z",
    "author_association": "MEMBER",
    "body": "And some first round googling adds this e.g.:\r\n\r\n- https://ethresear.ch/t/the-curious-case-of-blockhash-and-stateless-ethereum/7304/4",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/pm/issues/comments/1829713858/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/pm/issues/comments/1832819683",
    "html_url": "https://github.com/ethereum/pm/issues/902#issuecomment-1832819683",
    "issue_url": "https://api.github.com/repos/ethereum/pm/issues/902",
    "id": 1832819683,
    "node_id": "IC_kwDOBCfO0M5tPpvj",
    "user": {
      "login": "jrudolf",
      "id": 3322549,
      "node_id": "MDQ6VXNlcjMzMjI1NDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3322549?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jrudolf",
      "html_url": "https://github.com/jrudolf",
      "followers_url": "https://api.github.com/users/jrudolf/followers",
      "following_url": "https://api.github.com/users/jrudolf/following{/other_user}",
      "gists_url": "https://api.github.com/users/jrudolf/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jrudolf/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jrudolf/subscriptions",
      "organizations_url": "https://api.github.com/users/jrudolf/orgs",
      "repos_url": "https://api.github.com/users/jrudolf/repos",
      "events_url": "https://api.github.com/users/jrudolf/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jrudolf/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-11-29T22:45:45Z",
    "updated_at": "2023-11-29T22:45:45Z",
    "author_association": "MEMBER",
    "body": "Closing in favor of https://github.com/ethereum/pm/issues/917",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/pm/issues/comments/1832819683/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
