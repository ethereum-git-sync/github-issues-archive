{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/10906",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/10906/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/10906/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/10906/events",
  "html_url": "https://github.com/ethereum/solidity/issues/10906",
  "id": 802811273,
  "node_id": "MDU6SXNzdWU4MDI4MTEyNzM=",
  "number": 10906,
  "title": "Support for Bimaps",
  "user": {
    "login": "teddywilson",
    "id": 10104111,
    "node_id": "MDQ6VXNlcjEwMTA0MTEx",
    "avatar_url": "https://avatars.githubusercontent.com/u/10104111?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/teddywilson",
    "html_url": "https://github.com/teddywilson",
    "followers_url": "https://api.github.com/users/teddywilson/followers",
    "following_url": "https://api.github.com/users/teddywilson/following{/other_user}",
    "gists_url": "https://api.github.com/users/teddywilson/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/teddywilson/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/teddywilson/subscriptions",
    "organizations_url": "https://api.github.com/users/teddywilson/orgs",
    "repos_url": "https://api.github.com/users/teddywilson/repos",
    "events_url": "https://api.github.com/users/teddywilson/events{/privacy}",
    "received_events_url": "https://api.github.com/users/teddywilson/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 785717317,
      "node_id": "MDU6TGFiZWw3ODU3MTczMTc=",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/language%20design%20:rage4:",
      "name": "language design :rage4:",
      "color": "9d76d3",
      "default": false,
      "description": "Any changes to the language, e.g. new features"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2021-02-06T23:09:32Z",
  "updated_at": "2021-02-20T13:22:55Z",
  "closed_at": "2021-02-20T13:22:55Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "It would be great if Solidity would support bidirectional mappings. As far as I understand, mappings only work in a single direction. An example of this, in C++, is the [Boost Bimap](https://www.boost.org/doc/libs/1_67_0/libs/bimap/doc/html/index.html).\r\n\r\nA simple example might be where you have TokenIds and Addresses. If you want to be able to get the address for a given TokenIds (in constant time), you need to hold a `TokenId -> Address` mapping. Conversely, if you want to retrieve all of the TokenIds for a given address (in constant time), you need to hold an additional mapping, along the lines of `Address -> [TokenId]`.\r\n\r\nIs this something that would ever be offered by Solidity? It would offer better centralization of data for such situations.\r\n\r\nThanks!\r\n\r\n(I understand this request lacks some criteria â€“ I figured it was worth asking generally before delving into too much detail)",
  "closed_by": {
    "login": "cameel",
    "id": 137030,
    "node_id": "MDQ6VXNlcjEzNzAzMA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/cameel",
    "html_url": "https://github.com/cameel",
    "followers_url": "https://api.github.com/users/cameel/followers",
    "following_url": "https://api.github.com/users/cameel/following{/other_user}",
    "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
    "organizations_url": "https://api.github.com/users/cameel/orgs",
    "repos_url": "https://api.github.com/users/cameel/repos",
    "events_url": "https://api.github.com/users/cameel/events{/privacy}",
    "received_events_url": "https://api.github.com/users/cameel/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/10906/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/10906/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/774563361",
    "html_url": "https://github.com/ethereum/solidity/issues/10906#issuecomment-774563361",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/10906",
    "id": 774563361,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3NDU2MzM2MQ==",
    "user": {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-07T00:04:08Z",
    "updated_at": "2021-02-07T00:04:08Z",
    "author_association": "MEMBER",
    "body": "There are currently no plans for that as far as I know.\r\n\r\nThere are many useful data structures and bimap is not necessarily the most important one. I don't think they should be all baked into the language anyway. That work is probably better spent towards introducing templates #869 which would make reusable custom implementations of such structures possible. Maybe a bimap could one day be a part of the standard library (that we're currently brainstorming, see #10282) but definitely not in the near future - the stuff it's going to contain initially will be much lower level and I think that data structures would be something more suited for third-party libraries.\r\n\r\nAs for bimap specifically, even if we did decide to add it, it would be just syntactic sugar, not something you cannot achieve currently by just storing two maps. One of the biggest benefits of Boost bimap is that you don't have to waste space storing keys and values twice. But in Solidity keys are not stored anyway (that's why you can't iterate over a mapping unless you keep track of keys separately) so two separate maps are already the best you can get.\r\n\r\nBy the way, this question sounds like a very good topic for our new language forum: https://forum.soliditylang.org. This is a bug tracker and people come here mostly to report problems so any language design discussion moves at a glacial pace (spurred by someone randomly finding the topic). There aren't many topics there yet since people interested in discussing the language are slowly migrating off the old mailing list but I think that eventually it will be a better place for a lively discussion. I'd encourage you to try posting there :)",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/774563361/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/782651108",
    "html_url": "https://github.com/ethereum/solidity/issues/10906#issuecomment-782651108",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/10906",
    "id": 782651108,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4MjY1MTEwOA==",
    "user": {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-20T13:22:55Z",
    "updated_at": "2021-02-20T13:22:55Z",
    "author_association": "MEMBER",
    "body": "I think the question has been answered so I'm closing this. But feel free to post on the forum if you'd like to discuss this in more detail!",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/782651108/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
