{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/4751",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/4751/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/4751/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/4751/events",
  "html_url": "https://github.com/ethereum/solidity/issues/4751",
  "id": 348533154,
  "node_id": "MDU6SXNzdWUzNDg1MzMxNTQ=",
  "number": 4751,
  "title": "Missing return statement on functions do not issue an error",
  "user": {
    "login": "mattaereal",
    "id": 388605,
    "node_id": "MDQ6VXNlcjM4ODYwNQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/388605?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/mattaereal",
    "html_url": "https://github.com/mattaereal",
    "followers_url": "https://api.github.com/users/mattaereal/followers",
    "following_url": "https://api.github.com/users/mattaereal/following{/other_user}",
    "gists_url": "https://api.github.com/users/mattaereal/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/mattaereal/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mattaereal/subscriptions",
    "organizations_url": "https://api.github.com/users/mattaereal/orgs",
    "repos_url": "https://api.github.com/users/mattaereal/repos",
    "events_url": "https://api.github.com/users/mattaereal/events{/privacy}",
    "received_events_url": "https://api.github.com/users/mattaereal/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 785717317,
      "node_id": "MDU6TGFiZWw3ODU3MTczMTc=",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/language%20design%20:rage4:",
      "name": "language design :rage4:",
      "color": "9d76d3",
      "default": false,
      "description": "Any changes to the language, e.g. new features"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "Marenz",
    "id": 424752,
    "node_id": "MDQ6VXNlcjQyNDc1Mg==",
    "avatar_url": "https://avatars.githubusercontent.com/u/424752?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Marenz",
    "html_url": "https://github.com/Marenz",
    "followers_url": "https://api.github.com/users/Marenz/followers",
    "following_url": "https://api.github.com/users/Marenz/following{/other_user}",
    "gists_url": "https://api.github.com/users/Marenz/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Marenz/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Marenz/subscriptions",
    "organizations_url": "https://api.github.com/users/Marenz/orgs",
    "repos_url": "https://api.github.com/users/Marenz/repos",
    "events_url": "https://api.github.com/users/Marenz/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Marenz/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "Marenz",
      "id": 424752,
      "node_id": "MDQ6VXNlcjQyNDc1Mg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/424752?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Marenz",
      "html_url": "https://github.com/Marenz",
      "followers_url": "https://api.github.com/users/Marenz/followers",
      "following_url": "https://api.github.com/users/Marenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/Marenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Marenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Marenz/subscriptions",
      "organizations_url": "https://api.github.com/users/Marenz/orgs",
      "repos_url": "https://api.github.com/users/Marenz/repos",
      "events_url": "https://api.github.com/users/Marenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Marenz/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2018-08-08T00:33:23Z",
  "updated_at": "2020-10-13T13:35:06Z",
  "closed_at": "2020-10-13T13:35:06Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "_This issue is being reported as part of the current audit being held by Zeppelin Solutions to Solidity's compiler (tag v0.4.24)._\r\n\r\n## Description\r\nWhen a function is declared with a `return` parameter, but the function body has no `return` statement, the compiler does not show an error nor warns the user about this.\r\n\r\n## Environment\r\n- Compiler version: v0.4.24\r\n\r\n## Steps to Reproduce\r\n```solidity\r\npragma solidity ^0.4.24;\r\ncontract Empty {\r\n   int variableName;\r\n   constructor() public {\r\n       variableName = 0;\r\n   }\r\n   function emptyReturn() public pure returns (int) { }\r\n   function setWithEmptyReturn() public {\r\n       variableName = emptyReturn();\r\n   }\r\n}\r\n```\r\n## Related issues\r\nI tried to find if this was a duplicate, but couldn't find anyone reporting exactly the same.\r\nI also saw you were working on both #4541 #2951 , and thought it would save you time if I report this one now, so you could decide where and how to respond to it before finishing other related issues.",
  "closed_by": {
    "login": "chriseth",
    "id": 9073706,
    "node_id": "MDQ6VXNlcjkwNzM3MDY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/chriseth",
    "html_url": "https://github.com/chriseth",
    "followers_url": "https://api.github.com/users/chriseth/followers",
    "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
    "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
    "organizations_url": "https://api.github.com/users/chriseth/orgs",
    "repos_url": "https://api.github.com/users/chriseth/repos",
    "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
    "received_events_url": "https://api.github.com/users/chriseth/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/4751/reactions",
    "total_count": 2,
    "+1": 2,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/4751/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/411381687",
    "html_url": "https://github.com/ethereum/solidity/issues/4751#issuecomment-411381687",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/4751",
    "id": 411381687,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMTM4MTY4Nw==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-08T12:03:09Z",
    "updated_at": "2018-08-08T12:03:09Z",
    "author_association": "MEMBER",
    "body": "Note that this behaviour is on purpose. There is a warning as soon as the return parameter has a name. I still put it up for discussion. There might be a duplicate, though.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/411381687/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/411385118",
    "html_url": "https://github.com/ethereum/solidity/issues/4751#issuecomment-411385118",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/4751",
    "id": 411385118,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMTM4NTExOA==",
    "user": {
      "login": "ekpyron",
      "id": 1347491,
      "node_id": "MDQ6VXNlcjEzNDc0OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1347491?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ekpyron",
      "html_url": "https://github.com/ekpyron",
      "followers_url": "https://api.github.com/users/ekpyron/followers",
      "following_url": "https://api.github.com/users/ekpyron/following{/other_user}",
      "gists_url": "https://api.github.com/users/ekpyron/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ekpyron/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ekpyron/subscriptions",
      "organizations_url": "https://api.github.com/users/ekpyron/orgs",
      "repos_url": "https://api.github.com/users/ekpyron/repos",
      "events_url": "https://api.github.com/users/ekpyron/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ekpyron/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-08T12:18:11Z",
    "updated_at": "2018-08-08T12:18:11Z",
    "author_association": "MEMBER",
    "body": "We could use the control flow analysis to warn (or even raise an error, although that may be too much), if there is any code path that leaves any return value unassigned - that would work for both named and unnamed return values. I think it's a good idea.\r\n\r\nWe should think about patterns like in https://github.com/ethereum/solidity/blob/42447a14ebc146dd3ff3034360e85bebe3f34ce6/test/compilationTests/milestonetracker/RLP.sol#L172, though, but I think this code is bad/dangerous anyways and should probably be changed.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/411385118/reactions",
      "total_count": 4,
      "+1": 4,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/597030287",
    "html_url": "https://github.com/ethereum/solidity/issues/4751#issuecomment-597030287",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/4751",
    "id": 597030287,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5NzAzMDI4Nw==",
    "user": {
      "login": "Mansoor-AR",
      "id": 32960937,
      "node_id": "MDQ6VXNlcjMyOTYwOTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/32960937?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Mansoor-AR",
      "html_url": "https://github.com/Mansoor-AR",
      "followers_url": "https://api.github.com/users/Mansoor-AR/followers",
      "following_url": "https://api.github.com/users/Mansoor-AR/following{/other_user}",
      "gists_url": "https://api.github.com/users/Mansoor-AR/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Mansoor-AR/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Mansoor-AR/subscriptions",
      "organizations_url": "https://api.github.com/users/Mansoor-AR/orgs",
      "repos_url": "https://api.github.com/users/Mansoor-AR/repos",
      "events_url": "https://api.github.com/users/Mansoor-AR/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Mansoor-AR/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-10T11:09:31Z",
    "updated_at": "2020-03-10T11:09:54Z",
    "author_association": "NONE",
    "body": "> Note that this behaviour is on purpose\r\n\r\n\r\nI don't see why this is the case. As I see it, if there is an unnamed return in the function declaration then the compiler must check for explicit returns and raise an error if one isn't found. For example, this is how Go behaves. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/597030287/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/597030623",
    "html_url": "https://github.com/ethereum/solidity/issues/4751#issuecomment-597030623",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/4751",
    "id": 597030623,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5NzAzMDYyMw==",
    "user": {
      "login": "robinbryce",
      "id": 4013001,
      "node_id": "MDQ6VXNlcjQwMTMwMDE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4013001?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/robinbryce",
      "html_url": "https://github.com/robinbryce",
      "followers_url": "https://api.github.com/users/robinbryce/followers",
      "following_url": "https://api.github.com/users/robinbryce/following{/other_user}",
      "gists_url": "https://api.github.com/users/robinbryce/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/robinbryce/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/robinbryce/subscriptions",
      "organizations_url": "https://api.github.com/users/robinbryce/orgs",
      "repos_url": "https://api.github.com/users/robinbryce/repos",
      "events_url": "https://api.github.com/users/robinbryce/events{/privacy}",
      "received_events_url": "https://api.github.com/users/robinbryce/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-10T11:10:23Z",
    "updated_at": "2020-03-10T11:35:13Z",
    "author_association": "NONE",
    "body": "The fact that the following code compiles without error hid a stupid one line bug in our contract upgrade code. This cost us real money. What is the benefit of  permiting `explicitReturn` in the following example to compile ?\r\n\r\nIf the answer is 'use named returns everywhere` (please no) why permit explicit returns at all ?\r\n\r\n```\r\npragma solidity >=0.6.3;\r\n \r\ncontract ReturnTest {\r\n   \r\n    function explicitReturn() internal pure returns (uint[] memory) {\r\n        uint[] memory x = new uint[](5);\r\n        for (uint i=0; i<x.length; i++){\r\n            x[i]=i;\r\n        }\r\n    }\r\n    function namedReturn() internal pure returns (uint[] memory x) {\r\n        x = new uint[](5);\r\n        for (uint i=0; i<x.length; i++){\r\n            x[i]=i;\r\n        }\r\n    }\r\n}\r\n```\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/597030623/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/597781232",
    "html_url": "https://github.com/ethereum/solidity/issues/4751#issuecomment-597781232",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/4751",
    "id": 597781232,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5Nzc4MTIzMg==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-11T17:58:21Z",
    "updated_at": "2020-03-11T17:58:21Z",
    "author_association": "MEMBER",
    "body": "I don't see why you would declare another local variable in `explicitReturn`, but what about the following rule:\r\n\r\n - if there is an unnamed return variable and\r\n - the function body is not empty and\r\n - there is no return statement\r\n\r\nissue a warning.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/597781232/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/597789674",
    "html_url": "https://github.com/ethereum/solidity/issues/4751#issuecomment-597789674",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/4751",
    "id": 597789674,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5Nzc4OTY3NA==",
    "user": {
      "login": "robinbryce",
      "id": 4013001,
      "node_id": "MDQ6VXNlcjQwMTMwMDE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4013001?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/robinbryce",
      "html_url": "https://github.com/robinbryce",
      "followers_url": "https://api.github.com/users/robinbryce/followers",
      "following_url": "https://api.github.com/users/robinbryce/following{/other_user}",
      "gists_url": "https://api.github.com/users/robinbryce/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/robinbryce/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/robinbryce/subscriptions",
      "organizations_url": "https://api.github.com/users/robinbryce/orgs",
      "repos_url": "https://api.github.com/users/robinbryce/repos",
      "events_url": "https://api.github.com/users/robinbryce/events{/privacy}",
      "received_events_url": "https://api.github.com/users/robinbryce/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-11T18:16:27Z",
    "updated_at": "2020-03-11T18:16:27Z",
    "author_association": "NONE",
    "body": "That rule would have caught our bug. The bug being a function which generated some new data, by processing some input, and then failed to return anything at all. I'm not necessarily expecting deep flow analysis here. The static check you mention would be great.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/597789674/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
