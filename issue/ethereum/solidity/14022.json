{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/14022",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/14022/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/14022/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/14022/events",
  "html_url": "https://github.com/ethereum/solidity/issues/14022",
  "id": 1606432666,
  "node_id": "I_kwDOAm_5kc5fwDea",
  "number": 14022,
  "title": "[UDVT operators] Support compile-time constant eval",
  "user": {
    "login": "bshastry",
    "id": 2388185,
    "node_id": "MDQ6VXNlcjIzODgxODU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2388185?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/bshastry",
    "html_url": "https://github.com/bshastry",
    "followers_url": "https://api.github.com/users/bshastry/followers",
    "following_url": "https://api.github.com/users/bshastry/following{/other_user}",
    "gists_url": "https://api.github.com/users/bshastry/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/bshastry/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/bshastry/subscriptions",
    "organizations_url": "https://api.github.com/users/bshastry/orgs",
    "repos_url": "https://api.github.com/users/bshastry/repos",
    "events_url": "https://api.github.com/users/bshastry/events{/privacy}",
    "received_events_url": "https://api.github.com/users/bshastry/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2023-03-02T09:22:19Z",
  "updated_at": "2023-03-03T08:14:34Z",
  "closed_at": "2023-03-03T08:14:33Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "```\r\ntype T0 is int24;\r\nusing {add as +} for T0 global;\r\nfunction add(T0 x, T0 y) pure returns (T0) { return T0.wrap(T0.unwrap(x) + T0.unwrap(y)); }\r\nT0 constant cons0 = T0.wrap(0) + T0.wrap(1);\r\n```\r\n\r\nerrors\r\n\r\n```\r\n$ solc test.sol\r\n...\r\nError: Initial value for constant variable has to be compile-time constant.\r\n --> test/libsolidity/syntaxTests/D/6d2aa9781baf289de6a94f7f3adc9c8bb7b7e463.sol:5:23:\r\n  |\r\n5 |   T0 constant cons0 = T0.wrap(0) + T0.wrap(1);\r\n  |                       ^^^^^^^^^^^^^^^^^^^^^^^\r\n````\r\n\r\nLeaving it unlabeled because not sure if feature or bug.",
  "closed_by": {
    "login": "cameel",
    "id": 137030,
    "node_id": "MDQ6VXNlcjEzNzAzMA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/cameel",
    "html_url": "https://github.com/cameel",
    "followers_url": "https://api.github.com/users/cameel/followers",
    "following_url": "https://api.github.com/users/cameel/following{/other_user}",
    "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
    "organizations_url": "https://api.github.com/users/cameel/orgs",
    "repos_url": "https://api.github.com/users/cameel/repos",
    "events_url": "https://api.github.com/users/cameel/events{/privacy}",
    "received_events_url": "https://api.github.com/users/cameel/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/14022/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/14022/timeline",
  "performed_via_github_app": null,
  "state_reason": "not_planned"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1453140654",
    "html_url": "https://github.com/ethereum/solidity/issues/14022#issuecomment-1453140654",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/14022",
    "id": 1453140654,
    "node_id": "IC_kwDOAm_5kc5WnSqu",
    "user": {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-03-03T08:14:33Z",
    "updated_at": "2023-03-03T08:14:33Z",
    "author_association": "MEMBER",
    "body": "Yeah, it's not a bug (we even have a test case showing an error in such usage). Operator invocations are currently just function calls and can do things like (pure) external calls so they cannot be used in initialization of compile-time constants or for setting array sizes.\r\n\r\nThis will be possible later this year, when we have compile-time evaluation for functions (#13724). I'm going to close it because it's already considered a part of that issue.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1453140654/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
