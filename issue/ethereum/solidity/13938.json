{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/13938",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/13938/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/13938/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/13938/events",
  "html_url": "https://github.com/ethereum/solidity/issues/13938",
  "id": 1572826085,
  "node_id": "I_kwDOAm_5kc5dv2vl",
  "number": 13938,
  "title": "\"Stack too deep\" in `hardhat coverage`: `YulException: Variable var_amount_1673 is 1 slot(s) too deep inside the stack`",
  "user": {
    "login": "k06a",
    "id": 702124,
    "node_id": "MDQ6VXNlcjcwMjEyNA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/702124?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/k06a",
    "html_url": "https://github.com/k06a",
    "followers_url": "https://api.github.com/users/k06a/followers",
    "following_url": "https://api.github.com/users/k06a/following{/other_user}",
    "gists_url": "https://api.github.com/users/k06a/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/k06a/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/k06a/subscriptions",
    "organizations_url": "https://api.github.com/users/k06a/orgs",
    "repos_url": "https://api.github.com/users/k06a/repos",
    "events_url": "https://api.github.com/users/k06a/events{/privacy}",
    "received_events_url": "https://api.github.com/users/k06a/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 14,
  "created_at": "2023-02-06T15:52:51Z",
  "updated_at": "2023-02-08T12:42:10Z",
  "closed_at": "2023-02-07T11:29:33Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "## Description\r\n\r\nHow to understand in which file and line the following error occurred?\r\nhttps://github.com/1inch/limit-order-protocol/actions/runs/4105345200/jobs/7082068963\r\n\r\n```\r\nYulException: Variable var_amount_1673 is 1 slot(s) too deep inside the stack. Stack too deep. Try compiling with `--via-ir` (cli) or the equivalent `viaIR: true` (standard JSON) while enabling the optimizer. Otherwise, try removing local variables.\r\n\r\nError in plugin solidity-coverage: HardhatError: HH600: Compilation failed\r\n\r\nHardhatPluginError: HardhatError: HH600: Compilation failed\r\n    at SimpleTaskDefinition.action (/home/runner/work/limit-order-protocol/limit-order-protocol/node_modules/solidity-coverage/plugins/hardhat.plugin.js:274:35)\r\n    at runMicrotasks (<anonymous>)\r\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\r\n    at Environment._runTaskDefinition (/home/runner/work/limit-order-protocol/limit-order-protocol/node_modules/hardhat/src/internal/core/runtime-environment.ts:311:14)\r\n    at Environment.run (/home/runner/work/limit-order-protocol/limit-order-protocol/node_modules/hardhat/src/internal/core/runtime-environment.ts:159:14)\r\n    at main (/home/runner/work/limit-order-protocol/limit-order-protocol/node_modules/hardhat/src/internal/cli/cli.ts:276:7)\r\n```\r\n\r\n## Environment\r\n\r\n- Compiler version: 0.8.17\r\n- Framework/IDE (e.g. Truffle or Remix): Hardhat\r\n\r\n## Steps to Reproduce\r\n\r\n```\r\nyarn && yarn coverage\r\n```\r\n",
  "closed_by": {
    "login": "cameel",
    "id": 137030,
    "node_id": "MDQ6VXNlcjEzNzAzMA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/cameel",
    "html_url": "https://github.com/cameel",
    "followers_url": "https://api.github.com/users/cameel/followers",
    "following_url": "https://api.github.com/users/cameel/following{/other_user}",
    "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
    "organizations_url": "https://api.github.com/users/cameel/orgs",
    "repos_url": "https://api.github.com/users/cameel/repos",
    "events_url": "https://api.github.com/users/cameel/events{/privacy}",
    "received_events_url": "https://api.github.com/users/cameel/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/13938/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/13938/timeline",
  "performed_via_github_app": null,
  "state_reason": "not_planned"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1419366865",
    "html_url": "https://github.com/ethereum/solidity/issues/13938#issuecomment-1419366865",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/13938",
    "id": 1419366865,
    "node_id": "IC_kwDOAm_5kc5UmdHR",
    "user": {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-06T16:27:30Z",
    "updated_at": "2023-02-06T16:28:02Z",
    "author_association": "MEMBER",
    "body": "Unfortunately, there's no straightforward way. In the codegen, where the error is detected it is unfortunately a bit too late for the compiler to give a good suggestion (#12449).\r\n\r\nThe go to way to do this is to revert back to the last working version of your code and readd changes one by one to see what triggered it. Then, if you're still getting it with via-IR and optimizer enabled, create a repro like https://github.com/ethereum/solidity/issues/13906#issuecomment-1417335621 and we'll try to fix it.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1419366865/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1419387338",
    "html_url": "https://github.com/ethereum/solidity/issues/13938#issuecomment-1419387338",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/13938",
    "id": 1419387338,
    "node_id": "IC_kwDOAm_5kc5UmiHK",
    "user": {
      "login": "k06a",
      "id": 702124,
      "node_id": "MDQ6VXNlcjcwMjEyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/702124?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/k06a",
      "html_url": "https://github.com/k06a",
      "followers_url": "https://api.github.com/users/k06a/followers",
      "following_url": "https://api.github.com/users/k06a/following{/other_user}",
      "gists_url": "https://api.github.com/users/k06a/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/k06a/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/k06a/subscriptions",
      "organizations_url": "https://api.github.com/users/k06a/orgs",
      "repos_url": "https://api.github.com/users/k06a/repos",
      "events_url": "https://api.github.com/users/k06a/events{/privacy}",
      "received_events_url": "https://api.github.com/users/k06a/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-06T16:41:28Z",
    "updated_at": "2023-02-06T16:41:28Z",
    "author_association": "NONE",
    "body": "@cameel is there any chance to fix compiler to provide additional information?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1419387338/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1419396275",
    "html_url": "https://github.com/ethereum/solidity/issues/13938#issuecomment-1419396275",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/13938",
    "id": 1419396275,
    "node_id": "IC_kwDOAm_5kc5UmkSz",
    "user": {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-06T16:47:53Z",
    "updated_at": "2023-02-06T16:47:53Z",
    "author_association": "MEMBER",
    "body": "For the legacy codegen, probably not. We might try some ideas as a part of #12449 but ultimately the problem boils down to the fact that in the codegen we're no longer dealing with the original source and very often it's hard to tell what in that source triggered it. For example the problem often occurs in the ABI encoding code generated in Yul by the compiler and not directly in your own code.\r\n\r\nOur plan (and it's actually something we're committed to solving in Q2: #13721) is to address this in the new codegen to the point that having to debug this is very rare and basically a non-issue.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1419396275/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1419398279",
    "html_url": "https://github.com/ethereum/solidity/issues/13938#issuecomment-1419398279",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/13938",
    "id": 1419398279,
    "node_id": "IC_kwDOAm_5kc5UmkyH",
    "user": {
      "login": "k06a",
      "id": 702124,
      "node_id": "MDQ6VXNlcjcwMjEyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/702124?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/k06a",
      "html_url": "https://github.com/k06a",
      "followers_url": "https://api.github.com/users/k06a/followers",
      "following_url": "https://api.github.com/users/k06a/following{/other_user}",
      "gists_url": "https://api.github.com/users/k06a/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/k06a/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/k06a/subscriptions",
      "organizations_url": "https://api.github.com/users/k06a/orgs",
      "repos_url": "https://api.github.com/users/k06a/repos",
      "events_url": "https://api.github.com/users/k06a/events{/privacy}",
      "received_events_url": "https://api.github.com/users/k06a/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-06T16:49:19Z",
    "updated_at": "2023-02-06T16:49:19Z",
    "author_association": "NONE",
    "body": "@cameel I thought we're using new codegen, since we are using via-ir flag.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1419398279/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1419406218",
    "html_url": "https://github.com/ethereum/solidity/issues/13938#issuecomment-1419406218",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/13938",
    "id": 1419406218,
    "node_id": "IC_kwDOAm_5kc5UmmuK",
    "user": {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-06T16:54:54Z",
    "updated_at": "2023-02-06T16:54:54Z",
    "author_association": "MEMBER",
    "body": "[Is this the config file used by that build](https://github.com/1inch/limit-order-protocol/blob/master/hardhat.config.js)? I don't see the flag there. But, honestly, I assumed that you're not using because the error message tells you to. I'm actually not sure if that message has it hard-coded or if it actually checks :) If you are using it, then disregard that.\r\n\r\nBut anyway, giving you the right location is hard in either case. Maybe with viaIR it's slightly easier because if it happens in your code maybe we'd be able to give you the Yul function name that you might be able to map to the Solidity function it was compiled from. Still, the main objective for now is to make this error rare in the first place.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1419406218/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1419714593",
    "html_url": "https://github.com/ethereum/solidity/issues/13938#issuecomment-1419714593",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/13938",
    "id": 1419714593,
    "node_id": "IC_kwDOAm_5kc5UnyAh",
    "user": {
      "login": "k06a",
      "id": 702124,
      "node_id": "MDQ6VXNlcjcwMjEyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/702124?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/k06a",
      "html_url": "https://github.com/k06a",
      "followers_url": "https://api.github.com/users/k06a/followers",
      "following_url": "https://api.github.com/users/k06a/following{/other_user}",
      "gists_url": "https://api.github.com/users/k06a/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/k06a/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/k06a/subscriptions",
      "organizations_url": "https://api.github.com/users/k06a/orgs",
      "repos_url": "https://api.github.com/users/k06a/repos",
      "events_url": "https://api.github.com/users/k06a/events{/privacy}",
      "received_events_url": "https://api.github.com/users/k06a/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-06T20:35:07Z",
    "updated_at": "2023-02-06T20:35:47Z",
    "author_association": "NONE",
    "body": "@cameel different branch `feature/via-ir`: https://github.com/1inch/limit-order-protocol/blob/feature/via-ir/hardhat.config.js\r\n\r\nThis is happening in the PR: https://github.com/1inch/limit-order-protocol/pull/185",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1419714593/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1420526092",
    "html_url": "https://github.com/ethereum/solidity/issues/13938#issuecomment-1420526092",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/13938",
    "id": 1420526092,
    "node_id": "IC_kwDOAm_5kc5Uq4IM",
    "user": {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-07T10:16:11Z",
    "updated_at": "2023-02-07T10:19:36Z",
    "author_association": "MEMBER",
    "body": "@k06a I tried to reproduce the \"stack too deep\" on that branch and I couldn't, even after trying various earlier commits or commenting out the blocks marked as \"stack too deep\". Then I noticed that in your CI it only failed on `yarn coverage` (and that's the command you used in issue description). That does reproduce the problem for me.\r\n\r\nLooks like `hardhat coverage` runs without optimization by default. It has an experimental option called `configureYulOptimizer`. When I enable it in `.solcover.js`, it manages to finish without \"stack too deep\" (though 2 tests fail, likely due to https://github.com/NomicFoundation/hardhat/issues/3365).",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1420526092/reactions",
      "total_count": 2,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 2,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1420566393",
    "html_url": "https://github.com/ethereum/solidity/issues/13938#issuecomment-1420566393",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/13938",
    "id": 1420566393,
    "node_id": "IC_kwDOAm_5kc5UrB95",
    "user": {
      "login": "k06a",
      "id": 702124,
      "node_id": "MDQ6VXNlcjcwMjEyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/702124?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/k06a",
      "html_url": "https://github.com/k06a",
      "followers_url": "https://api.github.com/users/k06a/followers",
      "following_url": "https://api.github.com/users/k06a/following{/other_user}",
      "gists_url": "https://api.github.com/users/k06a/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/k06a/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/k06a/subscriptions",
      "organizations_url": "https://api.github.com/users/k06a/orgs",
      "repos_url": "https://api.github.com/users/k06a/repos",
      "events_url": "https://api.github.com/users/k06a/events{/privacy}",
      "received_events_url": "https://api.github.com/users/k06a/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-07T10:45:54Z",
    "updated_at": "2023-02-07T10:45:54Z",
    "author_association": "NONE",
    "body": "@cameel thank you, seems like you found and resolved an issue we were struggling last months!",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1420566393/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 1,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1420623794",
    "html_url": "https://github.com/ethereum/solidity/issues/13938#issuecomment-1420623794",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/13938",
    "id": 1420623794,
    "node_id": "IC_kwDOAm_5kc5UrP-y",
    "user": {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-07T11:29:33Z",
    "updated_at": "2023-02-07T11:29:33Z",
    "author_association": "MEMBER",
    "body": "Great!\r\n\r\nIn that case I'm closing the issue, since this was was actually caused by running with optimizer disabled, even if indirectly :) Please do report it if you run into it with optimizer enabled.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1420623794/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1422504041",
    "html_url": "https://github.com/ethereum/solidity/issues/13938#issuecomment-1422504041",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/13938",
    "id": 1422504041,
    "node_id": "IC_kwDOAm_5kc5UybBp",
    "user": {
      "login": "k06a",
      "id": 702124,
      "node_id": "MDQ6VXNlcjcwMjEyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/702124?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/k06a",
      "html_url": "https://github.com/k06a",
      "followers_url": "https://api.github.com/users/k06a/followers",
      "following_url": "https://api.github.com/users/k06a/following{/other_user}",
      "gists_url": "https://api.github.com/users/k06a/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/k06a/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/k06a/subscriptions",
      "organizations_url": "https://api.github.com/users/k06a/orgs",
      "repos_url": "https://api.github.com/users/k06a/repos",
      "events_url": "https://api.github.com/users/k06a/events{/privacy}",
      "received_events_url": "https://api.github.com/users/k06a/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-08T12:16:39Z",
    "updated_at": "2023-02-08T12:18:34Z",
    "author_association": "NONE",
    "body": "@cameel I faced this issue again: https://github.com/1inch/limit-order-protocol/actions/runs/4123970772/jobs/7122647334\r\n\r\nIn this branch: https://github.com/1inch/limit-order-protocol/pull/204\r\n\r\n> YulException: Variable var_actualMakingAmount is 1 too deep in the stack [ var_actualMakingAmount var_interaction_7226_length var_order_offset var_orderHash RET var_interaction_7226_offset var_input var_target var_remainingMakingAmount var_threshold RET[checked_mul_uint256] var_order_offset RET[checked_mul_uint256] 0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff RET[fun_getTakingAmount] var_orderHash var_remainingMakingAmount ]",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1422504041/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1422511203",
    "html_url": "https://github.com/ethereum/solidity/issues/13938#issuecomment-1422511203",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/13938",
    "id": 1422511203,
    "node_id": "IC_kwDOAm_5kc5Uycxj",
    "user": {
      "login": "ekpyron",
      "id": 1347491,
      "node_id": "MDQ6VXNlcjEzNDc0OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1347491?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ekpyron",
      "html_url": "https://github.com/ekpyron",
      "followers_url": "https://api.github.com/users/ekpyron/followers",
      "following_url": "https://api.github.com/users/ekpyron/following{/other_user}",
      "gists_url": "https://api.github.com/users/ekpyron/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ekpyron/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ekpyron/subscriptions",
      "organizations_url": "https://api.github.com/users/ekpyron/orgs",
      "repos_url": "https://api.github.com/users/ekpyron/repos",
      "events_url": "https://api.github.com/users/ekpyron/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ekpyron/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-08T12:22:43Z",
    "updated_at": "2023-02-08T12:22:43Z",
    "author_association": "MEMBER",
    "body": "The error message indicates that stack-to-memory wasn't possible due to non-memory-safe assembly somewhere (potentially in some imported library only): ``Consider using memory-safe assembly only and annotating it via 'assembly (\"memory-safe\") { ... }'.``\r\nSee https://docs.soliditylang.org/en/develop/assembly.html#memory-safety",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1422511203/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1422524235",
    "html_url": "https://github.com/ethereum/solidity/issues/13938#issuecomment-1422524235",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/13938",
    "id": 1422524235,
    "node_id": "IC_kwDOAm_5kc5Uyf9L",
    "user": {
      "login": "k06a",
      "id": 702124,
      "node_id": "MDQ6VXNlcjcwMjEyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/702124?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/k06a",
      "html_url": "https://github.com/k06a",
      "followers_url": "https://api.github.com/users/k06a/followers",
      "following_url": "https://api.github.com/users/k06a/following{/other_user}",
      "gists_url": "https://api.github.com/users/k06a/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/k06a/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/k06a/subscriptions",
      "organizations_url": "https://api.github.com/users/k06a/orgs",
      "repos_url": "https://api.github.com/users/k06a/repos",
      "events_url": "https://api.github.com/users/k06a/events{/privacy}",
      "received_events_url": "https://api.github.com/users/k06a/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-08T12:34:26Z",
    "updated_at": "2023-02-08T12:34:26Z",
    "author_association": "NONE",
    "body": "@ekpyron I am almost sure all out assembly is covered with `/// @solidity memory-safe-assembly` pre-comments",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1422524235/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1422531200",
    "html_url": "https://github.com/ethereum/solidity/issues/13938#issuecomment-1422531200",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/13938",
    "id": 1422531200,
    "node_id": "IC_kwDOAm_5kc5UyhqA",
    "user": {
      "login": "k06a",
      "id": 702124,
      "node_id": "MDQ6VXNlcjcwMjEyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/702124?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/k06a",
      "html_url": "https://github.com/k06a",
      "followers_url": "https://api.github.com/users/k06a/followers",
      "following_url": "https://api.github.com/users/k06a/following{/other_user}",
      "gists_url": "https://api.github.com/users/k06a/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/k06a/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/k06a/subscriptions",
      "organizations_url": "https://api.github.com/users/k06a/orgs",
      "repos_url": "https://api.github.com/users/k06a/repos",
      "events_url": "https://api.github.com/users/k06a/events{/privacy}",
      "received_events_url": "https://api.github.com/users/k06a/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-08T12:38:43Z",
    "updated_at": "2023-02-08T12:38:43Z",
    "author_association": "NONE",
    "body": "I can't understand why `coverage` and `test` works differently with the same flags. Extra event should not affect this potentially.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1422531200/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1422535304",
    "html_url": "https://github.com/ethereum/solidity/issues/13938#issuecomment-1422535304",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/13938",
    "id": 1422535304,
    "node_id": "IC_kwDOAm_5kc5UyiqI",
    "user": {
      "login": "ekpyron",
      "id": 1347491,
      "node_id": "MDQ6VXNlcjEzNDc0OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1347491?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ekpyron",
      "html_url": "https://github.com/ekpyron",
      "followers_url": "https://api.github.com/users/ekpyron/followers",
      "following_url": "https://api.github.com/users/ekpyron/following{/other_user}",
      "gists_url": "https://api.github.com/users/ekpyron/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ekpyron/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ekpyron/subscriptions",
      "organizations_url": "https://api.github.com/users/ekpyron/orgs",
      "repos_url": "https://api.github.com/users/ekpyron/repos",
      "events_url": "https://api.github.com/users/ekpyron/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ekpyron/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-08T12:42:10Z",
    "updated_at": "2023-02-08T12:42:10Z",
    "author_association": "MEMBER",
    "body": "Hm, ok, yeah, that's true... but yeah - I don't know myself precisely what those coverage builds really do, I can only explain what the compiler says there :-).",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1422535304/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
