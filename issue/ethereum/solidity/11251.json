{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/11251",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/11251/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/11251/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/11251/events",
  "html_url": "https://github.com/ethereum/solidity/issues/11251",
  "id": 857054080,
  "node_id": "MDU6SXNzdWU4NTcwNTQwODA=",
  "number": 11251,
  "title": "Dynamic Memory Arrays Compile",
  "user": {
    "login": "AlphaSerpentis",
    "id": 37189157,
    "node_id": "MDQ6VXNlcjM3MTg5MTU3",
    "avatar_url": "https://avatars.githubusercontent.com/u/37189157?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/AlphaSerpentis",
    "html_url": "https://github.com/AlphaSerpentis",
    "followers_url": "https://api.github.com/users/AlphaSerpentis/followers",
    "following_url": "https://api.github.com/users/AlphaSerpentis/following{/other_user}",
    "gists_url": "https://api.github.com/users/AlphaSerpentis/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/AlphaSerpentis/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/AlphaSerpentis/subscriptions",
    "organizations_url": "https://api.github.com/users/AlphaSerpentis/orgs",
    "repos_url": "https://api.github.com/users/AlphaSerpentis/repos",
    "events_url": "https://api.github.com/users/AlphaSerpentis/events{/privacy}",
    "received_events_url": "https://api.github.com/users/AlphaSerpentis/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2021-04-13T15:04:36Z",
  "updated_at": "2021-04-13T15:42:57Z",
  "closed_at": "2021-04-13T15:42:56Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "## Description\r\n\r\nCreating a dynamic memory array compiles, but expect it to not compile since the EVM throws an invalid OPCODE.\r\n\r\n## Environment\r\n\r\n- Compiler version: 0.6.10 and 0.8.3 individually\r\n- Target EVM version (as per compiler settings): Muir Glacier\r\n- Framework/IDE (e.g. Truffle or Remix): Remix\r\n- EVM execution environment / backend / blockchain client: Remix's JavaScript VM\r\n- Operating system: Windows 10 Home\r\n\r\n## Steps to Reproduce\r\n\r\n```solidity\r\npragma solidity 0.8.3;\r\n\r\ncontract Test {\r\n    function thisShouldNotWork() external {\r\n        uint256[] memory test; // Create dynamic memory array of any type\r\n        \r\n        for(uint256 i; i < 10; i++) {\r\n            test[i] = i;\r\n        }\r\n    }\r\n}\r\n```\r\n",
  "closed_by": {
    "login": "ekpyron",
    "id": 1347491,
    "node_id": "MDQ6VXNlcjEzNDc0OTE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1347491?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ekpyron",
    "html_url": "https://github.com/ekpyron",
    "followers_url": "https://api.github.com/users/ekpyron/followers",
    "following_url": "https://api.github.com/users/ekpyron/following{/other_user}",
    "gists_url": "https://api.github.com/users/ekpyron/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ekpyron/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ekpyron/subscriptions",
    "organizations_url": "https://api.github.com/users/ekpyron/orgs",
    "repos_url": "https://api.github.com/users/ekpyron/repos",
    "events_url": "https://api.github.com/users/ekpyron/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ekpyron/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/11251/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/11251/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/818831555",
    "html_url": "https://github.com/ethereum/solidity/issues/11251#issuecomment-818831555",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/11251",
    "id": 818831555,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgxODgzMTU1NQ==",
    "user": {
      "login": "ekpyron",
      "id": 1347491,
      "node_id": "MDQ6VXNlcjEzNDc0OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1347491?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ekpyron",
      "html_url": "https://github.com/ekpyron",
      "followers_url": "https://api.github.com/users/ekpyron/followers",
      "following_url": "https://api.github.com/users/ekpyron/following{/other_user}",
      "gists_url": "https://api.github.com/users/ekpyron/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ekpyron/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ekpyron/subscriptions",
      "organizations_url": "https://api.github.com/users/ekpyron/orgs",
      "repos_url": "https://api.github.com/users/ekpyron/repos",
      "events_url": "https://api.github.com/users/ekpyron/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ekpyron/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-13T15:33:49Z",
    "updated_at": "2021-04-13T15:34:13Z",
    "author_association": "MEMBER",
    "body": "To actually create allocate a dynamic memory array you have to use ``new``.\r\nI.e. in your code ``test`` refers to a a dynamic memory array of size zero, so any access to it will be out-of-bounds and revert.\r\nIt's near impossible to detect out-of-bounds accesses at compile-time in all cases, so the best we can do is to revert on runtime.\r\n\r\nIf you want your snippet to work and not to revert, you can change it to this:\r\n```solidity\r\ncontract Test {\r\n    function thisShouldNotWork() external {\r\n        uint256[] memory test = new uint256[](10); // Create dynamic memory array of size 10.\r\n        \r\n        for(uint256 i; i < 10; i++) {\r\n            test[i] = i;\r\n        }\r\n    }\r\n}\r\n```\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/818831555/reactions",
      "total_count": 3,
      "+1": 3,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/818838432",
    "html_url": "https://github.com/ethereum/solidity/issues/11251#issuecomment-818838432",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/11251",
    "id": 818838432,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgxODgzODQzMg==",
    "user": {
      "login": "ekpyron",
      "id": 1347491,
      "node_id": "MDQ6VXNlcjEzNDc0OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1347491?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ekpyron",
      "html_url": "https://github.com/ekpyron",
      "followers_url": "https://api.github.com/users/ekpyron/followers",
      "following_url": "https://api.github.com/users/ekpyron/following{/other_user}",
      "gists_url": "https://api.github.com/users/ekpyron/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ekpyron/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ekpyron/subscriptions",
      "organizations_url": "https://api.github.com/users/ekpyron/orgs",
      "repos_url": "https://api.github.com/users/ekpyron/repos",
      "events_url": "https://api.github.com/users/ekpyron/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ekpyron/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-13T15:42:56Z",
    "updated_at": "2021-04-13T15:42:56Z",
    "author_association": "MEMBER",
    "body": "I hope this answered the issue, so I'm closing it, but please feel free to reopen, if you think otherwise!",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/818838432/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
