{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/2174",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/2174/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/2174/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/2174/events",
  "html_url": "https://github.com/ethereum/solidity/issues/2174",
  "id": 224516697,
  "node_id": "MDU6SXNzdWUyMjQ1MTY2OTc=",
  "number": 2174,
  "title": "Remove bare callcode",
  "user": {
    "login": "pirapira",
    "id": 44281,
    "node_id": "MDQ6VXNlcjQ0Mjgx",
    "avatar_url": "https://avatars.githubusercontent.com/u/44281?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/pirapira",
    "html_url": "https://github.com/pirapira",
    "followers_url": "https://api.github.com/users/pirapira/followers",
    "following_url": "https://api.github.com/users/pirapira/following{/other_user}",
    "gists_url": "https://api.github.com/users/pirapira/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/pirapira/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/pirapira/subscriptions",
    "organizations_url": "https://api.github.com/users/pirapira/orgs",
    "repos_url": "https://api.github.com/users/pirapira/repos",
    "events_url": "https://api.github.com/users/pirapira/events{/privacy}",
    "received_events_url": "https://api.github.com/users/pirapira/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 275027668,
      "node_id": "MDU6TGFiZWwyNzUwMjc2Njg=",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/documentation%20:book:",
      "name": "documentation :book:",
      "color": "006b75",
      "default": false,
      "description": ""
    },
    {
      "id": 467898404,
      "node_id": "MDU6TGFiZWw0Njc4OTg0MDQ=",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/breaking%20change%20:warning:",
      "name": "breaking change :warning:",
      "color": "b60205",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "MatrixCreator",
    "id": 22969262,
    "node_id": "MDQ6VXNlcjIyOTY5MjYy",
    "avatar_url": "https://avatars.githubusercontent.com/u/22969262?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/MatrixCreator",
    "html_url": "https://github.com/MatrixCreator",
    "followers_url": "https://api.github.com/users/MatrixCreator/followers",
    "following_url": "https://api.github.com/users/MatrixCreator/following{/other_user}",
    "gists_url": "https://api.github.com/users/MatrixCreator/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/MatrixCreator/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/MatrixCreator/subscriptions",
    "organizations_url": "https://api.github.com/users/MatrixCreator/orgs",
    "repos_url": "https://api.github.com/users/MatrixCreator/repos",
    "events_url": "https://api.github.com/users/MatrixCreator/events{/privacy}",
    "received_events_url": "https://api.github.com/users/MatrixCreator/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "MatrixCreator",
      "id": 22969262,
      "node_id": "MDQ6VXNlcjIyOTY5MjYy",
      "avatar_url": "https://avatars.githubusercontent.com/u/22969262?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MatrixCreator",
      "html_url": "https://github.com/MatrixCreator",
      "followers_url": "https://api.github.com/users/MatrixCreator/followers",
      "following_url": "https://api.github.com/users/MatrixCreator/following{/other_user}",
      "gists_url": "https://api.github.com/users/MatrixCreator/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MatrixCreator/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MatrixCreator/subscriptions",
      "organizations_url": "https://api.github.com/users/MatrixCreator/orgs",
      "repos_url": "https://api.github.com/users/MatrixCreator/repos",
      "events_url": "https://api.github.com/users/MatrixCreator/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MatrixCreator/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2017-04-26T15:53:30Z",
  "updated_at": "2017-10-19T09:10:11Z",
  "closed_at": "2017-10-19T09:10:11Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "`Callcode` is a feature of the EVM now superseded by `delegatecall`. It does not make much sense to keep it for newer Solidity versions. It should still be usable by inline assembly, though. So the tasks of this issue are:\r\n\r\n - [ ] remove the `callcode` member of the address type\r\n - [ ] change the documentation so that it says that callcode used to be part of the language but is not anymore. It is probably sufficient to mention that it was similar to bare delegatecall.\r\n\r\n----\r\n\r\nIn the [Solidity features wiki page](https://github.com/ethereum/wiki/wiki/Solidity-Features) there was some description about bare callcode.  I cannot find any `.callcode` in the documentation here.  Perhaps we should either explain the syntax in the documentation or remove the feature.\r\n\r\nHere are the paragraphs removed from the wiki page:\r\n\r\n> Bare Callcode\r\n> \r\n> Yoichi thinks these descriptions should be ported to the official documentation.\r\n> \r\n> PT The address type receives a method callcode which is similar to call, but uses CALLCODE instead of CALL when the function is invoked. This means that the code at the given address will be executed in the context of the current contract. Example:\r\n> \r\n> contract Code {\r\n>   uint m_data;\r\n>   function (uint v) { m_data = v; }\r\n> }\r\n> contract ActualContract {\r\n>   uint public m_data;\r\n>   function f() { Code(0x12345).callcode(7); }\r\n> }\r\n> \r\n> Assuming the contract Code is deployed at the address 0x12345, calling f() of ActualContract will result in m_data of ActualContract being modified. The user has to ensure that the layout of storage in both contracts is suitable for callcode to be used.",
  "closed_by": {
    "login": "chriseth",
    "id": 9073706,
    "node_id": "MDQ6VXNlcjkwNzM3MDY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/chriseth",
    "html_url": "https://github.com/chriseth",
    "followers_url": "https://api.github.com/users/chriseth/followers",
    "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
    "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
    "organizations_url": "https://api.github.com/users/chriseth/orgs",
    "repos_url": "https://api.github.com/users/chriseth/repos",
    "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
    "received_events_url": "https://api.github.com/users/chriseth/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/2174/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/2174/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/297559175",
    "html_url": "https://github.com/ethereum/solidity/issues/2174#issuecomment-297559175",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/2174",
    "id": 297559175,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5NzU1OTE3NQ==",
    "user": {
      "login": "axic",
      "id": 20340,
      "node_id": "MDQ6VXNlcjIwMzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/axic",
      "html_url": "https://github.com/axic",
      "followers_url": "https://api.github.com/users/axic/followers",
      "following_url": "https://api.github.com/users/axic/following{/other_user}",
      "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
      "organizations_url": "https://api.github.com/users/axic/orgs",
      "repos_url": "https://api.github.com/users/axic/repos",
      "events_url": "https://api.github.com/users/axic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/axic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-04-26T22:25:56Z",
    "updated_at": "2017-04-26T22:25:56Z",
    "author_association": "MEMBER",
    "body": "I think we should deprecate `callcode`. It is not used and provides no benefit to Solidity. Users can still reach it via inline assembly.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/297559175/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/299437282",
    "html_url": "https://github.com/ethereum/solidity/issues/2174#issuecomment-299437282",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/2174",
    "id": 299437282,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5OTQzNzI4Mg==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-05T11:02:19Z",
    "updated_at": "2017-05-05T11:02:19Z",
    "author_association": "MEMBER",
    "body": "If possible, allow callcode but create a warning whenever it is used, that can be merged right now and then remove it completely for 0.5.0.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/299437282/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/299437841",
    "html_url": "https://github.com/ethereum/solidity/issues/2174#issuecomment-299437841",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/2174",
    "id": 299437841,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5OTQzNzg0MQ==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-05T11:05:58Z",
    "updated_at": "2017-05-05T11:05:58Z",
    "author_association": "MEMBER",
    "body": "The error would be created inside `bool TypeChecker::visit(MemberAccess const& _memberAccess)`. There should be a check that the type of the base expression is address or contract and the name of the member is `callcode`.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/299437841/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/299690116",
    "html_url": "https://github.com/ethereum/solidity/issues/2174#issuecomment-299690116",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/2174",
    "id": 299690116,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5OTY5MDExNg==",
    "user": {
      "login": "pirapira",
      "id": 44281,
      "node_id": "MDQ6VXNlcjQ0Mjgx",
      "avatar_url": "https://avatars.githubusercontent.com/u/44281?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pirapira",
      "html_url": "https://github.com/pirapira",
      "followers_url": "https://api.github.com/users/pirapira/followers",
      "following_url": "https://api.github.com/users/pirapira/following{/other_user}",
      "gists_url": "https://api.github.com/users/pirapira/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pirapira/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pirapira/subscriptions",
      "organizations_url": "https://api.github.com/users/pirapira/orgs",
      "repos_url": "https://api.github.com/users/pirapira/repos",
      "events_url": "https://api.github.com/users/pirapira/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pirapira/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-07T08:23:53Z",
    "updated_at": "2017-05-07T08:23:53Z",
    "author_association": "MEMBER",
    "body": "I suggest making the next releases `0.5.0`, `0.6.0` and so on so that we can make breaking changes in every release.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/299690116/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
