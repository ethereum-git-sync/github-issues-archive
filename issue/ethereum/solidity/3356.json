{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/3356",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/3356/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/3356/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/3356/events",
  "html_url": "https://github.com/ethereum/solidity/issues/3356",
  "id": 284199408,
  "node_id": "MDU6SXNzdWUyODQxOTk0MDg=",
  "number": 3356,
  "title": "Allow to initialize constants in constructor",
  "user": {
    "login": "Georgi87",
    "id": 259400,
    "node_id": "MDQ6VXNlcjI1OTQwMA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/259400?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Georgi87",
    "html_url": "https://github.com/Georgi87",
    "followers_url": "https://api.github.com/users/Georgi87/followers",
    "following_url": "https://api.github.com/users/Georgi87/following{/other_user}",
    "gists_url": "https://api.github.com/users/Georgi87/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Georgi87/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Georgi87/subscriptions",
    "organizations_url": "https://api.github.com/users/Georgi87/orgs",
    "repos_url": "https://api.github.com/users/Georgi87/repos",
    "events_url": "https://api.github.com/users/Georgi87/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Georgi87/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 785717317,
      "node_id": "MDU6TGFiZWw3ODU3MTczMTc=",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/language%20design%20:rage4:",
      "name": "language design :rage4:",
      "color": "9d76d3",
      "default": false,
      "description": "Any changes to the language, e.g. new features"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 7,
  "created_at": "2017-12-22T16:14:18Z",
  "updated_at": "2020-01-15T14:53:08Z",
  "closed_at": "2020-01-15T14:53:07Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "In some cases contracts have to be initialized with constant values: Contract A needs to know address of contract B. This address doesn't change anymore after deployment. Currently the easiest way to accomplish this is be passing the address of B to A as a constructor argument and save the address in a storage variable. This is very gas costly. It would be better to directly save the address in code. It would be beneficial if constants could be initialized in the constructor instead without using the contract storage at all:\r\n\r\n```\r\ncontract A {\r\n\r\n    address constant B;\r\n\r\n    function Test(address _B) {\r\n        B = _B;\r\n    }\r\n}\r\n```\r\n\r\nIf a constant is not initialized after the constructor is executed, the compiler should throw a compiler error.",
  "closed_by": {
    "login": "chriseth",
    "id": 9073706,
    "node_id": "MDQ6VXNlcjkwNzM3MDY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/chriseth",
    "html_url": "https://github.com/chriseth",
    "followers_url": "https://api.github.com/users/chriseth/followers",
    "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
    "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
    "organizations_url": "https://api.github.com/users/chriseth/orgs",
    "repos_url": "https://api.github.com/users/chriseth/repos",
    "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
    "received_events_url": "https://api.github.com/users/chriseth/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/3356/reactions",
    "total_count": 21,
    "+1": 20,
    "-1": 0,
    "laugh": 0,
    "hooray": 1,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/3356/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/353640339",
    "html_url": "https://github.com/ethereum/solidity/issues/3356#issuecomment-353640339",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/3356",
    "id": 353640339,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MzY0MDMzOQ==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-22T17:17:40Z",
    "updated_at": "2017-12-22T17:17:40Z",
    "author_association": "MEMBER",
    "body": "While it might be tempting to re-use the `constant` keyword here, I think we need a new keyword. Currently, constants are associated with contract \"classes\", which also allows things like `X.c`, i.e. referring to constants in other contract classes. This feature creates constants for contract instances, which cannot be accessed through the class name.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/353640339/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/353643022",
    "html_url": "https://github.com/ethereum/solidity/issues/3356#issuecomment-353643022",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/3356",
    "id": 353643022,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MzY0MzAyMg==",
    "user": {
      "login": "Georgi87",
      "id": 259400,
      "node_id": "MDQ6VXNlcjI1OTQwMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/259400?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Georgi87",
      "html_url": "https://github.com/Georgi87",
      "followers_url": "https://api.github.com/users/Georgi87/followers",
      "following_url": "https://api.github.com/users/Georgi87/following{/other_user}",
      "gists_url": "https://api.github.com/users/Georgi87/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Georgi87/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Georgi87/subscriptions",
      "organizations_url": "https://api.github.com/users/Georgi87/orgs",
      "repos_url": "https://api.github.com/users/Georgi87/repos",
      "events_url": "https://api.github.com/users/Georgi87/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Georgi87/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-22T17:33:40Z",
    "updated_at": "2017-12-22T17:33:40Z",
    "author_association": "NONE",
    "body": "Understood. What about `address immutable B;`?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/353643022/reactions",
      "total_count": 5,
      "+1": 4,
      "-1": 0,
      "laugh": 0,
      "hooray": 1,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/376517658",
    "html_url": "https://github.com/ethereum/solidity/issues/3356#issuecomment-376517658",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/3356",
    "id": 376517658,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NjUxNzY1OA==",
    "user": {
      "login": "maurelian",
      "id": 23033765,
      "node_id": "MDQ6VXNlcjIzMDMzNzY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/23033765?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/maurelian",
      "html_url": "https://github.com/maurelian",
      "followers_url": "https://api.github.com/users/maurelian/followers",
      "following_url": "https://api.github.com/users/maurelian/following{/other_user}",
      "gists_url": "https://api.github.com/users/maurelian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/maurelian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/maurelian/subscriptions",
      "organizations_url": "https://api.github.com/users/maurelian/orgs",
      "repos_url": "https://api.github.com/users/maurelian/repos",
      "events_url": "https://api.github.com/users/maurelian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/maurelian/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-27T13:06:35Z",
    "updated_at": "2018-03-27T13:06:35Z",
    "author_association": "CONTRIBUTOR",
    "body": "This would be very useful. When a storage value is meant to be immutable, then a `constant` value is both safer and more gas efficient. However developers often avoid using them because it reduces the portability of the code. \r\n\r\nThat said... I'm not sure how it could even be done in the current solidity constructor, since the values would need to be placed into the bytecode itself, like linking a library address. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/376517658/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/447594816",
    "html_url": "https://github.com/ethereum/solidity/issues/3356#issuecomment-447594816",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/3356",
    "id": 447594816,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0NzU5NDgxNg==",
    "user": {
      "login": "3esmit",
      "id": 224810,
      "node_id": "MDQ6VXNlcjIyNDgxMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/224810?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/3esmit",
      "html_url": "https://github.com/3esmit",
      "followers_url": "https://api.github.com/users/3esmit/followers",
      "following_url": "https://api.github.com/users/3esmit/following{/other_user}",
      "gists_url": "https://api.github.com/users/3esmit/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/3esmit/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/3esmit/subscriptions",
      "organizations_url": "https://api.github.com/users/3esmit/orgs",
      "repos_url": "https://api.github.com/users/3esmit/repos",
      "events_url": "https://api.github.com/users/3esmit/events{/privacy}",
      "received_events_url": "https://api.github.com/users/3esmit/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-12-15T20:13:29Z",
    "updated_at": "2018-12-16T04:53:22Z",
    "author_association": "CONTRIBUTOR",
    "body": "Would be important that the storage slot configuration isn't changed for storing this information, otherwise it could make difficult to use this with delegatecall.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/447594816/reactions",
      "total_count": 3,
      "+1": 3,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/556552518",
    "html_url": "https://github.com/ethereum/solidity/issues/3356#issuecomment-556552518",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/3356",
    "id": 556552518,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1NjU1MjUxOA==",
    "user": {
      "login": "wjmelements",
      "id": 799573,
      "node_id": "MDQ6VXNlcjc5OTU3Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/799573?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wjmelements",
      "html_url": "https://github.com/wjmelements",
      "followers_url": "https://api.github.com/users/wjmelements/followers",
      "following_url": "https://api.github.com/users/wjmelements/following{/other_user}",
      "gists_url": "https://api.github.com/users/wjmelements/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wjmelements/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wjmelements/subscriptions",
      "organizations_url": "https://api.github.com/users/wjmelements/orgs",
      "repos_url": "https://api.github.com/users/wjmelements/repos",
      "events_url": "https://api.github.com/users/wjmelements/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wjmelements/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-11-20T23:46:24Z",
    "updated_at": "2019-11-20T23:46:24Z",
    "author_association": "CONTRIBUTOR",
    "body": "I strongly support this feature. It would greatly reduce the amount of assembly I have to write.\r\n\r\nAs SLOAD cost climbs, placing constants in code will be increasingly important for gas savings.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/556552518/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/572961237",
    "html_url": "https://github.com/ethereum/solidity/issues/3356#issuecomment-572961237",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/3356",
    "id": 572961237,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3Mjk2MTIzNw==",
    "user": {
      "login": "ekpyron",
      "id": 1347491,
      "node_id": "MDQ6VXNlcjEzNDc0OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1347491?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ekpyron",
      "html_url": "https://github.com/ekpyron",
      "followers_url": "https://api.github.com/users/ekpyron/followers",
      "following_url": "https://api.github.com/users/ekpyron/following{/other_user}",
      "gists_url": "https://api.github.com/users/ekpyron/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ekpyron/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ekpyron/subscriptions",
      "organizations_url": "https://api.github.com/users/ekpyron/orgs",
      "repos_url": "https://api.github.com/users/ekpyron/repos",
      "events_url": "https://api.github.com/users/ekpyron/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ekpyron/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-01-10T10:03:17Z",
    "updated_at": "2020-01-10T10:03:17Z",
    "author_association": "MEMBER",
    "body": "This is probably superseded, resp. will be implemented by https://github.com/ethereum/solidity/issues/3835\r\nSo if nobody objects, I'll close this in favour of https://github.com/ethereum/solidity/issues/3835",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/572961237/reactions",
      "total_count": 3,
      "+1": 3,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/574694688",
    "html_url": "https://github.com/ethereum/solidity/issues/3356#issuecomment-574694688",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/3356",
    "id": 574694688,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3NDY5NDY4OA==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-01-15T14:53:07Z",
    "updated_at": "2020-01-15T14:53:07Z",
    "author_association": "MEMBER",
    "body": "Closing this in favour of #3835 ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/574694688/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
