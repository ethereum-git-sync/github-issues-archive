{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/5291",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/5291/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/5291/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/5291/events",
  "html_url": "https://github.com/ethereum/solidity/issues/5291",
  "id": 372992922,
  "node_id": "MDU6SXNzdWUzNzI5OTI5MjI=",
  "number": 5291,
  "title": "[Yul] Combine syntactically equivalent functions",
  "user": {
    "login": "chriseth",
    "id": 9073706,
    "node_id": "MDQ6VXNlcjkwNzM3MDY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/chriseth",
    "html_url": "https://github.com/chriseth",
    "followers_url": "https://api.github.com/users/chriseth/followers",
    "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
    "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
    "organizations_url": "https://api.github.com/users/chriseth/orgs",
    "repos_url": "https://api.github.com/users/chriseth/repos",
    "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
    "received_events_url": "https://api.github.com/users/chriseth/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1282209978,
      "node_id": "MDU6TGFiZWwxMjgyMjA5OTc4",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/optimizer",
      "name": "optimizer",
      "color": "d4c5f9",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2018-10-23T13:12:58Z",
  "updated_at": "2019-11-05T16:37:57Z",
  "closed_at": null,
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "This optimizer pass needs to determine whether two functions are equal and then replace all calls to the first by calls to the second.\r\n\r\nComparing if two functions are equivalent can of course only be done on a syntactical level. It has to start with computing the mappings between variable names. We should also not perform a quadratic comparison of all functions, but instead use a mapping to a coarser equivalence relation first, like the size of the function.\r\n\r\nInspiration: https://www.llvm.org/docs/MergeFunctions.html (we already have a module that computes the code size).\r\n\r\nAny more involved comparisons apart from renamed variable names (like swapped instructions etc) should NOT be performed. If we think something like that is necessary, then it would probably better to add another component that transforms all functions into a normal form first.\r\n\r\nAs a tradeoff, we could at least have the SSAValueTracker or the DataFlowAnalyzer run in parallel so that the following two might be considered equivalent:\r\n```\r\nlet a := 1\r\nlet b := calldataload(2)\r\nmstore(a, b)\r\n```\r\n\r\n```\r\nlet b := calldataload(2)\r\nlet a := 1\r\nmstore(a, b)\r\n```",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/5291/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/5291/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/454735740",
    "html_url": "https://github.com/ethereum/solidity/issues/5291#issuecomment-454735740",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/5291",
    "id": 454735740,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NDczNTc0MA==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-16T10:49:18Z",
    "updated_at": "2019-01-16T10:49:18Z",
    "author_association": "MEMBER",
    "body": "Removing from 0.5.3 because the more involved comparison should be implemented in another release.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/454735740/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
