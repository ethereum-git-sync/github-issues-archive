{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/12329",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/12329/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/12329/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/12329/events",
  "html_url": "https://github.com/ethereum/solidity/issues/12329",
  "id": 1063174860,
  "node_id": "I_kwDOAm_5kc4_XsLM",
  "number": 12329,
  "title": "compiler error:size_t’ was not declared in this scope; did you mean ‘std::size_t’?",
  "user": {
    "login": "luweijie007",
    "id": 7186190,
    "node_id": "MDQ6VXNlcjcxODYxOTA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/7186190?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/luweijie007",
    "html_url": "https://github.com/luweijie007",
    "followers_url": "https://api.github.com/users/luweijie007/followers",
    "following_url": "https://api.github.com/users/luweijie007/following{/other_user}",
    "gists_url": "https://api.github.com/users/luweijie007/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/luweijie007/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/luweijie007/subscriptions",
    "organizations_url": "https://api.github.com/users/luweijie007/orgs",
    "repos_url": "https://api.github.com/users/luweijie007/repos",
    "events_url": "https://api.github.com/users/luweijie007/events{/privacy}",
    "received_events_url": "https://api.github.com/users/luweijie007/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 249074435,
      "node_id": "MDU6TGFiZWwyNDkwNzQ0MzU=",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/bug%20:bug:",
      "name": "bug :bug:",
      "color": "fc1313",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2021-11-25T05:31:36Z",
  "updated_at": "2021-11-30T11:16:28Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "git clone source and check out v.7.0.6\r\nand ./scripts/build.sh\r\n error break:\r\nsize_t’ was not declared in this scope; did you mean ‘std::size_t’?\r\ngcc (GCC) 11.1.0\r\nclang version 13.0.0\r\nos: manjaro",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/12329/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/12329/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/978859824",
    "html_url": "https://github.com/ethereum/solidity/issues/12329#issuecomment-978859824",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/12329",
    "id": 978859824,
    "node_id": "IC_kwDOAm_5kc46WDcw",
    "user": {
      "login": "phyBrackets",
      "id": 75530356,
      "node_id": "MDQ6VXNlcjc1NTMwMzU2",
      "avatar_url": "https://avatars.githubusercontent.com/u/75530356?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/phyBrackets",
      "html_url": "https://github.com/phyBrackets",
      "followers_url": "https://api.github.com/users/phyBrackets/followers",
      "following_url": "https://api.github.com/users/phyBrackets/following{/other_user}",
      "gists_url": "https://api.github.com/users/phyBrackets/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/phyBrackets/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/phyBrackets/subscriptions",
      "organizations_url": "https://api.github.com/users/phyBrackets/orgs",
      "repos_url": "https://api.github.com/users/phyBrackets/repos",
      "events_url": "https://api.github.com/users/phyBrackets/events{/privacy}",
      "received_events_url": "https://api.github.com/users/phyBrackets/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-11-25T05:50:24Z",
    "updated_at": "2021-11-25T05:50:24Z",
    "author_association": "CONTRIBUTOR",
    "body": "are you using **using namespace std** ?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/978859824/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/978863342",
    "html_url": "https://github.com/ethereum/solidity/issues/12329#issuecomment-978863342",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/12329",
    "id": 978863342,
    "node_id": "IC_kwDOAm_5kc46WETu",
    "user": {
      "login": "luweijie007",
      "id": 7186190,
      "node_id": "MDQ6VXNlcjcxODYxOTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7186190?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luweijie007",
      "html_url": "https://github.com/luweijie007",
      "followers_url": "https://api.github.com/users/luweijie007/followers",
      "following_url": "https://api.github.com/users/luweijie007/following{/other_user}",
      "gists_url": "https://api.github.com/users/luweijie007/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luweijie007/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luweijie007/subscriptions",
      "organizations_url": "https://api.github.com/users/luweijie007/orgs",
      "repos_url": "https://api.github.com/users/luweijie007/repos",
      "events_url": "https://api.github.com/users/luweijie007/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luweijie007/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-11-25T05:56:58Z",
    "updated_at": "2021-11-25T05:56:58Z",
    "author_association": "NONE",
    "body": "> are you using **using namespace std** ?\r\n\r\ni just test to compile special version from source and no modify source. you means I has to change some makefiles for compile. I just follow this :https://docs.soliditylang.org/en/latest/installing-solidity.html#building-from-source. \r\nto do. I just check prepare env and follow list.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/978863342/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/979012547",
    "html_url": "https://github.com/ethereum/solidity/issues/12329#issuecomment-979012547",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/12329",
    "id": 979012547,
    "node_id": "IC_kwDOAm_5kc46WovD",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-11-25T09:25:12Z",
    "updated_at": "2021-11-25T09:25:12Z",
    "author_association": "MEMBER",
    "body": "Can you provide the full build log? I'm especially interested in the file and location of the error.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/979012547/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/979834077",
    "html_url": "https://github.com/ethereum/solidity/issues/12329#issuecomment-979834077",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/12329",
    "id": 979834077,
    "node_id": "IC_kwDOAm_5kc46ZxTd",
    "user": {
      "login": "luweijie007",
      "id": 7186190,
      "node_id": "MDQ6VXNlcjcxODYxOTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7186190?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luweijie007",
      "html_url": "https://github.com/luweijie007",
      "followers_url": "https://api.github.com/users/luweijie007/followers",
      "following_url": "https://api.github.com/users/luweijie007/following{/other_user}",
      "gists_url": "https://api.github.com/users/luweijie007/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luweijie007/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luweijie007/subscriptions",
      "organizations_url": "https://api.github.com/users/luweijie007/orgs",
      "repos_url": "https://api.github.com/users/luweijie007/repos",
      "events_url": "https://api.github.com/users/luweijie007/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luweijie007/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-11-26T09:50:49Z",
    "updated_at": "2021-11-26T16:55:11Z",
    "author_association": "NONE",
    "body": "> Can you provide the full build log? I'm especially interested in the file and location of the error.\r\n\r\n```\r\nConsolidate compiler generated dependencies of target yul-phaser\r\n[ 53%] Built target libsolc\r\nConsolidate compiler generated dependencies of target solidity-upgrade\r\n[ 53%] Building CXX object tools/CMakeFiles/yul-phaser.dir/yulPhaser/PairSelections.cpp.o\r\n[ 55%] Built target solidity-upgrade\r\n[ 56%] Building CXX object solc/CMakeFiles/solc.dir/CommandLineInterface.cpp.o\r\nIn file included from /home/jacke/solidity/tools/yulPhaser/PairSelections.cpp:19:\r\n/home/jacke/solidity/tools/yulPhaser/PairSelections.h:52:40: error: ‘size_t’ was not declared in this scope; did you mean ‘std::size_t’?\r\n   52 |         virtual std::vector<std::tuple<size_t, size_t>> materialise(size_t _poolSize) const = 0;\r\n      |                                        ^~~~~~\r\n      |                                        std::size_t\r\nIn file included from /usr/include/c++/11.1.0/limits:42,\r\n                 from <command-line>:\r\n/usr/include/c++/11.1.0/x86_64-pc-linux-gnu/bits/c++config.h:280:33: note: ‘std::size_t’ declared here\r\n  280 |   typedef __SIZE_TYPE__         size_t;\r\n      |                                 ^~~~~~\r\nIn file included from /home/jacke/solidity/tools/yulPhaser/PairSelections.cpp:19:\r\n/home/jacke/solidity/tools/yulPhaser/PairSelections.h:52:48: error: ‘size_t’ was not declared in this scope; did you mean ‘std::size_t’?\r\n   52 |         virtual std::vector<std::tuple<size_t, size_t>> materialise(size_t _poolSize) const = 0;\r\n      |                                                ^~~~~~\r\n      |                                                std::size_t\r\nIn file included from /usr/include/c++/11.1.0/limits:42,\r\n                 from <command-line>:\r\n/usr/include/c++/11.1.0/x86_64-pc-linux-gnu/bits/c++config.h:280:33: note: ‘std::size_t’ declared here\r\n  280 |   typedef __SIZE_TYPE__         size_t;\r\n      |                                 ^~~~~~\r\nIn file included from /home/jacke/solidity/tools/yulPhaser/PairSelections.cpp:19:\r\n/home/jacke/solidity/tools/yulPhaser/PairSelections.h:52:48: error: template argument 1 is invalid\r\n   52 |         virtual std::vector<std::tuple<size_t, size_t>> materialise(size_t _poolSize) const = 0;\r\n      |                                                ^~~~~~\r\n/home/jacke/solidity/tools/yulPhaser/PairSelections.h:52:48: error: template argument 2 is invalid\r\n/home/jacke/solidity/tools/yulPhaser/PairSelections.h:52:54: error: template argument 1 is invalid\r\n   52 |         virtual std::vector<std::tuple<size_t, size_t>> materialise(size_t _poolSize) const = 0;\r\n      |                                                      ^~\r\n/home/jacke/solidity/tools/yulPhaser/PairSelections.h:52:54: error: template argument 2 is invalid\r\n/home/jacke/solidity/tools/yulPhaser/PairSelections.h:52:69: error: ‘size_t’ has not been declared\r\n   52 |         virtual std::vector<std::tuple<size_t, size_t>> materialise(size_t _poolSize) const = 0;\r\n      |                                                                     ^~~~~~\r\n/home/jacke/solidity/tools/yulPhaser/PairSelections.h:67:32: error: ‘size_t’ was not declared in this scope; did you mean ‘std::size_t’?\r\n   67 |         std::vector<std::tuple<size_t, size_t>> materialise(size_t _poolSize) const override;\r\n      |                                ^~~~~~\r\n      |                                std::size_t\r\nIn file included from /usr/include/c++/11.1.0/limits:42,\r\n                 from <command-line>:\r\n/usr/include/c++/11.1.0/x86_64-pc-linux-gnu/bits/c++config.h:280:33: note: ‘std::size_t’ declared here\r\n  280 |   typedef __SIZE_TYPE__         size_t;\r\n      |                                 ^~~~~~\r\nIn file included from /home/jacke/solidity/tools/yulPhaser/PairSelections.cpp:19:\r\n/home/jacke/solidity/tools/yulPhaser/PairSelections.h:67:40: error: ‘size_t’ was not declared in this scope; did you mean ‘std::size_t’?\r\n   67 |         std::vector<std::tuple<size_t, size_t>> materialise(size_t _poolSize) const override;\r\n      |                                        ^~~~~~\r\n      |                                        std::size_t\r\nIn file included from /usr/include/c++/11.1.0/limits:42,\r\n                 from <command-line>:\r\n/usr/include/c++/11.1.0/x86_64-pc-linux-gnu/bits/c++config.h:280:33: note: ‘std::size_t’ declared here\r\n  280 |   typedef __SIZE_TYPE__         size_t;\r\n      |                                 ^~~~~~\r\nIn file included from /home/jacke/solidity/tools/yulPhaser/PairSelections.cpp:19:\r\n/home/jacke/solidity/tools/yulPhaser/PairSelections.h:67:40: error: template argument 1 is invalid\r\n   67 |         std::vector<std::tuple<size_t, size_t>> materialise(size_t _poolSize) const override;\r\n      |                                        ^~~~~~\r\n/home/jacke/solidity/tools/yulPhaser/PairSelections.h:67:40: error: template argument 2 is invalid\r\n/home/jacke/solidity/tools/yulPhaser/PairSelections.h:67:46: error: template argument 1 is invalid\r\n   67 |         std::vector<std::tuple<size_t, size_t>> materialise(size_t _poolSize) const override;\r\n      |                                              ^~\r\n/home/jacke/solidity/tools/yulPhaser/PairSelections.h:67:46: error: template argument 2 is invalid\r\n/home/jacke/solidity/tools/yulPhaser/PairSelections.h:67:61: error: ‘size_t’ has not been declared\r\n   67 |         std::vector<std::tuple<size_t, size_t>> materialise(size_t _poolSize) const override;\r\n      |                                                             ^~~~~~\r\n/home/jacke/solidity/tools/yulPhaser/PairSelections.h:89:32: error: ‘size_t’ was not declared in this scope; did you mean ‘std::size_t’?\r\n   89 |         std::vector<std::tuple<size_t, size_t>> materialise(size_t _poolSize) const override;\r\n      |                                ^~~~~~\r\n      |                                std::size_t\r\nIn file included from /usr/include/c++/11.1.0/limits:42,\r\n                 from <command-line>:\r\n/usr/include/c++/11.1.0/x86_64-pc-linux-gnu/bits/c++config.h:280:33: note: ‘std::size_t’ declared here\r\n  280 |   typedef __SIZE_TYPE__         size_t;\r\n      |                                 ^~~~~~\r\nIn file included from /home/jacke/solidity/tools/yulPhaser/PairSelections.cpp:19:\r\n/home/jacke/solidity/tools/yulPhaser/PairSelections.h:89:40: error: ‘size_t’ was not declared in this scope; did you mean ‘std::size_t’?\r\n   89 |         std::vector<std::tuple<size_t, size_t>> materialise(size_t _poolSize) const override;\r\n      |                                        ^~~~~~\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/979834077/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/980176233",
    "html_url": "https://github.com/ethereum/solidity/issues/12329#issuecomment-980176233",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/12329",
    "id": 980176233,
    "node_id": "IC_kwDOAm_5kc46bE1p",
    "user": {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-11-26T17:18:56Z",
    "updated_at": "2021-11-30T11:16:28Z",
    "author_association": "MEMBER",
    "body": "The error is that `yulPhaser/PairSelections.h` uses the `size_t` type from `cstddef` header but on your system that type is inside the `std` namespace.\r\n\r\nI found this in some SO answer ([Which header should I include for `size_t`?](https://stackoverflow.com/questions/36594569/which-header-should-i-include-for-size-t)):\r\n> Note that `cstddef` only guarantees to define `std::size_t`, that is, defining `size_t` in namespace `std`, although it may provide this name also in the global namespace (effectively, plain `size_t`).\r\n\r\nSo apparently this indeed might fail, I wonder why we never ran into it in our CI even though we build on multiple platforms and various compilers, including both GCC and clang. We even build on Arch Linux, which Manjaro is based on. I'm running Arch Linux myself and I don't get this error when compiling locally. I'd be very interested in how to reproduce it outside of Manjaro.\r\n\r\nA workaround would be to add `using std::size_t;` [somewhere in `PairSelections.h`](https://github.com/ethereum/solidity/blob/v0.8.10/tools/yulPhaser/PairSelections.h#L29). Maybe also a few other files because a quick search shows me that we have several headers using `size_t` from `cstddef`, also outside of yul phaser. If that works for you, you could submit the change as a pull request but the problem is that we cannot really verify that it works and would not notice if it breaks in the future, at least not without being able to reproduce the problem in our CI.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/980176233/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/982493220",
    "html_url": "https://github.com/ethereum/solidity/issues/12329#issuecomment-982493220",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/12329",
    "id": 982493220,
    "node_id": "IC_kwDOAm_5kc46j6gk",
    "user": {
      "login": "luweijie007",
      "id": 7186190,
      "node_id": "MDQ6VXNlcjcxODYxOTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7186190?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/luweijie007",
      "html_url": "https://github.com/luweijie007",
      "followers_url": "https://api.github.com/users/luweijie007/followers",
      "following_url": "https://api.github.com/users/luweijie007/following{/other_user}",
      "gists_url": "https://api.github.com/users/luweijie007/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/luweijie007/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/luweijie007/subscriptions",
      "organizations_url": "https://api.github.com/users/luweijie007/orgs",
      "repos_url": "https://api.github.com/users/luweijie007/repos",
      "events_url": "https://api.github.com/users/luweijie007/events{/privacy}",
      "received_events_url": "https://api.github.com/users/luweijie007/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-11-30T10:20:01Z",
    "updated_at": "2021-11-30T10:20:01Z",
    "author_association": "NONE",
    "body": "@cameel thanks your use message\r\nI think may been glibc or some other system file on my os are diffrent with you.  you kown that update on manjaro is  verry frequently.  I will try to update os and try again.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/982493220/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
