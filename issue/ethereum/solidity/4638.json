{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/4638",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/4638/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/4638/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/4638/events",
  "html_url": "https://github.com/ethereum/solidity/issues/4638",
  "id": 346547540,
  "node_id": "MDU6SXNzdWUzNDY1NDc1NDA=",
  "number": 4638,
  "title": "enums with specified values",
  "user": {
    "login": "axic",
    "id": 20340,
    "node_id": "MDQ6VXNlcjIwMzQw",
    "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/axic",
    "html_url": "https://github.com/axic",
    "followers_url": "https://api.github.com/users/axic/followers",
    "following_url": "https://api.github.com/users/axic/following{/other_user}",
    "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
    "organizations_url": "https://api.github.com/users/axic/orgs",
    "repos_url": "https://api.github.com/users/axic/repos",
    "events_url": "https://api.github.com/users/axic/events{/privacy}",
    "received_events_url": "https://api.github.com/users/axic/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 785717317,
      "node_id": "MDU6TGFiZWw3ODU3MTczMTc=",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/language%20design%20:rage4:",
      "name": "language design :rage4:",
      "color": "9d76d3",
      "default": false,
      "description": "Any changes to the language, e.g. new features"
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2018-08-01T10:48:10Z",
  "updated_at": "2022-08-17T13:48:54Z",
  "closed_at": null,
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "Currently `enum`s cannot have values specified by the user, they always start from 0 and steadily increase.\r\n\r\nProposal is to support user specified values in the form of:\r\n```\r\n  enum Direction {\r\n    East: 90,\r\n    West: 240,\r\n    North: 0,\r\n    South: 180\r\n  }\r\n```\r\n\r\nThe colon makes sense because we use this syntax for named arguments already.\r\n\r\nI would suggest that this is introduced with strict rules: either all of the items have their value specified or none of them. This avoids the need of special rules (for example what is the value of an unspecified item after a specified one?).\r\n\r\n(Sparked by #4624)",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/4638/reactions",
    "total_count": 1,
    "+1": 1,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/4638/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/410011807",
    "html_url": "https://github.com/ethereum/solidity/issues/4638#issuecomment-410011807",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/4638",
    "id": 410011807,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMDAxMTgwNw==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-02T17:48:35Z",
    "updated_at": "2018-08-02T17:48:35Z",
    "author_association": "MEMBER",
    "body": "This sounds like a complication, but perhaps not an unsafe one.\r\n\r\nI would opt to put that in 0.6.0, though.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/410011807/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/410663554",
    "html_url": "https://github.com/ethereum/solidity/issues/4638#issuecomment-410663554",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/4638",
    "id": 410663554,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMDY2MzU1NA==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-06T10:27:56Z",
    "updated_at": "2018-08-06T10:27:56Z",
    "author_association": "MEMBER",
    "body": "@christianparpart suggests alternative syntax to use `=`",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/410663554/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/411109331",
    "html_url": "https://github.com/ethereum/solidity/issues/4638#issuecomment-411109331",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/4638",
    "id": 411109331,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMTEwOTMzMQ==",
    "user": {
      "login": "ekpyron",
      "id": 1347491,
      "node_id": "MDQ6VXNlcjEzNDc0OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1347491?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ekpyron",
      "html_url": "https://github.com/ekpyron",
      "followers_url": "https://api.github.com/users/ekpyron/followers",
      "following_url": "https://api.github.com/users/ekpyron/following{/other_user}",
      "gists_url": "https://api.github.com/users/ekpyron/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ekpyron/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ekpyron/subscriptions",
      "organizations_url": "https://api.github.com/users/ekpyron/orgs",
      "repos_url": "https://api.github.com/users/ekpyron/repos",
      "events_url": "https://api.github.com/users/ekpyron/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ekpyron/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-07T16:01:04Z",
    "updated_at": "2018-08-07T16:01:04Z",
    "author_association": "MEMBER",
    "body": "I'm actually still not entirely clear about why this is necessarily breaking.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/411109331/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/708538040",
    "html_url": "https://github.com/ethereum/solidity/issues/4638#issuecomment-708538040",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/4638",
    "id": 708538040,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwODUzODA0MA==",
    "user": {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-14T17:09:15Z",
    "updated_at": "2020-10-14T17:09:15Z",
    "author_association": "MEMBER",
    "body": "We discussed it on the meeting today and the answer was that it's not breaking :) So I'm moving it to non-breaking backlog.\r\n\r\nAlso, the consensus right now is that we're still lacking a good use case for this. So putting it in the Icebox seems like the right thing to do too.\r\n\r\nOne minor downside to allowing arbitrary (and especially non-contiguous) values is that the runtime check becomes more expensive. That's only if the values are actually non-contiguous but this might not be obvious to users and they might be choosing values that just look good for one reason or another, not being aware of the extra cost.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/708538040/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/708540573",
    "html_url": "https://github.com/ethereum/solidity/issues/4638#issuecomment-708540573",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/4638",
    "id": 708540573,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwODU0MDU3Mw==",
    "user": {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-14T17:14:11Z",
    "updated_at": "2020-10-14T17:16:25Z",
    "author_association": "MEMBER",
    "body": "Actually, looking at the linked Loopring issue, the use case I suggested at the meeting - using values as bit masks - is not as far fetched as I thought. Some developers are trying to use them like that in Solidity (https://github.com/Loopring/protocols/pull/828#discussion_r354903437). This was the code used to work around this:\r\n\r\n```solidity\r\nlibrary GuardianType\r\n{\r\n    function None()            internal pure returns (uint) { return      0; }\r\n    function EOA()             internal pure returns (uint) { return 1 << 0; }\r\n    function SelfControlled()  internal pure returns (uint) { return 1 << 1; }\r\n    function Hardware()        internal pure returns (uint) { return 1 << 2; }\r\n    function Device()          internal pure returns (uint) { return 1 << 3; }\r\n    function Service()         internal pure returns (uint) { return 1 << 4; }\r\n    function Family()          internal pure returns (uint) { return 1 << 5; }\r\n    function Friend()          internal pure returns (uint) { return 1 << 6; }\r\n}\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/708540573/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
