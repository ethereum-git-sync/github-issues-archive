{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/2619",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/2619/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/2619/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/2619/events",
  "html_url": "https://github.com/ethereum/solidity/issues/2619",
  "id": 244700093,
  "node_id": "MDU6SXNzdWUyNDQ3MDAwOTM=",
  "number": 2619,
  "title": "'noreentrancy' flag",
  "user": {
    "login": "mezrin",
    "id": 2777812,
    "node_id": "MDQ6VXNlcjI3Nzc4MTI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2777812?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/mezrin",
    "html_url": "https://github.com/mezrin",
    "followers_url": "https://api.github.com/users/mezrin/followers",
    "following_url": "https://api.github.com/users/mezrin/following{/other_user}",
    "gists_url": "https://api.github.com/users/mezrin/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/mezrin/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mezrin/subscriptions",
    "organizations_url": "https://api.github.com/users/mezrin/orgs",
    "repos_url": "https://api.github.com/users/mezrin/repos",
    "events_url": "https://api.github.com/users/mezrin/events{/privacy}",
    "received_events_url": "https://api.github.com/users/mezrin/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2017-07-21T15:13:20Z",
  "updated_at": "2017-07-25T08:13:17Z",
  "closed_at": "2017-07-25T08:13:16Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "There are really many attacks that use reentrancy. It would be amazing to have a modifier for functions `noreentrancy`. Just like `constant`\r\n\r\nIf function marked with this flag and called twice in one transaction - exception was thrown\r\n\r\nIt is even better to break backwards compatibility and make this flag default for all public functions. I.e.:\r\n- by default public functions are not allow reentrancy\r\n- a public function can be marked with 'reentrant'\r\n",
  "closed_by": {
    "login": "chriseth",
    "id": 9073706,
    "node_id": "MDQ6VXNlcjkwNzM3MDY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/chriseth",
    "html_url": "https://github.com/chriseth",
    "followers_url": "https://api.github.com/users/chriseth/followers",
    "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
    "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
    "organizations_url": "https://api.github.com/users/chriseth/orgs",
    "repos_url": "https://api.github.com/users/chriseth/repos",
    "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
    "received_events_url": "https://api.github.com/users/chriseth/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/2619/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/2619/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/317031394",
    "html_url": "https://github.com/ethereum/solidity/issues/2619#issuecomment-317031394",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/2619",
    "id": 317031394,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNzAzMTM5NA==",
    "user": {
      "login": "federicobond",
      "id": 138426,
      "node_id": "MDQ6VXNlcjEzODQyNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/138426?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/federicobond",
      "html_url": "https://github.com/federicobond",
      "followers_url": "https://api.github.com/users/federicobond/followers",
      "following_url": "https://api.github.com/users/federicobond/following{/other_user}",
      "gists_url": "https://api.github.com/users/federicobond/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/federicobond/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/federicobond/subscriptions",
      "organizations_url": "https://api.github.com/users/federicobond/orgs",
      "repos_url": "https://api.github.com/users/federicobond/repos",
      "events_url": "https://api.github.com/users/federicobond/events{/privacy}",
      "received_events_url": "https://api.github.com/users/federicobond/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-07-21T15:25:55Z",
    "updated_at": "2017-07-21T15:25:55Z",
    "author_association": "CONTRIBUTOR",
    "body": "Keep in mind that reentrancy is different from calling a function twice. There is usually nothing wrong with the latter.\r\n\r\nAlso, should the reentrancy guard lock the whole contract or just that particular function? It may be safer (and cheaper) to do the first, to better protect contract invariants.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/317031394/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/317035370",
    "html_url": "https://github.com/ethereum/solidity/issues/2619#issuecomment-317035370",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/2619",
    "id": 317035370,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNzAzNTM3MA==",
    "user": {
      "login": "roadriverrail",
      "id": 614752,
      "node_id": "MDQ6VXNlcjYxNDc1Mg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/614752?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/roadriverrail",
      "html_url": "https://github.com/roadriverrail",
      "followers_url": "https://api.github.com/users/roadriverrail/followers",
      "following_url": "https://api.github.com/users/roadriverrail/following{/other_user}",
      "gists_url": "https://api.github.com/users/roadriverrail/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/roadriverrail/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/roadriverrail/subscriptions",
      "organizations_url": "https://api.github.com/users/roadriverrail/orgs",
      "repos_url": "https://api.github.com/users/roadriverrail/repos",
      "events_url": "https://api.github.com/users/roadriverrail/events{/privacy}",
      "received_events_url": "https://api.github.com/users/roadriverrail/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-07-21T15:41:32Z",
    "updated_at": "2017-07-21T15:41:32Z",
    "author_association": "CONTRIBUTOR",
    "body": "I think this is a clever idea, almost to the point if wondering if the\ndefault should be locking reentrancy.\n\nOn Fri, Jul 21, 2017, 11:25 Federico Bond <notifications@github.com> wrote:\n\n> Keep in mind that reentrancy is different from calling a function twice.\n> There is usually nothing wrong with the latter.\n>\n> Also, should the reentrancy guard lock the whole contract or just that\n> particular function? It may be safer (and cheaper) to do the first, to\n> better protect contract invariants.\n>\n> â€”\n> You are receiving this because you are subscribed to this thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/ethereum/solidity/issues/2619#issuecomment-317031394>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AAlhYIhDkvQcxOU5E0EuZ1KaZUpGA4zBks5sQMMEgaJpZM4OfiPx>\n> .\n>\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/317035370/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/317037687",
    "html_url": "https://github.com/ethereum/solidity/issues/2619#issuecomment-317037687",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/2619",
    "id": 317037687,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNzAzNzY4Nw==",
    "user": {
      "login": "mezrin",
      "id": 2777812,
      "node_id": "MDQ6VXNlcjI3Nzc4MTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2777812?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mezrin",
      "html_url": "https://github.com/mezrin",
      "followers_url": "https://api.github.com/users/mezrin/followers",
      "following_url": "https://api.github.com/users/mezrin/following{/other_user}",
      "gists_url": "https://api.github.com/users/mezrin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mezrin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mezrin/subscriptions",
      "organizations_url": "https://api.github.com/users/mezrin/orgs",
      "repos_url": "https://api.github.com/users/mezrin/repos",
      "events_url": "https://api.github.com/users/mezrin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mezrin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-07-21T15:49:57Z",
    "updated_at": "2017-07-21T15:50:26Z",
    "author_association": "NONE",
    "body": "> Keep in mind that reentrancy is different from calling a function twice. There is usually nothing wrong with the latter.\r\n\r\nI think people should start to write better contracts. And implement business-logic in `internal` functions. In this case, we can do smth like this:\r\nThe public function of a contract called -> contract does smth, make a call to external contract  / transfer ETH -> calls to public functions of this contract become prohibited, even if they performed from inside the contract as an internal call.\r\n\r\nIt should be easier to implement and it is quite straightforward security model.\r\n\r\n> Also, should the reentrancy guard lock the whole contract or just that particular function? It may be safer (and cheaper) to do the first, to better protect contract invariants.\r\n\r\nI think some use-cases require reentrancy and we need to have function-level modifiers that allow this. In this case, this is up to the developer to implement needed security measures",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/317037687/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/317059110",
    "html_url": "https://github.com/ethereum/solidity/issues/2619#issuecomment-317059110",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/2619",
    "id": 317059110,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNzA1OTExMA==",
    "user": {
      "login": "axic",
      "id": 20340,
      "node_id": "MDQ6VXNlcjIwMzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/axic",
      "html_url": "https://github.com/axic",
      "followers_url": "https://api.github.com/users/axic/followers",
      "following_url": "https://api.github.com/users/axic/following{/other_user}",
      "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
      "organizations_url": "https://api.github.com/users/axic/orgs",
      "repos_url": "https://api.github.com/users/axic/repos",
      "events_url": "https://api.github.com/users/axic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/axic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-07-21T17:13:29Z",
    "updated_at": "2017-07-21T17:13:29Z",
    "author_association": "MEMBER",
    "body": "This has been discussed twice in #656 and #662, things may have changed since, but it is perhaps worth reading those two threads.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/317059110/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/317286976",
    "html_url": "https://github.com/ethereum/solidity/issues/2619#issuecomment-317286976",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/2619",
    "id": 317286976,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNzI4Njk3Ng==",
    "user": {
      "login": "EricR",
      "id": 433645,
      "node_id": "MDQ6VXNlcjQzMzY0NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/433645?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/EricR",
      "html_url": "https://github.com/EricR",
      "followers_url": "https://api.github.com/users/EricR/followers",
      "following_url": "https://api.github.com/users/EricR/following{/other_user}",
      "gists_url": "https://api.github.com/users/EricR/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/EricR/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/EricR/subscriptions",
      "organizations_url": "https://api.github.com/users/EricR/orgs",
      "repos_url": "https://api.github.com/users/EricR/repos",
      "events_url": "https://api.github.com/users/EricR/events{/privacy}",
      "received_events_url": "https://api.github.com/users/EricR/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-07-23T22:30:09Z",
    "updated_at": "2017-07-23T22:30:09Z",
    "author_association": "NONE",
    "body": "I want to point out that this issue is also being addressed in [EIP 214](https://github.com/ethereum/EIPs/pull/214), which adds a new opcode aptly named STATICCALL.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/317286976/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/317663766",
    "html_url": "https://github.com/ethereum/solidity/issues/2619#issuecomment-317663766",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/2619",
    "id": 317663766,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNzY2Mzc2Ng==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-07-25T08:13:16Z",
    "updated_at": "2017-07-25T08:13:16Z",
    "author_association": "MEMBER",
    "body": "I don't think it is beneficial to the discussion to keep this issue open. Please discuss on the other two issues and be advised that \"noreentrancy\" does not have to be a language feature.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/317663766/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
