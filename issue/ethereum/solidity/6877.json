{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/6877",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/6877/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/6877/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/6877/events",
  "html_url": "https://github.com/ethereum/solidity/issues/6877",
  "id": 450587444,
  "node_id": "MDU6SXNzdWU0NTA1ODc0NDQ=",
  "number": 6877,
  "title": "Events in hub/factory contract",
  "user": {
    "login": "DanielZambranoC",
    "id": 28786672,
    "node_id": "MDQ6VXNlcjI4Nzg2Njcy",
    "avatar_url": "https://avatars.githubusercontent.com/u/28786672?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/DanielZambranoC",
    "html_url": "https://github.com/DanielZambranoC",
    "followers_url": "https://api.github.com/users/DanielZambranoC/followers",
    "following_url": "https://api.github.com/users/DanielZambranoC/following{/other_user}",
    "gists_url": "https://api.github.com/users/DanielZambranoC/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/DanielZambranoC/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/DanielZambranoC/subscriptions",
    "organizations_url": "https://api.github.com/users/DanielZambranoC/orgs",
    "repos_url": "https://api.github.com/users/DanielZambranoC/repos",
    "events_url": "https://api.github.com/users/DanielZambranoC/events{/privacy}",
    "received_events_url": "https://api.github.com/users/DanielZambranoC/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2019-05-31T02:34:05Z",
  "updated_at": "2019-06-13T15:32:14Z",
  "closed_at": "2019-06-13T15:32:13Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "<!--## Prerequisites\r\n\r\n- First, many thanks for taking part in the community. We really appreciate that.\r\n- Read the [contributing guidelines](http://solidity.readthedocs.io/en/latest/contributing.html).\r\n- Support questions are better asked in one of the following locations:\r\n\t- [Solidity chat](https://gitter.im/ethereum/solidity)\r\n\t- [Stack Overflow](https://ethereum.stackexchange.com/)\r\n- Ensure the issue isn't already reported.\r\n\r\n*Delete the above section and the instructions in the sections below before submitting*\r\n-->\r\n## Description\r\n\r\nI have written a contract with the hub/factory pattern in which I need to capture the address of the contract that is being created, for this I am using events.\r\n\r\nContract A\r\n- Function A1\r\n-- Call to Function B1\r\n--- emit event\r\n\r\nContract B\r\n- Function B1\r\n-- Actions\r\n\r\nHowever, I try making an event with a single contract and it works perfectly, I receive the receipt with the associated events and the resulting elements.\r\n\r\nI uploaded to my repository the code I'm using, the contract in question is as follows\r\n\r\nhttps://github.com/DanielZambranoC/Capachain/blob/master/bc/contracts/Capachain.sol\r\n\r\nAs you can see in line 11 I have changed the content of the event to 'daniel' proving that it was not a problem with the address I was sending, basically I need to return the contract address that was created to the front end to notify the user. \r\n\r\nI am using web3js in its version 1.0.0 beta 36 and 55 with my application\r\n\r\nIn Remix I can see that the *log* returns the events raised, but I have not managed to capture them from my application. \r\n\r\n",
  "closed_by": {
    "login": "leonardoalt",
    "id": 504195,
    "node_id": "MDQ6VXNlcjUwNDE5NQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/504195?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/leonardoalt",
    "html_url": "https://github.com/leonardoalt",
    "followers_url": "https://api.github.com/users/leonardoalt/followers",
    "following_url": "https://api.github.com/users/leonardoalt/following{/other_user}",
    "gists_url": "https://api.github.com/users/leonardoalt/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/leonardoalt/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/leonardoalt/subscriptions",
    "organizations_url": "https://api.github.com/users/leonardoalt/orgs",
    "repos_url": "https://api.github.com/users/leonardoalt/repos",
    "events_url": "https://api.github.com/users/leonardoalt/events{/privacy}",
    "received_events_url": "https://api.github.com/users/leonardoalt/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/6877/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/6877/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/497555269",
    "html_url": "https://github.com/ethereum/solidity/issues/6877#issuecomment-497555269",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/6877",
    "id": 497555269,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5NzU1NTI2OQ==",
    "user": {
      "login": "DanielZambranoC",
      "id": 28786672,
      "node_id": "MDQ6VXNlcjI4Nzg2Njcy",
      "avatar_url": "https://avatars.githubusercontent.com/u/28786672?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DanielZambranoC",
      "html_url": "https://github.com/DanielZambranoC",
      "followers_url": "https://api.github.com/users/DanielZambranoC/followers",
      "following_url": "https://api.github.com/users/DanielZambranoC/following{/other_user}",
      "gists_url": "https://api.github.com/users/DanielZambranoC/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DanielZambranoC/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DanielZambranoC/subscriptions",
      "organizations_url": "https://api.github.com/users/DanielZambranoC/orgs",
      "repos_url": "https://api.github.com/users/DanielZambranoC/repos",
      "events_url": "https://api.github.com/users/DanielZambranoC/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DanielZambranoC/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-31T02:45:51Z",
    "updated_at": "2019-05-31T02:45:51Z",
    "author_association": "NONE",
    "body": "In the test with only 1 contract you can see that I have the key/value structure of the event, name with their respective values.\r\n\r\nIn the test with the hub/factory contracts you can see what comes if the events, if I send 2, send me 2 arrays but without content but with raw data, I think that if I sent 100 events, they would sell the 100 array but without information.\r\n\r\n## Result with 1 Contract\r\n\r\n```\r\n{\r\n  \"transactionHash\": \"0xdaf5eec6c4b5a767d1d6c4e5ca23b80afcba91b889731358ab0a27c706b981f6\",\r\n  \"transactionIndex\": 0,\r\n  \"blockHash\": \"0x1b43bd4ebf57105be29bbbdb80b2b9d12c041fb60b014cdb6d08db46e628353e\",\r\n  \"blockNumber\": 178,\r\n  \"from\": \"0x3377b79a500b6d4a8e2e391b86ebc7f88e99f2c4\",\r\n  \"to\": \"0xc3e0cb472f5763a34472afcd546fcce4231a950a\",\r\n  \"gasUsed\": 23031,\r\n  \"cumulativeGasUsed\": 23031,\r\n  \"contractAddress\": null,\r\n  \"status\": true,\r\n  \"logsBloom\": \"0x00000000010000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000800000000000000020000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000\",\r\n  \"v\": \"0x1c\",\r\n  \"r\": \"0xcfe3006057312a461cb0c52c6786eee4f46df6d720da92581e28ec5dab5382f0\",\r\n  \"s\": \"0x3d42b3dcc12aa4b902bcdceec6ef1333460ffa8798ef991bcb202a769d173a20\",\r\n  \"events\": {\r\n    \"RegistroQueja\": {\r\n      \"logIndex\": 0,\r\n      \"transactionIndex\": 0,\r\n      \"transactionHash\": \"0xdaf5eec6c4b5a767d1d6c4e5ca23b80afcba91b889731358ab0a27c706b981f6\",\r\n      \"blockHash\": \"0x1b43bd4ebf57105be29bbbdb80b2b9d12c041fb60b014cdb6d08db46e628353e\",\r\n      \"blockNumber\": 178,\r\n      \"address\": \"0xC3E0CB472f5763A34472AfCd546FCCe4231A950a\",\r\n      \"type\": \"mined\",\r\n      \"id\": \"log_2191ede5\",\r\n      \"returnValues\": {\r\n        \"0\": \"test\",\r\n        \"nomre\": \"test\"\r\n      },\r\n      \"event\": \"RegistroQueja\",\r\n      \"signature\": \"0x4704303a8919b51a4c52e7794ce51a432970e0b441ef60bf5283fe4520dc5308\",\r\n      \"raw\": {\r\n        \"data\": \"0x000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000047465737400000000000000000000000000000000000000000000000000000000\",\r\n        \"topics\": [\r\n          \"0x4704303a8919b51a4c52e7794ce51a432970e0b441ef60bf5283fe4520dc5308\"\r\n        ]\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n## Result with Hub/Factory Contract\r\n\r\n```\r\n{\r\n  \"transactionHash\": \"0x41bb7b355a3c08d0ae99ae7ccad38c2877688fe97da4d773e70a139c5e246c5a\",\r\n  \"transactionIndex\": 0,\r\n  \"blockHash\": \"0xca5049734f587fcd21c80d531433a961365f5778c25a78b861820f9a166ba5c1\",\r\n  \"blockNumber\": 177,\r\n  \"from\": \"0x3377b79a500b6d4a8e2e391b86ebc7f88e99f2c4\",\r\n  \"to\": \"0xbf62861d2ab3c1fc05098f71b97886c050fff0b6\",\r\n  \"gasUsed\": 753055,\r\n  \"cumulativeGasUsed\": 753055,\r\n  \"contractAddress\": null,\r\n  \"status\": true,\r\n  \"logsBloom\": \"0x00000000010000000000000200000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000200000000000100000000000000000000000000000000001000000000000000400000000000010000000020000000000000001000000000000000000000000000000000000000000000000000000002000000000000000000800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\",\r\n  \"v\": \"0x1b\",\r\n  \"r\": \"0x5ea7230a484061a85cfea0276597f4cb07be1e866aa7828a6f54ea766c4d8faa\",\r\n  \"s\": \"0x2f74d47b31216caf8b3314e34834355f54e61fdb3641662a4e2477a375c18add\",\r\n  \"events\": {\r\n    \"0\": {\r\n      \"logIndex\": 0,\r\n      \"transactionIndex\": 0,\r\n      \"transactionHash\": \"0x41bb7b355a3c08d0ae99ae7ccad38c2877688fe97da4d773e70a139c5e246c5a\",\r\n      \"blockHash\": \"0xca5049734f587fcd21c80d531433a961365f5778c25a78b861820f9a166ba5c1\",\r\n      \"blockNumber\": 177,\r\n      \"address\": \"0x7bEf0Ce786E1610f9a962C522A5B16b5C8FDbf70\",\r\n      \"type\": \"mined\",\r\n      \"id\": \"log_4f962706\",\r\n      \"returnValues\": {},\r\n      \"signature\": null,\r\n      \"raw\": {\r\n        \"data\": \"0x0000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000664616e69656c0000000000000000000000000000000000000000000000000000\",\r\n        \"topics\": [\r\n          \"0xabf569c29023498f9292dbb4f02d15221cbfeb36d71a45c619158c2f2c8b91f4\"\r\n        ]\r\n      }\r\n    },\r\n    \"1\": {\r\n      \"logIndex\": 1,\r\n      \"transactionIndex\": 0,\r\n      \"transactionHash\": \"0x41bb7b355a3c08d0ae99ae7ccad38c2877688fe97da4d773e70a139c5e246c5a\",\r\n      \"blockHash\": \"0xca5049734f587fcd21c80d531433a961365f5778c25a78b861820f9a166ba5c1\",\r\n      \"blockNumber\": 177,\r\n      \"address\": \"0xbf62861D2aB3C1fc05098f71b97886c050Fff0b6\",\r\n      \"type\": \"mined\",\r\n      \"id\": \"log_ce96a782\",\r\n      \"returnValues\": {},\r\n      \"signature\": null,\r\n      \"raw\": {\r\n        \"data\": \"0x0000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000664616e69656c0000000000000000000000000000000000000000000000000000\",\r\n        \"topics\": [\r\n          \"0x4704303a8919b51a4c52e7794ce51a432970e0b441ef60bf5283fe4520dc5308\"\r\n        ]\r\n      }\r\n    }\r\n  }\r\n}\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/497555269/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/498994957",
    "html_url": "https://github.com/ethereum/solidity/issues/6877#issuecomment-498994957",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/6877",
    "id": 498994957,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5ODk5NDk1Nw==",
    "user": {
      "login": "leonardoalt",
      "id": 504195,
      "node_id": "MDQ6VXNlcjUwNDE5NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/504195?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/leonardoalt",
      "html_url": "https://github.com/leonardoalt",
      "followers_url": "https://api.github.com/users/leonardoalt/followers",
      "following_url": "https://api.github.com/users/leonardoalt/following{/other_user}",
      "gists_url": "https://api.github.com/users/leonardoalt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/leonardoalt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/leonardoalt/subscriptions",
      "organizations_url": "https://api.github.com/users/leonardoalt/orgs",
      "repos_url": "https://api.github.com/users/leonardoalt/repos",
      "events_url": "https://api.github.com/users/leonardoalt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/leonardoalt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-06-05T08:45:23Z",
    "updated_at": "2019-06-05T08:45:23Z",
    "author_association": "MEMBER",
    "body": "Hi @DanielZambranoC , can you please also provide the code that does not work for you?\r\n\r\nI tried your code on Remix changing the first emit to `emit RegistroQueja(contrato);` and the second to `emit RegistroQuejaXXXX(nuevaQueja);`. It works fine as you can see (I called function `registrarQueja` with arguments `desc`, `name`, `n`, `c`):\r\n```\r\n{\r\n\t\t\"from\": \"0x0dbbc8566e6aaa8be81de21850cd177f88b8d648\",\r\n\t\t\"topic\": \"0x5ad7529e792b78883e1469cdf2c76c66fa9c17437bfc1d00f95bc151d9158557\",\r\n\t\t\"event\": \"RegistroQuejaXXXX\",\r\n\t\t\"args\": {\r\n\t\t\t\"0\": [\r\n\t\t\t\t\"0x08970FEd061E7747CD9a38d680A601510CB659FB\",\r\n\t\t\t\t\"name\",\r\n\t\t\t\t\"n\",\r\n\t\t\t\t\"desc\",\r\n\t\t\t\t\"c\",\r\n\t\t\t\tfalse,\r\n\t\t\t\t\"0x08970FEd061E7747CD9a38d680A601510CB659FB\",\r\n\t\t\t\t\"name\",\r\n\t\t\t\t\"n\",\r\n\t\t\t\t\"desc\",\r\n\t\t\t\t\"c\",\r\n\t\t\t\tfalse\r\n\t\t\t],\r\n\t\t\t\"datos\": [\r\n\t\t\t\t\"0x08970FEd061E7747CD9a38d680A601510CB659FB\",\r\n\t\t\t\t\"name\",\r\n\t\t\t\t\"n\",\r\n\t\t\t\t\"desc\",\r\n\t\t\t\t\"c\",\r\n\t\t\t\tfalse,\r\n\t\t\t\t\"0x08970FEd061E7747CD9a38d680A601510CB659FB\",\r\n\t\t\t\t\"name\",\r\n\t\t\t\t\"n\",\r\n\t\t\t\t\"desc\",\r\n\t\t\t\t\"c\",\r\n\t\t\t\tfalse\r\n\t\t\t],\r\n\t\t\t\"length\": 1\r\n\t\t}\r\n\t},\r\n\t{\r\n\t\t\"from\": \"0x08970fed061e7747cd9a38d680a601510cb659fb\",\r\n\t\t\"topic\": \"0xdd96ea87c0a48f94bad97ab0d7fba8ac3a1ab92a0394dc79953f374f6db0622c\",\r\n\t\t\"event\": \"RegistroQueja\",\r\n\t\t\"args\": {\r\n\t\t\t\"0\": \"0x0dBBc8566E6aaA8bE81dE21850cd177F88b8d648\",\r\n\t\t\t\"addr\": \"0x0dBBc8566E6aaA8bE81dE21850cd177F88b8d648\",\r\n\t\t\t\"length\": 1\r\n\t\t}\r\n\t}\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/498994957/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/498995184",
    "html_url": "https://github.com/ethereum/solidity/issues/6877#issuecomment-498995184",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/6877",
    "id": 498995184,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5ODk5NTE4NA==",
    "user": {
      "login": "leonardoalt",
      "id": 504195,
      "node_id": "MDQ6VXNlcjUwNDE5NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/504195?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/leonardoalt",
      "html_url": "https://github.com/leonardoalt",
      "followers_url": "https://api.github.com/users/leonardoalt/followers",
      "following_url": "https://api.github.com/users/leonardoalt/following{/other_user}",
      "gists_url": "https://api.github.com/users/leonardoalt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/leonardoalt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/leonardoalt/subscriptions",
      "organizations_url": "https://api.github.com/users/leonardoalt/orgs",
      "repos_url": "https://api.github.com/users/leonardoalt/repos",
      "events_url": "https://api.github.com/users/leonardoalt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/leonardoalt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-06-05T08:46:02Z",
    "updated_at": "2019-06-05T08:46:02Z",
    "author_association": "MEMBER",
    "body": "Also please note that emitting an event with a struct as a parameter requires `pragma experimental ABIEncoderV2` which I did use in the test above.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/498995184/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/501754432",
    "html_url": "https://github.com/ethereum/solidity/issues/6877#issuecomment-501754432",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/6877",
    "id": 501754432,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwMTc1NDQzMg==",
    "user": {
      "login": "leonardoalt",
      "id": 504195,
      "node_id": "MDQ6VXNlcjUwNDE5NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/504195?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/leonardoalt",
      "html_url": "https://github.com/leonardoalt",
      "followers_url": "https://api.github.com/users/leonardoalt/followers",
      "following_url": "https://api.github.com/users/leonardoalt/following{/other_user}",
      "gists_url": "https://api.github.com/users/leonardoalt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/leonardoalt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/leonardoalt/subscriptions",
      "organizations_url": "https://api.github.com/users/leonardoalt/orgs",
      "repos_url": "https://api.github.com/users/leonardoalt/repos",
      "events_url": "https://api.github.com/users/leonardoalt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/leonardoalt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-06-13T15:32:13Z",
    "updated_at": "2019-06-13T15:32:13Z",
    "author_association": "MEMBER",
    "body": "Closing for lack of response. Please reopen if needed!",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/501754432/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
