{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/13294",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/13294/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/13294/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/13294/events",
  "html_url": "https://github.com/ethereum/solidity/issues/13294",
  "id": 1315762668,
  "node_id": "I_kwDOAm_5kc5ObPHs",
  "number": 13294,
  "title": "Memory allocation in function return",
  "user": {
    "login": "elshan-eth",
    "id": 22689890,
    "node_id": "MDQ6VXNlcjIyNjg5ODkw",
    "avatar_url": "https://avatars.githubusercontent.com/u/22689890?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/elshan-eth",
    "html_url": "https://github.com/elshan-eth",
    "followers_url": "https://api.github.com/users/elshan-eth/followers",
    "following_url": "https://api.github.com/users/elshan-eth/following{/other_user}",
    "gists_url": "https://api.github.com/users/elshan-eth/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/elshan-eth/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/elshan-eth/subscriptions",
    "organizations_url": "https://api.github.com/users/elshan-eth/orgs",
    "repos_url": "https://api.github.com/users/elshan-eth/repos",
    "events_url": "https://api.github.com/users/elshan-eth/events{/privacy}",
    "received_events_url": "https://api.github.com/users/elshan-eth/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2022-07-23T23:04:29Z",
  "updated_at": "2022-07-25T15:32:19Z",
  "closed_at": "2022-07-25T15:32:19Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "<!--## Prerequisites\r\n\r\n- First, many thanks for taking part in the community. We really appreciate that.\r\n- We realize there is a lot of information requested here. We ask only that you do your best to provide as much information as possible so we can better help you.\r\n- Support questions are better asked in one of the following locations:\r\n    - [Solidity chat](https://gitter.im/ethereum/solidity)\r\n    - [Stack Overflow](https://ethereum.stackexchange.com/)\r\n- Ensure the issue isn't already reported.\r\n- The issue should be reproducible with the latest solidity version; however, this isn't a hard requirement and being reproducible with an older version is sufficient.\r\n\r\n*Delete the above section and the instructions in the sections below before submitting*\r\n-->\r\n\r\n## Description\r\n\r\n<!--Please shortly describe the bug you have found, and what you expect instead.-->\r\n\r\n## Environment\r\n\r\n- Compiler version: 0.8.15\r\n- Target EVM version (as per compiler settings): default\r\n- Framework/IDE (e.g. Truffle or Remix): Remix\r\n- EVM execution environment / backend / blockchain client: default\r\n- Operating system: Mac OS\r\n\r\n## Steps to Reproduce\r\n\r\nWhen a function returns a memory type, solidity allocates space in memory but does not use it. \r\n\r\nThis code has three examples. The first and second examples use 128 bytes in memory. But the last use 64 bytes. I think that all cases should use 64 bytes in memory.\r\n\r\n```solidity\r\n    // 128 bytes in memory\r\n    function _a() internal pure returns(Object memory) {\r\n        return Object({ a: 1, b: 2});\r\n    }\r\n\r\n    // 128 bytes in memory\r\n    function _b() internal pure returns(Object memory object) {\r\n        return Object({ a: 1, b: 2});\r\n    }\r\n\r\n    // 64 bytes in memory\r\n    function _c() internal pure returns(Object memory object) { \r\n        object.a = 1;\r\n        object.b = 2;\r\n    }\r\n```\r\n",
  "closed_by": {
    "login": "chriseth",
    "id": 9073706,
    "node_id": "MDQ6VXNlcjkwNzM3MDY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/chriseth",
    "html_url": "https://github.com/chriseth",
    "followers_url": "https://api.github.com/users/chriseth/followers",
    "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
    "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
    "organizations_url": "https://api.github.com/users/chriseth/orgs",
    "repos_url": "https://api.github.com/users/chriseth/repos",
    "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
    "received_events_url": "https://api.github.com/users/chriseth/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/13294/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/13294/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1194212748",
    "html_url": "https://github.com/ethereum/solidity/issues/13294#issuecomment-1194212748",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/13294",
    "id": 1194212748,
    "node_id": "IC_kwDOAm_5kc5HLj2M",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-25T15:32:19Z",
    "updated_at": "2022-07-25T15:32:19Z",
    "author_association": "MEMBER",
    "body": "Thank you for this issue! This is a design problem in the memory allocator and fixing it is on our roadmap.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1194212748/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
