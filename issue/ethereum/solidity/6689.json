{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/6689",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/6689/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/6689/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/6689/events",
  "html_url": "https://github.com/ethereum/solidity/issues/6689",
  "id": 441227311,
  "node_id": "MDU6SXNzdWU0NDEyMjczMTE=",
  "number": 6689,
  "title": "Documentation unclear on when to use require() vs revert()",
  "user": {
    "login": "guylando",
    "id": 14879163,
    "node_id": "MDQ6VXNlcjE0ODc5MTYz",
    "avatar_url": "https://avatars.githubusercontent.com/u/14879163?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/guylando",
    "html_url": "https://github.com/guylando",
    "followers_url": "https://api.github.com/users/guylando/followers",
    "following_url": "https://api.github.com/users/guylando/following{/other_user}",
    "gists_url": "https://api.github.com/users/guylando/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/guylando/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/guylando/subscriptions",
    "organizations_url": "https://api.github.com/users/guylando/orgs",
    "repos_url": "https://api.github.com/users/guylando/repos",
    "events_url": "https://api.github.com/users/guylando/events{/privacy}",
    "received_events_url": "https://api.github.com/users/guylando/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 275027668,
      "node_id": "MDU6TGFiZWwyNzUwMjc2Njg=",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/documentation%20:book:",
      "name": "documentation :book:",
      "color": "006b75",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "ChrisChinchilla",
    "id": 42080,
    "node_id": "MDQ6VXNlcjQyMDgw",
    "avatar_url": "https://avatars.githubusercontent.com/u/42080?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ChrisChinchilla",
    "html_url": "https://github.com/ChrisChinchilla",
    "followers_url": "https://api.github.com/users/ChrisChinchilla/followers",
    "following_url": "https://api.github.com/users/ChrisChinchilla/following{/other_user}",
    "gists_url": "https://api.github.com/users/ChrisChinchilla/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ChrisChinchilla/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ChrisChinchilla/subscriptions",
    "organizations_url": "https://api.github.com/users/ChrisChinchilla/orgs",
    "repos_url": "https://api.github.com/users/ChrisChinchilla/repos",
    "events_url": "https://api.github.com/users/ChrisChinchilla/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ChrisChinchilla/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "ChrisChinchilla",
      "id": 42080,
      "node_id": "MDQ6VXNlcjQyMDgw",
      "avatar_url": "https://avatars.githubusercontent.com/u/42080?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ChrisChinchilla",
      "html_url": "https://github.com/ChrisChinchilla",
      "followers_url": "https://api.github.com/users/ChrisChinchilla/followers",
      "following_url": "https://api.github.com/users/ChrisChinchilla/following{/other_user}",
      "gists_url": "https://api.github.com/users/ChrisChinchilla/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ChrisChinchilla/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ChrisChinchilla/subscriptions",
      "organizations_url": "https://api.github.com/users/ChrisChinchilla/orgs",
      "repos_url": "https://api.github.com/users/ChrisChinchilla/repos",
      "events_url": "https://api.github.com/users/ChrisChinchilla/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ChrisChinchilla/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 7,
  "created_at": "2019-05-07T13:17:00Z",
  "updated_at": "2019-06-24T09:02:15Z",
  "closed_at": "2019-06-24T09:02:15Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "The documentation here: https://solidity.readthedocs.io/en/v0.5.8/control-structures.html#error-handling-assert-require-revert-and-exceptions\r\ndoes not have a clear explanation of when to use require and when to use revert. It gives an example of performing the same thing once with require and another time with revert. But if they have no real difference and it is only a syntactic difference then why does `revert(..)` exist? Is it just syntactic sugar for `require(1!=1, \"..\")` ?\r\n\r\nLooked for it online and the only place where I saw information on this is here: https://ethereum.stackexchange.com/questions/15166/difference-between-require-and-assert-and-the-difference-between-revert-and-thro/50957#50957\r\nwhere it is written that \"revert is reserved for error-conditions that affect business-logic. For example someone sends a vote when the voting is already close\". However I don't see a logical explanation of why such conditions shouldn't be checked and reverted using require statement?\r\n\r\nMaybe the use of revert is to emit an event after the if and before the revert (which is not possible in require)? or will the emitted events get reverted and deleted as well?\r\n\r\nThanks",
  "closed_by": {
    "login": "ChrisChinchilla",
    "id": 42080,
    "node_id": "MDQ6VXNlcjQyMDgw",
    "avatar_url": "https://avatars.githubusercontent.com/u/42080?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ChrisChinchilla",
    "html_url": "https://github.com/ChrisChinchilla",
    "followers_url": "https://api.github.com/users/ChrisChinchilla/followers",
    "following_url": "https://api.github.com/users/ChrisChinchilla/following{/other_user}",
    "gists_url": "https://api.github.com/users/ChrisChinchilla/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ChrisChinchilla/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ChrisChinchilla/subscriptions",
    "organizations_url": "https://api.github.com/users/ChrisChinchilla/orgs",
    "repos_url": "https://api.github.com/users/ChrisChinchilla/repos",
    "events_url": "https://api.github.com/users/ChrisChinchilla/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ChrisChinchilla/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/6689/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/6689/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/496239189",
    "html_url": "https://github.com/ethereum/solidity/issues/6689#issuecomment-496239189",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/6689",
    "id": 496239189,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5NjIzOTE4OQ==",
    "user": {
      "login": "ChrisChinchilla",
      "id": 42080,
      "node_id": "MDQ6VXNlcjQyMDgw",
      "avatar_url": "https://avatars.githubusercontent.com/u/42080?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ChrisChinchilla",
      "html_url": "https://github.com/ChrisChinchilla",
      "followers_url": "https://api.github.com/users/ChrisChinchilla/followers",
      "following_url": "https://api.github.com/users/ChrisChinchilla/following{/other_user}",
      "gists_url": "https://api.github.com/users/ChrisChinchilla/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ChrisChinchilla/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ChrisChinchilla/subscriptions",
      "organizations_url": "https://api.github.com/users/ChrisChinchilla/orgs",
      "repos_url": "https://api.github.com/users/ChrisChinchilla/repos",
      "events_url": "https://api.github.com/users/ChrisChinchilla/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ChrisChinchilla/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-27T14:57:50Z",
    "updated_at": "2019-05-27T14:57:50Z",
    "author_association": "CONTRIBUTOR",
    "body": "It's a draft PR @guylando that is mostly doing some document rearranging now. But is this any better in helping you understand things?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/496239189/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/496259670",
    "html_url": "https://github.com/ethereum/solidity/issues/6689#issuecomment-496259670",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/6689",
    "id": 496259670,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5NjI1OTY3MA==",
    "user": {
      "login": "guylando",
      "id": 14879163,
      "node_id": "MDQ6VXNlcjE0ODc5MTYz",
      "avatar_url": "https://avatars.githubusercontent.com/u/14879163?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/guylando",
      "html_url": "https://github.com/guylando",
      "followers_url": "https://api.github.com/users/guylando/followers",
      "following_url": "https://api.github.com/users/guylando/following{/other_user}",
      "gists_url": "https://api.github.com/users/guylando/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/guylando/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/guylando/subscriptions",
      "organizations_url": "https://api.github.com/users/guylando/orgs",
      "repos_url": "https://api.github.com/users/guylando/repos",
      "events_url": "https://api.github.com/users/guylando/events{/privacy}",
      "received_events_url": "https://api.github.com/users/guylando/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-27T16:21:55Z",
    "updated_at": "2019-05-27T16:22:49Z",
    "author_association": "CONTRIBUTOR",
    "body": "@ChrisChinchilla Maybe I am missing something but I still don't see any explanation on when to use require and when to use revert. Randomly choosing which one to use feels bad for me as a developer.\r\nThe difference between require and assert or assert and revert are clear. The difference between revert and require is also clear. What is not clear is when to use if+revert and when to use require, because according to the documentation it is the same.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/496259670/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/496263505",
    "html_url": "https://github.com/ethereum/solidity/issues/6689#issuecomment-496263505",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/6689",
    "id": 496263505,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5NjI2MzUwNQ==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-27T16:42:09Z",
    "updated_at": "2019-05-27T16:42:20Z",
    "author_association": "MEMBER",
    "body": "@guylando do you want us to mention something like\r\n```\r\n\"if (!x) revert(msg);\" and \"require(x, msg);\" are equivalent\r\n(up to a potential side-effect of evaluating `msg`).\r\nWhen to use which is fully up to the developer's taste.\r\n```\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/496263505/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/496282071",
    "html_url": "https://github.com/ethereum/solidity/issues/6689#issuecomment-496282071",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/6689",
    "id": 496282071,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5NjI4MjA3MQ==",
    "user": {
      "login": "guylando",
      "id": 14879163,
      "node_id": "MDQ6VXNlcjE0ODc5MTYz",
      "avatar_url": "https://avatars.githubusercontent.com/u/14879163?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/guylando",
      "html_url": "https://github.com/guylando",
      "followers_url": "https://api.github.com/users/guylando/followers",
      "following_url": "https://api.github.com/users/guylando/following{/other_user}",
      "gists_url": "https://api.github.com/users/guylando/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/guylando/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/guylando/subscriptions",
      "organizations_url": "https://api.github.com/users/guylando/orgs",
      "repos_url": "https://api.github.com/users/guylando/repos",
      "events_url": "https://api.github.com/users/guylando/events{/privacy}",
      "received_events_url": "https://api.github.com/users/guylando/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-27T18:33:37Z",
    "updated_at": "2019-05-27T18:33:37Z",
    "author_association": "CONTRIBUTOR",
    "body": "@chriseth if that is the case then it raises the question \"But if they have no real difference and it is only a syntactic difference then why does revert(..) exist if it is just a syntactic sugar for require(1!=1, \"..\") ?\"",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/496282071/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/496302348",
    "html_url": "https://github.com/ethereum/solidity/issues/6689#issuecomment-496302348",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/6689",
    "id": 496302348,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5NjMwMjM0OA==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-27T20:43:19Z",
    "updated_at": "2019-05-27T20:43:19Z",
    "author_association": "MEMBER",
    "body": "@guylando because having this freedom of choice makes some code better readable. Why do we have `for` if everything can be done with `while`?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/496302348/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/496303972",
    "html_url": "https://github.com/ethereum/solidity/issues/6689#issuecomment-496303972",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/6689",
    "id": 496303972,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5NjMwMzk3Mg==",
    "user": {
      "login": "guylando",
      "id": 14879163,
      "node_id": "MDQ6VXNlcjE0ODc5MTYz",
      "avatar_url": "https://avatars.githubusercontent.com/u/14879163?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/guylando",
      "html_url": "https://github.com/guylando",
      "followers_url": "https://api.github.com/users/guylando/followers",
      "following_url": "https://api.github.com/users/guylando/following{/other_user}",
      "gists_url": "https://api.github.com/users/guylando/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/guylando/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/guylando/subscriptions",
      "organizations_url": "https://api.github.com/users/guylando/orgs",
      "repos_url": "https://api.github.com/users/guylando/repos",
      "events_url": "https://api.github.com/users/guylando/events{/privacy}",
      "received_events_url": "https://api.github.com/users/guylando/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-27T20:54:13Z",
    "updated_at": "2019-05-27T21:01:23Z",
    "author_association": "CONTRIBUTOR",
    "body": "@chriseth that is legit. For someone who likes to write code according to the best practices, reading the current documentation made it seem as though some patterns of use or tips on decision making between the use of revert and require were not stated. I now see that they were not stated because they do not exist so that is legit, just wasn't clear beforehand.\r\n\r\nAnd when fallbacking to searching in google, finding this misleading answer: https://ethereum.stackexchange.com/questions/15166/difference-between-require-and-assert-and-the-difference-between-revert-and-thro/50957#50957 made the confusion even worse\r\n\r\n(I am pretty sure there ARE known patterns of use / best practices of when to use `for` and when to use `while`)\r\n\r\nCurrently seems the best practice is to use `require` for input validation but there does not seem to be a best practice of when to use a `revert`. Maybe a function which ALWAYS reverts to not write `require(1!=1, \"..\")`? that is the only thing that comes to mind.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/496303972/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/499823915",
    "html_url": "https://github.com/ethereum/solidity/issues/6689#issuecomment-499823915",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/6689",
    "id": 499823915,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5OTgyMzkxNQ==",
    "user": {
      "login": "ChrisChinchilla",
      "id": 42080,
      "node_id": "MDQ6VXNlcjQyMDgw",
      "avatar_url": "https://avatars.githubusercontent.com/u/42080?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ChrisChinchilla",
      "html_url": "https://github.com/ChrisChinchilla",
      "followers_url": "https://api.github.com/users/ChrisChinchilla/followers",
      "following_url": "https://api.github.com/users/ChrisChinchilla/following{/other_user}",
      "gists_url": "https://api.github.com/users/ChrisChinchilla/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ChrisChinchilla/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ChrisChinchilla/subscriptions",
      "organizations_url": "https://api.github.com/users/ChrisChinchilla/orgs",
      "repos_url": "https://api.github.com/users/ChrisChinchilla/repos",
      "events_url": "https://api.github.com/users/ChrisChinchilla/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ChrisChinchilla/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-06-07T09:41:55Z",
    "updated_at": "2019-06-07T09:41:55Z",
    "author_association": "CONTRIBUTOR",
    "body": "I can't really speak much for language design choices, as that's not really my area, and I would probably use the answer from @chriseth as more definitive (if not giving you the conclusive answer you are looking for) in preference of the SO thread. So I'll take a little of what he added and polish that PR some more.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/499823915/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
