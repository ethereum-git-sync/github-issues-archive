{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/12296",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/12296/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/12296/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/12296/events",
  "html_url": "https://github.com/ethereum/solidity/issues/12296",
  "id": 1056272675,
  "node_id": "I_kwDOAm_5kc4-9XEj",
  "number": 12296,
  "title": "Unable to disambiguate shadowed function pointers",
  "user": {
    "login": "wolflo",
    "id": 33909953,
    "node_id": "MDQ6VXNlcjMzOTA5OTUz",
    "avatar_url": "https://avatars.githubusercontent.com/u/33909953?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/wolflo",
    "html_url": "https://github.com/wolflo",
    "followers_url": "https://api.github.com/users/wolflo/followers",
    "following_url": "https://api.github.com/users/wolflo/following{/other_user}",
    "gists_url": "https://api.github.com/users/wolflo/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/wolflo/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/wolflo/subscriptions",
    "organizations_url": "https://api.github.com/users/wolflo/orgs",
    "repos_url": "https://api.github.com/users/wolflo/repos",
    "events_url": "https://api.github.com/users/wolflo/events{/privacy}",
    "received_events_url": "https://api.github.com/users/wolflo/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 785717317,
      "node_id": "MDU6TGFiZWw3ODU3MTczMTc=",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/language%20design%20:rage4:",
      "name": "language design :rage4:",
      "color": "9d76d3",
      "default": false,
      "description": "Any changes to the language, e.g. new features"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2021-11-17T15:35:29Z",
  "updated_at": "2023-01-27T21:58:03Z",
  "closed_at": "2023-01-27T21:58:03Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "## Description\r\n\r\nAttempting to pass a function pointer where the name of the function being passed is shadowed results in `Error: No matching declaration found after variable lookup`.\r\n\r\nIn theory, the compiler should be able to disambiguate which version of the function is being passed based on the type definition where the function pointer is used.\r\n\r\n## Environment\r\n\r\n- Compiler version: 0.8.10\r\n\r\n## Steps to Reproduce\r\nPointer.sol\r\n```solidity\r\n// SPDX-License-Identifier: MIT\r\npragma solidity 0.8.10;\r\n\r\ncontract Pointer {\r\n    function shadowed(uint256 a) internal {}\r\n    function shadowed(uint256 a, uint256 b) internal {}\r\n    function passFn() internal {\r\n        takeFn(shadowed);\r\n    }\r\n    function takeFn(function(uint256) internal fnPtr) private {\r\n        fnPtr(0);\r\n    }\r\n}\r\n```\r\n\r\n```bash\r\n$ solc --version\r\nVersion: 0.8.10+commit.fc410830.Linux.g++\r\n\r\n$ solc Pointer.sol\r\nError: No matching declaration found after variable lookup.\r\n --> Pointer.sol:8:16:\r\n  |\r\n8 |         takeFn(shadowed);\r\n  |                ^^^^^^^^\r\n```\r\n\r\nRemoving the shadowing function (`shadowed(uint256, uint256)`) results in a compile-able contract.\r\n\r\nBecause `takeFn()` explicitly accepts a function pointer of type `shadowed(uint256)`, it should be possible to determine which version of the method is being passed.\r\n\r\nIn cases where this isn't possible, it could be nice to have some syntax at the callsite to differentiate which version of a function is expected, though this may be a significant syntactic change. To steal from rust's turbofish operator as an example:\r\n```rust\r\nfnPtr::<&shadowed(uint256)>(100);\r\n```",
  "closed_by": {
    "login": "cameel",
    "id": 137030,
    "node_id": "MDQ6VXNlcjEzNzAzMA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/cameel",
    "html_url": "https://github.com/cameel",
    "followers_url": "https://api.github.com/users/cameel/followers",
    "following_url": "https://api.github.com/users/cameel/following{/other_user}",
    "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
    "organizations_url": "https://api.github.com/users/cameel/orgs",
    "repos_url": "https://api.github.com/users/cameel/repos",
    "events_url": "https://api.github.com/users/cameel/events{/privacy}",
    "received_events_url": "https://api.github.com/users/cameel/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/12296/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/12296/timeline",
  "performed_via_github_app": null,
  "state_reason": "not_planned"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/971705133",
    "html_url": "https://github.com/ethereum/solidity/issues/12296#issuecomment-971705133",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/12296",
    "id": 971705133,
    "node_id": "IC_kwDOAm_5kc456wst",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-11-17T15:44:08Z",
    "updated_at": "2021-11-17T15:44:08Z",
    "author_association": "MEMBER",
    "body": "Solidity only performs overload resolution when a function is called, and not later during type checks. We are thinking about allowing explicit disambiguation, but this is currently not on our roadmap, also because we think that this problem does not occur often.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/971705133/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1407117234",
    "html_url": "https://github.com/ethereum/solidity/issues/12296#issuecomment-1407117234",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/12296",
    "id": 1407117234,
    "node_id": "IC_kwDOAm_5kc5T3uey",
    "user": {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-27T21:58:03Z",
    "updated_at": "2023-01-27T21:58:03Z",
    "author_association": "MEMBER",
    "body": "Closing as a duplicate of #3556.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1407117234/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
