{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/10275",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/10275/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/10275/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/10275/events",
  "html_url": "https://github.com/ethereum/solidity/issues/10275",
  "id": 741719541,
  "node_id": "MDU6SXNzdWU3NDE3MTk1NDE=",
  "number": 10275,
  "title": "[CLI] Allow for printing output without headings (such as bytecode)",
  "user": {
    "login": "axic",
    "id": 20340,
    "node_id": "MDQ6VXNlcjIwMzQw",
    "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/axic",
    "html_url": "https://github.com/axic",
    "followers_url": "https://api.github.com/users/axic/followers",
    "following_url": "https://api.github.com/users/axic/following{/other_user}",
    "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
    "organizations_url": "https://api.github.com/users/axic/orgs",
    "repos_url": "https://api.github.com/users/axic/repos",
    "events_url": "https://api.github.com/users/axic/events{/privacy}",
    "received_events_url": "https://api.github.com/users/axic/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 717596767,
      "node_id": "MDU6TGFiZWw3MTc1OTY3Njc=",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/good%20first%20issue",
      "name": "good first issue",
      "color": "006b75",
      "default": true,
      "description": ""
    },
    {
      "id": 1012613901,
      "node_id": "MDU6TGFiZWwxMDEyNjEzOTAx",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/easy%20difficulty",
      "name": "easy difficulty",
      "color": "0b3f89",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2020-11-12T15:58:51Z",
  "updated_at": "2022-11-09T19:23:30Z",
  "closed_at": null,
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "(This issue is splitting up #8847.)\r\n\r\n> This is more of a personal preference / nit, but in builds with only one sourcefile and contract, it could be nice to skip the explaining text and filename for outputs, such the output can be used directly in other contexts or other tools, as in:\r\n> ```\r\n> echo \"contract A {uint public x;}\" | solc --bin-runtime - > A.txt | evm --code $(<A.txt)\r\n> ```\r\n\r\nEDIT by @cameel:\r\nOne addition to the task (moved from #4617):\r\n\r\n> Consistently print the header with contract name in all cases (i.e. the `======= test.sol:C =======` part). Currently `--ir`, `--ir-optimized`, `--ewasm` do not print it when used on their own.\r\n\r\nDoing this makes piping IR output more annoying so we should really to it after we have an option to disable frames.",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/10275/reactions",
    "total_count": 2,
    "+1": 2,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/10275/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/955712133",
    "html_url": "https://github.com/ethereum/solidity/issues/10275#issuecomment-955712133",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/10275",
    "id": 955712133,
    "node_id": "IC_kwDOAm_5kc449wKF",
    "user": {
      "login": "KukretiShubham",
      "id": 57281769,
      "node_id": "MDQ6VXNlcjU3MjgxNzY5",
      "avatar_url": "https://avatars.githubusercontent.com/u/57281769?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/KukretiShubham",
      "html_url": "https://github.com/KukretiShubham",
      "followers_url": "https://api.github.com/users/KukretiShubham/followers",
      "following_url": "https://api.github.com/users/KukretiShubham/following{/other_user}",
      "gists_url": "https://api.github.com/users/KukretiShubham/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/KukretiShubham/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/KukretiShubham/subscriptions",
      "organizations_url": "https://api.github.com/users/KukretiShubham/orgs",
      "repos_url": "https://api.github.com/users/KukretiShubham/repos",
      "events_url": "https://api.github.com/users/KukretiShubham/events{/privacy}",
      "received_events_url": "https://api.github.com/users/KukretiShubham/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-31T14:36:29Z",
    "updated_at": "2021-10-31T14:36:29Z",
    "author_association": "NONE",
    "body": "Can I be assigned for this?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/955712133/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/955720494",
    "html_url": "https://github.com/ethereum/solidity/issues/10275#issuecomment-955720494",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/10275",
    "id": 955720494,
    "node_id": "IC_kwDOAm_5kc449yMu",
    "user": {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-31T15:21:43Z",
    "updated_at": "2021-10-31T15:24:57Z",
    "author_association": "MEMBER",
    "body": "My suggestion would be to call the new option `--machine-readable`.\r\n\r\nThe primary goal is to make the compiler produce only the single selected artifact on stdout, without any frames, headers or any other adornment so that it can be piped to another command. The stderr should be unaffected.\r\n\r\n### Example\r\nFor example when you use `solc test.sol --bin`, currently you get this:\r\n```\r\n======= test.sol:C =======\r\nBinary:\r\n6080604052348015600f57600080fd5b50603f80601d6000396000f3fe6080604052600080fdfea2646970667358221220b742f1d41505dd2912b87c6f730d28a4d3d4929fc5cac1df9820a78ad007a18464736f6c63430008090033\r\n```\r\n\r\nWith `solc test.sol --bin --machine-readable` it should look like this instead:\r\n```\r\n6080604052348015600f57600080fd5b50603f80601d6000396000f3fe6080604052600080fdfea2646970667358221220b742f1d41505dd2912b87c6f730d28a4d3d4929fc5cac1df9820a78ad007a18464736f6c63430008090033\r\n```\r\n\r\n### Specification\r\n- The option should affect the following other options:\r\n    - All the options from the \"Output Components\" group (see `solc --help`)\r\n    - `--gas`\r\n    - `--combined-json` (but it's already printed without any frames so it's good as is)\r\n- It cannot be used together with with:\r\n    - `--standard-json` (technically we could allow it though because it does not need any frames)\r\n    - `--output-dir`\r\n    - `--link` (in this mode the output is always written to disk)\r\n- Doing it for assembly mode will require #3870. I'd say let's implement it for other modes and just keep this issue open until that PR is merged and we can add it.\r\n\r\n### Open questions\r\nThere are also some open questions we need to figure out:\r\n- Should we allow it with multiple outputs? It probably won't be useful and would require some way to separate the outputs. I think it might be best to just require only one of the options I listed above to be specified. If there are more, print an error. We can allow it at a later time if we find a good use case.\r\n- Same with multiple contracts - though here disallowing it could potentially make the option less useful. On the other hand, if you want to pipe the output, you probably made sure you only have a single contract so maybe that's not a problem? The most general solution would be to be able to select a contract but I think that would complicate this too much. My suggestion is for now to print an error if there is more than one contract and we'll see later if there's a need for anything more.\r\n- Some outputs contain more than one artifact. Specifically `--ewasm` (both in compiler and assembly modes). My proposal would be to keep it as is but also introduce two new outputs: `--ewasm-text` and `--ewasm-bin`. Or maybe `--ewasm-wasm` and `--ewasm-wast` to match output names in Standard JSON more closely.\r\n- What about the unlinked references that can appear in `--bin`? On one hand for piping having only the bytecode might be best. On the other hand, currently `--link` does not strictly require only bytecode so keeping them there might be fine. My suggestion would be to keep them in.\r\n\r\n/CC @MrChico who originally proposed this in #8847. Does the above solve the original problem?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/955720494/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/987221287",
    "html_url": "https://github.com/ethereum/solidity/issues/10275#issuecomment-987221287",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/10275",
    "id": 987221287,
    "node_id": "IC_kwDOAm_5kc46180n",
    "user": {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-12-06T21:14:12Z",
    "updated_at": "2021-12-06T21:14:12Z",
    "author_association": "MEMBER",
    "body": "@KukretiShubham Are you still interested in working on this?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/987221287/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/987241927",
    "html_url": "https://github.com/ethereum/solidity/issues/10275#issuecomment-987241927",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/10275",
    "id": 987241927,
    "node_id": "IC_kwDOAm_5kc462B3H",
    "user": {
      "login": "KukretiShubham",
      "id": 57281769,
      "node_id": "MDQ6VXNlcjU3MjgxNzY5",
      "avatar_url": "https://avatars.githubusercontent.com/u/57281769?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/KukretiShubham",
      "html_url": "https://github.com/KukretiShubham",
      "followers_url": "https://api.github.com/users/KukretiShubham/followers",
      "following_url": "https://api.github.com/users/KukretiShubham/following{/other_user}",
      "gists_url": "https://api.github.com/users/KukretiShubham/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/KukretiShubham/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/KukretiShubham/subscriptions",
      "organizations_url": "https://api.github.com/users/KukretiShubham/orgs",
      "repos_url": "https://api.github.com/users/KukretiShubham/repos",
      "events_url": "https://api.github.com/users/KukretiShubham/events{/privacy}",
      "received_events_url": "https://api.github.com/users/KukretiShubham/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-12-06T21:29:14Z",
    "updated_at": "2021-12-06T21:29:14Z",
    "author_association": "NONE",
    "body": "Yeah, I didn't work for much time on this issue due to prior issues. Would like to give it another shot. If anyone else have interest, they can do it. \r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/987241927/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/987254137",
    "html_url": "https://github.com/ethereum/solidity/issues/10275#issuecomment-987254137",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/10275",
    "id": 987254137,
    "node_id": "IC_kwDOAm_5kc462E15",
    "user": {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-12-06T21:36:10Z",
    "updated_at": "2021-12-06T21:36:10Z",
    "author_association": "MEMBER",
    "body": "Ok. In that case I'll unassign you to show it's up for the taking but let me know when you have some time and want to try to work on it again.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/987254137/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
