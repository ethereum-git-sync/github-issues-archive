{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/13254",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/13254/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/13254/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/13254/events",
  "html_url": "https://github.com/ethereum/solidity/issues/13254",
  "id": 1296751260,
  "node_id": "I_kwDOAm_5kc5NStqc",
  "number": 13254,
  "title": "Transaction-local storage",
  "user": {
    "login": "hiroshi-yamamoto-dublr",
    "id": 97215152,
    "node_id": "U_kgDOBctisA",
    "avatar_url": "https://avatars.githubusercontent.com/u/97215152?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/hiroshi-yamamoto-dublr",
    "html_url": "https://github.com/hiroshi-yamamoto-dublr",
    "followers_url": "https://api.github.com/users/hiroshi-yamamoto-dublr/followers",
    "following_url": "https://api.github.com/users/hiroshi-yamamoto-dublr/following{/other_user}",
    "gists_url": "https://api.github.com/users/hiroshi-yamamoto-dublr/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/hiroshi-yamamoto-dublr/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/hiroshi-yamamoto-dublr/subscriptions",
    "organizations_url": "https://api.github.com/users/hiroshi-yamamoto-dublr/orgs",
    "repos_url": "https://api.github.com/users/hiroshi-yamamoto-dublr/repos",
    "events_url": "https://api.github.com/users/hiroshi-yamamoto-dublr/events{/privacy}",
    "received_events_url": "https://api.github.com/users/hiroshi-yamamoto-dublr/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2022-07-07T03:31:51Z",
  "updated_at": "2022-07-16T20:06:07Z",
  "closed_at": "2022-07-16T20:06:07Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "## Abstract\r\n\r\nI want to propose a new conceptual storage area I will refer to as \"transaction-local storage\" (viz thread-local storage) that a user can store values into at any point within the lifetime of a transaction, but that is destroyed at the end of the transaction.\r\n\r\nTransaction-local storage can be stored in regular storage, but the compiler would zero-out all transaction-local fields the first time the contract is called within a transaction.\r\n\r\n## Motivation\r\n\r\nMy immediate usecase is that I want to set a flag before a call to a function in an external contract is made, and I want to prevent my contract from updating state whenever that flag is set. The flag's lifecycle should last until the transaction is finalized and the block mined, then the flag should be reset.\r\n\r\nI don't see any way to accomplish this currently, since there is no `tx.id` or similar to distinguish unique transactions from each other.\r\n\r\n## Specification\r\n\r\nContract fields could be modified with \"transactionLocal\", e.g.\r\n\r\n```\r\nbool private transactionLocal myFlag;\r\n```\r\n\r\nAnd if this modifier were present, the field would be zeroed out at the beginning of each transaction.\r\n\r\nI do not know what underlying EVM mechanisms would be needed to implement this.\r\n\r\n## Backwards Compatibility\r\n\r\n100% backwards compatible.",
  "closed_by": {
    "login": "hiroshi-yamamoto-dublr",
    "id": 97215152,
    "node_id": "U_kgDOBctisA",
    "avatar_url": "https://avatars.githubusercontent.com/u/97215152?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/hiroshi-yamamoto-dublr",
    "html_url": "https://github.com/hiroshi-yamamoto-dublr",
    "followers_url": "https://api.github.com/users/hiroshi-yamamoto-dublr/followers",
    "following_url": "https://api.github.com/users/hiroshi-yamamoto-dublr/following{/other_user}",
    "gists_url": "https://api.github.com/users/hiroshi-yamamoto-dublr/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/hiroshi-yamamoto-dublr/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/hiroshi-yamamoto-dublr/subscriptions",
    "organizations_url": "https://api.github.com/users/hiroshi-yamamoto-dublr/orgs",
    "repos_url": "https://api.github.com/users/hiroshi-yamamoto-dublr/repos",
    "events_url": "https://api.github.com/users/hiroshi-yamamoto-dublr/events{/privacy}",
    "received_events_url": "https://api.github.com/users/hiroshi-yamamoto-dublr/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/13254/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/13254/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1178063397",
    "html_url": "https://github.com/ethereum/solidity/issues/13254#issuecomment-1178063397",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/13254",
    "id": 1178063397,
    "node_id": "IC_kwDOAm_5kc5GN9Il",
    "user": {
      "login": "hrkrshnn",
      "id": 13174375,
      "node_id": "MDQ6VXNlcjEzMTc0Mzc1",
      "avatar_url": "https://avatars.githubusercontent.com/u/13174375?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hrkrshnn",
      "html_url": "https://github.com/hrkrshnn",
      "followers_url": "https://api.github.com/users/hrkrshnn/followers",
      "following_url": "https://api.github.com/users/hrkrshnn/following{/other_user}",
      "gists_url": "https://api.github.com/users/hrkrshnn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hrkrshnn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hrkrshnn/subscriptions",
      "organizations_url": "https://api.github.com/users/hrkrshnn/orgs",
      "repos_url": "https://api.github.com/users/hrkrshnn/repos",
      "events_url": "https://api.github.com/users/hrkrshnn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hrkrshnn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-07T18:41:27Z",
    "updated_at": "2022-07-07T18:41:27Z",
    "author_association": "MEMBER",
    "body": "This is similar to what transient storage eip is proposing.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1178063397/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1186280233",
    "html_url": "https://github.com/ethereum/solidity/issues/13254#issuecomment-1186280233",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/13254",
    "id": 1186280233,
    "node_id": "IC_kwDOAm_5kc5GtTMp",
    "user": {
      "login": "hiroshi-yamamoto-dublr",
      "id": 97215152,
      "node_id": "U_kgDOBctisA",
      "avatar_url": "https://avatars.githubusercontent.com/u/97215152?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hiroshi-yamamoto-dublr",
      "html_url": "https://github.com/hiroshi-yamamoto-dublr",
      "followers_url": "https://api.github.com/users/hiroshi-yamamoto-dublr/followers",
      "following_url": "https://api.github.com/users/hiroshi-yamamoto-dublr/following{/other_user}",
      "gists_url": "https://api.github.com/users/hiroshi-yamamoto-dublr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hiroshi-yamamoto-dublr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hiroshi-yamamoto-dublr/subscriptions",
      "organizations_url": "https://api.github.com/users/hiroshi-yamamoto-dublr/orgs",
      "repos_url": "https://api.github.com/users/hiroshi-yamamoto-dublr/repos",
      "events_url": "https://api.github.com/users/hiroshi-yamamoto-dublr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hiroshi-yamamoto-dublr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-16T20:06:07Z",
    "updated_at": "2022-07-16T20:06:07Z",
    "author_association": "NONE",
    "body": "> This is similar to what transient storage eip is proposing.\r\n\r\n@hrkrshnn You're right, I think the transient storage EIP would solve exactly the problem I described -- and I assume that there is no way for Solidity to implement this without that EIP being approved and implemented in the EVM. I'll close this feature request. Thanks for the pointer!",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1186280233/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
