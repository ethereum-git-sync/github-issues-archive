{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/6376",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/6376/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/6376/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/6376/events",
  "html_url": "https://github.com/ethereum/solidity/issues/6376",
  "id": 425101469,
  "node_id": "MDU6SXNzdWU0MjUxMDE0Njk=",
  "number": 6376,
  "title": "Investigate soltix",
  "user": {
    "login": "axic",
    "id": 20340,
    "node_id": "MDQ6VXNlcjIwMzQw",
    "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/axic",
    "html_url": "https://github.com/axic",
    "followers_url": "https://api.github.com/users/axic/followers",
    "following_url": "https://api.github.com/users/axic/following{/other_user}",
    "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
    "organizations_url": "https://api.github.com/users/axic/orgs",
    "repos_url": "https://api.github.com/users/axic/repos",
    "events_url": "https://api.github.com/users/axic/events{/privacy}",
    "received_events_url": "https://api.github.com/users/axic/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1018738457,
      "node_id": "MDU6TGFiZWwxMDE4NzM4NDU3",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/testing%20:hammer:",
      "name": "testing :hammer:",
      "color": "ffc6db",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": {
    "login": "bshastry",
    "id": 2388185,
    "node_id": "MDQ6VXNlcjIzODgxODU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2388185?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/bshastry",
    "html_url": "https://github.com/bshastry",
    "followers_url": "https://api.github.com/users/bshastry/followers",
    "following_url": "https://api.github.com/users/bshastry/following{/other_user}",
    "gists_url": "https://api.github.com/users/bshastry/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/bshastry/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/bshastry/subscriptions",
    "organizations_url": "https://api.github.com/users/bshastry/orgs",
    "repos_url": "https://api.github.com/users/bshastry/repos",
    "events_url": "https://api.github.com/users/bshastry/events{/privacy}",
    "received_events_url": "https://api.github.com/users/bshastry/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "bshastry",
      "id": 2388185,
      "node_id": "MDQ6VXNlcjIzODgxODU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2388185?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bshastry",
      "html_url": "https://github.com/bshastry",
      "followers_url": "https://api.github.com/users/bshastry/followers",
      "following_url": "https://api.github.com/users/bshastry/following{/other_user}",
      "gists_url": "https://api.github.com/users/bshastry/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bshastry/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bshastry/subscriptions",
      "organizations_url": "https://api.github.com/users/bshastry/orgs",
      "repos_url": "https://api.github.com/users/bshastry/repos",
      "events_url": "https://api.github.com/users/bshastry/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bshastry/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2019-03-25T20:30:46Z",
  "updated_at": "2019-08-26T12:53:25Z",
  "closed_at": null,
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "See https://medium.com/chainsecurity/soltix-scalable-testing-of-solidity-compilers-57be270e802b\r\n\r\n> SOLTIX is a framework for automated testing of Solidity compilers.\r\n\r\nIt seems to have two modes:\r\n- random code generation\r\n- code mutation\r\n\r\nMaybe we can run it as part of ossfuzz?\r\n\r\nApparently soltix was used to disover #5130 and #4893.",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/6376/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/6376/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/524848569",
    "html_url": "https://github.com/ethereum/solidity/issues/6376#issuecomment-524848569",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/6376",
    "id": 524848569,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyNDg0ODU2OQ==",
    "user": {
      "login": "bshastry",
      "id": 2388185,
      "node_id": "MDQ6VXNlcjIzODgxODU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2388185?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bshastry",
      "html_url": "https://github.com/bshastry",
      "followers_url": "https://api.github.com/users/bshastry/followers",
      "following_url": "https://api.github.com/users/bshastry/following{/other_user}",
      "gists_url": "https://api.github.com/users/bshastry/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bshastry/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bshastry/subscriptions",
      "organizations_url": "https://api.github.com/users/bshastry/orgs",
      "repos_url": "https://api.github.com/users/bshastry/repos",
      "events_url": "https://api.github.com/users/bshastry/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bshastry/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-08-26T12:53:25Z",
    "updated_at": "2019-08-26T12:53:25Z",
    "author_association": "MEMBER",
    "body": "Sorry for the late update. Progress made is as follows\r\n\r\n- Took a look at the soltix architecture\r\n- Successfully built and ran soltix\r\n\r\nRegarding running it as part of ossfuzz: soltix seems to be a test framework of its own that is written in Java. It creates test input (solidity contracts) and executes it on an EVM implementation. If I understand correctly it uses Truffle and Ganache/geth to generate solidity programs and execute the resulting byte code respectively.\r\n\r\nSo, it is not clear to me how we interface with ossfuzz. One option worth trying is to use the programs generated by soltix as seeds for our existing solidity fuzzers. However, I'm sceptical if this is what we should really be doing because these fuzzers target parsing/code generation issues (mostly flag internal compiler exceptions) and not semantic errors like #4893\r\n\r\nOTOH, tangentially to soltix, we could create an ossfuzz based test harness to catch issues like #4893. Here's what we would need for that\r\n  - some form of execution tracing support in evmone (like the trace as json option of geth)\r\n  - a protobuf grammar for solidity programs (I started work on this in this branch: https://github.com/ethereum/solidity/tree/solProto)\r\n\r\nThen, we do something like\r\n\r\n```\r\nstring solidityProgram = convertProtoToSol(solidityProto);\r\nstring unoptimizedTrace = evmone::runAndTrace(solidityProgram);\r\n// Potentially do two runs: one with standard opt and one with yul\r\nstring optimizedTrace = evmone::runAndTrace(compileContract(solidityProgram));\r\nsolAssert(unoptimizedTrace == optimizedTrace);\r\nreturn;\r\n```\r\n\r\nWhat do you think?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/524848569/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
