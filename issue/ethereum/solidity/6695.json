{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/6695",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/6695/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/6695/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/6695/events",
  "html_url": "https://github.com/ethereum/solidity/issues/6695",
  "id": 441528090,
  "node_id": "MDU6SXNzdWU0NDE1MjgwOTA=",
  "number": 6695,
  "title": "Event overloading with dynamic arrays are encoded incorrectly",
  "user": {
    "login": "businessfriendlyusername",
    "id": 44851744,
    "node_id": "MDQ6VXNlcjQ0ODUxNzQ0",
    "avatar_url": "https://avatars.githubusercontent.com/u/44851744?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/businessfriendlyusername",
    "html_url": "https://github.com/businessfriendlyusername",
    "followers_url": "https://api.github.com/users/businessfriendlyusername/followers",
    "following_url": "https://api.github.com/users/businessfriendlyusername/following{/other_user}",
    "gists_url": "https://api.github.com/users/businessfriendlyusername/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/businessfriendlyusername/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/businessfriendlyusername/subscriptions",
    "organizations_url": "https://api.github.com/users/businessfriendlyusername/orgs",
    "repos_url": "https://api.github.com/users/businessfriendlyusername/repos",
    "events_url": "https://api.github.com/users/businessfriendlyusername/events{/privacy}",
    "received_events_url": "https://api.github.com/users/businessfriendlyusername/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 249074435,
      "node_id": "MDU6TGFiZWwyNDkwNzQ0MzU=",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/bug%20:bug:",
      "name": "bug :bug:",
      "color": "fc1313",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2019-05-08T02:58:00Z",
  "updated_at": "2019-05-08T14:02:37Z",
  "closed_at": "2019-05-08T14:02:37Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "When overloading events that return arrays, some of the event parameters seem to go missing. Overloading and arrays seem to be mutually exclusive.\r\n\r\n## Environment\r\n\r\n- Compiler version: 0.5.6\r\n- Target EVM version (as per compiler settings): unsure\r\n- Framework/IDE (e.g. Truffle or Remix): bug is in both Truffle and Remix\r\n- EVM execution environment / backend / blockchain client: ganache\r\n- Operating system: ubuntu\r\n\r\n## Steps to Reproduce\r\n\r\nlink to stackEx issue with code examples:\r\n\r\nhttps://ethereum.stackexchange.com/questions/70394/is-there-an-issue-using-event-overloading-and-event-logs-that-contain-arrays/70403?noredirect=1#comment85289_70403",
  "closed_by": {
    "login": "leonardoalt",
    "id": 504195,
    "node_id": "MDQ6VXNlcjUwNDE5NQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/504195?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/leonardoalt",
    "html_url": "https://github.com/leonardoalt",
    "followers_url": "https://api.github.com/users/leonardoalt/followers",
    "following_url": "https://api.github.com/users/leonardoalt/following{/other_user}",
    "gists_url": "https://api.github.com/users/leonardoalt/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/leonardoalt/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/leonardoalt/subscriptions",
    "organizations_url": "https://api.github.com/users/leonardoalt/orgs",
    "repos_url": "https://api.github.com/users/leonardoalt/repos",
    "events_url": "https://api.github.com/users/leonardoalt/events{/privacy}",
    "received_events_url": "https://api.github.com/users/leonardoalt/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/6695/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/6695/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/490411646",
    "html_url": "https://github.com/ethereum/solidity/issues/6695#issuecomment-490411646",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/6695",
    "id": 490411646,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5MDQxMTY0Ng==",
    "user": {
      "login": "leonardoalt",
      "id": 504195,
      "node_id": "MDQ6VXNlcjUwNDE5NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/504195?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/leonardoalt",
      "html_url": "https://github.com/leonardoalt",
      "followers_url": "https://api.github.com/users/leonardoalt/followers",
      "following_url": "https://api.github.com/users/leonardoalt/following{/other_user}",
      "gists_url": "https://api.github.com/users/leonardoalt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/leonardoalt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/leonardoalt/subscriptions",
      "organizations_url": "https://api.github.com/users/leonardoalt/orgs",
      "repos_url": "https://api.github.com/users/leonardoalt/repos",
      "events_url": "https://api.github.com/users/leonardoalt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/leonardoalt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-08T09:12:29Z",
    "updated_at": "2019-05-08T09:58:25Z",
    "author_association": "MEMBER",
    "body": "Minimal example that has the buggy behavior:\r\n\r\n```\r\ncontract C {\r\n    event E(uint[] x);\r\n    event E(uint x);\r\n  \r\n    function g() public {\r\n        emit E(789);\r\n    }\r\n}\r\n```\r\nThe emit issues\r\n```\r\n\"from\": \"0xde6a66562c299052b1cfd24abc1dc639d429e1d6\",\r\n\t\t\"data\": \"0x0000000000000000000000000000000000000000000000000000000000000315\",\r\n\t\t\"topics\": [\r\n\t\t\t\"0x002ff0672f372fbe844b353429d4510ea5e43683af134c54f75f789ff57bc0c0\"\r\n\t\t]\r\n```\r\nIf you comment `event E(uint[] x);` it works.\r\nIf you use `ABIEncoderV2` it's also incorrect.\r\nIf you use `indexed` it's also incorrect.\r\n\r\nThis looks similar to https://github.com/ethereum/solidity/issues/4292",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/490411646/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/490411950",
    "html_url": "https://github.com/ethereum/solidity/issues/6695#issuecomment-490411950",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/6695",
    "id": 490411950,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5MDQxMTk1MA==",
    "user": {
      "login": "leonardoalt",
      "id": 504195,
      "node_id": "MDQ6VXNlcjUwNDE5NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/504195?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/leonardoalt",
      "html_url": "https://github.com/leonardoalt",
      "followers_url": "https://api.github.com/users/leonardoalt/followers",
      "following_url": "https://api.github.com/users/leonardoalt/following{/other_user}",
      "gists_url": "https://api.github.com/users/leonardoalt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/leonardoalt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/leonardoalt/subscriptions",
      "organizations_url": "https://api.github.com/users/leonardoalt/orgs",
      "repos_url": "https://api.github.com/users/leonardoalt/repos",
      "events_url": "https://api.github.com/users/leonardoalt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/leonardoalt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-08T09:13:30Z",
    "updated_at": "2019-05-08T09:13:30Z",
    "author_association": "MEMBER",
    "body": "@businessfriendlyusername thanks for the report!\r\nIf you don't mind I'll edit the title of the issue to be a bit more precise.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/490411950/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/490424446",
    "html_url": "https://github.com/ethereum/solidity/issues/6695#issuecomment-490424446",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/6695",
    "id": 490424446,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5MDQyNDQ0Ng==",
    "user": {
      "login": "leonardoalt",
      "id": 504195,
      "node_id": "MDQ6VXNlcjUwNDE5NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/504195?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/leonardoalt",
      "html_url": "https://github.com/leonardoalt",
      "followers_url": "https://api.github.com/users/leonardoalt/followers",
      "following_url": "https://api.github.com/users/leonardoalt/following{/other_user}",
      "gists_url": "https://api.github.com/users/leonardoalt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/leonardoalt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/leonardoalt/subscriptions",
      "organizations_url": "https://api.github.com/users/leonardoalt/orgs",
      "repos_url": "https://api.github.com/users/leonardoalt/repos",
      "events_url": "https://api.github.com/users/leonardoalt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/leonardoalt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-08T09:52:59Z",
    "updated_at": "2019-05-08T09:52:59Z",
    "author_association": "MEMBER",
    "body": "Ok after an initial closer look I don't think it's related to #4292",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/490424446/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/490431385",
    "html_url": "https://github.com/ethereum/solidity/issues/6695#issuecomment-490431385",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/6695",
    "id": 490431385,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5MDQzMTM4NQ==",
    "user": {
      "login": "leonardoalt",
      "id": 504195,
      "node_id": "MDQ6VXNlcjUwNDE5NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/504195?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/leonardoalt",
      "html_url": "https://github.com/leonardoalt",
      "followers_url": "https://api.github.com/users/leonardoalt/followers",
      "following_url": "https://api.github.com/users/leonardoalt/following{/other_user}",
      "gists_url": "https://api.github.com/users/leonardoalt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/leonardoalt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/leonardoalt/subscriptions",
      "organizations_url": "https://api.github.com/users/leonardoalt/orgs",
      "repos_url": "https://api.github.com/users/leonardoalt/repos",
      "events_url": "https://api.github.com/users/leonardoalt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/leonardoalt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-08T10:16:38Z",
    "updated_at": "2019-05-08T10:16:38Z",
    "author_association": "MEMBER",
    "body": "@businessfriendlyusername \r\nI used your original code\r\n```\r\ncontract EventTest {\r\n  event marketCreated(address[] virtualShareAddresses, address market, uint256 indexed endTime, string description, string extraInfo);//categorical\r\n  event marketCreated(address[2] virtualShareAddresses, address market, uint256 indexed endTime, string description, string extraInfo);//binary\r\n  event marketCreated(address[2] virtualShareAddresses, address market, uint256 indexed endTime, string description, string extraInfo, int256 _minPrice, int256 _maxPrice, uint256 _numTicks);//scalar\r\n\r\n\r\n  function createYesNoMarket(\r\n    uint256 _endTime,\r\n    string memory _description,\r\n    string memory _extraInfo\r\n    ) public payable returns (bool) \r\n\r\n  {\r\n    address[2] memory virtualShareAddresses;\r\n    address newMarket = address(0);\r\n    virtualShareAddresses[0] = address(1);\r\n    virtualShareAddresses[1] = address(2);\r\n    emit marketCreated(virtualShareAddresses, address(newMarket), _endTime, _description, _extraInfo);\r\n    return true;\r\n  }\r\n}\r\n```\r\nCalling the function on Remix with arguments `123, \"description\", \"extraInfo\"` I get this:\r\n```\r\n[\r\n\t{\r\n\t\t\"from\": \"0xcf804947e5c324c61c4f91c53fa8f14a20447aeb\",\r\n\t\t\"data\": \"0x00000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000e0000000000000000000000000000000000000000000000000000000000000000b6465736372697074696f6e00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000096578747261496e666f0000000000000000000000000000000000000000000000\",\r\n\t\t\"topics\": [\r\n\t\t\t\"0x723cfaf3d6cd591c1439c0b9b08b74eaa46598df92bd434a707f33f48fa8bbd8\",\r\n\t\t\t\"0x000000000000000000000000000000000000000000000000000000000000007b\"\r\n\t\t]\r\n\t}\r\n]\r\n```\r\nNotice that the data is correct: `6578747261496e666f` = `extraInfo`.\r\nIf I comment the first event out and run with the same parameters the data is shown in a nicer way though.\r\nI also checked the assembly output of the two versions (with and without the first event definition) and they looked the same.\r\nSo in the end I don't think this is a bug in the compiler.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/490431385/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/490498202",
    "html_url": "https://github.com/ethereum/solidity/issues/6695#issuecomment-490498202",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/6695",
    "id": 490498202,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5MDQ5ODIwMg==",
    "user": {
      "login": "leonardoalt",
      "id": 504195,
      "node_id": "MDQ6VXNlcjUwNDE5NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/504195?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/leonardoalt",
      "html_url": "https://github.com/leonardoalt",
      "followers_url": "https://api.github.com/users/leonardoalt/followers",
      "following_url": "https://api.github.com/users/leonardoalt/following{/other_user}",
      "gists_url": "https://api.github.com/users/leonardoalt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/leonardoalt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/leonardoalt/subscriptions",
      "organizations_url": "https://api.github.com/users/leonardoalt/orgs",
      "repos_url": "https://api.github.com/users/leonardoalt/repos",
      "events_url": "https://api.github.com/users/leonardoalt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/leonardoalt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-08T14:02:36Z",
    "updated_at": "2019-05-08T14:02:36Z",
    "author_association": "MEMBER",
    "body": "The real issue seems to be on Remix/Ethers:\r\nhttps://github.com/ethereum/remix/issues/1125",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/490498202/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
