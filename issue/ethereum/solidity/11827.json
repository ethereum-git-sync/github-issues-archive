{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/11827",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/11827/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/11827/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/11827/events",
  "html_url": "https://github.com/ethereum/solidity/issues/11827",
  "id": 975440341,
  "node_id": "MDU6SXNzdWU5NzU0NDAzNDE=",
  "number": 11827,
  "title": "User-Defined Value Types as means for Generics",
  "user": {
    "login": "ekpyron",
    "id": 1347491,
    "node_id": "MDQ6VXNlcjEzNDc0OTE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1347491?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ekpyron",
    "html_url": "https://github.com/ekpyron",
    "followers_url": "https://api.github.com/users/ekpyron/followers",
    "following_url": "https://api.github.com/users/ekpyron/following{/other_user}",
    "gists_url": "https://api.github.com/users/ekpyron/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ekpyron/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ekpyron/subscriptions",
    "organizations_url": "https://api.github.com/users/ekpyron/orgs",
    "repos_url": "https://api.github.com/users/ekpyron/repos",
    "events_url": "https://api.github.com/users/ekpyron/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ekpyron/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 785717317,
      "node_id": "MDU6TGFiZWw3ODU3MTczMTc=",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/language%20design%20:rage4:",
      "name": "language design :rage4:",
      "color": "9d76d3",
      "default": false,
      "description": "Any changes to the language, e.g. new features"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 10,
  "created_at": "2021-08-20T09:34:57Z",
  "updated_at": "2022-09-14T15:14:37Z",
  "closed_at": "2022-09-14T15:14:37Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "We could consider an extension of https://github.com/ethereum/solidity/issues/11531 as means to implement a specific kind of templates/generics.\r\n\r\nThe idea is to allow defining abstract types that initially have no operations, members or properties of any kind. Then those abstract types can be enriched explicitly with operations of fixed signatures (potentially depending on further abstract argument types) that do not have an implementation (but can be fully specified - we could even have dedicated syntax for specifying pre- and post-conditions for them to be used by e.g. SMTChecker).\r\n\r\nRelative to those abstract types, generic routines can be written that act on those types. Those generic routines can be fully type-checked relative to the operations defined to the abstract types.\r\n\r\nThen this generic routine can be invoked for any type that implements the requirements of the involved abstract types.\r\n\r\nIn this construction there can never be unexpected or weird behaviour. If the generic routine type-checks on the abstract type, then it will *always* work for *all* suitable concrete types. It will *always* call the exact routines matched during \"type unification\".\r\nIt can thereby also be *audited* once and be assured to work for any type that satisfies the specification of an abstract type.\r\n\r\nThis concept is commonly present in (often functional) languages with strong ties to e.g. Church's Simple Type Theory or Category Theory, e.g. ML or Haskell and has extensive (and complex) theoretical background - but none of it is required for using it and, if we implement it correctly, it would pretty much \"just work\" everywhere safely.\r\n\r\nSyntactically, there are several options. Usually, the concept involves \"type variables\" that use specially marked identifiers. We could reproduce that, or we could introduce e.g. ``abstract type`` declarations. (EDIT: maybe we do need proper type variables and maybe even a full system of type classes/sorts to allow more advanced constructions)\r\n\r\nThe basic version without being able to enrich abstract types is straightforward, but rather useless.\r\n```\r\nabstract type genericType;\r\nfunction f(genericType a, genericType b)\r\n{\r\n  // can do nothing with a and b, since they are not even comparable or have any other means of acting upon\r\n}\r\n```\r\n\r\nEnriching the abstract type with members and operations immediately makes them useful, though (syntactic details subject to extensive refinement):\r\n\r\n```\r\nabstract type addableType with { function(addableType, addableType) pure returns(addableType) as + };\r\n\r\nfunction f(addableType a, addableType b) pure returns (addableType)\r\n{\r\n  return a + b;\r\n}\r\nfunction g()\r\n{\r\n  uint256 x = 1; uint256 y = 2;\r\n  assert(f(x,y) == 3); // will match ``addableType`` as ``uint`` and check that ``+`` on uint has signature ``function(uint, uint) pure returns(uint)`` and replace ``+`` in ``f`` with ``uint``'s ``+``.\r\n}\r\n```\r\n\r\nSimilarly to operators, members or any other properties of types can be specified for the abstract type.\r\nThis will already cover a large amount of use cases.\r\nBut it can be extended further to allow abstract types to depend on further abstract types:\r\n```\r\nabstract type combinableType(combineResultType) with { function(combinableType, combinableType) pure returns(combineResultType) as combine };\r\n\r\nfunction combineImpl(uint8 a, uint8 b) pure returns (uint16) {\r\n  return (uint16(a) << 8 | uint16(b));\r\n}\r\n\r\nusing { combineImpl as combine } for uint8;\r\n\r\nfunction combineArray(combinableType(combineResultType)[] memory a, combinableType(combineResultType)[] memory b)\r\nreturns (combineResultType[] memory r)\r\n{\r\n   require(a.length == b.length);\r\n   r = new combineResultType[](a.length);\r\n   for (uint256 i = 0; i < r.length; i++)\r\n     r[i] = a[i].combine(b[i]);\r\n}\r\n\r\n```\r\nBased on which this can even be taken higher order in theory:\r\n```\r\nusing { combineArray(combinableType) as combine } for combinableType[];\r\n```\r\n\r\nTo allow generics to depend on literals, literals are usually be lifted to the type system, which sounds weird, but in its application is rather natural. The main thing to do is to allow literals as types with some means to retrieve their literal value. (Details here will need more care, though, so don't take this at face-value)\r\n\r\n```\r\nabstract type literal(type) with { function() pure returns(type) as value }; // could be internal/std library\r\n\r\nfunction addmod(type x, type y, literal(type) m) returns (type)\r\n{\r\n  return (x + y) % m.value();\r\n}\r\n\r\nfunction f()\r\n{\r\n  assert(addmod(3, 4, 2) == 1); // The type of the literal is rational(2) which we would give a .value function returning 2.\r\n}\r\n```\r\nAlthough that's only one way to do this and there's multiple options for that. (Type return type of the rational .value function here would arguably either be sth like ``uint256`` or an abstract rational type...).\r\n\r\nImplementation-wise the main thing required is a type unification mechanism, but that's always just first-order matching, so it's easy to do. The ability of the type-system to handle all of this could probably pretty much be inherited from concrete user-defined types.",
  "closed_by": {
    "login": "ekpyron",
    "id": 1347491,
    "node_id": "MDQ6VXNlcjEzNDc0OTE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1347491?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ekpyron",
    "html_url": "https://github.com/ekpyron",
    "followers_url": "https://api.github.com/users/ekpyron/followers",
    "following_url": "https://api.github.com/users/ekpyron/following{/other_user}",
    "gists_url": "https://api.github.com/users/ekpyron/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ekpyron/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ekpyron/subscriptions",
    "organizations_url": "https://api.github.com/users/ekpyron/orgs",
    "repos_url": "https://api.github.com/users/ekpyron/repos",
    "events_url": "https://api.github.com/users/ekpyron/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ekpyron/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/11827/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/11827/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/902580972",
    "html_url": "https://github.com/ethereum/solidity/issues/11827#issuecomment-902580972",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/11827",
    "id": 902580972,
    "node_id": "IC_kwDOAm_5kc41zErs",
    "user": {
      "login": "ekpyron",
      "id": 1347491,
      "node_id": "MDQ6VXNlcjEzNDc0OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1347491?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ekpyron",
      "html_url": "https://github.com/ekpyron",
      "followers_url": "https://api.github.com/users/ekpyron/followers",
      "following_url": "https://api.github.com/users/ekpyron/following{/other_user}",
      "gists_url": "https://api.github.com/users/ekpyron/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ekpyron/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ekpyron/subscriptions",
      "organizations_url": "https://api.github.com/users/ekpyron/orgs",
      "repos_url": "https://api.github.com/users/ekpyron/repos",
      "events_url": "https://api.github.com/users/ekpyron/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ekpyron/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-20T09:59:54Z",
    "updated_at": "2021-08-20T09:59:54Z",
    "author_association": "MEMBER",
    "body": "Usually, this method would involve introducing a system of type classes or sorts on top of the type system, which, for the more advanced constructions, we'd probably need to reproduce internally, but could mostly hide away in practice to keep things easy to use.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/902580972/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/902595275",
    "html_url": "https://github.com/ethereum/solidity/issues/11827#issuecomment-902595275",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/11827",
    "id": 902595275,
    "node_id": "IC_kwDOAm_5kc41zILL",
    "user": {
      "login": "ekpyron",
      "id": 1347491,
      "node_id": "MDQ6VXNlcjEzNDc0OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1347491?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ekpyron",
      "html_url": "https://github.com/ekpyron",
      "followers_url": "https://api.github.com/users/ekpyron/followers",
      "following_url": "https://api.github.com/users/ekpyron/following{/other_user}",
      "gists_url": "https://api.github.com/users/ekpyron/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ekpyron/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ekpyron/subscriptions",
      "organizations_url": "https://api.github.com/users/ekpyron/orgs",
      "repos_url": "https://api.github.com/users/ekpyron/repos",
      "events_url": "https://api.github.com/users/ekpyron/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ekpyron/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-20T10:24:34Z",
    "updated_at": "2021-08-20T10:35:45Z",
    "author_association": "MEMBER",
    "body": "The literal part in the description above is maybe a bit vague and ill-conceived... and I'd need to think through it in more detail myself. I'm not sure if this can be done without proper type variables and if those can be introduced without proper syntax... But I'd probably want to end up with something like these examples:\r\n```\r\nabstract type Type(type); // probably internally defined\r\nabstract type /* sort? */  lessComparable(type) with { function(type, type) pure returns (type) as < };\r\nabstract type  /* sort? */ incrementable(type) with { function(type) pure returns (type) as ++. };\r\n// type::... would be sort constraints on the type... maybe this needs a proper distinction between types and sorts to be sound...\r\nabstract type  /* sort? */ IntegerLiteralType(type::{incrementable, lessComparable}) with { function() pure returns(type) as value };\r\n\r\nfunction iota(Type(baseType) base, IntegerLiteralType(literalType) literal)\r\n  returns (type[literalType.value()] memory result) // either we need a construct stronger than \"pure function\" to be used above for ``value`` or we need to allow pure functions in compile-time constant context.\r\n{\r\n  // note that I could have skipped ``base`` and ``literal``, since I only require their types.\r\n  result = new type[literalType.value()];\r\n  for (literalType i = 0; i < literalType.value(); ++i)\r\n    result[i] = i;\r\n}\r\n\r\nfunction f()\r\n{\r\n  uint[5] memory x = iota(uint256, 5);\r\n  // the type of ``uint256`` is ``Type(uint256)``. The type of ``5`` is a rational type ``RationalNumber(5)`` that satisfies the IntegerLiteralType sort (which we'd provide internally and have rational numbers satisfy internally)\r\n}\r\n\r\n```\r\n\r\nHm... this is probably not quite right, without actually properly distinguishing types from sorts...\r\nMoving to a full sort system, e.g. generic fixed point multiplication could probably look something like:\r\n\r\n```\r\ntype FixedPointType(type::ArithmeticType, exponentType::IntegerLiteralType(type)) is type;\r\n\r\nfunction fixedPointMul(\r\n    FixedPointType(type, exponentType) lhs, // sort constraints as defined in the type definition\r\n    FixedPointType(type, exponentType) rhs,\r\n) pure returns (FixedPointType(type, exponentType))\r\n{\r\n  return type(lhs) * type(rhs) / (10**exponentType.value());\r\n}\r\n\r\nusing { fixedPointMul as * } for FixedPointType;\r\n\r\ntype_alias ufixed256x18 = FixedPointType(uint256, 18);\r\n\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/902595275/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/902602525",
    "html_url": "https://github.com/ethereum/solidity/issues/11827#issuecomment-902602525",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/11827",
    "id": 902602525,
    "node_id": "IC_kwDOAm_5kc41zJ8d",
    "user": {
      "login": "ekpyron",
      "id": 1347491,
      "node_id": "MDQ6VXNlcjEzNDc0OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1347491?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ekpyron",
      "html_url": "https://github.com/ekpyron",
      "followers_url": "https://api.github.com/users/ekpyron/followers",
      "following_url": "https://api.github.com/users/ekpyron/following{/other_user}",
      "gists_url": "https://api.github.com/users/ekpyron/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ekpyron/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ekpyron/subscriptions",
      "organizations_url": "https://api.github.com/users/ekpyron/orgs",
      "repos_url": "https://api.github.com/users/ekpyron/repos",
      "events_url": "https://api.github.com/users/ekpyron/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ekpyron/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-20T10:38:56Z",
    "updated_at": "2021-08-20T10:50:25Z",
    "author_association": "MEMBER",
    "body": "Well, in any case: the concept above is not yet refined and not quite right, I'm mainly throwing out the idea so far. Planning this properly *will* need care, but the result should be nice, extensible and safe, if done right.\r\n\r\nI hope I'll get around writing this up more properly than above in the foreseeable future.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/902602525/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/902628278",
    "html_url": "https://github.com/ethereum/solidity/issues/11827#issuecomment-902628278",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/11827",
    "id": 902628278,
    "node_id": "IC_kwDOAm_5kc41zQO2",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-20T11:30:52Z",
    "updated_at": "2021-08-20T11:30:52Z",
    "author_association": "MEMBER",
    "body": "This really needs the shorthand function type notation https://github.com/ethereum/solidity/issues/1349",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/902628278/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/902629718",
    "html_url": "https://github.com/ethereum/solidity/issues/11827#issuecomment-902629718",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/11827",
    "id": 902629718,
    "node_id": "IC_kwDOAm_5kc41zQlW",
    "user": {
      "login": "ekpyron",
      "id": 1347491,
      "node_id": "MDQ6VXNlcjEzNDc0OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1347491?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ekpyron",
      "html_url": "https://github.com/ekpyron",
      "followers_url": "https://api.github.com/users/ekpyron/followers",
      "following_url": "https://api.github.com/users/ekpyron/following{/other_user}",
      "gists_url": "https://api.github.com/users/ekpyron/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ekpyron/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ekpyron/subscriptions",
      "organizations_url": "https://api.github.com/users/ekpyron/orgs",
      "repos_url": "https://api.github.com/users/ekpyron/repos",
      "events_url": "https://api.github.com/users/ekpyron/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ekpyron/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-20T11:34:14Z",
    "updated_at": "2021-08-20T11:35:07Z",
    "author_association": "MEMBER",
    "body": "> This really needs the shorthand function type notation #1349\r\n\r\nYeah, definitely, that would be beautiful.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/902629718/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/903579046",
    "html_url": "https://github.com/ethereum/solidity/issues/11827#issuecomment-903579046",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/11827",
    "id": 903579046,
    "node_id": "IC_kwDOAm_5kc4124Wm",
    "user": {
      "login": "hrkrshnn",
      "id": 13174375,
      "node_id": "MDQ6VXNlcjEzMTc0Mzc1",
      "avatar_url": "https://avatars.githubusercontent.com/u/13174375?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hrkrshnn",
      "html_url": "https://github.com/hrkrshnn",
      "followers_url": "https://api.github.com/users/hrkrshnn/followers",
      "following_url": "https://api.github.com/users/hrkrshnn/following{/other_user}",
      "gists_url": "https://api.github.com/users/hrkrshnn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hrkrshnn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hrkrshnn/subscriptions",
      "organizations_url": "https://api.github.com/users/hrkrshnn/orgs",
      "repos_url": "https://api.github.com/users/hrkrshnn/repos",
      "events_url": "https://api.github.com/users/hrkrshnn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hrkrshnn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-23T09:03:50Z",
    "updated_at": "2021-08-23T09:03:50Z",
    "author_association": "MEMBER",
    "body": "If we want to have operators, then I think we need a mechanism to distinguish between operators in checked and unchecked blocks.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/903579046/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/903638262",
    "html_url": "https://github.com/ethereum/solidity/issues/11827#issuecomment-903638262",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/11827",
    "id": 903638262,
    "node_id": "IC_kwDOAm_5kc413Gz2",
    "user": {
      "login": "ekpyron",
      "id": 1347491,
      "node_id": "MDQ6VXNlcjEzNDc0OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1347491?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ekpyron",
      "html_url": "https://github.com/ekpyron",
      "followers_url": "https://api.github.com/users/ekpyron/followers",
      "following_url": "https://api.github.com/users/ekpyron/following{/other_user}",
      "gists_url": "https://api.github.com/users/ekpyron/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ekpyron/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ekpyron/subscriptions",
      "organizations_url": "https://api.github.com/users/ekpyron/orgs",
      "repos_url": "https://api.github.com/users/ekpyron/repos",
      "events_url": "https://api.github.com/users/ekpyron/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ekpyron/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-23T10:21:17Z",
    "updated_at": "2021-08-23T10:21:17Z",
    "author_association": "MEMBER",
    "body": "I'd introduce a generic mechanism to define context blocks, which have a distinct \"using\"-context, i.e. a separate set of operator definitions (with an easy way to inherit parts of the top-level context).",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/903638262/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/903691421",
    "html_url": "https://github.com/ethereum/solidity/issues/11827#issuecomment-903691421",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/11827",
    "id": 903691421,
    "node_id": "IC_kwDOAm_5kc413Tyd",
    "user": {
      "login": "ekpyron",
      "id": 1347491,
      "node_id": "MDQ6VXNlcjEzNDc0OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1347491?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ekpyron",
      "html_url": "https://github.com/ekpyron",
      "followers_url": "https://api.github.com/users/ekpyron/followers",
      "following_url": "https://api.github.com/users/ekpyron/following{/other_user}",
      "gists_url": "https://api.github.com/users/ekpyron/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ekpyron/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ekpyron/subscriptions",
      "organizations_url": "https://api.github.com/users/ekpyron/orgs",
      "repos_url": "https://api.github.com/users/ekpyron/repos",
      "events_url": "https://api.github.com/users/ekpyron/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ekpyron/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-23T11:45:42Z",
    "updated_at": "2021-08-23T11:45:42Z",
    "author_association": "MEMBER",
    "body": "As far as I'm concerned the more \"fixed-function\" mechanisms we can replace by something generic, the better. In the long term that could include almost everything: context blocks like ``unchecked``, complex types like sized integers, arrays, structs, even top-level constructs like contracts - if we do it right, we can *define* all of that quite easily. But we can of course do it incrementally and start with easy stuff. At some point we'll *at least* additionally need proper compile-time pure expression evaluation and for the more involved things, a way to define the ABI string for defined types, a way to define its storage and ABI encoding and decoding procedures, etc. pp. - but it will still only be a handful of concepts like that we'd need, which are not actually hard to do once we have generics and a proper system of algebraic types - and this would then decrease the maintenance burden of the compiler by orders of magnitude, while increasing the flexibility by an almost infinite amount.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/903691421/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/910389649",
    "html_url": "https://github.com/ethereum/solidity/issues/11827#issuecomment-910389649",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/11827",
    "id": 910389649,
    "node_id": "IC_kwDOAm_5kc42Q3GR",
    "user": {
      "login": "axic",
      "id": 20340,
      "node_id": "MDQ6VXNlcjIwMzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/axic",
      "html_url": "https://github.com/axic",
      "followers_url": "https://api.github.com/users/axic/followers",
      "following_url": "https://api.github.com/users/axic/following{/other_user}",
      "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
      "organizations_url": "https://api.github.com/users/axic/orgs",
      "repos_url": "https://api.github.com/users/axic/repos",
      "events_url": "https://api.github.com/users/axic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/axic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-01T15:21:00Z",
    "updated_at": "2021-09-01T15:21:00Z",
    "author_association": "MEMBER",
    "body": "How about a `wrap`/`unwrap` function as follows (this is based on ideas by @ekpyron and me):\r\n```\r\nfunction wrap<T>(T.underlying a) returns (T b)\r\n{\r\n    assembly { b := a }\r\n}\r\n\r\nfunction unwrap<T>(T a) returns (T.underlying b)\r\n{\r\n    assembly { b := a }\r\n}\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/910389649/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1246921037",
    "html_url": "https://github.com/ethereum/solidity/issues/11827#issuecomment-1246921037",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/11827",
    "id": 1246921037,
    "node_id": "IC_kwDOAm_5kc5KUoFN",
    "user": {
      "login": "ekpyron",
      "id": 1347491,
      "node_id": "MDQ6VXNlcjEzNDc0OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1347491?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ekpyron",
      "html_url": "https://github.com/ekpyron",
      "followers_url": "https://api.github.com/users/ekpyron/followers",
      "following_url": "https://api.github.com/users/ekpyron/following{/other_user}",
      "gists_url": "https://api.github.com/users/ekpyron/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ekpyron/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ekpyron/subscriptions",
      "organizations_url": "https://api.github.com/users/ekpyron/orgs",
      "repos_url": "https://api.github.com/users/ekpyron/repos",
      "events_url": "https://api.github.com/users/ekpyron/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ekpyron/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-14T15:14:37Z",
    "updated_at": "2022-09-14T15:14:37Z",
    "author_association": "MEMBER",
    "body": "I'm linking this to https://github.com/ethereum/solidity/issues/13321, but there's not too much gain in keeping it open as a separate issue.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1246921037/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
