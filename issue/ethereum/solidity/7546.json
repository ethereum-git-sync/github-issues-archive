{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/7546",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/7546/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/7546/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/7546/events",
  "html_url": "https://github.com/ethereum/solidity/issues/7546",
  "id": 508328406,
  "node_id": "MDU6SXNzdWU1MDgzMjg0MDY=",
  "number": 7546,
  "title": "2 Bugs report in SOLC Compiler found with fuzzing with AFL",
  "user": {
    "login": "CHM1993",
    "id": 36297330,
    "node_id": "MDQ6VXNlcjM2Mjk3MzMw",
    "avatar_url": "https://avatars.githubusercontent.com/u/36297330?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/CHM1993",
    "html_url": "https://github.com/CHM1993",
    "followers_url": "https://api.github.com/users/CHM1993/followers",
    "following_url": "https://api.github.com/users/CHM1993/following{/other_user}",
    "gists_url": "https://api.github.com/users/CHM1993/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/CHM1993/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/CHM1993/subscriptions",
    "organizations_url": "https://api.github.com/users/CHM1993/orgs",
    "repos_url": "https://api.github.com/users/CHM1993/repos",
    "events_url": "https://api.github.com/users/CHM1993/events{/privacy}",
    "received_events_url": "https://api.github.com/users/CHM1993/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 249074435,
      "node_id": "MDU6TGFiZWwyNDkwNzQ0MzU=",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/bug%20:bug:",
      "name": "bug :bug:",
      "color": "fc1313",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2019-10-17T08:48:48Z",
  "updated_at": "2019-10-21T13:53:51Z",
  "closed_at": "2019-10-18T10:38:10Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "In the contract below :\r\n\r\n```\r\npragma experimental ABIEncoderV2;\r\ncontract C {\r\n    struct S { uint a; T[222222222222222222222222222] sub; }\r\n    struct T { uint[] x; }\r\n    function f() public returns (uint, S memory) {\r\n    }\r\n}\r\n```\r\n\r\nI found this bug report :\r\n\r\nInternal compiler error during compilation:\r\n/build/solc/parts/solidity/src/libsolidity/ast/Types.cpp(1852): Throw in function virtual dev::u256 dev::solidity::ArrayType::memoryDataSize() const\r\nDynamic exception type: boost::exception_detail::clone_impl<langutil::InternalCompilerError>\r\nstd::exception::what: Array size does not fit u256.\r\n[dev::tag_comment*] = Array size does not fit u256.\r\n\r\nAlso in the contract below :\r\n\r\n```\r\ncontract test {\r\n    modifier mod() { _; }\r\n\r\n    function f() public {\r\n        mod  ;\r\n    }\r\n}\r\n```\r\nthe bug report was that :\r\n\r\nInternal compiler error during compilation:\r\n/build/solc/parts/solidity/src/libsolidity/codegen/ExpressionCompiler.cpp(1672): Throw in function virtual void dev::solidity::ExpressionCompiler::endVisit(const dev::solidity::Identifier&)\r\nDynamic exception type: boost::exception_detail::clone_impl<langutil::InternalCompilerError>\r\nstd::exception::what: Identifier type not expected in expression context.\r\n[dev::tag_comment*] = Identifier type not expected in expression context.\r\n\r\n\r\n<!--## Prerequisites\r\n\r\n- First, many thanks for taking part in the community. We really appreciate that.\r\n- We realize there is a lot of information requested here. We ask only that you do your best to provide as much information as possible so we can better help you.\r\n- Support questions are better asked in one of the following locations:\r\n\t- [Solidity chat](https://gitter.im/ethereum/solidity)\r\n\t- [Stack Overflow](https://ethereum.stackexchange.com/)\r\n- Ensure the issue isn't already reported.\r\n- The issue should be reproducible with the latest solidity version; however, this isn't a hard requirement and being reproducible with an older version is sufficient.\r\n-->\r\n\r\n## Description\r\n\r\n<!--Please shortly describe the bug you have found, and what you expect instead.-->\r\n\r\n## Environment\r\n\r\n- Compiler version: 0.5.11+\r\n- Target EVM version (as per compiler settings): 0.5.11+commit.22be8592.Linux.g++\r\n- Framework/IDE (e.g. Truffle or Remix): Remix (i found it from command line, while fuzzing the solc compiler)\r\n- EVM execution environment / backend / blockchain client:\r\n- Operating system: Ubuntu 18.04\r\n\r\n## Steps to Reproduce\r\n\r\n<!--\r\nPlease provide a *minimal* source code example to trigger the bug you have found.\r\nPlease also mention any command line flags that are necessary for triggering the bug.\r\nProvide as much information as necessary to reproduce the bug.\r\n\r\n```solidity\r\n// Some *minimal* Solidity source code to reproduce the bug.\r\n// ...\r\n```\r\n-->\r\n",
  "closed_by": {
    "login": "erak",
    "id": 20012009,
    "node_id": "MDQ6VXNlcjIwMDEyMDA5",
    "avatar_url": "https://avatars.githubusercontent.com/u/20012009?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/erak",
    "html_url": "https://github.com/erak",
    "followers_url": "https://api.github.com/users/erak/followers",
    "following_url": "https://api.github.com/users/erak/following{/other_user}",
    "gists_url": "https://api.github.com/users/erak/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/erak/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/erak/subscriptions",
    "organizations_url": "https://api.github.com/users/erak/orgs",
    "repos_url": "https://api.github.com/users/erak/repos",
    "events_url": "https://api.github.com/users/erak/events{/privacy}",
    "received_events_url": "https://api.github.com/users/erak/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/7546/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/7546/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/543664185",
    "html_url": "https://github.com/ethereum/solidity/issues/7546#issuecomment-543664185",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/7546",
    "id": 543664185,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU0MzY2NDE4NQ==",
    "user": {
      "login": "erak",
      "id": 20012009,
      "node_id": "MDQ6VXNlcjIwMDEyMDA5",
      "avatar_url": "https://avatars.githubusercontent.com/u/20012009?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/erak",
      "html_url": "https://github.com/erak",
      "followers_url": "https://api.github.com/users/erak/followers",
      "following_url": "https://api.github.com/users/erak/following{/other_user}",
      "gists_url": "https://api.github.com/users/erak/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/erak/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/erak/subscriptions",
      "organizations_url": "https://api.github.com/users/erak/orgs",
      "repos_url": "https://api.github.com/users/erak/repos",
      "events_url": "https://api.github.com/users/erak/events{/privacy}",
      "received_events_url": "https://api.github.com/users/erak/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-10-18T10:38:10Z",
    "updated_at": "2019-10-18T10:38:10Z",
    "author_association": "COLLABORATOR",
    "body": "@CHM1993 Thanks for the report! I'm closing this now in favor of two separate issues: https://github.com/ethereum/solidity/issues/7549 and https://github.com/ethereum/solidity/issues/7550.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/543664185/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/543752825",
    "html_url": "https://github.com/ethereum/solidity/issues/7546#issuecomment-543752825",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/7546",
    "id": 543752825,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU0Mzc1MjgyNQ==",
    "user": {
      "login": "CHM1993",
      "id": 36297330,
      "node_id": "MDQ6VXNlcjM2Mjk3MzMw",
      "avatar_url": "https://avatars.githubusercontent.com/u/36297330?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/CHM1993",
      "html_url": "https://github.com/CHM1993",
      "followers_url": "https://api.github.com/users/CHM1993/followers",
      "following_url": "https://api.github.com/users/CHM1993/following{/other_user}",
      "gists_url": "https://api.github.com/users/CHM1993/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/CHM1993/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/CHM1993/subscriptions",
      "organizations_url": "https://api.github.com/users/CHM1993/orgs",
      "repos_url": "https://api.github.com/users/CHM1993/repos",
      "events_url": "https://api.github.com/users/CHM1993/events{/privacy}",
      "received_events_url": "https://api.github.com/users/CHM1993/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-10-18T13:41:00Z",
    "updated_at": "2019-10-18T13:41:00Z",
    "author_association": "NONE",
    "body": "You are welcome :)\nI hope this was useful. But is this a compiler issue ?\n\nOn Fri, Oct 18, 2019 at 1:38 PM Erik K <notifications@github.com> wrote:\n\n> @CHM1993 <https://github.com/CHM1993> Thanks for the report! I'm closing\n> this now in favor of two separate issues: #7549\n> <https://github.com/ethereum/solidity/issues/7549> and #7550\n> <https://github.com/ethereum/solidity/issues/7550>.\n>\n> —\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/ethereum/solidity/issues/7546?email_source=notifications&email_token=AIU5U4W3GC5OGILYS3SCNBLQPGG37A5CNFSM4JBWIZRKYY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOEBT2QOI#issuecomment-543664185>,\n> or unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/AIU5U4WVH3EWXOECFNS6Y3TQPGG37ANCNFSM4JBWIZRA>\n> .\n>\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/543752825/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/544423848",
    "html_url": "https://github.com/ethereum/solidity/issues/7546#issuecomment-544423848",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/7546",
    "id": 544423848,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU0NDQyMzg0OA==",
    "user": {
      "login": "Marenz",
      "id": 424752,
      "node_id": "MDQ6VXNlcjQyNDc1Mg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/424752?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Marenz",
      "html_url": "https://github.com/Marenz",
      "followers_url": "https://api.github.com/users/Marenz/followers",
      "following_url": "https://api.github.com/users/Marenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/Marenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Marenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Marenz/subscriptions",
      "organizations_url": "https://api.github.com/users/Marenz/orgs",
      "repos_url": "https://api.github.com/users/Marenz/repos",
      "events_url": "https://api.github.com/users/Marenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Marenz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-10-21T09:11:35Z",
    "updated_at": "2019-10-21T09:11:35Z",
    "author_association": "MEMBER",
    "body": "> I hope this was useful. But is this a compiler issue ?\r\n\r\nAnd Internal Compiler Error is always a compiler issue :)",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/544423848/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/544498310",
    "html_url": "https://github.com/ethereum/solidity/issues/7546#issuecomment-544498310",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/7546",
    "id": 544498310,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU0NDQ5ODMxMA==",
    "user": {
      "login": "CHM1993",
      "id": 36297330,
      "node_id": "MDQ6VXNlcjM2Mjk3MzMw",
      "avatar_url": "https://avatars.githubusercontent.com/u/36297330?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/CHM1993",
      "html_url": "https://github.com/CHM1993",
      "followers_url": "https://api.github.com/users/CHM1993/followers",
      "following_url": "https://api.github.com/users/CHM1993/following{/other_user}",
      "gists_url": "https://api.github.com/users/CHM1993/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/CHM1993/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/CHM1993/subscriptions",
      "organizations_url": "https://api.github.com/users/CHM1993/orgs",
      "repos_url": "https://api.github.com/users/CHM1993/repos",
      "events_url": "https://api.github.com/users/CHM1993/events{/privacy}",
      "received_events_url": "https://api.github.com/users/CHM1993/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-10-21T12:47:18Z",
    "updated_at": "2019-10-21T12:47:18Z",
    "author_association": "NONE",
    "body": "So there is a problem in the compiler that is \"triggered\" by the contracts\nthat were mentioned, and not a problem in the contracts?\n\nOn Mon, Oct 21, 2019 at 12:12 PM Mathias L. Baumann <\nnotifications@github.com> wrote:\n\n> I hope this was useful. But is this a compiler issue ?\n>\n> And Internal Compiler Error is always a compiler issue :)\n>\n> —\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/ethereum/solidity/issues/7546?email_source=notifications&email_token=AIU5U4U226ADZJXXTYCHDM3QPVW65A5CNFSM4JBWIZRKYY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOEBZT7KA#issuecomment-544423848>,\n> or unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/AIU5U4SYEWHHCZRO4DXLTYTQPVW65ANCNFSM4JBWIZRA>\n> .\n>\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/544498310/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/544500169",
    "html_url": "https://github.com/ethereum/solidity/issues/7546#issuecomment-544500169",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/7546",
    "id": 544500169,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU0NDUwMDE2OQ==",
    "user": {
      "login": "Marenz",
      "id": 424752,
      "node_id": "MDQ6VXNlcjQyNDc1Mg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/424752?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Marenz",
      "html_url": "https://github.com/Marenz",
      "followers_url": "https://api.github.com/users/Marenz/followers",
      "following_url": "https://api.github.com/users/Marenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/Marenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Marenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Marenz/subscriptions",
      "organizations_url": "https://api.github.com/users/Marenz/orgs",
      "repos_url": "https://api.github.com/users/Marenz/repos",
      "events_url": "https://api.github.com/users/Marenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Marenz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-10-21T12:51:57Z",
    "updated_at": "2019-10-21T12:51:57Z",
    "author_association": "MEMBER",
    "body": "Well, one doesn't exclude the other. There can be invalid code that we don't properly check in the compiler and thus triggers an internal sanity check. The solution is then to add more checks and output a proper, helpful error message. I think both the code examples in this issue are like that.\r\n\r\nThe first one creates a way to big array for the index data type, we should catch something like that in the compiler and output an error \"index too big\" or so.\r\nThe second one references a function modifier outside the function signature which I believe isn't legal either. Here we need to add a check for that, too.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/544500169/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/544525407",
    "html_url": "https://github.com/ethereum/solidity/issues/7546#issuecomment-544525407",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/7546",
    "id": 544525407,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU0NDUyNTQwNw==",
    "user": {
      "login": "CHM1993",
      "id": 36297330,
      "node_id": "MDQ6VXNlcjM2Mjk3MzMw",
      "avatar_url": "https://avatars.githubusercontent.com/u/36297330?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/CHM1993",
      "html_url": "https://github.com/CHM1993",
      "followers_url": "https://api.github.com/users/CHM1993/followers",
      "following_url": "https://api.github.com/users/CHM1993/following{/other_user}",
      "gists_url": "https://api.github.com/users/CHM1993/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/CHM1993/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/CHM1993/subscriptions",
      "organizations_url": "https://api.github.com/users/CHM1993/orgs",
      "repos_url": "https://api.github.com/users/CHM1993/repos",
      "events_url": "https://api.github.com/users/CHM1993/events{/privacy}",
      "received_events_url": "https://api.github.com/users/CHM1993/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-10-21T13:53:50Z",
    "updated_at": "2019-10-21T13:53:50Z",
    "author_association": "NONE",
    "body": "Thank you for the details.\n\nOn Mon, Oct 21, 2019 at 3:52 PM Mathias L. Baumann <notifications@github.com>\nwrote:\n\n> Well, one doesn't exclude the other. There can be invalid code that we\n> don't properly check in the compiler and thus triggers an internal sanity\n> check. The solution is then to add more checks and output a proper, helpful\n> error message. I think both the code examples in this issue are like that.\n>\n> The first one creates a way to big array for the index data type, we\n> should catch something like that in the compiler and output an error \"index\n> too big\" or so.\n> The second one references a function modifier outside the function\n> signature which I believe isn't legal either. Here we need to add a check\n> for that, too.\n>\n> —\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/ethereum/solidity/issues/7546?email_source=notifications&email_token=AIU5U4TVEZZD6Q5LJ6DDLXDQPWQYLA5CNFSM4JBWIZRKYY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOEB2GTSI#issuecomment-544500169>,\n> or unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/AIU5U4RCRTFHOVJQV6VLNJTQPWQYLANCNFSM4JBWIZRA>\n> .\n>\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/544525407/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
