{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/7149",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/7149/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/7149/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/7149/events",
  "html_url": "https://github.com/ethereum/solidity/issues/7149",
  "id": 473970092,
  "node_id": "MDU6SXNzdWU0NzM5NzAwOTI=",
  "number": 7149,
  "title": "address payable as mapping type's key",
  "user": {
    "login": "sifmelcara",
    "id": 10496191,
    "node_id": "MDQ6VXNlcjEwNDk2MTkx",
    "avatar_url": "https://avatars.githubusercontent.com/u/10496191?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/sifmelcara",
    "html_url": "https://github.com/sifmelcara",
    "followers_url": "https://api.github.com/users/sifmelcara/followers",
    "following_url": "https://api.github.com/users/sifmelcara/following{/other_user}",
    "gists_url": "https://api.github.com/users/sifmelcara/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/sifmelcara/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/sifmelcara/subscriptions",
    "organizations_url": "https://api.github.com/users/sifmelcara/orgs",
    "repos_url": "https://api.github.com/users/sifmelcara/repos",
    "events_url": "https://api.github.com/users/sifmelcara/events{/privacy}",
    "received_events_url": "https://api.github.com/users/sifmelcara/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 785717317,
      "node_id": "MDU6TGFiZWw3ODU3MTczMTc=",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/language%20design%20:rage4:",
      "name": "language design :rage4:",
      "color": "9d76d3",
      "default": false,
      "description": "Any changes to the language, e.g. new features"
    },
    {
      "id": 4438006499,
      "node_id": "LA_kwDOAm_5kc8AAAABCIaa4w",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/low%20effort",
      "name": "low effort",
      "color": "ffb1fa",
      "default": false,
      "description": "There is not much implementation work to be done. The task is very easy or tiny."
    },
    {
      "id": 4438157609,
      "node_id": "LA_kwDOAm_5kc8AAAABCIjpKQ",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/low%20impact",
      "name": "low impact",
      "color": "5d71ff",
      "default": false,
      "description": "Changes are not very noticeable or potential benefits are limited."
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 8,
  "created_at": "2019-07-29T10:20:17Z",
  "updated_at": "2023-02-07T14:43:39Z",
  "closed_at": null,
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "## Abstract\r\n\r\nCurrently `mapping (address payable => uint256)` causes a parsing error:\r\n```\r\nParserError: Expected '=>' but got 'payable'\r\nmapping (address payable => uint) a;\r\n^-----^\r\n```\r\n\r\nIs there any reason that this mapping type is not supported?",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/7149/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/7149/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/516447654",
    "html_url": "https://github.com/ethereum/solidity/issues/7149#issuecomment-516447654",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/7149",
    "id": 516447654,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxNjQ0NzY1NA==",
    "user": {
      "login": "leonardoalt",
      "id": 504195,
      "node_id": "MDQ6VXNlcjUwNDE5NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/504195?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/leonardoalt",
      "html_url": "https://github.com/leonardoalt",
      "followers_url": "https://api.github.com/users/leonardoalt/followers",
      "following_url": "https://api.github.com/users/leonardoalt/following{/other_user}",
      "gists_url": "https://api.github.com/users/leonardoalt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/leonardoalt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/leonardoalt/subscriptions",
      "organizations_url": "https://api.github.com/users/leonardoalt/orgs",
      "repos_url": "https://api.github.com/users/leonardoalt/repos",
      "events_url": "https://api.github.com/users/leonardoalt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/leonardoalt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-07-30T14:36:49Z",
    "updated_at": "2019-07-30T14:36:49Z",
    "author_association": "MEMBER",
    "body": "After reading https://github.com/ethereum/solidity/pull/4926#discussion_r216245203 and https://github.com/ethereum/solidity/pull/4926 in general it looks like it simply hasn't been implemented yet.\r\n@chriseth @ekpyron ?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/516447654/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/516454754",
    "html_url": "https://github.com/ethereum/solidity/issues/7149#issuecomment-516454754",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/7149",
    "id": 516454754,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxNjQ1NDc1NA==",
    "user": {
      "login": "ekpyron",
      "id": 1347491,
      "node_id": "MDQ6VXNlcjEzNDc0OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1347491?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ekpyron",
      "html_url": "https://github.com/ekpyron",
      "followers_url": "https://api.github.com/users/ekpyron/followers",
      "following_url": "https://api.github.com/users/ekpyron/following{/other_user}",
      "gists_url": "https://api.github.com/users/ekpyron/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ekpyron/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ekpyron/subscriptions",
      "organizations_url": "https://api.github.com/users/ekpyron/orgs",
      "repos_url": "https://api.github.com/users/ekpyron/repos",
      "events_url": "https://api.github.com/users/ekpyron/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ekpyron/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-07-30T14:52:38Z",
    "updated_at": "2019-07-30T14:52:38Z",
    "author_association": "MEMBER",
    "body": "I'd ask the contrary: *should* this mapping type be supported? I think the original thought was, that it's not really useful, since ``address payable`` is implicitly convertible to ``address``, so you can always use an ``address payable`` as key in ``mapping (address => T)``, i.e. whenever you'd use ``mapping(address payable => T)`` you can just use ``mapping(address => T)`` instead. You'll never be able to call ``send`` or ``transfer`` on the keys in a mapping anyways.\r\n\r\nThinking about it, one might argue that it could be useful to explicitly restrict keys to only payable addresses, but is that really useful? So is it likely that one wants to have a mapping, such that ``m[a] = v`` is valid only if ``a`` is ``address payable``, but not if ``a`` is ``address``?\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/516454754/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/517208696",
    "html_url": "https://github.com/ethereum/solidity/issues/7149#issuecomment-517208696",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/7149",
    "id": 517208696,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxNzIwODY5Ng==",
    "user": {
      "login": "sifmelcara",
      "id": 10496191,
      "node_id": "MDQ6VXNlcjEwNDk2MTkx",
      "avatar_url": "https://avatars.githubusercontent.com/u/10496191?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sifmelcara",
      "html_url": "https://github.com/sifmelcara",
      "followers_url": "https://api.github.com/users/sifmelcara/followers",
      "following_url": "https://api.github.com/users/sifmelcara/following{/other_user}",
      "gists_url": "https://api.github.com/users/sifmelcara/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sifmelcara/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sifmelcara/subscriptions",
      "organizations_url": "https://api.github.com/users/sifmelcara/orgs",
      "repos_url": "https://api.github.com/users/sifmelcara/repos",
      "events_url": "https://api.github.com/users/sifmelcara/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sifmelcara/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-08-01T09:36:41Z",
    "updated_at": "2019-08-01T09:36:41Z",
    "author_association": "CONTRIBUTOR",
    "body": "I agree that `mapping(address payable => T)` is not very useful.\r\n\r\nThe reason I encounter this issue is, I was upgrading a contract from 0.4.X to 0.5.X, and that contract uses `address` in a way that non-payable address type does not make much sense in the context (since the contract is all about sending money to people). In that case I would like to use `address payable` instead of `address` in mapping type's key, for the sake of consistency.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/517208696/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1414717712",
    "html_url": "https://github.com/ethereum/solidity/issues/7149#issuecomment-1414717712",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/7149",
    "id": 1414717712,
    "node_id": "IC_kwDOAm_5kc5UUuEQ",
    "user": {
      "login": "PepperAndSalt999",
      "id": 85789550,
      "node_id": "MDQ6VXNlcjg1Nzg5NTUw",
      "avatar_url": "https://avatars.githubusercontent.com/u/85789550?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/PepperAndSalt999",
      "html_url": "https://github.com/PepperAndSalt999",
      "followers_url": "https://api.github.com/users/PepperAndSalt999/followers",
      "following_url": "https://api.github.com/users/PepperAndSalt999/following{/other_user}",
      "gists_url": "https://api.github.com/users/PepperAndSalt999/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/PepperAndSalt999/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/PepperAndSalt999/subscriptions",
      "organizations_url": "https://api.github.com/users/PepperAndSalt999/orgs",
      "repos_url": "https://api.github.com/users/PepperAndSalt999/repos",
      "events_url": "https://api.github.com/users/PepperAndSalt999/events{/privacy}",
      "received_events_url": "https://api.github.com/users/PepperAndSalt999/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-03T02:40:53Z",
    "updated_at": "2023-02-03T02:40:53Z",
    "author_association": "NONE",
    "body": "how isn't that useful ? Every time you want to add some eth to those addresses you need to convert their type to payable, it's litteraly taking more memory and thus more gas. How is that useful ?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1414717712/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1415817696",
    "html_url": "https://github.com/ethereum/solidity/issues/7149#issuecomment-1415817696",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/7149",
    "id": 1415817696,
    "node_id": "IC_kwDOAm_5kc5UY6ng",
    "user": {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-03T12:39:26Z",
    "updated_at": "2023-02-03T12:39:26Z",
    "author_association": "MEMBER",
    "body": "It's a compile-time implicit conversion so it's not adding anything in terms of memory or gas usage. It would probably be a bigger problem if you could enumerate mapping keys but you can't.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1415817696/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1420841180",
    "html_url": "https://github.com/ethereum/solidity/issues/7149#issuecomment-1420841180",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/7149",
    "id": 1420841180,
    "node_id": "IC_kwDOAm_5kc5UsFDc",
    "user": {
      "login": "ekpyron",
      "id": 1347491,
      "node_id": "MDQ6VXNlcjEzNDc0OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1347491?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ekpyron",
      "html_url": "https://github.com/ekpyron",
      "followers_url": "https://api.github.com/users/ekpyron/followers",
      "following_url": "https://api.github.com/users/ekpyron/following{/other_user}",
      "gists_url": "https://api.github.com/users/ekpyron/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ekpyron/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ekpyron/subscriptions",
      "organizations_url": "https://api.github.com/users/ekpyron/orgs",
      "repos_url": "https://api.github.com/users/ekpyron/repos",
      "events_url": "https://api.github.com/users/ekpyron/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ekpyron/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-07T14:12:22Z",
    "updated_at": "2023-02-07T14:12:22Z",
    "author_association": "MEMBER",
    "body": "Since you *can't* enumerate the keys of a mapping, this doesn't really serve that much of a purpose at all - there's no situation in which any explicit conversion has to happen or any additional code is generated or in which you can actually fetch an address out of such a mapping and run into problems due to it not being payable.\r\n\r\nThe only thing new allowing this would enable would be a mapping that artificially restricts lookups syntactically to only payable addresses.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1420841180/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1420873811",
    "html_url": "https://github.com/ethereum/solidity/issues/7149#issuecomment-1420873811",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/7149",
    "id": 1420873811,
    "node_id": "IC_kwDOAm_5kc5UsNBT",
    "user": {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-07T14:32:21Z",
    "updated_at": "2023-02-07T14:32:21Z",
    "author_association": "MEMBER",
    "body": "> The only thing new allowing this would enable would be a mapping that artificially restricts lookups syntactically to only payable addresses.\r\n\r\nThis might actually have some low key uses. E.g. when you're storing balances that can be paid out, it would make sense to ensure that your mapping only has payable addresses in it. You would use the `payable` type in place where you actually store addresses, but that does not prevent you from doing lookups on the mapping for a non-payable key, which is likely to be the result of a bug on your part. So it's not like this feature would make no sense at all. Just probably not worth spending time on this because what we have currently is good enough in most cases.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1420873811/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1420891289",
    "html_url": "https://github.com/ethereum/solidity/issues/7149#issuecomment-1420891289",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/7149",
    "id": 1420891289,
    "node_id": "IC_kwDOAm_5kc5UsRSZ",
    "user": {
      "login": "ekpyron",
      "id": 1347491,
      "node_id": "MDQ6VXNlcjEzNDc0OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1347491?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ekpyron",
      "html_url": "https://github.com/ekpyron",
      "followers_url": "https://api.github.com/users/ekpyron/followers",
      "following_url": "https://api.github.com/users/ekpyron/following{/other_user}",
      "gists_url": "https://api.github.com/users/ekpyron/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ekpyron/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ekpyron/subscriptions",
      "organizations_url": "https://api.github.com/users/ekpyron/orgs",
      "repos_url": "https://api.github.com/users/ekpyron/repos",
      "events_url": "https://api.github.com/users/ekpyron/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ekpyron/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-07T14:43:39Z",
    "updated_at": "2023-02-07T14:43:39Z",
    "author_association": "MEMBER",
    "body": "Yeah, that's why I didn't close the issue right away :-).",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1420891289/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
