{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/6561",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/6561/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/6561/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/6561/events",
  "html_url": "https://github.com/ethereum/solidity/issues/6561",
  "id": 435310475,
  "node_id": "MDU6SXNzdWU0MzUzMTA0NzU=",
  "number": 6561,
  "title": "Introduce deployment-time constants",
  "user": {
    "login": "3sGgpQ8H",
    "id": 3917202,
    "node_id": "MDQ6VXNlcjM5MTcyMDI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/3917202?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/3sGgpQ8H",
    "html_url": "https://github.com/3sGgpQ8H",
    "followers_url": "https://api.github.com/users/3sGgpQ8H/followers",
    "following_url": "https://api.github.com/users/3sGgpQ8H/following{/other_user}",
    "gists_url": "https://api.github.com/users/3sGgpQ8H/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/3sGgpQ8H/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/3sGgpQ8H/subscriptions",
    "organizations_url": "https://api.github.com/users/3sGgpQ8H/orgs",
    "repos_url": "https://api.github.com/users/3sGgpQ8H/repos",
    "events_url": "https://api.github.com/users/3sGgpQ8H/events{/privacy}",
    "received_events_url": "https://api.github.com/users/3sGgpQ8H/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2019-04-19T21:31:34Z",
  "updated_at": "2019-05-02T07:42:23Z",
  "closed_at": "2019-05-02T07:42:23Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "## Abstract\r\n\r\nWe suggest introducing new kind of state variables: deployment-time constants.  Such variables may be assigned only once in the constructor of a smart contract.  Constructor should inject values, assigned to such variables, directly into byte code at places where they are read.\r\n\r\n## Motivation\r\n\r\nCurrently Solidity has compile-time constants.  Values of such constants have to be known at compile time, so compiler directly substitutes these values into byte code where they are used.  Compile-time constants do not occupy storage space, and are cheap to deploy and read.\r\n\r\nThough, many real-life contracts contain state variables that are assigned only once in the constructor.  These variables couldn't be declared as constant because their values are not known at compile time.  Such variables occupy storage space and are relatively expensive to deploy and read.  Also, it is hard to verify that value of such variable never changes, especially for contracts that have inline assembly sections.\r\n\r\nDeployment-time constants, whose values are injected at deployment time directly into byte code, would be cheaper to deploy and read.  They would be guaranteed to be immutable.\r\nAlso, this feature will allow contracts, that are supposed to be called only via `DELEGATECALL` (e.g. new versions of upgradeable contracts), to save their original address into deployment-time constant and later use it to ensure that the contract was actually called via `DELEGATECALL`.\r\n\r\n## Specification\r\n\r\nIntroduce new access level specifier, e.g. `final`, applicable for state variables of atomic types.  State variables marked with this specifier should be assignable only once in the constructor of the smart contract.  Constructor should inject assigned value directly into byte code.  In case variable it read in only one place, the value should be injected into this place.  In case there are multiple places where variable is read, compiler should generate internal getter function for the variable, and use it for reading variable, so this getter functions will be the only place within byte code where variable value is accessed directly.\r\n\r\n## Backwards Compatibility\r\n\r\nThe change will introduce new keyword, e.g. `final`, which will break compatibility with existing smart contracts that use this keyword as an identifier.",
  "closed_by": {
    "login": "chriseth",
    "id": 9073706,
    "node_id": "MDQ6VXNlcjkwNzM3MDY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/chriseth",
    "html_url": "https://github.com/chriseth",
    "followers_url": "https://api.github.com/users/chriseth/followers",
    "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
    "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
    "organizations_url": "https://api.github.com/users/chriseth/orgs",
    "repos_url": "https://api.github.com/users/chriseth/repos",
    "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
    "received_events_url": "https://api.github.com/users/chriseth/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/6561/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/6561/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/486146288",
    "html_url": "https://github.com/ethereum/solidity/issues/6561#issuecomment-486146288",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/6561",
    "id": 486146288,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4NjE0NjI4OA==",
    "user": {
      "login": "leonardoalt",
      "id": 504195,
      "node_id": "MDQ6VXNlcjUwNDE5NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/504195?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/leonardoalt",
      "html_url": "https://github.com/leonardoalt",
      "followers_url": "https://api.github.com/users/leonardoalt/followers",
      "following_url": "https://api.github.com/users/leonardoalt/following{/other_user}",
      "gists_url": "https://api.github.com/users/leonardoalt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/leonardoalt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/leonardoalt/subscriptions",
      "organizations_url": "https://api.github.com/users/leonardoalt/orgs",
      "repos_url": "https://api.github.com/users/leonardoalt/repos",
      "events_url": "https://api.github.com/users/leonardoalt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/leonardoalt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-04-24T09:36:35Z",
    "updated_at": "2019-04-24T09:36:35Z",
    "author_association": "MEMBER",
    "body": "Hi @3sGgpQ8H , thanks for the request.\r\nThis sounds like a duplicate of https://github.com/ethereum/solidity/issues/3835, can you confirm?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/486146288/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/486156845",
    "html_url": "https://github.com/ethereum/solidity/issues/6561#issuecomment-486156845",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/6561",
    "id": 486156845,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4NjE1Njg0NQ==",
    "user": {
      "login": "3sGgpQ8H",
      "id": 3917202,
      "node_id": "MDQ6VXNlcjM5MTcyMDI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3917202?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/3sGgpQ8H",
      "html_url": "https://github.com/3sGgpQ8H",
      "followers_url": "https://api.github.com/users/3sGgpQ8H/followers",
      "following_url": "https://api.github.com/users/3sGgpQ8H/following{/other_user}",
      "gists_url": "https://api.github.com/users/3sGgpQ8H/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/3sGgpQ8H/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/3sGgpQ8H/subscriptions",
      "organizations_url": "https://api.github.com/users/3sGgpQ8H/orgs",
      "repos_url": "https://api.github.com/users/3sGgpQ8H/repos",
      "events_url": "https://api.github.com/users/3sGgpQ8H/events{/privacy}",
      "received_events_url": "https://api.github.com/users/3sGgpQ8H/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-04-24T10:01:10Z",
    "updated_at": "2019-04-24T10:01:10Z",
    "author_association": "NONE",
    "body": "#3835 proposes about the same functionality, but suggests different slightly different approach.  I think yes, this could be considered duplicate.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/486156845/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/488339812",
    "html_url": "https://github.com/ethereum/solidity/issues/6561#issuecomment-488339812",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/6561",
    "id": 488339812,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4ODMzOTgxMg==",
    "user": {
      "login": "asymmetric",
      "id": 101816,
      "node_id": "MDQ6VXNlcjEwMTgxNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/101816?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/asymmetric",
      "html_url": "https://github.com/asymmetric",
      "followers_url": "https://api.github.com/users/asymmetric/followers",
      "following_url": "https://api.github.com/users/asymmetric/following{/other_user}",
      "gists_url": "https://api.github.com/users/asymmetric/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/asymmetric/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/asymmetric/subscriptions",
      "organizations_url": "https://api.github.com/users/asymmetric/orgs",
      "repos_url": "https://api.github.com/users/asymmetric/repos",
      "events_url": "https://api.github.com/users/asymmetric/events{/privacy}",
      "received_events_url": "https://api.github.com/users/asymmetric/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-01T16:51:32Z",
    "updated_at": "2019-05-01T16:51:32Z",
    "author_association": "CONTRIBUTOR",
    "body": "Can this be closed then?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/488339812/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
