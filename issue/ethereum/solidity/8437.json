{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/8437",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/8437/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/8437/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/8437/events",
  "html_url": "https://github.com/ethereum/solidity/issues/8437",
  "id": 576851731,
  "node_id": "MDU6SXNzdWU1NzY4NTE3MzE=",
  "number": 8437,
  "title": "Verify and potentially increase test coverage for inheritance and function calls.",
  "user": {
    "login": "ekpyron",
    "id": 1347491,
    "node_id": "MDQ6VXNlcjEzNDc0OTE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1347491?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ekpyron",
    "html_url": "https://github.com/ekpyron",
    "followers_url": "https://api.github.com/users/ekpyron/followers",
    "following_url": "https://api.github.com/users/ekpyron/following{/other_user}",
    "gists_url": "https://api.github.com/users/ekpyron/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ekpyron/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ekpyron/subscriptions",
    "organizations_url": "https://api.github.com/users/ekpyron/orgs",
    "repos_url": "https://api.github.com/users/ekpyron/repos",
    "events_url": "https://api.github.com/users/ekpyron/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ekpyron/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1018738457,
      "node_id": "MDU6TGFiZWwxMDE4NzM4NDU3",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/testing%20:hammer:",
      "name": "testing :hammer:",
      "color": "ffc6db",
      "default": false,
      "description": ""
    },
    {
      "id": 4438003076,
      "node_id": "LA_kwDOAm_5kc8AAAABCIaNhA",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/medium%20effort",
      "name": "medium effort",
      "color": "ff7df7",
      "default": false,
      "description": "Default level of effort"
    },
    {
      "id": 4438157609,
      "node_id": "LA_kwDOAm_5kc8AAAABCIjpKQ",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/low%20impact",
      "name": "low impact",
      "color": "001dff",
      "default": false,
      "description": "Changes are not very noticeable or potential benefits are limited."
    },
    {
      "id": 4438481746,
      "node_id": "LA_kwDOAm_5kc8AAAABCI3bUg",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/must%20have%20eventually",
      "name": "must have eventually",
      "color": "ffb04d",
      "default": false,
      "description": "Something we consider essential but not enough to prevent us from releasing Solidity 1.0 without it."
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2020-03-06T10:51:19Z",
  "updated_at": "2022-09-26T23:24:13Z",
  "closed_at": null,
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "We didn't have a single test case that failed on https://github.com/ethereum/solidity/issues/8434 - I added two measly test cases in https://github.com/ethereum/solidity/pull/8436, but that's probably far from enough and I'm afraid this could only be the tip of the iceberg wrt test coverage in this area, so we should check this and potentially add a lot more tests for function calls in general and especially in the presence of various inheritance scenarios.",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/8437/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/8437/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/624593033",
    "html_url": "https://github.com/ethereum/solidity/issues/8437#issuecomment-624593033",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/8437",
    "id": 624593033,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyNDU5MzAzMw==",
    "user": {
      "login": "christianparpart",
      "id": 56763,
      "node_id": "MDQ6VXNlcjU2NzYz",
      "avatar_url": "https://avatars.githubusercontent.com/u/56763?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/christianparpart",
      "html_url": "https://github.com/christianparpart",
      "followers_url": "https://api.github.com/users/christianparpart/followers",
      "following_url": "https://api.github.com/users/christianparpart/following{/other_user}",
      "gists_url": "https://api.github.com/users/christianparpart/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/christianparpart/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/christianparpart/subscriptions",
      "organizations_url": "https://api.github.com/users/christianparpart/orgs",
      "repos_url": "https://api.github.com/users/christianparpart/repos",
      "events_url": "https://api.github.com/users/christianparpart/events{/privacy}",
      "received_events_url": "https://api.github.com/users/christianparpart/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-05-06T11:25:34Z",
    "updated_at": "2020-05-06T11:25:34Z",
    "author_association": "MEMBER",
    "body": "As a revive of my just closed PR, the tests that I think should be added:\r\n\r\n#### calling a base function from derived contract\r\n```typescript\r\ncontract Base {\r\n\tfunction f(uint n) public returns (uint) {\r\n\t\treturn 2 * n;\r\n\t}\r\n}\r\n\r\ncontract Child is Base {\r\n\tfunction g(uint n) public returns (uint) {\r\n\t\treturn f(n);\r\n\t}\r\n}\r\n// ----\r\n// g(uint256): 4 -> 8\r\n```\r\n\r\n#### calling base-base functions from derived\r\nBasically to test deeper levels:\r\n\r\n```typescript\r\ncontract BaseBase {\r\n\tfunction f(uint n) public virtual returns (uint) {\r\n\t\treturn 2 * n;\r\n\t}\r\n\tfunction s(uint n) public returns (uint) {\r\n\t\treturn 4 * n;\r\n\t}\r\n}\r\n\r\ncontract Base is BaseBase {\r\n\tfunction f(uint n) public virtual override returns (uint) {\r\n\t\treturn 3 * n;\r\n\t}\r\n}\r\n\r\ncontract Child is Base {\r\n\tfunction g(uint n) public returns (uint) {\r\n\t\treturn f(n);\r\n\t}\r\n\r\n\tfunction h(uint n) public returns (uint) {\r\n\t\treturn s(n);\r\n\t}\r\n}\r\n// ----\r\n// g(uint256): 4 -> 12\r\n// h(uint256): 4 -> 16\r\n```\r\n\r\n#### Explicit call to base-base function from derived\r\n\r\n```typescript\r\ncontract BaseBase {\r\n\tfunction f(uint n) public virtual returns (uint) {\r\n\t\treturn 2 * n;\r\n\t}\r\n\r\n\tfunction s(uint n) public returns (uint) {\r\n\t\treturn 4 * n;\r\n\t}\r\n}\r\n\r\ncontract Base is BaseBase {\r\n\tfunction f(uint n) public virtual override returns (uint) {\r\n\t\treturn 3 * n;\r\n\t}\r\n}\r\n\r\ncontract Child is Base {\r\n\tfunction g(uint n) public returns (uint) {\r\n\t\t// calling base-bse function of a virtual overridden function.\r\n\t\treturn BaseBase.f(n);\r\n\t}\r\n\r\n\tfunction k(uint n) public returns (uint) {\r\n\t\t// Calling base-base function of a non-virtual function.\r\n\t\treturn BaseBase.s(n);\r\n\t}\r\n}\r\n// ----\r\n// g(uint256): 4 -> 8\r\n// k(uint256): 4 -> 16\r\n```\r\n\r\n#### Explicit call to bsae from derived\r\n```typescript\r\ncontract Base {\r\n\tfunction f(uint n) public returns (uint) {\r\n\t\treturn 2 * n;\r\n\t}\r\n}\r\n\r\ncontract Child is Base {\r\n\tfunction g(uint n) public returns (uint) {\r\n\t\treturn Base.f(n);\r\n\t}\r\n}\r\n// ----\r\n// g(uint256): 4 -> 8\r\n````\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/624593033/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/637641901",
    "html_url": "https://github.com/ethereum/solidity/issues/8437#issuecomment-637641901",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/8437",
    "id": 637641901,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzNzY0MTkwMQ==",
    "user": {
      "login": "ekpyron",
      "id": 1347491,
      "node_id": "MDQ6VXNlcjEzNDc0OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1347491?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ekpyron",
      "html_url": "https://github.com/ekpyron",
      "followers_url": "https://api.github.com/users/ekpyron/followers",
      "following_url": "https://api.github.com/users/ekpyron/following{/other_user}",
      "gists_url": "https://api.github.com/users/ekpyron/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ekpyron/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ekpyron/subscriptions",
      "organizations_url": "https://api.github.com/users/ekpyron/orgs",
      "repos_url": "https://api.github.com/users/ekpyron/repos",
      "events_url": "https://api.github.com/users/ekpyron/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ekpyron/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-02T15:53:00Z",
    "updated_at": "2020-06-02T15:53:00Z",
    "author_association": "MEMBER",
    "body": "One class of potential issues is this: https://github.com/ethereum/solidity/issues/9065 - so this issue should cover extensive tests of interactions between functions and public state variables.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/637641901/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/637645623",
    "html_url": "https://github.com/ethereum/solidity/issues/8437#issuecomment-637645623",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/8437",
    "id": 637645623,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzNzY0NTYyMw==",
    "user": {
      "login": "ekpyron",
      "id": 1347491,
      "node_id": "MDQ6VXNlcjEzNDc0OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1347491?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ekpyron",
      "html_url": "https://github.com/ekpyron",
      "followers_url": "https://api.github.com/users/ekpyron/followers",
      "following_url": "https://api.github.com/users/ekpyron/following{/other_user}",
      "gists_url": "https://api.github.com/users/ekpyron/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ekpyron/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ekpyron/subscriptions",
      "organizations_url": "https://api.github.com/users/ekpyron/orgs",
      "repos_url": "https://api.github.com/users/ekpyron/repos",
      "events_url": "https://api.github.com/users/ekpyron/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ekpyron/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-02T15:58:51Z",
    "updated_at": "2020-06-02T15:58:51Z",
    "author_association": "MEMBER",
    "body": "So basically we should have a test case for every subset of the inheritance related keywords applied to any kind of function, state variable, modifier, etc. - and in each case check that the compiler behaves reasonable.\r\nA lot of these combinations will be invalid, but for whatever is valid we should then start to introduce tests with inheritance - for each pair of constructs valid in the first step we need a test with one of them in a base contract and one in a derived contract (using the same name) and again check that the behaviour makes sense. That approach alone will already yield a huge number of test cases.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/637645623/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
