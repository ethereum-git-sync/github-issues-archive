{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/10432",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/10432/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/10432/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/10432/events",
  "html_url": "https://github.com/ethereum/solidity/issues/10432",
  "id": 752784278,
  "node_id": "MDU6SXNzdWU3NTI3ODQyNzg=",
  "number": 10432,
  "title": "Panic error codes are hard to use",
  "user": {
    "login": "drortirosh",
    "id": 40341007,
    "node_id": "MDQ6VXNlcjQwMzQxMDA3",
    "avatar_url": "https://avatars.githubusercontent.com/u/40341007?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/drortirosh",
    "html_url": "https://github.com/drortirosh",
    "followers_url": "https://api.github.com/users/drortirosh/followers",
    "following_url": "https://api.github.com/users/drortirosh/following{/other_user}",
    "gists_url": "https://api.github.com/users/drortirosh/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/drortirosh/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/drortirosh/subscriptions",
    "organizations_url": "https://api.github.com/users/drortirosh/orgs",
    "repos_url": "https://api.github.com/users/drortirosh/repos",
    "events_url": "https://api.github.com/users/drortirosh/events{/privacy}",
    "received_events_url": "https://api.github.com/users/drortirosh/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 785717317,
      "node_id": "MDU6TGFiZWw3ODU3MTczMTc=",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/language%20design%20:rage4:",
      "name": "language design :rage4:",
      "color": "9d76d3",
      "default": false,
      "description": "Any changes to the language, e.g. new features"
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2020-11-28T22:48:02Z",
  "updated_at": "2022-08-17T13:49:48Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Current 0.8 suggestion for Panic revert is to use enum values.\r\n\r\nInstead of enum values, it is better to provide string32 (string encoded in base32 value)\r\nthat is, change the encoding from `Panic(uint256)` to `Panic(bytes32)`\r\n\r\n## Motivation\r\n\r\nNumeric constants are notorious and error-prone to use, and have no benefit over string.\r\n<!--\r\nIn this section you describe how you propose to address the problem you described earlier,\r\nincluding by giving one or more exemplary source code snippets for demonstration.\r\n-->\r\n\r\n## Specification\r\n\r\nthe internal type-checking should revert with signature `Panic(bytes32)`\r\nThe parameter value would be one of the following:\r\n\r\nASSERT, OVER/UNDER-FLOW, DIV-BY-ZERO, POP-EMPTY-ARRAY, OUT-OF-BOUNDS, ARRAY-TOO-LARGE\r\n\r\n\r\n## Backwards Compatibility\r\n\r\n(none: its a new feature)\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/10432/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/10432/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/735306031",
    "html_url": "https://github.com/ethereum/solidity/issues/10432#issuecomment-735306031",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/10432",
    "id": 735306031,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczNTMwNjAzMQ==",
    "user": {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-28T23:46:17Z",
    "updated_at": "2020-11-28T23:46:50Z",
    "author_association": "MEMBER",
    "body": "Even though the signature is `Panic(uint256)`, not all 32 bytes are used. All existing codes fit in 1 byte which minimizes the impact on the size of the resulting bytecode (see the discussion in https://github.com/ethereum/solidity/issues/9824#issuecomment-708343758).\r\n\r\nBut I agree that something like `Panic(0x12)` is not very readable and requires looking up the code or memorizing it. I think there should be some syntactic sugar for that. E.g. `Panic(\"DivisionByZero\")` - a special overloaded constructor that accepts a string literal and gets translated in the code generator to one accepting the corresponding numeric code. Or even `Panic(DivisionByZero)` or `PanicDivisionByZero()` but that has the disadvantage of polluting the global namespace with more stuff.\r\n\r\nAlternatively, global constants representing the codes (#9671) might be something to define once and put in the standard library (#10282).",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/735306031/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/735679817",
    "html_url": "https://github.com/ethereum/solidity/issues/10432#issuecomment-735679817",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/10432",
    "id": 735679817,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczNTY3OTgxNw==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-30T09:54:21Z",
    "updated_at": "2020-11-30T09:54:21Z",
    "author_association": "MEMBER",
    "body": "@drortirosh when you say \"difficult to use\" , which kind of \"use\" do you have in mind? I don't expect user-supplied Solidity code to create such panic error codes directly - after all, they are internal errors. On the other hand, code that consumes panic errors probably does either not care about the code itself (Solidity code) or directly translates it into a human-readable string (debugging tools).",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/735679817/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
