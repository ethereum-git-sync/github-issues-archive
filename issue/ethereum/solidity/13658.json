{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/13658",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/13658/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/13658/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/13658/events",
  "html_url": "https://github.com/ethereum/solidity/issues/13658",
  "id": 1425580526,
  "node_id": "I_kwDOAm_5kc5U-KHu",
  "number": 13658,
  "title": "abi.decode() doesn't revert when sent more data then Struct needs",
  "user": {
    "login": "majkic99",
    "id": 60391069,
    "node_id": "MDQ6VXNlcjYwMzkxMDY5",
    "avatar_url": "https://avatars.githubusercontent.com/u/60391069?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/majkic99",
    "html_url": "https://github.com/majkic99",
    "followers_url": "https://api.github.com/users/majkic99/followers",
    "following_url": "https://api.github.com/users/majkic99/following{/other_user}",
    "gists_url": "https://api.github.com/users/majkic99/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/majkic99/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/majkic99/subscriptions",
    "organizations_url": "https://api.github.com/users/majkic99/orgs",
    "repos_url": "https://api.github.com/users/majkic99/repos",
    "events_url": "https://api.github.com/users/majkic99/events{/privacy}",
    "received_events_url": "https://api.github.com/users/majkic99/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2022-10-27T12:46:53Z",
  "updated_at": "2022-10-28T03:21:10Z",
  "closed_at": "2022-10-28T03:21:09Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "\r\n<img width=\"721\" alt=\"image\" src=\"https://user-images.githubusercontent.com/60391069/198287088-a0ec1db4-4399-4f33-84e3-52f8f40cc6fc.png\">\r\n\r\nbytest = \"0x000000000000000000000000000000000000000000000000000000000000dead0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000dead000000000000000000000000000000000000000000000000000000000000dead\"\r\n\r\n<img width=\"979\" alt=\"image\" src=\"https://user-images.githubusercontent.com/60391069/198287120-e927ea9b-fec1-4ef2-9478-0eed926dccba.png\">\r\n\r\n\r\nI would expect the decode call to revert if calldata is bigger than the Struct we're decoding to, this way a whole parameter gets left out without any working whatsoever\r\n\r\n## Environment\r\n\r\n- Compiler version: 0.8.10 ( tested on 0.7.4 and 0.8.17, basically abiEncoderV2)\r\n- Target EVM version (as per compiler settings): /\r\n- Framework/IDE (e.g. Truffle or Remix): Remix+hardhat\r\n- EVM execution environment / backend / blockchain client: local hardhat instance, same thing occured on Tenderly fork EVM\r\n- Operating system: /\r\n\r\n## Steps to Reproduce\r\n\r\n```solidity\r\n struct Params {\r\n        address market;\r\n        uint256 amount;\r\n        address to;\r\n    }\r\n\r\n    function testStruct(bytes memory test) public{\r\n        console.logBytes(test);\r\n        Params memory params = abi.decode(test, (Params));\r\n        \r\n        console.log(\"-----------\");\r\n        console.log(params.market);\r\n        console.log(params.amount);\r\n        console.log(params.to);\r\n        console.log(\"-----------\");\r\n\r\n        (Params memory secondParams, address testAddress) = abi.decode(test, (Params, address));\r\n        \r\n        console.log(\"-----------\");\r\n        console.log(secondParams.market);\r\n        console.log(secondParams.amount);\r\n        console.log(secondParams.to);\r\n        console.log(testAddress);\r\n        console.log(\"-----------\");\r\n\r\n    }\r\n```\r\n",
  "closed_by": {
    "login": "hrkrshnn",
    "id": 13174375,
    "node_id": "MDQ6VXNlcjEzMTc0Mzc1",
    "avatar_url": "https://avatars.githubusercontent.com/u/13174375?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/hrkrshnn",
    "html_url": "https://github.com/hrkrshnn",
    "followers_url": "https://api.github.com/users/hrkrshnn/followers",
    "following_url": "https://api.github.com/users/hrkrshnn/following{/other_user}",
    "gists_url": "https://api.github.com/users/hrkrshnn/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/hrkrshnn/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/hrkrshnn/subscriptions",
    "organizations_url": "https://api.github.com/users/hrkrshnn/orgs",
    "repos_url": "https://api.github.com/users/hrkrshnn/repos",
    "events_url": "https://api.github.com/users/hrkrshnn/events{/privacy}",
    "received_events_url": "https://api.github.com/users/hrkrshnn/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/13658/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/13658/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1294398454",
    "html_url": "https://github.com/ethereum/solidity/issues/13658#issuecomment-1294398454",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/13658",
    "id": 1294398454,
    "node_id": "IC_kwDOAm_5kc5NJvP2",
    "user": {
      "login": "hrkrshnn",
      "id": 13174375,
      "node_id": "MDQ6VXNlcjEzMTc0Mzc1",
      "avatar_url": "https://avatars.githubusercontent.com/u/13174375?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hrkrshnn",
      "html_url": "https://github.com/hrkrshnn",
      "followers_url": "https://api.github.com/users/hrkrshnn/followers",
      "following_url": "https://api.github.com/users/hrkrshnn/following{/other_user}",
      "gists_url": "https://api.github.com/users/hrkrshnn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hrkrshnn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hrkrshnn/subscriptions",
      "organizations_url": "https://api.github.com/users/hrkrshnn/orgs",
      "repos_url": "https://api.github.com/users/hrkrshnn/repos",
      "events_url": "https://api.github.com/users/hrkrshnn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hrkrshnn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-28T03:21:09Z",
    "updated_at": "2022-10-28T03:21:09Z",
    "author_association": "MEMBER",
    "body": "This is expected behaviour. The abi standard allows having more data than what's required. This is also used by some contracts in the mainnet. Closing this. Feel free to reply if you have any questions.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1294398454/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
