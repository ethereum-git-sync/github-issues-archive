{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/2226",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/2226/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/2226/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/2226/events",
  "html_url": "https://github.com/ethereum/solidity/issues/2226",
  "id": 226099309,
  "node_id": "MDU6SXNzdWUyMjYwOTkzMDk=",
  "number": 2226,
  "title": "`.call` with callData resets string in storage",
  "user": {
    "login": "SCBuergel",
    "id": 11379673,
    "node_id": "MDQ6VXNlcjExMzc5Njcz",
    "avatar_url": "https://avatars.githubusercontent.com/u/11379673?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/SCBuergel",
    "html_url": "https://github.com/SCBuergel",
    "followers_url": "https://api.github.com/users/SCBuergel/followers",
    "following_url": "https://api.github.com/users/SCBuergel/following{/other_user}",
    "gists_url": "https://api.github.com/users/SCBuergel/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/SCBuergel/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/SCBuergel/subscriptions",
    "organizations_url": "https://api.github.com/users/SCBuergel/orgs",
    "repos_url": "https://api.github.com/users/SCBuergel/repos",
    "events_url": "https://api.github.com/users/SCBuergel/events{/privacy}",
    "received_events_url": "https://api.github.com/users/SCBuergel/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2017-05-03T20:05:37Z",
  "updated_at": "2017-05-05T08:54:06Z",
  "closed_at": "2017-05-05T08:54:06Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "The following test contract allows a string `myS` to be set in three different ways:\r\n```\r\ncontract Test {\r\n    string public myS;\r\n\r\n    function f(string _s) {\r\n        myS = _s;\r\n    }\r\n    \r\n    function callF() {\r\n        this.call(bytes4(sha3(\"f(string)\")), \"test\");\r\n    }\r\n    \r\n    function setF() {\r\n        f(\"test\");\r\n    }\r\n}\r\n```\r\nCalling `callF` seems to just reset the storage of `myS` with the default value (empty string) instead of setting it to `\"test\"`. The same pattern works for all other types that I tested (uint and address).\r\n\r\nI tested this using the latest compiler (older versions seem to behave the same way) and remix as well as Ether Camps Ethereum Studio.",
  "closed_by": {
    "login": "axic",
    "id": 20340,
    "node_id": "MDQ6VXNlcjIwMzQw",
    "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/axic",
    "html_url": "https://github.com/axic",
    "followers_url": "https://api.github.com/users/axic/followers",
    "following_url": "https://api.github.com/users/axic/following{/other_user}",
    "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
    "organizations_url": "https://api.github.com/users/axic/orgs",
    "repos_url": "https://api.github.com/users/axic/repos",
    "events_url": "https://api.github.com/users/axic/events{/privacy}",
    "received_events_url": "https://api.github.com/users/axic/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/2226/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/2226/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/299413903",
    "html_url": "https://github.com/ethereum/solidity/issues/2226#issuecomment-299413903",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/2226",
    "id": 299413903,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI5OTQxMzkwMw==",
    "user": {
      "login": "axic",
      "id": 20340,
      "node_id": "MDQ6VXNlcjIwMzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/axic",
      "html_url": "https://github.com/axic",
      "followers_url": "https://api.github.com/users/axic/followers",
      "following_url": "https://api.github.com/users/axic/following{/other_user}",
      "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
      "organizations_url": "https://api.github.com/users/axic/orgs",
      "repos_url": "https://api.github.com/users/axic/repos",
      "events_url": "https://api.github.com/users/axic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/axic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-05T08:49:47Z",
    "updated_at": "2017-05-05T08:54:04Z",
    "author_association": "MEMBER",
    "body": "@SCBuergel a string is a dynamic ABI item and as such is encoded differently. The offset where the string starts in the calldata is the first parameter followed by the length and the actual string at the given offset:\r\n\r\n```\r\n91e145ef // sig\r\n0000000000000000000000000000000000000000000000000000000000000020 // offset for dynamic parameter\r\n0000000000000000000000000000000000000000000000000000000000000004 // length of string\r\n7465737400000000000000000000000000000000000000000000000000000000 // string\r\n```\r\n\r\nHere is the full specification for the ABI: https://github.com/ethereum/wiki/wiki/Ethereum-Contract-ABI",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/299413903/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
