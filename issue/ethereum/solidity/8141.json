{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/8141",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/8141/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/8141/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/8141/events",
  "html_url": "https://github.com/ethereum/solidity/issues/8141",
  "id": 549899688,
  "node_id": "MDU6SXNzdWU1NDk4OTk2ODg=",
  "number": 8141,
  "title": "False positive requirement for override?",
  "user": {
    "login": "nventuro",
    "id": 2530770,
    "node_id": "MDQ6VXNlcjI1MzA3NzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2530770?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/nventuro",
    "html_url": "https://github.com/nventuro",
    "followers_url": "https://api.github.com/users/nventuro/followers",
    "following_url": "https://api.github.com/users/nventuro/following{/other_user}",
    "gists_url": "https://api.github.com/users/nventuro/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/nventuro/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/nventuro/subscriptions",
    "organizations_url": "https://api.github.com/users/nventuro/orgs",
    "repos_url": "https://api.github.com/users/nventuro/repos",
    "events_url": "https://api.github.com/users/nventuro/events{/privacy}",
    "received_events_url": "https://api.github.com/users/nventuro/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 14,
  "created_at": "2020-01-15T00:41:11Z",
  "updated_at": "2020-03-04T18:24:01Z",
  "closed_at": "2020-01-28T16:43:11Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "I'm facing an issue which doesn't seem to be covered in the [inheritance documentation](https://solidity.readthedocs.io/en/v0.6.1/contracts.html#inheritance).\r\n\r\nConsider the following scenario:\r\n\r\n```solidity\r\npragma solidity ^0.6.0;\r\n\r\ncontract GrandParent {\r\n    uint256 internal a;\r\n    \r\n    function foo() virtual public {\r\n        a = 3;\r\n    }\r\n}\r\n\r\ncontract Parent is GrandParent {\r\n    function foo() override public {\r\n        a = 2;\r\n    }\r\n}\r\n\r\ncontract Child is Parent { }\r\n```\r\n\r\nThis compiles with no errors. However, if we perform the following change:\r\n\r\n```diff\r\n-contract Child is Parent { }\r\n+contract Child is Parent, GrandParent { }\r\n```\r\n\r\nThe following compiler error is emitted:\r\n```\r\nTypeError: Derived contract must override function \"foo\". Two or more base classes define function with same name and parameter types.\r\ncontract Child is GrandParent, Parent {\r\n^ (Relevant source part starts here and spans across multiple lines).\r\nDefinition in \"GrandParent\": \r\n    function foo() virtual public {\r\n    ^ (Relevant source part starts here and spans across multiple lines).\r\nDefinition in \"Parent\": \r\n    function foo() override public {\r\n    ^ (Relevant source part starts here and spans across multiple lines).\r\n```\r\n\r\nMy general understanding is as follows. If a contract inherits from multiple sources that all declare the same virtual function, it must then _explicitly_ do an override and select what implementation it wants for it. This used to happen automatically in 0.5.x, with the final implementation being the one of the last contract in the linearized inheritance graph (indeed the code compiles fine under 0.5.16), but with explicit overrides in 0.6.x this behavior is no longer allowed.\r\n\r\nHowever, the example shown above seems to be an edge case that should be allowed: the function _has_ been explicitly overridden: `Parent`'s `foo` is actually `GrandParent`'s `foo`, not a different one.\r\n\r\nIn particular, this causes issues when using the following pattern (which I've used extensively and found very useful):\r\n\r\n```solidity\r\ncontract A { } // define some base behavior\r\n\r\ncontract B is A { } // use A's behavior\r\n\r\ncontract C is A { } // modify A's behavior via overrides\r\n\r\ncontract D is B, C {} // use B, with A's behavior modified by C\r\n```",
  "closed_by": {
    "login": "chriseth",
    "id": 9073706,
    "node_id": "MDQ6VXNlcjkwNzM3MDY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/chriseth",
    "html_url": "https://github.com/chriseth",
    "followers_url": "https://api.github.com/users/chriseth/followers",
    "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
    "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
    "organizations_url": "https://api.github.com/users/chriseth/orgs",
    "repos_url": "https://api.github.com/users/chriseth/repos",
    "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
    "received_events_url": "https://api.github.com/users/chriseth/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/8141/reactions",
    "total_count": 3,
    "+1": 3,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/8141/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/574601811",
    "html_url": "https://github.com/ethereum/solidity/issues/8141#issuecomment-574601811",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/8141",
    "id": 574601811,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3NDYwMTgxMQ==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-01-15T10:40:21Z",
    "updated_at": "2020-01-15T10:40:21Z",
    "author_association": "MEMBER",
    "body": "Thanks for taking a deep look into the new override mechanisms! First, I want to assure you that we have discussed this and other edge cases at length during the design phase :)\r\n\r\nThe crucial point here is that while `GrandParent`'s `foo` has been overridden by `Parent`'s `foo`, you are adding an additional inheritance path by explicitly inheritnig from `GrantParent` again. I think it is important to make this distinction. It might be too easy to introduce errors: If the someone explicitly inherits from `GrandParent` again, they might not have noticed that this is already a base through `Parent`.\r\n\r\nThis is also covered in the documentation:\r\n\r\n\"... you have to specify all base contracts that define the same function and have not yet been overridden by another base contract (on some path through the inheritance graph)\"\r\n\r\nHere again, \"path through the inheritance graph\" is the important wording as opposed to the linearized inheritance list.\r\n\r\nYou are saying \"Parent's foo is actually GrandParent's foo, not a different on\". While this might be obivous to you in this simple example, the fact that we inherit again from GrandParent explicitly might suggest that this is not obvious to the author of a more complex contract.\r\n\r\nConcerning your pattern: Do you want to signal that `D` is a `B` to people who do not know that `C` is also a `B`? Can you give a more specific example?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/574601811/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/574683258",
    "html_url": "https://github.com/ethereum/solidity/issues/8141#issuecomment-574683258",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/8141",
    "id": 574683258,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3NDY4MzI1OA==",
    "user": {
      "login": "nventuro",
      "id": 2530770,
      "node_id": "MDQ6VXNlcjI1MzA3NzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2530770?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nventuro",
      "html_url": "https://github.com/nventuro",
      "followers_url": "https://api.github.com/users/nventuro/followers",
      "following_url": "https://api.github.com/users/nventuro/following{/other_user}",
      "gists_url": "https://api.github.com/users/nventuro/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nventuro/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nventuro/subscriptions",
      "organizations_url": "https://api.github.com/users/nventuro/orgs",
      "repos_url": "https://api.github.com/users/nventuro/repos",
      "events_url": "https://api.github.com/users/nventuro/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nventuro/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-01-15T14:27:28Z",
    "updated_at": "2020-01-15T14:27:28Z",
    "author_association": "CONTRIBUTOR",
    "body": ">Concerning your pattern: Do you want to signal that D is a B to people who do not know that C is also a B? Can you give a more specific example?\r\n\r\nNote that in the pattern C is not B, C is A.\r\n\r\nA simple use case is testing, where a base contract (let's call it `Time`) provides wrappers for `block.timestamp` and `block.number`, and all contracts in the system use these wrappers instead of the native global variables. During testing, a second contract (`MockedTime`) overrides these getters for storage reads, and provides methods to change the value the getters return, letting you simulate time passing on the EVM. To test a contract, you create a mock contract that inherits from it and `MockedTime`.\r\n\r\nNow, adding the explicit override might not be too bad for testing, but we also use it for a core feature of the [OpenZeppelin Contracts](https://github.com/OpenZeppelin/openzeppelin-contracts/): our [meta-transaction solution](https://docs.openzeppelin.com/contracts/2.x/gsn#receiving_a_relayed_call).\r\n\r\nIn meta-txs, the account that originates the transaction is not actually `msg.sender` but an account recovered from a signature. When writing a library however, it makes sense to have this complex sender recovery be opt-in: not every developer wants to use meta-transactions and this feature costs gas.\r\n\r\nWhat we did was make every contract in the library inherit from a contract called [`Context`](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/master/contracts/GSN/Context.sol#L19), which provides a trivial `msgSender()` function. All contracts call `msgSender()` instead of accessing `msg.sender`.\r\n\r\nMeta-tx support (we call this the [GSN](https://docs.openzeppelin.com/learn/sending-gasless-transactions)) can then be enabled by inheriting from [`GSNRecipient`](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/master/contracts/GSN/GSNRecipient.sol#L88), which will override `msgSender()` in favor of this more complex behavior, both in the user's contracts _and_ in any other inherited contracts:\r\n\r\n\r\n```solidity\r\ncontract Context {\r\n    function msgSender() internal view virtual returns(address) { \r\n         return msg.sender; \r\n    }\r\n}\r\n\r\ncontract ERC20 is Context {\r\n    function transfer(address recipient, uint256 amount) public { \r\n        _transfer(msgSender(), recipient, amount);\r\n    }\r\n}\r\n\r\ncontract GSNRecipient is Context {\r\n    function msgSender() internal view override returns(address) { \r\n        return computeGSNSender(); \r\n    }\r\n}\r\n\r\ncontract MyToken is ERC20, GSNRecipient {\r\n    // The ERC20 behavior is patched and now supports meta-txs\r\n    ...\r\n}\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/574683258/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/574867821",
    "html_url": "https://github.com/ethereum/solidity/issues/8141#issuecomment-574867821",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/8141",
    "id": 574867821,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3NDg2NzgyMQ==",
    "user": {
      "login": "ekpyron",
      "id": 1347491,
      "node_id": "MDQ6VXNlcjEzNDc0OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1347491?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ekpyron",
      "html_url": "https://github.com/ekpyron",
      "followers_url": "https://api.github.com/users/ekpyron/followers",
      "following_url": "https://api.github.com/users/ekpyron/following{/other_user}",
      "gists_url": "https://api.github.com/users/ekpyron/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ekpyron/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ekpyron/subscriptions",
      "organizations_url": "https://api.github.com/users/ekpyron/orgs",
      "repos_url": "https://api.github.com/users/ekpyron/repos",
      "events_url": "https://api.github.com/users/ekpyron/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ekpyron/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-01-15T21:37:30Z",
    "updated_at": "2020-01-15T21:37:30Z",
    "author_association": "MEMBER",
    "body": "Hm... this is quite an interesting use case... I'm not sure, if it's an option for you, but I find it noteworthy that the following alternative construction would be valid against our defined rules:\r\n\r\n```\r\ninterface Context { // or \"abstract contract Context\"\r\n    function msgSender() internal view returns(address);\r\n}\r\n\r\ncontract ERC20 is Context {\r\n    function transfer(address recipient, uint256 amount) public { \r\n        _transfer(msgSender(), recipient, amount);\r\n    }\r\n}\r\n\r\ncontract GSNRecipient is Context {\r\n    function msgSender() internal view override returns(address) { \r\n        return computeGSNSender(); \r\n    }\r\n}\r\n\r\ncontract RegularRecipient is Context {\r\n    function msgSender() internal view override returns(address) { \r\n        return msg.sender; \r\n    }\r\n}\r\n\r\ncontract MyToken is ERC20, GSNRecipient {\r\n    // ...\r\n}\r\n\r\ncontract MySecondToken is ERC20, RegularRecipient {\r\n    // ...\r\n}\r\n```\r\n\r\nThere's not much room between \"too strict\" and \"not strict enough\" here - I'm not sure on which side this case is...",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/574867821/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/577859202",
    "html_url": "https://github.com/ethereum/solidity/issues/8141#issuecomment-577859202",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/8141",
    "id": 577859202,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3Nzg1OTIwMg==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-01-23T20:22:06Z",
    "updated_at": "2020-01-23T20:22:06Z",
    "author_association": "MEMBER",
    "body": "@nventuro do you want to have a call about this?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/577859202/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/577864374",
    "html_url": "https://github.com/ethereum/solidity/issues/8141#issuecomment-577864374",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/8141",
    "id": 577864374,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3Nzg2NDM3NA==",
    "user": {
      "login": "nventuro",
      "id": 2530770,
      "node_id": "MDQ6VXNlcjI1MzA3NzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2530770?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nventuro",
      "html_url": "https://github.com/nventuro",
      "followers_url": "https://api.github.com/users/nventuro/followers",
      "following_url": "https://api.github.com/users/nventuro/following{/other_user}",
      "gists_url": "https://api.github.com/users/nventuro/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nventuro/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nventuro/subscriptions",
      "organizations_url": "https://api.github.com/users/nventuro/orgs",
      "repos_url": "https://api.github.com/users/nventuro/repos",
      "events_url": "https://api.github.com/users/nventuro/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nventuro/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-01-23T20:34:42Z",
    "updated_at": "2020-01-23T20:34:42Z",
    "author_association": "CONTRIBUTOR",
    "body": "I'd love to! We're discussing how to best handle migrating the OpenZeppelin Contracts library to 0.6 in https://github.com/OpenZeppelin/openzeppelin-contracts/pull/2063, and a key consideration is how to reduce the number of errors on diamond inheritance scenarios, and how to instruct users on what needs to be done when this happens.\r\n\r\nI have a lot of availability these days, so just send one or two invites my way and we'll work from there.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/577864374/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/579342795",
    "html_url": "https://github.com/ethereum/solidity/issues/8141#issuecomment-579342795",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/8141",
    "id": 579342795,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3OTM0Mjc5NQ==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-01-28T16:43:11Z",
    "updated_at": "2020-01-28T16:43:11Z",
    "author_association": "MEMBER",
    "body": "We could not really find a solution for this during the call. The agreement was that we will be looking for other methods to share code apart from inheritance, since inheritance usually assumes an \"is a\" relationship, which is not always the case. Contract templates might be a solution here.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/579342795/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/581304449",
    "html_url": "https://github.com/ethereum/solidity/issues/8141#issuecomment-581304449",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/8141",
    "id": 581304449,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU4MTMwNDQ0OQ==",
    "user": {
      "login": "ekpyron",
      "id": 1347491,
      "node_id": "MDQ6VXNlcjEzNDc0OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1347491?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ekpyron",
      "html_url": "https://github.com/ekpyron",
      "followers_url": "https://api.github.com/users/ekpyron/followers",
      "following_url": "https://api.github.com/users/ekpyron/following{/other_user}",
      "gists_url": "https://api.github.com/users/ekpyron/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ekpyron/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ekpyron/subscriptions",
      "organizations_url": "https://api.github.com/users/ekpyron/orgs",
      "repos_url": "https://api.github.com/users/ekpyron/repos",
      "events_url": "https://api.github.com/users/ekpyron/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ekpyron/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-02-03T08:54:57Z",
    "updated_at": "2020-03-04T12:51:37Z",
    "author_association": "MEMBER",
    "body": "I'm not sure if you discussed and disregarded the idea during your call, but one solution I could imagine that could solve this issue while still being sufficiently explicit (at least as far as I'm concerned) would be to allow contract-level overriding, as in:\r\n```\r\ncontract MySecondToken is ERC20, GSNRecipient override(Context) {\r\n}\r\n```\r\nThe effect of which could be defined as being equivalent to explicitly mentioning and overriding all overridable functions in ``Context`` while delegating to their implementations in ``GSNRecipient``. This would require ``GSNRecipient`` to implement *all* overridable functions in ``Context``. We could extend it further as ``override(Context in ERC20)``, i.e. require mentioning the direct base(s) containing the overridden functions. This is not perfect syntax-wise, but conceptually I wouldn't see a problem with it...\r\n\r\nEDIT: it could also be done on a per-function basis like ``contract C is ERC20, GSNRecipient override (ERC20.msgSender)``",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/581304449/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/594120124",
    "html_url": "https://github.com/ethereum/solidity/issues/8141#issuecomment-594120124",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/8141",
    "id": 594120124,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5NDEyMDEyNA==",
    "user": {
      "login": "k06a",
      "id": 702124,
      "node_id": "MDQ6VXNlcjcwMjEyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/702124?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/k06a",
      "html_url": "https://github.com/k06a",
      "followers_url": "https://api.github.com/users/k06a/followers",
      "following_url": "https://api.github.com/users/k06a/following{/other_user}",
      "gists_url": "https://api.github.com/users/k06a/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/k06a/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/k06a/subscriptions",
      "organizations_url": "https://api.github.com/users/k06a/orgs",
      "repos_url": "https://api.github.com/users/k06a/repos",
      "events_url": "https://api.github.com/users/k06a/events{/privacy}",
      "received_events_url": "https://api.github.com/users/k06a/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-03T19:16:33Z",
    "updated_at": "2020-03-03T19:18:05Z",
    "author_association": "NONE",
    "body": "What is the exact reason to have such powerful restrictions for `override` keyword? I am afraid it is over-protection for developers also breaking existing Solidity best practices and programming principles. I was pretty sure that language evolution should go hand in hand with leading libraries/solutions build using this language. Did you eve heard that a new C++ standard broke STL approach?\r\n\r\nMaybe let's try first to figure out what exactly are cases we wish to avoid and make more explicit? What errors we are trying to prevent with the new syntax.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/594120124/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/594394574",
    "html_url": "https://github.com/ethereum/solidity/issues/8141#issuecomment-594394574",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/8141",
    "id": 594394574,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5NDM5NDU3NA==",
    "user": {
      "login": "ekpyron",
      "id": 1347491,
      "node_id": "MDQ6VXNlcjEzNDc0OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1347491?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ekpyron",
      "html_url": "https://github.com/ekpyron",
      "followers_url": "https://api.github.com/users/ekpyron/followers",
      "following_url": "https://api.github.com/users/ekpyron/following{/other_user}",
      "gists_url": "https://api.github.com/users/ekpyron/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ekpyron/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ekpyron/subscriptions",
      "organizations_url": "https://api.github.com/users/ekpyron/orgs",
      "repos_url": "https://api.github.com/users/ekpyron/repos",
      "events_url": "https://api.github.com/users/ekpyron/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ekpyron/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-04T08:42:42Z",
    "updated_at": "2020-03-04T12:34:04Z",
    "author_association": "MEMBER",
    "body": "I'm not sure what \"powerful restrictions for the ``override`` keyword\" you are talking about. I'm also not sure what \"best practices\" the 0.6 changes are supposed to have broken.\r\n\r\nThe case for which we decided to require explicitness is the case where a contract inherits from multiple contracts that contain the same function, e.g. \r\n```\r\ncontract A { function f() public virtual {} }\r\ncontract B { function f() public virtual {} }\r\ncontract C is A, B { }\r\n```\r\nWhen calling ``C.f`` it is not immediately apparent, if it calls ``A.f`` or ``B.f``. Even if you are familiar with the C3-linearization and immediately assume it is ``B.f``, it can be worse: imagine ``B`` does not contain a function ``f`` initially and consequently you expect ``C.f`` to call ``A.f`` - but then you add a function ``f`` to ``B``, which silently changes what ``C.f`` does.\r\nNote that in the initial proposals for reworking inheritance, it was even planned to disallow inheriting the same function from different contracts entirely. In order *not* to break things too much, we *do* still allow this, but require to make it explicit in ``C`` which base function you want (by requiring you to override and delegate).\r\nIn the scenario above, when you add ``f`` to ``B``, then ``C`` would fail to compile until you add an explicit override, preventing a silent change in behavior.\r\n\r\nNow imagine ``C`` not only implicitly inherits ``f``, but overrides it.\r\n```\r\ncontract A { function f() public virtual {} }\r\ncontract B { }\r\ncontract C is A, B { function f() public override {} }\r\n```\r\nIf you now add a function ``f`` to ``B`` and ``B`` relies on it being properly implemented with respect to some requirements, this can easily result in the behavior of ``B`` to be broken in ``C``, since ``C`` so far only had to implement ``f`` to satisfy ``A``. Hence you need to explicitly vouch for your implementation of ``f`` in ``C`` to meet the requirements of ``A.f`` and of ``B.f``, which again prevents things from silently breaking.\r\n\r\nIn general, none of the stricter requirements for inheritance were introduced out of the blue - and there are no cases, in which something that could be done prior to 0.6 cannot still be done after 0.6, if you make explicit what you are doing.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/594394574/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/594490145",
    "html_url": "https://github.com/ethereum/solidity/issues/8141#issuecomment-594490145",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/8141",
    "id": 594490145,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5NDQ5MDE0NQ==",
    "user": {
      "login": "k06a",
      "id": 702124,
      "node_id": "MDQ6VXNlcjcwMjEyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/702124?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/k06a",
      "html_url": "https://github.com/k06a",
      "followers_url": "https://api.github.com/users/k06a/followers",
      "following_url": "https://api.github.com/users/k06a/following{/other_user}",
      "gists_url": "https://api.github.com/users/k06a/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/k06a/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/k06a/subscriptions",
      "organizations_url": "https://api.github.com/users/k06a/orgs",
      "repos_url": "https://api.github.com/users/k06a/repos",
      "events_url": "https://api.github.com/users/k06a/events{/privacy}",
      "received_events_url": "https://api.github.com/users/k06a/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-04T12:24:17Z",
    "updated_at": "2020-03-04T12:24:17Z",
    "author_association": "NONE",
    "body": "I believe this should produce a compilation error in the \"new safer version of Solidity\":\r\n```\r\ncontract A { function f() public {} }\r\ncontract B { function f() public {} }\r\ncontract C is A, B { }\r\n```\r\n\r\n**Just allow `override` only `virtual` methods.** – This would not break the existing things.\r\n\r\nTrying to define _explicit overriding_ over _implicit linear hierarchy_ breaks, for example, ERC20 family of contracts in OZ library, which design was pretty convenient and safe.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/594490145/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/594500058",
    "html_url": "https://github.com/ethereum/solidity/issues/8141#issuecomment-594500058",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/8141",
    "id": 594500058,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5NDUwMDA1OA==",
    "user": {
      "login": "ekpyron",
      "id": 1347491,
      "node_id": "MDQ6VXNlcjEzNDc0OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1347491?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ekpyron",
      "html_url": "https://github.com/ekpyron",
      "followers_url": "https://api.github.com/users/ekpyron/followers",
      "following_url": "https://api.github.com/users/ekpyron/following{/other_user}",
      "gists_url": "https://api.github.com/users/ekpyron/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ekpyron/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ekpyron/subscriptions",
      "organizations_url": "https://api.github.com/users/ekpyron/orgs",
      "repos_url": "https://api.github.com/users/ekpyron/repos",
      "events_url": "https://api.github.com/users/ekpyron/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ekpyron/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-04T12:46:59Z",
    "updated_at": "2020-03-04T12:46:59Z",
    "author_association": "MEMBER",
    "body": "Actually, I did forget the ``virtual`` keywords in my previous post. We *do* require a function to be ``virtual`` in order to override it.\r\nI guess you're idea would be that:\r\n```\r\ncontract A { function f() public {} }\r\ncontract B { function f() public {} }\r\ncontract C is A, B { }\r\n```\r\nshould be an error due to ``A.f`` not being virtual and ``B.f`` overriding it. But in\r\n```\r\ncontract A { function f() public virtual {} }\r\ncontract B { function f() public [virtual] {} }\r\ncontract C is A, B { }\r\n```\r\nThe problems I tried to describe above still exist. Also you can't mark ``B.f`` override, since without the context in ``C``, it doesn't - however in ``C`` it then does.\r\n\r\nI see the issue with the ERC20 family of contracts in OZ, but moving back to just allowing ambiguous inheritance that relies on the linearization is not a good way to solve the issue. What could be considered is allowing some kind of contract-level overriding like https://github.com/ethereum/solidity/issues/8141#issuecomment-581304449 in the future in solidity, if we can come up with a nice specification for that - or to employ a solution like https://github.com/ethereum/solidity/issues/8141#issuecomment-574867821 in OZ, which is perfectly possible.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/594500058/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/594511730",
    "html_url": "https://github.com/ethereum/solidity/issues/8141#issuecomment-594511730",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/8141",
    "id": 594511730,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5NDUxMTczMA==",
    "user": {
      "login": "k06a",
      "id": 702124,
      "node_id": "MDQ6VXNlcjcwMjEyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/702124?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/k06a",
      "html_url": "https://github.com/k06a",
      "followers_url": "https://api.github.com/users/k06a/followers",
      "following_url": "https://api.github.com/users/k06a/following{/other_user}",
      "gists_url": "https://api.github.com/users/k06a/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/k06a/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/k06a/subscriptions",
      "organizations_url": "https://api.github.com/users/k06a/orgs",
      "repos_url": "https://api.github.com/users/k06a/repos",
      "events_url": "https://api.github.com/users/k06a/events{/privacy}",
      "received_events_url": "https://api.github.com/users/k06a/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-04T13:09:23Z",
    "updated_at": "2020-03-04T13:15:30Z",
    "author_association": "NONE",
    "body": "The following example should also fail:\r\n```\r\ncontract A { function f() public virtual {} }\r\ncontract B { function f() public virtual {} }\r\ncontract C is A, B { }\r\n```\r\nSince both virtual methods are not abstract. To make it work you should derive both from some common ansector with `virtual` function `f()` to make sure it's the same API, for example we should be able to specify new implementation:\r\n```\r\ncontract Z { function f() public virtual {} }\r\ncontract A is Z { function f() public override {} }\r\ncontract B is Z { function f() public override {} }\r\ncontract C is A, B { function f() public override { A.f(); B.f(); } }\r\n```\r\n\r\nMaybe it's better to decide in runtime, than on compile time?\r\nThis would allow things like this:\r\n```\r\ncontract C is A, B {\r\n    function f() public override returns(uint256) { return A.f() + B.f(); }\r\n}\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/594511730/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/594525439",
    "html_url": "https://github.com/ethereum/solidity/issues/8141#issuecomment-594525439",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/8141",
    "id": 594525439,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5NDUyNTQzOQ==",
    "user": {
      "login": "ekpyron",
      "id": 1347491,
      "node_id": "MDQ6VXNlcjEzNDc0OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1347491?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ekpyron",
      "html_url": "https://github.com/ekpyron",
      "followers_url": "https://api.github.com/users/ekpyron/followers",
      "following_url": "https://api.github.com/users/ekpyron/following{/other_user}",
      "gists_url": "https://api.github.com/users/ekpyron/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ekpyron/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ekpyron/subscriptions",
      "organizations_url": "https://api.github.com/users/ekpyron/orgs",
      "repos_url": "https://api.github.com/users/ekpyron/repos",
      "events_url": "https://api.github.com/users/ekpyron/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ekpyron/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-04T13:34:54Z",
    "updated_at": "2020-03-04T13:34:54Z",
    "author_association": "MEMBER",
    "body": "Well...\r\n```\r\ncontract A { function f() public virtual {} }\r\ncontract B { function f() public virtual {} }\r\ncontract C is A, B { }\r\n```\r\ncurrently *does* fail.\r\n\r\nAnd the following *is* allowed:\r\n```\r\ncontract Z { function f() public virtual {} }\r\ncontract A is Z { function f() public override virtual {} }\r\ncontract B is Z { function f() public override virtual {} }\r\ncontract C is A, B { function f() public override(A, B) { A.f(); B.f(); } }\r\n```\r\nYou just have to make explicit that you're not missing a base, which I'd consider a minor inconvenience compared to the benefit. Having a common base contract/interface makes it *more likely* that nothing will go wrong, but it doesn't prevent it (even though both ``A``s ``f`` and ``B``s ``f`` implement ``Z.f``, they might still impose different requirements on their own ``f``s - after all they have overridden it).\r\n\r\nNot sure what you mean by \"decide in runtime\". Runtime-type-information are generally infeasible due to their overhead, but I'm not sure how this relates to the issue.\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/594525439/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/594727506",
    "html_url": "https://github.com/ethereum/solidity/issues/8141#issuecomment-594727506",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/8141",
    "id": 594727506,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5NDcyNzUwNg==",
    "user": {
      "login": "k06a",
      "id": 702124,
      "node_id": "MDQ6VXNlcjcwMjEyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/702124?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/k06a",
      "html_url": "https://github.com/k06a",
      "followers_url": "https://api.github.com/users/k06a/followers",
      "following_url": "https://api.github.com/users/k06a/following{/other_user}",
      "gists_url": "https://api.github.com/users/k06a/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/k06a/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/k06a/subscriptions",
      "organizations_url": "https://api.github.com/users/k06a/orgs",
      "repos_url": "https://api.github.com/users/k06a/repos",
      "events_url": "https://api.github.com/users/k06a/events{/privacy}",
      "received_events_url": "https://api.github.com/users/k06a/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-04T18:24:00Z",
    "updated_at": "2020-03-04T18:24:00Z",
    "author_association": "NONE",
    "body": "@ekpyron I will return with a better description :)",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/594727506/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
