{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/14088",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/14088/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/14088/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/14088/events",
  "html_url": "https://github.com/ethereum/solidity/issues/14088",
  "id": 1652908673,
  "node_id": "I_kwDOAm_5kc5ihWKB",
  "number": 14088,
  "title": "Getting compilation error for correct code. Error 2449: Definition of base has to precede definition of derived contract",
  "user": {
    "login": "IgorKoval",
    "id": 15470414,
    "node_id": "MDQ6VXNlcjE1NDcwNDE0",
    "avatar_url": "https://avatars.githubusercontent.com/u/15470414?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/IgorKoval",
    "html_url": "https://github.com/IgorKoval",
    "followers_url": "https://api.github.com/users/IgorKoval/followers",
    "following_url": "https://api.github.com/users/IgorKoval/following{/other_user}",
    "gists_url": "https://api.github.com/users/IgorKoval/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/IgorKoval/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/IgorKoval/subscriptions",
    "organizations_url": "https://api.github.com/users/IgorKoval/orgs",
    "repos_url": "https://api.github.com/users/IgorKoval/repos",
    "events_url": "https://api.github.com/users/IgorKoval/events{/privacy}",
    "received_events_url": "https://api.github.com/users/IgorKoval/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2023-04-03T23:25:24Z",
  "updated_at": "2023-04-05T09:58:31Z",
  "closed_at": "2023-04-04T10:44:16Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "## Description\r\n\r\nGetting compilation error for correct code.\r\n\r\n## Environment\r\n\r\n- Compiler version: Version: 0.8.19-develop.2023.4.3+commit.7dd6d404.Linux.g++\r\n\r\n## Steps to Reproduce\r\n\r\nFile tree.sol\r\n```solidity\r\nimport \"modifiers.sol\";\r\ncontract Tree is Modifiers {\r\n}\r\n```\r\n\r\nFile modifiers.sol\r\n```solidity\r\nimport \"tree.sol\";\r\nabstract contract Modifiers {\r\n}\r\n```\r\n\r\nCommand line:\r\n`solc tree.sol`\r\n\r\nOutput:\r\n```\r\nError: Definition of base has to precede definition of derived contract\r\n --> tree.sol:3:18:\r\n  |\r\n2 | contract Tree is Modifiers {\r\n  |                  ^^^^^^^^^\r\n```",
  "closed_by": {
    "login": "r0qs",
    "id": 457348,
    "node_id": "MDQ6VXNlcjQ1NzM0OA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/457348?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/r0qs",
    "html_url": "https://github.com/r0qs",
    "followers_url": "https://api.github.com/users/r0qs/followers",
    "following_url": "https://api.github.com/users/r0qs/following{/other_user}",
    "gists_url": "https://api.github.com/users/r0qs/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/r0qs/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/r0qs/subscriptions",
    "organizations_url": "https://api.github.com/users/r0qs/orgs",
    "repos_url": "https://api.github.com/users/r0qs/repos",
    "events_url": "https://api.github.com/users/r0qs/events{/privacy}",
    "received_events_url": "https://api.github.com/users/r0qs/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/14088/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/14088/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1495745816",
    "html_url": "https://github.com/ethereum/solidity/issues/14088#issuecomment-1495745816",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/14088",
    "id": 1495745816,
    "node_id": "IC_kwDOAm_5kc5ZJ0UY",
    "user": {
      "login": "r0qs",
      "id": 457348,
      "node_id": "MDQ6VXNlcjQ1NzM0OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/457348?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/r0qs",
      "html_url": "https://github.com/r0qs",
      "followers_url": "https://api.github.com/users/r0qs/followers",
      "following_url": "https://api.github.com/users/r0qs/following{/other_user}",
      "gists_url": "https://api.github.com/users/r0qs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/r0qs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/r0qs/subscriptions",
      "organizations_url": "https://api.github.com/users/r0qs/orgs",
      "repos_url": "https://api.github.com/users/r0qs/repos",
      "events_url": "https://api.github.com/users/r0qs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/r0qs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-04T10:44:16Z",
    "updated_at": "2023-04-04T10:44:58Z",
    "author_association": "MEMBER",
    "body": "Hi @IgorKoval, the code is not correct. Please see the documentation: https://docs.soliditylang.org/en/v0.8.19/contracts.html#multiple-inheritance-and-linearization\r\n\r\nYou have a cyclic dependency, thus, the code will not compile. Why do you have imported `tree.sol` in the `modifiers.sol`? You should remove it from there, which I believe is what you want to achieve, and the code will compile.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1495745816/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1496619623",
    "html_url": "https://github.com/ethereum/solidity/issues/14088#issuecomment-1496619623",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/14088",
    "id": 1496619623,
    "node_id": "IC_kwDOAm_5kc5ZNJpn",
    "user": {
      "login": "IgorKoval",
      "id": 15470414,
      "node_id": "MDQ6VXNlcjE1NDcwNDE0",
      "avatar_url": "https://avatars.githubusercontent.com/u/15470414?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/IgorKoval",
      "html_url": "https://github.com/IgorKoval",
      "followers_url": "https://api.github.com/users/IgorKoval/followers",
      "following_url": "https://api.github.com/users/IgorKoval/following{/other_user}",
      "gists_url": "https://api.github.com/users/IgorKoval/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/IgorKoval/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/IgorKoval/subscriptions",
      "organizations_url": "https://api.github.com/users/IgorKoval/orgs",
      "repos_url": "https://api.github.com/users/IgorKoval/repos",
      "events_url": "https://api.github.com/users/IgorKoval/events{/privacy}",
      "received_events_url": "https://api.github.com/users/IgorKoval/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-04T21:19:24Z",
    "updated_at": "2023-04-04T21:19:24Z",
    "author_association": "NONE",
    "body": "I don't have a cyclic dependency in contracts. It's ok to import files from each other.\r\nLook, these is compiled.\r\n`solc tree.sol`\r\nFile tree.sol\r\n```\r\nimport \"modifiers.sol\";\r\ncontract Tree {\r\n}\r\n```\r\nFile modifiers.sol\r\n```\r\nimport \"tree.sol\";\r\nabstract contract Modifiers is Tree {\r\n}\r\n```\r\nBut this https://github.com/ethereum/solidity/issues/14088#issue-1652908673 isn't compiled.\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1496619623/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1497226897",
    "html_url": "https://github.com/ethereum/solidity/issues/14088#issuecomment-1497226897",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/14088",
    "id": 1497226897,
    "node_id": "IC_kwDOAm_5kc5ZPd6R",
    "user": {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-05T09:58:31Z",
    "updated_at": "2023-04-05T09:58:31Z",
    "author_association": "MEMBER",
    "body": "You'll get the same error if you try this:\r\n```solidity\r\ncontract Tree is Modifiers {}\r\n\r\nabstract contract Modifiers {}\r\n```\r\n\r\nThe problem is that the compiler encounters `Tree` before `Modifiers`. Cyclic imports in general are allowed but the gotcha is that they may lead to contracts being processed in such an order.\r\n\r\nIn this simple example it's clear that the compiler could do better, but in a general case it might not be possible without having to jump back and forth between the input files. Currently the compiler has to be able to compile the whole file in one go. It might be possible to change but it would complicate the compilation, but the question is if it's even worth it. Can you give an example of code where this is an actual problem that can't be resolved by removing cyclic imports or reordering declarations?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1497226897/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
