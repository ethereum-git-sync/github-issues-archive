{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/424",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/424/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/424/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/424/events",
  "html_url": "https://github.com/ethereum/solidity/issues/424",
  "id": 139699261,
  "node_id": "MDU6SXNzdWUxMzk2OTkyNjE=",
  "number": 424,
  "title": "Odd functionality between web3 and .sol SHA3",
  "user": {
    "login": "drewstone",
    "id": 13153687,
    "node_id": "MDQ6VXNlcjEzMTUzNjg3",
    "avatar_url": "https://avatars.githubusercontent.com/u/13153687?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/drewstone",
    "html_url": "https://github.com/drewstone",
    "followers_url": "https://api.github.com/users/drewstone/followers",
    "following_url": "https://api.github.com/users/drewstone/following{/other_user}",
    "gists_url": "https://api.github.com/users/drewstone/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/drewstone/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/drewstone/subscriptions",
    "organizations_url": "https://api.github.com/users/drewstone/orgs",
    "repos_url": "https://api.github.com/users/drewstone/repos",
    "events_url": "https://api.github.com/users/drewstone/events{/privacy}",
    "received_events_url": "https://api.github.com/users/drewstone/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 249074435,
      "node_id": "MDU6TGFiZWwyNDkwNzQ0MzU=",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/bug%20:bug:",
      "name": "bug :bug:",
      "color": "fc1313",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2016-03-09T20:59:36Z",
  "updated_at": "2016-03-10T16:11:11Z",
  "closed_at": "2016-03-10T16:11:07Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "It would help to have clear documentation on the different results that arise when computing sha3 hashes of different types in solidity. Solidity sha on multiple arguments of the same type doesn't work correctly as well.\n\nTo get the same output from these inputs into the web3.sha3 function, I had to use an input of type bytes for the function `compute_sha`. Using bytes32 as the type of `input` returns a different hash value as does changing the input into any different type.\n\n```\nfunction compute_sha(bytes input) returns (bytes32 result) {\n       return sha3(input);\n}\n```\n\n``` javascript\nvar hash = \"0x\" + web3.sha3(\"secret\") // 0x65462b0520ef7d3df61b9992ed3bea0c56ead753be7c8b3614e0ce01e4cac41b\nvar hash_of_hash = \"0x\" + web3.sha3(hash, {encoding: \"hex\"}) // 0x2ed293efa90dd457a302c46949588d43099e0897bccde03115db594d0ba62445\n\nmyContract.compute_sha.call(\"secret\") // 0x65462b0520ef7d3df61b9992ed3bea0c56ead753be7c8b3614e0ce01e4cac41b\nmyContract.compute_sha.call(hash) // 0x2ed293efa90dd457a302c46949588d43099e0897bccde03115db594d0ba62445\n```\n\nAdditionally, it doesn't appear that web3.sha3 has functionality for computing the hash over multiple arguments. Even so, computing the hash of multiple arguments of type bytes in solidity still only returns the hash of the first argument. From:\n\n```\nfunction sha_args(bytes input, bytes extra) returns (bytes32 result) {\n      return sha3(input, extra)\n}\n```\n\n``` javascript\nmyContract.sha_args.call(\"secret\",\"10\") // 0x65462b0520ef7d3df61b9992ed3bea0c56ead753be7c8b3614e0ce01e4cac41b\nmyContract.compute_sha.call(\"secret\") // 0x65462b0520ef7d3df61b9992ed3bea0c56ead753be7c8b3614e0ce01e4cac41b\n```\n",
  "closed_by": {
    "login": "chriseth",
    "id": 9073706,
    "node_id": "MDQ6VXNlcjkwNzM3MDY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/chriseth",
    "html_url": "https://github.com/chriseth",
    "followers_url": "https://api.github.com/users/chriseth/followers",
    "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
    "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
    "organizations_url": "https://api.github.com/users/chriseth/orgs",
    "repos_url": "https://api.github.com/users/chriseth/repos",
    "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
    "received_events_url": "https://api.github.com/users/chriseth/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/424/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/424/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/194506153",
    "html_url": "https://github.com/ethereum/solidity/issues/424#issuecomment-194506153",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/424",
    "id": 194506153,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE5NDUwNjE1Mw==",
    "user": {
      "login": "VoR0220",
      "id": 7756785,
      "node_id": "MDQ6VXNlcjc3NTY3ODU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7756785?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/VoR0220",
      "html_url": "https://github.com/VoR0220",
      "followers_url": "https://api.github.com/users/VoR0220/followers",
      "following_url": "https://api.github.com/users/VoR0220/following{/other_user}",
      "gists_url": "https://api.github.com/users/VoR0220/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/VoR0220/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/VoR0220/subscriptions",
      "organizations_url": "https://api.github.com/users/VoR0220/orgs",
      "repos_url": "https://api.github.com/users/VoR0220/repos",
      "events_url": "https://api.github.com/users/VoR0220/events{/privacy}",
      "received_events_url": "https://api.github.com/users/VoR0220/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-03-09T21:04:33Z",
    "updated_at": "2016-03-09T21:04:33Z",
    "author_association": "MEMBER",
    "body": "This is a known issue and we have it in mind that it needs fixing. Labeling bug. \n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/194506153/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/194928829",
    "html_url": "https://github.com/ethereum/solidity/issues/424#issuecomment-194928829",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/424",
    "id": 194928829,
    "node_id": "MDEyOklzc3VlQ29tbWVudDE5NDkyODgyOQ==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-03-10T16:11:07Z",
    "updated_at": "2016-03-10T16:11:07Z",
    "author_association": "MEMBER",
    "body": "Thanks for reporting, but these issues all seem to be coming from web3.js.\n- Solidity has documentation about how mulitple arguments are encoded: https://solidity.readthedocs.org/en/latest/units-and-global-variables.html?highlight=sha3#mathematical-and-cryptographic-functions\n- the problem with `sha_args.call(\"secret\", \"10\")` seems to be a problem with how `\"10\"` is encoded, because if get a different result if you use `(\"secret\", \"x10\")`.\n\nPlease file a bug in web3.js.\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/194928829/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
