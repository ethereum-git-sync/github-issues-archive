{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/12622",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/12622/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/12622/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/12622/events",
  "html_url": "https://github.com/ethereum/solidity/issues/12622",
  "id": 1123041449,
  "node_id": "I_kwDOAm_5kc5C8ECp",
  "number": 12622,
  "title": "Explicit downcast does not work for inherited contracts/interfaces.",
  "user": {
    "login": "k06a",
    "id": 702124,
    "node_id": "MDQ6VXNlcjcwMjEyNA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/702124?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/k06a",
    "html_url": "https://github.com/k06a",
    "followers_url": "https://api.github.com/users/k06a/followers",
    "following_url": "https://api.github.com/users/k06a/following{/other_user}",
    "gists_url": "https://api.github.com/users/k06a/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/k06a/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/k06a/subscriptions",
    "organizations_url": "https://api.github.com/users/k06a/orgs",
    "repos_url": "https://api.github.com/users/k06a/repos",
    "events_url": "https://api.github.com/users/k06a/events{/privacy}",
    "received_events_url": "https://api.github.com/users/k06a/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 785717317,
      "node_id": "MDU6TGFiZWw3ODU3MTczMTc=",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/language%20design%20:rage4:",
      "name": "language design :rage4:",
      "color": "9d76d3",
      "default": false,
      "description": "Any changes to the language, e.g. new features"
    },
    {
      "id": 4438006499,
      "node_id": "LA_kwDOAm_5kc8AAAABCIaa4w",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/low%20effort",
      "name": "low effort",
      "color": "ffb1fa",
      "default": false,
      "description": "There is not much implementation work to be done. The task is very easy or tiny."
    },
    {
      "id": 4438157609,
      "node_id": "LA_kwDOAm_5kc8AAAABCIjpKQ",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/low%20impact",
      "name": "low impact",
      "color": "001dff",
      "default": false,
      "description": "Changes are not very noticeable or potential benefits are limited."
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 24,
  "created_at": "2022-02-03T12:43:09Z",
  "updated_at": "2022-09-14T14:38:58Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "## Description\r\n\r\nExplicit downcast does not work for inherited contracts/interfaces.\r\n\r\nImagine you have the following interface hierarchy:\r\n```solidity\r\ninterface IFoo {}\r\ninterface IBar is IFoo {}\r\n```\r\n\r\nWe have the following behavior now:\r\n- Upcasts works with **implicit** type casts:\r\n\r\n    ```solidity\r\n    IBar bar;\r\n    IFoo foo = bar;\r\n    ```\r\n\r\n- Downcast doesn't work even with **explicit** type casts:\r\n\r\n    ```solidity\r\n    IFoo foo;\r\n    IBar bar = IBar(foo);\r\n    ```\r\n\r\n- We are required to cast over `address`:\r\n\r\n    ```solidity\r\n    IFoo foo;\r\n    IBar bar = IBar(address(foo));\r\n    ```\r\n\r\n## Environment\r\n\r\n- Compiler version: 0.8.11\r\n- Framework/IDE (e.g. Truffle or Remix): Remix, Truffle, Hardhat\r\n\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/12622/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/12622/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1029213697",
    "html_url": "https://github.com/ethereum/solidity/issues/12622#issuecomment-1029213697",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/12622",
    "id": 1029213697,
    "node_id": "IC_kwDOAm_5kc49WI4B",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-03T17:15:05Z",
    "updated_at": "2022-02-03T17:15:05Z",
    "author_association": "MEMBER",
    "body": "I'm not sure we should change the current behaviour. The cast from IFoo to IBar is wrong. It may be \"less wrong\" than casting to address or casting to a completely unrelated contract, but it is still wrong.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1029213697/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1029223346",
    "html_url": "https://github.com/ethereum/solidity/issues/12622#issuecomment-1029223346",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/12622",
    "id": 1029223346,
    "node_id": "IC_kwDOAm_5kc49WLOy",
    "user": {
      "login": "k06a",
      "id": 702124,
      "node_id": "MDQ6VXNlcjcwMjEyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/702124?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/k06a",
      "html_url": "https://github.com/k06a",
      "followers_url": "https://api.github.com/users/k06a/followers",
      "following_url": "https://api.github.com/users/k06a/following{/other_user}",
      "gists_url": "https://api.github.com/users/k06a/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/k06a/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/k06a/subscriptions",
      "organizations_url": "https://api.github.com/users/k06a/orgs",
      "repos_url": "https://api.github.com/users/k06a/repos",
      "events_url": "https://api.github.com/users/k06a/events{/privacy}",
      "received_events_url": "https://api.github.com/users/k06a/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-03T17:24:43Z",
    "updated_at": "2022-02-03T17:24:43Z",
    "author_association": "NONE",
    "body": "@chriseth but this is what happens in a lot of projects and that's why we need **explicit** cast - to show that developer is understanding the risk. Multiple programming languages allow such **explicit** casting, that's why I advocate Solidity should allow too.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1029223346/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1029230284",
    "html_url": "https://github.com/ethereum/solidity/issues/12622#issuecomment-1029230284",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/12622",
    "id": 1029230284,
    "node_id": "IC_kwDOAm_5kc49WM7M",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-03T17:32:20Z",
    "updated_at": "2022-02-03T17:32:20Z",
    "author_association": "MEMBER",
    "body": "Can you provide some pointers to where this conversion across address is used to convert to a derived contract?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1029230284/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1029257040",
    "html_url": "https://github.com/ethereum/solidity/issues/12622#issuecomment-1029257040",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/12622",
    "id": 1029257040,
    "node_id": "IC_kwDOAm_5kc49WTdQ",
    "user": {
      "login": "k06a",
      "id": 702124,
      "node_id": "MDQ6VXNlcjcwMjEyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/702124?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/k06a",
      "html_url": "https://github.com/k06a",
      "followers_url": "https://api.github.com/users/k06a/followers",
      "following_url": "https://api.github.com/users/k06a/following{/other_user}",
      "gists_url": "https://api.github.com/users/k06a/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/k06a/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/k06a/subscriptions",
      "organizations_url": "https://api.github.com/users/k06a/orgs",
      "repos_url": "https://api.github.com/users/k06a/repos",
      "events_url": "https://api.github.com/users/k06a/events{/privacy}",
      "received_events_url": "https://api.github.com/users/k06a/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-03T18:03:33Z",
    "updated_at": "2022-02-03T18:03:33Z",
    "author_association": "NONE",
    "body": "For example I can't have `IExtendedERC20` instead of `IERC20` in argument:\r\n```solidity\r\ninterface IMarket {\r\n    function someAction(IERC20 token, uint256 amount) external;\r\n}\r\n\r\ncontract MyMarket is IMarket {\r\n    function someAction(IExtendedERC20 token, uint256 amount) external {}\r\n}\r\n```\r\n\r\nI am forced to have `IERC20`:\r\n```solidity\r\nfunction someAction(IERC20 token, uint256 amount) external {\r\n    IExtendedERC20(address(token)).extendedMethod();\r\n}\r\n```\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1029257040/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1029475831",
    "html_url": "https://github.com/ethereum/solidity/issues/12622#issuecomment-1029475831",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/12622",
    "id": 1029475831,
    "node_id": "IC_kwDOAm_5kc49XI33",
    "user": {
      "login": "ekpyron",
      "id": 1347491,
      "node_id": "MDQ6VXNlcjEzNDc0OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1347491?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ekpyron",
      "html_url": "https://github.com/ekpyron",
      "followers_url": "https://api.github.com/users/ekpyron/followers",
      "following_url": "https://api.github.com/users/ekpyron/following{/other_user}",
      "gists_url": "https://api.github.com/users/ekpyron/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ekpyron/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ekpyron/subscriptions",
      "organizations_url": "https://api.github.com/users/ekpyron/orgs",
      "repos_url": "https://api.github.com/users/ekpyron/repos",
      "events_url": "https://api.github.com/users/ekpyron/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ekpyron/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-03T22:53:12Z",
    "updated_at": "2022-02-03T22:54:01Z",
    "author_association": "MEMBER",
    "body": "But even in this example, I'd actually agree with @chriseth - since ``IMarket`` defines the interface function as taking ``IERC20``, every implementation will have to allow for the possibility that ``someAction`` is called with an arbitrary ``IERC20`` token... that's pretty much the promise you give by implementing ``IMarket`` - if my implementation of ``someAction`` will break for anything that's not a ``IExtendedERC20`` token, then it's not really a valid implementation of ``IMarket.someAction``...\r\nOr was this just brevity in the example and you mean something like this?\r\n```solidity\r\nfunction someAction(IERC20_and_IERC165 token, uint256 amount) external {\r\n  if (token.supportsInterface(type(IExtendedERC20).interfaceId)) {\r\n      IExtendedERC20(address(token)).extendedMethod();\r\n  }\r\n}\r\n```\r\nThat's a case in which I guess such a cast would be valid, but since without some additional hoops like this, this is actually dangerous, maybe it's not so bad that this requires a verbose cast in the end...\r\n\r\nThe danger in a direct explicit cast is that it might suggest that there is actually some kind of type-checking happening there and you might easily be tricked into expecting that the cast reverts if the type doesn't actually match - but that's not the case...",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1029475831/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1029504880",
    "html_url": "https://github.com/ethereum/solidity/issues/12622#issuecomment-1029504880",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/12622",
    "id": 1029504880,
    "node_id": "IC_kwDOAm_5kc49XP9w",
    "user": {
      "login": "k06a",
      "id": 702124,
      "node_id": "MDQ6VXNlcjcwMjEyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/702124?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/k06a",
      "html_url": "https://github.com/k06a",
      "followers_url": "https://api.github.com/users/k06a/followers",
      "following_url": "https://api.github.com/users/k06a/following{/other_user}",
      "gists_url": "https://api.github.com/users/k06a/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/k06a/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/k06a/subscriptions",
      "organizations_url": "https://api.github.com/users/k06a/orgs",
      "repos_url": "https://api.github.com/users/k06a/repos",
      "events_url": "https://api.github.com/users/k06a/events{/privacy}",
      "received_events_url": "https://api.github.com/users/k06a/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-03T23:42:41Z",
    "updated_at": "2022-02-03T23:44:00Z",
    "author_association": "NONE",
    "body": "My example makes more sense if there is a contract hierarchy instead of interfaces:\r\n```solidity\r\ncontract Aminal {}\r\ncontract Bird is Animal {}\r\n\r\ncontract AnimalMover {\r\n    function move(Animal animal, uint256 amount) external {}\r\n}\r\n\r\ncontract BirdMover is AnimalMover {\r\n    function move(Bird token, uint256 amount) external {}\r\n}\r\n```\r\n\r\nI will try to provide a more realistic example soon.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1029504880/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1029506263",
    "html_url": "https://github.com/ethereum/solidity/issues/12622#issuecomment-1029506263",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/12622",
    "id": 1029506263,
    "node_id": "IC_kwDOAm_5kc49XQTX",
    "user": {
      "login": "k06a",
      "id": 702124,
      "node_id": "MDQ6VXNlcjcwMjEyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/702124?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/k06a",
      "html_url": "https://github.com/k06a",
      "followers_url": "https://api.github.com/users/k06a/followers",
      "following_url": "https://api.github.com/users/k06a/following{/other_user}",
      "gists_url": "https://api.github.com/users/k06a/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/k06a/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/k06a/subscriptions",
      "organizations_url": "https://api.github.com/users/k06a/orgs",
      "repos_url": "https://api.github.com/users/k06a/repos",
      "events_url": "https://api.github.com/users/k06a/events{/privacy}",
      "received_events_url": "https://api.github.com/users/k06a/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-03T23:45:49Z",
    "updated_at": "2022-02-03T23:51:48Z",
    "author_association": "NONE",
    "body": "Here is a huge discussion on downcasting: https://softwareengineering.stackexchange.com/questions/366592/what-is-a-proper-use-of-downcasting",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1029506263/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1029844031",
    "html_url": "https://github.com/ethereum/solidity/issues/12622#issuecomment-1029844031",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/12622",
    "id": 1029844031,
    "node_id": "IC_kwDOAm_5kc49Yiw_",
    "user": {
      "login": "ekpyron",
      "id": 1347491,
      "node_id": "MDQ6VXNlcjEzNDc0OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1347491?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ekpyron",
      "html_url": "https://github.com/ekpyron",
      "followers_url": "https://api.github.com/users/ekpyron/followers",
      "following_url": "https://api.github.com/users/ekpyron/following{/other_user}",
      "gists_url": "https://api.github.com/users/ekpyron/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ekpyron/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ekpyron/subscriptions",
      "organizations_url": "https://api.github.com/users/ekpyron/orgs",
      "repos_url": "https://api.github.com/users/ekpyron/repos",
      "events_url": "https://api.github.com/users/ekpyron/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ekpyron/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-04T10:29:15Z",
    "updated_at": "2022-02-04T10:29:15Z",
    "author_association": "MEMBER",
    "body": "I don't doubt that there are situations in which you really want and validly can downcast.\r\nThe main advantage of forcing a conversion via ``address`` is that with such a conversion there is no doubt that the cast will *not* involve any kind of runtime type checking or the like, while a direct explicit conversion may suggest otherwise.\r\nBut yes, maybe more realistic examples would be helpful.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1029844031/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1029900201",
    "html_url": "https://github.com/ethereum/solidity/issues/12622#issuecomment-1029900201",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/12622",
    "id": 1029900201,
    "node_id": "IC_kwDOAm_5kc49Ywep",
    "user": {
      "login": "k06a",
      "id": 702124,
      "node_id": "MDQ6VXNlcjcwMjEyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/702124?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/k06a",
      "html_url": "https://github.com/k06a",
      "followers_url": "https://api.github.com/users/k06a/followers",
      "following_url": "https://api.github.com/users/k06a/following{/other_user}",
      "gists_url": "https://api.github.com/users/k06a/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/k06a/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/k06a/subscriptions",
      "organizations_url": "https://api.github.com/users/k06a/orgs",
      "repos_url": "https://api.github.com/users/k06a/repos",
      "events_url": "https://api.github.com/users/k06a/events{/privacy}",
      "received_events_url": "https://api.github.com/users/k06a/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-04T11:24:56Z",
    "updated_at": "2022-02-04T11:24:56Z",
    "author_association": "NONE",
    "body": "I see such downcasts happens in a lot of different projects (`[^t][. (][A-Z][a-zA-Z0-9]+\\(address\\([^0]`):\r\n\r\n- Balancer https://github.com/balancer-labs/balancer-v2-monorepo\r\n\r\n    <img width=\"626\" alt=\"image\" src=\"https://user-images.githubusercontent.com/702124/152520457-7eb0ff25-5d58-4a2a-a25e-fa625a9954c7.png\">\r\n\r\n- Compound https://github.com/compound-finance/compound-protocol\r\n\r\n    <img width=\"587\" alt=\"image\" src=\"https://user-images.githubusercontent.com/702124/152520916-96573798-7764-46fe-8953-19ae5474036b.png\">\r\n\r\n- Aave https://github.com/aave/protocol-v2\r\n    \r\n    <img width=\"521\" alt=\"image\" src=\"https://user-images.githubusercontent.com/702124/152520608-527a3bc8-7401-483e-885b-898599007b2b.png\">\r\n\r\n- Euler https://github.com/euler-xyz/euler-contracts\r\n\r\n    <img width=\"473\" alt=\"image\" src=\"https://user-images.githubusercontent.com/702124/152520751-af063c16-eb3f-4ef5-856d-1315fb3f2038.png\">\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1029900201/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1029949788",
    "html_url": "https://github.com/ethereum/solidity/issues/12622#issuecomment-1029949788",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/12622",
    "id": 1029949788,
    "node_id": "IC_kwDOAm_5kc49Y8lc",
    "user": {
      "login": "k06a",
      "id": 702124,
      "node_id": "MDQ6VXNlcjcwMjEyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/702124?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/k06a",
      "html_url": "https://github.com/k06a",
      "followers_url": "https://api.github.com/users/k06a/followers",
      "following_url": "https://api.github.com/users/k06a/following{/other_user}",
      "gists_url": "https://api.github.com/users/k06a/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/k06a/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/k06a/subscriptions",
      "organizations_url": "https://api.github.com/users/k06a/orgs",
      "repos_url": "https://api.github.com/users/k06a/repos",
      "events_url": "https://api.github.com/users/k06a/events{/privacy}",
      "received_events_url": "https://api.github.com/users/k06a/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-04T12:38:37Z",
    "updated_at": "2022-02-04T12:53:34Z",
    "author_association": "NONE",
    "body": "There are 3 types of casting:\r\n- Upcast\r\n- Downcast\r\n- Badcast\r\n\r\nAnd there are 3 types of behavior:\r\n- Implicit\r\n- Explicit\r\n- Denied (works over `address`)\r\n\r\nCurrent state:\r\n- Upсasts are implicit\r\n- Downdasts are denied\r\n- Badcasts are denied\r\n\r\nCurrect difference in behavior for both integral and contract/interface types:\r\n\r\nType | Upcast | Downcast | Badcast\r\n---- | ---- | ---- | ----\r\nintegral types | implicit | explicit | denied\r\ncontracts/interfaces | implicit | *denied* | denied\r\n\r\nI propose making **downcast** to be **explicit**.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1029949788/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1029954218",
    "html_url": "https://github.com/ethereum/solidity/issues/12622#issuecomment-1029954218",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/12622",
    "id": 1029954218,
    "node_id": "IC_kwDOAm_5kc49Y9qq",
    "user": {
      "login": "k06a",
      "id": 702124,
      "node_id": "MDQ6VXNlcjcwMjEyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/702124?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/k06a",
      "html_url": "https://github.com/k06a",
      "followers_url": "https://api.github.com/users/k06a/followers",
      "following_url": "https://api.github.com/users/k06a/following{/other_user}",
      "gists_url": "https://api.github.com/users/k06a/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/k06a/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/k06a/subscriptions",
      "organizations_url": "https://api.github.com/users/k06a/orgs",
      "repos_url": "https://api.github.com/users/k06a/repos",
      "events_url": "https://api.github.com/users/k06a/events{/privacy}",
      "received_events_url": "https://api.github.com/users/k06a/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-04T12:45:11Z",
    "updated_at": "2022-02-04T14:24:46Z",
    "author_association": "NONE",
    "body": "Right now we can't distinguish syntax of downcast from \"badcast\". I wish never do \"badcast\", but Solidity syntax right now do not allow me to check that.\r\n\r\nHow can I make sure my code has no \"badcast\"? They look exactly the same way as downcasts.\r\n\r\n**I think this is the strongest point in this requirement to allow explicit downcasts.**",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1029954218/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1030070619",
    "html_url": "https://github.com/ethereum/solidity/issues/12622#issuecomment-1030070619",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/12622",
    "id": 1030070619,
    "node_id": "IC_kwDOAm_5kc49ZaFb",
    "user": {
      "login": "ekpyron",
      "id": 1347491,
      "node_id": "MDQ6VXNlcjEzNDc0OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1347491?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ekpyron",
      "html_url": "https://github.com/ekpyron",
      "followers_url": "https://api.github.com/users/ekpyron/followers",
      "following_url": "https://api.github.com/users/ekpyron/following{/other_user}",
      "gists_url": "https://api.github.com/users/ekpyron/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ekpyron/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ekpyron/subscriptions",
      "organizations_url": "https://api.github.com/users/ekpyron/orgs",
      "repos_url": "https://api.github.com/users/ekpyron/repos",
      "events_url": "https://api.github.com/users/ekpyron/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ekpyron/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-04T15:05:09Z",
    "updated_at": "2022-02-04T15:12:56Z",
    "author_association": "MEMBER",
    "body": "Ok, you do have at the very least some point there.\r\n\r\nConversely, would you say that there is no danger at all that a downcast might suggest that some type checking happens (i.e. that a user or reviewer might be inclined to think that an invalid explicit downcast reverts)? If you go via ``address`` it is much clearer syntactically that no runtime-checking will happen. I guess that's the strongest counterpoint.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1030070619/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1030073376",
    "html_url": "https://github.com/ethereum/solidity/issues/12622#issuecomment-1030073376",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/12622",
    "id": 1030073376,
    "node_id": "IC_kwDOAm_5kc49Zawg",
    "user": {
      "login": "ekpyron",
      "id": 1347491,
      "node_id": "MDQ6VXNlcjEzNDc0OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1347491?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ekpyron",
      "html_url": "https://github.com/ekpyron",
      "followers_url": "https://api.github.com/users/ekpyron/followers",
      "following_url": "https://api.github.com/users/ekpyron/following{/other_user}",
      "gists_url": "https://api.github.com/users/ekpyron/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ekpyron/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ekpyron/subscriptions",
      "organizations_url": "https://api.github.com/users/ekpyron/orgs",
      "repos_url": "https://api.github.com/users/ekpyron/repos",
      "events_url": "https://api.github.com/users/ekpyron/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ekpyron/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-04T15:08:23Z",
    "updated_at": "2022-02-04T15:08:23Z",
    "author_association": "MEMBER",
    "body": "Partly off-topic and mainly to have the issues linked: This is also be something to keep in mind for a future discussion of https://github.com/ethereum/solidity/issues/11284.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1030073376/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1030132059",
    "html_url": "https://github.com/ethereum/solidity/issues/12622#issuecomment-1030132059",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/12622",
    "id": 1030132059,
    "node_id": "IC_kwDOAm_5kc49ZpFb",
    "user": {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-04T16:12:02Z",
    "updated_at": "2022-02-04T16:12:02Z",
    "author_association": "MEMBER",
    "body": "I think that this is another issue where #11284 is a blocker. When we have that we'll be able to introduce more specific flavors of casts. Downcasts are still dangerous but something like `downcast<IBar>(foo)` would at least check that `IBar` is some specialization of the type that `foo` is, which is at least a bit more than going through `address` gives you.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1030132059/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1030143576",
    "html_url": "https://github.com/ethereum/solidity/issues/12622#issuecomment-1030143576",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/12622",
    "id": 1030143576,
    "node_id": "IC_kwDOAm_5kc49Zr5Y",
    "user": {
      "login": "ekpyron",
      "id": 1347491,
      "node_id": "MDQ6VXNlcjEzNDc0OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1347491?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ekpyron",
      "html_url": "https://github.com/ekpyron",
      "followers_url": "https://api.github.com/users/ekpyron/followers",
      "following_url": "https://api.github.com/users/ekpyron/following{/other_user}",
      "gists_url": "https://api.github.com/users/ekpyron/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ekpyron/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ekpyron/subscriptions",
      "organizations_url": "https://api.github.com/users/ekpyron/orgs",
      "repos_url": "https://api.github.com/users/ekpyron/repos",
      "events_url": "https://api.github.com/users/ekpyron/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ekpyron/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-04T16:25:19Z",
    "updated_at": "2022-02-04T16:28:44Z",
    "author_association": "MEMBER",
    "body": "https://github.com/ethereum/solidity/issues/11284 is not unlikely to end up being breaking, so I would try to avoid considering it \"blocking\" for anything (at least too quickly), but rather collect things that can be more smoothly solved by it in 0.9 to consider when we get to it, but still try to solve issues using the current conversions directly, if possible (and there's agreement about it - which we don't yet have in this case here :-)).",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1030143576/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1030165413",
    "html_url": "https://github.com/ethereum/solidity/issues/12622#issuecomment-1030165413",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/12622",
    "id": 1030165413,
    "node_id": "IC_kwDOAm_5kc49ZxOl",
    "user": {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-04T16:51:50Z",
    "updated_at": "2022-02-04T16:52:00Z",
    "author_association": "MEMBER",
    "body": "Well, we know that the current conversion syntax is limiting so I think it's better to do the opposite - first figure out how to fix it. It then makes implementing some features on top of it easy (like downcasting or casting function types). I think that's better than trying to shoehorn it into the current system.\r\n\r\nAbout not having an agreement yet - true. My position is that I see some value in it but I don't think that it's a game changer. Downcast is still a dangerous operation that the compiler cannot fully verify. IMO a downcast syntax would be a slight improvement over a cast to `address` but it also has to be weighed against making the language more complex.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1030165413/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1030319758",
    "html_url": "https://github.com/ethereum/solidity/issues/12622#issuecomment-1030319758",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/12622",
    "id": 1030319758,
    "node_id": "IC_kwDOAm_5kc49aW6O",
    "user": {
      "login": "frangio",
      "id": 481465,
      "node_id": "MDQ6VXNlcjQ4MTQ2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/481465?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/frangio",
      "html_url": "https://github.com/frangio",
      "followers_url": "https://api.github.com/users/frangio/followers",
      "following_url": "https://api.github.com/users/frangio/following{/other_user}",
      "gists_url": "https://api.github.com/users/frangio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/frangio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/frangio/subscriptions",
      "organizations_url": "https://api.github.com/users/frangio/orgs",
      "repos_url": "https://api.github.com/users/frangio/repos",
      "events_url": "https://api.github.com/users/frangio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/frangio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-04T20:18:56Z",
    "updated_at": "2022-02-04T20:18:56Z",
    "author_association": "CONTRIBUTOR",
    "body": "I think casts should always be considered unsafe. Integer downcasting is extremely unsafe because it truncates but the compiler doesn't warn about it. Casting \"through\" address doesn't really provide anything here IMO.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1030319758/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1030322956",
    "html_url": "https://github.com/ethereum/solidity/issues/12622#issuecomment-1030322956",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/12622",
    "id": 1030322956,
    "node_id": "IC_kwDOAm_5kc49aXsM",
    "user": {
      "login": "k06a",
      "id": 702124,
      "node_id": "MDQ6VXNlcjcwMjEyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/702124?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/k06a",
      "html_url": "https://github.com/k06a",
      "followers_url": "https://api.github.com/users/k06a/followers",
      "following_url": "https://api.github.com/users/k06a/following{/other_user}",
      "gists_url": "https://api.github.com/users/k06a/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/k06a/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/k06a/subscriptions",
      "organizations_url": "https://api.github.com/users/k06a/orgs",
      "repos_url": "https://api.github.com/users/k06a/repos",
      "events_url": "https://api.github.com/users/k06a/events{/privacy}",
      "received_events_url": "https://api.github.com/users/k06a/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-04T20:23:53Z",
    "updated_at": "2022-02-04T20:23:53Z",
    "author_association": "NONE",
    "body": "I was considering any cast looks like unsafe, but somehow happened, that downcast was denied. Explicit casting itself shows that something strange happening. Now I really afraid if I do “badcasts” anywhere in my code - no way to check my dowcasts.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1030322956/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1030324159",
    "html_url": "https://github.com/ethereum/solidity/issues/12622#issuecomment-1030324159",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/12622",
    "id": 1030324159,
    "node_id": "IC_kwDOAm_5kc49aX-_",
    "user": {
      "login": "k06a",
      "id": 702124,
      "node_id": "MDQ6VXNlcjcwMjEyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/702124?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/k06a",
      "html_url": "https://github.com/k06a",
      "followers_url": "https://api.github.com/users/k06a/followers",
      "following_url": "https://api.github.com/users/k06a/following{/other_user}",
      "gists_url": "https://api.github.com/users/k06a/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/k06a/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/k06a/subscriptions",
      "organizations_url": "https://api.github.com/users/k06a/orgs",
      "repos_url": "https://api.github.com/users/k06a/repos",
      "events_url": "https://api.github.com/users/k06a/events{/privacy}",
      "received_events_url": "https://api.github.com/users/k06a/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-04T20:25:35Z",
    "updated_at": "2022-02-04T20:25:48Z",
    "author_association": "NONE",
    "body": "Since upcasts happens implicitly, I assume no-one is using explicit cast operation for upcast.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1030324159/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1030428260",
    "html_url": "https://github.com/ethereum/solidity/issues/12622#issuecomment-1030428260",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/12622",
    "id": 1030428260,
    "node_id": "IC_kwDOAm_5kc49axZk",
    "user": {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-04T23:29:41Z",
    "updated_at": "2022-02-04T23:29:41Z",
    "author_association": "MEMBER",
    "body": "> Integer downcasting is extremely unsafe because it truncates but the compiler doesn't warn about it.\r\n\r\n> Since upcasts happens implicitly, I assume no-one is using explicit cast operation for upcast.\r\n\r\nThese are very good points. I agree, we should just make explicit cast work between arbitrary contracts. They're already unsafe in all but trivial cases because they're only useful with addresses.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1030428260/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1030429849",
    "html_url": "https://github.com/ethereum/solidity/issues/12622#issuecomment-1030429849",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/12622",
    "id": 1030429849,
    "node_id": "IC_kwDOAm_5kc49axyZ",
    "user": {
      "login": "k06a",
      "id": 702124,
      "node_id": "MDQ6VXNlcjcwMjEyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/702124?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/k06a",
      "html_url": "https://github.com/k06a",
      "followers_url": "https://api.github.com/users/k06a/followers",
      "following_url": "https://api.github.com/users/k06a/following{/other_user}",
      "gists_url": "https://api.github.com/users/k06a/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/k06a/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/k06a/subscriptions",
      "organizations_url": "https://api.github.com/users/k06a/orgs",
      "repos_url": "https://api.github.com/users/k06a/repos",
      "events_url": "https://api.github.com/users/k06a/events{/privacy}",
      "received_events_url": "https://api.github.com/users/k06a/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-04T23:33:51Z",
    "updated_at": "2022-02-04T23:33:51Z",
    "author_association": "NONE",
    "body": "@cameel by arbitrary contracts you mean downcasting? It will be a bad idea to allow this:\r\n```solidity\r\ninterface A {}\r\ninterface B {}\r\nA a;\r\nB b = B(a);\r\n```\r\n\r\nThis \"bad\" casting should be done via address: `B b = B(address(a));` or better not done at all :)",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1030429849/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1030443223",
    "html_url": "https://github.com/ethereum/solidity/issues/12622#issuecomment-1030443223",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/12622",
    "id": 1030443223,
    "node_id": "IC_kwDOAm_5kc49a1DX",
    "user": {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-04T23:52:51Z",
    "updated_at": "2022-02-04T23:53:50Z",
    "author_association": "MEMBER",
    "body": "I wanted to say any casting, including to a \"bad\" contract, because the difference between this and downcasting is not that big to me. Both are inherently unsafe. With downcasting there's one extra check that can catch one specific class off errors but you can still cast to a type not actually supported by the contract.\r\n\r\nBut, thinking more about it, for example integer conversions mentioned by @frangio don't let you do absolutely anything. For example you have to change sign and width in two separate steps. So in that sense being able to only downcast directly and having to go through `address` to cast to other contract types would not be inconsistent with the rest of the language.\r\n\r\nBasically, you convinced me that having `A(b)` do an unsafe conversion would be fine. Whether we should require that unsafe conversion to only be a downcast or if we should allow anything - either one makes sense in some way. I'd like to hear what others think on this point.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1030443223/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1030486116",
    "html_url": "https://github.com/ethereum/solidity/issues/12622#issuecomment-1030486116",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/12622",
    "id": 1030486116,
    "node_id": "IC_kwDOAm_5kc49a_hk",
    "user": {
      "login": "k06a",
      "id": 702124,
      "node_id": "MDQ6VXNlcjcwMjEyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/702124?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/k06a",
      "html_url": "https://github.com/k06a",
      "followers_url": "https://api.github.com/users/k06a/followers",
      "following_url": "https://api.github.com/users/k06a/following{/other_user}",
      "gists_url": "https://api.github.com/users/k06a/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/k06a/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/k06a/subscriptions",
      "organizations_url": "https://api.github.com/users/k06a/orgs",
      "repos_url": "https://api.github.com/users/k06a/repos",
      "events_url": "https://api.github.com/users/k06a/events{/privacy}",
      "received_events_url": "https://api.github.com/users/k06a/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-05T01:16:43Z",
    "updated_at": "2022-02-05T22:55:51Z",
    "author_association": "NONE",
    "body": "@cameel I wish compiler to prevent me from casting `A(b)` when contract/interfaces are siblings or even not in the same hierarchy. If I want to make sure this is not happening I will just avoid using `A(address(b))` ever - this will let me believe I have only implicit upcasts and explicit downcasts.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1030486116/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1089223422",
    "html_url": "https://github.com/ethereum/solidity/issues/12622#issuecomment-1089223422",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/12622",
    "id": 1089223422,
    "node_id": "IC_kwDOAm_5kc5A7Dr-",
    "user": {
      "login": "k06a",
      "id": 702124,
      "node_id": "MDQ6VXNlcjcwMjEyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/702124?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/k06a",
      "html_url": "https://github.com/k06a",
      "followers_url": "https://api.github.com/users/k06a/followers",
      "following_url": "https://api.github.com/users/k06a/following{/other_user}",
      "gists_url": "https://api.github.com/users/k06a/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/k06a/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/k06a/subscriptions",
      "organizations_url": "https://api.github.com/users/k06a/orgs",
      "repos_url": "https://api.github.com/users/k06a/repos",
      "events_url": "https://api.github.com/users/k06a/events{/privacy}",
      "received_events_url": "https://api.github.com/users/k06a/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-04-05T19:21:42Z",
    "updated_at": "2022-04-05T19:21:42Z",
    "author_association": "NONE",
    "body": "So what about downcasting a bit more safe than “bad” casting out of any straight hierarchy or “sibling” casting?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1089223422/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
