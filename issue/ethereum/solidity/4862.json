{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/4862",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/4862/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/4862/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/4862/events",
  "html_url": "https://github.com/ethereum/solidity/issues/4862",
  "id": 354083954,
  "node_id": "MDU6SXNzdWUzNTQwODM5NTQ=",
  "number": 4862,
  "title": "How to use an array of strings in a mapping?",
  "user": {
    "login": "Eithcowich",
    "id": 6975895,
    "node_id": "MDQ6VXNlcjY5NzU4OTU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6975895?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Eithcowich",
    "html_url": "https://github.com/Eithcowich",
    "followers_url": "https://api.github.com/users/Eithcowich/followers",
    "following_url": "https://api.github.com/users/Eithcowich/following{/other_user}",
    "gists_url": "https://api.github.com/users/Eithcowich/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Eithcowich/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Eithcowich/subscriptions",
    "organizations_url": "https://api.github.com/users/Eithcowich/orgs",
    "repos_url": "https://api.github.com/users/Eithcowich/repos",
    "events_url": "https://api.github.com/users/Eithcowich/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Eithcowich/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2018-08-26T10:34:33Z",
  "updated_at": "2018-09-04T17:09:29Z",
  "closed_at": "2018-09-04T17:09:29Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "I need to store a mapping between a string to items which are 128 bytes long in a `solidity` contract. The problem is that the longest bytes data type is `bytes32`, which is not long enough, and if I try to store my strings in a `string array` I get the following error: \r\n\r\n    This type is only supported in the experimental ABI encoder. Use \"pragma experimental abiencoderv2;\" to enable this feature\r\n\r\nSo I cannot use `bytes32` because it's not big enough. I cannot use `bytes` because it's not supported. And I cannot use `string[]` because it's experimental and not recommended in production. \r\n\r\nAny solution? \r\n\r\nThis is the contract I'm using, which does not compile in `remix`: \r\n\r\n    pragma solidity ^0.4.24;\r\n\r\n    contract SomeData {\r\n    \r\n        struct Data {\r\n            string id;\r\n            string[3] items;\r\n        }\r\n\r\n        mapping (string => Data) dataItems;\r\n\r\n        function addData(string id, string[3] items) public {\r\n            Data memory data = Data(id, items);\r\n            data.id = id;\r\n            data.items = items;\r\n            dataItems[id] = data;\r\n        }\r\n\r\n        function getDataItems(string id) public view returns (string[3]){\r\n            return dataItems[id].items;\r\n        }\r\n    }\r\n",
  "closed_by": {
    "login": "chriseth",
    "id": 9073706,
    "node_id": "MDQ6VXNlcjkwNzM3MDY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/chriseth",
    "html_url": "https://github.com/chriseth",
    "followers_url": "https://api.github.com/users/chriseth/followers",
    "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
    "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
    "organizations_url": "https://api.github.com/users/chriseth/orgs",
    "repos_url": "https://api.github.com/users/chriseth/repos",
    "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
    "received_events_url": "https://api.github.com/users/chriseth/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/4862/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/4862/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/416146592",
    "html_url": "https://github.com/ethereum/solidity/issues/4862#issuecomment-416146592",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/4862",
    "id": 416146592,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxNjE0NjU5Mg==",
    "user": {
      "login": "kyriediculous",
      "id": 22256858,
      "node_id": "MDQ6VXNlcjIyMjU2ODU4",
      "avatar_url": "https://avatars.githubusercontent.com/u/22256858?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kyriediculous",
      "html_url": "https://github.com/kyriediculous",
      "followers_url": "https://api.github.com/users/kyriediculous/followers",
      "following_url": "https://api.github.com/users/kyriediculous/following{/other_user}",
      "gists_url": "https://api.github.com/users/kyriediculous/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kyriediculous/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kyriediculous/subscriptions",
      "organizations_url": "https://api.github.com/users/kyriediculous/orgs",
      "repos_url": "https://api.github.com/users/kyriediculous/repos",
      "events_url": "https://api.github.com/users/kyriediculous/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kyriediculous/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-27T07:56:50Z",
    "updated_at": "2018-08-27T07:56:50Z",
    "author_association": "NONE",
    "body": "You can not use string types as keys in a mapping. Take the sha3 hash of the string.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/416146592/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/416178749",
    "html_url": "https://github.com/ethereum/solidity/issues/4862#issuecomment-416178749",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/4862",
    "id": 416178749,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxNjE3ODc0OQ==",
    "user": {
      "login": "leonardoalt",
      "id": 504195,
      "node_id": "MDQ6VXNlcjUwNDE5NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/504195?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/leonardoalt",
      "html_url": "https://github.com/leonardoalt",
      "followers_url": "https://api.github.com/users/leonardoalt/followers",
      "following_url": "https://api.github.com/users/leonardoalt/following{/other_user}",
      "gists_url": "https://api.github.com/users/leonardoalt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/leonardoalt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/leonardoalt/subscriptions",
      "organizations_url": "https://api.github.com/users/leonardoalt/orgs",
      "repos_url": "https://api.github.com/users/leonardoalt/repos",
      "events_url": "https://api.github.com/users/leonardoalt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/leonardoalt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-27T10:04:06Z",
    "updated_at": "2018-08-27T10:04:06Z",
    "author_association": "MEMBER",
    "body": "@Eithcowich The only parts that do not compile without the pragma experimental are actually the `string[3]` parameters. If you separate it into 3 different strings it actually compiles.\r\n\r\nYou can use string as key in mapping if the mapping is not public, which is the case here.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/416178749/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/416192047",
    "html_url": "https://github.com/ethereum/solidity/issues/4862#issuecomment-416192047",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/4862",
    "id": 416192047,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxNjE5MjA0Nw==",
    "user": {
      "login": "Eithcowich",
      "id": 6975895,
      "node_id": "MDQ6VXNlcjY5NzU4OTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6975895?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Eithcowich",
      "html_url": "https://github.com/Eithcowich",
      "followers_url": "https://api.github.com/users/Eithcowich/followers",
      "following_url": "https://api.github.com/users/Eithcowich/following{/other_user}",
      "gists_url": "https://api.github.com/users/Eithcowich/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Eithcowich/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Eithcowich/subscriptions",
      "organizations_url": "https://api.github.com/users/Eithcowich/orgs",
      "repos_url": "https://api.github.com/users/Eithcowich/repos",
      "events_url": "https://api.github.com/users/Eithcowich/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Eithcowich/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-27T11:06:00Z",
    "updated_at": "2018-08-27T11:06:00Z",
    "author_association": "NONE",
    "body": "Thanks Leonardo, yes, there's no problem using a string as the key. The issue with the `string[3]` is that the requirement is actually `string[100]` so it makes no sense to have method signatures with 100 params. \r\n\r\nSadly the question remains, is there any way at all to have an array of strings in solidity, as the value of a mapping? Any alternative? I mean, the language / EVM cannot be that limited. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/416192047/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/416203574",
    "html_url": "https://github.com/ethereum/solidity/issues/4862#issuecomment-416203574",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/4862",
    "id": 416203574,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxNjIwMzU3NA==",
    "user": {
      "login": "leonardoalt",
      "id": 504195,
      "node_id": "MDQ6VXNlcjUwNDE5NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/504195?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/leonardoalt",
      "html_url": "https://github.com/leonardoalt",
      "followers_url": "https://api.github.com/users/leonardoalt/followers",
      "following_url": "https://api.github.com/users/leonardoalt/following{/other_user}",
      "gists_url": "https://api.github.com/users/leonardoalt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/leonardoalt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/leonardoalt/subscriptions",
      "organizations_url": "https://api.github.com/users/leonardoalt/orgs",
      "repos_url": "https://api.github.com/users/leonardoalt/repos",
      "events_url": "https://api.github.com/users/leonardoalt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/leonardoalt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-27T12:00:03Z",
    "updated_at": "2018-08-27T12:00:03Z",
    "author_association": "MEMBER",
    "body": "Oh ok.\r\nUsing `mapping (string => string[]) map` is not a problem. What fails to compile then is using `string[]` as a parameter or return. Maybe there's a out around that.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/416203574/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/416210439",
    "html_url": "https://github.com/ethereum/solidity/issues/4862#issuecomment-416210439",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/4862",
    "id": 416210439,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxNjIxMDQzOQ==",
    "user": {
      "login": "Eithcowich",
      "id": 6975895,
      "node_id": "MDQ6VXNlcjY5NzU4OTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6975895?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Eithcowich",
      "html_url": "https://github.com/Eithcowich",
      "followers_url": "https://api.github.com/users/Eithcowich/followers",
      "following_url": "https://api.github.com/users/Eithcowich/following{/other_user}",
      "gists_url": "https://api.github.com/users/Eithcowich/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Eithcowich/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Eithcowich/subscriptions",
      "organizations_url": "https://api.github.com/users/Eithcowich/orgs",
      "repos_url": "https://api.github.com/users/Eithcowich/repos",
      "events_url": "https://api.github.com/users/Eithcowich/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Eithcowich/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-27T12:29:35Z",
    "updated_at": "2018-08-27T12:29:35Z",
    "author_association": "NONE",
    "body": "From what I can tell you can't return a `string[]` in a function. So no luck there. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/416210439/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/418445964",
    "html_url": "https://github.com/ethereum/solidity/issues/4862#issuecomment-418445964",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/4862",
    "id": 418445964,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxODQ0NTk2NA==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-04T17:09:29Z",
    "updated_at": "2018-09-04T17:09:29Z",
    "author_association": "MEMBER",
    "body": "@Eithcowich you can use `pragma experimental \"ABIEncoderV2\";`.\r\n\r\nClosing as this is not a language design or compiler issue.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/418445964/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
