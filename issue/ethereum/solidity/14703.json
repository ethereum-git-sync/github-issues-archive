{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/14703",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/14703/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/14703/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/14703/events",
  "html_url": "https://github.com/ethereum/solidity/issues/14703",
  "id": 2011619277,
  "node_id": "I_kwDOAm_5kc535t_N",
  "number": 14703,
  "title": "ICE on non-unique function names in `functionSideEffects` tests when constructing Yul call graph",
  "user": {
    "login": "bshastry",
    "id": 2388185,
    "node_id": "MDQ6VXNlcjIzODgxODU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2388185?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/bshastry",
    "html_url": "https://github.com/bshastry",
    "followers_url": "https://api.github.com/users/bshastry/followers",
    "following_url": "https://api.github.com/users/bshastry/following{/other_user}",
    "gists_url": "https://api.github.com/users/bshastry/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/bshastry/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/bshastry/subscriptions",
    "organizations_url": "https://api.github.com/users/bshastry/orgs",
    "repos_url": "https://api.github.com/users/bshastry/repos",
    "events_url": "https://api.github.com/users/bshastry/events{/privacy}",
    "received_events_url": "https://api.github.com/users/bshastry/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 249074435,
      "node_id": "MDU6TGFiZWwyNDkwNzQ0MzU=",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/bug%20:bug:",
      "name": "bug :bug:",
      "color": "fc1313",
      "default": false,
      "description": ""
    },
    {
      "id": 1018738457,
      "node_id": "MDU6TGFiZWwxMDE4NzM4NDU3",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/testing%20:hammer:",
      "name": "testing :hammer:",
      "color": "ffc6db",
      "default": false,
      "description": ""
    },
    {
      "id": 4438006499,
      "node_id": "LA_kwDOAm_5kc8AAAABCIaa4w",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/low%20effort",
      "name": "low effort",
      "color": "ffb1fa",
      "default": false,
      "description": "There is not much implementation work to be done. The task is very easy or tiny."
    },
    {
      "id": 4438157609,
      "node_id": "LA_kwDOAm_5kc8AAAABCIjpKQ",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/low%20impact",
      "name": "low impact",
      "color": "5d71ff",
      "default": false,
      "description": "Changes are not very noticeable or potential benefits are limited."
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2023-11-27T07:00:10Z",
  "updated_at": "2023-11-27T18:45:49Z",
  "closed_at": null,
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "```\r\n{\r\n  {\r\n    function f() {}\r\n  }\r\n  {\r\n    {\r\n      function f() {}\r\n    }\r\n  }\r\n}\r\n// ----\r\n```\r\n\r\nCopy contents to file named `test/libyul/functionSideEffects/scoped_redeclaration.yul`\r\n\r\n\r\nRepro\r\n\r\n```\r\nisoltest -t functionSideEffects/scoped_redeclaration\r\nRunning tests...\r\n\r\nfunctionSideEffects/scoped_redeclaration.yul: Exception during test: /solidity/libyul/optimiser/CallGraphGenerator.cpp(98): Throw in function virtual void solidity::yul::CallGraphGenerator::operator()(const solidity::yul::FunctionDefinition &)\r\nDynamic exception type: boost::wrapexcept<solidity::yul::YulAssertion>\r\nstd::exception::what: Yul assertion failed\r\n[solidity::util::tag_comment*] = Yul assertion failed\r\n```\r\n\r\nthrows\r\n\r\nhttps://github.com/ethereum/solidity/blob/efed3b2355b0840cfc884e383211f0a988937367/libyul/optimiser/CallGraphGenerator.cpp#L98\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/14703/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/14703/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1828415961",
    "html_url": "https://github.com/ethereum/solidity/issues/14703#issuecomment-1828415961",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/14703",
    "id": 1828415961,
    "node_id": "IC_kwDOAm_5kc5s-2nZ",
    "user": {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-11-27T18:43:45Z",
    "updated_at": "2023-11-27T18:43:45Z",
    "author_association": "MEMBER",
    "body": "I think this is (fortunately) only affecting tests. Normally the optimizer runs disambiguator first and will never actually run the graph on code with functions having identical names.\r\n\r\nWe should fix it by running disambiguator before each side-effects test.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1828415961/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
