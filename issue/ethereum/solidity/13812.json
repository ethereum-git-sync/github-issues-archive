{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/13812",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/13812/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/13812/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/13812/events",
  "html_url": "https://github.com/ethereum/solidity/issues/13812",
  "id": 1500376449,
  "node_id": "I_kwDOAm_5kc5Zbe2B",
  "number": 13812,
  "title": "More detail about candidates in error messages for ambiguous overloaded calls",
  "user": {
    "login": "cameel",
    "id": 137030,
    "node_id": "MDQ6VXNlcjEzNzAzMA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/cameel",
    "html_url": "https://github.com/cameel",
    "followers_url": "https://api.github.com/users/cameel/followers",
    "following_url": "https://api.github.com/users/cameel/following{/other_user}",
    "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
    "organizations_url": "https://api.github.com/users/cameel/orgs",
    "repos_url": "https://api.github.com/users/cameel/repos",
    "events_url": "https://api.github.com/users/cameel/events{/privacy}",
    "received_events_url": "https://api.github.com/users/cameel/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 838064207,
      "node_id": "MDU6TGFiZWw4MzgwNjQyMDc=",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/annoys%20users%20:cry:",
      "name": "annoys users :cry:",
      "color": "ea2cab",
      "default": false,
      "description": ""
    },
    {
      "id": 4438003076,
      "node_id": "LA_kwDOAm_5kc8AAAABCIaNhA",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/medium%20effort",
      "name": "medium effort",
      "color": "ff7df7",
      "default": false,
      "description": "Default level of effort"
    },
    {
      "id": 4438155599,
      "node_id": "LA_kwDOAm_5kc8AAAABCIjhTw",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/medium%20impact",
      "name": "medium impact",
      "color": "314aff",
      "default": false,
      "description": "Default level of impact"
    },
    {
      "id": 4438481746,
      "node_id": "LA_kwDOAm_5kc8AAAABCI3bUg",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/must%20have%20eventually",
      "name": "must have eventually",
      "color": "ffb04d",
      "default": false,
      "description": "Something we consider essential but not enough to prevent us from releasing Solidity 1.0 without it."
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2022-12-16T15:01:05Z",
  "updated_at": "2022-12-17T02:50:09Z",
  "closed_at": "2022-12-17T02:50:09Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "This came up recently on the forum: [Why are implicit string to bytes conversions allowed in external calls but not internally?](https://forum.soliditylang.org/t/why-are-implicit-string-to-bytes-conversions-allowed-in-external-calls-but-not-internally/1375) \r\n\r\nErrors that the compiler reports when there is more than one candidate for an overload but none of them is quite right don't have enough detail to make it clear to the user why they don't match. The error is just `No unique declaration found after argument-dependent lookup` and a list of candidates.\r\n\r\nWhen there is exactly one candidate, the compiler type-checks its arguments and says what exactly is wrong: too many arguments, no implicit conversion, etc. The same information should be printed for each candidate in case where there's more than one.\r\n\r\nNote that the same mechanism should separately be applied to user-defined operators as well, since for them overloading is still possible but works differently than for functions (#13790/#13718).\r\n\r\n### Example - multiple candidates\r\n```solidity\r\ncontract C {\r\n    function f() public {}\r\n    function f(bytes4) public {}\r\n    function f(bytes calldata) public {}\r\n\r\n    function test() external {\r\n        f(\"Hello World\");\r\n    }\r\n}\r\n```\r\nThe compiler points out the problem and candidates but does not explain what's wrong with each of them. Especially in this example the second and third overload look like they should match and it may be hard to figure out why they don't.\r\n```\r\nError: No matching declaration found after argument-dependent lookup.\r\n --> test.sol:7:9:\r\n  |\r\n7 |         f(\"Hello World\");\r\n  |         ^\r\nNote: Candidate:\r\n --> test.sol:2:5:\r\n  |\r\n2 |     function f() public {}\r\n  |     ^^^^^^^^^^^^^^^^^^^^^^\r\nNote: Candidate:\r\n --> test.sol:3:5:\r\n  |\r\n3 |     function f(bytes4) public {}\r\n  |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\nNote: Candidate:\r\n --> test.sol:4:5:\r\n  |\r\n4 |     function f(bytes calldata) public {}\r\n  |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n```\r\n\r\n### Example - one candidate\r\nFor each candidate in insolation you get a much clearer message:\r\n\r\n#### `function f() public {}`\r\n```\r\nError: Wrong argument count for function call: 1 arguments given but expected 0.\r\n --> test.sol:5:9:\r\n  |\r\n5 |         f(\"Hello World\");\r\n  |         ^^^^^^^^^^^^^^^^\r\n```\r\n\r\n#### `function f(bytes4) public {}`\r\n```\r\nError: Invalid type for argument in function call. Invalid implicit conversion from literal_string \"Hello World\" to bytes4 requested. Literal is larger than the type.\r\n --> test.sol:5:11:\r\n  |\r\n5 |         f(\"Hello World\");\r\n  |           ^^^^^^^^^^^^^\r\n```\r\n\r\n#### `function f(bytes calldata) public {}`\r\n```\r\nError: Invalid type for argument in function call. Invalid implicit conversion from literal_string \"Hello World\" to bytes calldata requested.\r\n --> test.sol:5:11:\r\n  |\r\n5 |         f(\"Hello World\");\r\n  |           ^^^^^^^^^^^^^\r\n```\r\n\r\n",
  "closed_by": {
    "login": "cameel",
    "id": 137030,
    "node_id": "MDQ6VXNlcjEzNzAzMA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/cameel",
    "html_url": "https://github.com/cameel",
    "followers_url": "https://api.github.com/users/cameel/followers",
    "following_url": "https://api.github.com/users/cameel/following{/other_user}",
    "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
    "organizations_url": "https://api.github.com/users/cameel/orgs",
    "repos_url": "https://api.github.com/users/cameel/repos",
    "events_url": "https://api.github.com/users/cameel/events{/privacy}",
    "received_events_url": "https://api.github.com/users/cameel/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/13812/reactions",
    "total_count": 1,
    "+1": 1,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/13812/timeline",
  "performed_via_github_app": null,
  "state_reason": "not_planned"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1355027486",
    "html_url": "https://github.com/ethereum/solidity/issues/13812#issuecomment-1355027486",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/13812",
    "id": 1355027486,
    "node_id": "IC_kwDOAm_5kc5QxBQe",
    "user": {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-12-16T15:06:55Z",
    "updated_at": "2022-12-16T15:06:55Z",
    "author_association": "MEMBER",
    "body": "Related bug #13813 that makes this even worse when the function is called via member access.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1355027486/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1355038679",
    "html_url": "https://github.com/ethereum/solidity/issues/13812#issuecomment-1355038679",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/13812",
    "id": 1355038679,
    "node_id": "IC_kwDOAm_5kc5QxD_X",
    "user": {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-12-16T15:13:38Z",
    "updated_at": "2022-12-16T15:13:38Z",
    "author_association": "MEMBER",
    "body": "And an earlier related issue for modifiers #12332.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1355038679/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1355980724",
    "html_url": "https://github.com/ethereum/solidity/issues/13812#issuecomment-1355980724",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/13812",
    "id": 1355980724,
    "node_id": "IC_kwDOAm_5kc5Q0p-0",
    "user": {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-12-17T02:50:09Z",
    "updated_at": "2022-12-17T02:50:09Z",
    "author_association": "MEMBER",
    "body": "Looks like we actually have an issue for this (#9607), so this is a duplicate. Closing.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1355980724/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
