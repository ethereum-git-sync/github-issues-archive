{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/9117",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/9117/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/9117/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/9117/events",
  "html_url": "https://github.com/ethereum/solidity/issues/9117",
  "id": 630380998,
  "node_id": "MDU6SXNzdWU2MzAzODA5OTg=",
  "number": 9117,
  "title": "Unchecked array access",
  "user": {
    "login": "nventuro",
    "id": 2530770,
    "node_id": "MDQ6VXNlcjI1MzA3NzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2530770?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/nventuro",
    "html_url": "https://github.com/nventuro",
    "followers_url": "https://api.github.com/users/nventuro/followers",
    "following_url": "https://api.github.com/users/nventuro/following{/other_user}",
    "gists_url": "https://api.github.com/users/nventuro/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/nventuro/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/nventuro/subscriptions",
    "organizations_url": "https://api.github.com/users/nventuro/orgs",
    "repos_url": "https://api.github.com/users/nventuro/repos",
    "events_url": "https://api.github.com/users/nventuro/events{/privacy}",
    "received_events_url": "https://api.github.com/users/nventuro/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 785717317,
      "node_id": "MDU6TGFiZWw3ODU3MTczMTc=",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/language%20design%20:rage4:",
      "name": "language design :rage4:",
      "color": "9d76d3",
      "default": false,
      "description": "Any changes to the language, e.g. new features"
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 28,
  "created_at": "2020-06-03T22:43:38Z",
  "updated_at": "2022-08-17T13:50:05Z",
  "closed_at": null,
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "Solidity currently performs bounds checks on array access, asserting that the index is smaller than the lenght of the array. In some scenarios, this check can be skipped by the developer to save gas, given additional guarantees on the range of the indices.\r\n\r\nFor example, consider the following snippet where a slice of an array is processed:\r\n\r\n```\r\nrequire(start + size <= array.length);\r\nfor (uint i = 0; i < size; ++i) {\r\n  foo(array[start + i]);\r\n}\r\n```\r\n\r\nDiscussion around having checked arithmetic, with opt-in unchecked areas (https://github.com/ethereum/solidity/issues/9054) brought up the idea of using these same areas to have unchecked array access. Given this, the previous snippet might be written as follows:\r\n\r\n```\r\nrequire(start + size <= array.length);\r\n  for (uint i = 0; i < size; ++i) {\r\n    unchecked {\r\n      foo(array[start + i]);\r\n    }\r\n}\r\n```\r\n\r\nA potential issue with this approach is that the meaning of `unchecked` would be extended to more than just arithmetic checks, increasing information burden on the users. Some people have proposed giving arguments to `unchecked`, to signal which checks are being turned off (e.g. `unckecked('array-access')`.\r\n\r\nI believe a plain `unchecked` is good enough for all of these cases, since we'll want to make `unchecked` areas as small as possible: there shouldn't be more than one 'checked' operation inside them.",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/9117/reactions",
    "total_count": 1,
    "+1": 1,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/9117/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/644107620",
    "html_url": "https://github.com/ethereum/solidity/issues/9117#issuecomment-644107620",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/9117",
    "id": 644107620,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0NDEwNzYyMA==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-15T12:34:37Z",
    "updated_at": "2020-06-15T12:34:37Z",
    "author_association": "MEMBER",
    "body": "I have a bad feeling allowing this. Unchecked overflow is a very different thing than unchecked array access. My hope is that the new optimizer will find most of these cases and remove the check.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/644107620/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/651084319",
    "html_url": "https://github.com/ethereum/solidity/issues/9117#issuecomment-651084319",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/9117",
    "id": 651084319,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1MTA4NDMxOQ==",
    "user": {
      "login": "leonardoalt",
      "id": 504195,
      "node_id": "MDQ6VXNlcjUwNDE5NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/504195?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/leonardoalt",
      "html_url": "https://github.com/leonardoalt",
      "followers_url": "https://api.github.com/users/leonardoalt/followers",
      "following_url": "https://api.github.com/users/leonardoalt/following{/other_user}",
      "gists_url": "https://api.github.com/users/leonardoalt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/leonardoalt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/leonardoalt/subscriptions",
      "organizations_url": "https://api.github.com/users/leonardoalt/orgs",
      "repos_url": "https://api.github.com/users/leonardoalt/repos",
      "events_url": "https://api.github.com/users/leonardoalt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/leonardoalt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-29T12:26:08Z",
    "updated_at": "2020-06-29T12:26:08Z",
    "author_association": "MEMBER",
    "body": "Agree with @chriseth \r\nI think a much better solution in this direction would be range loops",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/651084319/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/651138687",
    "html_url": "https://github.com/ethereum/solidity/issues/9117#issuecomment-651138687",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/9117",
    "id": 651138687,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1MTEzODY4Nw==",
    "user": {
      "login": "nventuro",
      "id": 2530770,
      "node_id": "MDQ6VXNlcjI1MzA3NzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2530770?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nventuro",
      "html_url": "https://github.com/nventuro",
      "followers_url": "https://api.github.com/users/nventuro/followers",
      "following_url": "https://api.github.com/users/nventuro/following{/other_user}",
      "gists_url": "https://api.github.com/users/nventuro/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nventuro/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nventuro/subscriptions",
      "organizations_url": "https://api.github.com/users/nventuro/orgs",
      "repos_url": "https://api.github.com/users/nventuro/repos",
      "events_url": "https://api.github.com/users/nventuro/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nventuro/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-29T13:56:22Z",
    "updated_at": "2020-06-29T13:56:22Z",
    "author_association": "CONTRIBUTOR",
    "body": "Indeed, @axic mentioned those as an alternative [here](https://github.com/ethereum/solidity/issues/9054#issuecomment-638482837) as well.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/651138687/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/716056505",
    "html_url": "https://github.com/ethereum/solidity/issues/9117#issuecomment-716056505",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/9117",
    "id": 716056505,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxNjA1NjUwNQ==",
    "user": {
      "login": "mudgen",
      "id": 49092,
      "node_id": "MDQ6VXNlcjQ5MDky",
      "avatar_url": "https://avatars.githubusercontent.com/u/49092?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mudgen",
      "html_url": "https://github.com/mudgen",
      "followers_url": "https://api.github.com/users/mudgen/followers",
      "following_url": "https://api.github.com/users/mudgen/following{/other_user}",
      "gists_url": "https://api.github.com/users/mudgen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mudgen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mudgen/subscriptions",
      "organizations_url": "https://api.github.com/users/mudgen/orgs",
      "repos_url": "https://api.github.com/users/mudgen/repos",
      "events_url": "https://api.github.com/users/mudgen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mudgen/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-24T21:18:32Z",
    "updated_at": "2020-10-24T21:18:32Z",
    "author_association": "NONE",
    "body": "What is the status of this?  I don't like to pay gas for array bounds checking when it isn't needed.  ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/716056505/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/716157598",
    "html_url": "https://github.com/ethereum/solidity/issues/9117#issuecomment-716157598",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/9117",
    "id": 716157598,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxNjE1NzU5OA==",
    "user": {
      "login": "nventuro",
      "id": 2530770,
      "node_id": "MDQ6VXNlcjI1MzA3NzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2530770?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nventuro",
      "html_url": "https://github.com/nventuro",
      "followers_url": "https://api.github.com/users/nventuro/followers",
      "following_url": "https://api.github.com/users/nventuro/following{/other_user}",
      "gists_url": "https://api.github.com/users/nventuro/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nventuro/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nventuro/subscriptions",
      "organizations_url": "https://api.github.com/users/nventuro/orgs",
      "repos_url": "https://api.github.com/users/nventuro/repos",
      "events_url": "https://api.github.com/users/nventuro/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nventuro/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-25T14:32:03Z",
    "updated_at": "2020-10-25T14:32:03Z",
    "author_association": "CONTRIBUTOR",
    "body": "What's the recommended way to do unchecked access in 0.7?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/716157598/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/716161314",
    "html_url": "https://github.com/ethereum/solidity/issues/9117#issuecomment-716161314",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/9117",
    "id": 716161314,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxNjE2MTMxNA==",
    "user": {
      "login": "mudgen",
      "id": 49092,
      "node_id": "MDQ6VXNlcjQ5MDky",
      "avatar_url": "https://avatars.githubusercontent.com/u/49092?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mudgen",
      "html_url": "https://github.com/mudgen",
      "followers_url": "https://api.github.com/users/mudgen/followers",
      "following_url": "https://api.github.com/users/mudgen/following{/other_user}",
      "gists_url": "https://api.github.com/users/mudgen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mudgen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mudgen/subscriptions",
      "organizations_url": "https://api.github.com/users/mudgen/orgs",
      "repos_url": "https://api.github.com/users/mudgen/repos",
      "events_url": "https://api.github.com/users/mudgen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mudgen/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-25T14:56:18Z",
    "updated_at": "2020-10-25T14:56:18Z",
    "author_association": "NONE",
    "body": "I'm moving my comment here from the duplicate issue I made:\r\n\r\nWhen looping through an array using the array length as the max bound, it is unnecessary to pay the gas for array bounds checking.\r\n\r\nFor example:\r\n```Solidity\r\nuint sum;\r\nfor (uint i; i < myarray.length; i++) {\r\n  sum += myarray[i]\r\n}\r\n```\r\n\r\nIs it possible for the optimizer to optimize away the bounds access? A manual way to turn it off? New range loop? What's the plan and timeline for this now?\r\n\r\nIn loops with many iterations, or many array index accesses, or nested loops this might really matter. I don't like paying gas for unneeded checking, which is most of the time I'm using arrays.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/716161314/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/716163644",
    "html_url": "https://github.com/ethereum/solidity/issues/9117#issuecomment-716163644",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/9117",
    "id": 716163644,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxNjE2MzY0NA==",
    "user": {
      "login": "leonardoalt",
      "id": 504195,
      "node_id": "MDQ6VXNlcjUwNDE5NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/504195?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/leonardoalt",
      "html_url": "https://github.com/leonardoalt",
      "followers_url": "https://api.github.com/users/leonardoalt/followers",
      "following_url": "https://api.github.com/users/leonardoalt/following{/other_user}",
      "gists_url": "https://api.github.com/users/leonardoalt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/leonardoalt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/leonardoalt/subscriptions",
      "organizations_url": "https://api.github.com/users/leonardoalt/orgs",
      "repos_url": "https://api.github.com/users/leonardoalt/repos",
      "events_url": "https://api.github.com/users/leonardoalt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/leonardoalt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-25T15:11:41Z",
    "updated_at": "2020-10-25T15:11:41Z",
    "author_association": "MEMBER",
    "body": "As far as I know there is no plan/timeline for this.\r\n\r\n@mudgen your example is basically the same as the initial one in the issue, so yes we're all aware of that case.\r\n\r\nI still think unchecked array access/manual way to turn it off is a really bad idea. Even if the optimizer can detect some cases, the general problem is still undecidable.\r\nIn my opinion the only proper solution is range loops.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/716163644/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/716167166",
    "html_url": "https://github.com/ethereum/solidity/issues/9117#issuecomment-716167166",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/9117",
    "id": 716167166,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxNjE2NzE2Ng==",
    "user": {
      "login": "axic",
      "id": 20340,
      "node_id": "MDQ6VXNlcjIwMzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/axic",
      "html_url": "https://github.com/axic",
      "followers_url": "https://api.github.com/users/axic/followers",
      "following_url": "https://api.github.com/users/axic/following{/other_user}",
      "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
      "organizations_url": "https://api.github.com/users/axic/orgs",
      "repos_url": "https://api.github.com/users/axic/repos",
      "events_url": "https://api.github.com/users/axic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/axic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-25T15:36:18Z",
    "updated_at": "2020-10-25T15:36:18Z",
    "author_association": "MEMBER",
    "body": "> In loops with many iterations, or many array index accesses, or nested loops this might really matter. I don't like paying gas for unneeded checking, which is most of the time I'm using arrays.\r\n\r\nLoops with many iterations is a discouraged pattern in the first place. Reason: it very well could be possible that such a piece of code will lock up due to future gas changes.\r\n\r\n> > I think a much better solution in this direction would be range loops\r\n>\r\n> Indeed, @axic mentioned those as an alternative here as well.\r\n\r\nBtw, here's a potential syntax for range based loops:\r\n```solidity\r\nuint[] array;\r\n\r\nfor (uint value: array) {}\r\n\r\n// And with slicing\r\nfor (uint value: array[start:end]) {}\r\n```\r\n\r\nOf course for value types this doesn't support references, but references/pointers is probably something we should solve separately in general.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/716167166/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/716167911",
    "html_url": "https://github.com/ethereum/solidity/issues/9117#issuecomment-716167911",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/9117",
    "id": 716167911,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxNjE2NzkxMQ==",
    "user": {
      "login": "mudgen",
      "id": 49092,
      "node_id": "MDQ6VXNlcjQ5MDky",
      "avatar_url": "https://avatars.githubusercontent.com/u/49092?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mudgen",
      "html_url": "https://github.com/mudgen",
      "followers_url": "https://api.github.com/users/mudgen/followers",
      "following_url": "https://api.github.com/users/mudgen/following{/other_user}",
      "gists_url": "https://api.github.com/users/mudgen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mudgen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mudgen/subscriptions",
      "organizations_url": "https://api.github.com/users/mudgen/orgs",
      "repos_url": "https://api.github.com/users/mudgen/repos",
      "events_url": "https://api.github.com/users/mudgen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mudgen/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-25T15:41:51Z",
    "updated_at": "2020-10-25T15:44:50Z",
    "author_association": "NONE",
    "body": "@axic I think that is a very nice syntax for range loops.  It would also be nice and useful if there is some way to get the iteration index of each iteration.  I suppose it can be done manually be adding a variable and incrementing.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/716167911/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/716229780",
    "html_url": "https://github.com/ethereum/solidity/issues/9117#issuecomment-716229780",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/9117",
    "id": 716229780,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxNjIyOTc4MA==",
    "user": {
      "login": "nventuro",
      "id": 2530770,
      "node_id": "MDQ6VXNlcjI1MzA3NzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2530770?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nventuro",
      "html_url": "https://github.com/nventuro",
      "followers_url": "https://api.github.com/users/nventuro/followers",
      "following_url": "https://api.github.com/users/nventuro/following{/other_user}",
      "gists_url": "https://api.github.com/users/nventuro/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nventuro/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nventuro/subscriptions",
      "organizations_url": "https://api.github.com/users/nventuro/orgs",
      "repos_url": "https://api.github.com/users/nventuro/repos",
      "events_url": "https://api.github.com/users/nventuro/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nventuro/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-25T23:21:34Z",
    "updated_at": "2020-10-25T23:21:34Z",
    "author_association": "CONTRIBUTOR",
    "body": "Is there a simple way available today to do an unchecked read? Even if it involves an inline-assembly `sload`. Short loops (n < 10) are not uncommon, and `sload` is one of the most expensive operations in the EVM - the added gas overhead is in most cases unacceptable.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/716229780/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/716637931",
    "html_url": "https://github.com/ethereum/solidity/issues/9117#issuecomment-716637931",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/9117",
    "id": 716637931,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxNjYzNzkzMQ==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-26T15:48:41Z",
    "updated_at": "2020-10-26T15:48:41Z",
    "author_association": "MEMBER",
    "body": "If you know the loop is short and want to optimize sloads radically, what about a fixed-size array?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/716637931/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/716752747",
    "html_url": "https://github.com/ethereum/solidity/issues/9117#issuecomment-716752747",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/9117",
    "id": 716752747,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxNjc1Mjc0Nw==",
    "user": {
      "login": "nventuro",
      "id": 2530770,
      "node_id": "MDQ6VXNlcjI1MzA3NzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2530770?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nventuro",
      "html_url": "https://github.com/nventuro",
      "followers_url": "https://api.github.com/users/nventuro/followers",
      "following_url": "https://api.github.com/users/nventuro/following{/other_user}",
      "gists_url": "https://api.github.com/users/nventuro/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nventuro/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nventuro/subscriptions",
      "organizations_url": "https://api.github.com/users/nventuro/orgs",
      "repos_url": "https://api.github.com/users/nventuro/repos",
      "events_url": "https://api.github.com/users/nventuro/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nventuro/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-26T18:49:47Z",
    "updated_at": "2020-10-26T18:49:47Z",
    "author_association": "CONTRIBUTOR",
    "body": "Sadly they are not fixed-size but dynamic, forcing static arrays with some upper-bound imposes restrictions and extra costs that are also undesirable. \r\n\r\nBesides, that's not really related to the point being made here about many code patterns leading to scenarios where the indexes are trivially known to be below the length, making these extra reads and checks wasteful.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/716752747/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/716779568",
    "html_url": "https://github.com/ethereum/solidity/issues/9117#issuecomment-716779568",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/9117",
    "id": 716779568,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxNjc3OTU2OA==",
    "user": {
      "login": "hrkrshnn",
      "id": 13174375,
      "node_id": "MDQ6VXNlcjEzMTc0Mzc1",
      "avatar_url": "https://avatars.githubusercontent.com/u/13174375?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hrkrshnn",
      "html_url": "https://github.com/hrkrshnn",
      "followers_url": "https://api.github.com/users/hrkrshnn/followers",
      "following_url": "https://api.github.com/users/hrkrshnn/following{/other_user}",
      "gists_url": "https://api.github.com/users/hrkrshnn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hrkrshnn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hrkrshnn/subscriptions",
      "organizations_url": "https://api.github.com/users/hrkrshnn/orgs",
      "repos_url": "https://api.github.com/users/hrkrshnn/repos",
      "events_url": "https://api.github.com/users/hrkrshnn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hrkrshnn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-26T19:41:13Z",
    "updated_at": "2020-10-26T19:43:47Z",
    "author_association": "MEMBER",
    "body": "> scenarios where the indexes are trivially known to be below the length\r\n\r\nCan you write more about these scenarios? (other than examples with require.) Do you think the compiler will be able to detect these cases?\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/716779568/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/716783697",
    "html_url": "https://github.com/ethereum/solidity/issues/9117#issuecomment-716783697",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/9117",
    "id": 716783697,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxNjc4MzY5Nw==",
    "user": {
      "login": "leonardoalt",
      "id": 504195,
      "node_id": "MDQ6VXNlcjUwNDE5NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/504195?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/leonardoalt",
      "html_url": "https://github.com/leonardoalt",
      "followers_url": "https://api.github.com/users/leonardoalt/followers",
      "following_url": "https://api.github.com/users/leonardoalt/following{/other_user}",
      "gists_url": "https://api.github.com/users/leonardoalt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/leonardoalt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/leonardoalt/subscriptions",
      "organizations_url": "https://api.github.com/users/leonardoalt/orgs",
      "repos_url": "https://api.github.com/users/leonardoalt/repos",
      "events_url": "https://api.github.com/users/leonardoalt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/leonardoalt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-26T19:49:36Z",
    "updated_at": "2020-10-26T19:49:36Z",
    "author_association": "MEMBER",
    "body": "@nventuro I highly disagree that these are trivial. If we're talking about *only* and *exactly* your example, sure, there's an AST pattern there. If *anything* changes, for example, `i` is incremented differently, there are branches inside the loop, the condition is a bit different, or even the same thing is simply written differently, the AST is different and you have to solve the general case. That can very easily become a very hard problem, since you're asking the compiler to automatically prove the loop invariant `start + i < array.length`.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/716783697/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/716798735",
    "html_url": "https://github.com/ethereum/solidity/issues/9117#issuecomment-716798735",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/9117",
    "id": 716798735,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxNjc5ODczNQ==",
    "user": {
      "login": "mudgen",
      "id": 49092,
      "node_id": "MDQ6VXNlcjQ5MDky",
      "avatar_url": "https://avatars.githubusercontent.com/u/49092?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mudgen",
      "html_url": "https://github.com/mudgen",
      "followers_url": "https://api.github.com/users/mudgen/followers",
      "following_url": "https://api.github.com/users/mudgen/following{/other_user}",
      "gists_url": "https://api.github.com/users/mudgen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mudgen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mudgen/subscriptions",
      "organizations_url": "https://api.github.com/users/mudgen/orgs",
      "repos_url": "https://api.github.com/users/mudgen/repos",
      "events_url": "https://api.github.com/users/mudgen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mudgen/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-26T20:18:16Z",
    "updated_at": "2020-10-26T20:19:22Z",
    "author_association": "NONE",
    "body": "In my code if there is a chance that an array index could be out of bounds I will want to make a `require` statement to check for that and provide a helpful error message explaining the contextual specifics of the error.    This makes the built-in array bounds checking redundant and wastes gas. Hence I would like to be able to turn it off.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/716798735/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/716804642",
    "html_url": "https://github.com/ethereum/solidity/issues/9117#issuecomment-716804642",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/9117",
    "id": 716804642,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxNjgwNDY0Mg==",
    "user": {
      "login": "axic",
      "id": 20340,
      "node_id": "MDQ6VXNlcjIwMzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/axic",
      "html_url": "https://github.com/axic",
      "followers_url": "https://api.github.com/users/axic/followers",
      "following_url": "https://api.github.com/users/axic/following{/other_user}",
      "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
      "organizations_url": "https://api.github.com/users/axic/orgs",
      "repos_url": "https://api.github.com/users/axic/repos",
      "events_url": "https://api.github.com/users/axic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/axic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-26T20:30:01Z",
    "updated_at": "2020-10-26T20:30:01Z",
    "author_association": "MEMBER",
    "body": "> Is there a simple way available today to do an unchecked read? Even if it involves an inline-assembly sload. Short loops (n < 10) are not uncommon, and sload is one of the most expensive operations in the EVM - the added gas overhead is in most cases unacceptable.\r\n\r\n@nventuro with [EIP-2929](https://eips.ethereum.org/EIPS/eip-2929) subsequent `SLOAD`s won't be as expensive. This EIP is being discussed for the next hard fork.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/716804642/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/716805344",
    "html_url": "https://github.com/ethereum/solidity/issues/9117#issuecomment-716805344",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/9117",
    "id": 716805344,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxNjgwNTM0NA==",
    "user": {
      "login": "leonardoalt",
      "id": 504195,
      "node_id": "MDQ6VXNlcjUwNDE5NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/504195?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/leonardoalt",
      "html_url": "https://github.com/leonardoalt",
      "followers_url": "https://api.github.com/users/leonardoalt/followers",
      "following_url": "https://api.github.com/users/leonardoalt/following{/other_user}",
      "gists_url": "https://api.github.com/users/leonardoalt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/leonardoalt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/leonardoalt/subscriptions",
      "organizations_url": "https://api.github.com/users/leonardoalt/orgs",
      "repos_url": "https://api.github.com/users/leonardoalt/repos",
      "events_url": "https://api.github.com/users/leonardoalt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/leonardoalt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-26T20:31:13Z",
    "updated_at": "2020-10-26T20:31:13Z",
    "author_association": "MEMBER",
    "body": "@mudgen so you'd write your own requires all over a `sort` implementation, for example? Sounds unlikely to me. Or would you just trust your code, and assume all accesses are safe? Sounds quite unsafe to me. Or would you formally verify your sorting function? Sounds not very doable to me, at least automatically.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/716805344/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/716809929",
    "html_url": "https://github.com/ethereum/solidity/issues/9117#issuecomment-716809929",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/9117",
    "id": 716809929,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxNjgwOTkyOQ==",
    "user": {
      "login": "mudgen",
      "id": 49092,
      "node_id": "MDQ6VXNlcjQ5MDky",
      "avatar_url": "https://avatars.githubusercontent.com/u/49092?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mudgen",
      "html_url": "https://github.com/mudgen",
      "followers_url": "https://api.github.com/users/mudgen/followers",
      "following_url": "https://api.github.com/users/mudgen/following{/other_user}",
      "gists_url": "https://api.github.com/users/mudgen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mudgen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mudgen/subscriptions",
      "organizations_url": "https://api.github.com/users/mudgen/orgs",
      "repos_url": "https://api.github.com/users/mudgen/repos",
      "events_url": "https://api.github.com/users/mudgen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mudgen/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-26T20:39:33Z",
    "updated_at": "2020-10-26T20:39:33Z",
    "author_association": "NONE",
    "body": "@leonardoalt I don't know. I'd have to look at the specific implementation.  If I'm looping over an array using its length as the max bound then I don't need bound checking.\r\n\r\nI'd like to be able to use automatic bound checking where it makes sense and not use it where it doesn't make sense.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/716809929/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/716810676",
    "html_url": "https://github.com/ethereum/solidity/issues/9117#issuecomment-716810676",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/9117",
    "id": 716810676,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxNjgxMDY3Ng==",
    "user": {
      "login": "leonardoalt",
      "id": 504195,
      "node_id": "MDQ6VXNlcjUwNDE5NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/504195?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/leonardoalt",
      "html_url": "https://github.com/leonardoalt",
      "followers_url": "https://api.github.com/users/leonardoalt/followers",
      "following_url": "https://api.github.com/users/leonardoalt/following{/other_user}",
      "gists_url": "https://api.github.com/users/leonardoalt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/leonardoalt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/leonardoalt/subscriptions",
      "organizations_url": "https://api.github.com/users/leonardoalt/orgs",
      "repos_url": "https://api.github.com/users/leonardoalt/repos",
      "events_url": "https://api.github.com/users/leonardoalt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/leonardoalt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-26T20:41:09Z",
    "updated_at": "2020-10-26T20:41:09Z",
    "author_association": "MEMBER",
    "body": "So you want an entirely new completely unsafe feature for this one very specific use case.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/716810676/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/716811355",
    "html_url": "https://github.com/ethereum/solidity/issues/9117#issuecomment-716811355",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/9117",
    "id": 716811355,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxNjgxMTM1NQ==",
    "user": {
      "login": "mudgen",
      "id": 49092,
      "node_id": "MDQ6VXNlcjQ5MDky",
      "avatar_url": "https://avatars.githubusercontent.com/u/49092?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mudgen",
      "html_url": "https://github.com/mudgen",
      "followers_url": "https://api.github.com/users/mudgen/followers",
      "following_url": "https://api.github.com/users/mudgen/following{/other_user}",
      "gists_url": "https://api.github.com/users/mudgen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mudgen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mudgen/subscriptions",
      "organizations_url": "https://api.github.com/users/mudgen/orgs",
      "repos_url": "https://api.github.com/users/mudgen/repos",
      "events_url": "https://api.github.com/users/mudgen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mudgen/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-26T20:42:35Z",
    "updated_at": "2020-10-26T20:49:51Z",
    "author_association": "NONE",
    "body": "It is easy to use safely and it has wide use. For example looping over an array using its length for the max bound is very common.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/716811355/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/716825008",
    "html_url": "https://github.com/ethereum/solidity/issues/9117#issuecomment-716825008",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/9117",
    "id": 716825008,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxNjgyNTAwOA==",
    "user": {
      "login": "leonardoalt",
      "id": 504195,
      "node_id": "MDQ6VXNlcjUwNDE5NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/504195?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/leonardoalt",
      "html_url": "https://github.com/leonardoalt",
      "followers_url": "https://api.github.com/users/leonardoalt/followers",
      "following_url": "https://api.github.com/users/leonardoalt/following{/other_user}",
      "gists_url": "https://api.github.com/users/leonardoalt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/leonardoalt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/leonardoalt/subscriptions",
      "organizations_url": "https://api.github.com/users/leonardoalt/orgs",
      "repos_url": "https://api.github.com/users/leonardoalt/repos",
      "events_url": "https://api.github.com/users/leonardoalt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/leonardoalt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-26T21:09:16Z",
    "updated_at": "2020-10-26T21:09:16Z",
    "author_association": "MEMBER",
    "body": "Now we're just going in loops, I already voice my opinion.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/716825008/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/716918009",
    "html_url": "https://github.com/ethereum/solidity/issues/9117#issuecomment-716918009",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/9117",
    "id": 716918009,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxNjkxODAwOQ==",
    "user": {
      "login": "nventuro",
      "id": 2530770,
      "node_id": "MDQ6VXNlcjI1MzA3NzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2530770?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nventuro",
      "html_url": "https://github.com/nventuro",
      "followers_url": "https://api.github.com/users/nventuro/followers",
      "following_url": "https://api.github.com/users/nventuro/following{/other_user}",
      "gists_url": "https://api.github.com/users/nventuro/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nventuro/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nventuro/subscriptions",
      "organizations_url": "https://api.github.com/users/nventuro/orgs",
      "repos_url": "https://api.github.com/users/nventuro/repos",
      "events_url": "https://api.github.com/users/nventuro/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nventuro/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-27T01:27:38Z",
    "updated_at": "2020-10-27T01:27:38Z",
    "author_association": "CONTRIBUTOR",
    "body": ">the AST is different and you have to solve the general case. That can very easily become a very hard problem, since you're asking the compiler to automatically prove the loop invariant\r\n\r\nTo be clear, I'm not asking the compiler to do this for me. I understand the general problem is very hard (and can be made harder if the contents of the loop can potentially alter the array in question), and even a great solution would not cover all cases.\r\n\r\nWhat I'm saying is, there's concrete scenarios where I as a developer _know_ unchecked access is fine, and would like to be able to opt-in to avoid performing work that is (based on my analysis) wasteful.\r\n\r\n>with EIP-2929 subsequent SLOADs won't be as expensive\r\n\r\nI was not aware of the 'warm' part of that EIP, thanks!",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/716918009/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/719601326",
    "html_url": "https://github.com/ethereum/solidity/issues/9117#issuecomment-719601326",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/9117",
    "id": 719601326,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxOTYwMTMyNg==",
    "user": {
      "login": "nventuro",
      "id": 2530770,
      "node_id": "MDQ6VXNlcjI1MzA3NzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2530770?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nventuro",
      "html_url": "https://github.com/nventuro",
      "followers_url": "https://api.github.com/users/nventuro/followers",
      "following_url": "https://api.github.com/users/nventuro/following{/other_user}",
      "gists_url": "https://api.github.com/users/nventuro/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nventuro/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nventuro/subscriptions",
      "organizations_url": "https://api.github.com/users/nventuro/orgs",
      "repos_url": "https://api.github.com/users/nventuro/repos",
      "events_url": "https://api.github.com/users/nventuro/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nventuro/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-30T14:55:37Z",
    "updated_at": "2020-10-30T14:55:37Z",
    "author_association": "CONTRIBUTOR",
    "body": "Are there any plans to do range-based loops in 0.8? I'm able to replace checked storage array access by mimicking arrays with index -> value mappings plus a length field, but for memory arrays that doesn't work as well.\r\n\r\nAs a crutch, it'd be great to otherwise have some form of unsafe access, leaving it up to the developer. I've managed to reduce gas costs for our most sensitive use case by 20% just with unchecked storage access.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/719601326/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/719679962",
    "html_url": "https://github.com/ethereum/solidity/issues/9117#issuecomment-719679962",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/9117",
    "id": 719679962,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxOTY3OTk2Mg==",
    "user": {
      "login": "axic",
      "id": 20340,
      "node_id": "MDQ6VXNlcjIwMzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/axic",
      "html_url": "https://github.com/axic",
      "followers_url": "https://api.github.com/users/axic/followers",
      "following_url": "https://api.github.com/users/axic/following{/other_user}",
      "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
      "organizations_url": "https://api.github.com/users/axic/orgs",
      "repos_url": "https://api.github.com/users/axic/repos",
      "events_url": "https://api.github.com/users/axic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/axic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-30T17:10:03Z",
    "updated_at": "2020-10-30T17:10:03Z",
    "author_association": "MEMBER",
    "body": "@nventuro it is not planned atm. Also created a new issue to discuss range based loop specifically (#10162), given this issue is a different discussion.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/719679962/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/719705373",
    "html_url": "https://github.com/ethereum/solidity/issues/9117#issuecomment-719705373",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/9117",
    "id": 719705373,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxOTcwNTM3Mw==",
    "user": {
      "login": "axic",
      "id": 20340,
      "node_id": "MDQ6VXNlcjIwMzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/axic",
      "html_url": "https://github.com/axic",
      "followers_url": "https://api.github.com/users/axic/followers",
      "following_url": "https://api.github.com/users/axic/following{/other_user}",
      "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
      "organizations_url": "https://api.github.com/users/axic/orgs",
      "repos_url": "https://api.github.com/users/axic/repos",
      "events_url": "https://api.github.com/users/axic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/axic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-30T17:53:41Z",
    "updated_at": "2020-10-30T17:53:41Z",
    "author_association": "MEMBER",
    "body": "Also there's this comment from @chriseth on the previous discussion https://github.com/ethereum/solidity/issues/9054#issuecomment-641194378:\r\n\r\n> @nventuro are you talking about the check in `++i`? In the new code generator, the compiler should be able to get rid of it and for the old generator, if it is not possible to optimize that, then the following should work:\r\n>\r\n> ```\r\n> for (uint256 i = 0; i < array.length; unchecked { ++i } ) {\r\n>   ...\r\n> }\r\n> ```",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/719705373/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1171333699",
    "html_url": "https://github.com/ethereum/solidity/issues/9117#issuecomment-1171333699",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/9117",
    "id": 1171333699,
    "node_id": "IC_kwDOAm_5kc5F0SJD",
    "user": {
      "login": "frangio",
      "id": 481465,
      "node_id": "MDQ6VXNlcjQ4MTQ2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/481465?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/frangio",
      "html_url": "https://github.com/frangio",
      "followers_url": "https://api.github.com/users/frangio/followers",
      "following_url": "https://api.github.com/users/frangio/following{/other_user}",
      "gists_url": "https://api.github.com/users/frangio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/frangio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/frangio/subscriptions",
      "organizations_url": "https://api.github.com/users/frangio/orgs",
      "repos_url": "https://api.github.com/users/frangio/repos",
      "events_url": "https://api.github.com/users/frangio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/frangio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-30T15:03:11Z",
    "updated_at": "2022-06-30T15:03:11Z",
    "author_association": "CONTRIBUTOR",
    "body": "What is the current thinking on this feature? Array-heavy code could definitely benefit from it.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1171333699/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1171383305",
    "html_url": "https://github.com/ethereum/solidity/issues/9117#issuecomment-1171383305",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/9117",
    "id": 1171383305,
    "node_id": "IC_kwDOAm_5kc5F0eQJ",
    "user": {
      "login": "Amxx",
      "id": 2432299,
      "node_id": "MDQ6VXNlcjI0MzIyOTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2432299?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Amxx",
      "html_url": "https://github.com/Amxx",
      "followers_url": "https://api.github.com/users/Amxx/followers",
      "following_url": "https://api.github.com/users/Amxx/following{/other_user}",
      "gists_url": "https://api.github.com/users/Amxx/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Amxx/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Amxx/subscriptions",
      "organizations_url": "https://api.github.com/users/Amxx/orgs",
      "repos_url": "https://api.github.com/users/Amxx/repos",
      "events_url": "https://api.github.com/users/Amxx/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Amxx/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-30T15:47:15Z",
    "updated_at": "2022-06-30T15:47:15Z",
    "author_association": "NONE",
    "body": "I'd like to add that it is not just about for loops. Some other pieces of code would benefit from that:\r\n\r\nIn the case of [this](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/master/contracts/utils/Checkpoints.sol#L39-L53), checking the bound would cost one  `sload` per iteration which is 100gas each time.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1171383305/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1198003153",
    "html_url": "https://github.com/ethereum/solidity/issues/9117#issuecomment-1198003153",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/9117",
    "id": 1198003153,
    "node_id": "IC_kwDOAm_5kc5HaBPR",
    "user": {
      "login": "zemse",
      "id": 22412996,
      "node_id": "MDQ6VXNlcjIyNDEyOTk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/22412996?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zemse",
      "html_url": "https://github.com/zemse",
      "followers_url": "https://api.github.com/users/zemse/followers",
      "following_url": "https://api.github.com/users/zemse/following{/other_user}",
      "gists_url": "https://api.github.com/users/zemse/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zemse/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zemse/subscriptions",
      "organizations_url": "https://api.github.com/users/zemse/orgs",
      "repos_url": "https://api.github.com/users/zemse/repos",
      "events_url": "https://api.github.com/users/zemse/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zemse/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-28T11:12:43Z",
    "updated_at": "2022-07-28T11:12:43Z",
    "author_association": "NONE",
    "body": "It might be obvious but just to mention, unchecked array access can be deadly if user inputs reach the array index, basically attacker could have the contract read a value from any slot they want and contract would process it. But yeah as long as only dev gets to input the index, it'd be great if the language provides \"unsafe\" methods. This would also hint devs that they should be careful and prevent user from manipulating the array index.\r\n\r\nBut for those who are gas golfing/need this right now, they can anytime drop to assembly and do stuff. For e.g.\r\n\r\n```solidity\r\ncontract MyContract {\r\n    using Uint256Array for uint[];\r\n    using Uint256Array for uint;\r\n\r\n    uint[] public myArray;\r\n\r\n    function sum() external  view returns (uint result){\r\n        uint len = myArray.length;\r\n        uint arrayPointer = myArray.pointer();\r\n        for(uint i; i < len; i++) {\r\n            result += arrayPointer.unsafeAccess(i);\r\n        }\r\n    }\r\n}\r\n\r\nlibrary Uint256Array {\r\n    function pointer(uint[] storage arr) internal view returns (uint256 result) {\r\n        assembly {\r\n            mstore(0, arr.slot)\r\n            result := keccak256(0, 0x20)\r\n        }\r\n    }\r\n\r\n    function unsafeAccess(uint p, uint index) internal view returns (uint result) {\r\n        assembly {\r\n            result := sload(add(p, index))\r\n        }\r\n    }\r\n}\r\n```\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1198003153/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
