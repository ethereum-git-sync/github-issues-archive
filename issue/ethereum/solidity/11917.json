{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/11917",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/11917/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/11917/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/11917/events",
  "html_url": "https://github.com/ethereum/solidity/issues/11917",
  "id": 992150908,
  "node_id": "MDU6SXNzdWU5OTIxNTA5MDg=",
  "number": 11917,
  "title": "[soltest] Command-line validation errors should not look like an ICE",
  "user": {
    "login": "cameel",
    "id": 137030,
    "node_id": "MDQ6VXNlcjEzNzAzMA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/cameel",
    "html_url": "https://github.com/cameel",
    "followers_url": "https://api.github.com/users/cameel/followers",
    "following_url": "https://api.github.com/users/cameel/following{/other_user}",
    "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
    "organizations_url": "https://api.github.com/users/cameel/orgs",
    "repos_url": "https://api.github.com/users/cameel/repos",
    "events_url": "https://api.github.com/users/cameel/events{/privacy}",
    "received_events_url": "https://api.github.com/users/cameel/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 717596767,
      "node_id": "MDU6TGFiZWw3MTc1OTY3Njc=",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/good%20first%20issue",
      "name": "good first issue",
      "color": "006b75",
      "default": true,
      "description": ""
    },
    {
      "id": 1012613901,
      "node_id": "MDU6TGFiZWwxMDEyNjEzOTAx",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/easy%20difficulty",
      "name": "easy difficulty",
      "color": "0b3f89",
      "default": false,
      "description": ""
    },
    {
      "id": 1018738457,
      "node_id": "MDU6TGFiZWwxMDE4NzM4NDU3",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/testing%20:hammer:",
      "name": "testing :hammer:",
      "color": "ffc6db",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2021-09-09T12:11:41Z",
  "updated_at": "2022-04-07T11:12:44Z",
  "closed_at": "2022-04-07T11:12:44Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "Currently validation errors are reported as if they were internal compiler errors which makes it look like as if a bug in the compiler was triggered. A nicely formatted message should be printed instead.\r\n\r\nFor example the error caused by using `--testpath` with an empty value looks like this:\r\n```bash\r\nsoltest -- --testpath\r\n```\r\n```\r\nTest setup error: Throw location unknown (consider using BOOST_THROW_EXCEPTION)\r\nDynamic exception type: boost::wrapexcept<boost::program_options::invalid_command_line_syntax>\r\nstd::exception::what: the required argument for option '--testpath' is missing\r\n```",
  "closed_by": {
    "login": "christianparpart",
    "id": 56763,
    "node_id": "MDQ6VXNlcjU2NzYz",
    "avatar_url": "https://avatars.githubusercontent.com/u/56763?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/christianparpart",
    "html_url": "https://github.com/christianparpart",
    "followers_url": "https://api.github.com/users/christianparpart/followers",
    "following_url": "https://api.github.com/users/christianparpart/following{/other_user}",
    "gists_url": "https://api.github.com/users/christianparpart/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/christianparpart/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/christianparpart/subscriptions",
    "organizations_url": "https://api.github.com/users/christianparpart/orgs",
    "repos_url": "https://api.github.com/users/christianparpart/repos",
    "events_url": "https://api.github.com/users/christianparpart/events{/privacy}",
    "received_events_url": "https://api.github.com/users/christianparpart/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/11917/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/11917/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/916110957",
    "html_url": "https://github.com/ethereum/solidity/issues/11917#issuecomment-916110957",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/11917",
    "id": 916110957,
    "node_id": "IC_kwDOAm_5kc42mr5t",
    "user": {
      "login": "ezioishan",
      "id": 44879608,
      "node_id": "MDQ6VXNlcjQ0ODc5NjA4",
      "avatar_url": "https://avatars.githubusercontent.com/u/44879608?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ezioishan",
      "html_url": "https://github.com/ezioishan",
      "followers_url": "https://api.github.com/users/ezioishan/followers",
      "following_url": "https://api.github.com/users/ezioishan/following{/other_user}",
      "gists_url": "https://api.github.com/users/ezioishan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ezioishan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ezioishan/subscriptions",
      "organizations_url": "https://api.github.com/users/ezioishan/orgs",
      "repos_url": "https://api.github.com/users/ezioishan/repos",
      "events_url": "https://api.github.com/users/ezioishan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ezioishan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-09T13:43:35Z",
    "updated_at": "2021-09-09T13:43:35Z",
    "author_association": "NONE",
    "body": "Hey, I would like to work on this issue. Can you explain me how to reproduce it and what message to be displayed on such an error",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/916110957/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/916133318",
    "html_url": "https://github.com/ethereum/solidity/issues/11917#issuecomment-916133318",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/11917",
    "id": 916133318,
    "node_id": "IC_kwDOAm_5kc42mxXG",
    "user": {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-09T14:08:44Z",
    "updated_at": "2021-09-09T14:12:48Z",
    "author_association": "MEMBER",
    "body": "Great! The instructions to reproduce are in the description - just built the compiler and run `soltest` executable (you'll find it in `build/test/soltest` with the parameters I have shown. You'll see the error I'm showing above.\r\n\r\nIn this particular case it would be enough for it to print something like:\r\n```\r\nERROR: The required argument for option '--testpath' is missing.\r\n```\r\n\r\nThe code that validates it is in [`CommonOptions::validate()`](https://github.com/ethereum/solidity/blob/3e2e3d1baa79a8761577eacc0d4b3476bd13cade/test/Common.cpp#L112-L137).\r\n\r\nWe can catch the `ConfigException` it raises but if `boost::program_options` provides a better mechanism to report an error from a validation we could use that too.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/916133318/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/916137409",
    "html_url": "https://github.com/ethereum/solidity/issues/11917#issuecomment-916137409",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/11917",
    "id": 916137409,
    "node_id": "IC_kwDOAm_5kc42myXB",
    "user": {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-09T14:13:08Z",
    "updated_at": "2021-09-09T14:13:08Z",
    "author_association": "MEMBER",
    "body": "Also note that the validations in `CommonOptions::validate()` are not the only ones. For example invalid options trigger a similar error:\r\n\r\n```bash\r\nsoltest -- --adsfasf\r\n```\r\n```\r\nTest setup error: Throw location unknown (consider using BOOST_THROW_EXCEPTION)\r\nDynamic exception type: boost::wrapexcept<boost::program_options::unknown_option>\r\nstd::exception::what: unrecognised option '--adsfasf'\r\n```\r\n\r\nSo after implementing it please make sure there are no obvious cases that still trigger errors looking like these.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/916137409/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/916949950",
    "html_url": "https://github.com/ethereum/solidity/issues/11917#issuecomment-916949950",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/11917",
    "id": 916949950,
    "node_id": "IC_kwDOAm_5kc42p4u-",
    "user": {
      "login": "ezioishan",
      "id": 44879608,
      "node_id": "MDQ6VXNlcjQ0ODc5NjA4",
      "avatar_url": "https://avatars.githubusercontent.com/u/44879608?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ezioishan",
      "html_url": "https://github.com/ezioishan",
      "followers_url": "https://api.github.com/users/ezioishan/followers",
      "following_url": "https://api.github.com/users/ezioishan/following{/other_user}",
      "gists_url": "https://api.github.com/users/ezioishan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ezioishan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ezioishan/subscriptions",
      "organizations_url": "https://api.github.com/users/ezioishan/orgs",
      "repos_url": "https://api.github.com/users/ezioishan/repos",
      "events_url": "https://api.github.com/users/ezioishan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ezioishan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-10T14:31:20Z",
    "updated_at": "2021-09-10T14:31:20Z",
    "author_association": "NONE",
    "body": "Hey, regarding building the compiler, I'm on windows and want to build it without using Visual Studio. Is it possible? If yes, then what commands to follow. (I have already installed the dependencies & pre-requisites to build according to the documentation)",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/916949950/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/916984501",
    "html_url": "https://github.com/ethereum/solidity/issues/11917#issuecomment-916984501",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/11917",
    "id": 916984501,
    "node_id": "IC_kwDOAm_5kc42qBK1",
    "user": {
      "login": "ezioishan",
      "id": 44879608,
      "node_id": "MDQ6VXNlcjQ0ODc5NjA4",
      "avatar_url": "https://avatars.githubusercontent.com/u/44879608?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ezioishan",
      "html_url": "https://github.com/ezioishan",
      "followers_url": "https://api.github.com/users/ezioishan/followers",
      "following_url": "https://api.github.com/users/ezioishan/following{/other_user}",
      "gists_url": "https://api.github.com/users/ezioishan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ezioishan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ezioishan/subscriptions",
      "organizations_url": "https://api.github.com/users/ezioishan/orgs",
      "repos_url": "https://api.github.com/users/ezioishan/repos",
      "events_url": "https://api.github.com/users/ezioishan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ezioishan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-10T15:18:00Z",
    "updated_at": "2021-09-10T15:18:00Z",
    "author_association": "NONE",
    "body": "I don't think I'll be able to build this. Please un-assign me from the task",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/916984501/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/917104029",
    "html_url": "https://github.com/ethereum/solidity/issues/11917#issuecomment-917104029",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/11917",
    "id": 917104029,
    "node_id": "IC_kwDOAm_5kc42qeWd",
    "user": {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-10T18:03:59Z",
    "updated_at": "2021-09-10T18:03:59Z",
    "author_association": "MEMBER",
    "body": "@ezioishan Unfortunately we only have the build steps for MSVC documented. Building with other compilers should be possible but it would probably require some changes to CMake configuration. If someone wanted to try, we'd accept patches to make it build but we only run MSVC in CI so it would likely break over time unless someone is also willing to maintain it long-term. The team is mostly on macOS and Linux so to be honest even supporting the MSVC build is sometimes problematic.\r\n\r\nMaybe building a Linux version using [WSL](https://docs.microsoft.com/en-us/windows/wsl) would be a viable option for you?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/917104029/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
