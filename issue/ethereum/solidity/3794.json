{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/3794",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/3794/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/3794/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/3794/events",
  "html_url": "https://github.com/ethereum/solidity/issues/3794",
  "id": 309427137,
  "node_id": "MDU6SXNzdWUzMDk0MjcxMzc=",
  "number": 3794,
  "title": "Comparison of int literals with different signs",
  "user": {
    "login": "tolymoz",
    "id": 37876612,
    "node_id": "MDQ6VXNlcjM3ODc2NjEy",
    "avatar_url": "https://avatars.githubusercontent.com/u/37876612?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tolymoz",
    "html_url": "https://github.com/tolymoz",
    "followers_url": "https://api.github.com/users/tolymoz/followers",
    "following_url": "https://api.github.com/users/tolymoz/following{/other_user}",
    "gists_url": "https://api.github.com/users/tolymoz/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tolymoz/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tolymoz/subscriptions",
    "organizations_url": "https://api.github.com/users/tolymoz/orgs",
    "repos_url": "https://api.github.com/users/tolymoz/repos",
    "events_url": "https://api.github.com/users/tolymoz/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tolymoz/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2018-03-28T15:52:41Z",
  "updated_at": "2018-06-26T15:50:29Z",
  "closed_at": "2018-06-26T15:50:29Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "It looks that comparison operators in _if_ statements work well with literals with the same signs\r\n`if ( 3 >= 5 ) { ... }`\r\n`if ( - 4 != -1 ) { ... }`\r\n\r\nbut with different signs, it gives unexpected compiler error\r\n`if ( -1 >= 4 ) { ... }`\r\nLogically, such operation should be valid.",
  "closed_by": {
    "login": "chriseth",
    "id": 9073706,
    "node_id": "MDQ6VXNlcjkwNzM3MDY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/chriseth",
    "html_url": "https://github.com/chriseth",
    "followers_url": "https://api.github.com/users/chriseth/followers",
    "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
    "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
    "organizations_url": "https://api.github.com/users/chriseth/orgs",
    "repos_url": "https://api.github.com/users/chriseth/repos",
    "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
    "received_events_url": "https://api.github.com/users/chriseth/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/3794/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/3794/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/377146157",
    "html_url": "https://github.com/ethereum/solidity/issues/3794#issuecomment-377146157",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/3794",
    "id": 377146157,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NzE0NjE1Nw==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-29T07:20:37Z",
    "updated_at": "2018-03-29T07:20:37Z",
    "author_association": "MEMBER",
    "body": "What do you mean by \"unexpected compiler error\"? Is it an internal error or is it just an error that you would net expect?\r\n\r\nIf it is not an internal error, then there are at least three different things that come together for this to happen:\r\n\r\n - we only have infinite precision for rational numbers and not for bools\r\n - the final type of a rational number only depends on the number itself and not the context in which it is used (otherwise it would be really confusing)\r\n - the type in which a binary operand is executed is always the type of one of the operands (this also helps with limiting the confusion, I would say, but it has other drawbacks)\r\n\r\nThe type of `-1` is `int8` and that of `4` is `uint8` (smallest type that can hold the number). These two types cannot be converted into each other, because they only have an overlapping value range. Thus, there is no common type in which the comparison could be done.\r\n\r\nOne way to solve this would be to weaken the requirement of \"the computation of a binary operator happens in the type of one of the operands\" for comparisons, since the result type is always bool and the type in which the comparison is performed does not matter (because there cannot be arithmetic overflow, for example).",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/377146157/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/377190438",
    "html_url": "https://github.com/ethereum/solidity/issues/3794#issuecomment-377190438",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/3794",
    "id": 377190438,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NzE5MDQzOA==",
    "user": {
      "login": "tolymoz",
      "id": 37876612,
      "node_id": "MDQ6VXNlcjM3ODc2NjEy",
      "avatar_url": "https://avatars.githubusercontent.com/u/37876612?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tolymoz",
      "html_url": "https://github.com/tolymoz",
      "followers_url": "https://api.github.com/users/tolymoz/followers",
      "following_url": "https://api.github.com/users/tolymoz/following{/other_user}",
      "gists_url": "https://api.github.com/users/tolymoz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tolymoz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tolymoz/subscriptions",
      "organizations_url": "https://api.github.com/users/tolymoz/orgs",
      "repos_url": "https://api.github.com/users/tolymoz/repos",
      "events_url": "https://api.github.com/users/tolymoz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tolymoz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-29T10:16:02Z",
    "updated_at": "2018-03-29T10:16:30Z",
    "author_association": "NONE",
    "body": "It looks comparison operators define literal types differently in the first and the second positions.\r\nIf we try with variables type conversion of comparison operators works well in both positions:\r\n`int8 x = -1;`\r\n`uint16 y = 10;`\r\n`if( x != y ) { ... } //OK`\r\n`if( y != x ) { ... } //OK`\r\n\r\nIf  we use one literal:\r\n`if( x != 1) {} //OK, 1 has type int8`\r\n`if( 1 != x) {} //Compiler error, 1 has type uint8`\r\nIntuitively, these two variants should be equivalent.\r\n\r\nSeems in the second position positive literals can be converted either to int or uint, but in the first position only to uint.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/377190438/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/377191970",
    "html_url": "https://github.com/ethereum/solidity/issues/3794#issuecomment-377191970",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/3794",
    "id": 377191970,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NzE5MTk3MA==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-29T10:22:37Z",
    "updated_at": "2018-03-29T10:22:37Z",
    "author_association": "MEMBER",
    "body": "Oh wow, this is weird. Created a new issue for that: https://github.com/ethereum/solidity/issues/3796",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/377191970/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/396711808",
    "html_url": "https://github.com/ethereum/solidity/issues/3794#issuecomment-396711808",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/3794",
    "id": 396711808,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NjcxMTgwOA==",
    "user": {
      "login": "axic",
      "id": 20340,
      "node_id": "MDQ6VXNlcjIwMzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/axic",
      "html_url": "https://github.com/axic",
      "followers_url": "https://api.github.com/users/axic/followers",
      "following_url": "https://api.github.com/users/axic/following{/other_user}",
      "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
      "organizations_url": "https://api.github.com/users/axic/orgs",
      "repos_url": "https://api.github.com/users/axic/repos",
      "events_url": "https://api.github.com/users/axic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/axic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-12T19:50:47Z",
    "updated_at": "2018-06-12T19:50:47Z",
    "author_association": "MEMBER",
    "body": "@chriseth I think this issue was superseded by #3796?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/396711808/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
