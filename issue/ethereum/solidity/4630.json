{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/4630",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/4630/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/4630/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/4630/events",
  "html_url": "https://github.com/ethereum/solidity/issues/4630",
  "id": 346181034,
  "node_id": "MDU6SXNzdWUzNDYxODEwMzQ=",
  "number": 4630,
  "title": "Proposal: Increase transfer and send gas limit",
  "user": {
    "login": "ben-kaufman",
    "id": 10667901,
    "node_id": "MDQ6VXNlcjEwNjY3OTAx",
    "avatar_url": "https://avatars.githubusercontent.com/u/10667901?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ben-kaufman",
    "html_url": "https://github.com/ben-kaufman",
    "followers_url": "https://api.github.com/users/ben-kaufman/followers",
    "following_url": "https://api.github.com/users/ben-kaufman/following{/other_user}",
    "gists_url": "https://api.github.com/users/ben-kaufman/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ben-kaufman/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ben-kaufman/subscriptions",
    "organizations_url": "https://api.github.com/users/ben-kaufman/orgs",
    "repos_url": "https://api.github.com/users/ben-kaufman/repos",
    "events_url": "https://api.github.com/users/ben-kaufman/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ben-kaufman/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 8,
  "created_at": "2018-07-31T13:11:36Z",
  "updated_at": "2022-07-28T19:09:13Z",
  "closed_at": "2018-08-01T07:11:52Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Currently, ``transfer()`` and ``send`` address functions have a limit of ``2,300 gas units``.\r\nAs far as I know, this limit was added to prevent reentrancy attacks.\r\nThis limitation should be enough (in general) for some small (gaswise) operations, for example, triggering events.\r\n\r\nI believe this limitation is too restrictive and should be raised to around ``3,500 gas units``.\r\n\r\nMy main concern regarding this limitation is the problem it causes with Proxy contracts.\r\nAs the Proxy pattern getting more popular, it has a big disadvantage of using around ``1,000 gas units`` on average, thus, when triggering the fallback function of its logic contract, it has only around ``1,300 gas units`` for the fallback's actual execution.\r\nFor my own implementation, I had enough gas to use ``LOG`` with one non-indexed parameter. Everything above that crossed the limit. While other implementation might be able to do a bit more it still won't have the sufficient gas for decent logging.\r\nRaising the limit to cover up for the Proxy costs should allow decent fallback functions for proxies.\r\nI also don't see any reason for the limit to be this low as even with a slightly higher limit it is still not possible to cause state changes in other contracts.",
  "closed_by": {
    "login": "ben-kaufman",
    "id": 10667901,
    "node_id": "MDQ6VXNlcjEwNjY3OTAx",
    "avatar_url": "https://avatars.githubusercontent.com/u/10667901?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ben-kaufman",
    "html_url": "https://github.com/ben-kaufman",
    "followers_url": "https://api.github.com/users/ben-kaufman/followers",
    "following_url": "https://api.github.com/users/ben-kaufman/following{/other_user}",
    "gists_url": "https://api.github.com/users/ben-kaufman/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ben-kaufman/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ben-kaufman/subscriptions",
    "organizations_url": "https://api.github.com/users/ben-kaufman/orgs",
    "repos_url": "https://api.github.com/users/ben-kaufman/repos",
    "events_url": "https://api.github.com/users/ben-kaufman/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ben-kaufman/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/4630/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/4630/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/409218575",
    "html_url": "https://github.com/ethereum/solidity/issues/4630#issuecomment-409218575",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/4630",
    "id": 409218575,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwOTIxODU3NQ==",
    "user": {
      "login": "axic",
      "id": 20340,
      "node_id": "MDQ6VXNlcjIwMzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/axic",
      "html_url": "https://github.com/axic",
      "followers_url": "https://api.github.com/users/axic/followers",
      "following_url": "https://api.github.com/users/axic/following{/other_user}",
      "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
      "organizations_url": "https://api.github.com/users/axic/orgs",
      "repos_url": "https://api.github.com/users/axic/repos",
      "events_url": "https://api.github.com/users/axic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/axic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-31T13:21:45Z",
    "updated_at": "2018-07-31T13:21:45Z",
    "author_association": "MEMBER",
    "body": "Since the 2300 gas is added by design of the EVM (when there is a non-zero value transfer), there is nothing the Solidity compiler is doing here.\r\n\r\nNote: the compiler adds an extra piece of code to ensure 2300 is sent even when the value being sent is 0.\r\n\r\nAs you noted, the goal with `transfer` is to only offer value transfer based on the protocol rules and to not facilitate general function execution.\r\n\r\nTherefore I suggest to raise this suggestion on https://github.com/etheruem/EIPs",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/409218575/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/409236508",
    "html_url": "https://github.com/ethereum/solidity/issues/4630#issuecomment-409236508",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/4630",
    "id": 409236508,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwOTIzNjUwOA==",
    "user": {
      "login": "axic",
      "id": 20340,
      "node_id": "MDQ6VXNlcjIwMzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/axic",
      "html_url": "https://github.com/axic",
      "followers_url": "https://api.github.com/users/axic/followers",
      "following_url": "https://api.github.com/users/axic/following{/other_user}",
      "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
      "organizations_url": "https://api.github.com/users/axic/orgs",
      "repos_url": "https://api.github.com/users/axic/repos",
      "events_url": "https://api.github.com/users/axic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/axic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-31T14:15:35Z",
    "updated_at": "2018-07-31T14:15:35Z",
    "author_association": "MEMBER",
    "body": "@ben-kaufman does this answer your question/proposal?\r\n\r\n@ChrisChinchilla is the documentation properly describing this caveat of `transfer`?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/409236508/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/409473547",
    "html_url": "https://github.com/ethereum/solidity/issues/4630#issuecomment-409473547",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/4630",
    "id": 409473547,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwOTQ3MzU0Nw==",
    "user": {
      "login": "ben-kaufman",
      "id": 10667901,
      "node_id": "MDQ6VXNlcjEwNjY3OTAx",
      "avatar_url": "https://avatars.githubusercontent.com/u/10667901?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ben-kaufman",
      "html_url": "https://github.com/ben-kaufman",
      "followers_url": "https://api.github.com/users/ben-kaufman/followers",
      "following_url": "https://api.github.com/users/ben-kaufman/following{/other_user}",
      "gists_url": "https://api.github.com/users/ben-kaufman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ben-kaufman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ben-kaufman/subscriptions",
      "organizations_url": "https://api.github.com/users/ben-kaufman/orgs",
      "repos_url": "https://api.github.com/users/ben-kaufman/repos",
      "events_url": "https://api.github.com/users/ben-kaufman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ben-kaufman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-01T07:11:51Z",
    "updated_at": "2018-08-01T07:11:51Z",
    "author_association": "NONE",
    "body": "@axic Yes, thanks.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/409473547/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/409516374",
    "html_url": "https://github.com/ethereum/solidity/issues/4630#issuecomment-409516374",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/4630",
    "id": 409516374,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwOTUxNjM3NA==",
    "user": {
      "login": "ChrisChinchilla",
      "id": 42080,
      "node_id": "MDQ6VXNlcjQyMDgw",
      "avatar_url": "https://avatars.githubusercontent.com/u/42080?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ChrisChinchilla",
      "html_url": "https://github.com/ChrisChinchilla",
      "followers_url": "https://api.github.com/users/ChrisChinchilla/followers",
      "following_url": "https://api.github.com/users/ChrisChinchilla/following{/other_user}",
      "gists_url": "https://api.github.com/users/ChrisChinchilla/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ChrisChinchilla/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ChrisChinchilla/subscriptions",
      "organizations_url": "https://api.github.com/users/ChrisChinchilla/orgs",
      "repos_url": "https://api.github.com/users/ChrisChinchilla/repos",
      "events_url": "https://api.github.com/users/ChrisChinchilla/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ChrisChinchilla/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-01T09:40:38Z",
    "updated_at": "2018-08-01T09:40:38Z",
    "author_association": "CONTRIBUTOR",
    "body": "@axic I had a look, and it's mentioned in a few places as being a 'gas stipend', but not really anywhere that it's a limit, which seems important, so I'll create an issue/PR for this.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/409516374/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/409519801",
    "html_url": "https://github.com/ethereum/solidity/issues/4630#issuecomment-409519801",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/4630",
    "id": 409519801,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwOTUxOTgwMQ==",
    "user": {
      "login": "axic",
      "id": 20340,
      "node_id": "MDQ6VXNlcjIwMzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/axic",
      "html_url": "https://github.com/axic",
      "followers_url": "https://api.github.com/users/axic/followers",
      "following_url": "https://api.github.com/users/axic/following{/other_user}",
      "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
      "organizations_url": "https://api.github.com/users/axic/orgs",
      "repos_url": "https://api.github.com/users/axic/repos",
      "events_url": "https://api.github.com/users/axic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/axic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-01T09:52:44Z",
    "updated_at": "2018-08-01T09:52:44Z",
    "author_association": "MEMBER",
    "body": "Thanks!",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/409519801/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/409562782",
    "html_url": "https://github.com/ethereum/solidity/issues/4630#issuecomment-409562782",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/4630",
    "id": 409562782,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwOTU2Mjc4Mg==",
    "user": {
      "login": "axic",
      "id": 20340,
      "node_id": "MDQ6VXNlcjIwMzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/axic",
      "html_url": "https://github.com/axic",
      "followers_url": "https://api.github.com/users/axic/followers",
      "following_url": "https://api.github.com/users/axic/following{/other_user}",
      "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
      "organizations_url": "https://api.github.com/users/axic/orgs",
      "repos_url": "https://api.github.com/users/axic/repos",
      "events_url": "https://api.github.com/users/axic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/axic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-01T12:48:27Z",
    "updated_at": "2018-08-01T12:48:27Z",
    "author_association": "MEMBER",
    "body": "An EIP has been proposed to change this: https://github.com/ethereum/EIPs/issues/1285",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/409562782/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/642477022",
    "html_url": "https://github.com/ethereum/solidity/issues/4630#issuecomment-642477022",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/4630",
    "id": 642477022,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0MjQ3NzAyMg==",
    "user": {
      "login": "shanefontaine",
      "id": 9441295,
      "node_id": "MDQ6VXNlcjk0NDEyOTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9441295?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/shanefontaine",
      "html_url": "https://github.com/shanefontaine",
      "followers_url": "https://api.github.com/users/shanefontaine/followers",
      "following_url": "https://api.github.com/users/shanefontaine/following{/other_user}",
      "gists_url": "https://api.github.com/users/shanefontaine/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/shanefontaine/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/shanefontaine/subscriptions",
      "organizations_url": "https://api.github.com/users/shanefontaine/orgs",
      "repos_url": "https://api.github.com/users/shanefontaine/repos",
      "events_url": "https://api.github.com/users/shanefontaine/events{/privacy}",
      "received_events_url": "https://api.github.com/users/shanefontaine/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-11T07:51:39Z",
    "updated_at": "2020-06-11T07:51:39Z",
    "author_association": "NONE",
    "body": "> Note: the compiler adds an extra piece of code to ensure 2300 is sent even when the value being sent is 0.\r\n\r\n@axic is there reasoning behind this decision?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/642477022/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1198531701",
    "html_url": "https://github.com/ethereum/solidity/issues/4630#issuecomment-1198531701",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/4630",
    "id": 1198531701,
    "node_id": "IC_kwDOAm_5kc5HcCR1",
    "user": {
      "login": "CryptoKiddies",
      "id": 32784002,
      "node_id": "MDQ6VXNlcjMyNzg0MDAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/32784002?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/CryptoKiddies",
      "html_url": "https://github.com/CryptoKiddies",
      "followers_url": "https://api.github.com/users/CryptoKiddies/followers",
      "following_url": "https://api.github.com/users/CryptoKiddies/following{/other_user}",
      "gists_url": "https://api.github.com/users/CryptoKiddies/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/CryptoKiddies/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/CryptoKiddies/subscriptions",
      "organizations_url": "https://api.github.com/users/CryptoKiddies/orgs",
      "repos_url": "https://api.github.com/users/CryptoKiddies/repos",
      "events_url": "https://api.github.com/users/CryptoKiddies/events{/privacy}",
      "received_events_url": "https://api.github.com/users/CryptoKiddies/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-28T19:09:13Z",
    "updated_at": "2022-07-28T19:09:13Z",
    "author_association": "NONE",
    "body": "> > Note: the compiler adds an extra piece of code to ensure 2300 is sent even when the value being sent is 0.\r\n> \r\n> @axic is there reasoning behind this decision?\r\n\r\n+1 the compiler should not be opinionated on this matter, following the restrict first then relax security pattern.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1198531701/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
