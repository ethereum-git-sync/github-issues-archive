{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/5542",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/5542/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/5542/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/5542/events",
  "html_url": "https://github.com/ethereum/solidity/issues/5542",
  "id": 385761285,
  "node_id": "MDU6SXNzdWUzODU3NjEyODU=",
  "number": 5542,
  "title": "Optimizer: Provide simplification rules as strings",
  "user": {
    "login": "chriseth",
    "id": 9073706,
    "node_id": "MDQ6VXNlcjkwNzM3MDY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/chriseth",
    "html_url": "https://github.com/chriseth",
    "followers_url": "https://api.github.com/users/chriseth/followers",
    "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
    "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
    "organizations_url": "https://api.github.com/users/chriseth/orgs",
    "repos_url": "https://api.github.com/users/chriseth/repos",
    "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
    "received_events_url": "https://api.github.com/users/chriseth/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1282209978,
      "node_id": "MDU6TGFiZWwxMjgyMjA5OTc4",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/optimizer",
      "name": "optimizer",
      "color": "d4c5f9",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2018-11-29T14:26:47Z",
  "updated_at": "2020-11-11T23:48:44Z",
  "closed_at": "2020-11-11T23:48:44Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "Most of the rules like `{{Instruction::SDIV, {X, 1}}, [=]{ return X; }, false}` and `{{Instruction::MOD, {X, 0}}, [=]{ return u256(0); }, true},` can be given as strings:\r\n\r\n```\r\nSDIV(X, 1) -> X\r\nMOD(X, 0) -> 0\r\n```\r\n\r\nwhich improves readability but also allows external people to add new rules even to an already existing compiler binary.\r\n\r\nThis would also allow an automated SMT-backed check that the rule is correct.\r\n\r\nOne we can check the correctness of these rules, we could even perform an exhaustive search for all correct rules that shorten the code.",
  "closed_by": {
    "login": "axic",
    "id": 20340,
    "node_id": "MDQ6VXNlcjIwMzQw",
    "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/axic",
    "html_url": "https://github.com/axic",
    "followers_url": "https://api.github.com/users/axic/followers",
    "following_url": "https://api.github.com/users/axic/following{/other_user}",
    "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
    "organizations_url": "https://api.github.com/users/axic/orgs",
    "repos_url": "https://api.github.com/users/axic/repos",
    "events_url": "https://api.github.com/users/axic/events{/privacy}",
    "received_events_url": "https://api.github.com/users/axic/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/5542/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/5542/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/443681410",
    "html_url": "https://github.com/ethereum/solidity/issues/5542#issuecomment-443681410",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/5542",
    "id": 443681410,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0MzY4MTQxMA==",
    "user": {
      "login": "ekpyron",
      "id": 1347491,
      "node_id": "MDQ6VXNlcjEzNDc0OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1347491?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ekpyron",
      "html_url": "https://github.com/ekpyron",
      "followers_url": "https://api.github.com/users/ekpyron/followers",
      "following_url": "https://api.github.com/users/ekpyron/following{/other_user}",
      "gists_url": "https://api.github.com/users/ekpyron/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ekpyron/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ekpyron/subscriptions",
      "organizations_url": "https://api.github.com/users/ekpyron/orgs",
      "repos_url": "https://api.github.com/users/ekpyron/repos",
      "events_url": "https://api.github.com/users/ekpyron/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ekpyron/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-12-03T11:40:28Z",
    "updated_at": "2018-12-03T11:40:28Z",
    "author_association": "MEMBER",
    "body": "Personally, I'd rather write them as equalities ``SDIV(X, 1) = X`` - in theory it would be cool if the rules were actual syntactically valid yul expressions, that always evaluate to true, if the rule is correct, but unfortunately that'll probably not work all that well in practice... in any case the advantage of an equality is that it makes the proof-objective that needs to be verified for the rule clearer - and it's how e.g. simplification rules would be written in Isabelle.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/443681410/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/725727694",
    "html_url": "https://github.com/ethereum/solidity/issues/5542#issuecomment-725727694",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/5542",
    "id": 725727694,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcyNTcyNzY5NA==",
    "user": {
      "login": "axic",
      "id": 20340,
      "node_id": "MDQ6VXNlcjIwMzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/axic",
      "html_url": "https://github.com/axic",
      "followers_url": "https://api.github.com/users/axic/followers",
      "following_url": "https://api.github.com/users/axic/following{/other_user}",
      "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
      "organizations_url": "https://api.github.com/users/axic/orgs",
      "repos_url": "https://api.github.com/users/axic/repos",
      "events_url": "https://api.github.com/users/axic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/axic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-11T23:48:44Z",
    "updated_at": "2020-11-11T23:48:44Z",
    "author_association": "MEMBER",
    "body": "Closing this in favour of the discussion in #7520.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/725727694/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
