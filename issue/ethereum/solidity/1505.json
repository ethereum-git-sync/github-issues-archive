{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/1505",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/1505/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/1505/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/1505/events",
  "html_url": "https://github.com/ethereum/solidity/issues/1505",
  "id": 195209126,
  "node_id": "MDU6SXNzdWUxOTUyMDkxMjY=",
  "number": 1505,
  "title": "Ability to catch exceptions",
  "user": {
    "login": "chriseth",
    "id": 9073706,
    "node_id": "MDQ6VXNlcjkwNzM3MDY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/chriseth",
    "html_url": "https://github.com/chriseth",
    "followers_url": "https://api.github.com/users/chriseth/followers",
    "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
    "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
    "organizations_url": "https://api.github.com/users/chriseth/orgs",
    "repos_url": "https://api.github.com/users/chriseth/repos",
    "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
    "received_events_url": "https://api.github.com/users/chriseth/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 785717317,
      "node_id": "MDU6TGFiZWw3ODU3MTczMTc=",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/language%20design%20:rage4:",
      "name": "language design :rage4:",
      "color": "9d76d3",
      "default": false,
      "description": "Any changes to the language, e.g. new features"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 8,
  "created_at": "2016-12-13T10:01:44Z",
  "updated_at": "2019-12-03T10:09:00Z",
  "closed_at": "2019-12-03T10:09:00Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "A general `try { ... } catch`-statement should be available to catch exceptions.\r\n\r\nHow to implement it: The \"invalid label\" has to become dynamic and somehow either the stack height has to be stored or it will be impossible to access local variables. Furthermore, we have to decide whether local effects should be reverted or not.",
  "closed_by": {
    "login": "chriseth",
    "id": 9073706,
    "node_id": "MDQ6VXNlcjkwNzM3MDY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/chriseth",
    "html_url": "https://github.com/chriseth",
    "followers_url": "https://api.github.com/users/chriseth/followers",
    "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
    "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
    "organizations_url": "https://api.github.com/users/chriseth/orgs",
    "repos_url": "https://api.github.com/users/chriseth/repos",
    "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
    "received_events_url": "https://api.github.com/users/chriseth/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/1505/reactions",
    "total_count": 6,
    "+1": 6,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/1505/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/271209258",
    "html_url": "https://github.com/ethereum/solidity/issues/1505#issuecomment-271209258",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/1505",
    "id": 271209258,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3MTIwOTI1OA==",
    "user": {
      "login": "federicobond",
      "id": 138426,
      "node_id": "MDQ6VXNlcjEzODQyNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/138426?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/federicobond",
      "html_url": "https://github.com/federicobond",
      "followers_url": "https://api.github.com/users/federicobond/followers",
      "following_url": "https://api.github.com/users/federicobond/following{/other_user}",
      "gists_url": "https://api.github.com/users/federicobond/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/federicobond/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/federicobond/subscriptions",
      "organizations_url": "https://api.github.com/users/federicobond/orgs",
      "repos_url": "https://api.github.com/users/federicobond/repos",
      "events_url": "https://api.github.com/users/federicobond/events{/privacy}",
      "received_events_url": "https://api.github.com/users/federicobond/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-09T04:22:53Z",
    "updated_at": "2017-01-09T04:22:53Z",
    "author_association": "CONTRIBUTOR",
    "body": "Would it be possible to attach a label to the catch statement? Too general catch clauses have proven to be a constant source of bugs in many programs.\r\n\r\nPerhaps these tags could be translated to simple `errno`-like integers to be stored in a special location and the `catch label {}` could check against this number before running the catch clause, or continue the stack unwinding otherwise.\r\n\r\nSure, you don't need language support to do this, but given how difficult it is to get this kind of error handling right, I think it would be a welcome addition.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/271209258/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/271250455",
    "html_url": "https://github.com/ethereum/solidity/issues/1505#issuecomment-271250455",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/1505",
    "id": 271250455,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3MTI1MDQ1NQ==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-09T10:21:28Z",
    "updated_at": "2017-01-09T10:21:28Z",
    "author_association": "MEMBER",
    "body": "The main problem to overcome is how to handle cross-call exceptions.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/271250455/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/315198626",
    "html_url": "https://github.com/ethereum/solidity/issues/1505#issuecomment-315198626",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/1505",
    "id": 315198626,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNTE5ODYyNg==",
    "user": {
      "login": "pirapira",
      "id": 44281,
      "node_id": "MDQ6VXNlcjQ0Mjgx",
      "avatar_url": "https://avatars.githubusercontent.com/u/44281?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pirapira",
      "html_url": "https://github.com/pirapira",
      "followers_url": "https://api.github.com/users/pirapira/followers",
      "following_url": "https://api.github.com/users/pirapira/following{/other_user}",
      "gists_url": "https://api.github.com/users/pirapira/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pirapira/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pirapira/subscriptions",
      "organizations_url": "https://api.github.com/users/pirapira/orgs",
      "repos_url": "https://api.github.com/users/pirapira/repos",
      "events_url": "https://api.github.com/users/pirapira/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pirapira/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-07-13T20:51:55Z",
    "updated_at": "2017-07-13T20:51:55Z",
    "author_association": "MEMBER",
    "body": "@chriseth This can be solved by passing two return pointers on the stack.  One for normal returning, and the other for exception throwing.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/315198626/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/315198832",
    "html_url": "https://github.com/ethereum/solidity/issues/1505#issuecomment-315198832",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/1505",
    "id": 315198832,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNTE5ODgzMg==",
    "user": {
      "login": "axic",
      "id": 20340,
      "node_id": "MDQ6VXNlcjIwMzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/axic",
      "html_url": "https://github.com/axic",
      "followers_url": "https://api.github.com/users/axic/followers",
      "following_url": "https://api.github.com/users/axic/following{/other_user}",
      "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
      "organizations_url": "https://api.github.com/users/axic/orgs",
      "repos_url": "https://api.github.com/users/axic/repos",
      "events_url": "https://api.github.com/users/axic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/axic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-07-13T20:52:37Z",
    "updated_at": "2017-07-13T20:52:37Z",
    "author_association": "MEMBER",
    "body": "With `REVERT` once the `CALL` opcode is able to return 3 states (success, exception, revert) we could consider introducing exception catching for methods:\r\n```\r\ntry {\r\n  Wallet(addr1).transferTo(addr2);\r\n}\r\ncatch (e)\r\n{\r\n  if (e == \"nofunds\")\r\n    // yay, we ran out of monez\r\n}\r\n```\r\n\r\nThis would be backwards compatible, because the higher level method still throws an exception, but the try clause will execute if the `CALL` failed with `REVERT`.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/315198832/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/315317745",
    "html_url": "https://github.com/ethereum/solidity/issues/1505#issuecomment-315317745",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/1505",
    "id": 315317745,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxNTMxNzc0NQ==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-07-14T09:41:00Z",
    "updated_at": "2017-07-14T09:41:00Z",
    "author_association": "MEMBER",
    "body": "@axic Do you think cross-internal-call exception catching can be done in ewasm?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/315317745/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/433677749",
    "html_url": "https://github.com/ethereum/solidity/issues/1505#issuecomment-433677749",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/1505",
    "id": 433677749,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzMzY3Nzc0OQ==",
    "user": {
      "login": "fulldecent",
      "id": 382183,
      "node_id": "MDQ6VXNlcjM4MjE4Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/382183?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fulldecent",
      "html_url": "https://github.com/fulldecent",
      "followers_url": "https://api.github.com/users/fulldecent/followers",
      "following_url": "https://api.github.com/users/fulldecent/following{/other_user}",
      "gists_url": "https://api.github.com/users/fulldecent/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fulldecent/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fulldecent/subscriptions",
      "organizations_url": "https://api.github.com/users/fulldecent/orgs",
      "repos_url": "https://api.github.com/users/fulldecent/repos",
      "events_url": "https://api.github.com/users/fulldecent/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fulldecent/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-28T05:28:19Z",
    "updated_at": "2018-10-28T05:28:19Z",
    "author_association": "CONTRIBUTOR",
    "body": "I am a fan of the MVP:\r\n\r\n```solidity\r\ntry {\r\n  Wallet(addr1).transferTo(addr2);\r\n} catch {\r\n  // something didn't work\r\n}\r\n```\r\n\r\n---\r\n\r\nIn other news, I am not a fan of storing English-language error messages inside the blockchain. So I think this MVP is a final product.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/433677749/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/456241736",
    "html_url": "https://github.com/ethereum/solidity/issues/1505#issuecomment-456241736",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/1505",
    "id": 456241736,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NjI0MTczNg==",
    "user": {
      "login": "SilentCicero",
      "id": 9806174,
      "node_id": "MDQ6VXNlcjk4MDYxNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9806174?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SilentCicero",
      "html_url": "https://github.com/SilentCicero",
      "followers_url": "https://api.github.com/users/SilentCicero/followers",
      "following_url": "https://api.github.com/users/SilentCicero/following{/other_user}",
      "gists_url": "https://api.github.com/users/SilentCicero/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SilentCicero/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SilentCicero/subscriptions",
      "organizations_url": "https://api.github.com/users/SilentCicero/orgs",
      "repos_url": "https://api.github.com/users/SilentCicero/repos",
      "events_url": "https://api.github.com/users/SilentCicero/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SilentCicero/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-22T01:37:44Z",
    "updated_at": "2019-01-22T01:38:58Z",
    "author_association": "NONE",
    "body": "Hey all,\r\n\r\nI'm trying to impliment this for the Gnosis MultiSend, such that if one of the transactions fails, the MultiSend skips and continues with the next transaction, thoughts?\r\n\r\nI suppose I just remove the `revert` line, and that should do it right?\r\n\r\n```\r\npragma solidity ^0.5.0;\r\n\r\n\r\n/// @title Multi Send - Allows to batch multiple transactions into one.\r\n/// @author Nick Dodson - <nick.dodson@consensys.net>\r\n/// @author Gonçalo Sá - <goncalo.sa@consensys.net>\r\n/// @author Stefan George - <stefan@gnosis.pm>\r\ncontract MultiSend {\r\n\r\n    /// @dev Sends multiple transactions and reverts all if one fails.\r\n    /// @param transactions Encoded transactions. Each transaction is encoded as a \r\n    ///                     tuple(operation,address,uint256,bytes), where operation \r\n    ///                     can be 0 for a call or 1 for a delegatecall. The bytes \r\n    ///                     of all encoded transactions are concatenated to form the input.\r\n    function multiSend(bytes memory transactions)\r\n        public\r\n    {\r\n        // solium-disable-next-line security/no-inline-assembly\r\n        assembly {\r\n            let length := mload(transactions)\r\n            let i := 0x20\r\n            for { } lt(i, length) { } {\r\n                let operation := mload(add(transactions, i))\r\n                let to := mload(add(transactions, add(i, 0x20)))\r\n                let value := mload(add(transactions, add(i, 0x40)))\r\n                let dataLength := mload(add(transactions, add(i, 0x80)))\r\n                let data := add(transactions, add(i, 0xa0))\r\n                let success := 0\r\n                switch operation \r\n                case 0 { success := call(gas, to, value, data, dataLength, 0, 0) }\r\n                case 1 { success := delegatecall(gas, to, data, dataLength, 0, 0) }\r\n                if eq(success, 0) { revert(0, 0) }\r\n                i := add(i, add(0xa0, mul(div(add(dataLength, 0x1f), 0x20), 0x20)))\r\n            }\r\n        }\r\n    }\r\n}\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/456241736/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/561095359",
    "html_url": "https://github.com/ethereum/solidity/issues/1505#issuecomment-561095359",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/1505",
    "id": 561095359,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2MTA5NTM1OQ==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-03T10:09:00Z",
    "updated_at": "2019-12-03T10:09:00Z",
    "author_association": "MEMBER",
    "body": "Has been implemented for external calls in 0.6.0.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/561095359/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
