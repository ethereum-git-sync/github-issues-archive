{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/9624",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/9624/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/9624/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/9624/events",
  "html_url": "https://github.com/ethereum/solidity/issues/9624",
  "id": 678784120,
  "node_id": "MDU6SXNzdWU2Nzg3ODQxMjA=",
  "number": 9624,
  "title": "Long chain of calls produces \"Stack too deep\"",
  "user": {
    "login": "k06a",
    "id": 702124,
    "node_id": "MDQ6VXNlcjcwMjEyNA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/702124?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/k06a",
    "html_url": "https://github.com/k06a",
    "followers_url": "https://api.github.com/users/k06a/followers",
    "following_url": "https://api.github.com/users/k06a/following{/other_user}",
    "gists_url": "https://api.github.com/users/k06a/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/k06a/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/k06a/subscriptions",
    "organizations_url": "https://api.github.com/users/k06a/orgs",
    "repos_url": "https://api.github.com/users/k06a/repos",
    "events_url": "https://api.github.com/users/k06a/events{/privacy}",
    "received_events_url": "https://api.github.com/users/k06a/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 8,
  "created_at": "2020-08-13T23:06:06Z",
  "updated_at": "2022-01-17T18:00:14Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "## Description\r\n\r\nLong chain of calls produces \"Stack too deep\"\r\n\r\n## Environment\r\n\r\n- Compiler version: 0.6.12, 0.7.0\r\n\r\n## Steps to Reproduce\r\n\r\n```solidity\r\npragma solidity ^0.6.0;\r\n\r\nlibrary Math {\r\n    function add(uint256 a, uint256 b) internal pure returns(uint256) {\r\n        return a + b;\r\n    }\r\n}\r\n\r\ncontract A {\r\n    using Math for uint256;\r\n\r\n    function f(uint256 a) public pure returns(uint256) {\r\n        return a.add(a).add(a).add(a).add(a).add(a).add(a).add(a).add(a);\r\n    }\r\n}\r\n```\r\n=>\r\n```\r\nCompilerError: Stack too deep, try removing local variables.\r\n```\r\n",
  "closed_by": {
    "login": "chriseth",
    "id": 9073706,
    "node_id": "MDQ6VXNlcjkwNzM3MDY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/chriseth",
    "html_url": "https://github.com/chriseth",
    "followers_url": "https://api.github.com/users/chriseth/followers",
    "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
    "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
    "organizations_url": "https://api.github.com/users/chriseth/orgs",
    "repos_url": "https://api.github.com/users/chriseth/repos",
    "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
    "received_events_url": "https://api.github.com/users/chriseth/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/9624/reactions",
    "total_count": 1,
    "+1": 1,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/9624/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/676500459",
    "html_url": "https://github.com/ethereum/solidity/issues/9624#issuecomment-676500459",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/9624",
    "id": 676500459,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3NjUwMDQ1OQ==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-19T15:35:39Z",
    "updated_at": "2020-08-19T15:35:39Z",
    "author_association": "MEMBER",
    "body": "Thanks for opening this issue, but stack too deep errors unfortunately cannot be eliminated until we have the new code generator.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/676500459/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/683451006",
    "html_url": "https://github.com/ethereum/solidity/issues/9624#issuecomment-683451006",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/9624",
    "id": 683451006,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4MzQ1MTAwNg==",
    "user": {
      "login": "k06a",
      "id": 702124,
      "node_id": "MDQ6VXNlcjcwMjEyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/702124?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/k06a",
      "html_url": "https://github.com/k06a",
      "followers_url": "https://api.github.com/users/k06a/followers",
      "following_url": "https://api.github.com/users/k06a/following{/other_user}",
      "gists_url": "https://api.github.com/users/k06a/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/k06a/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/k06a/subscriptions",
      "organizations_url": "https://api.github.com/users/k06a/orgs",
      "repos_url": "https://api.github.com/users/k06a/repos",
      "events_url": "https://api.github.com/users/k06a/events{/privacy}",
      "received_events_url": "https://api.github.com/users/k06a/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-30T18:01:58Z",
    "updated_at": "2020-08-30T18:01:58Z",
    "author_association": "NONE",
    "body": "@chriseth it seems like a bug, because this long chained calls are processed somehow strage...",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/683451006/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/684756587",
    "html_url": "https://github.com/ethereum/solidity/issues/9624#issuecomment-684756587",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/9624",
    "id": 684756587,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4NDc1NjU4Nw==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-09-01T10:36:56Z",
    "updated_at": "2020-09-01T10:36:56Z",
    "author_association": "MEMBER",
    "body": "@k06a can you explain what you mean by \"processed strange\"? What you reported seems to me like a known limitation of the compiler which will be fixed with the new code generator.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/684756587/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/684839056",
    "html_url": "https://github.com/ethereum/solidity/issues/9624#issuecomment-684839056",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/9624",
    "id": 684839056,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4NDgzOTA1Ng==",
    "user": {
      "login": "k06a",
      "id": 702124,
      "node_id": "MDQ6VXNlcjcwMjEyNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/702124?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/k06a",
      "html_url": "https://github.com/k06a",
      "followers_url": "https://api.github.com/users/k06a/followers",
      "following_url": "https://api.github.com/users/k06a/following{/other_user}",
      "gists_url": "https://api.github.com/users/k06a/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/k06a/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/k06a/subscriptions",
      "organizations_url": "https://api.github.com/users/k06a/orgs",
      "repos_url": "https://api.github.com/users/k06a/repos",
      "events_url": "https://api.github.com/users/k06a/events{/privacy}",
      "received_events_url": "https://api.github.com/users/k06a/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-09-01T13:07:29Z",
    "updated_at": "2020-09-01T13:07:29Z",
    "author_association": "NONE",
    "body": "I mean chained calls could be processed sequentially on single variable, not nested:\r\n```\r\nb = a.add(a);\r\nb = b.add(a);\r\nb = b.add(a);\r\nb = b.add(a);\r\nb = b.add(a);\r\nb = b.add(a);\r\nb = b.add(a);\r\nb = b.add(a);\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/684839056/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/684937702",
    "html_url": "https://github.com/ethereum/solidity/issues/9624#issuecomment-684937702",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/9624",
    "id": 684937702,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4NDkzNzcwMg==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-09-01T15:26:42Z",
    "updated_at": "2020-09-01T15:26:42Z",
    "author_association": "MEMBER",
    "body": "I think the problem here is the fact that bound functions are used and the logic to remove the library address is not that clever. I would like to ask you to be patient until the new code generator is ready which will solve such problems without an issue.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/684937702/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1014741068",
    "html_url": "https://github.com/ethereum/solidity/issues/9624#issuecomment-1014741068",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/9624",
    "id": 1014741068,
    "node_id": "IC_kwDOAm_5kc48e7hM",
    "user": {
      "login": "LukeSamkharadze",
      "id": 31849767,
      "node_id": "MDQ6VXNlcjMxODQ5NzY3",
      "avatar_url": "https://avatars.githubusercontent.com/u/31849767?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/LukeSamkharadze",
      "html_url": "https://github.com/LukeSamkharadze",
      "followers_url": "https://api.github.com/users/LukeSamkharadze/followers",
      "following_url": "https://api.github.com/users/LukeSamkharadze/following{/other_user}",
      "gists_url": "https://api.github.com/users/LukeSamkharadze/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/LukeSamkharadze/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/LukeSamkharadze/subscriptions",
      "organizations_url": "https://api.github.com/users/LukeSamkharadze/orgs",
      "repos_url": "https://api.github.com/users/LukeSamkharadze/repos",
      "events_url": "https://api.github.com/users/LukeSamkharadze/events{/privacy}",
      "received_events_url": "https://api.github.com/users/LukeSamkharadze/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-17T17:04:25Z",
    "updated_at": "2022-01-17T17:04:25Z",
    "author_association": "NONE",
    "body": "Bump, I have the same problem.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1014741068/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1014744879",
    "html_url": "https://github.com/ethereum/solidity/issues/9624#issuecomment-1014744879",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/9624",
    "id": 1014744879,
    "node_id": "IC_kwDOAm_5kc48e8cv",
    "user": {
      "login": "ekpyron",
      "id": 1347491,
      "node_id": "MDQ6VXNlcjEzNDc0OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1347491?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ekpyron",
      "html_url": "https://github.com/ekpyron",
      "followers_url": "https://api.github.com/users/ekpyron/followers",
      "following_url": "https://api.github.com/users/ekpyron/following{/other_user}",
      "gists_url": "https://api.github.com/users/ekpyron/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ekpyron/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ekpyron/subscriptions",
      "organizations_url": "https://api.github.com/users/ekpyron/orgs",
      "repos_url": "https://api.github.com/users/ekpyron/repos",
      "events_url": "https://api.github.com/users/ekpyron/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ekpyron/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-17T17:08:53Z",
    "updated_at": "2022-01-17T17:08:53Z",
    "author_association": "MEMBER",
    "body": "The new code generation pipeline is pretty much stable right now - it's still nominally called ``experimental``, but we'll change that in the upcoming releases - so if it's an option for you, you can try to use the most recent compiler version with ``--experimental-via-ir --optimize`` and it may very well be that the problem is gone with that.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1014744879/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1014778127",
    "html_url": "https://github.com/ethereum/solidity/issues/9624#issuecomment-1014778127",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/9624",
    "id": 1014778127,
    "node_id": "IC_kwDOAm_5kc48fEkP",
    "user": {
      "login": "LukeSamkharadze",
      "id": 31849767,
      "node_id": "MDQ6VXNlcjMxODQ5NzY3",
      "avatar_url": "https://avatars.githubusercontent.com/u/31849767?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/LukeSamkharadze",
      "html_url": "https://github.com/LukeSamkharadze",
      "followers_url": "https://api.github.com/users/LukeSamkharadze/followers",
      "following_url": "https://api.github.com/users/LukeSamkharadze/following{/other_user}",
      "gists_url": "https://api.github.com/users/LukeSamkharadze/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/LukeSamkharadze/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/LukeSamkharadze/subscriptions",
      "organizations_url": "https://api.github.com/users/LukeSamkharadze/orgs",
      "repos_url": "https://api.github.com/users/LukeSamkharadze/repos",
      "events_url": "https://api.github.com/users/LukeSamkharadze/events{/privacy}",
      "received_events_url": "https://api.github.com/users/LukeSamkharadze/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-17T17:52:18Z",
    "updated_at": "2022-01-17T18:00:14Z",
    "author_association": "NONE",
    "body": "How can we specify `--experimental-via-ir --optimize` [here](https://docs.soliditylang.org/en/v0.6.6/using-the-compiler.html#input-description) in settings field?\r\n\r\n**Update:**\r\n\r\nLook through [latest](https://docs.soliditylang.org/en/v0.8.11/using-the-compiler.html#input-description) docs, option is called `viaIR`",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1014778127/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
