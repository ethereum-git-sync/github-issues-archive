{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/8440",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/8440/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/8440/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/8440/events",
  "html_url": "https://github.com/ethereum/solidity/issues/8440",
  "id": 577122402,
  "node_id": "MDU6SXNzdWU1NzcxMjI0MDI=",
  "number": 8440,
  "title": "Memory Arrays that Can Grow",
  "user": {
    "login": "mudgen",
    "id": 49092,
    "node_id": "MDQ6VXNlcjQ5MDky",
    "avatar_url": "https://avatars.githubusercontent.com/u/49092?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/mudgen",
    "html_url": "https://github.com/mudgen",
    "followers_url": "https://api.github.com/users/mudgen/followers",
    "following_url": "https://api.github.com/users/mudgen/following{/other_user}",
    "gists_url": "https://api.github.com/users/mudgen/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/mudgen/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mudgen/subscriptions",
    "organizations_url": "https://api.github.com/users/mudgen/orgs",
    "repos_url": "https://api.github.com/users/mudgen/repos",
    "events_url": "https://api.github.com/users/mudgen/events{/privacy}",
    "received_events_url": "https://api.github.com/users/mudgen/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2020-03-06T19:13:44Z",
  "updated_at": "2020-03-08T18:04:07Z",
  "closed_at": "2020-03-08T18:04:07Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "<!--## Prerequisites\r\n\r\n- First, many thanks for taking part in the community. We really appreciate that.\r\n- We realize there is a lot of data requested here. We ask only that you do your best to provide as much information as possible so we can better help you.\r\n- Support questions are better asked in one of the following locations:\r\n\t- [Solidity chat](https://gitter.im/ethereum/solidity)\r\n\t- [Stack Overflow](https://ethereum.stackexchange.com/)\r\n- Ensure the issue isn't already reported (check `feature` and `language design` labels).\r\n\r\n*Delete the above section and the instructions in the sections below before submitting*\r\n\r\n-->\r\n\r\n## Abstract\r\nSome solidity functions are only meant to be called by off-chain software. Such functions have no gas cost and would benefit from arrays that can grow dynamically, for example by having a push() function. Having this can result in cleaner code. Currently a programmer has to manually write the code to create a bigger array and populate it with the older array.\r\n\r\nIt is understood that a memory array that can grow would cost gas in functions that are called on-chain. Solidity documentation should very clearly state gas-cost concerns for growing an array.\r\n<!--\r\nPlease describe by example what problem you see in the current Solidity language\r\nand reason about it.\r\n-->\r\n\r\n\r\n<!--\r\nAll language changes that introduce backwards incompatibilities must include a section describing\r\nthese incompatibilities and their severity.\r\n\r\nPlease describe how you propose to deal with these incompatibilities.\r\n-->",
  "closed_by": {
    "login": "chriseth",
    "id": 9073706,
    "node_id": "MDQ6VXNlcjkwNzM3MDY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/chriseth",
    "html_url": "https://github.com/chriseth",
    "followers_url": "https://api.github.com/users/chriseth/followers",
    "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
    "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
    "organizations_url": "https://api.github.com/users/chriseth/orgs",
    "repos_url": "https://api.github.com/users/chriseth/repos",
    "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
    "received_events_url": "https://api.github.com/users/chriseth/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/8440/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/8440/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/595943834",
    "html_url": "https://github.com/ethereum/solidity/issues/8440#issuecomment-595943834",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/8440",
    "id": 595943834,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5NTk0MzgzNA==",
    "user": {
      "login": "ekpyron",
      "id": 1347491,
      "node_id": "MDQ6VXNlcjEzNDc0OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1347491?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ekpyron",
      "html_url": "https://github.com/ekpyron",
      "followers_url": "https://api.github.com/users/ekpyron/followers",
      "following_url": "https://api.github.com/users/ekpyron/following{/other_user}",
      "gists_url": "https://api.github.com/users/ekpyron/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ekpyron/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ekpyron/subscriptions",
      "organizations_url": "https://api.github.com/users/ekpyron/orgs",
      "repos_url": "https://api.github.com/users/ekpyron/repos",
      "events_url": "https://api.github.com/users/ekpyron/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ekpyron/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-06T20:05:57Z",
    "updated_at": "2020-03-06T20:05:57Z",
    "author_association": "MEMBER",
    "body": "This can *almost* be implemented using libraries...\r\n```\r\nlibrary L {\r\n    function push(uint256[] memory x, uint256 y) internal pure returns (uint256[] memory r) {\r\n        r = new uint256[](x.length + 1);\r\n        for (uint256 i = 0; i < x.length; i++)\r\n            r[i] = x[i];\r\n        r[x.length] = y;\r\n    }\r\n}\r\n\r\ncontract C {\r\n    using L for uint256[];\r\n    function f() public pure returns (uint256[] memory) {\r\n        uint256[] memory x = new uint256[](0);\r\n        x = x.push(42);\r\n        return x;\r\n    }\r\n}\r\n```\r\nSo I'm wondering: is this already good enough for this purpose as is? Or *would* it be good enough, if it could really be a \"proper\" push (whithout the need to reassign as shown in ``x = x.push(42);``)? Or would it be enough, if this could be done generically instead of only per a specific type?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/595943834/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/595955752",
    "html_url": "https://github.com/ethereum/solidity/issues/8440#issuecomment-595955752",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/8440",
    "id": 595955752,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5NTk1NTc1Mg==",
    "user": {
      "login": "mudgen",
      "id": 49092,
      "node_id": "MDQ6VXNlcjQ5MDky",
      "avatar_url": "https://avatars.githubusercontent.com/u/49092?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mudgen",
      "html_url": "https://github.com/mudgen",
      "followers_url": "https://api.github.com/users/mudgen/followers",
      "following_url": "https://api.github.com/users/mudgen/following{/other_user}",
      "gists_url": "https://api.github.com/users/mudgen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mudgen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mudgen/subscriptions",
      "organizations_url": "https://api.github.com/users/mudgen/orgs",
      "repos_url": "https://api.github.com/users/mudgen/repos",
      "events_url": "https://api.github.com/users/mudgen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mudgen/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-06T20:39:07Z",
    "updated_at": "2020-03-06T20:39:07Z",
    "author_association": "NONE",
    "body": "Thank you. I think that is pretty good.  You are right that someone can just implement their own array enlargement functions or use libraries.\r\n\r\nYes, it would be nice if it did not have the assignment and it could be done generically for any type.   I think I am more interested in the memory mapping type in #8439 because that is harder for a user of the language to implement on their own. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/595955752/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/596233328",
    "html_url": "https://github.com/ethereum/solidity/issues/8440#issuecomment-596233328",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/8440",
    "id": 596233328,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5NjIzMzMyOA==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-08T18:04:07Z",
    "updated_at": "2020-03-08T18:04:07Z",
    "author_association": "MEMBER",
    "body": "I think growing memory arrays have too many hidden surprises. Solidity tries to minimize those (see the latest removal of write-access to `.length` for storage arrays) as much as possible.\r\n\r\nWe should provide a way to implement user-defined types and algorithms in a generic way, though.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/596233328/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
