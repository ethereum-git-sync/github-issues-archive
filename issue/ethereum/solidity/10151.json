{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/10151",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/10151/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/10151/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/10151/events",
  "html_url": "https://github.com/ethereum/solidity/issues/10151",
  "id": 732175136,
  "node_id": "MDU6SXNzdWU3MzIxNzUxMzY=",
  "number": 10151,
  "title": "Solidity Compiler non-determinism in output bytecode",
  "user": {
    "login": "WilhelmStein",
    "id": 32384493,
    "node_id": "MDQ6VXNlcjMyMzg0NDkz",
    "avatar_url": "https://avatars.githubusercontent.com/u/32384493?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/WilhelmStein",
    "html_url": "https://github.com/WilhelmStein",
    "followers_url": "https://api.github.com/users/WilhelmStein/followers",
    "following_url": "https://api.github.com/users/WilhelmStein/following{/other_user}",
    "gists_url": "https://api.github.com/users/WilhelmStein/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/WilhelmStein/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/WilhelmStein/subscriptions",
    "organizations_url": "https://api.github.com/users/WilhelmStein/orgs",
    "repos_url": "https://api.github.com/users/WilhelmStein/repos",
    "events_url": "https://api.github.com/users/WilhelmStein/events{/privacy}",
    "received_events_url": "https://api.github.com/users/WilhelmStein/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 15,
  "created_at": "2020-10-29T10:05:05Z",
  "updated_at": "2020-10-29T18:08:06Z",
  "closed_at": "2020-10-29T18:07:08Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "## Description\r\n\r\nI tried compiling a [contract](https://etherscan.io/address/0x59897f2f9ecec811689b575be269487acd794d02#code) using the options displayed on etherscan, and the generated bytecode output was different than the one on the blockchain.\r\n\r\n## Environment\r\n\r\n- Compiler version: v0.5.13+commit.5b0b510c\r\n- Target EVM version (as per compiler settings): default\r\n- Operating system: Ubuntu 18.04\r\n",
  "closed_by": {
    "login": "WilhelmStein",
    "id": 32384493,
    "node_id": "MDQ6VXNlcjMyMzg0NDkz",
    "avatar_url": "https://avatars.githubusercontent.com/u/32384493?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/WilhelmStein",
    "html_url": "https://github.com/WilhelmStein",
    "followers_url": "https://api.github.com/users/WilhelmStein/followers",
    "following_url": "https://api.github.com/users/WilhelmStein/following{/other_user}",
    "gists_url": "https://api.github.com/users/WilhelmStein/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/WilhelmStein/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/WilhelmStein/subscriptions",
    "organizations_url": "https://api.github.com/users/WilhelmStein/orgs",
    "repos_url": "https://api.github.com/users/WilhelmStein/repos",
    "events_url": "https://api.github.com/users/WilhelmStein/events{/privacy}",
    "received_events_url": "https://api.github.com/users/WilhelmStein/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/10151/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/10151/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/718595047",
    "html_url": "https://github.com/ethereum/solidity/issues/10151#issuecomment-718595047",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/10151",
    "id": 718595047,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxODU5NTA0Nw==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-29T10:17:39Z",
    "updated_at": "2020-10-29T10:17:39Z",
    "author_association": "MEMBER",
    "body": "Etherscan ignores the metadata hash in the comparison. This is a know issue.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/718595047/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/718606242",
    "html_url": "https://github.com/ethereum/solidity/issues/10151#issuecomment-718606242",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/10151",
    "id": 718606242,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxODYwNjI0Mg==",
    "user": {
      "login": "WilhelmStein",
      "id": 32384493,
      "node_id": "MDQ6VXNlcjMyMzg0NDkz",
      "avatar_url": "https://avatars.githubusercontent.com/u/32384493?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/WilhelmStein",
      "html_url": "https://github.com/WilhelmStein",
      "followers_url": "https://api.github.com/users/WilhelmStein/followers",
      "following_url": "https://api.github.com/users/WilhelmStein/following{/other_user}",
      "gists_url": "https://api.github.com/users/WilhelmStein/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/WilhelmStein/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/WilhelmStein/subscriptions",
      "organizations_url": "https://api.github.com/users/WilhelmStein/orgs",
      "repos_url": "https://api.github.com/users/WilhelmStein/repos",
      "events_url": "https://api.github.com/users/WilhelmStein/events{/privacy}",
      "received_events_url": "https://api.github.com/users/WilhelmStein/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-29T10:25:21Z",
    "updated_at": "2020-10-29T10:25:21Z",
    "author_association": "NONE",
    "body": "Could you elaborate a bit more on this, or provide a link to the relevant discussion?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/718606242/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/718625298",
    "html_url": "https://github.com/ethereum/solidity/issues/10151#issuecomment-718625298",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/10151",
    "id": 718625298,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxODYyNTI5OA==",
    "user": {
      "login": "WilhelmStein",
      "id": 32384493,
      "node_id": "MDQ6VXNlcjMyMzg0NDkz",
      "avatar_url": "https://avatars.githubusercontent.com/u/32384493?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/WilhelmStein",
      "html_url": "https://github.com/WilhelmStein",
      "followers_url": "https://api.github.com/users/WilhelmStein/followers",
      "following_url": "https://api.github.com/users/WilhelmStein/following{/other_user}",
      "gists_url": "https://api.github.com/users/WilhelmStein/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/WilhelmStein/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/WilhelmStein/subscriptions",
      "organizations_url": "https://api.github.com/users/WilhelmStein/orgs",
      "repos_url": "https://api.github.com/users/WilhelmStein/repos",
      "events_url": "https://api.github.com/users/WilhelmStein/events{/privacy}",
      "received_events_url": "https://api.github.com/users/WilhelmStein/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-29T10:38:22Z",
    "updated_at": "2020-10-29T10:38:22Z",
    "author_association": "NONE",
    "body": "I don't believe that the issue lies with etherscan, since I also tested this on my own mock contract and blockchain (ganache), and still found discrepancies.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/718625298/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/718640353",
    "html_url": "https://github.com/ethereum/solidity/issues/10151#issuecomment-718640353",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/10151",
    "id": 718640353,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxODY0MDM1Mw==",
    "user": {
      "login": "WilhelmStein",
      "id": 32384493,
      "node_id": "MDQ6VXNlcjMyMzg0NDkz",
      "avatar_url": "https://avatars.githubusercontent.com/u/32384493?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/WilhelmStein",
      "html_url": "https://github.com/WilhelmStein",
      "followers_url": "https://api.github.com/users/WilhelmStein/followers",
      "following_url": "https://api.github.com/users/WilhelmStein/following{/other_user}",
      "gists_url": "https://api.github.com/users/WilhelmStein/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/WilhelmStein/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/WilhelmStein/subscriptions",
      "organizations_url": "https://api.github.com/users/WilhelmStein/orgs",
      "repos_url": "https://api.github.com/users/WilhelmStein/repos",
      "events_url": "https://api.github.com/users/WilhelmStein/events{/privacy}",
      "received_events_url": "https://api.github.com/users/WilhelmStein/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-29T10:49:39Z",
    "updated_at": "2020-10-29T10:50:08Z",
    "author_association": "NONE",
    "body": "Here's an example:\r\n\r\n```\r\npragma solidity ^0.5.13;\r\n\r\n\r\ncontract Foo\r\n{\r\n        struct SlotWrapper\r\n        {\r\n            string slot_name;\r\n            uint256 value;    \r\n        }\r\n        \r\n        struct StorageWrapper\r\n        {\r\n            uint128 reads_made;\r\n            uint128 deposits_made;\r\n            SlotWrapper[] slots;\r\n        }\r\n\r\n\r\n        mapping(address => StorageWrapper) contract_storage;\r\n        \r\n        function readMyMoney() public returns(uint256)\r\n        {\r\n            uint256 total = 0;\r\n            for (uint256 i = 0; i < contract_storage[msg.sender].slots.length; i++)\r\n                total += contract_storage[msg.sender].slots[i].value;\r\n            \r\n            contract_storage[msg.sender].reads_made++;\r\n            return total;\r\n        }\r\n        \r\n\r\n        function deposit(uint slot_id) public payable\r\n        {\r\n            require(slot_id < 10);\r\n            \r\n            \r\n            while (contract_storage[msg.sender].slots.length <= slot_id)\r\n            {\r\n                SlotWrapper memory sw = SlotWrapper(\"\", 0);\r\n                contract_storage[msg.sender].slots.push(sw);\r\n            }\r\n                \r\n            contract_storage[msg.sender].slots[slot_id].value += msg.value;  \r\n            contract_storage[msg.sender].deposits_made++;\r\n        }\r\n        \r\n        \r\n        function name_slot(uint slot_id, string memory slot_name) public\r\n        {\r\n            require(slot_id < 10);\r\n            \r\n            while (contract_storage[msg.sender].slots.length <= slot_id)\r\n            {\r\n                SlotWrapper memory sw = SlotWrapper(\"\", 0);\r\n                contract_storage[msg.sender].slots.push(sw);\r\n            }\r\n            \r\n            contract_storage[msg.sender].slots[slot_id].slot_name = slot_name;\r\n        }\r\n}\r\n```\r\n\r\nThe compilation settings were: \r\n\r\n- Solidity version v0.5.14\r\n\r\n- Optimization Enabled\r\n\r\n- Runs: 200\r\n\r\n- EVM version: byzantium\r\n\r\nWhen I deployed on ganache using truffle, the resulting bytecode was:\r\n```\r\n608060405234801561001057600080fd5b506104ec806100206000396000f3fe608060405260043610610050577c0100000000000000000000000000000000000000000000000000000000600035046375344fcb8114610055578063b6b55f2514610111578063bcca63bc1461012e575b600080fd5b34801561006157600080fd5b5061010f6004803603604081101561007857600080fd5b8135919081019060408101602082013564010000000081111561009a57600080fd5b8201836020820111156100ac57600080fd5b803590602001918460018302840111640100000000831117156100ce57600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250929550610155945050505050565b005b61010f6004803603602081101561012757600080fd5b503561023d565b34801561013a57600080fd5b50610143610360565b60408051918252519081900360200190f35b600a821061016257600080fd5b3360009081526020819052604090206001015482106101f357610183610405565b50604080516060810182526000818301818152825260208083018290523382528181529281206001908101805491820180825590835291849020835180519495939486946002909402909201926101df9284929091019061041f565b506020820151816001015550505050610162565b33600090815260208190526040902060010180548291908490811061021457fe5b9060005260206000209060020201600001908051906020019061023892919061041f565b505050565b600a811061024a57600080fd5b3360009081526020819052604090206001015481106102db5761026b610405565b50604080516060810182526000818301818152825260208083018290523382528181529281206001908101805491820180825590835291849020835180519495939486946002909402909201926102c79284929091019061041f565b50602082015181600101555050505061024a565b3360009081526020819052604090206001018054349190839081106102fc57fe5b60009182526020808320600160029093020182018054909401909355338252918190526040902080546fffffffffffffffffffffffffffffffff70010000000000000000000000000000000080830482169094018116909302921691909117905550565b600080805b336000908152602081905260409020600101548110156103bd5733600090815260208190526040902060010180548290811061039d57fe5b600091825260209091206001600290920201810154929092019101610365565b5033600090815260208190526040902080546fffffffffffffffffffffffffffffffff808216600101166fffffffffffffffffffffffffffffffff1990911617905590505b90565b604051806040016040528060608152602001600081525090565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061046057805160ff191683800117855561048d565b8280016001018555821561048d579182015b8281111561048d578251825591602001919060010190610472565b5061049992915061049d565b5090565b61040291905b8082111561049957600081556001016104a356fea265627a7a72315820ad50e2ad20eef8d184c102c4e1c16dccbb69c64a3bf17810e5933561c32f346164736f6c634300050e0032\r\n```\r\n \r\nBut when I compiled it using py-solc-x, I got:\r\n```\r\n608060405260043610610050577c0100000000000000000000000000000000000000000000000000000000600035046375344fcb8114610055578063b6b55f2514610111578063bcca63bc1461012e575b600080fd5b34801561006157600080fd5b5061010f6004803603604081101561007857600080fd5b8135919081019060408101602082013564010000000081111561009a57600080fd5b8201836020820111156100ac57600080fd5b803590602001918460018302840111640100000000831117156100ce57600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250929550610155945050505050565b005b61010f6004803603602081101561012757600080fd5b503561023d565b34801561013a57600080fd5b50610143610360565b60408051918252519081900360200190f35b600a821061016257600080fd5b3360009081526020819052604090206001015482106101f357610183610405565b50604080516060810182526000818301818152825260208083018290523382528181529281206001908101805491820180825590835291849020835180519495939486946002909402909201926101df9284929091019061041f565b506020820151816001015550505050610162565b33600090815260208190526040902060010180548291908490811061021457fe5b9060005260206000209060020201600001908051906020019061023892919061041f565b505050565b600a811061024a57600080fd5b3360009081526020819052604090206001015481106102db5761026b610405565b50604080516060810182526000818301818152825260208083018290523382528181529281206001908101805491820180825590835291849020835180519495939486946002909402909201926102c79284929091019061041f565b50602082015181600101555050505061024a565b3360009081526020819052604090206001018054349190839081106102fc57fe5b60009182526020808320600160029093020182018054909401909355338252918190526040902080546fffffffffffffffffffffffffffffffff70010000000000000000000000000000000080830482169094018116909302921691909117905550565b600080805b336000908152602081905260409020600101548110156103bd5733600090815260208190526040902060010180548290811061039d57fe5b600091825260209091206001600290920201810154929092019101610365565b5033600090815260208190526040902080546fffffffffffffffffffffffffffffffff808216600101166fffffffffffffffffffffffffffffffff1990911617905590505b90565b604051806040016040528060608152602001600081525090565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061046057805160ff191683800117855561048d565b8280016001018555821561048d579182015b8281111561048d578251825591602001919060010190610472565b5061049992915061049d565b5090565b61040291905b8082111561049957600081556001016104a356fea265627a7a723158209c2afe48d48af9e9e06da887f4da89db880fc69fd1d56ba755e4fd7412e71ac864736f6c634300050e0032\r\n```\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/718640353/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/718653966",
    "html_url": "https://github.com/ethereum/solidity/issues/10151#issuecomment-718653966",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/10151",
    "id": 718653966,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxODY1Mzk2Ng==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-29T10:58:00Z",
    "updated_at": "2020-10-29T10:58:00Z",
    "author_association": "MEMBER",
    "body": "These are not the full settings. Can you try to obtain the metadata file? `solc --metadata` - truffle stores it in the build directory as a json string inside the general artefact json structure.\r\n\r\nIt is indeed weird that the constructor seems to be totally different for py-solc-x.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/718653966/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/718658533",
    "html_url": "https://github.com/ethereum/solidity/issues/10151#issuecomment-718658533",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/10151",
    "id": 718658533,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxODY1ODUzMw==",
    "user": {
      "login": "WilhelmStein",
      "id": 32384493,
      "node_id": "MDQ6VXNlcjMyMzg0NDkz",
      "avatar_url": "https://avatars.githubusercontent.com/u/32384493?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/WilhelmStein",
      "html_url": "https://github.com/WilhelmStein",
      "followers_url": "https://api.github.com/users/WilhelmStein/followers",
      "following_url": "https://api.github.com/users/WilhelmStein/following{/other_user}",
      "gists_url": "https://api.github.com/users/WilhelmStein/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/WilhelmStein/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/WilhelmStein/subscriptions",
      "organizations_url": "https://api.github.com/users/WilhelmStein/orgs",
      "repos_url": "https://api.github.com/users/WilhelmStein/repos",
      "events_url": "https://api.github.com/users/WilhelmStein/events{/privacy}",
      "received_events_url": "https://api.github.com/users/WilhelmStein/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-29T11:00:34Z",
    "updated_at": "2020-10-29T11:00:34Z",
    "author_association": "NONE",
    "body": "Sure.\r\n```\r\n{\\\"compiler\\\":{\\\"version\\\":\\\"0.5.14+commit.01f1aaa4\\\"},\\\"language\\\":\\\"Solidity\\\",\\\"output\\\":{\\\"abi\\\":[{\\\"constant\\\":false,\\\"inputs\\\":[{\\\"internalType\\\":\\\"uint256\\\",\\\"name\\\":\\\"slot_id\\\",\\\"type\\\":\\\"uint256\\\"}],\\\"name\\\":\\\"deposit\\\",\\\"outputs\\\":[],\\\"payable\\\":true,\\\"stateMutability\\\":\\\"payable\\\",\\\"type\\\":\\\"function\\\"},{\\\"constant\\\":false,\\\"inputs\\\":[{\\\"internalType\\\":\\\"uint256\\\",\\\"name\\\":\\\"slot_id\\\",\\\"type\\\":\\\"uint256\\\"},{\\\"internalType\\\":\\\"string\\\",\\\"name\\\":\\\"slot_name\\\",\\\"type\\\":\\\"string\\\"}],\\\"name\\\":\\\"name_slot\\\",\\\"outputs\\\":[],\\\"payable\\\":false,\\\"stateMutability\\\":\\\"nonpayable\\\",\\\"type\\\":\\\"function\\\"},{\\\"constant\\\":false,\\\"inputs\\\":[],\\\"name\\\":\\\"readMyMoney\\\",\\\"outputs\\\":[{\\\"internalType\\\":\\\"uint256\\\",\\\"name\\\":\\\"\\\",\\\"type\\\":\\\"uint256\\\"}],\\\"payable\\\":false,\\\"stateMutability\\\":\\\"nonpayable\\\",\\\"type\\\":\\\"function\\\"}],\\\"devdoc\\\":{\\\"methods\\\":{}},\\\"userdoc\\\":{\\\"methods\\\":{}}},\\\"settings\\\":{\\\"compilationTarget\\\":{\\\"/home/phii/Documents/code/ethereum-tests/storage-test/contracts/Foo.sol\\\":\\\"Foo\\\"},\\\"evmVersion\\\":\\\"byzantium\\\",\\\"libraries\\\":{},\\\"optimizer\\\":{\\\"enabled\\\":true,\\\"runs\\\":200},\\\"remappings\\\":[]},\\\"sources\\\":{\\\"/home/phii/Documents/code/ethereum-tests/storage-test/contracts/Foo.sol\\\":{\\\"keccak256\\\":\\\"0xf247b16fc40818d7dbff34decac051efa5d3c555c7f21fb1bb3203404c51ebda\\\",\\\"urls\\\":[\\\"bzz-raw://d7bad2681e3aefe0ea603dcf8b8f5221f2574f950dfd495915dd9c82464aabaa\\\",\\\"dweb:/ipfs/QmUV2Pt79wKudjXnEKrkS41rYa8xAK684NyuXaxrB9WjNE\\\"]}},\\\"version\\\":1}\r\n```\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/718658533/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/718661614",
    "html_url": "https://github.com/ethereum/solidity/issues/10151#issuecomment-718661614",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/10151",
    "id": 718661614,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxODY2MTYxNA==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-29T11:02:23Z",
    "updated_at": "2020-10-29T11:02:23Z",
    "author_association": "MEMBER",
    "body": "The second bytecode string you posted is the deployed bytecode, while the first is the full bytecode.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/718661614/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/718672786",
    "html_url": "https://github.com/ethereum/solidity/issues/10151#issuecomment-718672786",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/10151",
    "id": 718672786,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxODY3Mjc4Ng==",
    "user": {
      "login": "WilhelmStein",
      "id": 32384493,
      "node_id": "MDQ6VXNlcjMyMzg0NDkz",
      "avatar_url": "https://avatars.githubusercontent.com/u/32384493?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/WilhelmStein",
      "html_url": "https://github.com/WilhelmStein",
      "followers_url": "https://api.github.com/users/WilhelmStein/followers",
      "following_url": "https://api.github.com/users/WilhelmStein/following{/other_user}",
      "gists_url": "https://api.github.com/users/WilhelmStein/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/WilhelmStein/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/WilhelmStein/subscriptions",
      "organizations_url": "https://api.github.com/users/WilhelmStein/orgs",
      "repos_url": "https://api.github.com/users/WilhelmStein/repos",
      "events_url": "https://api.github.com/users/WilhelmStein/events{/privacy}",
      "received_events_url": "https://api.github.com/users/WilhelmStein/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-29T11:11:47Z",
    "updated_at": "2020-10-29T11:11:47Z",
    "author_association": "NONE",
    "body": "Oh ok, I saw what you meant. What I copied from ganache was the full bytecode. Nevertheless, you will find that towards the ending of the deployed bytecode there are differences.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/718672786/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/718726175",
    "html_url": "https://github.com/ethereum/solidity/issues/10151#issuecomment-718726175",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/10151",
    "id": 718726175,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxODcyNjE3NQ==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-29T12:40:06Z",
    "updated_at": "2020-10-29T12:40:06Z",
    "author_association": "MEMBER",
    "body": "Yes, the end of the bytecode is the [metadata hash](https://solidity.readthedocs.io/en/develop/metadata.html#contract-metadata) it is used to ensure that, even if the resulting bytecode itself is the same, differences in the source code (renaming of variables, changing of comments) will be noticed. It also serves as a pointer to actually find the source code from the bytecode.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/718726175/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/718750646",
    "html_url": "https://github.com/ethereum/solidity/issues/10151#issuecomment-718750646",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/10151",
    "id": 718750646,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxODc1MDY0Ng==",
    "user": {
      "login": "WilhelmStein",
      "id": 32384493,
      "node_id": "MDQ6VXNlcjMyMzg0NDkz",
      "avatar_url": "https://avatars.githubusercontent.com/u/32384493?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/WilhelmStein",
      "html_url": "https://github.com/WilhelmStein",
      "followers_url": "https://api.github.com/users/WilhelmStein/followers",
      "following_url": "https://api.github.com/users/WilhelmStein/following{/other_user}",
      "gists_url": "https://api.github.com/users/WilhelmStein/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/WilhelmStein/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/WilhelmStein/subscriptions",
      "organizations_url": "https://api.github.com/users/WilhelmStein/orgs",
      "repos_url": "https://api.github.com/users/WilhelmStein/repos",
      "events_url": "https://api.github.com/users/WilhelmStein/events{/privacy}",
      "received_events_url": "https://api.github.com/users/WilhelmStein/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-29T13:25:55Z",
    "updated_at": "2020-10-29T14:03:11Z",
    "author_association": "NONE",
    "body": "Gotcha. I read the end byte by byte and it checks out. Could a difference in the metadata segment make the compiler-generated source map have mismappings on the deployed bytecode? We can clearly see that it's the same size and as far as I have seen, the metadata is supposed to be inaccessible by the bytecode when run, thus having no effect.\r\n\r\nHowever, in following a trace of this very simple contract, I can see that there are some instructions on said trace whose source mappings correspond to code that could not have been run. Were you to take the contract I posted above and successfully create a transaction calling `Foo.deposit()`, you would see that in between instructions of the `while` statement, there are instructions that map to the definition of the function `Foo.readMyMoney()`. I'm using the compiler AST output to check this. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/718750646/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/718842135",
    "html_url": "https://github.com/ethereum/solidity/issues/10151#issuecomment-718842135",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/10151",
    "id": 718842135,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxODg0MjEzNQ==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-29T15:46:54Z",
    "updated_at": "2020-10-29T15:46:54Z",
    "author_association": "MEMBER",
    "body": "The two functions share some common code. I think the optimizer combined that code and thus the bytecode is exactly the same and it can only point to one source location.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/718842135/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/718858218",
    "html_url": "https://github.com/ethereum/solidity/issues/10151#issuecomment-718858218",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/10151",
    "id": 718858218,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxODg1ODIxOA==",
    "user": {
      "login": "WilhelmStein",
      "id": 32384493,
      "node_id": "MDQ6VXNlcjMyMzg0NDkz",
      "avatar_url": "https://avatars.githubusercontent.com/u/32384493?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/WilhelmStein",
      "html_url": "https://github.com/WilhelmStein",
      "followers_url": "https://api.github.com/users/WilhelmStein/followers",
      "following_url": "https://api.github.com/users/WilhelmStein/following{/other_user}",
      "gists_url": "https://api.github.com/users/WilhelmStein/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/WilhelmStein/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/WilhelmStein/subscriptions",
      "organizations_url": "https://api.github.com/users/WilhelmStein/orgs",
      "repos_url": "https://api.github.com/users/WilhelmStein/repos",
      "events_url": "https://api.github.com/users/WilhelmStein/events{/privacy}",
      "received_events_url": "https://api.github.com/users/WilhelmStein/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-29T16:10:39Z",
    "updated_at": "2020-10-29T16:10:39Z",
    "author_association": "NONE",
    "body": "If that was the case, then the mapping would not be to the entire definition of the `readMyMoney` function, wouldn't it?\r\nAFAIK, bytecode mapped to a function definition is usually there to load the calldata.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/718858218/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/718900964",
    "html_url": "https://github.com/ethereum/solidity/issues/10151#issuecomment-718900964",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/10151",
    "id": 718900964,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxODkwMDk2NA==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-29T17:19:44Z",
    "updated_at": "2020-10-29T17:19:44Z",
    "author_association": "MEMBER",
    "body": "The opcodes that map to the whole function are `jumpdest swap jump` - this seems to be a very generic routine that is also used when preparing the return values of `readMyMoney` and thus maps to the whole function.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/718900964/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/718910951",
    "html_url": "https://github.com/ethereum/solidity/issues/10151#issuecomment-718910951",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/10151",
    "id": 718910951,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxODkxMDk1MQ==",
    "user": {
      "login": "WilhelmStein",
      "id": 32384493,
      "node_id": "MDQ6VXNlcjMyMzg0NDkz",
      "avatar_url": "https://avatars.githubusercontent.com/u/32384493?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/WilhelmStein",
      "html_url": "https://github.com/WilhelmStein",
      "followers_url": "https://api.github.com/users/WilhelmStein/followers",
      "following_url": "https://api.github.com/users/WilhelmStein/following{/other_user}",
      "gists_url": "https://api.github.com/users/WilhelmStein/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/WilhelmStein/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/WilhelmStein/subscriptions",
      "organizations_url": "https://api.github.com/users/WilhelmStein/orgs",
      "repos_url": "https://api.github.com/users/WilhelmStein/repos",
      "events_url": "https://api.github.com/users/WilhelmStein/events{/privacy}",
      "received_events_url": "https://api.github.com/users/WilhelmStein/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-29T17:37:07Z",
    "updated_at": "2020-10-29T17:37:07Z",
    "author_association": "NONE",
    "body": "Ah, I see, so in my case, this small basic block that is a part of the optimizer decision graph, is somehow removed after a graph reduction or something of that sort? The [optimizer documentation(https://solidity.readthedocs.io/en/latest/internals/optimiser.html)  ain't that descriptive so I go by assumption. \r\n\r\nIn conclusion, I can assume that this sort of optimization could happen to more 'important' code i.e. code written by the programmer and not compiler-generated code? Is there a way, perhaps through the metadata or some other compiler output that I could ascertain if such alterations were made?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/718910951/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/718919518",
    "html_url": "https://github.com/ethereum/solidity/issues/10151#issuecomment-718919518",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/10151",
    "id": 718919518,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxODkxOTUxOA==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-29T17:51:24Z",
    "updated_at": "2020-10-29T17:51:24Z",
    "author_association": "MEMBER",
    "body": "Looking at the assembly output is probably the only way currently. In the future, you will be able to inspect intermediate steps of the optimizer.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/718919518/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
