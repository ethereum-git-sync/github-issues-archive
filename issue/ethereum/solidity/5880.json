{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/5880",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/5880/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/5880/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/5880/events",
  "html_url": "https://github.com/ethereum/solidity/issues/5880",
  "id": 403810848,
  "node_id": "MDU6SXNzdWU0MDM4MTA4NDg=",
  "number": 5880,
  "title": "Memory leak of 2704 bytes across 33 allocation sites",
  "user": {
    "login": "bshastry",
    "id": 2388185,
    "node_id": "MDQ6VXNlcjIzODgxODU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2388185?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/bshastry",
    "html_url": "https://github.com/bshastry",
    "followers_url": "https://api.github.com/users/bshastry/followers",
    "following_url": "https://api.github.com/users/bshastry/following{/other_user}",
    "gists_url": "https://api.github.com/users/bshastry/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/bshastry/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/bshastry/subscriptions",
    "organizations_url": "https://api.github.com/users/bshastry/orgs",
    "repos_url": "https://api.github.com/users/bshastry/repos",
    "events_url": "https://api.github.com/users/bshastry/events{/privacy}",
    "received_events_url": "https://api.github.com/users/bshastry/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 249074435,
      "node_id": "MDU6TGFiZWwyNDkwNzQ0MzU=",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/bug%20:bug:",
      "name": "bug :bug:",
      "color": "fc1313",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 25,
  "created_at": "2019-01-28T13:20:49Z",
  "updated_at": "2019-09-11T13:44:14Z",
  "closed_at": "2019-09-11T13:44:13Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "## Description\r\n\r\n(Found by ossfuzz issue number 12671)\r\n\r\nWhile processing the following Soldity contract, the Solidity compiler leaks 2704 bytes of memory across 33 allocation sites\r\n\r\n```\r\ncontract test {\r\n    struct s1 {\r\n        uint8 x;\r\n        bool y;\r\n    }\r\n    struct s2 {\r\n        uint32 z;\r\n        s1 s1data;\r\n        mapping(uint8 => s2) recursive;\r\n    }\r\n    s2 data;\r\n    function check() public returns (bool ok) {\r\n        return data.z == 1 && data.s1data.x == 2 &&\r\n            data.s1data.y == true &&\r\n            data.recursive[3].recursive[4].z == 5 &&\r\n            data.recursive[4].recursive[3].z == 6 &&\r\n            data.recursive[0].s1data.y == false &&\r\n            data.recursive[4].z == 9;\r\n    }\r\n    function set() public {\r\n        data.z = 1;\r\n        data.s1data.x = 2;\r\n        data.s1data.y = true;\r\n        data.recursive[3].recursive[4].z = 5;\r\n        data.recursive[4].recursive[3].z = 6;\r\n        data.recursive[0].s1data.y = false;\r\n        data.recursive[4].z = 9;\r\n    }\r\n}\r\n```\r\n\r\n## Environment\r\n\r\n- Compiler version: Latest develop commit\r\n- Target EVM version (as per compiler settings): N/A\r\n- Framework/IDE (e.g. Truffle or Remix): N/A\r\n- EVM execution environment / backend / blockchain client: N/A\r\n- Operating system: Ubuntu 18.04 LTS\r\n\r\n## Steps to Reproduce\r\n\r\nI had to compile the solfuzzer target with ASan first, like so\r\n\r\n```\r\n$ mkdir solidity_build\r\n$ cmake -DUSE_Z3=OFF -DUSE_CVC4=OFF -DCMAKE_CXX_FLAGS=\"-fsanitize=address\" ../solidity\r\n$ make solfuzzer -j\r\n```\r\n\r\nand then I replayed the contract like so (shown below are the first few lines of a much bigger leak report output by ASan:\r\n\r\n```\r\n$ ./solfuzzer <contract.sol>\r\n=================================================================                               ==21302==ERROR: LeakSanitizer: detected memory leaks                                                                                                                                            Indirect leak of 336 byte(s) in 3 object(s) allocated from:                                     \r\n    #0 0x7f45c904b458 in operator new(unsigned long) (/usr/lib/x86_64-linux-gnu/libasan.so.4+0xe0458)                                                                                               #1 0x561dfa998044 in __gnu_cxx::new_allocator<std::_Rb_tree_node<std::pair<unsigned long const, std::pair<boost::multiprecision::number<boost::multiprecision::backends::cpp_int_backend<256u, 256u, (boost::multiprecision::cpp_integer_type)0, (boost::multiprecision::cpp_int_check_type)0, void>, (boost::multiprecision::expression_template_option)0>, unsigned int> > > >::allocate(u\r\nnsigned long, void const*) (/home/bhargava/work/github/solidity/build/test/tools/solfuzzer+0xc5d\r\n044)\r\n    #2 0x561dfa982c5f in std::allocator_traits<std::allocator<std::_Rb_tree_node<std::pair<unsig\r\nned long const, std::pair<boost::multiprecision::number<boost::multiprecision::backends::cpp_int\r\n_backend<256u, 256u, (boost::multiprecision::cpp_integer_type)0, (boost::multiprecision::cpp_int\r\n_check_type)0, void>, (boost::multiprecision::expression_template_option)0>, unsigned int> > > >\r\n >::allocate(std::allocator<std::_Rb_tree_node<std::pair<unsigned long const, std::pair<boost::m\r\nultiprecision::number<boost::multiprecision::backends::cpp_int_backend<256u, 256u, (boost::multi\r\nprecision::cpp_integer_type)0, (boost::multiprecision::cpp_int_check_type)0, void>, (boost::mult\r\niprecision::expression_template_option)0>, unsigned int> > > >&, unsigned long) (/home/bhargava/\r\nwork/github/solidity/build/test/tools/solfuzzer+0xc47c5f)\r\n...\r\n```\r\n",
  "closed_by": {
    "login": "christianparpart",
    "id": 56763,
    "node_id": "MDQ6VXNlcjU2NzYz",
    "avatar_url": "https://avatars.githubusercontent.com/u/56763?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/christianparpart",
    "html_url": "https://github.com/christianparpart",
    "followers_url": "https://api.github.com/users/christianparpart/followers",
    "following_url": "https://api.github.com/users/christianparpart/following{/other_user}",
    "gists_url": "https://api.github.com/users/christianparpart/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/christianparpart/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/christianparpart/subscriptions",
    "organizations_url": "https://api.github.com/users/christianparpart/orgs",
    "repos_url": "https://api.github.com/users/christianparpart/repos",
    "events_url": "https://api.github.com/users/christianparpart/events{/privacy}",
    "received_events_url": "https://api.github.com/users/christianparpart/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/5880/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/5880/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/458225304",
    "html_url": "https://github.com/ethereum/solidity/issues/5880#issuecomment-458225304",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/5880",
    "id": 458225304,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1ODIyNTMwNA==",
    "user": {
      "login": "axic",
      "id": 20340,
      "node_id": "MDQ6VXNlcjIwMzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/axic",
      "html_url": "https://github.com/axic",
      "followers_url": "https://api.github.com/users/axic/followers",
      "following_url": "https://api.github.com/users/axic/following{/other_user}",
      "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
      "organizations_url": "https://api.github.com/users/axic/orgs",
      "repos_url": "https://api.github.com/users/axic/repos",
      "events_url": "https://api.github.com/users/axic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/axic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-28T17:31:01Z",
    "updated_at": "2019-01-28T17:31:01Z",
    "author_association": "MEMBER",
    "body": "Are you sure this log is for the issue 12671?\r\n\r\nOssfuzz has the following trace:\r\n```\r\n\r\n#6 0xa3cdd3 in operator[] /usr/local/include/c++/v1/map:1483\r\n--\r\n  | #7 0xa3cdd3 in dev::solidity::StorageOffsets::computeOffsets(std::__1::vector<std::__1::shared_ptr<dev::solidity::Type const>, std::__1::allocator<std::__1::shared_ptr<dev::solidity::Type const> > > const&) solidity/libsolidity/ast/Types.cpp:164\r\n  | #8 0xa40bcb in dev::solidity::MemberList::memberStorageOffset(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&) const solidity/libsolidity/ast/Types.cpp:204:21\r\n  | #9 0xad7e61 in dev::solidity::StructType::storageOffsetsOfMember(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&) const solidity/libsolidity/ast/Types.cpp:2201:41\r\n  | #10 0xf52651 in dev::solidity::ExpressionCompiler::visit(dev::solidity::MemberAccess const&) solidity/libsolidity/codegen/ExpressionCompiler.cpp:1367:47\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/458225304/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/458576720",
    "html_url": "https://github.com/ethereum/solidity/issues/5880#issuecomment-458576720",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/5880",
    "id": 458576720,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1ODU3NjcyMA==",
    "user": {
      "login": "bshastry",
      "id": 2388185,
      "node_id": "MDQ6VXNlcjIzODgxODU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2388185?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bshastry",
      "html_url": "https://github.com/bshastry",
      "followers_url": "https://api.github.com/users/bshastry/followers",
      "following_url": "https://api.github.com/users/bshastry/following{/other_user}",
      "gists_url": "https://api.github.com/users/bshastry/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bshastry/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bshastry/subscriptions",
      "organizations_url": "https://api.github.com/users/bshastry/orgs",
      "repos_url": "https://api.github.com/users/bshastry/repos",
      "events_url": "https://api.github.com/users/bshastry/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bshastry/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-29T15:13:29Z",
    "updated_at": "2019-01-29T15:13:40Z",
    "author_association": "MEMBER",
    "body": "> Are you sure this log is for the issue 12671?\r\n\r\nI'm pretty sure. The thing is leak in each allocation site has it's own stack trace so there should be 33 of them. I just copy pasted a portion of the top stack-trace :)",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/458576720/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/458578280",
    "html_url": "https://github.com/ethereum/solidity/issues/5880#issuecomment-458578280",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/5880",
    "id": 458578280,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1ODU3ODI4MA==",
    "user": {
      "login": "axic",
      "id": 20340,
      "node_id": "MDQ6VXNlcjIwMzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/axic",
      "html_url": "https://github.com/axic",
      "followers_url": "https://api.github.com/users/axic/followers",
      "following_url": "https://api.github.com/users/axic/following{/other_user}",
      "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
      "organizations_url": "https://api.github.com/users/axic/orgs",
      "repos_url": "https://api.github.com/users/axic/repos",
      "events_url": "https://api.github.com/users/axic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/axic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-29T15:17:24Z",
    "updated_at": "2019-01-29T15:17:24Z",
    "author_association": "MEMBER",
    "body": "The useful stack trace is the one from ossfuzz, though. It shows the code where the leak is created.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/458578280/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/458599913",
    "html_url": "https://github.com/ethereum/solidity/issues/5880#issuecomment-458599913",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/5880",
    "id": 458599913,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1ODU5OTkxMw==",
    "user": {
      "login": "bshastry",
      "id": 2388185,
      "node_id": "MDQ6VXNlcjIzODgxODU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2388185?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bshastry",
      "html_url": "https://github.com/bshastry",
      "followers_url": "https://api.github.com/users/bshastry/followers",
      "following_url": "https://api.github.com/users/bshastry/following{/other_user}",
      "gists_url": "https://api.github.com/users/bshastry/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bshastry/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bshastry/subscriptions",
      "organizations_url": "https://api.github.com/users/bshastry/orgs",
      "repos_url": "https://api.github.com/users/bshastry/repos",
      "events_url": "https://api.github.com/users/bshastry/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bshastry/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-29T16:09:45Z",
    "updated_at": "2019-01-29T16:09:45Z",
    "author_association": "MEMBER",
    "body": "iirc there are 33 allocation sites where memory is leaked. My hunch is that each one needs to be fixed separately. Let me report back when I have an update to share on this.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/458599913/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/458604631",
    "html_url": "https://github.com/ethereum/solidity/issues/5880#issuecomment-458604631",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/5880",
    "id": 458604631,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1ODYwNDYzMQ==",
    "user": {
      "login": "axic",
      "id": 20340,
      "node_id": "MDQ6VXNlcjIwMzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/axic",
      "html_url": "https://github.com/axic",
      "followers_url": "https://api.github.com/users/axic/followers",
      "following_url": "https://api.github.com/users/axic/following{/other_user}",
      "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
      "organizations_url": "https://api.github.com/users/axic/orgs",
      "repos_url": "https://api.github.com/users/axic/repos",
      "events_url": "https://api.github.com/users/axic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/axic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-29T16:21:31Z",
    "updated_at": "2019-01-29T16:21:31Z",
    "author_association": "MEMBER",
    "body": "I'm not sure where you take the number 33, because the report 12671 has no mention of it. Also as far as I can tell without meticulously going through all the stack traces, the majority of it is traced back to the same piece of code mentioned above.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/458604631/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/458878793",
    "html_url": "https://github.com/ethereum/solidity/issues/5880#issuecomment-458878793",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/5880",
    "id": 458878793,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1ODg3ODc5Mw==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-30T09:44:43Z",
    "updated_at": "2019-01-30T09:44:43Z",
    "author_association": "MEMBER",
    "body": "Hunch: This might be due to our mis-use of creating types without make_shared.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/458878793/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/458975669",
    "html_url": "https://github.com/ethereum/solidity/issues/5880#issuecomment-458975669",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/5880",
    "id": 458975669,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1ODk3NTY2OQ==",
    "user": {
      "login": "bshastry",
      "id": 2388185,
      "node_id": "MDQ6VXNlcjIzODgxODU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2388185?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bshastry",
      "html_url": "https://github.com/bshastry",
      "followers_url": "https://api.github.com/users/bshastry/followers",
      "following_url": "https://api.github.com/users/bshastry/following{/other_user}",
      "gists_url": "https://api.github.com/users/bshastry/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bshastry/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bshastry/subscriptions",
      "organizations_url": "https://api.github.com/users/bshastry/orgs",
      "repos_url": "https://api.github.com/users/bshastry/repos",
      "events_url": "https://api.github.com/users/bshastry/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bshastry/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-30T15:01:44Z",
    "updated_at": "2019-01-30T15:01:44Z",
    "author_association": "MEMBER",
    "body": "> I'm not sure where you take the number 33, because the report 12671 has no mention of it\r\n\r\nThe reports can be better formatted, the number 33 is right at the bottom of the ASan report on the line that begins with the string \"SUMMARY\". It reads\r\n\r\n> SUMMARY: AddressSanitizer: 2704 byte(s) leaked in 33 allocation(s).",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/458975669/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/458990114",
    "html_url": "https://github.com/ethereum/solidity/issues/5880#issuecomment-458990114",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/5880",
    "id": 458990114,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1ODk5MDExNA==",
    "user": {
      "login": "bshastry",
      "id": 2388185,
      "node_id": "MDQ6VXNlcjIzODgxODU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2388185?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bshastry",
      "html_url": "https://github.com/bshastry",
      "followers_url": "https://api.github.com/users/bshastry/followers",
      "following_url": "https://api.github.com/users/bshastry/following{/other_user}",
      "gists_url": "https://api.github.com/users/bshastry/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bshastry/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bshastry/subscriptions",
      "organizations_url": "https://api.github.com/users/bshastry/orgs",
      "repos_url": "https://api.github.com/users/bshastry/repos",
      "events_url": "https://api.github.com/users/bshastry/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bshastry/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-30T15:38:50Z",
    "updated_at": "2019-01-30T15:38:50Z",
    "author_association": "MEMBER",
    "body": "> Hunch: This might be due to our mis-use of creating types without make_shared.\r\n\r\nI made some progress in finding out the source of the leaks. There seem to be the following buckets of leaks\r\n\r\n> size of leaked object, number of leaked objects, total size (in bytes) of leak, source file, function, line (allocation site)\r\n> 112, 3, 336, libsolidity/ast/Types.cpp, StorageOffsets::computeOffsets, https://github.com/ethereum/solidity/blob/develop/libsolidity/ast/Types.cpp#L164\r\n> 112, 2, 224 bytes (across 2 objects), libsolidity/ast/Types.cpp, StorageOffsets::computeOffsets, https://github.com/ethereum/solidity/blob/develop/libsolidity/ast/Types.cpp#L164\r\n> 80, 2, 160, libsolidity/ast/Types.cpp, Type::fromElementaryTypeName, https://github.com/ethereum/solidity/blob/develop/libsolidity/ast/Types.cpp#L301\r\n> 114, 2, 228, libsolidity/ast/Types.cpp, Type::members, https://github.com/ethereum/solidity/blob/develop/libsolidity/ast/Types.cpp#L413\r\n> 104, 1, 104, libsolidity/analysis/ReferencesResolver.cpp, ReferencesResolver::endVisit, https://github.com/ethereum/solidity/blob/develop/libsolidity/analysis/ReferencesResolver.cpp#L234\r\n> 96, 3, 288, libsolidity/ast/Types.cpp, Type::members, https://github.com/ethereum/solidity/blob/develop/libsolidity/ast/Types.cpp#L413\r\n> 96, 3, 288, libsolidity/ast/Types.cpp, StructType::copyForLocation, https://github.com/ethereum/solidity/blob/develop/libsolidity/ast/Types.cpp#L2151\r\n> 80, 3, 240, libsolidity/ast/Types.cpp, MemberList::memberStorageOffset, https://github.com/ethereum/solidity/blob/develop/libsolidity/ast/Types.cpp#L203\r\n> 80, 1, 80, libsolidity/ast/Types.cpp, Type::fromElementaryTypeName, https://github.com/ethereum/solidity/blob/develop/libsolidity/ast/Types.cpp#L301\r\n> 72, 1, 72, libsolidity/ast/Types.cpp, Type::fromElementaryTypeName, https://github.com/ethereum/solidity/blob/develop/libsolidity/ast/Types.cpp#L321\r\n> 48, 5, 240, libsolidity/ast/Types.cpp, Type::members, https://github.com/ethereum/solidity/blob/develop/libsolidity/ast/Types.cpp#L408\r\n> 32, 5, 160, libsolidity/ast/Types.cpp, Type::members, https://github.com/ethereum/solidity/blob/develop/libsolidity/ast/Types.cpp#L413\r\n\r\nAll but one leaks are in `libsolidity/ast/Types.cpp`, the exception being `libsolidity/analysis/ReferencesResolver.cpp.`",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/458990114/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/459294258",
    "html_url": "https://github.com/ethereum/solidity/issues/5880#issuecomment-459294258",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/5880",
    "id": 459294258,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1OTI5NDI1OA==",
    "user": {
      "login": "bshastry",
      "id": 2388185,
      "node_id": "MDQ6VXNlcjIzODgxODU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2388185?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bshastry",
      "html_url": "https://github.com/bshastry",
      "followers_url": "https://api.github.com/users/bshastry/followers",
      "following_url": "https://api.github.com/users/bshastry/following{/other_user}",
      "gists_url": "https://api.github.com/users/bshastry/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bshastry/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bshastry/subscriptions",
      "organizations_url": "https://api.github.com/users/bshastry/orgs",
      "repos_url": "https://api.github.com/users/bshastry/repos",
      "events_url": "https://api.github.com/users/bshastry/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bshastry/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-31T10:27:54Z",
    "updated_at": "2019-01-31T10:27:54Z",
    "author_association": "MEMBER",
    "body": "One pattern of leaks is the leak of objects with shared_ptr references.\r\n\r\nI wonder if this is due to some kind of circular refs like, object `A` holds a shared_ptr of `B` and vice versa so that when `A` and `B` are eventually destroyed, the shared_ptr ref counting does not go to zero due to there being a cycle, and the objects are leaked.\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/459294258/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/459325712",
    "html_url": "https://github.com/ethereum/solidity/issues/5880#issuecomment-459325712",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/5880",
    "id": 459325712,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1OTMyNTcxMg==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-31T12:25:53Z",
    "updated_at": "2019-01-31T12:25:53Z",
    "author_association": "MEMBER",
    "body": "Since this is all inside `Types.cpp`, it might be because of invalid calls to `shared_from_this`. The standard says that this will lead to an exception starting from C++17 (undefined behaviour until). Perhaps we could compile with C++17 to check?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/459325712/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/459331223",
    "html_url": "https://github.com/ethereum/solidity/issues/5880#issuecomment-459331223",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/5880",
    "id": 459331223,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1OTMzMTIyMw==",
    "user": {
      "login": "axic",
      "id": 20340,
      "node_id": "MDQ6VXNlcjIwMzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/axic",
      "html_url": "https://github.com/axic",
      "followers_url": "https://api.github.com/users/axic/followers",
      "following_url": "https://api.github.com/users/axic/following{/other_user}",
      "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
      "organizations_url": "https://api.github.com/users/axic/orgs",
      "repos_url": "https://api.github.com/users/axic/repos",
      "events_url": "https://api.github.com/users/axic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/axic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-31T12:45:35Z",
    "updated_at": "2019-01-31T12:45:35Z",
    "author_association": "MEMBER",
    "body": "Tried compiling with C++17 and `libsolidity/ast/*` finished without any warnings.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/459331223/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/459332623",
    "html_url": "https://github.com/ethereum/solidity/issues/5880#issuecomment-459332623",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/5880",
    "id": 459332623,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1OTMzMjYyMw==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-31T12:50:30Z",
    "updated_at": "2019-01-31T12:50:30Z",
    "author_association": "MEMBER",
    "body": "Did you run tests (not sure what \"libsolidity/ast/* finished without any warnings\" means)? It will only be detected at runtime.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/459332623/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/459333100",
    "html_url": "https://github.com/ethereum/solidity/issues/5880#issuecomment-459333100",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/5880",
    "id": 459333100,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1OTMzMzEwMA==",
    "user": {
      "login": "axic",
      "id": 20340,
      "node_id": "MDQ6VXNlcjIwMzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/axic",
      "html_url": "https://github.com/axic",
      "followers_url": "https://api.github.com/users/axic/followers",
      "following_url": "https://api.github.com/users/axic/following{/other_user}",
      "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
      "organizations_url": "https://api.github.com/users/axic/orgs",
      "repos_url": "https://api.github.com/users/axic/repos",
      "events_url": "https://api.github.com/users/axic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/axic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-31T12:52:19Z",
    "updated_at": "2019-01-31T12:52:19Z",
    "author_association": "MEMBER",
    "body": "My message said \"compiling\". You didn't mention it is a runtime check, some other code won't compile with C++17 without changes, but the `ast` directory does.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/459333100/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/459333293",
    "html_url": "https://github.com/ethereum/solidity/issues/5880#issuecomment-459333293",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/5880",
    "id": 459333293,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1OTMzMzI5Mw==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-31T12:52:57Z",
    "updated_at": "2019-01-31T12:52:57Z",
    "author_association": "MEMBER",
    "body": "ok, thanks!",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/459333293/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/459337322",
    "html_url": "https://github.com/ethereum/solidity/issues/5880#issuecomment-459337322",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/5880",
    "id": 459337322,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1OTMzNzMyMg==",
    "user": {
      "login": "axic",
      "id": 20340,
      "node_id": "MDQ6VXNlcjIwMzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/axic",
      "html_url": "https://github.com/axic",
      "followers_url": "https://api.github.com/users/axic/followers",
      "following_url": "https://api.github.com/users/axic/following{/other_user}",
      "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
      "organizations_url": "https://api.github.com/users/axic/orgs",
      "repos_url": "https://api.github.com/users/axic/repos",
      "events_url": "https://api.github.com/users/axic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/axic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-31T13:07:06Z",
    "updated_at": "2019-01-31T13:07:06Z",
    "author_association": "MEMBER",
    "body": "Managed to compile, running tests.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/459337322/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/459339209",
    "html_url": "https://github.com/ethereum/solidity/issues/5880#issuecomment-459339209",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/5880",
    "id": 459339209,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1OTMzOTIwOQ==",
    "user": {
      "login": "axic",
      "id": 20340,
      "node_id": "MDQ6VXNlcjIwMzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/axic",
      "html_url": "https://github.com/axic",
      "followers_url": "https://api.github.com/users/axic/followers",
      "following_url": "https://api.github.com/users/axic/following{/other_user}",
      "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
      "organizations_url": "https://api.github.com/users/axic/orgs",
      "repos_url": "https://api.github.com/users/axic/repos",
      "events_url": "https://api.github.com/users/axic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/axic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-31T13:13:27Z",
    "updated_at": "2019-01-31T13:13:27Z",
    "author_association": "MEMBER",
    "body": "Shows no runtime errors.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/459339209/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/459350836",
    "html_url": "https://github.com/ethereum/solidity/issues/5880#issuecomment-459350836",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/5880",
    "id": 459350836,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1OTM1MDgzNg==",
    "user": {
      "login": "bshastry",
      "id": 2388185,
      "node_id": "MDQ6VXNlcjIzODgxODU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2388185?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bshastry",
      "html_url": "https://github.com/bshastry",
      "followers_url": "https://api.github.com/users/bshastry/followers",
      "following_url": "https://api.github.com/users/bshastry/following{/other_user}",
      "gists_url": "https://api.github.com/users/bshastry/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bshastry/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bshastry/subscriptions",
      "organizations_url": "https://api.github.com/users/bshastry/orgs",
      "repos_url": "https://api.github.com/users/bshastry/repos",
      "events_url": "https://api.github.com/users/bshastry/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bshastry/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-31T13:51:05Z",
    "updated_at": "2019-01-31T13:54:55Z",
    "author_association": "MEMBER",
    "body": "One more thing. Leak sanitizer (LSan) tells us that all the reported leaks are `indirect`. Here is the documentation regarding direct and indirect leaks from the LSan page:\r\n\r\n> Another useful feature is being able to distinguish between directly leaked blocks (not reachable from anywhere) and indirectly leaked blocks (reachable from other leaked blocks).\r\n\r\nThis definition is not entirely clear to me, so I consulted the Dr. Memory (another memory error detector; NOT LSan). Here's how Dr. Memory defines direct and indirect leaks\r\n\r\n> An indirect leak is a heap object that is reachable by a pointer to its start address, but with all such pointers originating in leaked objects. Leaks can be thought of as trees, with the top-level object the direct leaks and all child objects indirect leaks\r\n\r\nTaken these definitions into consideration, I'm wondering why LSan does not tell us the \"directly\" leaked objects. That would presumably help us debug this better.\r\n\r\nMeanwhile, I'm going to experiment a little with LSan options (https://github.com/google/sanitizers/wiki/AddressSanitizerLeakSanitizer#flags) so that we could get more clarity on the source of the leaks.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/459350836/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/459466858",
    "html_url": "https://github.com/ethereum/solidity/issues/5880#issuecomment-459466858",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/5880",
    "id": 459466858,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1OTQ2Njg1OA==",
    "user": {
      "login": "axic",
      "id": 20340,
      "node_id": "MDQ6VXNlcjIwMzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/axic",
      "html_url": "https://github.com/axic",
      "followers_url": "https://api.github.com/users/axic/followers",
      "following_url": "https://api.github.com/users/axic/following{/other_user}",
      "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
      "organizations_url": "https://api.github.com/users/axic/orgs",
      "repos_url": "https://api.github.com/users/axic/repos",
      "events_url": "https://api.github.com/users/axic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/axic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-31T19:07:32Z",
    "updated_at": "2019-01-31T19:07:32Z",
    "author_association": "MEMBER",
    "body": "Have working ASan on circleci: https://github.com/ethereum/solidity/tree/asan-clang\r\n\r\nIt detects (the EndToEnd tests are disabled):\r\n```\r\nSUMMARY: AddressSanitizer: 3880 byte(s) leaked in 49 allocation(s).\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/459466858/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/460263192",
    "html_url": "https://github.com/ethereum/solidity/issues/5880#issuecomment-460263192",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/5880",
    "id": 460263192,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MDI2MzE5Mg==",
    "user": {
      "login": "bshastry",
      "id": 2388185,
      "node_id": "MDQ6VXNlcjIzODgxODU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2388185?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bshastry",
      "html_url": "https://github.com/bshastry",
      "followers_url": "https://api.github.com/users/bshastry/followers",
      "following_url": "https://api.github.com/users/bshastry/following{/other_user}",
      "gists_url": "https://api.github.com/users/bshastry/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bshastry/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bshastry/subscriptions",
      "organizations_url": "https://api.github.com/users/bshastry/orgs",
      "repos_url": "https://api.github.com/users/bshastry/repos",
      "events_url": "https://api.github.com/users/bshastry/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bshastry/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-04T14:12:48Z",
    "updated_at": "2019-02-04T14:13:36Z",
    "author_association": "MEMBER",
    "body": "I replayed the buggy input on solfuzzer via valgrind and it could reproduce the leak as well. Here's the valgrind summary:\r\n\r\n> ==8841== HEAP SUMMARY:\r\n==8841==     in use at exit: 2,976 bytes in 33 blocks\r\n==8841==   total heap usage: 224,414 allocs, 224,381 frees, 13,551,143 bytes allocated\r\n==8841==\r\n==8841== Searching for pointers to 33 not-freed blocks\r\n==8841== Checked 149,800 bytes\r\n==8841==\r\n==8841== 2,976 (112 direct, 2,864 indirect) bytes in 1 blocks are definitely lost in loss record 24 of 24\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/460263192/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/460853978",
    "html_url": "https://github.com/ethereum/solidity/issues/5880#issuecomment-460853978",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/5880",
    "id": 460853978,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MDg1Mzk3OA==",
    "user": {
      "login": "axic",
      "id": 20340,
      "node_id": "MDQ6VXNlcjIwMzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/axic",
      "html_url": "https://github.com/axic",
      "followers_url": "https://api.github.com/users/axic/followers",
      "following_url": "https://api.github.com/users/axic/following{/other_user}",
      "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
      "organizations_url": "https://api.github.com/users/axic/orgs",
      "repos_url": "https://api.github.com/users/axic/repos",
      "events_url": "https://api.github.com/users/axic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/axic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-06T00:04:44Z",
    "updated_at": "2019-02-06T00:04:44Z",
    "author_association": "MEMBER",
    "body": "I think #4517 is one of the earlier reports of this. Since this issue has more detail I suggest we close the other one.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/460853978/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/461421277",
    "html_url": "https://github.com/ethereum/solidity/issues/5880#issuecomment-461421277",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/5880",
    "id": 461421277,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MTQyMTI3Nw==",
    "user": {
      "login": "bshastry",
      "id": 2388185,
      "node_id": "MDQ6VXNlcjIzODgxODU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2388185?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bshastry",
      "html_url": "https://github.com/bshastry",
      "followers_url": "https://api.github.com/users/bshastry/followers",
      "following_url": "https://api.github.com/users/bshastry/following{/other_user}",
      "gists_url": "https://api.github.com/users/bshastry/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bshastry/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bshastry/subscriptions",
      "organizations_url": "https://api.github.com/users/bshastry/orgs",
      "repos_url": "https://api.github.com/users/bshastry/repos",
      "events_url": "https://api.github.com/users/bshastry/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bshastry/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-07T13:36:20Z",
    "updated_at": "2019-02-07T13:36:20Z",
    "author_association": "MEMBER",
    "body": "Minor update on this: oss-fuzz is run every day on the latest `develop` commit. However, it keeps tripping on already reported mem leaks, so I'm afraid we won't get new reports until the old ones are fixed.\r\n\r\nAlternatively we could ask oss-fuzz to ignore leaks until the present leaks are fixed, but I'd only suggest this as a temporary solution.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/461421277/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/461482148",
    "html_url": "https://github.com/ethereum/solidity/issues/5880#issuecomment-461482148",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/5880",
    "id": 461482148,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MTQ4MjE0OA==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-07T15:54:24Z",
    "updated_at": "2019-02-07T15:54:24Z",
    "author_association": "MEMBER",
    "body": "Let's ignore leaks.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/461482148/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/462305108",
    "html_url": "https://github.com/ethereum/solidity/issues/5880#issuecomment-462305108",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/5880",
    "id": 462305108,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MjMwNTEwOA==",
    "user": {
      "login": "bshastry",
      "id": 2388185,
      "node_id": "MDQ6VXNlcjIzODgxODU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2388185?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bshastry",
      "html_url": "https://github.com/bshastry",
      "followers_url": "https://api.github.com/users/bshastry/followers",
      "following_url": "https://api.github.com/users/bshastry/following{/other_user}",
      "gists_url": "https://api.github.com/users/bshastry/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bshastry/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bshastry/subscriptions",
      "organizations_url": "https://api.github.com/users/bshastry/orgs",
      "repos_url": "https://api.github.com/users/bshastry/repos",
      "events_url": "https://api.github.com/users/bshastry/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bshastry/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-11T12:05:38Z",
    "updated_at": "2019-02-11T12:05:38Z",
    "author_association": "MEMBER",
    "body": "> Let's ignore leaks.\r\n\r\nThere is a problem if we decide to ignore leaks that I did not anticipate earlier. If we ignore leaks, Google is going to close previously reported bugs (mem leaks) as fixed. Another problem is that memory leaks (even if ignored) tend to accumulate and drain the fuzzing process out of memory (current memory limit is 2GB per fuzzing process).\r\n\r\nDo we want to still go ahead with ignoring leaks?  ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/462305108/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/493686205",
    "html_url": "https://github.com/ethereum/solidity/issues/5880#issuecomment-493686205",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/5880",
    "id": 493686205,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5MzY4NjIwNQ==",
    "user": {
      "login": "guylando",
      "id": 14879163,
      "node_id": "MDQ6VXNlcjE0ODc5MTYz",
      "avatar_url": "https://avatars.githubusercontent.com/u/14879163?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/guylando",
      "html_url": "https://github.com/guylando",
      "followers_url": "https://api.github.com/users/guylando/followers",
      "following_url": "https://api.github.com/users/guylando/following{/other_user}",
      "gists_url": "https://api.github.com/users/guylando/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/guylando/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/guylando/subscriptions",
      "organizations_url": "https://api.github.com/users/guylando/orgs",
      "repos_url": "https://api.github.com/users/guylando/repos",
      "events_url": "https://api.github.com/users/guylando/events{/privacy}",
      "received_events_url": "https://api.github.com/users/guylando/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-18T15:39:27Z",
    "updated_at": "2019-05-18T15:41:39Z",
    "author_association": "CONTRIBUTOR",
    "body": "If those are indirect leaks then the problem might not be at the Types.cpp at all (and everything pointed to it just because it is a very commonly used code) and would be useful to first track the direct leak objects and solve them and then re-run the tests to see if there are still indirect leaks.\r\nNone of those tools provide a dump of the direct leak objects which use the indirect leaked code?\r\nThe gist in https://github.com/ethereum/solidity/issues/4517 contains a reference to one direct leak",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/493686205/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/530386762",
    "html_url": "https://github.com/ethereum/solidity/issues/5880#issuecomment-530386762",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/5880",
    "id": 530386762,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzMDM4Njc2Mg==",
    "user": {
      "login": "christianparpart",
      "id": 56763,
      "node_id": "MDQ6VXNlcjU2NzYz",
      "avatar_url": "https://avatars.githubusercontent.com/u/56763?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/christianparpart",
      "html_url": "https://github.com/christianparpart",
      "followers_url": "https://api.github.com/users/christianparpart/followers",
      "following_url": "https://api.github.com/users/christianparpart/following{/other_user}",
      "gists_url": "https://api.github.com/users/christianparpart/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/christianparpart/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/christianparpart/subscriptions",
      "organizations_url": "https://api.github.com/users/christianparpart/orgs",
      "repos_url": "https://api.github.com/users/christianparpart/repos",
      "events_url": "https://api.github.com/users/christianparpart/events{/privacy}",
      "received_events_url": "https://api.github.com/users/christianparpart/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-09-11T13:44:13Z",
    "updated_at": "2019-09-11T13:44:13Z",
    "author_association": "MEMBER",
    "body": "@bshastry After many months, I've been retesting your code snipped and it's fixed now (most likely due to the type system PR with strong ownership from a couple of months ago).\r\n\r\nWhat's left are some \"possibly lost\" leaks due to Z3 that are, however, totally unrelated to this ticket and we couldn't track them down; so I'm closing this ticket.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/530386762/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
