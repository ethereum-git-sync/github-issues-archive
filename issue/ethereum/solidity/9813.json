{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/9813",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/9813/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/9813/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/9813/events",
  "html_url": "https://github.com/ethereum/solidity/issues/9813",
  "id": 702015999,
  "node_id": "MDU6SXNzdWU3MDIwMTU5OTk=",
  "number": 9813,
  "title": "[feature-request] Error code system, based on Yulish style `error\"...\"`",
  "user": {
    "login": "SilentCicero",
    "id": 9806174,
    "node_id": "MDQ6VXNlcjk4MDYxNzQ=",
    "avatar_url": "https://avatars.githubusercontent.com/u/9806174?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/SilentCicero",
    "html_url": "https://github.com/SilentCicero",
    "followers_url": "https://api.github.com/users/SilentCicero/followers",
    "following_url": "https://api.github.com/users/SilentCicero/following{/other_user}",
    "gists_url": "https://api.github.com/users/SilentCicero/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/SilentCicero/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/SilentCicero/subscriptions",
    "organizations_url": "https://api.github.com/users/SilentCicero/orgs",
    "repos_url": "https://api.github.com/users/SilentCicero/repos",
    "events_url": "https://api.github.com/users/SilentCicero/events{/privacy}",
    "received_events_url": "https://api.github.com/users/SilentCicero/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 785717317,
      "node_id": "MDU6TGFiZWw3ODU3MTczMTc=",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/language%20design%20:rage4:",
      "name": "language design :rage4:",
      "color": "9d76d3",
      "default": false,
      "description": "Any changes to the language, e.g. new features"
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2020-09-15T15:08:50Z",
  "updated_at": "2022-08-17T13:49:55Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "## Abstract\r\n\r\nRevert error messages take up a *huge* amount of byte space, especially for larger builds.\r\n\r\n## Motivation\r\n\r\nYou making us crazy.\r\n\r\nSuggestion, have a simple error code system, which delivers a map of error codes at compile time. This way error code messages are not baked into the contract itself, which is wasteful.\r\n\r\nSuggestion:\r\n\r\n// my sol file .sol\r\n```js\r\nrequire(someAssertion, error\"my-error-code-message\");\r\n```\r\n\r\n// compiled build .json\r\n```json\r\n{\r\n   \"abi\": [],\r\n   \"bytecode\": \"0x\",\r\n   \"errors\": {\r\n       \"0\": \"my-error-code-message\",\r\n   },\r\n}\r\n```\r\n\r\n## Specification\r\n\r\nError codes are registered in order, are unique, and properly map to the output in the build. We do this in Yul+ and it has been a huge savings for larger deployments.\r\n\r\nNotation is similar to hex\"\", i.e. error\"\".\r\n\r\n## Backwards Compatibility\r\n\r\nNot sure on this one.",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/9813/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/9813/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/692798206",
    "html_url": "https://github.com/ethereum/solidity/issues/9813#issuecomment-692798206",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/9813",
    "id": 692798206,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5Mjc5ODIwNg==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-09-15T15:36:49Z",
    "updated_at": "2020-09-23T15:05:31Z",
    "author_association": "MEMBER",
    "body": "I cannot dig up the issue number now,  but we are planning to add custom errors to 0.8 in the way of\r\n```\r\nerror MyErorrKind(/*potential parameters */)\r\n```\r\nwhy can then be used like\r\n```\r\nthrow MyErrorKind(/*potential arguments */);\r\nrequire(x, MyErrorKind())\r\n```\r\nand\r\n```\r\ntry ... { ... } catch MyError(/* variables */) { ... }\r\n```\r\nThe implementation would use function signatures in the same way as the ABI, so if you don't have arguments, it needs 4 bytes and a memory write.\r\n\r\nWould that work here?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/692798206/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/692933116",
    "html_url": "https://github.com/ethereum/solidity/issues/9813#issuecomment-692933116",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/9813",
    "id": 692933116,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5MjkzMzExNg==",
    "user": {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-09-15T19:35:16Z",
    "updated_at": "2020-09-15T19:35:16Z",
    "author_association": "MEMBER",
    "body": "I think it was #7877.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/692933116/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/692981529",
    "html_url": "https://github.com/ethereum/solidity/issues/9813#issuecomment-692981529",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/9813",
    "id": 692981529,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5Mjk4MTUyOQ==",
    "user": {
      "login": "SilentCicero",
      "id": 9806174,
      "node_id": "MDQ6VXNlcjk4MDYxNzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9806174?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SilentCicero",
      "html_url": "https://github.com/SilentCicero",
      "followers_url": "https://api.github.com/users/SilentCicero/followers",
      "following_url": "https://api.github.com/users/SilentCicero/following{/other_user}",
      "gists_url": "https://api.github.com/users/SilentCicero/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SilentCicero/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SilentCicero/subscriptions",
      "organizations_url": "https://api.github.com/users/SilentCicero/orgs",
      "repos_url": "https://api.github.com/users/SilentCicero/repos",
      "events_url": "https://api.github.com/users/SilentCicero/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SilentCicero/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-09-15T21:11:04Z",
    "updated_at": "2020-09-15T21:11:04Z",
    "author_association": "NONE",
    "body": "@chriseth so the emit Error might be okay, but my system as you can see is very simple. Very basic. Just mainly to avoid the headache of string bloat with error messages.\r\n\r\nI feel mine would be easier to implement, but sure, the above might do it. How are errors interpreted outside in testing environments?\r\n\r\nThe reason why I like my direction is it's clear, the strings are registered in the compiled output, and can be hooked into testing environments.\r\n\r\nI do this with Yul+ and it works great.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/692981529/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/697508996",
    "html_url": "https://github.com/ethereum/solidity/issues/9813#issuecomment-697508996",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/9813",
    "id": 697508996,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5NzUwODk5Ng==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-09-23T15:07:15Z",
    "updated_at": "2020-09-23T15:07:15Z",
    "author_association": "MEMBER",
    "body": "Here is a new writeup that also contains some more context: https://hackmd.io/b0vr4MFrSkCLlBEacnds0Q\r\n\r\nThe advantage of typed errors is that you can properly catch them in `catch` statements and you can also have longer string explanations in NatSpec documentation that is exported via the ABI.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/697508996/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/858114602",
    "html_url": "https://github.com/ethereum/solidity/issues/9813#issuecomment-858114602",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/9813",
    "id": 858114602,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg1ODExNDYwMg==",
    "user": {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-09T21:27:51Z",
    "updated_at": "2021-06-09T21:27:51Z",
    "author_association": "MEMBER",
    "body": "Is this issue still relevant now that we have custom errors implemented?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/858114602/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/858118673",
    "html_url": "https://github.com/ethereum/solidity/issues/9813#issuecomment-858118673",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/9813",
    "id": 858118673,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg1ODExODY3Mw==",
    "user": {
      "login": "axic",
      "id": 20340,
      "node_id": "MDQ6VXNlcjIwMzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/axic",
      "html_url": "https://github.com/axic",
      "followers_url": "https://api.github.com/users/axic/followers",
      "following_url": "https://api.github.com/users/axic/following{/other_user}",
      "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
      "organizations_url": "https://api.github.com/users/axic/orgs",
      "repos_url": "https://api.github.com/users/axic/repos",
      "events_url": "https://api.github.com/users/axic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/axic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-09T21:35:45Z",
    "updated_at": "2021-06-09T21:35:45Z",
    "author_association": "MEMBER",
    "body": "I think the proposal is different to the error system, as the current one still uses more bytes than suggested.\r\n\r\nProbably it is up to @SilentCicero to decide if this is pursued further or not.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/858118673/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
