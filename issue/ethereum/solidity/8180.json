{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/8180",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/8180/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/8180/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/8180/events",
  "html_url": "https://github.com/ethereum/solidity/issues/8180",
  "id": 553765886,
  "node_id": "MDU6SXNzdWU1NTM3NjU4ODY=",
  "number": 8180,
  "title": "address(this).balance does not work starting in Solidity 0.5.14",
  "user": {
    "login": "Droopy78",
    "id": 6580834,
    "node_id": "MDQ6VXNlcjY1ODA4MzQ=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6580834?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Droopy78",
    "html_url": "https://github.com/Droopy78",
    "followers_url": "https://api.github.com/users/Droopy78/followers",
    "following_url": "https://api.github.com/users/Droopy78/following{/other_user}",
    "gists_url": "https://api.github.com/users/Droopy78/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Droopy78/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Droopy78/subscriptions",
    "organizations_url": "https://api.github.com/users/Droopy78/orgs",
    "repos_url": "https://api.github.com/users/Droopy78/repos",
    "events_url": "https://api.github.com/users/Droopy78/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Droopy78/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2020-01-22T20:08:50Z",
  "updated_at": "2020-01-22T23:47:00Z",
  "closed_at": "2020-01-22T23:47:00Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "<!--## Prerequisites\r\n\r\n- First, many thanks for taking part in the community. We really appreciate that.\r\n- We realize there is a lot of information requested here. We ask only that you do your best to provide as much information as possible so we can better help you.\r\n- Support questions are better asked in one of the following locations:\r\n\t- [Solidity chat](https://gitter.im/ethereum/solidity)\r\n\t- [Stack Overflow](https://ethereum.stackexchange.com/)\r\n- Ensure the issue isn't already reported.\r\n- The issue should be reproducible with the latest solidity version; however, this isn't a hard requirement and being reproducible with an older version is sufficient.\r\n-->\r\n\r\n## Description\r\n\r\nStarting in Solidity 0.5.14, address(this).balance results in \"invalid opcode\".\r\n\r\nSee code below. Can quickly test this in Remix:\r\n\r\nCall getContractBalance() --> **does not work**\r\nCall getContractBalance2() --> **works** \r\n\r\n```solidity\r\npragma solidity ^0.5.14;\r\n\r\ncontract TestBalance {\r\n    // fallback function\r\n    function () external payable {}\r\n    \r\n    function getContractBalance() public view returns (uint256) {\r\n        return address(this).balance;\r\n    }\r\n    \r\n    function getContractBalance2() public view returns (uint256) {\r\n        return address(uint160(address(this))).balance;\r\n    }\r\n}\r\n```\r\nIn Solidity version 0.5.13, both functions above work correctly.\r\n\r\n",
  "closed_by": {
    "login": "Droopy78",
    "id": 6580834,
    "node_id": "MDQ6VXNlcjY1ODA4MzQ=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6580834?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Droopy78",
    "html_url": "https://github.com/Droopy78",
    "followers_url": "https://api.github.com/users/Droopy78/followers",
    "following_url": "https://api.github.com/users/Droopy78/following{/other_user}",
    "gists_url": "https://api.github.com/users/Droopy78/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Droopy78/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Droopy78/subscriptions",
    "organizations_url": "https://api.github.com/users/Droopy78/orgs",
    "repos_url": "https://api.github.com/users/Droopy78/repos",
    "events_url": "https://api.github.com/users/Droopy78/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Droopy78/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/8180/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/8180/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/577373493",
    "html_url": "https://github.com/ethereum/solidity/issues/8180#issuecomment-577373493",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/8180",
    "id": 577373493,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3NzM3MzQ5Mw==",
    "user": {
      "login": "axic",
      "id": 20340,
      "node_id": "MDQ6VXNlcjIwMzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/axic",
      "html_url": "https://github.com/axic",
      "followers_url": "https://api.github.com/users/axic/followers",
      "following_url": "https://api.github.com/users/axic/following{/other_user}",
      "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
      "organizations_url": "https://api.github.com/users/axic/orgs",
      "repos_url": "https://api.github.com/users/axic/repos",
      "events_url": "https://api.github.com/users/axic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/axic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-01-22T20:35:12Z",
    "updated_at": "2020-01-22T20:35:12Z",
    "author_association": "MEMBER",
    "body": "You need to select Istanbul as EVM version on Remix (for execution). Or change the compilation target on Solidity for something before Istanbul.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/577373493/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/577439565",
    "html_url": "https://github.com/ethereum/solidity/issues/8180#issuecomment-577439565",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/8180",
    "id": 577439565,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3NzQzOTU2NQ==",
    "user": {
      "login": "Droopy78",
      "id": 6580834,
      "node_id": "MDQ6VXNlcjY1ODA4MzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6580834?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Droopy78",
      "html_url": "https://github.com/Droopy78",
      "followers_url": "https://api.github.com/users/Droopy78/followers",
      "following_url": "https://api.github.com/users/Droopy78/following{/other_user}",
      "gists_url": "https://api.github.com/users/Droopy78/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Droopy78/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Droopy78/subscriptions",
      "organizations_url": "https://api.github.com/users/Droopy78/orgs",
      "repos_url": "https://api.github.com/users/Droopy78/repos",
      "events_url": "https://api.github.com/users/Droopy78/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Droopy78/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-01-22T23:47:00Z",
    "updated_at": "2020-01-22T23:47:00Z",
    "author_association": "NONE",
    "body": "Thank you! Yes this is the reason. I am still using the old Remix interface, which doesn't seem to give the option to switch EVM versions. It's unfortunate it doesn't at least default to the correct EVM version to match the compiled version.\r\n\r\nI switched to the new Remix interface and it gives you the option to either use the default EVM version or choose the EVM version. Choosing either \"Default\" or \"Constantinople\" works.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/577439565/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
