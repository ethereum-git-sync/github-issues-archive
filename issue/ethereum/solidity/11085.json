{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/11085",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/11085/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/11085/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/11085/events",
  "html_url": "https://github.com/ethereum/solidity/issues/11085",
  "id": 828313578,
  "node_id": "MDU6SXNzdWU4MjgzMTM1Nzg=",
  "number": 11085,
  "title": "Add some support for PGO (profile-guided optimization)",
  "user": {
    "login": "axic",
    "id": 20340,
    "node_id": "MDQ6VXNlcjIwMzQw",
    "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/axic",
    "html_url": "https://github.com/axic",
    "followers_url": "https://api.github.com/users/axic/followers",
    "following_url": "https://api.github.com/users/axic/following{/other_user}",
    "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
    "organizations_url": "https://api.github.com/users/axic/orgs",
    "repos_url": "https://api.github.com/users/axic/repos",
    "events_url": "https://api.github.com/users/axic/events{/privacy}",
    "received_events_url": "https://api.github.com/users/axic/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1282209978,
      "node_id": "MDU6TGFiZWwxMjgyMjA5OTc4",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/optimizer",
      "name": "optimizer",
      "color": "d4c5f9",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2021-03-10T20:45:53Z",
  "updated_at": "2022-08-17T13:49:38Z",
  "closed_at": null,
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "See https://en.wikipedia.org/wiki/Profile-guided_optimization. (This was [discussed on gitter](https://gitter.im/ethereum/solidity-dev?at=60412acbd71b6554cd203312).)\r\n\r\nGuiding the compiler with usage data could help determining which code paths matter and could prefer those for cost. This could also make proposals like #4858, #6234 or #8186 moot.\r\n\r\nOne potential idea is to have a new input to standard json consisting of a map of AST id and number of hits. The code paths touching those AST ids would be prioritised. This map must be included in the metadata as well for reproducibility. Creating this map would not be the responsibility of the compiler, rather frameworks could run various test cases, record the execution trace, and submit the map.\r\n\r\nObviously this is not a concrete proposal yet, just a rough outline.",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/11085/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/11085/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/796133935",
    "html_url": "https://github.com/ethereum/solidity/issues/11085#issuecomment-796133935",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/11085",
    "id": 796133935,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc5NjEzMzkzNQ==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-10T21:21:41Z",
    "updated_at": "2021-03-10T21:21:41Z",
    "author_association": "MEMBER",
    "body": "Instead of AST ids we could also use the names of yul functions or IR code line numbers before optimization.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/796133935/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
