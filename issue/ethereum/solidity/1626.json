{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/1626",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/1626/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/1626/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/1626/events",
  "html_url": "https://github.com/ethereum/solidity/issues/1626",
  "id": 204449048,
  "node_id": "MDU6SXNzdWUyMDQ0NDkwNDg=",
  "number": 1626,
  "title": "arrays missing from struct abis",
  "user": {
    "login": "aakilfernandes",
    "id": 1577353,
    "node_id": "MDQ6VXNlcjE1NzczNTM=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1577353?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/aakilfernandes",
    "html_url": "https://github.com/aakilfernandes",
    "followers_url": "https://api.github.com/users/aakilfernandes/followers",
    "following_url": "https://api.github.com/users/aakilfernandes/following{/other_user}",
    "gists_url": "https://api.github.com/users/aakilfernandes/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/aakilfernandes/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/aakilfernandes/subscriptions",
    "organizations_url": "https://api.github.com/users/aakilfernandes/orgs",
    "repos_url": "https://api.github.com/users/aakilfernandes/repos",
    "events_url": "https://api.github.com/users/aakilfernandes/events{/privacy}",
    "received_events_url": "https://api.github.com/users/aakilfernandes/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2017-01-31T22:57:02Z",
  "updated_at": "2017-02-09T14:39:04Z",
  "closed_at": "2017-02-09T14:39:04Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "The following contract creates a `things(uint256)` function. However the abi is missing the `values` output.\r\n\r\n```\r\npragma solidity ^0.4.4;\r\ncontract structMap {\r\n  struct Thing{\r\n    address sender;\r\n    uint256[] values;\r\n  }\r\n\r\n  mapping(uint256 => Thing) public things;\r\n}\r\n```\r\n\r\nABI:\r\n\r\n```\r\n[\r\n   {\r\n      \"constant\":true,\r\n      \"inputs\":[\r\n         {\r\n            \"name\":\"\",\r\n            \"type\":\"uint256\"\r\n         }\r\n      ],\r\n      \"name\":\"things\",\r\n      \"outputs\":[\r\n         {\r\n            \"name\":\"sender\",\r\n            \"type\":\"address\"\r\n         }\r\n      ],\r\n      \"payable\":false,\r\n      \"type\":\"function\"\r\n   }\r\n]\r\n```",
  "closed_by": {
    "login": "chriseth",
    "id": 9073706,
    "node_id": "MDQ6VXNlcjkwNzM3MDY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/chriseth",
    "html_url": "https://github.com/chriseth",
    "followers_url": "https://api.github.com/users/chriseth/followers",
    "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
    "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
    "organizations_url": "https://api.github.com/users/chriseth/orgs",
    "repos_url": "https://api.github.com/users/chriseth/repos",
    "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
    "received_events_url": "https://api.github.com/users/chriseth/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/1626/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/1626/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/276522534",
    "html_url": "https://github.com/ethereum/solidity/issues/1626#issuecomment-276522534",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/1626",
    "id": 276522534,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3NjUyMjUzNA==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-31T23:05:23Z",
    "updated_at": "2017-01-31T23:05:23Z",
    "author_association": "MEMBER",
    "body": "This is on purpose. The reason is the following:\r\nAccessors for mappings or dynamic arrays (or complex objects composed from them) never return the full mapping or array. For a mapping this is obvious - there is no way to iterate over the mapping. For arrays, the output would be just too big. As there is no clear point where you could say that the output is too large, the decision was to always just return a single element from the mapping or array and require the key for that element to be a function argument. This works quite well for arrays and arrays of arrays but it is not really possibly to supply the argument for a struct that has an array as a member. The idea is that the virtual code for the accessor should always be of the form `return x[a][b][c]`, and if this results in a struct, the struct is turned into a tuple of all its elementary members. Non-elementary members are stripped from the tuple.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/276522534/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/276527437",
    "html_url": "https://github.com/ethereum/solidity/issues/1626#issuecomment-276527437",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/1626",
    "id": 276527437,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3NjUyNzQzNw==",
    "user": {
      "login": "aakilfernandes",
      "id": 1577353,
      "node_id": "MDQ6VXNlcjE1NzczNTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1577353?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aakilfernandes",
      "html_url": "https://github.com/aakilfernandes",
      "followers_url": "https://api.github.com/users/aakilfernandes/followers",
      "following_url": "https://api.github.com/users/aakilfernandes/following{/other_user}",
      "gists_url": "https://api.github.com/users/aakilfernandes/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aakilfernandes/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aakilfernandes/subscriptions",
      "organizations_url": "https://api.github.com/users/aakilfernandes/orgs",
      "repos_url": "https://api.github.com/users/aakilfernandes/repos",
      "events_url": "https://api.github.com/users/aakilfernandes/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aakilfernandes/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-31T23:29:19Z",
    "updated_at": "2017-01-31T23:29:19Z",
    "author_association": "NONE",
    "body": "I follow you for mappings. But doesn't the \"might be too big\" problem exist for any function that returns a dynamic array?\r\n\r\nie\r\n\r\n`function getNumbers() constant returns(uint256[])`",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/276527437/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/276931938",
    "html_url": "https://github.com/ethereum/solidity/issues/1626#issuecomment-276931938",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/1626",
    "id": 276931938,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3NjkzMTkzOA==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-02T11:21:55Z",
    "updated_at": "2017-02-02T11:21:55Z",
    "author_association": "MEMBER",
    "body": "Sure, but if you define a function you can either use\r\n`function getNumbers() constant returns(uint256[])` or `function getSingleNumber(uint index) constant returns(uint256)`. With accessors you do not have a choice.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/276931938/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
