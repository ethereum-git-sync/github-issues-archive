{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/563",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/563/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/563/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/563/events",
  "html_url": "https://github.com/ethereum/solidity/issues/563",
  "id": 154570374,
  "node_id": "MDU6SXNzdWUxNTQ1NzAzNzQ=",
  "number": 563,
  "title": "Strict transaction value handling",
  "user": {
    "login": "axic",
    "id": 20340,
    "node_id": "MDQ6VXNlcjIwMzQw",
    "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/axic",
    "html_url": "https://github.com/axic",
    "followers_url": "https://api.github.com/users/axic/followers",
    "following_url": "https://api.github.com/users/axic/following{/other_user}",
    "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
    "organizations_url": "https://api.github.com/users/axic/orgs",
    "repos_url": "https://api.github.com/users/axic/repos",
    "events_url": "https://api.github.com/users/axic/events{/privacy}",
    "received_events_url": "https://api.github.com/users/axic/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": {
    "url": "https://api.github.com/repos/ethereum/solidity/milestones/25",
    "html_url": "https://github.com/ethereum/solidity/milestone/25",
    "labels_url": "https://api.github.com/repos/ethereum/solidity/milestones/25/labels",
    "id": 1925733,
    "node_id": "MDk6TWlsZXN0b25lMTkyNTczMw==",
    "number": 25,
    "title": "2-breaking-safety-changes",
    "description": null,
    "creator": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 0,
    "closed_issues": 8,
    "state": "closed",
    "created_at": "2016-08-05T15:31:30Z",
    "updated_at": "2023-04-06T14:05:31Z",
    "due_on": null,
    "closed_at": "2018-07-30T10:40:43Z"
  },
  "comments": 1,
  "created_at": "2016-05-12T20:11:19Z",
  "updated_at": "2016-09-06T20:52:05Z",
  "closed_at": "2016-09-06T20:52:00Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "I think it time to consider adding more safety mechanisms into Solidity. One good candidate is cleaning up the handling of transaction values.\n\nAny method (including the fallback) silently accepts transaction values, it has to manually ensured and dealt with. Please check #562 for the fallback change proposal.\n\nI propose a breaking change so that every method accepting transaction values must explicitly mark methods accordingly with the `acceptValue` keyword.\n\n1)  Any other non-private/internal method should start with a check for transaction value and should throw if it is non-zero. This could be eventually moved into the ABI dispatcher. If no method is marked as value acceptor, then it is a simple once-off check in the dispatcher.\n\n2) Libraries should reject values in all cases. This means a once-off check in the dispatcher.\n\n3) The same restrictions apply to the fallback method, on top of what #562 proposes.\n\n4) For interface JSON definition see #500\n## \n\nSome of the above could be accomplished with a modifier, albeit without the strictness and the option to optimise it (i.e. in the ABI dispatcher):\n\n```\nmodifier rejectValue {\n  if (msg.value != 0)  throw;\n  _\n}\n```\n",
  "closed_by": {
    "login": "axic",
    "id": 20340,
    "node_id": "MDQ6VXNlcjIwMzQw",
    "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/axic",
    "html_url": "https://github.com/axic",
    "followers_url": "https://api.github.com/users/axic/followers",
    "following_url": "https://api.github.com/users/axic/following{/other_user}",
    "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
    "organizations_url": "https://api.github.com/users/axic/orgs",
    "repos_url": "https://api.github.com/users/axic/repos",
    "events_url": "https://api.github.com/users/axic/events{/privacy}",
    "received_events_url": "https://api.github.com/users/axic/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/563/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/563/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/245087297",
    "html_url": "https://github.com/ethereum/solidity/issues/563#issuecomment-245087297",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/563",
    "id": 245087297,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0NTA4NzI5Nw==",
    "user": {
      "login": "axic",
      "id": 20340,
      "node_id": "MDQ6VXNlcjIwMzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/axic",
      "html_url": "https://github.com/axic",
      "followers_url": "https://api.github.com/users/axic/followers",
      "following_url": "https://api.github.com/users/axic/following{/other_user}",
      "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
      "organizations_url": "https://api.github.com/users/axic/orgs",
      "repos_url": "https://api.github.com/users/axic/repos",
      "events_url": "https://api.github.com/users/axic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/axic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-09-06T20:52:00Z",
    "updated_at": "2016-09-06T20:52:00Z",
    "author_association": "MEMBER",
    "body": "Fixed in #665.\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/245087297/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
