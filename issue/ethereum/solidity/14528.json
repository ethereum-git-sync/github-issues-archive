{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/14528",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/14528/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/14528/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/14528/events",
  "html_url": "https://github.com/ethereum/solidity/issues/14528",
  "id": 1877852525,
  "node_id": "I_kwDOAm_5kc5v7cFt",
  "number": 14528,
  "title": "Retreive exact line of opcode execution",
  "user": {
    "login": "AntoineMrtl",
    "id": 74369980,
    "node_id": "MDQ6VXNlcjc0MzY5OTgw",
    "avatar_url": "https://avatars.githubusercontent.com/u/74369980?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/AntoineMrtl",
    "html_url": "https://github.com/AntoineMrtl",
    "followers_url": "https://api.github.com/users/AntoineMrtl/followers",
    "following_url": "https://api.github.com/users/AntoineMrtl/following{/other_user}",
    "gists_url": "https://api.github.com/users/AntoineMrtl/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/AntoineMrtl/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/AntoineMrtl/subscriptions",
    "organizations_url": "https://api.github.com/users/AntoineMrtl/orgs",
    "repos_url": "https://api.github.com/users/AntoineMrtl/repos",
    "events_url": "https://api.github.com/users/AntoineMrtl/events{/privacy}",
    "received_events_url": "https://api.github.com/users/AntoineMrtl/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 275027668,
      "node_id": "MDU6TGFiZWwyNzUwMjc2Njg=",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/documentation%20:book:",
      "name": "documentation :book:",
      "color": "006b75",
      "default": false,
      "description": ""
    },
    {
      "id": 4699440809,
      "node_id": "LA_kwDOAm_5kc8AAAABGBvGqQ",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/closed%20due%20inactivity",
      "name": "closed due inactivity",
      "color": "91535E",
      "default": false,
      "description": "The issue/PR was automatically closed due to inactivity."
    },
    {
      "id": 4699444681,
      "node_id": "LA_kwDOAm_5kc8AAAABGBvVyQ",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/stale",
      "name": "stale",
      "color": "BF4801",
      "default": false,
      "description": "The issue/PR was marked as stale because it has been open for too long."
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2023-09-01T18:18:17Z",
  "updated_at": "2024-01-07T12:04:25Z",
  "closed_at": "2024-01-07T12:04:25Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Hello, i'm sincerely sorry to not respect the supposed style of the issue but I couldn't find any way to just ask a question. My question is the following : how can I map each line to the corresponding opcodes of a solidity contract execution (runtimebytecode). I found the solc argument (\"viaIR\": true) to specify to the compiler to not use Yul to generate sources so it only reffer to the solidity code. The problem is that I have like I wanted only solidity source map, but maybe 90% of my opcodes are just reffered to the entire contract.\r\n\r\nMy solidity contract :\r\n\r\n``` solidity\r\npragma solidity ^0.8.0;\r\n\r\ncontract TestContract {\r\n    address public constant deadAddress = address(0xdead);\r\n\r\n    mapping(address => bool) private _isExcludedFromFees;\r\n    mapping(address => bool) public _isExcludedMaxTradingAmount;\r\n\r\n    uint256 public maxTradingAmount;\r\n    uint256 public swapTokensAtAmount;\r\n    uint256 public maxWallet;\r\n\r\n    constructor() {\r\n        uint256 totalSupply = 10_000_000 * 1e18;\r\n\r\n        swapTokensAtAmount = (totalSupply * 100) / 10000;\r\n        maxTradingAmount = (totalSupply * 100) / 10000;\r\n        maxWallet = (totalSupply * 100) / 10000;\r\n    }\r\n\r\n    receive() external payable {}\r\n\r\n    function test(uint aaaa) external returns (uint) {\r\n        return aaaa * 2;\r\n    }\r\n}\r\n\r\n```\r\n\r\nWhen i compile this contract with the following settings : \r\n\r\n```ts\r\nconst input = {\r\n  language: \"Solidity\",\r\n  sources: {\r\n    \"TestContract.sol\": {\r\n      content: source,\r\n    },\r\n  },\r\n\r\n  settings: {\r\n    viaIR: true,\r\n\r\n    outputSelection: {\r\n      \"*\": {\r\n        \"*\": [\"*\"],\r\n        \"\": [\"*\"],\r\n      },\r\n    },\r\n    optimizer: {\r\n      enabled: false,\r\n      details: {\r\n        yul: false,\r\n      },\r\n    },\r\n  },\r\n};\r\n```\r\n\r\nThe MUL opcode, used to make the multiplication (or ADD if the compiler decide to add for some reason), are not mapped to the line where the variable is multiplied by 2.\r\n\r\n So yeah i don't really understand how online debugging tool, for exemple \"tenderly\", succeed to map opcode execution of function and keep a track of it. Thanks.",
  "closed_by": {
    "login": "github-actions[bot]",
    "id": 41898282,
    "node_id": "MDM6Qm90NDE4OTgyODI=",
    "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/github-actions%5Bbot%5D",
    "html_url": "https://github.com/apps/github-actions",
    "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
    "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
    "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
    "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
    "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
    "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
    "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
    "type": "Bot",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/14528/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/14528/timeline",
  "performed_via_github_app": null,
  "state_reason": "not_planned"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1742137099",
    "html_url": "https://github.com/ethereum/solidity/issues/14528#issuecomment-1742137099",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/14528",
    "id": 1742137099,
    "node_id": "IC_kwDOAm_5kc5n1ucL",
    "user": {
      "login": "VinnuReddy18",
      "id": 142021280,
      "node_id": "U_kgDOCHcSoA",
      "avatar_url": "https://avatars.githubusercontent.com/u/142021280?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/VinnuReddy18",
      "html_url": "https://github.com/VinnuReddy18",
      "followers_url": "https://api.github.com/users/VinnuReddy18/followers",
      "following_url": "https://api.github.com/users/VinnuReddy18/following{/other_user}",
      "gists_url": "https://api.github.com/users/VinnuReddy18/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/VinnuReddy18/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/VinnuReddy18/subscriptions",
      "organizations_url": "https://api.github.com/users/VinnuReddy18/orgs",
      "repos_url": "https://api.github.com/users/VinnuReddy18/repos",
      "events_url": "https://api.github.com/users/VinnuReddy18/events{/privacy}",
      "received_events_url": "https://api.github.com/users/VinnuReddy18/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-10-01T16:51:59Z",
    "updated_at": "2023-10-01T16:51:59Z",
    "author_association": "NONE",
    "body": "The mapping is not always one-to-one. The compiler might optimize the code, which can result in multiple lines of Solidity code being represented by a single opcode, or vice versa1. This is likely why youâ€™re seeing many of your opcodes referred to the entire contract.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1742137099/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1872931974",
    "html_url": "https://github.com/ethereum/solidity/issues/14528#issuecomment-1872931974",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/14528",
    "id": 1872931974,
    "node_id": "IC_kwDOAm_5kc5voqyG",
    "user": {
      "login": "github-actions[bot]",
      "id": 41898282,
      "node_id": "MDM6Qm90NDE4OTgyODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/github-actions%5Bbot%5D",
      "html_url": "https://github.com/apps/github-actions",
      "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2023-12-31T12:04:16Z",
    "updated_at": "2023-12-31T12:04:16Z",
    "author_association": "NONE",
    "body": "This issue has been marked as stale due to inactivity for the last 90 days.\nIt will be automatically closed in 7 days.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1872931974/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": {
      "id": 15368,
      "slug": "github-actions",
      "node_id": "MDM6QXBwMTUzNjg=",
      "owner": {
        "login": "github",
        "id": 9919,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjk5MTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9919?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/github",
        "html_url": "https://github.com/github",
        "followers_url": "https://api.github.com/users/github/followers",
        "following_url": "https://api.github.com/users/github/following{/other_user}",
        "gists_url": "https://api.github.com/users/github/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/github/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/github/subscriptions",
        "organizations_url": "https://api.github.com/users/github/orgs",
        "repos_url": "https://api.github.com/users/github/repos",
        "events_url": "https://api.github.com/users/github/events{/privacy}",
        "received_events_url": "https://api.github.com/users/github/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "name": "GitHub Actions",
      "description": "Automate your workflow from idea to production",
      "external_url": "https://help.github.com/en/actions",
      "html_url": "https://github.com/apps/github-actions",
      "created_at": "2018-07-30T09:30:17Z",
      "updated_at": "2019-12-10T19:04:12Z",
      "permissions": {
        "actions": "write",
        "administration": "read",
        "checks": "write",
        "contents": "write",
        "deployments": "write",
        "discussions": "write",
        "issues": "write",
        "merge_queues": "write",
        "metadata": "read",
        "packages": "write",
        "pages": "write",
        "pull_requests": "write",
        "repository_hooks": "write",
        "repository_projects": "write",
        "security_events": "write",
        "statuses": "write",
        "vulnerability_alerts": "read"
      },
      "events": [
        "branch_protection_rule",
        "check_run",
        "check_suite",
        "create",
        "delete",
        "deployment",
        "deployment_status",
        "discussion",
        "discussion_comment",
        "fork",
        "gollum",
        "issues",
        "issue_comment",
        "label",
        "merge_group",
        "milestone",
        "page_build",
        "project",
        "project_card",
        "project_column",
        "public",
        "pull_request",
        "pull_request_review",
        "pull_request_review_comment",
        "push",
        "registry_package",
        "release",
        "repository",
        "repository_dispatch",
        "status",
        "watch",
        "workflow_dispatch",
        "workflow_run"
      ]
    }
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1880039446",
    "html_url": "https://github.com/ethereum/solidity/issues/14528#issuecomment-1880039446",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/14528",
    "id": 1880039446,
    "node_id": "IC_kwDOAm_5kc5wDyAW",
    "user": {
      "login": "github-actions[bot]",
      "id": 41898282,
      "node_id": "MDM6Qm90NDE4OTgyODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/github-actions%5Bbot%5D",
      "html_url": "https://github.com/apps/github-actions",
      "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2024-01-07T12:04:24Z",
    "updated_at": "2024-01-07T12:04:24Z",
    "author_association": "NONE",
    "body": "Hi everyone! This issue has been automatically closed due to inactivity.\nIf you think this issue is still relevant in the latest Solidity version and you have something to [contribute](https://docs.soliditylang.org/en/latest/contributing.html), feel free to reopen.\nHowever, unless the issue is a concrete proposal that can be implemented, we recommend starting a language discussion on the [forum](https://forum.soliditylang.org) instead.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1880039446/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": {
      "id": 15368,
      "slug": "github-actions",
      "node_id": "MDM6QXBwMTUzNjg=",
      "owner": {
        "login": "github",
        "id": 9919,
        "node_id": "MDEyOk9yZ2FuaXphdGlvbjk5MTk=",
        "avatar_url": "https://avatars.githubusercontent.com/u/9919?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/github",
        "html_url": "https://github.com/github",
        "followers_url": "https://api.github.com/users/github/followers",
        "following_url": "https://api.github.com/users/github/following{/other_user}",
        "gists_url": "https://api.github.com/users/github/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/github/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/github/subscriptions",
        "organizations_url": "https://api.github.com/users/github/orgs",
        "repos_url": "https://api.github.com/users/github/repos",
        "events_url": "https://api.github.com/users/github/events{/privacy}",
        "received_events_url": "https://api.github.com/users/github/received_events",
        "type": "Organization",
        "site_admin": false
      },
      "name": "GitHub Actions",
      "description": "Automate your workflow from idea to production",
      "external_url": "https://help.github.com/en/actions",
      "html_url": "https://github.com/apps/github-actions",
      "created_at": "2018-07-30T09:30:17Z",
      "updated_at": "2019-12-10T19:04:12Z",
      "permissions": {
        "actions": "write",
        "administration": "read",
        "checks": "write",
        "contents": "write",
        "deployments": "write",
        "discussions": "write",
        "issues": "write",
        "merge_queues": "write",
        "metadata": "read",
        "packages": "write",
        "pages": "write",
        "pull_requests": "write",
        "repository_hooks": "write",
        "repository_projects": "write",
        "security_events": "write",
        "statuses": "write",
        "vulnerability_alerts": "read"
      },
      "events": [
        "branch_protection_rule",
        "check_run",
        "check_suite",
        "create",
        "delete",
        "deployment",
        "deployment_status",
        "discussion",
        "discussion_comment",
        "fork",
        "gollum",
        "issues",
        "issue_comment",
        "label",
        "merge_group",
        "milestone",
        "page_build",
        "project",
        "project_card",
        "project_column",
        "public",
        "pull_request",
        "pull_request_review",
        "pull_request_review_comment",
        "push",
        "registry_package",
        "release",
        "repository",
        "repository_dispatch",
        "status",
        "watch",
        "workflow_dispatch",
        "workflow_run"
      ]
    }
  }
]
