{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/11561",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/11561/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/11561/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/11561/events",
  "html_url": "https://github.com/ethereum/solidity/issues/11561",
  "id": 925413795,
  "node_id": "MDU6SXNzdWU5MjU0MTM3OTU=",
  "number": 11561,
  "title": "Invalid function calls in the bytes truncation example in 0.8.5 announcement on the blog",
  "user": {
    "login": "barakman",
    "id": 7003246,
    "node_id": "MDQ6VXNlcjcwMDMyNDY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/7003246?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/barakman",
    "html_url": "https://github.com/barakman",
    "followers_url": "https://api.github.com/users/barakman/followers",
    "following_url": "https://api.github.com/users/barakman/following{/other_user}",
    "gists_url": "https://api.github.com/users/barakman/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/barakman/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/barakman/subscriptions",
    "organizations_url": "https://api.github.com/users/barakman/orgs",
    "repos_url": "https://api.github.com/users/barakman/repos",
    "events_url": "https://api.github.com/users/barakman/events{/privacy}",
    "received_events_url": "https://api.github.com/users/barakman/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 249074435,
      "node_id": "MDU6TGFiZWwyNDkwNzQ0MzU=",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/bug%20:bug:",
      "name": "bug :bug:",
      "color": "fc1313",
      "default": false,
      "description": ""
    },
    {
      "id": 275027668,
      "node_id": "MDU6TGFiZWwyNzUwMjc2Njg=",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/documentation%20:book:",
      "name": "documentation :book:",
      "color": "006b75",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "cameel",
    "id": 137030,
    "node_id": "MDQ6VXNlcjEzNzAzMA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/cameel",
    "html_url": "https://github.com/cameel",
    "followers_url": "https://api.github.com/users/cameel/followers",
    "following_url": "https://api.github.com/users/cameel/following{/other_user}",
    "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
    "organizations_url": "https://api.github.com/users/cameel/orgs",
    "repos_url": "https://api.github.com/users/cameel/repos",
    "events_url": "https://api.github.com/users/cameel/events{/privacy}",
    "received_events_url": "https://api.github.com/users/cameel/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2021-06-19T15:14:37Z",
  "updated_at": "2021-06-28T12:24:08Z",
  "closed_at": "2021-06-28T12:24:08Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "## Page\r\n\r\nhttps://blog.soliditylang.org/2021/06/10/solidity-0.8.5-release-announcement/\r\n\r\n## Abstract\r\n\r\nThe coding example for the new *Bytes Conversion* feature in your 0.8.5 release notes is erroneous.\r\n\r\n## Details\r\n\r\nQuoting from the release notes linked above:\r\n\r\n```\r\nfunction f(bytes calldata c) public view returns (bytes8) {\r\n\t// If c is longer than 8 bytes, truncation happens\r\n\treturn bytes8(c); \r\n}\r\n```\r\n\r\n> Calling `f(\"12345678\")` will return `\"12345678\"`, as will calling it as `f(\"1234567890\")`. If the array is shorter than the target fixed type, it will be padded with zeros at the end, so calling `f(\"1234\")` will return `\"1234\"`.\r\n\r\n---\r\n\r\nIt is not clear whether one should issue these function calls on-chain or off-chain (i.e., from a contract or from a script).\r\n\r\nOn-chain, they all yield compilation errors, for example:\r\n\r\n> TypeError: Invalid type for argument in function call. Invalid implicit conversion from literal_string \"12345678\" to bytes calldata requested.\r\n\r\nOff-chain, using web3.js v1.3.5, `f(\"1234567890\")` gives a runtime error:\r\n\r\n> Error: invalid arrayify value (argument=\"value\", value=\"1234567890\", code=INVALID_ARGUMENT, version=bytes/5.0.5)\r\n\r\nMinor: in the declaration of `function f` itself, you can reduce `view` to `pure` (a compilation warning is issued otherwise).\r\n\r\nThanks",
  "closed_by": {
    "login": "chriseth",
    "id": 9073706,
    "node_id": "MDQ6VXNlcjkwNzM3MDY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/chriseth",
    "html_url": "https://github.com/chriseth",
    "followers_url": "https://api.github.com/users/chriseth/followers",
    "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
    "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
    "organizations_url": "https://api.github.com/users/chriseth/orgs",
    "repos_url": "https://api.github.com/users/chriseth/repos",
    "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
    "received_events_url": "https://api.github.com/users/chriseth/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/11561/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/11561/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/864467570",
    "html_url": "https://github.com/ethereum/solidity/issues/11561#issuecomment-864467570",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/11561",
    "id": 864467570,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2NDQ2NzU3MA==",
    "user": {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-19T21:45:49Z",
    "updated_at": "2021-06-19T21:45:49Z",
    "author_association": "MEMBER",
    "body": "I think that these calls were meant to show only the general concept rather than be something to paste directly into your code. Still, you're right, they would not compile as is so maybe it would be better to adjust them to avoid confusing people.\r\n\r\n> On-chain, they all yield compilation errors, for example:\r\n\r\nIt's because of the `calldata` parameter in `f()`. If it was `memory`, it would compile.\r\n\r\n> Off-chain, using web3.js v1.3.5, f(\"1234567890\") gives a runtime error:\r\n\r\nI think web3 expects a hex string with ASCII codes for bytes. `0x31323334353637383930` should work instead. At least it works in Remix which produces the same error message.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/864467570/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/864497768",
    "html_url": "https://github.com/ethereum/solidity/issues/11561#issuecomment-864497768",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/11561",
    "id": 864497768,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2NDQ5Nzc2OA==",
    "user": {
      "login": "barakman",
      "id": 7003246,
      "node_id": "MDQ6VXNlcjcwMDMyNDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7003246?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/barakman",
      "html_url": "https://github.com/barakman",
      "followers_url": "https://api.github.com/users/barakman/followers",
      "following_url": "https://api.github.com/users/barakman/following{/other_user}",
      "gists_url": "https://api.github.com/users/barakman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/barakman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/barakman/subscriptions",
      "organizations_url": "https://api.github.com/users/barakman/orgs",
      "repos_url": "https://api.github.com/users/barakman/repos",
      "events_url": "https://api.github.com/users/barakman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/barakman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-20T04:27:44Z",
    "updated_at": "2021-06-20T04:29:42Z",
    "author_association": "NONE",
    "body": "@cameel:\r\n\r\nIMO, if choosing to post a coding example, then it should be a working one.\r\n\r\nRegarding your off-chain call suggestion - yes, it works from web3.js as well.\r\n\r\nI previously considered trying it but wasn't really sure what to input.\r\n\r\nI understand that with `\"0x31323334353637383930\"`, you tried to pass the ASCII representation of `\"12345678980\"`, but since web3.js returns the same \"kind\" of ASCII representation, I believe that passing `\"0x11223344556677889900\"` would serve the purpose better (as web3.js also returns an hex string rather than its ASCII interpretation).\r\n\r\nThanks",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/864497768/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/867611615",
    "html_url": "https://github.com/ethereum/solidity/issues/11561#issuecomment-867611615",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/11561",
    "id": 867611615,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2NzYxMTYxNQ==",
    "user": {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-24T12:52:09Z",
    "updated_at": "2021-06-24T12:52:09Z",
    "author_association": "MEMBER",
    "body": "@barakman Here's a fix: https://github.com/ethereum/solidity-blog/pull/143. Feel free to review and suggest adjustments if necessary.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/867611615/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
