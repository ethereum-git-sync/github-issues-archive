{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/3766",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/3766/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/3766/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/3766/events",
  "html_url": "https://github.com/ethereum/solidity/issues/3766",
  "id": 306865615,
  "node_id": "MDU6SXNzdWUzMDY4NjU2MTU=",
  "number": 3766,
  "title": "Re-enable dead code removal",
  "user": {
    "login": "chriseth",
    "id": 9073706,
    "node_id": "MDQ6VXNlcjkwNzM3MDY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/chriseth",
    "html_url": "https://github.com/chriseth",
    "followers_url": "https://api.github.com/users/chriseth/followers",
    "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
    "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
    "organizations_url": "https://api.github.com/users/chriseth/orgs",
    "repos_url": "https://api.github.com/users/chriseth/repos",
    "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
    "received_events_url": "https://api.github.com/users/chriseth/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2018-03-20T13:30:10Z",
  "updated_at": "2020-11-02T09:44:30Z",
  "closed_at": null,
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "Unused code removal was disabled because code can be jumped to from inline assembly and internal functions can be referenced from constructors, stored in storage and then jumped to after deployment.\r\n\r\nThis means that removing code blocks whose labels are unreferenced may lead to invalid code.\r\n\r\nOnce we fully disabled the use of the `jump` opcode in inline assembly, and we changed the way internal function identifiers are handled (we need to do that for the switch to wasm anyway), we can re-enable dead code removal.\r\n\r\nTODO:\r\n\r\n - [ ] introduce identifiers for functions that are not based on they entry label (and introduce dispatch routine)\r\n - [x] check that the `jump` opcode is disabled in inline assembly\r\n - [ ] re-enable dead code removal",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/3766/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/3766/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/374773209",
    "html_url": "https://github.com/ethereum/solidity/issues/3766#issuecomment-374773209",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/3766",
    "id": 374773209,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NDc3MzIwOQ==",
    "user": {
      "login": "federicobond",
      "id": 138426,
      "node_id": "MDQ6VXNlcjEzODQyNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/138426?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/federicobond",
      "html_url": "https://github.com/federicobond",
      "followers_url": "https://api.github.com/users/federicobond/followers",
      "following_url": "https://api.github.com/users/federicobond/following{/other_user}",
      "gists_url": "https://api.github.com/users/federicobond/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/federicobond/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/federicobond/subscriptions",
      "organizations_url": "https://api.github.com/users/federicobond/orgs",
      "repos_url": "https://api.github.com/users/federicobond/repos",
      "events_url": "https://api.github.com/users/federicobond/events{/privacy}",
      "received_events_url": "https://api.github.com/users/federicobond/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-20T22:05:26Z",
    "updated_at": "2018-03-20T22:05:26Z",
    "author_association": "CONTRIBUTOR",
    "body": "Why not throw an error on dead code instead of silently removing it?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/374773209/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/374903602",
    "html_url": "https://github.com/ethereum/solidity/issues/3766#issuecomment-374903602",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/3766",
    "id": 374903602,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NDkwMzYwMg==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-21T11:14:31Z",
    "updated_at": "2018-03-21T11:14:31Z",
    "author_association": "MEMBER",
    "body": "This is about dead EVM code, not dead Solidity code.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/374903602/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/719796495",
    "html_url": "https://github.com/ethereum/solidity/issues/3766#issuecomment-719796495",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/3766",
    "id": 719796495,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxOTc5NjQ5NQ==",
    "user": {
      "login": "axic",
      "id": 20340,
      "node_id": "MDQ6VXNlcjIwMzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/axic",
      "html_url": "https://github.com/axic",
      "followers_url": "https://api.github.com/users/axic/followers",
      "following_url": "https://api.github.com/users/axic/following{/other_user}",
      "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
      "organizations_url": "https://api.github.com/users/axic/orgs",
      "repos_url": "https://api.github.com/users/axic/repos",
      "events_url": "https://api.github.com/users/axic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/axic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-30T20:59:15Z",
    "updated_at": "2020-10-30T20:59:15Z",
    "author_association": "MEMBER",
    "body": "> Once we fully disabled the use of the jump opcode in inline assembly, and we changed the way internal function identifiers are handled (we need to do that for the switch to wasm anyway), we can re-enable dead code removal.\r\n\r\nWe did this with 0.6.0.\r\n\r\n@chriseth Time to reconsider?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/719796495/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/720359771",
    "html_url": "https://github.com/ethereum/solidity/issues/3766#issuecomment-720359771",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/3766",
    "id": 720359771,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcyMDM1OTc3MQ==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-02T09:44:30Z",
    "updated_at": "2020-11-02T09:44:30Z",
    "author_association": "MEMBER",
    "body": "We only did the change for the sol->yul codegen, and that optimizer already has its own dead code removal, so maybe this can be closed.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/720359771/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
