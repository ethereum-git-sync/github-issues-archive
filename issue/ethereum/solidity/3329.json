{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/3329",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/3329/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/3329/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/3329/events",
  "html_url": "https://github.com/ethereum/solidity/issues/3329",
  "id": 282065070,
  "node_id": "MDU6SXNzdWUyODIwNjUwNzA=",
  "number": 3329,
  "title": "SOL-010 Easy underhanded code using false overrides",
  "user": {
    "login": "mvglasenapp",
    "id": 32960326,
    "node_id": "MDQ6VXNlcjMyOTYwMzI2",
    "avatar_url": "https://avatars.githubusercontent.com/u/32960326?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/mvglasenapp",
    "html_url": "https://github.com/mvglasenapp",
    "followers_url": "https://api.github.com/users/mvglasenapp/followers",
    "following_url": "https://api.github.com/users/mvglasenapp/following{/other_user}",
    "gists_url": "https://api.github.com/users/mvglasenapp/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/mvglasenapp/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mvglasenapp/subscriptions",
    "organizations_url": "https://api.github.com/users/mvglasenapp/orgs",
    "repos_url": "https://api.github.com/users/mvglasenapp/repos",
    "events_url": "https://api.github.com/users/mvglasenapp/events{/privacy}",
    "received_events_url": "https://api.github.com/users/mvglasenapp/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2017-12-14T11:15:05Z",
  "updated_at": "2017-12-18T13:47:46Z",
  "closed_at": "2017-12-18T13:47:46Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "**Description**\r\n\r\nSolidity smart contracts often override a function defined in a parent contract to restrict it access, for example, by adding an onlyOwner() modifier. However function overrides only work when the exact function signature is used (same argument types and same return parameters). It’s easy to make small changes in the function signature that may go unnoticed by a reviewer and that will expose the parent function without restrictions.\r\nThe following is an example contains a hidden backdoor by not providing the correct override:\r\n```\r\npragma solidity ^0.4.13;\r\n\r\n// String Helper contract library\r\nlibrary String {\r\nfunction equals(string memory _a, string memory _b) internal returns (bool) {\r\nbytes memory a = bytes(_a);\r\nbytes memory b = bytes(_b);\r\nif (a.length != b.length)\r\nreturn false;\r\n\r\nfor (uint i = 0; i < a.length; i ++)\r\nif (a[i] != b[i])\r\nreturn false;\r\nreturn true;\r\n}\r\n}\r\n\r\ncontract MyEtherWallet {\r\nusing String for string;\r\nevent onWithdrawal(string logmsg,address a);\r\nfunction MyEtherWallet() {\r\n}\r\n// Basic function to withdraw an amount of funds from the Token contract\r\nfunction withdrawFunds(string logmsg) returns(bool) {\r\nif (logmsg.equals(\"OWNER\"))\r\nonWithdrawal(logmsg,msg.sender);\r\nreturn msg.sender.send(this.balance);\r\n}\r\n}\r\n\r\ncontract MyProtectedWallet is MyEtherWallet {\r\n\r\naddress owner;\r\nfunction MyProtectedWallet() {\r\nowner = msg.sender;\r\n}\r\n// This function restricts withdrawals to the contract owner and\r\n// fixes log msg.\r\nfunction withdrawFunds(String logmsg) returns(bool) {\r\nif (msg.sender!=owner)\r\nreturn false;\r\n\r\nreturn super.withdrawFunds(\"OWNER\");\r\n}\r\n}\r\n```\r\n\r\nThe widrawalFunds() method that is supposed to override the parent, uses the String type instead of the string type, and therefore does not override the parent.\r\nThe same can be accomplished by replacing an int argument with an uint argument.\r\n\r\n**Recommendations**\r\n\r\nModify the solidity language to require the keyword “override” as modifier to function definitions\r\nin these cases. The compiler should generate an error when attempting to compile a method\r\nwith the override modifier which does not override a parent method.",
  "closed_by": {
    "login": "axic",
    "id": 20340,
    "node_id": "MDQ6VXNlcjIwMzQw",
    "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/axic",
    "html_url": "https://github.com/axic",
    "followers_url": "https://api.github.com/users/axic/followers",
    "following_url": "https://api.github.com/users/axic/following{/other_user}",
    "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
    "organizations_url": "https://api.github.com/users/axic/orgs",
    "repos_url": "https://api.github.com/users/axic/repos",
    "events_url": "https://api.github.com/users/axic/events{/privacy}",
    "received_events_url": "https://api.github.com/users/axic/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/3329/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/3329/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/352417627",
    "html_url": "https://github.com/ethereum/solidity/issues/3329#issuecomment-352417627",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/3329",
    "id": 352417627,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1MjQxNzYyNw==",
    "user": {
      "login": "axic",
      "id": 20340,
      "node_id": "MDQ6VXNlcjIwMzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/axic",
      "html_url": "https://github.com/axic",
      "followers_url": "https://api.github.com/users/axic/followers",
      "following_url": "https://api.github.com/users/axic/following{/other_user}",
      "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
      "organizations_url": "https://api.github.com/users/axic/orgs",
      "repos_url": "https://api.github.com/users/axic/repos",
      "events_url": "https://api.github.com/users/axic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/axic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-18T12:53:44Z",
    "updated_at": "2017-12-18T12:53:44Z",
    "author_association": "MEMBER",
    "body": "This is discussed in #2563.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/352417627/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
