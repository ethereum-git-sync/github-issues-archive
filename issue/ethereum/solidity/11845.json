{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/11845",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/11845/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/11845/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/11845/events",
  "html_url": "https://github.com/ethereum/solidity/issues/11845",
  "id": 980156481,
  "node_id": "MDU6SXNzdWU5ODAxNTY0ODE=",
  "number": 11845,
  "title": "Require latest Z3 in soltest",
  "user": {
    "login": "cameel",
    "id": 137030,
    "node_id": "MDQ6VXNlcjEzNzAzMA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/cameel",
    "html_url": "https://github.com/cameel",
    "followers_url": "https://api.github.com/users/cameel/followers",
    "following_url": "https://api.github.com/users/cameel/following{/other_user}",
    "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
    "organizations_url": "https://api.github.com/users/cameel/orgs",
    "repos_url": "https://api.github.com/users/cameel/repos",
    "events_url": "https://api.github.com/users/cameel/events{/privacy}",
    "received_events_url": "https://api.github.com/users/cameel/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 437863668,
      "node_id": "MDU6TGFiZWw0Mzc4NjM2Njg=",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/build%20system%20:building_construction:",
      "name": "build system :building_construction:",
      "color": "1d76db",
      "default": false,
      "description": ""
    },
    {
      "id": 1012613901,
      "node_id": "MDU6TGFiZWwxMDEyNjEzOTAx",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/easy%20difficulty",
      "name": "easy difficulty",
      "color": "0b3f89",
      "default": false,
      "description": ""
    },
    {
      "id": 1018738457,
      "node_id": "MDU6TGFiZWwxMDE4NzM4NDU3",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/testing%20:hammer:",
      "name": "testing :hammer:",
      "color": "ffc6db",
      "default": false,
      "description": ""
    },
    {
      "id": 3515010024,
      "node_id": "LA_kwDOAm_5kc7Rgsvo",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/good%20first%20issue%20candidate",
      "name": "good first issue candidate",
      "color": "91B44D",
      "default": false,
      "description": "Could be a \"good first issue\" but something is blocking it or it has open questions."
    },
    {
      "id": 4438003076,
      "node_id": "LA_kwDOAm_5kc8AAAABCIaNhA",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/medium%20effort",
      "name": "medium effort",
      "color": "ff7df7",
      "default": false,
      "description": "Default level of effort"
    },
    {
      "id": 4438157609,
      "node_id": "LA_kwDOAm_5kc8AAAABCIjpKQ",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/low%20impact",
      "name": "low impact",
      "color": "001dff",
      "default": false,
      "description": "Changes are not very noticeable or potential benefits are limited."
    },
    {
      "id": 4438492402,
      "node_id": "LA_kwDOAm_5kc8AAAABCI4E8g",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/nice%20to%20have",
      "name": "nice to have",
      "color": "ffdeb3",
      "default": false,
      "description": "We don’t see a good reason not to have it but won’t go out of our way to implement it."
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": {
    "login": "soroosh-sdi",
    "id": 4056691,
    "node_id": "MDQ6VXNlcjQwNTY2OTE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4056691?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/soroosh-sdi",
    "html_url": "https://github.com/soroosh-sdi",
    "followers_url": "https://api.github.com/users/soroosh-sdi/followers",
    "following_url": "https://api.github.com/users/soroosh-sdi/following{/other_user}",
    "gists_url": "https://api.github.com/users/soroosh-sdi/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/soroosh-sdi/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/soroosh-sdi/subscriptions",
    "organizations_url": "https://api.github.com/users/soroosh-sdi/orgs",
    "repos_url": "https://api.github.com/users/soroosh-sdi/repos",
    "events_url": "https://api.github.com/users/soroosh-sdi/events{/privacy}",
    "received_events_url": "https://api.github.com/users/soroosh-sdi/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "soroosh-sdi",
      "id": 4056691,
      "node_id": "MDQ6VXNlcjQwNTY2OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4056691?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/soroosh-sdi",
      "html_url": "https://github.com/soroosh-sdi",
      "followers_url": "https://api.github.com/users/soroosh-sdi/followers",
      "following_url": "https://api.github.com/users/soroosh-sdi/following{/other_user}",
      "gists_url": "https://api.github.com/users/soroosh-sdi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/soroosh-sdi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/soroosh-sdi/subscriptions",
      "organizations_url": "https://api.github.com/users/soroosh-sdi/orgs",
      "repos_url": "https://api.github.com/users/soroosh-sdi/repos",
      "events_url": "https://api.github.com/users/soroosh-sdi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/soroosh-sdi/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 13,
  "created_at": "2021-08-26T11:52:02Z",
  "updated_at": "2022-12-05T19:16:48Z",
  "closed_at": null,
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "Extracted from https://github.com/ethereum/solidity/pull/11844#discussion_r696541700\r\n\r\nWe support linking with a range of versions of Z3 (the minimum is currently Z3 4.8.0) but our SMTChecker tests are only guaranteed to pass with the latest one (currently 4.8.12). This is because different versions of Z3 sometimes give different (but still valid) results and it's hard to create a test harness that could account for these differences. Instead we compare results verbatim. Because of this we sometimes get reports about broken tests when people build from source and use older Z3.\r\n\r\nWe don't want to raise the minimum version for `solc` but we could improve the situation by doing it for `soltest` and `isoltest`. Then anyone wanting to use them would have to have the latest Z3 or none at all (if an older version is installed it can always be disabled by passing `-DUSE_Z3=OFF` to cmake).",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/11845/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/11845/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/906954759",
    "html_url": "https://github.com/ethereum/solidity/issues/11845#issuecomment-906954759",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/11845",
    "id": 906954759,
    "node_id": "IC_kwDOAm_5kc42DwgH",
    "user": {
      "login": "soroosh-sdi",
      "id": 4056691,
      "node_id": "MDQ6VXNlcjQwNTY2OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4056691?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/soroosh-sdi",
      "html_url": "https://github.com/soroosh-sdi",
      "followers_url": "https://api.github.com/users/soroosh-sdi/followers",
      "following_url": "https://api.github.com/users/soroosh-sdi/following{/other_user}",
      "gists_url": "https://api.github.com/users/soroosh-sdi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/soroosh-sdi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/soroosh-sdi/subscriptions",
      "organizations_url": "https://api.github.com/users/soroosh-sdi/orgs",
      "repos_url": "https://api.github.com/users/soroosh-sdi/repos",
      "events_url": "https://api.github.com/users/soroosh-sdi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/soroosh-sdi/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-27T06:17:21Z",
    "updated_at": "2021-08-27T06:20:15Z",
    "author_association": "CONTRIBUTOR",
    "body": "I dig in this issue, and recreated the problem, this is what I've found:\r\n- In `scripts/tests.sh` , we have comandline tests that actually run solc with an input file and expect specific output. these test are created by looping over all folders in `test/cmdlineTests/`. when we don't have any model checker OR z3's version < 4.8.12 we should ignore `/test/cmdlineTests/*model_checker*` in that loop. unfortunately we cannot do something about them in CMake.\r\n- Also, in the tessuite we have `SMTCheckerTest` which should be disabled if we don't have any model checker OR z3's version < 4.8.12; fortunately we can do something about it in Cmake\r\n- I compiled project with `-DUSE_Z3=OFF` but both of above issues exist.\r\n\r\nfor the first issue I should recognize SMT is disabled  and if it's enabled what version of Z3 solc is using; maybe we could add an option to solc to print this info. what do you  think @cameel ? \r\n for the second issue I could implement something in CMake.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/906954759/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/907069758",
    "html_url": "https://github.com/ethereum/solidity/issues/11845#issuecomment-907069758",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/11845",
    "id": 907069758,
    "node_id": "IC_kwDOAm_5kc42EMk-",
    "user": {
      "login": "leonardoalt",
      "id": 504195,
      "node_id": "MDQ6VXNlcjUwNDE5NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/504195?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/leonardoalt",
      "html_url": "https://github.com/leonardoalt",
      "followers_url": "https://api.github.com/users/leonardoalt/followers",
      "following_url": "https://api.github.com/users/leonardoalt/following{/other_user}",
      "gists_url": "https://api.github.com/users/leonardoalt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/leonardoalt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/leonardoalt/subscriptions",
      "organizations_url": "https://api.github.com/users/leonardoalt/orgs",
      "repos_url": "https://api.github.com/users/leonardoalt/repos",
      "events_url": "https://api.github.com/users/leonardoalt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/leonardoalt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-27T09:39:07Z",
    "updated_at": "2021-08-27T09:39:07Z",
    "author_association": "MEMBER",
    "body": "@soroosh-sdi the problem with recognizing it (for the first issue) is that `solc` can also use z3 dynamically even if it's not compiled with it. So you'd need to query that part as well. Should be doable anyway, just more work",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/907069758/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/907162131",
    "html_url": "https://github.com/ethereum/solidity/issues/11845#issuecomment-907162131",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/11845",
    "id": 907162131,
    "node_id": "IC_kwDOAm_5kc42EjIT",
    "user": {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-27T12:21:36Z",
    "updated_at": "2021-08-27T12:22:23Z",
    "author_association": "MEMBER",
    "body": "@leonardoalt Do you mean automatically disabling these commandline tests when Z3 is not available? We do not do that in `soltest` and `--no-smt` is required instead. I think we should just add support for this flag in `cmdlineTests.sh` as well (and, by extension, in `tests.sh`) and require user to explicitly disable them.\r\n\r\n@soroosh-sdi \r\n> - Also, in the tessuite we have `SMTCheckerTest` which should be disabled if we don't have any model checker OR z3's version < 4.8.12; fortunately we can do something about it in Cmake\r\n\r\nI don't think it should be disabled automatically. We do not want tests to be skipped silently by accident. We've been through that with semantic tests already (see https://github.com/ethereum/solidity/pull/11374#issuecomment-839588979). We want them skipped only if the `--no-smt` flag is used.\r\n\r\nI think we should focus on the simple case where `soltest` is built with older Z3. A build error should give the user enough clue that Z3 needs to be updated.\r\n\r\nThe case where someone has older Z3 and actively disables it with `-DUSE_Z3=OFF` is trickier. All SMT tests are expected to fail in that case and we expect user to use the `--no-smt` flag. Perhaps some warning would be appropriate in this case after all?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/907162131/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/907167214",
    "html_url": "https://github.com/ethereum/solidity/issues/11845#issuecomment-907167214",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/11845",
    "id": 907167214,
    "node_id": "IC_kwDOAm_5kc42EkXu",
    "user": {
      "login": "leonardoalt",
      "id": 504195,
      "node_id": "MDQ6VXNlcjUwNDE5NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/504195?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/leonardoalt",
      "html_url": "https://github.com/leonardoalt",
      "followers_url": "https://api.github.com/users/leonardoalt/followers",
      "following_url": "https://api.github.com/users/leonardoalt/following{/other_user}",
      "gists_url": "https://api.github.com/users/leonardoalt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/leonardoalt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/leonardoalt/subscriptions",
      "organizations_url": "https://api.github.com/users/leonardoalt/orgs",
      "repos_url": "https://api.github.com/users/leonardoalt/repos",
      "events_url": "https://api.github.com/users/leonardoalt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/leonardoalt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-27T12:30:34Z",
    "updated_at": "2021-08-27T12:30:34Z",
    "author_association": "MEMBER",
    "body": "@cameel I agree with the `--no-smt` flag for the cli tests.\r\n\r\nI agree with your other points as well.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/907167214/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/909015857",
    "html_url": "https://github.com/ethereum/solidity/issues/11845#issuecomment-909015857",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/11845",
    "id": 909015857,
    "node_id": "IC_kwDOAm_5kc42Lnsx",
    "user": {
      "login": "soroosh-sdi",
      "id": 4056691,
      "node_id": "MDQ6VXNlcjQwNTY2OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4056691?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/soroosh-sdi",
      "html_url": "https://github.com/soroosh-sdi",
      "followers_url": "https://api.github.com/users/soroosh-sdi/followers",
      "following_url": "https://api.github.com/users/soroosh-sdi/following{/other_user}",
      "gists_url": "https://api.github.com/users/soroosh-sdi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/soroosh-sdi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/soroosh-sdi/subscriptions",
      "organizations_url": "https://api.github.com/users/soroosh-sdi/orgs",
      "repos_url": "https://api.github.com/users/soroosh-sdi/repos",
      "events_url": "https://api.github.com/users/soroosh-sdi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/soroosh-sdi/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-31T08:25:37Z",
    "updated_at": "2021-08-31T08:25:37Z",
    "author_association": "CONTRIBUTOR",
    "body": "I see this issue, I use `-DBUS_Z3=OFF`\r\n```\r\n../scripts/../build/test/soltest --show-progress -- --ewasm --testpath ../scripts/../test  --evm-version byzantium --no-smt\r\nRunning 6213 test cases...\r\n\r\n0%   10   20   30   40   50   60   70   80   90   100%\r\n|----|----|----|----|----|----|----|----|----|----|\r\n****************************************unknown location(0): fatal error: in \"semanticTests/cleanup/exp_cleanup\": memory access violation at address: 0x00000000: no mapping at fault address\r\n../test/libsolidity/SolidityExecutionFramework.cpp(116): last checkpoint\r\n************************************************************************************************************************\r\n*** 1 failure is detected in the test module \"SolidityTests\"\r\n\r\n```\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/909015857/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/909052298",
    "html_url": "https://github.com/ethereum/solidity/issues/11845#issuecomment-909052298",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/11845",
    "id": 909052298,
    "node_id": "IC_kwDOAm_5kc42LwmK",
    "user": {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-31T09:13:19Z",
    "updated_at": "2021-08-31T09:13:19Z",
    "author_association": "MEMBER",
    "body": "Looks like an unrelated bug. Could you report it as a separate issue? But first please make sure it's reproducible - i.e. get a clean checkout of current `develop`, start with a clean `build/` directory and clean ccache (if you're using it). Sometimes these problems are just caused by some glitch in the cache or by stuff like updating system libraries without clearing the cache.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/909052298/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/909571765",
    "html_url": "https://github.com/ethereum/solidity/issues/11845#issuecomment-909571765",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/11845",
    "id": 909571765,
    "node_id": "IC_kwDOAm_5kc42Nva1",
    "user": {
      "login": "soroosh-sdi",
      "id": 4056691,
      "node_id": "MDQ6VXNlcjQwNTY2OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4056691?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/soroosh-sdi",
      "html_url": "https://github.com/soroosh-sdi",
      "followers_url": "https://api.github.com/users/soroosh-sdi/followers",
      "following_url": "https://api.github.com/users/soroosh-sdi/following{/other_user}",
      "gists_url": "https://api.github.com/users/soroosh-sdi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/soroosh-sdi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/soroosh-sdi/subscriptions",
      "organizations_url": "https://api.github.com/users/soroosh-sdi/orgs",
      "repos_url": "https://api.github.com/users/soroosh-sdi/repos",
      "events_url": "https://api.github.com/users/soroosh-sdi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/soroosh-sdi/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-31T19:57:23Z",
    "updated_at": "2021-08-31T19:57:23Z",
    "author_association": "CONTRIBUTOR",
    "body": "> Looks like an unrelated bug. Could you report it as a separate issue? But first please make sure it's reproducible - i.e. get a clean checkout of current `develop`, start with a clean `build/` directory and clean ccache (if you're using it). Sometimes these problems are just caused by some glitch in the cache or by stuff like updating system libraries without clearing the cache.\r\n\r\nchecked it again, fortunately I can't reproduce it in a clean build :)",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/909571765/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/909917182",
    "html_url": "https://github.com/ethereum/solidity/issues/11845#issuecomment-909917182",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/11845",
    "id": 909917182,
    "node_id": "IC_kwDOAm_5kc42PDv-",
    "user": {
      "login": "soroosh-sdi",
      "id": 4056691,
      "node_id": "MDQ6VXNlcjQwNTY2OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4056691?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/soroosh-sdi",
      "html_url": "https://github.com/soroosh-sdi",
      "followers_url": "https://api.github.com/users/soroosh-sdi/followers",
      "following_url": "https://api.github.com/users/soroosh-sdi/following{/other_user}",
      "gists_url": "https://api.github.com/users/soroosh-sdi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/soroosh-sdi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/soroosh-sdi/subscriptions",
      "organizations_url": "https://api.github.com/users/soroosh-sdi/orgs",
      "repos_url": "https://api.github.com/users/soroosh-sdi/repos",
      "events_url": "https://api.github.com/users/soroosh-sdi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/soroosh-sdi/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-01T05:49:40Z",
    "updated_at": "2021-09-01T05:49:40Z",
    "author_association": "CONTRIBUTOR",
    "body": "I don't know how to move this issue to 'in-review' column :)\r\nmaybe I don't have permission.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/909917182/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/917089296",
    "html_url": "https://github.com/ethereum/solidity/issues/11845#issuecomment-917089296",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/11845",
    "id": 917089296,
    "node_id": "IC_kwDOAm_5kc42qawQ",
    "user": {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-10T17:40:42Z",
    "updated_at": "2021-09-10T18:11:04Z",
    "author_association": "MEMBER",
    "body": "There was some discussion in the PR about whether this should be an error: https://github.com/ethereum/solidity/pull/11873#discussion_r706342315\r\n\r\nSo #11873 covers the build-time check and the `--no-smt` flag. The last part will be the runtime check in `soltest`/`isoltest`. Here are some pointers on the implementation:\r\n- I'd put the check in [`CommonOptions::validate()`](https://github.com/ethereum/solidity/blob/dea1b9ec7995ff7f16cdee7925a5858c5ce33982/test/Common.cpp#L112-L137).\r\n    - There should be an error if Z3 version is not the latest one and `--no-smt` is not used.\r\n    - There should be a warning if Z3 is not available at all and `--no-smt` is not used.\r\n- You'll need to add a method for checking Z3 version to [`Z3Interface`](https://github.com/ethereum/solidity/blob/develop/libsmtutil/Z3Interface.cpp).\r\n    - If Z3 has been loaded dynamically, version can be obtained from `Z3_get_version()` (see how [`Z3Loader::available()`](https://github.com/ethereum/solidity/blob/dea1b9ec7995ff7f16cdee7925a5858c5ce33982/libsmtutil/Z3Loader.cpp#L48-L58) does it).\r\n    -  If it's static, you can use the `Z3_XXX_VERSION` constants.\r\n- We can't perform this check in `cmdlineTests.sh` without something like #6228. I think it's not a big problem because it's unlikely that someone will run just the command-line tests and ignore `soltest`.\r\n    - One thing we should change though would be to run `soltest` before `cmdlineTests.sh` in [`scripts/tests.sh`](https://github.com/ethereum/solidity/blob/develop/scripts/tests.sh).\r\n\r\n@ekpyron Does `Z3Loader::available()` also cover the static Z3 or do we need a separate check for that case?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/917089296/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/917101158",
    "html_url": "https://github.com/ethereum/solidity/issues/11845#issuecomment-917101158",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/11845",
    "id": 917101158,
    "node_id": "IC_kwDOAm_5kc42qdpm",
    "user": {
      "login": "ekpyron",
      "id": 1347491,
      "node_id": "MDQ6VXNlcjEzNDc0OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1347491?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ekpyron",
      "html_url": "https://github.com/ekpyron",
      "followers_url": "https://api.github.com/users/ekpyron/followers",
      "following_url": "https://api.github.com/users/ekpyron/following{/other_user}",
      "gists_url": "https://api.github.com/users/ekpyron/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ekpyron/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ekpyron/subscriptions",
      "organizations_url": "https://api.github.com/users/ekpyron/orgs",
      "repos_url": "https://api.github.com/users/ekpyron/repos",
      "events_url": "https://api.github.com/users/ekpyron/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ekpyron/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-10T17:59:36Z",
    "updated_at": "2021-09-10T18:09:36Z",
    "author_association": "MEMBER",
    "body": "> But I think it would be better to add a new method in Z3Loader for returning it instead of calling Z3_get_version() directly.\r\n\r\nNote that ``Z3Loader`` is only compiled and available if ``-DUSE_Z3_DLOPEN=ON`` is used. The best place to add this is probably a static function in ``Z3Interface`` next to ``Z3Interface::available()``.\r\n``test/libsolidity/SMTCheckerTest.cpp:L47`` is where tests that require Z3 are disabled, if no Z3 is available at all.\r\nIt might also be fine to just add another check after that along the lines of ``if (m_modelCheckerSettings.solvers.z3 && <queried z3 version is not latest>) { /* raise error or just print warning and */ m_modelCheckerSettings.solvers.z3 = false; }``.\r\n\r\n> @ekpyron Does Z3Loader::available() also cover the static Z3 or do we need a separate check for that case?\r\n\r\nAh, yeah, just saw the question now. I think it's better to have it next to ``Z3Interface::available()`` - Z3Loader is only the dynamic-loading case (see also the implementation of  ``Z3Interface::available()``).",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/917101158/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/917107738",
    "html_url": "https://github.com/ethereum/solidity/issues/11845#issuecomment-917107738",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/11845",
    "id": 917107738,
    "node_id": "IC_kwDOAm_5kc42qfQa",
    "user": {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-10T18:09:30Z",
    "updated_at": "2021-09-10T18:09:40Z",
    "author_association": "MEMBER",
    "body": "Right. `Z3Interface` generally looks like a better place for this. Comment updated.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/917107738/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/949752858",
    "html_url": "https://github.com/ethereum/solidity/issues/11845#issuecomment-949752858",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/11845",
    "id": 949752858,
    "node_id": "IC_kwDOAm_5kc44nBQa",
    "user": {
      "login": "soroosh-sdi",
      "id": 4056691,
      "node_id": "MDQ6VXNlcjQwNTY2OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4056691?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/soroosh-sdi",
      "html_url": "https://github.com/soroosh-sdi",
      "followers_url": "https://api.github.com/users/soroosh-sdi/followers",
      "following_url": "https://api.github.com/users/soroosh-sdi/following{/other_user}",
      "gists_url": "https://api.github.com/users/soroosh-sdi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/soroosh-sdi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/soroosh-sdi/subscriptions",
      "organizations_url": "https://api.github.com/users/soroosh-sdi/orgs",
      "repos_url": "https://api.github.com/users/soroosh-sdi/repos",
      "events_url": "https://api.github.com/users/soroosh-sdi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/soroosh-sdi/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-22T15:50:41Z",
    "updated_at": "2021-10-22T15:50:41Z",
    "author_association": "CONTRIBUTOR",
    "body": "Could you move this issue to `Done`?\r\n@cameel ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/949752858/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/949809764",
    "html_url": "https://github.com/ethereum/solidity/issues/11845#issuecomment-949809764",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/11845",
    "id": 949809764,
    "node_id": "IC_kwDOAm_5kc44nPJk",
    "user": {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-22T17:01:05Z",
    "updated_at": "2021-10-22T17:01:05Z",
    "author_association": "MEMBER",
    "body": "It's not done though :) We still need the runtime check I mentioned in https://github.com/ethereum/solidity/issues/11845#issuecomment-917089296.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/949809764/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
