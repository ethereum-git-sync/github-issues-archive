{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/1774",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/1774/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/1774/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/1774/events",
  "html_url": "https://github.com/ethereum/solidity/issues/1774",
  "id": 214018680,
  "node_id": "MDU6SXNzdWUyMTQwMTg2ODA=",
  "number": 1774,
  "title": "Compact AST",
  "user": {
    "login": "chriseth",
    "id": 9073706,
    "node_id": "MDQ6VXNlcjkwNzM3MDY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/chriseth",
    "html_url": "https://github.com/chriseth",
    "followers_url": "https://api.github.com/users/chriseth/followers",
    "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
    "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
    "organizations_url": "https://api.github.com/users/chriseth/orgs",
    "repos_url": "https://api.github.com/users/chriseth/repos",
    "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
    "received_events_url": "https://api.github.com/users/chriseth/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2017-03-14T09:53:33Z",
  "updated_at": "2017-05-31T13:26:03Z",
  "closed_at": "2017-05-31T13:25:59Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "The current json AST has mainly two drawbacks:\r\n\r\n - it is very verbose\r\n - if a node has multiple children, it is hard to see the function of each of the children (i.e. in a for loop, you have to know that the second child is the condition in the loop header)\r\n\r\nThis issue proposes a new AST format:\r\n\r\n```js\r\n{\r\n    id: 2,\r\n    src: '23:2:0',\r\n    nodeType: 'FunctionDefinition',\r\n    name: 'f',\r\n    parameters: [\r\n        {\r\n            id: 3,\r\n            nodeType: 'VariableDeclaration',\r\n            name: 'x',\r\n            type: 'uint'\r\n        }\r\n    ],\r\n    returnParameters: [\r\n    ],\r\n    body: {\r\n    }\r\n}\r\n```\r\n\r\nHere, the contents of the node itself, its `attributes` sub-object and its `children` sub-object are merged into a single json object and it is readily visible which of the children is the parameters.\r\n\r\nIt should be possible to generate both versions from more or less the same code. The new version has to explicitly traverse the child nodes and assign names to them (which are just ignored for generating the old version). The new version uses `nodeType` instead of `name` for the type of the AST node. The new version merges attributes into the json object itself, while for the old version, it is in a separate sub-object.",
  "closed_by": {
    "login": "chriseth",
    "id": 9073706,
    "node_id": "MDQ6VXNlcjkwNzM3MDY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/chriseth",
    "html_url": "https://github.com/chriseth",
    "followers_url": "https://api.github.com/users/chriseth/followers",
    "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
    "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
    "organizations_url": "https://api.github.com/users/chriseth/orgs",
    "repos_url": "https://api.github.com/users/chriseth/repos",
    "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
    "received_events_url": "https://api.github.com/users/chriseth/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/1774/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/1774/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/286401821",
    "html_url": "https://github.com/ethereum/solidity/issues/1774#issuecomment-286401821",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/1774",
    "id": 286401821,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NjQwMTgyMQ==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-14T12:07:26Z",
    "updated_at": "2017-03-14T12:07:26Z",
    "author_association": "MEMBER",
    "body": "Now that I think of it, this could even develop in a feature where we can export and import the AST (potentially with modifications).",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/286401821/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/286910281",
    "html_url": "https://github.com/ethereum/solidity/issues/1774#issuecomment-286910281",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/1774",
    "id": 286910281,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NjkxMDI4MQ==",
    "user": {
      "login": "axic",
      "id": 20340,
      "node_id": "MDQ6VXNlcjIwMzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/axic",
      "html_url": "https://github.com/axic",
      "followers_url": "https://api.github.com/users/axic/followers",
      "following_url": "https://api.github.com/users/axic/following{/other_user}",
      "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
      "organizations_url": "https://api.github.com/users/axic/orgs",
      "repos_url": "https://api.github.com/users/axic/repos",
      "events_url": "https://api.github.com/users/axic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/axic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-15T23:20:40Z",
    "updated_at": "2017-03-15T23:20:40Z",
    "author_association": "MEMBER",
    "body": "> Now that I think of it, this could even develop in a feature where we can export and import the AST \r\n\r\nThat would be nice. Would the import of AST just replace the source code? For contract verification, would we store a the hash of the AST?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/286910281/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/287734792",
    "html_url": "https://github.com/ethereum/solidity/issues/1774#issuecomment-287734792",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/1774",
    "id": 287734792,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4NzczNDc5Mg==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-20T11:31:28Z",
    "updated_at": "2017-03-20T11:31:28Z",
    "author_association": "MEMBER",
    "body": "Not sure yet, this feature is firstly only about allowing external tools (write) access to the AST",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/287734792/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/288056269",
    "html_url": "https://github.com/ethereum/solidity/issues/1774#issuecomment-288056269",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/1774",
    "id": 288056269,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4ODA1NjI2OQ==",
    "user": {
      "login": "soad003",
      "id": 6850271,
      "node_id": "MDQ6VXNlcjY4NTAyNzE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6850271?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/soad003",
      "html_url": "https://github.com/soad003",
      "followers_url": "https://api.github.com/users/soad003/followers",
      "following_url": "https://api.github.com/users/soad003/following{/other_user}",
      "gists_url": "https://api.github.com/users/soad003/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/soad003/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/soad003/subscriptions",
      "organizations_url": "https://api.github.com/users/soad003/orgs",
      "repos_url": "https://api.github.com/users/soad003/repos",
      "events_url": "https://api.github.com/users/soad003/events{/privacy}",
      "received_events_url": "https://api.github.com/users/soad003/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-21T11:55:33Z",
    "updated_at": "2017-03-21T11:55:33Z",
    "author_association": "NONE",
    "body": "Do you want to implement a separate AST that is directly generated from source or a conversion from the old format to the new one. The second option would make porting code that uses the old AST version easier because they could transform only parts of the AST to the new version. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/288056269/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/288059313",
    "html_url": "https://github.com/ethereum/solidity/issues/1774#issuecomment-288059313",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/1774",
    "id": 288059313,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI4ODA1OTMxMw==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-03-21T12:09:07Z",
    "updated_at": "2017-03-21T12:09:07Z",
    "author_association": "MEMBER",
    "body": "@soad003 the old AST cannot directly be transformed to the new one because the child nodes are not named. It is probably easier to convert the new format to the old one, but the approach we are currently thinking of will have internal routines that can generate both formats from the same internal data.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/288059313/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/305185693",
    "html_url": "https://github.com/ethereum/solidity/issues/1774#issuecomment-305185693",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/1774",
    "id": 305185693,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMwNTE4NTY5Mw==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-05-31T13:25:59Z",
    "updated_at": "2017-05-31T13:25:59Z",
    "author_association": "MEMBER",
    "body": "This has been implemented by @djudjuu ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/305185693/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
