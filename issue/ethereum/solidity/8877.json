{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/8877",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/8877/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/8877/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/8877/events",
  "html_url": "https://github.com/ethereum/solidity/issues/8877",
  "id": 614406380,
  "node_id": "MDU6SXNzdWU2MTQ0MDYzODA=",
  "number": 8877,
  "title": "Update emscripten to 1.39.15",
  "user": {
    "login": "axic",
    "id": 20340,
    "node_id": "MDQ6VXNlcjIwMzQw",
    "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/axic",
    "html_url": "https://github.com/axic",
    "followers_url": "https://api.github.com/users/axic/followers",
    "following_url": "https://api.github.com/users/axic/following{/other_user}",
    "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
    "organizations_url": "https://api.github.com/users/axic/orgs",
    "repos_url": "https://api.github.com/users/axic/repos",
    "events_url": "https://api.github.com/users/axic/events{/privacy}",
    "received_events_url": "https://api.github.com/users/axic/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 437863668,
      "node_id": "MDU6TGFiZWw0Mzc4NjM2Njg=",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/build%20system%20:building_construction:",
      "name": "build system :building_construction:",
      "color": "1d76db",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "ekpyron",
    "id": 1347491,
    "node_id": "MDQ6VXNlcjEzNDc0OTE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1347491?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ekpyron",
    "html_url": "https://github.com/ekpyron",
    "followers_url": "https://api.github.com/users/ekpyron/followers",
    "following_url": "https://api.github.com/users/ekpyron/following{/other_user}",
    "gists_url": "https://api.github.com/users/ekpyron/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ekpyron/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ekpyron/subscriptions",
    "organizations_url": "https://api.github.com/users/ekpyron/orgs",
    "repos_url": "https://api.github.com/users/ekpyron/repos",
    "events_url": "https://api.github.com/users/ekpyron/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ekpyron/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "ekpyron",
      "id": 1347491,
      "node_id": "MDQ6VXNlcjEzNDc0OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1347491?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ekpyron",
      "html_url": "https://github.com/ekpyron",
      "followers_url": "https://api.github.com/users/ekpyron/followers",
      "following_url": "https://api.github.com/users/ekpyron/following{/other_user}",
      "gists_url": "https://api.github.com/users/ekpyron/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ekpyron/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ekpyron/subscriptions",
      "organizations_url": "https://api.github.com/users/ekpyron/orgs",
      "repos_url": "https://api.github.com/users/ekpyron/repos",
      "events_url": "https://api.github.com/users/ekpyron/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ekpyron/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2020-05-07T23:31:25Z",
  "updated_at": "2020-05-14T17:12:41Z",
  "closed_at": "2020-05-14T17:12:41Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "It may be time for the \"bi-annual emscripten upgrade\". Last we updated to 1.39.3 it in #7832 in November.\r\n\r\nSince then Emscripten has made 12 releases. The [interesting changes](https://github.com/emscripten-core/emscripten/blob/master/ChangeLog.md) (going from oldest release):\r\n- Added support for streaming Wasm compilation in MINIMAL_RUNTIME (off by default)\r\n- All ports now install their headers into a shared directory under EM_CACHE.\r\n- Add fine-grained options for specific legacy browser support, MIN_FIREFOX_VERSION, MIN_SAFARI_VERSION, MIN_IE_VERSION, MIN_EDGE_VERSION, MIN_CHROME_VERSION. The existing LEGACY_VM_SUPPORT option sets all of them to 0, that is, maximal backwards compatibility.\r\n- SAFE_STACK has been removed, as it overlaps with STACK_OVERFLOW_CHECK. Replace SAFE_STACK=1 with STACK_OVERFLOW_CHECK=2 (note the value is 2). This also has the effect of enabling stack checking on upstream builds when ASSERTIONS are enabled (as assertions enable STACK_OVERFLOW_CHECK=2).\r\n- Reduced default geometric memory overgrowth rate from a very generous 2x factor to a more memory conserving +20% factor, and capped maximum reservation to 96MB at most.\r\n- Add new Fibers API for context switching, that supersedes the old coroutine API that only ran on fastcomp. See #9859\r\n- **Added new linker option -s WASM=2 which produces a dual Wasm+JS build, which falls back to using a JavaScript version if WebAssembly is not supported in target browser/shell. (#10118)**\r\n- Added new linker option -s CLOSURE_WARNINGS=quiet|warn|error that allows aborting the build if the Closure compiler produced any warnings.\r\n- wasm2js optimizations. See binaryen#2623.\r\n- **Updated of libc++abi and libc++ to llvm 9.0.0 (#10510)** (Perhaps C++20 support?)\r\n- The default c++ version is no longer fixed at c++03. We now fall back to clang's default which is currently c++14.\r\n- Remove hacks from memset handling, in particular, in the wasm backend, completely remove the JS version of memset from the JS library and from DEFAULT_LIBRARY_FUNCS_TO_INCLUDE. The regular C version will be linked in from compiler_rt normally.\r\n- Minimal runtime code size optimizations, see #10725, #10724, #10663.\r\n- **Support for WebAssembly BigInt integration with a new WASM_BIGINT flag. With that the VM will use a JS BigInt for a wasm i64, avoiding the need for JS legalization. See #10860.** (SPEEDUP)\r\n- Add --extern-pre-js and --extern-post-js emcc flags. Files provided there are prepended/appended to the final JavaScript output, after all other work has been done, including optimization, optional MODULARIZE-ation, instrumentation like SAFE_HEAP, etc. \r\n- **Update libcxx and libcxxabi to LLVM 10 release branch (#11038).** (Maybe this really brings C++20 support?)\r\n\r\nJust for the dual wasm+js option it may be worth it to consider 1.39.7. And for BigInt 1.39.13.\r\n\r\ncc @ekpyron \r\n",
  "closed_by": {
    "login": "chriseth",
    "id": 9073706,
    "node_id": "MDQ6VXNlcjkwNzM3MDY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/chriseth",
    "html_url": "https://github.com/chriseth",
    "followers_url": "https://api.github.com/users/chriseth/followers",
    "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
    "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
    "organizations_url": "https://api.github.com/users/chriseth/orgs",
    "repos_url": "https://api.github.com/users/chriseth/repos",
    "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
    "received_events_url": "https://api.github.com/users/chriseth/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/8877/reactions",
    "total_count": 1,
    "+1": 1,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/8877/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/625548714",
    "html_url": "https://github.com/ethereum/solidity/issues/8877#issuecomment-625548714",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/8877",
    "id": 625548714,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyNTU0ODcxNA==",
    "user": {
      "login": "axic",
      "id": 20340,
      "node_id": "MDQ6VXNlcjIwMzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/axic",
      "html_url": "https://github.com/axic",
      "followers_url": "https://api.github.com/users/axic/followers",
      "following_url": "https://api.github.com/users/axic/following{/other_user}",
      "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
      "organizations_url": "https://api.github.com/users/axic/orgs",
      "repos_url": "https://api.github.com/users/axic/repos",
      "events_url": "https://api.github.com/users/axic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/axic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-05-07T23:33:10Z",
    "updated_at": "2020-05-07T23:33:10Z",
    "author_association": "MEMBER",
    "body": "This maybe also reduces the size of Z3 (#8851), especially if that depends on 64-bit numbers.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/625548714/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
