{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/4617",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/4617/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/4617/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/4617/events",
  "html_url": "https://github.com/ethereum/solidity/issues/4617",
  "id": 345694183,
  "node_id": "MDU6SXNzdWUzNDU2OTQxODM=",
  "number": 4617,
  "title": "[CLI] Solc should report if there was no contract to compile",
  "user": {
    "login": "chriseth",
    "id": 9073706,
    "node_id": "MDQ6VXNlcjkwNzM3MDY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/chriseth",
    "html_url": "https://github.com/chriseth",
    "followers_url": "https://api.github.com/users/chriseth/followers",
    "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
    "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
    "organizations_url": "https://api.github.com/users/chriseth/orgs",
    "repos_url": "https://api.github.com/users/chriseth/repos",
    "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
    "received_events_url": "https://api.github.com/users/chriseth/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 717596767,
      "node_id": "MDU6TGFiZWw3MTc1OTY3Njc=",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/good%20first%20issue",
      "name": "good first issue",
      "color": "006b75",
      "default": true,
      "description": ""
    },
    {
      "id": 1012613901,
      "node_id": "MDU6TGFiZWwxMDEyNjEzOTAx",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/easy%20difficulty",
      "name": "easy difficulty",
      "color": "0b3f89",
      "default": false,
      "description": ""
    },
    {
      "id": 4438006499,
      "node_id": "LA_kwDOAm_5kc8AAAABCIaa4w",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/low%20effort",
      "name": "low effort",
      "color": "ffb1fa",
      "default": false,
      "description": "There is not much implementation work to be done. The task is very easy or tiny."
    },
    {
      "id": 4438157609,
      "node_id": "LA_kwDOAm_5kc8AAAABCIjpKQ",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/low%20impact",
      "name": "low impact",
      "color": "001dff",
      "default": false,
      "description": "Changes are not very noticeable or potential benefits are limited."
    },
    {
      "id": 4438492402,
      "node_id": "LA_kwDOAm_5kc8AAAABCI4E8g",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/nice%20to%20have",
      "name": "nice to have",
      "color": "ffdeb3",
      "default": false,
      "description": "We don’t see a good reason not to have it but won’t go out of our way to implement it."
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 7,
  "created_at": "2018-07-30T10:10:10Z",
  "updated_at": "2022-10-26T14:21:30Z",
  "closed_at": null,
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "Follow-up of https://github.com/ethereum/solidity/pull/4525 :\r\n\r\nAfter that PR, solc properly reports why it does not output anything. There is still one edge, case, though: If you compile a file that does not contain any contracts, it still does not output anything. We should report something like 'input did not contain any contracts'. We should also check what happens if contracts are present but are abstract or interfaces.",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/4617/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/4617/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/726365534",
    "html_url": "https://github.com/ethereum/solidity/issues/4617#issuecomment-726365534",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/4617",
    "id": 726365534,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcyNjM2NTUzNA==",
    "user": {
      "login": "axic",
      "id": 20340,
      "node_id": "MDQ6VXNlcjIwMzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/axic",
      "html_url": "https://github.com/axic",
      "followers_url": "https://api.github.com/users/axic/followers",
      "following_url": "https://api.github.com/users/axic/following{/other_user}",
      "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
      "organizations_url": "https://api.github.com/users/axic/orgs",
      "repos_url": "https://api.github.com/users/axic/repos",
      "events_url": "https://api.github.com/users/axic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/axic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-12T21:59:24Z",
    "updated_at": "2020-11-12T21:59:24Z",
    "author_association": "MEMBER",
    "body": "#8646 is a related question which could be useful here.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/726365534/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/991337025",
    "html_url": "https://github.com/ethereum/solidity/issues/4617#issuecomment-991337025",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/4617",
    "id": 991337025,
    "node_id": "IC_kwDOAm_5kc47FppB",
    "user": {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-12-10T22:07:55Z",
    "updated_at": "2021-12-10T22:47:16Z",
    "author_association": "MEMBER",
    "body": "This issue actually requires some clarification. It was originally reported while #4525 was still in progress, probably with the assumption that it will be merged but in the end it wasn't. Instead we merged #4958 some time after that and it apparently solved the issue differently because now compiler always prints `Compiler run successful, no output requested.` when there's no other output. The message is not always correct though because it can be displayed even if user did request some outputs.\r\n\r\nAs for the case when there are only abstract contracts or interfaces present - the output is non-empty so the problem does not exist - the compiler prints a header describing the type of output and the contract name (though the latter not for all outputs).\r\n\r\nSo, here's what needs to actually be done:\r\n1. When there are no contracts at all in the input, say just that instead of saying that no outputs were requested.\r\n2. When there are only abstract contracts and interfaces to compile, there's no change required.\r\n    - We might want to print a message saying that there were no deployable contracts but that might actually be a breaking change (do we consider changes like that to console output breaking?). We would also have to handle different outputs differently. For example such contracts can still have some output in `--hashes` or `--devdoc` even if `--bin` is empty. But I think it's better to leave this case up to #12398 I have just reported.\r\n3. I'd change the message displayed in all other cases to `Compiler run successful, no output.`. Optionally, we could actually check if any outputs were requested and print a more specific message in that case.\r\n4. Consistently print the header with contract name in all cases (i.e. the `======= test.sol:C =======` part). Currently `--ir`, `--ir-optimized`, `--ewasm` do not print it when used on their own.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/991337025/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1223310757",
    "html_url": "https://github.com/ethereum/solidity/issues/4617#issuecomment-1223310757",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/4617",
    "id": 1223310757,
    "node_id": "IC_kwDOAm_5kc5I6j2l",
    "user": {
      "login": "anshss",
      "id": 73519543,
      "node_id": "MDQ6VXNlcjczNTE5NTQz",
      "avatar_url": "https://avatars.githubusercontent.com/u/73519543?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/anshss",
      "html_url": "https://github.com/anshss",
      "followers_url": "https://api.github.com/users/anshss/followers",
      "following_url": "https://api.github.com/users/anshss/following{/other_user}",
      "gists_url": "https://api.github.com/users/anshss/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/anshss/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/anshss/subscriptions",
      "organizations_url": "https://api.github.com/users/anshss/orgs",
      "repos_url": "https://api.github.com/users/anshss/repos",
      "events_url": "https://api.github.com/users/anshss/events{/privacy}",
      "received_events_url": "https://api.github.com/users/anshss/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-22T23:17:41Z",
    "updated_at": "2022-08-22T23:17:41Z",
    "author_association": "NONE",
    "body": "I would like to begin with this issue. This would be my first open source contribution. At what part of the solidity repo do I have to commit the above mentioned changes?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1223310757/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1224610179",
    "html_url": "https://github.com/ethereum/solidity/issues/4617#issuecomment-1224610179",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/4617",
    "id": 1224610179,
    "node_id": "IC_kwDOAm_5kc5I_hGD",
    "user": {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-23T18:50:56Z",
    "updated_at": "2022-08-23T18:50:56Z",
    "author_association": "MEMBER",
    "body": "See [`CommandLineInterface.cpp`](https://github.com/ethereum/solidity/blob/develop/solc/CommandLineInterface.cpp).",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1224610179/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1266310784",
    "html_url": "https://github.com/ethereum/solidity/issues/4617#issuecomment-1266310784",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/4617",
    "id": 1266310784,
    "node_id": "IC_kwDOAm_5kc5Lel6A",
    "user": {
      "login": "Andy53",
      "id": 35195301,
      "node_id": "MDQ6VXNlcjM1MTk1MzAx",
      "avatar_url": "https://avatars.githubusercontent.com/u/35195301?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Andy53",
      "html_url": "https://github.com/Andy53",
      "followers_url": "https://api.github.com/users/Andy53/followers",
      "following_url": "https://api.github.com/users/Andy53/following{/other_user}",
      "gists_url": "https://api.github.com/users/Andy53/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Andy53/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Andy53/subscriptions",
      "organizations_url": "https://api.github.com/users/Andy53/orgs",
      "repos_url": "https://api.github.com/users/Andy53/repos",
      "events_url": "https://api.github.com/users/Andy53/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Andy53/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-04T02:22:30Z",
    "updated_at": "2022-10-04T02:22:30Z",
    "author_association": "CONTRIBUTOR",
    "body": "I have submitted a [pull request](https://github.com/ethereum/solidity/pull/13606) to fix this issue. A small number of the automated tests are failing due to the fact that the output has changed when no contract is supplied. All other tests have passed.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1266310784/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1291974596",
    "html_url": "https://github.com/ethereum/solidity/issues/4617#issuecomment-1291974596",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/4617",
    "id": 1291974596,
    "node_id": "IC_kwDOAm_5kc5NAffE",
    "user": {
      "login": "nikola-matic",
      "id": 4415530,
      "node_id": "MDQ6VXNlcjQ0MTU1MzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4415530?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikola-matic",
      "html_url": "https://github.com/nikola-matic",
      "followers_url": "https://api.github.com/users/nikola-matic/followers",
      "following_url": "https://api.github.com/users/nikola-matic/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikola-matic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikola-matic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikola-matic/subscriptions",
      "organizations_url": "https://api.github.com/users/nikola-matic/orgs",
      "repos_url": "https://api.github.com/users/nikola-matic/repos",
      "events_url": "https://api.github.com/users/nikola-matic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikola-matic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-26T12:41:38Z",
    "updated_at": "2022-10-26T12:41:38Z",
    "author_association": "MEMBER",
    "body": "```\r\nWe should also check what happens if contracts are present but are abstract or interfaces.\r\n```\r\n@chriseth what is the desired behaviour in case of abstract contracts/interfaces?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1291974596/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1292129566",
    "html_url": "https://github.com/ethereum/solidity/issues/4617#issuecomment-1292129566",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/4617",
    "id": 1292129566,
    "node_id": "IC_kwDOAm_5kc5NBFUe",
    "user": {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-26T14:21:30Z",
    "updated_at": "2022-10-26T14:21:30Z",
    "author_association": "MEMBER",
    "body": "I'd say they should not be treated as contracts. They do not produce any artifacts. I guess this should be no different from having a file that only has enum definitions or is empty.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1292129566/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
