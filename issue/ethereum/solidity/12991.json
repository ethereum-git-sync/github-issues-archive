{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/12991",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/12991/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/12991/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/12991/events",
  "html_url": "https://github.com/ethereum/solidity/issues/12991",
  "id": 1228746640,
  "node_id": "I_kwDOAm_5kc5JPS-Q",
  "number": 12991,
  "title": "Error type should be `function (...) public pure`",
  "user": {
    "login": "ghost",
    "id": 10137,
    "node_id": "MDQ6VXNlcjEwMTM3",
    "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ghost",
    "html_url": "https://github.com/ghost",
    "followers_url": "https://api.github.com/users/ghost/followers",
    "following_url": "https://api.github.com/users/ghost/following{/other_user}",
    "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
    "organizations_url": "https://api.github.com/users/ghost/orgs",
    "repos_url": "https://api.github.com/users/ghost/repos",
    "events_url": "https://api.github.com/users/ghost/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ghost/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2022-05-07T23:18:49Z",
  "updated_at": "2022-05-09T07:32:34Z",
  "closed_at": "2022-05-09T07:32:33Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "<!--## Prerequisites\r\n\r\n- First, many thanks for taking part in the community. We really appreciate that.\r\n- We realize there is a lot of data requested here. We ask only that you do your best to provide as much information as possible so we can better help you.\r\n- Support questions are better asked in one of the following locations:\r\n    - [Solidity chat](https://gitter.im/ethereum/solidity)\r\n    - [Stack Overflow](https://ethereum.stackexchange.com/)\r\n- Ensure the issue isn't already reported (check `feature` and `language design` labels).\r\n\r\n*Delete the above section and the instructions in the sections below before submitting*\r\n-->\r\n\r\n## Abstract\r\n\r\nAny error has a `.selector` member which returns the first four bytes of the keccak256 hash of the properly abi encoded function (error) selector. \r\n\r\nAny error as far as I have noticed is of `function () pure`Â type.\r\n\r\nInternal and private function types do not possess a `.selector` member. This makes it impossible to write something like the following:\r\n\r\n```solidity\r\npragma solidity ^0.8.13;\r\n\r\nerror ERROR1();\r\n\r\nlibrary TEST_L {\r\n    event LOG(bytes4 sig);\r\n\r\n    function _TEST(function () pure f) internal {\r\n        emit LOG(f.selector);\r\n    }\r\n}\r\n\r\ncontract TESTER {\r\n    using TEST_L for *;\r\n\r\n    function TEST() external {\r\n        ERROR1._TEST();\r\n    }\r\n}\r\n```\r\n\r\nCompile error:\r\n\r\n```bash\r\nTypeError: Member \"selector\" not found or not visible after argument-dependent lookup in function () pure.\r\n--> test.sol:9:18:\r\n|\r\n9 | emit LOG(f.selector);\r\n| ^^^^^^^^^^\r\n```\r\n \r\n## Motivation\r\n\r\nMake errors, if possible, of type `function () public pure` This would solve the compile issue of the above snippet.\r\n\r\n## Specification\r\n\r\n`type()` should return for any error `function (types...) public pure` where `types...` are the types of the input arguments.\r\n\r\n## Backwards Compatibility\r\n\r\nThis should introduce compatibility issues for solidity code which assumes any error type to explicitly be `function (...) pure`.\r\n",
  "closed_by": {
    "login": "chriseth",
    "id": 9073706,
    "node_id": "MDQ6VXNlcjkwNzM3MDY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/chriseth",
    "html_url": "https://github.com/chriseth",
    "followers_url": "https://api.github.com/users/chriseth/followers",
    "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
    "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
    "organizations_url": "https://api.github.com/users/chriseth/orgs",
    "repos_url": "https://api.github.com/users/chriseth/repos",
    "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
    "received_events_url": "https://api.github.com/users/chriseth/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/12991/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/12991/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1120746790",
    "html_url": "https://github.com/ethereum/solidity/issues/12991#issuecomment-1120746790",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/12991",
    "id": 1120746790,
    "node_id": "IC_kwDOAm_5kc5CzT0m",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-09T07:32:33Z",
    "updated_at": "2022-05-09T07:32:33Z",
    "author_association": "MEMBER",
    "body": "The issue is that you cannot pass around a non-instance reference to an error, this is just not implemented in the language. We might allow that in the future with generics or we might allow passing around instances of errors.\r\n\r\nIn the meantime, I would recommend to pass the selector directly instead of the error.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1120746790/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
