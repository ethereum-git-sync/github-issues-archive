{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/10104",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/10104/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/10104/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/10104/events",
  "html_url": "https://github.com/ethereum/solidity/issues/10104",
  "id": 729134427,
  "node_id": "MDU6SXNzdWU3MjkxMzQ0Mjc=",
  "number": 10104,
  "title": "4 Internal Compiler Errors in compiler version 0.7.4 ",
  "user": {
    "login": "CHM1993",
    "id": 36297330,
    "node_id": "MDQ6VXNlcjM2Mjk3MzMw",
    "avatar_url": "https://avatars.githubusercontent.com/u/36297330?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/CHM1993",
    "html_url": "https://github.com/CHM1993",
    "followers_url": "https://api.github.com/users/CHM1993/followers",
    "following_url": "https://api.github.com/users/CHM1993/following{/other_user}",
    "gists_url": "https://api.github.com/users/CHM1993/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/CHM1993/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/CHM1993/subscriptions",
    "organizations_url": "https://api.github.com/users/CHM1993/orgs",
    "repos_url": "https://api.github.com/users/CHM1993/repos",
    "events_url": "https://api.github.com/users/CHM1993/events{/privacy}",
    "received_events_url": "https://api.github.com/users/CHM1993/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2020-10-25T22:56:08Z",
  "updated_at": "2020-10-28T09:45:09Z",
  "closed_at": "2020-10-28T09:45:09Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Hello everyone , I want to report 4 cases of Internal Compiler error. \r\n\r\n## Description\r\n\r\n1) Contract :\r\n\r\npragma experimental SMTChecker;\r\n\tfunction f( int y,int x)pure {}\r\n\r\nreports an internal compiler error :\r\n\r\nInternal compiler error during compilation:\r\n/build/solc-0s1t3A/solc-0.7.4/libsolidity/formal/SMTEncoder.cpp(708): Throw in function void solidity::frontend::SMTEncoder::initFunction(const solidity::frontend::FunctionDefinition&)\r\nDynamic exception type: boost::exception_detail::clone_impl<solidity::langutil::InternalCompilerError>\r\nstd::exception::what: \r\n[solidity::util::tag_comment*] = \r\n\r\n2) Contract :\r\n\r\npragma experimental SMTChecker;\r\ncontract C {\r\n\tuint[] a;\r\n\tfunction f() public {\r\n\t\ta.push()=\r\n\t\ta.push();\r\nif (0<1){}\r\nif (0==1){}\r\n\t}\r\n}\r\n\r\nreports internal compiler error :\r\n\r\nInternal compiler error during compilation:\r\n/build/solc-0s1t3A/solc-0.7.4/libsolidity/formal/SMTEncoder.cpp(1783): Throw in function void solidity::frontend::SMTEncoder::assignment(const solidity::frontend::Expression&, const solidity::smtutil::Expression&, const solidity::frontend::Type* const&)\r\nDynamic exception type: boost::exception_detail::clone_impl<solidity::langutil::InternalCompilerError>\r\nstd::exception::what: \r\n[solidity::util::tag_comment*] = \r\n\r\n3) Contract :\r\n\r\npragma experimental SMTChecker;\r\n\r\ncontract C {\r\n\tuint[] a;\r\n\tfunction f() public {\r\n\t\ta.push()=\r\n\t\ta.length;\r\n\t}\r\n}\r\n\r\nreports internal compiler error :\r\n\r\nInternal compiler error during compilation:\r\n/build/solc-0s1t3A/solc-0.7.4/libsolidity/formal/SMTEncoder.cpp(1783): Throw in function void solidity::frontend::SMTEncoder::assignment(const solidity::frontend::Expression&, const solidity::smtutil::Expression&, const solidity::frontend::Type* const&)\r\nDynamic exception type: boost::exception_detail::clone_impl<solidity::langutil::InternalCompilerError>\r\nstd::exception::what: \r\n[solidity::util::tag_comment*] = \r\n\r\n4) Contract :\r\n\r\npragma experimental SMTChecker;    \r\nfunction f(bool x)pure {       assert(x);}\r\n\r\ninternal compiler error :\r\n\r\nInternal compiler error during compilation:\r\n/build/solc-0s1t3A/solc-0.7.4/libsolidity/formal/SMTEncoder.cpp(708): Throw in function void solidity::frontend::SMTEncoder::initFunction(const solidity::frontend::FunctionDefinition&)\r\nDynamic exception type: boost::exception_detail::clone_impl<solidity::langutil::InternalCompilerError>\r\nstd::exception::what: \r\n[solidity::util::tag_comment*] = \r\n\r\n## Environment\r\n\r\n- Compiler version: 0.7.4_+\r\n- Target EVM version (as per compiler settings): 0.7.4+commit.3f05b770.Linux.g++\r\n- Framework/IDE (e.g. Truffle or Remix): verified in Remix\r\n- EVM execution environment / backend / blockchain client:\r\n- Operating system: Ubuntu 16.04 Bionic\r\n\r\n## Steps to Reproduce\r\n\r\nRun solfuzzer with our own fork of AFL (will be published soon)\r\n",
  "closed_by": {
    "login": "axic",
    "id": 20340,
    "node_id": "MDQ6VXNlcjIwMzQw",
    "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/axic",
    "html_url": "https://github.com/axic",
    "followers_url": "https://api.github.com/users/axic/followers",
    "following_url": "https://api.github.com/users/axic/following{/other_user}",
    "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
    "organizations_url": "https://api.github.com/users/axic/orgs",
    "repos_url": "https://api.github.com/users/axic/repos",
    "events_url": "https://api.github.com/users/axic/events{/privacy}",
    "received_events_url": "https://api.github.com/users/axic/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/10104/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/10104/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/716406263",
    "html_url": "https://github.com/ethereum/solidity/issues/10104#issuecomment-716406263",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/10104",
    "id": 716406263,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxNjQwNjI2Mw==",
    "user": {
      "login": "bshastry",
      "id": 2388185,
      "node_id": "MDQ6VXNlcjIzODgxODU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2388185?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bshastry",
      "html_url": "https://github.com/bshastry",
      "followers_url": "https://api.github.com/users/bshastry/followers",
      "following_url": "https://api.github.com/users/bshastry/following{/other_user}",
      "gists_url": "https://api.github.com/users/bshastry/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bshastry/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bshastry/subscriptions",
      "organizations_url": "https://api.github.com/users/bshastry/orgs",
      "repos_url": "https://api.github.com/users/bshastry/repos",
      "events_url": "https://api.github.com/users/bshastry/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bshastry/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-26T08:53:54Z",
    "updated_at": "2020-10-26T08:53:54Z",
    "author_association": "MEMBER",
    "body": "Thank you for reporting the issues @CHM1993 . To me (2) and (3) seem to be duplicates of https://github.com/ethereum/solidity/issues/9743\r\n\r\n(1) and (4) seem to be duplicates of https://github.com/ethereum/solidity/issues/9654\r\n\r\nSince fuzzing is done both internally and externally by at least one other person, bug collisions are likely. Please let me know if the bugs reported here are different.\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/716406263/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/717416192",
    "html_url": "https://github.com/ethereum/solidity/issues/10104#issuecomment-717416192",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/10104",
    "id": 717416192,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxNzQxNjE5Mg==",
    "user": {
      "login": "axic",
      "id": 20340,
      "node_id": "MDQ6VXNlcjIwMzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/axic",
      "html_url": "https://github.com/axic",
      "followers_url": "https://api.github.com/users/axic/followers",
      "following_url": "https://api.github.com/users/axic/following{/other_user}",
      "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
      "organizations_url": "https://api.github.com/users/axic/orgs",
      "repos_url": "https://api.github.com/users/axic/repos",
      "events_url": "https://api.github.com/users/axic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/axic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-27T17:50:52Z",
    "updated_at": "2020-10-27T17:52:42Z",
    "author_association": "MEMBER",
    "body": "To me it seems 1 and 4 are due to the SMTChecker does not yet supporting \"free functions\", see #9636. The other two likely are duplicates according to @bshastry.\r\n\r\n@CHM1993 thank your for the reports! Let us know once you publish your fuzzer and any other issues are welcome too. I'm going to close this in order to reduce the number of open issues.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/717416192/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/717434954",
    "html_url": "https://github.com/ethereum/solidity/issues/10104#issuecomment-717434954",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/10104",
    "id": 717434954,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcxNzQzNDk1NA==",
    "user": {
      "login": "CHM1993",
      "id": 36297330,
      "node_id": "MDQ6VXNlcjM2Mjk3MzMw",
      "avatar_url": "https://avatars.githubusercontent.com/u/36297330?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/CHM1993",
      "html_url": "https://github.com/CHM1993",
      "followers_url": "https://api.github.com/users/CHM1993/followers",
      "following_url": "https://api.github.com/users/CHM1993/following{/other_user}",
      "gists_url": "https://api.github.com/users/CHM1993/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/CHM1993/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/CHM1993/subscriptions",
      "organizations_url": "https://api.github.com/users/CHM1993/orgs",
      "repos_url": "https://api.github.com/users/CHM1993/repos",
      "events_url": "https://api.github.com/users/CHM1993/events{/privacy}",
      "received_events_url": "https://api.github.com/users/CHM1993/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-27T18:21:13Z",
    "updated_at": "2020-10-27T20:03:56Z",
    "author_association": "NONE",
    "body": "yes thats true, contract 1 and 4 trigger the solAssert(m_currentContract, \"\"); of the initFunction in SMTSolver.cpp, while Contracts 2 and 3 make the solAssert(false, \"\"); crash in SMTassigment again in SMTSolver.cpp.\r\nThats some issues that I think should be fixed.\r\nThank you.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/717434954/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
