{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/8670",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/8670/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/8670/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/8670/events",
  "html_url": "https://github.com/ethereum/solidity/issues/8670",
  "id": 599929138,
  "node_id": "MDU6SXNzdWU1OTk5MjkxMzg=",
  "number": 8670,
  "title": "Optimiser confused by something",
  "user": {
    "login": "axic",
    "id": 20340,
    "node_id": "MDQ6VXNlcjIwMzQw",
    "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/axic",
    "html_url": "https://github.com/axic",
    "followers_url": "https://api.github.com/users/axic/followers",
    "following_url": "https://api.github.com/users/axic/following{/other_user}",
    "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
    "organizations_url": "https://api.github.com/users/axic/orgs",
    "repos_url": "https://api.github.com/users/axic/repos",
    "events_url": "https://api.github.com/users/axic/events{/privacy}",
    "received_events_url": "https://api.github.com/users/axic/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "Marenz",
    "id": 424752,
    "node_id": "MDQ6VXNlcjQyNDc1Mg==",
    "avatar_url": "https://avatars.githubusercontent.com/u/424752?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Marenz",
    "html_url": "https://github.com/Marenz",
    "followers_url": "https://api.github.com/users/Marenz/followers",
    "following_url": "https://api.github.com/users/Marenz/following{/other_user}",
    "gists_url": "https://api.github.com/users/Marenz/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Marenz/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Marenz/subscriptions",
    "organizations_url": "https://api.github.com/users/Marenz/orgs",
    "repos_url": "https://api.github.com/users/Marenz/repos",
    "events_url": "https://api.github.com/users/Marenz/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Marenz/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "Marenz",
      "id": 424752,
      "node_id": "MDQ6VXNlcjQyNDc1Mg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/424752?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Marenz",
      "html_url": "https://github.com/Marenz",
      "followers_url": "https://api.github.com/users/Marenz/followers",
      "following_url": "https://api.github.com/users/Marenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/Marenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Marenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Marenz/subscriptions",
      "organizations_url": "https://api.github.com/users/Marenz/orgs",
      "repos_url": "https://api.github.com/users/Marenz/repos",
      "events_url": "https://api.github.com/users/Marenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Marenz/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 10,
  "created_at": "2020-04-14T23:59:35Z",
  "updated_at": "2020-07-16T12:02:07Z",
  "closed_at": "2020-07-16T12:02:07Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "This is the most minimal example I've got so far:\r\n```\r\ncontract C {\r\n  function f() external {\r\n        bytes memory amount;\r\n        bytes24 zero_bytes24;\r\n        bytes32 signature_root;\r\n        bytes32 node = sha256(abi.encodePacked(\r\n            sha256(abi.encodePacked(amount, zero_bytes24, signature_root))\r\n        ));\r\n  }\r\n}\r\n```\r\n\r\nWith `--optimize` (default settings, albeit tried with `--optimize-runs 10000000` too) there is this snippet in the output:\r\n```\r\n        /* \"optim.sol\":197:251  abi.encodePacked(amount, zero_bytes24, signature_root) */\r\n      pop\r\n      pop\r\n      pop\r\n      swap1\r\n      pop\r\n      add\r\n      dup4\r\n      not(0xffffffffffffffff)\r\n      and\r\n      not(0xffffffffffffffff)\r\n      and\r\n      dup2\r\n      mstore\r\n      0x18\r\n      add\r\n```\r\n\r\nThe `not and not and` part doesn't seem to make any sense.",
  "closed_by": {
    "login": "chriseth",
    "id": 9073706,
    "node_id": "MDQ6VXNlcjkwNzM3MDY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/chriseth",
    "html_url": "https://github.com/chriseth",
    "followers_url": "https://api.github.com/users/chriseth/followers",
    "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
    "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
    "organizations_url": "https://api.github.com/users/chriseth/orgs",
    "repos_url": "https://api.github.com/users/chriseth/repos",
    "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
    "received_events_url": "https://api.github.com/users/chriseth/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/8670/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/8670/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/616557002",
    "html_url": "https://github.com/ethereum/solidity/issues/8670#issuecomment-616557002",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/8670",
    "id": 616557002,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxNjU1NzAwMg==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-20T13:34:47Z",
    "updated_at": "2020-04-20T13:34:47Z",
    "author_association": "MEMBER",
    "body": "Can it be that we never had optimizer rules for `x and (x and y) -> x and y`?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/616557002/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/616568227",
    "html_url": "https://github.com/ethereum/solidity/issues/8670#issuecomment-616568227",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/8670",
    "id": 616568227,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxNjU2ODIyNw==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-20T13:52:17Z",
    "updated_at": "2020-04-20T13:52:17Z",
    "author_association": "MEMBER",
    "body": "We indeed did not have such a rule, but moving constants out and applying `and(x, x) -> x` should also do the trick here...",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/616568227/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/618331179",
    "html_url": "https://github.com/ethereum/solidity/issues/8670#issuecomment-618331179",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/8670",
    "id": 618331179,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxODMzMTE3OQ==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-23T10:50:12Z",
    "updated_at": "2020-04-23T10:50:12Z",
    "author_association": "MEMBER",
    "body": "It seems that #8707 does not solve this issue :(",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/618331179/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/625749062",
    "html_url": "https://github.com/ethereum/solidity/issues/8670#issuecomment-625749062",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/8670",
    "id": 625749062,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyNTc0OTA2Mg==",
    "user": {
      "login": "axic",
      "id": 20340,
      "node_id": "MDQ6VXNlcjIwMzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/axic",
      "html_url": "https://github.com/axic",
      "followers_url": "https://api.github.com/users/axic/followers",
      "following_url": "https://api.github.com/users/axic/following{/other_user}",
      "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
      "organizations_url": "https://api.github.com/users/axic/orgs",
      "repos_url": "https://api.github.com/users/axic/repos",
      "events_url": "https://api.github.com/users/axic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/axic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-05-08T10:24:14Z",
    "updated_at": "2020-05-08T10:24:14Z",
    "author_association": "MEMBER",
    "body": "```\r\n      0xffffffffffffffff\r\n      not\r\n      and\r\n      0xffffffffffffffff\r\n      not\r\n      and\r\n```\r\n\r\nProbably the optimiser can't understand `not(0xffffffffffffffff)` as a single \"value\". Should we first flatten these expressions, run the rulelist, and then as part of the constant optimiser shorten them? (Perhaps need to add a rule for turning them into `NOT(A)` expressions if it is shorter than `A`.)",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/625749062/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/626359692",
    "html_url": "https://github.com/ethereum/solidity/issues/8670#issuecomment-626359692",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/8670",
    "id": 626359692,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyNjM1OTY5Mg==",
    "user": {
      "login": "axic",
      "id": 20340,
      "node_id": "MDQ6VXNlcjIwMzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/axic",
      "html_url": "https://github.com/axic",
      "followers_url": "https://api.github.com/users/axic/followers",
      "following_url": "https://api.github.com/users/axic/following{/other_user}",
      "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
      "organizations_url": "https://api.github.com/users/axic/orgs",
      "repos_url": "https://api.github.com/users/axic/repos",
      "events_url": "https://api.github.com/users/axic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/axic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-05-10T17:13:43Z",
    "updated_at": "2020-05-10T17:50:55Z",
    "author_association": "MEMBER",
    "body": ">  Should we first flatten these expressions\r\n\r\nThe RuleList already contains `NOT(A)`, so not sure why it is not picked up.\r\n\r\n> (Perhaps need to add a rule for turning them into NOT(A) expressions if it is shorter than A.)\r\n\r\nConstant optimiser does that already.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/626359692/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/626576087",
    "html_url": "https://github.com/ethereum/solidity/issues/8670#issuecomment-626576087",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/8670",
    "id": 626576087,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyNjU3NjA4Nw==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-05-11T09:10:16Z",
    "updated_at": "2020-05-11T09:10:16Z",
    "author_association": "MEMBER",
    "body": "It could be that the constant representation (the last step) re-introduces the `not` because it is shorter. My problem is rather why the double-and is not reduced. The reason for that could be that the argument to the `and` is not coming from a `dup` but rather it is just reducing the initial stack of the block and thus shortening it.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/626576087/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/631289734",
    "html_url": "https://github.com/ethereum/solidity/issues/8670#issuecomment-631289734",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/8670",
    "id": 631289734,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzMTI4OTczNA==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-05-20T07:26:03Z",
    "updated_at": "2020-05-20T07:26:03Z",
    "author_association": "MEMBER",
    "body": "I did some more investigation on this, but could not find the exact place the code is generated from. The double-and is not removed by the optimizer because it is not an 'intermediate operation' and the stack height before and after the chunk it can operator on is different (at least that is what I think).",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/631289734/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/638680060",
    "html_url": "https://github.com/ethereum/solidity/issues/8670#issuecomment-638680060",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/8670",
    "id": 638680060,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzODY4MDA2MA==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-04T08:02:04Z",
    "updated_at": "2020-06-04T08:02:04Z",
    "author_association": "MEMBER",
    "body": "The only thing left here that could be done is finding out where the code is generated and maybe remove one of the masks.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/638680060/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/640580141",
    "html_url": "https://github.com/ethereum/solidity/issues/8670#issuecomment-640580141",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/8670",
    "id": 640580141,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0MDU4MDE0MQ==",
    "user": {
      "login": "Marenz",
      "id": 424752,
      "node_id": "MDQ6VXNlcjQyNDc1Mg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/424752?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Marenz",
      "html_url": "https://github.com/Marenz",
      "followers_url": "https://api.github.com/users/Marenz/followers",
      "following_url": "https://api.github.com/users/Marenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/Marenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Marenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Marenz/subscriptions",
      "organizations_url": "https://api.github.com/users/Marenz/orgs",
      "repos_url": "https://api.github.com/users/Marenz/repos",
      "events_url": "https://api.github.com/users/Marenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Marenz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-08T12:45:20Z",
    "updated_at": "2020-06-08T12:51:19Z",
    "author_association": "MEMBER",
    "body": "This might not even be a problem currently. The current code with the current `develop` branch produces the following:\r\n\r\n```\r\n     /* \"test.sol\":197:251  abi.encodePacked(amount, zero_bytes24, signature_root) */\r\n      add(0x20, mload(0x40))\r\n      dup1\r\n      dup5\r\n      dup1\r\n      mload\r\n      swap1\r\n      0x20\r\n      add\r\n      swap1\r\n      dup1\r\n      dup4\r\n      dup4\r\n```\r\n\r\nno trace of `not` and `and`..",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/640580141/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/640671953",
    "html_url": "https://github.com/ethereum/solidity/issues/8670#issuecomment-640671953",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/8670",
    "id": 640671953,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0MDY3MTk1Mw==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-08T14:39:15Z",
    "updated_at": "2020-06-08T14:39:15Z",
    "author_association": "MEMBER",
    "body": "It is still there. I think it is  generated because we perform cleanup twice: Once in CompilerUtils.cpp:480 (call to  convertType) and once in CompilerUtils::storeInMemoryDynamic -> prepareMemoryStore -> convertType\r\n\r\nCan you check if it is doable without much disturbance and potential for bugs to see if we can skip either the first or the second cleanup?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/640671953/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
