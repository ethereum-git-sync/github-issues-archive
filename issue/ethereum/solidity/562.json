{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/562",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/562/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/562/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/562/events",
  "html_url": "https://github.com/ethereum/solidity/issues/562",
  "id": 154567303,
  "node_id": "MDU6SXNzdWUxNTQ1NjczMDM=",
  "number": 562,
  "title": "Strict fallback handling",
  "user": {
    "login": "axic",
    "id": 20340,
    "node_id": "MDQ6VXNlcjIwMzQw",
    "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/axic",
    "html_url": "https://github.com/axic",
    "followers_url": "https://api.github.com/users/axic/followers",
    "following_url": "https://api.github.com/users/axic/following{/other_user}",
    "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
    "organizations_url": "https://api.github.com/users/axic/orgs",
    "repos_url": "https://api.github.com/users/axic/repos",
    "events_url": "https://api.github.com/users/axic/events{/privacy}",
    "received_events_url": "https://api.github.com/users/axic/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "chriseth",
    "id": 9073706,
    "node_id": "MDQ6VXNlcjkwNzM3MDY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/chriseth",
    "html_url": "https://github.com/chriseth",
    "followers_url": "https://api.github.com/users/chriseth/followers",
    "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
    "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
    "organizations_url": "https://api.github.com/users/chriseth/orgs",
    "repos_url": "https://api.github.com/users/chriseth/repos",
    "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
    "received_events_url": "https://api.github.com/users/chriseth/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": {
    "url": "https://api.github.com/repos/ethereum/solidity/milestones/8",
    "html_url": "https://github.com/ethereum/solidity/milestone/8",
    "labels_url": "https://api.github.com/repos/ethereum/solidity/milestones/8/labels",
    "id": 1925419,
    "node_id": "MDk6TWlsZXN0b25lMTkyNTQxOQ==",
    "number": 8,
    "title": "7-fallback-cleanup",
    "description": "This milestone groups some issues that concern cleaning up the behaviour of the fallback function.",
    "creator": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 0,
    "closed_issues": 3,
    "state": "closed",
    "created_at": "2016-08-05T13:26:48Z",
    "updated_at": "2016-10-05T00:09:17Z",
    "due_on": null,
    "closed_at": "2016-10-05T00:09:17Z"
  },
  "comments": 2,
  "created_at": "2016-05-12T19:56:04Z",
  "updated_at": "2016-09-06T20:51:06Z",
  "closed_at": "2016-09-06T20:51:06Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "I think it time to consider adding more safety mechanisms into Solidity. One good candidate is cleaning up the handling of the fallback method.\n\nSituation now:\n- If no fallback is defined in Solidity, the contract just returns.\n- If a fallback is defined it is executed.\n\nI propose the following:\n\n1) Keyword to enable the fallback method: `fallback`.  A fallback body declaration is mandatory.\n\n```\ncontract Test fallback {\n}\n```\n\n2) A contract without the `fallback` keyword should fail compilation if the fallback method is present.\n\n3) If no fallback is defined and no matching ABI signature is found, the contract should `throw`.\n\n4) A library cannot have the `fallback` keyword.\n\n5) Regarding the appropriate interface JSON, please see https://github.com/ethereum/solidity/issues/499\n## \n\nRemark about input/output parameters to the fallback method:\n\n1) Right now the language won't accept method parameters, but that can be circumvented by the user with using `msg.data`\n\n2) Right now it allows defining return parameters which are encoded using the ABI. According to @chriseth this is unwanted. If it is removed, I would propose adding an option to return raw data by a singular `bytes` return value (which won't include the size field). Update: see #15, which proposes the same change.\n",
  "closed_by": {
    "login": "axic",
    "id": 20340,
    "node_id": "MDQ6VXNlcjIwMzQw",
    "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/axic",
    "html_url": "https://github.com/axic",
    "followers_url": "https://api.github.com/users/axic/followers",
    "following_url": "https://api.github.com/users/axic/following{/other_user}",
    "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
    "organizations_url": "https://api.github.com/users/axic/orgs",
    "repos_url": "https://api.github.com/users/axic/repos",
    "events_url": "https://api.github.com/users/axic/events{/privacy}",
    "received_events_url": "https://api.github.com/users/axic/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/562/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/562/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/242428602",
    "html_url": "https://github.com/ethereum/solidity/issues/562#issuecomment-242428602",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/562",
    "id": 242428602,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0MjQyODYwMg==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-25T15:26:13Z",
    "updated_at": "2016-08-25T15:26:13Z",
    "author_association": "MEMBER",
    "body": "I would like to simplify this to:\n- the \"default implementation\" of the fallback function throws\n- libraries cannot have fallback functions\n\nHaving the keyword and the function present is basically the same thing expressed in two ways.\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/242428602/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/242809890",
    "html_url": "https://github.com/ethereum/solidity/issues/562#issuecomment-242809890",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/562",
    "id": 242809890,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI0MjgwOTg5MA==",
    "user": {
      "login": "axic",
      "id": 20340,
      "node_id": "MDQ6VXNlcjIwMzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/axic",
      "html_url": "https://github.com/axic",
      "followers_url": "https://api.github.com/users/axic/followers",
      "following_url": "https://api.github.com/users/axic/following{/other_user}",
      "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
      "organizations_url": "https://api.github.com/users/axic/orgs",
      "repos_url": "https://api.github.com/users/axic/repos",
      "events_url": "https://api.github.com/users/axic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/axic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2016-08-26T18:12:02Z",
    "updated_at": "2016-09-06T20:50:54Z",
    "author_association": "MEMBER",
    "body": "@chriseth: Well my current view on this, given all the other changes, is:\n- [x] there's no fallback defined by default and the contract throws if no matching signature is found (fixed in #954)\n- [x] if a fallback method is defined, it can be executed\n- [x] fallback must be defined in the ABI JSON (fixed in #664)\n- [x] fallback cannot have return values (fixed in #949)\n- [x] fallback cannot have the `constant` modifier (fixed in #963 / #1014 )\n- [x] libraries cannot have fallback functions (fixed in #954)\n- [x] a fallback method needs to have the `payable` modifier if they want to receive ether\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/242809890/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
