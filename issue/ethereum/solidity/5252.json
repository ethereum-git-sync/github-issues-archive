{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/5252",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/5252/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/5252/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/5252/events",
  "html_url": "https://github.com/ethereum/solidity/issues/5252",
  "id": 371214233,
  "node_id": "MDU6SXNzdWUzNzEyMTQyMzM=",
  "number": 5252,
  "title": "Add performance tests",
  "user": {
    "login": "chriseth",
    "id": 9073706,
    "node_id": "MDQ6VXNlcjkwNzM3MDY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/chriseth",
    "html_url": "https://github.com/chriseth",
    "followers_url": "https://api.github.com/users/chriseth/followers",
    "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
    "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
    "organizations_url": "https://api.github.com/users/chriseth/orgs",
    "repos_url": "https://api.github.com/users/chriseth/repos",
    "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
    "received_events_url": "https://api.github.com/users/chriseth/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1018738457,
      "node_id": "MDU6TGFiZWwxMDE4NzM4NDU3",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/testing%20:hammer:",
      "name": "testing :hammer:",
      "color": "ffc6db",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2018-10-17T18:39:04Z",
  "updated_at": "2022-11-17T11:29:33Z",
  "closed_at": "2022-11-17T11:29:33Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "The compiler should have tests that ensure that the compilation performance stays within reasonable bounds.",
  "closed_by": {
    "login": "ekpyron",
    "id": 1347491,
    "node_id": "MDQ6VXNlcjEzNDc0OTE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1347491?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ekpyron",
    "html_url": "https://github.com/ekpyron",
    "followers_url": "https://api.github.com/users/ekpyron/followers",
    "following_url": "https://api.github.com/users/ekpyron/following{/other_user}",
    "gists_url": "https://api.github.com/users/ekpyron/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ekpyron/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ekpyron/subscriptions",
    "organizations_url": "https://api.github.com/users/ekpyron/orgs",
    "repos_url": "https://api.github.com/users/ekpyron/repos",
    "events_url": "https://api.github.com/users/ekpyron/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ekpyron/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/5252/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/5252/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/549866193",
    "html_url": "https://github.com/ethereum/solidity/issues/5252#issuecomment-549866193",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/5252",
    "id": 549866193,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU0OTg2NjE5Mw==",
    "user": {
      "login": "leonardoalt",
      "id": 504195,
      "node_id": "MDQ6VXNlcjUwNDE5NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/504195?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/leonardoalt",
      "html_url": "https://github.com/leonardoalt",
      "followers_url": "https://api.github.com/users/leonardoalt/followers",
      "following_url": "https://api.github.com/users/leonardoalt/following{/other_user}",
      "gists_url": "https://api.github.com/users/leonardoalt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/leonardoalt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/leonardoalt/subscriptions",
      "organizations_url": "https://api.github.com/users/leonardoalt/orgs",
      "repos_url": "https://api.github.com/users/leonardoalt/repos",
      "events_url": "https://api.github.com/users/leonardoalt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/leonardoalt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-11-05T15:12:33Z",
    "updated_at": "2019-11-05T15:12:33Z",
    "author_association": "MEMBER",
    "body": "Should this go to the Backlog?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/549866193/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/549886516",
    "html_url": "https://github.com/ethereum/solidity/issues/5252#issuecomment-549886516",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/5252",
    "id": 549886516,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU0OTg4NjUxNg==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-11-05T16:00:01Z",
    "updated_at": "2019-11-05T16:00:01Z",
    "author_association": "MEMBER",
    "body": "At least for the optimizer, but probably also for other things. Is there a good way to write performance test so that they do not depend on the load or something like that?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/549886516/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/734514265",
    "html_url": "https://github.com/ethereum/solidity/issues/5252#issuecomment-734514265",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/5252",
    "id": 734514265,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczNDUxNDI2NQ==",
    "user": {
      "login": "axic",
      "id": 20340,
      "node_id": "MDQ6VXNlcjIwMzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/axic",
      "html_url": "https://github.com/axic",
      "followers_url": "https://api.github.com/users/axic/followers",
      "following_url": "https://api.github.com/users/axic/following{/other_user}",
      "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
      "organizations_url": "https://api.github.com/users/axic/orgs",
      "repos_url": "https://api.github.com/users/axic/repos",
      "events_url": "https://api.github.com/users/axic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/axic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-27T00:18:49Z",
    "updated_at": "2020-11-27T00:18:49Z",
    "author_association": "MEMBER",
    "body": "> The compiler should have tests that ensure that the compilation performance stays within reasonable bounds.\r\n\r\nAs we can see with the DataFlowAnalyzer (#10405), having such tests would be nice.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/734514265/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/797769752",
    "html_url": "https://github.com/ethereum/solidity/issues/5252#issuecomment-797769752",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/5252",
    "id": 797769752,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc5Nzc2OTc1Mg==",
    "user": {
      "login": "axic",
      "id": 20340,
      "node_id": "MDQ6VXNlcjIwMzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/axic",
      "html_url": "https://github.com/axic",
      "followers_url": "https://api.github.com/users/axic/followers",
      "following_url": "https://api.github.com/users/axic/following{/other_user}",
      "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
      "organizations_url": "https://api.github.com/users/axic/orgs",
      "repos_url": "https://api.github.com/users/axic/repos",
      "events_url": "https://api.github.com/users/axic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/axic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-12T21:37:14Z",
    "updated_at": "2021-03-12T21:37:14Z",
    "author_association": "MEMBER",
    "body": "Not sure how could we do this. It would be reasonably simple adding a \"compilationTime\" line to isoltest for syntax/semantic tests, but that is really prone to machine differences (thinking about developer's machine vs. ci).",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/797769752/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/799170690",
    "html_url": "https://github.com/ethereum/solidity/issues/5252#issuecomment-799170690",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/5252",
    "id": 799170690,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc5OTE3MDY5MA==",
    "user": {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-15T07:05:02Z",
    "updated_at": "2021-03-15T07:05:02Z",
    "author_association": "MEMBER",
    "body": "We might try running them only in CI and always on the machine of the same size so that results are always comparable? I.e. you could still run them locally but there would be a flag to enforce them and the flag would only be set in CI.\r\n\r\nCircleCI upgrading their machines might interfere with that though. And from what I have seen running time can vary a lot for the same job even when rerunning on the same commit. And we will have to \"recalibrate\" the expectations if we switch CI in the future.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/799170690/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/991384550",
    "html_url": "https://github.com/ethereum/solidity/issues/5252#issuecomment-991384550",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/5252",
    "id": 991384550,
    "node_id": "IC_kwDOAm_5kc47F1Pm",
    "user": {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-12-11T00:07:15Z",
    "updated_at": "2021-12-11T00:07:15Z",
    "author_association": "MEMBER",
    "body": "We could use external tests for this. Unfortunately, such tests would be affected by upstream changes though so we might be better off creating something like a performance report rather than strict tests that pass or fail.\r\n\r\nIn #12396 I'm adding `time` commands to existing external tests so we'll be able to see the timings in the CI logs. Given the number of runs, however, consistently reviewing all of them would be pretty tedious.\r\n\r\nWe could instead have a weekly run that gathers all compilation times, creates a short table and posts it to gitter. Maybe even with a diff to the previous version if we store old results somewhere (e.g. as a CI artifact).\r\n\r\nOr the report could be committed by CI to a small repo created just for that purpose. I was actually thinking about doing something similar but with IR produced by compiling external tests to be able to observe how the optimizer output changes. This would be especially useful on PRs in relation to `develop`.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/991384550/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
