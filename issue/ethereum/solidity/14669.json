{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/14669",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/14669/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/14669/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/14669/events",
  "html_url": "https://github.com/ethereum/solidity/issues/14669",
  "id": 1980680474,
  "node_id": "I_kwDOAm_5kc52Dska",
  "number": 14669,
  "title": "Make solidity internal libraries optionally installable",
  "user": {
    "login": "leo4048111",
    "id": 74029782,
    "node_id": "MDQ6VXNlcjc0MDI5Nzgy",
    "avatar_url": "https://avatars.githubusercontent.com/u/74029782?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/leo4048111",
    "html_url": "https://github.com/leo4048111",
    "followers_url": "https://api.github.com/users/leo4048111/followers",
    "following_url": "https://api.github.com/users/leo4048111/following{/other_user}",
    "gists_url": "https://api.github.com/users/leo4048111/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/leo4048111/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/leo4048111/subscriptions",
    "organizations_url": "https://api.github.com/users/leo4048111/orgs",
    "repos_url": "https://api.github.com/users/leo4048111/repos",
    "events_url": "https://api.github.com/users/leo4048111/events{/privacy}",
    "received_events_url": "https://api.github.com/users/leo4048111/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 437863668,
      "node_id": "MDU6TGFiZWw0Mzc4NjM2Njg=",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/build%20system%20:building_construction:",
      "name": "build system :building_construction:",
      "color": "1d76db",
      "default": false,
      "description": ""
    },
    {
      "id": 4438006499,
      "node_id": "LA_kwDOAm_5kc8AAAABCIaa4w",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/low%20effort",
      "name": "low effort",
      "color": "ffb1fa",
      "default": false,
      "description": "There is not much implementation work to be done. The task is very easy or tiny."
    },
    {
      "id": 4438157609,
      "node_id": "LA_kwDOAm_5kc8AAAABCIjpKQ",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/low%20impact",
      "name": "low impact",
      "color": "5d71ff",
      "default": false,
      "description": "Changes are not very noticeable or potential benefits are limited."
    },
    {
      "id": 4438492402,
      "node_id": "LA_kwDOAm_5kc8AAAABCI4E8g",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/nice%20to%20have",
      "name": "nice to have",
      "color": "ffdeb3",
      "default": false,
      "description": "We don’t see a good reason not to have it but won’t go out of our way to implement it."
    },
    {
      "id": 4726043980,
      "node_id": "LA_kwDOAm_5kc8AAAABGbG1TA",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/feature",
      "name": "feature",
      "color": "fbca02",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2023-11-07T06:59:03Z",
  "updated_at": "2023-11-30T01:22:06Z",
  "closed_at": "2023-11-30T01:22:05Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "<!--## Prerequisites\r\n\r\n- First, many thanks for taking part in the community. We really appreciate that.\r\n- We realize there is a lot of data requested here. We ask only that you do your best to provide as much information as possible so we can better help you.\r\n- Support questions are better asked in one of the following locations:\r\n    - [Solidity chat](https://gitter.im/ethereum/solidity)\r\n    - [Stack Overflow](https://ethereum.stackexchange.com/)\r\n- Ensure the issue isn't already reported (check `feature` and `language design` labels).\r\n- If you feel uncertain about your feature request, perhaps it's better to open a language design or feedback forum thread via the issue selector, or by going to the forum directly.\r\n    - [Solidity forum](https://forum.soliditylang.org/)\r\n\r\n*Delete the above section and the instructions in the sections below before submitting*\r\n-->\r\n\r\n## Abstract\r\n\r\nThe goal is to incorporate libsolidity and its associated static libraries into my personal project seamlessly. The current approach involves cloning the entire repository and compiling from source, subsequently linking the Solidity targets with my project's targets. This process is highly time-consuming and significantly hampers the compilation speed due to the need to validate the built Solidity targets during each build iteration.\r\nThus, I propose the idea of making the internal libraries of Solidity (e.g., libsolidity, libyul, etc.) available for optional installation to streamline this integration process.\r\n\r\n## Motivation\r\n\r\nWhile a manual workaround exists, which involves copying the build artifacts directly into global library and header search paths (like `/usr/local/lib`), automating this process with a make install command would greatly enhance efficiency and reliability.\r\n\r\n## Specification\r\n\r\nThe features I am advocating for inclusion are as follows:\r\n\r\n+ Addition of `install(TARGETS, ...)` within the CMakeLists of the Solidity internal libraries.\r\n+ Creation of CMake options that allow users to opt for the installation of internal libraries upon executing the `make install` command, for instance, through `eth_default_option(INSTALL_LIBS ON)`.\r\n+ Development of a FindSolidity.cmake script to enable the use of the `find_package` function in CMake.\r\n\r\n## Backwards Compatibility\r\n\r\n<!--\r\nAll language changes that introduce backwards incompatibilities must include a section describing these incompatibilities and their severity.\r\n\r\nPlease describe how you propose to deal with these incompatibilities.\r\n-->\r\n\r\n",
  "closed_by": {
    "login": "leo4048111",
    "id": 74029782,
    "node_id": "MDQ6VXNlcjc0MDI5Nzgy",
    "avatar_url": "https://avatars.githubusercontent.com/u/74029782?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/leo4048111",
    "html_url": "https://github.com/leo4048111",
    "followers_url": "https://api.github.com/users/leo4048111/followers",
    "following_url": "https://api.github.com/users/leo4048111/following{/other_user}",
    "gists_url": "https://api.github.com/users/leo4048111/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/leo4048111/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/leo4048111/subscriptions",
    "organizations_url": "https://api.github.com/users/leo4048111/orgs",
    "repos_url": "https://api.github.com/users/leo4048111/repos",
    "events_url": "https://api.github.com/users/leo4048111/events{/privacy}",
    "received_events_url": "https://api.github.com/users/leo4048111/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/14669/reactions",
    "total_count": 3,
    "+1": 2,
    "-1": 0,
    "laugh": 0,
    "hooray": 1,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/14669/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1798419122",
    "html_url": "https://github.com/ethereum/solidity/issues/14669#issuecomment-1798419122",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/14669",
    "id": 1798419122,
    "node_id": "IC_kwDOAm_5kc5rMbKy",
    "user": {
      "login": "ekpyron",
      "id": 1347491,
      "node_id": "MDQ6VXNlcjEzNDc0OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1347491?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ekpyron",
      "html_url": "https://github.com/ekpyron",
      "followers_url": "https://api.github.com/users/ekpyron/followers",
      "following_url": "https://api.github.com/users/ekpyron/following{/other_user}",
      "gists_url": "https://api.github.com/users/ekpyron/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ekpyron/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ekpyron/subscriptions",
      "organizations_url": "https://api.github.com/users/ekpyron/orgs",
      "repos_url": "https://api.github.com/users/ekpyron/repos",
      "events_url": "https://api.github.com/users/ekpyron/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ekpyron/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-11-07T12:37:38Z",
    "updated_at": "2023-11-07T12:37:38Z",
    "author_association": "MEMBER",
    "body": "The repository is indeed currently not particularly well-designed to be pulled in as a dependency (other than building it as part of your project e.g. as a submodule). Since this is not the main expected use of the compiler at this point (this may change in the future), we currently also don't really have the resources to properly support its use as a library across platforms.\r\n\r\nThat being said, I'd be open to accepting a PR that adds the required options to cmake, while making them **disabled by default** and adding a short **explanatory text** to them stating that this is currently \"expected to work, but unsupported\".",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1798419122/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1800900336",
    "html_url": "https://github.com/ethereum/solidity/issues/14669#issuecomment-1800900336",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/14669",
    "id": 1800900336,
    "node_id": "IC_kwDOAm_5kc5rV47w",
    "user": {
      "login": "leo4048111",
      "id": 74029782,
      "node_id": "MDQ6VXNlcjc0MDI5Nzgy",
      "avatar_url": "https://avatars.githubusercontent.com/u/74029782?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/leo4048111",
      "html_url": "https://github.com/leo4048111",
      "followers_url": "https://api.github.com/users/leo4048111/followers",
      "following_url": "https://api.github.com/users/leo4048111/following{/other_user}",
      "gists_url": "https://api.github.com/users/leo4048111/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/leo4048111/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/leo4048111/subscriptions",
      "organizations_url": "https://api.github.com/users/leo4048111/orgs",
      "repos_url": "https://api.github.com/users/leo4048111/repos",
      "events_url": "https://api.github.com/users/leo4048111/events{/privacy}",
      "received_events_url": "https://api.github.com/users/leo4048111/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-11-08T02:18:46Z",
    "updated_at": "2023-11-08T02:18:46Z",
    "author_association": "NONE",
    "body": "Great, thanks for replying. I will work out a detailed PR for revision as soon as possible.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1800900336/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1827888011",
    "html_url": "https://github.com/ethereum/solidity/issues/14669#issuecomment-1827888011",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/14669",
    "id": 1827888011,
    "node_id": "IC_kwDOAm_5kc5s81uL",
    "user": {
      "login": "ekpyron",
      "id": 1347491,
      "node_id": "MDQ6VXNlcjEzNDc0OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1347491?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ekpyron",
      "html_url": "https://github.com/ekpyron",
      "followers_url": "https://api.github.com/users/ekpyron/followers",
      "following_url": "https://api.github.com/users/ekpyron/following{/other_user}",
      "gists_url": "https://api.github.com/users/ekpyron/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ekpyron/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ekpyron/subscriptions",
      "organizations_url": "https://api.github.com/users/ekpyron/orgs",
      "repos_url": "https://api.github.com/users/ekpyron/repos",
      "events_url": "https://api.github.com/users/ekpyron/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ekpyron/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-11-27T13:59:59Z",
    "updated_at": "2023-11-27T13:59:59Z",
    "author_association": "MEMBER",
    "body": "For the record: since the internal headers have further dependencies that we cannot reasonably install ourselves, the only internal library that we *could* impose like this (header-wise) is ``libsolc/libsolc.h``.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1827888011/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1832955378",
    "html_url": "https://github.com/ethereum/solidity/issues/14669#issuecomment-1832955378",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/14669",
    "id": 1832955378,
    "node_id": "IC_kwDOAm_5kc5tQK3y",
    "user": {
      "login": "leo4048111",
      "id": 74029782,
      "node_id": "MDQ6VXNlcjc0MDI5Nzgy",
      "avatar_url": "https://avatars.githubusercontent.com/u/74029782?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/leo4048111",
      "html_url": "https://github.com/leo4048111",
      "followers_url": "https://api.github.com/users/leo4048111/followers",
      "following_url": "https://api.github.com/users/leo4048111/following{/other_user}",
      "gists_url": "https://api.github.com/users/leo4048111/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/leo4048111/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/leo4048111/subscriptions",
      "organizations_url": "https://api.github.com/users/leo4048111/orgs",
      "repos_url": "https://api.github.com/users/leo4048111/repos",
      "events_url": "https://api.github.com/users/leo4048111/events{/privacy}",
      "received_events_url": "https://api.github.com/users/leo4048111/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-11-30T01:22:05Z",
    "updated_at": "2023-11-30T01:22:05Z",
    "author_association": "NONE",
    "body": "Understood, thanks for the information, issue closed.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1832955378/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
