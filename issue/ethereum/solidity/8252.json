{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/8252",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/8252/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/8252/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/8252/events",
  "html_url": "https://github.com/ethereum/solidity/issues/8252",
  "id": 560692271,
  "node_id": "MDU6SXNzdWU1NjA2OTIyNzE=",
  "number": 8252,
  "title": "Add internal revert reasons to Yul codegen",
  "user": {
    "login": "leonardoalt",
    "id": 504195,
    "node_id": "MDQ6VXNlcjUwNDE5NQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/504195?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/leonardoalt",
    "html_url": "https://github.com/leonardoalt",
    "followers_url": "https://api.github.com/users/leonardoalt/followers",
    "following_url": "https://api.github.com/users/leonardoalt/following{/other_user}",
    "gists_url": "https://api.github.com/users/leonardoalt/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/leonardoalt/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/leonardoalt/subscriptions",
    "organizations_url": "https://api.github.com/users/leonardoalt/orgs",
    "repos_url": "https://api.github.com/users/leonardoalt/repos",
    "events_url": "https://api.github.com/users/leonardoalt/events{/privacy}",
    "received_events_url": "https://api.github.com/users/leonardoalt/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "axic",
    "id": 20340,
    "node_id": "MDQ6VXNlcjIwMzQw",
    "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/axic",
    "html_url": "https://github.com/axic",
    "followers_url": "https://api.github.com/users/axic/followers",
    "following_url": "https://api.github.com/users/axic/following{/other_user}",
    "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
    "organizations_url": "https://api.github.com/users/axic/orgs",
    "repos_url": "https://api.github.com/users/axic/repos",
    "events_url": "https://api.github.com/users/axic/events{/privacy}",
    "received_events_url": "https://api.github.com/users/axic/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "axic",
      "id": 20340,
      "node_id": "MDQ6VXNlcjIwMzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/axic",
      "html_url": "https://github.com/axic",
      "followers_url": "https://api.github.com/users/axic/followers",
      "following_url": "https://api.github.com/users/axic/following{/other_user}",
      "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
      "organizations_url": "https://api.github.com/users/axic/orgs",
      "repos_url": "https://api.github.com/users/axic/repos",
      "events_url": "https://api.github.com/users/axic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/axic/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 7,
  "created_at": "2020-02-05T23:35:29Z",
  "updated_at": "2021-01-14T19:00:12Z",
  "closed_at": "2021-01-14T19:00:12Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "Similar to https://github.com/ethereum/solidity/pull/8178\r\n\r\n- [ ] `codegen/YulUtilFunctions.cpp`\r\n- [ ] `codegen/ir/*`\r\n- [ ] tests\r\n- [ ] docs",
  "closed_by": {
    "login": "chriseth",
    "id": 9073706,
    "node_id": "MDQ6VXNlcjkwNzM3MDY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/chriseth",
    "html_url": "https://github.com/chriseth",
    "followers_url": "https://api.github.com/users/chriseth/followers",
    "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
    "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
    "organizations_url": "https://api.github.com/users/chriseth/orgs",
    "repos_url": "https://api.github.com/users/chriseth/repos",
    "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
    "received_events_url": "https://api.github.com/users/chriseth/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/8252/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/8252/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/603977359",
    "html_url": "https://github.com/ethereum/solidity/issues/8252#issuecomment-603977359",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/8252",
    "id": 603977359,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwMzk3NzM1OQ==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-25T17:28:09Z",
    "updated_at": "2020-03-25T17:28:09Z",
    "author_association": "MEMBER",
    "body": "Some of these should actually be invalid opcodes.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/603977359/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/734332617",
    "html_url": "https://github.com/ethereum/solidity/issues/8252#issuecomment-734332617",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/8252",
    "id": 734332617,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczNDMzMjYxNw==",
    "user": {
      "login": "axic",
      "id": 20340,
      "node_id": "MDQ6VXNlcjIwMzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/axic",
      "html_url": "https://github.com/axic",
      "followers_url": "https://api.github.com/users/axic/followers",
      "following_url": "https://api.github.com/users/axic/following{/other_user}",
      "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
      "organizations_url": "https://api.github.com/users/axic/orgs",
      "repos_url": "https://api.github.com/users/axic/repos",
      "events_url": "https://api.github.com/users/axic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/axic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-26T14:36:21Z",
    "updated_at": "2020-11-26T14:36:54Z",
    "author_association": "MEMBER",
    "body": "Current cases:\r\n\r\n```\r\nsemanticTests/revertStrings/unknown_sig_no_fallback.sol: FAIL\r\n  Contract:\r\n    contract A {\r\n    \treceive () external payable {}\r\n    }\r\n    // ====\r\n    // EVMVersion: >=byzantium\r\n    // revertStrings: debug\r\n\r\n  Running via Yul:\r\n  Expected result:\r\n  // (): hex\"00\" -> FAILUREhex\"08c379a0\", 0x20, 41, \"Unknown signature and no fallbac\", \"k defined\"\r\n\r\n  Obtained result:\r\n  // (): hex\"00\" -> FAILURE\r\n  Warning: The call to \"()\" returned \r\n```\r\n\r\n```\r\nsemanticTests/revertStrings/ether_non_payable_function.sol: FAIL\r\n  Contract:\r\n    contract C {\r\n    \tfunction f() public {}\r\n    }\r\n    // ====\r\n    // EVMVersion: >=byzantium\r\n    // revertStrings: debug\r\n\r\n  Running via Yul:\r\n  Expected result:\r\n  // f(), 1 ether -> FAILUREhex\"08c379a0\", 0x20, 34, \"Ether sent to non-payable functi\", \"on\"\r\n  // () -> FAILUREhex\"08c379a0\", 0x20, 53, \"Contract does not have fallback \", \"nor receive functions\"\r\n\r\n  Obtained result:\r\n  // f(), 1 ether -> FAILURE\r\n  Warning: The call to \"f()\" returned \r\n\r\n  // () -> FAILURE\r\n  Warning: The call to \"()\" returned \r\n```\r\n\r\n```\r\nsemanticTests/revertStrings/enum.sol: FAIL\r\n  Contract:\r\n    contract C {\r\n    \tenum E {X, Y}\r\n    \tfunction f(E[] calldata arr) external {\r\n    \t\tarr[1];\r\n    \t}\r\n    }\r\n    // ====\r\n    // ABIEncoderV1Only: true\r\n    // EVMVersion: >=byzantium\r\n    // revertStrings: debug\r\n\r\n  Running via Yul:\r\n  Expected result:\r\n  // f(uint8[]): 0x20, 2, 3, 3 -> FAILUREhex\"08c379a0\", 0x20, 17, \"Enum out of range\"\r\n\r\n  Obtained result:\r\n  // f(uint8[]): 0x20, 2, 3, 3 -> FAILURE\r\n  Warning: The call to \"f(uint8[])\" returned \r\n```\r\n\r\n```\r\nsemanticTests/revertStrings/called_contract_has_code.sol: FAIL\r\n  Contract:\r\n    contract C {\r\n    \tfunction f() external {}\r\n    \tfunction g() external {\r\n    \t\tC c = C(0x0000000000000000000000000000000000000000000000000000000000000000);\r\n    \t\tc.f();\r\n    \t}\r\n    }\r\n    // ====\r\n    // EVMVersion: >=byzantium\r\n    // revertStrings: debug\r\n\r\n  Running via Yul:\r\n  Expected result:\r\n  // g() -> FAILUREhex\"08c379a0\", 0x20, 37, \"Target contract does not contain\", \" code\"\r\n\r\n  Obtained result:\r\n  // g() -> FAILURE\r\n  Warning: The call to \"g()\" returned \r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/734332617/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/734972320",
    "html_url": "https://github.com/ethereum/solidity/issues/8252#issuecomment-734972320",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/8252",
    "id": 734972320,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczNDk3MjMyMA==",
    "user": {
      "login": "axic",
      "id": 20340,
      "node_id": "MDQ6VXNlcjIwMzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/axic",
      "html_url": "https://github.com/axic",
      "followers_url": "https://api.github.com/users/axic/followers",
      "following_url": "https://api.github.com/users/axic/following{/other_user}",
      "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
      "organizations_url": "https://api.github.com/users/axic/orgs",
      "repos_url": "https://api.github.com/users/axic/repos",
      "events_url": "https://api.github.com/users/axic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/axic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-27T20:12:22Z",
    "updated_at": "2020-11-27T20:28:25Z",
    "author_association": "MEMBER",
    "body": "Actually for these cases I listed above shouldn't we use panic codes instead?\r\n\r\nAnd if we do, we should change them in 0.8.0 for the old codegen too.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/734972320/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/735710761",
    "html_url": "https://github.com/ethereum/solidity/issues/8252#issuecomment-735710761",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/8252",
    "id": 735710761,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczNTcxMDc2MQ==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-30T10:52:08Z",
    "updated_at": "2020-11-30T10:52:08Z",
    "author_association": "MEMBER",
    "body": "https://github.com/ethereum/solidity/issues/8252#issuecomment-603977359",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/735710761/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/735740608",
    "html_url": "https://github.com/ethereum/solidity/issues/8252#issuecomment-735740608",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/8252",
    "id": 735740608,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczNTc0MDYwOA==",
    "user": {
      "login": "axic",
      "id": 20340,
      "node_id": "MDQ6VXNlcjIwMzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/axic",
      "html_url": "https://github.com/axic",
      "followers_url": "https://api.github.com/users/axic/followers",
      "following_url": "https://api.github.com/users/axic/following{/other_user}",
      "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
      "organizations_url": "https://api.github.com/users/axic/orgs",
      "repos_url": "https://api.github.com/users/axic/repos",
      "events_url": "https://api.github.com/users/axic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/axic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-30T11:54:32Z",
    "updated_at": "2020-11-30T11:54:32Z",
    "author_association": "MEMBER",
    "body": "I'm not sure what you mean. Do you prefer `invalid()` now over panic codes?\r\n\r\nBtw I added \"Target contract does not contain code\" and it is a one liner, so we could to the match-old-codegen if needed.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/735740608/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/736553165",
    "html_url": "https://github.com/ethereum/solidity/issues/8252#issuecomment-736553165",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/8252",
    "id": 736553165,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczNjU1MzE2NQ==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-12-01T13:31:59Z",
    "updated_at": "2020-12-01T13:31:59Z",
    "author_association": "MEMBER",
    "body": "Of course: old invalid -> new panic. But some of them should not be reverts.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/736553165/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/736553270",
    "html_url": "https://github.com/ethereum/solidity/issues/8252#issuecomment-736553270",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/8252",
    "id": 736553270,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczNjU1MzI3MA==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-12-01T13:32:11Z",
    "updated_at": "2020-12-01T13:32:11Z",
    "author_association": "MEMBER",
    "body": "Error reverts I mean.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/736553270/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
