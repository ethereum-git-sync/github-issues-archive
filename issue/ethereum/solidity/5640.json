{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/5640",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/5640/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/5640/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/5640/events",
  "html_url": "https://github.com/ethereum/solidity/issues/5640",
  "id": 390305027,
  "node_id": "MDU6SXNzdWUzOTAzMDUwMjc=",
  "number": 5640,
  "title": "[Tests] clean up commandline tests",
  "user": {
    "login": "chriseth",
    "id": 9073706,
    "node_id": "MDQ6VXNlcjkwNzM3MDY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/chriseth",
    "html_url": "https://github.com/chriseth",
    "followers_url": "https://api.github.com/users/chriseth/followers",
    "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
    "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
    "organizations_url": "https://api.github.com/users/chriseth/orgs",
    "repos_url": "https://api.github.com/users/chriseth/repos",
    "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
    "received_events_url": "https://api.github.com/users/chriseth/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 8,
  "created_at": "2018-12-12T16:27:53Z",
  "updated_at": "2019-01-07T14:29:34Z",
  "closed_at": "2019-01-07T14:29:34Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "The auxiliary files for the commandline tests should all be moved such that we have one directory per test, each containing multiple files. Also, the json and non-json tests could be combined to share the same form.",
  "closed_by": {
    "login": "chriseth",
    "id": 9073706,
    "node_id": "MDQ6VXNlcjkwNzM3MDY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/chriseth",
    "html_url": "https://github.com/chriseth",
    "followers_url": "https://api.github.com/users/chriseth/followers",
    "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
    "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
    "organizations_url": "https://api.github.com/users/chriseth/orgs",
    "repos_url": "https://api.github.com/users/chriseth/repos",
    "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
    "received_events_url": "https://api.github.com/users/chriseth/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/5640/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/5640/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/447604943",
    "html_url": "https://github.com/ethereum/solidity/issues/5640#issuecomment-447604943",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/5640",
    "id": 447604943,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0NzYwNDk0Mw==",
    "user": {
      "login": "androlo",
      "id": 2809499,
      "node_id": "MDQ6VXNlcjI4MDk0OTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2809499?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/androlo",
      "html_url": "https://github.com/androlo",
      "followers_url": "https://api.github.com/users/androlo/followers",
      "following_url": "https://api.github.com/users/androlo/following{/other_user}",
      "gists_url": "https://api.github.com/users/androlo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/androlo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/androlo/subscriptions",
      "organizations_url": "https://api.github.com/users/androlo/orgs",
      "repos_url": "https://api.github.com/users/androlo/repos",
      "events_url": "https://api.github.com/users/androlo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/androlo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-12-15T23:19:04Z",
    "updated_at": "2018-12-15T23:19:04Z",
    "author_association": "CONTRIBUTOR",
    "body": "up for grabs?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/447604943/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/447605299",
    "html_url": "https://github.com/ethereum/solidity/issues/5640#issuecomment-447605299",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/5640",
    "id": 447605299,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0NzYwNTI5OQ==",
    "user": {
      "login": "androlo",
      "id": 2809499,
      "node_id": "MDQ6VXNlcjI4MDk0OTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2809499?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/androlo",
      "html_url": "https://github.com/androlo",
      "followers_url": "https://api.github.com/users/androlo/followers",
      "following_url": "https://api.github.com/users/androlo/following{/other_user}",
      "gists_url": "https://api.github.com/users/androlo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/androlo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/androlo/subscriptions",
      "organizations_url": "https://api.github.com/users/androlo/orgs",
      "repos_url": "https://api.github.com/users/androlo/repos",
      "events_url": "https://api.github.com/users/androlo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/androlo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-12-15T23:26:58Z",
    "updated_at": "2018-12-15T23:26:58Z",
    "author_association": "CONTRIBUTOR",
    "body": "how do you feel about adding exit and stdout to the input file and turn into one single json file?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/447605299/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/447843414",
    "html_url": "https://github.com/ethereum/solidity/issues/5640#issuecomment-447843414",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/5640",
    "id": 447843414,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0Nzg0MzQxNA==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-12-17T13:21:57Z",
    "updated_at": "2018-12-17T13:21:57Z",
    "author_association": "MEMBER",
    "body": "@androlo yes, please feel free to work on it! The problem is that we have json tests now that required stdin to be redirected and \"regular\" tests that work on input files. Combining everything into a single file sounds like a good idea, but then it would be great to have a single script that could auto-fix the expectations.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/447843414/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/448044013",
    "html_url": "https://github.com/ethereum/solidity/issues/5640#issuecomment-448044013",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/5640",
    "id": 448044013,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0ODA0NDAxMw==",
    "user": {
      "login": "androlo",
      "id": 2809499,
      "node_id": "MDQ6VXNlcjI4MDk0OTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2809499?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/androlo",
      "html_url": "https://github.com/androlo",
      "followers_url": "https://api.github.com/users/androlo/followers",
      "following_url": "https://api.github.com/users/androlo/following{/other_user}",
      "gists_url": "https://api.github.com/users/androlo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/androlo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/androlo/subscriptions",
      "organizations_url": "https://api.github.com/users/androlo/orgs",
      "repos_url": "https://api.github.com/users/androlo/repos",
      "events_url": "https://api.github.com/users/androlo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/androlo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-12-17T23:54:58Z",
    "updated_at": "2018-12-17T23:54:58Z",
    "author_association": "CONTRIBUTOR",
    "body": "I have looked in the script. There are two relevant sections - \"general JSON tests\" and \"standard JSON tests\". I could port all of the tests to standard json format and move into folders.\r\n\r\nI guess including the json result in the input json file doesn't really make sense since it's just a bash script. i thought maybe it used a test runner that parsed the json files, and i wasn't even aware of the `--standard-json` flag.\r\n\r\njust to be sure: do you want them all on `--standard-json` format, or do you want .sol files as well so that each test has a regular and a standard json version?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/448044013/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/448059942",
    "html_url": "https://github.com/ethereum/solidity/issues/5640#issuecomment-448059942",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/5640",
    "id": 448059942,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0ODA1OTk0Mg==",
    "user": {
      "login": "androlo",
      "id": 2809499,
      "node_id": "MDQ6VXNlcjI4MDk0OTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2809499?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/androlo",
      "html_url": "https://github.com/androlo",
      "followers_url": "https://api.github.com/users/androlo/followers",
      "following_url": "https://api.github.com/users/androlo/following{/other_user}",
      "gists_url": "https://api.github.com/users/androlo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/androlo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/androlo/subscriptions",
      "organizations_url": "https://api.github.com/users/androlo/orgs",
      "repos_url": "https://api.github.com/users/androlo/repos",
      "events_url": "https://api.github.com/users/androlo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/androlo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-12-18T01:16:23Z",
    "updated_at": "2018-12-18T01:16:23Z",
    "author_association": "CONTRIBUTOR",
    "body": "Right now I have moved them into folders:\r\n\r\n```\r\n- cmdlineTests\r\n  - standard_json\r\n    - wrong_key_metadata\r\n      exit\r\n      input.json\r\n      output.json\r\n    - ...\r\n  - regular_sol\r\n    - data_storage\r\n      args\r\n      contracts.json\r\n      output\r\n    - ...\r\n```\r\nAll json tests has `exit`, `input.json`, and `output.json`.\r\n\r\nAll regular tests has a contract file named `contracts.json`, and `args`, `output`, `exit`, `err` files depending on need (what was already there).\r\n\r\nThe script has been updated to work with folders instead of files.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/448059942/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/448070396",
    "html_url": "https://github.com/ethereum/solidity/issues/5640#issuecomment-448070396",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/5640",
    "id": 448070396,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0ODA3MDM5Ng==",
    "user": {
      "login": "androlo",
      "id": 2809499,
      "node_id": "MDQ6VXNlcjI4MDk0OTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2809499?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/androlo",
      "html_url": "https://github.com/androlo",
      "followers_url": "https://api.github.com/users/androlo/followers",
      "following_url": "https://api.github.com/users/androlo/following{/other_user}",
      "gists_url": "https://api.github.com/users/androlo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/androlo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/androlo/subscriptions",
      "organizations_url": "https://api.github.com/users/androlo/orgs",
      "repos_url": "https://api.github.com/users/androlo/repos",
      "events_url": "https://api.github.com/users/androlo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/androlo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-12-18T02:10:23Z",
    "updated_at": "2018-12-18T02:10:23Z",
    "author_association": "CONTRIBUTOR",
    "body": "Also is it ok that I move functions to the top, and put the simpler tests (bad input, stdin, etc.) before the bigger ones that compiles code. Since it exits on failure.\r\n\r\nI already did this...",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/448070396/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/448176574",
    "html_url": "https://github.com/ethereum/solidity/issues/5640#issuecomment-448176574",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/5640",
    "id": 448176574,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0ODE3NjU3NA==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-12-18T10:41:28Z",
    "updated_at": "2018-12-18T10:41:28Z",
    "author_association": "MEMBER",
    "body": "Good work! I think it would make it easier to add new tests by not requiring standard-json format, because there you need to escape input code and so on, and it is much harder to read.\r\n\r\nDo you have each test in its own directory?\r\n\r\nCan you make a pull request?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/448176574/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/448343095",
    "html_url": "https://github.com/ethereum/solidity/issues/5640#issuecomment-448343095",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/5640",
    "id": 448343095,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0ODM0MzA5NQ==",
    "user": {
      "login": "androlo",
      "id": 2809499,
      "node_id": "MDQ6VXNlcjI4MDk0OTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2809499?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/androlo",
      "html_url": "https://github.com/androlo",
      "followers_url": "https://api.github.com/users/androlo/followers",
      "following_url": "https://api.github.com/users/androlo/following{/other_user}",
      "gists_url": "https://api.github.com/users/androlo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/androlo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/androlo/subscriptions",
      "organizations_url": "https://api.github.com/users/androlo/orgs",
      "repos_url": "https://api.github.com/users/androlo/repos",
      "events_url": "https://api.github.com/users/androlo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/androlo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-12-18T19:36:39Z",
    "updated_at": "2018-12-18T19:36:39Z",
    "author_association": "CONTRIBUTOR",
    "body": "yes each test is in its own folder, and i can make pr. just wanted to make sure i was on the right track. i'll do it tomorrow.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/448343095/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
