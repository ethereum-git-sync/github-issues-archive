{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/7514",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/7514/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/7514/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/7514/events",
  "html_url": "https://github.com/ethereum/solidity/issues/7514",
  "id": 503200836,
  "node_id": "MDU6SXNzdWU1MDMyMDA4MzY=",
  "number": 7514,
  "title": "Build soljson.js with rule list/browser stack height fix for old compiler versions.",
  "user": {
    "login": "ekpyron",
    "id": 1347491,
    "node_id": "MDQ6VXNlcjEzNDc0OTE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1347491?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ekpyron",
    "html_url": "https://github.com/ekpyron",
    "followers_url": "https://api.github.com/users/ekpyron/followers",
    "following_url": "https://api.github.com/users/ekpyron/following{/other_user}",
    "gists_url": "https://api.github.com/users/ekpyron/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ekpyron/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ekpyron/subscriptions",
    "organizations_url": "https://api.github.com/users/ekpyron/orgs",
    "repos_url": "https://api.github.com/users/ekpyron/repos",
    "events_url": "https://api.github.com/users/ekpyron/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ekpyron/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 2685863294,
      "node_id": "MDU6TGFiZWwyNjg1ODYzMjk0",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/solc-bin",
      "name": "solc-bin",
      "color": "3B8CF5",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2019-10-07T02:17:16Z",
  "updated_at": "2021-01-25T12:13:51Z",
  "closed_at": "2020-05-07T18:57:54Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "It would be good to apply the rule list split to past compiler versions to be able to verify bytecode generated by old compiler versions in the browser. We considered doing that before, when remix asked for it (see https://github.com/ethereum/remix-ide/issues/1591), but only did one 0.4 release instead, but apparently there's more demand for this.\r\n\r\nUnfortunately this will involve some manual effort - we need to make sure that the rule list stays the same, so the split needs to be done or at least verified for each compiler version (or at the very least between versions in which the rule list changes). Also it's unclear how far we want to go back - the entire 0.4 series would be a good start I guess.\r\n\r\nWe could consider to run bytecode comparison with the historic releases to have at least some assurance that there are no random behaviour changes between the builds.\r\n\r\nWe have to try to reconstruct which emscripten version was used to compile the respective version and should reuse it, but the respective tag should contain an appropriate CI script, so that part should be easy - best case scenario is that we just need to open a PR for the respective tag and can grab soljson.js as CI artifact, but we need to make sure to end up with a \"release\" build.\r\n\r\nWe also need to decide how and where to publish the rebuilds -maybe a separate branch in https://github.com/ethereum/solc-bin?",
  "closed_by": {
    "login": "ekpyron",
    "id": 1347491,
    "node_id": "MDQ6VXNlcjEzNDc0OTE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1347491?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ekpyron",
    "html_url": "https://github.com/ekpyron",
    "followers_url": "https://api.github.com/users/ekpyron/followers",
    "following_url": "https://api.github.com/users/ekpyron/following{/other_user}",
    "gists_url": "https://api.github.com/users/ekpyron/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ekpyron/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ekpyron/subscriptions",
    "organizations_url": "https://api.github.com/users/ekpyron/orgs",
    "repos_url": "https://api.github.com/users/ekpyron/repos",
    "events_url": "https://api.github.com/users/ekpyron/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ekpyron/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/7514/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/7514/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/549838418",
    "html_url": "https://github.com/ethereum/solidity/issues/7514#issuecomment-549838418",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/7514",
    "id": 549838418,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU0OTgzODQxOA==",
    "user": {
      "login": "axic",
      "id": 20340,
      "node_id": "MDQ6VXNlcjIwMzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/axic",
      "html_url": "https://github.com/axic",
      "followers_url": "https://api.github.com/users/axic/followers",
      "following_url": "https://api.github.com/users/axic/following{/other_user}",
      "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
      "organizations_url": "https://api.github.com/users/axic/orgs",
      "repos_url": "https://api.github.com/users/axic/repos",
      "events_url": "https://api.github.com/users/axic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/axic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-11-05T14:09:37Z",
    "updated_at": "2019-11-05T14:09:37Z",
    "author_association": "MEMBER",
    "body": "Do you mean to rebuild exact old releases or just to make a new release in the 0.3 and 0.4 branches?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/549838418/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/549884547",
    "html_url": "https://github.com/ethereum/solidity/issues/7514#issuecomment-549884547",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/7514",
    "id": 549884547,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU0OTg4NDU0Nw==",
    "user": {
      "login": "ekpyron",
      "id": 1347491,
      "node_id": "MDQ6VXNlcjEzNDc0OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1347491?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ekpyron",
      "html_url": "https://github.com/ekpyron",
      "followers_url": "https://api.github.com/users/ekpyron/followers",
      "following_url": "https://api.github.com/users/ekpyron/following{/other_user}",
      "gists_url": "https://api.github.com/users/ekpyron/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ekpyron/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ekpyron/subscriptions",
      "organizations_url": "https://api.github.com/users/ekpyron/orgs",
      "repos_url": "https://api.github.com/users/ekpyron/repos",
      "events_url": "https://api.github.com/users/ekpyron/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ekpyron/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-11-05T15:55:32Z",
    "updated_at": "2019-11-05T15:55:32Z",
    "author_association": "MEMBER",
    "body": "The idea is to rebuild all old releases exactly as they are *except with the rule list split*, so that their emscripten build will work in newer browsers. Only one 0.3/0.4 release won't really help (and we already did one for 0.4) - we need the each exact version to get exact bytecode matches for all contracts out there.\r\n\r\nWe haven't exactly decided whether we should keep the commit hash the same or not - I think the tendency was to have new commit hashes for the patched releases and let the tooling deal with mismatching metadata hashes. Not sure where these commits would live (i.e. what branch, etc. - e.g. one branch for each past release would be crazy), though, yet.\r\n\r\nBut yeah - rebuilding won't be enough, we need to patch the rule list separately for every single release (hence it's probably cleaner to use a new commit hash for each patched release).\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/549884547/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/550071095",
    "html_url": "https://github.com/ethereum/solidity/issues/7514#issuecomment-550071095",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/7514",
    "id": 550071095,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1MDA3MTA5NQ==",
    "user": {
      "login": "axic",
      "id": 20340,
      "node_id": "MDQ6VXNlcjIwMzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/axic",
      "html_url": "https://github.com/axic",
      "followers_url": "https://api.github.com/users/axic/followers",
      "following_url": "https://api.github.com/users/axic/following{/other_user}",
      "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
      "organizations_url": "https://api.github.com/users/axic/orgs",
      "repos_url": "https://api.github.com/users/axic/repos",
      "events_url": "https://api.github.com/users/axic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/axic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-11-05T23:30:50Z",
    "updated_at": "2019-11-05T23:30:50Z",
    "author_association": "MEMBER",
    "body": "> what branch, etc. - e.g. one branch for each past release would be crazy\r\n\r\nYou don't need to keep the branch if you've tagged them. Tags ensure the references are kept.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/550071095/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/550232447",
    "html_url": "https://github.com/ethereum/solidity/issues/7514#issuecomment-550232447",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/7514",
    "id": 550232447,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1MDIzMjQ0Nw==",
    "user": {
      "login": "ekpyron",
      "id": 1347491,
      "node_id": "MDQ6VXNlcjEzNDc0OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1347491?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ekpyron",
      "html_url": "https://github.com/ekpyron",
      "followers_url": "https://api.github.com/users/ekpyron/followers",
      "following_url": "https://api.github.com/users/ekpyron/following{/other_user}",
      "gists_url": "https://api.github.com/users/ekpyron/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ekpyron/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ekpyron/subscriptions",
      "organizations_url": "https://api.github.com/users/ekpyron/orgs",
      "repos_url": "https://api.github.com/users/ekpyron/repos",
      "events_url": "https://api.github.com/users/ekpyron/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ekpyron/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-11-06T09:50:09Z",
    "updated_at": "2019-11-06T09:50:09Z",
    "author_association": "MEMBER",
    "body": "> > what branch, etc. - e.g. one branch for each past release would be crazy\r\n> \r\n> You don't need to keep the branch if you've tagged them. Tags ensure the references are kept.\r\n\r\nAh nice, yeah, makes sense. So we'd mainly need a naming scheme for the tags - I'd suggest ``v0.4.x-browserfix`` (but I don't really mind the exact naming).",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/550232447/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/625437374",
    "html_url": "https://github.com/ethereum/solidity/issues/7514#issuecomment-625437374",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/7514",
    "id": 625437374,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyNTQzNzM3NA==",
    "user": {
      "login": "ekpyron",
      "id": 1347491,
      "node_id": "MDQ6VXNlcjEzNDc0OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1347491?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ekpyron",
      "html_url": "https://github.com/ekpyron",
      "followers_url": "https://api.github.com/users/ekpyron/followers",
      "following_url": "https://api.github.com/users/ekpyron/following{/other_user}",
      "gists_url": "https://api.github.com/users/ekpyron/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ekpyron/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ekpyron/subscriptions",
      "organizations_url": "https://api.github.com/users/ekpyron/orgs",
      "repos_url": "https://api.github.com/users/ekpyron/repos",
      "events_url": "https://api.github.com/users/ekpyron/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ekpyron/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-05-07T18:57:54Z",
    "updated_at": "2020-05-07T18:58:17Z",
    "author_association": "MEMBER",
    "body": "Done by now. (resp. replaced by wasm builds)",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/625437374/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
