{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/4024",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/4024/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/4024/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/4024/events",
  "html_url": "https://github.com/ethereum/solidity/issues/4024",
  "id": 318910281,
  "node_id": "MDU6SXNzdWUzMTg5MTAyODE=",
  "number": 4024,
  "title": "Compile time evaluation of constant hashes",
  "user": {
    "login": "benjaminion",
    "id": 20796281,
    "node_id": "MDQ6VXNlcjIwNzk2Mjgx",
    "avatar_url": "https://avatars.githubusercontent.com/u/20796281?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/benjaminion",
    "html_url": "https://github.com/benjaminion",
    "followers_url": "https://api.github.com/users/benjaminion/followers",
    "following_url": "https://api.github.com/users/benjaminion/following{/other_user}",
    "gists_url": "https://api.github.com/users/benjaminion/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/benjaminion/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/benjaminion/subscriptions",
    "organizations_url": "https://api.github.com/users/benjaminion/orgs",
    "repos_url": "https://api.github.com/users/benjaminion/repos",
    "events_url": "https://api.github.com/users/benjaminion/events{/privacy}",
    "received_events_url": "https://api.github.com/users/benjaminion/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "chriseth",
    "id": 9073706,
    "node_id": "MDQ6VXNlcjkwNzM3MDY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/chriseth",
    "html_url": "https://github.com/chriseth",
    "followers_url": "https://api.github.com/users/chriseth/followers",
    "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
    "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
    "organizations_url": "https://api.github.com/users/chriseth/orgs",
    "repos_url": "https://api.github.com/users/chriseth/repos",
    "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
    "received_events_url": "https://api.github.com/users/chriseth/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 16,
  "created_at": "2018-04-30T14:28:57Z",
  "updated_at": "2020-08-28T19:44:28Z",
  "closed_at": "2020-07-08T16:42:39Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "There's room for improvement in optimising compile-time evaluation of constant hashes when optimisation is enabled.\r\n\r\n```\r\ncontract Hash{\r\n\r\n    bytes32 constant HASH1 = keccak256('');\r\n    bytes32 constant HASH2 = keccak256('12345678901234567890123456789012');\r\n    bytes32 constant HASH3 = keccak256(uint256(0));\r\n    \r\n    function foo1() public pure returns (bytes32) {\r\n        return HASH1;\r\n    }\r\n\r\n    function foo2() public pure returns (bytes32) {\r\n        return HASH2;\r\n    }\r\n\r\n    function foo3() public pure returns (bytes32) {\r\n        return HASH3;\r\n    }\r\n}\r\n```\r\n\r\nWith optimisation off, none of the constant hashes is evaluated at compile-time. In each case the `keccak256` operation is being done at run time. This is somewhat expected.\r\n\r\nWith optimisation enabled, only the first (`keccak256('')`) is evaluated at compile time. The remainder (`keccak256('12345678901234567890123456789012')`, `keccak256(uint256(0))`) are evaluated at run time, as if optimisation were off. This is unexpected. Expected behaviour would be to evaluate all constant hashes at compile time.\r\n\r\nTest environment: Remix, Solidity version 0.4.23+commit.124ca40d\r\nConclusions reached by inspecting the generated byte code. It's quite obvious if the hash is present or not.\r\n",
  "closed_by": {
    "login": "chriseth",
    "id": 9073706,
    "node_id": "MDQ6VXNlcjkwNzM3MDY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/chriseth",
    "html_url": "https://github.com/chriseth",
    "followers_url": "https://api.github.com/users/chriseth/followers",
    "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
    "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
    "organizations_url": "https://api.github.com/users/chriseth/orgs",
    "repos_url": "https://api.github.com/users/chriseth/repos",
    "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
    "received_events_url": "https://api.github.com/users/chriseth/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/4024/reactions",
    "total_count": 3,
    "+1": 3,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/4024/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/385423878",
    "html_url": "https://github.com/ethereum/solidity/issues/4024#issuecomment-385423878",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/4024",
    "id": 385423878,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4NTQyMzg3OA==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-30T14:56:03Z",
    "updated_at": "2018-04-30T14:56:03Z",
    "author_association": "MEMBER",
    "body": "This has to do with the trade-off between code deployment costs and runtime costs. There is a setting in the optimizer called \"runs\" where you can adjust it.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/385423878/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/385424356",
    "html_url": "https://github.com/ethereum/solidity/issues/4024#issuecomment-385424356",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/4024",
    "id": 385424356,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4NTQyNDM1Ng==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-30T14:57:27Z",
    "updated_at": "2018-04-30T14:57:27Z",
    "author_association": "MEMBER",
    "body": "Note that storing a single byte in code costs at least 200+68 gas.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/385424356/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/385424853",
    "html_url": "https://github.com/ethereum/solidity/issues/4024#issuecomment-385424853",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/4024",
    "id": 385424853,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4NTQyNDg1Mw==",
    "user": {
      "login": "benjaminion",
      "id": 20796281,
      "node_id": "MDQ6VXNlcjIwNzk2Mjgx",
      "avatar_url": "https://avatars.githubusercontent.com/u/20796281?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/benjaminion",
      "html_url": "https://github.com/benjaminion",
      "followers_url": "https://api.github.com/users/benjaminion/followers",
      "following_url": "https://api.github.com/users/benjaminion/following{/other_user}",
      "gists_url": "https://api.github.com/users/benjaminion/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/benjaminion/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/benjaminion/subscriptions",
      "organizations_url": "https://api.github.com/users/benjaminion/orgs",
      "repos_url": "https://api.github.com/users/benjaminion/repos",
      "events_url": "https://api.github.com/users/benjaminion/events{/privacy}",
      "received_events_url": "https://api.github.com/users/benjaminion/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-30T14:58:56Z",
    "updated_at": "2018-04-30T15:01:49Z",
    "author_association": "CONTRIBUTOR",
    "body": "I understand this, which is why the second example (`keccak256('12345678901234567890123456789012')`) is constructed so that it is *always* cheaper to embed the hash in the deployment code, irrespective of the runs parameter.\r\n\r\nThis also does not explain why `keccak256('')` is compile-time executed when optimised, but the others are not. Your explanation would suggest the opposite should be true.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/385424853/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/385426806",
    "html_url": "https://github.com/ethereum/solidity/issues/4024#issuecomment-385426806",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/4024",
    "id": 385426806,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4NTQyNjgwNg==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-30T15:04:54Z",
    "updated_at": "2018-04-30T15:04:54Z",
    "author_association": "MEMBER",
    "body": "OK, perhaps this is not at all related to the compiler finding the most efficient way, but rather to the fact that the value of `keccak256('')` does not depend on the state of memory when calculating the hash.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/385426806/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/385428453",
    "html_url": "https://github.com/ethereum/solidity/issues/4024#issuecomment-385428453",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/4024",
    "id": 385428453,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4NTQyODQ1Mw==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-30T15:10:19Z",
    "updated_at": "2018-04-30T15:10:19Z",
    "author_association": "MEMBER",
    "body": "A place to start would be to check if the check just after `// If all arguments are known constants, compute the Keccak-256 here` in KnownState.cpp turns out to be true for non-empty keccak256 calls.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/385428453/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/385626602",
    "html_url": "https://github.com/ethereum/solidity/issues/4024#issuecomment-385626602",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/4024",
    "id": 385626602,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4NTYyNjYwMg==",
    "user": {
      "login": "benjaminion",
      "id": 20796281,
      "node_id": "MDQ6VXNlcjIwNzk2Mjgx",
      "avatar_url": "https://avatars.githubusercontent.com/u/20796281?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/benjaminion",
      "html_url": "https://github.com/benjaminion",
      "followers_url": "https://api.github.com/users/benjaminion/followers",
      "following_url": "https://api.github.com/users/benjaminion/following{/other_user}",
      "gists_url": "https://api.github.com/users/benjaminion/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/benjaminion/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/benjaminion/subscriptions",
      "organizations_url": "https://api.github.com/users/benjaminion/orgs",
      "repos_url": "https://api.github.com/users/benjaminion/repos",
      "events_url": "https://api.github.com/users/benjaminion/events{/privacy}",
      "received_events_url": "https://api.github.com/users/benjaminion/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-01T08:43:09Z",
    "updated_at": "2018-05-01T08:43:09Z",
    "author_association": "CONTRIBUTOR",
    "body": "Considering the two test cases, `keccak256('12345678901234567890123456789012')` and `keccak256(uint256(0))`.\r\n\r\n> A place to start would be to check if the check just after `// If all arguments are known constants, compute the Keccak-256 here` in KnownState.cpp turns out to be true for non-empty keccak256 calls.\r\n\r\nIn both these cases, execution does not reach that line (although it does and is correctly handled for the empty hash).\r\n\r\nIn both of the test cases, `applyKeccak256()` is called three times (which is a surprise - it is called only once for the empty hash).\r\n\r\nEach time, `applyKeccak256()` exits at the check `if (!l || *l > 128)` since `!l` is true at this point. That is, `m_expressionClasses->knownConstant(_length)` is (incorrectly?) returning a `false` value each time for these hash operands.\r\n\r\nThis is as far as my ability to debug C++ can take me...\r\n\r\nSetup:\r\n```\r\n> solc/solc --version\r\nsolc, the solidity compiler commandline interface\r\nVersion: 0.4.24-develop.2018.5.1+commit.5cce2e55.mod.Linux.g++\r\n\r\n> solc/solc --optimize const-keccak.sol\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/385626602/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/386015387",
    "html_url": "https://github.com/ethereum/solidity/issues/4024#issuecomment-386015387",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/4024",
    "id": 386015387,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4NjAxNTM4Nw==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-02T15:19:34Z",
    "updated_at": "2018-05-02T15:19:34Z",
    "author_association": "MEMBER",
    "body": "OK, I will take a look later this week!",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/386015387/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/458779983",
    "html_url": "https://github.com/ethereum/solidity/issues/4024#issuecomment-458779983",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/4024",
    "id": 458779983,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1ODc3OTk4Mw==",
    "user": {
      "login": "axic",
      "id": 20340,
      "node_id": "MDQ6VXNlcjIwMzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/axic",
      "html_url": "https://github.com/axic",
      "followers_url": "https://api.github.com/users/axic/followers",
      "following_url": "https://api.github.com/users/axic/following{/other_user}",
      "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
      "organizations_url": "https://api.github.com/users/axic/orgs",
      "repos_url": "https://api.github.com/users/axic/repos",
      "events_url": "https://api.github.com/users/axic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/axic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-30T01:51:03Z",
    "updated_at": "2019-01-30T01:51:03Z",
    "author_association": "MEMBER",
    "body": "@chriseth have you checked this by any chance?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/458779983/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/458867832",
    "html_url": "https://github.com/ethereum/solidity/issues/4024#issuecomment-458867832",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/4024",
    "id": 458867832,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1ODg2NzgzMg==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-30T09:10:34Z",
    "updated_at": "2019-01-30T09:10:34Z",
    "author_association": "MEMBER",
    "body": "No, sorry.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/458867832/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/579903133",
    "html_url": "https://github.com/ethereum/solidity/issues/4024#issuecomment-579903133",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/4024",
    "id": 579903133,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3OTkwMzEzMw==",
    "user": {
      "login": "nventuro",
      "id": 2530770,
      "node_id": "MDQ6VXNlcjI1MzA3NzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2530770?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nventuro",
      "html_url": "https://github.com/nventuro",
      "followers_url": "https://api.github.com/users/nventuro/followers",
      "following_url": "https://api.github.com/users/nventuro/following{/other_user}",
      "gists_url": "https://api.github.com/users/nventuro/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nventuro/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nventuro/subscriptions",
      "organizations_url": "https://api.github.com/users/nventuro/orgs",
      "repos_url": "https://api.github.com/users/nventuro/repos",
      "events_url": "https://api.github.com/users/nventuro/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nventuro/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-01-29T18:48:38Z",
    "updated_at": "2020-01-29T18:48:38Z",
    "author_association": "CONTRIBUTOR",
    "body": "Are there plans to improve this in the near future? From @chriseth's description above it sounds like the tools to achieve this are already present, just not being used in all scenarios.\r\n\r\nI find myself recommending people to use hard-coded `bytes32` constants to save gas, instead of having the `keccak256` call in the source code. This is far from ideal: computing said hash outside of Solidity is annoying, and having a 66-character constant is error-prone, specially in situations where a value _must_ be the result of a hash for security reasons. This also comes in while auditing, since readers must verify manually that the constant matches the expected value.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/579903133/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/579986618",
    "html_url": "https://github.com/ethereum/solidity/issues/4024#issuecomment-579986618",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/4024",
    "id": 579986618,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3OTk4NjYxOA==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-01-29T22:15:57Z",
    "updated_at": "2020-01-29T22:15:57Z",
    "author_association": "MEMBER",
    "body": "The problem is that 1) it is dangerous to re-implement this outside of the EVM and 2) it is not clear how we should handle memory objects at compile-time.\r\n\r\nConcerning hashes: The optimizer should actually remove the keccak256 opcode. It might not do it because it is cheaper depending on the \"runs\" setting (a 32 byte constant is rather expensive to deploy).",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/579986618/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/645376127",
    "html_url": "https://github.com/ethereum/solidity/issues/4024#issuecomment-645376127",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/4024",
    "id": 645376127,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0NTM3NjEyNw==",
    "user": {
      "login": "axic",
      "id": 20340,
      "node_id": "MDQ6VXNlcjIwMzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/axic",
      "html_url": "https://github.com/axic",
      "followers_url": "https://api.github.com/users/axic/followers",
      "following_url": "https://api.github.com/users/axic/following{/other_user}",
      "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
      "organizations_url": "https://api.github.com/users/axic/orgs",
      "repos_url": "https://api.github.com/users/axic/repos",
      "events_url": "https://api.github.com/users/axic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/axic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-17T13:32:49Z",
    "updated_at": "2020-06-17T13:32:49Z",
    "author_association": "MEMBER",
    "body": "Could we make one exception and evaluate `keccak256(string)`? That is used in quite a few contracts.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/645376127/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 1,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/645377855",
    "html_url": "https://github.com/ethereum/solidity/issues/4024#issuecomment-645377855",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/4024",
    "id": 645377855,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0NTM3Nzg1NQ==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-17T13:35:58Z",
    "updated_at": "2020-06-17T13:35:58Z",
    "author_association": "MEMBER",
    "body": "This could be a good exception. I would propose to put the value in the annotation object of the constant as opposed to fully supporting this in the type system as we do for constants.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/645377855/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/680745451",
    "html_url": "https://github.com/ethereum/solidity/issues/4024#issuecomment-680745451",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/4024",
    "id": 680745451,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4MDc0NTQ1MQ==",
    "user": {
      "login": "dmihal",
      "id": 1661138,
      "node_id": "MDQ6VXNlcjE2NjExMzg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1661138?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dmihal",
      "html_url": "https://github.com/dmihal",
      "followers_url": "https://api.github.com/users/dmihal/followers",
      "following_url": "https://api.github.com/users/dmihal/following{/other_user}",
      "gists_url": "https://api.github.com/users/dmihal/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dmihal/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dmihal/subscriptions",
      "organizations_url": "https://api.github.com/users/dmihal/orgs",
      "repos_url": "https://api.github.com/users/dmihal/repos",
      "events_url": "https://api.github.com/users/dmihal/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dmihal/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-26T08:43:24Z",
    "updated_at": "2020-08-26T08:43:37Z",
    "author_association": "NONE",
    "body": "Do creationCode hashes get compile-time-hashed as well? Such as this:\r\n\r\n    bytes32 public constant CONTRACT_BYTECODE_HASH = keccak256(type(MyContract).creationCode);\r\n\r\nThese hashes are useful for optimizing Create2 calculation",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/680745451/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/681025288",
    "html_url": "https://github.com/ethereum/solidity/issues/4024#issuecomment-681025288",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/4024",
    "id": 681025288,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4MTAyNTI4OA==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-26T17:40:57Z",
    "updated_at": "2020-08-26T17:40:57Z",
    "author_association": "MEMBER",
    "body": "I don't think this is optimized. There is a proposal to add a function to `type(MyContract)` instead to directly retrieve the create2 address given a salt.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/681025288/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/683113664",
    "html_url": "https://github.com/ethereum/solidity/issues/4024#issuecomment-683113664",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/4024",
    "id": 683113664,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4MzExMzY2NA==",
    "user": {
      "login": "axic",
      "id": 20340,
      "node_id": "MDQ6VXNlcjIwMzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/axic",
      "html_url": "https://github.com/axic",
      "followers_url": "https://api.github.com/users/axic/followers",
      "following_url": "https://api.github.com/users/axic/following{/other_user}",
      "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
      "organizations_url": "https://api.github.com/users/axic/orgs",
      "repos_url": "https://api.github.com/users/axic/repos",
      "events_url": "https://api.github.com/users/axic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/axic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-28T19:44:28Z",
    "updated_at": "2020-08-28T19:44:28Z",
    "author_association": "MEMBER",
    "body": "> There is a proposal to add a function to type(MyContract) instead to directly retrieve the create2 address given a salt.\r\n\r\nIt is covered in #8798.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/683113664/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
