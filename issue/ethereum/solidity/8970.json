{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/8970",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/8970/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/8970/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/8970/events",
  "html_url": "https://github.com/ethereum/solidity/issues/8970",
  "id": 620282384,
  "node_id": "MDU6SXNzdWU2MjAyODIzODQ=",
  "number": 8970,
  "title": "Allow inheriting implementation for an abstract function",
  "user": {
    "login": "niklasb",
    "id": 94819,
    "node_id": "MDQ6VXNlcjk0ODE5",
    "avatar_url": "https://avatars.githubusercontent.com/u/94819?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/niklasb",
    "html_url": "https://github.com/niklasb",
    "followers_url": "https://api.github.com/users/niklasb/followers",
    "following_url": "https://api.github.com/users/niklasb/following{/other_user}",
    "gists_url": "https://api.github.com/users/niklasb/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/niklasb/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/niklasb/subscriptions",
    "organizations_url": "https://api.github.com/users/niklasb/orgs",
    "repos_url": "https://api.github.com/users/niklasb/repos",
    "events_url": "https://api.github.com/users/niklasb/events{/privacy}",
    "received_events_url": "https://api.github.com/users/niklasb/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2020-05-18T15:02:34Z",
  "updated_at": "2020-05-19T14:50:50Z",
  "closed_at": "2020-05-19T14:45:33Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "<!--## Prerequisites\r\n\r\n- First, many thanks for taking part in the community. We really appreciate that.\r\n- We realize there is a lot of data requested here. We ask only that you do your best to provide as much information as possible so we can better help you.\r\n- Support questions are better asked in one of the following locations:\r\n\t- [Solidity chat](https://gitter.im/ethereum/solidity)\r\n\t- [Stack Overflow](https://ethereum.stackexchange.com/)\r\n- Ensure the issue isn't already reported (check `feature` and `language design` labels).\r\n\r\n*Delete the above section and the instructions in the sections below before submitting*\r\n\r\n-->\r\n\r\n## Abstract\r\n\r\nThis feature request is asking for the following code to compile without errors:\r\n\r\n```\r\npragma solidity ^0.6.8;\r\n\r\ninterface I {\r\n    function foo() external pure returns (uint256);\r\n}\r\n\r\ncontract A {\r\n    function foo() external pure returns (uint256) {\r\n        return 1337;\r\n    }\r\n}\r\n\r\ncontract B is A, I { }\r\n```\r\n\r\n<!--\r\nPlease describe by example what problem you see in the current Solidity language\r\nand reason about it.\r\n-->\r\n\r\n## Motivation\r\n\r\n\r\nIn my understanding, an interface in Solidity is similar to a Java interface in that it describes a set of functions that a contract supports. The eventual \"final\" contracts needs to implement all functions specified in any of the inherited interface. Pulling in implementations of these functions from different base classes is an elegant way to decouple functionality. This technique is often referred to as mixins in other programming languages.\r\n\r\nAs a practical example based on ERC-20, it might make sense to extract all the allowance-specific functionality into a self-contained `AllowanceManager` contract, and inherit it from `Token` as a mixin:\r\n\r\n```\r\ncontract AllowanceManager {\r\n  function approve(...) {\r\n    ...\r\n  }\r\n}\r\n\r\ncontract Token is AllowanceManager, IERC20 {\r\n  ...\r\n}\r\n```\r\n\r\nCurrently the best possible workaround is to declare `approve` as `public virtual` inside of `AllowanceManager` and override it in Token via `override(AllowanceManager, IERC20)` by just calling `super.approve()`. I assume this induces a small performance panelty for the super call and the `public` instead of `external`\r\n\r\n<!--\r\nIn this section you describe how you propose to address the problem you described earlier,\r\nincluding by giving one or more exemplary source code snippets for demonstration.\r\n-->\r\n\r\n## Specification\r\n\r\nThe example code in the abstract yields the type error\r\n\r\n```\r\nTypeError: Derived contract must override function \"foo\". Two or more base classes define function with same name and parameter types.\r\n```\r\n\r\nI believe this error should be skipped if exactly one of the inheritied definitions contains an actual implementation. In the example code, one of the inherited function is a mere prototype, so the implementation can be resolved unambiguously.\r\n\r\n<!--\r\nThe technical specification should describe the syntax and semantics of any new feature. The\r\nspecification should be detailed enough to allow any developer to implement the functionality.\r\n-->\r\n\r\n## Backwards Compatibility\r\n\r\nI see no issues in this regard.\r\n\r\n<!--\r\nAll language changes that introduce backwards incompatibilities must include a section describing\r\nthese incompatibilities and their severity.\r\n\r\nPlease describe how you propose to deal with these incompatibilities.\r\n-->",
  "closed_by": {
    "login": "niklasb",
    "id": 94819,
    "node_id": "MDQ6VXNlcjk0ODE5",
    "avatar_url": "https://avatars.githubusercontent.com/u/94819?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/niklasb",
    "html_url": "https://github.com/niklasb",
    "followers_url": "https://api.github.com/users/niklasb/followers",
    "following_url": "https://api.github.com/users/niklasb/following{/other_user}",
    "gists_url": "https://api.github.com/users/niklasb/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/niklasb/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/niklasb/subscriptions",
    "organizations_url": "https://api.github.com/users/niklasb/orgs",
    "repos_url": "https://api.github.com/users/niklasb/repos",
    "events_url": "https://api.github.com/users/niklasb/events{/privacy}",
    "received_events_url": "https://api.github.com/users/niklasb/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/8970/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/8970/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/630499050",
    "html_url": "https://github.com/ethereum/solidity/issues/8970#issuecomment-630499050",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/8970",
    "id": 630499050,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzMDQ5OTA1MA==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-05-19T00:09:27Z",
    "updated_at": "2020-05-19T00:09:27Z",
    "author_association": "MEMBER",
    "body": "Two functions declared in two unrelated contracts (`I` and `A`) may have the same name and parameter types, but this does not mean that they are conceptually the same thing. In order to avoid situations where you \"accidentally\" implement or override conceptually different functions from two unrelated base contracts, Solidity 0.6.x requires you to take action and state \"yes, I know that I am overriding two unrelated functions and this is how I combine the two\".\r\n\r\nI did not try this, but I believe that another solution is to make AllowanceManager abstract and make it inherit from IERC20. This way you tell the compiler that you are actually implementing a part of the interface and the allowance function is the actual allowance function of the ERC20 interface.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/630499050/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/630868161",
    "html_url": "https://github.com/ethereum/solidity/issues/8970#issuecomment-630868161",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/8970",
    "id": 630868161,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzMDg2ODE2MQ==",
    "user": {
      "login": "niklasb",
      "id": 94819,
      "node_id": "MDQ6VXNlcjk0ODE5",
      "avatar_url": "https://avatars.githubusercontent.com/u/94819?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/niklasb",
      "html_url": "https://github.com/niklasb",
      "followers_url": "https://api.github.com/users/niklasb/followers",
      "following_url": "https://api.github.com/users/niklasb/following{/other_user}",
      "gists_url": "https://api.github.com/users/niklasb/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/niklasb/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/niklasb/subscriptions",
      "organizations_url": "https://api.github.com/users/niklasb/orgs",
      "repos_url": "https://api.github.com/users/niklasb/repos",
      "events_url": "https://api.github.com/users/niklasb/events{/privacy}",
      "received_events_url": "https://api.github.com/users/niklasb/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-05-19T14:45:31Z",
    "updated_at": "2020-05-19T14:45:31Z",
    "author_association": "NONE",
    "body": "I will close this, since the feature request as suggested goes against the design rationales you explained, but just as a quick note: In C++ there is a specific syntax to select a specific inherited function for usage in a subclass to resolve these kinds of ambiguities:\r\n\r\n```\r\nusing Base::function;\r\n```\r\n\r\nwhich could also be applicable here. What you suggest as a workaround seems reasonable however, and works well for the example case.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/630868161/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/630871879",
    "html_url": "https://github.com/ethereum/solidity/issues/8970#issuecomment-630871879",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/8970",
    "id": 630871879,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzMDg3MTg3OQ==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-05-19T14:50:50Z",
    "updated_at": "2020-05-19T14:50:50Z",
    "author_association": "MEMBER",
    "body": "Yes, we were actually considering `function f() = Base.function;` as a syntax for such situations.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/630871879/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
