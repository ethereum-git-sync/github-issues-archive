{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/14587",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/14587/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/14587/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/14587/events",
  "html_url": "https://github.com/ethereum/solidity/issues/14587",
  "id": 1927557927,
  "node_id": "I_kwDOAm_5kc5y5DMn",
  "number": 14587,
  "title": "[Bug] Solc considers Natspec comment that contains `@` above a `contract` as invalid Natspec comment",
  "user": {
    "login": "CJ42",
    "id": 31145285,
    "node_id": "MDQ6VXNlcjMxMTQ1Mjg1",
    "avatar_url": "https://avatars.githubusercontent.com/u/31145285?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/CJ42",
    "html_url": "https://github.com/CJ42",
    "followers_url": "https://api.github.com/users/CJ42/followers",
    "following_url": "https://api.github.com/users/CJ42/following{/other_user}",
    "gists_url": "https://api.github.com/users/CJ42/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/CJ42/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/CJ42/subscriptions",
    "organizations_url": "https://api.github.com/users/CJ42/orgs",
    "repos_url": "https://api.github.com/users/CJ42/repos",
    "events_url": "https://api.github.com/users/CJ42/events{/privacy}",
    "received_events_url": "https://api.github.com/users/CJ42/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 249074435,
      "node_id": "MDU6TGFiZWwyNDkwNzQ0MzU=",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/bug%20:bug:",
      "name": "bug :bug:",
      "color": "fc1313",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2023-10-05T07:22:41Z",
  "updated_at": "2023-12-11T12:23:05Z",
  "closed_at": "2023-12-11T12:23:05Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "## Description\r\n\r\nI am writing a contract and I am adding some Natspec comments for documentation purpose above the `contract` definition.\r\n\r\nI have added some content inside a tag and this content includes the string `@openzeppelin/contracts` to refer to the [NPM package from OpenZeppelin](https://www.npmjs.com/package/@openzeppelin/contracts).\r\n\r\nHowever, the solc compiler interprets this content as a Natspec tag and fail to compile. See the screenshot below for the error message.\r\n\r\n<img width=\"997\" alt=\"image\" src=\"https://github.com/ethereum/solidity/assets/31145285/9e801a2a-f550-4557-8427-e9b4b539db2c\">\r\n\r\n\r\n## Environment\r\n\r\n- Compiler version: 0.8.17 (but believe to apply to latest 0.8.21 as well)\r\n- Target EVM version (as per compiler settings):\r\n- Framework/IDE (e.g. Truffle or Remix): Hardhat\r\n- EVM execution environment / backend / blockchain client:\r\n- Operating system: MacOS Monterey v12.3\r\n\r\n## Steps to Reproduce\r\n\r\nWhat is confusing is that the code below compiles without any issue.\r\n\r\n```solidity\r\n// SPDX-License-Identifier: Apache-2.0\r\npragma solidity ^0.8.17;\r\n\r\n/**\r\n * @title MyContract\r\n *\r\n * @dev Some content that includes the word `@openzeppelin/contracts`.\r\n */\r\ncontract MyContract {\r\n    uint256 internal _example;\r\n}\r\n```\r\n\r\nWhat am I doing wrong in the code below? I have copy pasted it, in case there is anything I am missing:\r\n\r\n_This does not compile_\r\n```solidity\r\n/**\r\n * @title LSP7CompatibleERC20 extension\r\n *\r\n * @dev The interface `IERC20` is not included in the inheritance because it\r\n * is already inherited by `IERC20Metadata` in `@openzeppelin/contracts`.\r\n */\r\nabstract contract LSP7CompatibleERC20 {\r\n    // ...\r\n}\r\n```\r\n\r\n\r\n",
  "closed_by": {
    "login": "nikola-matic",
    "id": 4415530,
    "node_id": "MDQ6VXNlcjQ0MTU1MzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4415530?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/nikola-matic",
    "html_url": "https://github.com/nikola-matic",
    "followers_url": "https://api.github.com/users/nikola-matic/followers",
    "following_url": "https://api.github.com/users/nikola-matic/following{/other_user}",
    "gists_url": "https://api.github.com/users/nikola-matic/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/nikola-matic/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/nikola-matic/subscriptions",
    "organizations_url": "https://api.github.com/users/nikola-matic/orgs",
    "repos_url": "https://api.github.com/users/nikola-matic/repos",
    "events_url": "https://api.github.com/users/nikola-matic/events{/privacy}",
    "received_events_url": "https://api.github.com/users/nikola-matic/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/14587/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/14587/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1849973789",
    "html_url": "https://github.com/ethereum/solidity/issues/14587#issuecomment-1849973789",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/14587",
    "id": 1849973789,
    "node_id": "IC_kwDOAm_5kc5uRFwd",
    "user": {
      "login": "nikola-matic",
      "id": 4415530,
      "node_id": "MDQ6VXNlcjQ0MTU1MzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4415530?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikola-matic",
      "html_url": "https://github.com/nikola-matic",
      "followers_url": "https://api.github.com/users/nikola-matic/followers",
      "following_url": "https://api.github.com/users/nikola-matic/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikola-matic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikola-matic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikola-matic/subscriptions",
      "organizations_url": "https://api.github.com/users/nikola-matic/orgs",
      "repos_url": "https://api.github.com/users/nikola-matic/repos",
      "events_url": "https://api.github.com/users/nikola-matic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikola-matic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-12-11T12:23:05Z",
    "updated_at": "2023-12-11T12:23:05Z",
    "author_association": "MEMBER",
    "body": "You're referencing `@openzeppeling/contracts` on a newline, so it's parsing it as a new docstring tag, which then of course errors out, because there's no such tag as `@openzeppelin/contracts` :)\r\n\r\nIf you put the comment on the same line - it will compile. Now, this whole thing is somewhat unfortunate, but there's really no unambiguous way to differentiate between an actual docstring tag and a library reference, at least not without introducing new syntax (or at least allowing for indentation to mark subsequent newlines as part of the above docstring tag).\r\n\r\nI'll be closing this as not a bug.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1849973789/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
