{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/2908",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/2908/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/2908/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/2908/events",
  "html_url": "https://github.com/ethereum/solidity/issues/2908",
  "id": 258041241,
  "node_id": "MDU6SXNzdWUyNTgwNDEyNDE=",
  "number": 2908,
  "title": "Multiple `SSTORE` calls for the same storage location",
  "user": {
    "login": "ngotchac",
    "id": 2864519,
    "node_id": "MDQ6VXNlcjI4NjQ1MTk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2864519?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ngotchac",
    "html_url": "https://github.com/ngotchac",
    "followers_url": "https://api.github.com/users/ngotchac/followers",
    "following_url": "https://api.github.com/users/ngotchac/following{/other_user}",
    "gists_url": "https://api.github.com/users/ngotchac/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ngotchac/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ngotchac/subscriptions",
    "organizations_url": "https://api.github.com/users/ngotchac/orgs",
    "repos_url": "https://api.github.com/users/ngotchac/repos",
    "events_url": "https://api.github.com/users/ngotchac/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ngotchac/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 12,
  "created_at": "2017-09-15T13:32:26Z",
  "updated_at": "2018-05-14T10:20:07Z",
  "closed_at": "2018-05-14T10:20:07Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "## Solidity version\r\nI tested a couple of version from `0.4.0` onwards.\r\n\r\n## Source code\r\n\r\n```solidity\r\npragma solidity ^0.4.x;\r\n\r\ncontract TestSStore {\r\n    struct TestStruct {\r\n        uint128 a;\r\n        uint128 b;\r\n    }\r\n    \r\n    TestStruct s_data;\r\n    \r\n    function store (uint128 _a, uint128 _b) external {\r\n      s_data = TestStruct({ a: _a, b: _b });\r\n    }\r\n}\r\n```\r\n\r\n## Steps to reproduce\r\n\r\nJust deploy the contract, call `store` method with non-0 values, and look at the executed OPCODES\r\n\r\n## Result\r\n\r\nIt executed two `SSTORE` OPCODES\r\n\r\n## Expected Behaviour\r\n\r\nAs the Struct is composed of 2 `uint128`, it fits in one 32-bytes area. However, when calling `store`, it executes two `SSTORE` opcodes, thus increasing the gas usage. This increases the gas usage by 5,000 (since it just re-writes on the some storage location), which could be improved.",
  "closed_by": {
    "login": "chriseth",
    "id": 9073706,
    "node_id": "MDQ6VXNlcjkwNzM3MDY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/chriseth",
    "html_url": "https://github.com/chriseth",
    "followers_url": "https://api.github.com/users/chriseth/followers",
    "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
    "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
    "organizations_url": "https://api.github.com/users/chriseth/orgs",
    "repos_url": "https://api.github.com/users/chriseth/repos",
    "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
    "received_events_url": "https://api.github.com/users/chriseth/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/2908/reactions",
    "total_count": 4,
    "+1": 4,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/2908/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/333645437",
    "html_url": "https://github.com/ethereum/solidity/issues/2908#issuecomment-333645437",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/2908",
    "id": 333645437,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMzY0NTQzNw==",
    "user": {
      "login": "androlo",
      "id": 2809499,
      "node_id": "MDQ6VXNlcjI4MDk0OTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2809499?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/androlo",
      "html_url": "https://github.com/androlo",
      "followers_url": "https://api.github.com/users/androlo/followers",
      "following_url": "https://api.github.com/users/androlo/following{/other_user}",
      "gists_url": "https://api.github.com/users/androlo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/androlo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/androlo/subscriptions",
      "organizations_url": "https://api.github.com/users/androlo/orgs",
      "repos_url": "https://api.github.com/users/androlo/repos",
      "events_url": "https://api.github.com/users/androlo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/androlo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-02T19:52:18Z",
    "updated_at": "2017-10-02T19:52:18Z",
    "author_association": "CONTRIBUTOR",
    "body": "User @adamskrodzki raised this issue on gitter as well, with an even more complex struct. It does 8 writes (1 full price + 7 discounted) for this:\r\n\r\n```\r\n    struct Bet {\r\n        uint8 num1;\r\n        uint8 num2;\r\n        uint8 num3;\r\n        uint8 num4;\r\n        uint8 num5;\r\n        uint8 num6;\r\n        address gambler;\r\n        uint32 betSum;\r\n    }\r\n```\r\n\r\nNo issues with packing though, they all end up in the same storage slot.\r\n\r\nThis i can confirm on latest stable (`0.4.17+commit.bdeb9e52.Emscripten.clang`) + nightly (`0.4.18-nightly.2017.10.2+commit.c6161030.Emscripten.clang`) of the emscripten version of solc, with optimizer enabled.\r\n\r\n```\r\ncontract GameFundTest{\r\n\r\n    struct Bet {\r\n        uint8 num1;\r\n        uint8 num2;\r\n        uint8 num3;\r\n        uint8 num4;\r\n        uint8 num5;\r\n        uint8 num6;\r\n        address gambler;\r\n        uint32 betSum;\r\n    }\r\n    \r\n    Bet b;\r\n    \r\n    function checkAll() public {\r\n        uint startGas = msg.gas;\r\n        b = Bet(1, 2, 3, 4, 5, 6, 0x112233445566778899aa112233445566778899aa, 21);\r\n        uint diff = startGas - msg.gas;\r\n        assert(diff > 55000);\r\n    }\r\n    \r\n}\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/333645437/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/343815238",
    "html_url": "https://github.com/ethereum/solidity/issues/2908#issuecomment-343815238",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/2908",
    "id": 343815238,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0MzgxNTIzOA==",
    "user": {
      "login": "cdetrio",
      "id": 997681,
      "node_id": "MDQ6VXNlcjk5NzY4MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/997681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cdetrio",
      "html_url": "https://github.com/cdetrio",
      "followers_url": "https://api.github.com/users/cdetrio/followers",
      "following_url": "https://api.github.com/users/cdetrio/following{/other_user}",
      "gists_url": "https://api.github.com/users/cdetrio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cdetrio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cdetrio/subscriptions",
      "organizations_url": "https://api.github.com/users/cdetrio/orgs",
      "repos_url": "https://api.github.com/users/cdetrio/repos",
      "events_url": "https://api.github.com/users/cdetrio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cdetrio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-13T05:10:31Z",
    "updated_at": "2017-11-13T05:10:31Z",
    "author_association": "MEMBER",
    "body": "This might be related to https://github.com/ethereum/solidity/issues/1137",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/343815238/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/345471720",
    "html_url": "https://github.com/ethereum/solidity/issues/2908#issuecomment-345471720",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/2908",
    "id": 345471720,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NTQ3MTcyMA==",
    "user": {
      "login": "greenGreengo",
      "id": 12047151,
      "node_id": "MDQ6VXNlcjEyMDQ3MTUx",
      "avatar_url": "https://avatars.githubusercontent.com/u/12047151?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/greenGreengo",
      "html_url": "https://github.com/greenGreengo",
      "followers_url": "https://api.github.com/users/greenGreengo/followers",
      "following_url": "https://api.github.com/users/greenGreengo/following{/other_user}",
      "gists_url": "https://api.github.com/users/greenGreengo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/greenGreengo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/greenGreengo/subscriptions",
      "organizations_url": "https://api.github.com/users/greenGreengo/orgs",
      "repos_url": "https://api.github.com/users/greenGreengo/repos",
      "events_url": "https://api.github.com/users/greenGreengo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/greenGreengo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-18T21:14:24Z",
    "updated_at": "2017-11-18T21:17:42Z",
    "author_association": "NONE",
    "body": "Yes it's the way the compiler works, it fits in one 32-bytes area but uses 2 `sstore`.\r\nIf you want to want to use just 1 `sstore` you have to enable `--optimize` flag when you compile.\r\n\r\n`$ solc --bin --asm --optimize TestSStore.sol`\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/345471720/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/345628873",
    "html_url": "https://github.com/ethereum/solidity/issues/2908#issuecomment-345628873",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/2908",
    "id": 345628873,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NTYyODg3Mw==",
    "user": {
      "login": "androlo",
      "id": 2809499,
      "node_id": "MDQ6VXNlcjI4MDk0OTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2809499?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/androlo",
      "html_url": "https://github.com/androlo",
      "followers_url": "https://api.github.com/users/androlo/followers",
      "following_url": "https://api.github.com/users/androlo/following{/other_user}",
      "gists_url": "https://api.github.com/users/androlo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/androlo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/androlo/subscriptions",
      "organizations_url": "https://api.github.com/users/androlo/orgs",
      "repos_url": "https://api.github.com/users/androlo/repos",
      "events_url": "https://api.github.com/users/androlo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/androlo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-20T08:49:21Z",
    "updated_at": "2017-11-20T08:52:14Z",
    "author_association": "CONTRIBUTOR",
    "body": "@cdetrio They are different issues. This is not array related, and technically it is not a bug. At the time of this report, the way storage writes are done (in the case of one-word structs) is:\r\n\r\n```\r\nfor all members M in storage struct S:\r\n  read old S from storage to var X\r\n  write M to X\r\n  replace old S with X\r\n```\r\n\r\nOld S is read from storage, modified, and the modified result is written to storage, and this is repeated once for each member. We want it to be:\r\n\r\n```\r\nread old S from storage to var X\r\n\r\nfor all members M in storage struct S:\r\n  write M to X\r\n\r\nreplace old S with X\r\n```\r\n\r\nThis should also be extended to work for any size struct, which is probably not too difficult since the methods for manipulating packed storage are already in place, and seem to work perfectly fine.\r\n\r\n```\r\nfor all storage partitions T of struct S:\r\n  read T from storage to var X\r\n\r\n  for all members M that goes into T:\r\n    write M to X\r\n\r\n  replace T with X\r\n```\r\n\r\nThis should result in one `SLOAD` and `SSTORE` per word, rather then one per member variable per word.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/345628873/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/345703870",
    "html_url": "https://github.com/ethereum/solidity/issues/2908#issuecomment-345703870",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/2908",
    "id": 345703870,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NTcwMzg3MA==",
    "user": {
      "login": "axic",
      "id": 20340,
      "node_id": "MDQ6VXNlcjIwMzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/axic",
      "html_url": "https://github.com/axic",
      "followers_url": "https://api.github.com/users/axic/followers",
      "following_url": "https://api.github.com/users/axic/following{/other_user}",
      "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
      "organizations_url": "https://api.github.com/users/axic/orgs",
      "repos_url": "https://api.github.com/users/axic/repos",
      "events_url": "https://api.github.com/users/axic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/axic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-20T14:01:50Z",
    "updated_at": "2017-11-20T14:01:50Z",
    "author_association": "MEMBER",
    "body": "@androlo that should be fairly safe to implement once storage-related code is written in the IR, but before that it may be a risky change.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/345703870/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/345735429",
    "html_url": "https://github.com/ethereum/solidity/issues/2908#issuecomment-345735429",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/2908",
    "id": 345735429,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NTczNTQyOQ==",
    "user": {
      "login": "androlo",
      "id": 2809499,
      "node_id": "MDQ6VXNlcjI4MDk0OTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2809499?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/androlo",
      "html_url": "https://github.com/androlo",
      "followers_url": "https://api.github.com/users/androlo/followers",
      "following_url": "https://api.github.com/users/androlo/following{/other_user}",
      "gists_url": "https://api.github.com/users/androlo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/androlo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/androlo/subscriptions",
      "organizations_url": "https://api.github.com/users/androlo/orgs",
      "repos_url": "https://api.github.com/users/androlo/repos",
      "events_url": "https://api.github.com/users/androlo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/androlo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-20T15:45:53Z",
    "updated_at": "2017-11-20T15:45:53Z",
    "author_association": "CONTRIBUTOR",
    "body": "@ngotchac ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/345735429/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/345737891",
    "html_url": "https://github.com/ethereum/solidity/issues/2908#issuecomment-345737891",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/2908",
    "id": 345737891,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NTczNzg5MQ==",
    "user": {
      "login": "ngotchac",
      "id": 2864519,
      "node_id": "MDQ6VXNlcjI4NjQ1MTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2864519?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ngotchac",
      "html_url": "https://github.com/ngotchac",
      "followers_url": "https://api.github.com/users/ngotchac/followers",
      "following_url": "https://api.github.com/users/ngotchac/following{/other_user}",
      "gists_url": "https://api.github.com/users/ngotchac/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ngotchac/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ngotchac/subscriptions",
      "organizations_url": "https://api.github.com/users/ngotchac/orgs",
      "repos_url": "https://api.github.com/users/ngotchac/repos",
      "events_url": "https://api.github.com/users/ngotchac/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ngotchac/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-20T15:53:48Z",
    "updated_at": "2017-11-20T15:53:48Z",
    "author_association": "NONE",
    "body": "I wasn't sure if it was a bug or an enhancement. Seems to be an enhancement then!",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/345737891/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/357868310",
    "html_url": "https://github.com/ethereum/solidity/issues/2908#issuecomment-357868310",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/2908",
    "id": 357868310,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1Nzg2ODMxMA==",
    "user": {
      "login": "artemii235",
      "id": 15745003,
      "node_id": "MDQ6VXNlcjE1NzQ1MDAz",
      "avatar_url": "https://avatars.githubusercontent.com/u/15745003?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/artemii235",
      "html_url": "https://github.com/artemii235",
      "followers_url": "https://api.github.com/users/artemii235/followers",
      "following_url": "https://api.github.com/users/artemii235/following{/other_user}",
      "gists_url": "https://api.github.com/users/artemii235/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/artemii235/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/artemii235/subscriptions",
      "organizations_url": "https://api.github.com/users/artemii235/orgs",
      "repos_url": "https://api.github.com/users/artemii235/repos",
      "events_url": "https://api.github.com/users/artemii235/events{/privacy}",
      "received_events_url": "https://api.github.com/users/artemii235/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-16T06:47:03Z",
    "updated_at": "2018-01-16T06:50:54Z",
    "author_association": "NONE",
    "body": "Discovered same using 0.4.19+commit.c4cbbb05.Emscripten.clang, as an example please take a look at this Smart Contract at Ropsten:\r\nhttps://ropsten.etherscan.io/address/0xa66bc2b55ef5dff147edd7352a633fe8d510839c\r\nIt uses `Deal` struct which contains 7 fields.\r\nWhen `initEthDeal` function is called new `Deal` is created and added to mapping: https://ropsten.etherscan.io/tx/0xb659eb6d17e75fe8e5518398a1d3871c4dece509d43ce38384f3b640422551c9\r\nAs we can see by vmtrace (https://ropsten.etherscan.io/vmtrace?txhash=0xb659eb6d17e75fe8e5518398a1d3871c4dece509d43ce38384f3b640422551c9) it causes 7 `sstore` calls which results in high gas usage for such simple method (over 140k).\r\nIn mainnet with gas price = 20 gwei this transaction will cost 3$ (Current ETH price ~1200$) for a caller which is pretty high.\r\nSo in my particular case this improvement will help to save a lot money of end users.\r\nMy idea is also to pack everything in `bytes` array and then parse it further. However it would be very nice to have solidity doing it internally without such workarounds.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/357868310/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/358632101",
    "html_url": "https://github.com/ethereum/solidity/issues/2908#issuecomment-358632101",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/2908",
    "id": 358632101,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1ODYzMjEwMQ==",
    "user": {
      "login": "artemii235",
      "id": 15745003,
      "node_id": "MDQ6VXNlcjE1NzQ1MDAz",
      "avatar_url": "https://avatars.githubusercontent.com/u/15745003?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/artemii235",
      "html_url": "https://github.com/artemii235",
      "followers_url": "https://api.github.com/users/artemii235/followers",
      "following_url": "https://api.github.com/users/artemii235/following{/other_user}",
      "gists_url": "https://api.github.com/users/artemii235/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/artemii235/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/artemii235/subscriptions",
      "organizations_url": "https://api.github.com/users/artemii235/orgs",
      "repos_url": "https://api.github.com/users/artemii235/repos",
      "events_url": "https://api.github.com/users/artemii235/events{/privacy}",
      "received_events_url": "https://api.github.com/users/artemii235/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-18T12:28:06Z",
    "updated_at": "2018-01-18T12:28:06Z",
    "author_association": "NONE",
    "body": "My bad, my struct size is much larger than 32 bytes and it's not related to this issue - it's just how EVM works (splitting everything to 32 bytes words and calling SSTORE for each).",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/358632101/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/366905750",
    "html_url": "https://github.com/ethereum/solidity/issues/2908#issuecomment-366905750",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/2908",
    "id": 366905750,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2NjkwNTc1MA==",
    "user": {
      "login": "beether",
      "id": 28908611,
      "node_id": "MDQ6VXNlcjI4OTA4NjEx",
      "avatar_url": "https://avatars.githubusercontent.com/u/28908611?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/beether",
      "html_url": "https://github.com/beether",
      "followers_url": "https://api.github.com/users/beether/followers",
      "following_url": "https://api.github.com/users/beether/following{/other_user}",
      "gists_url": "https://api.github.com/users/beether/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/beether/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/beether/subscriptions",
      "organizations_url": "https://api.github.com/users/beether/orgs",
      "repos_url": "https://api.github.com/users/beether/repos",
      "events_url": "https://api.github.com/users/beether/events{/privacy}",
      "received_events_url": "https://api.github.com/users/beether/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-20T08:42:44Z",
    "updated_at": "2018-02-20T08:44:13Z",
    "author_association": "NONE",
    "body": "Not sure if this has yet been noted, but doing this reduces costs to what is expected:\r\n\r\n```\r\n// Compiler is dumb with converting `TestStruct memory` to storage.\r\n// Avoid this.\r\n// s_data = TestStruct({ a: _a, b: _b });\r\n\r\n// Compiler is smart when modifying a `TestStruct storage`\r\n// It will write all changes only once (and by 256-bit segment)\r\ns_data.a = _a;\r\ns_data.b = _b;\r\n```\r\n\r\nThe optimizer seems smart enough to cache all changes to a `TestStruct storage` and write them out once. Not sure how it figures out there are no more changes (maybe it writes before any return), but it seems pretty robust -- even if you pass around the `TestStruct storage` it will still only write once per 256-bit block.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/366905750/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/372734233",
    "html_url": "https://github.com/ethereum/solidity/issues/2908#issuecomment-372734233",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/2908",
    "id": 372734233,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MjczNDIzMw==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-13T16:44:11Z",
    "updated_at": "2018-03-13T16:44:11Z",
    "author_association": "MEMBER",
    "body": "This might be fixed by #3693 , but we should check.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/372734233/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/388768739",
    "html_url": "https://github.com/ethereum/solidity/issues/2908#issuecomment-388768739",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/2908",
    "id": 388768739,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4ODc2ODczOQ==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-14T10:20:06Z",
    "updated_at": "2018-05-14T10:20:06Z",
    "author_association": "MEMBER",
    "body": "This has been fixed.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/388768739/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
