{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/13302",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/13302/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/13302/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/13302/events",
  "html_url": "https://github.com/ethereum/solidity/issues/13302",
  "id": 1317868139,
  "node_id": "I_kwDOAm_5kc5OjRJr",
  "number": 13302,
  "title": "Fix 'Open In Remix' in docs",
  "user": {
    "login": "Aniket-Engg",
    "id": 30843294,
    "node_id": "MDQ6VXNlcjMwODQzMjk0",
    "avatar_url": "https://avatars.githubusercontent.com/u/30843294?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Aniket-Engg",
    "html_url": "https://github.com/Aniket-Engg",
    "followers_url": "https://api.github.com/users/Aniket-Engg/followers",
    "following_url": "https://api.github.com/users/Aniket-Engg/following{/other_user}",
    "gists_url": "https://api.github.com/users/Aniket-Engg/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Aniket-Engg/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Aniket-Engg/subscriptions",
    "organizations_url": "https://api.github.com/users/Aniket-Engg/orgs",
    "repos_url": "https://api.github.com/users/Aniket-Engg/repos",
    "events_url": "https://api.github.com/users/Aniket-Engg/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Aniket-Engg/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 275027668,
      "node_id": "MDU6TGFiZWwyNzUwMjc2Njg=",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/documentation%20:book:",
      "name": "documentation :book:",
      "color": "006b75",
      "default": false,
      "description": ""
    },
    {
      "id": 4438006499,
      "node_id": "LA_kwDOAm_5kc8AAAABCIaa4w",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/low%20effort",
      "name": "low effort",
      "color": "ffb1fa",
      "default": false,
      "description": "There is not much implementation work to be done. The task is very easy or tiny."
    },
    {
      "id": 4438157609,
      "node_id": "LA_kwDOAm_5kc8AAAABCIjpKQ",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/low%20impact",
      "name": "low impact",
      "color": "001dff",
      "default": false,
      "description": "Changes are not very noticeable or potential benefits are limited."
    },
    {
      "id": 4438481746,
      "node_id": "LA_kwDOAm_5kc8AAAABCI3bUg",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/must%20have%20eventually",
      "name": "must have eventually",
      "color": "ffb04d",
      "default": false,
      "description": "Something we consider essential but not enough to prevent us from releasing Solidity 1.0 without it."
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2022-07-26T08:14:29Z",
  "updated_at": "2022-10-04T14:54:21Z",
  "closed_at": null,
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "- [x] Remix requires version in URL params with commit id like `version=soljson-v0.8.7+commit.e28d00a7.js` . Currently from Solidity docs, version is sent as `version=0.8.15` which only set compiler to `latest local version` in Remix\r\n\r\n- [ ] From Yul docs here https://docs.soliditylang.org/en/v0.8.15/yul.html, if I try to open `Erc20 Example` in Remix (from the bottom of the docs), it show 413 error\r\n![Screenshot 2022-07-26 at 1 43 51 PM](https://user-images.githubusercontent.com/30843294/180957559-80626867-54cb-4273-8504-21e2f17d1db6.png)\r\n\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/13302/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/13302/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1197263554",
    "html_url": "https://github.com/ethereum/solidity/issues/13302#issuecomment-1197263554",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/13302",
    "id": 1197263554,
    "node_id": "IC_kwDOAm_5kc5HXMrC",
    "user": {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-27T19:17:57Z",
    "updated_at": "2022-07-27T19:17:57Z",
    "author_association": "MEMBER",
    "body": "> Remix requires version in URL params with commit id like `version=soljson-v0.8.7+commit.e28d00a7.js` . Currently from Solidity docs, version is sent as `version=0.8.15` which only set compiler to `latest local version` in Remix\r\n\r\nWell, I intentionally did not include the commit part in the link because getting it into built docs is tricky. The documentation build process knows only the `x.y.z` part of the version string because that's what is in the repo. It does not have access to the whole list of published binaries and really should not depend on what's on that list. Maybe we could get the hash using git, assuming the build is always done inside a repo (might not always be the case), but I'm not even sure it's feasible to run things like git on ReadTheDocs from within Sphinx. Event then, there's a problem with identifying the commit. Only for releases it's the current one. Outside of that we'd have to find the commit based on tags and tags are not always available - for example in translation repositories tags are not present and when they are they actually indicate something different (the commit that contains the complete translation for a particular version).\r\n\r\nSo this is messy and I think a much better solution is to translate the short version like `v0.8.15` into the full version with commit further down the stack. I actually submitted a feature request for that when I implemented the \"open in Remix\" links (https://github.com/ethereum/solidity/issues/11415#issuecomment-899702428), but I see it's still open: https://github.com/ethereum/remix-project/issues/1490.\r\n\r\nAre there any concerns with that feature request? What do you think about it? I did not receive any feedback in the issue so far.\r\n\r\n> if I try to open `Erc20 Example` in Remix (from the bottom of the docs), it show 413 error\r\n\r\nI think this is because the encoded example exceeds maximum URL length. That's one of the longer examples. I actually thought that it would be mostly a client-side concern (different browsers have different limits) but looks like Cloudflare has some server-side limit too.\r\n\r\nThe simplest way to \"solve\" it would be to remove the links above some specific length and that's easy but I didn't want to remove it for everyone just because some browsers are more strict than others about it. I guess if you're using Cloudflare then everyone has the same upper limit and we could lower it to that value at least.\r\n\r\nA proper solution would require some changes on your side. Preferably some way to compress the example.\r\n\r\nAlternatively, you could accept a POST request but that would also require a much more complex solution involving JS on our side (currently it's dead simple - everything happens in Python at build time and it's just a static link).",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1197263554/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1197724609",
    "html_url": "https://github.com/ethereum/solidity/issues/13302#issuecomment-1197724609",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/13302",
    "id": 1197724609,
    "node_id": "IC_kwDOAm_5kc5HY9PB",
    "user": {
      "login": "Aniket-Engg",
      "id": 30843294,
      "node_id": "MDQ6VXNlcjMwODQzMjk0",
      "avatar_url": "https://avatars.githubusercontent.com/u/30843294?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Aniket-Engg",
      "html_url": "https://github.com/Aniket-Engg",
      "followers_url": "https://api.github.com/users/Aniket-Engg/followers",
      "following_url": "https://api.github.com/users/Aniket-Engg/following{/other_user}",
      "gists_url": "https://api.github.com/users/Aniket-Engg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Aniket-Engg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Aniket-Engg/subscriptions",
      "organizations_url": "https://api.github.com/users/Aniket-Engg/orgs",
      "repos_url": "https://api.github.com/users/Aniket-Engg/repos",
      "events_url": "https://api.github.com/users/Aniket-Engg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Aniket-Engg/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-28T06:35:23Z",
    "updated_at": "2022-07-28T06:35:23Z",
    "author_association": "MEMBER",
    "body": "Thanks for the explanation @cameel . I have added https://github.com/ethereum/remix-project/issues/1490 in the current project plan.\r\n\r\nFor that long URL, may be for now, you can just shorten this one specifically.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1197724609/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1267131994",
    "html_url": "https://github.com/ethereum/solidity/issues/13302#issuecomment-1267131994",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/13302",
    "id": 1267131994,
    "node_id": "IC_kwDOAm_5kc5LhuZa",
    "user": {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-04T14:53:27Z",
    "updated_at": "2022-10-04T14:54:01Z",
    "author_association": "MEMBER",
    "body": "To summarize what's left to do here:\r\n- Find out what the URL length limit in CloudFlare is\r\n- Set `MAX_SAFE_URL_LENGTH` to that limit: https://github.com/ethereum/solidity/blob/2ba8fc1db517f38cb0896ae3dc1870d6a151d424/docs/ext/remix_code_links.py#L7\r\n- Adjust the plugin to make it omit Remix links when URL length exceeds `MAX_SAFE_URL_LENGTH`. Currently it issues a warning, which makes docs build fail (due to warnings being treated as errors). \r\n    https://github.com/ethereum/solidity/blob/2ba8fc1db517f38cb0896ae3dc1870d6a151d424/docs/ext/remix_code_links.py#L59-L65\r\n    We should keep the warning but change it to `info` so that the build does not fail.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1267131994/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1267133633",
    "html_url": "https://github.com/ethereum/solidity/issues/13302#issuecomment-1267133633",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/13302",
    "id": 1267133633,
    "node_id": "IC_kwDOAm_5kc5LhuzB",
    "user": {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-04T14:54:21Z",
    "updated_at": "2022-10-04T14:54:21Z",
    "author_association": "MEMBER",
    "body": "@r0qs I think this would also be a task for you.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1267133633/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
