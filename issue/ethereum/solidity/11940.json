{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/11940",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/11940/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/11940/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/11940/events",
  "html_url": "https://github.com/ethereum/solidity/issues/11940",
  "id": 994618231,
  "node_id": "MDU6SXNzdWU5OTQ2MTgyMzE=",
  "number": 11940,
  "title": "Snapcraft build has been broken since 0.5.16",
  "user": {
    "login": "lightyear15",
    "id": 12190670,
    "node_id": "MDQ6VXNlcjEyMTkwNjcw",
    "avatar_url": "https://avatars.githubusercontent.com/u/12190670?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/lightyear15",
    "html_url": "https://github.com/lightyear15",
    "followers_url": "https://api.github.com/users/lightyear15/followers",
    "following_url": "https://api.github.com/users/lightyear15/following{/other_user}",
    "gists_url": "https://api.github.com/users/lightyear15/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/lightyear15/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/lightyear15/subscriptions",
    "organizations_url": "https://api.github.com/users/lightyear15/orgs",
    "repos_url": "https://api.github.com/users/lightyear15/repos",
    "events_url": "https://api.github.com/users/lightyear15/events{/privacy}",
    "received_events_url": "https://api.github.com/users/lightyear15/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 249074435,
      "node_id": "MDU6TGFiZWwyNDkwNzQ0MzU=",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/bug%20:bug:",
      "name": "bug :bug:",
      "color": "fc1313",
      "default": false,
      "description": ""
    },
    {
      "id": 437863668,
      "node_id": "MDU6TGFiZWw0Mzc4NjM2Njg=",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/build%20system%20:building_construction:",
      "name": "build system :building_construction:",
      "color": "1d76db",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 15,
  "created_at": "2021-09-13T08:43:56Z",
  "updated_at": "2022-01-12T22:42:47Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "<!--## Prerequisites\r\n\r\n- First, many thanks for taking part in the community. We really appreciate that.\r\n- We realize there is a lot of data requested here. We ask only that you do your best to provide as much information as possible so we can better help you.\r\n- Support questions are better asked in one of the following locations:\r\n\t- [Solidity chat](https://gitter.im/ethereum/solidity)\r\n\t- [Stack Overflow](https://ethereum.stackexchange.com/)\r\n- Ensure the issue isn't already reported (check `feature` and `language design` labels).\r\n\r\n*Delete the above section and the instructions in the sections below before submitting*\r\n\r\n-->\r\n\r\n## Abstract\r\nhttps://snapcraft.io/build\r\nAuto-build and publish new solc version on the snapcraft app store.\r\n<!--\r\nPlease describe by example what problem you see in the current Solidity language\r\nand reason about it.\r\n-->\r\n\r\n## Motivation\r\nsolc on snapcraft is at version 0.5.16. Last time it was built was January 2020.\r\n\r\n\r\n<!--\r\nIn this section you describe how you propose to address the problem you described earlier,\r\nincluding by giving one or more exemplary source code snippets for demonstration.\r\n-->\r\n\r\n## Specification\r\nAs explained in the link attached in the Abstract section, a snapcraft app can be connected to a github repo, so new builds are triggered every new commit.\r\n\r\n<!--\r\nThe technical specification should describe the syntax and semantics of any new feature. The\r\nspecification should be detailed enough to allow any developer to implement the functionality.\r\n-->\r\n\r\n## Backwards Compatibility\r\n\r\n<!--\r\nAll language changes that introduce backwards incompatibilities must include a section describing\r\nthese incompatibilities and their severity.\r\n\r\nPlease describe how you propose to deal with these incompatibilities.\r\n-->",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/11940/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/11940/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/922513705",
    "html_url": "https://github.com/ethereum/solidity/issues/11940#issuecomment-922513705",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/11940",
    "id": 922513705,
    "node_id": "IC_kwDOAm_5kc42_HEp",
    "user": {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-19T18:06:51Z",
    "updated_at": "2021-09-19T18:06:51Z",
    "author_association": "MEMBER",
    "body": "Looks like the snapcraft build is already automated. It's just broken. According to the discussion in #2475 it's tied to https://launchpad.net/solidity. In [~elopio/+snap/solc](https://launchpad.net/~elopio/+snap/solc) I see that builds were running (and failing) until a year ago. Then they stopped. [The build from 2020-09-28](https://launchpad.net/~elopio/+snap/solc/+build/1131834/+files/buildlog_snap_ubuntu_bionic_amd64_solc_BUILDING.txt.gz) has some build errors related to Z3:\r\n\r\n```\r\n[  9%] Building CXX object libsmtutil/CMakeFiles/smtutil.dir/Z3CHCInterface.cpp.o\r\n\u001B[01m\u001B[K/build/solc/parts/solidity/src/libsmtutil/Z3Interface.cpp:\u001B[m\u001B[K In member function ‘\u001B[01m\u001B[Kz3::expr solidity::smtutil::Z3Interface::toZ3Expr(const solidity::smtutil::Expression&)\u001B[m\u001B[K’:\r\n\u001B[01m\u001B[K/build/solc/parts/solidity/src/libsmtutil/Z3Interface.cpp:201:15:\u001B[m\u001B[K \u001B[01;31m\u001B[Kerror: \u001B[m\u001B[K‘\u001B[01m\u001B[Kint2bv\u001B[m\u001B[K’ is not a member of ‘\u001B[01m\u001B[Kz3\u001B[m\u001B[K’\r\n    return z3::\u001B[01;31m\u001B[Kint2bv\u001B[m\u001B[K(size, arguments[0]);\r\n               \u001B[01;31m\u001B[K^~~~~~\u001B[m\u001B[K\r\n\u001B[01m\u001B[K/build/solc/parts/solidity/src/libsmtutil/Z3Interface.cpp:207:15:\u001B[m\u001B[K \u001B[01;31m\u001B[Kerror: \u001B[m\u001B[K‘\u001B[01m\u001B[Kbv2int\u001B[m\u001B[K’ is not a member of ‘\u001B[01m\u001B[Kz3\u001B[m\u001B[K’\r\n    return z3::\u001B[01;31m\u001B[Kbv2int\u001B[m\u001B[K(arguments[0], intSort->isSigned);\r\n               \u001B[01;31m\u001B[K^~~~~~\u001B[m\u001B[K\r\n\u001B[01m\u001B[K/build/solc/parts/solidity/src/libsmtutil/Z3Interface.cpp:207:15:\u001B[m\u001B[K \u001B[01;36m\u001B[Knote: \u001B[m\u001B[Ksuggested alternative: ‘\u001B[01m\u001B[Kis_int\u001B[m\u001B[K’\r\n    return z3::\u001B[01;36m\u001B[Kbv2int\u001B[m\u001B[K(arguments[0], intSort->isSigned);\r\n               \u001B[01;36m\u001B[K^~~~~~\u001B[m\u001B[K\r\n               \u001B[32m\u001B[Kis_int\u001B[m\u001B[K\r\n[  9%] Building CXX object liblangutil/CMakeFiles/langutil.dir/SemVerHandler.cpp.o\r\nlibsmtutil/CMakeFiles/smtutil.dir/build.make:158: recipe for target 'libsmtutil/CMakeFiles/smtutil.dir/Z3Interface.cpp.o' failed\r\nmake[2]: *** [libsmtutil/CMakeFiles/smtutil.dir/Z3Interface.cpp.o] Error 1\r\n```\r\n\r\nOur [`snapcraft.yaml`](https://github.com/ethereum/solidity/blob/develop/snap/snapcraft.yaml) is using Z3 4.8.4, which is still supported so it's not that. @leonardoalt could you take a look at these errors?\r\n\r\nBut overall, the questions is how to prevent such breakage in the future. We do advertise the snap version under [Linux Packages](https://docs.soliditylang.org/en/latest/installing-solidity.html#linux-packages) so we should fix it but I think no one is checking that regularly. As far as I can tell from past PRs, this was a contribution from @elopio and set up in a way that should not require too much maintenance. Looks like we still do need to monitor it in some way though. Perhaps we need a step in the release checklist to make sure the snap package was built corectly?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/922513705/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/922930377",
    "html_url": "https://github.com/ethereum/solidity/issues/11940#issuecomment-922930377",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/11940",
    "id": 922930377,
    "node_id": "IC_kwDOAm_5kc43AszJ",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-20T13:30:39Z",
    "updated_at": "2021-09-20T13:30:39Z",
    "author_association": "MEMBER",
    "body": "@elopio are you still available for maintaining the snap build?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/922930377/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/927338086",
    "html_url": "https://github.com/ethereum/solidity/issues/11940#issuecomment-927338086",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/11940",
    "id": 927338086,
    "node_id": "IC_kwDOAm_5kc43Rg5m",
    "user": {
      "login": "come-maiz",
      "id": 617831,
      "node_id": "MDQ6VXNlcjYxNzgzMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/617831?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/come-maiz",
      "html_url": "https://github.com/come-maiz",
      "followers_url": "https://api.github.com/users/come-maiz/followers",
      "following_url": "https://api.github.com/users/come-maiz/following{/other_user}",
      "gists_url": "https://api.github.com/users/come-maiz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/come-maiz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/come-maiz/subscriptions",
      "organizations_url": "https://api.github.com/users/come-maiz/orgs",
      "repos_url": "https://api.github.com/users/come-maiz/repos",
      "events_url": "https://api.github.com/users/come-maiz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/come-maiz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-26T17:06:06Z",
    "updated_at": "2021-09-26T17:06:06Z",
    "author_association": "CONTRIBUTOR",
    "body": "Yes. If you think this is still useful I can give it some love.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/927338086/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/927733680",
    "html_url": "https://github.com/ethereum/solidity/issues/11940#issuecomment-927733680",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/11940",
    "id": 927733680,
    "node_id": "IC_kwDOAm_5kc43TBew",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-27T10:26:36Z",
    "updated_at": "2021-09-27T10:26:36Z",
    "author_association": "MEMBER",
    "body": "That would be very nice of you! Some people seem to be using it.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/927733680/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/932414694",
    "html_url": "https://github.com/ethereum/solidity/issues/11940#issuecomment-932414694",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/11940",
    "id": 932414694,
    "node_id": "IC_kwDOAm_5kc43k4Tm",
    "user": {
      "login": "come-maiz",
      "id": 617831,
      "node_id": "MDQ6VXNlcjYxNzgzMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/617831?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/come-maiz",
      "html_url": "https://github.com/come-maiz",
      "followers_url": "https://api.github.com/users/come-maiz/followers",
      "following_url": "https://api.github.com/users/come-maiz/following{/other_user}",
      "gists_url": "https://api.github.com/users/come-maiz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/come-maiz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/come-maiz/subscriptions",
      "organizations_url": "https://api.github.com/users/come-maiz/orgs",
      "repos_url": "https://api.github.com/users/come-maiz/repos",
      "events_url": "https://api.github.com/users/come-maiz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/come-maiz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-01T17:16:41Z",
    "updated_at": "2021-10-01T17:16:41Z",
    "author_association": "CONTRIBUTOR",
    "body": "Alright! We have a successful release on the edge branch for amd64.\r\n\r\nI would appreciate people testing it with:\r\n\r\n```\r\nsudo snap install solc --edge\r\n```\r\n\r\nBuilding on the other architectures is being harder. On cvc they suggested to upgrade to 1.8, so I'm trying options.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/932414694/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/932498682",
    "html_url": "https://github.com/ethereum/solidity/issues/11940#issuecomment-932498682",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/11940",
    "id": 932498682,
    "node_id": "IC_kwDOAm_5kc43lMz6",
    "user": {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-01T19:33:24Z",
    "updated_at": "2021-10-01T19:33:24Z",
    "author_association": "MEMBER",
    "body": "So you're trying to build also `arm64`, `armhf` and `i386`? Any compilation issues or just trouble with libraries? In CI we only build for amd64 and wasm so it's interesting that it even works :)\r\n\r\nI wanted to install it via snap but looks like snap does not like running in docker too much so we'll need someone with Ubuntu. @lightyear15 can you test it?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/932498682/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/933326141",
    "html_url": "https://github.com/ethereum/solidity/issues/11940#issuecomment-933326141",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/11940",
    "id": 933326141,
    "node_id": "IC_kwDOAm_5kc43oW09",
    "user": {
      "login": "lightyear15",
      "id": 12190670,
      "node_id": "MDQ6VXNlcjEyMTkwNjcw",
      "avatar_url": "https://avatars.githubusercontent.com/u/12190670?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lightyear15",
      "html_url": "https://github.com/lightyear15",
      "followers_url": "https://api.github.com/users/lightyear15/followers",
      "following_url": "https://api.github.com/users/lightyear15/following{/other_user}",
      "gists_url": "https://api.github.com/users/lightyear15/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lightyear15/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lightyear15/subscriptions",
      "organizations_url": "https://api.github.com/users/lightyear15/orgs",
      "repos_url": "https://api.github.com/users/lightyear15/repos",
      "events_url": "https://api.github.com/users/lightyear15/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lightyear15/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-04T09:54:44Z",
    "updated_at": "2021-10-04T09:55:11Z",
    "author_association": "NONE",
    "body": "Thanks @elopio ,\r\nI have tested the new edge solc you pushed to snapcraft.\r\nI tried to compile a contract I have and it seems it's working.\r\nThe only concern I have is about the size of the vm\r\n```\r\nchannels:\r\n  latest/stable:    v0.5.16 2020-01-29 (6746)  36MB -\r\n  latest/candidate: v0.5.17 2020-03-17 (6854)  36MB -\r\n  latest/beta:      v0.6.8  2020-05-18 (6979)  43MB -\r\n  latest/edge:      develop 2021-10-02 (7006) 294MB -\r\ninstalled:          develop            (7006) 294MB -\r\n```\r\nfrom 43 MB to 294MB. I don't know if this change in size is due to the compiler itself or not.\r\n\r\nRegarding releasing the compiler to the different channels ( stable, candidate, ecc...) AFAIK it's something that it can only be done manually in the snapcraft dev admin webpage. You can play with git tags though, so that all the automatically triggered builds will be tagged differently.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/933326141/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/933507419",
    "html_url": "https://github.com/ethereum/solidity/issues/11940#issuecomment-933507419",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/11940",
    "id": 933507419,
    "node_id": "IC_kwDOAm_5kc43pDFb",
    "user": {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-04T13:51:19Z",
    "updated_at": "2021-10-04T13:51:19Z",
    "author_association": "MEMBER",
    "body": "The compiler is definitely not that big. The binary itself is around ~10 MB. Statically linked Z3 adds ~25 MB. Not sure about CVC, but I would not expect it to take ~300 MB.\r\n\r\nI suspect that some stuff needed only at build time gets left in the image. Which is weird because after #12078 it actually does less manual building and gets more stuff from system package. Does stuff listed under `build-packages` get uninstalled after the build?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/933507419/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/937334711",
    "html_url": "https://github.com/ethereum/solidity/issues/11940#issuecomment-937334711",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/11940",
    "id": 937334711,
    "node_id": "IC_kwDOAm_5kc433pe3",
    "user": {
      "login": "come-maiz",
      "id": 617831,
      "node_id": "MDQ6VXNlcjYxNzgzMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/617831?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/come-maiz",
      "html_url": "https://github.com/come-maiz",
      "followers_url": "https://api.github.com/users/come-maiz/followers",
      "following_url": "https://api.github.com/users/come-maiz/following{/other_user}",
      "gists_url": "https://api.github.com/users/come-maiz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/come-maiz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/come-maiz/subscriptions",
      "organizations_url": "https://api.github.com/users/come-maiz/orgs",
      "repos_url": "https://api.github.com/users/come-maiz/repos",
      "events_url": "https://api.github.com/users/come-maiz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/come-maiz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-07T00:02:54Z",
    "updated_at": "2021-10-07T00:02:54Z",
    "author_association": "CONTRIBUTOR",
    "body": "There is a snapcraft action that can be used to test that the snap builds correctly. Building the whole thing is slow though, so I'm not sure when would you want to run this.\r\n\r\nIt can be used to push tags to the candidate channel too.\r\n\r\nhttps://github.com/snapcore/action-build",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/937334711/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/937337973",
    "html_url": "https://github.com/ethereum/solidity/issues/11940#issuecomment-937337973",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/11940",
    "id": 937337973,
    "node_id": "IC_kwDOAm_5kc433qR1",
    "user": {
      "login": "come-maiz",
      "id": 617831,
      "node_id": "MDQ6VXNlcjYxNzgzMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/617831?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/come-maiz",
      "html_url": "https://github.com/come-maiz",
      "followers_url": "https://api.github.com/users/come-maiz/followers",
      "following_url": "https://api.github.com/users/come-maiz/following{/other_user}",
      "gists_url": "https://api.github.com/users/come-maiz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/come-maiz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/come-maiz/subscriptions",
      "organizations_url": "https://api.github.com/users/come-maiz/orgs",
      "repos_url": "https://api.github.com/users/come-maiz/repos",
      "events_url": "https://api.github.com/users/come-maiz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/come-maiz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-07T00:09:57Z",
    "updated_at": "2021-10-07T00:09:57Z",
    "author_association": "CONTRIBUTOR",
    "body": "The bulk in size is in the built binaries:\r\n\r\n```\r\n> ls -sh /snap/solc/current/usr/local/bin\r\ntotal 1.2G\r\n486M solc*  479M solidity-upgrade*  208M yul-phaser*\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/937337973/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/937655175",
    "html_url": "https://github.com/ethereum/solidity/issues/11940#issuecomment-937655175",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/11940",
    "id": 937655175,
    "node_id": "IC_kwDOAm_5kc4343uH",
    "user": {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-07T10:18:42Z",
    "updated_at": "2021-10-07T10:18:42Z",
    "author_association": "MEMBER",
    "body": "Are you building them in debug mode? In release mode they're much smaller. In debug they're also pretty big but even then only about half that size:\r\n```\r\n198Mi solc\r\n196Mi solidity-upgrade\r\n 96Mi yul-phaser\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/937655175/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/954798347",
    "html_url": "https://github.com/ethereum/solidity/issues/11940#issuecomment-954798347",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/11940",
    "id": 954798347,
    "node_id": "IC_kwDOAm_5kc446REL",
    "user": {
      "login": "lightyear15",
      "id": 12190670,
      "node_id": "MDQ6VXNlcjEyMTkwNjcw",
      "avatar_url": "https://avatars.githubusercontent.com/u/12190670?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lightyear15",
      "html_url": "https://github.com/lightyear15",
      "followers_url": "https://api.github.com/users/lightyear15/followers",
      "following_url": "https://api.github.com/users/lightyear15/following{/other_user}",
      "gists_url": "https://api.github.com/users/lightyear15/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lightyear15/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lightyear15/subscriptions",
      "organizations_url": "https://api.github.com/users/lightyear15/orgs",
      "repos_url": "https://api.github.com/users/lightyear15/repos",
      "events_url": "https://api.github.com/users/lightyear15/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lightyear15/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-29T14:39:13Z",
    "updated_at": "2021-10-29T14:39:13Z",
    "author_association": "NONE",
    "body": "not seeing any progress here :confused: \r\nnow we are stuck to version 0.6.8, releases in the ``beta`` channel\r\n``stable`` channel is still stuck in ``0.5.16``",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/954798347/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/999014242",
    "html_url": "https://github.com/ethereum/solidity/issues/11940#issuecomment-999014242",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/11940",
    "id": 999014242,
    "node_id": "IC_kwDOAm_5kc47i79i",
    "user": {
      "login": "come-maiz",
      "id": 617831,
      "node_id": "MDQ6VXNlcjYxNzgzMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/617831?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/come-maiz",
      "html_url": "https://github.com/come-maiz",
      "followers_url": "https://api.github.com/users/come-maiz/followers",
      "following_url": "https://api.github.com/users/come-maiz/following{/other_user}",
      "gists_url": "https://api.github.com/users/come-maiz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/come-maiz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/come-maiz/subscriptions",
      "organizations_url": "https://api.github.com/users/come-maiz/orgs",
      "repos_url": "https://api.github.com/users/come-maiz/repos",
      "events_url": "https://api.github.com/users/come-maiz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/come-maiz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-12-21T18:49:55Z",
    "updated_at": "2021-12-21T18:49:55Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hello. I've checked the status today. The builds seem ok, only s390x and armhf failed today.\r\n\r\nThis is what we have in the edge channel.\r\n\r\n> solc --version\r\nsolc, the solidity compiler commandline interface\r\nVersion: 0.8.12-develop.2021.12.21+commit.b65e0933.Linux.g++\r\n\r\nSo what we are missing is to move from the edge channel to beta when there is a tag. This could be done manually, or automated on CI calling `snapcraft release`. And then to move to the stable channel, I think that should be done manually.\r\nThis could be useful: https://forum.snapcraft.io/t/selective-checkout-check-out-the-tagged-release-revision-if-it-isnt-promoted-to-the-stable-channel/10617\r\n\r\nHas anybody been testing the edge channel?\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/999014242/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/999918516",
    "html_url": "https://github.com/ethereum/solidity/issues/11940#issuecomment-999918516",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/11940",
    "id": 999918516,
    "node_id": "IC_kwDOAm_5kc47mYu0",
    "user": {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-12-22T22:29:09Z",
    "updated_at": "2021-12-22T22:29:09Z",
    "author_association": "MEMBER",
    "body": "Did you figure out why the binary is so big? Is it getting built in debug mode or something?\r\n\r\nOne thing that might be the cause is that in 0.8.1 we added defaults for build type (#10758) and the default is now `Release` - unless you're building inside a git repository - then it's `RelWithDebInfo`, which might explain the size.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/999918516/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1011516721",
    "html_url": "https://github.com/ethereum/solidity/issues/11940#issuecomment-1011516721",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/11940",
    "id": 1011516721,
    "node_id": "IC_kwDOAm_5kc48SoUx",
    "user": {
      "login": "mrx23dot",
      "id": 4163396,
      "node_id": "MDQ6VXNlcjQxNjMzOTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4163396?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mrx23dot",
      "html_url": "https://github.com/mrx23dot",
      "followers_url": "https://api.github.com/users/mrx23dot/followers",
      "following_url": "https://api.github.com/users/mrx23dot/following{/other_user}",
      "gists_url": "https://api.github.com/users/mrx23dot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mrx23dot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mrx23dot/subscriptions",
      "organizations_url": "https://api.github.com/users/mrx23dot/orgs",
      "repos_url": "https://api.github.com/users/mrx23dot/repos",
      "events_url": "https://api.github.com/users/mrx23dot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mrx23dot/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-12T22:42:47Z",
    "updated_at": "2022-01-12T22:42:47Z",
    "author_association": "NONE",
    "body": "Why does it uses so much space? I expect the binary be <5MB\r\nsudo snap install solc --edge\r\non debian 10\r\n\r\n /snap/solc/7114/usr/local/bin\r\n  560.2 MiB [##########]  solc\r\n  545.0 MiB [######### ]  solidity-upgrade\r\n  238.7 MiB [####      ]  yul-phaser\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1011516721/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
