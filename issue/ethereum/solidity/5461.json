{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/5461",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/5461/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/5461/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/5461/events",
  "html_url": "https://github.com/ethereum/solidity/issues/5461",
  "id": 382512137,
  "node_id": "MDU6SXNzdWUzODI1MTIxMzc=",
  "number": 5461,
  "title": "Feature Request: Events in function signatures (or, checked events)",
  "user": {
    "login": "moodysalem",
    "id": 7897876,
    "node_id": "MDQ6VXNlcjc4OTc4NzY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/7897876?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/moodysalem",
    "html_url": "https://github.com/moodysalem",
    "followers_url": "https://api.github.com/users/moodysalem/followers",
    "following_url": "https://api.github.com/users/moodysalem/following{/other_user}",
    "gists_url": "https://api.github.com/users/moodysalem/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/moodysalem/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/moodysalem/subscriptions",
    "organizations_url": "https://api.github.com/users/moodysalem/orgs",
    "repos_url": "https://api.github.com/users/moodysalem/repos",
    "events_url": "https://api.github.com/users/moodysalem/events{/privacy}",
    "received_events_url": "https://api.github.com/users/moodysalem/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 785717317,
      "node_id": "MDU6TGFiZWw3ODU3MTczMTc=",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/language%20design%20:rage4:",
      "name": "language design :rage4:",
      "color": "9d76d3",
      "default": false,
      "description": "Any changes to the language, e.g. new features"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2018-11-20T05:56:19Z",
  "updated_at": "2018-12-05T15:18:36Z",
  "closed_at": "2018-12-05T15:18:36Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "## Abstract\r\n\r\nProblem: I am writing an interface with events, and I want to make sure any implementations emit an event upon successful invocation\r\n\r\nSolution: Allow me to describe events that should be emitted in the function signature\r\n\r\n## Motivation\r\n\r\nThis will enforce at compile time that a function emits an event or throws, allowing for the interface to be a more complete specification of the contract\r\n\r\nThe information can be emitted in the ABI, though I don't have a great use case for the client except that partial ABIs can be provided that describe more side effects of the function\r\n\r\n## Specification\r\n\r\nbefore\r\n```solidity\r\ninterface Registry {\r\n  event LogRegister(address sender, string name, uint256 vendorId);\r\n\r\n  function register(string name) external \r\n    returns (uint256 vendorId);\r\n}\r\n```\r\nafter\r\n```solidity\r\ninterface Registry {\r\n  event LogRegister(address sender, string name, uint256 vendorId);\r\n\r\n  function register(string name) external \r\n    returns (uint256 vendorId) \r\n    emits (LogRegister(msg.sender, _, vendorId));\r\n}\r\n```\r\n\r\n## Not scoped\r\n\r\nThis specification doesn't work for a variable number of events to be emitted-that would need some sort of looping syntax which seems too complicated.\r\n\r\n## Backwards Compatibility\r\n\r\nThis is backwards compatible-the optional addition to the function signature just enforces a compile time check of contracts implementing the interface",
  "closed_by": {
    "login": "chriseth",
    "id": 9073706,
    "node_id": "MDQ6VXNlcjkwNzM3MDY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/chriseth",
    "html_url": "https://github.com/chriseth",
    "followers_url": "https://api.github.com/users/chriseth/followers",
    "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
    "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
    "organizations_url": "https://api.github.com/users/chriseth/orgs",
    "repos_url": "https://api.github.com/users/chriseth/repos",
    "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
    "received_events_url": "https://api.github.com/users/chriseth/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/5461/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/5461/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/442828601",
    "html_url": "https://github.com/ethereum/solidity/issues/5461#issuecomment-442828601",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/5461",
    "id": 442828601,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0MjgyODYwMQ==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-29T13:13:01Z",
    "updated_at": "2018-11-29T13:13:01Z",
    "author_association": "MEMBER",
    "body": "Sounds like a good extension of the interface concept!\r\n\r\nWould someone be willing to write a specification of an existing interface (like ERC20) in this way?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/442828601/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/443183664",
    "html_url": "https://github.com/ethereum/solidity/issues/5461#issuecomment-443183664",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/5461",
    "id": 443183664,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0MzE4MzY2NA==",
    "user": {
      "login": "erak",
      "id": 20012009,
      "node_id": "MDQ6VXNlcjIwMDEyMDA5",
      "avatar_url": "https://avatars.githubusercontent.com/u/20012009?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/erak",
      "html_url": "https://github.com/erak",
      "followers_url": "https://api.github.com/users/erak/followers",
      "following_url": "https://api.github.com/users/erak/following{/other_user}",
      "gists_url": "https://api.github.com/users/erak/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/erak/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/erak/subscriptions",
      "organizations_url": "https://api.github.com/users/erak/orgs",
      "repos_url": "https://api.github.com/users/erak/repos",
      "events_url": "https://api.github.com/users/erak/events{/privacy}",
      "received_events_url": "https://api.github.com/users/erak/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-30T12:02:30Z",
    "updated_at": "2018-11-30T12:02:30Z",
    "author_association": "COLLABORATOR",
    "body": "@chriseth How could such a specification look like? Does that mean one could take e.g. https://github.com/ethereum/EIPs/blob/master/EIPS/eip-20.md and then change the function signatures such that they follow this concept?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/443183664/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/443239726",
    "html_url": "https://github.com/ethereum/solidity/issues/5461#issuecomment-443239726",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/5461",
    "id": 443239726,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0MzIzOTcyNg==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-30T15:31:12Z",
    "updated_at": "2018-11-30T15:31:12Z",
    "author_association": "MEMBER",
    "body": "@bit-shift yes, exactly",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/443239726/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/444521792",
    "html_url": "https://github.com/ethereum/solidity/issues/5461#issuecomment-444521792",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/5461",
    "id": 444521792,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0NDUyMTc5Mg==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-12-05T15:18:36Z",
    "updated_at": "2018-12-05T15:18:36Z",
    "author_association": "MEMBER",
    "body": "Discussion in the team resulted in this being too underspecified and probably not be too useful in the end (does the event have to be emitted in all cases? Can you really not change the arguments? ...). Please re-open with a better specification and examples if you want this implemented.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/444521792/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
