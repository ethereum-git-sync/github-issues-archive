{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/9704",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/9704/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/9704/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/9704/events",
  "html_url": "https://github.com/ethereum/solidity/issues/9704",
  "id": 688858591,
  "node_id": "MDU6SXNzdWU2ODg4NTg1OTE=",
  "number": 9704,
  "title": "Allow solidity function type support library-external functions ",
  "user": {
    "login": "djken2006",
    "id": 21136162,
    "node_id": "MDQ6VXNlcjIxMTM2MTYy",
    "avatar_url": "https://avatars.githubusercontent.com/u/21136162?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/djken2006",
    "html_url": "https://github.com/djken2006",
    "followers_url": "https://api.github.com/users/djken2006/followers",
    "following_url": "https://api.github.com/users/djken2006/following{/other_user}",
    "gists_url": "https://api.github.com/users/djken2006/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/djken2006/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/djken2006/subscriptions",
    "organizations_url": "https://api.github.com/users/djken2006/orgs",
    "repos_url": "https://api.github.com/users/djken2006/repos",
    "events_url": "https://api.github.com/users/djken2006/events{/privacy}",
    "received_events_url": "https://api.github.com/users/djken2006/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2020-08-31T02:47:45Z",
  "updated_at": "2020-08-31T10:54:43Z",
  "closed_at": "2020-08-31T10:54:42Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "The following code leads to compilation error:\r\n\r\nArrayUtils.sol:34:32: TypeError: Invalid type for argument in function call. Invalid implicit conversion from function (uint256) pure returns (uint256) to function (uint256) pure external returns (uint256) requested.\r\n        return (arraySum(a, b, LibMath.square), arraySum(a, b, LibMath.cube));\r\n                               ^------------^\r\n```\r\nLibMath.sol\r\n// SPDX-License-Identifier: UNLICENSED\r\n\r\npragma solidity 0.7.0;\r\n\r\nlibrary LibMath {\r\n    function square(uint256 x) external pure returns (uint256) {\r\n        return x * x;\r\n    }\r\n\r\n    function cube(uint256 x) external pure returns (uint256) {\r\n        return x * x * x;\r\n    }\r\n}\r\n\r\nArrayUtils.sol\r\n// SPDX-License-Identifier: UNLICENSED\r\n\r\npragma solidity 0.7.0;\r\nimport \"./LibMath.sol\";\r\n\r\ncontract ArrayUtils {\r\n    function arraySum(\r\n        uint256[] memory a,\r\n        uint256[] memory b,\r\n        function(uint256) external pure returns (uint256) f\r\n    ) private pure returns (uint256) {\r\n\trequire(a.length == b.length);\r\n\t\t\r\n        uint256 sum = 0;\r\n        for (uint256 i = 0; i < a.length; i++) {\r\n            sum += f(a[i]) + f(b[i]);\r\n        }\r\n\t\t\r\n        return sum;\r\n    }\r\n\r\n    function test() public pure returns (uint256, uint256) {\r\n        uint256[] memory a = new uint256[](3);\r\n        uint256[] memory b = new uint256[](3);\r\n\r\n        a[0] = 1;\r\n        a[1] = 2;\r\n        a[2] = 3;\r\n\r\n        b[0] = 4;\r\n        b[1] = 5;\r\n        b[2] = 6;\r\n\r\n        return (arraySum(a, b, LibMath.square), arraySum(a, b, LibMath.cube));\r\n    }\r\n}\r\n```",
  "closed_by": {
    "login": "chriseth",
    "id": 9073706,
    "node_id": "MDQ6VXNlcjkwNzM3MDY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/chriseth",
    "html_url": "https://github.com/chriseth",
    "followers_url": "https://api.github.com/users/chriseth/followers",
    "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
    "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
    "organizations_url": "https://api.github.com/users/chriseth/orgs",
    "repos_url": "https://api.github.com/users/chriseth/repos",
    "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
    "received_events_url": "https://api.github.com/users/chriseth/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/9704/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/9704/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/683708038",
    "html_url": "https://github.com/ethereum/solidity/issues/9704#issuecomment-683708038",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/9704",
    "id": 683708038,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4MzcwODAzOA==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-31T10:54:42Z",
    "updated_at": "2020-08-31T10:54:42Z",
    "author_association": "MEMBER",
    "body": "Unfortunately, this is not possible. External function types use the `call` opcode while external library functions use the `delegatecall` opcode. An implicit conversion would be very misleading. Note that calling an external function on every array element is probably not what you want to do anyway because it gets very expensive.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/683708038/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
