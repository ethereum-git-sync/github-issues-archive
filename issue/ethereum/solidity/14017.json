{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/14017",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/14017/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/14017/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/14017/events",
  "html_url": "https://github.com/ethereum/solidity/issues/14017",
  "id": 1599590570,
  "node_id": "I_kwDOAm_5kc5fV9Cq",
  "number": 14017,
  "title": "Functions that contain \"unnamed return variables\" should trigger a compiler error and not a warning.",
  "user": {
    "login": "StErMi",
    "id": 146166,
    "node_id": "MDQ6VXNlcjE0NjE2Ng==",
    "avatar_url": "https://avatars.githubusercontent.com/u/146166?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/StErMi",
    "html_url": "https://github.com/StErMi",
    "followers_url": "https://api.github.com/users/StErMi/followers",
    "following_url": "https://api.github.com/users/StErMi/following{/other_user}",
    "gists_url": "https://api.github.com/users/StErMi/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/StErMi/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/StErMi/subscriptions",
    "organizations_url": "https://api.github.com/users/StErMi/orgs",
    "repos_url": "https://api.github.com/users/StErMi/repos",
    "events_url": "https://api.github.com/users/StErMi/events{/privacy}",
    "received_events_url": "https://api.github.com/users/StErMi/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 4525128519,
      "node_id": "LA_kwDOAm_5kc8AAAABDbf7Rw",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/needs%20design",
      "name": "needs design",
      "color": "18F737",
      "default": false,
      "description": "The proposal is too vague to be implemented right away"
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": {
    "url": "https://api.github.com/repos/ethereum/solidity/milestones/52",
    "html_url": "https://github.com/ethereum/solidity/milestone/52",
    "labels_url": "https://api.github.com/repos/ethereum/solidity/milestones/52/labels",
    "id": 8084058,
    "node_id": "MI_kwDOAm_5kc4Ae1pa",
    "number": 52,
    "title": "0.9.0",
    "description": "",
    "creator": {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 17,
    "closed_issues": 3,
    "state": "open",
    "created_at": "2022-06-15T13:38:10Z",
    "updated_at": "2023-03-22T12:36:35Z",
    "due_on": null,
    "closed_at": null
  },
  "comments": 4,
  "created_at": "2023-02-25T07:08:48Z",
  "updated_at": "2023-03-06T12:55:48Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "## Description\r\n\r\nI noticed that the compiler just throws a simple warning when your contract contains a function with \"unnamed return variables\" and that specific function does not have an explicit `return` statement.\r\n\r\nAfter compiling the code that you can see in the \"Steps to Reproduce\" section, the compiler outputs this \r\n\r\n```\r\nâžœ  solidity-noerror-returns git:(master) âœ— forge build\r\n[â ¢] Compiling...\r\n[â ’] Compiling 20 files with 0.8.19\r\n[â °] Solc 0.8.19 finished in 1.93s\r\nCompiler run successful (with warnings)\r\nwarning[6321]: Warning: Unnamed return variable can remain unassigned. Add an explicit return with value to all non-reverting code paths or name the variable.\r\n --> src/Contract.sol:8:76:\r\n  |\r\n8 |     function functionWithoutExplicitReturn(uint256 b) public view returns (uint256) {\r\n  |                                                                            ^^^^^^^\r\n\r\n\r\n\r\nwarning[6321]: Warning: Unnamed return variable can remain unassigned. Add an explicit return with value to all non-reverting code paths or name the variable.\r\n  --> src/Contract.sol:12:82:\r\n   |\r\n12 |     function functionWithoutExplicitReturnIfCase(uint256 b) public view returns (uint256) {\r\n   |                                                                                  ^^^^^^^\r\n\r\n```\r\n\r\nI honestly can't think about a common use case where you define a function that must return some values, and it does not require an explicit return statement.\r\n\r\nI think that this scenario should throw a compiler error and the developer must implement an explicit return statement to make the compilation finish successfully. \r\n\r\nI can easily see cases where the developer forgets to add the `return` statement and the function just returns `0` (the default value for `uint256` type). The problem is even more aggravated when the code is more complex and contains branches like in the `functionWithoutExplicitReturnIfCase` where this error could be missed by the developer.\r\n\r\nI think that functions with \"Unnamed return variables\" should always contain explicit `return` statements or `revert` for each possible branch.\r\n\r\n## Environment\r\n\r\n- Compiler version: 0.8.19\r\n- Framework/IDE (e.g. Truffle or Remix): foundry\r\n- Operating system: macOS\r\n\r\n## Steps to Reproduce\r\n\r\nSimply run `forge build`\r\n\r\n```solidity\r\n// SPDX-License-Identifier: Unlicense\r\npragma solidity 0.8.19;\r\n\r\n// solhint-disable-next-line no-empty-blocks\r\ncontract Contract {\r\n    uint256 private a = 1;\r\n\r\n    function functionWithoutExplicitReturn(uint256 b) public view returns (uint256) {\r\n        uint256 c = a + b;\r\n    }\r\n\r\n    function functionWithoutExplicitReturnIfCase(uint256 b) public view returns (uint256) {\r\n        uint256 c = a + b;\r\n\r\n        if (c > 10) {\r\n            return 100;\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n## Conclusion\r\n\r\nFunctions with \"Unnamed return variables\" should always contain explicit `return` statements or `revert` for each possible branch. \r\n\r\nIf not, the compiler should throw an error and force the user to fix it.\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/14017/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/14017/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1447060000",
    "html_url": "https://github.com/ethereum/solidity/issues/14017#issuecomment-1447060000",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/14017",
    "id": 1447060000,
    "node_id": "IC_kwDOAm_5kc5WQGIg",
    "user": {
      "login": "AMIRucp",
      "id": 126518344,
      "node_id": "U_kgDOB4qESA",
      "avatar_url": "https://avatars.githubusercontent.com/u/126518344?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AMIRucp",
      "html_url": "https://github.com/AMIRucp",
      "followers_url": "https://api.github.com/users/AMIRucp/followers",
      "following_url": "https://api.github.com/users/AMIRucp/following{/other_user}",
      "gists_url": "https://api.github.com/users/AMIRucp/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AMIRucp/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AMIRucp/subscriptions",
      "organizations_url": "https://api.github.com/users/AMIRucp/orgs",
      "repos_url": "https://api.github.com/users/AMIRucp/repos",
      "events_url": "https://api.github.com/users/AMIRucp/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AMIRucp/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-27T20:44:38Z",
    "updated_at": "2023-02-27T20:44:38Z",
    "author_association": "NONE",
    "body": "ðŸ’¯",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1447060000/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1449383534",
    "html_url": "https://github.com/ethereum/solidity/issues/14017#issuecomment-1449383534",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/14017",
    "id": 1449383534,
    "node_id": "IC_kwDOAm_5kc5WY9Zu",
    "user": {
      "login": "Sol-Devloper",
      "id": 93460126,
      "node_id": "U_kgDOBZIWng",
      "avatar_url": "https://avatars.githubusercontent.com/u/93460126?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Sol-Devloper",
      "html_url": "https://github.com/Sol-Devloper",
      "followers_url": "https://api.github.com/users/Sol-Devloper/followers",
      "following_url": "https://api.github.com/users/Sol-Devloper/following{/other_user}",
      "gists_url": "https://api.github.com/users/Sol-Devloper/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Sol-Devloper/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Sol-Devloper/subscriptions",
      "organizations_url": "https://api.github.com/users/Sol-Devloper/orgs",
      "repos_url": "https://api.github.com/users/Sol-Devloper/repos",
      "events_url": "https://api.github.com/users/Sol-Devloper/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Sol-Devloper/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-03-01T05:42:57Z",
    "updated_at": "2023-03-01T05:42:57Z",
    "author_association": "NONE",
    "body": "I agree this will be very useful. However, It does not cause any issues because we are likely to return a value in pure function, and most of the developers do read the compiler warnings. Great recommendation though.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1449383534/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1449424214",
    "html_url": "https://github.com/ethereum/solidity/issues/14017#issuecomment-1449424214",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/14017",
    "id": 1449424214,
    "node_id": "IC_kwDOAm_5kc5WZHVW",
    "user": {
      "login": "StErMi",
      "id": 146166,
      "node_id": "MDQ6VXNlcjE0NjE2Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/146166?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/StErMi",
      "html_url": "https://github.com/StErMi",
      "followers_url": "https://api.github.com/users/StErMi/followers",
      "following_url": "https://api.github.com/users/StErMi/following{/other_user}",
      "gists_url": "https://api.github.com/users/StErMi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/StErMi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/StErMi/subscriptions",
      "organizations_url": "https://api.github.com/users/StErMi/orgs",
      "repos_url": "https://api.github.com/users/StErMi/repos",
      "events_url": "https://api.github.com/users/StErMi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/StErMi/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-03-01T06:25:51Z",
    "updated_at": "2023-03-01T06:25:51Z",
    "author_association": "NONE",
    "body": "> It does not cause any issues because we are likely to return a value in pure function\r\n\r\nCould elaborate? What do you mean? Without an explicit return, the values that will be returned are the default one of the type specified in the `returns` keyword. \r\n\r\n> most of the developers do read the compiler warnings\r\n\r\nIn a perfect world, I would say that, but I would rather get a blocking compile error rather than deploying a smart contracts that is broken.\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1449424214/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1456080770",
    "html_url": "https://github.com/ethereum/solidity/issues/14017#issuecomment-1456080770",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/14017",
    "id": 1456080770,
    "node_id": "IC_kwDOAm_5kc5WygeC",
    "user": {
      "login": "nikola-matic",
      "id": 4415530,
      "node_id": "MDQ6VXNlcjQ0MTU1MzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4415530?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nikola-matic",
      "html_url": "https://github.com/nikola-matic",
      "followers_url": "https://api.github.com/users/nikola-matic/followers",
      "following_url": "https://api.github.com/users/nikola-matic/following{/other_user}",
      "gists_url": "https://api.github.com/users/nikola-matic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nikola-matic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nikola-matic/subscriptions",
      "organizations_url": "https://api.github.com/users/nikola-matic/orgs",
      "repos_url": "https://api.github.com/users/nikola-matic/repos",
      "events_url": "https://api.github.com/users/nikola-matic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nikola-matic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-03-06T12:55:48Z",
    "updated_at": "2023-03-06T12:55:48Z",
    "author_association": "MEMBER",
    "body": "The request makes sense, and we will (most likely) eventually implement this (implicit returns in general), however this would have to be shipped with a breaking release for obvious reasons. I've marked it as part of the `0.9.0` milestone, but again, given that we have higher priority issues, there's no guarantee that it will be shipped with `0.9.0`; we will however go through the entire list of `0.9.0` issues and will select whatever is feasible for implementation at that moment.\r\n\r\nAlso, I might later open a general `implicit returns/named variables` issue and link this one (and the others like it) so we have them under the same umbrella. Just notifying in advance in case we close this issue :)",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1456080770/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
