{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/3115",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/3115/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/3115/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/3115/events",
  "html_url": "https://github.com/ethereum/solidity/issues/3115",
  "id": 267080769,
  "node_id": "MDU6SXNzdWUyNjcwODA3Njk=",
  "number": 3115,
  "title": "'msg.sender.send' means sending ether to the sender?",
  "user": {
    "login": "howtomakeaturn",
    "id": 1255050,
    "node_id": "MDQ6VXNlcjEyNTUwNTA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1255050?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/howtomakeaturn",
    "html_url": "https://github.com/howtomakeaturn",
    "followers_url": "https://api.github.com/users/howtomakeaturn/followers",
    "following_url": "https://api.github.com/users/howtomakeaturn/following{/other_user}",
    "gists_url": "https://api.github.com/users/howtomakeaturn/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/howtomakeaturn/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/howtomakeaturn/subscriptions",
    "organizations_url": "https://api.github.com/users/howtomakeaturn/orgs",
    "repos_url": "https://api.github.com/users/howtomakeaturn/repos",
    "events_url": "https://api.github.com/users/howtomakeaturn/events{/privacy}",
    "received_events_url": "https://api.github.com/users/howtomakeaturn/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2017-10-20T07:00:34Z",
  "updated_at": "2019-03-20T09:55:30Z",
  "closed_at": "2017-10-24T14:24:40Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Hi guys,\r\n\r\nI'm reading the official tutorial here:\r\n\r\nhttps://ethereum.org/token\r\n\r\nand in this part:\r\n\r\n```\r\n    function buy() payable returns (uint amount){\r\n        amount = msg.value / buyPrice;                    // calculates the amount\r\n        require(balanceOf[this] >= amount);               // checks if it has enough to sell\r\n        balanceOf[msg.sender] += amount;                  // adds the amount to buyer's balance\r\n        balanceOf[this] -= amount;                        // subtracts amount from seller's balance\r\n        Transfer(this, msg.sender, amount);               // execute an event reflecting the change\r\n        return amount;                                    // ends function and returns\r\n    }\r\n\r\n    function sell(uint amount) returns (uint revenue){\r\n        require(balanceOf[msg.sender] >= amount);         // checks if the sender has enough to sell\r\n        balanceOf[this] += amount;                        // adds the amount to owner's balance\r\n        balanceOf[msg.sender] -= amount;                  // subtracts the amount from seller's balance\r\n        revenue = amount * sellPrice;\r\n        require(msg.sender.send(revenue));                // sends ether to the seller: it's important to do this last to prevent recursion attacks\r\n        Transfer(msg.sender, this, amount);               // executes an event reflecting on the change\r\n        return revenue;                                   // ends function and returns\r\n    }\r\n```\r\n\r\nI found the code looks a bit weird:\r\n\r\n```\r\n        require(msg.sender.send(revenue));                // sends ether to the seller: it's important to do this last to prevent recursion attacks\r\n```\r\nBecause 'msg.sender.send' looks like the sender is sending ether to someone, not receiving from someone.\r\n\r\nI'm just curious about the design, and maybe renaming it to something else could be better?",
  "closed_by": {
    "login": "howtomakeaturn",
    "id": 1255050,
    "node_id": "MDQ6VXNlcjEyNTUwNTA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1255050?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/howtomakeaturn",
    "html_url": "https://github.com/howtomakeaturn",
    "followers_url": "https://api.github.com/users/howtomakeaturn/followers",
    "following_url": "https://api.github.com/users/howtomakeaturn/following{/other_user}",
    "gists_url": "https://api.github.com/users/howtomakeaturn/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/howtomakeaturn/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/howtomakeaturn/subscriptions",
    "organizations_url": "https://api.github.com/users/howtomakeaturn/orgs",
    "repos_url": "https://api.github.com/users/howtomakeaturn/repos",
    "events_url": "https://api.github.com/users/howtomakeaturn/events{/privacy}",
    "received_events_url": "https://api.github.com/users/howtomakeaturn/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/3115/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/3115/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/338124676",
    "html_url": "https://github.com/ethereum/solidity/issues/3115#issuecomment-338124676",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/3115",
    "id": 338124676,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzODEyNDY3Ng==",
    "user": {
      "login": "howtomakeaturn",
      "id": 1255050,
      "node_id": "MDQ6VXNlcjEyNTUwNTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1255050?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/howtomakeaturn",
      "html_url": "https://github.com/howtomakeaturn",
      "followers_url": "https://api.github.com/users/howtomakeaturn/followers",
      "following_url": "https://api.github.com/users/howtomakeaturn/following{/other_user}",
      "gists_url": "https://api.github.com/users/howtomakeaturn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/howtomakeaturn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/howtomakeaturn/subscriptions",
      "organizations_url": "https://api.github.com/users/howtomakeaturn/orgs",
      "repos_url": "https://api.github.com/users/howtomakeaturn/repos",
      "events_url": "https://api.github.com/users/howtomakeaturn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/howtomakeaturn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-20T07:10:25Z",
    "updated_at": "2017-10-20T07:10:25Z",
    "author_association": "NONE",
    "body": "I saw the doc:\r\n\r\nhttp://solidity.readthedocs.io/en/develop/types.html#members-of-addresses\r\n\r\nSo the 'send' is the reverse action of 'transfer'.\r\n\r\nI'm thinking maybe something like 'receive' could be more clear?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/338124676/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/338126921",
    "html_url": "https://github.com/ethereum/solidity/issues/3115#issuecomment-338126921",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/3115",
    "id": 338126921,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzODEyNjkyMQ==",
    "user": {
      "login": "o0ragman0o",
      "id": 12790330,
      "node_id": "MDQ6VXNlcjEyNzkwMzMw",
      "avatar_url": "https://avatars.githubusercontent.com/u/12790330?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/o0ragman0o",
      "html_url": "https://github.com/o0ragman0o",
      "followers_url": "https://api.github.com/users/o0ragman0o/followers",
      "following_url": "https://api.github.com/users/o0ragman0o/following{/other_user}",
      "gists_url": "https://api.github.com/users/o0ragman0o/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/o0ragman0o/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/o0ragman0o/subscriptions",
      "organizations_url": "https://api.github.com/users/o0ragman0o/orgs",
      "repos_url": "https://api.github.com/users/o0ragman0o/repos",
      "events_url": "https://api.github.com/users/o0ragman0o/events{/privacy}",
      "received_events_url": "https://api.github.com/users/o0ragman0o/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-20T07:22:32Z",
    "updated_at": "2017-10-20T07:22:32Z",
    "author_association": "NONE",
    "body": "`msg.sender` is selling tokens to the contract and receiving ether in\nreturn, so the contract must send ether to `msg.sender`.\n\nOn 20 October 2017 at 17:10, 尤 川豪 <notifications@github.com> wrote:\n\n> I saw the doc:\n>\n> http://solidity.readthedocs.io/en/develop/types.html#members-of-addresses\n>\n> So the 'send' is the reverse action of 'transfer'.\n>\n> I'm thinking maybe something like 'receive' could be more clear?\n>\n> —\n> You are receiving this because you are subscribed to this thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/ethereum/solidity/issues/3115#issuecomment-338124676>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AMMqOkXhQA2QW7jZCfzTrOitk3GLzvIZks5suEdogaJpZM4QAQpB>\n> .\n>\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/338126921/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/338128671",
    "html_url": "https://github.com/ethereum/solidity/issues/3115#issuecomment-338128671",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/3115",
    "id": 338128671,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzODEyODY3MQ==",
    "user": {
      "login": "howtomakeaturn",
      "id": 1255050,
      "node_id": "MDQ6VXNlcjEyNTUwNTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1255050?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/howtomakeaturn",
      "html_url": "https://github.com/howtomakeaturn",
      "followers_url": "https://api.github.com/users/howtomakeaturn/followers",
      "following_url": "https://api.github.com/users/howtomakeaturn/following{/other_user}",
      "gists_url": "https://api.github.com/users/howtomakeaturn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/howtomakeaturn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/howtomakeaturn/subscriptions",
      "organizations_url": "https://api.github.com/users/howtomakeaturn/orgs",
      "repos_url": "https://api.github.com/users/howtomakeaturn/repos",
      "events_url": "https://api.github.com/users/howtomakeaturn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/howtomakeaturn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-20T07:31:52Z",
    "updated_at": "2017-10-20T07:32:16Z",
    "author_association": "NONE",
    "body": "Hi, thanks for the reply. \r\nNow I know 'msg.sender.send' means the contract sends ether to 'msg.sender'.\r\nI just feel the syntax itself is a bit confusing. \r\nBecause 'msg.sender.send' looks like sending ether from the sender, not to the sender.\r\nAnyway ... not big issue ... thanks!",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/338128671/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/338129798",
    "html_url": "https://github.com/ethereum/solidity/issues/3115#issuecomment-338129798",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/3115",
    "id": 338129798,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzODEyOTc5OA==",
    "user": {
      "login": "o0ragman0o",
      "id": 12790330,
      "node_id": "MDQ6VXNlcjEyNzkwMzMw",
      "avatar_url": "https://avatars.githubusercontent.com/u/12790330?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/o0ragman0o",
      "html_url": "https://github.com/o0ragman0o",
      "followers_url": "https://api.github.com/users/o0ragman0o/followers",
      "following_url": "https://api.github.com/users/o0ragman0o/following{/other_user}",
      "gists_url": "https://api.github.com/users/o0ragman0o/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/o0ragman0o/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/o0ragman0o/subscriptions",
      "organizations_url": "https://api.github.com/users/o0ragman0o/orgs",
      "repos_url": "https://api.github.com/users/o0ragman0o/repos",
      "events_url": "https://api.github.com/users/o0ragman0o/events{/privacy}",
      "received_events_url": "https://api.github.com/users/o0ragman0o/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-20T07:37:43Z",
    "updated_at": "2017-10-20T07:37:43Z",
    "author_association": "NONE",
    "body": "`msg.sender` is an `address` object with `send` (and `transfer`) being a\nmethod of `address`.\n\nOn 20 October 2017 at 17:31, 尤 川豪 <notifications@github.com> wrote:\n\n> Hi, thanks for the reply.\n> Now I know 'msg.sender.send' means the contract sends ether to\n> 'msg.sender'.\n> I just feel the syntax itself is a bit confusing.\n> Because 'msg.sender.send' looks like sending ether from the sender.\n> Anyway ... not big issue ... thanks!\n>\n> —\n> You are receiving this because you commented.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/ethereum/solidity/issues/3115#issuecomment-338128671>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AMMqOh6t-4RATGYAhMhF86LDA_CvrWR4ks5suExsgaJpZM4QAQpB>\n> .\n>\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/338129798/reactions",
      "total_count": 7,
      "+1": 7,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/474761185",
    "html_url": "https://github.com/ethereum/solidity/issues/3115#issuecomment-474761185",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/3115",
    "id": 474761185,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3NDc2MTE4NQ==",
    "user": {
      "login": "EnchanterIO",
      "id": 3595242,
      "node_id": "MDQ6VXNlcjM1OTUyNDI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3595242?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/EnchanterIO",
      "html_url": "https://github.com/EnchanterIO",
      "followers_url": "https://api.github.com/users/EnchanterIO/followers",
      "following_url": "https://api.github.com/users/EnchanterIO/following{/other_user}",
      "gists_url": "https://api.github.com/users/EnchanterIO/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/EnchanterIO/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/EnchanterIO/subscriptions",
      "organizations_url": "https://api.github.com/users/EnchanterIO/orgs",
      "repos_url": "https://api.github.com/users/EnchanterIO/repos",
      "events_url": "https://api.github.com/users/EnchanterIO/events{/privacy}",
      "received_events_url": "https://api.github.com/users/EnchanterIO/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-20T09:55:29Z",
    "updated_at": "2019-03-20T09:55:29Z",
    "author_association": "NONE",
    "body": "Didn't write any Solidity code for few months and now in 2019 I googled the same question just to be sure. I find it also a bit confusing but @o0ragman0o explanation is definitely clear. Not suggesting it to change but smth like this would have been more clear imo. as people are used to such a syntax more:\r\n\r\n```\r\nthis.transfer(msg.sender);\r\n```\r\n\r\nWhere \"this\" would refer to SC.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/474761185/reactions",
      "total_count": 5,
      "+1": 5,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
