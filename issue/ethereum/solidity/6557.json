{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/6557",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/6557/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/6557/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/6557/events",
  "html_url": "https://github.com/ethereum/solidity/issues/6557",
  "id": 434865733,
  "node_id": "MDU6SXNzdWU0MzQ4NjU3MzM=",
  "number": 6557,
  "title": "Unable to run a for loop",
  "user": {
    "login": "DiegoCoyote",
    "id": 47536070,
    "node_id": "MDQ6VXNlcjQ3NTM2MDcw",
    "avatar_url": "https://avatars.githubusercontent.com/u/47536070?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/DiegoCoyote",
    "html_url": "https://github.com/DiegoCoyote",
    "followers_url": "https://api.github.com/users/DiegoCoyote/followers",
    "following_url": "https://api.github.com/users/DiegoCoyote/following{/other_user}",
    "gists_url": "https://api.github.com/users/DiegoCoyote/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/DiegoCoyote/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/DiegoCoyote/subscriptions",
    "organizations_url": "https://api.github.com/users/DiegoCoyote/orgs",
    "repos_url": "https://api.github.com/users/DiegoCoyote/repos",
    "events_url": "https://api.github.com/users/DiegoCoyote/events{/privacy}",
    "received_events_url": "https://api.github.com/users/DiegoCoyote/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2019-04-18T16:56:10Z",
  "updated_at": "2019-04-19T09:11:24Z",
  "closed_at": "2019-04-19T09:11:24Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Hello. I'm quite new in solidity and in GitHub, so I hope this issue can fit here.\r\nI'm just making simple smart contracts to test what I'm learning, and I can't run a for loop.\r\nThe code I'm trying to run is:\r\n```\r\npragma solidity ^0.5.0;\r\ncontract test {\r\n  function forLoopTest(uint a) public pure returns (uint) {\r\n    uint y = 1;\r\n     for (uint i = 0; i < a; i++) {\r\n      y = 2 * y;\r\n  }\r\n  return y;\r\n  }\r\n}\r\n```\r\nI have used on line Remix to test mi code, and I got this warning:\r\n>Gas requirement of function test.forLoopTest(uint256) high: infinite. If the gas requirement of a function is higher than the block gas limit, it cannot be executed. Please avoid loops in your functions or actions that modify large areas of storage (this includes clearing or copying arrays in storage)\r\n\r\nWhen I try to run this code locally in my Windows 10, using the Truffle suite (Truffle v5.0.12 (core: 5.0.12); Solidity v0.5.0 (solc-js); Node v10.15.1; Web3.js v1.0.0-beta.37; Ganache V 2.0.1) I get the next error when I pass any number as parameter \"a\", i.e. 10.\r\n>Error: Returned error: VM Exception while processing transaction: revert\r\n    at XMLHttpRequest._onHttpResponseEnd (C:\\Users\\diego\\AppData\\Roaming\\npm\\node_modules\\truffle\\build\\webpack:\\~\\xhr2-cookies\\dist\\xml-http-request.js:318:1)\r\n    at XMLHttpRequest._setReadyState (C:\\Users\\diego\\AppData\\Roaming\\npm\\node_modules\\truffle\\build\\webpack:\\~\\xhr2-cookies\\dist\\xml-http-request.js:208:1)\r\n    at XMLHttpRequestEventTarget.dispatchEvent (C:\\Users\\diego\\AppData\\Roaming\\npm\\node_modules\\truffle\\build\\webpack:\\~\\xhr2-cookies\\dist\\xml-http-request-event-target.js:34:1)\r\n    at XMLHttpRequest.request.onreadystatechange (C:\\Users\\diego\\AppData\\Roaming\\npm\\node_modules\\truffle\\build\\webpack:\\~\\web3\\~\\web3-providers-http\\src\\index.js:96:1)\r\n    at C:\\Users\\diego\\AppData\\Roaming\\npm\\node_modules\\truffle\\build\\webpack:\\packages\\truffle-provider\\wrapper.js:112:1\r\n    at C:\\Users\\diego\\AppData\\Roaming\\npm\\node_modules\\truffle\\build\\webpack:\\~\\web3-eth-contract\\~\\web3-core-requestmanager\\src\\index.js:140:1\r\n    at Object.ErrorResponse (C:\\Users\\diego\\AppData\\Roaming\\npm\\node_modules\\truffle\\build\\webpack:\\~\\web3-eth-contract\\~\\web3-core-helpers\\src\\errors.js:29:1)\r\n\r\nI don't know why I get a warning about infinite gas use in the Remix editor, and that error using Truffle, because the loop is quite small. What's more, I get the same warning in Remix and the same error in Truffle when I write this code where the loop is set to 10, without, IMO, any possibility of an infinite loop:\r\n```\r\nfunction forLoopTestTwo() public pure returns (uint) {\r\n    uint a = 10;\r\n    uint y = 1;\r\n    for (uint i = 0; i < a; i++) {\r\n      y = 2 * y;\r\n  }\r\n  return y;\r\n  }\r\n```\r\nI have run some Truffle tutorials and other test contracts to try, for example, add, divide and so on, and those worked perfectly, so I guess my development environment is set up properly.\r\n\r\nI'd be glad if anyone could help me to write a 'for loop' (or any other loop, because I've got the same problems with a 'while loop'), and to explain me what I'm doing wrong.\r\nThanks in advance.",
  "closed_by": {
    "login": "leonardoalt",
    "id": 504195,
    "node_id": "MDQ6VXNlcjUwNDE5NQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/504195?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/leonardoalt",
    "html_url": "https://github.com/leonardoalt",
    "followers_url": "https://api.github.com/users/leonardoalt/followers",
    "following_url": "https://api.github.com/users/leonardoalt/following{/other_user}",
    "gists_url": "https://api.github.com/users/leonardoalt/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/leonardoalt/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/leonardoalt/subscriptions",
    "organizations_url": "https://api.github.com/users/leonardoalt/orgs",
    "repos_url": "https://api.github.com/users/leonardoalt/repos",
    "events_url": "https://api.github.com/users/leonardoalt/events{/privacy}",
    "received_events_url": "https://api.github.com/users/leonardoalt/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/6557/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/6557/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/484682127",
    "html_url": "https://github.com/ethereum/solidity/issues/6557#issuecomment-484682127",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/6557",
    "id": 484682127,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4NDY4MjEyNw==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-04-18T20:39:36Z",
    "updated_at": "2019-04-18T20:39:36Z",
    "author_association": "MEMBER",
    "body": "At a first glance, your code seems fine. You can ignore the warning given by Remix, it is just a reminder that this could be dangerous. Imagine passing `2**255` for the argument of the function. It is not possible to complete the loop before the universe ends and you could certainly not pay for the execution. The warning is also present for the second loop just because the algorithm to determine that is not too clever.\r\n\r\nUnfortunately, I cannot help you with the truffle error, though.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/484682127/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/484801821",
    "html_url": "https://github.com/ethereum/solidity/issues/6557#issuecomment-484801821",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/6557",
    "id": 484801821,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4NDgwMTgyMQ==",
    "user": {
      "login": "DiegoCoyote",
      "id": 47536070,
      "node_id": "MDQ6VXNlcjQ3NTM2MDcw",
      "avatar_url": "https://avatars.githubusercontent.com/u/47536070?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DiegoCoyote",
      "html_url": "https://github.com/DiegoCoyote",
      "followers_url": "https://api.github.com/users/DiegoCoyote/followers",
      "following_url": "https://api.github.com/users/DiegoCoyote/following{/other_user}",
      "gists_url": "https://api.github.com/users/DiegoCoyote/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DiegoCoyote/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DiegoCoyote/subscriptions",
      "organizations_url": "https://api.github.com/users/DiegoCoyote/orgs",
      "repos_url": "https://api.github.com/users/DiegoCoyote/repos",
      "events_url": "https://api.github.com/users/DiegoCoyote/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DiegoCoyote/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-04-19T08:09:23Z",
    "updated_at": "2019-04-19T08:09:23Z",
    "author_association": "NONE",
    "body": "Thanks for clarify me about the warning (and for the possible error my code may produce), and for tell me that the code seems OK, I'll keep on trying to get my code working. I'll create a totally new project, just in case there were something wrong in the environment I were using.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/484801821/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/484821026",
    "html_url": "https://github.com/ethereum/solidity/issues/6557#issuecomment-484821026",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/6557",
    "id": 484821026,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4NDgyMTAyNg==",
    "user": {
      "login": "leonardoalt",
      "id": 504195,
      "node_id": "MDQ6VXNlcjUwNDE5NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/504195?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/leonardoalt",
      "html_url": "https://github.com/leonardoalt",
      "followers_url": "https://api.github.com/users/leonardoalt/followers",
      "following_url": "https://api.github.com/users/leonardoalt/following{/other_user}",
      "gists_url": "https://api.github.com/users/leonardoalt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/leonardoalt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/leonardoalt/subscriptions",
      "organizations_url": "https://api.github.com/users/leonardoalt/orgs",
      "repos_url": "https://api.github.com/users/leonardoalt/repos",
      "events_url": "https://api.github.com/users/leonardoalt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/leonardoalt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-04-19T09:11:24Z",
    "updated_at": "2019-04-19T09:11:24Z",
    "author_association": "MEMBER",
    "body": "@DiegoCoyote I ran your code on Remix (with the JavaScript VM) and it worked fine, so this does seem related to truffle and/or the truffle setup. It's probably easier to open an issue on the Truffle project and ask there.\r\n\r\nClosing since the issue is likely related to Truffle. Please reopen otherwise.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/484821026/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
