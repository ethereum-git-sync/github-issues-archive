{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/34",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/34/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/34/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/34/events",
  "html_url": "https://github.com/ethereum/solidity/issues/34",
  "id": 103530159,
  "node_id": "MDU6SXNzdWUxMDM1MzAxNTk=",
  "number": 34,
  "title": "Converting bytes32 to int always returning 0",
  "user": {
    "login": "aakilfernandes",
    "id": 1577353,
    "node_id": "MDQ6VXNlcjE1NzczNTM=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1577353?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/aakilfernandes",
    "html_url": "https://github.com/aakilfernandes",
    "followers_url": "https://api.github.com/users/aakilfernandes/followers",
    "following_url": "https://api.github.com/users/aakilfernandes/following{/other_user}",
    "gists_url": "https://api.github.com/users/aakilfernandes/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/aakilfernandes/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/aakilfernandes/subscriptions",
    "organizations_url": "https://api.github.com/users/aakilfernandes/orgs",
    "repos_url": "https://api.github.com/users/aakilfernandes/repos",
    "events_url": "https://api.github.com/users/aakilfernandes/events{/privacy}",
    "received_events_url": "https://api.github.com/users/aakilfernandes/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 249074438,
      "node_id": "MDU6TGFiZWwyNDkwNzQ0Mzg=",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/help%20wanted",
      "name": "help wanted",
      "color": "159818",
      "default": true,
      "description": null
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2015-08-27T15:01:23Z",
  "updated_at": "2015-08-30T00:31:05Z",
  "closed_at": "2015-08-30T00:31:05Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Not sure if I this is a bug or I misunderstand how it should work, but the following function returns 0 for all blocks\n\n`block.blockhash(blockIndex)` returns a `bytes32` so I was expecting a `uint256`\n\n```\nfunction getHashOfBlock(uint blockIndex) constant returns(uint){\n    return uint(block.blockhash(blockIndex));\n}\n```\n",
  "closed_by": {
    "login": "aakilfernandes",
    "id": 1577353,
    "node_id": "MDQ6VXNlcjE1NzczNTM=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1577353?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/aakilfernandes",
    "html_url": "https://github.com/aakilfernandes",
    "followers_url": "https://api.github.com/users/aakilfernandes/followers",
    "following_url": "https://api.github.com/users/aakilfernandes/following{/other_user}",
    "gists_url": "https://api.github.com/users/aakilfernandes/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/aakilfernandes/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/aakilfernandes/subscriptions",
    "organizations_url": "https://api.github.com/users/aakilfernandes/orgs",
    "repos_url": "https://api.github.com/users/aakilfernandes/repos",
    "events_url": "https://api.github.com/users/aakilfernandes/events{/privacy}",
    "received_events_url": "https://api.github.com/users/aakilfernandes/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/34/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/34/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/135729137",
    "html_url": "https://github.com/ethereum/solidity/issues/34#issuecomment-135729137",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/34",
    "id": 135729137,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzNTcyOTEzNw==",
    "user": {
      "login": "LianaHus",
      "id": 9685356,
      "node_id": "MDQ6VXNlcjk2ODUzNTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9685356?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/LianaHus",
      "html_url": "https://github.com/LianaHus",
      "followers_url": "https://api.github.com/users/LianaHus/followers",
      "following_url": "https://api.github.com/users/LianaHus/following{/other_user}",
      "gists_url": "https://api.github.com/users/LianaHus/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/LianaHus/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/LianaHus/subscriptions",
      "organizations_url": "https://api.github.com/users/LianaHus/orgs",
      "repos_url": "https://api.github.com/users/LianaHus/repos",
      "events_url": "https://api.github.com/users/LianaHus/events{/privacy}",
      "received_events_url": "https://api.github.com/users/LianaHus/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-08-28T10:27:09Z",
    "updated_at": "2015-08-28T10:27:09Z",
    "author_association": "MEMBER",
    "body": "http://gavwood.com/paper.pdf page 25.\n\"0 is left on the stack if the looked for block number is greater than the current block number\nor more than 256 blocks behind the current block\"\nPlease check if this is your case. I think this is not because of conversion but because the blockhash returns 0.\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/135729137/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/135768159",
    "html_url": "https://github.com/ethereum/solidity/issues/34#issuecomment-135768159",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/34",
    "id": 135768159,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzNTc2ODE1OQ==",
    "user": {
      "login": "aakilfernandes",
      "id": 1577353,
      "node_id": "MDQ6VXNlcjE1NzczNTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1577353?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aakilfernandes",
      "html_url": "https://github.com/aakilfernandes",
      "followers_url": "https://api.github.com/users/aakilfernandes/followers",
      "following_url": "https://api.github.com/users/aakilfernandes/following{/other_user}",
      "gists_url": "https://api.github.com/users/aakilfernandes/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aakilfernandes/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aakilfernandes/subscriptions",
      "organizations_url": "https://api.github.com/users/aakilfernandes/orgs",
      "repos_url": "https://api.github.com/users/aakilfernandes/repos",
      "events_url": "https://api.github.com/users/aakilfernandes/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aakilfernandes/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-08-28T13:00:07Z",
    "updated_at": "2015-08-30T00:30:09Z",
    "author_association": "NONE",
    "body": "Just checked again, its for blocks I have in my chain already (even the current block)\n\nHere's the live contract you can test against \n\nhttps://github.com/etherpot/contract/blob/master/app/contracts/lotto.sol#L105-L107\nhttps://etherchain.org/account/0x539f2912831125c9b86451420bc0d37b219587f9\n\nYou can reproduce by putting the following lines in your geth console\n\n```\n> var LottoAbi = [{\"constant\":true,\"inputs\":[{\"name\":\"roundIndex\",\"type\":\"uint256\"}],\"name\":\"getPot\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"roundIndex\",\"type\":\"uint256\"},{\"name\":\"buyer\",\"type\":\"address\"}],\"name\":\"getTicketsCountByBuyer\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"roundIndex\",\"type\":\"uint256\"},{\"name\":\"subpotIndex\",\"type\":\"uint256\"}],\"name\":\"getIsCashed\",\"outputs\":[{\"name\":\"\",\"type\":\"bool\"}],\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"roundIndex\",\"type\":\"uint256\"},{\"name\":\"buyer\",\"type\":\"address\"}],\"name\":\"getBuyers\",\"outputs\":[{\"name\":\"\",\"type\":\"address[]\"}],\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"roundIndex\",\"type\":\"uint256\"}],\"name\":\"getSubpotsCount\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"roundIndex\",\"type\":\"uint256\"},{\"name\":\"subpotIndex\",\"type\":\"uint256\"}],\"name\":\"calculateWinner\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"getRoundIndex\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"blockIndex\",\"type\":\"uint256\"}],\"name\":\"getHashOfBlock\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"getBlocksPerRound\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"getTicketPrice\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"roundIndex\",\"type\":\"uint256\"}],\"name\":\"getSubpot\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"roundIndex\",\"type\":\"uint256\"},{\"name\":\"subpotIndex\",\"type\":\"uint256\"}],\"name\":\"cash\",\"outputs\":[],\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"roundIndex\",\"type\":\"uint256\"},{\"name\":\"subpotIndex\",\"type\":\"uint256\"}],\"name\":\"getDecisionBlockNumber\",\"outputs\":[{\"name\":\"\",\"type\":\"uint256\"}],\"type\":\"function\"}]\n\n> var Lotto = web3.eth.contract(LottoAbi).at('0x539f2912831125c9b86451420bc0d37b219587f9')\n\n> Lotto.getHashOfBlock(0)\n'0'    \n```\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/135768159/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/135813668",
    "html_url": "https://github.com/ethereum/solidity/issues/34#issuecomment-135813668",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/34",
    "id": 135813668,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzNTgxMzY2OA==",
    "user": {
      "login": "aakilfernandes",
      "id": 1577353,
      "node_id": "MDQ6VXNlcjE1NzczNTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1577353?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aakilfernandes",
      "html_url": "https://github.com/aakilfernandes",
      "followers_url": "https://api.github.com/users/aakilfernandes/followers",
      "following_url": "https://api.github.com/users/aakilfernandes/following{/other_user}",
      "gists_url": "https://api.github.com/users/aakilfernandes/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aakilfernandes/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aakilfernandes/subscriptions",
      "organizations_url": "https://api.github.com/users/aakilfernandes/orgs",
      "repos_url": "https://api.github.com/users/aakilfernandes/repos",
      "events_url": "https://api.github.com/users/aakilfernandes/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aakilfernandes/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-08-28T15:56:31Z",
    "updated_at": "2015-08-28T15:56:31Z",
    "author_association": "NONE",
    "body": "This might shine some light on the issue: I'm not having the problem on my local test chain but only when I deploy to the main chain.\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/135813668/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/135882712",
    "html_url": "https://github.com/ethereum/solidity/issues/34#issuecomment-135882712",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/34",
    "id": 135882712,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzNTg4MjcxMg==",
    "user": {
      "login": "aakilfernandes",
      "id": 1577353,
      "node_id": "MDQ6VXNlcjE1NzczNTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1577353?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aakilfernandes",
      "html_url": "https://github.com/aakilfernandes",
      "followers_url": "https://api.github.com/users/aakilfernandes/followers",
      "following_url": "https://api.github.com/users/aakilfernandes/following{/other_user}",
      "gists_url": "https://api.github.com/users/aakilfernandes/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aakilfernandes/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aakilfernandes/subscriptions",
      "organizations_url": "https://api.github.com/users/aakilfernandes/orgs",
      "repos_url": "https://api.github.com/users/aakilfernandes/repos",
      "events_url": "https://api.github.com/users/aakilfernandes/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aakilfernandes/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-08-28T20:38:10Z",
    "updated_at": "2015-08-28T20:38:26Z",
    "author_association": "NONE",
    "body": "A little more context: I've tried deploying with both embark and truffle. Same issue. (Truffle deployed contract here: 0xbea678e58758ab86fc731e30139b34e106f3ca57)\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/135882712/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/136065775",
    "html_url": "https://github.com/ethereum/solidity/issues/34#issuecomment-136065775",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/34",
    "id": 136065775,
    "node_id": "MDEyOklzc3VlQ29tbWVudDEzNjA2NTc3NQ==",
    "user": {
      "login": "aakilfernandes",
      "id": 1577353,
      "node_id": "MDQ6VXNlcjE1NzczNTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1577353?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aakilfernandes",
      "html_url": "https://github.com/aakilfernandes",
      "followers_url": "https://api.github.com/users/aakilfernandes/followers",
      "following_url": "https://api.github.com/users/aakilfernandes/following{/other_user}",
      "gists_url": "https://api.github.com/users/aakilfernandes/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aakilfernandes/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aakilfernandes/subscriptions",
      "organizations_url": "https://api.github.com/users/aakilfernandes/orgs",
      "repos_url": "https://api.github.com/users/aakilfernandes/repos",
      "events_url": "https://api.github.com/users/aakilfernandes/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aakilfernandes/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2015-08-30T00:31:05Z",
    "updated_at": "2015-08-30T00:31:05Z",
    "author_association": "NONE",
    "body": "> 256 blocks behind the current block\n\nsorry, totally missed that part\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/136065775/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
