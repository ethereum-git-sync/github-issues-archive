{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/9399",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/9399/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/9399/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/9399/events",
  "html_url": "https://github.com/ethereum/solidity/issues/9399",
  "id": 656004212,
  "node_id": "MDU6SXNzdWU2NTYwMDQyMTI=",
  "number": 9399,
  "title": "Reconsider constructor visibility for 0.7",
  "user": {
    "login": "frangio",
    "id": 481465,
    "node_id": "MDQ6VXNlcjQ4MTQ2NQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/481465?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/frangio",
    "html_url": "https://github.com/frangio",
    "followers_url": "https://api.github.com/users/frangio/followers",
    "following_url": "https://api.github.com/users/frangio/following{/other_user}",
    "gists_url": "https://api.github.com/users/frangio/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/frangio/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/frangio/subscriptions",
    "organizations_url": "https://api.github.com/users/frangio/orgs",
    "repos_url": "https://api.github.com/users/frangio/repos",
    "events_url": "https://api.github.com/users/frangio/events{/privacy}",
    "received_events_url": "https://api.github.com/users/frangio/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 467898404,
      "node_id": "MDU6TGFiZWw0Njc4OTg0MDQ=",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/breaking%20change%20:warning:",
      "name": "breaking change :warning:",
      "color": "b60205",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2020-07-13T17:04:07Z",
  "updated_at": "2020-07-21T13:32:50Z",
  "closed_at": "2020-07-21T13:32:49Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "One of the planned changes for 0.7 is \"Constructors should not have visibility\". This change forces libraries like OpenZeppelin to publish a new release removing constructor visibilities, but since they are required for 0.6 it also requires bumping the pragma to 0.7, which is a breaking change and forces us to release a new major version (or to break semantic versioning, which we strongly prefer not doing). This then forces users to upgrade their OpenZeppelin dependency to the new major version, unless we keep maintaining two majors which is a significant amount of work for us.\r\n\r\nThe point is that there are a lot of downstream effects from this breaking change, and I think they should be avoided if possible.\r\n\r\nThe cause of all this trouble is going from \"visibility is required\" to \"visibility is forbidden\" in a single version bump. The ideal situation for us is to be able to release a new minor version that can work with both 0.6 and 0.7, and constructor visibilities seem to be the only reason why we would not be able to do that.\r\n\r\nMy suggestion is to release 0.7 with an intermediate change: \"constructor visibility is not required\", so that libraries like OpenZeppelin can be used in the newer language version without needing breaking changes.\r\n\r\nI'd also mention that adding warnings when constructor visibility is present may be just as bad as requiring their removal. Since warnings can't be disabled (https://github.com/ethereum/solidity/issues/2691), it becomes a major pain for users to constantly see these warnings in their workflow.\r\n\r\nCurious to hear your thoughts on this one!",
  "closed_by": {
    "login": "chriseth",
    "id": 9073706,
    "node_id": "MDQ6VXNlcjkwNzM3MDY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/chriseth",
    "html_url": "https://github.com/chriseth",
    "followers_url": "https://api.github.com/users/chriseth/followers",
    "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
    "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
    "organizations_url": "https://api.github.com/users/chriseth/orgs",
    "repos_url": "https://api.github.com/users/chriseth/repos",
    "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
    "received_events_url": "https://api.github.com/users/chriseth/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/9399/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/9399/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/657696995",
    "html_url": "https://github.com/ethereum/solidity/issues/9399#issuecomment-657696995",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/9399",
    "id": 657696995,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1NzY5Njk5NQ==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-07-13T17:41:43Z",
    "updated_at": "2020-07-13T17:41:43Z",
    "author_association": "MEMBER",
    "body": "We actually implemented it just as a warning (as long as it is compatible with the \"abstractness\" of the contract). We can talk about even removing this warning, but I fear that this will only postpone the problem by another Solidity version.\r\n\r\nThe cleanest solution, in my opinion, would be to maintain one OpenZeppelin library per Solidity version. This would maybe also help us since we are already maintaining a fork of OpenZeppelin - so we could just do the essential updates. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/657696995/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/657709346",
    "html_url": "https://github.com/ethereum/solidity/issues/9399#issuecomment-657709346",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/9399",
    "id": 657709346,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1NzcwOTM0Ng==",
    "user": {
      "login": "frangio",
      "id": 481465,
      "node_id": "MDQ6VXNlcjQ4MTQ2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/481465?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/frangio",
      "html_url": "https://github.com/frangio",
      "followers_url": "https://api.github.com/users/frangio/followers",
      "following_url": "https://api.github.com/users/frangio/following{/other_user}",
      "gists_url": "https://api.github.com/users/frangio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/frangio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/frangio/subscriptions",
      "organizations_url": "https://api.github.com/users/frangio/orgs",
      "repos_url": "https://api.github.com/users/frangio/repos",
      "events_url": "https://api.github.com/users/frangio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/frangio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-07-13T18:06:50Z",
    "updated_at": "2020-07-13T18:06:50Z",
    "author_association": "CONTRIBUTOR",
    "body": "Oh I'm glad to hear it's just a warning. Then we should talk about removing the warning.\r\n\r\n>I fear that this will only postpone the problem by another Solidity version.\r\n\r\nYes, but that's good! I think this is about giving the ecosystem more time to adapt and reducing the potential fatigue from the tooling introducing incompatibilities too often.\r\n\r\n> The cleanest solution, in my opinion, would be to maintain one OpenZeppelin library per Solidity version.\r\n\r\nThis would be pushing all of the burden on us as maintainers, and it would not be an easy job. Any syntactic breaking change makes backporting patches impossible without manual conflict resolution, which is an easy place to make mistakes and introduce bugs. We can maintain older versions for bug fixes, but releasing new features simultaneously for multiple Solidity versions is not something we're willing to do. This means there would still be potential fatigue for end users.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/657709346/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/657720087",
    "html_url": "https://github.com/ethereum/solidity/issues/9399#issuecomment-657720087",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/9399",
    "id": 657720087,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1NzcyMDA4Nw==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-07-13T18:29:27Z",
    "updated_at": "2020-07-13T18:29:27Z",
    "author_association": "MEMBER",
    "body": "References https://github.com/ethereum/solidity/issues/8992 https://github.com/ethereum/solidity/issues/4392 https://github.com/ethereum/solidity/issues/8162",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/657720087/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/661863963",
    "html_url": "https://github.com/ethereum/solidity/issues/9399#issuecomment-661863963",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/9399",
    "id": 661863963,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2MTg2Mzk2Mw==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-07-21T13:32:49Z",
    "updated_at": "2020-07-21T13:32:49Z",
    "author_association": "MEMBER",
    "body": "Closing after discussion.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/661863963/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
