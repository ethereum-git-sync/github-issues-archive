{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/7586",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/7586/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/7586/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/7586/events",
  "html_url": "https://github.com/ethereum/solidity/issues/7586",
  "id": 514530163,
  "node_id": "MDU6SXNzdWU1MTQ1MzAxNjM=",
  "number": 7586,
  "title": "Compiling with errors results in a `0` exit code when in `standard-json` mode",
  "user": {
    "login": "travs",
    "id": 7369273,
    "node_id": "MDQ6VXNlcjczNjkyNzM=",
    "avatar_url": "https://avatars.githubusercontent.com/u/7369273?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/travs",
    "html_url": "https://github.com/travs",
    "followers_url": "https://api.github.com/users/travs/followers",
    "following_url": "https://api.github.com/users/travs/following{/other_user}",
    "gists_url": "https://api.github.com/users/travs/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/travs/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/travs/subscriptions",
    "organizations_url": "https://api.github.com/users/travs/orgs",
    "repos_url": "https://api.github.com/users/travs/repos",
    "events_url": "https://api.github.com/users/travs/events{/privacy}",
    "received_events_url": "https://api.github.com/users/travs/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 275027668,
      "node_id": "MDU6TGFiZWwyNzUwMjc2Njg=",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/documentation%20:book:",
      "name": "documentation :book:",
      "color": "006b75",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2019-10-30T09:55:37Z",
  "updated_at": "2019-11-21T19:05:06Z",
  "closed_at": "2019-11-21T19:05:06Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "On `standard-json` mode, the compiler gives a `0` exit code when there is a compilation error, or if the JSON is malformatted.\r\n\r\nI understand the docs say that output in this mode is printed to standard output, so I have two main queries:\r\n\r\n1. whether there is a rationale for printing error messages to stdout, since this is against the usual convention (even in the normal compiler mode) of printing to stderr. The same for the zero exit code\r\n2. if there is a reason for this, could we make it more explicit in the docs why this behaviour exists?\r\n\r\n- Compiler version: `0.5.12+commit.7709ece9.Linux.g++`\r\n\r\n## Steps to Reproduce\r\n\r\n```\r\nsolc - <<< 'fails'\r\necho $? # 1\r\n\r\nsolc --standard-json <<< 'passes'\r\necho $?  # 0, and message on stdout\r\n```\r\n",
  "closed_by": {
    "login": "chriseth",
    "id": 9073706,
    "node_id": "MDQ6VXNlcjkwNzM3MDY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/chriseth",
    "html_url": "https://github.com/chriseth",
    "followers_url": "https://api.github.com/users/chriseth/followers",
    "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
    "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
    "organizations_url": "https://api.github.com/users/chriseth/orgs",
    "repos_url": "https://api.github.com/users/chriseth/repos",
    "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
    "received_events_url": "https://api.github.com/users/chriseth/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/7586/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/7586/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/547855111",
    "html_url": "https://github.com/ethereum/solidity/issues/7586#issuecomment-547855111",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/7586",
    "id": 547855111,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU0Nzg1NTExMQ==",
    "user": {
      "login": "Marenz",
      "id": 424752,
      "node_id": "MDQ6VXNlcjQyNDc1Mg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/424752?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Marenz",
      "html_url": "https://github.com/Marenz",
      "followers_url": "https://api.github.com/users/Marenz/followers",
      "following_url": "https://api.github.com/users/Marenz/following{/other_user}",
      "gists_url": "https://api.github.com/users/Marenz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Marenz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Marenz/subscriptions",
      "organizations_url": "https://api.github.com/users/Marenz/orgs",
      "repos_url": "https://api.github.com/users/Marenz/repos",
      "events_url": "https://api.github.com/users/Marenz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Marenz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-10-30T11:24:02Z",
    "updated_at": "2019-10-30T11:24:02Z",
    "author_association": "MEMBER",
    "body": "Hmm the `--standard-json` switch basically makes every input/output interaction with the compiler into a json-based interaction. Usually, this is used when a third-party app is using the compiler via that json interface, I suspect that for example remix uses that mode. Such an app would want to have a consistent way to get that info, in this case stdout. If we were to output errors on errout the application would need to read both outputs adding more complexity to it. \r\n\r\nI'd say the error code part of your issue is due to similar reasons. The terminal is no longer the primary means of interactions with that switch, so we offer a consistent behavior for any call to the compiler and give out all relevant info in json only.\r\n\r\nI suppose this can be explained better in the documentation (I have not checked). @ChrisChinchilla maybe you want to check that out when you have time.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/547855111/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
