{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/9554",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/9554/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/9554/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/9554/events",
  "html_url": "https://github.com/ethereum/solidity/issues/9554",
  "id": 669538426,
  "node_id": "MDU6SXNzdWU2Njk1Mzg0MjY=",
  "number": 9554,
  "title": "immutable state variables are not considered pure in inheritance",
  "user": {
    "login": "elenadimitrova",
    "id": 703848,
    "node_id": "MDQ6VXNlcjcwMzg0OA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/703848?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/elenadimitrova",
    "html_url": "https://github.com/elenadimitrova",
    "followers_url": "https://api.github.com/users/elenadimitrova/followers",
    "following_url": "https://api.github.com/users/elenadimitrova/following{/other_user}",
    "gists_url": "https://api.github.com/users/elenadimitrova/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/elenadimitrova/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/elenadimitrova/subscriptions",
    "organizations_url": "https://api.github.com/users/elenadimitrova/orgs",
    "repos_url": "https://api.github.com/users/elenadimitrova/repos",
    "events_url": "https://api.github.com/users/elenadimitrova/events{/privacy}",
    "received_events_url": "https://api.github.com/users/elenadimitrova/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 17,
  "created_at": "2020-07-31T08:03:23Z",
  "updated_at": "2022-02-15T20:22:27Z",
  "closed_at": "2020-11-10T15:23:33Z",
  "author_association": "COLLABORATOR",
  "active_lock_reason": null,
  "body": "With Solidity 0.7.0 a `pure` getter implemented via an `immutable` state variable throws `TypeError: Overriding public state variable changes state mutability from \"pure\" to \"view‚Äù.`\r\n\r\n```\r\ninterface ISample {\r\n    function WETH() external pure returns (address);\r\n}\r\n\r\ncontract Sample is ISample {\r\n    address public immutable override WETH;\r\n}\r\n```\r\n\r\nThis is probably coming from the \"Disallow public state variables overwriting pure functions\" breaking change however `immutable`s should be excluded from this as they can be considered `pure`. I tested with `constant` instead of `immutable` and this works okay when exposed through `pure`.",
  "closed_by": {
    "login": "leonardoalt",
    "id": 504195,
    "node_id": "MDQ6VXNlcjUwNDE5NQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/504195?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/leonardoalt",
    "html_url": "https://github.com/leonardoalt",
    "followers_url": "https://api.github.com/users/leonardoalt/followers",
    "following_url": "https://api.github.com/users/leonardoalt/following{/other_user}",
    "gists_url": "https://api.github.com/users/leonardoalt/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/leonardoalt/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/leonardoalt/subscriptions",
    "organizations_url": "https://api.github.com/users/leonardoalt/orgs",
    "repos_url": "https://api.github.com/users/leonardoalt/repos",
    "events_url": "https://api.github.com/users/leonardoalt/events{/privacy}",
    "received_events_url": "https://api.github.com/users/leonardoalt/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/9554/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/9554/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/667270958",
    "html_url": "https://github.com/ethereum/solidity/issues/9554#issuecomment-667270958",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/9554",
    "id": 667270958,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2NzI3MDk1OA==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-07-31T18:11:29Z",
    "updated_at": "2020-07-31T18:11:29Z",
    "author_association": "MEMBER",
    "body": "While I said in the chat that constant and immutable should have the same mutability, maybe we should think a bit harder about this - at least the value of an immutable variable can change once across its lifetime is not a compile-time constant.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/667270958/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/667271715",
    "html_url": "https://github.com/ethereum/solidity/issues/9554#issuecomment-667271715",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/9554",
    "id": 667271715,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2NzI3MTcxNQ==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-07-31T18:12:11Z",
    "updated_at": "2020-07-31T18:12:11Z",
    "author_association": "MEMBER",
    "body": "Although I of course agree that this is very annoying. If we conclude that they should be `view` in general, maybe we can at least make them `pure` if their initial value is a constant.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/667271715/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/720203933",
    "html_url": "https://github.com/ethereum/solidity/issues/9554#issuecomment-720203933",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/9554",
    "id": 720203933,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcyMDIwMzkzMw==",
    "user": {
      "login": "deluca-mike",
      "id": 35537333,
      "node_id": "MDQ6VXNlcjM1NTM3MzMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/35537333?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/deluca-mike",
      "html_url": "https://github.com/deluca-mike",
      "followers_url": "https://api.github.com/users/deluca-mike/followers",
      "following_url": "https://api.github.com/users/deluca-mike/following{/other_user}",
      "gists_url": "https://api.github.com/users/deluca-mike/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/deluca-mike/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/deluca-mike/subscriptions",
      "organizations_url": "https://api.github.com/users/deluca-mike/orgs",
      "repos_url": "https://api.github.com/users/deluca-mike/repos",
      "events_url": "https://api.github.com/users/deluca-mike/events{/privacy}",
      "received_events_url": "https://api.github.com/users/deluca-mike/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-02T02:34:12Z",
    "updated_at": "2020-11-02T02:35:08Z",
    "author_association": "NONE",
    "body": "There seems to be a larger issue here. The compiler should not throw an error if a pure function references an immutable variable, since `The contract creation code generated by the compiler will modify the contract‚Äôs runtime code before it is returned by replacing all references to immutables by the values assigned to the them.`\r\n\r\nSo either immutable variables result in inline constants (literals), or they don't.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/720203933/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/721214682",
    "html_url": "https://github.com/ethereum/solidity/issues/9554#issuecomment-721214682",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/9554",
    "id": 721214682,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcyMTIxNDY4Mg==",
    "user": {
      "login": "bshastry",
      "id": 2388185,
      "node_id": "MDQ6VXNlcjIzODgxODU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2388185?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bshastry",
      "html_url": "https://github.com/bshastry",
      "followers_url": "https://api.github.com/users/bshastry/followers",
      "following_url": "https://api.github.com/users/bshastry/following{/other_user}",
      "gists_url": "https://api.github.com/users/bshastry/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bshastry/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bshastry/subscriptions",
      "organizations_url": "https://api.github.com/users/bshastry/orgs",
      "repos_url": "https://api.github.com/users/bshastry/repos",
      "events_url": "https://api.github.com/users/bshastry/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bshastry/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-03T15:53:24Z",
    "updated_at": "2020-11-03T15:54:07Z",
    "author_association": "MEMBER",
    "body": "May be related. Immutables could be used as ~~lambda functions~~ function aliases. Currently, since immutables are view, one cannot use them as aliases for `pure` free functions. The example below does not work if `view` becomes `pure` although the underlying functions `squared`, `cubed`, and `proxy` are pure.\r\n\r\n```\r\nfunction squared(uint x) view returns (uint) { return x ** 2; }\r\nfunction cubed(uint x) view returns (uint) { return x ** 3; }\r\nfunction proxy(function (uint) view returns (uint) func, uint input) view returns (uint) { return func(input); }\r\ncontract C {\r\n        function (function (uint) view returns (uint), uint) view returns (uint) immutable proxyImmutable = proxy;\r\n        function foo() public view returns (uint) {\r\n                return proxyImmutable(squared, 3) + proxyImmutable(cubed, 3);\r\n        }\r\n}\r\n// ====\r\n// compileViaYul: also\r\n// ----\r\n// foo() -> 0x24\r\n```\r\n\r\nI'm not sure if there is a real use-case here though i.e., using immutables as higher-order functions.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/721214682/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/722068808",
    "html_url": "https://github.com/ethereum/solidity/issues/9554#issuecomment-722068808",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/9554",
    "id": 722068808,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcyMjA2ODgwOA==",
    "user": {
      "login": "deluca-mike",
      "id": 35537333,
      "node_id": "MDQ6VXNlcjM1NTM3MzMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/35537333?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/deluca-mike",
      "html_url": "https://github.com/deluca-mike",
      "followers_url": "https://api.github.com/users/deluca-mike/followers",
      "following_url": "https://api.github.com/users/deluca-mike/following{/other_user}",
      "gists_url": "https://api.github.com/users/deluca-mike/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/deluca-mike/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/deluca-mike/subscriptions",
      "organizations_url": "https://api.github.com/users/deluca-mike/orgs",
      "repos_url": "https://api.github.com/users/deluca-mike/repos",
      "events_url": "https://api.github.com/users/deluca-mike/events{/privacy}",
      "received_events_url": "https://api.github.com/users/deluca-mike/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-05T01:32:48Z",
    "updated_at": "2020-11-05T01:35:02Z",
    "author_association": "NONE",
    "body": "@bshastry But the documentation I quoted gives the impression that `immutable` acts as an inline replacement, sort of like a preprocessor. (i.e. replacing all bytecode instances of `my_immutable_var` with whatever value is provided at deploy-time. Which is why the [documentation](https://solidity.readthedocs.io/en/v0.7.3/contracts.html#constant-and-immutable-state-variables) further alludes to the fact that the deployed bytecode is not expected to match the compiled bytecode before deploying.\r\n\r\n`This is important if you are comparing the runtime code generated by the compiler with the one actually stored in the blockchain.`",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/722068808/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/752085573",
    "html_url": "https://github.com/ethereum/solidity/issues/9554#issuecomment-752085573",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/9554",
    "id": 752085573,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc1MjA4NTU3Mw==",
    "user": {
      "login": "elenadimitrova",
      "id": 703848,
      "node_id": "MDQ6VXNlcjcwMzg0OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/703848?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/elenadimitrova",
      "html_url": "https://github.com/elenadimitrova",
      "followers_url": "https://api.github.com/users/elenadimitrova/followers",
      "following_url": "https://api.github.com/users/elenadimitrova/following{/other_user}",
      "gists_url": "https://api.github.com/users/elenadimitrova/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/elenadimitrova/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/elenadimitrova/subscriptions",
      "organizations_url": "https://api.github.com/users/elenadimitrova/orgs",
      "repos_url": "https://api.github.com/users/elenadimitrova/repos",
      "events_url": "https://api.github.com/users/elenadimitrova/events{/privacy}",
      "received_events_url": "https://api.github.com/users/elenadimitrova/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-12-29T14:02:38Z",
    "updated_at": "2020-12-29T14:02:47Z",
    "author_association": "COLLABORATOR",
    "body": "Has this been implemented for immutable variables with literal number values only? I am still getting an error compiling with 0.7.6 testing with an address type value. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/752085573/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/758704396",
    "html_url": "https://github.com/ethereum/solidity/issues/9554#issuecomment-758704396",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/9554",
    "id": 758704396,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc1ODcwNDM5Ng==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-12T14:46:48Z",
    "updated_at": "2021-01-12T14:46:48Z",
    "author_association": "MEMBER",
    "body": "I'm sorry, but I fear that addresses do not work, only numbers that are not addresses.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/758704396/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/855439514",
    "html_url": "https://github.com/ethereum/solidity/issues/9554#issuecomment-855439514",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/9554",
    "id": 855439514,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg1NTQzOTUxNA==",
    "user": {
      "login": "CodeForcer",
      "id": 31618931,
      "node_id": "MDQ6VXNlcjMxNjE4OTMx",
      "avatar_url": "https://avatars.githubusercontent.com/u/31618931?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/CodeForcer",
      "html_url": "https://github.com/CodeForcer",
      "followers_url": "https://api.github.com/users/CodeForcer/followers",
      "following_url": "https://api.github.com/users/CodeForcer/following{/other_user}",
      "gists_url": "https://api.github.com/users/CodeForcer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/CodeForcer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/CodeForcer/subscriptions",
      "organizations_url": "https://api.github.com/users/CodeForcer/orgs",
      "repos_url": "https://api.github.com/users/CodeForcer/repos",
      "events_url": "https://api.github.com/users/CodeForcer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/CodeForcer/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-06T18:15:14Z",
    "updated_at": "2021-06-06T18:15:14Z",
    "author_association": "NONE",
    "body": "Why is this issue closed? This still occurs in Solidity 0.8.4",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/855439514/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/855694687",
    "html_url": "https://github.com/ethereum/solidity/issues/9554#issuecomment-855694687",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/9554",
    "id": 855694687,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg1NTY5NDY4Nw==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-07T07:58:44Z",
    "updated_at": "2021-06-07T07:58:44Z",
    "author_association": "MEMBER",
    "body": "@CodeForcer we concluded that not all immutables can be pure, because their value can depend on constructor input. Can you give a specific code example?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/855694687/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/959269168",
    "html_url": "https://github.com/ethereum/solidity/issues/9554#issuecomment-959269168",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/9554",
    "id": 959269168,
    "node_id": "IC_kwDOAm_5kc45LUkw",
    "user": {
      "login": "deluca-mike",
      "id": 35537333,
      "node_id": "MDQ6VXNlcjM1NTM3MzMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/35537333?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/deluca-mike",
      "html_url": "https://github.com/deluca-mike",
      "followers_url": "https://api.github.com/users/deluca-mike/followers",
      "following_url": "https://api.github.com/users/deluca-mike/following{/other_user}",
      "gists_url": "https://api.github.com/users/deluca-mike/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/deluca-mike/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/deluca-mike/subscriptions",
      "organizations_url": "https://api.github.com/users/deluca-mike/orgs",
      "repos_url": "https://api.github.com/users/deluca-mike/repos",
      "events_url": "https://api.github.com/users/deluca-mike/events{/privacy}",
      "received_events_url": "https://api.github.com/users/deluca-mike/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-11-03T14:35:33Z",
    "updated_at": "2021-11-03T14:35:56Z",
    "author_association": "NONE",
    "body": "@chriseth What does `pure` mean? If it means \"does not read from storage\" then immutables set in a constructor result in `pure` getters, by definition.\r\n\r\nFor example, in\r\n```\r\ncontract Token  {\r\n    uint256 public immutable totalSupply;\r\n\r\n    constructor(uint256 totalSupply_) {\r\n        totalSupply = totalSupply_;\r\n    }\r\n}\r\n```\r\nthe `function totalSupply() external returns (uint256);` is _absolutely_ `pure`. It will _not_ read from storage.\r\n\r\nCan you give an example where reading an immutable variable reads storage? Or are you suggesting that the above definition of `pure` is incorrect?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/959269168/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/959275861",
    "html_url": "https://github.com/ethereum/solidity/issues/9554#issuecomment-959275861",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/9554",
    "id": 959275861,
    "node_id": "IC_kwDOAm_5kc45LWNV",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-11-03T14:37:59Z",
    "updated_at": "2021-11-03T14:37:59Z",
    "author_association": "MEMBER",
    "body": "`pure` implies \"can be computed without knowing only the source code\". It is not equivalent to this statement because it is a syntactic and not a semantic property.\r\nAn example why immutables cannot be pure:\r\n```\r\ncontract C {\r\n  uint immutable x = block.number;\r\n}\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/959275861/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/959616735",
    "html_url": "https://github.com/ethereum/solidity/issues/9554#issuecomment-959616735",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/9554",
    "id": 959616735,
    "node_id": "IC_kwDOAm_5kc45Mpbf",
    "user": {
      "login": "deluca-mike",
      "id": 35537333,
      "node_id": "MDQ6VXNlcjM1NTM3MzMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/35537333?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/deluca-mike",
      "html_url": "https://github.com/deluca-mike",
      "followers_url": "https://api.github.com/users/deluca-mike/followers",
      "following_url": "https://api.github.com/users/deluca-mike/following{/other_user}",
      "gists_url": "https://api.github.com/users/deluca-mike/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/deluca-mike/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/deluca-mike/subscriptions",
      "organizations_url": "https://api.github.com/users/deluca-mike/orgs",
      "repos_url": "https://api.github.com/users/deluca-mike/repos",
      "events_url": "https://api.github.com/users/deluca-mike/events{/privacy}",
      "received_events_url": "https://api.github.com/users/deluca-mike/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-11-03T16:18:33Z",
    "updated_at": "2021-11-03T16:19:14Z",
    "author_association": "NONE",
    "body": "@chriseth This is the first I hear of that definition.\r\n\r\n\"Functions can be declared pure in which case they promise not to read from or modify the state.\" from https://docs.soliditylang.org/en/v0.8.9/contracts.html?highlight=pure#pure-functions\r\n\r\nAnd this has been defined this way for quite a long time.\r\n\r\nI am not sure why what is in the pre-deployed source code matters. Solidity interfaces, as used by off-chain clients and, more importantly, by other contracts, just care that `pure` will not read from storage.\r\n\r\nWhatever the bytecode looks like _before_ it appears on-chain, at an address, seems completely irrelevant.\r\n\r\nSince the contract only exists post-constructor, the state mutability is implied to be defined for such a deployed contract.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/959616735/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/961047697",
    "html_url": "https://github.com/ethereum/solidity/issues/9554#issuecomment-961047697",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/9554",
    "id": 961047697,
    "node_id": "IC_kwDOAm_5kc45SGyR",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-11-04T14:25:57Z",
    "updated_at": "2021-11-04T14:25:57Z",
    "author_association": "MEMBER",
    "body": "It seems this was only part of the initial issue description and not added to the documentation. After all, this only became relevant after we introduced `immutable`: https://github.com/ethereum/solidity/issues/992",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/961047697/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/963099701",
    "html_url": "https://github.com/ethereum/solidity/issues/9554#issuecomment-963099701",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/9554",
    "id": 963099701,
    "node_id": "IC_kwDOAm_5kc45Z7w1",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-11-08T12:23:14Z",
    "updated_at": "2021-11-08T12:23:14Z",
    "author_association": "MEMBER",
    "body": "Added information to the documentation: https://github.com/ethereum/solidity/pull/12256",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/963099701/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/991850182",
    "html_url": "https://github.com/ethereum/solidity/issues/9554#issuecomment-991850182",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/9554",
    "id": 991850182,
    "node_id": "IC_kwDOAm_5kc47Hm7G",
    "user": {
      "login": "deluca-mike",
      "id": 35537333,
      "node_id": "MDQ6VXNlcjM1NTM3MzMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/35537333?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/deluca-mike",
      "html_url": "https://github.com/deluca-mike",
      "followers_url": "https://api.github.com/users/deluca-mike/followers",
      "following_url": "https://api.github.com/users/deluca-mike/following{/other_user}",
      "gists_url": "https://api.github.com/users/deluca-mike/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/deluca-mike/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/deluca-mike/subscriptions",
      "organizations_url": "https://api.github.com/users/deluca-mike/orgs",
      "repos_url": "https://api.github.com/users/deluca-mike/repos",
      "events_url": "https://api.github.com/users/deluca-mike/events{/privacy}",
      "received_events_url": "https://api.github.com/users/deluca-mike/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-12-12T07:48:28Z",
    "updated_at": "2021-12-12T07:48:28Z",
    "author_association": "NONE",
    "body": "Immutables end up as in-line litterals. The on-chain byte code and cost for the following `foo` functions are _identical_:\r\n\r\n```\r\ncontract ImmutableTest1 {\r\n    function foo() external pure returns (uint256) { return uint256(4); }\r\n}\r\n\r\ncontract ImmutableTest2 {\r\n    uint256 internal constant _foo = uint256(4);\r\n    function foo() external pure returns (uint256) { return _foo; }\r\n}\r\n\r\ncontract ImmutableTest3 {\r\n    uint256 internal immutable _foo;\r\n    constructor() { _foo = uint256(4); }\r\n    function foo() external view returns (uint256) { return _foo; }\r\n}\r\n\r\ncontract ImmutableTest4 {\r\n    uint256 internal immutable _foo;\r\n    constructor(uint256 foo_) { _foo = foo_; }\r\n    function foo() external view returns (uint256) { return _foo; }\r\n}\r\n```\r\n\r\nThere 4 `foo` functions are as pure as anything else that we have defined as pure in solidity.\r\n\r\nIn #992, you state:\r\n\r\n> \"the keyword pure is introduced for functions, they are view functions with the additional restriction that their value only depends on the function arguments. This means they cannot use SSTORE, SLOAD, cannot send or receive ether, cannot use msg or block and can only call other pure functions.\"\r\n\r\nThus, by that definition, the above 4 contracts all have pure `foo` functions.\r\n\r\nIt hurts no one to allow pure functions to contain immutables, and only results in objective technical accuracy, rather than subjective semantics.\r\n\r\n> \"pure implies \"can be computed without knowing only the source code\".\"\r\n\r\nCan you point me to where this is defined anywhere in Solidity/EVM literature or among Solidity developers? This is honestly the first time I ever hear of this.\r\n\r\nPure implies that the output is dependant without any state, other than the functions themselves.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/991850182/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/992346420",
    "html_url": "https://github.com/ethereum/solidity/issues/9554#issuecomment-992346420",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/9554",
    "id": 992346420,
    "node_id": "IC_kwDOAm_5kc47JgE0",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-12-13T11:01:46Z",
    "updated_at": "2021-12-13T11:01:46Z",
    "author_association": "MEMBER",
    "body": "> Pure implies that the output is dependant without any state, other than the functions themselves.\r\n\r\nExactly that is what it is. In the [example](https://github.com/ethereum/solidity/issues/9554#issuecomment-959275861) the value of the immutable depends on the blockchain state. A copy of the contract deployed at a different time will have a different value. The idea of a pure function is that if you compile it again and put it in a different contract, it will return the same value, which it does not if it accesses the immutable in the example above.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/992346420/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1040754650",
    "html_url": "https://github.com/ethereum/solidity/issues/9554#issuecomment-1040754650",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/9554",
    "id": 1040754650,
    "node_id": "IC_kwDOAm_5kc4-CKfa",
    "user": {
      "login": "wighawag",
      "id": 790580,
      "node_id": "MDQ6VXNlcjc5MDU4MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/790580?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wighawag",
      "html_url": "https://github.com/wighawag",
      "followers_url": "https://api.github.com/users/wighawag/followers",
      "following_url": "https://api.github.com/users/wighawag/following{/other_user}",
      "gists_url": "https://api.github.com/users/wighawag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wighawag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wighawag/subscriptions",
      "organizations_url": "https://api.github.com/users/wighawag/orgs",
      "repos_url": "https://api.github.com/users/wighawag/repos",
      "events_url": "https://api.github.com/users/wighawag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wighawag/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-15T20:22:27Z",
    "updated_at": "2022-02-15T20:22:27Z",
    "author_association": "NONE",
    "body": "Feel like there should be something in-between `view` and `pure`\r\n\r\nit would be useful to have a another modifier that ensure these function only access bytecode and nothing else.\r\n\r\nthe `view` modifier is too general as even when you intend to use `immutables` as constants in your code, you do not get error when reading storage.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1040754650/reactions",
      "total_count": 2,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 2,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
