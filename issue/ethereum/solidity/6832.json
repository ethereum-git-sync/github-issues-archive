{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/6832",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/6832/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/6832/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/6832/events",
  "html_url": "https://github.com/ethereum/solidity/issues/6832",
  "id": 448012545,
  "node_id": "MDU6SXNzdWU0NDgwMTI1NDU=",
  "number": 6832,
  "title": "Contract Not Storing Data",
  "user": {
    "login": "geekybcresearcher",
    "id": 49897860,
    "node_id": "MDQ6VXNlcjQ5ODk3ODYw",
    "avatar_url": "https://avatars.githubusercontent.com/u/49897860?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/geekybcresearcher",
    "html_url": "https://github.com/geekybcresearcher",
    "followers_url": "https://api.github.com/users/geekybcresearcher/followers",
    "following_url": "https://api.github.com/users/geekybcresearcher/following{/other_user}",
    "gists_url": "https://api.github.com/users/geekybcresearcher/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/geekybcresearcher/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/geekybcresearcher/subscriptions",
    "organizations_url": "https://api.github.com/users/geekybcresearcher/orgs",
    "repos_url": "https://api.github.com/users/geekybcresearcher/repos",
    "events_url": "https://api.github.com/users/geekybcresearcher/events{/privacy}",
    "received_events_url": "https://api.github.com/users/geekybcresearcher/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2019-05-24T07:09:14Z",
  "updated_at": "2019-05-27T09:12:23Z",
  "closed_at": "2019-05-27T09:12:22Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "## Description\r\nDeployed Contract is not storing the data passed while processing a transaction on compiling the code with specific versions of Solidity. Below listed are the steps perform\r\n\r\n## Steps Performed\r\n1. Developed a very basic contract to store greetings data\r\n\r\n**Contract Code**\r\n`pragma solidity ^0.5.8;contract GreetContract {    string message;        event LogGreetAdded(address indexed fromAddress, string description, string message);            function setMsg(string memory _msg) public {        emit LogGreetAdded(msg.sender, \"This is the log for message\",message);        message = _msg;    }        function getMsg() public view returns(string memory _msg){        return message;    }    }`\r\n\r\n2. Generated the ABI and Bytecode using Remix\r\n3. Started a geth instance\r\nGeth/v1.9.0-unstable/windows-amd64/go1.10.3\r\n\r\n`geth --mine --minerthreads=1 --datadir D:/Ethereum/Repo/Ethereum/Data/Node-0 --networkid 9890 --nodiscover --rpc --rpcport \"8001\" --port \"9001\" --rpccorsdomain \"*\" --nat \"any\" --rpcapi eth,web3,personal,net,miner --rpcaddr 0.0.0.0 --ws --wsport 7001 --wsorigins '*' --wsapi personal,admin,db,eth,net,web3,miner,shh,txpool,debug --verbosity 2 console`\r\n\r\n3. Using below code deployed the contract on Geth instance\r\n```\r\nvar greetBytecode = '0x608060405234801561001057600080fd5b50610410806100206000396000f3fe608060405234801561001057600080fd5b50600436106100365760003560e01c8063b5fdeb231461003b578063c4784fd4146100be575b600080fd5b610043610179565b6040518080602001828103825283818151815260200191508051906020019080838360005b83811015610083578082015181840152602081019050610068565b50505050905090810190601f1680156100b05780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b610177600480360360208110156100d457600080fd5b81019080803590602001906401000000008111156100f157600080fd5b82018360208201111561010357600080fd5b8035906020019184600183028401116401000000008311171561012557600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f82011690508083019250505050505050919291929050505061021b565b005b606060008054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156102115780601f106101e657610100808354040283529160200191610211565b820191906000526020600020905b8154815290600101906020018083116101f457829003601f168201915b5050505050905090565b3373ffffffffffffffffffffffffffffffffffffffff167f2003865f11897ce96fcccf77bdc9cd7b74d8d98b8e79bbe195264c40c407125160006040518080602001806020018381038352601b8152602001807f5468697320697320746865206c6f6720666f72206d65737361676500000000008152506020018381038252848181546001816001161561010002031660029004815260200191508054600181600116156101000203166002900480156103165780601f106102eb57610100808354040283529160200191610316565b820191906000526020600020905b8154815290600101906020018083116102f957829003601f168201915b5050935050505060405180910390a2806000908051906020019061033b92919061033f565b5050565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061038057805160ff19168380011785556103ae565b828001600101855582156103ae579182015b828111156103ad578251825591602001919060010190610392565b5b5090506103bb91906103bf565b5090565b6103e191905b808211156103dd5760008160009055506001016103c5565b5090565b9056fea165627a7a72305820275c12ca3f55b8869cf3bbdc9f139dbe2e924464f0a12cdb8e6d83db4851628a0029'\r\nvar greetLatestContract = eth.contract([\t{\t\t\"constant\": true,\t\t\"inputs\": [],\t\t\"name\": \"getMsg\",\t\t\"outputs\": [\t\t\t{\t\t\t\t\"name\": \"_msg\",\t\t\t\t\"type\": \"string\"\t\t\t}\t\t],\t\t\"payable\": false,\t\t\"stateMutability\": \"view\",\t\t\"type\": \"function\"\t},\t{\t\t\"constant\": false,\t\t\"inputs\": [\t\t\t{\t\t\t\t\"name\": \"_msg\",\t\t\t\t\"type\": \"string\"\t\t\t}\t\t],\t\t\"name\": \"setMsg\",\t\t\"outputs\": [],\t\t\"payable\": false,\t\t\"stateMutability\": \"nonpayable\",\t\t\"type\": \"function\"\t},\t{\t\t\"anonymous\": false,\t\t\"inputs\": [\t\t\t{\t\t\t\t\"indexed\": true,\t\t\t\t\"name\": \"fromAddress\",\t\t\t\t\"type\": \"address\"\t\t\t},\t\t\t{\t\t\t\t\"indexed\": false,\t\t\t\t\"name\": \"description\",\t\t\t\t\"type\": \"string\"\t\t\t},\t\t\t{\t\t\t\t\"indexed\": false,\t\t\t\t\"name\": \"message\",\t\t\t\t\"type\": \"string\"\t\t\t}\t\t],\t\t\"name\": \"LogGreetAdded\",\t\t\"type\": \"event\"\t}])\r\n\r\nvar greetDeploy = {from:eth.coinbase, data:greetBytecode, gas: 2000000}\r\n\r\nvar greetContractInstance = greetLatestContract.new(greetDeploy)\r\n\r\ngreetContractInstance.setMsg('Hi Everyone', {from: eth.coinbase, gas: 400000})\r\n\r\ngreetContractInstance.getMsg()\r\n```\r\n\r\n4. Here are the results faced on executing using different compiler versions\r\n\r\n**Compiler version**: \r\n- 0.5.8 - Not Working (Transaction hash returned but null message returned)\r\n- 0.5.6 - Not Working (Transaction hash returned but null message returned)\r\n- 0.5.5 - Not Working (Transaction hash returned but null message returned)\r\n- 0.5.4 - Working (Transaction hash returned and message is also fetched)\r\n- 0.5.3 - Working (Transaction hash returned and message is also fetched)\r\n- 0.5.2 - Working (Transaction hash returned and message is also fetched)\r\nNote: for below versions the contract signatures were modified to support the version. Like the \"view\" keyword was replaced with \"constant\"\r\n- 0.4.26 - Working (Transaction hash returned and message is also fetched)\r\n- 0.4.9 - Working (Transaction hash returned and message is also fetched)\r\n- 0.4.8 - Working (Transaction hash returned and message is also fetched)\r\n- Operating system: Windows 10 Enterprise\r\n",
  "closed_by": {
    "login": "chriseth",
    "id": 9073706,
    "node_id": "MDQ6VXNlcjkwNzM3MDY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/chriseth",
    "html_url": "https://github.com/chriseth",
    "followers_url": "https://api.github.com/users/chriseth/followers",
    "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
    "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
    "organizations_url": "https://api.github.com/users/chriseth/orgs",
    "repos_url": "https://api.github.com/users/chriseth/repos",
    "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
    "received_events_url": "https://api.github.com/users/chriseth/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/6832/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/6832/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/495526973",
    "html_url": "https://github.com/ethereum/solidity/issues/6832#issuecomment-495526973",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/6832",
    "id": 495526973,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5NTUyNjk3Mw==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-24T08:46:40Z",
    "updated_at": "2019-05-24T08:46:40Z",
    "author_association": "MEMBER",
    "body": "This is most likely caused by an outdated EVM version. Since 0.5.5, Solidity generates Istanbul-compatible code including shift instructions, which are interpreted as invalid instructions on pre-istanbul EVMs. I cannot tell you why geth would not use that as a default, though...",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/495526973/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/496141711",
    "html_url": "https://github.com/ethereum/solidity/issues/6832#issuecomment-496141711",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/6832",
    "id": 496141711,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5NjE0MTcxMQ==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-27T09:12:22Z",
    "updated_at": "2019-05-27T09:12:22Z",
    "author_association": "MEMBER",
    "body": "Please reopen if you have further questions.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/496141711/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
