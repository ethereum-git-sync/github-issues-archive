{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/10779",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/10779/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/10779/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/10779/events",
  "html_url": "https://github.com/ethereum/solidity/issues/10779",
  "id": 786913651,
  "node_id": "MDU6SXNzdWU3ODY5MTM2NTE=",
  "number": 10779,
  "title": "Replace `compileViaYul` with `codegen` setting",
  "user": {
    "login": "axic",
    "id": 20340,
    "node_id": "MDQ6VXNlcjIwMzQw",
    "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/axic",
    "html_url": "https://github.com/axic",
    "followers_url": "https://api.github.com/users/axic/followers",
    "following_url": "https://api.github.com/users/axic/following{/other_user}",
    "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
    "organizations_url": "https://api.github.com/users/axic/orgs",
    "repos_url": "https://api.github.com/users/axic/repos",
    "events_url": "https://api.github.com/users/axic/events{/privacy}",
    "received_events_url": "https://api.github.com/users/axic/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1018738457,
      "node_id": "MDU6TGFiZWwxMDE4NzM4NDU3",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/testing%20:hammer:",
      "name": "testing :hammer:",
      "color": "ffc6db",
      "default": false,
      "description": ""
    },
    {
      "id": 4699444681,
      "node_id": "LA_kwDOAm_5kc8AAAABGBvVyQ",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/stale",
      "name": "stale",
      "color": "BF4801",
      "default": false,
      "description": "The issue/PR was marked as stale because it has been open for too long."
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 7,
  "created_at": "2021-01-15T13:54:49Z",
  "updated_at": "2022-11-25T12:44:10Z",
  "closed_at": null,
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "Proposal is to have `v1` and `v2` (or `v1only` and `v2only`) as options. If this setting is lacking, the test case should pass on both codegens.\r\n\r\nThe current `compileViaYul` is a confusing with its false/true/also settings.",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/10779/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/10779/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/760956958",
    "html_url": "https://github.com/ethereum/solidity/issues/10779#issuecomment-760956958",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/10779",
    "id": 760956958,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2MDk1Njk1OA==",
    "user": {
      "login": "ekpyron",
      "id": 1347491,
      "node_id": "MDQ6VXNlcjEzNDc0OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1347491?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ekpyron",
      "html_url": "https://github.com/ekpyron",
      "followers_url": "https://api.github.com/users/ekpyron/followers",
      "following_url": "https://api.github.com/users/ekpyron/following{/other_user}",
      "gists_url": "https://api.github.com/users/ekpyron/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ekpyron/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ekpyron/subscriptions",
      "organizations_url": "https://api.github.com/users/ekpyron/orgs",
      "repos_url": "https://api.github.com/users/ekpyron/repos",
      "events_url": "https://api.github.com/users/ekpyron/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ekpyron/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-15T13:58:21Z",
    "updated_at": "2021-01-15T13:58:47Z",
    "author_association": "MEMBER",
    "body": "Maybe we should also explicitly have ``both`` and just require it to be specified.\r\nWe need to assume that not everything that ultimately should be ``both`` can be set to ``both`` yet, though, so we should have a dedicated comment in the file indicating that the current setting is only due to bugs/missing implementation and mentioning what we'll ultimately expect once it's done.\r\n\r\nWe could actually also not make this a comment, but a real setting like ``codegenIntended: both``, ``codegenWorking: v1`` - that would make it easier to have ``isoltest`` correctly try if ``working`` can be upgraded to ``intended`` each time...\r\n\r\nOr something like that at least ;-).",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/760956958/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/760965573",
    "html_url": "https://github.com/ethereum/solidity/issues/10779#issuecomment-760965573",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/10779",
    "id": 760965573,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2MDk2NTU3Mw==",
    "user": {
      "login": "axic",
      "id": 20340,
      "node_id": "MDQ6VXNlcjIwMzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/axic",
      "html_url": "https://github.com/axic",
      "followers_url": "https://api.github.com/users/axic/followers",
      "following_url": "https://api.github.com/users/axic/following{/other_user}",
      "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
      "organizations_url": "https://api.github.com/users/axic/orgs",
      "repos_url": "https://api.github.com/users/axic/repos",
      "events_url": "https://api.github.com/users/axic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/axic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-15T14:14:08Z",
    "updated_at": "2021-01-15T14:14:08Z",
    "author_association": "MEMBER",
    "body": "Tow more names, `legacy` and `ir`, were also suggested. We do have files suffixed with `_v1` and `_v2`, hence my initial suggestion.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/760965573/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/762273203",
    "html_url": "https://github.com/ethereum/solidity/issues/10779#issuecomment-762273203",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/10779",
    "id": 762273203,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2MjI3MzIwMw==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-18T14:08:06Z",
    "updated_at": "2021-01-18T14:08:06Z",
    "author_association": "MEMBER",
    "body": "I like `legacy` / `ir`",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/762273203/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/767045736",
    "html_url": "https://github.com/ethereum/solidity/issues/10779#issuecomment-767045736",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/10779",
    "id": 767045736,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2NzA0NTczNg==",
    "user": {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-25T19:09:52Z",
    "updated_at": "2021-01-25T19:18:57Z",
    "author_association": "MEMBER",
    "body": "+1 for `legacy` / `ir`.\r\n\r\n`_v1` / `_v2` sounds like ABI Encoder to me :)\r\n\r\n> We need to assume that not everything that ultimately should be both can be set to both yet\r\n\r\nI think that @chriseth said today that there are no more tests that do not pass with the new codegen are not explicitly using `compileViaYul: false`. So this is no longer true, right?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/767045736/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/767050769",
    "html_url": "https://github.com/ethereum/solidity/issues/10779#issuecomment-767050769",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/10779",
    "id": 767050769,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2NzA1MDc2OQ==",
    "user": {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-25T19:18:47Z",
    "updated_at": "2021-01-26T11:15:20Z",
    "author_association": "MEMBER",
    "body": "> Maybe we should also explicitly have `both`\r\n\r\nHow about just listing both names instead, i.e. `codeGenerationPaths: legacy, ir`?\r\nThen we won't have to rename it if we add more backends. Even now we could do `codeGenerationPaths: legacy, ir, ewasm` and drop the `compileToEwasm` option.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/767050769/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/767461307",
    "html_url": "https://github.com/ethereum/solidity/issues/10779#issuecomment-767461307",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/10779",
    "id": 767461307,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2NzQ2MTMwNw==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-26T10:47:43Z",
    "updated_at": "2021-01-26T10:47:43Z",
    "author_association": "MEMBER",
    "body": "List of paths sounds good! Maybe it could be a bit shorter, though: `codegen:`? Also, should \"all of them\" be the default or should 'legacy, ir' be the default (skipping ewasm)?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/767461307/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/769159743",
    "html_url": "https://github.com/ethereum/solidity/issues/10779#issuecomment-769159743",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/10779",
    "id": 769159743,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2OTE1OTc0Mw==",
    "user": {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-28T15:22:31Z",
    "updated_at": "2021-01-28T15:22:31Z",
    "author_association": "MEMBER",
    "body": "`codegen` sounds natural to me but I didn't suggest it because I was thinking it might be ambiguous. Now that I think of it, shouldn't really be a problem. So +1 for `codegen`.\r\n\r\nI think that having it all on by default would be least confusing. It has the downside that when we introduce a new codegen, almost all test cases need to be modified to disable it. Having the codegen disabled initially does not require that but I think that after eventually making it the default we're going to want to remove the setting in cases where it matches the defaults so we'll be modifying all test cases anyway.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/769159743/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
