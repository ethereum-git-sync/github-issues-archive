{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/12581",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/12581/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/12581/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/12581/events",
  "html_url": "https://github.com/ethereum/solidity/issues/12581",
  "id": 1113725768,
  "node_id": "I_kwDOAm_5kc5CYhtI",
  "number": 12581,
  "title": "Extend the language to have an EVENT.selector and ERROR.selector",
  "user": {
    "login": "Amxx",
    "id": 2432299,
    "node_id": "MDQ6VXNlcjI0MzIyOTk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2432299?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Amxx",
    "html_url": "https://github.com/Amxx",
    "followers_url": "https://api.github.com/users/Amxx/followers",
    "following_url": "https://api.github.com/users/Amxx/following{/other_user}",
    "gists_url": "https://api.github.com/users/Amxx/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Amxx/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Amxx/subscriptions",
    "organizations_url": "https://api.github.com/users/Amxx/orgs",
    "repos_url": "https://api.github.com/users/Amxx/repos",
    "events_url": "https://api.github.com/users/Amxx/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Amxx/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 785717317,
      "node_id": "MDU6TGFiZWw3ODU3MTczMTc=",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/language%20design%20:rage4:",
      "name": "language design :rage4:",
      "color": "9d76d3",
      "default": false,
      "description": "Any changes to the language, e.g. new features"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 9,
  "created_at": "2022-01-25T10:47:22Z",
  "updated_at": "2022-05-23T10:26:13Z",
  "closed_at": "2022-05-23T09:34:13Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "## Abstract\r\n\r\nAdd `ev.selector` and `err.selector` fields that would work similarly to `fun.selector`, extracting event signature (topic 0) from its definition\r\n\r\n```\r\ninterface MyInterface {\r\n    event someEvent();\r\n    error someError();\r\n    function someFunction() external;\r\n}\r\n\r\ncontract Test {\r\n    function nameIsIrrelevant() public {\r\n        bytes4  x = MyInterface.someFunction.selector; // This works\r\n        bytes32 y = MyInterface.someEvent.selector; // This doesn't, that is what I'd like to add\r\n        bytes32 z = MyInterface.someError.selector; // This doesn't, that is what I'd like to add\r\n    }\r\n}\r\n```\r\n\r\n## Motivation\r\n\r\nSome cross chain mechanism, such as polygon's [FxBaseRootTunnel](https://github.com/fx-portal/contracts/blob/main/contracts/tunnel/FxBaseRootTunnel.sol), perform event inclusion check that require the event signature. This is likely to become a more frequent need with inclusion proofs being an important part of rollups.\r\n\r\n## Specification\r\n\r\nAdd a bytes32 field named `.selector`, `.topic0` or `.signature` to events (and a similar one to errors), that the compiler would replace with the event's signature (keccak256 of the event description)\r\n\r\n## Backwards Compatibility\r\n\r\nI can't imagine this would cause any backward compatibility issue\r\n",
  "closed_by": {
    "login": "chriseth",
    "id": 9073706,
    "node_id": "MDQ6VXNlcjkwNzM3MDY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/chriseth",
    "html_url": "https://github.com/chriseth",
    "followers_url": "https://api.github.com/users/chriseth/followers",
    "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
    "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
    "organizations_url": "https://api.github.com/users/chriseth/orgs",
    "repos_url": "https://api.github.com/users/chriseth/repos",
    "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
    "received_events_url": "https://api.github.com/users/chriseth/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/12581/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/12581/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1021123923",
    "html_url": "https://github.com/ethereum/solidity/issues/12581#issuecomment-1021123923",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/12581",
    "id": 1021123923,
    "node_id": "IC_kwDOAm_5kc483R1T",
    "user": {
      "login": "axic",
      "id": 20340,
      "node_id": "MDQ6VXNlcjIwMzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/axic",
      "html_url": "https://github.com/axic",
      "followers_url": "https://api.github.com/users/axic/followers",
      "following_url": "https://api.github.com/users/axic/following{/other_user}",
      "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
      "organizations_url": "https://api.github.com/users/axic/orgs",
      "repos_url": "https://api.github.com/users/axic/repos",
      "events_url": "https://api.github.com/users/axic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/axic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-25T12:12:34Z",
    "updated_at": "2022-01-25T12:12:34Z",
    "author_association": "MEMBER",
    "body": "This data is not currently inspectable on-chain.  Would this mean it would be used for processing some kind of proofs?\r\n\r\nIsn't using a constant-keccak256 expression a good enough solution for now?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1021123923/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1021140635",
    "html_url": "https://github.com/ethereum/solidity/issues/12581#issuecomment-1021140635",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/12581",
    "id": 1021140635,
    "node_id": "IC_kwDOAm_5kc483V6b",
    "user": {
      "login": "Amxx",
      "id": 2432299,
      "node_id": "MDQ6VXNlcjI0MzIyOTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2432299?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Amxx",
      "html_url": "https://github.com/Amxx",
      "followers_url": "https://api.github.com/users/Amxx/followers",
      "following_url": "https://api.github.com/users/Amxx/following{/other_user}",
      "gists_url": "https://api.github.com/users/Amxx/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Amxx/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Amxx/subscriptions",
      "organizations_url": "https://api.github.com/users/Amxx/orgs",
      "repos_url": "https://api.github.com/users/Amxx/repos",
      "events_url": "https://api.github.com/users/Amxx/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Amxx/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-25T12:33:44Z",
    "updated_at": "2022-01-25T12:42:28Z",
    "author_association": "NONE",
    "body": "Yes, it would be used to process some kind of proof.\r\n\r\nconstant-keccak256 expression is good enough, just like `bytes4(keccak256(\"transfer(address,uint256\")` used to be enough: it works, but it is error prone.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1021140635/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1021178740",
    "html_url": "https://github.com/ethereum/solidity/issues/12581#issuecomment-1021178740",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/12581",
    "id": 1021178740,
    "node_id": "IC_kwDOAm_5kc483fN0",
    "user": {
      "login": "frangio",
      "id": 481465,
      "node_id": "MDQ6VXNlcjQ4MTQ2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/481465?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/frangio",
      "html_url": "https://github.com/frangio",
      "followers_url": "https://api.github.com/users/frangio/followers",
      "following_url": "https://api.github.com/users/frangio/following{/other_user}",
      "gists_url": "https://api.github.com/users/frangio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/frangio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/frangio/subscriptions",
      "organizations_url": "https://api.github.com/users/frangio/orgs",
      "repos_url": "https://api.github.com/users/frangio/repos",
      "events_url": "https://api.github.com/users/frangio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/frangio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-25T13:23:19Z",
    "updated_at": "2022-01-25T13:23:19Z",
    "author_association": "CONTRIBUTOR",
    "body": "`Event.selector` as well as `CustomError.selector` could both make sense. If they're necessary, it's better for the compiler to generate them.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1021178740/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1021574589",
    "html_url": "https://github.com/ethereum/solidity/issues/12581#issuecomment-1021574589",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/12581",
    "id": 1021574589,
    "node_id": "IC_kwDOAm_5kc484_29",
    "user": {
      "login": "maurelian",
      "id": 23033765,
      "node_id": "MDQ6VXNlcjIzMDMzNzY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/23033765?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/maurelian",
      "html_url": "https://github.com/maurelian",
      "followers_url": "https://api.github.com/users/maurelian/followers",
      "following_url": "https://api.github.com/users/maurelian/following{/other_user}",
      "gists_url": "https://api.github.com/users/maurelian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/maurelian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/maurelian/subscriptions",
      "organizations_url": "https://api.github.com/users/maurelian/orgs",
      "repos_url": "https://api.github.com/users/maurelian/repos",
      "events_url": "https://api.github.com/users/maurelian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/maurelian/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-25T20:21:25Z",
    "updated_at": "2022-01-25T20:21:33Z",
    "author_association": "CONTRIBUTOR",
    "body": "This would likely also be useful for Optimism's bridges",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1021574589/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1031327838",
    "html_url": "https://github.com/ethereum/solidity/issues/12581#issuecomment-1031327838",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/12581",
    "id": 1031327838,
    "node_id": "IC_kwDOAm_5kc49eNBe",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-07T10:47:11Z",
    "updated_at": "2022-02-07T10:47:11Z",
    "author_association": "MEMBER",
    "body": "This sounds good, but we have to find a better name. For anonymous events, `topic0` is something else.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1031327838/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1031539895",
    "html_url": "https://github.com/ethereum/solidity/issues/12581#issuecomment-1031539895",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/12581",
    "id": 1031539895,
    "node_id": "IC_kwDOAm_5kc49fAy3",
    "user": {
      "login": "frangio",
      "id": 481465,
      "node_id": "MDQ6VXNlcjQ4MTQ2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/481465?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/frangio",
      "html_url": "https://github.com/frangio",
      "followers_url": "https://api.github.com/users/frangio/followers",
      "following_url": "https://api.github.com/users/frangio/following{/other_user}",
      "gists_url": "https://api.github.com/users/frangio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/frangio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/frangio/subscriptions",
      "organizations_url": "https://api.github.com/users/frangio/orgs",
      "repos_url": "https://api.github.com/users/frangio/repos",
      "events_url": "https://api.github.com/users/frangio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/frangio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-07T14:40:10Z",
    "updated_at": "2022-02-07T14:40:10Z",
    "author_association": "CONTRIBUTOR",
    "body": "What about `selector` just like for functions?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1031539895/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1054158469",
    "html_url": "https://github.com/ethereum/solidity/issues/12581#issuecomment-1054158469",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/12581",
    "id": 1054158469,
    "node_id": "IC_kwDOAm_5kc4-1S6F",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-28T11:25:19Z",
    "updated_at": "2022-02-28T11:25:19Z",
    "author_association": "MEMBER",
    "body": "Sorry, somehow I missed your coment. `selector` of course makes perfect sense.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1054158469/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1134452657",
    "html_url": "https://github.com/ethereum/solidity/issues/12581#issuecomment-1134452657",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/12581",
    "id": 1134452657,
    "node_id": "IC_kwDOAm_5kc5Dnl-x",
    "user": {
      "login": "axic",
      "id": 20340,
      "node_id": "MDQ6VXNlcjIwMzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/axic",
      "html_url": "https://github.com/axic",
      "followers_url": "https://api.github.com/users/axic/followers",
      "following_url": "https://api.github.com/users/axic/following{/other_user}",
      "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
      "organizations_url": "https://api.github.com/users/axic/orgs",
      "repos_url": "https://api.github.com/users/axic/repos",
      "events_url": "https://api.github.com/users/axic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/axic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-23T09:52:30Z",
    "updated_at": "2022-05-23T09:52:30Z",
    "author_association": "MEMBER",
    "body": "I think for error the term `selector` works, but for events it should have been `topic`.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1134452657/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1134496022",
    "html_url": "https://github.com/ethereum/solidity/issues/12581#issuecomment-1134496022",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/12581",
    "id": 1134496022,
    "node_id": "IC_kwDOAm_5kc5DnwkW",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-23T10:26:12Z",
    "updated_at": "2022-05-23T10:26:12Z",
    "author_association": "MEMBER",
    "body": "I was wondering as well, but I think users would find it confusing to have yet another name for something.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1134496022/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
