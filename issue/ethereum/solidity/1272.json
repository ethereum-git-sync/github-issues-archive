{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/1272",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/1272/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/1272/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/1272/events",
  "html_url": "https://github.com/ethereum/solidity/issues/1272",
  "id": 184824660,
  "node_id": "MDU6SXNzdWUxODQ4MjQ2NjA=",
  "number": 1272,
  "title": "Compile external code snippets",
  "user": {
    "login": "chriseth",
    "id": 9073706,
    "node_id": "MDQ6VXNlcjkwNzM3MDY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/chriseth",
    "html_url": "https://github.com/chriseth",
    "followers_url": "https://api.github.com/users/chriseth/followers",
    "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
    "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
    "organizations_url": "https://api.github.com/users/chriseth/orgs",
    "repos_url": "https://api.github.com/users/chriseth/repos",
    "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
    "received_events_url": "https://api.github.com/users/chriseth/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 785717317,
      "node_id": "MDU6TGFiZWw3ODU3MTczMTc=",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/language%20design%20:rage4:",
      "name": "language design :rage4:",
      "color": "9d76d3",
      "default": false,
      "description": "Any changes to the language, e.g. new features"
    },
    {
      "id": 4438003076,
      "node_id": "LA_kwDOAm_5kc8AAAABCIaNhA",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/medium%20effort",
      "name": "medium effort",
      "color": "ff7df7",
      "default": false,
      "description": "Default level of effort"
    },
    {
      "id": 4438155599,
      "node_id": "LA_kwDOAm_5kc8AAAABCIjhTw",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/medium%20impact",
      "name": "medium impact",
      "color": "314aff",
      "default": false,
      "description": "Default level of impact"
    },
    {
      "id": 4438490842,
      "node_id": "LA_kwDOAm_5kc8AAAABCI3-2g",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/should%20have",
      "name": "should have",
      "color": "ffbe6c",
      "default": false,
      "description": "We like the idea but itâ€™s not important enough to be a part of the roadmap."
    },
    {
      "id": 4525128519,
      "node_id": "LA_kwDOAm_5kc8AAAABDbf7Rw",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/needs%20design",
      "name": "needs design",
      "color": "18F737",
      "default": false,
      "description": "The proposal is too vague to be implemented right away"
    },
    {
      "id": 4699440809,
      "node_id": "LA_kwDOAm_5kc8AAAABGBvGqQ",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/closed%20due%20inactivity",
      "name": "closed due inactivity",
      "color": "91535E",
      "default": false,
      "description": "The issue/PR was automatically closed due to inactivity."
    },
    {
      "id": 4699444681,
      "node_id": "LA_kwDOAm_5kc8AAAABGBvVyQ",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/stale",
      "name": "stale",
      "color": "BF4801",
      "default": false,
      "description": "The issue/PR was marked as stale because it has been open for too long."
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 14,
  "created_at": "2016-10-24T12:18:31Z",
  "updated_at": "2023-02-20T12:04:52Z",
  "closed_at": "2023-02-20T12:04:52Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "This is the solidity part of [EIP 144](https://github.com/ethereum/EIPs/issues/144)\n\nThis feature will give users the ability to compile code snippet in the context of an existing contract without necessarily having to combine it with the contract itself.\n\nIf the compiler is in a state where source code is parsed and type checked, we can call `compileSnippet(code, contract)`, where `code` is valid solidity code - either an expression or an internal function - in the context of `contract`. This function returns EVM bytecode that, when executed, behaves like the snippet.\n\nThis should also be supported in the generic json input https://github.com/ethereum/solidity/issues/1129 where the target contract key could be used for this.\n",
  "closed_by": {
    "login": "github-actions[bot]",
    "id": 41898282,
    "node_id": "MDM6Qm90NDE4OTgyODI=",
    "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/github-actions%5Bbot%5D",
    "html_url": "https://github.com/apps/github-actions",
    "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
    "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
    "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
    "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
    "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
    "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
    "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
    "type": "Bot",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/1272/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/1272/timeline",
  "performed_via_github_app": null,
  "state_reason": "not_planned"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/275641938",
    "html_url": "https://github.com/ethereum/solidity/issues/1272#issuecomment-275641938",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/1272",
    "id": 275641938,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3NTY0MTkzOA==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-01-27T11:07:15Z",
    "updated_at": "2017-01-27T11:07:15Z",
    "author_association": "MEMBER",
    "body": "Increasing priority as it seems that go-ethereum just implemented the required RPC interface.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/275641938/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/276778985",
    "html_url": "https://github.com/ethereum/solidity/issues/1272#issuecomment-276778985",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/1272",
    "id": 276778985,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3Njc3ODk4NQ==",
    "user": {
      "login": "axic",
      "id": 20340,
      "node_id": "MDQ6VXNlcjIwMzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/axic",
      "html_url": "https://github.com/axic",
      "followers_url": "https://api.github.com/users/axic/followers",
      "following_url": "https://api.github.com/users/axic/following{/other_user}",
      "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
      "organizations_url": "https://api.github.com/users/axic/orgs",
      "repos_url": "https://api.github.com/users/axic/repos",
      "events_url": "https://api.github.com/users/axic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/axic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-01T20:54:00Z",
    "updated_at": "2017-02-01T20:54:00Z",
    "author_association": "MEMBER",
    "body": "An idea how to make this a more integrated language feature:\r\n```\r\nsnippet CrazyBalanceCalculation for Token {\r\n  function() returns (uint) {\r\n    // do magic here\r\n  }\r\n}\r\n```\r\n\r\nA `snippet`:\r\n- must have a single base contract it extends (mandated by the `for` or `is` keyword)\r\n- must have a single function without a name, but can have input and output parameters\r\n\r\nHow this maps into the JSON interface: currently there is an output member `contracts` for contracts. It would have a separate `snippets` output member.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/276778985/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/276781620",
    "html_url": "https://github.com/ethereum/solidity/issues/1272#issuecomment-276781620",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/1272",
    "id": 276781620,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3Njc4MTYyMA==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-01T21:03:54Z",
    "updated_at": "2017-02-01T21:03:54Z",
    "author_association": "MEMBER",
    "body": "Sounds good! I would prefer a little less syntax, though - we do not really need two nested elements: The name of the snippet can be the name of the function. Perhaps\r\n\r\n`function CrazyBalanceCalculation() snippet(Token) returns (uint) { ... }`\r\n\r\nalthough it should perhaps be a bit more obvious that it is a snippet and pulls in the context from Token.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/276781620/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/276791848",
    "html_url": "https://github.com/ethereum/solidity/issues/1272#issuecomment-276791848",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/1272",
    "id": 276791848,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3Njc5MTg0OA==",
    "user": {
      "login": "axic",
      "id": 20340,
      "node_id": "MDQ6VXNlcjIwMzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/axic",
      "html_url": "https://github.com/axic",
      "followers_url": "https://api.github.com/users/axic/followers",
      "following_url": "https://api.github.com/users/axic/following{/other_user}",
      "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
      "organizations_url": "https://api.github.com/users/axic/orgs",
      "repos_url": "https://api.github.com/users/axic/repos",
      "events_url": "https://api.github.com/users/axic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/axic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-01T21:42:47Z",
    "updated_at": "2017-02-01T21:42:47Z",
    "author_association": "MEMBER",
    "body": "On one side I agree that it looks overkill, but:\r\n- `snippet(Token)` looks like a modifier\r\n- the above layout looks familiar to the users of Solidity (I think)\r\n\r\nIn the above format the snippet could be extended with named functions which can be called from within the entry point (`function()`), e.g.:\r\n```\r\nsnippet CrazyBalanceCalculation for Token {\r\n  function() returns (uint) {\r\n    // do magic here\r\n    return heavylifting() * 42;\r\n  }\r\n  function heavylifting() returns (uint) {\r\n  }\r\n}\r\n```\r\n\r\nAlthough this could easily become complex.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/276791848/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/276931445",
    "html_url": "https://github.com/ethereum/solidity/issues/1272#issuecomment-276931445",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/1272",
    "id": 276931445,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3NjkzMTQ0NQ==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-02T11:19:15Z",
    "updated_at": "2017-02-02T11:19:15Z",
    "author_association": "MEMBER",
    "body": "Note that I really want to get this down to a javascript UI expression that looks something like:\r\n```js\r\nvar c = ... ; // the compiled contract, only need to compile it once for the full app\r\nvar bal = await c.eval(\"m_balance[0x123]\"); // This is compiled on the fly (but cached)\r\n```\r\nSo the idea is to get seamless interoperability between Solidity and the frontend code.\r\n\r\nThis means that the name of the snippet does not have to be seen by the programmer and is only relevant to address it in the compiler interface. Oh and I hope that you can soon use inline-defined functions anyway.\r\n\r\nSo I think we can get this down to expressions by also allowing\r\n```js\r\nsnippet $someassignedname for Token {\r\n  m_balance[0x123]\r\n}\r\n```\r\nand then\r\n```js\r\nsnippet $someassignedname2(uint) returns (uint8) for Token {\r\n  return 8 * m_balance[0x123];\r\n}\r\n```\r\nbut also\r\n```js\r\nsnippet $someassignedname2 for Token {\r\n  function namedFunction(uint) returns (uint8) {\r\n    return 8 * m_balance[0x123];\r\n  }\r\n}\r\n```\r\nPerhaps this can be combined with inline functions in general...",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/276931445/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/276951142",
    "html_url": "https://github.com/ethereum/solidity/issues/1272#issuecomment-276951142",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/1272",
    "id": 276951142,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3Njk1MTE0Mg==",
    "user": {
      "login": "axic",
      "id": 20340,
      "node_id": "MDQ6VXNlcjIwMzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/axic",
      "html_url": "https://github.com/axic",
      "followers_url": "https://api.github.com/users/axic/followers",
      "following_url": "https://api.github.com/users/axic/following{/other_user}",
      "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
      "organizations_url": "https://api.github.com/users/axic/orgs",
      "repos_url": "https://api.github.com/users/axic/repos",
      "events_url": "https://api.github.com/users/axic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/axic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-02T13:01:05Z",
    "updated_at": "2017-02-02T13:01:05Z",
    "author_association": "MEMBER",
    "body": "> get this down to a javascript UI expression that looks something like\r\n\r\nI think that has no relation, because it is up to `solc-js` to do the translation.\r\n\r\nThe single-line query (albeit I'm not sure that single lines will be very useful)\r\n\r\n`var bal = await c.eval(\"Token\", \"m_balance[0x123]\");`\r\n\r\ncould be translated to\r\n\r\n```\r\nsnippet __snippet123 for Token { function () returns (uint) { return m_balance[0x123]; } }\r\n```\r\n\r\nby `solc-js`, where `__snippet123` is an internal identifier generated by it.\r\n\r\nAlthough I'm not sure it makes sense for the compiler to figure out the type conversions.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/276951142/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/276967789",
    "html_url": "https://github.com/ethereum/solidity/issues/1272#issuecomment-276967789",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/1272",
    "id": 276967789,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3Njk2Nzc4OQ==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-02T14:12:25Z",
    "updated_at": "2017-02-02T14:12:25Z",
    "author_association": "MEMBER",
    "body": "I don't think solc-js can do it, because it does not know the type of the expression. Because of that I think this has to be a compiler feature. On the other hand, web3.js cannot work with the result because it does not know how to decode it without the type. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/276967789/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/277716027",
    "html_url": "https://github.com/ethereum/solidity/issues/1272#issuecomment-277716027",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/1272",
    "id": 277716027,
    "node_id": "MDEyOklzc3VlQ29tbWVudDI3NzcxNjAyNw==",
    "user": {
      "login": "axic",
      "id": 20340,
      "node_id": "MDQ6VXNlcjIwMzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/axic",
      "html_url": "https://github.com/axic",
      "followers_url": "https://api.github.com/users/axic/followers",
      "following_url": "https://api.github.com/users/axic/following{/other_user}",
      "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
      "organizations_url": "https://api.github.com/users/axic/orgs",
      "repos_url": "https://api.github.com/users/axic/repos",
      "events_url": "https://api.github.com/users/axic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/axic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-02-06T15:26:59Z",
    "updated_at": "2017-02-06T15:26:59Z",
    "author_association": "MEMBER",
    "body": "> On the other hand, web3.js cannot work with the result because it does not know how to decode it without the type.\r\n\r\nExactly, that's why I'm not sure it should be a single line as above.\r\n\r\nIs that too much to write? It is expressive at least.\r\n```\r\nvar c = ... ; // the compiled contract, only need to compile it once for the full app\r\nvar bal = await c.eval(`\r\nsnippet Bal for Token {\r\n  function() returns (uint) {\r\n    return m_balance[0x123];\r\n  }\r\n}`)\r\n```\r\n\r\nAlso I'm not sure these snippets would be single line in the first case, the above example is kind of broken, because getting the balance is usually available as a getter anyway.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/277716027/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/409636296",
    "html_url": "https://github.com/ethereum/solidity/issues/1272#issuecomment-409636296",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/1272",
    "id": 409636296,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwOTYzNjI5Ng==",
    "user": {
      "login": "axic",
      "id": 20340,
      "node_id": "MDQ6VXNlcjIwMzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/axic",
      "html_url": "https://github.com/axic",
      "followers_url": "https://api.github.com/users/axic/followers",
      "following_url": "https://api.github.com/users/axic/following{/other_user}",
      "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
      "organizations_url": "https://api.github.com/users/axic/orgs",
      "repos_url": "https://api.github.com/users/axic/repos",
      "events_url": "https://api.github.com/users/axic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/axic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-01T16:30:11Z",
    "updated_at": "2018-08-01T16:30:11Z",
    "author_association": "MEMBER",
    "body": "Removing `accepted` as I do not think this is fully spec'd.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/409636296/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/519547329",
    "html_url": "https://github.com/ethereum/solidity/issues/1272#issuecomment-519547329",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/1272",
    "id": 519547329,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxOTU0NzMyOQ==",
    "user": {
      "login": "ekpyron",
      "id": 1347491,
      "node_id": "MDQ6VXNlcjEzNDc0OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1347491?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ekpyron",
      "html_url": "https://github.com/ekpyron",
      "followers_url": "https://api.github.com/users/ekpyron/followers",
      "following_url": "https://api.github.com/users/ekpyron/following{/other_user}",
      "gists_url": "https://api.github.com/users/ekpyron/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ekpyron/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ekpyron/subscriptions",
      "organizations_url": "https://api.github.com/users/ekpyron/orgs",
      "repos_url": "https://api.github.com/users/ekpyron/repos",
      "events_url": "https://api.github.com/users/ekpyron/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ekpyron/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-08-08T14:39:15Z",
    "updated_at": "2019-08-08T14:39:15Z",
    "author_association": "MEMBER",
    "body": "This seems to be revived in light of https://github.com/ethereum/go-ethereum/issues/19836, should we continue the syntax discussion here? We'd basically need some syntax to compile the code supplied for such a new eth_call, right? Then solidity code using this syntax could e.g. be compiled via standardjson and then passed on to the eth_call directly? This all sounds pretty cool :-).\r\n\r\nSyntax wise I like @axic's proposal - I'd generally think of this as a special kind of \"external inheritance\". So I'm in favour of\r\n```\r\nsnippet Name for Token {\r\n  // basically any kind of contract function including fallback functions and named functions\r\n}\r\n```\r\nWhen actually using this for eth_call we could in fact append a function signature and an argument encoding to the produced bytecode similar to constructor arguments for contracts and that way execute some specific function in the snippet code. That way one could compile one snippet containing a lot of functions with arguments, etc. and call any of them. Code size won't really matter, right?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/519547329/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/522457110",
    "html_url": "https://github.com/ethereum/solidity/issues/1272#issuecomment-522457110",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/1272",
    "id": 522457110,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyMjQ1NzExMA==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-08-19T07:57:44Z",
    "updated_at": "2019-08-19T07:57:44Z",
    "author_association": "MEMBER",
    "body": "It would be great if we could also have a short form like `snippet Name for Token { return x; }` such that the user can just supply the expression `x` and the compiler can tell the external tool the type of x and so on.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/522457110/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/768437252",
    "html_url": "https://github.com/ethereum/solidity/issues/1272#issuecomment-768437252",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/1272",
    "id": 768437252,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2ODQzNzI1Mg==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-27T17:14:51Z",
    "updated_at": "2021-01-27T17:14:51Z",
    "author_association": "MEMBER",
    "body": "I'm not so sure anymore we really need the surrounding context to be in text format. I cannot really imagine snippets to be used without a more complex framework that accesses the compiler. Furthermore, if we just use `snippet Name for Token` as a text fragment in isolation, it would also have to reference the file name.\r\n\r\nDuring the discussion in #10825 it came up that it might be useful to parse snippets in the context of functions (without the need for generating code) and output the AST, so it could be useful to open up the context a bit wider.\r\n\r\nIf we have more support from a framework, we could specify this as a feature that assumes it is used via standard-json (or maybe even the LSP). This means snippet compilation requests could be a section in the standard-json (or an equivalent in the commandline) that look like:\r\n\r\n```\r\nsnippets: [\r\n  {\r\n    context: 45, // AST ID of a contract or function\r\n    text: \"m_balances[7]\" // implies that the value of the expression is returned\r\n  },\r\n  {\r\n    context: \"my//file/name.sol:MyContract.functionName, // AST ID of a contract or function\r\n    text: \"x == y\" // x and y are function parameters - here we would only parse the expression\r\n  },\r\n  {\r\n    context: \"my//file/name.sol:MyContract, // AST ID of a contract\r\n    text: \"function bal(address _u) external returns (uint) { return m_balances[_u] * currentInterestRate(); }\"\r\n  }\r\n]\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/768437252/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1427015836",
    "html_url": "https://github.com/ethereum/solidity/issues/1272#issuecomment-1427015836",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/1272",
    "id": 1427015836,
    "node_id": "IC_kwDOAm_5kc5VDoic",
    "user": {
      "login": "github-actions[bot]",
      "id": 41898282,
      "node_id": "MDM6Qm90NDE4OTgyODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/github-actions%5Bbot%5D",
      "html_url": "https://github.com/apps/github-actions",
      "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2023-02-12T12:04:24Z",
    "updated_at": "2023-02-12T12:04:24Z",
    "author_association": "NONE",
    "body": "This issue has been marked as stale due to inactivity for the last 90 days.\nIt will be automatically closed in 7 days.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1427015836/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1436878082",
    "html_url": "https://github.com/ethereum/solidity/issues/1272#issuecomment-1436878082",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/1272",
    "id": 1436878082,
    "node_id": "IC_kwDOAm_5kc5VpQUC",
    "user": {
      "login": "github-actions[bot]",
      "id": 41898282,
      "node_id": "MDM6Qm90NDE4OTgyODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/github-actions%5Bbot%5D",
      "html_url": "https://github.com/apps/github-actions",
      "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2023-02-20T12:04:51Z",
    "updated_at": "2023-02-20T12:04:51Z",
    "author_association": "NONE",
    "body": "Hi everyone! This issue has been automatically closed due to inactivity.\nIf you think this issue is still relevant in the latest Solidity version and you have something to [contribute](https://docs.soliditylang.org/en/latest/contributing.html), feel free to reopen.\nHowever, unless the issue is a concrete proposal that can be implemented, we recommend starting a language discussion on the [forum](https://forum.soliditylang.org) instead.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/1436878082/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
