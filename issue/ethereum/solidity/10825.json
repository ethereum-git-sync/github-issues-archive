{
  "url": "https://api.github.com/repos/ethereum/solidity/issues/10825",
  "repository_url": "https://api.github.com/repos/ethereum/solidity",
  "labels_url": "https://api.github.com/repos/ethereum/solidity/issues/10825/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/solidity/issues/10825/comments",
  "events_url": "https://api.github.com/repos/ethereum/solidity/issues/10825/events",
  "html_url": "https://github.com/ethereum/solidity/issues/10825",
  "id": 789867113,
  "node_id": "MDU6SXNzdWU3ODk4NjcxMTM=",
  "number": 10825,
  "title": "NatSpec for formal specifications",
  "user": {
    "login": "JoranHonig",
    "id": 8710366,
    "node_id": "MDQ6VXNlcjg3MTAzNjY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/8710366?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/JoranHonig",
    "html_url": "https://github.com/JoranHonig",
    "followers_url": "https://api.github.com/users/JoranHonig/followers",
    "following_url": "https://api.github.com/users/JoranHonig/following{/other_user}",
    "gists_url": "https://api.github.com/users/JoranHonig/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/JoranHonig/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/JoranHonig/subscriptions",
    "organizations_url": "https://api.github.com/users/JoranHonig/orgs",
    "repos_url": "https://api.github.com/users/JoranHonig/repos",
    "events_url": "https://api.github.com/users/JoranHonig/events{/privacy}",
    "received_events_url": "https://api.github.com/users/JoranHonig/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 785717317,
      "node_id": "MDU6TGFiZWw3ODU3MTczMTc=",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/language%20design%20:rage4:",
      "name": "language design :rage4:",
      "color": "9d76d3",
      "default": false,
      "description": "Any changes to the language, e.g. new features"
    },
    {
      "id": 4699440809,
      "node_id": "LA_kwDOAm_5kc8AAAABGBvGqQ",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/closed%20due%20inactivity",
      "name": "closed due inactivity",
      "color": "91535E",
      "default": false,
      "description": "The issue/PR was automatically closed due to inactivity."
    },
    {
      "id": 4699444681,
      "node_id": "LA_kwDOAm_5kc8AAAABGBvVyQ",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/stale",
      "name": "stale",
      "color": "BF4801",
      "default": false,
      "description": "The issue/PR was marked as stale because it has been open for too long."
    },
    {
      "id": 4810378984,
      "node_id": "LA_kwDOAm_5kc8AAAABHriO6A",
      "url": "https://api.github.com/repos/ethereum/solidity/labels/natspec",
      "name": "natspec",
      "color": "fbca04",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 40,
  "created_at": "2021-01-20T10:51:50Z",
  "updated_at": "2023-03-23T12:04:48Z",
  "closed_at": "2023-03-23T12:04:48Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "## Abstract\r\nDiligence released [Scribble](https://github.com/consensys/scribble) (a specification language for Solidity smart contracts) around one month ago. In short; Scribble is a specification language and runtime verification tool. You can write Scribble annotations, and automatically test them with existing unit tests or automated testing tools. Finally, Scribble might see integrations with formal verifiers in the future.\r\nTo write Scribble annotations, you currently need to prefix annotations with `///`. Using NatSpec to standardise specification language annotations is an interesting option. The goal of this issue is to start a discussion around using NatSpec for formal specifications.\r\n\r\n## Motivation\r\n\r\nAs mentioned in the abstract above. Scribble currently requires you to write custom docstrings like:\r\n```\r\n///  <annotation>\r\nfunction example() {}\r\n\r\n/// if_succeeds {:msg \"result is positive\"} $result > 0;\r\nfunction positive() returns (uint) {}\r\n```\r\nUnfortunately, this adds yet another code commenting and documentation standard.\r\nAlternatively, we might extend NatSpec, allowing users to write their specifications as NatSpec comments.\r\n\r\nAn example NatSpec + Scribble annotation.\r\n```\r\n// @spec if_succeeds {:msg \"result is positive\"} $result > 0;\r\nfunction positive() returns (uint) {}\r\n```\r\n\r\nAdditionally, formal specifications have a documenting function, which makes them an excellent addition to the documentation options already in NatSpec.\r\n\r\n## Discussion Points\r\n1.  How can NatSpec support multiple specification languages?\r\n\r\nSome examples:\r\n```\r\n// @spec[scribble] if_succeeds {:msg \"result is positive\"} $result > 0;\r\nfunction positive() returns (uint) {}\r\n// @scribble if_succeeds {:msg \"result is positive\"} $result > 0;\r\nfunction positive() returns (uint) {}\r\n```",
  "closed_by": {
    "login": "github-actions[bot]",
    "id": 41898282,
    "node_id": "MDM6Qm90NDE4OTgyODI=",
    "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/github-actions%5Bbot%5D",
    "html_url": "https://github.com/apps/github-actions",
    "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
    "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
    "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
    "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
    "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
    "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
    "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
    "type": "Bot",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/10825/reactions",
    "total_count": 5,
    "+1": 5,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/solidity/issues/10825/timeline",
  "performed_via_github_app": null,
  "state_reason": "not_planned"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/763519453",
    "html_url": "https://github.com/ethereum/solidity/issues/10825#issuecomment-763519453",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/10825",
    "id": 763519453,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2MzUxOTQ1Mw==",
    "user": {
      "login": "JoranHonig",
      "id": 8710366,
      "node_id": "MDQ6VXNlcjg3MTAzNjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8710366?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JoranHonig",
      "html_url": "https://github.com/JoranHonig",
      "followers_url": "https://api.github.com/users/JoranHonig/followers",
      "following_url": "https://api.github.com/users/JoranHonig/following{/other_user}",
      "gists_url": "https://api.github.com/users/JoranHonig/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JoranHonig/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JoranHonig/subscriptions",
      "organizations_url": "https://api.github.com/users/JoranHonig/orgs",
      "repos_url": "https://api.github.com/users/JoranHonig/repos",
      "events_url": "https://api.github.com/users/JoranHonig/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JoranHonig/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-20T10:53:39Z",
    "updated_at": "2021-01-20T10:53:39Z",
    "author_association": "NONE",
    "body": "👋  I hope this is the right place to start a discussion like this! If not, let me know where I should move!\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/763519453/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/763532900",
    "html_url": "https://github.com/ethereum/solidity/issues/10825#issuecomment-763532900",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/10825",
    "id": 763532900,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2MzUzMjkwMA==",
    "user": {
      "login": "leonardoalt",
      "id": 504195,
      "node_id": "MDQ6VXNlcjUwNDE5NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/504195?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/leonardoalt",
      "html_url": "https://github.com/leonardoalt",
      "followers_url": "https://api.github.com/users/leonardoalt/followers",
      "following_url": "https://api.github.com/users/leonardoalt/following{/other_user}",
      "gists_url": "https://api.github.com/users/leonardoalt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/leonardoalt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/leonardoalt/subscriptions",
      "organizations_url": "https://api.github.com/users/leonardoalt/orgs",
      "repos_url": "https://api.github.com/users/leonardoalt/repos",
      "events_url": "https://api.github.com/users/leonardoalt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/leonardoalt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-20T11:16:03Z",
    "updated_at": "2021-01-20T11:16:03Z",
    "author_association": "MEMBER",
    "body": "I like the idea. I also see that different tools will probably have different expressivity/operators/etc, so tagging which tool/language it's related to sounds like a good start.\r\nOne other idea could be to try to have a common subset which can be represented by Solidity expressions, and those could be used to express pre/post conditions. This would not include a common desire that cannot be represented in Solidity, `sum` over `mapping`, for example.\r\n\r\nsummoning @hajduakos @dddejan who might be interested",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/763532900/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/763567512",
    "html_url": "https://github.com/ethereum/solidity/issues/10825#issuecomment-763567512",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/10825",
    "id": 763567512,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2MzU2NzUxMg==",
    "user": {
      "login": "JoranHonig",
      "id": 8710366,
      "node_id": "MDQ6VXNlcjg3MTAzNjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8710366?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JoranHonig",
      "html_url": "https://github.com/JoranHonig",
      "followers_url": "https://api.github.com/users/JoranHonig/followers",
      "following_url": "https://api.github.com/users/JoranHonig/following{/other_user}",
      "gists_url": "https://api.github.com/users/JoranHonig/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JoranHonig/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JoranHonig/subscriptions",
      "organizations_url": "https://api.github.com/users/JoranHonig/orgs",
      "repos_url": "https://api.github.com/users/JoranHonig/repos",
      "events_url": "https://api.github.com/users/JoranHonig/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JoranHonig/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-20T12:20:05Z",
    "updated_at": "2021-01-20T12:20:05Z",
    "author_association": "NONE",
    "body": "> One other idea could be to try to have a common subset which can be represented by Solidity expressions, and those could be used to express pre/post conditions. \r\n\r\nWhat would this look like? Something like the following?\r\n```\r\n// @spec-post a + b == result;\r\n```\r\n> This would not include a common desire that cannot be represented in Solidity, sum over mapping, for example.\r\n\r\nI think this is a really important point you're making. People will very likely want to use more than just this common subset, and start to use other languages in addition to the common one. \r\nI think you'd lose most benefits when proofs for specs in the common subset require annotations in other languages.\r\n\r\nThat said, providing a common language so people don't have to write specifications multiple times is definately something to think about. It's actually something we're hoping Scribble might provide. To achieve that we're planning to implement & support backends for commonly used verification tools.  \r\n\r\n---\r\n@cd1m0 and @wuestholz are two of the masterminds behind Scribble & might have some useful input on this discussion too!",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/763567512/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/763706397",
    "html_url": "https://github.com/ethereum/solidity/issues/10825#issuecomment-763706397",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/10825",
    "id": 763706397,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2MzcwNjM5Nw==",
    "user": {
      "login": "GNSPS",
      "id": 4008213,
      "node_id": "MDQ6VXNlcjQwMDgyMTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4008213?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/GNSPS",
      "html_url": "https://github.com/GNSPS",
      "followers_url": "https://api.github.com/users/GNSPS/followers",
      "following_url": "https://api.github.com/users/GNSPS/following{/other_user}",
      "gists_url": "https://api.github.com/users/GNSPS/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/GNSPS/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/GNSPS/subscriptions",
      "organizations_url": "https://api.github.com/users/GNSPS/orgs",
      "repos_url": "https://api.github.com/users/GNSPS/repos",
      "events_url": "https://api.github.com/users/GNSPS/events{/privacy}",
      "received_events_url": "https://api.github.com/users/GNSPS/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-20T15:22:56Z",
    "updated_at": "2021-01-20T15:22:56Z",
    "author_association": "CONTRIBUTOR",
    "body": "I think this is a very good topic for the next Solidity community call! 😊 ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/763706397/reactions",
      "total_count": 3,
      "+1": 3,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/763738083",
    "html_url": "https://github.com/ethereum/solidity/issues/10825#issuecomment-763738083",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/10825",
    "id": 763738083,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2MzczODA4Mw==",
    "user": {
      "login": "dddejan",
      "id": 1482564,
      "node_id": "MDQ6VXNlcjE0ODI1NjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1482564?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dddejan",
      "html_url": "https://github.com/dddejan",
      "followers_url": "https://api.github.com/users/dddejan/followers",
      "following_url": "https://api.github.com/users/dddejan/following{/other_user}",
      "gists_url": "https://api.github.com/users/dddejan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dddejan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dddejan/subscriptions",
      "organizations_url": "https://api.github.com/users/dddejan/orgs",
      "repos_url": "https://api.github.com/users/dddejan/repos",
      "events_url": "https://api.github.com/users/dddejan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dddejan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-20T16:06:48Z",
    "updated_at": "2021-01-20T16:06:48Z",
    "author_association": "NONE",
    "body": "I agree with the general direction here. Unifying spec approaches would be a big positive for developers and would simplify development. \r\n\r\nSome quick thoughts from me.\r\n\r\nMost spec extensions can be framed in the form that @JoranHonig proposed, i.e. \r\n\r\n```solidity\r\n/// @spec[tool] spec_type spec_message? spec_expression\r\n```\r\n\r\nThe spec_type and spec_message can be fairly flexible. The most important thing would be the expression language. I think the minimal spec_expression needs to support is:\r\n\r\n- pure Solidity expressions (variables in scope, return variable, state variables, arithmetic, ...);\r\n- above includes function calls that can be inlined as expressions (getters, ...);  \r\n- a way to introduce fresh variables;\r\n- tool-specific expressions of the form tool.f(x, y), where the extension functions would be typechecked flexibly.\r\n\r\nAbove would, I think, cover all the spec needs I've seen. If the compiler could check these for conformance, provide type-checking, and inline costexpr functions  that would be amazing. \r\n\r\nFor example (random syntax):\r\n\r\n```solidity\r\n/// @spec[tool] invariant \"fixed supply\" tool.sum(balances) == 100\r\n/// @spec[tool] invariant \"lucky\" tool.exists{address a}(balances[a] == 42)\r\n/// @spec invariant value() > 0\r\ncontract A {\r\n   map(address=>uint) balances;\r\n   int x;\r\n   function value() public view returns (int) { return x + 52; } \r\n}\r\n```\r\n\r\n**Note**: An important thing that we're trying to figure out at the moment is what to do with specification under inheritance. At the moment Solidity inherits natspec tags under some conditions. For example, for overridden functions tags are inherited even if function variables and return value are renamed (I think). \r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/763738083/reactions",
      "total_count": 5,
      "+1": 5,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/764602589",
    "html_url": "https://github.com/ethereum/solidity/issues/10825#issuecomment-764602589",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/10825",
    "id": 764602589,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2NDYwMjU4OQ==",
    "user": {
      "login": "hrkrshnn",
      "id": 13174375,
      "node_id": "MDQ6VXNlcjEzMTc0Mzc1",
      "avatar_url": "https://avatars.githubusercontent.com/u/13174375?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hrkrshnn",
      "html_url": "https://github.com/hrkrshnn",
      "followers_url": "https://api.github.com/users/hrkrshnn/followers",
      "following_url": "https://api.github.com/users/hrkrshnn/following{/other_user}",
      "gists_url": "https://api.github.com/users/hrkrshnn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hrkrshnn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hrkrshnn/subscriptions",
      "organizations_url": "https://api.github.com/users/hrkrshnn/orgs",
      "repos_url": "https://api.github.com/users/hrkrshnn/repos",
      "events_url": "https://api.github.com/users/hrkrshnn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hrkrshnn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-21T12:13:45Z",
    "updated_at": "2021-01-21T12:13:45Z",
    "author_association": "MEMBER",
    "body": "Maybe relevant: https://github.com/ethereum/solidity/issues/8802",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/764602589/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/764666097",
    "html_url": "https://github.com/ethereum/solidity/issues/10825#issuecomment-764666097",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/10825",
    "id": 764666097,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2NDY2NjA5Nw==",
    "user": {
      "login": "JoranHonig",
      "id": 8710366,
      "node_id": "MDQ6VXNlcjg3MTAzNjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8710366?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JoranHonig",
      "html_url": "https://github.com/JoranHonig",
      "followers_url": "https://api.github.com/users/JoranHonig/followers",
      "following_url": "https://api.github.com/users/JoranHonig/following{/other_user}",
      "gists_url": "https://api.github.com/users/JoranHonig/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JoranHonig/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JoranHonig/subscriptions",
      "organizations_url": "https://api.github.com/users/JoranHonig/orgs",
      "repos_url": "https://api.github.com/users/JoranHonig/repos",
      "events_url": "https://api.github.com/users/JoranHonig/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JoranHonig/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-21T14:07:24Z",
    "updated_at": "2021-01-21T14:07:24Z",
    "author_association": "NONE",
    "body": "@dddejan the specifcation types you name align with what we're thinking & building into Scribble 👍. (except for the tool-specific expressions, Scribble doesn't consider different backends yet)\r\n\r\n> Above would, I think, cover all the spec needs I've seen. If the compiler could check these for conformance, provide type-checking, and inline costexpr functions that would be amazing.\r\n\r\nWe are planning on building some specification re-use features like allowing people to define predicates. One possibility is to write these re-usable structures in separate libraries. \r\nI'm not sure that this should be part NatSpec (it's probably out of scope for NatSpec). I'm raising it here though because it would complicate having the compiler do type checking or other complex logic on specifications. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/764666097/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/766870227",
    "html_url": "https://github.com/ethereum/solidity/issues/10825#issuecomment-766870227",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/10825",
    "id": 766870227,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2Njg3MDIyNw==",
    "user": {
      "login": "franzihei",
      "id": 41991517,
      "node_id": "MDQ6VXNlcjQxOTkxNTE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/41991517?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/franzihei",
      "html_url": "https://github.com/franzihei",
      "followers_url": "https://api.github.com/users/franzihei/followers",
      "following_url": "https://api.github.com/users/franzihei/following{/other_user}",
      "gists_url": "https://api.github.com/users/franzihei/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/franzihei/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/franzihei/subscriptions",
      "organizations_url": "https://api.github.com/users/franzihei/orgs",
      "repos_url": "https://api.github.com/users/franzihei/repos",
      "events_url": "https://api.github.com/users/franzihei/events{/privacy}",
      "received_events_url": "https://api.github.com/users/franzihei/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-25T14:52:24Z",
    "updated_at": "2021-01-25T16:51:04Z",
    "author_association": "MEMBER",
    "body": "Hello everybody! I just sent out an invite via email to hopefully all of you to discuss this topic on a call. **The proposed time is this week Wednesday, 27th of January, 4:30PM CET (Berlin time).** \r\n\r\nThe Google meet link is in the invite and I can additionally share it in this issue before the meeting if needed. :)\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/766870227/reactions",
      "total_count": 3,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 3,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/767476184",
    "html_url": "https://github.com/ethereum/solidity/issues/10825#issuecomment-767476184",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/10825",
    "id": 767476184,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2NzQ3NjE4NA==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-26T11:16:37Z",
    "updated_at": "2021-01-26T11:16:37Z",
    "author_association": "MEMBER",
    "body": "I think type-checking the expressions from the compiler is an important feature, but I'm a bit worried about custom constructs like sums over mappings. Could it be a solution to require a free function (that is otherwise not used or would always panic when called) to exist that would match? Maybe not in general....\r\nWe would also have to define \"before\" and \"after\" variants of variables.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/767476184/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/767479479",
    "html_url": "https://github.com/ethereum/solidity/issues/10825#issuecomment-767479479",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/10825",
    "id": 767479479,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2NzQ3OTQ3OQ==",
    "user": {
      "login": "leonardoalt",
      "id": 504195,
      "node_id": "MDQ6VXNlcjUwNDE5NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/504195?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/leonardoalt",
      "html_url": "https://github.com/leonardoalt",
      "followers_url": "https://api.github.com/users/leonardoalt/followers",
      "following_url": "https://api.github.com/users/leonardoalt/following{/other_user}",
      "gists_url": "https://api.github.com/users/leonardoalt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/leonardoalt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/leonardoalt/subscriptions",
      "organizations_url": "https://api.github.com/users/leonardoalt/orgs",
      "repos_url": "https://api.github.com/users/leonardoalt/repos",
      "events_url": "https://api.github.com/users/leonardoalt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/leonardoalt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-26T11:23:24Z",
    "updated_at": "2021-01-26T11:23:24Z",
    "author_association": "MEMBER",
    "body": "> Could it be a solution to require a free function (that is otherwise not used or would always panic when called) to exist that would match? Maybe not in general....\r\n\r\nThe problem is that that's just one function. Different tools will probably give different capabilities, so I think we shouldn't add sum of mappings as a common thing.\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/767479479/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/767491769",
    "html_url": "https://github.com/ethereum/solidity/issues/10825#issuecomment-767491769",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/10825",
    "id": 767491769,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2NzQ5MTc2OQ==",
    "user": {
      "login": "hajduakos",
      "id": 1536315,
      "node_id": "MDQ6VXNlcjE1MzYzMTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1536315?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hajduakos",
      "html_url": "https://github.com/hajduakos",
      "followers_url": "https://api.github.com/users/hajduakos/followers",
      "following_url": "https://api.github.com/users/hajduakos/following{/other_user}",
      "gists_url": "https://api.github.com/users/hajduakos/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hajduakos/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hajduakos/subscriptions",
      "organizations_url": "https://api.github.com/users/hajduakos/orgs",
      "repos_url": "https://api.github.com/users/hajduakos/repos",
      "events_url": "https://api.github.com/users/hajduakos/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hajduakos/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-26T11:49:08Z",
    "updated_at": "2021-01-26T11:49:08Z",
    "author_association": "NONE",
    "body": "I also like the general direction, I think #5421 and #4991 are also related.\r\n\r\nFrom our side (solc-verify) I agree with the points of @dddejan . I also agree with @chriseth that the hard part is having compiler support (e.g., parsing, type checking) for the tool specific extensions. Looking at tools like solc-verify, VeriSol, VerX, etc., there is definitely interest for such extensions. @leonardoalt also raised a good point that it's not just a single or a few functions, a general solution is needed.\r\n\r\nIn [solc-verify](https://github.com/SRI-CSL/solidity/blob/0.7/SOLC-VERIFY-README.md), we currently add such extensions as magic functions, with special names (e.g., `__verifier_sum`). This is of course just a workaround until there is a better solution. On the downside, this requires modifications in the compiler (to add these variables) and with some low probability, these functions can be in conflict with existing functions. Also, we are having trouble with polymorphism: we cannot define a function with the same name for different types. For example, to express a \"before\" version of the variables, we wanted to define a function `__verifier_old(...)`, but we had to define a separate one for different types (e.g., `__verifier_old_address(...)`).\r\n\r\nAn other approach (that for example VeriSol uses) is to define such extensions [in an interface](https://github.com/microsoft/verisol/blob/master/Test/regressions/Libraries/VeriSolContracts.sol), which needs to be included. However, such approaches influence the actual code and also the compiled binary (unless the compiler knows about them and optimizes them away), which might not be desirable. In my opinion, the compiled binary should be exactly the same for a contract with/without specs.\r\n\r\nHaving some common format for specifications (with some compiler support) could resolve the above issues.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/767491769/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/767612155",
    "html_url": "https://github.com/ethereum/solidity/issues/10825#issuecomment-767612155",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/10825",
    "id": 767612155,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2NzYxMjE1NQ==",
    "user": {
      "login": "dddejan",
      "id": 1482564,
      "node_id": "MDQ6VXNlcjE0ODI1NjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1482564?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dddejan",
      "html_url": "https://github.com/dddejan",
      "followers_url": "https://api.github.com/users/dddejan/followers",
      "following_url": "https://api.github.com/users/dddejan/following{/other_user}",
      "gists_url": "https://api.github.com/users/dddejan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dddejan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dddejan/subscriptions",
      "organizations_url": "https://api.github.com/users/dddejan/orgs",
      "repos_url": "https://api.github.com/users/dddejan/repos",
      "events_url": "https://api.github.com/users/dddejan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dddejan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-26T15:16:29Z",
    "updated_at": "2021-01-26T15:16:29Z",
    "author_association": "NONE",
    "body": "> I think type-checking the expressions from the compiler is an important feature, but I'm a bit worried about custom constructs like sums over mappings. Could it be a solution to require a free function (that is otherwise not used or would always panic when called) to exist that would match? Maybe not in general....\r\n> We would also have to define \"before\" and \"after\" variants of variables.\r\n\r\nAs @hajduakos mentioned, not having access to \"flexible\" typing brings unnecessary verbosity, and even makes some constructs impossible. Verbosity really kills a spec language, nobody likes to read/write specs that are longer than the code itself. \r\n\r\nThe `sum` is a good example even for basic cases. For a mapping, its return type depends on the value type of the mapping (uint8, uint256, ...). To support all these types we'd have to define free functions per type, with different names. The `sum` relatively simple in this regard because the number of return types is finite (numeric types).\r\n\r\nThe `old` function is even more interesting, because it applies to arbitrary types, and its return value is of that type. Therefore we cannot predefine these as free functions apart from the basic solidity types.  This seems like a very hard problem, i.e., how to \"typecheck\" `tool.old(balances)[msg.sender]`.\r\n\r\nAnother great example is the equality function. In specs, we often need to state that two data structures (struct, array, mapping, mapping of structs, ...) are equal by value (regardless of whether in memory or storage). In this case declaring the equality functions ahead of time is impossible because they depend on the user defined datatypes. Example: `tool.eq(balances, tool.old(balances))`.\r\n\r\nI use \"flexible\" because I don't have a good proposal towards a solution. I am not a big fan of adding more complexity to the language so I really **don't** want to suggest anything resembling templates in the language (although it might be necessary).",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/767612155/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/767617473",
    "html_url": "https://github.com/ethereum/solidity/issues/10825#issuecomment-767617473",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/10825",
    "id": 767617473,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2NzYxNzQ3Mw==",
    "user": {
      "login": "chriseth",
      "id": 9073706,
      "node_id": "MDQ6VXNlcjkwNzM3MDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9073706?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chriseth",
      "html_url": "https://github.com/chriseth",
      "followers_url": "https://api.github.com/users/chriseth/followers",
      "following_url": "https://api.github.com/users/chriseth/following{/other_user}",
      "gists_url": "https://api.github.com/users/chriseth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chriseth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chriseth/subscriptions",
      "organizations_url": "https://api.github.com/users/chriseth/orgs",
      "repos_url": "https://api.github.com/users/chriseth/repos",
      "events_url": "https://api.github.com/users/chriseth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chriseth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-26T15:24:21Z",
    "updated_at": "2021-01-26T15:24:21Z",
    "author_association": "MEMBER",
    "body": "If everything is flexible, what kind of type checking do you expect the compiler to perform? Also, some notations use things like `x'old` and `x'new`, if we are flexible, we should probably also support things like that - I would prefer this because strictly, `old` and `new` should not actually have access to the name of its argument but only to its value.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/767617473/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/767633716",
    "html_url": "https://github.com/ethereum/solidity/issues/10825#issuecomment-767633716",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/10825",
    "id": 767633716,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2NzYzMzcxNg==",
    "user": {
      "login": "dddejan",
      "id": 1482564,
      "node_id": "MDQ6VXNlcjE0ODI1NjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1482564?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dddejan",
      "html_url": "https://github.com/dddejan",
      "followers_url": "https://api.github.com/users/dddejan/followers",
      "following_url": "https://api.github.com/users/dddejan/following{/other_user}",
      "gists_url": "https://api.github.com/users/dddejan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dddejan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dddejan/subscriptions",
      "organizations_url": "https://api.github.com/users/dddejan/orgs",
      "repos_url": "https://api.github.com/users/dddejan/repos",
      "events_url": "https://api.github.com/users/dddejan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dddejan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-26T15:47:20Z",
    "updated_at": "2021-01-26T15:48:39Z",
    "author_association": "NONE",
    "body": "> If everything is flexible, what kind of type checking do you expect the compiler to perform? \r\n\r\nThat's a good question. Our main goal by using the compiler for parsing the specs is to make sure that we have the expressions that correspond exactly to the semantics of Solidity that that version of the compiler is using. Having the compiler cover Solidiy expression (parse, resolve names and types) is already a huge benefit for us (we don't worry about name resolution, operator precedence, casting, ...). The typechecking that I imagined would treat all unspecified types as free and propagate accordingly. We are fine with this kind of imprecision because the tools can eventually close all the free types themselves. \r\n\r\nFor example, what I would have in mind for `tool.old(balances)[msg.sender] > 0`:\r\n- `msg.sender` is typed according to Solidity\r\n- `balances` is typed according to Solidity\r\n- `tool.old` is a `spec function` and can take any arguments (tool will check)\r\n- `tool.old(balances)` is undefined (tool will check)\r\n-  `tool.old(balances)[msg.sender]` typechecks and resolves to an udefined type (tool will check)\r\n-  `tool.old(balances)[msg.sender] > 0` typechecks and resolve to `bool` type (tool will check)\r\n\r\nIt's a bit handwavy, I know, but that's my intuition.  I am not a PL person so I don't know if something like this makes sense, or has been done before.\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/767633716/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/767840443",
    "html_url": "https://github.com/ethereum/solidity/issues/10825#issuecomment-767840443",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/10825",
    "id": 767840443,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2Nzg0MDQ0Mw==",
    "user": {
      "login": "cd1m0",
      "id": 45853363,
      "node_id": "MDQ6VXNlcjQ1ODUzMzYz",
      "avatar_url": "https://avatars.githubusercontent.com/u/45853363?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cd1m0",
      "html_url": "https://github.com/cd1m0",
      "followers_url": "https://api.github.com/users/cd1m0/followers",
      "following_url": "https://api.github.com/users/cd1m0/following{/other_user}",
      "gists_url": "https://api.github.com/users/cd1m0/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cd1m0/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cd1m0/subscriptions",
      "organizations_url": "https://api.github.com/users/cd1m0/orgs",
      "repos_url": "https://api.github.com/users/cd1m0/repos",
      "events_url": "https://api.github.com/users/cd1m0/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cd1m0/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-26T21:30:35Z",
    "updated_at": "2021-01-26T21:32:10Z",
    "author_association": "NONE",
    "body": "Hi All. Great points about the tension between type-checking specs, and placing undue burden/complication on the compiler. What about the following 3 rough directions about how much the compiler type-checks:\r\n\r\n1. Not at all. The compiler simply exposes specs in the AST, and its up to each individual tool to type-check its own specs. This way we don't unnecessarily burden the compiler, but the tools still get the benefit of parsing.\r\n\r\n2. The compiler only type-checks SMTChecker compatible specs, and leaves the rest to the tools.\r\n\r\n3. Each tool is required to provide an 'interface specification'. As people pointed out, the interface spec must support parametric polymorphism. So specs would be typechecked in an extension to Solidity - Solidity+Parametric Polymorphism+Bounded Quantification. So for example tool X can provide the following interface for the compiler to type-check its tool-specific functions:\r\n\r\n```\r\ntool.old <T> :: (T) => T\r\ntool.sum <T extends numbers> :: (T[]) => T\r\ntool.sum <K, V extends numbers> :: (mapping(K=>V)) => V\r\n```\r\n\r\nThis would add a bunch of complication to the type-checking code, just to support specs. Also we would have to add some additional subtyping rules to make this useful (e.g. int8 <: int16 <:... int256 <: numbers). ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/767840443/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/768179053",
    "html_url": "https://github.com/ethereum/solidity/issues/10825#issuecomment-768179053",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/10825",
    "id": 768179053,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2ODE3OTA1Mw==",
    "user": {
      "login": "JoranHonig",
      "id": 8710366,
      "node_id": "MDQ6VXNlcjg3MTAzNjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8710366?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JoranHonig",
      "html_url": "https://github.com/JoranHonig",
      "followers_url": "https://api.github.com/users/JoranHonig/followers",
      "following_url": "https://api.github.com/users/JoranHonig/following{/other_user}",
      "gists_url": "https://api.github.com/users/JoranHonig/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JoranHonig/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JoranHonig/subscriptions",
      "organizations_url": "https://api.github.com/users/JoranHonig/orgs",
      "repos_url": "https://api.github.com/users/JoranHonig/repos",
      "events_url": "https://api.github.com/users/JoranHonig/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JoranHonig/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-27T10:10:11Z",
    "updated_at": "2021-01-27T10:10:24Z",
    "author_association": "NONE",
    "body": "This discussion is growing more extensive than I initially expected 😄\r\n\r\nThere seem to be three topics:\r\n1. Introduce a NatSpec tag so specifications can live as NatSpec docstrings\r\n2. Offloading specification sanity checks (syntax & type) to the compiler \r\n3. Developing a common language that multiple tools use as a backend\r\n\r\nI think we've gone very deep into topic 2, but think that nr. 3 is potentially beneficial:\r\n\r\n---\r\n\r\nWhile developing a common language that can essentially be extended by different tools does bring its benefits:\r\n- Compiler can do certain checks (syntax, type)\r\n- Developers would only need to learn one language + the specific functions used  by the tools that they want to use\r\n \r\nWe'd still be missing out on one of the most important benefits that a common language can bring. Namely that you only have to write specifications once, instead of for every tool out there.\r\nIf developers need to write annotations specific to a tool  (because they need to use constructs like `tool.sum`), they will still have to duplicate their effort for each tool they want to use.\r\nFurthermore, slight semantic divergences between tools can result in a lot of confusion. (Consider, for example, tools treating invariants as either strong or weak).\r\n\r\nA single common specification language (without tool-specific constructs) would potentially have a much-improved developer experience. Different backends could interpret or translate these specifications so that developers can apply different verification technique. An example of a similar framework/ spec-language is ACSL and frama-c. \r\n\r\n> The problem is that that's just one function. Different tools will probably give different capabilities, so I think we shouldn't add sum of mappings as a common thing.\r\n\r\n@leonardoalt does raise a good point here. We might take a similar approach to frama-c. As I understand it, frama-c backends selectively support language features. For example, I believe the runtime assertion checking backend doesn't support frame conditions.\r\nWhile this doesn't solve every problem, it moves the problem of figuring out semantic divergences between backends (or tools) away from the developer. Which I think is a positive aspect.\r\nYou also get the benefit of a single common language:\r\n- Developers only need to learn one language\r\n- Everything can be type-checked/ consistency checked\r\n- You can re-use specifications between backends\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/768179053/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/768185105",
    "html_url": "https://github.com/ethereum/solidity/issues/10825#issuecomment-768185105",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/10825",
    "id": 768185105,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2ODE4NTEwNQ==",
    "user": {
      "login": "leonardoalt",
      "id": 504195,
      "node_id": "MDQ6VXNlcjUwNDE5NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/504195?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/leonardoalt",
      "html_url": "https://github.com/leonardoalt",
      "followers_url": "https://api.github.com/users/leonardoalt/followers",
      "following_url": "https://api.github.com/users/leonardoalt/following{/other_user}",
      "gists_url": "https://api.github.com/users/leonardoalt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/leonardoalt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/leonardoalt/subscriptions",
      "organizations_url": "https://api.github.com/users/leonardoalt/orgs",
      "repos_url": "https://api.github.com/users/leonardoalt/repos",
      "events_url": "https://api.github.com/users/leonardoalt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/leonardoalt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-27T10:20:43Z",
    "updated_at": "2021-01-27T10:21:45Z",
    "author_association": "MEMBER",
    "body": "@JoranHonig while I agree with you, I'm not very optimistic that we can practically achieve that. IMO the common language would be pre/post conditions, old/new vars, inductive invariants, + whatever the compiler is able to type check.\r\n\r\nAlso summoning @MrChico @xwvvvvwx ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/768185105/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/768191059",
    "html_url": "https://github.com/ethereum/solidity/issues/10825#issuecomment-768191059",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/10825",
    "id": 768191059,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2ODE5MTA1OQ==",
    "user": {
      "login": "leonardoalt",
      "id": 504195,
      "node_id": "MDQ6VXNlcjUwNDE5NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/504195?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/leonardoalt",
      "html_url": "https://github.com/leonardoalt",
      "followers_url": "https://api.github.com/users/leonardoalt/followers",
      "following_url": "https://api.github.com/users/leonardoalt/following{/other_user}",
      "gists_url": "https://api.github.com/users/leonardoalt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/leonardoalt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/leonardoalt/subscriptions",
      "organizations_url": "https://api.github.com/users/leonardoalt/orgs",
      "repos_url": "https://api.github.com/users/leonardoalt/repos",
      "events_url": "https://api.github.com/users/leonardoalt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/leonardoalt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-27T10:30:31Z",
    "updated_at": "2021-01-27T10:30:31Z",
    "author_association": "MEMBER",
    "body": "As an extension of my comment above, I would suggest that if a subset of tools has a common set of features/language that is not common to all tools they could agree on an extension, give it a name, and publish it somewhere. This `somewhere` could be a common place where all extensions are explained, for instance the natspec docs (just an idea). Users can apply that extension as `@spec[sum] ...` and know which tools would support that.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/768191059/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/768193269",
    "html_url": "https://github.com/ethereum/solidity/issues/10825#issuecomment-768193269",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/10825",
    "id": 768193269,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2ODE5MzI2OQ==",
    "user": {
      "login": "JoranHonig",
      "id": 8710366,
      "node_id": "MDQ6VXNlcjg3MTAzNjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8710366?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JoranHonig",
      "html_url": "https://github.com/JoranHonig",
      "followers_url": "https://api.github.com/users/JoranHonig/followers",
      "following_url": "https://api.github.com/users/JoranHonig/following{/other_user}",
      "gists_url": "https://api.github.com/users/JoranHonig/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JoranHonig/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JoranHonig/subscriptions",
      "organizations_url": "https://api.github.com/users/JoranHonig/orgs",
      "repos_url": "https://api.github.com/users/JoranHonig/repos",
      "events_url": "https://api.github.com/users/JoranHonig/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JoranHonig/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-27T10:34:27Z",
    "updated_at": "2021-01-27T10:34:27Z",
    "author_association": "NONE",
    "body": "@leonardoalt I was thinking something similar 😅, but you type quicker than me 😂 \r\n\r\nI was thinking it would also be possible to think about something like \"dialects\".\r\nThese would specify common groups of specification language features (such as `sum`).\r\n\r\nThis would fit perfectly with the tool that we're working on right now (scribble). Which isn't meant to have just the one backend ( runtime assertion checking ). A way to think about Scribble could be as such a dialect.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/768193269/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/768214151",
    "html_url": "https://github.com/ethereum/solidity/issues/10825#issuecomment-768214151",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/10825",
    "id": 768214151,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2ODIxNDE1MQ==",
    "user": {
      "login": "hajduakos",
      "id": 1536315,
      "node_id": "MDQ6VXNlcjE1MzYzMTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1536315?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hajduakos",
      "html_url": "https://github.com/hajduakos",
      "followers_url": "https://api.github.com/users/hajduakos/followers",
      "following_url": "https://api.github.com/users/hajduakos/following{/other_user}",
      "gists_url": "https://api.github.com/users/hajduakos/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hajduakos/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hajduakos/subscriptions",
      "organizations_url": "https://api.github.com/users/hajduakos/orgs",
      "repos_url": "https://api.github.com/users/hajduakos/repos",
      "events_url": "https://api.github.com/users/hajduakos/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hajduakos/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-27T11:13:23Z",
    "updated_at": "2021-01-27T11:13:23Z",
    "author_association": "NONE",
    "body": "@JoranHonig I agree that having a single specification language has many benefits, but it is really hard to draw the line. I believe that pure Solidity expressions are good for some toy examples, but anything practical actually requires more. As @leonardoalt mentioned, it would be nice to have pre/postconditions, old/new vars, sums, etc. Furthermore, if we want to leverage multiple backends for the same code, then it is not enough to standardize the specification expressions themselves, we also need to come up with a common subset of specification types. For example, the `if_succeeds <expression>` construct of Scribble seem to roughly correspond to the `postcondition <expression>` construct of solc-verify.\r\n\r\nDialects are a good idea, but considering these different kinds of specs, I'm a bit concerned that each tool will still need something really tool specific. So in the end, the number of dialects might end up being equivalent to the number of tools and developers cannot really benefit from multiple backends.\r\n\r\nNevertheless, some steps towards standardization or a common subset of specs would be great.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/768214151/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/768232212",
    "html_url": "https://github.com/ethereum/solidity/issues/10825#issuecomment-768232212",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/10825",
    "id": 768232212,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2ODIzMjIxMg==",
    "user": {
      "login": "leonardoalt",
      "id": 504195,
      "node_id": "MDQ6VXNlcjUwNDE5NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/504195?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/leonardoalt",
      "html_url": "https://github.com/leonardoalt",
      "followers_url": "https://api.github.com/users/leonardoalt/followers",
      "following_url": "https://api.github.com/users/leonardoalt/following{/other_user}",
      "gists_url": "https://api.github.com/users/leonardoalt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/leonardoalt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/leonardoalt/subscriptions",
      "organizations_url": "https://api.github.com/users/leonardoalt/orgs",
      "repos_url": "https://api.github.com/users/leonardoalt/repos",
      "events_url": "https://api.github.com/users/leonardoalt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/leonardoalt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-27T11:47:53Z",
    "updated_at": "2021-01-27T11:47:53Z",
    "author_association": "MEMBER",
    "body": "@hajduakos I agree what each tool will probably need their own precise dialect, but I'd say there are still common subsets that many tools would agree with, and I think `sum` is a good example for that.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/768232212/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/768236484",
    "html_url": "https://github.com/ethereum/solidity/issues/10825#issuecomment-768236484",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/10825",
    "id": 768236484,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2ODIzNjQ4NA==",
    "user": {
      "login": "hajduakos",
      "id": 1536315,
      "node_id": "MDQ6VXNlcjE1MzYzMTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1536315?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hajduakos",
      "html_url": "https://github.com/hajduakos",
      "followers_url": "https://api.github.com/users/hajduakos/followers",
      "following_url": "https://api.github.com/users/hajduakos/following{/other_user}",
      "gists_url": "https://api.github.com/users/hajduakos/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hajduakos/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hajduakos/subscriptions",
      "organizations_url": "https://api.github.com/users/hajduakos/orgs",
      "repos_url": "https://api.github.com/users/hajduakos/repos",
      "events_url": "https://api.github.com/users/hajduakos/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hajduakos/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-27T11:56:26Z",
    "updated_at": "2021-01-27T11:56:26Z",
    "author_association": "NONE",
    "body": "@leonardoalt I agree. I think for the expressions it should be more straightforward. I'm more concerned about the specification kinds. For example, Scribble has `if_succeeds`, ..., solc-verify has `precondition`, `postcondition`, `invriant`, ... In some cases this is just a matter of naming and they can be matched. But there might be some subtle differences.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/768236484/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/768260135",
    "html_url": "https://github.com/ethereum/solidity/issues/10825#issuecomment-768260135",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/10825",
    "id": 768260135,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2ODI2MDEzNQ==",
    "user": {
      "login": "JoranHonig",
      "id": 8710366,
      "node_id": "MDQ6VXNlcjg3MTAzNjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8710366?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JoranHonig",
      "html_url": "https://github.com/JoranHonig",
      "followers_url": "https://api.github.com/users/JoranHonig/followers",
      "following_url": "https://api.github.com/users/JoranHonig/following{/other_user}",
      "gists_url": "https://api.github.com/users/JoranHonig/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JoranHonig/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JoranHonig/subscriptions",
      "organizations_url": "https://api.github.com/users/JoranHonig/orgs",
      "repos_url": "https://api.github.com/users/JoranHonig/repos",
      "events_url": "https://api.github.com/users/JoranHonig/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JoranHonig/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-27T12:42:43Z",
    "updated_at": "2021-01-27T12:43:06Z",
    "author_association": "NONE",
    "body": "> But there might be some subtle differences.\r\n\r\nRight, that seems like one of the primary challenges in a universal/ common language.\r\n\r\nMy thinking was that there is nothing stopping multiple tools from adhering to the same common dialect. In such a scenario tool developers (for future tools) would be able to prevent those subtile differences, as they can decide to stick to the common interpretation.\r\n\r\nThere are caveats though;\r\nSometimes a tool might want to intentionally divert from a particular dialect.\r\nSometimes a tool might want additional language features not present in a dialect.\r\n...",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/768260135/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/768351332",
    "html_url": "https://github.com/ethereum/solidity/issues/10825#issuecomment-768351332",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/10825",
    "id": 768351332,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2ODM1MTMzMg==",
    "user": {
      "login": "dddejan",
      "id": 1482564,
      "node_id": "MDQ6VXNlcjE0ODI1NjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1482564?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dddejan",
      "html_url": "https://github.com/dddejan",
      "followers_url": "https://api.github.com/users/dddejan/followers",
      "following_url": "https://api.github.com/users/dddejan/following{/other_user}",
      "gists_url": "https://api.github.com/users/dddejan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dddejan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dddejan/subscriptions",
      "organizations_url": "https://api.github.com/users/dddejan/orgs",
      "repos_url": "https://api.github.com/users/dddejan/repos",
      "events_url": "https://api.github.com/users/dddejan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dddejan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-27T15:10:58Z",
    "updated_at": "2021-01-27T15:10:58Z",
    "author_association": "NONE",
    "body": "I think it might be wise to put aside advanced features and dialects for the moment (even the sum) and focus on the core expression language. \r\n\r\nThe main obstacle to specification and verification doesn't seem to be what we can verify, but rather the lack of users that are willing to write specs for the contracts. The benefit of having even a core set of specification expressions supported by the compiler would be tremendous in this regard. If the users could be exposed to specification elements in Solidity docs, complemented with IDE support for writing specs (through direct compiler support), the spec-writing community would grow and give a much larger boost for developing the general spec approach. I live to see the day when people upload a contract with a standard spec to Etherscan.\r\n\r\nWe basically all agree on the core language: contract and loop invariants, some kind of pre- and post-condititions, and some way to reference old values (`old`). \r\n\r\nA good guiding principle for the core language might be to only include things that could potentially be \"executed\" by the compiler: turned into require/assert statements. For example, only allowing `old` on primitive types so that one could remember the value in a ghost variable. With sufficient work this could also be done for `sum` but wold take much more work so I would skip it for now. By framing it this way semantics are clear and there is no need to discuss tool differences (which btw I think don't really exist).\r\n\r\nI would leave it to compiler developers to come up with the actual syntax, verification people can adopt their tools. Anything past that is getting researchy and is bound to take a while. \r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/768351332/reactions",
      "total_count": 4,
      "+1": 4,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/768361674",
    "html_url": "https://github.com/ethereum/solidity/issues/10825#issuecomment-768361674",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/10825",
    "id": 768361674,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2ODM2MTY3NA==",
    "user": {
      "login": "franzihei",
      "id": 41991517,
      "node_id": "MDQ6VXNlcjQxOTkxNTE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/41991517?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/franzihei",
      "html_url": "https://github.com/franzihei",
      "followers_url": "https://api.github.com/users/franzihei/followers",
      "following_url": "https://api.github.com/users/franzihei/following{/other_user}",
      "gists_url": "https://api.github.com/users/franzihei/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/franzihei/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/franzihei/subscriptions",
      "organizations_url": "https://api.github.com/users/franzihei/orgs",
      "repos_url": "https://api.github.com/users/franzihei/repos",
      "events_url": "https://api.github.com/users/franzihei/events{/privacy}",
      "received_events_url": "https://api.github.com/users/franzihei/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-27T15:25:17Z",
    "updated_at": "2021-01-27T15:25:17Z",
    "author_association": "MEMBER",
    "body": "Just dropping the meeting link here as well for out meeting in 5 mins! \r\n--> https://meet.google.com/oye-bduq-nkc",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/768361674/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/768362738",
    "html_url": "https://github.com/ethereum/solidity/issues/10825#issuecomment-768362738",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/10825",
    "id": 768362738,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2ODM2MjczOA==",
    "user": {
      "login": "GNSPS",
      "id": 4008213,
      "node_id": "MDQ6VXNlcjQwMDgyMTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4008213?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/GNSPS",
      "html_url": "https://github.com/GNSPS",
      "followers_url": "https://api.github.com/users/GNSPS/followers",
      "following_url": "https://api.github.com/users/GNSPS/following{/other_user}",
      "gists_url": "https://api.github.com/users/GNSPS/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/GNSPS/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/GNSPS/subscriptions",
      "organizations_url": "https://api.github.com/users/GNSPS/orgs",
      "repos_url": "https://api.github.com/users/GNSPS/repos",
      "events_url": "https://api.github.com/users/GNSPS/events{/privacy}",
      "received_events_url": "https://api.github.com/users/GNSPS/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-27T15:26:39Z",
    "updated_at": "2021-01-27T15:26:39Z",
    "author_association": "CONTRIBUTOR",
    "body": "I'm running ~5 mins late! But Joran and Valentin will be there from the start! 😊 🙏\n\nOn Wed, Jan 27, 2021 at 15:25:35, Franziska Heintel < notifications@github.com > wrote:\n\n> \n> \n> \n> Just dropping the meeting link here as well for out meeting in 5 mins!\n> --> https:/ / meet. google. com/ oye-bduq-nkc (\n> https://meet.google.com/oye-bduq-nkc )\n> \n> \n> \n> —\n> You are receiving this because you commented.\n> Reply to this email directly, view it on GitHub (\n> https://github.com/ethereum/solidity/issues/10825#issuecomment-768361674 )\n> , or unsubscribe (\n> https://github.com/notifications/unsubscribe-auth/AA6SSFO6T6RMKSK4PEDSUKDS4AV67ANCNFSM4WKPMRTA\n> ).\n> \n> \n>",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/768362738/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/768364433",
    "html_url": "https://github.com/ethereum/solidity/issues/10825#issuecomment-768364433",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/10825",
    "id": 768364433,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2ODM2NDQzMw==",
    "user": {
      "login": "axic",
      "id": 20340,
      "node_id": "MDQ6VXNlcjIwMzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/axic",
      "html_url": "https://github.com/axic",
      "followers_url": "https://api.github.com/users/axic/followers",
      "following_url": "https://api.github.com/users/axic/following{/other_user}",
      "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
      "organizations_url": "https://api.github.com/users/axic/orgs",
      "repos_url": "https://api.github.com/users/axic/repos",
      "events_url": "https://api.github.com/users/axic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/axic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-27T15:29:04Z",
    "updated_at": "2021-01-27T15:29:04Z",
    "author_association": "MEMBER",
    "body": "While not strictly related, the discussion in #8146 also touched upon syntax for invariants. So did #8433. (Seems like we have at least four issues discussing it.)",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/768364433/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/768369067",
    "html_url": "https://github.com/ethereum/solidity/issues/10825#issuecomment-768369067",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/10825",
    "id": 768369067,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2ODM2OTA2Nw==",
    "user": {
      "login": "leonardoalt",
      "id": 504195,
      "node_id": "MDQ6VXNlcjUwNDE5NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/504195?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/leonardoalt",
      "html_url": "https://github.com/leonardoalt",
      "followers_url": "https://api.github.com/users/leonardoalt/followers",
      "following_url": "https://api.github.com/users/leonardoalt/following{/other_user}",
      "gists_url": "https://api.github.com/users/leonardoalt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/leonardoalt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/leonardoalt/subscriptions",
      "organizations_url": "https://api.github.com/users/leonardoalt/orgs",
      "repos_url": "https://api.github.com/users/leonardoalt/repos",
      "events_url": "https://api.github.com/users/leonardoalt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/leonardoalt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-27T15:35:26Z",
    "updated_at": "2021-01-27T15:35:26Z",
    "author_association": "MEMBER",
    "body": "Completely agree with @dddejan ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/768369067/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/768410822",
    "html_url": "https://github.com/ethereum/solidity/issues/10825#issuecomment-768410822",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/10825",
    "id": 768410822,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2ODQxMDgyMg==",
    "user": {
      "login": "axic",
      "id": 20340,
      "node_id": "MDQ6VXNlcjIwMzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/axic",
      "html_url": "https://github.com/axic",
      "followers_url": "https://api.github.com/users/axic/followers",
      "following_url": "https://api.github.com/users/axic/following{/other_user}",
      "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
      "organizations_url": "https://api.github.com/users/axic/orgs",
      "repos_url": "https://api.github.com/users/axic/repos",
      "events_url": "https://api.github.com/users/axic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/axic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-27T16:36:34Z",
    "updated_at": "2021-01-27T16:42:39Z",
    "author_association": "MEMBER",
    "body": "Based on today's call, it seems that the benefit of having a natspec tag is the visibility to users, and it is parsed and exposed by the compiler. These tags are however only exposed separately to the AST.\r\n\r\nIt appears it would be useful to\r\na) extend the natspec output or have a separate output which links it to AST ids\r\nb) include all comments (and potentially parsed natspec additionally?) in the AST output\r\n\r\nAs mentioned earlier we are talking about various distinct features here:\r\n1. Have very apparent place in the source for users to write specs in\r\n2. Have the compiler do the parsing for tools\r\n3. Have the compiler validate (some of) the contents of the specs\r\n4. Have a common specification language\r\n\r\nI think:\r\n- 1 and 2 is achieved by having a natspec tag and exposing it nicely in the AST.\r\n- 3 seems to be depending on 4), otherwise it will become very messy. Parsing expressions could be achieved via #1272.\r\n- 4 seems to be a long term goal.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/768410822/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/768413393",
    "html_url": "https://github.com/ethereum/solidity/issues/10825#issuecomment-768413393",
    "issue_url": "https://api.github.com/repos/ethereum/solidity/issues/10825",
    "id": 768413393,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2ODQxMzM5Mw==",
    "user": {
      "login": "leonardoalt",
      "id": 504195,
      "node_id": "MDQ6VXNlcjUwNDE5NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/504195?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/leonardoalt",
      "html_url": "https://github.com/leonardoalt",
      "followers_url": "https://api.github.com/users/leonardoalt/followers",
      "following_url": "https://api.github.com/users/leonardoalt/following{/other_user}",
      "gists_url": "https://api.github.com/users/leonardoalt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/leonardoalt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/leonardoalt/subscriptions",
      "organizations_url": "https://api.github.com/users/leonardoalt/orgs",
      "repos_url": "https://api.github.com/users/leonardoalt/repos",
      "events_url": "https://api.github.com/users/leonardoalt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/leonardoalt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-27T16:40:40Z",
    "updated_at": "2021-01-27T16:40:40Z",
    "author_association": "MEMBER",
    "body": "Decision on call (which included most people in this issue):\r\nWe'll use natspec and start with the very minimal, that is `@spec`, `dialect`, `property`.\r\nThe syntax is yet to be defined, but suggestions were:\r\n```\r\n// @spec[dialect] property\r\n// @spec dialect property\r\nother ideas?\r\n```\r\nThanks for the call everyone!",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/solidity/issues/comments/768413393/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
