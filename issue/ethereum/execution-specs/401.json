{
  "url": "https://api.github.com/repos/ethereum/execution-specs/issues/401",
  "repository_url": "https://api.github.com/repos/ethereum/execution-specs",
  "labels_url": "https://api.github.com/repos/ethereum/execution-specs/issues/401/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/execution-specs/issues/401/comments",
  "events_url": "https://api.github.com/repos/ethereum/execution-specs/issues/401/events",
  "html_url": "https://github.com/ethereum/execution-specs/issues/401",
  "id": 1064805973,
  "node_id": "I_kwDOERgWss4_d6ZV",
  "number": 401,
  "title": "EIP-2681: Limit account nonce to 2^64-1 ",
  "user": {
    "login": "axic",
    "id": 20340,
    "node_id": "MDQ6VXNlcjIwMzQw",
    "avatar_url": "https://avatars.githubusercontent.com/u/20340?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/axic",
    "html_url": "https://github.com/axic",
    "followers_url": "https://api.github.com/users/axic/followers",
    "following_url": "https://api.github.com/users/axic/following{/other_user}",
    "gists_url": "https://api.github.com/users/axic/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/axic/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/axic/subscriptions",
    "organizations_url": "https://api.github.com/users/axic/orgs",
    "repos_url": "https://api.github.com/users/axic/repos",
    "events_url": "https://api.github.com/users/axic/events{/privacy}",
    "received_events_url": "https://api.github.com/users/axic/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 3146414934,
      "node_id": "MDU6TGFiZWwzMTQ2NDE0OTM0",
      "url": "https://api.github.com/repos/ethereum/execution-specs/labels/A-spec",
      "name": "A-spec",
      "color": "FBCA04",
      "default": false,
      "description": "Area: specification"
    },
    {
      "id": 3379015265,
      "node_id": "LA_kwDOERgWss7JZ65h",
      "url": "https://api.github.com/repos/ethereum/execution-specs/labels/C-eip",
      "name": "C-eip",
      "color": "C5DEF5",
      "default": false,
      "description": "Category: tracking implementation of an EIP"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2021-11-26T21:13:09Z",
  "updated_at": "2022-02-15T07:01:11Z",
  "closed_at": "2022-02-15T07:01:11Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "[EIP-2681](https://eips.ethereum.org/EIPS/eip-2681) applies from genesis. It was properly merged into Geth this week and also the state tests repository has it merged.",
  "closed_by": {
    "login": "SamWilsn",
    "id": 57262657,
    "node_id": "MDQ6VXNlcjU3MjYyNjU3",
    "avatar_url": "https://avatars.githubusercontent.com/u/57262657?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/SamWilsn",
    "html_url": "https://github.com/SamWilsn",
    "followers_url": "https://api.github.com/users/SamWilsn/followers",
    "following_url": "https://api.github.com/users/SamWilsn/following{/other_user}",
    "gists_url": "https://api.github.com/users/SamWilsn/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/SamWilsn/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/SamWilsn/subscriptions",
    "organizations_url": "https://api.github.com/users/SamWilsn/orgs",
    "repos_url": "https://api.github.com/users/SamWilsn/repos",
    "events_url": "https://api.github.com/users/SamWilsn/events{/privacy}",
    "received_events_url": "https://api.github.com/users/SamWilsn/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/execution-specs/issues/401/reactions",
    "total_count": 2,
    "+1": 2,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/execution-specs/issues/401/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/execution-specs/issues/comments/1010363644",
    "html_url": "https://github.com/ethereum/execution-specs/issues/401#issuecomment-1010363644",
    "issue_url": "https://api.github.com/repos/ethereum/execution-specs/issues/401",
    "id": 1010363644,
    "node_id": "IC_kwDOERgWss48OOz8",
    "user": {
      "login": "gurukamath",
      "id": 48196632,
      "node_id": "MDQ6VXNlcjQ4MTk2NjMy",
      "avatar_url": "https://avatars.githubusercontent.com/u/48196632?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gurukamath",
      "html_url": "https://github.com/gurukamath",
      "followers_url": "https://api.github.com/users/gurukamath/followers",
      "following_url": "https://api.github.com/users/gurukamath/following{/other_user}",
      "gists_url": "https://api.github.com/users/gurukamath/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gurukamath/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gurukamath/subscriptions",
      "organizations_url": "https://api.github.com/users/gurukamath/orgs",
      "repos_url": "https://api.github.com/users/gurukamath/repos",
      "events_url": "https://api.github.com/users/gurukamath/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gurukamath/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-11T21:12:55Z",
    "updated_at": "2022-01-11T21:12:55Z",
    "author_association": "COLLABORATOR",
    "body": "Which test cases would one use to build this? I am unable to find any JSON under tests that mentions this issue.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/execution-specs/issues/comments/1010363644/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/execution-specs/issues/comments/1010640860",
    "html_url": "https://github.com/ethereum/execution-specs/issues/401#issuecomment-1010640860",
    "issue_url": "https://api.github.com/repos/ethereum/execution-specs/issues/401",
    "id": 1010640860,
    "node_id": "IC_kwDOERgWss48PSfc",
    "user": {
      "login": "SamWilsn",
      "id": 57262657,
      "node_id": "MDQ6VXNlcjU3MjYyNjU3",
      "avatar_url": "https://avatars.githubusercontent.com/u/57262657?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SamWilsn",
      "html_url": "https://github.com/SamWilsn",
      "followers_url": "https://api.github.com/users/SamWilsn/followers",
      "following_url": "https://api.github.com/users/SamWilsn/following{/other_user}",
      "gists_url": "https://api.github.com/users/SamWilsn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SamWilsn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SamWilsn/subscriptions",
      "organizations_url": "https://api.github.com/users/SamWilsn/orgs",
      "repos_url": "https://api.github.com/users/SamWilsn/repos",
      "events_url": "https://api.github.com/users/SamWilsn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SamWilsn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-12T05:08:56Z",
    "updated_at": "2022-01-12T05:10:15Z",
    "author_association": "MEMBER",
    "body": "> Which test cases would one use to build this? I am unable to find any JSON under tests that mentions this issue.\r\n\r\nThey can be found in the upstream repository: https://github.com/ethereum/tests/tree/develop/TransactionTests/ttNonce\r\n\r\nThe <code>[tests](https://github.com/ethereum/execution-specs/tree/master/tests)/fixtures</code> directory is a submodule, and needs to be updated to get the latest tests.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/execution-specs/issues/comments/1010640860/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/execution-specs/issues/comments/1013778332",
    "html_url": "https://github.com/ethereum/execution-specs/issues/401#issuecomment-1013778332",
    "issue_url": "https://api.github.com/repos/ethereum/execution-specs/issues/401",
    "id": 1013778332,
    "node_id": "IC_kwDOERgWss48bQec",
    "user": {
      "login": "gurukamath",
      "id": 48196632,
      "node_id": "MDQ6VXNlcjQ4MTk2NjMy",
      "avatar_url": "https://avatars.githubusercontent.com/u/48196632?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gurukamath",
      "html_url": "https://github.com/gurukamath",
      "followers_url": "https://api.github.com/users/gurukamath/followers",
      "following_url": "https://api.github.com/users/gurukamath/following{/other_user}",
      "gists_url": "https://api.github.com/users/gurukamath/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gurukamath/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gurukamath/subscriptions",
      "organizations_url": "https://api.github.com/users/gurukamath/orgs",
      "repos_url": "https://api.github.com/users/gurukamath/repos",
      "events_url": "https://api.github.com/users/gurukamath/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gurukamath/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-16T00:03:49Z",
    "updated_at": "2022-01-16T00:05:41Z",
    "author_association": "COLLABORATOR",
    "body": "@SamWilsn Thanks.\r\n\r\nAlso for the other change mentioned in [EIP-2681](https://eips.ethereum.org/EIPS/eip-2681)\r\n\"The CREATE and CREATE2 instructions to abort with an exceptional halt, where the account nonce is 2^64-1\", I assume the relevant test is [High Nonce Test](https://github.com/ethereum/tests/blob/develop/GeneralStateTests/stCreateTest/CREATE_HighNonce.json).\r\n\r\nHowever, I see that the structure of the above JSON is quite different from the fixtures that have been tested so far for the VM System Operations (I looked at [suicide0](https://github.com/ethereum/tests/blob/82f6a5a7362e703a64dce303dd0c30f264b8195f/LegacyTests/Constantinople/VMTests/vmSystemOperations/suicide0.json) as a reference). For example, the \"exec\" key from the old JSON is missing in the new one (perhaps replaced by \"transaction\" based on a quick glance).\r\n\r\nIs there any reference that could help me load the new format of tests? Or at least a dictionary that translates the old keys in JSON to the new one?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/execution-specs/issues/comments/1013778332/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/execution-specs/issues/comments/1013809659",
    "html_url": "https://github.com/ethereum/execution-specs/issues/401#issuecomment-1013809659",
    "issue_url": "https://api.github.com/repos/ethereum/execution-specs/issues/401",
    "id": 1013809659,
    "node_id": "IC_kwDOERgWss48bYH7",
    "user": {
      "login": "lightclient",
      "id": 14004106,
      "node_id": "MDQ6VXNlcjE0MDA0MTA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/14004106?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lightclient",
      "html_url": "https://github.com/lightclient",
      "followers_url": "https://api.github.com/users/lightclient/followers",
      "following_url": "https://api.github.com/users/lightclient/following{/other_user}",
      "gists_url": "https://api.github.com/users/lightclient/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lightclient/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lightclient/subscriptions",
      "organizations_url": "https://api.github.com/users/lightclient/orgs",
      "repos_url": "https://api.github.com/users/lightclient/repos",
      "events_url": "https://api.github.com/users/lightclient/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lightclient/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-16T04:38:52Z",
    "updated_at": "2022-01-16T04:38:52Z",
    "author_association": "MEMBER",
    "body": "@gurukamath what you are seeing is the difference between the \"state\" tests, \"blockchain\" tests, and \"transaction\" tests. The state tests are essentially a subset of blockchain tests and have been discontinued. The transaction tests validate the static aspects of rlp encoded transactions (more info [here](https://github.com/ethereum/go-ethereum/pull/23494)). There really isn't a concept of a \"transaction test validator\" yet in the execution spec, so you'd need to implement something. But it should be straightforward - it should decode the rlp to a transaction object and determine if any exceptions were raise (e.g. nonce too large) and if the tx valid, it verifies the hash and a few other components.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/execution-specs/issues/comments/1013809659/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/execution-specs/issues/comments/1013814486",
    "html_url": "https://github.com/ethereum/execution-specs/issues/401#issuecomment-1013814486",
    "issue_url": "https://api.github.com/repos/ethereum/execution-specs/issues/401",
    "id": 1013814486,
    "node_id": "IC_kwDOERgWss48bZTW",
    "user": {
      "login": "gurukamath",
      "id": 48196632,
      "node_id": "MDQ6VXNlcjQ4MTk2NjMy",
      "avatar_url": "https://avatars.githubusercontent.com/u/48196632?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gurukamath",
      "html_url": "https://github.com/gurukamath",
      "followers_url": "https://api.github.com/users/gurukamath/followers",
      "following_url": "https://api.github.com/users/gurukamath/following{/other_user}",
      "gists_url": "https://api.github.com/users/gurukamath/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gurukamath/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gurukamath/subscriptions",
      "organizations_url": "https://api.github.com/users/gurukamath/orgs",
      "repos_url": "https://api.github.com/users/gurukamath/repos",
      "events_url": "https://api.github.com/users/gurukamath/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gurukamath/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-16T05:32:30Z",
    "updated_at": "2022-01-16T06:53:49Z",
    "author_association": "COLLABORATOR",
    "body": "@lightclient Thanks for the information.\r\nI have managed to implement the static transaction test validator on my local feature branch to test that the transaction nonce is too large.\r\n\r\nI am however, having trouble with the second point of [EIP-2681](https://eips.ethereum.org/EIPS/eip-2681) where I need to pass a transaction with high nonce through the VM and make sure that the CREATE instruction aborts with exceptional halt. I am trying to draw parallels between the already implemented vm system tests (for example [suicide0](https://github.com/ethereum/tests/blob/82f6a5a7362e703a64dce303dd0c30f264b8195f/LegacyTests/Constantinople/VMTests/vmSystemOperations/suicide0.json)) and [High Nonce](https://github.com/ethereum/tests/blob/develop/GeneralStateTests/stCreateTest/CREATE_HighNonce.json), but am having trouble mapping the two JSON structures",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/execution-specs/issues/comments/1013814486/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
