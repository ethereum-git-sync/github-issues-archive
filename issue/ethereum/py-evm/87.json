{
  "url": "https://api.github.com/repos/ethereum/py-evm/issues/87",
  "repository_url": "https://api.github.com/repos/ethereum/py-evm",
  "labels_url": "https://api.github.com/repos/ethereum/py-evm/issues/87/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/py-evm/issues/87/comments",
  "events_url": "https://api.github.com/repos/ethereum/py-evm/issues/87/events",
  "html_url": "https://github.com/ethereum/py-evm/issues/87",
  "id": 255068460,
  "node_id": "MDU6SXNzdWUyNTUwNjg0NjA=",
  "number": 87,
  "title": "ERROR collecting tests/json-fixtures/test_vm.py",
  "user": {
    "login": "ccniuj",
    "id": 8275168,
    "node_id": "MDQ6VXNlcjgyNzUxNjg=",
    "avatar_url": "https://avatars.githubusercontent.com/u/8275168?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ccniuj",
    "html_url": "https://github.com/ccniuj",
    "followers_url": "https://api.github.com/users/ccniuj/followers",
    "following_url": "https://api.github.com/users/ccniuj/following{/other_user}",
    "gists_url": "https://api.github.com/users/ccniuj/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ccniuj/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ccniuj/subscriptions",
    "organizations_url": "https://api.github.com/users/ccniuj/orgs",
    "repos_url": "https://api.github.com/users/ccniuj/repos",
    "events_url": "https://api.github.com/users/ccniuj/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ccniuj/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2017-09-04T15:11:30Z",
  "updated_at": "2017-09-07T06:51:29Z",
  "closed_at": "2017-09-05T21:27:23Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "* py-evm Version: 0.2.0-alpha.1\r\n* OS: osx\r\n* Python Version (python --version): 3.5.4\r\n* Environment (output of `pip freeze`):\r\n```\r\napipkg==1.4\r\nexecnet==1.4.1\r\nflake8==3.3.0\r\nmccabe==0.6.1\r\npluggy==0.5.1\r\npy==1.4.34\r\npycodestyle==2.3.1\r\npyflakes==1.5.0\r\npytest==3.1.2\r\npytest-xdist==1.18.1\r\ntox==2.7.0\r\nvirtualenv==15.1.0\r\n```\r\n### What is wrong?\r\n```\r\n>>> py.test\r\n============================================================ test session starts ============================================================\r\nplatform darwin -- Python 3.5.2, pytest-3.2.0, py-1.4.34, pluggy-0.4.0 -- /Users/davidjuin0519/anaconda3/bin/python\r\ncachedir: .cache\r\nrootdir: /Users/davidjuin0519/projects/py-evm, inifile: pytest.ini\r\ncollected 21439 items / 1 errors / 1 skipped\r\n\r\n================================================================== ERRORS ===================================================================\r\n______________________________________________ ERROR collecting tests/json-fixtures/test_vm.py ______________________________________________\r\nimport file mismatch:\r\nimported module 'test_vm' has this __file__ attribute:\r\n  /Users/davidjuin0519/projects/py-evm/tests/core/vm/test_vm.py\r\nwhich is not the same as the test file we want to collect:\r\n  /Users/davidjuin0519/projects/py-evm/tests/json-fixtures/test_vm.py\r\nHINT: remove __pycache__ / .pyc files and/or use a unique basename for your test file modules\r\n!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! Interrupted: 1 errors during collection !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\r\n==================================================== 1 skipped, 1 error in 59.51 seconds ====================================================\r\n```\r\n\r\nThe test could run after removing file `py-evm/tests/json-fixtures/test_vm.py` but many test cases from `tests/json-fixtures/test_blockchain.py` fail. Not sure if this is a expected result.\r\n\r\nPlease include information like:\r\n\r\n* full output of the error you received\r\n* what command you ran\r\n* the code that caused the failure (see [this link](https://help.github.com/articles/basic-writing-and-formatting-syntax/) for help with formatting code)\r\n\r\n\r\n### How can it be fixed\r\n\r\nFill this in if you know how to fix it.\r\n",
  "closed_by": {
    "login": "pipermerriam",
    "id": 824194,
    "node_id": "MDQ6VXNlcjgyNDE5NA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/824194?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/pipermerriam",
    "html_url": "https://github.com/pipermerriam",
    "followers_url": "https://api.github.com/users/pipermerriam/followers",
    "following_url": "https://api.github.com/users/pipermerriam/following{/other_user}",
    "gists_url": "https://api.github.com/users/pipermerriam/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/pipermerriam/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/pipermerriam/subscriptions",
    "organizations_url": "https://api.github.com/users/pipermerriam/orgs",
    "repos_url": "https://api.github.com/users/pipermerriam/repos",
    "events_url": "https://api.github.com/users/pipermerriam/events{/privacy}",
    "received_events_url": "https://api.github.com/users/pipermerriam/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/py-evm/issues/87/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/py-evm/issues/87/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/327379830",
    "html_url": "https://github.com/ethereum/py-evm/issues/87#issuecomment-327379830",
    "issue_url": "https://api.github.com/repos/ethereum/py-evm/issues/87",
    "id": 327379830,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyNzM3OTgzMA==",
    "user": {
      "login": "ccniuj",
      "id": 8275168,
      "node_id": "MDQ6VXNlcjgyNzUxNjg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8275168?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ccniuj",
      "html_url": "https://github.com/ccniuj",
      "followers_url": "https://api.github.com/users/ccniuj/followers",
      "following_url": "https://api.github.com/users/ccniuj/following{/other_user}",
      "gists_url": "https://api.github.com/users/ccniuj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ccniuj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ccniuj/subscriptions",
      "organizations_url": "https://api.github.com/users/ccniuj/orgs",
      "repos_url": "https://api.github.com/users/ccniuj/repos",
      "events_url": "https://api.github.com/users/ccniuj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ccniuj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-06T05:36:32Z",
    "updated_at": "2017-09-06T05:36:32Z",
    "author_association": "NONE",
    "body": "Try to run the test after #90 merged but get this error: `TypeError: string indices must be integers`\r\n\r\n```\r\n_____________________ ERROR collecting tests/json-fixtures/test_virtual_machine.py ______________________\r\ntests/json-fixtures/test_virtual_machine.py:64: in <module>\r\n    mark_fn=vm_fixture_mark_fn,\r\n../../anaconda3/envs/py_evm/lib/python3.5/site-packages/ethereum_utils-0.4.0-py3.5.egg/eth_utils/functional.py:33: in inner\r\n    return callback(fn(*args, **kwargs))\r\nevm/utils/fixture_tests.py:68: in find_fixtures\r\n    normalized_fixture = normalize_fn(fixtures[key])\r\nevm/utils/fixture_tests.py:253: in normalize_vmtest_fixture\r\n    normalized_fixture['logs'] = normalize_logs(fixture['logs'])\r\nevm/utils/fixture_tests.py:174: in normalize_logs\r\n    {\r\nevm/utils/fixture_tests.py:179: in <listcomp>\r\n    } for log_entry in logs\r\nE   TypeError: string indices must be integers\r\n```\r\n\r\nHere is where it goes wrong:\r\n```python\r\ndef normalize_logs(logs):\r\n     return [\r\n         {\r\n             'address': to_canonical_address(log_entry['address']),\r\n             'topics': [int(topic, 16) for topic in log_entry['topics']],\r\n             'data': decode_hex(log_entry['data']),\r\n             'bloom': decode_hex(log_entry['bloom']),\r\n         } for log_entry in logs\r\n     ]\r\n```\r\n\r\nIt seems that the value of variable `logs` is `'0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347'`, which might be incorrect. Any suggestion on how to fix this? Thanks!\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/327379830/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/327490756",
    "html_url": "https://github.com/ethereum/py-evm/issues/87#issuecomment-327490756",
    "issue_url": "https://api.github.com/repos/ethereum/py-evm/issues/87",
    "id": 327490756,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyNzQ5MDc1Ng==",
    "user": {
      "login": "pipermerriam",
      "id": 824194,
      "node_id": "MDQ6VXNlcjgyNDE5NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/824194?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pipermerriam",
      "html_url": "https://github.com/pipermerriam",
      "followers_url": "https://api.github.com/users/pipermerriam/followers",
      "following_url": "https://api.github.com/users/pipermerriam/following{/other_user}",
      "gists_url": "https://api.github.com/users/pipermerriam/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pipermerriam/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pipermerriam/subscriptions",
      "organizations_url": "https://api.github.com/users/pipermerriam/orgs",
      "repos_url": "https://api.github.com/users/pipermerriam/repos",
      "events_url": "https://api.github.com/users/pipermerriam/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pipermerriam/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-06T13:55:16Z",
    "updated_at": "2017-09-06T13:55:16Z",
    "author_association": "MEMBER",
    "body": "@juinc can you check that \r\n\r\n1. You do have a `./fixtures` submodule directory that has been initialized\r\n2. That it's at commit `862b4e3`",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/327490756/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/327703621",
    "html_url": "https://github.com/ethereum/py-evm/issues/87#issuecomment-327703621",
    "issue_url": "https://api.github.com/repos/ethereum/py-evm/issues/87",
    "id": 327703621,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyNzcwMzYyMQ==",
    "user": {
      "login": "ccniuj",
      "id": 8275168,
      "node_id": "MDQ6VXNlcjgyNzUxNjg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8275168?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ccniuj",
      "html_url": "https://github.com/ccniuj",
      "followers_url": "https://api.github.com/users/ccniuj/followers",
      "following_url": "https://api.github.com/users/ccniuj/following{/other_user}",
      "gists_url": "https://api.github.com/users/ccniuj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ccniuj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ccniuj/subscriptions",
      "organizations_url": "https://api.github.com/users/ccniuj/orgs",
      "repos_url": "https://api.github.com/users/ccniuj/repos",
      "events_url": "https://api.github.com/users/ccniuj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ccniuj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-07T06:47:32Z",
    "updated_at": "2017-09-07T06:51:29Z",
    "author_association": "NONE",
    "body": "@pipermerriam Thanks!\r\nProblem solved! It turns out that the `./fixtures` is not in the right commit (`862b4e3`). All tests passed after checking out to that commit.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/327703621/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
