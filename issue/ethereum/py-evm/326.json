{
  "url": "https://api.github.com/repos/ethereum/py-evm/issues/326",
  "repository_url": "https://api.github.com/repos/ethereum/py-evm",
  "labels_url": "https://api.github.com/repos/ethereum/py-evm/issues/326/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/py-evm/issues/326/comments",
  "events_url": "https://api.github.com/repos/ethereum/py-evm/issues/326/events",
  "html_url": "https://github.com/ethereum/py-evm/issues/326",
  "id": 292403930,
  "node_id": "MDU6SXNzdWUyOTI0MDM5MzA=",
  "number": 326,
  "title": "Contract creation transactions don't specify a salt",
  "user": {
    "login": "jannikluhn",
    "id": 29854669,
    "node_id": "MDQ6VXNlcjI5ODU0NjY5",
    "avatar_url": "https://avatars.githubusercontent.com/u/29854669?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jannikluhn",
    "html_url": "https://github.com/jannikluhn",
    "followers_url": "https://api.github.com/users/jannikluhn/followers",
    "following_url": "https://api.github.com/users/jannikluhn/following{/other_user}",
    "gists_url": "https://api.github.com/users/jannikluhn/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jannikluhn/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jannikluhn/subscriptions",
    "organizations_url": "https://api.github.com/users/jannikluhn/orgs",
    "repos_url": "https://api.github.com/users/jannikluhn/repos",
    "events_url": "https://api.github.com/users/jannikluhn/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jannikluhn/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 769749869,
      "node_id": "MDU6TGFiZWw3Njk3NDk4Njk=",
      "url": "https://api.github.com/repos/ethereum/py-evm/labels/eth2.0",
      "name": "eth2.0",
      "color": "ff95ca",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 18,
  "created_at": "2018-01-29T13:20:14Z",
  "updated_at": "2018-03-27T03:20:19Z",
  "closed_at": "2018-03-27T03:20:19Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "### What is wrong?\r\n\r\nContract creation transactions don't specify a salt (see https://github.com/ethereum/py-evm/blob/sharding/evm/vm/forks/sharding/vm_state.py#L60-L63). As a result, the address of the created contract is given by the bytecode only and thus it's impossible to deploy the same contract twice.\r\n\r\n### How can it be fixed\r\n\r\nSpecify the salt somehow. Potential candidates could be\r\n\r\n- the first/last 32 bytes of `transaction.code`\r\n- the first/last 32 bytes of `transaction.data`\r\n- `transaction.to` (which is meaningless for contract creation transactions right now)\r\n",
  "closed_by": {
    "login": "hwwhww",
    "id": 9263930,
    "node_id": "MDQ6VXNlcjkyNjM5MzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/9263930?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/hwwhww",
    "html_url": "https://github.com/hwwhww",
    "followers_url": "https://api.github.com/users/hwwhww/followers",
    "following_url": "https://api.github.com/users/hwwhww/following{/other_user}",
    "gists_url": "https://api.github.com/users/hwwhww/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/hwwhww/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/hwwhww/subscriptions",
    "organizations_url": "https://api.github.com/users/hwwhww/orgs",
    "repos_url": "https://api.github.com/users/hwwhww/repos",
    "events_url": "https://api.github.com/users/hwwhww/events{/privacy}",
    "received_events_url": "https://api.github.com/users/hwwhww/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/py-evm/issues/326/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/py-evm/issues/326/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/361267223",
    "html_url": "https://github.com/ethereum/py-evm/issues/326#issuecomment-361267223",
    "issue_url": "https://api.github.com/repos/ethereum/py-evm/issues/326",
    "id": 361267223,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2MTI2NzIyMw==",
    "user": {
      "login": "NIC619",
      "id": 17670147,
      "node_id": "MDQ6VXNlcjE3NjcwMTQ3",
      "avatar_url": "https://avatars.githubusercontent.com/u/17670147?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/NIC619",
      "html_url": "https://github.com/NIC619",
      "followers_url": "https://api.github.com/users/NIC619/followers",
      "following_url": "https://api.github.com/users/NIC619/following{/other_user}",
      "gists_url": "https://api.github.com/users/NIC619/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/NIC619/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/NIC619/subscriptions",
      "organizations_url": "https://api.github.com/users/NIC619/orgs",
      "repos_url": "https://api.github.com/users/NIC619/repos",
      "events_url": "https://api.github.com/users/NIC619/events{/privacy}",
      "received_events_url": "https://api.github.com/users/NIC619/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-29T14:45:56Z",
    "updated_at": "2018-01-29T14:45:56Z",
    "author_association": "MEMBER",
    "body": "One can append random bytes(which won't affect contract initialization process) to the bytecode as salt.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/361267223/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/361943344",
    "html_url": "https://github.com/ethereum/py-evm/issues/326#issuecomment-361943344",
    "issue_url": "https://api.github.com/repos/ethereum/py-evm/issues/326",
    "id": 361943344,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2MTk0MzM0NA==",
    "user": {
      "login": "NIC619",
      "id": 17670147,
      "node_id": "MDQ6VXNlcjE3NjcwMTQ3",
      "avatar_url": "https://avatars.githubusercontent.com/u/17670147?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/NIC619",
      "html_url": "https://github.com/NIC619",
      "followers_url": "https://api.github.com/users/NIC619/followers",
      "following_url": "https://api.github.com/users/NIC619/following{/other_user}",
      "gists_url": "https://api.github.com/users/NIC619/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/NIC619/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/NIC619/subscriptions",
      "organizations_url": "https://api.github.com/users/NIC619/orgs",
      "repos_url": "https://api.github.com/users/NIC619/repos",
      "events_url": "https://api.github.com/users/NIC619/events{/privacy}",
      "received_events_url": "https://api.github.com/users/NIC619/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-31T14:11:31Z",
    "updated_at": "2018-01-31T14:11:31Z",
    "author_association": "MEMBER",
    "body": "@pipermerriam @hwwhww @jannikluhn \r\nIt seems cleaner if we just add `salt` to transaction format, as suggested by @vbuterin and to conform with suggested transaction format of main chain in this [EIP](https://github.com/ethereum/EIPs/issues/859). ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/361943344/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/362182052",
    "html_url": "https://github.com/ethereum/py-evm/issues/326#issuecomment-362182052",
    "issue_url": "https://api.github.com/repos/ethereum/py-evm/issues/326",
    "id": 362182052,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2MjE4MjA1Mg==",
    "user": {
      "login": "NIC619",
      "id": 17670147,
      "node_id": "MDQ6VXNlcjE3NjcwMTQ3",
      "avatar_url": "https://avatars.githubusercontent.com/u/17670147?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/NIC619",
      "html_url": "https://github.com/NIC619",
      "followers_url": "https://api.github.com/users/NIC619/followers",
      "following_url": "https://api.github.com/users/NIC619/following{/other_user}",
      "gists_url": "https://api.github.com/users/NIC619/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/NIC619/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/NIC619/subscriptions",
      "organizations_url": "https://api.github.com/users/NIC619/orgs",
      "repos_url": "https://api.github.com/users/NIC619/repos",
      "events_url": "https://api.github.com/users/NIC619/events{/privacy}",
      "received_events_url": "https://api.github.com/users/NIC619/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-01T07:32:38Z",
    "updated_at": "2018-02-01T07:32:38Z",
    "author_association": "MEMBER",
    "body": "I will make the PR that together removes `gas_price` and add `salt` to Sharding transaction format once #285 (PAYGAS) is merged.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/362182052/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/362195507",
    "html_url": "https://github.com/ethereum/py-evm/issues/326#issuecomment-362195507",
    "issue_url": "https://api.github.com/repos/ethereum/py-evm/issues/326",
    "id": 362195507,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2MjE5NTUwNw==",
    "user": {
      "login": "jannikluhn",
      "id": 29854669,
      "node_id": "MDQ6VXNlcjI5ODU0NjY5",
      "avatar_url": "https://avatars.githubusercontent.com/u/29854669?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jannikluhn",
      "html_url": "https://github.com/jannikluhn",
      "followers_url": "https://api.github.com/users/jannikluhn/followers",
      "following_url": "https://api.github.com/users/jannikluhn/following{/other_user}",
      "gists_url": "https://api.github.com/users/jannikluhn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jannikluhn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jannikluhn/subscriptions",
      "organizations_url": "https://api.github.com/users/jannikluhn/orgs",
      "repos_url": "https://api.github.com/users/jannikluhn/repos",
      "events_url": "https://api.github.com/users/jannikluhn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jannikluhn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-01T08:36:53Z",
    "updated_at": "2018-02-01T08:36:53Z",
    "author_association": "MEMBER",
    "body": "What's wrong with reusing `transaction.to`/`target` for this? The salt actually defines the address (at least in part), so `target` isn't too forced. I think this would be better than adding another field which is empty for most transactions.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/362195507/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/362225603",
    "html_url": "https://github.com/ethereum/py-evm/issues/326#issuecomment-362225603",
    "issue_url": "https://api.github.com/repos/ethereum/py-evm/issues/326",
    "id": 362225603,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2MjIyNTYwMw==",
    "user": {
      "login": "NIC619",
      "id": 17670147,
      "node_id": "MDQ6VXNlcjE3NjcwMTQ3",
      "avatar_url": "https://avatars.githubusercontent.com/u/17670147?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/NIC619",
      "html_url": "https://github.com/NIC619",
      "followers_url": "https://api.github.com/users/NIC619/followers",
      "following_url": "https://api.github.com/users/NIC619/following{/other_user}",
      "gists_url": "https://api.github.com/users/NIC619/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/NIC619/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/NIC619/subscriptions",
      "organizations_url": "https://api.github.com/users/NIC619/orgs",
      "repos_url": "https://api.github.com/users/NIC619/repos",
      "events_url": "https://api.github.com/users/NIC619/events{/privacy}",
      "received_events_url": "https://api.github.com/users/NIC619/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-01T10:34:59Z",
    "updated_at": "2018-02-01T10:34:59Z",
    "author_association": "MEMBER",
    "body": "Since `transaction.to` is where the contract will be deployed(EVM will check if `transaction.to == generate_CREATE2_contract_address(*salt*, transaction.code)` ), if we reuse `transaction.to` as salt it will result in cyclic dependency, i.e, `transaction.to` is used as salt for calculating address but also has to be the calculated address.\r\n\r\nIf I understand correct, `transaction.target` is not part of the formal transaction format. Hence it seems to me that it's not a reliable source as a salt.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/362225603/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/362242819",
    "html_url": "https://github.com/ethereum/py-evm/issues/326#issuecomment-362242819",
    "issue_url": "https://api.github.com/repos/ethereum/py-evm/issues/326",
    "id": 362242819,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2MjI0MjgxOQ==",
    "user": {
      "login": "jannikluhn",
      "id": 29854669,
      "node_id": "MDQ6VXNlcjI5ODU0NjY5",
      "avatar_url": "https://avatars.githubusercontent.com/u/29854669?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jannikluhn",
      "html_url": "https://github.com/jannikluhn",
      "followers_url": "https://api.github.com/users/jannikluhn/followers",
      "following_url": "https://api.github.com/users/jannikluhn/following{/other_user}",
      "gists_url": "https://api.github.com/users/jannikluhn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jannikluhn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jannikluhn/subscriptions",
      "organizations_url": "https://api.github.com/users/jannikluhn/orgs",
      "repos_url": "https://api.github.com/users/jannikluhn/repos",
      "events_url": "https://api.github.com/users/jannikluhn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jannikluhn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-01T11:50:35Z",
    "updated_at": "2018-02-01T11:50:35Z",
    "author_association": "MEMBER",
    "body": "Yes, that check would have to be removed. But it's not necessary anyway, right now `transaction.to` is redundant information.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/362242819/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/362273941",
    "html_url": "https://github.com/ethereum/py-evm/issues/326#issuecomment-362273941",
    "issue_url": "https://api.github.com/repos/ethereum/py-evm/issues/326",
    "id": 362273941,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2MjI3Mzk0MQ==",
    "user": {
      "login": "NIC619",
      "id": 17670147,
      "node_id": "MDQ6VXNlcjE3NjcwMTQ3",
      "avatar_url": "https://avatars.githubusercontent.com/u/17670147?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/NIC619",
      "html_url": "https://github.com/NIC619",
      "followers_url": "https://api.github.com/users/NIC619/followers",
      "following_url": "https://api.github.com/users/NIC619/following{/other_user}",
      "gists_url": "https://api.github.com/users/NIC619/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/NIC619/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/NIC619/subscriptions",
      "organizations_url": "https://api.github.com/users/NIC619/orgs",
      "repos_url": "https://api.github.com/users/NIC619/repos",
      "events_url": "https://api.github.com/users/NIC619/events{/privacy}",
      "received_events_url": "https://api.github.com/users/NIC619/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-01T14:00:31Z",
    "updated_at": "2018-02-01T14:00:31Z",
    "author_association": "MEMBER",
    "body": "If I understand correctly, `transaction.to` is still needed especially if it's not a contract deploying transaction?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/362273941/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/362299816",
    "html_url": "https://github.com/ethereum/py-evm/issues/326#issuecomment-362299816",
    "issue_url": "https://api.github.com/repos/ethereum/py-evm/issues/326",
    "id": 362299816,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2MjI5OTgxNg==",
    "user": {
      "login": "jannikluhn",
      "id": 29854669,
      "node_id": "MDQ6VXNlcjI5ODU0NjY5",
      "avatar_url": "https://avatars.githubusercontent.com/u/29854669?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jannikluhn",
      "html_url": "https://github.com/jannikluhn",
      "followers_url": "https://api.github.com/users/jannikluhn/followers",
      "following_url": "https://api.github.com/users/jannikluhn/following{/other_user}",
      "gists_url": "https://api.github.com/users/jannikluhn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jannikluhn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jannikluhn/subscriptions",
      "organizations_url": "https://api.github.com/users/jannikluhn/orgs",
      "repos_url": "https://api.github.com/users/jannikluhn/repos",
      "events_url": "https://api.github.com/users/jannikluhn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jannikluhn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-01T15:25:31Z",
    "updated_at": "2018-02-01T15:25:31Z",
    "author_association": "MEMBER",
    "body": "Yeah, sorry, `transaction.to` is only redundant for contract deployments. For normal transactions it's still required of course. But for those we don't need a salt.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/362299816/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/362315494",
    "html_url": "https://github.com/ethereum/py-evm/issues/326#issuecomment-362315494",
    "issue_url": "https://api.github.com/repos/ethereum/py-evm/issues/326",
    "id": 362315494,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2MjMxNTQ5NA==",
    "user": {
      "login": "hwwhww",
      "id": 9263930,
      "node_id": "MDQ6VXNlcjkyNjM5MzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9263930?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hwwhww",
      "html_url": "https://github.com/hwwhww",
      "followers_url": "https://api.github.com/users/hwwhww/followers",
      "following_url": "https://api.github.com/users/hwwhww/following{/other_user}",
      "gists_url": "https://api.github.com/users/hwwhww/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hwwhww/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hwwhww/subscriptions",
      "organizations_url": "https://api.github.com/users/hwwhww/orgs",
      "repos_url": "https://api.github.com/users/hwwhww/repos",
      "events_url": "https://api.github.com/users/hwwhww/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hwwhww/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-01T16:11:53Z",
    "updated_at": "2018-02-01T16:11:53Z",
    "author_association": "MEMBER",
    "body": "Reusing `transaction.to` looks economical. 😄  But kind of confusing for the normal users, like the reason why V want to rename `transaction.to` to `transaction.target`. On the other hand, a little optimization in Transaction would improve a lot...\r\n\r\nOne thing different is the length of salt for randomness, would that be an issue?\r\n\r\nVote for reusing if we can well-documented that. Also, ping @vbuterin to take a look.\r\n\r\nBy the way, we have to open an issue for renaming `BaseShardingTransaction.to` to `BaseShardingTransaction.target` right?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/362315494/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/362342529",
    "html_url": "https://github.com/ethereum/py-evm/issues/326#issuecomment-362342529",
    "issue_url": "https://api.github.com/repos/ethereum/py-evm/issues/326",
    "id": 362342529,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2MjM0MjUyOQ==",
    "user": {
      "login": "NIC619",
      "id": 17670147,
      "node_id": "MDQ6VXNlcjE3NjcwMTQ3",
      "avatar_url": "https://avatars.githubusercontent.com/u/17670147?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/NIC619",
      "html_url": "https://github.com/NIC619",
      "followers_url": "https://api.github.com/users/NIC619/followers",
      "following_url": "https://api.github.com/users/NIC619/following{/other_user}",
      "gists_url": "https://api.github.com/users/NIC619/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/NIC619/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/NIC619/subscriptions",
      "organizations_url": "https://api.github.com/users/NIC619/orgs",
      "repos_url": "https://api.github.com/users/NIC619/repos",
      "events_url": "https://api.github.com/users/NIC619/events{/privacy}",
      "received_events_url": "https://api.github.com/users/NIC619/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-01T17:33:56Z",
    "updated_at": "2018-02-01T17:33:56Z",
    "author_association": "MEMBER",
    "body": "@hwwhww You can't reuse `transaction.to` as salt because that would result in cyclic dependency. IMO a `salt` field is more straightforward to users and they don't have to spend time on crafting the data which is to be reused.\r\n\r\nI can update `transaction.to` along with other transaction fields that are to be added/removed.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/362342529/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/362342841",
    "html_url": "https://github.com/ethereum/py-evm/issues/326#issuecomment-362342841",
    "issue_url": "https://api.github.com/repos/ethereum/py-evm/issues/326",
    "id": 362342841,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2MjM0Mjg0MQ==",
    "user": {
      "login": "pipermerriam",
      "id": 824194,
      "node_id": "MDQ6VXNlcjgyNDE5NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/824194?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pipermerriam",
      "html_url": "https://github.com/pipermerriam",
      "followers_url": "https://api.github.com/users/pipermerriam/followers",
      "following_url": "https://api.github.com/users/pipermerriam/following{/other_user}",
      "gists_url": "https://api.github.com/users/pipermerriam/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pipermerriam/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pipermerriam/subscriptions",
      "organizations_url": "https://api.github.com/users/pipermerriam/orgs",
      "repos_url": "https://api.github.com/users/pipermerriam/repos",
      "events_url": "https://api.github.com/users/pipermerriam/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pipermerriam/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-01T17:35:00Z",
    "updated_at": "2018-02-02T01:09:10Z",
    "author_association": "MEMBER",
    "body": "[EIP232](https://github.com/ethereum/EIPs/issues/232) proposes an alternate format for transactions which might be the right solution for this.  The following is a simplified version of the proposed change.\r\n\r\n```\r\ntxn = [version, data_elements]\r\nif txn.version == 1:\r\n    nonce, gas_price, gas, to, value, data, v, r, s = data_elements\r\nelif txn.version == 2:\r\n    nonce, gas_price, gas, to, value, data, v, r, s, chain_id = data_elements\r\nelif txn.version == 3:\r\n    gas, to, target, whatever, other_fields = data_elements\r\n```\r\n\r\nI know it adds *one-more-protocol-change* to sharding, but it is also the solution I've seen for handling this issue which will only get worse over time.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/362342841/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/362361196",
    "html_url": "https://github.com/ethereum/py-evm/issues/326#issuecomment-362361196",
    "issue_url": "https://api.github.com/repos/ethereum/py-evm/issues/326",
    "id": 362361196,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2MjM2MTE5Ng==",
    "user": {
      "login": "hwwhww",
      "id": 9263930,
      "node_id": "MDQ6VXNlcjkyNjM5MzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9263930?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hwwhww",
      "html_url": "https://github.com/hwwhww",
      "followers_url": "https://api.github.com/users/hwwhww/followers",
      "following_url": "https://api.github.com/users/hwwhww/following{/other_user}",
      "gists_url": "https://api.github.com/users/hwwhww/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hwwhww/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hwwhww/subscriptions",
      "organizations_url": "https://api.github.com/users/hwwhww/orgs",
      "repos_url": "https://api.github.com/users/hwwhww/repos",
      "events_url": "https://api.github.com/users/hwwhww/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hwwhww/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-01T18:39:16Z",
    "updated_at": "2018-02-01T18:39:16Z",
    "author_association": "MEMBER",
    "body": "@NIC619 sorry for that I missed one comment...! You're right!\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/362361196/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/362445566",
    "html_url": "https://github.com/ethereum/py-evm/issues/326#issuecomment-362445566",
    "issue_url": "https://api.github.com/repos/ethereum/py-evm/issues/326",
    "id": 362445566,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2MjQ0NTU2Ng==",
    "user": {
      "login": "vbuterin",
      "id": 2230894,
      "node_id": "MDQ6VXNlcjIyMzA4OTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2230894?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vbuterin",
      "html_url": "https://github.com/vbuterin",
      "followers_url": "https://api.github.com/users/vbuterin/followers",
      "following_url": "https://api.github.com/users/vbuterin/following{/other_user}",
      "gists_url": "https://api.github.com/users/vbuterin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vbuterin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vbuterin/subscriptions",
      "organizations_url": "https://api.github.com/users/vbuterin/orgs",
      "repos_url": "https://api.github.com/users/vbuterin/repos",
      "events_url": "https://api.github.com/users/vbuterin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vbuterin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-02T00:18:11Z",
    "updated_at": "2018-02-02T00:18:11Z",
    "author_association": "MEMBER",
    "body": "I'm ok with adding salt into the transaction; either adding it as an extra data field or the EIP 232 approach.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/362445566/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/362570827",
    "html_url": "https://github.com/ethereum/py-evm/issues/326#issuecomment-362570827",
    "issue_url": "https://api.github.com/repos/ethereum/py-evm/issues/326",
    "id": 362570827,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2MjU3MDgyNw==",
    "user": {
      "login": "jannikluhn",
      "id": 29854669,
      "node_id": "MDQ6VXNlcjI5ODU0NjY5",
      "avatar_url": "https://avatars.githubusercontent.com/u/29854669?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jannikluhn",
      "html_url": "https://github.com/jannikluhn",
      "followers_url": "https://api.github.com/users/jannikluhn/followers",
      "following_url": "https://api.github.com/users/jannikluhn/following{/other_user}",
      "gists_url": "https://api.github.com/users/jannikluhn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jannikluhn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jannikluhn/subscriptions",
      "organizations_url": "https://api.github.com/users/jannikluhn/orgs",
      "repos_url": "https://api.github.com/users/jannikluhn/repos",
      "events_url": "https://api.github.com/users/jannikluhn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jannikluhn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-02T12:14:35Z",
    "updated_at": "2018-02-02T12:14:35Z",
    "author_association": "MEMBER",
    "body": "@pipermerriam I'm not sure I understand how EIP232 would be applied here. Like this:\r\n\r\n```\r\nnormal_transaction = [0, [chain_id, shard_id, to, data, gas, access_list]]\r\ncc_transaction = [1, [chain_id, shard_id, code, data, salt, gas, access_list]]\r\n```\r\n\r\n? What I'd like about this is that we don't ever have any unused fields. What I wouldn't like is that it's called \"version\", \"format\" may be better. I think with some changes to `rlp.Serializable` to automate the \"expansion\" this approach could work quite well.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/362570827/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/362714619",
    "html_url": "https://github.com/ethereum/py-evm/issues/326#issuecomment-362714619",
    "issue_url": "https://api.github.com/repos/ethereum/py-evm/issues/326",
    "id": 362714619,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2MjcxNDYxOQ==",
    "user": {
      "login": "pipermerriam",
      "id": 824194,
      "node_id": "MDQ6VXNlcjgyNDE5NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/824194?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pipermerriam",
      "html_url": "https://github.com/pipermerriam",
      "followers_url": "https://api.github.com/users/pipermerriam/followers",
      "following_url": "https://api.github.com/users/pipermerriam/following{/other_user}",
      "gists_url": "https://api.github.com/users/pipermerriam/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pipermerriam/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pipermerriam/subscriptions",
      "organizations_url": "https://api.github.com/users/pipermerriam/orgs",
      "repos_url": "https://api.github.com/users/pipermerriam/repos",
      "events_url": "https://api.github.com/users/pipermerriam/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pipermerriam/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-02T21:35:46Z",
    "updated_at": "2018-02-02T21:35:46Z",
    "author_association": "MEMBER",
    "body": "I'm good with renaming `version` to something else.  I agree that automating the inner expansion also makes a lot of sense and should make this API quite transparent, allowing us to even access the *inner* properties from a singular *outer* generic transaction class.  \r\n\r\nHere is a rough sketch of what I'm thinking of for this.\r\n\r\n\r\n```python\r\nclass EIP232Transaction(rlp.Serializable):\r\n    fields = (\r\n        ('version', ...),\r\n        ('inner_data', sedes.binary),\r\n    (\r\n    transaction_formats = {\r\n        1: TransactionFormatA,\r\n        2: TransactionFormatB,\r\n    }\r\n\r\n    def __init__(self, *args, **kwargs):\r\n        super().__init__(*args, **kwargs)\r\n        self.txn_data = rlp.decode(self.inner_data, sedes=self.transaction_formats[self.version])\r\n\r\n    def __getattr__(self, name):\r\n        return getattr(self.txn_data, name)\r\n```\r\n\r\nWe have an *outer* transaction class which contains a mapping of version numbers to inner transaction classes. Then, during initialization, we decode the outer data packet, and then lookup the appropriate inner transaction class and use it to decode the inner data packet.  Then we put some convenience APIs on the outer class to allow direct property access to the inner transaction properties.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/362714619/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/364291555",
    "html_url": "https://github.com/ethereum/py-evm/issues/326#issuecomment-364291555",
    "issue_url": "https://api.github.com/repos/ethereum/py-evm/issues/326",
    "id": 364291555,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2NDI5MTU1NQ==",
    "user": {
      "login": "NIC619",
      "id": 17670147,
      "node_id": "MDQ6VXNlcjE3NjcwMTQ3",
      "avatar_url": "https://avatars.githubusercontent.com/u/17670147?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/NIC619",
      "html_url": "https://github.com/NIC619",
      "followers_url": "https://api.github.com/users/NIC619/followers",
      "following_url": "https://api.github.com/users/NIC619/following{/other_user}",
      "gists_url": "https://api.github.com/users/NIC619/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/NIC619/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/NIC619/subscriptions",
      "organizations_url": "https://api.github.com/users/NIC619/orgs",
      "repos_url": "https://api.github.com/users/NIC619/repos",
      "events_url": "https://api.github.com/users/NIC619/events{/privacy}",
      "received_events_url": "https://api.github.com/users/NIC619/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-09T00:07:08Z",
    "updated_at": "2018-02-16T08:58:47Z",
    "author_association": "MEMBER",
    "body": "EIP232 looks like a cleaner and better approach in the long term but I suppose it's not going to be as trivial to implement as adding a `salt` field? What about adding `salt` field for now(short term) and starts an issue about implementing EIP232?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/364291555/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/365400293",
    "html_url": "https://github.com/ethereum/py-evm/issues/326#issuecomment-365400293",
    "issue_url": "https://api.github.com/repos/ethereum/py-evm/issues/326",
    "id": 365400293,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2NTQwMDI5Mw==",
    "user": {
      "login": "pipermerriam",
      "id": 824194,
      "node_id": "MDQ6VXNlcjgyNDE5NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/824194?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pipermerriam",
      "html_url": "https://github.com/pipermerriam",
      "followers_url": "https://api.github.com/users/pipermerriam/followers",
      "following_url": "https://api.github.com/users/pipermerriam/following{/other_user}",
      "gists_url": "https://api.github.com/users/pipermerriam/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pipermerriam/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pipermerriam/subscriptions",
      "organizations_url": "https://api.github.com/users/pipermerriam/orgs",
      "repos_url": "https://api.github.com/users/pipermerriam/repos",
      "events_url": "https://api.github.com/users/pipermerriam/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pipermerriam/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-13T20:52:42Z",
    "updated_at": "2018-02-13T20:52:42Z",
    "author_association": "MEMBER",
    "body": "@NIC619 sounds good to me.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/365400293/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/376383912",
    "html_url": "https://github.com/ethereum/py-evm/issues/326#issuecomment-376383912",
    "issue_url": "https://api.github.com/repos/ethereum/py-evm/issues/326",
    "id": 376383912,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3NjM4MzkxMg==",
    "user": {
      "login": "hwwhww",
      "id": 9263930,
      "node_id": "MDQ6VXNlcjkyNjM5MzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9263930?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hwwhww",
      "html_url": "https://github.com/hwwhww",
      "followers_url": "https://api.github.com/users/hwwhww/followers",
      "following_url": "https://api.github.com/users/hwwhww/following{/other_user}",
      "gists_url": "https://api.github.com/users/hwwhww/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hwwhww/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hwwhww/subscriptions",
      "organizations_url": "https://api.github.com/users/hwwhww/orgs",
      "repos_url": "https://api.github.com/users/hwwhww/repos",
      "events_url": "https://api.github.com/users/hwwhww/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hwwhww/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-27T03:20:19Z",
    "updated_at": "2018-03-27T03:20:19Z",
    "author_association": "MEMBER",
    "body": "close via #422",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/376383912/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
