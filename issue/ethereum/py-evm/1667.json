{
  "url": "https://api.github.com/repos/ethereum/py-evm/issues/1667",
  "repository_url": "https://api.github.com/repos/ethereum/py-evm",
  "labels_url": "https://api.github.com/repos/ethereum/py-evm/issues/1667/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/py-evm/issues/1667/comments",
  "events_url": "https://api.github.com/repos/ethereum/py-evm/issues/1667/events",
  "html_url": "https://github.com/ethereum/py-evm/issues/1667",
  "id": 393547081,
  "node_id": "MDU6SXNzdWUzOTM1NDcwODE=",
  "number": 1667,
  "title": "How to migrate your pull request from py-evm to the trinity repository",
  "user": {
    "login": "pipermerriam",
    "id": 824194,
    "node_id": "MDQ6VXNlcjgyNDE5NA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/824194?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/pipermerriam",
    "html_url": "https://github.com/pipermerriam",
    "followers_url": "https://api.github.com/users/pipermerriam/followers",
    "following_url": "https://api.github.com/users/pipermerriam/following{/other_user}",
    "gists_url": "https://api.github.com/users/pipermerriam/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/pipermerriam/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/pipermerriam/subscriptions",
    "organizations_url": "https://api.github.com/users/pipermerriam/orgs",
    "repos_url": "https://api.github.com/users/pipermerriam/repos",
    "events_url": "https://api.github.com/users/pipermerriam/events{/privacy}",
    "received_events_url": "https://api.github.com/users/pipermerriam/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2018-12-21T18:12:52Z",
  "updated_at": "2018-12-21T21:07:06Z",
  "closed_at": null,
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "We have just executed #728 which moves the `p2p` and `trinity` modules from this repository into https://github.com/ethereum/trinity\r\n\r\nAnyone with an open pull request that touches either of the `p2p` or `trinity` modules will need to migrate their pull requests from this repository into the new one.  The following guide should help with this process.\r\n\r\n## 1. fork the `ethereum/trinity` repository\r\n\r\nFirst you need to get your own fork of the https://github.com/ethereum/trinity repository.\r\n\r\n> In order to migrate the commits in your local py-evm branches, do **not** clone the repo to your machine. Instead:\r\n\r\n## 2. setting up your local version of the `trinity` repo\r\n\r\n> Before doing this ensure that you have pulled the latest `master` for `py-evm`\r\n\r\nIn your projects directory where your `py-evm` repository lives make a copy of the project directory and change into that new directory.\r\n\r\n```bash\r\ncp -R path/to/py-evm new/path/to/trinity\r\ncd new/path/to/trinity\r\n```\r\n\r\n## 3. resetting your git history to 76276d586f5a365acdf79d8b7e823b607ea419a9\r\n\r\nNow, from within our new `trinity` repository, you need to reset your `master` branch\r\n\r\n```bash\r\ngit checkout master\r\ngit reset --hard 76276d586f5a365acdf79d8b7e823b607ea419a9\r\n```\r\n\r\n## 4. updating your remotes.\r\n\r\nNow you need to edit the `.git/config` file.  It should currently look *something* like this.\r\n\r\n```bash\r\n$ cat .git/config\r\n[remote \"upstream\"]\r\n        url = git@github.com:ethereum/py-evm.git\r\n        fetch = +refs/heads/*:refs/remotes/upstream/*\r\n[remote \"origin\"]\r\n        url = git@github.com:pipermerriam/py-evm.git\r\n        fetch = +refs/heads/*:refs/remotes/pipermerriam/*\r\n[branch \"master\"]\r\n        remote = origin\r\n        merge = refs/heads/master\r\n[submodule \"fixtures\"]\r\n        active = true\r\n        url = https://github.com/ethereum/tests.git\r\n```\r\n\r\nYou need to replace all of the places that are currently pointed at `py-evm` to now point at `trinity`.  The above file would become:\r\n\r\n```bash\r\n[remote \"upstream\"]\r\n        url = git@github.com:ethereum/trinity.git\r\n        fetch = +refs/heads/*:refs/remotes/upstream/*\r\n[remote \"origin\"]\r\n        url = git@github.com:pipermerriam/trinity.git\r\n        fetch = +refs/heads/*:refs/remotes/pipermerriam/*\r\n[branch \"master\"]\r\n        remote = origin\r\n        merge = refs/heads/master\r\n[submodule \"fixtures\"]\r\n        active = true\r\n        url = https://github.com/ethereum/tests.git\r\n```\r\n\r\n## 5. pulling down new changes from the main trinity repo\r\n\r\nNow you need to pull down any new changes from the trinity repository.  This command will vary depending on how you name your remotes.  For the config above, the command would be:\r\n\r\n```bash\r\ngit pull upstream master\r\n```\r\n\r\n## 6. rebasing your local branches.\r\n\r\nNext you'll need to switch to your local branch for your pull request and rebase it on top of the new `master` for the `trinity` repository.\r\n\r\n```bash\r\ngit checkout my-branch\r\ngit rebase master\r\n```\r\n\r\nSee https://help.github.com/articles/about-git-rebase/ for more information on rebasing\r\n\r\n## 7. open your new pull request in the [`ethereum/trinity`](https://github.com/ethereum/trinity) repository.  \r\n\r\nYou can do this by simply copy/pasting the pull request text from the `py-evm` issue into a new pull request under the `trinity` repository.  Please provide a link to the old pull request in the new pull request.",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/py-evm/issues/1667/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/py-evm/issues/1667/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/449491460",
    "html_url": "https://github.com/ethereum/py-evm/issues/1667#issuecomment-449491460",
    "issue_url": "https://api.github.com/repos/ethereum/py-evm/issues/1667",
    "id": 449491460,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0OTQ5MTQ2MA==",
    "user": {
      "login": "carver",
      "id": 205327,
      "node_id": "MDQ6VXNlcjIwNTMyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/205327?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/carver",
      "html_url": "https://github.com/carver",
      "followers_url": "https://api.github.com/users/carver/followers",
      "following_url": "https://api.github.com/users/carver/following{/other_user}",
      "gists_url": "https://api.github.com/users/carver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/carver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/carver/subscriptions",
      "organizations_url": "https://api.github.com/users/carver/orgs",
      "repos_url": "https://api.github.com/users/carver/repos",
      "events_url": "https://api.github.com/users/carver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/carver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-12-21T20:32:05Z",
    "updated_at": "2018-12-21T20:32:05Z",
    "author_association": "MEMBER",
    "body": "It seems like it would be simpler (though slower) to run a fresh checkout of your personal `ethereum/trininty` fork, and add the upstream remote as usual. (skipping steps 2-4)\r\n\r\nMaybe it's worth listing reasons not to do that like:\r\n- you keep copies of your local work (branches) in your new trinity repo\r\n- anything else?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/449491460/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/449491787",
    "html_url": "https://github.com/ethereum/py-evm/issues/1667#issuecomment-449491787",
    "issue_url": "https://api.github.com/repos/ethereum/py-evm/issues/1667",
    "id": 449491787,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0OTQ5MTc4Nw==",
    "user": {
      "login": "pipermerriam",
      "id": 824194,
      "node_id": "MDQ6VXNlcjgyNDE5NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/824194?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pipermerriam",
      "html_url": "https://github.com/pipermerriam",
      "followers_url": "https://api.github.com/users/pipermerriam/followers",
      "following_url": "https://api.github.com/users/pipermerriam/following{/other_user}",
      "gists_url": "https://api.github.com/users/pipermerriam/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pipermerriam/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pipermerriam/subscriptions",
      "organizations_url": "https://api.github.com/users/pipermerriam/orgs",
      "repos_url": "https://api.github.com/users/pipermerriam/repos",
      "events_url": "https://api.github.com/users/pipermerriam/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pipermerriam/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-12-21T20:33:52Z",
    "updated_at": "2018-12-21T20:34:49Z",
    "author_association": "MEMBER",
    "body": "> you keep copies of your local work (branches) in your new trinity repo\r\n\r\nThis was the primary motivation.  People have existing forks and this seemed like an approach that would preserve those.  I'm open to other options.  It wasn't clear to me how to have people's history show up correctly in their newly forked `trinity` repository without just having them do a full copy of their existing p-evm one",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/449491787/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/449498545",
    "html_url": "https://github.com/ethereum/py-evm/issues/1667#issuecomment-449498545",
    "issue_url": "https://api.github.com/repos/ethereum/py-evm/issues/1667",
    "id": 449498545,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0OTQ5ODU0NQ==",
    "user": {
      "login": "carver",
      "id": 205327,
      "node_id": "MDQ6VXNlcjIwNTMyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/205327?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/carver",
      "html_url": "https://github.com/carver",
      "followers_url": "https://api.github.com/users/carver/followers",
      "following_url": "https://api.github.com/users/carver/following{/other_user}",
      "gists_url": "https://api.github.com/users/carver/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/carver/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/carver/subscriptions",
      "organizations_url": "https://api.github.com/users/carver/orgs",
      "repos_url": "https://api.github.com/users/carver/repos",
      "events_url": "https://api.github.com/users/carver/events{/privacy}",
      "received_events_url": "https://api.github.com/users/carver/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-12-21T21:07:06Z",
    "updated_at": "2018-12-21T21:07:06Z",
    "author_association": "MEMBER",
    "body": "Totally, I just updated the instructions to help motivate this other migration method: :+1: ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/449498545/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
