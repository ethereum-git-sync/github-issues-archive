{
  "url": "https://api.github.com/repos/ethereum/py-evm/issues/1798",
  "repository_url": "https://api.github.com/repos/ethereum/py-evm",
  "labels_url": "https://api.github.com/repos/ethereum/py-evm/issues/1798/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/py-evm/issues/1798/comments",
  "events_url": "https://api.github.com/repos/ethereum/py-evm/issues/1798/events",
  "html_url": "https://github.com/ethereum/py-evm/issues/1798",
  "id": 469559761,
  "node_id": "MDU6SXNzdWU0Njk1NTk3NjE=",
  "number": 1798,
  "title": "Define APIs usin true `ABC` base classes",
  "user": {
    "login": "pipermerriam",
    "id": 824194,
    "node_id": "MDQ6VXNlcjgyNDE5NA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/824194?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/pipermerriam",
    "html_url": "https://github.com/pipermerriam",
    "followers_url": "https://api.github.com/users/pipermerriam/followers",
    "following_url": "https://api.github.com/users/pipermerriam/following{/other_user}",
    "gists_url": "https://api.github.com/users/pipermerriam/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/pipermerriam/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/pipermerriam/subscriptions",
    "organizations_url": "https://api.github.com/users/pipermerriam/orgs",
    "repos_url": "https://api.github.com/users/pipermerriam/repos",
    "events_url": "https://api.github.com/users/pipermerriam/events{/privacy}",
    "received_events_url": "https://api.github.com/users/pipermerriam/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2019-07-18T04:00:17Z",
  "updated_at": "2019-08-01T17:48:29Z",
  "closed_at": "2019-08-01T17:48:29Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "### What is wrong?\r\n\r\nI believe we are ready to more firmly/concretely define the py-evm API.  The current best way I know to do that is to define the interfaces for all of the various object APIs so that we can define things as closely to their core API as possible.  The [`EndpointAPI` defined in the `lahja` codebase](https://github.com/ethereum/lahja/blob/master/lahja/base.py#L332) is an illustrative example of what I am proposing.\r\n\r\n### How can it be fixed\r\n\r\nWe create API definitions for the following classes under the `eth.abc` namespace.\r\n\r\n- `Chain`\r\n- `VM`\r\n- `ChainDB`\r\n- `HeaderDB`\r\n- `Computation`\r\n- `Message`\r\n- `State`\r\n- `AtomicDB`\r\n- `BaseDB`\r\n- `Stack`\r\n- `GasMeter`\r\n- `CodeStream`\r\n- `AccountDB`\r\n- ... whatever else makes sense.\r\n\r\nWith these created, all of the implementations should then be updated to inherit from the proper one as well as having their type hints updated to all use the new `abc` classes.  This ensures that we are writing code that conforms to the core APIs and allows libraries that build on top of the code to use the ABC classes for type hints which is a bit cleaner imho.",
  "closed_by": {
    "login": "pipermerriam",
    "id": 824194,
    "node_id": "MDQ6VXNlcjgyNDE5NA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/824194?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/pipermerriam",
    "html_url": "https://github.com/pipermerriam",
    "followers_url": "https://api.github.com/users/pipermerriam/followers",
    "following_url": "https://api.github.com/users/pipermerriam/following{/other_user}",
    "gists_url": "https://api.github.com/users/pipermerriam/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/pipermerriam/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/pipermerriam/subscriptions",
    "organizations_url": "https://api.github.com/users/pipermerriam/orgs",
    "repos_url": "https://api.github.com/users/pipermerriam/repos",
    "events_url": "https://api.github.com/users/pipermerriam/events{/privacy}",
    "received_events_url": "https://api.github.com/users/pipermerriam/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/py-evm/issues/1798/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/py-evm/issues/1798/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/517390651",
    "html_url": "https://github.com/ethereum/py-evm/issues/1798#issuecomment-517390651",
    "issue_url": "https://api.github.com/repos/ethereum/py-evm/issues/1798",
    "id": 517390651,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxNzM5MDY1MQ==",
    "user": {
      "login": "pipermerriam",
      "id": 824194,
      "node_id": "MDQ6VXNlcjgyNDE5NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/824194?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pipermerriam",
      "html_url": "https://github.com/pipermerriam",
      "followers_url": "https://api.github.com/users/pipermerriam/followers",
      "following_url": "https://api.github.com/users/pipermerriam/following{/other_user}",
      "gists_url": "https://api.github.com/users/pipermerriam/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pipermerriam/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pipermerriam/subscriptions",
      "organizations_url": "https://api.github.com/users/pipermerriam/orgs",
      "repos_url": "https://api.github.com/users/pipermerriam/repos",
      "events_url": "https://api.github.com/users/pipermerriam/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pipermerriam/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-08-01T17:48:29Z",
    "updated_at": "2019-08-01T17:48:29Z",
    "author_association": "MEMBER",
    "body": "This is done in https://github.com/ethereum/py-evm/pull/1805",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/517390651/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
