{
  "url": "https://api.github.com/repos/ethereum/py-evm/issues/435",
  "repository_url": "https://api.github.com/repos/ethereum/py-evm",
  "labels_url": "https://api.github.com/repos/ethereum/py-evm/issues/435/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/py-evm/issues/435/comments",
  "events_url": "https://api.github.com/repos/ethereum/py-evm/issues/435/events",
  "html_url": "https://github.com/ethereum/py-evm/issues/435",
  "id": 302027019,
  "node_id": "MDU6SXNzdWUzMDIwMjcwMTk=",
  "number": 435,
  "title": "Create Instructions on how to setup a Trinity node for development",
  "user": {
    "login": "cburgdorf",
    "id": 521109,
    "node_id": "MDQ6VXNlcjUyMTEwOQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/521109?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/cburgdorf",
    "html_url": "https://github.com/cburgdorf",
    "followers_url": "https://api.github.com/users/cburgdorf/followers",
    "following_url": "https://api.github.com/users/cburgdorf/following{/other_user}",
    "gists_url": "https://api.github.com/users/cburgdorf/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/cburgdorf/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/cburgdorf/subscriptions",
    "organizations_url": "https://api.github.com/users/cburgdorf/orgs",
    "repos_url": "https://api.github.com/users/cburgdorf/repos",
    "events_url": "https://api.github.com/users/cburgdorf/events{/privacy}",
    "received_events_url": "https://api.github.com/users/cburgdorf/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2018-03-03T19:52:04Z",
  "updated_at": "2018-06-05T07:54:12Z",
  "closed_at": "2018-06-05T07:54:11Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "\r\n### What is wrong?\r\n\r\nThe Trinity [Readme](https://github.com/ethereum/py-evm/blob/master/trinity/README.md) only lists a couple of environment variables but has no further information on how to setup and run a Trinity node.\r\n\r\nThis should be fixed to make it easier to onboard new contributors.\r\n\r\nHere's what I tried to run the simple JSON-RPC server.\r\n\r\n```\r\n$ python3 trinity/rpc/server.py -db foo\r\nTraceback (most recent call last):\r\n  File \"trinity/rpc/server.py\", line 114, in <module>\r\n    privkey=ecies.generate_privkey(),\r\n  File \"/home/cburgdorf/Documents/hacking/py-evm/evm/chains/base.py\", line 292, in configure\r\n    return super().configure(name, **overrides)\r\n  File \"/home/cburgdorf/Documents/hacking/py-evm/evm/utils/datatypes.py\", line 18, in configure\r\n    \"not found on the base class `{2}`\".format(cls.__name__, key, cls)\r\nTypeError: The LightChain.configure cannot set attributes that are not already present on the base class. The attribute `privkey` was not found on the base class `<class 'p2p.lightchain.LightChain'>`\r\n```\r\n\r\nIt's most likely related to the fact that I have not setup the environment variables. I actually have no idea how I would create a key to set as `TRINITY_NODEKEY` for instance.\r\n\r\nThe tinkerer in me tried to run `TRINITY_NODEKEY='foo' && python3 trinity/rpc/server.py -db foo` but that gave me the same error.\r\n\r\nLong story short, the Readme should be newbie friendly and needs clear steps to get the node running.\r\n\r\n### How can it be fixed\r\n\r\nIf someone can give me a couple of pointers I can happily compile that into a Readme update",
  "closed_by": {
    "login": "cburgdorf",
    "id": 521109,
    "node_id": "MDQ6VXNlcjUyMTEwOQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/521109?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/cburgdorf",
    "html_url": "https://github.com/cburgdorf",
    "followers_url": "https://api.github.com/users/cburgdorf/followers",
    "following_url": "https://api.github.com/users/cburgdorf/following{/other_user}",
    "gists_url": "https://api.github.com/users/cburgdorf/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/cburgdorf/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/cburgdorf/subscriptions",
    "organizations_url": "https://api.github.com/users/cburgdorf/orgs",
    "repos_url": "https://api.github.com/users/cburgdorf/repos",
    "events_url": "https://api.github.com/users/cburgdorf/events{/privacy}",
    "received_events_url": "https://api.github.com/users/cburgdorf/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/py-evm/issues/435/reactions",
    "total_count": 2,
    "+1": 2,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/py-evm/issues/435/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/370214909",
    "html_url": "https://github.com/ethereum/py-evm/issues/435#issuecomment-370214909",
    "issue_url": "https://api.github.com/repos/ethereum/py-evm/issues/435",
    "id": 370214909,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MDIxNDkwOQ==",
    "user": {
      "login": "cburgdorf",
      "id": 521109,
      "node_id": "MDQ6VXNlcjUyMTEwOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/521109?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cburgdorf",
      "html_url": "https://github.com/cburgdorf",
      "followers_url": "https://api.github.com/users/cburgdorf/followers",
      "following_url": "https://api.github.com/users/cburgdorf/following{/other_user}",
      "gists_url": "https://api.github.com/users/cburgdorf/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cburgdorf/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cburgdorf/subscriptions",
      "organizations_url": "https://api.github.com/users/cburgdorf/orgs",
      "repos_url": "https://api.github.com/users/cburgdorf/repos",
      "events_url": "https://api.github.com/users/cburgdorf/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cburgdorf/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-04T09:35:45Z",
    "updated_at": "2018-03-04T09:35:45Z",
    "author_association": "MEMBER",
    "body": "Ok, I just noticed that there are actually docs in the repo and they can be found online at http://py-evm.readthedocs.io.\r\n\r\nThat said, even the [Quickstart](http://py-evm.readthedocs.io/en/latest/quickstart.html) doesn't get me unstuck.\r\n\r\nBasically leaves me at the same place as before:\r\n\r\n```\r\n$ python3 -i -m trinity.rpc.server -db /tmp/testnet.db\r\nTraceback (most recent call last):\r\n  File \"/usr/lib/python3.6/runpy.py\", line 193, in _run_module_as_main\r\n    \"__main__\", mod_spec)\r\n  File \"/usr/lib/python3.6/runpy.py\", line 85, in _run_code\r\n    exec(code, run_globals)\r\n  File \"/home/cburgdorf/Documents/hacking/py-evm/trinity/rpc/server.py\", line 114, in <module>\r\n    privkey=ecies.generate_privkey(),\r\n  File \"/home/cburgdorf/Documents/hacking/py-evm/evm/chains/base.py\", line 292, in configure\r\n    return super().configure(name, **overrides)\r\n  File \"/home/cburgdorf/Documents/hacking/py-evm/evm/utils/datatypes.py\", line 18, in configure\r\n    \"not found on the base class `{2}`\".format(cls.__name__, key, cls)\r\nTypeError: The LightChain.configure cannot set attributes that are not already present on the base class. The attribute `privkey` was not found on the base class `<class 'p2p.lightchain.LightChain'>`\r\n```\r\n\r\nSo, here's the deal, someone help me to resolve this and I make all needed changes to Readme and docs to decrease the likelihood of someone else struggling on this. ",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/370214909/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/370215357",
    "html_url": "https://github.com/ethereum/py-evm/issues/435#issuecomment-370215357",
    "issue_url": "https://api.github.com/repos/ethereum/py-evm/issues/435",
    "id": 370215357,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MDIxNTM1Nw==",
    "user": {
      "login": "gsalgado",
      "id": 412274,
      "node_id": "MDQ6VXNlcjQxMjI3NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/412274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gsalgado",
      "html_url": "https://github.com/gsalgado",
      "followers_url": "https://api.github.com/users/gsalgado/followers",
      "following_url": "https://api.github.com/users/gsalgado/following{/other_user}",
      "gists_url": "https://api.github.com/users/gsalgado/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gsalgado/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gsalgado/subscriptions",
      "organizations_url": "https://api.github.com/users/gsalgado/orgs",
      "repos_url": "https://api.github.com/users/gsalgado/repos",
      "events_url": "https://api.github.com/users/gsalgado/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gsalgado/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-04T09:43:19Z",
    "updated_at": "2018-03-04T09:43:19Z",
    "author_association": "MEMBER",
    "body": "That's because `LightChain` no longer takes a `privkey` argument. That arg is now passed to `PeerPool`, which is then passed to `LightChain`. See `run_networking_process()` in trinity/main.py for an example",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/370215357/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/370220438",
    "html_url": "https://github.com/ethereum/py-evm/issues/435#issuecomment-370220438",
    "issue_url": "https://api.github.com/repos/ethereum/py-evm/issues/435",
    "id": 370220438,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MDIyMDQzOA==",
    "user": {
      "login": "cburgdorf",
      "id": 521109,
      "node_id": "MDQ6VXNlcjUyMTEwOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/521109?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cburgdorf",
      "html_url": "https://github.com/cburgdorf",
      "followers_url": "https://api.github.com/users/cburgdorf/followers",
      "following_url": "https://api.github.com/users/cburgdorf/following{/other_user}",
      "gists_url": "https://api.github.com/users/cburgdorf/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cburgdorf/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cburgdorf/subscriptions",
      "organizations_url": "https://api.github.com/users/cburgdorf/orgs",
      "repos_url": "https://api.github.com/users/cburgdorf/repos",
      "events_url": "https://api.github.com/users/cburgdorf/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cburgdorf/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-04T11:09:21Z",
    "updated_at": "2018-03-04T19:26:06Z",
    "author_association": "MEMBER",
    "body": "Hey @gsalgado thank you for that hint. That means there probably needs something to be fixed in `trinity/rpc/server` then.\r\n\r\nHowever, I made a bit of progress but there are lots of questions popping up in my head :)\r\n\r\n1. I noticed I had to install `leveldb` as it isn't in the `requirements-dev.txt`. Can you confirm that this is intentionally not on the `requirements-dev.txt` because then I can compile it into some _prerequisites_ paragraph when I make updates to Readme/docs.\r\n\r\n2. I understand that the `nodekey` identifies a node which is important for the p2p communication to work. ~~Can you help me how to create one or point me to some docs?~~ Ok, I hink that the `nodekey` is automatically created when the node boots. Is that correct?\r\n\r\n3. The closest to running Trinity that I got so far goes like this\r\n\r\n```\r\npython3 -i -m trinity.main --ropsten --data-dir /tmp/trinity/data --trinity-root-dir /tmp/trinity\r\n```\r\nAnd then on the interactive console I type `main()` to kick things of. Is that the intended way to start the trinity process at this point?\r\n\r\n4. I understand that `trinity/rpc/server.py` and `trinity/rpc/main.py` both implement different JSON-RPC APIs. What is the relationship to `trinity/main.py`? Is it intended that `trinity/main.py` will be the overall entrypoint of a trinity node and manages two spin up the two mentioned servers or is it intended to actually run something like `trinity/rpc/server.py` manually? At least with the current code base I don't see `trinity/main.py` managing these two server APIs and I see that `trinity/rpc/server.py` is intended to be called directly. \r\n\r\nI feel bad for asking all these questions but I promise to pay back ;)\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/370220438/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/370238644",
    "html_url": "https://github.com/ethereum/py-evm/issues/435#issuecomment-370238644",
    "issue_url": "https://api.github.com/repos/ethereum/py-evm/issues/435",
    "id": 370238644,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MDIzODY0NA==",
    "user": {
      "login": "cburgdorf",
      "id": 521109,
      "node_id": "MDQ6VXNlcjUyMTEwOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/521109?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cburgdorf",
      "html_url": "https://github.com/cburgdorf",
      "followers_url": "https://api.github.com/users/cburgdorf/followers",
      "following_url": "https://api.github.com/users/cburgdorf/following{/other_user}",
      "gists_url": "https://api.github.com/users/cburgdorf/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cburgdorf/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cburgdorf/subscriptions",
      "organizations_url": "https://api.github.com/users/cburgdorf/orgs",
      "repos_url": "https://api.github.com/users/cburgdorf/repos",
      "events_url": "https://api.github.com/users/cburgdorf/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cburgdorf/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-04T15:40:15Z",
    "updated_at": "2018-03-04T15:40:45Z",
    "author_association": "MEMBER",
    "body": "Poked around and ended up with another PR https://github.com/ethereum/py-evm/pull/437",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/370238644/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/371426395",
    "html_url": "https://github.com/ethereum/py-evm/issues/435#issuecomment-371426395",
    "issue_url": "https://api.github.com/repos/ethereum/py-evm/issues/435",
    "id": 371426395,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MTQyNjM5NQ==",
    "user": {
      "login": "cburgdorf",
      "id": 521109,
      "node_id": "MDQ6VXNlcjUyMTEwOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/521109?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cburgdorf",
      "html_url": "https://github.com/cburgdorf",
      "followers_url": "https://api.github.com/users/cburgdorf/followers",
      "following_url": "https://api.github.com/users/cburgdorf/following{/other_user}",
      "gists_url": "https://api.github.com/users/cburgdorf/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cburgdorf/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cburgdorf/subscriptions",
      "organizations_url": "https://api.github.com/users/cburgdorf/orgs",
      "repos_url": "https://api.github.com/users/cburgdorf/repos",
      "events_url": "https://api.github.com/users/cburgdorf/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cburgdorf/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-08T09:11:16Z",
    "updated_at": "2018-03-08T09:11:16Z",
    "author_association": "MEMBER",
    "body": "I'm waiting for the dust to settle in https://github.com/ethereum/py-evm/pull/382 and then I will update the docs / Readme to make sure everyone has a smooth experience on how to run trinity with the different options.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/371426395/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/394616427",
    "html_url": "https://github.com/ethereum/py-evm/issues/435#issuecomment-394616427",
    "issue_url": "https://api.github.com/repos/ethereum/py-evm/issues/435",
    "id": 394616427,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NDYxNjQyNw==",
    "user": {
      "login": "cburgdorf",
      "id": 521109,
      "node_id": "MDQ6VXNlcjUyMTEwOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/521109?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cburgdorf",
      "html_url": "https://github.com/cburgdorf",
      "followers_url": "https://api.github.com/users/cburgdorf/followers",
      "following_url": "https://api.github.com/users/cburgdorf/following{/other_user}",
      "gists_url": "https://api.github.com/users/cburgdorf/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cburgdorf/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cburgdorf/subscriptions",
      "organizations_url": "https://api.github.com/users/cburgdorf/orgs",
      "repos_url": "https://api.github.com/users/cburgdorf/repos",
      "events_url": "https://api.github.com/users/cburgdorf/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cburgdorf/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-05T07:54:11Z",
    "updated_at": "2018-06-05T07:54:11Z",
    "author_association": "MEMBER",
    "body": "Closing as this is now covered by http://py-evm.readthedocs.io/en/latest/contributing.html",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/394616427/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
