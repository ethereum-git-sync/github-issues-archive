{
  "url": "https://api.github.com/repos/ethereum/py-evm/issues/1199",
  "repository_url": "https://api.github.com/repos/ethereum/py-evm",
  "labels_url": "https://api.github.com/repos/ethereum/py-evm/issues/1199/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/py-evm/issues/1199/comments",
  "events_url": "https://api.github.com/repos/ethereum/py-evm/issues/1199/events",
  "html_url": "https://github.com/ethereum/py-evm/issues/1199",
  "id": 352231530,
  "node_id": "MDU6SXNzdWUzNTIyMzE1MzA=",
  "number": 1199,
  "title": "My Beef with EWASM",
  "user": {
    "login": "pipermerriam",
    "id": 824194,
    "node_id": "MDQ6VXNlcjgyNDE5NA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/824194?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/pipermerriam",
    "html_url": "https://github.com/pipermerriam",
    "followers_url": "https://api.github.com/users/pipermerriam/followers",
    "following_url": "https://api.github.com/users/pipermerriam/following{/other_user}",
    "gists_url": "https://api.github.com/users/pipermerriam/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/pipermerriam/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/pipermerriam/subscriptions",
    "organizations_url": "https://api.github.com/users/pipermerriam/orgs",
    "repos_url": "https://api.github.com/users/pipermerriam/repos",
    "events_url": "https://api.github.com/users/pipermerriam/events{/privacy}",
    "received_events_url": "https://api.github.com/users/pipermerriam/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2018-08-20T17:42:07Z",
  "updated_at": "2019-01-16T22:25:49Z",
  "closed_at": null,
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "### Why is this here?\r\n\r\nThese thoughts are not accessible in a public place, nor have they been well aggregated.\r\n\r\n### Why does Piper have concerns about EWASM?\r\n\r\n#### Computation Introspection\r\n\r\nThe EVM design in Py-EVM was created with some explicit design goals.\r\n\r\n- Deep introspection of the computation.\r\n- Easy to read EVM implementation for reference purposes.\r\n- Easy to modify EVM for research purposes.\r\n\r\nEWASM seems to take all of these off of the table. All of the proposed ways for Py-EVM to use EWASM make computation a black box both in terms of understanding what happened during a computation, as well as reading and understanding the actual implementation.  They also seem to make modifying the EVM significantly more difficult, or even impossible without changes to some external dependency.\r\n\r\n#### 3rd party tooling support\r\n\r\nThere is an interactive debugger for Vyper being built using Py-EVM.  I do not believe this would be possible under the implementation plans I've seen for EWASM.\r\n\r\n#### Poor cross language support\r\n\r\nThere was a grant to create a python web assembly interpreter: https://github.com/poemm/pywebassembly\r\n\r\nThe resulting code isn't quite something we can use in production.  Alternatives are to delegate to an external implementation using the C implementation.  It seems that other languages would end up having to implement their own interpreters.\r\n\r\nThis leaves us with the following:  Each EVM implementation must either implement a compliant EWASM interpreter in their language ecosystem **or** submit to the will of an external implementation using something akin to CFFI in python at which point they are no longer in control of their EVM implementation.\r\n\r\nAnd if we all end up using the same implementation, then we're basically accepting that the EVM has a reference implementation which is something I don't think we want.\r\n\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/py-evm/issues/1199/reactions",
    "total_count": 5,
    "+1": 1,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 4,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/py-evm/issues/1199/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/454284449",
    "html_url": "https://github.com/ethereum/py-evm/issues/1199#issuecomment-454284449",
    "issue_url": "https://api.github.com/repos/ethereum/py-evm/issues/1199",
    "id": 454284449,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NDI4NDQ0OQ==",
    "user": {
      "login": "rayrapetyan",
      "id": 4700523,
      "node_id": "MDQ6VXNlcjQ3MDA1MjM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4700523?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rayrapetyan",
      "html_url": "https://github.com/rayrapetyan",
      "followers_url": "https://api.github.com/users/rayrapetyan/followers",
      "following_url": "https://api.github.com/users/rayrapetyan/following{/other_user}",
      "gists_url": "https://api.github.com/users/rayrapetyan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rayrapetyan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rayrapetyan/subscriptions",
      "organizations_url": "https://api.github.com/users/rayrapetyan/orgs",
      "repos_url": "https://api.github.com/users/rayrapetyan/repos",
      "events_url": "https://api.github.com/users/rayrapetyan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rayrapetyan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-15T06:46:06Z",
    "updated_at": "2019-01-15T06:56:47Z",
    "author_association": "CONTRIBUTOR",
    "body": "I think it will be nice to support both (and more) in a long-term perspective.\r\nUsing a common interface (like https://github.com/ewasm/design/blob/master/eth_interface.md) should simplify attaching VMs.\r\nThe original VM implementation (whatever is in eth/vm now) and a new EWASM implementations should be interchangeable and easily pluggable. \r\neth/chains(db, rlp..) should be separated into a different project (py-eth?)\r\n\r\n`trinity -> py-eth -> [py-evm, py-wasm..]`\r\n\r\nI think the first step should be rewriting existing eth/vm interface (make it compliant with EWASM's EEI?)",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/454284449/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/454967705",
    "html_url": "https://github.com/ethereum/py-evm/issues/1199#issuecomment-454967705",
    "issue_url": "https://api.github.com/repos/ethereum/py-evm/issues/1199",
    "id": 454967705,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1NDk2NzcwNQ==",
    "user": {
      "login": "pipermerriam",
      "id": 824194,
      "node_id": "MDQ6VXNlcjgyNDE5NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/824194?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pipermerriam",
      "html_url": "https://github.com/pipermerriam",
      "followers_url": "https://api.github.com/users/pipermerriam/followers",
      "following_url": "https://api.github.com/users/pipermerriam/following{/other_user}",
      "gists_url": "https://api.github.com/users/pipermerriam/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pipermerriam/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pipermerriam/subscriptions",
      "organizations_url": "https://api.github.com/users/pipermerriam/orgs",
      "repos_url": "https://api.github.com/users/pipermerriam/repos",
      "events_url": "https://api.github.com/users/pipermerriam/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pipermerriam/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-16T22:25:48Z",
    "updated_at": "2019-01-16T22:25:48Z",
    "author_association": "MEMBER",
    "body": "Currently working heavily on https://github.com/ethereum/py-wasm which gives us a python WASM interpreter that we control after which integration into `py-evm/py-eth`.\r\n\r\nCompatible interfaces will certainly be a desired property but we'll only really know if that's **really** viable when we actually do it.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/454967705/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
