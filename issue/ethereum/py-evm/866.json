{
  "url": "https://api.github.com/repos/ethereum/py-evm/issues/866",
  "repository_url": "https://api.github.com/repos/ethereum/py-evm",
  "labels_url": "https://api.github.com/repos/ethereum/py-evm/issues/866/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/py-evm/issues/866/comments",
  "events_url": "https://api.github.com/repos/ethereum/py-evm/issues/866/events",
  "html_url": "https://github.com/ethereum/py-evm/issues/866",
  "id": 329228302,
  "node_id": "MDU6SXNzdWUzMjkyMjgzMDI=",
  "number": 866,
  "title": "Trinity should relay transactions",
  "user": {
    "login": "pipermerriam",
    "id": 824194,
    "node_id": "MDQ6VXNlcjgyNDE5NA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/824194?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/pipermerriam",
    "html_url": "https://github.com/pipermerriam",
    "followers_url": "https://api.github.com/users/pipermerriam/followers",
    "following_url": "https://api.github.com/users/pipermerriam/following{/other_user}",
    "gists_url": "https://api.github.com/users/pipermerriam/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/pipermerriam/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/pipermerriam/subscriptions",
    "organizations_url": "https://api.github.com/users/pipermerriam/orgs",
    "repos_url": "https://api.github.com/users/pipermerriam/repos",
    "events_url": "https://api.github.com/users/pipermerriam/events{/privacy}",
    "received_events_url": "https://api.github.com/users/pipermerriam/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2018-06-04T21:45:00Z",
  "updated_at": "2018-06-21T22:24:26Z",
  "closed_at": "2018-06-21T22:24:26Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "### What is wrong?\r\n\r\nCurrently we do nothing when people send us transactions.\r\n\r\n### How can it be fixed\r\n\r\nBasic transaction relaying should be a good minimal first step towards a transaction pool.\r\n\r\n1. A new long running service, `TransactionPool`\r\n2. The pool should maintain something like a `Queue` where batches of transactions may be placed.\r\n3. The pool should maintain individual bloom filters for each peer to track what transactions we've sent to each peer.\r\n\r\nWhen we receive transactions, push them onto the `TransactionPool` queue.  Ensure that we update the bloom filter for the peer who sent us the transactions with the newly received transactions.\r\n\r\nIn the main loop of the `TransactionPool` service:\r\n\r\n- pull a batch of transactions from the queue.\r\n- for each peer, filter the transactions to only ones that have not been transmitted to that peer and send them the transactions.",
  "closed_by": {
    "login": "cburgdorf",
    "id": 521109,
    "node_id": "MDQ6VXNlcjUyMTEwOQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/521109?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/cburgdorf",
    "html_url": "https://github.com/cburgdorf",
    "followers_url": "https://api.github.com/users/cburgdorf/followers",
    "following_url": "https://api.github.com/users/cburgdorf/following{/other_user}",
    "gists_url": "https://api.github.com/users/cburgdorf/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/cburgdorf/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/cburgdorf/subscriptions",
    "organizations_url": "https://api.github.com/users/cburgdorf/orgs",
    "repos_url": "https://api.github.com/users/cburgdorf/repos",
    "events_url": "https://api.github.com/users/cburgdorf/events{/privacy}",
    "received_events_url": "https://api.github.com/users/cburgdorf/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/py-evm/issues/866/reactions",
    "total_count": 1,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 1,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/py-evm/issues/866/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/394515277",
    "html_url": "https://github.com/ethereum/py-evm/issues/866#issuecomment-394515277",
    "issue_url": "https://api.github.com/repos/ethereum/py-evm/issues/866",
    "id": 394515277,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NDUxNTI3Nw==",
    "user": {
      "login": "pipermerriam",
      "id": 824194,
      "node_id": "MDQ6VXNlcjgyNDE5NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/824194?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pipermerriam",
      "html_url": "https://github.com/pipermerriam",
      "followers_url": "https://api.github.com/users/pipermerriam/followers",
      "following_url": "https://api.github.com/users/pipermerriam/following{/other_user}",
      "gists_url": "https://api.github.com/users/pipermerriam/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pipermerriam/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pipermerriam/subscriptions",
      "organizations_url": "https://api.github.com/users/pipermerriam/orgs",
      "repos_url": "https://api.github.com/users/pipermerriam/repos",
      "events_url": "https://api.github.com/users/pipermerriam/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pipermerriam/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-04T22:05:27Z",
    "updated_at": "2018-06-04T22:05:27Z",
    "author_association": "MEMBER",
    "body": "Partially wanting to prioritize this because it'll clean up the DEBUG logs a lot, but it also helps make us a better network citizen.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/394515277/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 1,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
