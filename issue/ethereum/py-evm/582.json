{
  "url": "https://api.github.com/repos/ethereum/py-evm/issues/582",
  "repository_url": "https://api.github.com/repos/ethereum/py-evm",
  "labels_url": "https://api.github.com/repos/ethereum/py-evm/issues/582/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/py-evm/issues/582/comments",
  "events_url": "https://api.github.com/repos/ethereum/py-evm/issues/582/events",
  "html_url": "https://github.com/ethereum/py-evm/issues/582",
  "id": 316746907,
  "node_id": "MDU6SXNzdWUzMTY3NDY5MDc=",
  "number": 582,
  "title": "Add tests to prove we aren't leaving cruft in the db when things are reverted",
  "user": {
    "login": "cburgdorf",
    "id": 521109,
    "node_id": "MDQ6VXNlcjUyMTEwOQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/521109?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/cburgdorf",
    "html_url": "https://github.com/cburgdorf",
    "followers_url": "https://api.github.com/users/cburgdorf/followers",
    "following_url": "https://api.github.com/users/cburgdorf/following{/other_user}",
    "gists_url": "https://api.github.com/users/cburgdorf/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/cburgdorf/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/cburgdorf/subscriptions",
    "organizations_url": "https://api.github.com/users/cburgdorf/orgs",
    "repos_url": "https://api.github.com/users/cburgdorf/repos",
    "events_url": "https://api.github.com/users/cburgdorf/events{/privacy}",
    "received_events_url": "https://api.github.com/users/cburgdorf/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 631592722,
      "node_id": "MDU6TGFiZWw2MzE1OTI3MjI=",
      "url": "https://api.github.com/repos/ethereum/py-evm/labels/Good%20First%20Issue",
      "name": "Good First Issue",
      "color": "0e8a16",
      "default": false,
      "description": null
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2018-04-23T10:11:59Z",
  "updated_at": "2020-10-06T13:12:23Z",
  "closed_at": "2020-10-06T13:12:23Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "\r\n### What is wrong?\r\n\r\nWhile working on #569 I noticed it is far to easy to accidentally bypass the `JournalDB` altogether and still get the entire test suite to pass. I don't have a definite prove for that yet but it seems we don't have a test that actually tests that we aren't leaving cruft in the database when things are reverted.\r\n\r\nI'm adding this issue as a reminder for me to follow up on that.\r\n\r\n### How can it be fixed\r\n\r\nAdd missing tests\r\n",
  "closed_by": {
    "login": "cburgdorf",
    "id": 521109,
    "node_id": "MDQ6VXNlcjUyMTEwOQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/521109?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/cburgdorf",
    "html_url": "https://github.com/cburgdorf",
    "followers_url": "https://api.github.com/users/cburgdorf/followers",
    "following_url": "https://api.github.com/users/cburgdorf/following{/other_user}",
    "gists_url": "https://api.github.com/users/cburgdorf/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/cburgdorf/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/cburgdorf/subscriptions",
    "organizations_url": "https://api.github.com/users/cburgdorf/orgs",
    "repos_url": "https://api.github.com/users/cburgdorf/repos",
    "events_url": "https://api.github.com/users/cburgdorf/events{/privacy}",
    "received_events_url": "https://api.github.com/users/cburgdorf/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/py-evm/issues/582/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/py-evm/issues/582/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/704044106",
    "html_url": "https://github.com/ethereum/py-evm/issues/582#issuecomment-704044106",
    "issue_url": "https://api.github.com/repos/ethereum/py-evm/issues/582",
    "id": 704044106,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwNDA0NDEwNg==",
    "user": {
      "login": "dylancaponi",
      "id": 7399067,
      "node_id": "MDQ6VXNlcjczOTkwNjc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7399067?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dylancaponi",
      "html_url": "https://github.com/dylancaponi",
      "followers_url": "https://api.github.com/users/dylancaponi/followers",
      "following_url": "https://api.github.com/users/dylancaponi/following{/other_user}",
      "gists_url": "https://api.github.com/users/dylancaponi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dylancaponi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dylancaponi/subscriptions",
      "organizations_url": "https://api.github.com/users/dylancaponi/orgs",
      "repos_url": "https://api.github.com/users/dylancaponi/repos",
      "events_url": "https://api.github.com/users/dylancaponi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dylancaponi/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-06T05:52:14Z",
    "updated_at": "2020-10-06T05:52:14Z",
    "author_association": "NONE",
    "body": "@cburgdorf I've noticed this issue is over two years old. Has it been implemented? If not, would you mind breaking down the steps or provide advice on how to begin?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/704044106/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/704259173",
    "html_url": "https://github.com/ethereum/py-evm/issues/582#issuecomment-704259173",
    "issue_url": "https://api.github.com/repos/ethereum/py-evm/issues/582",
    "id": 704259173,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwNDI1OTE3Mw==",
    "user": {
      "login": "cburgdorf",
      "id": 521109,
      "node_id": "MDQ6VXNlcjUyMTEwOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/521109?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cburgdorf",
      "html_url": "https://github.com/cburgdorf",
      "followers_url": "https://api.github.com/users/cburgdorf/followers",
      "following_url": "https://api.github.com/users/cburgdorf/following{/other_user}",
      "gists_url": "https://api.github.com/users/cburgdorf/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cburgdorf/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cburgdorf/subscriptions",
      "organizations_url": "https://api.github.com/users/cburgdorf/orgs",
      "repos_url": "https://api.github.com/users/cburgdorf/repos",
      "events_url": "https://api.github.com/users/cburgdorf/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cburgdorf/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-06T13:12:23Z",
    "updated_at": "2020-10-06T13:12:23Z",
    "author_association": "MEMBER",
    "body": "Hey @dylancaponi happy to hear you want to contribute. To be honest, my memory around this issue isn't very well. I can't break down steps from the top of my head and it's likely that the tests around the journal db have progressed a lot in the past two years.\r\n\r\nI guess the general idea was:\r\n\r\n1. Make changes in the db\r\n2. Revert the changes\r\n3. Assert that the changes are in fact reverted\r\n\r\nThe main idea was to ensure we have would notice if we accidentally bypass the `JournalDB` at some point. I would rather close this issue because I really can't tell how much the situation has changed and I certainly can't give the support that justifies this as a *Good First Issue*.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/704259173/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
