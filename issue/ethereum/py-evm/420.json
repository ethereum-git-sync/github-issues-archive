{
  "url": "https://api.github.com/repos/ethereum/py-evm/issues/420",
  "repository_url": "https://api.github.com/repos/ethereum/py-evm",
  "labels_url": "https://api.github.com/repos/ethereum/py-evm/issues/420/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/py-evm/issues/420/comments",
  "events_url": "https://api.github.com/repos/ethereum/py-evm/issues/420/events",
  "html_url": "https://github.com/ethereum/py-evm/issues/420",
  "id": 301074197,
  "node_id": "MDU6SXNzdWUzMDEwNzQxOTc=",
  "number": 420,
  "title": "Create the new Collation RLP object",
  "user": {
    "login": "hwwhww",
    "id": 9263930,
    "node_id": "MDQ6VXNlcjkyNjM5MzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/9263930?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/hwwhww",
    "html_url": "https://github.com/hwwhww",
    "followers_url": "https://api.github.com/users/hwwhww/followers",
    "following_url": "https://api.github.com/users/hwwhww/following{/other_user}",
    "gists_url": "https://api.github.com/users/hwwhww/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/hwwhww/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/hwwhww/subscriptions",
    "organizations_url": "https://api.github.com/users/hwwhww/orgs",
    "repos_url": "https://api.github.com/users/hwwhww/repos",
    "events_url": "https://api.github.com/users/hwwhww/events{/privacy}",
    "received_events_url": "https://api.github.com/users/hwwhww/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 769749869,
      "node_id": "MDU6TGFiZWw3Njk3NDk4Njk=",
      "url": "https://api.github.com/repos/ethereum/py-evm/labels/eth2.0",
      "name": "eth2.0",
      "color": "ff95ca",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "jannikluhn",
    "id": 29854669,
    "node_id": "MDQ6VXNlcjI5ODU0NjY5",
    "avatar_url": "https://avatars.githubusercontent.com/u/29854669?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jannikluhn",
    "html_url": "https://github.com/jannikluhn",
    "followers_url": "https://api.github.com/users/jannikluhn/followers",
    "following_url": "https://api.github.com/users/jannikluhn/following{/other_user}",
    "gists_url": "https://api.github.com/users/jannikluhn/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jannikluhn/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jannikluhn/subscriptions",
    "organizations_url": "https://api.github.com/users/jannikluhn/orgs",
    "repos_url": "https://api.github.com/users/jannikluhn/repos",
    "events_url": "https://api.github.com/users/jannikluhn/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jannikluhn/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "jannikluhn",
      "id": 29854669,
      "node_id": "MDQ6VXNlcjI5ODU0NjY5",
      "avatar_url": "https://avatars.githubusercontent.com/u/29854669?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jannikluhn",
      "html_url": "https://github.com/jannikluhn",
      "followers_url": "https://api.github.com/users/jannikluhn/followers",
      "following_url": "https://api.github.com/users/jannikluhn/following{/other_user}",
      "gists_url": "https://api.github.com/users/jannikluhn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jannikluhn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jannikluhn/subscriptions",
      "organizations_url": "https://api.github.com/users/jannikluhn/orgs",
      "repos_url": "https://api.github.com/users/jannikluhn/repos",
      "events_url": "https://api.github.com/users/jannikluhn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jannikluhn/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 10,
  "created_at": "2018-02-28T15:44:46Z",
  "updated_at": "2018-04-14T07:11:00Z",
  "closed_at": "2018-04-14T07:08:56Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "### What is wrong?\r\n(Updated the issue, separated this ticket from VMC contract)\r\n\r\n#### `CollationHeader`\r\n2018-04-14 updated:\r\n\r\n```\r\nshard_id           uint256 // pointer to shard\r\nchunks_root        bytes32 // pointer to collation body\r\nperiod             uint256 // timestamp\r\nproposer_address   address\r\n```\r\n\r\n#### `Collation`\r\n```\r\nheader    CollationHeader\r\nbody      CollationBody\r\n```\r\n\r\n### How can it be fixed\r\n\r\nSince there are two other issues are related to VMC, it might be better to create a new `Collation` class to avoiding influencing VMC.\r\n",
  "closed_by": {
    "login": "hwwhww",
    "id": 9263930,
    "node_id": "MDQ6VXNlcjkyNjM5MzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/9263930?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/hwwhww",
    "html_url": "https://github.com/hwwhww",
    "followers_url": "https://api.github.com/users/hwwhww/followers",
    "following_url": "https://api.github.com/users/hwwhww/following{/other_user}",
    "gists_url": "https://api.github.com/users/hwwhww/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/hwwhww/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/hwwhww/subscriptions",
    "organizations_url": "https://api.github.com/users/hwwhww/orgs",
    "repos_url": "https://api.github.com/users/hwwhww/repos",
    "events_url": "https://api.github.com/users/hwwhww/events{/privacy}",
    "received_events_url": "https://api.github.com/users/hwwhww/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/py-evm/issues/420/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/py-evm/issues/420/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/370161713",
    "html_url": "https://github.com/ethereum/py-evm/issues/420#issuecomment-370161713",
    "issue_url": "https://api.github.com/repos/ethereum/py-evm/issues/420",
    "id": 370161713,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MDE2MTcxMw==",
    "user": {
      "login": "mhchia",
      "id": 8223657,
      "node_id": "MDQ6VXNlcjgyMjM2NTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8223657?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mhchia",
      "html_url": "https://github.com/mhchia",
      "followers_url": "https://api.github.com/users/mhchia/followers",
      "following_url": "https://api.github.com/users/mhchia/following{/other_user}",
      "gists_url": "https://api.github.com/users/mhchia/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mhchia/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mhchia/subscriptions",
      "organizations_url": "https://api.github.com/users/mhchia/orgs",
      "repos_url": "https://api.github.com/users/mhchia/repos",
      "events_url": "https://api.github.com/users/mhchia/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mhchia/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-03T16:44:42Z",
    "updated_at": "2018-03-03T16:44:42Z",
    "author_association": "MEMBER",
    "body": "I think I can work on this.\r\nChange the collation structure according to the new spec, and do VMC optimization",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/370161713/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/370164739",
    "html_url": "https://github.com/ethereum/py-evm/issues/420#issuecomment-370164739",
    "issue_url": "https://api.github.com/repos/ethereum/py-evm/issues/420",
    "id": 370164739,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MDE2NDczOQ==",
    "user": {
      "login": "hwwhww",
      "id": 9263930,
      "node_id": "MDQ6VXNlcjkyNjM5MzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9263930?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hwwhww",
      "html_url": "https://github.com/hwwhww",
      "followers_url": "https://api.github.com/users/hwwhww/followers",
      "following_url": "https://api.github.com/users/hwwhww/following{/other_user}",
      "gists_url": "https://api.github.com/users/hwwhww/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hwwhww/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hwwhww/subscriptions",
      "organizations_url": "https://api.github.com/users/hwwhww/orgs",
      "repos_url": "https://api.github.com/users/hwwhww/repos",
      "events_url": "https://api.github.com/users/hwwhww/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hwwhww/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-03T17:27:17Z",
    "updated_at": "2018-03-03T17:31:19Z",
    "author_association": "MEMBER",
    "body": "@mhchia \r\n1. Some fields renamings are still in discussion.\r\n2. Removing `state_root` from `Collation` may make some tests fail due to this line: https://github.com/ethereum/py-evm/blob/3784a87d0850c92d5865d97ce4bb6f5075d47896/evm/vm/forks/sharding/vm_state.py#L45\r\n    Which means we *may* have to make another *temporary* `NewCollation` class **or** decouple state execution.\r\n\r\nI suggest something you can do before this issue:\r\n1. Move VMC out of `evm/vm` because (1) it's not part of VM and (2) it helps for decoupling state execution and other processes.\r\n2. Ping @pipermerriam , what do you think of that we move VMC contract to `ethereum/sharding` repository and we make sharding repository to be a submodule of py-evm? If it's okay, @mhchia would you help to move?\r\n2. Write down basic VMC API doc. (don't need to be perfect)",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/370164739/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/371166969",
    "html_url": "https://github.com/ethereum/py-evm/issues/420#issuecomment-371166969",
    "issue_url": "https://api.github.com/repos/ethereum/py-evm/issues/420",
    "id": 371166969,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MTE2Njk2OQ==",
    "user": {
      "login": "mhchia",
      "id": 8223657,
      "node_id": "MDQ6VXNlcjgyMjM2NTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8223657?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mhchia",
      "html_url": "https://github.com/mhchia",
      "followers_url": "https://api.github.com/users/mhchia/followers",
      "following_url": "https://api.github.com/users/mhchia/following{/other_user}",
      "gists_url": "https://api.github.com/users/mhchia/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mhchia/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mhchia/subscriptions",
      "organizations_url": "https://api.github.com/users/mhchia/orgs",
      "repos_url": "https://api.github.com/users/mhchia/repos",
      "events_url": "https://api.github.com/users/mhchia/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mhchia/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-07T15:03:53Z",
    "updated_at": "2018-03-07T15:03:53Z",
    "author_association": "MEMBER",
    "body": "@hwwhww Thank you for the suggestion. I would like to help. But I think I should finish `GUESS_HEAD` first, and then come to this issue after. So sorry for this.\r\nIf anyone would like to do this please feel free to take it.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/371166969/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/371225634",
    "html_url": "https://github.com/ethereum/py-evm/issues/420#issuecomment-371225634",
    "issue_url": "https://api.github.com/repos/ethereum/py-evm/issues/420",
    "id": 371225634,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MTIyNTYzNA==",
    "user": {
      "login": "jannikluhn",
      "id": 29854669,
      "node_id": "MDQ6VXNlcjI5ODU0NjY5",
      "avatar_url": "https://avatars.githubusercontent.com/u/29854669?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jannikluhn",
      "html_url": "https://github.com/jannikluhn",
      "followers_url": "https://api.github.com/users/jannikluhn/followers",
      "following_url": "https://api.github.com/users/jannikluhn/following{/other_user}",
      "gists_url": "https://api.github.com/users/jannikluhn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jannikluhn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jannikluhn/subscriptions",
      "organizations_url": "https://api.github.com/users/jannikluhn/orgs",
      "repos_url": "https://api.github.com/users/jannikluhn/repos",
      "events_url": "https://api.github.com/users/jannikluhn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jannikluhn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-07T17:56:47Z",
    "updated_at": "2018-03-07T17:56:47Z",
    "author_association": "MEMBER",
    "body": "This seems to overlap with #436",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/371225634/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/371414013",
    "html_url": "https://github.com/ethereum/py-evm/issues/420#issuecomment-371414013",
    "issue_url": "https://api.github.com/repos/ethereum/py-evm/issues/420",
    "id": 371414013,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MTQxNDAxMw==",
    "user": {
      "login": "hwwhww",
      "id": 9263930,
      "node_id": "MDQ6VXNlcjkyNjM5MzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9263930?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hwwhww",
      "html_url": "https://github.com/hwwhww",
      "followers_url": "https://api.github.com/users/hwwhww/followers",
      "following_url": "https://api.github.com/users/hwwhww/following{/other_user}",
      "gists_url": "https://api.github.com/users/hwwhww/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hwwhww/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hwwhww/subscriptions",
      "organizations_url": "https://api.github.com/users/hwwhww/orgs",
      "repos_url": "https://api.github.com/users/hwwhww/repos",
      "events_url": "https://api.github.com/users/hwwhww/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hwwhww/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-08T08:20:47Z",
    "updated_at": "2018-03-08T08:21:15Z",
    "author_association": "MEMBER",
    "body": "@jannikluhn A little bit, but my plan is that  #420 defines the `CollationHeader` and the blobs in `CollationBody` are just binary data; #436 handles the blobs encoding and the binary Merkle tree.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/371414013/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/371879447",
    "html_url": "https://github.com/ethereum/py-evm/issues/420#issuecomment-371879447",
    "issue_url": "https://api.github.com/repos/ethereum/py-evm/issues/420",
    "id": 371879447,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MTg3OTQ0Nw==",
    "user": {
      "login": "hwwhww",
      "id": 9263930,
      "node_id": "MDQ6VXNlcjkyNjM5MzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9263930?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hwwhww",
      "html_url": "https://github.com/hwwhww",
      "followers_url": "https://api.github.com/users/hwwhww/followers",
      "following_url": "https://api.github.com/users/hwwhww/following{/other_user}",
      "gists_url": "https://api.github.com/users/hwwhww/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hwwhww/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hwwhww/subscriptions",
      "organizations_url": "https://api.github.com/users/hwwhww/orgs",
      "repos_url": "https://api.github.com/users/hwwhww/repos",
      "events_url": "https://api.github.com/users/hwwhww/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hwwhww/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-09T17:16:42Z",
    "updated_at": "2018-03-09T17:16:42Z",
    "author_association": "MEMBER",
    "body": "Updated to ticket description.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/371879447/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/372239133",
    "html_url": "https://github.com/ethereum/py-evm/issues/420#issuecomment-372239133",
    "issue_url": "https://api.github.com/repos/ethereum/py-evm/issues/420",
    "id": 372239133,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MjIzOTEzMw==",
    "user": {
      "login": "jannikluhn",
      "id": 29854669,
      "node_id": "MDQ6VXNlcjI5ODU0NjY5",
      "avatar_url": "https://avatars.githubusercontent.com/u/29854669?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jannikluhn",
      "html_url": "https://github.com/jannikluhn",
      "followers_url": "https://api.github.com/users/jannikluhn/followers",
      "following_url": "https://api.github.com/users/jannikluhn/following{/other_user}",
      "gists_url": "https://api.github.com/users/jannikluhn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jannikluhn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jannikluhn/subscriptions",
      "organizations_url": "https://api.github.com/users/jannikluhn/orgs",
      "repos_url": "https://api.github.com/users/jannikluhn/repos",
      "events_url": "https://api.github.com/users/jannikluhn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jannikluhn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-12T09:11:08Z",
    "updated_at": "2018-03-12T09:26:01Z",
    "author_association": "MEMBER",
    "body": "A few clarifying questions to @hwwhww or @mhchia :\r\n\r\n- Some fields have type `uint256`, which I assume means that encoded integers are padded with zeros to a size of 32 bytes. This makes sense for the SMC (easier to decode) but not so much for RLP encoding (takes unnecessary space). Can we encode integers for the RLP format in the traditional way (like block headers are today) and then provide some kind of \"encode for SMC\" method?\r\n\r\n- Related: What's the hash of a collation header? A block header hash is `keccak(rlp(header))`, in the existing collation implementation it's `keccak(shard_id ++ period ++ ...)`. Do we want to have both, should the SMC learn RLP, or should we go with the field-concatenated hash everywhere?\r\n\r\n- There's no reference to the main chain anymore (in the previous version there used to be a \"period_start_prevhash\"). Is that intentional?\r\n\r\n- Is there any format for the proposer signature? I think at least a maximum size would be necessary, but we could also go further and have v/r/s integers just like (old-style) transactions (although I kind of like having a single signature field).\r\n\r\nEdit:\r\n\r\n- What's the proposer signature exactly? Same as transaction signature, but without the replay protection hacks?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/372239133/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/372265178",
    "html_url": "https://github.com/ethereum/py-evm/issues/420#issuecomment-372265178",
    "issue_url": "https://api.github.com/repos/ethereum/py-evm/issues/420",
    "id": 372265178,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MjI2NTE3OA==",
    "user": {
      "login": "mhchia",
      "id": 8223657,
      "node_id": "MDQ6VXNlcjgyMjM2NTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8223657?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mhchia",
      "html_url": "https://github.com/mhchia",
      "followers_url": "https://api.github.com/users/mhchia/followers",
      "following_url": "https://api.github.com/users/mhchia/following{/other_user}",
      "gists_url": "https://api.github.com/users/mhchia/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mhchia/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mhchia/subscriptions",
      "organizations_url": "https://api.github.com/users/mhchia/orgs",
      "repos_url": "https://api.github.com/users/mhchia/repos",
      "events_url": "https://api.github.com/users/mhchia/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mhchia/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-12T10:41:36Z",
    "updated_at": "2018-03-12T10:41:36Z",
    "author_association": "MEMBER",
    "body": "@jannikluhn \r\n > Some fields have type uint256, which I assume means that encoded integers are padded with zeros to a size of 32 bytes. This makes sense for the SMC (easier to decode) but not so much for RLP encoding (takes unnecessary space). Can we encode integers for the RLP format in the traditional way (like block headers are today) and then provide some kind of \"encode for SMC\" method?\r\n\r\nIf we do this, it seems\r\n1. we will need to implement the minimal rlp decoder for `big_endian_int`. I'm not sure if it is worthwhile or not.\r\n2. Or we just use the rlp decoder contract. But it needs an additional contract call.\r\n\r\n> Related: What's the hash of a collation header? A block header hash is keccak(rlp(header)), in the existing collation implementation it's keccak(shard_id ++ period ++ ...). Do we want to have both, should the SMC learn RLP, or should we go with the field-concatenated hash everywhere?\r\n\r\nIMO for simplicity, using field-concatenated hash seems easier. I'm not sure if it is worthwhile to make SMC able to RLP encode. We will have to implement it and test it further. And maybe it will cost more gas to do rlp encoding compared to the field-concatenated hash.\r\n\r\n> There's no reference to the main chain anymore (in the previous version there used to be a \"period_start_prevhash\"). Is that intentional?\r\n\r\nI'm not sure of it either. Maybe need to ask @hwwhww \r\n\r\n> Is there any format for the proposer signature? I think at least a maximum size would be necessary, but we could also go further and have v/r/s integers just like (old-style) transactions (although I kind of like having a single signature field).\r\n\r\nI think we can use the previous format of signature. It is the just the concatenation of `v`, `r`, `s`. (https://github.com/ethereum/sharding/blob/develop/old_sharding_poc/sharding/contract_utils.py#L19-L22). And it can be verified through the [validation code](https://github.com/ethereum/sharding/blob/develop/old_sharding_poc/sharding/validator_manager_utils.py#L44-L59) we used before.\r\n\r\n> What's the proposer signature exactly? Same as transaction signature, but without the replay protection hacks?\r\n\r\nI don't know it for now either. It is not currently included in the spec and need to be clarified as well. If we want to do it now, maybe we can start off letting the `sig_hash_of_proposer` to be `keccak(concat(shard_id ++ parent_hash ++ ... ++ proposer_bid))` or something like this.\r\n\r\nJust some thoughts. Please correct me if there is anything wrong :)\r\nAnd we can discuss about these on the meeting tomorrow.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/372265178/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/372554339",
    "html_url": "https://github.com/ethereum/py-evm/issues/420#issuecomment-372554339",
    "issue_url": "https://api.github.com/repos/ethereum/py-evm/issues/420",
    "id": 372554339,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MjU1NDMzOQ==",
    "user": {
      "login": "hwwhww",
      "id": 9263930,
      "node_id": "MDQ6VXNlcjkyNjM5MzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9263930?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hwwhww",
      "html_url": "https://github.com/hwwhww",
      "followers_url": "https://api.github.com/users/hwwhww/followers",
      "following_url": "https://api.github.com/users/hwwhww/following{/other_user}",
      "gists_url": "https://api.github.com/users/hwwhww/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hwwhww/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hwwhww/subscriptions",
      "organizations_url": "https://api.github.com/users/hwwhww/orgs",
      "repos_url": "https://api.github.com/users/hwwhww/repos",
      "events_url": "https://api.github.com/users/hwwhww/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hwwhww/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-13T05:48:30Z",
    "updated_at": "2018-03-13T05:48:30Z",
    "author_association": "MEMBER",
    "body": "> There's no reference to the main chain anymore (in the previous version there used to be a\"period_start_prevhash\"). Is that intentional?\r\n\r\nyes!\r\n\r\nAlso, we're thinking about removing `height` too since I couldn't find a scenario of why we definitely *need* height in header ... I can say it's convenient in some cases, but now we're thinking of just log `height` in the EVM log or just query the `score` from SMC (in JMRS, `score` still equals `height`).\r\n\r\n```\r\nshard_id           uint256 // pointer to shard\r\nparent_hash        bytes32 // pointer to parent header\r\nchunks_root        bytes32 // pointer to collation body\r\nperiod             uint256\r\nproposer_address   address\r\nproposer_bid       uint256\r\nproposer_signature bytes\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/372554339/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/381309298",
    "html_url": "https://github.com/ethereum/py-evm/issues/420#issuecomment-381309298",
    "issue_url": "https://api.github.com/repos/ethereum/py-evm/issues/420",
    "id": 381309298,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MTMwOTI5OA==",
    "user": {
      "login": "hwwhww",
      "id": 9263930,
      "node_id": "MDQ6VXNlcjkyNjM5MzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9263930?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hwwhww",
      "html_url": "https://github.com/hwwhww",
      "followers_url": "https://api.github.com/users/hwwhww/followers",
      "following_url": "https://api.github.com/users/hwwhww/following{/other_user}",
      "gists_url": "https://api.github.com/users/hwwhww/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hwwhww/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hwwhww/subscriptions",
      "organizations_url": "https://api.github.com/users/hwwhww/orgs",
      "repos_url": "https://api.github.com/users/hwwhww/repos",
      "events_url": "https://api.github.com/users/hwwhww/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hwwhww/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-14T07:08:56Z",
    "updated_at": "2018-04-14T07:08:56Z",
    "author_association": "MEMBER",
    "body": "closed via #462",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/py-evm/issues/comments/381309298/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
