{
  "url": "https://api.github.com/repos/ethereum/devp2p/issues/248",
  "repository_url": "https://api.github.com/repos/ethereum/devp2p",
  "labels_url": "https://api.github.com/repos/ethereum/devp2p/issues/248/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/devp2p/issues/248/comments",
  "events_url": "https://api.github.com/repos/ethereum/devp2p/issues/248/events",
  "html_url": "https://github.com/ethereum/devp2p/issues/248",
  "id": 1875913043,
  "node_id": "I_kwDOAcJRYs5v0ClT",
  "number": 248,
  "title": "Not getting any inbound connections ",
  "user": {
    "login": "ana-prdekalo",
    "id": 126925611,
    "node_id": "U_kgDOB5C7Kw",
    "avatar_url": "https://avatars.githubusercontent.com/u/126925611?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ana-prdekalo",
    "html_url": "https://github.com/ana-prdekalo",
    "followers_url": "https://api.github.com/users/ana-prdekalo/followers",
    "following_url": "https://api.github.com/users/ana-prdekalo/following{/other_user}",
    "gists_url": "https://api.github.com/users/ana-prdekalo/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ana-prdekalo/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ana-prdekalo/subscriptions",
    "organizations_url": "https://api.github.com/users/ana-prdekalo/orgs",
    "repos_url": "https://api.github.com/users/ana-prdekalo/repos",
    "events_url": "https://api.github.com/users/ana-prdekalo/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ana-prdekalo/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2023-08-31T16:58:52Z",
  "updated_at": "2023-09-25T10:49:26Z",
  "closed_at": "2023-09-25T10:49:26Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Hello, \r\n\r\nI've been writing my own node in Rust for fun, this time I'm stuck on the issue that I'm not getting inbound connections. \r\nAs I've been doing more work on BSC than ETH, this is a peer network I'm testing against. \r\n\r\nCurrently, I run GETH's cmd/devp2p crawler to obtain BSC nodes (I crawl, then filter using ForkIDs). Finally, these nodes are \"fed\" to my rudimentary implementation. \r\nThe communication between my node and the \"real ones\" goes smoothly both on P2P and ETH layers (capabilities).  \r\nMy next steps are to allow other nodes to connect to mine and finally to fully implement the discover (DiscV4)  protocol. \r\n\r\nUnfortunately, I'm not getting any valid connection requests on my TCP listener and I'm not sure why. I'm probably missing some part of logic, but I cannot find anything in the docs (I'm not saying it's missing, just that I'm unable to find it).\r\n\r\nWhen establishing an outbound connection I'm using the same port as I'm using in my TCP & UDP listeners.\r\n\r\nMy understanding is, that once I connect to peers and exchange P2P Hello messages, the peer I'm connected to will add me to its DHT, so when other peers send DiscV4  `FindNode` packet to my neighbor, my node should be in the `Neighbours` response, am I correct? \r\nI've also implemented the DiscV4 `Pong` response to the `Ping` packet (but I'm not yet sending any `Pings` of my own), and I'm sending my `enr` as a response to `ENRRequest` packets. \r\n\r\nI have tested all of these against the prod GETH node, and packets sent out by my node are valid, ports are open, ForkId returned in `ENRResponse` is correct, etc. \r\nWhat I've noticed is that non-BSC nodes do send `ENRRequests` and some of them do try to establish a TCP connection, but BSC nodes just send Ping packets and they don't try to establish a TCP connection to my node.  \r\n\r\nCan anyone please tell me what am I missing? \r\nWhat are the minimal features I need to implement in order that other nodes in the network to find me and try to establish a connection with me?\r\n",
  "closed_by": {
    "login": "ana-prdekalo",
    "id": 126925611,
    "node_id": "U_kgDOB5C7Kw",
    "avatar_url": "https://avatars.githubusercontent.com/u/126925611?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ana-prdekalo",
    "html_url": "https://github.com/ana-prdekalo",
    "followers_url": "https://api.github.com/users/ana-prdekalo/followers",
    "following_url": "https://api.github.com/users/ana-prdekalo/following{/other_user}",
    "gists_url": "https://api.github.com/users/ana-prdekalo/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ana-prdekalo/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ana-prdekalo/subscriptions",
    "organizations_url": "https://api.github.com/users/ana-prdekalo/orgs",
    "repos_url": "https://api.github.com/users/ana-prdekalo/repos",
    "events_url": "https://api.github.com/users/ana-prdekalo/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ana-prdekalo/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/devp2p/issues/248/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/devp2p/issues/248/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/devp2p/issues/comments/1733422564",
    "html_url": "https://github.com/ethereum/devp2p/issues/248#issuecomment-1733422564",
    "issue_url": "https://api.github.com/repos/ethereum/devp2p/issues/248",
    "id": 1733422564,
    "node_id": "IC_kwDOAcJRYs5nUe3k",
    "user": {
      "login": "ana-prdekalo",
      "id": 126925611,
      "node_id": "U_kgDOB5C7Kw",
      "avatar_url": "https://avatars.githubusercontent.com/u/126925611?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ana-prdekalo",
      "html_url": "https://github.com/ana-prdekalo",
      "followers_url": "https://api.github.com/users/ana-prdekalo/followers",
      "following_url": "https://api.github.com/users/ana-prdekalo/following{/other_user}",
      "gists_url": "https://api.github.com/users/ana-prdekalo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ana-prdekalo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ana-prdekalo/subscriptions",
      "organizations_url": "https://api.github.com/users/ana-prdekalo/orgs",
      "repos_url": "https://api.github.com/users/ana-prdekalo/repos",
      "events_url": "https://api.github.com/users/ana-prdekalo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ana-prdekalo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-09-25T10:49:21Z",
    "updated_at": "2023-09-25T10:49:21Z",
    "author_association": "NONE",
    "body": "Forgot about this issue. \r\nThe problem was that I was missing boot nodes ü§¶‚Äç‚ôÇÔ∏èBy that I mean, everything started working once I tried to connect to boot nodes.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/devp2p/issues/comments/1733422564/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
