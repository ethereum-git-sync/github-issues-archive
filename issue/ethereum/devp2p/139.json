{
  "url": "https://api.github.com/repos/ethereum/devp2p/issues/139",
  "repository_url": "https://api.github.com/repos/ethereum/devp2p",
  "labels_url": "https://api.github.com/repos/ethereum/devp2p/issues/139/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/devp2p/issues/139/comments",
  "events_url": "https://api.github.com/repos/ethereum/devp2p/issues/139/events",
  "html_url": "https://github.com/ethereum/devp2p/issues/139",
  "id": 572800056,
  "node_id": "MDU6SXNzdWU1NzI4MDAwNTY=",
  "number": 139,
  "title": "ABNF packets",
  "user": {
    "login": "decanus",
    "id": 7621705,
    "node_id": "MDQ6VXNlcjc2MjE3MDU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/7621705?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/decanus",
    "html_url": "https://github.com/decanus",
    "followers_url": "https://api.github.com/users/decanus/followers",
    "following_url": "https://api.github.com/users/decanus/following{/other_user}",
    "gists_url": "https://api.github.com/users/decanus/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/decanus/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/decanus/subscriptions",
    "organizations_url": "https://api.github.com/users/decanus/orgs",
    "repos_url": "https://api.github.com/users/decanus/repos",
    "events_url": "https://api.github.com/users/decanus/events{/privacy}",
    "received_events_url": "https://api.github.com/users/decanus/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 7,
  "created_at": "2020-02-28T14:45:08Z",
  "updated_at": "2020-06-04T15:33:50Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "At vac we've started defining packets using ABNF, it might make sense to do this in the devp2p specifications too. https://specs.vac.dev/specs/waku/waku.html#abnf-specification",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/devp2p/issues/139/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/devp2p/issues/139/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ethereum/devp2p/issues/comments/593981678",
    "html_url": "https://github.com/ethereum/devp2p/issues/139#issuecomment-593981678",
    "issue_url": "https://api.github.com/repos/ethereum/devp2p/issues/139",
    "id": 593981678,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5Mzk4MTY3OA==",
    "user": {
      "login": "fjl",
      "id": 6915,
      "node_id": "MDQ6VXNlcjY5MTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6915?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjl",
      "html_url": "https://github.com/fjl",
      "followers_url": "https://api.github.com/users/fjl/followers",
      "following_url": "https://api.github.com/users/fjl/following{/other_user}",
      "gists_url": "https://api.github.com/users/fjl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fjl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fjl/subscriptions",
      "organizations_url": "https://api.github.com/users/fjl/orgs",
      "repos_url": "https://api.github.com/users/fjl/repos",
      "events_url": "https://api.github.com/users/fjl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fjl/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-03T14:34:42Z",
    "updated_at": "2020-03-03T14:34:42Z",
    "author_association": "MEMBER",
    "body": "Yes! That's a very nice idea. We should use that for all specs. Maybe we could even define a nice RLP extension for ABNF and add it as a meta spec.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/devp2p/issues/comments/593981678/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/devp2p/issues/comments/594060441",
    "html_url": "https://github.com/ethereum/devp2p/issues/139#issuecomment-594060441",
    "issue_url": "https://api.github.com/repos/ethereum/devp2p/issues/139",
    "id": 594060441,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5NDA2MDQ0MQ==",
    "user": {
      "login": "decanus",
      "id": 7621705,
      "node_id": "MDQ6VXNlcjc2MjE3MDU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7621705?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/decanus",
      "html_url": "https://github.com/decanus",
      "followers_url": "https://api.github.com/users/decanus/followers",
      "following_url": "https://api.github.com/users/decanus/following{/other_user}",
      "gists_url": "https://api.github.com/users/decanus/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/decanus/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/decanus/subscriptions",
      "organizations_url": "https://api.github.com/users/decanus/orgs",
      "repos_url": "https://api.github.com/users/decanus/repos",
      "events_url": "https://api.github.com/users/decanus/events{/privacy}",
      "received_events_url": "https://api.github.com/users/decanus/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-03T17:06:54Z",
    "updated_at": "2020-03-03T17:06:54Z",
    "author_association": "NONE",
    "body": "@fjl would be fun to work on that, am happy to help. I made the demo PR mainly to show.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/devp2p/issues/comments/594060441/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/devp2p/issues/comments/595987372",
    "html_url": "https://github.com/ethereum/devp2p/issues/139#issuecomment-595987372",
    "issue_url": "https://api.github.com/repos/ethereum/devp2p/issues/139",
    "id": 595987372,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5NTk4NzM3Mg==",
    "user": {
      "login": "decanus",
      "id": 7621705,
      "node_id": "MDQ6VXNlcjc2MjE3MDU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7621705?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/decanus",
      "html_url": "https://github.com/decanus",
      "followers_url": "https://api.github.com/users/decanus/followers",
      "following_url": "https://api.github.com/users/decanus/following{/other_user}",
      "gists_url": "https://api.github.com/users/decanus/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/decanus/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/decanus/subscriptions",
      "organizations_url": "https://api.github.com/users/decanus/orgs",
      "repos_url": "https://api.github.com/users/decanus/repos",
      "events_url": "https://api.github.com/users/decanus/events{/privacy}",
      "received_events_url": "https://api.github.com/users/decanus/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-06T22:13:39Z",
    "updated_at": "2020-03-06T22:13:39Z",
    "author_association": "NONE",
    "body": "currently wondering if it makes sense at all for RLP or only for packets.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/devp2p/issues/comments/595987372/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/devp2p/issues/comments/596216132",
    "html_url": "https://github.com/ethereum/devp2p/issues/139#issuecomment-596216132",
    "issue_url": "https://api.github.com/repos/ethereum/devp2p/issues/139",
    "id": 596216132,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5NjIxNjEzMg==",
    "user": {
      "login": "fjl",
      "id": 6915,
      "node_id": "MDQ6VXNlcjY5MTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6915?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjl",
      "html_url": "https://github.com/fjl",
      "followers_url": "https://api.github.com/users/fjl/followers",
      "following_url": "https://api.github.com/users/fjl/following{/other_user}",
      "gists_url": "https://api.github.com/users/fjl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fjl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fjl/subscriptions",
      "organizations_url": "https://api.github.com/users/fjl/orgs",
      "repos_url": "https://api.github.com/users/fjl/repos",
      "events_url": "https://api.github.com/users/fjl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fjl/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-08T15:13:47Z",
    "updated_at": "2020-03-08T15:13:47Z",
    "author_association": "MEMBER",
    "body": "If there is a neat way to describe RLP with ABNF, let's go for it. Right now we use `[ x, y, ... ]` notation for RLP lists, and the square brackets mean recursive encoding. This notation works most of the time, but cannot describe the cases where we want to concatenate multiple RLP-encoded values. I used notation like `rlp_bytes(x)` for that ([see here](https://github.com/ethereum/devp2p/blob/master/discv5/discv5-wire.md#packet-encoding)), but it doesn't look nice.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/devp2p/issues/comments/596216132/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/devp2p/issues/comments/596219962",
    "html_url": "https://github.com/ethereum/devp2p/issues/139#issuecomment-596219962",
    "issue_url": "https://api.github.com/repos/ethereum/devp2p/issues/139",
    "id": 596219962,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5NjIxOTk2Mg==",
    "user": {
      "login": "decanus",
      "id": 7621705,
      "node_id": "MDQ6VXNlcjc2MjE3MDU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7621705?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/decanus",
      "html_url": "https://github.com/decanus",
      "followers_url": "https://api.github.com/users/decanus/followers",
      "following_url": "https://api.github.com/users/decanus/following{/other_user}",
      "gists_url": "https://api.github.com/users/decanus/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/decanus/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/decanus/subscriptions",
      "organizations_url": "https://api.github.com/users/decanus/orgs",
      "repos_url": "https://api.github.com/users/decanus/repos",
      "events_url": "https://api.github.com/users/decanus/events{/privacy}",
      "received_events_url": "https://api.github.com/users/decanus/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-08T15:51:52Z",
    "updated_at": "2020-03-08T15:51:52Z",
    "author_association": "NONE",
    "body": "@fjl might make sense to first describe the packets and then attempt to do RLP later on. Would be a good first step imo.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/devp2p/issues/comments/596219962/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/devp2p/issues/comments/596732476",
    "html_url": "https://github.com/ethereum/devp2p/issues/139#issuecomment-596732476",
    "issue_url": "https://api.github.com/repos/ethereum/devp2p/issues/139",
    "id": 596732476,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5NjczMjQ3Ng==",
    "user": {
      "login": "fjl",
      "id": 6915,
      "node_id": "MDQ6VXNlcjY5MTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6915?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjl",
      "html_url": "https://github.com/fjl",
      "followers_url": "https://api.github.com/users/fjl/followers",
      "following_url": "https://api.github.com/users/fjl/following{/other_user}",
      "gists_url": "https://api.github.com/users/fjl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fjl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fjl/subscriptions",
      "organizations_url": "https://api.github.com/users/fjl/orgs",
      "repos_url": "https://api.github.com/users/fjl/repos",
      "events_url": "https://api.github.com/users/fjl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fjl/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-09T19:19:40Z",
    "updated_at": "2020-03-09T19:19:40Z",
    "author_association": "MEMBER",
    "body": "Yes, sounds good to me. Maybe pick one of the specs and convert it to ABNF so we can see what that looks like.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/devp2p/issues/comments/596732476/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/devp2p/issues/comments/638927350",
    "html_url": "https://github.com/ethereum/devp2p/issues/139#issuecomment-638927350",
    "issue_url": "https://api.github.com/repos/ethereum/devp2p/issues/139",
    "id": 638927350,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzODkyNzM1MA==",
    "user": {
      "login": "fjl",
      "id": 6915,
      "node_id": "MDQ6VXNlcjY5MTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6915?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjl",
      "html_url": "https://github.com/fjl",
      "followers_url": "https://api.github.com/users/fjl/followers",
      "following_url": "https://api.github.com/users/fjl/following{/other_user}",
      "gists_url": "https://api.github.com/users/fjl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fjl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fjl/subscriptions",
      "organizations_url": "https://api.github.com/users/fjl/orgs",
      "repos_url": "https://api.github.com/users/fjl/repos",
      "events_url": "https://api.github.com/users/fjl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fjl/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-04T15:32:11Z",
    "updated_at": "2020-06-04T15:33:50Z",
    "author_association": "MEMBER",
    "body": "I've looked at a bunch of ways to describe binary data in the last couple weeks, and the option I liked the most is the notation used in the QUIC spec drafts: https://quicwg.org/base-drafts/draft-ietf-quic-transport.html#section-1.3\r\n\r\nThis notation works great for binary layout descriptions. I like it because it's very 'vertical',  unlike the ABNF variants, which are closer to the 'concatenation formula' style we have now. Example:\r\n\r\n```\r\nExample Structure {\r\n  One-bit Field (1),\r\n  7-bit Field with Fixed Value (7) = 61,\r\n  Field with Variable-Length Integer (i),\r\n  Arbitrary-Length Field (..),\r\n  Variable-Length Field (8..24),\r\n  Field With Minimum Length (16..),\r\n  Field With Maximum Length (..128),\r\n  [Optional Field (64)],\r\n  Repeated Field (8) ...,\r\n}\r\n```\r\n\r\nWhile this works for many things, we still need to keep the formula-style notation for crypto pseudocode. \r\n\r\nWe also still need a way to describe RLP structures in a sane way. The notation we have for RLP purposes is this kind:\r\n\r\n```\r\nx = [list-elem, list-elem, [sublist-elem, ...]]\r\n```\r\n\r\nIt looks very clean, but is always a bit of a challenge because there is no good way to put type/size information into this notation. We also have an RLP notation with types, which we use in the eth protocol spec:\r\n\r\n```\r\nhello = [protocolVersion: P, networkId: P, td: P, bestHash: B_32, genesisHash: B_32, forkID]\r\n```\r\n\r\nBut that one was never formally described anywhere and I don't even remember what all the letters mean.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/devp2p/issues/comments/638927350/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
