{
  "url": "https://api.github.com/repos/ethereum/devp2p/issues/109",
  "repository_url": "https://api.github.com/repos/ethereum/devp2p",
  "labels_url": "https://api.github.com/repos/ethereum/devp2p/issues/109/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/devp2p/issues/109/comments",
  "events_url": "https://api.github.com/repos/ethereum/devp2p/issues/109/events",
  "html_url": "https://github.com/ethereum/devp2p/issues/109",
  "id": 477310714,
  "node_id": "MDU6SXNzdWU0NzczMTA3MTQ=",
  "number": 109,
  "title": "discv5: collect more eclipse attack countermeasures",
  "user": {
    "login": "FrankSzendzielarz",
    "id": 33515470,
    "node_id": "MDQ6VXNlcjMzNTE1NDcw",
    "avatar_url": "https://avatars.githubusercontent.com/u/33515470?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/FrankSzendzielarz",
    "html_url": "https://github.com/FrankSzendzielarz",
    "followers_url": "https://api.github.com/users/FrankSzendzielarz/followers",
    "following_url": "https://api.github.com/users/FrankSzendzielarz/following{/other_user}",
    "gists_url": "https://api.github.com/users/FrankSzendzielarz/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/FrankSzendzielarz/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/FrankSzendzielarz/subscriptions",
    "organizations_url": "https://api.github.com/users/FrankSzendzielarz/orgs",
    "repos_url": "https://api.github.com/users/FrankSzendzielarz/repos",
    "events_url": "https://api.github.com/users/FrankSzendzielarz/events{/privacy}",
    "received_events_url": "https://api.github.com/users/FrankSzendzielarz/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": {
    "url": "https://api.github.com/repos/ethereum/devp2p/milestones/3",
    "html_url": "https://github.com/ethereum/devp2p/milestone/3",
    "labels_url": "https://api.github.com/repos/ethereum/devp2p/milestones/3/labels",
    "id": 5938443,
    "node_id": "MDk6TWlsZXN0b25lNTkzODQ0Mw==",
    "number": 3,
    "title": "Discovery v5.2",
    "description": null,
    "creator": {
      "login": "fjl",
      "id": 6915,
      "node_id": "MDQ6VXNlcjY5MTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6915?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjl",
      "html_url": "https://github.com/fjl",
      "followers_url": "https://api.github.com/users/fjl/followers",
      "following_url": "https://api.github.com/users/fjl/following{/other_user}",
      "gists_url": "https://api.github.com/users/fjl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fjl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fjl/subscriptions",
      "organizations_url": "https://api.github.com/users/fjl/orgs",
      "repos_url": "https://api.github.com/users/fjl/repos",
      "events_url": "https://api.github.com/users/fjl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fjl/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 7,
    "closed_issues": 0,
    "state": "open",
    "created_at": "2020-10-01T12:45:21Z",
    "updated_at": "2023-03-31T09:19:42Z",
    "due_on": null,
    "closed_at": null
  },
  "comments": 6,
  "created_at": "2019-08-06T10:54:22Z",
  "updated_at": "2023-11-20T10:46:22Z",
  "closed_at": null,
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "The eclipse attack texts deletes the previous information and references to the \"Bound-LogIDforPhyIDSrc\" in this paper https://engineering.purdue.edu/~isl/TR-EE-07-13.pdf \r\n\r\nInstead, the text now makes a general suggestion to limit /24 subnet IPs by bucket and table. \r\n\r\nBoth approaches have their limitations. In the former case, it is difficult to establish what the correct weighting of per-learned-from-source should be, and with the latter I feel a determined attacker may still be able to take advantage of delays in the node verification schedule to propagate junk around a target and with self-propagation.\r\n\r\nI would prefer if the implementation recommendation was more agnostic about how these attacks should be mitigated, while proposing multiple strategies and referring to the papers.\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/devp2p/issues/109/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/devp2p/issues/109/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ethereum/devp2p/issues/comments/584109641",
    "html_url": "https://github.com/ethereum/devp2p/issues/109#issuecomment-584109641",
    "issue_url": "https://api.github.com/repos/ethereum/devp2p/issues/109",
    "id": 584109641,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU4NDEwOTY0MQ==",
    "user": {
      "login": "fjl",
      "id": 6915,
      "node_id": "MDQ6VXNlcjY5MTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6915?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjl",
      "html_url": "https://github.com/fjl",
      "followers_url": "https://api.github.com/users/fjl/followers",
      "following_url": "https://api.github.com/users/fjl/following{/other_user}",
      "gists_url": "https://api.github.com/users/fjl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fjl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fjl/subscriptions",
      "organizations_url": "https://api.github.com/users/fjl/orgs",
      "repos_url": "https://api.github.com/users/fjl/repos",
      "events_url": "https://api.github.com/users/fjl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fjl/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-02-10T12:57:28Z",
    "updated_at": "2020-02-10T13:09:13Z",
    "author_association": "MEMBER",
    "body": "One countermeasure often recommended in literature is proof-of-work. We have a separate issue for that: #122.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/devp2p/issues/comments/584109641/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/devp2p/issues/comments/584111491",
    "html_url": "https://github.com/ethereum/devp2p/issues/109#issuecomment-584111491",
    "issue_url": "https://api.github.com/repos/ethereum/devp2p/issues/109",
    "id": 584111491,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU4NDExMTQ5MQ==",
    "user": {
      "login": "fjl",
      "id": 6915,
      "node_id": "MDQ6VXNlcjY5MTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6915?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjl",
      "html_url": "https://github.com/fjl",
      "followers_url": "https://api.github.com/users/fjl/followers",
      "following_url": "https://api.github.com/users/fjl/following{/other_user}",
      "gists_url": "https://api.github.com/users/fjl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fjl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fjl/subscriptions",
      "organizations_url": "https://api.github.com/users/fjl/orgs",
      "repos_url": "https://api.github.com/users/fjl/repos",
      "events_url": "https://api.github.com/users/fjl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fjl/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-02-10T13:02:21Z",
    "updated_at": "2020-02-10T13:06:40Z",
    "author_association": "MEMBER",
    "body": "Just found another very interesting approach, described in [this paper](https://hal.inria.fr/inria-00490509/file/HotP2P10-KAD_DHT_attack_mitigation-cholez.pdf) (also see [slides](http://www.ipdps.org/ipdps2010/ipdps2010-slides/HOTP2P/HotP2P_DHT_attack_mitigation_Cholez.pdf) for an overview.\r\n\r\nThe idea is simple: during lookup activity, track node ID distribution. Since node IDs are uniformly distributed across the entire ID number space, any deviations from the regular distribution are malicious and those nodes should be ignored.\r\n\r\nFound this while browsing [gtk-gnutella source code](https://github.com/gtk-gnutella/gtk-gnutella/blob/44e87acf49adcf30affc654c95bdd9f97db40540/src/dht/lookup.c#L107).",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/devp2p/issues/comments/584111491/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/devp2p/issues/comments/705138651",
    "html_url": "https://github.com/ethereum/devp2p/issues/109#issuecomment-705138651",
    "issue_url": "https://api.github.com/repos/ethereum/devp2p/issues/109",
    "id": 705138651,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcwNTEzODY1MQ==",
    "user": {
      "login": "fjl",
      "id": 6915,
      "node_id": "MDQ6VXNlcjY5MTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6915?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjl",
      "html_url": "https://github.com/fjl",
      "followers_url": "https://api.github.com/users/fjl/followers",
      "following_url": "https://api.github.com/users/fjl/following{/other_user}",
      "gists_url": "https://api.github.com/users/fjl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fjl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fjl/subscriptions",
      "organizations_url": "https://api.github.com/users/fjl/orgs",
      "repos_url": "https://api.github.com/users/fjl/repos",
      "events_url": "https://api.github.com/users/fjl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fjl/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-10-07T19:12:17Z",
    "updated_at": "2020-10-07T19:12:17Z",
    "author_association": "MEMBER",
    "body": "I still want to add the above thing to the spec and try it out in implementation.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/devp2p/issues/comments/705138651/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/devp2p/issues/comments/1818610055",
    "html_url": "https://github.com/ethereum/devp2p/issues/109#issuecomment-1818610055",
    "issue_url": "https://api.github.com/repos/ethereum/devp2p/issues/109",
    "id": 1818610055,
    "node_id": "IC_kwDOAcJRYs5sZcmH",
    "user": {
      "login": "contrun",
      "id": 32609395,
      "node_id": "MDQ6VXNlcjMyNjA5Mzk1",
      "avatar_url": "https://avatars.githubusercontent.com/u/32609395?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/contrun",
      "html_url": "https://github.com/contrun",
      "followers_url": "https://api.github.com/users/contrun/followers",
      "following_url": "https://api.github.com/users/contrun/following{/other_user}",
      "gists_url": "https://api.github.com/users/contrun/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/contrun/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/contrun/subscriptions",
      "organizations_url": "https://api.github.com/users/contrun/orgs",
      "repos_url": "https://api.github.com/users/contrun/repos",
      "events_url": "https://api.github.com/users/contrun/events{/privacy}",
      "received_events_url": "https://api.github.com/users/contrun/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-11-20T09:33:42Z",
    "updated_at": "2023-11-20T09:33:42Z",
    "author_association": "NONE",
    "body": "> Just found another very interesting approach, described in [this paper](https://hal.inria.fr/inria-00490509/file/HotP2P10-KAD_DHT_attack_mitigation-cholez.pdf) (also see [slides](http://www.ipdps.org/ipdps2010/ipdps2010-slides/HOTP2P/HotP2P_DHT_attack_mitigation_Cholez.pdf) for an overview.\r\n> \r\n> The idea is simple: during lookup activity, track node ID distribution. Since node IDs are uniformly distributed across the entire ID number space, any deviations from the regular distribution are malicious and those nodes should be ignored.\r\n> \r\n> Found this while browsing [gtk-gnutella source code](https://github.com/gtk-gnutella/gtk-gnutella/blob/44e87acf49adcf30affc654c95bdd9f97db40540/src/dht/lookup.c#L107).\r\n\r\nI don't think this countermeasure is effective in discv5. This countermeasure is needed because attackers can choose whatever node ID closer to the target in the DHT network like emule, while in discv5 the node ID is actually a hash digest. The attacker has no way to effectively choose node ID closer to the targets.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/devp2p/issues/comments/1818610055/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/devp2p/issues/comments/1818752261",
    "html_url": "https://github.com/ethereum/devp2p/issues/109#issuecomment-1818752261",
    "issue_url": "https://api.github.com/repos/ethereum/devp2p/issues/109",
    "id": 1818752261,
    "node_id": "IC_kwDOAcJRYs5sZ_UF",
    "user": {
      "login": "kdeme",
      "id": 7857583,
      "node_id": "MDQ6VXNlcjc4NTc1ODM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7857583?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kdeme",
      "html_url": "https://github.com/kdeme",
      "followers_url": "https://api.github.com/users/kdeme/followers",
      "following_url": "https://api.github.com/users/kdeme/following{/other_user}",
      "gists_url": "https://api.github.com/users/kdeme/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kdeme/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kdeme/subscriptions",
      "organizations_url": "https://api.github.com/users/kdeme/orgs",
      "repos_url": "https://api.github.com/users/kdeme/repos",
      "events_url": "https://api.github.com/users/kdeme/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kdeme/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-11-20T10:14:48Z",
    "updated_at": "2023-11-20T10:14:48Z",
    "author_association": "NONE",
    "body": "> The attacker has no way to effectively choose node ID closer to the targets.\r\n\r\nWhile more costly, the attacker can still \"mine\" for those node IDs.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/devp2p/issues/comments/1818752261/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/devp2p/issues/comments/1818805902",
    "html_url": "https://github.com/ethereum/devp2p/issues/109#issuecomment-1818805902",
    "issue_url": "https://api.github.com/repos/ethereum/devp2p/issues/109",
    "id": 1818805902,
    "node_id": "IC_kwDOAcJRYs5saMaO",
    "user": {
      "login": "contrun",
      "id": 32609395,
      "node_id": "MDQ6VXNlcjMyNjA5Mzk1",
      "avatar_url": "https://avatars.githubusercontent.com/u/32609395?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/contrun",
      "html_url": "https://github.com/contrun",
      "followers_url": "https://api.github.com/users/contrun/followers",
      "following_url": "https://api.github.com/users/contrun/following{/other_user}",
      "gists_url": "https://api.github.com/users/contrun/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/contrun/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/contrun/subscriptions",
      "organizations_url": "https://api.github.com/users/contrun/orgs",
      "repos_url": "https://api.github.com/users/contrun/repos",
      "events_url": "https://api.github.com/users/contrun/events{/privacy}",
      "received_events_url": "https://api.github.com/users/contrun/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-11-20T10:46:21Z",
    "updated_at": "2023-11-20T10:46:21Z",
    "author_association": "NONE",
    "body": "> > The attacker has no way to effectively choose node ID closer to the targets.\r\n> \r\n> While more costly, the attacker can still \"mine\" for those node IDs.\r\n\r\nFair point.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/devp2p/issues/comments/1818805902/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
