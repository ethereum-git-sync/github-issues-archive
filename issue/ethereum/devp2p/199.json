{
  "url": "https://api.github.com/repos/ethereum/devp2p/issues/199",
  "repository_url": "https://api.github.com/repos/ethereum/devp2p",
  "labels_url": "https://api.github.com/repos/ethereum/devp2p/issues/199/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/devp2p/issues/199/comments",
  "events_url": "https://api.github.com/repos/ethereum/devp2p/issues/199/events",
  "html_url": "https://github.com/ethereum/devp2p/issues/199",
  "id": 1157633652,
  "node_id": "I_kwDOAcJRYs5FABZ0",
  "number": 199,
  "title": "discv5 topic discovery: efficiency vs resilience tradeoff",
  "user": {
    "login": "kaiserd",
    "id": 1684595,
    "node_id": "MDQ6VXNlcjE2ODQ1OTU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1684595?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/kaiserd",
    "html_url": "https://github.com/kaiserd",
    "followers_url": "https://api.github.com/users/kaiserd/followers",
    "following_url": "https://api.github.com/users/kaiserd/following{/other_user}",
    "gists_url": "https://api.github.com/users/kaiserd/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/kaiserd/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/kaiserd/subscriptions",
    "organizations_url": "https://api.github.com/users/kaiserd/orgs",
    "repos_url": "https://api.github.com/users/kaiserd/repos",
    "events_url": "https://api.github.com/users/kaiserd/events{/privacy}",
    "received_events_url": "https://api.github.com/users/kaiserd/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2022-03-02T20:04:09Z",
  "updated_at": "2022-03-14T16:56:47Z",
  "closed_at": "2022-03-14T13:01:05Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "[Discv5 topic discovery](https://github.com/ethereum/devp2p/blob/master/discv5/discv5-theory.md) uses `topic radius` as a compromise between efficiency and resilience against eclipse attacks.\r\nI was wondering if topic providers could gain both query efficiency and resilience by placing advertisements at several nodes in ranges of increasing size.\r\nMaybe it would be sufficient to do this without estimating an optimal radius.\r\nTopic providers could start these advertisements in parallel.\r\n\r\nFurther, topic providers could additionally advertise respective topics as extra fields in their ENRs. This corresponds to advertising topics at radius $2^256$ basically for free, adding additional resilience.\r\n",
  "closed_by": {
    "login": "fjl",
    "id": 6915,
    "node_id": "MDQ6VXNlcjY5MTU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6915?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/fjl",
    "html_url": "https://github.com/fjl",
    "followers_url": "https://api.github.com/users/fjl/followers",
    "following_url": "https://api.github.com/users/fjl/following{/other_user}",
    "gists_url": "https://api.github.com/users/fjl/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/fjl/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/fjl/subscriptions",
    "organizations_url": "https://api.github.com/users/fjl/orgs",
    "repos_url": "https://api.github.com/users/fjl/repos",
    "events_url": "https://api.github.com/users/fjl/events{/privacy}",
    "received_events_url": "https://api.github.com/users/fjl/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/devp2p/issues/199/reactions",
    "total_count": 1,
    "+1": 1,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/devp2p/issues/199/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/devp2p/issues/comments/1057844517",
    "html_url": "https://github.com/ethereum/devp2p/issues/199#issuecomment-1057844517",
    "issue_url": "https://api.github.com/repos/ethereum/devp2p/issues/199",
    "id": 1057844517,
    "node_id": "IC_kwDOAcJRYs4_DW0l",
    "user": {
      "login": "fjl",
      "id": 6915,
      "node_id": "MDQ6VXNlcjY5MTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6915?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjl",
      "html_url": "https://github.com/fjl",
      "followers_url": "https://api.github.com/users/fjl/followers",
      "following_url": "https://api.github.com/users/fjl/following{/other_user}",
      "gists_url": "https://api.github.com/users/fjl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fjl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fjl/subscriptions",
      "organizations_url": "https://api.github.com/users/fjl/orgs",
      "repos_url": "https://api.github.com/users/fjl/repos",
      "events_url": "https://api.github.com/users/fjl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fjl/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-03-03T09:26:19Z",
    "updated_at": "2022-03-03T09:26:19Z",
    "author_association": "MEMBER",
    "body": "Hi,\r\n\r\nthe topic system is still in the design phase, and a lot of research has happened since the text that's in the spec now was written. In our current research prototype, the concept of 'topic radius' has been removed. I'm in the last stages of completing the prototype and will update the spec soon.\r\n\r\nIf you are in interested, you can check out our research at\r\n\r\n- https://github.com/harnen/service-discovery-paper\r\n- https://github.com/datahop/p2p-service-discovery",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/devp2p/issues/comments/1057844517/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/devp2p/issues/comments/1058052104",
    "html_url": "https://github.com/ethereum/devp2p/issues/199#issuecomment-1058052104",
    "issue_url": "https://api.github.com/repos/ethereum/devp2p/issues/199",
    "id": 1058052104,
    "node_id": "IC_kwDOAcJRYs4_EJgI",
    "user": {
      "login": "kaiserd",
      "id": 1684595,
      "node_id": "MDQ6VXNlcjE2ODQ1OTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1684595?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kaiserd",
      "html_url": "https://github.com/kaiserd",
      "followers_url": "https://api.github.com/users/kaiserd/followers",
      "following_url": "https://api.github.com/users/kaiserd/following{/other_user}",
      "gists_url": "https://api.github.com/users/kaiserd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kaiserd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kaiserd/subscriptions",
      "organizations_url": "https://api.github.com/users/kaiserd/orgs",
      "repos_url": "https://api.github.com/users/kaiserd/repos",
      "events_url": "https://api.github.com/users/kaiserd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kaiserd/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-03-03T13:40:35Z",
    "updated_at": "2022-03-03T13:40:35Z",
    "author_association": "NONE",
    "body": "Thank you very much :)! I will read the documents you provided and come back.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/devp2p/issues/comments/1058052104/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/devp2p/issues/comments/1066170540",
    "html_url": "https://github.com/ethereum/devp2p/issues/199#issuecomment-1066170540",
    "issue_url": "https://api.github.com/repos/ethereum/devp2p/issues/199",
    "id": 1066170540,
    "node_id": "IC_kwDOAcJRYs4_jHis",
    "user": {
      "login": "kaiserd",
      "id": 1684595,
      "node_id": "MDQ6VXNlcjE2ODQ1OTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1684595?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kaiserd",
      "html_url": "https://github.com/kaiserd",
      "followers_url": "https://api.github.com/users/kaiserd/followers",
      "following_url": "https://api.github.com/users/kaiserd/following{/other_user}",
      "gists_url": "https://api.github.com/users/kaiserd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kaiserd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kaiserd/subscriptions",
      "organizations_url": "https://api.github.com/users/kaiserd/orgs",
      "repos_url": "https://api.github.com/users/kaiserd/repos",
      "events_url": "https://api.github.com/users/kaiserd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kaiserd/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-03-13T19:54:08Z",
    "updated_at": "2022-03-13T19:54:39Z",
    "author_association": "NONE",
    "body": "The topic tables proposed in the paper are very similar to what I suggested. So, the problem I described is already covered :). Thank you :).\r\n[Waku v2](https://wakunetwork.com/) could be mentioned as one of the applications benefiting from the enhanced discv5 proposed in the paper; this could further strengthen the motivation.\r\nI will write a PR with things that came to my mind while reading the paper (and a few typo fixes etc); maybe this is helpful.\r\n\r\nOne more question @fjl regarding discovery efficiency:\r\nWhat is your suggestion for integrating resource restricted devices (e.g. Browser apps, mobile devices) into the discovery process?\r\nDo you envision them being part of discv5 maintaining a routing table or rather just directly query more stable nodes participating in discv5?\r\n(We are planning to specify a `peer-exchange` protocol that allows restricted devices to retrieve random node sets from nodes actively participating in discv5. Resource restricted devices learn about nodes actively participating in discv5 via DNS discovery.\r\nAs opposed to directly using nodes learned via DNS as entry points to the target protocol (e.g. Waku relay), asking them for random node sets which are in turn retrieved via discv5 helps load balancing.)",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/devp2p/issues/comments/1066170540/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/devp2p/issues/comments/1066756334",
    "html_url": "https://github.com/ethereum/devp2p/issues/199#issuecomment-1066756334",
    "issue_url": "https://api.github.com/repos/ethereum/devp2p/issues/199",
    "id": 1066756334,
    "node_id": "IC_kwDOAcJRYs4_lWju",
    "user": {
      "login": "fjl",
      "id": 6915,
      "node_id": "MDQ6VXNlcjY5MTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6915?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fjl",
      "html_url": "https://github.com/fjl",
      "followers_url": "https://api.github.com/users/fjl/followers",
      "following_url": "https://api.github.com/users/fjl/following{/other_user}",
      "gists_url": "https://api.github.com/users/fjl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fjl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fjl/subscriptions",
      "organizations_url": "https://api.github.com/users/fjl/orgs",
      "repos_url": "https://api.github.com/users/fjl/repos",
      "events_url": "https://api.github.com/users/fjl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fjl/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-03-14T13:01:05Z",
    "updated_at": "2022-03-14T13:02:14Z",
    "author_association": "MEMBER",
    "body": "Regarding the paper, we are still working on it.\r\n\r\nWhen you ask about browsers, what do you have in mind specifically? Browsers cannot participate in discv5 because they cannot speak the UDP protocol. Browsers usually don't have anything to offer to the network, they can only leech, and if they would advertise services, the service availability would be short-lived. For these reasons, I am not interested in adding browser support in this system.\r\n\r\nIt's a bit different with mobile devices. I think it is possible to run discv5 directly on mobile phones, the protocol is not that resource-hungry.\r\n\r\nOne thing that I'm interested in adding is explicit support for NAT traversal. Right now, nodes using discv5 can learn about their own internet-facing IP/port using the protocol, but if the NAT is not full-cone, others will not be able to connect to it. It would be very nice if the protocol also provided a way to pierce the NAT in this case. I'm not open to adding packet relay though. From your GitHub activity, I can see that you have worked in this area before. Maybe this topic could be interesting for you to work on?\r\n\r\nI'll close this issue now because the original question is kind of answered. Feel free to create another issue for the next topic or ask more questions here.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/devp2p/issues/comments/1066756334/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/devp2p/issues/comments/1067060950",
    "html_url": "https://github.com/ethereum/devp2p/issues/199#issuecomment-1067060950",
    "issue_url": "https://api.github.com/repos/ethereum/devp2p/issues/199",
    "id": 1067060950,
    "node_id": "IC_kwDOAcJRYs4_mg7W",
    "user": {
      "login": "kaiserd",
      "id": 1684595,
      "node_id": "MDQ6VXNlcjE2ODQ1OTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1684595?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kaiserd",
      "html_url": "https://github.com/kaiserd",
      "followers_url": "https://api.github.com/users/kaiserd/followers",
      "following_url": "https://api.github.com/users/kaiserd/following{/other_user}",
      "gists_url": "https://api.github.com/users/kaiserd/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kaiserd/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kaiserd/subscriptions",
      "organizations_url": "https://api.github.com/users/kaiserd/orgs",
      "repos_url": "https://api.github.com/users/kaiserd/repos",
      "events_url": "https://api.github.com/users/kaiserd/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kaiserd/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-03-14T16:56:29Z",
    "updated_at": "2022-03-14T16:56:47Z",
    "author_association": "NONE",
    "body": "Yes. Thank you. The issue is covered by the new research :).\r\n\r\nRegarding browsers, I was thinking about [portal](https://github.com/ethereum/portal-network-specs/issues/71), and [this](https://github.com/acolytec3/ultralight-browser-client)  discv5 browser implementation.\r\n\r\nYes, I did some NAT related stuff some time ago :). I will have a look and put this as an open issue in our roadmap.\r\n(most of the things (not NAT related) I worked on are on internal University gitlab instances though 😅).\r\n\r\nI opened a [PR](https://github.com/harnen/service-discovery-paper/pull/5) with some comments on the paper's git repo.\r\nAs I said there, I could add an estimation of the cost (in expected overlay hops) of random-walk discovery in relation to topic and network size.\r\nWe would like to use the new topic discovery for Waku v2 in the future :).\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/devp2p/issues/comments/1067060950/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
