{
  "url": "https://api.github.com/repos/ethereum/yellowpaper/issues/364",
  "repository_url": "https://api.github.com/repos/ethereum/yellowpaper",
  "labels_url": "https://api.github.com/repos/ethereum/yellowpaper/issues/364/labels{/name}",
  "comments_url": "https://api.github.com/repos/ethereum/yellowpaper/issues/364/comments",
  "events_url": "https://api.github.com/repos/ethereum/yellowpaper/issues/364/events",
  "html_url": "https://github.com/ethereum/yellowpaper/issues/364",
  "id": 261815238,
  "node_id": "MDU6SXNzdWUyNjE4MTUyMzg=",
  "number": 364,
  "title": "The Yellow Paper allows future blocks, but is it intended or not?",
  "user": {
    "login": "ghost",
    "id": 10137,
    "node_id": "MDQ6VXNlcjEwMTM3",
    "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ghost",
    "html_url": "https://github.com/ghost",
    "followers_url": "https://api.github.com/users/ghost/followers",
    "following_url": "https://api.github.com/users/ghost/following{/other_user}",
    "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
    "organizations_url": "https://api.github.com/users/ghost/orgs",
    "repos_url": "https://api.github.com/users/ghost/repos",
    "events_url": "https://api.github.com/users/ghost/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ghost/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2017-09-30T03:47:36Z",
  "updated_at": "2017-10-01T13:52:58Z",
  "closed_at": "2017-10-01T13:52:58Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "According to [_the Yellow Paper_](http://yellowpaper.io/), the restrictions on block timestamps, H<sub>s</sub>, are,\r\n\r\n - H<sub>s</sub> ∈ ℙ<sub>256</sub> (Mathematical term <sup>#</sup>35) ― ①,\r\n - and H<sub>s</sub> > P(H)<sub>H<sub>s</sub></sub> (Mathematical term <sup>#</sup>48 and <sup>#</sup>56) ― ②,\r\n\r\nwhere P(H)<sub>H<sub>s</sub></sub> is the parent (previous) block's timestamp, and ℙ<sub>256</sub> is a set of natural numbers less than 2<sup>256</sup>.\r\n\r\nIt seems [_the Yellow Paper_](http://yellowpaper.io/) allows _future blocks_ (blocks that have a future timestamp) ― ③, as there's no restriction apart from ① and ②.\r\n\r\nIs it (③) intended, or is it an error on [_the Yellow Paper_](http://yellowpaper.io/)?\r\nIf latter, it would cause **_Consensus problem_** between the implementations and should be fixed quickly.\r\n\r\nIf there's something I missed or was wrong above, please let me know.\r\n\r\n<sub>This is asked also [here](https://ethereum.stackexchange.com/questions/27485/how-do-ethereum-clients-cope-with-future-blocks).</sub>",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ethereum/yellowpaper/issues/364/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ethereum/yellowpaper/issues/364/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ethereum/yellowpaper/issues/comments/333282878",
    "html_url": "https://github.com/ethereum/yellowpaper/issues/364#issuecomment-333282878",
    "issue_url": "https://api.github.com/repos/ethereum/yellowpaper/issues/364",
    "id": 333282878,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMzI4Mjg3OA==",
    "user": {
      "login": "tjayrush",
      "id": 5417918,
      "node_id": "MDQ6VXNlcjU0MTc5MTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5417918?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tjayrush",
      "html_url": "https://github.com/tjayrush",
      "followers_url": "https://api.github.com/users/tjayrush/followers",
      "following_url": "https://api.github.com/users/tjayrush/following{/other_user}",
      "gists_url": "https://api.github.com/users/tjayrush/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tjayrush/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tjayrush/subscriptions",
      "organizations_url": "https://api.github.com/users/tjayrush/orgs",
      "repos_url": "https://api.github.com/users/tjayrush/repos",
      "events_url": "https://api.github.com/users/tjayrush/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tjayrush/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-30T04:38:48Z",
    "updated_at": "2017-09-30T04:38:48Z",
    "author_association": "NONE",
    "body": "The restriction here is that the current block's timestamp must be at least its parent's timestamp plus one second. It doesn't imply anything about how far in the future it is as far as I can see.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/yellowpaper/issues/comments/333282878/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/yellowpaper/issues/comments/333283002",
    "html_url": "https://github.com/ethereum/yellowpaper/issues/364#issuecomment-333283002",
    "issue_url": "https://api.github.com/repos/ethereum/yellowpaper/issues/364",
    "id": 333283002,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMzI4MzAwMg==",
    "user": {
      "login": "ghost",
      "id": 10137,
      "node_id": "MDQ6VXNlcjEwMTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ghost",
      "html_url": "https://github.com/ghost",
      "followers_url": "https://api.github.com/users/ghost/followers",
      "following_url": "https://api.github.com/users/ghost/following{/other_user}",
      "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
      "organizations_url": "https://api.github.com/users/ghost/orgs",
      "repos_url": "https://api.github.com/users/ghost/repos",
      "events_url": "https://api.github.com/users/ghost/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ghost/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-30T04:42:07Z",
    "updated_at": "2017-09-30T04:56:09Z",
    "author_association": "NONE",
    "body": "@tjayrush Yes, and that's exactly what I understood with [_the Yellow Paper_](http://yellowpaper.io/).\r\nWhat I want to ask is whether it is intended (so not a problem) or not.\r\n\r\nFor example, when a block whose timestamp is (2<sup>256</sup>－1) is broadcasted, is it intended (_“right”_) behavior for _Ethereum_ clients to accept it as a valid block?",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/yellowpaper/issues/comments/333283002/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/yellowpaper/issues/comments/333289707",
    "html_url": "https://github.com/ethereum/yellowpaper/issues/364#issuecomment-333289707",
    "issue_url": "https://api.github.com/repos/ethereum/yellowpaper/issues/364",
    "id": 333289707,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMzI4OTcwNw==",
    "user": {
      "login": "ghost",
      "id": 10137,
      "node_id": "MDQ6VXNlcjEwMTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ghost",
      "html_url": "https://github.com/ghost",
      "followers_url": "https://api.github.com/users/ghost/followers",
      "following_url": "https://api.github.com/users/ghost/following{/other_user}",
      "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
      "organizations_url": "https://api.github.com/users/ghost/orgs",
      "repos_url": "https://api.github.com/users/ghost/repos",
      "events_url": "https://api.github.com/users/ghost/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ghost/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-30T07:12:46Z",
    "updated_at": "2017-09-30T08:03:41Z",
    "author_association": "NONE",
    "body": "I'm curious about how _geth_ and _eth_ implemented it.\r\nDo they really accept **any** _future blocks_ like _the Yellow Paper_'s one?\r\nHmm, guessing is enough, and now I'm struggling with the source code, anyway..",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/yellowpaper/issues/comments/333289707/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ethereum/yellowpaper/issues/comments/333377883",
    "html_url": "https://github.com/ethereum/yellowpaper/issues/364#issuecomment-333377883",
    "issue_url": "https://api.github.com/repos/ethereum/yellowpaper/issues/364",
    "id": 333377883,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMzM3Nzg4Mw==",
    "user": {
      "login": "ghost",
      "id": 10137,
      "node_id": "MDQ6VXNlcjEwMTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ghost",
      "html_url": "https://github.com/ghost",
      "followers_url": "https://api.github.com/users/ghost/followers",
      "following_url": "https://api.github.com/users/ghost/following{/other_user}",
      "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
      "organizations_url": "https://api.github.com/users/ghost/orgs",
      "repos_url": "https://api.github.com/users/ghost/repos",
      "events_url": "https://api.github.com/users/ghost/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ghost/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-01T13:49:08Z",
    "updated_at": "2017-10-01T13:52:48Z",
    "author_association": "NONE",
    "body": "Done. [I read the source code of _Eth_, _Geth_, _Parity_, _pyethapp_.](https://github.com/wlzla000/understanding-ethereum/blob/master/Ethereum/FutureBlockHandling.md)\r\n- _Eth_ keeps _future blocks_ (in `m_future` map object) and later process them at the time specified in the timestamp.\r\n- _Geth_ and _Parity_ accept _future blocks_, but only maximum 30 seconds future ones. Otherwise, discard. _So clever._\r\n\r\nIf they were naïve clients, so implemented the block timestamp validation with only the restrictions on _the Yellow Paper_, they would have integer overflow vulnerabilities lead to DoS. :)\r\n\r\n----------\r\n\r\nHmm, it seems there's no need to modify that part on _the Yellow Paper_, I think.",
    "reactions": {
      "url": "https://api.github.com/repos/ethereum/yellowpaper/issues/comments/333377883/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
