{
  "url": "https://api.github.com/repos/flashbots/mev-boost/issues/472",
  "repository_url": "https://api.github.com/repos/flashbots/mev-boost",
  "labels_url": "https://api.github.com/repos/flashbots/mev-boost/issues/472/labels{/name}",
  "comments_url": "https://api.github.com/repos/flashbots/mev-boost/issues/472/comments",
  "events_url": "https://api.github.com/repos/flashbots/mev-boost/issues/472/events",
  "html_url": "https://github.com/flashbots/mev-boost/issues/472",
  "id": 1624520396,
  "node_id": "I_kwDOGZSKs85g1DbM",
  "number": 472,
  "title": "Decode signed blinded beacon block with consensus version header ",
  "user": {
    "login": "jimmygchen",
    "id": 742762,
    "node_id": "MDQ6VXNlcjc0Mjc2Mg==",
    "avatar_url": "https://avatars.githubusercontent.com/u/742762?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jimmygchen",
    "html_url": "https://github.com/jimmygchen",
    "followers_url": "https://api.github.com/users/jimmygchen/followers",
    "following_url": "https://api.github.com/users/jimmygchen/following{/other_user}",
    "gists_url": "https://api.github.com/users/jimmygchen/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jimmygchen/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jimmygchen/subscriptions",
    "organizations_url": "https://api.github.com/users/jimmygchen/orgs",
    "repos_url": "https://api.github.com/users/jimmygchen/repos",
    "events_url": "https://api.github.com/users/jimmygchen/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jimmygchen/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 3559229523,
      "node_id": "LA_kwDOGZSKs87UJYhT",
      "url": "https://api.github.com/repos/flashbots/mev-boost/labels/enhancement",
      "name": "enhancement",
      "color": "a2eeef",
      "default": true,
      "description": "New feature or request"
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2023-03-15T00:46:16Z",
  "updated_at": "2023-05-17T20:42:39Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "In the latest builder spec (0.3.0), [the `submitBlindedBlock` endpoint](https://github.com/ethereum/builder-specs/blob/main/apis/builder/blinded_blocks.yaml#L19) adds an additional (optional) `Eth-Consensus-Version` request header, which has the fork name as value. This was added so that the receiver could use this information to deseralize the request body easily.\r\n\r\n`mev-boost` currently tries to decode using Capella, and then falls back to Bellatrix if it fails. The newly added version header could be utilised here to avoid the decode attempts and potentially catch errors like invalid payload for the fork.\r\n\r\nhttps://github.com/flashbots/mev-boost/blob/main/server/service.go#L697-L709",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/flashbots/mev-boost/issues/472/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/flashbots/mev-boost/issues/472/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/flashbots/mev-boost/issues/comments/1489804913",
    "html_url": "https://github.com/flashbots/mev-boost/issues/472#issuecomment-1489804913",
    "issue_url": "https://api.github.com/repos/flashbots/mev-boost/issues/472",
    "id": 1489804913,
    "node_id": "IC_kwDOGZSKs85YzJ5x",
    "user": {
      "login": "ralexstokes",
      "id": 3113781,
      "node_id": "MDQ6VXNlcjMxMTM3ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3113781?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ralexstokes",
      "html_url": "https://github.com/ralexstokes",
      "followers_url": "https://api.github.com/users/ralexstokes/followers",
      "following_url": "https://api.github.com/users/ralexstokes/following{/other_user}",
      "gists_url": "https://api.github.com/users/ralexstokes/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ralexstokes/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ralexstokes/subscriptions",
      "organizations_url": "https://api.github.com/users/ralexstokes/orgs",
      "repos_url": "https://api.github.com/users/ralexstokes/repos",
      "events_url": "https://api.github.com/users/ralexstokes/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ralexstokes/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-03-30T07:09:26Z",
    "updated_at": "2023-03-30T07:09:26Z",
    "author_association": "COLLABORATOR",
    "body": "this information is only good for the receiver of this API, aka the relay\r\n\r\nso relays could detect if this header is available and accept the hint for decoding\r\n\r\nbut this doesn't really help mev-boost... if the caller of this endpoint wants more precision, they can read the JSON text to get the `version` and use that to dispatch which deserialization routine to call for the attached `data`",
    "reactions": {
      "url": "https://api.github.com/repos/flashbots/mev-boost/issues/comments/1489804913/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/flashbots/mev-boost/issues/comments/1489824142",
    "html_url": "https://github.com/flashbots/mev-boost/issues/472#issuecomment-1489824142",
    "issue_url": "https://api.github.com/repos/flashbots/mev-boost/issues/472",
    "id": 1489824142,
    "node_id": "IC_kwDOGZSKs85YzOmO",
    "user": {
      "login": "metachris",
      "id": 116939,
      "node_id": "MDQ6VXNlcjExNjkzOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/116939?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/metachris",
      "html_url": "https://github.com/metachris",
      "followers_url": "https://api.github.com/users/metachris/followers",
      "following_url": "https://api.github.com/users/metachris/following{/other_user}",
      "gists_url": "https://api.github.com/users/metachris/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/metachris/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/metachris/subscriptions",
      "organizations_url": "https://api.github.com/users/metachris/orgs",
      "repos_url": "https://api.github.com/users/metachris/repos",
      "events_url": "https://api.github.com/users/metachris/events{/privacy}",
      "received_events_url": "https://api.github.com/users/metachris/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-03-30T07:26:22Z",
    "updated_at": "2023-03-30T07:26:22Z",
    "author_association": "COLLABORATOR",
    "body": "Thanks @jimmygchen for the heads-up! As of now, mev-boost wouldn't forward the header, it starts a new HTTP request from scratch without forwarding any headers. This would need to be implemented.\r\n\r\nI don't expect a new mev-boost release before mainnet Capella fork though.",
    "reactions": {
      "url": "https://api.github.com/repos/flashbots/mev-boost/issues/comments/1489824142/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/flashbots/mev-boost/issues/comments/1546604300",
    "html_url": "https://github.com/flashbots/mev-boost/issues/472#issuecomment-1546604300",
    "issue_url": "https://api.github.com/repos/flashbots/mev-boost/issues/472",
    "id": 1546604300,
    "node_id": "IC_kwDOGZSKs85cL08M",
    "user": {
      "login": "metachris",
      "id": 116939,
      "node_id": "MDQ6VXNlcjExNjkzOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/116939?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/metachris",
      "html_url": "https://github.com/metachris",
      "followers_url": "https://api.github.com/users/metachris/followers",
      "following_url": "https://api.github.com/users/metachris/following{/other_user}",
      "gists_url": "https://api.github.com/users/metachris/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/metachris/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/metachris/subscriptions",
      "organizations_url": "https://api.github.com/users/metachris/orgs",
      "repos_url": "https://api.github.com/users/metachris/repos",
      "events_url": "https://api.github.com/users/metachris/events{/privacy}",
      "received_events_url": "https://api.github.com/users/metachris/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-13T09:14:01Z",
    "updated_at": "2023-05-13T09:14:01Z",
    "author_association": "COLLABORATOR",
    "body": "Do we know how many CL clients already support this header? Would be good to start with forwarding this header as a first step.",
    "reactions": {
      "url": "https://api.github.com/repos/flashbots/mev-boost/issues/comments/1546604300/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/flashbots/mev-boost/issues/comments/1546758909",
    "html_url": "https://github.com/flashbots/mev-boost/issues/472#issuecomment-1546758909",
    "issue_url": "https://api.github.com/repos/flashbots/mev-boost/issues/472",
    "id": 1546758909,
    "node_id": "IC_kwDOGZSKs85cMar9",
    "user": {
      "login": "jimmygchen",
      "id": 742762,
      "node_id": "MDQ6VXNlcjc0Mjc2Mg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/742762?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jimmygchen",
      "html_url": "https://github.com/jimmygchen",
      "followers_url": "https://api.github.com/users/jimmygchen/followers",
      "following_url": "https://api.github.com/users/jimmygchen/following{/other_user}",
      "gists_url": "https://api.github.com/users/jimmygchen/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jimmygchen/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jimmygchen/subscriptions",
      "organizations_url": "https://api.github.com/users/jimmygchen/orgs",
      "repos_url": "https://api.github.com/users/jimmygchen/repos",
      "events_url": "https://api.github.com/users/jimmygchen/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jimmygchen/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-13T22:08:22Z",
    "updated_at": "2023-05-13T22:08:22Z",
    "author_association": "NONE",
    "body": "This header is not in Lighthouse yet, I've raised an issue here for tracking:\r\nhttps://github.com/sigp/lighthouse/issues/4284",
    "reactions": {
      "url": "https://api.github.com/repos/flashbots/mev-boost/issues/comments/1546758909/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
