{
  "url": "https://api.github.com/repos/flashbots/mev-boost/issues/492",
  "repository_url": "https://api.github.com/repos/flashbots/mev-boost",
  "labels_url": "https://api.github.com/repos/flashbots/mev-boost/issues/492/labels{/name}",
  "comments_url": "https://api.github.com/repos/flashbots/mev-boost/issues/492/comments",
  "events_url": "https://api.github.com/repos/flashbots/mev-boost/issues/492/events",
  "html_url": "https://github.com/flashbots/mev-boost/issues/492",
  "id": 1671609398,
  "node_id": "I_kwDOGZSKs85jorw2",
  "number": 492,
  "title": "Add a unique request ID to `getHeader` and `getPayload` calls.",
  "user": {
    "login": "michaelneuder",
    "id": 24661810,
    "node_id": "MDQ6VXNlcjI0NjYxODEw",
    "avatar_url": "https://avatars.githubusercontent.com/u/24661810?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/michaelneuder",
    "html_url": "https://github.com/michaelneuder",
    "followers_url": "https://api.github.com/users/michaelneuder/followers",
    "following_url": "https://api.github.com/users/michaelneuder/following{/other_user}",
    "gists_url": "https://api.github.com/users/michaelneuder/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/michaelneuder/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/michaelneuder/subscriptions",
    "organizations_url": "https://api.github.com/users/michaelneuder/orgs",
    "repos_url": "https://api.github.com/users/michaelneuder/repos",
    "events_url": "https://api.github.com/users/michaelneuder/events{/privacy}",
    "received_events_url": "https://api.github.com/users/michaelneuder/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2023-04-17T17:01:06Z",
  "updated_at": "2023-04-18T07:45:32Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "From the relay perspective, it is quite difficult to determine when a validator for a specific slot calls `getHeader`. Because `getHeader` is a public API and the builders use it to check the value of the highest bid, there is a large amount of noise in the logs. Over the last hour, there have been 673k calls to `getHeader` on the ultra sound relay. In order to try to correlate these calls to `getPayload` requests, we can look at the IP addresses of the requests, but this is inconvenient and we would rather not handle that type of PII. \r\n\r\nCollecting data on when a proposer calls `getHeader` is useful because it provides insight into (1) the network latency between the validator and the relay, (2) durations for how long signing headers takes for different validators, (3) if any validators are systematically playing latency games to try to increase the amount of MEV they earn by calling `getHeader` later into the slot (See [ROP-0](https://efdn.notion.site/e57d2e4d207a43c4abdaef71456e59ae?v=3aa44b30109a40aa90f2119d60c4d075&p=385f0f6279374a90b52bf380ed76a85b&pm=s)). \r\n\r\nIf we randomly generated a UUID for each proposer for each slot, we would be able to identify which `getHeader` calls are associated with the `getPayload` that ends up being delivered by the relay. Because `getPayload` requires a signature verification of the proposer, we can start there and then scrape our logs for calls to `getHeader` with the same UUID. \r\n\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/flashbots/mev-boost/issues/492/reactions",
    "total_count": 3,
    "+1": 3,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/flashbots/mev-boost/issues/492/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/flashbots/mev-boost/issues/comments/1512611288",
    "html_url": "https://github.com/flashbots/mev-boost/issues/492#issuecomment-1512611288",
    "issue_url": "https://api.github.com/repos/flashbots/mev-boost/issues/492",
    "id": 1512611288,
    "node_id": "IC_kwDOGZSKs85aKJ3Y",
    "user": {
      "login": "metachris",
      "id": 116939,
      "node_id": "MDQ6VXNlcjExNjkzOQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/116939?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/metachris",
      "html_url": "https://github.com/metachris",
      "followers_url": "https://api.github.com/users/metachris/followers",
      "following_url": "https://api.github.com/users/metachris/following{/other_user}",
      "gists_url": "https://api.github.com/users/metachris/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/metachris/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/metachris/subscriptions",
      "organizations_url": "https://api.github.com/users/metachris/orgs",
      "repos_url": "https://api.github.com/users/metachris/repos",
      "events_url": "https://api.github.com/users/metachris/events{/privacy}",
      "received_events_url": "https://api.github.com/users/metachris/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-18T07:45:32Z",
    "updated_at": "2023-04-18T07:45:32Z",
    "author_association": "COLLABORATOR",
    "body": "This would be very helpful in diagnosing issues at the relays!",
    "reactions": {
      "url": "https://api.github.com/repos/flashbots/mev-boost/issues/comments/1512611288/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
