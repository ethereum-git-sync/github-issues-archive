{
  "url": "https://api.github.com/repos/MetaMask/core/issues/858",
  "repository_url": "https://api.github.com/repos/MetaMask/core",
  "labels_url": "https://api.github.com/repos/MetaMask/core/issues/858/labels{/name}",
  "comments_url": "https://api.github.com/repos/MetaMask/core/issues/858/comments",
  "events_url": "https://api.github.com/repos/MetaMask/core/issues/858/events",
  "html_url": "https://github.com/MetaMask/core/issues/858",
  "id": 1278905983,
  "node_id": "I_kwDOCBB0Cc5MOo5_",
  "number": 858,
  "title": "Fix publishing configuration",
  "user": {
    "login": "Gudahtt",
    "id": 2459287,
    "node_id": "MDQ6VXNlcjI0NTkyODc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2459287?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Gudahtt",
    "html_url": "https://github.com/Gudahtt",
    "followers_url": "https://api.github.com/users/Gudahtt/followers",
    "following_url": "https://api.github.com/users/Gudahtt/following{/other_user}",
    "gists_url": "https://api.github.com/users/Gudahtt/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Gudahtt/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Gudahtt/subscriptions",
    "organizations_url": "https://api.github.com/users/Gudahtt/orgs",
    "repos_url": "https://api.github.com/users/Gudahtt/repos",
    "events_url": "https://api.github.com/users/Gudahtt/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Gudahtt/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 948148992,
      "node_id": "MDU6TGFiZWw5NDgxNDg5OTI=",
      "url": "https://api.github.com/repos/MetaMask/core/labels/bug",
      "name": "bug",
      "color": "d73a4a",
      "default": true,
      "description": "Something isn't working"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "rickycodes",
    "id": 675259,
    "node_id": "MDQ6VXNlcjY3NTI1OQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/675259?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/rickycodes",
    "html_url": "https://github.com/rickycodes",
    "followers_url": "https://api.github.com/users/rickycodes/followers",
    "following_url": "https://api.github.com/users/rickycodes/following{/other_user}",
    "gists_url": "https://api.github.com/users/rickycodes/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/rickycodes/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/rickycodes/subscriptions",
    "organizations_url": "https://api.github.com/users/rickycodes/orgs",
    "repos_url": "https://api.github.com/users/rickycodes/repos",
    "events_url": "https://api.github.com/users/rickycodes/events{/privacy}",
    "received_events_url": "https://api.github.com/users/rickycodes/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "rickycodes",
      "id": 675259,
      "node_id": "MDQ6VXNlcjY3NTI1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/675259?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rickycodes",
      "html_url": "https://github.com/rickycodes",
      "followers_url": "https://api.github.com/users/rickycodes/followers",
      "following_url": "https://api.github.com/users/rickycodes/following{/other_user}",
      "gists_url": "https://api.github.com/users/rickycodes/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rickycodes/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rickycodes/subscriptions",
      "organizations_url": "https://api.github.com/users/rickycodes/orgs",
      "repos_url": "https://api.github.com/users/rickycodes/repos",
      "events_url": "https://api.github.com/users/rickycodes/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rickycodes/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 0,
  "created_at": "2022-06-21T18:54:41Z",
  "updated_at": "2022-07-11T16:33:08Z",
  "closed_at": "2022-07-11T16:33:08Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "The publish action currently gets kicked off from the `release/` branch, but it was configured to only allow publishing from `main` (because `main` is the only allowed \"Deployment branch\" for the npm publish environment). So it always failed. Technically the commit was always on `main` at time of publishing, but the rule nonetheless disallowed publishing  because it was triggered from an event associated with the `release/` branch.\r\n\r\nWe want to keep the environment deployment branch protection that ensures we can only deploy from `main`, so I think the way we solve this is to change how the publishing gets triggered. Right now it's triggered by the release PR being closed. Instead we can change the trigger to be a \"push\" event on the `main` branch, and use a filter to ensure the publish only runs when the push was the result of a release branch being merged.",
  "closed_by": {
    "login": "rickycodes",
    "id": 675259,
    "node_id": "MDQ6VXNlcjY3NTI1OQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/675259?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/rickycodes",
    "html_url": "https://github.com/rickycodes",
    "followers_url": "https://api.github.com/users/rickycodes/followers",
    "following_url": "https://api.github.com/users/rickycodes/following{/other_user}",
    "gists_url": "https://api.github.com/users/rickycodes/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/rickycodes/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/rickycodes/subscriptions",
    "organizations_url": "https://api.github.com/users/rickycodes/orgs",
    "repos_url": "https://api.github.com/users/rickycodes/repos",
    "events_url": "https://api.github.com/users/rickycodes/events{/privacy}",
    "received_events_url": "https://api.github.com/users/rickycodes/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/MetaMask/core/issues/858/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/MetaMask/core/issues/858/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[

]
