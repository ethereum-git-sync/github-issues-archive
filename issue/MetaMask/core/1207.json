{
  "url": "https://api.github.com/repos/MetaMask/core/issues/1207",
  "repository_url": "https://api.github.com/repos/MetaMask/core",
  "labels_url": "https://api.github.com/repos/MetaMask/core/issues/1207/labels{/name}",
  "comments_url": "https://api.github.com/repos/MetaMask/core/issues/1207/comments",
  "events_url": "https://api.github.com/repos/MetaMask/core/issues/1207/events",
  "html_url": "https://github.com/MetaMask/core/issues/1207",
  "id": 1673904900,
  "node_id": "I_kwDOCBB0Cc5jxcME",
  "number": 1207,
  "title": "Add validation of suggested metadata on ERC20 `wallet_watchAsset` confirmation ",
  "user": {
    "login": "adonesky1",
    "id": 34557516,
    "node_id": "MDQ6VXNlcjM0NTU3NTE2",
    "avatar_url": "https://avatars.githubusercontent.com/u/34557516?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/adonesky1",
    "html_url": "https://github.com/adonesky1",
    "followers_url": "https://api.github.com/users/adonesky1/followers",
    "following_url": "https://api.github.com/users/adonesky1/following{/other_user}",
    "gists_url": "https://api.github.com/users/adonesky1/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/adonesky1/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/adonesky1/subscriptions",
    "organizations_url": "https://api.github.com/users/adonesky1/orgs",
    "repos_url": "https://api.github.com/users/adonesky1/repos",
    "events_url": "https://api.github.com/users/adonesky1/events{/privacy}",
    "received_events_url": "https://api.github.com/users/adonesky1/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 5108738713,
      "node_id": "LA_kwDOCBB0Cc8AAAABMIEqmQ",
      "url": "https://api.github.com/repos/MetaMask/core/labels/team-devex",
      "name": "team-devex",
      "color": "BFB144",
      "default": false,
      "description": null
    },
    {
      "id": 5959161897,
      "node_id": "LA_kwDOCBB0Cc8AAAABYzGYKQ",
      "url": "https://api.github.com/repos/MetaMask/core/labels/team-assets",
      "name": "team-assets",
      "color": "73B2AE",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": {
    "login": "adonesky1",
    "id": 34557516,
    "node_id": "MDQ6VXNlcjM0NTU3NTE2",
    "avatar_url": "https://avatars.githubusercontent.com/u/34557516?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/adonesky1",
    "html_url": "https://github.com/adonesky1",
    "followers_url": "https://api.github.com/users/adonesky1/followers",
    "following_url": "https://api.github.com/users/adonesky1/following{/other_user}",
    "gists_url": "https://api.github.com/users/adonesky1/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/adonesky1/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/adonesky1/subscriptions",
    "organizations_url": "https://api.github.com/users/adonesky1/orgs",
    "repos_url": "https://api.github.com/users/adonesky1/repos",
    "events_url": "https://api.github.com/users/adonesky1/events{/privacy}",
    "received_events_url": "https://api.github.com/users/adonesky1/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "adonesky1",
      "id": 34557516,
      "node_id": "MDQ6VXNlcjM0NTU3NTE2",
      "avatar_url": "https://avatars.githubusercontent.com/u/34557516?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/adonesky1",
      "html_url": "https://github.com/adonesky1",
      "followers_url": "https://api.github.com/users/adonesky1/followers",
      "following_url": "https://api.github.com/users/adonesky1/following{/other_user}",
      "gists_url": "https://api.github.com/users/adonesky1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/adonesky1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/adonesky1/subscriptions",
      "organizations_url": "https://api.github.com/users/adonesky1/orgs",
      "repos_url": "https://api.github.com/users/adonesky1/repos",
      "events_url": "https://api.github.com/users/adonesky1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/adonesky1/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 0,
  "created_at": "2023-04-18T22:21:34Z",
  "updated_at": "2023-09-13T16:58:07Z",
  "closed_at": null,
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "# Description\nThis issue aims to improve the reliability of suggested metadata for ERC20 tokens in the MetaMask extension by validating it against the metadata fetched directly from the chain during the wallet_watchAsset confirmation process.\n\n## Expected behavior\nWhen the wallet_watchAsset function is invoked, the extension should compare the suggested metadata with the on-chain metadata before displaying the confirmation dialog. This ensures the provided metadata is accurate and trustworthy.\n\n## Proposed solution\nUpdate the wallet_watchAsset function to fetch token metadata directly from the blockchain, such as token name, symbol, and decimals.\nCompare the fetched metadata with the suggested metadata. If discrepancies are found, either display an error message or just use the on-chain metadata.\n\n## Potential drawbacks\nThis approach may introduce additional latency during the wallet_watchAsset process due to blockchain data fetching. However, the benefits of providing accurate token metadata outweigh the potential drawbacks.",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/MetaMask/core/issues/1207/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/MetaMask/core/issues/1207/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[

]
