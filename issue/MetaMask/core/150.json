{
  "url": "https://api.github.com/repos/MetaMask/core/issues/150",
  "repository_url": "https://api.github.com/repos/MetaMask/core",
  "labels_url": "https://api.github.com/repos/MetaMask/core/issues/150/labels{/name}",
  "comments_url": "https://api.github.com/repos/MetaMask/core/issues/150/comments",
  "events_url": "https://api.github.com/repos/MetaMask/core/issues/150/events",
  "html_url": "https://github.com/MetaMask/core/issues/150",
  "id": 487125479,
  "node_id": "MDU6SXNzdWU0ODcxMjU0Nzk=",
  "number": 150,
  "title": "Address book controller chainId potentially misleading",
  "user": {
    "login": "rekmarks",
    "id": 25517051,
    "node_id": "MDQ6VXNlcjI1NTE3MDUx",
    "avatar_url": "https://avatars.githubusercontent.com/u/25517051?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/rekmarks",
    "html_url": "https://github.com/rekmarks",
    "followers_url": "https://api.github.com/users/rekmarks/followers",
    "following_url": "https://api.github.com/users/rekmarks/following{/other_user}",
    "gists_url": "https://api.github.com/users/rekmarks/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/rekmarks/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/rekmarks/subscriptions",
    "organizations_url": "https://api.github.com/users/rekmarks/orgs",
    "repos_url": "https://api.github.com/users/rekmarks/repos",
    "events_url": "https://api.github.com/users/rekmarks/events{/privacy}",
    "received_events_url": "https://api.github.com/users/rekmarks/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2019-08-29T19:02:40Z",
  "updated_at": "2021-05-05T14:59:32Z",
  "closed_at": "2021-05-05T14:59:32Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "Address book entries are defined as:\r\n```ts\r\ninterface AddressBookEntry {\r\n  address: string;\r\n  name: string;\r\n  chainId: number;\r\n  memo: string;\r\n}\r\n```\r\n\r\nThis leads us to believe that, perhaps, the user should be able to have entries with identical `address` fields and different `chainId` fields.\r\n\r\nHowever, we store `AddressBookEntry`s by normalized addresses, and we normalize the address using `toChecksumAddress(address)`, which returns the same address regardless of the `chainId`.\r\n\r\nAccording to the `ethereumjs-util` documentation, we can add the `chainId` as an optional parameter to generate unique checksummed addresses by `chainId`. It appears they have yet to publish this version of the library, however, see: https://github.com/ethereumjs/ethereumjs-util/issues/218\r\n\r\n**Question:** if we compute checksummed addresses with `chainId`, can we still use those addresses directly for sending transactions? In other words, will they be different from what's currently displayed in the UI?",
  "closed_by": {
    "login": "Gudahtt",
    "id": 2459287,
    "node_id": "MDQ6VXNlcjI0NTkyODc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2459287?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Gudahtt",
    "html_url": "https://github.com/Gudahtt",
    "followers_url": "https://api.github.com/users/Gudahtt/followers",
    "following_url": "https://api.github.com/users/Gudahtt/following{/other_user}",
    "gists_url": "https://api.github.com/users/Gudahtt/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Gudahtt/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Gudahtt/subscriptions",
    "organizations_url": "https://api.github.com/users/Gudahtt/orgs",
    "repos_url": "https://api.github.com/users/Gudahtt/repos",
    "events_url": "https://api.github.com/users/Gudahtt/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Gudahtt/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/MetaMask/core/issues/150/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/MetaMask/core/issues/150/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/MetaMask/core/issues/comments/526632535",
    "html_url": "https://github.com/MetaMask/core/issues/150#issuecomment-526632535",
    "issue_url": "https://api.github.com/repos/MetaMask/core/issues/150",
    "id": 526632535,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyNjYzMjUzNQ==",
    "user": {
      "login": "jennypollack",
      "id": 3885055,
      "node_id": "MDQ6VXNlcjM4ODUwNTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3885055?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jennypollack",
      "html_url": "https://github.com/jennypollack",
      "followers_url": "https://api.github.com/users/jennypollack/followers",
      "following_url": "https://api.github.com/users/jennypollack/following{/other_user}",
      "gists_url": "https://api.github.com/users/jennypollack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jennypollack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jennypollack/subscriptions",
      "organizations_url": "https://api.github.com/users/jennypollack/orgs",
      "repos_url": "https://api.github.com/users/jennypollack/repos",
      "events_url": "https://api.github.com/users/jennypollack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jennypollack/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-08-30T14:53:45Z",
    "updated_at": "2019-08-30T14:53:45Z",
    "author_association": "CONTRIBUTOR",
    "body": "> will they be different from what's currently displayed in the UI?\r\n\r\nbased on the spec of 1191, https://github.com/ethereum/EIPs/blob/master/EIPS/eip-1191.md\r\n\r\n> This proposal is fully backward compatible. The checksum calculation is changed only for new networks that choose to adopt this EIP and add their chain numbers to the Adoption Table included in this document.\r\n\r\nif a network chooses to add itself to the adoption table we would have a problem, but for now I think we're safe to continue as we are, as the current prioritized networks (arguably anything hard coded in our config) are not using this specification \r\n(sidenote for the chainIds in the adoption table we currently are not supporting this)\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/MetaMask/core/issues/comments/526632535/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/MetaMask/core/issues/comments/832759091",
    "html_url": "https://github.com/MetaMask/core/issues/150#issuecomment-832759091",
    "issue_url": "https://api.github.com/repos/MetaMask/core/issues/150",
    "id": 832759091,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgzMjc1OTA5MQ==",
    "user": {
      "login": "Gudahtt",
      "id": 2459287,
      "node_id": "MDQ6VXNlcjI0NTkyODc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2459287?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Gudahtt",
      "html_url": "https://github.com/Gudahtt",
      "followers_url": "https://api.github.com/users/Gudahtt/followers",
      "following_url": "https://api.github.com/users/Gudahtt/following{/other_user}",
      "gists_url": "https://api.github.com/users/Gudahtt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Gudahtt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Gudahtt/subscriptions",
      "organizations_url": "https://api.github.com/users/Gudahtt/orgs",
      "repos_url": "https://api.github.com/users/Gudahtt/repos",
      "events_url": "https://api.github.com/users/Gudahtt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Gudahtt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-05-05T14:59:32Z",
    "updated_at": "2021-05-05T14:59:32Z",
    "author_association": "MEMBER",
    "body": "This was fixed in #152",
    "reactions": {
      "url": "https://api.github.com/repos/MetaMask/core/issues/comments/832759091/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
