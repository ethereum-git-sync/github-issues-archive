{
  "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/2905",
  "repository_url": "https://api.github.com/repos/ChainSafe/lodestar",
  "labels_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/2905/labels{/name}",
  "comments_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/2905/comments",
  "events_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/2905/events",
  "html_url": "https://github.com/ChainSafe/lodestar/issues/2905",
  "id": 955834939,
  "node_id": "MDU6SXNzdWU5NTU4MzQ5Mzk=",
  "number": 2905,
  "title": "altair-devnet-2 issues",
  "user": {
    "login": "dapplion",
    "id": 35266934,
    "node_id": "MDQ6VXNlcjM1MjY2OTM0",
    "avatar_url": "https://avatars.githubusercontent.com/u/35266934?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/dapplion",
    "html_url": "https://github.com/dapplion",
    "followers_url": "https://api.github.com/users/dapplion/followers",
    "following_url": "https://api.github.com/users/dapplion/following{/other_user}",
    "gists_url": "https://api.github.com/users/dapplion/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/dapplion/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/dapplion/subscriptions",
    "organizations_url": "https://api.github.com/users/dapplion/orgs",
    "repos_url": "https://api.github.com/users/dapplion/repos",
    "events_url": "https://api.github.com/users/dapplion/events{/privacy}",
    "received_events_url": "https://api.github.com/users/dapplion/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 9,
  "created_at": "2021-07-29T13:18:24Z",
  "updated_at": "2021-09-21T08:28:25Z",
  "closed_at": "2021-09-21T08:28:25Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "Compilation of issues during altair-devnet-2",
  "closed_by": {
    "login": "dapplion",
    "id": 35266934,
    "node_id": "MDQ6VXNlcjM1MjY2OTM0",
    "avatar_url": "https://avatars.githubusercontent.com/u/35266934?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/dapplion",
    "html_url": "https://github.com/dapplion",
    "followers_url": "https://api.github.com/users/dapplion/followers",
    "following_url": "https://api.github.com/users/dapplion/following{/other_user}",
    "gists_url": "https://api.github.com/users/dapplion/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/dapplion/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/dapplion/subscriptions",
    "organizations_url": "https://api.github.com/users/dapplion/orgs",
    "repos_url": "https://api.github.com/users/dapplion/repos",
    "events_url": "https://api.github.com/users/dapplion/events{/privacy}",
    "received_events_url": "https://api.github.com/users/dapplion/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/2905/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/2905/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/889137566",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/2905#issuecomment-889137566",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/2905",
    "id": 889137566,
    "node_id": "IC_kwDOCD5_Gc40_yme",
    "user": {
      "login": "dapplion",
      "id": 35266934,
      "node_id": "MDQ6VXNlcjM1MjY2OTM0",
      "avatar_url": "https://avatars.githubusercontent.com/u/35266934?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dapplion",
      "html_url": "https://github.com/dapplion",
      "followers_url": "https://api.github.com/users/dapplion/followers",
      "following_url": "https://api.github.com/users/dapplion/following{/other_user}",
      "gists_url": "https://api.github.com/users/dapplion/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dapplion/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dapplion/subscriptions",
      "organizations_url": "https://api.github.com/users/dapplion/orgs",
      "repos_url": "https://api.github.com/users/dapplion/repos",
      "events_url": "https://api.github.com/users/dapplion/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dapplion/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-29T13:19:34Z",
    "updated_at": "2021-08-06T02:30:06Z",
    "author_association": "MEMBER",
    "body": "Block at slot 337 was missed, but our validator did propose it\r\n\r\n```\r\nvalidator3_1   | Jul-29 13:07:24.092 []                 info: Published block slot=337, validator=0x8b75…4060, graffiti=chainsafe/lodestar-0.27.1-dev.26\r\n```\r\n\r\nMissed block from explorer https://altair-devnet-2-explorer.ethdevops.io/block/337\r\n\r\nThe beacon_node acknowledged the block and inserted it as head\r\n```\r\nJul-29 13:07:24.092 [API]             debug: Res req-6p3 publishBlock - 200\r\nJul-29 13:07:24.135 [CHAIN]         verbose: New chain head headSlot=337, headRoot=0x9830ba2d7e0a16a14b27f5e7ad61caeffe4c09ff7be93b2d8271d174cb75ec08\r\n```\r\n\r\nLatter we processed the next block (which orphans us, and eventually became the head)\r\n\r\n```\r\nJul-29 13:07:36.143 [NETWORK]       verbose: Received gossip block slot=338, root=0x4729…de1b\r\nJul-29 13:07:36.152 [NETWORK]         debug: gossip - beacon_block - accept slot=338, root=0x4729de2600d1568295bf659934a85ff6067076882c85a855cefa32a01edade1b\r\nJul-29 13:07:36.203 [CHAIN]         verbose: Block processed slot=338, root=0x4729de2600d1568295bf659934a85ff6067076882c85a855cefa32a01edade1b\r\n```\r\n\r\nWe eventually re-org at block 340\r\n\r\n```\r\nJul-29 13:08:00.144 [NETWORK]         debug: gossip - beacon_block - accept slot=340, root=0xc1e86c51c1b4cf27714623482f0d73f3e8703f7c7ba1485e712b6a2e9b736bb3\r\nJul-29 13:08:00.184 [CHAIN]         verbose: Block processed slot=340, root=0xc1e86c51c1b4cf27714623482f0d73f3e8703f7c7ba1485e712b6a2e9b736bb3\r\nJul-29 13:08:00.191 [CHAIN]         verbose: Chain reorg depth=0\r\nJul-29 13:08:00.191 [CHAIN]         verbose: New chain head headSlot=340, headRoot=0xc1e86c51c1b4cf27714623482f0d73f3e8703f7c7ba1485e712b6a2e9b736bb3\r\n```\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/889137566/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/889141831",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/2905#issuecomment-889141831",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/2905",
    "id": 889141831,
    "node_id": "IC_kwDOCD5_Gc40_zpH",
    "user": {
      "login": "tuyennhv",
      "id": 10568965,
      "node_id": "MDQ6VXNlcjEwNTY4OTY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/10568965?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tuyennhv",
      "html_url": "https://github.com/tuyennhv",
      "followers_url": "https://api.github.com/users/tuyennhv/followers",
      "following_url": "https://api.github.com/users/tuyennhv/following{/other_user}",
      "gists_url": "https://api.github.com/users/tuyennhv/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tuyennhv/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tuyennhv/subscriptions",
      "organizations_url": "https://api.github.com/users/tuyennhv/orgs",
      "repos_url": "https://api.github.com/users/tuyennhv/repos",
      "events_url": "https://api.github.com/users/tuyennhv/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tuyennhv/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-29T13:25:08Z",
    "updated_at": "2021-07-30T07:25:35Z",
    "author_association": "CONTRIBUTOR",
    "body": "Lodestar included attestations for a missed block https://altair-devnet-2-explorer.ethdevops.io/block/407#attestations (391 is a missed block)\r\n\r\n**Edit**: tracked in #2909",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/889141831/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/889143872",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/2905#issuecomment-889143872",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/2905",
    "id": 889143872,
    "node_id": "IC_kwDOCD5_Gc40_0JA",
    "user": {
      "login": "tuyennhv",
      "id": 10568965,
      "node_id": "MDQ6VXNlcjEwNTY4OTY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/10568965?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tuyennhv",
      "html_url": "https://github.com/tuyennhv",
      "followers_url": "https://api.github.com/users/tuyennhv/followers",
      "following_url": "https://api.github.com/users/tuyennhv/following{/other_user}",
      "gists_url": "https://api.github.com/users/tuyennhv/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tuyennhv/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tuyennhv/subscriptions",
      "organizations_url": "https://api.github.com/users/tuyennhv/orgs",
      "repos_url": "https://api.github.com/users/tuyennhv/repos",
      "events_url": "https://api.github.com/users/tuyennhv/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tuyennhv/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-29T13:27:43Z",
    "updated_at": "2021-07-30T01:22:17Z",
    "author_association": "CONTRIBUTOR",
    "body": "From Teku\r\n\r\nAt the same time I got the following invalid signed aggregate and proof (which I think comes from a lodestar validator): \r\n```\r\n0x64000000b80c5d8233733f9684fef1edee56603df7cf4700d13e9532c338fac1fcbe2886209c94490e09082430a94d0bdaf04ad11827be97358d114dece6b81c298ff427294d64d7efab8b19eaacb6a77916931770aaed3eeafa4d6b93573c271e4377e86e290000000000006c00000093a901006eaf8c2e5d8ea94939d631247984180c4faad3e3646ca112c467e419a2f7308fc5abc79ba99a07999362b1c30ec28bccbfd7bd0a60f58a2fab272edb0256309219eff2493e7ea52b7d73ce2dc0bbac27120d7997d9a6944e3a1e4255e40000004001000000000000020000000000000039998ed61f601fed3e21059e7f99dfc31a5ee8ecb34e22e2790f09095397997d0900000000000000b523c2bc822f304369018e505920e3f5451b0616fb2b6750eaeb5273f76f72050a0000000000000039998ed61f601fed3e21059e7f99dfc31a5ee8ecb34e22e2790f09095397997db945ebbf87891cd5c47df4c7110282948b129bb56fb73d570ce3c05cad7db58592f477669996d086e73d73ebf7c850c10828071f3b54a7e24a9868072197df6bd90c59fa0322b718d055044ed4d91cff5756f328430e70dca1d6824bb4df5f2730000122c07600a040604000420000700001\r\n```\r\nTeku rejected it for a bad signature.\r\n\r\nTracked in #2908\r\n\r\n------\r\n\r\n**Update: ignore the below**\r\n\r\nFrom Proto:\r\n\r\nThat decodes too:\r\n```\r\n{\r\n    \"sync_committee_bits\": \"0x64000000b80c5d8233733f9684fef1edee56603df7cf4700d13e9532c338fac1fcbe2886209c94490e09082430a94d0bdaf04ad11827be97358d114dece6b81c\",\r\n    \"sync_committee_signature\": \"0x298ff427294d64d7efab8b19eaacb6a77916931770aaed3eeafa4d6b93573c271e4377e86e290000000000006c00000093a901006eaf8c2e5d8ea94939d631247984180c4faad3e3646ca112c467e419a2f7308fc5abc79ba99a07999362b1c3\"\r\n  }\r\n```\r\nThat 64000000 is very suspicious: it's the first 4 bytes, like a SSZ offset. But the fields are all fixed-size (bitvector for sync committee bits, not bitlist). Also, 0x64 = 100 = 4 + 96 (matches offset size + signature size). So either Lodestar or Teku (or whomever encoded that message) has implemented the SyncAggregate wrong and isn't running the new SSZ tests\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/889143872/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/889149715",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/2905#issuecomment-889149715",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/2905",
    "id": 889149715,
    "node_id": "IC_kwDOCD5_Gc40_1kT",
    "user": {
      "login": "dapplion",
      "id": 35266934,
      "node_id": "MDQ6VXNlcjM1MjY2OTM0",
      "avatar_url": "https://avatars.githubusercontent.com/u/35266934?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dapplion",
      "html_url": "https://github.com/dapplion",
      "followers_url": "https://api.github.com/users/dapplion/followers",
      "following_url": "https://api.github.com/users/dapplion/following{/other_user}",
      "gists_url": "https://api.github.com/users/dapplion/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dapplion/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dapplion/subscriptions",
      "organizations_url": "https://api.github.com/users/dapplion/orgs",
      "repos_url": "https://api.github.com/users/dapplion/repos",
      "events_url": "https://api.github.com/users/dapplion/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dapplion/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-29T13:35:18Z",
    "updated_at": "2021-07-29T13:35:18Z",
    "author_association": "MEMBER",
    "body": "Review this `ATTESTATION_ERROR_FUTURE_SLOT` errors. Is our clock logic right? We seem to reject some, accept some.\r\n\r\n```\r\nJul-29 13:07:36.426 [NETWORK]         debug: gossip - beacon_attestation - ignore code=ATTESTATION_ERROR_FUTURE_SLOT, latestPermissibleSlot=337, attestationSlot=338\r\nJul-29 13:07:36.426 [NETWORK]         debug: gossip - beacon_attestation - ignore code=ATTESTATION_ERROR_FUTURE_SLOT, latestPermissibleSlot=337, attestationSlot=338\r\nJul-29 13:07:36.431 [NETWORK]         debug: gossip - beacon_attestation - ignore code=ATTESTATION_ERROR_FUTURE_SLOT, latestPermissibleSlot=337, attestationSlot=338\r\nJul-29 13:07:36.434 [NETWORK]         debug: gossip - beacon_attestation - ignore code=ATTESTATION_ERROR_FUTURE_SLOT, latestPermissibleSlot=337, attestationSlot=338\r\nJul-29 13:07:36.438 [NETWORK]         debug: gossip - beacon_attestation - ignore code=ATTESTATION_ERROR_FUTURE_SLOT, latestPermissibleSlot=337, attestationSlot=338\r\nJul-29 13:07:36.446 [NETWORK]         debug: gossip - beacon_attestation - ignore code=ATTESTATION_ERROR_FUTURE_SLOT, latestPermissibleSlot=337, attestationSlot=338\r\nJul-29 13:07:36.446 [NETWORK]         debug: gossip - beacon_attestation - ignore code=ATTESTATION_ERROR_FUTURE_SLOT, latestPermissibleSlot=337, attestationSlot=338\r\nJul-29 13:07:36.451 [NETWORK]         debug: gossip - beacon_attestation - ignore code=ATTESTATION_ERROR_FUTURE_SLOT, latestPermissibleSlot=337, attestationSlot=338\r\nJul-29 13:07:36.455 [NETWORK]         debug: gossip - beacon_attestation - ignore code=ATTESTATION_ERROR_FUTURE_SLOT, latestPermissibleSlot=337, attestationSlot=338\r\nJul-29 13:07:36.458 [NETWORK]         debug: gossip - beacon_attestation - ignore code=ATTESTATION_ERROR_FUTURE_SLOT, latestPermissibleSlot=337, attestationSlot=338\r\nJul-29 13:07:36.458 [NETWORK]         debug: gossip - beacon_attestation - ignore code=ATTESTATION_ERROR_FUTURE_SLOT, latestPermissibleSlot=337, attestationSlot=338\r\nJul-29 13:07:36.464 [NETWORK]         debug: gossip - beacon_attestation - ignore code=ATTESTATION_ERROR_FUTURE_SLOT, latestPermissibleSlot=337, attestationSlot=338\r\nJul-29 13:07:36.466 [NETWORK]         debug: gossip - sync_committee - accept slot=337, subnet=3\r\nJul-29 13:07:36.468 [NETWORK]         debug: gossip - beacon_attestation - ignore code=ATTESTATION_ERROR_FUTURE_SLOT, latestPermissibleSlot=337, attestationSlot=338\r\nJul-29 13:07:36.477 [NETWORK]         debug: gossip - beacon_attestation - ignore code=ATTESTATION_ERROR_FUTURE_SLOT, latestPermissibleSlot=337, attestationSlot=338\r\nJul-29 13:07:36.488 [NETWORK]         debug: gossip - beacon_attestation - ignore code=ATTESTATION_ERROR_FUTURE_SLOT, latestPermissibleSlot=337, attestationSlot=338\r\nJul-29 13:07:36.492 [NETWORK]         debug: gossip - beacon_attestation - ignore code=ATTESTATION_ERROR_FUTURE_SLOT, latestPermissibleSlot=337, attestationSlot=338\r\nJul-29 13:07:36.499 [NETWORK]         debug: gossip - beacon_attestation - ignore code=ATTESTATION_ERROR_FUTURE_SLOT, latestPermissibleSlot=337, attestationSlot=338\r\nJul-29 13:07:36.584 [NETWORK]         debug: gossip - beacon_attestation - accept slot=338, subnet=56, index=2\r\nJul-29 13:07:36.584 [NETWORK]         debug: gossip - beacon_attestation - accept slot=338, subnet=54, index=0\r\nJul-29 13:07:36.585 [NETWORK]         debug: gossip - beacon_attestation - accept slot=338, subnet=56, index=2\r\nJul-29 13:07:36.585 [NETWORK]         debug: gossip - beacon_attestation - accept slot=338, subnet=56, index=2\r\nJul-29 13:07:36.585 [NETWORK]         debug: gossip - beacon_attestation - accept slot=338, subnet=56, index=2\r\nJul-29 13:07:36.585 [NETWORK]         debug: gossip - beacon_attestation - accept slot=338, subnet=56, index=2\r\nJul-29 13:07:36.585 [NETWORK]         debug: gossip - beacon_attestation - accept slot=338, subnet=56, index=2\r\nJul-29 13:07:36.585 [NETWORK]         debug: gossip - beacon_attestation - accept slot=338, subnet=55, index=1\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/889149715/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/889151170",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/2905#issuecomment-889151170",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/2905",
    "id": 889151170,
    "node_id": "IC_kwDOCD5_Gc40_17C",
    "user": {
      "login": "tuyennhv",
      "id": 10568965,
      "node_id": "MDQ6VXNlcjEwNTY4OTY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/10568965?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tuyennhv",
      "html_url": "https://github.com/tuyennhv",
      "followers_url": "https://api.github.com/users/tuyennhv/followers",
      "following_url": "https://api.github.com/users/tuyennhv/following{/other_user}",
      "gists_url": "https://api.github.com/users/tuyennhv/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tuyennhv/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tuyennhv/subscriptions",
      "organizations_url": "https://api.github.com/users/tuyennhv/orgs",
      "repos_url": "https://api.github.com/users/tuyennhv/repos",
      "events_url": "https://api.github.com/users/tuyennhv/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tuyennhv/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-29T13:37:23Z",
    "updated_at": "2021-09-03T02:03:24Z",
    "author_association": "CONTRIBUTOR",
    "body": "Found this in validator log\r\n```\r\nJul-29 13:36:08.038 []                error: Error publishing aggregateAndProofs slot=480, index=1 message=Internal Server Error: ATTESTATION_ERROR_AGGREGATOR_NOT_IN_COMMITTEE\r\nError: Internal Server Error: ATTESTATION_ERROR_AGGREGATOR_NOT_IN_COMMITTEE\r\n    at HttpClient.request (/usr/app/node_modules/@chainsafe/lodestar-api/src/client/utils/httpClient.ts:85:15)\r\n    at runMicrotasks (<anonymous>)\r\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)\r\n    at HttpClient.json (/usr/app/node_modules/@chainsafe/lodestar-api/src/client/utils/httpClient.ts:57:12)\r\n    at Object.request [as publishAggregateAndProofs] (/usr/app/node_modules/@chainsafe/lodestar-api/src/client/utils/client.ts:71:19)\r\n    at AttestationService.produceAndPublishAggregates (/usr/app/node_modules/@chainsafe/lodestar-validator/src/services/attestation.ts:167:9)\r\n    at AttestationService.publishAttestationsAndAggregates (/usr/app/node_modules/@chainsafe/lodestar-validator/src/services/attestation.ts:66:5)\r\n    at /usr/app/node_modules/@chainsafe/lodestar-validator/src/services/attestation.ts:43:9\r\n    at async Promise.all (index 1)\r\n    at /usr/app/node_modules/@chainsafe/lodestar-validator/src/services/attestation.ts:40:5\r\n```\r\n\r\n=> maybe related to https://github.com/ChainSafe/lodestar/issues/3063",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/889151170/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/889151563",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/2905#issuecomment-889151563",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/2905",
    "id": 889151563,
    "node_id": "IC_kwDOCD5_Gc40_2BL",
    "user": {
      "login": "tuyennhv",
      "id": 10568965,
      "node_id": "MDQ6VXNlcjEwNTY4OTY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/10568965?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tuyennhv",
      "html_url": "https://github.com/tuyennhv",
      "followers_url": "https://api.github.com/users/tuyennhv/followers",
      "following_url": "https://api.github.com/users/tuyennhv/following{/other_user}",
      "gists_url": "https://api.github.com/users/tuyennhv/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tuyennhv/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tuyennhv/subscriptions",
      "organizations_url": "https://api.github.com/users/tuyennhv/orgs",
      "repos_url": "https://api.github.com/users/tuyennhv/repos",
      "events_url": "https://api.github.com/users/tuyennhv/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tuyennhv/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-29T13:37:55Z",
    "updated_at": "2021-09-03T02:02:49Z",
    "author_association": "CONTRIBUTOR",
    "body": "Is this a configuration error?\r\n```\r\nJul-29 13:36:52.032 []                error: Error signing attestation slot=484, index=2, head=0x93ca…b07d, validator=0xaa1d…8b89 code=ERR_INVALID_ATTESTATION_DOUBLE_VOTE, attestation={\"sourceEpoch\":14,\"targetEpoch\":15,\"signingRoot\":\"0xa8ae45ee7343e0463fe6de0c7471c1a462709e9bce565c2f3e7e05668437abbf\"}, prev={\"sourceEpoch\":14,\"targetEpoch\":15,\"signingRoot\":\"0x4be16167539baf4f3b2c0df064fd351f464ebb32eafc7be64b3222df0df905c1\"}\r\nError: ERR_INVALID_ATTESTATION_DOUBLE_VOTE\r\n    at SlashingProtectionAttestationService.checkAttestation (/usr/app/node_modules/@chainsafe/lodestar-validator/src/slashingProtection/attestation/index.ts:67:15)\r\n    at SlashingProtectionAttestationService.checkAndInsertAttestation (/usr/app/node_modules/@chainsafe/lodestar-validator/src/slashingProtection/attestation/index.ts:40:24)\r\n    at SlashingProtection.checkAndInsertAttestation (/usr/app/node_modules/@chainsafe/lodestar-validator/src/slashingProtection/index.ts:55:5)\r\n    at ValidatorStore.signAttestation (/usr/app/node_modules/@chainsafe/lodestar-validator/src/services/validatorStore.ts:106:5)\r\n    at AttestationService.produceAndPublishAttestations (/usr/app/node_modules/@chainsafe/lodestar-validator/src/services/attestation.ts:101:33)\r\n    at AttestationService.publishAttestationsAndAggregates (/usr/app/node_modules/@chainsafe/lodestar-validator/src/services/attestation.ts:57:25)\r\n    at /usr/app/node_modules/@chainsafe/lodestar-validator/src/services/attestation.ts:43:9\r\n    at async Promise.all (index 2)\r\n    at /usr/app/node_modules/@chainsafe/lodestar-validator/src/services/attestation.ts:40:5\r\n    at Clock.runAtMostEvery (/usr/app/node_modules/@chainsafe/lodestar-validator/src/util/clock.ts:71:7)\r\n```\r\n\r\n=> maybe due to same root cause to https://github.com/ChainSafe/lodestar/issues/3063",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/889151563/reactions",
      "total_count": 2,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 1,
      "heart": 0,
      "rocket": 0,
      "eyes": 1
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/889153570",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/2905#issuecomment-889153570",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/2905",
    "id": 889153570,
    "node_id": "IC_kwDOCD5_Gc40_2gi",
    "user": {
      "login": "tuyennhv",
      "id": 10568965,
      "node_id": "MDQ6VXNlcjEwNTY4OTY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/10568965?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tuyennhv",
      "html_url": "https://github.com/tuyennhv",
      "followers_url": "https://api.github.com/users/tuyennhv/followers",
      "following_url": "https://api.github.com/users/tuyennhv/following{/other_user}",
      "gists_url": "https://api.github.com/users/tuyennhv/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tuyennhv/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tuyennhv/subscriptions",
      "organizations_url": "https://api.github.com/users/tuyennhv/orgs",
      "repos_url": "https://api.github.com/users/tuyennhv/repos",
      "events_url": "https://api.github.com/users/tuyennhv/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tuyennhv/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-29T13:40:32Z",
    "updated_at": "2021-09-03T02:02:22Z",
    "author_association": "CONTRIBUTOR",
    "body": "Error submitting attestations to pool\r\n```\r\nJul-29 13:36:05.551 [API]             error: Error on submitPoolAttestations [1] slot=480, index=0 code=ATTESTATION_ERROR_INVALID_SIGNATURE\r\nError: ATTESTATION_ERROR_INVALID_SIGNATURE\r\n    at validateGossipAttestation (/usr/app/node_modules/@chainsafe/lodestar/src/chain/validation/attestation.ts:143:11)\r\n    at /usr/app/node_modules/@chainsafe/lodestar/src/api/impl/beacon/pool/index.ts:52:50\r\n    at async Promise.all (index 1)\r\n    at Object.submitPoolAttestations (/usr/app/node_modules/@chainsafe/lodestar/src/api/impl/beacon/pool/index.ts:49:7)\r\n    at Object.handler (/usr/app/node_modules/@chainsafe/lodestar-api/src/server/utils/server.ts:70:23)\r\n```\r\n\r\n=> closed via https://github.com/ChainSafe/lodestar/issues/3063",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/889153570/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/889182091",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/2905#issuecomment-889182091",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/2905",
    "id": 889182091,
    "node_id": "IC_kwDOCD5_Gc40_9eL",
    "user": {
      "login": "dapplion",
      "id": 35266934,
      "node_id": "MDQ6VXNlcjM1MjY2OTM0",
      "avatar_url": "https://avatars.githubusercontent.com/u/35266934?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dapplion",
      "html_url": "https://github.com/dapplion",
      "followers_url": "https://api.github.com/users/dapplion/followers",
      "following_url": "https://api.github.com/users/dapplion/following{/other_user}",
      "gists_url": "https://api.github.com/users/dapplion/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dapplion/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dapplion/subscriptions",
      "organizations_url": "https://api.github.com/users/dapplion/orgs",
      "repos_url": "https://api.github.com/users/dapplion/repos",
      "events_url": "https://api.github.com/users/dapplion/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dapplion/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-29T14:15:15Z",
    "updated_at": "2021-07-29T14:15:15Z",
    "author_association": "MEMBER",
    "body": "TODO:\r\n- Persist invalid objects to disk for latter debugging (behind a flag). Help us debug this testnets better, also CI\r\n- Investigate ERR_INVALID_ATTESTATION_DOUBLE_VOTE errors, and what can we do to debug them once they happen.",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/889182091/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/923754993",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/2905#issuecomment-923754993",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/2905",
    "id": 923754993,
    "node_id": "IC_kwDOCD5_Gc43D2Hx",
    "user": {
      "login": "dapplion",
      "id": 35266934,
      "node_id": "MDQ6VXNlcjM1MjY2OTM0",
      "avatar_url": "https://avatars.githubusercontent.com/u/35266934?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dapplion",
      "html_url": "https://github.com/dapplion",
      "followers_url": "https://api.github.com/users/dapplion/followers",
      "following_url": "https://api.github.com/users/dapplion/following{/other_user}",
      "gists_url": "https://api.github.com/users/dapplion/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dapplion/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dapplion/subscriptions",
      "organizations_url": "https://api.github.com/users/dapplion/orgs",
      "repos_url": "https://api.github.com/users/dapplion/repos",
      "events_url": "https://api.github.com/users/dapplion/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dapplion/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-21T08:26:26Z",
    "updated_at": "2021-09-21T08:26:26Z",
    "author_association": "MEMBER",
    "body": "All items are either resolved or tracked in other issues :+1: ",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/923754993/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
