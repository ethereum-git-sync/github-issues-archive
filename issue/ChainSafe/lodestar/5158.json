{
  "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/5158",
  "repository_url": "https://api.github.com/repos/ChainSafe/lodestar",
  "labels_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/5158/labels{/name}",
  "comments_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/5158/comments",
  "events_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/5158/events",
  "html_url": "https://github.com/ChainSafe/lodestar/issues/5158",
  "id": 1587248236,
  "node_id": "I_kwDOCD5_Gc5em3xs",
  "number": 5158,
  "title": "Add VC metric to track validator statuses",
  "user": {
    "login": "nflaig",
    "id": 38436224,
    "node_id": "MDQ6VXNlcjM4NDM2MjI0",
    "avatar_url": "https://avatars.githubusercontent.com/u/38436224?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/nflaig",
    "html_url": "https://github.com/nflaig",
    "followers_url": "https://api.github.com/users/nflaig/followers",
    "following_url": "https://api.github.com/users/nflaig/following{/other_user}",
    "gists_url": "https://api.github.com/users/nflaig/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/nflaig/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/nflaig/subscriptions",
    "organizations_url": "https://api.github.com/users/nflaig/orgs",
    "repos_url": "https://api.github.com/users/nflaig/repos",
    "events_url": "https://api.github.com/users/nflaig/events{/privacy}",
    "received_events_url": "https://api.github.com/users/nflaig/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1478321239,
      "node_id": "MDU6TGFiZWwxNDc4MzIxMjM5",
      "url": "https://api.github.com/repos/ChainSafe/lodestar/labels/meta-discussion",
      "name": "meta-discussion",
      "color": "a6bddb",
      "default": false,
      "description": "Indicates a topic that requires input from various developers."
    },
    {
      "id": 2966148095,
      "node_id": "MDU6TGFiZWwyOTY2MTQ4MDk1",
      "url": "https://api.github.com/repos/ChainSafe/lodestar/labels/scope-metrics",
      "name": "scope-metrics",
      "color": "980043",
      "default": false,
      "description": "All issues with regards to the exposed metrics."
    },
    {
      "id": 4116885308,
      "node_id": "LA_kwDOCD5_Gc71Yq88",
      "url": "https://api.github.com/repos/ChainSafe/lodestar/labels/scope-ux",
      "name": "scope-ux",
      "color": "980043",
      "default": false,
      "description": "Issues for CLI UX or general consumer UX."
    },
    {
      "id": 4754137758,
      "node_id": "LA_kwDOCD5_Gc8AAAABG15ing",
      "url": "https://api.github.com/repos/ChainSafe/lodestar/labels/meta-feature-request",
      "name": "meta-feature-request",
      "color": "B5CF5F",
      "default": false,
      "description": "Issues to track feature requests."
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 12,
  "created_at": "2023-02-16T08:28:01Z",
  "updated_at": "2023-04-16T17:44:03Z",
  "closed_at": null,
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "**Is your feature request related to a problem? Please describe.**\r\n\r\nAs a node operator I want to know the status of my validators without relying on 3rd party solutions such as [beaconchai.in](https://beaconcha.in/).\r\n\r\nThe following questions should be answered\r\n\r\n- how many of my validators are active vs just imported without deposit?\r\n- how many validators have a pending deposit?\r\n- how many of my validators exited and was it voluntary or forced?\r\n- what is the state of my withdrawal if exited?\r\n\r\n\r\n**Describe the solution you'd like**\r\n\r\nAdd VC metric to track [validator statuses](https://hackmd.io/ofFJ5gOmQpu1jjHilHbdQQ) based on [getValidatorStatus](https://github.com/ChainSafe/lodestar/blob/0607fef8d9b576fd127952122cbf60adc589c629/packages/beacon-node/src/api/impl/beacon/state/utils.ts#L78).\r\n\r\nThere is already a metric to track total count of validators (`vc_indices_count`), might just need to add `status` label.\r\n\r\nhttps://github.com/ChainSafe/lodestar/blob/0607fef8d9b576fd127952122cbf60adc589c629/packages/validator/src/metrics.ts#L241-L244\r\n\r\nThis metric should then be visualized on a dashboard, [Lodestar validator client](https://github.com/ChainSafe/lodestar/blob/0607fef8d9b576fd127952122cbf60adc589c629/dashboards/lodestar_validator_client.json) looks like a good candidate as it already displays the VC indices.\r\n\r\nFinally, also need to update the metric value used for [`validator_active`](https://github.com/ChainSafe/lodestar/blob/63479b4e9a910c0d0b49fe323d367a12455b7a8a/packages/beacon-node/src/monitoring/clientStats.ts#L185) in the client monitoring to correctly only count the active validators instead of total.",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/5158/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/5158/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1433078491",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/5158#issuecomment-1433078491",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/5158",
    "id": 1433078491,
    "node_id": "IC_kwDOCD5_Gc5Vawrb",
    "user": {
      "login": "philknows",
      "id": 58080811,
      "node_id": "MDQ6VXNlcjU4MDgwODEx",
      "avatar_url": "https://avatars.githubusercontent.com/u/58080811?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/philknows",
      "html_url": "https://github.com/philknows",
      "followers_url": "https://api.github.com/users/philknows/followers",
      "following_url": "https://api.github.com/users/philknows/following{/other_user}",
      "gists_url": "https://api.github.com/users/philknows/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/philknows/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/philknows/subscriptions",
      "organizations_url": "https://api.github.com/users/philknows/orgs",
      "repos_url": "https://api.github.com/users/philknows/repos",
      "events_url": "https://api.github.com/users/philknows/events{/privacy}",
      "received_events_url": "https://api.github.com/users/philknows/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-16T13:19:47Z",
    "updated_at": "2023-02-16T13:19:47Z",
    "author_association": "MEMBER",
    "body": "This kind of ties into re-thinking a little bit about how the validator UX should look like (#4785) to the end user and how we can improve from our side.",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1433078491/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1452547338",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/5158#issuecomment-1452547338",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/5158",
    "id": 1452547338,
    "node_id": "IC_kwDOCD5_Gc5WlB0K",
    "user": {
      "login": "maschad",
      "id": 9755286,
      "node_id": "MDQ6VXNlcjk3NTUyODY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9755286?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/maschad",
      "html_url": "https://github.com/maschad",
      "followers_url": "https://api.github.com/users/maschad/followers",
      "following_url": "https://api.github.com/users/maschad/following{/other_user}",
      "gists_url": "https://api.github.com/users/maschad/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/maschad/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/maschad/subscriptions",
      "organizations_url": "https://api.github.com/users/maschad/orgs",
      "repos_url": "https://api.github.com/users/maschad/repos",
      "events_url": "https://api.github.com/users/maschad/events{/privacy}",
      "received_events_url": "https://api.github.com/users/maschad/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-03-02T21:08:00Z",
    "updated_at": "2023-03-02T21:08:00Z",
    "author_association": "CONTRIBUTOR",
    "body": "Agreed @philknows and I think this can inform how we approach https://github.com/ChainSafe/lodestar/issues/5192\r\n\r\nAlong with the `status` label we may want to track other metadata like:\r\n\r\n- `fee_recipient` set for that validator\r\n- `pubkey`\r\n- `validator index`\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1452547338/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1452597916",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/5158#issuecomment-1452597916",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/5158",
    "id": 1452597916,
    "node_id": "IC_kwDOCD5_Gc5WlOKc",
    "user": {
      "login": "maschad",
      "id": 9755286,
      "node_id": "MDQ6VXNlcjk3NTUyODY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9755286?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/maschad",
      "html_url": "https://github.com/maschad",
      "followers_url": "https://api.github.com/users/maschad/followers",
      "following_url": "https://api.github.com/users/maschad/following{/other_user}",
      "gists_url": "https://api.github.com/users/maschad/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/maschad/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/maschad/subscriptions",
      "organizations_url": "https://api.github.com/users/maschad/orgs",
      "repos_url": "https://api.github.com/users/maschad/repos",
      "events_url": "https://api.github.com/users/maschad/events{/privacy}",
      "received_events_url": "https://api.github.com/users/maschad/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-03-02T21:52:32Z",
    "updated_at": "2023-03-02T21:52:32Z",
    "author_association": "CONTRIBUTOR",
    "body": "[Lighthouse's Validator Monitor Metrics](https://github.com/sigp/lighthouse-metrics/blob/master/dashboards/ValidatorMonitor.json#L38) tracks a few things we may be interested in such as:\r\n\r\n- [Total Monitored Validators](https://github.com/sigp/lighthouse-metrics/blob/master/dashboards/ValidatorMonitor.json#L111)\r\n- [Active Validators](https://github.com/sigp/lighthouse-metrics/blob/master/dashboards/ValidatorMonitor.json#L207)\r\n- [Slashed Validators](https://github.com/sigp/lighthouse-metrics/blob/master/dashboards/ValidatorMonitor.json#L266)\r\n- [Validator Balance](https://github.com/sigp/lighthouse-metrics/blob/master/dashboards/ValidatorMonitor.json#L332)\r\n- [Exited Validators](https://github.com/sigp/lighthouse-metrics/blob/master/dashboards/ValidatorMonitor.json#L428)\r\n- [Withdrawable Validators](https://github.com/sigp/lighthouse-metrics/blob/master/dashboards/ValidatorMonitor.json#LL487C8-L487C8)\r\n\r\nI think this is pretty comprehensive. wdyt @nflaig ?",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1452597916/reactions",
      "total_count": 3,
      "+1": 3,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1452663870",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/5158#issuecomment-1452663870",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/5158",
    "id": 1452663870,
    "node_id": "IC_kwDOCD5_Gc5WleQ-",
    "user": {
      "login": "maschad",
      "id": 9755286,
      "node_id": "MDQ6VXNlcjk3NTUyODY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9755286?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/maschad",
      "html_url": "https://github.com/maschad",
      "followers_url": "https://api.github.com/users/maschad/followers",
      "following_url": "https://api.github.com/users/maschad/following{/other_user}",
      "gists_url": "https://api.github.com/users/maschad/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/maschad/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/maschad/subscriptions",
      "organizations_url": "https://api.github.com/users/maschad/orgs",
      "repos_url": "https://api.github.com/users/maschad/repos",
      "events_url": "https://api.github.com/users/maschad/events{/privacy}",
      "received_events_url": "https://api.github.com/users/maschad/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-03-02T22:43:14Z",
    "updated_at": "2023-03-02T22:43:26Z",
    "author_association": "CONTRIBUTOR",
    "body": "Following up from https://github.com/ChainSafe/lodestar/pull/5161 we would need to do some refactoring in order to get all this data in an accessible place, we want to ensure that we log **every epoch**  i.e. [not conditionally](https://github.com/ChainSafe/lodestar/blob/9b6cab154b81cb573ef2b62df989558346314f1f/packages/validator/src/services/validatorStore.ts#L177) - The main issue here is that given  Validator status  should be logged and tracked **every epoch**, [getStateValidators](https://github.com/ChainSafe/lodestar/blob/9b6cab154b81cb573ef2b62df989558346314f1f/packages/api/src/beacon/routes/beacon/state.ts#L136) , what's the cost of making this api call every epoch? @tuyennhv @dapplion @wemeetagain ",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1452663870/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1452731175",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/5158#issuecomment-1452731175",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/5158",
    "id": 1452731175,
    "node_id": "IC_kwDOCD5_Gc5Wlusn",
    "user": {
      "login": "dapplion",
      "id": 35266934,
      "node_id": "MDQ6VXNlcjM1MjY2OTM0",
      "avatar_url": "https://avatars.githubusercontent.com/u/35266934?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dapplion",
      "html_url": "https://github.com/dapplion",
      "followers_url": "https://api.github.com/users/dapplion/followers",
      "following_url": "https://api.github.com/users/dapplion/following{/other_user}",
      "gists_url": "https://api.github.com/users/dapplion/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dapplion/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dapplion/subscriptions",
      "organizations_url": "https://api.github.com/users/dapplion/orgs",
      "repos_url": "https://api.github.com/users/dapplion/repos",
      "events_url": "https://api.github.com/users/dapplion/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dapplion/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-03-02T23:42:37Z",
    "updated_at": "2023-03-02T23:42:37Z",
    "author_association": "MEMBER",
    "body": "Why does it have to be logged every epoch? Where does this requirement come from? getStateValidators is somewhat expensive to keep polling regularly",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1452731175/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1452757240",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/5158#issuecomment-1452757240",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/5158",
    "id": 1452757240,
    "node_id": "IC_kwDOCD5_Gc5Wl1D4",
    "user": {
      "login": "maschad",
      "id": 9755286,
      "node_id": "MDQ6VXNlcjk3NTUyODY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9755286?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/maschad",
      "html_url": "https://github.com/maschad",
      "followers_url": "https://api.github.com/users/maschad/followers",
      "following_url": "https://api.github.com/users/maschad/following{/other_user}",
      "gists_url": "https://api.github.com/users/maschad/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/maschad/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/maschad/subscriptions",
      "organizations_url": "https://api.github.com/users/maschad/orgs",
      "repos_url": "https://api.github.com/users/maschad/repos",
      "events_url": "https://api.github.com/users/maschad/events{/privacy}",
      "received_events_url": "https://api.github.com/users/maschad/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-03-03T00:15:50Z",
    "updated_at": "2023-03-03T00:16:28Z",
    "author_association": "CONTRIBUTOR",
    "body": "> Why does it have to be logged every epoch? Where does this requirement come from? \n\nhttps://github.com/ChainSafe/lodestar/issues/4785#issuecomment-1348892078\n\nThat was the impetus behind #5161.\n\nPerhaps we should cache this response then.",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1452757240/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1453114132",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/5158#issuecomment-1453114132",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/5158",
    "id": 1453114132,
    "node_id": "IC_kwDOCD5_Gc5WnMMU",
    "user": {
      "login": "nflaig",
      "id": 38436224,
      "node_id": "MDQ6VXNlcjM4NDM2MjI0",
      "avatar_url": "https://avatars.githubusercontent.com/u/38436224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nflaig",
      "html_url": "https://github.com/nflaig",
      "followers_url": "https://api.github.com/users/nflaig/followers",
      "following_url": "https://api.github.com/users/nflaig/following{/other_user}",
      "gists_url": "https://api.github.com/users/nflaig/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nflaig/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nflaig/subscriptions",
      "organizations_url": "https://api.github.com/users/nflaig/orgs",
      "repos_url": "https://api.github.com/users/nflaig/repos",
      "events_url": "https://api.github.com/users/nflaig/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nflaig/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-03-03T07:49:51Z",
    "updated_at": "2023-03-03T07:49:51Z",
    "author_association": "MEMBER",
    "body": "The Lighthouse validator monitor dashboard looks pretty complete to me and should answer most of the questions mentioned in the issue.\r\n\r\nThe question is where should those metrics be gathered from and displayed.  If we use the `validator_monitor` metrics we need to get them from the BN and display them on the [validator monitor dashboard](https://github.com/ChainSafe/lodestar/blob/unstable/dashboards/lodestar_validator_monitor.json).\r\n\r\nThe initial idea of the issue was to get the metrics from the VC and display them on the [validator client dashboard](https://github.com/ChainSafe/lodestar/blob/unstable/dashboards/lodestar_validator_client.json). In the end, I think we want both as we should see the VC and BN as independent services.",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1453114132/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1453855827",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/5158#issuecomment-1453855827",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/5158",
    "id": 1453855827,
    "node_id": "IC_kwDOCD5_Gc5WqBRT",
    "user": {
      "login": "maschad",
      "id": 9755286,
      "node_id": "MDQ6VXNlcjk3NTUyODY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9755286?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/maschad",
      "html_url": "https://github.com/maschad",
      "followers_url": "https://api.github.com/users/maschad/followers",
      "following_url": "https://api.github.com/users/maschad/following{/other_user}",
      "gists_url": "https://api.github.com/users/maschad/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/maschad/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/maschad/subscriptions",
      "organizations_url": "https://api.github.com/users/maschad/orgs",
      "repos_url": "https://api.github.com/users/maschad/repos",
      "events_url": "https://api.github.com/users/maschad/events{/privacy}",
      "received_events_url": "https://api.github.com/users/maschad/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-03-03T17:22:13Z",
    "updated_at": "2023-03-03T17:22:13Z",
    "author_association": "CONTRIBUTOR",
    "body": "I would say if we are using Lighthouse as an example it would be more appropriate in the [validator **monitor** dashboard](https://github.com/ChainSafe/lodestar/blob/unstable/dashboards/lodestar_validator_monitor.json?rgh-link-date=2023-03-03T07%3A49%3A51Z) , I think we can delegate metrics related to attestations, publishing, block proposals, proofs and overall consensus between nodes to the [validator **client** dashboard](https://github.com/ChainSafe/lodestar/blob/unstable/dashboards/lodestar_validator_client.json?rgh-link-date=2023-03-03T07%3A49%3A51Z).",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1453855827/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1453960339",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/5158#issuecomment-1453960339",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/5158",
    "id": 1453960339,
    "node_id": "IC_kwDOCD5_Gc5WqayT",
    "user": {
      "login": "nflaig",
      "id": 38436224,
      "node_id": "MDQ6VXNlcjM4NDM2MjI0",
      "avatar_url": "https://avatars.githubusercontent.com/u/38436224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nflaig",
      "html_url": "https://github.com/nflaig",
      "followers_url": "https://api.github.com/users/nflaig/followers",
      "following_url": "https://api.github.com/users/nflaig/following{/other_user}",
      "gists_url": "https://api.github.com/users/nflaig/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nflaig/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nflaig/subscriptions",
      "organizations_url": "https://api.github.com/users/nflaig/orgs",
      "repos_url": "https://api.github.com/users/nflaig/repos",
      "events_url": "https://api.github.com/users/nflaig/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nflaig/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-03-03T18:50:39Z",
    "updated_at": "2023-03-03T18:50:39Z",
    "author_association": "MEMBER",
    "body": "They still have few metrics in their [validator client dashboard](https://github.com/sigp/lighthouse-metrics/blob/master/dashboards/ValidatorClient.json), such as [total validators](https://github.com/sigp/lighthouse-metrics/blob/71054d58b340a5f01f0da0cc24f900035247388f/dashboards/ValidatorClient.json#L908) and [enabled validators](https://github.com/sigp/lighthouse-metrics/blob/71054d58b340a5f01f0da0cc24f900035247388f/dashboards/ValidatorClient.json#L807). ",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1453960339/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1454052654",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/5158#issuecomment-1454052654",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/5158",
    "id": 1454052654,
    "node_id": "IC_kwDOCD5_Gc5WqxUu",
    "user": {
      "login": "wemeetagain",
      "id": 1348242,
      "node_id": "MDQ6VXNlcjEzNDgyNDI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1348242?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wemeetagain",
      "html_url": "https://github.com/wemeetagain",
      "followers_url": "https://api.github.com/users/wemeetagain/followers",
      "following_url": "https://api.github.com/users/wemeetagain/following{/other_user}",
      "gists_url": "https://api.github.com/users/wemeetagain/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wemeetagain/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wemeetagain/subscriptions",
      "organizations_url": "https://api.github.com/users/wemeetagain/orgs",
      "repos_url": "https://api.github.com/users/wemeetagain/repos",
      "events_url": "https://api.github.com/users/wemeetagain/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wemeetagain/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-03-03T19:51:09Z",
    "updated_at": "2023-03-03T19:51:09Z",
    "author_association": "MEMBER",
    "body": "> Perhaps we should cache this response then.\r\n\r\nThis won't do if we're trying to track statuses. These statuses are things that can change every epoch, so using cached statuses will just return the old statuses and not the (possibly) changed statuses.\r\n\r\n>  getStateValidators is somewhat expensive to keep polling regularly\r\n\r\n@dapplion what do you mean? we poll it regularly right now (as long as we haven't discovered all attached validators)\r\n\r\nRE validator monitor vs validator client metrics, my opinion is that additional logs / metrics is a nice-to-have that should be weighed against additional validator / beacon node load. We also need to be very thoughtful and explicit about what additional logs and metrics are actually helpful for users, and what things are just us doing make-work.",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1454052654/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1457266255",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/5158#issuecomment-1457266255",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/5158",
    "id": 1457266255,
    "node_id": "IC_kwDOCD5_Gc5W3B5P",
    "user": {
      "login": "dapplion",
      "id": 35266934,
      "node_id": "MDQ6VXNlcjM1MjY2OTM0",
      "avatar_url": "https://avatars.githubusercontent.com/u/35266934?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dapplion",
      "html_url": "https://github.com/dapplion",
      "followers_url": "https://api.github.com/users/dapplion/followers",
      "following_url": "https://api.github.com/users/dapplion/following{/other_user}",
      "gists_url": "https://api.github.com/users/dapplion/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dapplion/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dapplion/subscriptions",
      "organizations_url": "https://api.github.com/users/dapplion/orgs",
      "repos_url": "https://api.github.com/users/dapplion/repos",
      "events_url": "https://api.github.com/users/dapplion/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dapplion/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-03-07T00:25:58Z",
    "updated_at": "2023-03-07T00:25:58Z",
    "author_association": "MEMBER",
    "body": "> @dapplion what do you mean? we poll it regularly right now (as long as we haven't discovered all attached validators)\r\n\r\nRight but once everyone is discovered we stop. If I understand the plan is to check the status of each connected validator every epoch",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1457266255/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1498653008",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/5158#issuecomment-1498653008",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/5158",
    "id": 1498653008,
    "node_id": "IC_kwDOCD5_Gc5ZU6FQ",
    "user": {
      "login": "nflaig",
      "id": 38436224,
      "node_id": "MDQ6VXNlcjM4NDM2MjI0",
      "avatar_url": "https://avatars.githubusercontent.com/u/38436224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nflaig",
      "html_url": "https://github.com/nflaig",
      "followers_url": "https://api.github.com/users/nflaig/followers",
      "following_url": "https://api.github.com/users/nflaig/following{/other_user}",
      "gists_url": "https://api.github.com/users/nflaig/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nflaig/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nflaig/subscriptions",
      "organizations_url": "https://api.github.com/users/nflaig/orgs",
      "repos_url": "https://api.github.com/users/nflaig/repos",
      "events_url": "https://api.github.com/users/nflaig/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nflaig/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-06T08:05:03Z",
    "updated_at": "2023-04-06T08:05:03Z",
    "author_association": "MEMBER",
    "body": "> Why does it have to be logged every epoch? Where does this requirement come from? getStateValidators is somewhat expensive to keep polling regularly\r\n\r\nLooks like all other VCs poll `getStateValidators` every epoch, I agree that should be conservative where possible but if another VC is used with Lodestar BN this will happen either way",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1498653008/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
