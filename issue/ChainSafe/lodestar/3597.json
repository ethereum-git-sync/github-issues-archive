{
  "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/3597",
  "repository_url": "https://api.github.com/repos/ChainSafe/lodestar",
  "labels_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/3597/labels{/name}",
  "comments_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/3597/comments",
  "events_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/3597/events",
  "html_url": "https://github.com/ChainSafe/lodestar/issues/3597",
  "id": 1097272907,
  "node_id": "I_kwDOCD5_Gc5BZw5L",
  "number": 3597,
  "title": "Error updating eth1 chain cache message=Invalid length index (kintsugi-lodestar-geth/nethermind)",
  "user": {
    "login": "SeaMonkey82",
    "id": 20866869,
    "node_id": "MDQ6VXNlcjIwODY2ODY5",
    "avatar_url": "https://avatars.githubusercontent.com/u/20866869?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/SeaMonkey82",
    "html_url": "https://github.com/SeaMonkey82",
    "followers_url": "https://api.github.com/users/SeaMonkey82/followers",
    "following_url": "https://api.github.com/users/SeaMonkey82/following{/other_user}",
    "gists_url": "https://api.github.com/users/SeaMonkey82/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/SeaMonkey82/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/SeaMonkey82/subscriptions",
    "organizations_url": "https://api.github.com/users/SeaMonkey82/orgs",
    "repos_url": "https://api.github.com/users/SeaMonkey82/repos",
    "events_url": "https://api.github.com/users/SeaMonkey82/events{/privacy}",
    "received_events_url": "https://api.github.com/users/SeaMonkey82/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 3352623099,
      "node_id": "MDU6TGFiZWwzMzUyNjIzMDk5",
      "url": "https://api.github.com/repos/ChainSafe/lodestar/labels/spec-bellatrix%20%F0%9F%90%BC",
      "name": "spec-bellatrix ðŸ¼",
      "color": "6baed6",
      "default": false,
      "description": "Issues targeting the merge spec version."
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "g11tech",
    "id": 76567250,
    "node_id": "MDQ6VXNlcjc2NTY3MjUw",
    "avatar_url": "https://avatars.githubusercontent.com/u/76567250?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/g11tech",
    "html_url": "https://github.com/g11tech",
    "followers_url": "https://api.github.com/users/g11tech/followers",
    "following_url": "https://api.github.com/users/g11tech/following{/other_user}",
    "gists_url": "https://api.github.com/users/g11tech/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/g11tech/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/g11tech/subscriptions",
    "organizations_url": "https://api.github.com/users/g11tech/orgs",
    "repos_url": "https://api.github.com/users/g11tech/repos",
    "events_url": "https://api.github.com/users/g11tech/events{/privacy}",
    "received_events_url": "https://api.github.com/users/g11tech/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "g11tech",
      "id": 76567250,
      "node_id": "MDQ6VXNlcjc2NTY3MjUw",
      "avatar_url": "https://avatars.githubusercontent.com/u/76567250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/g11tech",
      "html_url": "https://github.com/g11tech",
      "followers_url": "https://api.github.com/users/g11tech/followers",
      "following_url": "https://api.github.com/users/g11tech/following{/other_user}",
      "gists_url": "https://api.github.com/users/g11tech/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/g11tech/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/g11tech/subscriptions",
      "organizations_url": "https://api.github.com/users/g11tech/orgs",
      "repos_url": "https://api.github.com/users/g11tech/repos",
      "events_url": "https://api.github.com/users/g11tech/events{/privacy}",
      "received_events_url": "https://api.github.com/users/g11tech/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 15,
  "created_at": "2022-01-09T18:50:28Z",
  "updated_at": "2022-01-31T12:24:13Z",
  "closed_at": "2022-01-27T20:10:16Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "**Describe the bug**\r\n\r\nFlood of this error\r\n`Error updating eth1 chain cache message=Invalid length index`\r\n\r\n**Expected behavior**\r\n\r\nnon-error output\r\n\r\n**Steps to Reproduce**\r\n\r\nSync kintsugi-lodestar-geth or kintsugi-lodestar-nethermind (maybe all EL clients?)\r\n\r\n**~~Screenshots~~ Output**\r\n\r\n```\r\nError: Invalid length index\r\n    at CompositeListType.tree_setProperty (/home/seamonkey/Downloads/merge-testnets/kintsugi/lodestar/node_modules/@chainsafe/ssz/src/types/composite/list.ts:494:13)\r\n    at CompositeListTreeValue.setProperty (/home/seamonkey/Downloads/merge-testnets/kintsugi/lodestar/node_modules/@chainsafe/ssz/src/backings/tree/treeValue.ts:294:22)\r\n    at Object.set (/home/seamonkey/Downloads/merge-testnets/kintsugi/lodestar/node_modules/@chainsafe/ssz/src/backings/tree/treeValue.ts:92:19)\r\n    at DepositDataRootRepository.batchPut (/home/seamonkey/Downloads/merge-testnets/kintsugi/lodestar/packages/lodestar/src/db/repositories/depositDataRoot.ts:34:27)\r\n    at DepositDataRootRepository.batchPutValues (/home/seamonkey/Downloads/merge-testnets/kintsugi/lodestar/packages/lodestar/src/db/repositories/depositDataRoot.ts:43:5)\r\n    at Eth1DepositsCache.add (/home/seamonkey/Downloads/merge-testnets/kintsugi/lodestar/packages/lodestar/src/eth1/eth1DepositsCache.ts:59:5)\r\n    at Eth1DepositDataTracker.updateDepositCache (/home/seamonkey/Downloads/merge-testnets/kintsugi/lodestar/packages/lodestar/src/eth1/eth1DepositDataTracker.ts:163:5)\r\n    at Eth1DepositDataTracker.update (/home/seamonkey/Downloads/merge-testnets/kintsugi/lodestar/packages/lodestar/src/eth1/eth1DepositDataTracker.ts:144:33)\r\n    at Eth1DepositDataTracker.runAutoUpdate (/home/seamonkey/Downloads/merge-testnets/kintsugi/lodestar/packages/lodestar/src/eth1/eth1DepositDataTracker.ts:118:29)\r\n```\r\n\r\n**Desktop (please complete the following information):**\r\n\r\n- OS: Linux Mint\r\n- Version: 20.3\r\n- Branch: master\r\n- Commit hash: 3e8ed5c06c6ff69f3310366c974f68e33cba856e\r\n",
  "closed_by": {
    "login": "g11tech",
    "id": 76567250,
    "node_id": "MDQ6VXNlcjc2NTY3MjUw",
    "avatar_url": "https://avatars.githubusercontent.com/u/76567250?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/g11tech",
    "html_url": "https://github.com/g11tech",
    "followers_url": "https://api.github.com/users/g11tech/followers",
    "following_url": "https://api.github.com/users/g11tech/following{/other_user}",
    "gists_url": "https://api.github.com/users/g11tech/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/g11tech/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/g11tech/subscriptions",
    "organizations_url": "https://api.github.com/users/g11tech/orgs",
    "repos_url": "https://api.github.com/users/g11tech/repos",
    "events_url": "https://api.github.com/users/g11tech/events{/privacy}",
    "received_events_url": "https://api.github.com/users/g11tech/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/3597/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/3597/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1012675466",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/3597#issuecomment-1012675466",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/3597",
    "id": 1012675466,
    "node_id": "IC_kwDOCD5_Gc48XDOK",
    "user": {
      "login": "philknows",
      "id": 58080811,
      "node_id": "MDQ6VXNlcjU4MDgwODEx",
      "avatar_url": "https://avatars.githubusercontent.com/u/58080811?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/philknows",
      "html_url": "https://github.com/philknows",
      "followers_url": "https://api.github.com/users/philknows/followers",
      "following_url": "https://api.github.com/users/philknows/following{/other_user}",
      "gists_url": "https://api.github.com/users/philknows/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/philknows/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/philknows/subscriptions",
      "organizations_url": "https://api.github.com/users/philknows/orgs",
      "repos_url": "https://api.github.com/users/philknows/repos",
      "events_url": "https://api.github.com/users/philknows/events{/privacy}",
      "received_events_url": "https://api.github.com/users/philknows/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-14T01:48:37Z",
    "updated_at": "2022-01-14T01:48:37Z",
    "author_association": "MEMBER",
    "body": "Interesting... haven't seen this one before @g11tech.",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1012675466/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1012828928",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/3597#issuecomment-1012828928",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/3597",
    "id": 1012828928,
    "node_id": "IC_kwDOCD5_Gc48XosA",
    "user": {
      "login": "g11tech",
      "id": 76567250,
      "node_id": "MDQ6VXNlcjc2NTY3MjUw",
      "avatar_url": "https://avatars.githubusercontent.com/u/76567250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/g11tech",
      "html_url": "https://github.com/g11tech",
      "followers_url": "https://api.github.com/users/g11tech/followers",
      "following_url": "https://api.github.com/users/g11tech/following{/other_user}",
      "gists_url": "https://api.github.com/users/g11tech/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/g11tech/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/g11tech/subscriptions",
      "organizations_url": "https://api.github.com/users/g11tech/orgs",
      "repos_url": "https://api.github.com/users/g11tech/repos",
      "events_url": "https://api.github.com/users/g11tech/events{/privacy}",
      "received_events_url": "https://api.github.com/users/g11tech/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-14T06:57:59Z",
    "updated_at": "2022-01-14T07:04:51Z",
    "author_association": "CONTRIBUTOR",
    "body": "@SeaMonkey82 is this coming now/reproducible? couldn't find this in the log of the recently updated kintsugi nodes\r\n\r\n@philknows seems like deposit data is not correct, not a kintsugi issue though, but could be because of bad blocks that are being pushed into network as part of robustness/stress testing.",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1012828928/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1013067521",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/3597#issuecomment-1013067521",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/3597",
    "id": 1013067521,
    "node_id": "IC_kwDOCD5_Gc48Yi8B",
    "user": {
      "login": "SeaMonkey82",
      "id": 20866869,
      "node_id": "MDQ6VXNlcjIwODY2ODY5",
      "avatar_url": "https://avatars.githubusercontent.com/u/20866869?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SeaMonkey82",
      "html_url": "https://github.com/SeaMonkey82",
      "followers_url": "https://api.github.com/users/SeaMonkey82/followers",
      "following_url": "https://api.github.com/users/SeaMonkey82/following{/other_user}",
      "gists_url": "https://api.github.com/users/SeaMonkey82/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SeaMonkey82/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SeaMonkey82/subscriptions",
      "organizations_url": "https://api.github.com/users/SeaMonkey82/orgs",
      "repos_url": "https://api.github.com/users/SeaMonkey82/repos",
      "events_url": "https://api.github.com/users/SeaMonkey82/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SeaMonkey82/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-14T12:13:20Z",
    "updated_at": "2022-01-14T12:16:23Z",
    "author_association": "NONE",
    "body": "*edit* Different error now.  \r\n\r\n```\r\nâžœ  lodestar git:(master) ./lodestar --version\r\nðŸŒŸ Lodestar: TypeScript Implementation of the Ethereum 2.0 Beacon Chain.\r\n  * Version: v0.32.0/master/+85/b4facd38 (git)\r\n```\r\n\r\n```\r\nJan-14 07:16:08.737 [NETWORK]         error: Error adding aggregated attestation to forkchoice slot=208555 code=FORKCHOICE_ERROR_INVALID_ATTESTATION, err={\"code\":\"FUTURE_SLOT\",\"attestationSlot\":208555,\"latestPermissibleSlot\":208554}\r\nError: FORKCHOICE_ERROR_INVALID_ATTESTATION\r\n    at ForkChoice.validateAttestationData (/home/seamonkey/Downloads/merge-testnets/kintsugi/lodestar/packages/fork-choice/src/forkChoice/forkChoice.ts:808:13)\r\n    at ForkChoice.validateOnAttestation (/home/seamonkey/Downloads/merge-testnets/kintsugi/lodestar/packages/fork-choice/src/forkChoice/forkChoice.ts:763:10)\r\n    at ForkChoice.onAttestation (/home/seamonkey/Downloads/merge-testnets/kintsugi/lodestar/packages/fork-choice/src/forkChoice/forkChoice.ts:421:10)\r\n    at beacon_aggregate_and_proof (/home/seamonkey/Downloads/merge-testnets/kintsugi/lodestar/packages/lodestar/src/network/gossip/handlers/index.ts:173:30)\r\n    at Object.gossipValidatorFn [as beacon_aggregate_and_proof] (/home/seamonkey/Downloads/merge-testnets/kintsugi/lodestar/packages/lodestar/src/network/gossip/validation/index.ts:110:7)\r\n    at Eth2Gossipsub.validate (/home/seamonkey/Downloads/merge-testnets/kintsugi/lodestar/packages/lodestar/src/network/gossip/gossipsub.ts:282:7)\r\n    at Eth2Gossipsub._processRpcMessage (/home/seamonkey/Downloads/merge-testnets/kintsugi/lodestar/node_modules/libp2p-interfaces/src/pubsub/index.js:449:7)\r\n```\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1013067521/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1013083517",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/3597#issuecomment-1013083517",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/3597",
    "id": 1013083517,
    "node_id": "IC_kwDOCD5_Gc48Ym19",
    "user": {
      "login": "g11tech",
      "id": 76567250,
      "node_id": "MDQ6VXNlcjc2NTY3MjUw",
      "avatar_url": "https://avatars.githubusercontent.com/u/76567250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/g11tech",
      "html_url": "https://github.com/g11tech",
      "followers_url": "https://api.github.com/users/g11tech/followers",
      "following_url": "https://api.github.com/users/g11tech/following{/other_user}",
      "gists_url": "https://api.github.com/users/g11tech/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/g11tech/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/g11tech/subscriptions",
      "organizations_url": "https://api.github.com/users/g11tech/orgs",
      "repos_url": "https://api.github.com/users/g11tech/repos",
      "events_url": "https://api.github.com/users/g11tech/events{/privacy}",
      "received_events_url": "https://api.github.com/users/g11tech/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-14T12:38:49Z",
    "updated_at": "2022-01-14T12:38:49Z",
    "author_association": "CONTRIBUTOR",
    "body": "> \r\n\r\nthis error looks legit, as the attestation arrive for a future slot it seems as we currently reject future slot attestation/arriving early  than expected.",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1013083517/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1013394850",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/3597#issuecomment-1013394850",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/3597",
    "id": 1013394850,
    "node_id": "IC_kwDOCD5_Gc48Zy2i",
    "user": {
      "login": "SeaMonkey82",
      "id": 20866869,
      "node_id": "MDQ6VXNlcjIwODY2ODY5",
      "avatar_url": "https://avatars.githubusercontent.com/u/20866869?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SeaMonkey82",
      "html_url": "https://github.com/SeaMonkey82",
      "followers_url": "https://api.github.com/users/SeaMonkey82/followers",
      "following_url": "https://api.github.com/users/SeaMonkey82/following{/other_user}",
      "gists_url": "https://api.github.com/users/SeaMonkey82/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SeaMonkey82/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SeaMonkey82/subscriptions",
      "organizations_url": "https://api.github.com/users/SeaMonkey82/orgs",
      "repos_url": "https://api.github.com/users/SeaMonkey82/repos",
      "events_url": "https://api.github.com/users/SeaMonkey82/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SeaMonkey82/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-14T19:24:34Z",
    "updated_at": "2022-01-14T19:24:34Z",
    "author_association": "NONE",
    "body": "```\r\nJan-14 14:24:03.405 [ETH1]            error: Error updating eth1 chain cache message=Invalid length index\r\nError: Invalid length index\r\n    at CompositeListType.tree_setProperty (/home/seamonkey/Downloads/merge-testnets/kintsugi/lodestar/node_modules/@chainsafe/ssz/src/types/composite/list.ts:494:13)\r\n    at CompositeListTreeValue.setProperty (/home/seamonkey/Downloads/merge-testnets/kintsugi/lodestar/node_modules/@chainsafe/ssz/src/backings/tree/treeValue.ts:294:22)\r\n    at Object.set (/home/seamonkey/Downloads/merge-testnets/kintsugi/lodestar/node_modules/@chainsafe/ssz/src/backings/tree/treeValue.ts:92:19)\r\n    at DepositDataRootRepository.batchPut (/home/seamonkey/Downloads/merge-testnets/kintsugi/lodestar/packages/lodestar/src/db/repositories/depositDataRoot.ts:34:27)\r\n    at DepositDataRootRepository.batchPutValues (/home/seamonkey/Downloads/merge-testnets/kintsugi/lodestar/packages/lodestar/src/db/repositories/depositDataRoot.ts:43:5)\r\n    at Eth1DepositsCache.add (/home/seamonkey/Downloads/merge-testnets/kintsugi/lodestar/packages/lodestar/src/eth1/eth1DepositsCache.ts:59:5)\r\n    at Eth1DepositDataTracker.updateDepositCache (/home/seamonkey/Downloads/merge-testnets/kintsugi/lodestar/packages/lodestar/src/eth1/eth1DepositDataTracker.ts:163:5)\r\n    at Eth1DepositDataTracker.update (/home/seamonkey/Downloads/merge-testnets/kintsugi/lodestar/packages/lodestar/src/eth1/eth1DepositDataTracker.ts:144:33)\r\n    at Eth1DepositDataTracker.runAutoUpdate (/home/seamonkey/Downloads/merge-testnets/kintsugi/lodestar/packages/lodestar/src/eth1/eth1DepositDataTracker.ts:118:29)\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1013394850/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1013631935",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/3597#issuecomment-1013631935",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/3597",
    "id": 1013631935,
    "node_id": "IC_kwDOCD5_Gc48asu_",
    "user": {
      "login": "g11tech",
      "id": 76567250,
      "node_id": "MDQ6VXNlcjc2NTY3MjUw",
      "avatar_url": "https://avatars.githubusercontent.com/u/76567250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/g11tech",
      "html_url": "https://github.com/g11tech",
      "followers_url": "https://api.github.com/users/g11tech/followers",
      "following_url": "https://api.github.com/users/g11tech/following{/other_user}",
      "gists_url": "https://api.github.com/users/g11tech/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/g11tech/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/g11tech/subscriptions",
      "organizations_url": "https://api.github.com/users/g11tech/orgs",
      "repos_url": "https://api.github.com/users/g11tech/repos",
      "events_url": "https://api.github.com/users/g11tech/events{/privacy}",
      "received_events_url": "https://api.github.com/users/g11tech/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-15T07:20:07Z",
    "updated_at": "2022-01-15T07:20:07Z",
    "author_association": "CONTRIBUTOR",
    "body": "> ```\r\n> Jan-14 14:24:03.405 [ETH1]            error: Error updating eth1 chain cache message=Invalid length index\r\n> Error: Invalid length index\r\n>     at CompositeListType.tree_setProperty (/home/seamonkey/Downloads/merge-testnets/kintsugi/lodestar/node_modules/@chainsafe/ssz/src/types/composite/list.ts:494:13)\r\n>     at CompositeListTreeValue.setProperty (/home/seamonkey/Downloads/merge-testnets/kintsugi/lodestar/node_modules/@chainsafe/ssz/src/backings/tree/treeValue.ts:294:22)\r\n>     at Object.set (/home/seamonkey/Downloads/merge-testnets/kintsugi/lodestar/node_modules/@chainsafe/ssz/src/backings/tree/treeValue.ts:92:19)\r\n>     at DepositDataRootRepository.batchPut (/home/seamonkey/Downloads/merge-testnets/kintsugi/lodestar/packages/lodestar/src/db/repositories/depositDataRoot.ts:34:27)\r\n>     at DepositDataRootRepository.batchPutValues (/home/seamonkey/Downloads/merge-testnets/kintsugi/lodestar/packages/lodestar/src/db/repositories/depositDataRoot.ts:43:5)\r\n>     at Eth1DepositsCache.add (/home/seamonkey/Downloads/merge-testnets/kintsugi/lodestar/packages/lodestar/src/eth1/eth1DepositsCache.ts:59:5)\r\n>     at Eth1DepositDataTracker.updateDepositCache (/home/seamonkey/Downloads/merge-testnets/kintsugi/lodestar/packages/lodestar/src/eth1/eth1DepositDataTracker.ts:163:5)\r\n>     at Eth1DepositDataTracker.update (/home/seamonkey/Downloads/merge-testnets/kintsugi/lodestar/packages/lodestar/src/eth1/eth1DepositDataTracker.ts:144:33)\r\n>     at Eth1DepositDataTracker.runAutoUpdate (/home/seamonkey/Downloads/merge-testnets/kintsugi/lodestar/packages/lodestar/src/eth1/eth1DepositDataTracker.ts:118:29)\r\n> ```\r\n\r\nHi @SeaMonkey82 Since  am not able to see this on our nodes.  Could you help me with these? :slightly_smiling_face: \r\nwhich commit hash for lodestar, geth/nethermind (or better yet docker images) ?\r\nIs it a random occurrence or do you see this consistently ? \r\ncould you include a bit more of log above and below this error? \r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1013631935/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1013680613",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/3597#issuecomment-1013680613",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/3597",
    "id": 1013680613,
    "node_id": "IC_kwDOCD5_Gc48a4nl",
    "user": {
      "login": "SeaMonkey82",
      "id": 20866869,
      "node_id": "MDQ6VXNlcjIwODY2ODY5",
      "avatar_url": "https://avatars.githubusercontent.com/u/20866869?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SeaMonkey82",
      "html_url": "https://github.com/SeaMonkey82",
      "followers_url": "https://api.github.com/users/SeaMonkey82/followers",
      "following_url": "https://api.github.com/users/SeaMonkey82/following{/other_user}",
      "gists_url": "https://api.github.com/users/SeaMonkey82/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SeaMonkey82/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SeaMonkey82/subscriptions",
      "organizations_url": "https://api.github.com/users/SeaMonkey82/orgs",
      "repos_url": "https://api.github.com/users/SeaMonkey82/repos",
      "events_url": "https://api.github.com/users/SeaMonkey82/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SeaMonkey82/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-15T13:15:01Z",
    "updated_at": "2022-01-15T13:18:02Z",
    "author_association": "NONE",
    "body": "```\r\nâžœ  lodestar git:(master) ./lodestar --version\r\nðŸŒŸ Lodestar: TypeScript Implementation of the Ethereum 2.0 Beacon Chain.\r\n  * Version: v0.32.0/master/+85/b4facd38 (git)\r\n```\r\n\r\n```\r\nâžœ  lodestar git:(master) geth-kintsugi version\r\nGeth\r\nVersion: 1.10.16-unstable\r\nGit Commit: 63a89820ca9721ef2256859391db5a5920faf16c\r\nGit Commit Date: 20220110\r\nArchitecture: amd64\r\nGo Version: go1.17.5\r\nOperating System: linux\r\n```\r\n\r\n```\r\nâžœ  Nethermind.Runner git:(b565ffba0) âœ— dotnet run -c Release -- --version                                                                                               \r\n2022-01-15 08-16-34.7059|Nethermind starting initialization.\r\n2022-01-15 08-16-34.7367|Loading embedded plugins\r\n2022-01-15 08-16-34.7368|  Found plugin type Nethermind.Consensus.AuRa.AuRaPlugin\r\n2022-01-15 08-16-34.7368|  Found plugin type Nethermind.Consensus.Clique.CliquePlugin\r\n2022-01-15 08-16-34.7368|  Found plugin type Nethermind.Consensus.Ethash.EthashPlugin\r\n2022-01-15 08-16-34.7368|  Found plugin type Nethermind.Consensus.Ethash.NethDevPlugin\r\nResolved executing directory as /home/seamonkey/Downloads/merge-testnets/kintsugi/nethermind/src/Nethermind/Nethermind.Runner/bin/Release/net6.0.\r\n2022-01-15 08-16-34.7437|Loading 7 assemblies from /home/seamonkey/Downloads/merge-testnets/kintsugi/nethermind/src/Nethermind/Nethermind.Runner/bin/Release/net6.0/plugins\r\n2022-01-15 08-16-34.7438|Loading assembly Nethermind.HealthChecks\r\n2022-01-15 08-16-34.7450|  Found plugin type Nethermind.HealthChecks\r\n2022-01-15 08-16-34.7450|Loading assembly Nethermind.Merge.Plugin\r\n2022-01-15 08-16-34.7465|  Found plugin type Nethermind.Merge.Plugin\r\n2022-01-15 08-16-34.7465|Loading assembly Nethermind.Consensus.AuRa\r\n2022-01-15 08-16-34.7488|Loading assembly Nethermind.Api\r\n2022-01-15 08-16-34.7491|Loading assembly Nethermind.Mev\r\n2022-01-15 08-16-34.7504|  Found plugin type Nethermind.Mev\r\n2022-01-15 08-16-34.7504|Loading assembly Nethermind.Consensus.Ethash\r\n2022-01-15 08-16-34.7505|Loading assembly Nethermind.Consensus.Clique\r\n\r\nNethermind/v1.11.7-409-b565ffba0-20220115/X64-Linux/6.0.1\r\n```\r\n\r\nOccurs consistently.  Here is the log from lodestar-geth.  lodestar-nethermind looks similar.\r\n\r\n```\r\nJan-15 08:13:44.366 [NETWORK]         error: Error adding aggregated attestation to forkchoice slot=216043 code=FORKCHOICE_ERROR_INVALID_ATTESTATION, err={\"code\":\"FUTURE_SLOT\",\"attestationSlot\":216043,\"latestPermissibleSlot\":216042}\r\nError: FORKCHOICE_ERROR_INVALID_ATTESTATION\r\n    at ForkChoice.validateAttestationData (/home/seamonkey/Downloads/merge-testnets/kintsugi/lodestar/packages/fork-choice/src/forkChoice/forkChoice.ts:808:13)\r\n    at ForkChoice.validateOnAttestation (/home/seamonkey/Downloads/merge-testnets/kintsugi/lodestar/packages/fork-choice/src/forkChoice/forkChoice.ts:763:10)\r\n    at ForkChoice.onAttestation (/home/seamonkey/Downloads/merge-testnets/kintsugi/lodestar/packages/fork-choice/src/forkChoice/forkChoice.ts:421:10)\r\n    at beacon_aggregate_and_proof (/home/seamonkey/Downloads/merge-testnets/kintsugi/lodestar/packages/lodestar/src/network/gossip/handlers/index.ts:173:30)\r\n    at Object.gossipValidatorFn [as beacon_aggregate_and_proof] (/home/seamonkey/Downloads/merge-testnets/kintsugi/lodestar/packages/lodestar/src/network/gossip/validation/index.ts:110:7)\r\n    at Eth2Gossipsub.validate (/home/seamonkey/Downloads/merge-testnets/kintsugi/lodestar/packages/lodestar/src/network/gossip/gossipsub.ts:282:7)\r\n    at Eth2Gossipsub._processRpcMessage (/home/seamonkey/Downloads/merge-testnets/kintsugi/lodestar/node_modules/libp2p-interfaces/src/pubsub/index.js:449:7)\r\nJan-15 08:13:44.367 [NETWORK]         error: Error adding aggregated attestation to forkchoice slot=216043 code=FORKCHOICE_ERROR_INVALID_ATTESTATION, err={\"code\":\"FUTURE_SLOT\",\"attestationSlot\":216043,\"latestPermissibleSlot\":216042}\r\nError: FORKCHOICE_ERROR_INVALID_ATTESTATION\r\n    at ForkChoice.validateAttestationData (/home/seamonkey/Downloads/merge-testnets/kintsugi/lodestar/packages/fork-choice/src/forkChoice/forkChoice.ts:808:13)\r\n    at ForkChoice.validateOnAttestation (/home/seamonkey/Downloads/merge-testnets/kintsugi/lodestar/packages/fork-choice/src/forkChoice/forkChoice.ts:763:10)\r\n    at ForkChoice.onAttestation (/home/seamonkey/Downloads/merge-testnets/kintsugi/lodestar/packages/fork-choice/src/forkChoice/forkChoice.ts:421:10)\r\n    at beacon_aggregate_and_proof (/home/seamonkey/Downloads/merge-testnets/kintsugi/lodestar/packages/lodestar/src/network/gossip/handlers/index.ts:173:30)\r\n    at Object.gossipValidatorFn [as beacon_aggregate_and_proof] (/home/seamonkey/Downloads/merge-testnets/kintsugi/lodestar/packages/lodestar/src/network/gossip/validation/index.ts:110:7)\r\n    at Eth2Gossipsub.validate (/home/seamonkey/Downloads/merge-testnets/kintsugi/lodestar/packages/lodestar/src/network/gossip/gossipsub.ts:282:7)\r\n    at Eth2Gossipsub._processRpcMessage (/home/seamonkey/Downloads/merge-testnets/kintsugi/lodestar/node_modules/libp2p-interfaces/src/pubsub/index.js:449:7)\r\nJan-15 08:13:44.367 [NETWORK]         error: Error adding aggregated attestation to forkchoice slot=216043 code=FORKCHOICE_ERROR_INVALID_ATTESTATION, err={\"code\":\"FUTURE_SLOT\",\"attestationSlot\":216043,\"latestPermissibleSlot\":216042}\r\nError: FORKCHOICE_ERROR_INVALID_ATTESTATION\r\n    at ForkChoice.validateAttestationData (/home/seamonkey/Downloads/merge-testnets/kintsugi/lodestar/packages/fork-choice/src/forkChoice/forkChoice.ts:808:13)\r\n    at ForkChoice.validateOnAttestation (/home/seamonkey/Downloads/merge-testnets/kintsugi/lodestar/packages/fork-choice/src/forkChoice/forkChoice.ts:763:10)\r\n    at ForkChoice.onAttestation (/home/seamonkey/Downloads/merge-testnets/kintsugi/lodestar/packages/fork-choice/src/forkChoice/forkChoice.ts:421:10)\r\n    at beacon_aggregate_and_proof (/home/seamonkey/Downloads/merge-testnets/kintsugi/lodestar/packages/lodestar/src/network/gossip/handlers/index.ts:173:30)\r\n    at Object.gossipValidatorFn [as beacon_aggregate_and_proof] (/home/seamonkey/Downloads/merge-testnets/kintsugi/lodestar/packages/lodestar/src/network/gossip/validation/index.ts:110:7)\r\n    at Eth2Gossipsub.validate (/home/seamonkey/Downloads/merge-testnets/kintsugi/lodestar/packages/lodestar/src/network/gossip/gossipsub.ts:282:7)\r\n    at Eth2Gossipsub._processRpcMessage (/home/seamonkey/Downloads/merge-testnets/kintsugi/lodestar/node_modules/libp2p-interfaces/src/pubsub/index.js:449:7)\r\nJan-15 08:13:44.519 [ETH1]            error: Error updating eth1 chain cache message=Invalid length index\r\nError: Invalid length index\r\n    at CompositeListType.tree_setProperty (/home/seamonkey/Downloads/merge-testnets/kintsugi/lodestar/node_modules/@chainsafe/ssz/src/types/composite/list.ts:494:13)\r\n    at CompositeListTreeValue.setProperty (/home/seamonkey/Downloads/merge-testnets/kintsugi/lodestar/node_modules/@chainsafe/ssz/src/backings/tree/treeValue.ts:294:22)\r\n    at Object.set (/home/seamonkey/Downloads/merge-testnets/kintsugi/lodestar/node_modules/@chainsafe/ssz/src/backings/tree/treeValue.ts:92:19)\r\n    at DepositDataRootRepository.batchPut (/home/seamonkey/Downloads/merge-testnets/kintsugi/lodestar/packages/lodestar/src/db/repositories/depositDataRoot.ts:34:27)\r\n    at DepositDataRootRepository.batchPutValues (/home/seamonkey/Downloads/merge-testnets/kintsugi/lodestar/packages/lodestar/src/db/repositories/depositDataRoot.ts:43:5)\r\n    at Eth1DepositsCache.add (/home/seamonkey/Downloads/merge-testnets/kintsugi/lodestar/packages/lodestar/src/eth1/eth1DepositsCache.ts:59:5)\r\n    at Eth1DepositDataTracker.updateDepositCache (/home/seamonkey/Downloads/merge-testnets/kintsugi/lodestar/packages/lodestar/src/eth1/eth1DepositDataTracker.ts:163:5)\r\n    at Eth1DepositDataTracker.update (/home/seamonkey/Downloads/merge-testnets/kintsugi/lodestar/packages/lodestar/src/eth1/eth1DepositDataTracker.ts:144:33)\r\n    at Eth1DepositDataTracker.runAutoUpdate (/home/seamonkey/Downloads/merge-testnets/kintsugi/lodestar/packages/lodestar/src/eth1/eth1DepositDataTracker.ts:118:29)\r\nJan-15 08:13:44.659 [NETWORK]         error: Error adding aggregated attestation to forkchoice slot=216043 code=FORKCHOICE_ERROR_INVALID_ATTESTATION, err={\"code\":\"FUTURE_SLOT\",\"attestationSlot\":216043,\"latestPermissibleSlot\":216042}\r\nError: FORKCHOICE_ERROR_INVALID_ATTESTATION\r\n    at ForkChoice.validateAttestationData (/home/seamonkey/Downloads/merge-testnets/kintsugi/lodestar/packages/fork-choice/src/forkChoice/forkChoice.ts:808:13)\r\n    at ForkChoice.validateOnAttestation (/home/seamonkey/Downloads/merge-testnets/kintsugi/lodestar/packages/fork-choice/src/forkChoice/forkChoice.ts:763:10)\r\n    at ForkChoice.onAttestation (/home/seamonkey/Downloads/merge-testnets/kintsugi/lodestar/packages/fork-choice/src/forkChoice/forkChoice.ts:421:10)\r\n    at beacon_aggregate_and_proof (/home/seamonkey/Downloads/merge-testnets/kintsugi/lodestar/packages/lodestar/src/network/gossip/handlers/index.ts:173:30)\r\n    at Object.gossipValidatorFn [as beacon_aggregate_and_proof] (/home/seamonkey/Downloads/merge-testnets/kintsugi/lodestar/packages/lodestar/src/network/gossip/validation/index.ts:110:7)\r\n    at Eth2Gossipsub.validate (/home/seamonkey/Downloads/merge-testnets/kintsugi/lodestar/packages/lodestar/src/network/gossip/gossipsub.ts:282:7)\r\n    at Eth2Gossipsub._processRpcMessage (/home/seamonkey/Downloads/merge-testnets/kintsugi/lodestar/node_modules/libp2p-interfaces/src/pubsub/index.js:449:7)\r\nJan-15 08:13:44.659 [NETWORK]         error: Error adding aggregated attestation to forkchoice slot=216043 code=FORKCHOICE_ERROR_INVALID_ATTESTATION, err={\"code\":\"FUTURE_SLOT\",\"attestationSlot\":216043,\"latestPermissibleSlot\":216042}\r\nError: FORKCHOICE_ERROR_INVALID_ATTESTATION\r\n    at ForkChoice.validateAttestationData (/home/seamonkey/Downloads/merge-testnets/kintsugi/lodestar/packages/fork-choice/src/forkChoice/forkChoice.ts:808:13)\r\n    at ForkChoice.validateOnAttestation (/home/seamonkey/Downloads/merge-testnets/kintsugi/lodestar/packages/fork-choice/src/forkChoice/forkChoice.ts:763:10)\r\n    at ForkChoice.onAttestation (/home/seamonkey/Downloads/merge-testnets/kintsugi/lodestar/packages/fork-choice/src/forkChoice/forkChoice.ts:421:10)\r\n    at beacon_aggregate_and_proof (/home/seamonkey/Downloads/merge-testnets/kintsugi/lodestar/packages/lodestar/src/network/gossip/handlers/index.ts:173:30)\r\n    at Object.gossipValidatorFn [as beacon_aggregate_and_proof] (/home/seamonkey/Downloads/merge-testnets/kintsugi/lodestar/packages/lodestar/src/network/gossip/validation/index.ts:110:7)\r\n    at Eth2Gossipsub.validate (/home/seamonkey/Downloads/merge-testnets/kintsugi/lodestar/packages/lodestar/src/network/gossip/gossipsub.ts:282:7)\r\n    at Eth2Gossipsub._processRpcMessage (/home/seamonkey/Downloads/merge-testnets/kintsugi/lodestar/node_modules/libp2p-interfaces/src/pubsub/index.js:449:7)\r\nJan-15 08:13:44.660 [NETWORK]         error: Error adding aggregated attestation to forkchoice slot=216043 code=FORKCHOICE_ERROR_INVALID_ATTESTATION, err={\"code\":\"FUTURE_SLOT\",\"attestationSlot\":216043,\"latestPermissibleSlot\":216042}\r\nError: FORKCHOICE_ERROR_INVALID_ATTESTATION\r\n    at ForkChoice.validateAttestationData (/home/seamonkey/Downloads/merge-testnets/kintsugi/lodestar/packages/fork-choice/src/forkChoice/forkChoice.ts:808:13)\r\n    at ForkChoice.validateOnAttestation (/home/seamonkey/Downloads/merge-testnets/kintsugi/lodestar/packages/fork-choice/src/forkChoice/forkChoice.ts:763:10)\r\n    at ForkChoice.onAttestation (/home/seamonkey/Downloads/merge-testnets/kintsugi/lodestar/packages/fork-choice/src/forkChoice/forkChoice.ts:421:10)\r\n    at beacon_aggregate_and_proof (/home/seamonkey/Downloads/merge-testnets/kintsugi/lodestar/packages/lodestar/src/network/gossip/handlers/index.ts:173:30)\r\n    at Object.gossipValidatorFn [as beacon_aggregate_and_proof] (/home/seamonkey/Downloads/merge-testnets/kintsugi/lodestar/packages/lodestar/src/network/gossip/validation/index.ts:110:7)\r\n    at Eth2Gossipsub.validate (/home/seamonkey/Downloads/merge-testnets/kintsugi/lodestar/packages/lodestar/src/network/gossip/gossipsub.ts:282:7)\r\n    at Eth2Gossipsub._processRpcMessage (/home/seamonkey/Downloads/merge-testnets/kintsugi/lodestar/node_modules/libp2p-interfaces/src/pubsub/index.js:449:7)\r\nJan-15 08:13:44.797 [NETWORK]         error: Error adding aggregated attestation to forkchoice slot=216043 code=FORKCHOICE_ERROR_INVALID_ATTESTATION, err={\"code\":\"FUTURE_SLOT\",\"attestationSlot\":216043,\"latestPermissibleSlot\":216042}\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1013680613/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1013698352",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/3597#issuecomment-1013698352",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/3597",
    "id": 1013698352,
    "node_id": "IC_kwDOCD5_Gc48a88w",
    "user": {
      "login": "g11tech",
      "id": 76567250,
      "node_id": "MDQ6VXNlcjc2NTY3MjUw",
      "avatar_url": "https://avatars.githubusercontent.com/u/76567250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/g11tech",
      "html_url": "https://github.com/g11tech",
      "followers_url": "https://api.github.com/users/g11tech/followers",
      "following_url": "https://api.github.com/users/g11tech/following{/other_user}",
      "gists_url": "https://api.github.com/users/g11tech/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/g11tech/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/g11tech/subscriptions",
      "organizations_url": "https://api.github.com/users/g11tech/orgs",
      "repos_url": "https://api.github.com/users/g11tech/repos",
      "events_url": "https://api.github.com/users/g11tech/events{/privacy}",
      "received_events_url": "https://api.github.com/users/g11tech/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-15T15:13:58Z",
    "updated_at": "2022-01-15T15:13:58Z",
    "author_association": "CONTRIBUTOR",
    "body": "@SeaMonkey82 thanks! :slightly_smiling_face:  I will try to repro at my end. I am not that worried about invalid attestation as an attestation could potentially arrive earlier than block causing this error (but I will still try validating if this is the case). In future lodestar could queue this attestation up to process later.\r\n\r\nHowever I am more curious about the reasons behind `Invalid length index` which seems to be occurring while saving deposit. :thinking: ",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1013698352/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1018091020",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/3597#issuecomment-1018091020",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/3597",
    "id": 1018091020,
    "node_id": "IC_kwDOCD5_Gc48rtYM",
    "user": {
      "login": "SeaMonkey82",
      "id": 20866869,
      "node_id": "MDQ6VXNlcjIwODY2ODY5",
      "avatar_url": "https://avatars.githubusercontent.com/u/20866869?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SeaMonkey82",
      "html_url": "https://github.com/SeaMonkey82",
      "followers_url": "https://api.github.com/users/SeaMonkey82/followers",
      "following_url": "https://api.github.com/users/SeaMonkey82/following{/other_user}",
      "gists_url": "https://api.github.com/users/SeaMonkey82/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SeaMonkey82/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SeaMonkey82/subscriptions",
      "organizations_url": "https://api.github.com/users/SeaMonkey82/orgs",
      "repos_url": "https://api.github.com/users/SeaMonkey82/repos",
      "events_url": "https://api.github.com/users/SeaMonkey82/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SeaMonkey82/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-21T01:55:58Z",
    "updated_at": "2022-01-21T01:55:58Z",
    "author_association": "NONE",
    "body": "Update:  This error was caused by including `--network mainnet` in my validator launch command.  I tested by removing it and all three lodestar instances (with geth, nethermind, and besu) stopped seeing the error.  I don't have a good reason for why that flag was there, but curiously enough, the only thing it broke was block proposal.  Attestations worked fine.\r\n\r\nLeaving this issue open in case of any further discussion or action.  It seems to me that `--network mainnet` should conflict with `--paramsFile=\"../config.yaml\"` (kintsugi in this case) and automatically exit with a message describing the conflict.",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1018091020/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1018172328",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/3597#issuecomment-1018172328",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/3597",
    "id": 1018172328,
    "node_id": "IC_kwDOCD5_Gc48sBOo",
    "user": {
      "login": "g11tech",
      "id": 76567250,
      "node_id": "MDQ6VXNlcjc2NTY3MjUw",
      "avatar_url": "https://avatars.githubusercontent.com/u/76567250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/g11tech",
      "html_url": "https://github.com/g11tech",
      "followers_url": "https://api.github.com/users/g11tech/followers",
      "following_url": "https://api.github.com/users/g11tech/following{/other_user}",
      "gists_url": "https://api.github.com/users/g11tech/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/g11tech/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/g11tech/subscriptions",
      "organizations_url": "https://api.github.com/users/g11tech/orgs",
      "repos_url": "https://api.github.com/users/g11tech/repos",
      "events_url": "https://api.github.com/users/g11tech/events{/privacy}",
      "received_events_url": "https://api.github.com/users/g11tech/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-21T04:35:32Z",
    "updated_at": "2022-01-21T04:35:32Z",
    "author_association": "CONTRIBUTOR",
    "body": "> Update:  This error was caused by including `--network mainnet` in my validator launch command.  I tested by removing it and all three lodestar instances (with geth, nethermind, and besu) stopped seeing the error.  I don't have a good reason for why that flag was there, but curiously enough, the only thing it broke was block proposal.  Attestations worked fine.\n> \n> Leaving this issue open in case of any further discussion or action.  It seems to me that `--network mainnet` should conflict with `--paramsFile=\"../config.yaml\"` (kintsugi in this case) and automatically exit with a message describing the conflict.\n\nThanks @SeaMonkey82 . Yes, the validator does validate the config it fetches from beacon against its own config.yaml. will check it out why it hasn't happened here.\n",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1018172328/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1018686137",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/3597#issuecomment-1018686137",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/3597",
    "id": 1018686137,
    "node_id": "IC_kwDOCD5_Gc48t-q5",
    "user": {
      "login": "SeaMonkey82",
      "id": 20866869,
      "node_id": "MDQ6VXNlcjIwODY2ODY5",
      "avatar_url": "https://avatars.githubusercontent.com/u/20866869?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SeaMonkey82",
      "html_url": "https://github.com/SeaMonkey82",
      "followers_url": "https://api.github.com/users/SeaMonkey82/followers",
      "following_url": "https://api.github.com/users/SeaMonkey82/following{/other_user}",
      "gists_url": "https://api.github.com/users/SeaMonkey82/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SeaMonkey82/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SeaMonkey82/subscriptions",
      "organizations_url": "https://api.github.com/users/SeaMonkey82/orgs",
      "repos_url": "https://api.github.com/users/SeaMonkey82/repos",
      "events_url": "https://api.github.com/users/SeaMonkey82/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SeaMonkey82/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-21T16:54:59Z",
    "updated_at": "2022-01-21T16:57:25Z",
    "author_association": "NONE",
    "body": "I guess the fact that these messages stopped after restarting my validators without `--network mainnet` was a coincidence.  All three beacon nodes are doing it again.",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1018686137/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1019648797",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/3597#issuecomment-1019648797",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/3597",
    "id": 1019648797,
    "node_id": "IC_kwDOCD5_Gc48xpsd",
    "user": {
      "login": "blampe",
      "id": 848843,
      "node_id": "MDQ6VXNlcjg0ODg0Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/848843?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/blampe",
      "html_url": "https://github.com/blampe",
      "followers_url": "https://api.github.com/users/blampe/followers",
      "following_url": "https://api.github.com/users/blampe/following{/other_user}",
      "gists_url": "https://api.github.com/users/blampe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/blampe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/blampe/subscriptions",
      "organizations_url": "https://api.github.com/users/blampe/orgs",
      "repos_url": "https://api.github.com/users/blampe/repos",
      "events_url": "https://api.github.com/users/blampe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/blampe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-24T02:12:56Z",
    "updated_at": "2022-01-24T02:12:56Z",
    "author_association": "NONE",
    "body": "I also saw this on my first run of `chainsafe/lodestar:v0.33.0` using Prater. Command:\r\n```\r\n./node_modules/.bin/lodestar beacon --network=prater --metrics.enabled=true --metrics.serverPort=8008 --rootDir=/data --network.maxPeers=30 --eth1.providerUrls http://nethermind:8545 http://erigon:8545\r\n```\r\nThis was reproducible after wiping the data directory and re-running.\r\n\r\nI suspect there's a bad interaction between Lodestar/Nethermind, because after switching the order of eth1 providers (presumably to give Erigon priority over Nethermind) the problem went away. (Although I then encounter #3550 and something to do with `BLOCK_ERROR_PARENT_UNKNOWN`.)\r\n\r\nFWIW, I have Nethermind using their [recommended configuration](https://docs.nethermind.io/nethermind/guides-and-helpers/faq#what-is-the-minimum-viable-config-to-serve-eth2-validator-requests) for validators: `--Pruning.Enabled=true --Sync.DownloadBodiesInFastSync=true --Sync.DownloadReceiptsInFastSync=true --Sync.AncientBodiesBarrier=11052984 --Sync.AncientReceiptsBarrier=11052984`.",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1019648797/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1019977550",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/3597#issuecomment-1019977550",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/3597",
    "id": 1019977550,
    "node_id": "IC_kwDOCD5_Gc48y59O",
    "user": {
      "login": "g11tech",
      "id": 76567250,
      "node_id": "MDQ6VXNlcjc2NTY3MjUw",
      "avatar_url": "https://avatars.githubusercontent.com/u/76567250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/g11tech",
      "html_url": "https://github.com/g11tech",
      "followers_url": "https://api.github.com/users/g11tech/followers",
      "following_url": "https://api.github.com/users/g11tech/following{/other_user}",
      "gists_url": "https://api.github.com/users/g11tech/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/g11tech/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/g11tech/subscriptions",
      "organizations_url": "https://api.github.com/users/g11tech/orgs",
      "repos_url": "https://api.github.com/users/g11tech/repos",
      "events_url": "https://api.github.com/users/g11tech/events{/privacy}",
      "received_events_url": "https://api.github.com/users/g11tech/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-24T11:05:38Z",
    "updated_at": "2022-01-24T11:05:38Z",
    "author_association": "CONTRIBUTOR",
    "body": "> \r\n\r\nthank you for the update! so it seems that it has nothing to do with the kintsugi/bellatrix but deposit tracker interaction with the EL. let me try to replicate using the nethermind master",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1019977550/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1020308580",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/3597#issuecomment-1020308580",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/3597",
    "id": 1020308580,
    "node_id": "IC_kwDOCD5_Gc480Kxk",
    "user": {
      "login": "g11tech",
      "id": 76567250,
      "node_id": "MDQ6VXNlcjc2NTY3MjUw",
      "avatar_url": "https://avatars.githubusercontent.com/u/76567250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/g11tech",
      "html_url": "https://github.com/g11tech",
      "followers_url": "https://api.github.com/users/g11tech/followers",
      "following_url": "https://api.github.com/users/g11tech/following{/other_user}",
      "gists_url": "https://api.github.com/users/g11tech/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/g11tech/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/g11tech/subscriptions",
      "organizations_url": "https://api.github.com/users/g11tech/orgs",
      "repos_url": "https://api.github.com/users/g11tech/repos",
      "events_url": "https://api.github.com/users/g11tech/events{/privacy}",
      "received_events_url": "https://api.github.com/users/g11tech/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-24T16:50:26Z",
    "updated_at": "2022-01-24T18:28:37Z",
    "author_association": "CONTRIBUTOR",
    "body": "> I also saw this on my first run of `chainsafe/lodestar:v0.33.0` using Prater. Command:\r\n> \r\n> ```\r\n> ./node_modules/.bin/lodestar beacon --network=prater --metrics.enabled=true --metrics.serverPort=8008 --rootDir=/data --network.maxPeers=30 --eth1.providerUrls http://nethermind:8545 http://erigon:8545\r\n> ```\r\n> \r\n> This was reproducible after wiping the data directory and re-running.\r\n> \r\n> I suspect there's a bad interaction between Lodestar/Nethermind, because after switching the order of eth1 providers (presumably to give Erigon priority over Nethermind) the problem went away. (Although I then encounter #3550 and something to do with `BLOCK_ERROR_PARENT_UNKNOWN`.)\r\n> \r\n> FWIW, I have Nethermind using their [recommended configuration](https://docs.nethermind.io/nethermind/guides-and-helpers/faq#what-is-the-minimum-viable-config-to-serve-eth2-validator-requests) for validators: `--Pruning.Enabled=true --Sync.DownloadBodiesInFastSync=true --Sync.DownloadReceiptsInFastSync=true --Sync.AncientBodiesBarrier=11052984 --Sync.AncientReceiptsBarrier=11052984`.\r\n\r\nCould you provide nethermind branch + commit /docker image details along with the (exact if possible) command that you used to spin up nethermind?\r\n\r\n\r\nUPDATE: I was able to run lodestar on prater with eth1 as nethermind without any issue:\r\n```\r\nan-24 18:10:42.002 []                 info: Synced - slot: 2211653 - head: 2211653 0xa8a9â€¦6162 - finalized: 0xcf0fâ€¦1522:69112 - peers: 9\r\nJan-24 18:10:54.001 []                 info: Synced - slot: 2211654 - head: 2211654 0xd4ffâ€¦003b - finalized: 0xcf0fâ€¦1522:69112 - peers: 10\r\nJan-24 18:11:06.001 []                 info: Synced - slot: 2211655 - head: 2211655 0x7f1fâ€¦6a3c - finalized: 0xcf0fâ€¦1522:69112 - peers: 10\r\nJan-24 18:11:17.999 []                 info: Synced - slot: 2211656 - head: 2211656 0x645bâ€¦7011 - finalized: 0xcf0fâ€¦1522:69112 - peers: 13\r\nJan-24 18:11:18.001 []                 info: Synced - slot: 2211656 - head: 2211656 0x645bâ€¦7011 - finalized: 0xcf0fâ€¦1522:69112 - peers: 13\r\nJan-24 18:11:30.000 []                 info: Synced - slot: 2211657 - head: 2211657 0x322aâ€¦3dc4 - finalized: 0xcf0fâ€¦1522:69112 - peers: 18\r\nJan-24 18:11:42.001 []                 info: Synced - slot: 2211658 - head: 2211658 0x8d9bâ€¦eb85 - finalized: 0xcf0fâ€¦1522:69112 - peers: 18\r\nJan-24 18:11:54.000 []                 info: Synced - slot: 2211659 - head: 2211659 0xe843â€¦5a02 - finalized: 0xcf0fâ€¦1522:69112 - peers: 19\r\nJan-24 18:12:0\r\n```\r\nnethermind args: \r\n`--config goerli --datadir /data/nethermind --JsonRpc.Enabled=true --JsonRpc.EnabledModules=net,eth,consensus,engine,subscribe,web3 --JsonRpc.Port=8545 --JsonRpc.WebSocketsPort=8546 --JsonRpc.Host=0.0.0.0`",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1020308580/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1023597529",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/3597#issuecomment-1023597529",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/3597",
    "id": 1023597529,
    "node_id": "IC_kwDOCD5_Gc49AtvZ",
    "user": {
      "login": "g11tech",
      "id": 76567250,
      "node_id": "MDQ6VXNlcjc2NTY3MjUw",
      "avatar_url": "https://avatars.githubusercontent.com/u/76567250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/g11tech",
      "html_url": "https://github.com/g11tech",
      "followers_url": "https://api.github.com/users/g11tech/followers",
      "following_url": "https://api.github.com/users/g11tech/following{/other_user}",
      "gists_url": "https://api.github.com/users/g11tech/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/g11tech/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/g11tech/subscriptions",
      "organizations_url": "https://api.github.com/users/g11tech/orgs",
      "repos_url": "https://api.github.com/users/g11tech/repos",
      "events_url": "https://api.github.com/users/g11tech/events{/privacy}",
      "received_events_url": "https://api.github.com/users/g11tech/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-27T20:09:45Z",
    "updated_at": "2022-01-31T12:24:13Z",
    "author_association": "CONTRIBUTOR",
    "body": " @SeaMonkey82 @blampe \r\n\r\nEt voila! This annoying error is now RESOLVED!!! :partying_face:  \r\n@SeaMonkey82 you might not be setting `--eth1.depositContractDeployBlock` argument which for kintsugi should be set to `--eth1.depositContractDeployBlock 0`. This causes the lodestar deposit tracker to fetch skipped data, from which deposit root can't be derived and hence the error!\r\n\r\nAnd you @blampe seems to have mixed up the networks on CL and EL side, so this error could again comeup because of wrong/unexpected feed of the deposit roots resulting again to the scenario described above!\r\n \r\nAnyway, now one doesn't need to worry about configuration, kintsugi configuration can now automatically be loaded with `--network kintsugi` (you still have to specify eth1... and execution... params to interface the EL)\r\n\r\ncc: @philknows \"repro-ing\" this error was harder than solving it :rofl: \r\n\r\nspecial thanks to Nethermind's @marekM25 and his teammate @AntiD2ta for helping repro this error!",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1023597529/reactions",
      "total_count": 4,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 2,
      "rocket": 1,
      "eyes": 1
    },
    "performed_via_github_app": null
  }
]
