{
  "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/2960",
  "repository_url": "https://api.github.com/repos/ChainSafe/lodestar",
  "labels_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/2960/labels{/name}",
  "comments_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/2960/comments",
  "events_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/2960/events",
  "html_url": "https://github.com/ChainSafe/lodestar/issues/2960",
  "id": 970884489,
  "node_id": "MDU6SXNzdWU5NzA4ODQ0ODk=",
  "number": 2960,
  "title": "altair-devnet-3: Invalid state root",
  "user": {
    "login": "tuyennhv",
    "id": 10568965,
    "node_id": "MDQ6VXNlcjEwNTY4OTY1",
    "avatar_url": "https://avatars.githubusercontent.com/u/10568965?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tuyennhv",
    "html_url": "https://github.com/tuyennhv",
    "followers_url": "https://api.github.com/users/tuyennhv/followers",
    "following_url": "https://api.github.com/users/tuyennhv/following{/other_user}",
    "gists_url": "https://api.github.com/users/tuyennhv/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tuyennhv/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tuyennhv/subscriptions",
    "organizations_url": "https://api.github.com/users/tuyennhv/orgs",
    "repos_url": "https://api.github.com/users/tuyennhv/repos",
    "events_url": "https://api.github.com/users/tuyennhv/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tuyennhv/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 2159934357,
      "node_id": "MDU6TGFiZWwyMTU5OTM0MzU3",
      "url": "https://api.github.com/repos/ChainSafe/lodestar/labels/scope-testnet-debugging",
      "name": "scope-testnet-debugging",
      "color": "980043",
      "default": false,
      "description": "Issues uncovered through running a node on a public testnet."
    },
    {
      "id": 2829611743,
      "node_id": "MDU6TGFiZWwyODI5NjExNzQz",
      "url": "https://api.github.com/repos/ChainSafe/lodestar/labels/spec-altair",
      "name": "spec-altair",
      "color": "6baed6",
      "default": false,
      "description": "Issues targeting the Altair spec version."
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2021-08-14T10:42:48Z",
  "updated_at": "2021-09-14T11:47:12Z",
  "closed_at": "2021-08-18T09:52:38Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "**Describe the bug**\r\n\r\nSync altair-devnet-3 and got:\r\n```\r\nAug-14 12:29:02.562 [CHAIN]         ^[[36mverbose^[[39m: Checkpoint processed epoch=538, root=0x95acd717e8b9be1a497f270a4dc2d49c12c4c61a52a475476901fd9086664e8c\r\n230398 Aug-14 12:29:02.563 [CHAIN]         ^[[36mverbose^[[39m: Checkpoint justified epoch=537, root=0x42b55ff5ce924376fc933b35a88d78928f1ed7b39937a81fcc3101260636e2f7\r\n230399 Aug-14 12:29:02.563 [CHAIN]         ^[[36mverbose^[[39m: Checkpoint finalized epoch=536, root=0x9ddeb629a8666964902608a16ee11778bc0ce15d576986798755f42be5c6419b\r\n230400 Aug-14 12:29:04.368 [SYNC]          ^[[36mverbose^[[39m: Batch process error id=Finalized, startEpoch=536, status=Processing code=BLOCK_ERROR_BEACON_CHAIN_ERROR, error={\"mess       age\":\"Invalid state root\"}\r\n230401 Error: Invalid state root\r\n230402     at Object.stateTransition (/root/lodestar/packages/beacon-state-transition/src/allForks/stateTransition.ts:66:13)\r\n230403     at Object.runStateTransition (/root/lodestar/packages/lodestar/src/chain/blocks/stateTransition.ts:83:30)\r\n230404     at processBlocksInEpoch (/root/lodestar/packages/lodestar/src/chain/blocks/process.ts:108:24)\r\n230405     at runMicrotasks (<anonymous>)\r\n230406     at runNextTicks (node:internal/process/task_queues:61:5)\r\n230407     at processTimers (node:internal/timers:497:9)\r\n230408     at Object.processChainSegment (/root/lodestar/packages/lodestar/src/chain/blocks/process.ts:77:7)\r\n230409     at processChainSegmentJob (/root/lodestar/packages/lodestar/src/chain/blocks/processor.ts:151:3)\r\n230410     at JobItemQueue.runJob (/root/lodestar/packages/lodestar/src/util/queue/itemQueue.ts:85:22)\r\n230411 Error: BLOCK_ERROR_BEACON_CHAIN_ERROR\r\n230412     at Object.processChainSegment (/root/lodestar/packages/lodestar/src/chain/blocks/process.ts:80:15)\r\n230413     at runMicrotasks (<anonymous>)\r\n230414     at runNextTicks (node:internal/process/task_queues:61:5)\r\n230415     at processTimers (node:internal/timers:497:9)\r\n230416     at processChainSegmentJob (/root/lodestar/packages/lodestar/src/chain/blocks/processor.ts:151:3)\r\n230417     at JobItemQueue.runJob (/root/lodestar/packages/lodestar/src/util/queue/itemQueue.ts:85:22)\r\n230418 Aug-14 12:29:04.369 [NETWORK]         ^[[34mdebug^[[39m: Req  dialing peer method=beacon_blocks_by_range, encoding=ssz_snappy, agentVersion=N/A, peer=16...jga78X, requestId=8       766\r\n230419 Aug-14 12:29:04.366 [CHAIN]         ^[[36mverbose^[[39m: Checkpoint processed epoch=638, root=0x90286aa211b74d5ee2be12e87834bfa5885993bed463a38013f71f1ce4c9871a\r\n```\r\n\r\n**Expected behavior**\r\n\r\nNo error",
  "closed_by": {
    "login": "tuyennhv",
    "id": 10568965,
    "node_id": "MDQ6VXNlcjEwNTY4OTY1",
    "avatar_url": "https://avatars.githubusercontent.com/u/10568965?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tuyennhv",
    "html_url": "https://github.com/tuyennhv",
    "followers_url": "https://api.github.com/users/tuyennhv/followers",
    "following_url": "https://api.github.com/users/tuyennhv/following{/other_user}",
    "gists_url": "https://api.github.com/users/tuyennhv/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tuyennhv/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tuyennhv/subscriptions",
    "organizations_url": "https://api.github.com/users/tuyennhv/orgs",
    "repos_url": "https://api.github.com/users/tuyennhv/repos",
    "events_url": "https://api.github.com/users/tuyennhv/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tuyennhv/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/2960/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/2960/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/898878776",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/2960#issuecomment-898878776",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/2960",
    "id": 898878776,
    "node_id": "IC_kwDOCD5_Gc41k804",
    "user": {
      "login": "tuyennhv",
      "id": 10568965,
      "node_id": "MDQ6VXNlcjEwNTY4OTY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/10568965?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tuyennhv",
      "html_url": "https://github.com/tuyennhv",
      "followers_url": "https://api.github.com/users/tuyennhv/followers",
      "following_url": "https://api.github.com/users/tuyennhv/following{/other_user}",
      "gists_url": "https://api.github.com/users/tuyennhv/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tuyennhv/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tuyennhv/subscriptions",
      "organizations_url": "https://api.github.com/users/tuyennhv/orgs",
      "repos_url": "https://api.github.com/users/tuyennhv/repos",
      "events_url": "https://api.github.com/users/tuyennhv/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tuyennhv/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-14T10:52:29Z",
    "updated_at": "2021-08-14T10:52:29Z",
    "author_association": "CONTRIBUTOR",
    "body": "meanwhile the block explorer stops working at epoch 535\r\n<img width=\"1517\" alt=\"Screen Shot 2021-08-14 at 17 50 21\" src=\"https://user-images.githubusercontent.com/10568965/129444033-74c34440-c761-4086-b745-75eb256a1097.png\">\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/898878776/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/900979487",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/2960#issuecomment-900979487",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/2960",
    "id": 900979487,
    "node_id": "IC_kwDOCD5_Gc41s9sf",
    "user": {
      "login": "tuyennhv",
      "id": 10568965,
      "node_id": "MDQ6VXNlcjEwNTY4OTY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/10568965?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tuyennhv",
      "html_url": "https://github.com/tuyennhv",
      "followers_url": "https://api.github.com/users/tuyennhv/followers",
      "following_url": "https://api.github.com/users/tuyennhv/following{/other_user}",
      "gists_url": "https://api.github.com/users/tuyennhv/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tuyennhv/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tuyennhv/subscriptions",
      "organizations_url": "https://api.github.com/users/tuyennhv/orgs",
      "repos_url": "https://api.github.com/users/tuyennhv/repos",
      "events_url": "https://api.github.com/users/tuyennhv/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tuyennhv/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-18T09:52:37Z",
    "updated_at": "2021-08-18T09:52:37Z",
    "author_association": "CONTRIBUTOR",
    "body": "not a lodestar issue, I was able to sync to head from genesis.",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/900979487/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
