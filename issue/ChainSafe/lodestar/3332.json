{
  "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/3332",
  "repository_url": "https://api.github.com/repos/ChainSafe/lodestar",
  "labels_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/3332/labels{/name}",
  "comments_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/3332/comments",
  "events_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/3332/events",
  "html_url": "https://github.com/ChainSafe/lodestar/issues/3332",
  "id": 1019823447,
  "node_id": "I_kwDOCD5_Gc48yUVX",
  "number": 3332,
  "title": "Header API returns incorrect block",
  "user": {
    "login": "wemeetagain",
    "id": 1348242,
    "node_id": "MDQ6VXNlcjEzNDgyNDI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1348242?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/wemeetagain",
    "html_url": "https://github.com/wemeetagain",
    "followers_url": "https://api.github.com/users/wemeetagain/followers",
    "following_url": "https://api.github.com/users/wemeetagain/following{/other_user}",
    "gists_url": "https://api.github.com/users/wemeetagain/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/wemeetagain/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/wemeetagain/subscriptions",
    "organizations_url": "https://api.github.com/users/wemeetagain/orgs",
    "repos_url": "https://api.github.com/users/wemeetagain/repos",
    "events_url": "https://api.github.com/users/wemeetagain/events{/privacy}",
    "received_events_url": "https://api.github.com/users/wemeetagain/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2021-10-07T09:30:33Z",
  "updated_at": "2022-02-15T06:43:05Z",
  "closed_at": "2022-02-15T06:43:05Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "```\r\ncayman@ruby:~/Code/lodestar$ curl localhost:9596/eth/v1/beacon/headers/812 | jq .\r\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\r\n                                 Dload  Upload   Total   Spent    Left  Speed\r\n100   615  100   615    0     0  43928      0 --:--:-- --:--:-- --:--:-- 47307\r\n{\r\n  \"data\": {\r\n    \"root\": \"0xb21d4fffb0681d16752c50aaa81704e1b180bd1f17fb7fab15a2ff9cee5a292a\",\r\n    \"canonical\": true,\r\n    \"header\": {\r\n      \"message\": {\r\n        \"slot\": \"811\",\r\n        \"proposer_index\": \"1\",\r\n        \"parent_root\": \"0xff5c06266374093843aaad477e86d8d51cd3a0533c744b3a59d80b96aba0fba0\",\r\n        \"state_root\": \"0x63d7884b32893d96faf77a6793cbc392d87ff37b2398b7c7fa3d7044caa1fb9e\",\r\n        \"body_root\": \"0x327ba8b9134d0d4b7dfd5163c7688f653b56093e4261f03d277401bfd94d3a3a\"\r\n      },\r\n      \"signature\": \"0x979d73f00edcd57ee5e61141f23bf15c057bebc9cad8707abf7153c7803f126cbdb8ac3a596542e1cd6f14e55593a3120684784bb73b066502a4df7a3d71fbce6e073d476bd8457fc79d78fd6a900ca0abd110385d617c2578e1359d88515e48\"\r\n    }\r\n  }\r\n}\r\ncayman@ruby:~/Code/lodestar$ curl localhost:9596/eth/v1/beacon/headers/812 | jq .\r\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\r\n                                 Dload  Upload   Total   Spent    Left  Speed\r\n100   615  100   615    0     0   120k      0 --:--:-- --:--:-- --:--:--  120k\r\n{\r\n  \"data\": {\r\n    \"root\": \"0x2a5235fc949ef9662025c555a155d192903476c710782eb0a873f070b5110459\",\r\n    \"canonical\": true,\r\n    \"header\": {\r\n      \"message\": {\r\n        \"slot\": \"812\",\r\n        \"proposer_index\": \"7\",\r\n        \"parent_root\": \"0xb21d4fffb0681d16752c50aaa81704e1b180bd1f17fb7fab15a2ff9cee5a292a\",\r\n        \"state_root\": \"0x75475d6d25b553fa52d0b523e0c7b31f16babd81082029b6a6046e9849184eb2\",\r\n        \"body_root\": \"0x147c406a15ddc22e35cbc94cf25d2a5b882ca242312d136db649050c6a5face0\"\r\n      },\r\n      \"signature\": \"0x9679574101462448f72dc49e28c238b791d8ce11a882ca29f663f6ce5cf45af797cf681f1e91ef7d4667e25d14bf49a10875aef61e1da1541711736d2842b01a83dbd289b11da0adf728c549e3b45e7c9a01aef2a54eafdcbd0ecdb398272ec5\"\r\n    }\r\n  }\r\n}\r\n```",
  "closed_by": {
    "login": "dapplion",
    "id": 35266934,
    "node_id": "MDQ6VXNlcjM1MjY2OTM0",
    "avatar_url": "https://avatars.githubusercontent.com/u/35266934?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/dapplion",
    "html_url": "https://github.com/dapplion",
    "followers_url": "https://api.github.com/users/dapplion/followers",
    "following_url": "https://api.github.com/users/dapplion/following{/other_user}",
    "gists_url": "https://api.github.com/users/dapplion/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/dapplion/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/dapplion/subscriptions",
    "organizations_url": "https://api.github.com/users/dapplion/orgs",
    "repos_url": "https://api.github.com/users/dapplion/repos",
    "events_url": "https://api.github.com/users/dapplion/events{/privacy}",
    "received_events_url": "https://api.github.com/users/dapplion/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/3332/reactions",
    "total_count": 1,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 1
  },
  "timeline_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/3332/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1029822620",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/3332#issuecomment-1029822620",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/3332",
    "id": 1029822620,
    "node_id": "IC_kwDOCD5_Gc49Ydic",
    "user": {
      "login": "dapplion",
      "id": 35266934,
      "node_id": "MDQ6VXNlcjM1MjY2OTM0",
      "avatar_url": "https://avatars.githubusercontent.com/u/35266934?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dapplion",
      "html_url": "https://github.com/dapplion",
      "followers_url": "https://api.github.com/users/dapplion/followers",
      "following_url": "https://api.github.com/users/dapplion/following{/other_user}",
      "gists_url": "https://api.github.com/users/dapplion/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dapplion/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dapplion/subscriptions",
      "organizations_url": "https://api.github.com/users/dapplion/orgs",
      "repos_url": "https://api.github.com/users/dapplion/repos",
      "events_url": "https://api.github.com/users/dapplion/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dapplion/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-04T10:01:54Z",
    "updated_at": "2022-02-04T10:01:54Z",
    "author_association": "MEMBER",
    "body": "@wemeetagain Was 812 the head at the time you tested this? What had that case that make this error happen? Could you try again to see if it still happens?",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1029822620/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1038281523",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/3332#issuecomment-1038281523",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/3332",
    "id": 1038281523,
    "node_id": "IC_kwDOCD5_Gc494usz",
    "user": {
      "login": "wemeetagain",
      "id": 1348242,
      "node_id": "MDQ6VXNlcjEzNDgyNDI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1348242?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wemeetagain",
      "html_url": "https://github.com/wemeetagain",
      "followers_url": "https://api.github.com/users/wemeetagain/followers",
      "following_url": "https://api.github.com/users/wemeetagain/following{/other_user}",
      "gists_url": "https://api.github.com/users/wemeetagain/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wemeetagain/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wemeetagain/subscriptions",
      "organizations_url": "https://api.github.com/users/wemeetagain/orgs",
      "repos_url": "https://api.github.com/users/wemeetagain/repos",
      "events_url": "https://api.github.com/users/wemeetagain/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wemeetagain/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-13T17:28:36Z",
    "updated_at": "2022-02-13T17:28:36Z",
    "author_association": "MEMBER",
    "body": "I believe 812 was around the head when I tested this.\r\nI don't remember (or didn't actually investigate) what made the error happen.\r\nBut we haven't refactored our API code, so it probably is still is a problem.",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1038281523/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1039646279",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/3332#issuecomment-1039646279",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/3332",
    "id": 1039646279,
    "node_id": "IC_kwDOCD5_Gc49975H",
    "user": {
      "login": "wemeetagain",
      "id": 1348242,
      "node_id": "MDQ6VXNlcjEzNDgyNDI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1348242?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wemeetagain",
      "html_url": "https://github.com/wemeetagain",
      "followers_url": "https://api.github.com/users/wemeetagain/followers",
      "following_url": "https://api.github.com/users/wemeetagain/following{/other_user}",
      "gists_url": "https://api.github.com/users/wemeetagain/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wemeetagain/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wemeetagain/subscriptions",
      "organizations_url": "https://api.github.com/users/wemeetagain/orgs",
      "repos_url": "https://api.github.com/users/wemeetagain/repos",
      "events_url": "https://api.github.com/users/wemeetagain/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wemeetagain/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-14T22:42:15Z",
    "updated_at": "2022-02-14T22:42:15Z",
    "author_association": "MEMBER",
    "body": "Easy to reproduce:\r\n```\r\ncurl localhost:9596/eth/v1/beacon/headers/999999999999\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1039646279/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
