{
  "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/1141",
  "repository_url": "https://api.github.com/repos/ChainSafe/lodestar",
  "labels_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/1141/labels{/name}",
  "comments_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/1141/comments",
  "events_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/1141/events",
  "html_url": "https://github.com/ChainSafe/lodestar/issues/1141",
  "id": 655339057,
  "node_id": "MDU6SXNzdWU2NTUzMzkwNTc=",
  "number": 1141,
  "title": "Altona: Cannot detect new peers upon restart",
  "user": {
    "login": "tuyennhv",
    "id": 10568965,
    "node_id": "MDQ6VXNlcjEwNTY4OTY1",
    "avatar_url": "https://avatars.githubusercontent.com/u/10568965?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tuyennhv",
    "html_url": "https://github.com/tuyennhv",
    "followers_url": "https://api.github.com/users/tuyennhv/followers",
    "following_url": "https://api.github.com/users/tuyennhv/following{/other_user}",
    "gists_url": "https://api.github.com/users/tuyennhv/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tuyennhv/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tuyennhv/subscriptions",
    "organizations_url": "https://api.github.com/users/tuyennhv/orgs",
    "repos_url": "https://api.github.com/users/tuyennhv/repos",
    "events_url": "https://api.github.com/users/tuyennhv/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tuyennhv/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "tuyennhv",
    "id": 10568965,
    "node_id": "MDQ6VXNlcjEwNTY4OTY1",
    "avatar_url": "https://avatars.githubusercontent.com/u/10568965?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tuyennhv",
    "html_url": "https://github.com/tuyennhv",
    "followers_url": "https://api.github.com/users/tuyennhv/followers",
    "following_url": "https://api.github.com/users/tuyennhv/following{/other_user}",
    "gists_url": "https://api.github.com/users/tuyennhv/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tuyennhv/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tuyennhv/subscriptions",
    "organizations_url": "https://api.github.com/users/tuyennhv/orgs",
    "repos_url": "https://api.github.com/users/tuyennhv/repos",
    "events_url": "https://api.github.com/users/tuyennhv/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tuyennhv/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "tuyennhv",
      "id": 10568965,
      "node_id": "MDQ6VXNlcjEwNTY4OTY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/10568965?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tuyennhv",
      "html_url": "https://github.com/tuyennhv",
      "followers_url": "https://api.github.com/users/tuyennhv/followers",
      "following_url": "https://api.github.com/users/tuyennhv/following{/other_user}",
      "gists_url": "https://api.github.com/users/tuyennhv/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tuyennhv/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tuyennhv/subscriptions",
      "organizations_url": "https://api.github.com/users/tuyennhv/orgs",
      "repos_url": "https://api.github.com/users/tuyennhv/repos",
      "events_url": "https://api.github.com/users/tuyennhv/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tuyennhv/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 9,
  "created_at": "2020-07-12T06:09:47Z",
  "updated_at": "2020-07-25T01:06:31Z",
  "closed_at": "2020-07-25T01:06:31Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "**Describe the bug**\r\nAfter we initialize a beacon folder and sync Altona, we can always detect peers very quickly. But upon a restart, sometimes we can detect peers, sometimes we cannot and we end up with setting up a new beacon folder by `beacon run init`.\r\n\r\n**Expected behavior**\r\nWe can detect new peers at any time\r\n\r\n",
  "closed_by": {
    "login": "wemeetagain",
    "id": 1348242,
    "node_id": "MDQ6VXNlcjEzNDgyNDI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1348242?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/wemeetagain",
    "html_url": "https://github.com/wemeetagain",
    "followers_url": "https://api.github.com/users/wemeetagain/followers",
    "following_url": "https://api.github.com/users/wemeetagain/following{/other_user}",
    "gists_url": "https://api.github.com/users/wemeetagain/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/wemeetagain/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/wemeetagain/subscriptions",
    "organizations_url": "https://api.github.com/users/wemeetagain/orgs",
    "repos_url": "https://api.github.com/users/wemeetagain/repos",
    "events_url": "https://api.github.com/users/wemeetagain/events{/privacy}",
    "received_events_url": "https://api.github.com/users/wemeetagain/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/1141/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/1141/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/657422502",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/1141#issuecomment-657422502",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/1141",
    "id": 657422502,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1NzQyMjUwMg==",
    "user": {
      "login": "tuyennhv",
      "id": 10568965,
      "node_id": "MDQ6VXNlcjEwNTY4OTY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/10568965?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tuyennhv",
      "html_url": "https://github.com/tuyennhv",
      "followers_url": "https://api.github.com/users/tuyennhv/followers",
      "following_url": "https://api.github.com/users/tuyennhv/following{/other_user}",
      "gists_url": "https://api.github.com/users/tuyennhv/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tuyennhv/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tuyennhv/subscriptions",
      "organizations_url": "https://api.github.com/users/tuyennhv/orgs",
      "repos_url": "https://api.github.com/users/tuyennhv/repos",
      "events_url": "https://api.github.com/users/tuyennhv/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tuyennhv/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-07-13T08:58:48Z",
    "updated_at": "2020-07-13T08:58:48Z",
    "author_association": "CONTRIBUTOR",
    "body": "This is an issue of discv5 since it never emit a \"peer\" event to libp2p. When we send random requests to peers, most of them do not response us except for 1-2 peers with below log:\r\n```\r\ndiscv5:service Sending lookup. Id: 1, Iteration: 1, Node: 13027eca868692747ffd93324fbf38f4d1f435d4d950ed92b326138b3c862eb8 +1ms\r\n  discv5:sessionService No session established, sending a random packet to: 13027eca868692747ffd93324fbf38f4d1f435d4d950ed92b326138b3c862eb8 on /ip4/18.223.219.100/udp/5000 +1ms\r\ndiscv5:sessionService Sending authentication message: { type: 3, id: 1740388084140610451n, distance: 255 } to node: 13027eca868692747ffd93324fbf38f4d1f435d4d950ed92b326138b3c862eb8 on /ip4/18.223.219.100/udp/5000 +1ms\r\ndiscv5:sessionService Message timed out with node: 13027eca868692747ffd93324fbf38f4d1f435d4d950ed92b326138b3c862eb8 +237ms\r\n```\r\n\r\nThe above node/peer did response us with WhoAreYou message and we response back with an authentication message. However, handshare stops from then and then it's timed out.",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/657422502/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/657493397",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/1141#issuecomment-657493397",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/1141",
    "id": 657493397,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1NzQ5MzM5Nw==",
    "user": {
      "login": "tuyennhv",
      "id": 10568965,
      "node_id": "MDQ6VXNlcjEwNTY4OTY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/10568965?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tuyennhv",
      "html_url": "https://github.com/tuyennhv",
      "followers_url": "https://api.github.com/users/tuyennhv/followers",
      "following_url": "https://api.github.com/users/tuyennhv/following{/other_user}",
      "gists_url": "https://api.github.com/users/tuyennhv/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tuyennhv/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tuyennhv/subscriptions",
      "organizations_url": "https://api.github.com/users/tuyennhv/orgs",
      "repos_url": "https://api.github.com/users/tuyennhv/repos",
      "events_url": "https://api.github.com/users/tuyennhv/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tuyennhv/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-07-13T11:04:59Z",
    "updated_at": "2020-07-13T11:04:59Z",
    "author_association": "CONTRIBUTOR",
    "body": "do you have any ideas @wemeetagain ?",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/657493397/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/657672989",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/1141#issuecomment-657672989",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/1141",
    "id": 657672989,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1NzY3Mjk4OQ==",
    "user": {
      "login": "wemeetagain",
      "id": 1348242,
      "node_id": "MDQ6VXNlcjEzNDgyNDI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1348242?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wemeetagain",
      "html_url": "https://github.com/wemeetagain",
      "followers_url": "https://api.github.com/users/wemeetagain/followers",
      "following_url": "https://api.github.com/users/wemeetagain/following{/other_user}",
      "gists_url": "https://api.github.com/users/wemeetagain/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wemeetagain/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wemeetagain/subscriptions",
      "organizations_url": "https://api.github.com/users/wemeetagain/orgs",
      "repos_url": "https://api.github.com/users/wemeetagain/repos",
      "events_url": "https://api.github.com/users/wemeetagain/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wemeetagain/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-07-13T16:53:07Z",
    "updated_at": "2020-07-13T16:53:07Z",
    "author_association": "MEMBER",
    "body": "Not sure :thinking: I've also seen lots of immediate disconnections from peers we _do_ find.",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/657672989/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/657675508",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/1141#issuecomment-657675508",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/1141",
    "id": 657675508,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1NzY3NTUwOA==",
    "user": {
      "login": "mpetrunic",
      "id": 8836210,
      "node_id": "MDQ6VXNlcjg4MzYyMTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8836210?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mpetrunic",
      "html_url": "https://github.com/mpetrunic",
      "followers_url": "https://api.github.com/users/mpetrunic/followers",
      "following_url": "https://api.github.com/users/mpetrunic/following{/other_user}",
      "gists_url": "https://api.github.com/users/mpetrunic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mpetrunic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mpetrunic/subscriptions",
      "organizations_url": "https://api.github.com/users/mpetrunic/orgs",
      "repos_url": "https://api.github.com/users/mpetrunic/repos",
      "events_url": "https://api.github.com/users/mpetrunic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mpetrunic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-07-13T16:58:12Z",
    "updated_at": "2020-07-13T16:58:12Z",
    "author_association": "MEMBER",
    "body": "Lighthouse peers ban us for 30s after we send goodbye request",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/657675508/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/657675622",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/1141#issuecomment-657675622",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/1141",
    "id": 657675622,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1NzY3NTYyMg==",
    "user": {
      "login": "mpetrunic",
      "id": 8836210,
      "node_id": "MDQ6VXNlcjg4MzYyMTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8836210?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mpetrunic",
      "html_url": "https://github.com/mpetrunic",
      "followers_url": "https://api.github.com/users/mpetrunic/followers",
      "following_url": "https://api.github.com/users/mpetrunic/following{/other_user}",
      "gists_url": "https://api.github.com/users/mpetrunic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mpetrunic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mpetrunic/subscriptions",
      "organizations_url": "https://api.github.com/users/mpetrunic/orgs",
      "repos_url": "https://api.github.com/users/mpetrunic/repos",
      "events_url": "https://api.github.com/users/mpetrunic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mpetrunic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-07-13T16:58:26Z",
    "updated_at": "2020-07-13T16:58:26Z",
    "author_association": "MEMBER",
    "body": "So that might be disconnects",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/657675622/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/657949481",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/1141#issuecomment-657949481",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/1141",
    "id": 657949481,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1Nzk0OTQ4MQ==",
    "user": {
      "login": "tuyennhv",
      "id": 10568965,
      "node_id": "MDQ6VXNlcjEwNTY4OTY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/10568965?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tuyennhv",
      "html_url": "https://github.com/tuyennhv",
      "followers_url": "https://api.github.com/users/tuyennhv/followers",
      "following_url": "https://api.github.com/users/tuyennhv/following{/other_user}",
      "gists_url": "https://api.github.com/users/tuyennhv/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tuyennhv/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tuyennhv/subscriptions",
      "organizations_url": "https://api.github.com/users/tuyennhv/orgs",
      "repos_url": "https://api.github.com/users/tuyennhv/repos",
      "events_url": "https://api.github.com/users/tuyennhv/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tuyennhv/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-07-14T03:46:22Z",
    "updated_at": "2020-07-14T03:46:38Z",
    "author_association": "CONTRIBUTOR",
    "body": "This happens regularly even through I leave it hours before I restart so it's not a 30s thing.\r\n\r\nOne of the issue is https://github.com/ChainSafe/lodestar/blob/master/packages/lodestar/src/sync/reqResp/reqResp.ts#L68\r\n\r\nOn start, the getPeers() only returns peers which have connection while initially we have no connection so it returns no peer.\r\n\r\nI tried to get all peers without the connections and do a connect/dial but got ECONNREFUSED error (even thru the peerStore already have multiaddrs for those peers as I can see ip address and port), don't know why.",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/657949481/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/659299326",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/1141#issuecomment-659299326",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/1141",
    "id": 659299326,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1OTI5OTMyNg==",
    "user": {
      "login": "tuyennhv",
      "id": 10568965,
      "node_id": "MDQ6VXNlcjEwNTY4OTY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/10568965?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tuyennhv",
      "html_url": "https://github.com/tuyennhv",
      "followers_url": "https://api.github.com/users/tuyennhv/followers",
      "following_url": "https://api.github.com/users/tuyennhv/following{/other_user}",
      "gists_url": "https://api.github.com/users/tuyennhv/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tuyennhv/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tuyennhv/subscriptions",
      "organizations_url": "https://api.github.com/users/tuyennhv/orgs",
      "repos_url": "https://api.github.com/users/tuyennhv/repos",
      "events_url": "https://api.github.com/users/tuyennhv/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tuyennhv/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-07-16T09:40:43Z",
    "updated_at": "2020-07-16T09:40:43Z",
    "author_association": "CONTRIBUTOR",
    "body": "If we don't save ENR in `run.ts`, this issue does not happen and we can always detect peers upon a restart so it's always good with a fresh `enr.json` file.\r\nThis is what's logged for a fresh `enr.json`\r\n\r\n```\r\n  discv5:sessionService No session established, sending a random packet to: 98b7a0b9d86ab6d90f30a032bc96385b36d8019c644f39c2e235b48ca1f1ed42 on /ip4/54.212.201.2/udp/9000 +1ms\r\ndiscv5:sessionService Sending authentication message: { type: 3, id: 734128736736639294n, distance: 255 } to node: 98b7a0b9d86ab6d90f30a032bc96385b36d8019c644f39c2e235b48ca1f1ed42 on /ip4/54.212.201.2/udp/9000 +14ms\r\ndiscv5:sessionService Session established with node from updated: 98b7a0b9d86ab6d90f30a032bc96385b36d8019c644f39c2e235b48ca1f1ed42 +267ms\r\ndiscv5:sessionService Sending request: { type: 1, id: 2104988989080359569n, enrSeq: 3n } to 98b7a0b9d86ab6d90f30a032bc96385b36d8019c644f39c2e235b48ca1f1ed42 on /ip4/54.212.201.2/udp/9000 +1m\r\ndiscv5:sessionService Message received: NODES from: 98b7a0b9d86ab6d90f30a032bc96385b36d8019c644f39c2e235b48ca1f1ed42 on /ip4/54.212.201.2/udp/9000 +1ms\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/659299326/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/659302547",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/1141#issuecomment-659302547",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/1141",
    "id": 659302547,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1OTMwMjU0Nw==",
    "user": {
      "login": "tuyennhv",
      "id": 10568965,
      "node_id": "MDQ6VXNlcjEwNTY4OTY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/10568965?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tuyennhv",
      "html_url": "https://github.com/tuyennhv",
      "followers_url": "https://api.github.com/users/tuyennhv/followers",
      "following_url": "https://api.github.com/users/tuyennhv/following{/other_user}",
      "gists_url": "https://api.github.com/users/tuyennhv/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tuyennhv/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tuyennhv/subscriptions",
      "organizations_url": "https://api.github.com/users/tuyennhv/orgs",
      "repos_url": "https://api.github.com/users/tuyennhv/repos",
      "events_url": "https://api.github.com/users/tuyennhv/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tuyennhv/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-07-16T09:47:02Z",
    "updated_at": "2020-07-16T09:47:02Z",
    "author_association": "CONTRIBUTOR",
    "body": "This is what's logged for a modified `enr.json` which does *not* work:\r\n```\r\ndiscv5:sessionService No session established, sending a random packet to: 98b7a0b9d86ab6d90f30a032bc96385b36d8019c644f39c2e235b48ca1f1ed42 on /ip4/54.212.201.2/udp/9000 +1ms\r\ndiscv5:sessionService Sending authentication message: { type: 3, id: 7161530636072610744n, distance: 251 } to node: 98b7a0b9d86ab6d90f30a032bc96385b36d8019c644f39c2e235b48ca1f1ed42 on /ip4/54.212.201.2/udp/9000 +2ms\r\ndiscv5:sessionService Message timed out with node: 98b7a0b9d86ab6d90f30a032bc96385b36d8019c644f39c2e235b48ca1f1ed42 +210ms\r\n```\r\n\r\nWe can see that the same node 98b7a0b9d86ab6d90f30a032bc96385b36d8019c644f39c2e235b48ca1f1ed42 did reply authentication message of a fresh`enr.json` but did not do that for the modified `enr.json`, so there's probably an issue with authentication message after we save to `enr.json`. \r\n\r\nThe surprise thing is it does not always happen for every modified `enr.json` file. If I immediately restart my node, the `enr.json` is modified but it still can detects new peers. But it seems that if I leave my .altona folder for about 2h then restart, it can't detect new peers...",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/659302547/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/659963809",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/1141#issuecomment-659963809",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/1141",
    "id": 659963809,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1OTk2MzgwOQ==",
    "user": {
      "login": "tuyennhv",
      "id": 10568965,
      "node_id": "MDQ6VXNlcjEwNTY4OTY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/10568965?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tuyennhv",
      "html_url": "https://github.com/tuyennhv",
      "followers_url": "https://api.github.com/users/tuyennhv/followers",
      "following_url": "https://api.github.com/users/tuyennhv/following{/other_user}",
      "gists_url": "https://api.github.com/users/tuyennhv/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tuyennhv/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tuyennhv/subscriptions",
      "organizations_url": "https://api.github.com/users/tuyennhv/orgs",
      "repos_url": "https://api.github.com/users/tuyennhv/repos",
      "events_url": "https://api.github.com/users/tuyennhv/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tuyennhv/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-07-17T08:38:50Z",
    "updated_at": "2020-07-17T08:38:50Z",
    "author_association": "CONTRIBUTOR",
    "body": "I think I found the root cause, open an issue in discv5 https://github.com/ChainSafe/discv5/issues/72",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/659963809/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
