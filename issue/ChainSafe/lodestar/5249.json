{
  "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/5249",
  "repository_url": "https://api.github.com/repos/ChainSafe/lodestar",
  "labels_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/5249/labels{/name}",
  "comments_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/5249/comments",
  "events_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/5249/events",
  "html_url": "https://github.com/ChainSafe/lodestar/issues/5249",
  "id": 1616923854,
  "node_id": "I_kwDOCD5_Gc5gYEzO",
  "number": 5249,
  "title": "Support different passwords for each keystore",
  "user": {
    "login": "nflaig",
    "id": 38436224,
    "node_id": "MDQ6VXNlcjM4NDM2MjI0",
    "avatar_url": "https://avatars.githubusercontent.com/u/38436224?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/nflaig",
    "html_url": "https://github.com/nflaig",
    "followers_url": "https://api.github.com/users/nflaig/followers",
    "following_url": "https://api.github.com/users/nflaig/following{/other_user}",
    "gists_url": "https://api.github.com/users/nflaig/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/nflaig/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/nflaig/subscriptions",
    "organizations_url": "https://api.github.com/users/nflaig/orgs",
    "repos_url": "https://api.github.com/users/nflaig/repos",
    "events_url": "https://api.github.com/users/nflaig/events{/privacy}",
    "received_events_url": "https://api.github.com/users/nflaig/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1200090446,
      "node_id": "MDU6TGFiZWwxMjAwMDkwNDQ2",
      "url": "https://api.github.com/repos/ChainSafe/lodestar/labels/prio-medium",
      "name": "prio-medium",
      "color": "fdc09f",
      "default": false,
      "description": "Resolve this some time soon (tm)."
    },
    {
      "id": 1478328632,
      "node_id": "MDU6TGFiZWwxNDc4MzI4NjMy",
      "url": "https://api.github.com/repos/ChainSafe/lodestar/labels/help-wanted",
      "name": "help-wanted",
      "color": "016c59",
      "default": false,
      "description": "The author indicates that additional help is wanted."
    },
    {
      "id": 4754137758,
      "node_id": "LA_kwDOCD5_Gc8AAAABG15ing",
      "url": "https://api.github.com/repos/ChainSafe/lodestar/labels/meta-feature-request",
      "name": "meta-feature-request",
      "color": "B5CF5F",
      "default": false,
      "description": "Issues to track feature requests."
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/milestones/30",
    "html_url": "https://github.com/ChainSafe/lodestar/milestone/30",
    "labels_url": "https://api.github.com/repos/ChainSafe/lodestar/milestones/30/labels",
    "id": 9375506,
    "node_id": "MI_kwDOCD5_Gc4Ajw8S",
    "number": 30,
    "title": "v1.10.0",
    "description": "",
    "creator": {
      "login": "philknows",
      "id": 58080811,
      "node_id": "MDQ6VXNlcjU4MDgwODEx",
      "avatar_url": "https://avatars.githubusercontent.com/u/58080811?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/philknows",
      "html_url": "https://github.com/philknows",
      "followers_url": "https://api.github.com/users/philknows/followers",
      "following_url": "https://api.github.com/users/philknows/following{/other_user}",
      "gists_url": "https://api.github.com/users/philknows/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/philknows/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/philknows/subscriptions",
      "organizations_url": "https://api.github.com/users/philknows/orgs",
      "repos_url": "https://api.github.com/users/philknows/repos",
      "events_url": "https://api.github.com/users/philknows/events{/privacy}",
      "received_events_url": "https://api.github.com/users/philknows/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 15,
    "closed_issues": 9,
    "state": "open",
    "created_at": "2023-05-09T04:09:47Z",
    "updated_at": "2023-07-12T13:51:46Z",
    "due_on": null,
    "closed_at": null
  },
  "comments": 6,
  "created_at": "2023-03-09T10:41:35Z",
  "updated_at": "2023-07-12T14:14:54Z",
  "closed_at": null,
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "**Is your feature request related to a problem? Please describe.**\r\n\r\nThere are two flags: `--importKeystores` and `--importKeystoresPassword`. Where `--importKeystores` expects a directory with all the keystores while `--importKeystoresPassword` expects just ONE password file to decrypt ALL the keystores. What if we have keystores with different password for each keystore?\r\n\r\n**Describe the solution you'd like**\r\n\r\nSupport multiple password file formats (simple and mapped) or option to provide multiple password files, maybe similar approach to how [teku validator-keys](https://docs.teku.consensys.net/Reference/CLI/CLI-Syntax/#validator-keys) work.\r\n\r\nI could imagine a file structure like this\r\n\r\n```txt\r\n<keystore filename1>:<password1>\r\n<keystore filename2>:<password2>\r\n<keystore filename3>:<password3>\r\n```\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/5249/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/5249/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1461786427",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/5249#issuecomment-1461786427",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/5249",
    "id": 1461786427,
    "node_id": "IC_kwDOCD5_Gc5XIRc7",
    "user": {
      "login": "dapplion",
      "id": 35266934,
      "node_id": "MDQ6VXNlcjM1MjY2OTM0",
      "avatar_url": "https://avatars.githubusercontent.com/u/35266934?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dapplion",
      "html_url": "https://github.com/dapplion",
      "followers_url": "https://api.github.com/users/dapplion/followers",
      "following_url": "https://api.github.com/users/dapplion/following{/other_user}",
      "gists_url": "https://api.github.com/users/dapplion/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dapplion/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dapplion/subscriptions",
      "organizations_url": "https://api.github.com/users/dapplion/orgs",
      "repos_url": "https://api.github.com/users/dapplion/repos",
      "events_url": "https://api.github.com/users/dapplion/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dapplion/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-03-09T10:47:32Z",
    "updated_at": "2023-03-09T10:47:32Z",
    "author_association": "MEMBER",
    "body": "If you have different passwords per keystore, why not import first?",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1461786427/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1461793441",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/5249#issuecomment-1461793441",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/5249",
    "id": 1461793441,
    "node_id": "IC_kwDOCD5_Gc5XITKh",
    "user": {
      "login": "nflaig",
      "id": 38436224,
      "node_id": "MDQ6VXNlcjM4NDM2MjI0",
      "avatar_url": "https://avatars.githubusercontent.com/u/38436224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nflaig",
      "html_url": "https://github.com/nflaig",
      "followers_url": "https://api.github.com/users/nflaig/followers",
      "following_url": "https://api.github.com/users/nflaig/following{/other_user}",
      "gists_url": "https://api.github.com/users/nflaig/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nflaig/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nflaig/subscriptions",
      "organizations_url": "https://api.github.com/users/nflaig/orgs",
      "repos_url": "https://api.github.com/users/nflaig/repos",
      "events_url": "https://api.github.com/users/nflaig/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nflaig/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-03-09T10:51:12Z",
    "updated_at": "2023-03-09T10:52:53Z",
    "author_association": "MEMBER",
    "body": "> why not import first?\r\n\r\nimport first how? We should assume that we are running in a non-interactive environment, meaning the only option is to use `--importKeystoresPassword` and not the prompt. This works fine if all keystore have the same password but not with different passwords. ",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1461793441/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1461801650",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/5249#issuecomment-1461801650",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/5249",
    "id": 1461801650,
    "node_id": "IC_kwDOCD5_Gc5XIVKy",
    "user": {
      "login": "nazarhussain",
      "id": 112468,
      "node_id": "MDQ6VXNlcjExMjQ2OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/112468?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nazarhussain",
      "html_url": "https://github.com/nazarhussain",
      "followers_url": "https://api.github.com/users/nazarhussain/followers",
      "following_url": "https://api.github.com/users/nazarhussain/following{/other_user}",
      "gists_url": "https://api.github.com/users/nazarhussain/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nazarhussain/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nazarhussain/subscriptions",
      "organizations_url": "https://api.github.com/users/nazarhussain/orgs",
      "repos_url": "https://api.github.com/users/nazarhussain/repos",
      "events_url": "https://api.github.com/users/nazarhussain/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nazarhussain/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-03-09T10:56:28Z",
    "updated_at": "2023-03-09T10:56:28Z",
    "author_association": "CONTRIBUTOR",
    "body": "My recomendation would be following: \r\n\r\n1. Rename `--importKeystoresPassword`  to `--importKeystoresPasswords`\r\n2. It should be pointing to a directory not a file \r\n3. The directory could contain multiple password files for different keystores \r\n4. The file name convention should be `<validator-public-key-hex>.txt`\r\n\r\nThis approach will make the behavior consistent to other CL clients, hence easy for users to join. Also the file convention pattern makes it easy debug or know the pasword for a relevant validator. ",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1461801650/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1462470942",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/5249#issuecomment-1462470942",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/5249",
    "id": 1462470942,
    "node_id": "IC_kwDOCD5_Gc5XK4ke",
    "user": {
      "login": "philknows",
      "id": 58080811,
      "node_id": "MDQ6VXNlcjU4MDgwODEx",
      "avatar_url": "https://avatars.githubusercontent.com/u/58080811?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/philknows",
      "html_url": "https://github.com/philknows",
      "followers_url": "https://api.github.com/users/philknows/followers",
      "following_url": "https://api.github.com/users/philknows/following{/other_user}",
      "gists_url": "https://api.github.com/users/philknows/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/philknows/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/philknows/subscriptions",
      "organizations_url": "https://api.github.com/users/philknows/orgs",
      "repos_url": "https://api.github.com/users/philknows/repos",
      "events_url": "https://api.github.com/users/philknows/events{/privacy}",
      "received_events_url": "https://api.github.com/users/philknows/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-03-09T17:30:51Z",
    "updated_at": "2023-03-09T17:30:51Z",
    "author_association": "MEMBER",
    "body": "Agree with the need for this feature. Currently in GitHub.com/ChainSafe/lodestar-QuickStart we spin up validator clients based on a directory which has a pass.txt (password for all keystores with the same password in a directory) and a keystores folder with keystores.json of the associated password in pass.txt\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1462470942/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1485297895",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/5249#issuecomment-1485297895",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/5249",
    "id": 1485297895,
    "node_id": "IC_kwDOCD5_Gc5Yh9jn",
    "user": {
      "login": "philknows",
      "id": 58080811,
      "node_id": "MDQ6VXNlcjU4MDgwODEx",
      "avatar_url": "https://avatars.githubusercontent.com/u/58080811?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/philknows",
      "html_url": "https://github.com/philknows",
      "followers_url": "https://api.github.com/users/philknows/followers",
      "following_url": "https://api.github.com/users/philknows/following{/other_user}",
      "gists_url": "https://api.github.com/users/philknows/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/philknows/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/philknows/subscriptions",
      "organizations_url": "https://api.github.com/users/philknows/orgs",
      "repos_url": "https://api.github.com/users/philknows/repos",
      "events_url": "https://api.github.com/users/philknows/events{/privacy}",
      "received_events_url": "https://api.github.com/users/philknows/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-03-27T15:10:16Z",
    "updated_at": "2023-03-27T15:10:16Z",
    "author_association": "MEMBER",
    "body": "Noting that when Rocketpool creates validators, it assigns unique passwords to each keystore. So it's important we have some easy way to non-interactively also import multiple keystores with different passwords. ",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1485297895/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1529530455",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/5249#issuecomment-1529530455",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/5249",
    "id": 1529530455,
    "node_id": "IC_kwDOCD5_Gc5bKshX",
    "user": {
      "login": "nflaig",
      "id": 38436224,
      "node_id": "MDQ6VXNlcjM4NDM2MjI0",
      "avatar_url": "https://avatars.githubusercontent.com/u/38436224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nflaig",
      "html_url": "https://github.com/nflaig",
      "followers_url": "https://api.github.com/users/nflaig/followers",
      "following_url": "https://api.github.com/users/nflaig/following{/other_user}",
      "gists_url": "https://api.github.com/users/nflaig/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nflaig/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nflaig/subscriptions",
      "organizations_url": "https://api.github.com/users/nflaig/orgs",
      "repos_url": "https://api.github.com/users/nflaig/repos",
      "events_url": "https://api.github.com/users/nflaig/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nflaig/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-01T09:54:35Z",
    "updated_at": "2023-05-01T09:54:35Z",
    "author_association": "MEMBER",
    "body": "Current approach used by Obol to non-interactively import keystores with different passwords\r\n\r\n```sh\r\nfor f in /home/charon/validator_keys/keystore-*.json; do\r\n    echo \"Importing key ${f}\"\r\n\r\n    # Import keystore with password.\r\n    node /usr/app/packages/cli/bin/lodestar validator import \\\r\n        --network=\"$NETWORK\" \\\r\n        --importKeystores=\"$f\" \\\r\n        --importKeystoresPassword=\"${f//json/txt}\"\r\ndone\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1529530455/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
