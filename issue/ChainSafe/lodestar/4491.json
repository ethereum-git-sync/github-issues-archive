{
  "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/4491",
  "repository_url": "https://api.github.com/repos/ChainSafe/lodestar",
  "labels_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/4491/labels{/name}",
  "comments_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/4491/comments",
  "events_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/4491/events",
  "html_url": "https://github.com/ChainSafe/lodestar/issues/4491",
  "id": 1353476802,
  "node_id": "I_kwDOCD5_Gc5QrGrC",
  "number": 4491,
  "title": "Export `DomainTypes` in the /eth/v1/config/spec endpoint",
  "user": {
    "login": "OisinKyne",
    "id": 4981644,
    "node_id": "MDQ6VXNlcjQ5ODE2NDQ=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4981644?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/OisinKyne",
    "html_url": "https://github.com/OisinKyne",
    "followers_url": "https://api.github.com/users/OisinKyne/followers",
    "following_url": "https://api.github.com/users/OisinKyne/following{/other_user}",
    "gists_url": "https://api.github.com/users/OisinKyne/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/OisinKyne/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/OisinKyne/subscriptions",
    "organizations_url": "https://api.github.com/users/OisinKyne/orgs",
    "repos_url": "https://api.github.com/users/OisinKyne/repos",
    "events_url": "https://api.github.com/users/OisinKyne/events{/privacy}",
    "received_events_url": "https://api.github.com/users/OisinKyne/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2022-08-28T21:41:30Z",
  "updated_at": "2022-08-29T14:18:57Z",
  "closed_at": "2022-08-29T13:54:39Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "**Is your feature request related to a problem? Please describe.**\r\n\r\nYes, I am trying to run vouch against a lodestar beacon node. It is failing with the following error:\r\n\r\n```json\r\n{\"level\":\"error\",\"error\":\"failed to start signer: failed to start signer provider service: DOMAIN_BEACON_ATTESTER not found in spec\",\"time\":\"2022-08-28T20:41:43Z\",\"message\":\"Failed to initialise services\"}\r\n```\r\n\r\nDoing a curl of the /eth/v1/config/spec endpoint I get:\r\n```json\r\n  {\r\n    \"PRESET_BASE\": \"mainnet\",\r\n    \"TERMINAL_TOTAL_DIFFICULTY\": \"10790000\",\r\n    \"TERMINAL_BLOCK_HASH\": \"0x0000000000000000000000000000000000000000000000000000000000000000\",\r\n    \"TERMINAL_BLOCK_HASH_ACTIVATION_EPOCH\": \"18446744073709551615\",\r\n    \"MIN_GENESIS_ACTIVE_VALIDATOR_COUNT\": \"16384\",\r\n    \"MIN_GENESIS_TIME\": \"1614588812\",\r\n    \"GENESIS_FORK_VERSION\": \"0x00001020\",\r\n    \"GENESIS_DELAY\": \"1919188\",\r\n    \"ALTAIR_FORK_VERSION\": \"0x01001020\",\r\n    \"ALTAIR_FORK_EPOCH\": \"36660\",\r\n    \"BELLATRIX_FORK_VERSION\": \"0x02001020\",\r\n    \"BELLATRIX_FORK_EPOCH\": \"112260\",\r\n    \"SHARDING_FORK_VERSION\": \"0x03001020\",\r\n    \"SHARDING_FORK_EPOCH\": \"18446744073709551615\",\r\n    \"SECONDS_PER_SLOT\": \"12\",\r\n    \"SECONDS_PER_ETH1_BLOCK\": \"14\",\r\n    \"MIN_VALIDATOR_WITHDRAWABILITY_DELAY\": \"256\",\r\n    \"SHARD_COMMITTEE_PERIOD\": \"256\",\r\n    \"ETH1_FOLLOW_DISTANCE\": \"2048\",\r\n    \"INACTIVITY_SCORE_BIAS\": \"4\",\r\n    \"INACTIVITY_SCORE_RECOVERY_RATE\": \"16\",\r\n    \"EJECTION_BALANCE\": \"16000000000\",\r\n    \"MIN_PER_EPOCH_CHURN_LIMIT\": \"4\",\r\n    \"CHURN_LIMIT_QUOTIENT\": \"65536\",\r\n    \"PROPOSER_SCORE_BOOST\": \"40\",\r\n    \"DEPOSIT_CHAIN_ID\": \"5\",\r\n    \"DEPOSIT_NETWORK_ID\": \"5\",\r\n    \"DEPOSIT_CONTRACT_ADDRESS\": \"0xff50ed3d0ec03ac01d4c79aad74928bff48a7b2b\",\r\n    \"MAX_COMMITTEES_PER_SLOT\": \"64\",\r\n    \"TARGET_COMMITTEE_SIZE\": \"128\",\r\n    \"MAX_VALIDATORS_PER_COMMITTEE\": \"2048\",\r\n    \"SHUFFLE_ROUND_COUNT\": \"90\",\r\n    \"HYSTERESIS_QUOTIENT\": \"4\",\r\n    \"HYSTERESIS_DOWNWARD_MULTIPLIER\": \"1\",\r\n    \"HYSTERESIS_UPWARD_MULTIPLIER\": \"5\",\r\n    \"SAFE_SLOTS_TO_UPDATE_JUSTIFIED\": \"8\",\r\n    \"MIN_DEPOSIT_AMOUNT\": \"1000000000\",\r\n    \"MAX_EFFECTIVE_BALANCE\": \"32000000000\",\r\n    \"EFFECTIVE_BALANCE_INCREMENT\": \"1000000000\",\r\n    \"MIN_ATTESTATION_INCLUSION_DELAY\": \"1\",\r\n    \"SLOTS_PER_EPOCH\": \"32\",\r\n    \"MIN_SEED_LOOKAHEAD\": \"1\",\r\n    \"MAX_SEED_LOOKAHEAD\": \"4\",\r\n    \"EPOCHS_PER_ETH1_VOTING_PERIOD\": \"64\",\r\n    \"SLOTS_PER_HISTORICAL_ROOT\": \"8192\",\r\n    \"MIN_EPOCHS_TO_INACTIVITY_PENALTY\": \"4\",\r\n    \"EPOCHS_PER_HISTORICAL_VECTOR\": \"65536\",\r\n    \"EPOCHS_PER_SLASHINGS_VECTOR\": \"8192\",\r\n    \"HISTORICAL_ROOTS_LIMIT\": \"16777216\",\r\n    \"VALIDATOR_REGISTRY_LIMIT\": \"1099511627776\",\r\n    \"BASE_REWARD_FACTOR\": \"64\",\r\n    \"WHISTLEBLOWER_REWARD_QUOTIENT\": \"512\",\r\n    \"PROPOSER_REWARD_QUOTIENT\": \"8\",\r\n    \"INACTIVITY_PENALTY_QUOTIENT\": \"67108864\",\r\n    \"MIN_SLASHING_PENALTY_QUOTIENT\": \"128\",\r\n    \"PROPORTIONAL_SLASHING_MULTIPLIER\": \"1\",\r\n    \"MAX_PROPOSER_SLASHINGS\": \"16\",\r\n    \"MAX_ATTESTER_SLASHINGS\": \"2\",\r\n    \"MAX_ATTESTATIONS\": \"128\",\r\n    \"MAX_DEPOSITS\": \"16\",\r\n    \"MAX_VOLUNTARY_EXITS\": \"16\",\r\n    \"SYNC_COMMITTEE_SIZE\": \"512\",\r\n    \"EPOCHS_PER_SYNC_COMMITTEE_PERIOD\": \"256\",\r\n    \"INACTIVITY_PENALTY_QUOTIENT_ALTAIR\": \"50331648\",\r\n    \"MIN_SLASHING_PENALTY_QUOTIENT_ALTAIR\": \"64\",\r\n    \"PROPORTIONAL_SLASHING_MULTIPLIER_ALTAIR\": \"2\",\r\n    \"MIN_SYNC_COMMITTEE_PARTICIPANTS\": \"1\",\r\n    \"UPDATE_TIMEOUT\": \"8192\",\r\n    \"INACTIVITY_PENALTY_QUOTIENT_BELLATRIX\": \"16777216\",\r\n    \"MIN_SLASHING_PENALTY_QUOTIENT_BELLATRIX\": \"32\",\r\n    \"PROPORTIONAL_SLASHING_MULTIPLIER_BELLATRIX\": \"3\",\r\n    \"MAX_BYTES_PER_TRANSACTION\": \"1073741824\",\r\n    \"MAX_TRANSACTIONS_PER_PAYLOAD\": \"1048576\",\r\n    \"BYTES_PER_LOGS_BLOOM\": \"256\",\r\n    \"MAX_EXTRA_DATA_BYTES\": \"32\"\r\n  }\r\n```\r\n\r\nwhich contains none of [these](https://github.com/ChainSafe/lodestar/blob/unstable/packages/params/src/index.ts#L108) domain types. For comparison, hitting a teku node gives \r\n\r\n```json\r\n{\r\n    \"DEPOSIT_CONTRACT_ADDRESS\": \"0xff50ed3d0ec03aC01D4C79aAd74928BFF48a7b2b\",\r\n    \"MIN_ATTESTATION_INCLUSION_DELAY\": \"1\",\r\n    \"SLOTS_PER_EPOCH\": \"32\",\r\n    \"PRESET_BASE\": \"mainnet\",\r\n    \"TERMINAL_TOTAL_DIFFICULTY\": \"10790000\",\r\n    \"INACTIVITY_SCORE_BIAS\": \"4\",\r\n    \"SHUFFLE_ROUND_COUNT\": \"90\",\r\n    \"TERMINAL_BLOCK_HASH_ACTIVATION_EPOCH\": \"18446744073709551615\",\r\n    \"MAX_EFFECTIVE_BALANCE\": \"32000000000\",\r\n    \"DOMAIN_BEACON_PROPOSER\": \"0x00000000\",\r\n    \"DOMAIN_SYNC_COMMITTEE\": \"0x07000000\",\r\n    \"PROPOSER_SCORE_BOOST\": \"70\",\r\n    \"MAX_ATTESTER_SLASHINGS\": \"2\",\r\n    \"DOMAIN_SELECTION_PROOF\": \"0x05000000\",\r\n    \"MIN_SLASHING_PENALTY_QUOTIENT_BELLATRIX\": \"32\",\r\n    \"INACTIVITY_PENALTY_QUOTIENT_BELLATRIX\": \"16777216\",\r\n    \"INACTIVITY_PENALTY_QUOTIENT\": \"67108864\",\r\n    \"SAFE_SLOTS_TO_UPDATE_JUSTIFIED\": \"8\",\r\n    \"SECONDS_PER_ETH1_BLOCK\": \"14\",\r\n    \"HYSTERESIS_UPWARD_MULTIPLIER\": \"5\",\r\n    \"MIN_SEED_LOOKAHEAD\": \"1\",\r\n    \"VALIDATOR_REGISTRY_LIMIT\": \"1099511627776\",\r\n    \"MIN_DEPOSIT_AMOUNT\": \"1000000000\",\r\n    \"SLOTS_PER_HISTORICAL_ROOT\": \"8192\",\r\n    \"PROPORTIONAL_SLASHING_MULTIPLIER_ALTAIR\": \"2\",\r\n    \"MIN_VALIDATOR_WITHDRAWABILITY_DELAY\": \"256\",\r\n    \"DOMAIN_VOLUNTARY_EXIT\": \"0x04000000\",\r\n    \"TARGET_COMMITTEE_SIZE\": \"128\",\r\n    \"MAX_VALIDATORS_PER_COMMITTEE\": \"2048\",\r\n    \"TERMINAL_BLOCK_HASH\": \"0x0000000000000000000000000000000000000000000000000000000000000000\",\r\n    \"MIN_GENESIS_TIME\": \"1614588812\",\r\n    \"ALTAIR_FORK_EPOCH\": \"36660\",\r\n    \"HYSTERESIS_QUOTIENT\": \"4\",\r\n    \"ALTAIR_FORK_VERSION\": \"0x01001020\",\r\n    \"RANDOM_SUBNETS_PER_VALIDATOR\": \"1\",\r\n    \"DOMAIN_DEPOSIT\": \"0x03000000\",\r\n    \"MAX_BYTES_PER_TRANSACTION\": \"1073741824\",\r\n    \"DOMAIN_CONTRIBUTION_AND_PROOF\": \"0x09000000\",\r\n    \"UPDATE_TIMEOUT\": \"8192\",\r\n    \"WHISTLEBLOWER_REWARD_QUOTIENT\": \"512\",\r\n    \"PROPOSER_REWARD_QUOTIENT\": \"8\",\r\n    \"DEPOSIT_CHAIN_ID\": \"5\",\r\n    \"DOMAIN_RANDAO\": \"0x02000000\",\r\n    \"EPOCHS_PER_RANDOM_SUBNET_SUBSCRIPTION\": \"256\",\r\n    \"EPOCHS_PER_HISTORICAL_VECTOR\": \"65536\",\r\n    \"MIN_PER_EPOCH_CHURN_LIMIT\": \"4\",\r\n    \"MIN_SLASHING_PENALTY_QUOTIENT_ALTAIR\": \"64\",\r\n    \"TARGET_AGGREGATORS_PER_SYNC_SUBCOMMITTEE\": \"16\",\r\n    \"EPOCHS_PER_ETH1_VOTING_PERIOD\": \"64\",\r\n    \"MAX_DEPOSITS\": \"16\",\r\n    \"BELLATRIX_FORK_EPOCH\": \"112260\",\r\n    \"HISTORICAL_ROOTS_LIMIT\": \"16777216\",\r\n    \"SYNC_COMMITTEE_SIZE\": \"512\",\r\n    \"TARGET_AGGREGATORS_PER_COMMITTEE\": \"16\",\r\n    \"DOMAIN_SYNC_COMMITTEE_SELECTION_PROOF\": \"0x08000000\",\r\n    \"EPOCHS_PER_SLASHINGS_VECTOR\": \"8192\",\r\n    \"MIN_SLASHING_PENALTY_QUOTIENT\": \"128\",\r\n    \"PROPORTIONAL_SLASHING_MULTIPLIER\": \"1\",\r\n    \"MAX_VOLUNTARY_EXITS\": \"16\",\r\n    \"HYSTERESIS_DOWNWARD_MULTIPLIER\": \"1\",\r\n    \"DOMAIN_BEACON_ATTESTER\": \"0x01000000\",\r\n    \"DOMAIN_APPLICATION_BUILDER\": \"0x00000001\",\r\n    \"EPOCHS_PER_SYNC_COMMITTEE_PERIOD\": \"256\",\r\n    \"GENESIS_DELAY\": \"1919188\",\r\n    \"MAX_SEED_LOOKAHEAD\": \"4\",\r\n    \"BYTES_PER_LOGS_BLOOM\": \"256\",\r\n    \"ETH1_FOLLOW_DISTANCE\": \"2048\",\r\n    \"SECONDS_PER_SLOT\": \"12\",\r\n    \"MIN_GENESIS_ACTIVE_VALIDATOR_COUNT\": \"16384\",\r\n    \"MIN_SYNC_COMMITTEE_PARTICIPANTS\": \"1\",\r\n    \"MAX_ATTESTATIONS\": \"128\",\r\n    \"BELLATRIX_FORK_VERSION\": \"0x02001020\",\r\n    \"GENESIS_FORK_VERSION\": \"0x00001020\",\r\n    \"DEPOSIT_NETWORK_ID\": \"5\",\r\n    \"PROPORTIONAL_SLASHING_MULTIPLIER_BELLATRIX\": \"3\",\r\n    \"SYNC_COMMITTEE_SUBNET_COUNT\": \"4\",\r\n    \"EJECTION_BALANCE\": \"16000000000\",\r\n    \"MAX_COMMITTEES_PER_SLOT\": \"64\",\r\n    \"SHARD_COMMITTEE_PERIOD\": \"256\",\r\n    \"EFFECTIVE_BALANCE_INCREMENT\": \"1000000000\",\r\n    \"INACTIVITY_PENALTY_QUOTIENT_ALTAIR\": \"50331648\",\r\n    \"DOMAIN_AGGREGATE_AND_PROOF\": \"0x06000000\",\r\n    \"MIN_EPOCHS_TO_INACTIVITY_PENALTY\": \"4\",\r\n    \"BASE_REWARD_FACTOR\": \"64\",\r\n    \"MAX_EXTRA_DATA_BYTES\": \"32\",\r\n    \"CONFIG_NAME\": \"prater\",\r\n    \"MAX_PROPOSER_SLASHINGS\": \"16\",\r\n    \"CHURN_LIMIT_QUOTIENT\": \"65536\",\r\n    \"INACTIVITY_SCORE_RECOVERY_RATE\": \"16\",\r\n    \"BLS_WITHDRAWAL_PREFIX\": \"0x00\",\r\n    \"MAX_TRANSACTIONS_PER_PAYLOAD\": \"1048576\"\r\n  }\r\n```\r\n\r\nWhich includes all 11 domain types linked above.\r\n\r\n**Describe the solution you'd like**\r\n\r\nLodestar includes all domain types in the `/eth/v1/config/spec` endpoint.\r\n\r\n**Describe alternatives you've considered**\r\n\r\nIt looks like I can do some sort of custom preset to overwrite/inject custom presets into lodestar, which maybe hopefully would get passed through to the endpoint, but I haven't been able to figure out how to do this. \r\n\r\n**Additional context**\r\n\r\nUltimately I'd like to fully support lodestar in [`go-eth2-client`](https://github.com/attestantio/go-eth2-client) such that we can support lodestar in [Obol](https://github.com/ObolNetwork/charon#project-status). I'm not sure if exposing these values in the spec endpoint however will be the only blockers to full support. TBD. \r\n",
  "closed_by": {
    "login": "wemeetagain",
    "id": 1348242,
    "node_id": "MDQ6VXNlcjEzNDgyNDI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1348242?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/wemeetagain",
    "html_url": "https://github.com/wemeetagain",
    "followers_url": "https://api.github.com/users/wemeetagain/followers",
    "following_url": "https://api.github.com/users/wemeetagain/following{/other_user}",
    "gists_url": "https://api.github.com/users/wemeetagain/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/wemeetagain/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/wemeetagain/subscriptions",
    "organizations_url": "https://api.github.com/users/wemeetagain/orgs",
    "repos_url": "https://api.github.com/users/wemeetagain/repos",
    "events_url": "https://api.github.com/users/wemeetagain/events{/privacy}",
    "received_events_url": "https://api.github.com/users/wemeetagain/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/4491/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/4491/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1230184371",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/4491#issuecomment-1230184371",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/4491",
    "id": 1230184371,
    "node_id": "IC_kwDOCD5_Gc5JUx-z",
    "user": {
      "login": "dapplion",
      "id": 35266934,
      "node_id": "MDQ6VXNlcjM1MjY2OTM0",
      "avatar_url": "https://avatars.githubusercontent.com/u/35266934?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dapplion",
      "html_url": "https://github.com/dapplion",
      "followers_url": "https://api.github.com/users/dapplion/followers",
      "following_url": "https://api.github.com/users/dapplion/following{/other_user}",
      "gists_url": "https://api.github.com/users/dapplion/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dapplion/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dapplion/subscriptions",
      "organizations_url": "https://api.github.com/users/dapplion/orgs",
      "repos_url": "https://api.github.com/users/dapplion/repos",
      "events_url": "https://api.github.com/users/dapplion/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dapplion/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-29T11:54:32Z",
    "updated_at": "2022-08-29T11:54:32Z",
    "author_association": "MEMBER",
    "body": "> Lodestar includes all domain types in the /eth/v1/config/spec endpoint.\r\n\r\nYes definitely! Will fix asap",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1230184371/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 1,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1230376826",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/4491#issuecomment-1230376826",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/4491",
    "id": 1230376826,
    "node_id": "IC_kwDOCD5_Gc5JVg96",
    "user": {
      "login": "OisinKyne",
      "id": 4981644,
      "node_id": "MDQ6VXNlcjQ5ODE2NDQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4981644?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/OisinKyne",
      "html_url": "https://github.com/OisinKyne",
      "followers_url": "https://api.github.com/users/OisinKyne/followers",
      "following_url": "https://api.github.com/users/OisinKyne/following{/other_user}",
      "gists_url": "https://api.github.com/users/OisinKyne/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/OisinKyne/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/OisinKyne/subscriptions",
      "organizations_url": "https://api.github.com/users/OisinKyne/orgs",
      "repos_url": "https://api.github.com/users/OisinKyne/repos",
      "events_url": "https://api.github.com/users/OisinKyne/events{/privacy}",
      "received_events_url": "https://api.github.com/users/OisinKyne/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-29T14:18:30Z",
    "updated_at": "2022-08-29T14:18:30Z",
    "author_association": "NONE",
    "body": "Thanks guys!",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1230376826/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
