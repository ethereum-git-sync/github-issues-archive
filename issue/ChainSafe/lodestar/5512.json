{
  "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/5512",
  "repository_url": "https://api.github.com/repos/ChainSafe/lodestar",
  "labels_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/5512/labels{/name}",
  "comments_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/5512/comments",
  "events_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/5512/events",
  "html_url": "https://github.com/ChainSafe/lodestar/issues/5512",
  "id": 1718756446,
  "node_id": "I_kwDOCD5_Gc5mciRe",
  "number": 5512,
  "title": "High builder API response time",
  "user": {
    "login": "tuyennhv",
    "id": 10568965,
    "node_id": "MDQ6VXNlcjEwNTY4OTY1",
    "avatar_url": "https://avatars.githubusercontent.com/u/10568965?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tuyennhv",
    "html_url": "https://github.com/tuyennhv",
    "followers_url": "https://api.github.com/users/tuyennhv/followers",
    "following_url": "https://api.github.com/users/tuyennhv/following{/other_user}",
    "gists_url": "https://api.github.com/users/tuyennhv/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tuyennhv/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tuyennhv/subscriptions",
    "organizations_url": "https://api.github.com/users/tuyennhv/orgs",
    "repos_url": "https://api.github.com/users/tuyennhv/repos",
    "events_url": "https://api.github.com/users/tuyennhv/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tuyennhv/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1200090447,
      "node_id": "MDU6TGFiZWwxMjAwMDkwNDQ3",
      "url": "https://api.github.com/repos/ChainSafe/lodestar/labels/prio-high",
      "name": "prio-high",
      "color": "fd9579",
      "default": false,
      "description": "Resolve issues as soon as possible."
    },
    {
      "id": 2963898184,
      "node_id": "MDU6TGFiZWwyOTYzODk4MTg0",
      "url": "https://api.github.com/repos/ChainSafe/lodestar/labels/scope-performance",
      "name": "scope-performance",
      "color": "980043",
      "default": false,
      "description": "Performance issue and ideas to improve performance."
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2023-05-22T02:06:40Z",
  "updated_at": "2023-05-24T04:05:16Z",
  "closed_at": null,
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "**Describe the bug**\r\n\r\nThis is monitored on mainnet, the block is published so late (up to 6s) and we have the risk of proposer reorg:\r\n\r\n<img width=\"804\" alt=\"Screenshot 2023-05-22 at 08 59 42\" src=\"https://github.com/ChainSafe/lodestar/assets/10568965/89a675d7-6d18-414b-be48-026ba5d2b4f6\">\r\n\r\n**Expected behavior**\r\n\r\n- Add/find necessary metrics and logs to track\r\n- Investigate which steps contribute to the most time\r\n- Reduce the delay time",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/5512/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/5512/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1560429057",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/5512#issuecomment-1560429057",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/5512",
    "id": 1560429057,
    "node_id": "IC_kwDOCD5_Gc5dAkIB",
    "user": {
      "login": "tuyennhv",
      "id": 10568965,
      "node_id": "MDQ6VXNlcjEwNTY4OTY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/10568965?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tuyennhv",
      "html_url": "https://github.com/tuyennhv",
      "followers_url": "https://api.github.com/users/tuyennhv/followers",
      "following_url": "https://api.github.com/users/tuyennhv/following{/other_user}",
      "gists_url": "https://api.github.com/users/tuyennhv/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tuyennhv/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tuyennhv/subscriptions",
      "organizations_url": "https://api.github.com/users/tuyennhv/orgs",
      "repos_url": "https://api.github.com/users/tuyennhv/repos",
      "events_url": "https://api.github.com/users/tuyennhv/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tuyennhv/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-24T04:04:47Z",
    "updated_at": "2023-05-24T04:04:47Z",
    "author_association": "CONTRIBUTOR",
    "body": "was able to catch a 4s publish block delay, this is a blinded block flow (i.e block comes from builder). \r\n\r\n<img width=\"1302\" alt=\"Screenshot 2023-05-24 at 11 01 32\" src=\"https://github.com/ChainSafe/lodestar/assets/10568965/22f17df1-7f6a-435c-a706-8fb93180eff8\">\r\n\r\nRoot cause is mainly the I/O time with builder\r\n\r\n<img width=\"802\" alt=\"Screenshot 2023-05-24 at 11 01 17\" src=\"https://github.com/ChainSafe/lodestar/assets/10568965/246aa422-a6d5-403c-b1e4-4fbfca7abd81\">\r\n\r\neven Publish Block Delay is high it may not be an issue because builder publish block to gossip even before lodestar\r\n\r\nneed to monitor if this time reduce once network thread work is released in v1.9\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1560429057/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
