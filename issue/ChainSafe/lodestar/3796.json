{
  "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/3796",
  "repository_url": "https://api.github.com/repos/ChainSafe/lodestar",
  "labels_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/3796/labels{/name}",
  "comments_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/3796/comments",
  "events_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/3796/events",
  "html_url": "https://github.com/ChainSafe/lodestar/issues/3796",
  "id": 1152708755,
  "node_id": "I_kwDOCD5_Gc5EtPCT",
  "number": 3796,
  "title": "Lightclient wallet for ETH + ERC20 balances",
  "user": {
    "login": "dapplion",
    "id": 35266934,
    "node_id": "MDQ6VXNlcjM1MjY2OTM0",
    "avatar_url": "https://avatars.githubusercontent.com/u/35266934?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/dapplion",
    "html_url": "https://github.com/dapplion",
    "followers_url": "https://api.github.com/users/dapplion/followers",
    "following_url": "https://api.github.com/users/dapplion/following{/other_user}",
    "gists_url": "https://api.github.com/users/dapplion/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/dapplion/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/dapplion/subscriptions",
    "organizations_url": "https://api.github.com/users/dapplion/orgs",
    "repos_url": "https://api.github.com/users/dapplion/repos",
    "events_url": "https://api.github.com/users/dapplion/events{/privacy}",
    "received_events_url": "https://api.github.com/users/dapplion/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 3592888034,
      "node_id": "LA_kwDOCD5_Gc7WJx7i",
      "url": "https://api.github.com/repos/ChainSafe/lodestar/labels/Epic",
      "name": "Epic",
      "color": "4660F9",
      "default": false,
      "description": "Issues used as milestones and tracking multiple issues."
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2022-02-27T03:08:00Z",
  "updated_at": "2022-05-10T08:15:16Z",
  "closed_at": "2022-05-10T08:15:16Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "**Motivation**\r\n\r\nLodestar has so far developed a consensus lightclient that tracks the head with minimal resources. This is an important piece towards fully functional lightclients but doesn't have practical use for users. With the upcoming Amsterdam devconnect lightclient event https://lightclients.xyz/ it's very important to show the community the technical capabilities of lightclients today to rally support in this direction.\r\n\r\nBrowser based lightclients that support the full JSON RPC API require EVM execution with special SLOAD opcode that fetches storage dynamically. This is not an easy task, and it's being actively research by Portal Network participants https://github.com/ethereum/portal-network-specs. That's the long term goal, but meanwhile there are some valid use-cases that don't require EVM execution.\r\n\r\nA read-only wallet that shows an account's ETH balance and ERC20 balances of well-known contracts doesn't require EVM execution since it can directly fetch storage slots at deterministic locations. This is what the main goal of this issue, and deploy it in Kintsugi / Klint testnets and then add p2p support for head tracking (upcoming).\r\n\r\n**Todo**\r\n\r\nIn a web-app, or stand-alone library initially for easier testing:\r\n\r\n- [ ] Import [lodestar's lightclient](https://github.com/ChainSafe/lodestar/tree/master/packages/light-client) and sync to the head. Existing implementation in https://github.com/ChainSafe/eth2-light-client-demo\r\n- [ ] Request a consensus state proof to `latest_execution_payload_header.state_root`, with Lodestar proof API\r\n- [x] Pre-compute execution state address of an account balance\r\n- [x] Pre-compute execution state address of an account ERC20 balance and pre-selected contracts by the users\r\n- [x] Request a execution state proof with [EIP-1186](https://eips.ethereum.org/EIPS/eip-1186) `eth_getProof`. Supported by Geth and [EthereumJS](https://github.com/ethereumjs/ethereumjs-monorepo/pull/1590). Validate proof against `latest_execution_payload_header.state_root`",
  "closed_by": {
    "login": "dapplion",
    "id": 35266934,
    "node_id": "MDQ6VXNlcjM1MjY2OTM0",
    "avatar_url": "https://avatars.githubusercontent.com/u/35266934?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/dapplion",
    "html_url": "https://github.com/dapplion",
    "followers_url": "https://api.github.com/users/dapplion/followers",
    "following_url": "https://api.github.com/users/dapplion/following{/other_user}",
    "gists_url": "https://api.github.com/users/dapplion/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/dapplion/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/dapplion/subscriptions",
    "organizations_url": "https://api.github.com/users/dapplion/orgs",
    "repos_url": "https://api.github.com/users/dapplion/repos",
    "events_url": "https://api.github.com/users/dapplion/events{/privacy}",
    "received_events_url": "https://api.github.com/users/dapplion/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/3796/reactions",
    "total_count": 3,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 2,
    "rocket": 1,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/3796/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1058040910",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/3796#issuecomment-1058040910",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/3796",
    "id": 1058040910,
    "node_id": "IC_kwDOCD5_Gc4_EGxO",
    "user": {
      "login": "g11tech",
      "id": 76567250,
      "node_id": "MDQ6VXNlcjc2NTY3MjUw",
      "avatar_url": "https://avatars.githubusercontent.com/u/76567250?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/g11tech",
      "html_url": "https://github.com/g11tech",
      "followers_url": "https://api.github.com/users/g11tech/followers",
      "following_url": "https://api.github.com/users/g11tech/following{/other_user}",
      "gists_url": "https://api.github.com/users/g11tech/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/g11tech/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/g11tech/subscriptions",
      "organizations_url": "https://api.github.com/users/g11tech/orgs",
      "repos_url": "https://api.github.com/users/g11tech/repos",
      "events_url": "https://api.github.com/users/g11tech/events{/privacy}",
      "received_events_url": "https://api.github.com/users/g11tech/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-03-03T13:27:47Z",
    "updated_at": "2022-03-03T13:27:47Z",
    "author_association": "CONTRIBUTOR",
    "body": "UPDATE: got something rudimentary working for external addresses! https://github.com/ChainSafe/eth2-light-client-demo/pull/28\r\n![image](https://user-images.githubusercontent.com/76567250/156573915-3f6153e9-191a-43f5-a877-2acb4beac0c6.png)\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1058040910/reactions",
      "total_count": 2,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 1,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1061401367",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/3796#issuecomment-1061401367",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/3796",
    "id": 1061401367,
    "node_id": "IC_kwDOCD5_Gc4_Q7MX",
    "user": {
      "login": "dapplion",
      "id": 35266934,
      "node_id": "MDQ6VXNlcjM1MjY2OTM0",
      "avatar_url": "https://avatars.githubusercontent.com/u/35266934?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dapplion",
      "html_url": "https://github.com/dapplion",
      "followers_url": "https://api.github.com/users/dapplion/followers",
      "following_url": "https://api.github.com/users/dapplion/following{/other_user}",
      "gists_url": "https://api.github.com/users/dapplion/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dapplion/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dapplion/subscriptions",
      "organizations_url": "https://api.github.com/users/dapplion/orgs",
      "repos_url": "https://api.github.com/users/dapplion/repos",
      "events_url": "https://api.github.com/users/dapplion/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dapplion/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-03-08T04:44:51Z",
    "updated_at": "2022-03-08T04:44:51Z",
    "author_association": "MEMBER",
    "body": "Let's go! I can jump in latter and think of some design to show the info",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1061401367/reactions",
      "total_count": 2,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 2,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1121903082",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/3796#issuecomment-1121903082",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/3796",
    "id": 1121903082,
    "node_id": "IC_kwDOCD5_Gc5C3uHq",
    "user": {
      "login": "philknows",
      "id": 58080811,
      "node_id": "MDQ6VXNlcjU4MDgwODEx",
      "avatar_url": "https://avatars.githubusercontent.com/u/58080811?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/philknows",
      "html_url": "https://github.com/philknows",
      "followers_url": "https://api.github.com/users/philknows/followers",
      "following_url": "https://api.github.com/users/philknows/following{/other_user}",
      "gists_url": "https://api.github.com/users/philknows/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/philknows/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/philknows/subscriptions",
      "organizations_url": "https://api.github.com/users/philknows/orgs",
      "repos_url": "https://api.github.com/users/philknows/repos",
      "events_url": "https://api.github.com/users/philknows/events{/privacy}",
      "received_events_url": "https://api.github.com/users/philknows/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-10T04:23:59Z",
    "updated_at": "2022-05-10T04:23:59Z",
    "author_association": "MEMBER",
    "body": "Is there anything outstanding in here you want to continue tracking @dapplion ? Otherwise, we can create new issues and add to the #3469 light client tracker.",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1121903082/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1122074295",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/3796#issuecomment-1122074295",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/3796",
    "id": 1122074295,
    "node_id": "IC_kwDOCD5_Gc5C4X63",
    "user": {
      "login": "dapplion",
      "id": 35266934,
      "node_id": "MDQ6VXNlcjM1MjY2OTM0",
      "avatar_url": "https://avatars.githubusercontent.com/u/35266934?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dapplion",
      "html_url": "https://github.com/dapplion",
      "followers_url": "https://api.github.com/users/dapplion/followers",
      "following_url": "https://api.github.com/users/dapplion/following{/other_user}",
      "gists_url": "https://api.github.com/users/dapplion/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dapplion/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dapplion/subscriptions",
      "organizations_url": "https://api.github.com/users/dapplion/orgs",
      "repos_url": "https://api.github.com/users/dapplion/repos",
      "events_url": "https://api.github.com/users/dapplion/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dapplion/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-10T08:15:16Z",
    "updated_at": "2022-05-10T08:15:16Z",
    "author_association": "MEMBER",
    "body": "@g11tech did a fantastic job here so we can close it. If we have more ideas to extend it further let's do new issues",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1122074295/reactions",
      "total_count": 3,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 1,
      "confused": 0,
      "heart": 2,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
