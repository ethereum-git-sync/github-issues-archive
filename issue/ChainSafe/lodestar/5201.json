{
  "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/5201",
  "repository_url": "https://api.github.com/repos/ChainSafe/lodestar",
  "labels_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/5201/labels{/name}",
  "comments_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/5201/comments",
  "events_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/5201/events",
  "html_url": "https://github.com/ChainSafe/lodestar/issues/5201",
  "id": 1597441977,
  "node_id": "I_kwDOCD5_Gc5fNwe5",
  "number": 5201,
  "title": "Not use the import destructuring for some modules e.g. `path`",
  "user": {
    "login": "nazarhussain",
    "id": 112468,
    "node_id": "MDQ6VXNlcjExMjQ2OA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/112468?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/nazarhussain",
    "html_url": "https://github.com/nazarhussain",
    "followers_url": "https://api.github.com/users/nazarhussain/followers",
    "following_url": "https://api.github.com/users/nazarhussain/following{/other_user}",
    "gists_url": "https://api.github.com/users/nazarhussain/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/nazarhussain/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/nazarhussain/subscriptions",
    "organizations_url": "https://api.github.com/users/nazarhussain/orgs",
    "repos_url": "https://api.github.com/users/nazarhussain/repos",
    "events_url": "https://api.github.com/users/nazarhussain/events{/privacy}",
    "received_events_url": "https://api.github.com/users/nazarhussain/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2023-02-23T19:50:51Z",
  "updated_at": "2023-02-28T04:09:35Z",
  "closed_at": "2023-02-28T04:09:35Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "<!--NOTE:\r\n- General questions should go to the discord chat instead of the issue tracker.\r\n-->\r\n\r\n**Is your feature request related to a problem? Please describe.**\r\n\r\nIt's not a problem and a styling issue and consistent use of it. During the discussion it's raised by @nflaig  and @dapplion  to not use the import destructuring for the modules like `path`. So if we have to use `join` or `resolve` we should always use `path.join` and `path.resolve`. \r\n\r\nIt's not a functionality problem, but a styling and it must be enforced by linting rule to have consistent usage. \r\n\r\n**Describe the solution you'd like**\r\n\r\nCreate a new eslint rule to enforce not use the destructuring for the given list of packages. \r\n\r\n**Describe alternatives you've considered**\r\n\r\nTried to find existing eslint plugins but there is none with such behavior that came up in my search. \r\n\r\n**Additional context**\r\n\r\n> highly opinionated (feel free to ignore) but I really don't like just having `join` here, someone has to hover the function to know it from `path` library or scroll up to the imports to see where this is coming from\r\n>\r\n> since path uses such general names for it's functions I generally like to do `path.`, to make it more obvious we are joining paths here\r\n>\r\n> ```suggestion\r\n>     cacheFilePath: path.join(accountPaths.cacheDir, \"imported_keystores.cache\"),\r\n> ```\r\n\r\n_Originally posted by @nflaig in https://github.com/ChainSafe/lodestar/pull/5197#discussion_r1114801898_\r\n            ",
  "closed_by": {
    "login": "dapplion",
    "id": 35266934,
    "node_id": "MDQ6VXNlcjM1MjY2OTM0",
    "avatar_url": "https://avatars.githubusercontent.com/u/35266934?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/dapplion",
    "html_url": "https://github.com/dapplion",
    "followers_url": "https://api.github.com/users/dapplion/followers",
    "following_url": "https://api.github.com/users/dapplion/following{/other_user}",
    "gists_url": "https://api.github.com/users/dapplion/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/dapplion/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/dapplion/subscriptions",
    "organizations_url": "https://api.github.com/users/dapplion/orgs",
    "repos_url": "https://api.github.com/users/dapplion/repos",
    "events_url": "https://api.github.com/users/dapplion/events{/privacy}",
    "received_events_url": "https://api.github.com/users/dapplion/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/5201/reactions",
    "total_count": 2,
    "+1": 2,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/5201/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1442394412",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/5201#issuecomment-1442394412",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/5201",
    "id": 1442394412,
    "node_id": "IC_kwDOCD5_Gc5V-TEs",
    "user": {
      "login": "nflaig",
      "id": 38436224,
      "node_id": "MDQ6VXNlcjM4NDM2MjI0",
      "avatar_url": "https://avatars.githubusercontent.com/u/38436224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nflaig",
      "html_url": "https://github.com/nflaig",
      "followers_url": "https://api.github.com/users/nflaig/followers",
      "following_url": "https://api.github.com/users/nflaig/following{/other_user}",
      "gists_url": "https://api.github.com/users/nflaig/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nflaig/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nflaig/subscriptions",
      "organizations_url": "https://api.github.com/users/nflaig/orgs",
      "repos_url": "https://api.github.com/users/nflaig/repos",
      "events_url": "https://api.github.com/users/nflaig/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nflaig/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-23T20:33:19Z",
    "updated_at": "2023-02-23T21:23:30Z",
    "author_association": "MEMBER",
    "body": "wondering if we want to enforce this on all functions or just a subset which use ambiguous names, also I have not found a solution to enforce this on all but can just extend our `no-restricted-imports` rule, the rule below would forbid doing `import {join} from \"node:path\";`\r\n\r\n```diff\r\ndiff --git a/.eslintrc.js b/.eslintrc.js\r\nindex fefb3cdfd0..5850711e03 100644\r\n--- a/.eslintrc.js\r\n+++ b/.eslintrc.js\r\n@@ -156,6 +156,11 @@ module.exports = {\r\n           {name: \"stream\", message: \"Please use node:stream instead.\"},\r\n           {name: \"util\", message: \"Please use node:util instead.\"},\r\n           {name: \"url\", message: \"Please use node:url instead.\"},\r\n+          {\r\n+            name: \"node:path\",\r\n+            importNames: [\"join\", \"normalize\", \"resolve\", \"dirname\", \"basename\", \"extname\"],\r\n+            message: \"Importing from 'path' using destructuring is not allowed.\",\r\n+          },\r\n         ],\r\n       },\r\n     ],\r\n\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1442394412/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1442452262",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/5201#issuecomment-1442452262",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/5201",
    "id": 1442452262,
    "node_id": "IC_kwDOCD5_Gc5V-hMm",
    "user": {
      "login": "nflaig",
      "id": 38436224,
      "node_id": "MDQ6VXNlcjM4NDM2MjI0",
      "avatar_url": "https://avatars.githubusercontent.com/u/38436224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nflaig",
      "html_url": "https://github.com/nflaig",
      "followers_url": "https://api.github.com/users/nflaig/followers",
      "following_url": "https://api.github.com/users/nflaig/following{/other_user}",
      "gists_url": "https://api.github.com/users/nflaig/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nflaig/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nflaig/subscriptions",
      "organizations_url": "https://api.github.com/users/nflaig/orgs",
      "repos_url": "https://api.github.com/users/nflaig/repos",
      "events_url": "https://api.github.com/users/nflaig/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nflaig/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-23T21:25:08Z",
    "updated_at": "2023-02-23T21:25:08Z",
    "author_association": "MEMBER",
    "body": "looks like it is also possible to disallow this for all imports from `node:path` like this\r\n\r\n```diff\r\ndiff --git a/.eslintrc.js b/.eslintrc.js\r\nindex fefb3cdfd0..eca8085c56 100644\r\n--- a/.eslintrc.js\r\n+++ b/.eslintrc.js\r\n@@ -159,6 +159,13 @@ module.exports = {\r\n         ],\r\n       },\r\n     ],\r\n+    \"no-restricted-syntax\": [\r\n+      \"error\",\r\n+      {\r\n+        selector: \"ImportDeclaration[source.value='node:path'] ImportSpecifier\",\r\n+        message: \"Importing from 'path' using destructuring is not allowed.\",\r\n+      },\r\n+    ],\r\n     // Force to add names to all functions to ease CPU profiling\r\n     \"func-names\": [\"error\", \"always\"],\r\n \r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1442452262/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
