{
  "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/885",
  "repository_url": "https://api.github.com/repos/ChainSafe/lodestar",
  "labels_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/885/labels{/name}",
  "comments_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/885/comments",
  "events_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/885/events",
  "html_url": "https://github.com/ChainSafe/lodestar/issues/885",
  "id": 613616711,
  "node_id": "MDU6SXNzdWU2MTM2MTY3MTE=",
  "number": 885,
  "title": "Enable strict null checking",
  "user": {
    "login": "lastmjs",
    "id": 7000719,
    "node_id": "MDQ6VXNlcjcwMDA3MTk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/7000719?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/lastmjs",
    "html_url": "https://github.com/lastmjs",
    "followers_url": "https://api.github.com/users/lastmjs/followers",
    "following_url": "https://api.github.com/users/lastmjs/following{/other_user}",
    "gists_url": "https://api.github.com/users/lastmjs/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/lastmjs/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/lastmjs/subscriptions",
    "organizations_url": "https://api.github.com/users/lastmjs/orgs",
    "repos_url": "https://api.github.com/users/lastmjs/repos",
    "events_url": "https://api.github.com/users/lastmjs/events{/privacy}",
    "received_events_url": "https://api.github.com/users/lastmjs/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1478321239,
      "node_id": "MDU6TGFiZWwxNDc4MzIxMjM5",
      "url": "https://api.github.com/repos/ChainSafe/lodestar/labels/meta-discussion",
      "name": "meta-discussion",
      "color": "a6bddb",
      "default": false,
      "description": "Indicates a topic that requires input from various developers."
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2020-05-06T21:13:12Z",
  "updated_at": "2020-08-20T19:11:51Z",
  "closed_at": "2020-08-20T19:11:51Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "As I was fixing this issue: https://github.com/ChainSafe/lodestar/issues/880, I realized that the main `tsconfig.json` has `strictNullChecks` set to false. I believe that if this had been set to true, then the issue from https://github.com/ChainSafe/lodestar/issues/880 would already have been apparent. There are probably many more hidden problems of a similar nature lurking in the codebase.\r\n\r\nWe need to remove `strictNullCheck`: false from `tsconfig.json`. This will probably cause a massive amount of TypeScripte errors throughout the entire codebase. The longer we wait, the harder it will be to make the switch.\r\n\r\nAlso it might be good to have a null/undefined strategy if there isn't one already. Such as always using undefined, always using null, or deciding when to use each. There's also the option of never using undefined or null if possible, such as creating types that are more descriptive, i.e. `NOT_SET`.\r\n\r\nExample:\r\n\r\n```typescript\r\n  public clock: IBeaconClock | \"NOT_SET\";\r\n```\r\nYou could also say \"NOT_INITIALIZED\", \"NOT_STARTED\", or something. I have found this to be a pretty nice way to do things, not without its own problems of course. `null` and `undefined` are just such problematic and broad types.",
  "closed_by": {
    "login": "wemeetagain",
    "id": 1348242,
    "node_id": "MDQ6VXNlcjEzNDgyNDI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1348242?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/wemeetagain",
    "html_url": "https://github.com/wemeetagain",
    "followers_url": "https://api.github.com/users/wemeetagain/followers",
    "following_url": "https://api.github.com/users/wemeetagain/following{/other_user}",
    "gists_url": "https://api.github.com/users/wemeetagain/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/wemeetagain/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/wemeetagain/subscriptions",
    "organizations_url": "https://api.github.com/users/wemeetagain/orgs",
    "repos_url": "https://api.github.com/users/wemeetagain/repos",
    "events_url": "https://api.github.com/users/wemeetagain/events{/privacy}",
    "received_events_url": "https://api.github.com/users/wemeetagain/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/885/reactions",
    "total_count": 1,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 1
  },
  "timeline_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/885/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/653940017",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/885#issuecomment-653940017",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/885",
    "id": 653940017,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1Mzk0MDAxNw==",
    "user": {
      "login": "stale[bot]",
      "id": 26384082,
      "node_id": "MDM6Qm90MjYzODQwODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/1724?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stale%5Bbot%5D",
      "html_url": "https://github.com/apps/stale",
      "followers_url": "https://api.github.com/users/stale%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/stale%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stale%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/stale%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/stale%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/stale%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stale%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2020-07-05T21:14:01Z",
    "updated_at": "2020-07-05T21:14:01Z",
    "author_association": "NONE",
    "body": "This issue has been automatically marked as stale because it has not had recent activity. It will be closed in 7 days if no further activity occurs. Thank you for your contributions.\n",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/653940017/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/653968400",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/885#issuecomment-653968400",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/885",
    "id": 653968400,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1Mzk2ODQwMA==",
    "user": {
      "login": "wemeetagain",
      "id": 1348242,
      "node_id": "MDQ6VXNlcjEzNDgyNDI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1348242?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wemeetagain",
      "html_url": "https://github.com/wemeetagain",
      "followers_url": "https://api.github.com/users/wemeetagain/followers",
      "following_url": "https://api.github.com/users/wemeetagain/following{/other_user}",
      "gists_url": "https://api.github.com/users/wemeetagain/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wemeetagain/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wemeetagain/subscriptions",
      "organizations_url": "https://api.github.com/users/wemeetagain/orgs",
      "repos_url": "https://api.github.com/users/wemeetagain/repos",
      "events_url": "https://api.github.com/users/wemeetagain/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wemeetagain/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-07-06T01:15:15Z",
    "updated_at": "2020-07-06T01:15:15Z",
    "author_association": "MEMBER",
    "body": "unstale",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/653968400/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/667576232",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/885#issuecomment-667576232",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/885",
    "id": 667576232,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2NzU3NjIzMg==",
    "user": {
      "login": "dapplion",
      "id": 35266934,
      "node_id": "MDQ6VXNlcjM1MjY2OTM0",
      "avatar_url": "https://avatars.githubusercontent.com/u/35266934?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dapplion",
      "html_url": "https://github.com/dapplion",
      "followers_url": "https://api.github.com/users/dapplion/followers",
      "following_url": "https://api.github.com/users/dapplion/following{/other_user}",
      "gists_url": "https://api.github.com/users/dapplion/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dapplion/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dapplion/subscriptions",
      "organizations_url": "https://api.github.com/users/dapplion/orgs",
      "repos_url": "https://api.github.com/users/dapplion/repos",
      "events_url": "https://api.github.com/users/dapplion/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dapplion/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-01T19:23:41Z",
    "updated_at": "2020-08-01T19:23:41Z",
    "author_association": "MEMBER",
    "body": "I will start to tackle this issue progressively up to the bigger packages to prevent creating too many conflicts at once. I'll follow the topological order of this repo's packages\r\n\r\n```\r\nlion@lion-gram:~/Code/eth2.0/lodestar$ ./node_modules/.bin/lerna list --toposort\r\nlerna notice cli v3.20.2\r\n@chainsafe/lodestar-params\r\n@chainsafe/lodestar-utils\r\n@chainsafe/lodestar-spec-test-util\r\n@chainsafe/lodestar-types\r\n@chainsafe/lodestar-config\r\n@chainsafe/lodestar-beacon-state-transition\r\n@chainsafe/lodestar-validator\r\n@chainsafe/lodestar\r\n@chainsafe/lodestar-cli\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/667576232/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
