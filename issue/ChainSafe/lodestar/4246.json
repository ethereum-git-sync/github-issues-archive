{
  "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/4246",
  "repository_url": "https://api.github.com/repos/ChainSafe/lodestar",
  "labels_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/4246/labels{/name}",
  "comments_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/4246/comments",
  "events_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/4246/events",
  "html_url": "https://github.com/ChainSafe/lodestar/issues/4246",
  "id": 1295924391,
  "node_id": "I_kwDOCD5_Gc5NPjyn",
  "number": 4246,
  "title": "Unknown block sync peerId conversion issue",
  "user": {
    "login": "dapplion",
    "id": 35266934,
    "node_id": "MDQ6VXNlcjM1MjY2OTM0",
    "avatar_url": "https://avatars.githubusercontent.com/u/35266934?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/dapplion",
    "html_url": "https://github.com/dapplion",
    "followers_url": "https://api.github.com/users/dapplion/followers",
    "following_url": "https://api.github.com/users/dapplion/following{/other_user}",
    "gists_url": "https://api.github.com/users/dapplion/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/dapplion/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/dapplion/subscriptions",
    "organizations_url": "https://api.github.com/users/dapplion/orgs",
    "repos_url": "https://api.github.com/users/dapplion/repos",
    "events_url": "https://api.github.com/users/dapplion/events{/privacy}",
    "received_events_url": "https://api.github.com/users/dapplion/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1200090446,
      "node_id": "MDU6TGFiZWwxMjAwMDkwNDQ2",
      "url": "https://api.github.com/repos/ChainSafe/lodestar/labels/prio-medium",
      "name": "prio-medium",
      "color": "fdc09f",
      "default": false,
      "description": "Resolve this some time soon (tm)."
    },
    {
      "id": 2155825090,
      "node_id": "MDU6TGFiZWwyMTU1ODI1MDkw",
      "url": "https://api.github.com/repos/ChainSafe/lodestar/labels/scope-networking",
      "name": "scope-networking",
      "color": "980043",
      "default": false,
      "description": "All issues related to networking, gossip, and libp2p."
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2022-07-06T14:26:32Z",
  "updated_at": "2023-05-29T06:59:41Z",
  "closed_at": "2023-05-29T06:59:40Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "In Sepolia, seems an error of conversion\r\n\r\n```\r\nJul-06 14:24:35.555[SYNC]            error: Downloaded block parent is before finalized slot finalizedSlot=115200, parentSlot=115192, parentRoot=0xd1670e16e8614871ea41daddd96aeab17f55b0a331afb5577e99100a7a83c1db\r\nJul-06 14:24:35.559[SYNC]            error: Removing unknown parent block root=0x1815dbd1a77bf2530893ef2c9bf6250a84be6b913cfe76d164d5f9c716d8728d, slot=115208\r\nJul-06 14:24:35.559[SYNC]            error: Removing unknown parent block root=0x01da944e86c181f131a3d2bf50fd9b599150e687b53c991d969715d8d86a5e5e, slot=115210\r\nJul-06 14:24:35.559[SYNC]            error: Removing unknown parent block root=0xacd63ca2b12641cb281fe40a479a5bf37debbba9ae324e4c9089742fdbbe1403, slot=115224\r\nJul-06 14:24:35.559[SYNC]            error: Removing unknown parent block root=0x6363c1500f9f25e3ce68e81444f9a5a5229b6ddad8c2b32e2abff5bc02b8c350, slot=115245\r\nJul-06 14:24:35.559[SYNC]            error: Removing unknown parent block root=0x4cd26ac871cbbd8c78558bf3f7be212c0da4fd549947b79461ede7164a8592be, slot=115255\r\nJul-06 14:24:35.559[SYNC]            error: Removing unknown parent block root=0xa88ce720f7907631dc7a0bc2e6ef6934eaa38737c914e7c5ac728b28e9ea6d9e, slot=115256\r\nJul-06 14:24:35.560[SYNC]            error: Removing unknown parent block root=0xf730df20bae1f30477f016bfd7820997dcf81e113fc44b7b5d0ce747520efc28, slot=115264\r\nJul-06 14:24:35.560[SYNC]            error: Removing unknown parent block root=0x46877c82c449986ed63db6e04b235674b83131803f78cc35a1ca931565766d9f, slot=115274\r\nJul-06 14:24:35.560[SYNC]            error: Removing unknown parent block root=0x0479c0245a7500c042e97643d27b09755a9d89e366c49c5a0ce1713b26c986d8, slot=115299\r\nJul-06 14:24:35.560[SYNC]            error: Removing unknown parent block root=0x1578a4b35fa6b97f4687185c6cdb843bf1e52bd678de402d3e28fa3c1af85d4d, slot=115302\r\nJul-06 14:24:35.560[SYNC]            error: Removing unknown parent block root=0xf24596e26f9049215b14bece1e4d59d0dd03ef312a2dc386dc36ddb479406222, slot=115319\r\nJul-06 14:24:35.560[SYNC]            error: Removing unknown parent block root=0x2ab54e9efc3c690d0882ce1bc94bb8bb9fe30e5f23e0e929eba21d7c85080162, slot=115321\r\nJul-06 14:24:35.560[SYNC]            error: Banning unknown parent block root=0x1815dbd1a77bf2530893ef2c9bf6250a84be6b913cfe76d164d5f9c716d8728d, slot=115208\r\nJul-06 14:24:35.561[SYNC]            error: Banning unknown parent block root=0x01da944e86c181f131a3d2bf50fd9b599150e687b53c991d969715d8d86a5e5e, slot=115210\r\nJul-06 14:24:35.562[SYNC]            error: Banning unknown parent block root=0xacd63ca2b12641cb281fe40a479a5bf37debbba9ae324e4c9089742fdbbe1403, slot=115224\r\nJul-06 14:24:35.562[SYNC]            error: Banning unknown parent block root=0x6363c1500f9f25e3ce68e81444f9a5a5229b6ddad8c2b32e2abff5bc02b8c350, slot=115245\r\nJul-06 14:24:35.562[SYNC]            error: Banning unknown parent block root=0x4cd26ac871cbbd8c78558bf3f7be212c0da4fd549947b79461ede7164a8592be, slot=115255\r\nJul-06 14:24:35.562[SYNC]            error: Banning unknown parent block root=0xa88ce720f7907631dc7a0bc2e6ef6934eaa38737c914e7c5ac728b28e9ea6d9e, slot=115256\r\nJul-06 14:24:35.563[SYNC]            error: Banning unknown parent block root=0xf730df20bae1f30477f016bfd7820997dcf81e113fc44b7b5d0ce747520efc28, slot=115264\r\nJul-06 14:24:35.563[SYNC]            error: Banning unknown parent block root=0x46877c82c449986ed63db6e04b235674b83131803f78cc35a1ca931565766d9f, slot=115274\r\nJul-06 14:24:35.563[SYNC]            error: Banning unknown parent block root=0x0479c0245a7500c042e97643d27b09755a9d89e366c49c5a0ce1713b26c986d8, slot=115299\r\nJul-06 14:24:35.563[SYNC]            error: Banning unknown parent block root=0x1578a4b35fa6b97f4687185c6cdb843bf1e52bd678de402d3e28fa3c1af85d4d, slot=115302\r\nJul-06 14:24:35.564[SYNC]            error: Banning unknown parent block root=0xf24596e26f9049215b14bece1e4d59d0dd03ef312a2dc386dc36ddb479406222, slot=115319\r\nJul-06 14:24:35.564[SYNC]            error: Unexpect error - downloadParentBlock  Non-base58btc character\r\nError: Non-base58btc character\r\n    at decode (/usr/app/node_modules/multiformats/cjs/vendor/base-x.js:125:11)\r\n    at Decoder.decode [as baseDecode] (/usr/app/node_modules/multiformats/cjs/src/bases/base.js:90:34)\r\n    at Decoder.decode (/usr/app/node_modules/multiformats/cjs/src/bases/base.js:37:19)\r\n    at Codec.decode (/usr/app/node_modules/multiformats/cjs/src/bases/base.js:80:25)\r\n    at Function.exports.createFromB58String (/usr/app/node_modules/@chainsafe/lodestar/node_modules/peer-id/src/index.js:286:44)\r\n    at UnknownBlockSync.removeAndDownscoreAllDescendants (file:///usr/app/node_modules/@chainsafe/lodestar/src/sync/unknownBlock.ts:313:29)\r\n    at UnknownBlockSync.downloadParentBlock (file:///usr/app/node_modules/@chainsafe/lodestar/src/sync/unknownBlock.ts:157:14)\r\n    at runMicrotasks (<anonymous>)\r\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\r\n```",
  "closed_by": {
    "login": "dapplion",
    "id": 35266934,
    "node_id": "MDQ6VXNlcjM1MjY2OTM0",
    "avatar_url": "https://avatars.githubusercontent.com/u/35266934?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/dapplion",
    "html_url": "https://github.com/dapplion",
    "followers_url": "https://api.github.com/users/dapplion/followers",
    "following_url": "https://api.github.com/users/dapplion/following{/other_user}",
    "gists_url": "https://api.github.com/users/dapplion/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/dapplion/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/dapplion/subscriptions",
    "organizations_url": "https://api.github.com/users/dapplion/orgs",
    "repos_url": "https://api.github.com/users/dapplion/repos",
    "events_url": "https://api.github.com/users/dapplion/events{/privacy}",
    "received_events_url": "https://api.github.com/users/dapplion/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/4246/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/4246/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1176798378",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/4246#issuecomment-1176798378",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/4246",
    "id": 1176798378,
    "node_id": "IC_kwDOCD5_Gc5GJISq",
    "user": {
      "login": "dapplion",
      "id": 35266934,
      "node_id": "MDQ6VXNlcjM1MjY2OTM0",
      "avatar_url": "https://avatars.githubusercontent.com/u/35266934?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dapplion",
      "html_url": "https://github.com/dapplion",
      "followers_url": "https://api.github.com/users/dapplion/followers",
      "following_url": "https://api.github.com/users/dapplion/following{/other_user}",
      "gists_url": "https://api.github.com/users/dapplion/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dapplion/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dapplion/subscriptions",
      "organizations_url": "https://api.github.com/users/dapplion/orgs",
      "repos_url": "https://api.github.com/users/dapplion/repos",
      "events_url": "https://api.github.com/users/dapplion/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dapplion/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-06T22:07:39Z",
    "updated_at": "2022-07-06T22:08:10Z",
    "author_association": "MEMBER",
    "body": "- Seen again in `lodestar-nethermind-1` of https://github.com/gnosischain/consensus-deployment-ansible/issues/9\r\n\r\n```\r\nJul-03 05:19:55.814[SYNC]            error: Unexpect error - processBlock  Non-base58btc character\r\nError: Non-base58btc character\r\n    at decode (/usr/app/node_modules/multiformats/cjs/vendor/base-x.js:125:11)\r\n    at Decoder.decode [as baseDecode] (/usr/app/node_modules/multiformats/cjs/src/bases/base.js:90:34)\r\n    at Decoder.decode (/usr/app/node_modules/multiformats/cjs/src/bases/base.js:37:19)\r\n    at Codec.decode (/usr/app/node_modules/multiformats/cjs/src/bases/base.js:80:25)\r\n    at Function.exports.createFromB58String (/usr/app/node_modules/@chainsafe/lodestar/node_modules/peer-id/src/index.js:286:44)\r\n    at UnknownBlockSync.removeAndDownscoreAllDescendants (file:///usr/app/node_modules/@chainsafe/lodestar/src/sync/unknownBlock.ts:313:29)\r\n    at UnknownBlockSync.processBlock (file:///usr/app/node_modules/@chainsafe/lodestar/src/sync/unknownBlock.ts:233:18)\r\n    at runMicrotasks (<anonymous>)\r\n    at runNextTicks (node:internal/process/task_queues:61:5)\r\n    at listOnTimeout (node:internal/timers:528:9)\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1176798378/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1227066639",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/4246#issuecomment-1227066639",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/4246",
    "id": 1227066639,
    "node_id": "IC_kwDOCD5_Gc5JI40P",
    "user": {
      "login": "dapplion",
      "id": 35266934,
      "node_id": "MDQ6VXNlcjM1MjY2OTM0",
      "avatar_url": "https://avatars.githubusercontent.com/u/35266934?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dapplion",
      "html_url": "https://github.com/dapplion",
      "followers_url": "https://api.github.com/users/dapplion/followers",
      "following_url": "https://api.github.com/users/dapplion/following{/other_user}",
      "gists_url": "https://api.github.com/users/dapplion/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dapplion/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dapplion/subscriptions",
      "organizations_url": "https://api.github.com/users/dapplion/orgs",
      "repos_url": "https://api.github.com/users/dapplion/repos",
      "events_url": "https://api.github.com/users/dapplion/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dapplion/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-25T10:18:54Z",
    "updated_at": "2022-08-25T10:18:54Z",
    "author_association": "MEMBER",
    "body": "I couldn't find any immediate codepath that could produce bad PeerIdStr or mix different encodings.\r\n\r\n- Opened this PR to help debug future occurrences of this issue https://github.com/ChainSafe/lodestar/pull/4479\r\n\r\nMeanwhile I'll leave open but there's not much I can do",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1227066639/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1566651536",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/4246#issuecomment-1566651536",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/4246",
    "id": 1566651536,
    "node_id": "IC_kwDOCD5_Gc5dYTSQ",
    "user": {
      "login": "dapplion",
      "id": 35266934,
      "node_id": "MDQ6VXNlcjM1MjY2OTM0",
      "avatar_url": "https://avatars.githubusercontent.com/u/35266934?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dapplion",
      "html_url": "https://github.com/dapplion",
      "followers_url": "https://api.github.com/users/dapplion/followers",
      "following_url": "https://api.github.com/users/dapplion/following{/other_user}",
      "gists_url": "https://api.github.com/users/dapplion/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dapplion/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dapplion/subscriptions",
      "organizations_url": "https://api.github.com/users/dapplion/orgs",
      "repos_url": "https://api.github.com/users/dapplion/repos",
      "events_url": "https://api.github.com/users/dapplion/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dapplion/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-29T06:59:40Z",
    "updated_at": "2023-05-29T06:59:40Z",
    "author_association": "MEMBER",
    "body": "Closing issues for specific incidents on old versions of Lodestar, please re-open if it happens with latest stable\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1566651536/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
