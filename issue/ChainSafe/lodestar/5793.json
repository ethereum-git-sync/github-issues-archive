{
  "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/5793",
  "repository_url": "https://api.github.com/repos/ChainSafe/lodestar",
  "labels_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/5793/labels{/name}",
  "comments_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/5793/comments",
  "events_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/5793/events",
  "html_url": "https://github.com/ChainSafe/lodestar/issues/5793",
  "id": 1817507134,
  "node_id": "I_kwDOCD5_Gc5sVPU-",
  "number": 5793,
  "title": "Lodestar produces phase0 beacon block body very slowly",
  "user": {
    "login": "tuyennhv",
    "id": 10568965,
    "node_id": "MDQ6VXNlcjEwNTY4OTY1",
    "avatar_url": "https://avatars.githubusercontent.com/u/10568965?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tuyennhv",
    "html_url": "https://github.com/tuyennhv",
    "followers_url": "https://api.github.com/users/tuyennhv/followers",
    "following_url": "https://api.github.com/users/tuyennhv/following{/other_user}",
    "gists_url": "https://api.github.com/users/tuyennhv/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tuyennhv/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tuyennhv/subscriptions",
    "organizations_url": "https://api.github.com/users/tuyennhv/orgs",
    "repos_url": "https://api.github.com/users/tuyennhv/repos",
    "events_url": "https://api.github.com/users/tuyennhv/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tuyennhv/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1200090447,
      "node_id": "MDU6TGFiZWwxMjAwMDkwNDQ3",
      "url": "https://api.github.com/repos/ChainSafe/lodestar/labels/prio-high",
      "name": "prio-high",
      "color": "fd9579",
      "default": false,
      "description": "Resolve issues as soon as possible."
    },
    {
      "id": 2963898184,
      "node_id": "MDU6TGFiZWwyOTYzODk4MTg0",
      "url": "https://api.github.com/repos/ChainSafe/lodestar/labels/scope-performance",
      "name": "scope-performance",
      "color": "980043",
      "default": false,
      "description": "Performance issue and ideas to improve performance."
    },
    {
      "id": 5670208842,
      "node_id": "LA_kwDOCD5_Gc8AAAABUfiFSg",
      "url": "https://api.github.com/repos/ChainSafe/lodestar/labels/meta-investigate",
      "name": "meta-investigate",
      "color": "A64CF6",
      "default": false,
      "description": "Issues found that require further investigation and may not have a specific resolution/fix"
    },
    {
      "id": 5670219610,
      "node_id": "LA_kwDOCD5_Gc8AAAABUfivWg",
      "url": "https://api.github.com/repos/ChainSafe/lodestar/labels/meta-bug",
      "name": "meta-bug",
      "color": "E79553",
      "default": false,
      "description": "Issues that identify a bug and require a fix."
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": {
    "login": "nazarhussain",
    "id": 112468,
    "node_id": "MDQ6VXNlcjExMjQ2OA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/112468?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/nazarhussain",
    "html_url": "https://github.com/nazarhussain",
    "followers_url": "https://api.github.com/users/nazarhussain/followers",
    "following_url": "https://api.github.com/users/nazarhussain/following{/other_user}",
    "gists_url": "https://api.github.com/users/nazarhussain/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/nazarhussain/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/nazarhussain/subscriptions",
    "organizations_url": "https://api.github.com/users/nazarhussain/orgs",
    "repos_url": "https://api.github.com/users/nazarhussain/repos",
    "events_url": "https://api.github.com/users/nazarhussain/events{/privacy}",
    "received_events_url": "https://api.github.com/users/nazarhussain/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "nazarhussain",
      "id": 112468,
      "node_id": "MDQ6VXNlcjExMjQ2OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/112468?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nazarhussain",
      "html_url": "https://github.com/nazarhussain",
      "followers_url": "https://api.github.com/users/nazarhussain/followers",
      "following_url": "https://api.github.com/users/nazarhussain/following{/other_user}",
      "gists_url": "https://api.github.com/users/nazarhussain/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nazarhussain/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nazarhussain/subscriptions",
      "organizations_url": "https://api.github.com/users/nazarhussain/orgs",
      "repos_url": "https://api.github.com/users/nazarhussain/repos",
      "events_url": "https://api.github.com/users/nazarhussain/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nazarhussain/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/milestones/35",
    "html_url": "https://github.com/ChainSafe/lodestar/milestone/35",
    "labels_url": "https://api.github.com/repos/ChainSafe/lodestar/milestones/35/labels",
    "id": 10024531,
    "node_id": "MI_kwDOCD5_Gc4AmPZT",
    "number": 35,
    "title": "v1.13.0",
    "description": "",
    "creator": {
      "login": "philknows",
      "id": 58080811,
      "node_id": "MDQ6VXNlcjU4MDgwODEx",
      "avatar_url": "https://avatars.githubusercontent.com/u/58080811?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/philknows",
      "html_url": "https://github.com/philknows",
      "followers_url": "https://api.github.com/users/philknows/followers",
      "following_url": "https://api.github.com/users/philknows/following{/other_user}",
      "gists_url": "https://api.github.com/users/philknows/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/philknows/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/philknows/subscriptions",
      "organizations_url": "https://api.github.com/users/philknows/orgs",
      "repos_url": "https://api.github.com/users/philknows/repos",
      "events_url": "https://api.github.com/users/philknows/events{/privacy}",
      "received_events_url": "https://api.github.com/users/philknows/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 6,
    "closed_issues": 0,
    "state": "open",
    "created_at": "2023-10-10T13:53:59Z",
    "updated_at": "2023-11-22T21:32:54Z",
    "due_on": null,
    "closed_at": null
  },
  "comments": 5,
  "created_at": "2023-07-24T02:57:05Z",
  "updated_at": "2023-11-27T11:18:59Z",
  "closed_at": null,
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "### Describe the bug\r\n\r\nThis is on a mainnet node, it affects both builder flow and local flow:\r\n\r\n<img width=\"791\" alt=\"Screenshot 2023-07-24 at 09 48 11\" src=\"https://github.com/ChainSafe/lodestar/assets/10568965/9915db06-b954-422c-adfe-073637e6e386\">\r\n\r\nnote that this is not an issue of execution engine\r\n\r\n<img width=\"1291\" alt=\"Screenshot 2023-07-24 at 09 48 56\" src=\"https://github.com/ChainSafe/lodestar/assets/10568965/916e9c8a-3ca8-415d-b171-00ead12826f8\">\r\n\r\n\r\n### Expected behavior\r\n\r\nwith `getAttestationsForBlock` performance test is <100ms, I think it should take <500ms to produce block, right now it's more than that\r\n\r\n<img width=\"1279\" alt=\"Screenshot 2023-07-24 at 09 56 36\" src=\"https://github.com/ChainSafe/lodestar/assets/10568965/74358551-73d0-4421-b125-191c50a3a462\">\r\n\r\n\r\n### Steps to reproduce\r\n\r\n_No response_\r\n\r\n### Additional context\r\n\r\n_No response_\r\n\r\n### Operating system\r\n\r\nLinux\r\n\r\n### Lodestar version or commit hash\r\n\r\nv1.9.2",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/5793/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/5793/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1647133160",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/5793#issuecomment-1647133160",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/5793",
    "id": 1647133160,
    "node_id": "IC_kwDOCD5_Gc5iLUHo",
    "user": {
      "login": "tuyennhv",
      "id": 10568965,
      "node_id": "MDQ6VXNlcjEwNTY4OTY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/10568965?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tuyennhv",
      "html_url": "https://github.com/tuyennhv",
      "followers_url": "https://api.github.com/users/tuyennhv/followers",
      "following_url": "https://api.github.com/users/tuyennhv/following{/other_user}",
      "gists_url": "https://api.github.com/users/tuyennhv/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tuyennhv/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tuyennhv/subscriptions",
      "organizations_url": "https://api.github.com/users/tuyennhv/orgs",
      "repos_url": "https://api.github.com/users/tuyennhv/repos",
      "events_url": "https://api.github.com/users/tuyennhv/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tuyennhv/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-24T03:10:03Z",
    "updated_at": "2023-07-24T03:10:03Z",
    "author_association": "CONTRIBUTOR",
    "body": "It's worth to mention that this may only happen at start slot of epoch only. Found another case at start slot at epoch:\r\n\r\n<img width=\"1305\" alt=\"Screenshot 2023-07-24 at 10 07 08\" src=\"https://github.com/ChainSafe/lodestar/assets/10568965/6b254082-db5d-4cd0-9646-8de6fe6fd8ff\">\r\n\r\n```\r\nJul-23 09:07:36.171[]                ^[[34mdebug^[[39m: Detected new block proposer currentSlot=6939936\r\nJul-23 09:07:36.171[]                ^[[34mdebug^[[39m: Producing block slot=6939936, validator=0xb2217d06dc2662d0a0e84d5009a2394206d3ee5b60647b21e7e92835102626fa842176c7fab7dca63a8028b04ab1b045, isBuilderEnabled=true, builderSelection=maxprofit, expectedFeeRecipient=0x388c818ca8b9251b393131c08a736a67ccb19297, strictFeeRecipientCheck=false\r\nJul-23 09:07:38.610[]                ^[[34mdebug^[[39m: Block production race (builder vs execution) event=resolved, source=builder, delayMs=2437, cutoffMs=2000, timeoutMs=12000\r\nJul-23 09:07:38.622[]                ^[[34mdebug^[[39m: Produced block slot=6939936, validator=0xb2217d06dc2662d0a0e84d5009a2394206d3ee5b60647b21e7e92835102626fa842176c7fab7dca63a8028b04ab1b045, source=builder, blockValue=0.15308 ETH\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1647133160/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1647163780",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/5793#issuecomment-1647163780",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/5793",
    "id": 1647163780,
    "node_id": "IC_kwDOCD5_Gc5iLbmE",
    "user": {
      "login": "tuyennhv",
      "id": 10568965,
      "node_id": "MDQ6VXNlcjEwNTY4OTY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/10568965?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tuyennhv",
      "html_url": "https://github.com/tuyennhv",
      "followers_url": "https://api.github.com/users/tuyennhv/followers",
      "following_url": "https://api.github.com/users/tuyennhv/following{/other_user}",
      "gists_url": "https://api.github.com/users/tuyennhv/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tuyennhv/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tuyennhv/subscriptions",
      "organizations_url": "https://api.github.com/users/tuyennhv/orgs",
      "repos_url": "https://api.github.com/users/tuyennhv/repos",
      "events_url": "https://api.github.com/users/tuyennhv/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tuyennhv/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-24T04:02:32Z",
    "updated_at": "2023-07-24T04:02:32Z",
    "author_association": "CONTRIBUTOR",
    "body": "Lodestar produced phase0 beacon block body very late\r\n\r\n```\r\nJul-23 12:06:47.016[chain]         ^[[36mverbose^[[39m: Clock slot slot=6940832\r\nJul-23 12:06:49.719[rest]            ^[[34mdebug^[[39m: Req req-46b7 16.16.16.31 produceBlockV2\r\nJul-23 12:07:01.799[chain]         ^[[36mverbose^[[39m: Produced phase0 beacon block body slot=6940832, numAttestations=128\r\nJul-23 12:07:01.839[chain]         ^[[36mverbose^[[39m: Produced phase0 beacon block body slot=6940832, numAttestations=128\r\nJul-23 12:07:01.973[chain]         ^[[36mverbose^[[39m: Fetched execution payload from engine slot=6940832, blockValue=46262358010817433, prepType=Cached, payloadId=0x18bb032e73ea6d14, fetchedTime=14.973000049591064\r\nJul-23 12:07:02.269[api]           ^[[36mverbose^[[39m: Produced execution block slot=6940832, blockValue=46262358010817433, root=0xaa6c47d6c7990d6f25a5aab01516b2ea9a75acc6f8af6b9817d5ccb3ce3ffaf9\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1647163780/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1649196752",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/5793#issuecomment-1649196752",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/5793",
    "id": 1649196752,
    "node_id": "IC_kwDOCD5_Gc5iTL7Q",
    "user": {
      "login": "philknows",
      "id": 58080811,
      "node_id": "MDQ6VXNlcjU4MDgwODEx",
      "avatar_url": "https://avatars.githubusercontent.com/u/58080811?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/philknows",
      "html_url": "https://github.com/philknows",
      "followers_url": "https://api.github.com/users/philknows/followers",
      "following_url": "https://api.github.com/users/philknows/following{/other_user}",
      "gists_url": "https://api.github.com/users/philknows/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/philknows/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/philknows/subscriptions",
      "organizations_url": "https://api.github.com/users/philknows/orgs",
      "repos_url": "https://api.github.com/users/philknows/repos",
      "events_url": "https://api.github.com/users/philknows/events{/privacy}",
      "received_events_url": "https://api.github.com/users/philknows/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-25T06:24:16Z",
    "updated_at": "2023-07-25T06:24:16Z",
    "author_association": "MEMBER",
    "body": "> It's worth to mention that this may only happen at start slot of epoch only. Found another case at start slot at epoch:\r\n\r\nIt seems to be pretty systemic in the network that slot 1 is trying to reorg slot 0. [Potuz pointed out problems potentially on gossip validation rather than validators purposefully proposing late](https://discord.com/channels/595666850260713488/745077610685661265/1132304267827490847). ",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1649196752/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1655130495",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/5793#issuecomment-1655130495",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/5793",
    "id": 1655130495,
    "node_id": "IC_kwDOCD5_Gc5ip0l_",
    "user": {
      "login": "tuyennhv",
      "id": 10568965,
      "node_id": "MDQ6VXNlcjEwNTY4OTY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/10568965?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tuyennhv",
      "html_url": "https://github.com/tuyennhv",
      "followers_url": "https://api.github.com/users/tuyennhv/followers",
      "following_url": "https://api.github.com/users/tuyennhv/following{/other_user}",
      "gists_url": "https://api.github.com/users/tuyennhv/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tuyennhv/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tuyennhv/subscriptions",
      "organizations_url": "https://api.github.com/users/tuyennhv/orgs",
      "repos_url": "https://api.github.com/users/tuyennhv/repos",
      "events_url": "https://api.github.com/users/tuyennhv/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tuyennhv/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-28T06:54:34Z",
    "updated_at": "2023-07-28T06:54:34Z",
    "author_association": "CONTRIBUTOR",
    "body": "on goerli, sometimes it spiked to 1s\r\n\r\n<img width=\"797\" alt=\"Screenshot 2023-07-28 at 13 54 23\" src=\"https://github.com/ChainSafe/lodestar/assets/10568965/2d1b11ac-d121-4ec6-944a-358433b31a78\">\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1655130495/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1827637220",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/5793#issuecomment-1827637220",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/5793",
    "id": 1827637220,
    "node_id": "IC_kwDOCD5_Gc5s74fk",
    "user": {
      "login": "nazarhussain",
      "id": 112468,
      "node_id": "MDQ6VXNlcjExMjQ2OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/112468?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nazarhussain",
      "html_url": "https://github.com/nazarhussain",
      "followers_url": "https://api.github.com/users/nazarhussain/followers",
      "following_url": "https://api.github.com/users/nazarhussain/following{/other_user}",
      "gists_url": "https://api.github.com/users/nazarhussain/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nazarhussain/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nazarhussain/subscriptions",
      "organizations_url": "https://api.github.com/users/nazarhussain/orgs",
      "repos_url": "https://api.github.com/users/nazarhussain/repos",
      "events_url": "https://api.github.com/users/nazarhussain/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nazarhussain/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-11-27T11:18:58Z",
    "updated_at": "2023-11-27T11:18:58Z",
    "author_association": "CONTRIBUTOR",
    "body": "\r\n<img width=\"888\" alt=\"image\" src=\"https://github.com/ChainSafe/lodestar/assets/112468/64c9aa01-a562-4f19-aec5-cc5611377f31\">\r\n\r\nBelow is the analysis of the highest time of the block production which is over 1s. \r\n\r\n```\r\n  |   | 2023-11-27 09:53:48.001 | Nov-27 08:53:48.001[chain]         verbose: Clock slot slot=7047269 |  \r\n  |   | 2023-11-27 09:53:48.002 | Nov-27 08:53:48.002[]                debug: Producing block slot=7047269, validator=0x94505e569c31c18d69529125800018602122a016bee9dfaae27fd4e4400a3cbf0c7852cd4ed5e72620f1c9caf7154940, builderSelection=maxprofit, feeRecipient=0x94750381be1aba0504c666ee1db118f68f0780d4, strictFeeRecipientCheck=false, useProduceBlockV3=true |  \r\n  |   | 2023-11-27 09:53:48.056 | Nov-27 08:53:48.056[api]           verbose: produceBlockV3 assembling block fork=capella, builderSelection=maxprofit, slot=7047269, isBuilderEnabled=true, strictFeeRecipientCheck=false |  \r\n  |   | 2023-11-27 09:53:48.058 | Nov-27 08:53:48.058[chain]         verbose: Producing beacon block body fork=capella, blockType=Blinded, slot=7047269 |  \r\n  |   | 2023-11-27 09:53:48.161 | Nov-27 08:53:48.160[chain]         verbose: Producing beacon block body fork=capella, blockType=Full, slot=7047269 |  \r\n  |   | 2023-11-27 09:53:48.266 | time=\"2023-11-27T08:53:48.266Z\" level=info msg=\"getHeader request start - 9683977266 milliseconds into slot 7047269\" genesisTime=1606824023 method=getHeader msIntoSlot=9683977266 parentHash=0xf3dace8484b2c93d33849365234cc44bb670425d0fe5c41490775d1ed7057ef4 pubkey=0x94505e569c31c18d69529125800018602122a016bee9dfaae27fd4e4400a3cbf0c7852cd4ed5e72620f1c9caf7154940 slot=7047269 slotTimeSec=12 slotUID=6fcafe71-a254-438f-8768-d408ec3dcdc7 ua=Lodestar/v1.12.0/9d68181 version=v1.6 |  \r\n  |   | 2023-11-27 09:53:48.272 | Nov-27 08:53:48.272[chain]         verbose: Fetched execution payload from engine slot=7047269, executionPayloadValue=156467575957239126, prepType=Cached, payloadId=0xce3b46d95c6a378e, fetchedTime=0.2720000743865967 |  \r\n  |   | 2023-11-27 09:53:48.273 | Nov-27 08:53:48.272[chain]         verbose: Produced beacon block body fork=capella, blockType=Full, slot=7047269, attestations=128, deposits=0, voluntaryExits=0, attesterSlashings=0, proposerSlashings=0, feeRecipientType=requested, feeRecipient=0x94750381be1aba0504c666ee1db118f68f0780d4, executionPayloadPrepType=Cached, transactions=72, blsToExecutionChanges=0, withdrawals=16, executionPayloadValue=156467575957239126 |  \r\n  |   | 2023-11-27 09:53:48.362 | Nov-27 08:53:48.362[api]           verbose: Produced execution block slot=7047269, executionPayloadValue=156467575957239126, root=0xa6bee66c91651e7be743981cae239354a0e4bca065144930c1177ea4c800d84a |  \r\n  |   | 2023-11-27 09:53:49.217 | time=\"2023-11-27T08:53:49.217Z\" level=warning msg=\"error making request to relay\" error=\"Get \\\"https://bloxroute.max-profit.builder.goerli.blxrbdn.com/eth/v1/builder/header/7047269/0xf3dace8484b2c93d33849365234cc44bb670425d0fe5c41490775d1ed7057ef4/0x94505e569c31c18d69529125800018602122a016bee9dfaae27fd4e4400a3cbf0c7852cd4ed5e72620f1c9caf7154940\\\": context deadline exceeded (Client.Timeout exceeded while awaiting headers)\" method=getHeader parentHash=0xf3dace8484b2c93d33849365234cc44bb670425d0fe5c41490775d1ed7057ef4 pubkey=0x94505e569c31c18d69529125800018602122a016bee9dfaae27fd4e4400a3cbf0c7852cd4ed5e72620f1c9caf7154940 slot=7047269 slotUID=6fcafe71-a254-438f-8768-d408ec3dcdc7 ua=Lodestar/v1.12.0/9d68181 url=\"https://bloxroute.max-profit.builder.goerli.blxrbdn.com/eth/v1/builder/header/7047269/0xf3dace8484b2c93d33849365234cc44bb670425d0fe5c41490775d1ed7057ef4/0x94505e569c31c18d69529125800018602122a016bee9dfaae27fd4e4400a3cbf0c7852cd4ed5e72620f1c9caf7154940\" version=v1.6 |  \r\n  |   | 2023-11-27 09:53:49.217 | time=\"2023-11-27T08:53:49.217Z\" level=info msg=\"best bid\" blockHash=0x2abd12c643673bc74050a3ae16aec682c778fbbee10ca4c17db1ec1bf66490d8 blockNumber=10115209 method=getHeader parentHash=0xf3dace8484b2c93d33849365234cc44bb670425d0fe5c41490775d1ed7057ef4 pubkey=0x94505e569c31c18d69529125800018602122a016bee9dfaae27fd4e4400a3cbf0c7852cd4ed5e72620f1c9caf7154940 relays=\"https://0xafa4c6985aa049fb79dd37010438cfebeb0f2bd42b115b89dd678dab0670c1de38da0c4e9138c9290a398ecd9a0b3110@builder-relay-goerli.flashbots.net\" slot=7047269 slotUID=6fcafe71-a254-438f-8768-d408ec3dcdc7 txRoot=0x6244882ad6cb60a6b1c7089935a4d15de888617bc04f5b8fe28940ae5ae3f682 ua=Lodestar/v1.12.0/9d68181 value=0.204610867596747902 version=v1.6 |  \r\n  |   | 2023-11-27 09:53:49.219 | Nov-27 08:53:49.219[chain]         verbose: Fetched execution payload header from builder slot=7047269, executionPayloadValue=204610867596747902, prepType=blinded, fetchedTime=1.2190001010894775 |  \r\n  |   | 2023-11-27 09:53:49.219 | Nov-27 08:53:49.219[chain]         verbose: Produced beacon block body fork=capella, blockType=Blinded, slot=7047269, attestations=128, deposits=0, voluntaryExits=0, attesterSlashings=0, proposerSlashings=0, feeRecipientType=cached, feeRecipient=0x94750381be1aba0504c666ee1db118f68f0780d4, blsToExecutionChanges=0, executionPayloadValue=204610867596747902 |  \r\n  |   | 2023-11-27 09:53:49.326 | Nov-27 08:53:49.325[api]           verbose: Produced blinded block slot=7047269, executionPayloadValue=204610867596747902, root=0x90a215c7665d6fcfee96347164c7372ce6eb88e132fc0cf894c19768157c035a\r\n  |   |  2023-11-27 09:53:49.334 | Nov-27 08:53:49.333[]                debug: Produced block slot=7047269, validator=0x94505e569c31c18d69529125800018602122a016bee9dfaae27fd4e4400a3cbf0c7852cd4ed5e72620f1c9caf7154940, source=builder, executionPayloadValue=0.20461 ETH, strictFeeRecipientCheck=false, builderSelection=maxprofit, api=produceBlockV3\r\n```\r\n\r\n\r\n```\r\n- 48.001 Clock Slot (0)\r\n- 48.002 Producing block (1)\r\n- 48.056 Produce Block V3 (54)\r\n\t  - 48.058 Producing beacon block blinded (2)\r\n\t  \t  - 49.219 Fetched execution payload (161)\r\n\t  \t  - 49.219 Produced beacon block body (0)\r\n\t  \t  - 49.325 Produced blinded block (6)\r\n\t  - 48.161 Producing beacon block full (105)\r\n\t  \t  - 48.272 Fetched execution payload from engine (111)\r\n\t  \t  - 48.272 Produced beacon block body full (0)\r\n\t  \t  - 48.362 Produced execution block (90)\r\n- 49.333 Produced block (1028)\r\n```\r\n\r\nFrom this analysis I had understanding that the more time consumed is because of the API calls order between builder vs execution rather the block building time. As you in above both cases block building process is taking < 100ms but block production time overall took more than 1s. \r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1827637220/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
