{
  "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/4551",
  "repository_url": "https://api.github.com/repos/ChainSafe/lodestar",
  "labels_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/4551/labels{/name}",
  "comments_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/4551/comments",
  "events_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/4551/events",
  "html_url": "https://github.com/ChainSafe/lodestar/issues/4551",
  "id": 1374444088,
  "node_id": "I_kwDOCD5_Gc5R7Fo4",
  "number": 4551,
  "title": "Missing Light Client update",
  "user": {
    "login": "dadepo",
    "id": 272535,
    "node_id": "MDQ6VXNlcjI3MjUzNQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/272535?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/dadepo",
    "html_url": "https://github.com/dadepo",
    "followers_url": "https://api.github.com/users/dadepo/followers",
    "following_url": "https://api.github.com/users/dadepo/following{/other_user}",
    "gists_url": "https://api.github.com/users/dadepo/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/dadepo/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/dadepo/subscriptions",
    "organizations_url": "https://api.github.com/users/dadepo/orgs",
    "repos_url": "https://api.github.com/users/dadepo/repos",
    "events_url": "https://api.github.com/users/dadepo/events{/privacy}",
    "received_events_url": "https://api.github.com/users/dadepo/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "dadepo",
    "id": 272535,
    "node_id": "MDQ6VXNlcjI3MjUzNQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/272535?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/dadepo",
    "html_url": "https://github.com/dadepo",
    "followers_url": "https://api.github.com/users/dadepo/followers",
    "following_url": "https://api.github.com/users/dadepo/following{/other_user}",
    "gists_url": "https://api.github.com/users/dadepo/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/dadepo/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/dadepo/subscriptions",
    "organizations_url": "https://api.github.com/users/dadepo/orgs",
    "repos_url": "https://api.github.com/users/dadepo/repos",
    "events_url": "https://api.github.com/users/dadepo/events{/privacy}",
    "received_events_url": "https://api.github.com/users/dadepo/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "dadepo",
      "id": 272535,
      "node_id": "MDQ6VXNlcjI3MjUzNQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/272535?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dadepo",
      "html_url": "https://github.com/dadepo",
      "followers_url": "https://api.github.com/users/dadepo/followers",
      "following_url": "https://api.github.com/users/dadepo/following{/other_user}",
      "gists_url": "https://api.github.com/users/dadepo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dadepo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dadepo/subscriptions",
      "organizations_url": "https://api.github.com/users/dadepo/orgs",
      "repos_url": "https://api.github.com/users/dadepo/repos",
      "events_url": "https://api.github.com/users/dadepo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dadepo/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2022-09-15T12:22:38Z",
  "updated_at": "2022-09-15T13:16:04Z",
  "closed_at": "2022-09-15T13:16:04Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "<!--NOTE: -->\r\n<!--- General questions should go to the discord chat instead of the issue tracker.-->\r\n\r\n**Describe the bug**\r\n\r\n> Hello, hello.\r\nCheckpoint and bootstrap calls are working for me when I'm calling the light client server on mainnet, but for some reason my update API call that worked a few days ago is now giving me 500s.\r\n>\r\n>Here's my call:\r\n>/eth/v1/beacon/light_client/updates?start_period=560&count=1\r\n\r\n\r\nSource: [Discord Chat](https://discord.com/channels/593655374469660673/743858262864167062/1017828780930240652)\r\n\r\n**Expected behavior**\r\n\r\nThe light client update should return results for valid periods.",
  "closed_by": {
    "login": "dadepo",
    "id": 272535,
    "node_id": "MDQ6VXNlcjI3MjUzNQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/272535?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/dadepo",
    "html_url": "https://github.com/dadepo",
    "followers_url": "https://api.github.com/users/dadepo/followers",
    "following_url": "https://api.github.com/users/dadepo/following{/other_user}",
    "gists_url": "https://api.github.com/users/dadepo/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/dadepo/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/dadepo/subscriptions",
    "organizations_url": "https://api.github.com/users/dadepo/orgs",
    "repos_url": "https://api.github.com/users/dadepo/repos",
    "events_url": "https://api.github.com/users/dadepo/events{/privacy}",
    "received_events_url": "https://api.github.com/users/dadepo/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/4551/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/4551/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1248078686",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/4551#issuecomment-1248078686",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/4551",
    "id": 1248078686,
    "node_id": "IC_kwDOCD5_Gc5KZCte",
    "user": {
      "login": "dadepo",
      "id": 272535,
      "node_id": "MDQ6VXNlcjI3MjUzNQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/272535?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dadepo",
      "html_url": "https://github.com/dadepo",
      "followers_url": "https://api.github.com/users/dadepo/followers",
      "following_url": "https://api.github.com/users/dadepo/following{/other_user}",
      "gists_url": "https://api.github.com/users/dadepo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dadepo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dadepo/subscriptions",
      "organizations_url": "https://api.github.com/users/dadepo/orgs",
      "repos_url": "https://api.github.com/users/dadepo/repos",
      "events_url": "https://api.github.com/users/dadepo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dadepo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-15T13:08:07Z",
    "updated_at": "2022-09-15T13:08:07Z",
    "author_association": "CONTRIBUTOR",
    "body": "Initially ran the stable branch on my local machine following goerli and I could confirm the issue.\r\n\r\nThen I deleted my `dataDir`, restarted the beacon node again, and then I could request for the light client update\r\n\r\n```\r\n curl http://localhost:9596/eth/v1/beacon/light_client/updates\\?start_period\\=475\\&count\\=1 | jq | head\r\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\r\n                                 Dload  Upload   Total   Spent    Left  Speed\r\n100 53732  100 53732    0     0  2998k      0 --:--:-- --:--:-- --:--:-- 4770k\r\n{\r\n  \"data\": [\r\n    {\r\n      \"attested_header\": {\r\n        \"slot\": \"3894917\",\r\n        \"proposer_index\": \"17835\",\r\n        \"parent_root\": \"0x60d6f346798c4cf1b480dab3472dfc25cb4ed99f45d6e980edb8624d6f35d5b2\",\r\n        \"state_root\": \"0xc5d923171bd1e3d1e9788ed3cdda766b93ae2c0a0e18fb500a960d06744cb793\",\r\n        \"body_root\": \"0x27023e34bf688ea08b2c534472b1302aca73eac0d072fedb0874b760db958f96\"\r\n      },\r\n ```\r\n \r\n I will look into following the mainnet next and confim if the light client can be requested or not",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1248078686/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1248083569",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/4551#issuecomment-1248083569",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/4551",
    "id": 1248083569,
    "node_id": "IC_kwDOCD5_Gc5KZD5x",
    "user": {
      "login": "dadepo",
      "id": 272535,
      "node_id": "MDQ6VXNlcjI3MjUzNQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/272535?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dadepo",
      "html_url": "https://github.com/dadepo",
      "followers_url": "https://api.github.com/users/dadepo/followers",
      "following_url": "https://api.github.com/users/dadepo/following{/other_user}",
      "gists_url": "https://api.github.com/users/dadepo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dadepo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dadepo/subscriptions",
      "organizations_url": "https://api.github.com/users/dadepo/orgs",
      "repos_url": "https://api.github.com/users/dadepo/repos",
      "events_url": "https://api.github.com/users/dadepo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dadepo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-15T13:12:18Z",
    "updated_at": "2022-09-15T13:12:18Z",
    "author_association": "CONTRIBUTOR",
    "body": "Ok, it seems all looks fine also on mainnet:\r\n\r\n```\r\ncurl https://lodestar-mainnet.chainsafe.io/eth/v1/beacon/light_client/updates\\?start_period\\=570\\&count\\=1 | jq | head\r\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\r\n                                 Dload  Upload   Total   Spent    Left  Speed\r\n100 53735  100 53735    0     0  60105      0 --:--:-- --:--:-- --:--:-- 60786\r\n{\r\n  \"data\": [\r\n    {\r\n      \"attested_header\": {\r\n        \"slot\": \"4669893\",\r\n        \"proposer_index\": \"347496\",\r\n        \"parent_root\": \"0x530af9d92ed4c4b8fb48e43e1378742f8dc52bfdaed8fa9cc03176b103a8a32f\",\r\n        \"state_root\": \"0x23565b46cb3eb0613ce4f8930fadc95419df9532f78d40e3bb3b61a200d7a1cd\",\r\n        \"body_root\": \"0xf18d659cbe9726ee07e8d7cffe49bd1883ddab0759a16e1c86f8b11a874a5802\"\r\n      },\r\n   ```",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1248083569/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1248087830",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/4551#issuecomment-1248087830",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/4551",
    "id": 1248087830,
    "node_id": "IC_kwDOCD5_Gc5KZE8W",
    "user": {
      "login": "dadepo",
      "id": 272535,
      "node_id": "MDQ6VXNlcjI3MjUzNQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/272535?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dadepo",
      "html_url": "https://github.com/dadepo",
      "followers_url": "https://api.github.com/users/dadepo/followers",
      "following_url": "https://api.github.com/users/dadepo/following{/other_user}",
      "gists_url": "https://api.github.com/users/dadepo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dadepo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dadepo/subscriptions",
      "organizations_url": "https://api.github.com/users/dadepo/orgs",
      "repos_url": "https://api.github.com/users/dadepo/repos",
      "events_url": "https://api.github.com/users/dadepo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dadepo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-15T13:16:03Z",
    "updated_at": "2022-09-15T13:16:03Z",
    "author_association": "CONTRIBUTOR",
    "body": "Closing this as the user who reported the issue confirms also that the API works. See [here](https://discord.com/channels/593655374469660673/743858262864167062/1019959465119858739). ",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1248087830/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
