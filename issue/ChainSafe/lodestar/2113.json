{
  "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/2113",
  "repository_url": "https://api.github.com/repos/ChainSafe/lodestar",
  "labels_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/2113/labels{/name}",
  "comments_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/2113/comments",
  "events_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/2113/events",
  "html_url": "https://github.com/ChainSafe/lodestar/issues/2113",
  "id": 817939404,
  "node_id": "MDU6SXNzdWU4MTc5Mzk0MDQ=",
  "number": 2113,
  "title": "Remove --ignore-optional flag in Dockerfile",
  "user": {
    "login": "dapplion",
    "id": 35266934,
    "node_id": "MDQ6VXNlcjM1MjY2OTM0",
    "avatar_url": "https://avatars.githubusercontent.com/u/35266934?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/dapplion",
    "html_url": "https://github.com/dapplion",
    "followers_url": "https://api.github.com/users/dapplion/followers",
    "following_url": "https://api.github.com/users/dapplion/following{/other_user}",
    "gists_url": "https://api.github.com/users/dapplion/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/dapplion/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/dapplion/subscriptions",
    "organizations_url": "https://api.github.com/users/dapplion/orgs",
    "repos_url": "https://api.github.com/users/dapplion/repos",
    "events_url": "https://api.github.com/users/dapplion/events{/privacy}",
    "received_events_url": "https://api.github.com/users/dapplion/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "3xtr4t3rr3str14l",
    "id": 32028745,
    "node_id": "MDQ6VXNlcjMyMDI4NzQ1",
    "avatar_url": "https://avatars.githubusercontent.com/u/32028745?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/3xtr4t3rr3str14l",
    "html_url": "https://github.com/3xtr4t3rr3str14l",
    "followers_url": "https://api.github.com/users/3xtr4t3rr3str14l/followers",
    "following_url": "https://api.github.com/users/3xtr4t3rr3str14l/following{/other_user}",
    "gists_url": "https://api.github.com/users/3xtr4t3rr3str14l/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/3xtr4t3rr3str14l/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/3xtr4t3rr3str14l/subscriptions",
    "organizations_url": "https://api.github.com/users/3xtr4t3rr3str14l/orgs",
    "repos_url": "https://api.github.com/users/3xtr4t3rr3str14l/repos",
    "events_url": "https://api.github.com/users/3xtr4t3rr3str14l/events{/privacy}",
    "received_events_url": "https://api.github.com/users/3xtr4t3rr3str14l/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "3xtr4t3rr3str14l",
      "id": 32028745,
      "node_id": "MDQ6VXNlcjMyMDI4NzQ1",
      "avatar_url": "https://avatars.githubusercontent.com/u/32028745?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/3xtr4t3rr3str14l",
      "html_url": "https://github.com/3xtr4t3rr3str14l",
      "followers_url": "https://api.github.com/users/3xtr4t3rr3str14l/followers",
      "following_url": "https://api.github.com/users/3xtr4t3rr3str14l/following{/other_user}",
      "gists_url": "https://api.github.com/users/3xtr4t3rr3str14l/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/3xtr4t3rr3str14l/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/3xtr4t3rr3str14l/subscriptions",
      "organizations_url": "https://api.github.com/users/3xtr4t3rr3str14l/orgs",
      "repos_url": "https://api.github.com/users/3xtr4t3rr3str14l/repos",
      "events_url": "https://api.github.com/users/3xtr4t3rr3str14l/events{/privacy}",
      "received_events_url": "https://api.github.com/users/3xtr4t3rr3str14l/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2021-02-27T14:55:15Z",
  "updated_at": "2021-03-04T21:19:33Z",
  "closed_at": "2021-03-04T21:19:33Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "We don't have to use this flag anymore since the spec tests are not an NPM package. However, I tried to delete the flag and the node did not start crashing with:\r\n\r\n```\r\nlodestar_1    |  âœ– SyntaxError: Cannot convert undefined to a BigInt\r\nlodestar_1    |     at BigInt (<anonymous>)\r\nlodestar_1    |     at NumberUintType.fromJson (/usr/app/node_modules/@chainsafe/ssz/src/types/basic/uint.ts:87:18)\r\nlodestar_1    |     at forEach (/usr/app/packages/lodestar-params/src/utils.ts:11:66)\r\nlodestar_1    |     at Array.forEach (<anonymous>)\r\nlodestar_1    |     at createIBeaconParams (/usr/app/packages/lodestar-params/src/utils.ts:9:39)\r\nlodestar_1    |     at getBeaconParams (/usr/app/packages/lodestar-cli/src/config/beaconParams.ts:70:37)\r\nlodestar_1    |     at getBeaconParamsFromArgs (/usr/app/packages/lodestar-cli/src/config/beaconParams.ts:37:10)\r\nlodestar_1    |     at getBeaconConfigFromArgs (/usr/app/packages/lodestar-cli/src/config/beaconParams.ts:29:30)\r\nlodestar_1    |     at initializeOptionsAndConfig (/usr/app/packages/lodestar-cli/src/cmds/init/handler.ts:52:18)\r\nlodestar_1    |     at Object.beaconHandler [as handler] (/usr/app/packages/lodestar-cli/src/cmds/beacon/handler.ts:25:45)\r\n```\r\n\r\nWhat may be happening here?\r\n\r\n**To recreate**\r\n\r\nRemove flag from these two lines\r\nhttps://github.com/ChainSafe/lodestar/blob/8c860b334a73ece8b310f86c58487104dd8976b3/Dockerfile#L7\r\nhttps://github.com/ChainSafe/lodestar/blob/8c860b334a73ece8b310f86c58487104dd8976b3/Dockerfile#L10\r\n\r\n```\r\ndocker-compose up --build\r\n```",
  "closed_by": {
    "login": "wemeetagain",
    "id": 1348242,
    "node_id": "MDQ6VXNlcjEzNDgyNDI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1348242?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/wemeetagain",
    "html_url": "https://github.com/wemeetagain",
    "followers_url": "https://api.github.com/users/wemeetagain/followers",
    "following_url": "https://api.github.com/users/wemeetagain/following{/other_user}",
    "gists_url": "https://api.github.com/users/wemeetagain/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/wemeetagain/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/wemeetagain/subscriptions",
    "organizations_url": "https://api.github.com/users/wemeetagain/orgs",
    "repos_url": "https://api.github.com/users/wemeetagain/repos",
    "events_url": "https://api.github.com/users/wemeetagain/events{/privacy}",
    "received_events_url": "https://api.github.com/users/wemeetagain/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/2113/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/2113/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/787097675",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/2113#issuecomment-787097675",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/2113",
    "id": 787097675,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4NzA5NzY3NQ==",
    "user": {
      "login": "dapplion",
      "id": 35266934,
      "node_id": "MDQ6VXNlcjM1MjY2OTM0",
      "avatar_url": "https://avatars.githubusercontent.com/u/35266934?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dapplion",
      "html_url": "https://github.com/dapplion",
      "followers_url": "https://api.github.com/users/dapplion/followers",
      "following_url": "https://api.github.com/users/dapplion/following{/other_user}",
      "gists_url": "https://api.github.com/users/dapplion/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dapplion/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dapplion/subscriptions",
      "organizations_url": "https://api.github.com/users/dapplion/orgs",
      "repos_url": "https://api.github.com/users/dapplion/repos",
      "events_url": "https://api.github.com/users/dapplion/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dapplion/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-27T16:23:20Z",
    "updated_at": "2021-02-27T16:23:42Z",
    "author_association": "MEMBER",
    "body": "I confirm this issue after:\r\n1. cloning lodestar in fresh machine\r\n2. docker-compose build -> :white_check_mark: \r\n3. Do only the change of removing `--ignore-optional` from Dockerfile\r\n4. docker-compose build -> :heavy_multiplication_x: ",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/787097675/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/787107882",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/2113#issuecomment-787107882",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/2113",
    "id": 787107882,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4NzEwNzg4Mg==",
    "user": {
      "login": "dapplion",
      "id": 35266934,
      "node_id": "MDQ6VXNlcjM1MjY2OTM0",
      "avatar_url": "https://avatars.githubusercontent.com/u/35266934?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dapplion",
      "html_url": "https://github.com/dapplion",
      "followers_url": "https://api.github.com/users/dapplion/followers",
      "following_url": "https://api.github.com/users/dapplion/following{/other_user}",
      "gists_url": "https://api.github.com/users/dapplion/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dapplion/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dapplion/subscriptions",
      "organizations_url": "https://api.github.com/users/dapplion/orgs",
      "repos_url": "https://api.github.com/users/dapplion/repos",
      "events_url": "https://api.github.com/users/dapplion/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dapplion/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-27T17:38:01Z",
    "updated_at": "2021-02-27T17:38:01Z",
    "author_association": "MEMBER",
    "body": "@wemeetagain Can you take a look? I can't find anything suspicious",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/787107882/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/788788405",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/2113#issuecomment-788788405",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/2113",
    "id": 788788405,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4ODc4ODQwNQ==",
    "user": {
      "login": "dapplion",
      "id": 35266934,
      "node_id": "MDQ6VXNlcjM1MjY2OTM0",
      "avatar_url": "https://avatars.githubusercontent.com/u/35266934?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dapplion",
      "html_url": "https://github.com/dapplion",
      "followers_url": "https://api.github.com/users/dapplion/followers",
      "following_url": "https://api.github.com/users/dapplion/following{/other_user}",
      "gists_url": "https://api.github.com/users/dapplion/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dapplion/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dapplion/subscriptions",
      "organizations_url": "https://api.github.com/users/dapplion/orgs",
      "repos_url": "https://api.github.com/users/dapplion/repos",
      "events_url": "https://api.github.com/users/dapplion/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dapplion/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-02T10:07:13Z",
    "updated_at": "2021-03-02T10:07:13Z",
    "author_association": "MEMBER",
    "body": "Root issue -> https://github.com/ChainSafe/lodestar/issues/2120",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/788788405/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
