{
  "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/116",
  "repository_url": "https://api.github.com/repos/ChainSafe/lodestar",
  "labels_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/116/labels{/name}",
  "comments_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/116/comments",
  "events_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/116/events",
  "html_url": "https://github.com/ChainSafe/lodestar/issues/116",
  "id": 411221546,
  "node_id": "MDU6SXNzdWU0MTEyMjE1NDY=",
  "number": 116,
  "title": "Use babel for transpilation",
  "user": {
    "login": "wemeetagain",
    "id": 1348242,
    "node_id": "MDQ6VXNlcjEzNDgyNDI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1348242?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/wemeetagain",
    "html_url": "https://github.com/wemeetagain",
    "followers_url": "https://api.github.com/users/wemeetagain/followers",
    "following_url": "https://api.github.com/users/wemeetagain/following{/other_user}",
    "gists_url": "https://api.github.com/users/wemeetagain/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/wemeetagain/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/wemeetagain/subscriptions",
    "organizations_url": "https://api.github.com/users/wemeetagain/orgs",
    "repos_url": "https://api.github.com/users/wemeetagain/repos",
    "events_url": "https://api.github.com/users/wemeetagain/events{/privacy}",
    "received_events_url": "https://api.github.com/users/wemeetagain/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 0,
  "created_at": "2019-02-17T18:57:29Z",
  "updated_at": "2019-02-27T18:41:46Z",
  "closed_at": "2019-02-27T18:41:46Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "**Is your feature request related to a problem? Please describe.**\r\nTypescript is good at type checking, but not as good at transpilation to various JS targets. The way it is configured leads to some limitations regarding which javascript features we can use.\r\n\r\nBecause we want to support a wide variety of javascript targets (eg: the edge browser, old versions of node, etc, etc), we will rightfully (and currently do!) maintain a conservative `target` in our `tsconfig.json`. This `target` option sets how the typescript is transpiled to vanilla javascript, but unfortunately, it also opens/closes various typescript features. So we can't use the full typescript feature set without also excluding many older targets! And if we use an older target, now we must hurt our devEx/productivity by reverting to older, invariably more verbose coding standards even as alternatives exist.\r\n\r\nIt doesn't have to be this way. We can have our cake and eat it too. (Ie use the latest-and-greatest javascript and typescript features and also target any version of javascript we want)\r\nSince we have to transpile our TS code to vanilla JS one way or another, we may as well use the most flexible transpiler available. Especially if that option doesn't remove or conflict with the type-checking that typescript provides.\r\n\r\n[Babel](https://babeljs.io/) is this transpiler. It makes it easy to target various versions of JS. It is widely used and supported in the wider javascript community. It is compatible with typescript. It can easily be configured to inject any necessary polyfills, rewrite unsupported syntax, etc. just as typescript does, but better, more configurably, more featurefully, more quickly, more flexibly.\r\nUsing it along with typescript gives us the best of both worlds.\r\n\r\none example:\r\ncurrent situation: want to use native BigInts but also target the Edge browser? too bad, can't even contemplate\r\nfuture situation: want to use native BigInts but also target the Edge browser? ezpz, we can also make a build optimized for node, the latest chrome, etc, etc.\r\n\r\n**Describe the solution you'd like**\r\nSet the `target` in `tsconfig.json` to `esnext`, for the full typescript feature set\r\nUse typescript to check types (in IDE and through CLI/CI)\r\nUse babel features that don't conflict with typescript\r\nUse babel to compile builds (create at minimum, one build for node, one build for \"browsers\")\r\n\r\n**Describe alternatives you've considered**\r\n- Stick with using typescript for transpilation and:\r\n  - target es5 (sad, we can't use BigInts or other productivity-enhancing features)\r\n  - target esnext (sad, if we use certain features, we can't run our code on IE8, edge, safari, etc etc)\r\n- Use babel transpilation and\r\n  - w/o taking advantage of any esnext features (sad, but still better than current situation)\r\n  - with typescript-incompatible features (sad, we want to retain typescript compatibility)\r\n\r\n**Additional context**\r\nhttps://iamturns.com/typescript-babel/\r\nhttps://github.com/Microsoft/TypeScript-Babel-Starter\r\n\r\nWriting code in a backward-compatible way hurts dev-ex and productivity and is largely unnecessary. Lets use our language's full feature set (or at least position ourselves to take this advantage if we so desire in the future) and let the computer take care of the backward-compatible thing on its own, when it needs to do so.",
  "closed_by": {
    "login": "wemeetagain",
    "id": 1348242,
    "node_id": "MDQ6VXNlcjEzNDgyNDI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1348242?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/wemeetagain",
    "html_url": "https://github.com/wemeetagain",
    "followers_url": "https://api.github.com/users/wemeetagain/followers",
    "following_url": "https://api.github.com/users/wemeetagain/following{/other_user}",
    "gists_url": "https://api.github.com/users/wemeetagain/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/wemeetagain/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/wemeetagain/subscriptions",
    "organizations_url": "https://api.github.com/users/wemeetagain/orgs",
    "repos_url": "https://api.github.com/users/wemeetagain/repos",
    "events_url": "https://api.github.com/users/wemeetagain/events{/privacy}",
    "received_events_url": "https://api.github.com/users/wemeetagain/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/116/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/116/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[

]
