{
  "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/6117",
  "repository_url": "https://api.github.com/repos/ChainSafe/lodestar",
  "labels_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/6117/labels{/name}",
  "comments_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/6117/comments",
  "events_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/6117/events",
  "html_url": "https://github.com/ChainSafe/lodestar/issues/6117",
  "id": 2004011604,
  "node_id": "I_kwDOCD5_Gc53cspU",
  "number": 6117,
  "title": "Unexpected reserved word",
  "user": {
    "login": "realsteel85",
    "id": 68297405,
    "node_id": "MDQ6VXNlcjY4Mjk3NDA1",
    "avatar_url": "https://avatars.githubusercontent.com/u/68297405?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/realsteel85",
    "html_url": "https://github.com/realsteel85",
    "followers_url": "https://api.github.com/users/realsteel85/followers",
    "following_url": "https://api.github.com/users/realsteel85/following{/other_user}",
    "gists_url": "https://api.github.com/users/realsteel85/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/realsteel85/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/realsteel85/subscriptions",
    "organizations_url": "https://api.github.com/users/realsteel85/orgs",
    "repos_url": "https://api.github.com/users/realsteel85/repos",
    "events_url": "https://api.github.com/users/realsteel85/events{/privacy}",
    "received_events_url": "https://api.github.com/users/realsteel85/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 5670219610,
      "node_id": "LA_kwDOCD5_Gc8AAAABUfivWg",
      "url": "https://api.github.com/repos/ChainSafe/lodestar/labels/meta-bug",
      "name": "meta-bug",
      "color": "E79553",
      "default": false,
      "description": "Issues that identify a bug and require a fix."
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2023-11-21T10:58:31Z",
  "updated_at": "2023-11-28T10:59:02Z",
  "closed_at": "2023-11-28T10:59:02Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "### Describe the bug\n\n Started Lodestar Consensus Validator Client (Goerli).\r\nNov 21 10:53:09 testnet lodestar[646414]: file:///usr/local/bin/lodestar/packages/cli/bin/lodestar.js:3\r\nNov 21 10:53:09 testnet lodestar[646414]: await import(\"../lib/index.js\");\r\nNov 21 10:53:09 testnet lodestar[646414]: ^^^^^\r\nNov 21 10:53:09 testnet lodestar[646414]: SyntaxError: Unexpected reserved word\r\nNov 21 10:53:09 testnet lodestar[646414]:     at Loader.moduleStrategy (internal/modules/esm/translators.js:133:18)\r\nNov 21 10:53:09 testnet lodestar[646414]:     at async link (internal/modules/esm/module_job.js:42:21)\r\nNov 21 10:53:09 testnet systemd[1]: lodestarvalidator.service: Main process exited, code=exited, status=1/FAILURE\r\n\n\n### Expected behavior\n\nStart lodestar validator\n\n### Steps to reproduce\n\n1 `\r\n[Unit]\r\nDescription=Lodestar Consensus Validator Client (Goerli)\r\nWants=network-online.target\r\nAfter=network-online.target\r\n[Service]\r\nUser=lodestarvalidator\r\nGroup=lodestarvalidator\r\nType=simple\r\nRestart=always\r\nRestartSec=5\r\nWorkingDirectory=/usr/local/bin/lodestar\r\nExecStart=/usr/local/bin/lodestar/lodestar validator \\\r\n  --network goerli \\\r\n  --dataDir /var/lib/lodestar/validators \\\r\n  --suggestedFeeRecipient 0xxx \\\r\n  --graffiti \"<yourgraffiti>\"\r\n[Install]\r\nWantedBy=multi-user.target\r\n`\r\n2 `sudo systemctl start lighthousevalidator.service`\n\n### Additional context\n\n_No response_\n\n### Operating system\n\nLinux\n\n### Lodestar version or commit hash\n\nv1.12",
  "closed_by": {
    "login": "realsteel85",
    "id": 68297405,
    "node_id": "MDQ6VXNlcjY4Mjk3NDA1",
    "avatar_url": "https://avatars.githubusercontent.com/u/68297405?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/realsteel85",
    "html_url": "https://github.com/realsteel85",
    "followers_url": "https://api.github.com/users/realsteel85/followers",
    "following_url": "https://api.github.com/users/realsteel85/following{/other_user}",
    "gists_url": "https://api.github.com/users/realsteel85/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/realsteel85/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/realsteel85/subscriptions",
    "organizations_url": "https://api.github.com/users/realsteel85/orgs",
    "repos_url": "https://api.github.com/users/realsteel85/repos",
    "events_url": "https://api.github.com/users/realsteel85/events{/privacy}",
    "received_events_url": "https://api.github.com/users/realsteel85/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/6117/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/6117/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1820832918",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/6117#issuecomment-1820832918",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/6117",
    "id": 1820832918,
    "node_id": "IC_kwDOCD5_Gc5sh7SW",
    "user": {
      "login": "nflaig",
      "id": 38436224,
      "node_id": "MDQ6VXNlcjM4NDM2MjI0",
      "avatar_url": "https://avatars.githubusercontent.com/u/38436224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nflaig",
      "html_url": "https://github.com/nflaig",
      "followers_url": "https://api.github.com/users/nflaig/followers",
      "following_url": "https://api.github.com/users/nflaig/following{/other_user}",
      "gists_url": "https://api.github.com/users/nflaig/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nflaig/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nflaig/subscriptions",
      "organizations_url": "https://api.github.com/users/nflaig/orgs",
      "repos_url": "https://api.github.com/users/nflaig/repos",
      "events_url": "https://api.github.com/users/nflaig/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nflaig/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-11-21T12:28:29Z",
    "updated_at": "2023-11-21T12:28:29Z",
    "author_association": "MEMBER",
    "body": "What's your node version? See [prerequisites](https://chainsafe.github.io/lodestar/install/source/#prerequisites)",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1820832918/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1821011299",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/6117#issuecomment-1821011299",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/6117",
    "id": 1821011299,
    "node_id": "IC_kwDOCD5_Gc5sim1j",
    "user": {
      "login": "realsteel85",
      "id": 68297405,
      "node_id": "MDQ6VXNlcjY4Mjk3NDA1",
      "avatar_url": "https://avatars.githubusercontent.com/u/68297405?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/realsteel85",
      "html_url": "https://github.com/realsteel85",
      "followers_url": "https://api.github.com/users/realsteel85/followers",
      "following_url": "https://api.github.com/users/realsteel85/following{/other_user}",
      "gists_url": "https://api.github.com/users/realsteel85/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/realsteel85/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/realsteel85/subscriptions",
      "organizations_url": "https://api.github.com/users/realsteel85/orgs",
      "repos_url": "https://api.github.com/users/realsteel85/repos",
      "events_url": "https://api.github.com/users/realsteel85/events{/privacy}",
      "received_events_url": "https://api.github.com/users/realsteel85/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-11-21T14:18:07Z",
    "updated_at": "2023-11-21T14:21:57Z",
    "author_association": "NONE",
    "body": "V20.9.0 (default)\r\n\r\nWhen i run in direct (as sudo)\r\nsudo ./lodestar validator   --network goerli   --dataDir /var/lib/lodestar/validators   --suggestedFeeRecipient 0xXX  --graffiti \"<yourgraffiti>\"\r\n\r\nfile:///home/ewart/lodestar/packages/cli/bin/lodestar.js:3\r\nawait import(\"../lib/index.js\");\r\n^^^^^\r\n\r\nSyntaxError: Unexpected reserved word\r\n    at Loader.moduleStrategy (internal/modules/esm/translators.js:133:18)\r\n    at async link (internal/modules/esm/module_job.js:42:21)\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1821011299/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1821039859",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/6117#issuecomment-1821039859",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/6117",
    "id": 1821039859,
    "node_id": "IC_kwDOCD5_Gc5sitzz",
    "user": {
      "login": "nflaig",
      "id": 38436224,
      "node_id": "MDQ6VXNlcjM4NDM2MjI0",
      "avatar_url": "https://avatars.githubusercontent.com/u/38436224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nflaig",
      "html_url": "https://github.com/nflaig",
      "followers_url": "https://api.github.com/users/nflaig/followers",
      "following_url": "https://api.github.com/users/nflaig/following{/other_user}",
      "gists_url": "https://api.github.com/users/nflaig/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nflaig/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nflaig/subscriptions",
      "organizations_url": "https://api.github.com/users/nflaig/orgs",
      "repos_url": "https://api.github.com/users/nflaig/repos",
      "events_url": "https://api.github.com/users/nflaig/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nflaig/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-11-21T14:33:29Z",
    "updated_at": "2023-11-22T20:45:31Z",
    "author_association": "MEMBER",
    "body": "> When i run in direct (as sudo)\r\n\r\ncould you please check what node version is installed for your root user or for the `lodestarvalidator` user which is the one that runs Lodestar",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1821039859/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1826428772",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/6117#issuecomment-1826428772",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/6117",
    "id": 1826428772,
    "node_id": "IC_kwDOCD5_Gc5s3Rdk",
    "user": {
      "login": "E1458",
      "id": 63565701,
      "node_id": "MDQ6VXNlcjYzNTY1NzAx",
      "avatar_url": "https://avatars.githubusercontent.com/u/63565701?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/E1458",
      "html_url": "https://github.com/E1458",
      "followers_url": "https://api.github.com/users/E1458/followers",
      "following_url": "https://api.github.com/users/E1458/following{/other_user}",
      "gists_url": "https://api.github.com/users/E1458/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/E1458/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/E1458/subscriptions",
      "organizations_url": "https://api.github.com/users/E1458/orgs",
      "repos_url": "https://api.github.com/users/E1458/repos",
      "events_url": "https://api.github.com/users/E1458/events{/privacy}",
      "received_events_url": "https://api.github.com/users/E1458/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-11-25T22:01:14Z",
    "updated_at": "2023-11-25T22:20:22Z",
    "author_association": "NONE",
    "body": "Ubuntu 22.04.3 LTS, node v20.10.0. Git cloned the current head and built from source: yarn install, yarn run build, no error. Set up a systemd service running as a dedicated user 'lodestar'. I get exactly the same error at the same location as reported by @realsteel85. I even re-installed node again (via nvm) under the user 'lodestar' but no good.  \r\n\r\n-EDIT: I think I overlooked this part of the documentation: \"_Node Version Manager (NVM) will only install NodeJS for use with the active user. If you intend on setting up Lodestar to run under another user, we recommend using [NodeSource's source for NodeJS](https://github.com/nodesource/distributions/blob/master/README.md#installation-instructions) so you can install NodeJS globally._\". After installing the \"NodeSource\" as directed, the error is gone and Lodestar is running OK. ",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1826428772/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1826440411",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/6117#issuecomment-1826440411",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/6117",
    "id": 1826440411,
    "node_id": "IC_kwDOCD5_Gc5s3UTb",
    "user": {
      "login": "nflaig",
      "id": 38436224,
      "node_id": "MDQ6VXNlcjM4NDM2MjI0",
      "avatar_url": "https://avatars.githubusercontent.com/u/38436224?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nflaig",
      "html_url": "https://github.com/nflaig",
      "followers_url": "https://api.github.com/users/nflaig/followers",
      "following_url": "https://api.github.com/users/nflaig/following{/other_user}",
      "gists_url": "https://api.github.com/users/nflaig/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nflaig/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nflaig/subscriptions",
      "organizations_url": "https://api.github.com/users/nflaig/orgs",
      "repos_url": "https://api.github.com/users/nflaig/repos",
      "events_url": "https://api.github.com/users/nflaig/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nflaig/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-11-25T23:18:40Z",
    "updated_at": "2023-11-25T23:18:40Z",
    "author_association": "MEMBER",
    "body": "Nvm does not work well with systemd, there are [workarounds](https://gist.github.com/joepie91/73ce30dd258296bd24af23e9c5f761aa) to make it work but as you noted @E1458 the easiest solution is to install node globally.\r\n\r\n@realsteel85 your globally installed node version is likely outdated",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1826440411/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1829585714",
    "html_url": "https://github.com/ChainSafe/lodestar/issues/6117#issuecomment-1829585714",
    "issue_url": "https://api.github.com/repos/ChainSafe/lodestar/issues/6117",
    "id": 1829585714,
    "node_id": "IC_kwDOCD5_Gc5tDUMy",
    "user": {
      "login": "realsteel85",
      "id": 68297405,
      "node_id": "MDQ6VXNlcjY4Mjk3NDA1",
      "avatar_url": "https://avatars.githubusercontent.com/u/68297405?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/realsteel85",
      "html_url": "https://github.com/realsteel85",
      "followers_url": "https://api.github.com/users/realsteel85/followers",
      "following_url": "https://api.github.com/users/realsteel85/following{/other_user}",
      "gists_url": "https://api.github.com/users/realsteel85/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/realsteel85/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/realsteel85/subscriptions",
      "organizations_url": "https://api.github.com/users/realsteel85/orgs",
      "repos_url": "https://api.github.com/users/realsteel85/repos",
      "events_url": "https://api.github.com/users/realsteel85/events{/privacy}",
      "received_events_url": "https://api.github.com/users/realsteel85/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-11-28T10:59:02Z",
    "updated_at": "2023-11-28T10:59:02Z",
    "author_association": "NONE",
    "body": "fixed, thnxs",
    "reactions": {
      "url": "https://api.github.com/repos/ChainSafe/lodestar/issues/comments/1829585714/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
