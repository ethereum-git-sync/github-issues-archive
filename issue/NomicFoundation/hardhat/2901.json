{
  "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2901",
  "repository_url": "https://api.github.com/repos/NomicFoundation/hardhat",
  "labels_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2901/labels{/name}",
  "comments_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2901/comments",
  "events_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2901/events",
  "html_url": "https://github.com/NomicFoundation/hardhat/issues/2901",
  "id": 1297179675,
  "node_id": "I_kwDOB7jojM5NUWQb",
  "number": 2901,
  "title": "Add types for ast and compiler output",
  "user": {
    "login": "GrandSchtroumpf",
    "id": 8143464,
    "node_id": "MDQ6VXNlcjgxNDM0NjQ=",
    "avatar_url": "https://avatars.githubusercontent.com/u/8143464?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/GrandSchtroumpf",
    "html_url": "https://github.com/GrandSchtroumpf",
    "followers_url": "https://api.github.com/users/GrandSchtroumpf/followers",
    "following_url": "https://api.github.com/users/GrandSchtroumpf/following{/other_user}",
    "gists_url": "https://api.github.com/users/GrandSchtroumpf/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/GrandSchtroumpf/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/GrandSchtroumpf/subscriptions",
    "organizations_url": "https://api.github.com/users/GrandSchtroumpf/orgs",
    "repos_url": "https://api.github.com/users/GrandSchtroumpf/repos",
    "events_url": "https://api.github.com/users/GrandSchtroumpf/events{/privacy}",
    "received_events_url": "https://api.github.com/users/GrandSchtroumpf/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 2536492104,
      "node_id": "MDU6TGFiZWwyNTM2NDkyMTA0",
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/labels/type:chore",
      "name": "type:chore",
      "color": "FBCA04",
      "default": false,
      "description": "A task related to code quality, tooling, CI, or anything that doesn't directly impact the end users"
    },
    {
      "id": 4937720577,
      "node_id": "LA_kwDOB7jojM8AAAABJk-jAQ",
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/labels/status:ready",
      "name": "status:ready",
      "color": "0E8A16",
      "default": false,
      "description": "This issue is ready to be worked on"
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2022-07-07T10:40:16Z",
  "updated_at": "2023-01-03T09:16:43Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Hello,\r\nI've created types for the solidity compiler output (included ABI, Yul & Solidity AST) [here](https://github.com/dappsnation/ngeth/blob/main/packages/%40type/solc/output.d.ts). I think it would be more efficient to have these types on hardhat. \r\nWould you consider a PR adding them to the current [`CompilerOutput`](https://github.com/NomicFoundation/hardhat/blob/master/packages/hardhat-core/src/types/artifacts.ts#L186).\r\nBest",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2901/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2901/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1177382310",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2901#issuecomment-1177382310",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2901",
    "id": 1177382310,
    "node_id": "IC_kwDOB7jojM5GLW2m",
    "user": {
      "login": "github-actions[bot]",
      "id": 41898282,
      "node_id": "MDM6Qm90NDE4OTgyODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/github-actions%5Bbot%5D",
      "html_url": "https://github.com/apps/github-actions",
      "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2022-07-07T10:40:40Z",
    "updated_at": "2022-07-07T10:40:40Z",
    "author_association": "CONTRIBUTOR",
    "body": "This issue is also being [tracked on Linear](https://linear.app/nomic-foundation/issue/HH-911/compileroutput-types-pr-[nomicfoundationhardhat2901]).\n\nWe use Linear to manage our development process, but we keep the conversations on Github.\n\nLINEAR-ID: edf9eb83-f2e0-4742-b10c-6df9f11c307d",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1177382310/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1183350875",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2901#issuecomment-1183350875",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2901",
    "id": 1183350875,
    "node_id": "IC_kwDOB7jojM5GiIBb",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-13T15:13:04Z",
    "updated_at": "2022-07-13T15:13:04Z",
    "author_association": "MEMBER",
    "body": "Hey @GrandSchtroumpf, thanks for opening this.\r\n\r\nWe were actually considering using https://github.com/OpenZeppelin/solidity-ast for this. Are you familiar with that project? Can you tell us how/if yours is different?",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1183350875/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1183373253",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2901#issuecomment-1183373253",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2901",
    "id": 1183373253,
    "node_id": "IC_kwDOB7jojM5GiNfF",
    "user": {
      "login": "GrandSchtroumpf",
      "id": 8143464,
      "node_id": "MDQ6VXNlcjgxNDM0NjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8143464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/GrandSchtroumpf",
      "html_url": "https://github.com/GrandSchtroumpf",
      "followers_url": "https://api.github.com/users/GrandSchtroumpf/followers",
      "following_url": "https://api.github.com/users/GrandSchtroumpf/following{/other_user}",
      "gists_url": "https://api.github.com/users/GrandSchtroumpf/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/GrandSchtroumpf/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/GrandSchtroumpf/subscriptions",
      "organizations_url": "https://api.github.com/users/GrandSchtroumpf/orgs",
      "repos_url": "https://api.github.com/users/GrandSchtroumpf/repos",
      "events_url": "https://api.github.com/users/GrandSchtroumpf/events{/privacy}",
      "received_events_url": "https://api.github.com/users/GrandSchtroumpf/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-13T15:32:38Z",
    "updated_at": "2022-07-13T15:32:38Z",
    "author_association": "NONE",
    "body": "Hello @fvictorio, I far as I understand, Openzeppelin focuses on Solidity & Yul AST.\r\nMy link above focuses on the solc input/output, including the ABI (which is often type as `any[]` in many libs ^^).\r\n- [Solc Input](https://github.com/dappsnation/ngeth/blob/main/packages/%40type/solc/input.d.ts) (see on [Openzeppelin](https://github.com/OpenZeppelin/solidity-ast/blob/master/solc.d.ts#L12))\r\n- [Solc Output](https://github.com/dappsnation/ngeth/blob/main/packages/%40type/solc/output.d.ts#L10) (see on [Openzeppelin](https://github.com/OpenZeppelin/solidity-ast/blob/master/solc.d.ts#L3))\r\n- [ABI](https://github.com/dappsnation/ngeth/blob/main/packages/%40type/solc/abi.d.ts)\r\n- [Opcode](https://github.com/dappsnation/ngeth/blob/main/packages/%40type/solc/opcode.d.ts)\r\n\r\nThe Yul & Solidity AST is also in my types, but the one from Openzepplin might be better because generated by scripts.\r\nI guess a mix of both would work well.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1183373253/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1183577903",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2901#issuecomment-1183577903",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2901",
    "id": 1183577903,
    "node_id": "IC_kwDOB7jojM5Gi_cv",
    "user": {
      "login": "frangio",
      "id": 481465,
      "node_id": "MDQ6VXNlcjQ4MTQ2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/481465?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/frangio",
      "html_url": "https://github.com/frangio",
      "followers_url": "https://api.github.com/users/frangio/followers",
      "following_url": "https://api.github.com/users/frangio/following{/other_user}",
      "gists_url": "https://api.github.com/users/frangio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/frangio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/frangio/subscriptions",
      "organizations_url": "https://api.github.com/users/frangio/orgs",
      "repos_url": "https://api.github.com/users/frangio/repos",
      "events_url": "https://api.github.com/users/frangio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/frangio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-13T19:06:11Z",
    "updated_at": "2022-07-13T19:06:38Z",
    "author_association": "CONTRIBUTOR",
    "body": "@GrandSchtroumpf `solidity-ast` is definitely focused on the AST types. Another difference is that the approach is to provide types that are valid across multiple Solidity versions. So for example newer fields will be optional fields so the type still applies for older versions of the AST. I think the types that you're sharing may be focused on being accurate for a specific Solidity version. A project like Hardhat deals with multiple versions of the compiler so I feel that the approach of solidity-ast is better suited for this purpose, and this is the case as well for the projects I develop.\r\n\r\nI feel very confident in these types because another aspect of the project is that they are extensively tested against the actual compiler output.\r\n\r\nWe have some minimal types for the input and output but there is a need for much more than that and I can see that your types are very thorough in that regard.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1183577903/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1183604875",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2901#issuecomment-1183604875",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2901",
    "id": 1183604875,
    "node_id": "IC_kwDOB7jojM5GjGCL",
    "user": {
      "login": "GrandSchtroumpf",
      "id": 8143464,
      "node_id": "MDQ6VXNlcjgxNDM0NjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8143464?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/GrandSchtroumpf",
      "html_url": "https://github.com/GrandSchtroumpf",
      "followers_url": "https://api.github.com/users/GrandSchtroumpf/followers",
      "following_url": "https://api.github.com/users/GrandSchtroumpf/following{/other_user}",
      "gists_url": "https://api.github.com/users/GrandSchtroumpf/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/GrandSchtroumpf/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/GrandSchtroumpf/subscriptions",
      "organizations_url": "https://api.github.com/users/GrandSchtroumpf/orgs",
      "repos_url": "https://api.github.com/users/GrandSchtroumpf/repos",
      "events_url": "https://api.github.com/users/GrandSchtroumpf/events{/privacy}",
      "received_events_url": "https://api.github.com/users/GrandSchtroumpf/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-13T19:38:34Z",
    "updated_at": "2022-07-13T19:38:34Z",
    "author_association": "NONE",
    "body": "I started writing these types because most of the lib are using `any[]` for the ABI for the last couple of years.\nMy types are not the long term solution, but maybe it can improve the current state on a short term. The optional fields should cover the different versions for now, until someone put some effort to write a script to generate the types dynamically. Or even better, before the solidity team generate them.\nHonestly if hardhat only implement the types for the ABI I would be very happy already 😀",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1183604875/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1184180559",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2901#issuecomment-1184180559",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2901",
    "id": 1184180559,
    "node_id": "IC_kwDOB7jojM5GlSlP",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-14T08:54:29Z",
    "updated_at": "2022-07-14T08:54:29Z",
    "author_association": "MEMBER",
    "body": "Thanks for the info guys. We definitely need to improve our internal types around this, so we'll use this issue to track that effort. It seems to me that using both libraries somehow could be a good idea.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1184180559/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
