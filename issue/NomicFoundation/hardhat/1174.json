{
  "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1174",
  "repository_url": "https://api.github.com/repos/NomicFoundation/hardhat",
  "labels_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1174/labels{/name}",
  "comments_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1174/comments",
  "events_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1174/events",
  "html_url": "https://github.com/NomicFoundation/hardhat/issues/1174",
  "id": 784159352,
  "node_id": "MDU6SXNzdWU3ODQxNTkzNTI=",
  "number": 1174,
  "title": "HH502: type error resulting in \"couldn't obtain solc version list\"",
  "user": {
    "login": "Shirikatsu",
    "id": 4716816,
    "node_id": "MDQ6VXNlcjQ3MTY4MTY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4716816?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Shirikatsu",
    "html_url": "https://github.com/Shirikatsu",
    "followers_url": "https://api.github.com/users/Shirikatsu/followers",
    "following_url": "https://api.github.com/users/Shirikatsu/following{/other_user}",
    "gists_url": "https://api.github.com/users/Shirikatsu/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Shirikatsu/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Shirikatsu/subscriptions",
    "organizations_url": "https://api.github.com/users/Shirikatsu/orgs",
    "repos_url": "https://api.github.com/users/Shirikatsu/repos",
    "events_url": "https://api.github.com/users/Shirikatsu/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Shirikatsu/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": true,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2021-01-12T11:38:08Z",
  "updated_at": "2022-11-18T18:48:51Z",
  "closed_at": "2021-01-28T21:03:22Z",
  "author_association": "NONE",
  "active_lock_reason": "resolved",
  "body": "Using macOS 10.15.6. I hope this has nothing to do with operating system or this problem would be a massive joke. My colleague does not have any issues of the kind running Ubuntu. Currently this blocks me from doing anything. I will migrate back to Truffle if this isn't solved/solveable.\r\n\r\nUsing `devDependencies`:\r\n\r\n``` json\r\n\"@nomiclabs/hardhat-truffle5\": \"^2.0.0\",\r\n\"@nomiclabs/hardhat-web3\": \"^2.0.0\",\r\n\"hardhat\": \"^2.0.7\",\r\n```\r\n\r\nWith a config file:\r\n\r\n```javascript\r\n/**\r\n * @type import('hardhat/config').HardhatUserConfig\r\n */\r\n\r\nrequire(\"@nomiclabs/hardhat-truffle5\");\r\nrequire(\"@nomiclabs/hardhat-web3\");\r\nrequire(\"solidity-coverage\")\r\n\r\nmodule.exports = {\r\n\r\n  defaultNetwork: \"hardhat\",\r\n  networks: {\r\n    hardhat:{\r\n      gas:\"auto\" //gas limit is set dynamically,\r\n    },\r\n    development: {\r\n     url: \"http://localhost:8545\",             \r\n     network_id: \"*\",     \r\n    },\r\n    soliditycoverage: {\r\n      url: \"http://localhost:8545\",             \r\n      network_id: \"*\",  \r\n    }\r\n  },\r\n\r\n  // Configure your compilers\r\n  solidity: {\r\n    version: \"0.6.2\",    \r\n    settings: {\r\n      optimizer: {\r\n        enabled: true,\r\n        runs: 100\r\n      }\r\n    }\r\n  },\r\n  plugins: [\"solidity-coverage\"]\r\n};\r\n```\r\n\r\nAttempting to compile contracts with `npx hardhat compile --show-stack-traces` results in:\r\n\r\n```bash\r\nError HH502: Couldn't download compiler versions list. Please check your connection.\r\n\r\n{ HardhatError: HH502: Couldn't download compiler versions list. Please check your connection.\r\n    at CompilerDownloader.downloadCompilersList (/Users/Shirikatsu/git/project/node_modules/hardhat/src/internal/solidity/compiler/downloader.ts:185:13)\r\n    at <anonymous>\r\n  parent: TypeError [ERR_INVALID_ARG_TYPE]: The \"original\" argument must be of type Function\r\n    at Object.promisify (internal/util.js:215:11)\r\n    at download (/Users/Shirikatsu/git/project/node_modules/hardhat/src/internal/util/download.ts:13:31)\r\n    at <anonymous>,\r\n  name: 'HardhatError',\r\n  errorDescriptor: \r\n   { number: 502,\r\n     message: 'Couldn\\'t download compiler versions list. Please check your connection.',\r\n     title: 'Couldn\\'t obtain `solc` version list',\r\n     description: 'Couldn\\'t download `solc`\\'s version list. \\n      \\nPlease check your Internet connection.',\r\n     shouldBeReported: false },\r\n  number: 502,\r\n  messageArguments: {},\r\n  _isHardhatError: true }\r\n```\r\n\r\nMy internet connection is fine, hence you being able to read this issue. The error message is clearly incorrect and defaulting to this message due to unexpected errors. Please advise/fix.",
  "closed_by": {
    "login": "Shirikatsu",
    "id": 4716816,
    "node_id": "MDQ6VXNlcjQ3MTY4MTY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4716816?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Shirikatsu",
    "html_url": "https://github.com/Shirikatsu",
    "followers_url": "https://api.github.com/users/Shirikatsu/followers",
    "following_url": "https://api.github.com/users/Shirikatsu/following{/other_user}",
    "gists_url": "https://api.github.com/users/Shirikatsu/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Shirikatsu/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Shirikatsu/subscriptions",
    "organizations_url": "https://api.github.com/users/Shirikatsu/orgs",
    "repos_url": "https://api.github.com/users/Shirikatsu/repos",
    "events_url": "https://api.github.com/users/Shirikatsu/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Shirikatsu/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1174/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1174/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/766780224",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1174#issuecomment-766780224",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1174",
    "id": 766780224,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2Njc4MDIyNA==",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-25T12:24:16Z",
    "updated_at": "2021-01-25T12:24:16Z",
    "author_association": "MEMBER",
    "body": "Hi @Shirikatsu. Are you still having this issue? A lot of Hardhat's users (and part of our team) are on mac, so the OS shouldn't be the problem.\r\n\r\nI agree that the error is misleading if the problem isn't your connection.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/766780224/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/769391756",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1174#issuecomment-769391756",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1174",
    "id": 769391756,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2OTM5MTc1Ng==",
    "user": {
      "login": "Shirikatsu",
      "id": 4716816,
      "node_id": "MDQ6VXNlcjQ3MTY4MTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4716816?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Shirikatsu",
      "html_url": "https://github.com/Shirikatsu",
      "followers_url": "https://api.github.com/users/Shirikatsu/followers",
      "following_url": "https://api.github.com/users/Shirikatsu/following{/other_user}",
      "gists_url": "https://api.github.com/users/Shirikatsu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Shirikatsu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Shirikatsu/subscriptions",
      "organizations_url": "https://api.github.com/users/Shirikatsu/orgs",
      "repos_url": "https://api.github.com/users/Shirikatsu/repos",
      "events_url": "https://api.github.com/users/Shirikatsu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Shirikatsu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-28T21:03:22Z",
    "updated_at": "2021-01-28T21:03:22Z",
    "author_association": "NONE",
    "body": "Thanks for getting back. Not not having this issue anymore. It turned out to be a mismatched version of node causing this issue.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/769391756/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/810060836",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1174#issuecomment-810060836",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1174",
    "id": 810060836,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgxMDA2MDgzNg==",
    "user": {
      "login": "vyorkin",
      "id": 988849,
      "node_id": "MDQ6VXNlcjk4ODg0OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/988849?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vyorkin",
      "html_url": "https://github.com/vyorkin",
      "followers_url": "https://api.github.com/users/vyorkin/followers",
      "following_url": "https://api.github.com/users/vyorkin/following{/other_user}",
      "gists_url": "https://api.github.com/users/vyorkin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vyorkin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vyorkin/subscriptions",
      "organizations_url": "https://api.github.com/users/vyorkin/orgs",
      "repos_url": "https://api.github.com/users/vyorkin/repos",
      "events_url": "https://api.github.com/users/vyorkin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vyorkin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-30T09:18:30Z",
    "updated_at": "2021-03-30T09:20:42Z",
    "author_association": "NONE",
    "body": "Got the same error on NixOS, node v15.11.0, related: #1246 \r\nStacktrace: https://gist.github.com/vyorkin/5f3665275b4942cc93241100d2f3436b\r\nInteresting: it worked when I tried 4 times :)",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/810060836/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
