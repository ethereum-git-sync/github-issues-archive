{
  "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2429",
  "repository_url": "https://api.github.com/repos/NomicFoundation/hardhat",
  "labels_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2429/labels{/name}",
  "comments_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2429/comments",
  "events_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2429/events",
  "html_url": "https://github.com/NomicFoundation/hardhat/issues/2429",
  "id": 1151961562,
  "node_id": "I_kwDOB7jojM5EqYna",
  "number": 2429,
  "title": "@nomiclabs/hardhat-solpp - Upgrade to 0.11.5 as 0.10.1 leads to NodeJS errors.",
  "user": {
    "login": "Cotspheer",
    "id": 4779528,
    "node_id": "MDQ6VXNlcjQ3Nzk1Mjg=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4779528?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Cotspheer",
    "html_url": "https://github.com/Cotspheer",
    "followers_url": "https://api.github.com/users/Cotspheer/followers",
    "following_url": "https://api.github.com/users/Cotspheer/following{/other_user}",
    "gists_url": "https://api.github.com/users/Cotspheer/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Cotspheer/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Cotspheer/subscriptions",
    "organizations_url": "https://api.github.com/users/Cotspheer/orgs",
    "repos_url": "https://api.github.com/users/Cotspheer/repos",
    "events_url": "https://api.github.com/users/Cotspheer/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Cotspheer/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": true,
  "assignee": {
    "login": "feuGeneA",
    "id": 7883777,
    "node_id": "MDQ6VXNlcjc4ODM3Nzc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/7883777?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/feuGeneA",
    "html_url": "https://github.com/feuGeneA",
    "followers_url": "https://api.github.com/users/feuGeneA/followers",
    "following_url": "https://api.github.com/users/feuGeneA/following{/other_user}",
    "gists_url": "https://api.github.com/users/feuGeneA/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/feuGeneA/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/feuGeneA/subscriptions",
    "organizations_url": "https://api.github.com/users/feuGeneA/orgs",
    "repos_url": "https://api.github.com/users/feuGeneA/repos",
    "events_url": "https://api.github.com/users/feuGeneA/events{/privacy}",
    "received_events_url": "https://api.github.com/users/feuGeneA/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "feuGeneA",
      "id": 7883777,
      "node_id": "MDQ6VXNlcjc4ODM3Nzc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7883777?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/feuGeneA",
      "html_url": "https://github.com/feuGeneA",
      "followers_url": "https://api.github.com/users/feuGeneA/followers",
      "following_url": "https://api.github.com/users/feuGeneA/following{/other_user}",
      "gists_url": "https://api.github.com/users/feuGeneA/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/feuGeneA/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/feuGeneA/subscriptions",
      "organizations_url": "https://api.github.com/users/feuGeneA/orgs",
      "repos_url": "https://api.github.com/users/feuGeneA/repos",
      "events_url": "https://api.github.com/users/feuGeneA/events{/privacy}",
      "received_events_url": "https://api.github.com/users/feuGeneA/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2022-02-26T16:32:00Z",
  "updated_at": "2022-11-18T10:03:36Z",
  "closed_at": "2022-03-05T23:35:36Z",
  "author_association": "NONE",
  "active_lock_reason": "resolved",
  "body": "When adding @nomiclabs/hardhat-solpp to my hardhat build environment / build chain it leads to a \"TypeError\".  Followed the guide on https://hardhat.org/plugins/nomiclabs-hardhat-solpp.html.\r\n\r\n## Expected Behavior\r\nIt should compile and call solpp correctly and flatten my solidity based contracts.\r\n\r\n## Current Behavior\r\n```\r\nC:\\Github\\hardhat-playground>npx hardhat compile\r\n\r\nAn unexpected error occurred:\r\n\r\nTypeError: Assignment to constant variable.\r\n    at createRelativePathTest (C:\\Github\\hardhat-playground\\node_modules\\@nomiclabs\\hardhat-solpp\\node_modules\\solpp\\src\\resolver.js:20:23)\r\n    at Object.<anonymous> (C:\\Github\\hardhat-playground\\node_modules\\@nomiclabs\\hardhat-solpp\\node_modules\\solpp\\src\\resolver.js:16:28)\r\n    at Module._compile (internal/modules/cjs/loader.js:1072:14)\r\n    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1101:10)\r\n    at Module.load (internal/modules/cjs/loader.js:937:32)\r\n    at Function.Module._load (internal/modules/cjs/loader.js:778:12)\r\n    at Module.require (internal/modules/cjs/loader.js:961:19)\r\n    at require (internal/modules/cjs/helpers.js:92:18)\r\n    at Object.<anonymous> (C:\\Github\\hardhat-playground\\node_modules\\@nomiclabs\\hardhat-solpp\\node_modules\\solpp\\src\\index.js:5:18)\r\n    at Module._compile (internal/modules/cjs/loader.js:1072:14)\r\n```\r\n\r\n## Possible Solution\r\nThis is as version 0.10.1 tries to assign \"pathSeparator\" on line 20 in resolver.js with a new string value but the variable is imported as const value on line 7. This is corrected at least on version 0.11.4. See also: [Fix assignment to constant variable error](https://github.com/merklejerk/solpp/commit/f21d5d0a16312e5e1c5132a5640d648e9b1a762b).\r\n\r\n## Steps to Reproduce\r\n1. Run npx hardhat\r\n2. Select \"Create an advanced sample project that uses TypeScript\"\r\n4. Add package.json as described below\r\n5. Run npm install\r\n6. Add import \"@nomiclabs/hardhat-solpp\"; below line 6 on hardhat.config.ts\r\n7. Run npx hardhat compile\r\n8. An unexpected error occurred\r\n\r\n## Context (Environment)\r\npackage.json\r\n```\r\n{\r\n  \"name\": \"hardhat-project\",\r\n  \"devDependencies\": {\r\n    \"@nomiclabs/hardhat-ethers\": \"2.0.5\",\r\n    \"@nomiclabs/hardhat-etherscan\": \"3.0.1\",\r\n    \"@nomiclabs/hardhat-solhint\": \"^2.0.0\",\r\n    \"@nomiclabs/hardhat-solpp\": \"2.0.0\",\r\n    \"@nomiclabs/hardhat-waffle\": \"2.0.2\",\r\n    \"@typechain/ethers-v5\": \"9.0.0\",\r\n    \"@typechain/hardhat\": \"4.0.0\",\r\n    \"@types/chai\": \"4.3.0\",\r\n    \"@types/mocha\": \"9.1.0\",\r\n    \"@types/node\": \"17.0.21\",\r\n    \"chai\": \"4.3.6\",\r\n    \"dotenv\": \"16.0.0\",\r\n    \"ethers\": \"5.5.4\",\r\n    \"hardhat\": \"2.8.4\",\r\n    \"hardhat-gas-reporter\": \"1.0.8\",\r\n    \"hardhat-preprocessor\": \"^0.1.4\",\r\n    \"solpp\": \"0.11.5\",\r\n    \"mocha\": \"9.2.1\",\r\n    \"npm-run-all\": \"4.1.5\",\r\n    \"prettier\": \"^2.5.1\",\r\n    \"prettier-plugin-solidity\": \"^1.0.0-beta.19\",\r\n    \"solhint\": \"^3.3.7\",\r\n    \"solhint-plugin-prettier\": \"0.0.5\",\r\n    \"solidity-coverage\": \"^0.7.20\",\r\n    \"ts-node\": \"10.5.0\",\r\n    \"typechain\": \"7.0.0\",\r\n    \"typescript\": \"4.5.5\"\r\n  }\r\n}\r\n```\r\n\r\n## Detailed Description\r\nUpgrade package.json of @nomiclabs/hardhat-solpp to use the latest version.\r\n\r\n",
  "closed_by": {
    "login": "alcuadrado",
    "id": 176499,
    "node_id": "MDQ6VXNlcjE3NjQ5OQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/176499?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/alcuadrado",
    "html_url": "https://github.com/alcuadrado",
    "followers_url": "https://api.github.com/users/alcuadrado/followers",
    "following_url": "https://api.github.com/users/alcuadrado/following{/other_user}",
    "gists_url": "https://api.github.com/users/alcuadrado/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/alcuadrado/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/alcuadrado/subscriptions",
    "organizations_url": "https://api.github.com/users/alcuadrado/orgs",
    "repos_url": "https://api.github.com/users/alcuadrado/repos",
    "events_url": "https://api.github.com/users/alcuadrado/events{/privacy}",
    "received_events_url": "https://api.github.com/users/alcuadrado/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2429/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2429/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1058107422",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2429#issuecomment-1058107422",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2429",
    "id": 1058107422,
    "node_id": "IC_kwDOB7jojM4_EXAe",
    "user": {
      "login": "alcuadrado",
      "id": 176499,
      "node_id": "MDQ6VXNlcjE3NjQ5OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/176499?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alcuadrado",
      "html_url": "https://github.com/alcuadrado",
      "followers_url": "https://api.github.com/users/alcuadrado/followers",
      "following_url": "https://api.github.com/users/alcuadrado/following{/other_user}",
      "gists_url": "https://api.github.com/users/alcuadrado/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alcuadrado/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alcuadrado/subscriptions",
      "organizations_url": "https://api.github.com/users/alcuadrado/orgs",
      "repos_url": "https://api.github.com/users/alcuadrado/repos",
      "events_url": "https://api.github.com/users/alcuadrado/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alcuadrado/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-03-03T14:38:41Z",
    "updated_at": "2022-03-03T14:38:41Z",
    "author_association": "MEMBER",
    "body": "We released a new version. Can you try again with it?",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1058107422/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1059778704",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2429#issuecomment-1059778704",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2429",
    "id": 1059778704,
    "node_id": "IC_kwDOB7jojM4_KvCQ",
    "user": {
      "login": "Cotspheer",
      "id": 4779528,
      "node_id": "MDQ6VXNlcjQ3Nzk1Mjg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4779528?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Cotspheer",
      "html_url": "https://github.com/Cotspheer",
      "followers_url": "https://api.github.com/users/Cotspheer/followers",
      "following_url": "https://api.github.com/users/Cotspheer/following{/other_user}",
      "gists_url": "https://api.github.com/users/Cotspheer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Cotspheer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Cotspheer/subscriptions",
      "organizations_url": "https://api.github.com/users/Cotspheer/orgs",
      "repos_url": "https://api.github.com/users/Cotspheer/repos",
      "events_url": "https://api.github.com/users/Cotspheer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Cotspheer/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-03-05T14:57:44Z",
    "updated_at": "2022-03-05T14:57:44Z",
    "author_association": "NONE",
    "body": "Perfect! That solved it. Thank you!",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1059778704/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
