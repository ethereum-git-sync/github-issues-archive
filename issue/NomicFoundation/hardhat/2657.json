{
  "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2657",
  "repository_url": "https://api.github.com/repos/NomicFoundation/hardhat",
  "labels_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2657/labels{/name}",
  "comments_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2657/comments",
  "events_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2657/events",
  "html_url": "https://github.com/NomicFoundation/hardhat/issues/2657",
  "id": 1221691678,
  "node_id": "I_kwDOB7jojM5I0Yke",
  "number": 2657,
  "title": "optimizer runs affecting tests involving custom errors.",
  "user": {
    "login": "mejango",
    "id": 77952627,
    "node_id": "MDQ6VXNlcjc3OTUyNjI3",
    "avatar_url": "https://avatars.githubusercontent.com/u/77952627?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/mejango",
    "html_url": "https://github.com/mejango",
    "followers_url": "https://api.github.com/users/mejango/followers",
    "following_url": "https://api.github.com/users/mejango/following{/other_user}",
    "gists_url": "https://api.github.com/users/mejango/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/mejango/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mejango/subscriptions",
    "organizations_url": "https://api.github.com/users/mejango/orgs",
    "repos_url": "https://api.github.com/users/mejango/repos",
    "events_url": "https://api.github.com/users/mejango/events{/privacy}",
    "received_events_url": "https://api.github.com/users/mejango/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": true,
  "assignee": {
    "login": "feuGeneA",
    "id": 7883777,
    "node_id": "MDQ6VXNlcjc4ODM3Nzc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/7883777?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/feuGeneA",
    "html_url": "https://github.com/feuGeneA",
    "followers_url": "https://api.github.com/users/feuGeneA/followers",
    "following_url": "https://api.github.com/users/feuGeneA/following{/other_user}",
    "gists_url": "https://api.github.com/users/feuGeneA/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/feuGeneA/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/feuGeneA/subscriptions",
    "organizations_url": "https://api.github.com/users/feuGeneA/orgs",
    "repos_url": "https://api.github.com/users/feuGeneA/repos",
    "events_url": "https://api.github.com/users/feuGeneA/events{/privacy}",
    "received_events_url": "https://api.github.com/users/feuGeneA/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "feuGeneA",
      "id": 7883777,
      "node_id": "MDQ6VXNlcjc4ODM3Nzc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7883777?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/feuGeneA",
      "html_url": "https://github.com/feuGeneA",
      "followers_url": "https://api.github.com/users/feuGeneA/followers",
      "following_url": "https://api.github.com/users/feuGeneA/following{/other_user}",
      "gists_url": "https://api.github.com/users/feuGeneA/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/feuGeneA/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/feuGeneA/subscriptions",
      "organizations_url": "https://api.github.com/users/feuGeneA/orgs",
      "repos_url": "https://api.github.com/users/feuGeneA/repos",
      "events_url": "https://api.github.com/users/feuGeneA/events{/privacy}",
      "received_events_url": "https://api.github.com/users/feuGeneA/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 7,
  "created_at": "2022-04-30T01:58:27Z",
  "updated_at": "2022-11-18T00:17:39Z",
  "closed_at": "2022-06-19T23:32:51Z",
  "author_association": "NONE",
  "active_lock_reason": "resolved",
  "body": "<!--\r\n\r\nThank you for using Hardhat and taking the time to open an issue!\r\n\r\n**Note that this issue tracker is not a support channel.**\r\n\r\n- For help with Hardhat and Hardhat network, please use our [Discord server](https://hardhat.org/discord).\r\n- For help with ethers.js, please go to [its Github Discussions](https://github.com/ethers-io/ethers.js/discussions).\r\n\r\nIf you are reporting a bug, please include reproduction steps. The best way to do this is to include a [Minimal Reproducible Example](https://stackoverflow.com/help/minimal-reproducible-example). If you can't do that, then include a link to your repo, and the steps to reproduce the problem. The easiest it is to reproduce your problem, the faster we are going to be able to fix it.\r\n\r\nIf you are submitting a feature request, please take the time to clearly describe your use case, and not only your proposed solution.\r\n\r\nThis issue will be automatically assigned to a Hardhat team member. This person will act as the point of contact between you and the team, but won't necessarily fix it nor address it in any way. An issue being assigned does not mean that it's being worked on.\r\n\r\n-->\r\n\r\n`yarn test` works on this repo with optimizer runs of 1000000 in hardhat.config.js. breaks with optimizer runs is 10000. Problem seems to be in custom error encoded or something. https://github.com/jbx-protocol/juice-contracts-v2\r\n",
  "closed_by": {
    "login": "github-actions[bot]",
    "id": 41898282,
    "node_id": "MDM6Qm90NDE4OTgyODI=",
    "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/github-actions%5Bbot%5D",
    "html_url": "https://github.com/apps/github-actions",
    "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
    "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
    "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
    "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
    "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
    "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
    "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
    "type": "Bot",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2657/reactions",
    "total_count": 2,
    "+1": 1,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 1,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2657/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1113890401",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2657#issuecomment-1113890401",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2657",
    "id": 1113890401,
    "node_id": "IC_kwDOB7jojM5CZJ5h",
    "user": {
      "login": "github-actions[bot]",
      "id": 41898282,
      "node_id": "MDM6Qm90NDE4OTgyODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/github-actions%5Bbot%5D",
      "html_url": "https://github.com/apps/github-actions",
      "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2022-04-30T01:58:50Z",
    "updated_at": "2022-04-30T01:58:50Z",
    "author_association": "CONTRIBUTOR",
    "body": "This issue is also being [tracked on Linear](https://linear.app/nomic-foundation/issue/HH-589/optimizer-runs-affecting-tests-involving-custom-errors).\n\nWe use Linear to manage our development process, but we keep the conversations on Github.\n\nLINEAR-ID: 5256db1e-8afa-4a6c-b7e1-25eb59dde750",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1113890401/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1115207812",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2657#issuecomment-1115207812",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2657",
    "id": 1115207812,
    "node_id": "IC_kwDOB7jojM5CeLiE",
    "user": {
      "login": "mejango",
      "id": 77952627,
      "node_id": "MDQ6VXNlcjc3OTUyNjI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/77952627?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mejango",
      "html_url": "https://github.com/mejango",
      "followers_url": "https://api.github.com/users/mejango/followers",
      "following_url": "https://api.github.com/users/mejango/following{/other_user}",
      "gists_url": "https://api.github.com/users/mejango/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mejango/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mejango/subscriptions",
      "organizations_url": "https://api.github.com/users/mejango/orgs",
      "repos_url": "https://api.github.com/users/mejango/repos",
      "events_url": "https://api.github.com/users/mejango/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mejango/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-02T18:14:18Z",
    "updated_at": "2022-05-02T18:14:18Z",
    "author_association": "NONE",
    "body": "any updates? eta on looking into this? thanks.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1115207812/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1126375411",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2657#issuecomment-1126375411",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2657",
    "id": 1126375411,
    "node_id": "IC_kwDOB7jojM5DIx_z",
    "user": {
      "login": "feuGeneA",
      "id": 7883777,
      "node_id": "MDQ6VXNlcjc4ODM3Nzc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7883777?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/feuGeneA",
      "html_url": "https://github.com/feuGeneA",
      "followers_url": "https://api.github.com/users/feuGeneA/followers",
      "following_url": "https://api.github.com/users/feuGeneA/following{/other_user}",
      "gists_url": "https://api.github.com/users/feuGeneA/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/feuGeneA/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/feuGeneA/subscriptions",
      "organizations_url": "https://api.github.com/users/feuGeneA/orgs",
      "repos_url": "https://api.github.com/users/feuGeneA/repos",
      "events_url": "https://api.github.com/users/feuGeneA/events{/privacy}",
      "received_events_url": "https://api.github.com/users/feuGeneA/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-13T19:27:09Z",
    "updated_at": "2022-05-13T19:27:09Z",
    "author_association": "CONTRIBUTOR",
    "body": "Thank you for using Hardhat. If there is a problem in Hardhat, we will need to be able to reproduce it before we can fix it. Please provide more information. See https://stackoverflow.com/help/minimal-reproducible-example",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1126375411/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1126532621",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2657#issuecomment-1126532621",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2657",
    "id": 1126532621,
    "node_id": "IC_kwDOB7jojM5DJYYN",
    "user": {
      "login": "mejango",
      "id": 77952627,
      "node_id": "MDQ6VXNlcjc3OTUyNjI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/77952627?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mejango",
      "html_url": "https://github.com/mejango",
      "followers_url": "https://api.github.com/users/mejango/followers",
      "following_url": "https://api.github.com/users/mejango/following{/other_user}",
      "gists_url": "https://api.github.com/users/mejango/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mejango/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mejango/subscriptions",
      "organizations_url": "https://api.github.com/users/mejango/orgs",
      "repos_url": "https://api.github.com/users/mejango/repos",
      "events_url": "https://api.github.com/users/mejango/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mejango/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-13T21:47:50Z",
    "updated_at": "2022-05-13T21:47:50Z",
    "author_association": "NONE",
    "body": "yeah. pull down the repo linked and try to `yarn compile` and `yarn test` with runs set to 1000000 and then try with runs set to 10000. The tests will fail with runs of 10000, and there will be spurious dragon compile warnings on non-test contracts with runs set to 1000000.\r\n\r\nOur work around was to run tests at 1000000, then switch runs to 10000 for deploying. ",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1126532621/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1126561291",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2657#issuecomment-1126561291",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2657",
    "id": 1126561291,
    "node_id": "IC_kwDOB7jojM5DJfYL",
    "user": {
      "login": "feuGeneA",
      "id": 7883777,
      "node_id": "MDQ6VXNlcjc4ODM3Nzc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7883777?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/feuGeneA",
      "html_url": "https://github.com/feuGeneA",
      "followers_url": "https://api.github.com/users/feuGeneA/followers",
      "following_url": "https://api.github.com/users/feuGeneA/following{/other_user}",
      "gists_url": "https://api.github.com/users/feuGeneA/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/feuGeneA/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/feuGeneA/subscriptions",
      "organizations_url": "https://api.github.com/users/feuGeneA/orgs",
      "repos_url": "https://api.github.com/users/feuGeneA/repos",
      "events_url": "https://api.github.com/users/feuGeneA/events{/privacy}",
      "received_events_url": "https://api.github.com/users/feuGeneA/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-13T22:50:59Z",
    "updated_at": "2022-05-13T22:50:59Z",
    "author_association": "CONTRIBUTOR",
    "body": "Thanks for the reply.\r\n\r\nSorry for my generic response. It was a GitHub \"saved reply\".\r\n\r\nWhat I'm looking for is a _minimal_ reproducible example. In general, while it may be easy to _reproduce_ a problem within a larger project like that, it's often times not practical to diagnose and debug in such a project.\r\n\r\nI will try to get to reproducing this next week, but it will be easier to find the time if there's a minimized example. Thanks again.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1126561291/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1153322669",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2657#issuecomment-1153322669",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2657",
    "id": 1153322669,
    "node_id": "IC_kwDOB7jojM5Evk6t",
    "user": {
      "login": "github-actions[bot]",
      "id": 41898282,
      "node_id": "MDM6Qm90NDE4OTgyODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/github-actions%5Bbot%5D",
      "html_url": "https://github.com/apps/github-actions",
      "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2022-06-12T23:32:45Z",
    "updated_at": "2022-06-12T23:32:45Z",
    "author_association": "CONTRIBUTOR",
    "body": "This issue was marked as stale because it didn't have any activity in the last 30 days. If you think it's still relevant, please leave a comment indicating so. Otherwise, it will be closed in 7 days.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1153322669/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1159832172",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2657#issuecomment-1159832172",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2657",
    "id": 1159832172,
    "node_id": "IC_kwDOB7jojM5FIaJs",
    "user": {
      "login": "github-actions[bot]",
      "id": 41898282,
      "node_id": "MDM6Qm90NDE4OTgyODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/github-actions%5Bbot%5D",
      "html_url": "https://github.com/apps/github-actions",
      "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2022-06-19T23:32:50Z",
    "updated_at": "2022-06-19T23:32:50Z",
    "author_association": "CONTRIBUTOR",
    "body": "This issue was closed because it has been stalled for 7 days with no activity.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1159832172/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
