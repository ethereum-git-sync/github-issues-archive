{
  "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2325",
  "repository_url": "https://api.github.com/repos/NomicFoundation/hardhat",
  "labels_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2325/labels{/name}",
  "comments_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2325/comments",
  "events_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2325/events",
  "html_url": "https://github.com/NomicFoundation/hardhat/issues/2325",
  "id": 1122382561,
  "node_id": "I_kwDOB7jojM5C5jLh",
  "number": 2325,
  "title": "ChainId assembly code not deterministic with hardhat forking feature",
  "user": {
    "login": "josojo",
    "id": 7348154,
    "node_id": "MDQ6VXNlcjczNDgxNTQ=",
    "avatar_url": "https://avatars.githubusercontent.com/u/7348154?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/josojo",
    "html_url": "https://github.com/josojo",
    "followers_url": "https://api.github.com/users/josojo/followers",
    "following_url": "https://api.github.com/users/josojo/following{/other_user}",
    "gists_url": "https://api.github.com/users/josojo/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/josojo/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/josojo/subscriptions",
    "organizations_url": "https://api.github.com/users/josojo/orgs",
    "repos_url": "https://api.github.com/users/josojo/repos",
    "events_url": "https://api.github.com/users/josojo/events{/privacy}",
    "received_events_url": "https://api.github.com/users/josojo/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": true,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 16,
  "created_at": "2022-02-02T21:00:45Z",
  "updated_at": "2023-03-29T00:15:35Z",
  "closed_at": "2022-12-28T11:49:55Z",
  "author_association": "NONE",
  "active_lock_reason": "resolved",
  "body": "I found that the chainId return from the following solidity assembly code:\r\n```\r\nassembly {\r\n            id := chainid()\r\n        }\r\n```\r\nis not deterministic, if the \"forking\" mode is used in hardhat. \r\nSee the following  [Minimal Reproducible Example](https://github.com/josojo/hardhat-issue-example).\r\nPlease see the README of the linked repo for a detailed report. I hope that I can contribute to hardhat with this bug report, because hardhat is great.\r\n\r\n",
  "closed_by": {
    "login": "fvictorio",
    "id": 417134,
    "node_id": "MDQ6VXNlcjQxNzEzNA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/fvictorio",
    "html_url": "https://github.com/fvictorio",
    "followers_url": "https://api.github.com/users/fvictorio/followers",
    "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
    "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
    "organizations_url": "https://api.github.com/users/fvictorio/orgs",
    "repos_url": "https://api.github.com/users/fvictorio/repos",
    "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
    "received_events_url": "https://api.github.com/users/fvictorio/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2325/reactions",
    "total_count": 3,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 3,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2325/timeline",
  "performed_via_github_app": null,
  "state_reason": "not_planned"
}
[
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1029014034",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2325#issuecomment-1029014034",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2325",
    "id": 1029014034,
    "node_id": "IC_kwDOB7jojM49VYIS",
    "user": {
      "login": "alcuadrado",
      "id": 176499,
      "node_id": "MDQ6VXNlcjE3NjQ5OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/176499?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alcuadrado",
      "html_url": "https://github.com/alcuadrado",
      "followers_url": "https://api.github.com/users/alcuadrado/followers",
      "following_url": "https://api.github.com/users/alcuadrado/following{/other_user}",
      "gists_url": "https://api.github.com/users/alcuadrado/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alcuadrado/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alcuadrado/subscriptions",
      "organizations_url": "https://api.github.com/users/alcuadrado/orgs",
      "repos_url": "https://api.github.com/users/alcuadrado/repos",
      "events_url": "https://api.github.com/users/alcuadrado/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alcuadrado/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-03T13:54:31Z",
    "updated_at": "2022-02-03T13:54:31Z",
    "author_association": "MEMBER",
    "body": "Hey @josojo, \r\n\r\nThanks for opening this issue and creating a reproduction repo. It was really helpful!\r\n\r\nI can confirm that this is a bug in Hardhat Network. We are running `eth_call`s using the remote network's `chainId`, independently of the block number, which is incorrect.\r\n\r\nThe error is in these lines of code:\r\n\r\nhttps://github.com/nomiclabs/hardhat/blob/master/packages/hardhat-core/src/internal/hardhat-network/provider/node.ts#L2232-L2233\r\n\r\nThe expected behavior is:\r\n\r\n* Use the config's `chainId` for every tx\r\n* Use the remote `chainId` for `eth_call`s with block numbers equal or less than the block you forked from.\r\n* Use the config's `chainId` for `eth_call`s with block numbers greater than the block you forked from.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1029014034/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1126613174",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2325#issuecomment-1126613174",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2325",
    "id": 1126613174,
    "node_id": "IC_kwDOB7jojM5DJsC2",
    "user": {
      "login": "github-actions[bot]",
      "id": 41898282,
      "node_id": "MDM6Qm90NDE4OTgyODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/github-actions%5Bbot%5D",
      "html_url": "https://github.com/apps/github-actions",
      "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2022-05-14T02:14:28Z",
    "updated_at": "2022-05-14T02:14:28Z",
    "author_association": "CONTRIBUTOR",
    "body": "This issue was marked as stale because it didn't have any activity in the last 30 days. If you think it's still relevant, please leave a comment indicating so. Otherwise, it will be closed in 7 days.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1126613174/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1126694734",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2325#issuecomment-1126694734",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2325",
    "id": 1126694734,
    "node_id": "IC_kwDOB7jojM5DJ_9O",
    "user": {
      "login": "josojo",
      "id": 7348154,
      "node_id": "MDQ6VXNlcjczNDgxNTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7348154?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/josojo",
      "html_url": "https://github.com/josojo",
      "followers_url": "https://api.github.com/users/josojo/followers",
      "following_url": "https://api.github.com/users/josojo/following{/other_user}",
      "gists_url": "https://api.github.com/users/josojo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/josojo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/josojo/subscriptions",
      "organizations_url": "https://api.github.com/users/josojo/orgs",
      "repos_url": "https://api.github.com/users/josojo/repos",
      "events_url": "https://api.github.com/users/josojo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/josojo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-14T11:25:26Z",
    "updated_at": "2022-05-14T11:25:26Z",
    "author_association": "NONE",
    "body": "I think its still relevant. We would love to build simulations for the gnosis safe and there it is relevant",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1126694734/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1136396945",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2325#issuecomment-1136396945",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2325",
    "id": 1136396945,
    "node_id": "IC_kwDOB7jojM5DvAqR",
    "user": {
      "login": "kasperpawlowski",
      "id": 25374117,
      "node_id": "MDQ6VXNlcjI1Mzc0MTE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/25374117?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kasperpawlowski",
      "html_url": "https://github.com/kasperpawlowski",
      "followers_url": "https://api.github.com/users/kasperpawlowski/followers",
      "following_url": "https://api.github.com/users/kasperpawlowski/following{/other_user}",
      "gists_url": "https://api.github.com/users/kasperpawlowski/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kasperpawlowski/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kasperpawlowski/subscriptions",
      "organizations_url": "https://api.github.com/users/kasperpawlowski/orgs",
      "repos_url": "https://api.github.com/users/kasperpawlowski/repos",
      "events_url": "https://api.github.com/users/kasperpawlowski/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kasperpawlowski/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-24T20:24:42Z",
    "updated_at": "2022-05-24T20:24:42Z",
    "author_association": "NONE",
    "body": "It seems that this issue has been resolved in the latest release - 2.9.6",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1136396945/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1136444096",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2325#issuecomment-1136444096",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2325",
    "id": 1136444096,
    "node_id": "IC_kwDOB7jojM5DvMLA",
    "user": {
      "login": "alcuadrado",
      "id": 176499,
      "node_id": "MDQ6VXNlcjE3NjQ5OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/176499?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alcuadrado",
      "html_url": "https://github.com/alcuadrado",
      "followers_url": "https://api.github.com/users/alcuadrado/followers",
      "following_url": "https://api.github.com/users/alcuadrado/following{/other_user}",
      "gists_url": "https://api.github.com/users/alcuadrado/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alcuadrado/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alcuadrado/subscriptions",
      "organizations_url": "https://api.github.com/users/alcuadrado/orgs",
      "repos_url": "https://api.github.com/users/alcuadrado/repos",
      "events_url": "https://api.github.com/users/alcuadrado/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alcuadrado/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-24T21:21:49Z",
    "updated_at": "2022-05-24T21:21:49Z",
    "author_association": "MEMBER",
    "body": "That's right, @kasperpawlowski. Can you try with 2.9.6, @josojo?",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1136444096/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1136454206",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2325#issuecomment-1136454206",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2325",
    "id": 1136454206,
    "node_id": "IC_kwDOB7jojM5DvOo-",
    "user": {
      "login": "kasperpawlowski",
      "id": 25374117,
      "node_id": "MDQ6VXNlcjI1Mzc0MTE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/25374117?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kasperpawlowski",
      "html_url": "https://github.com/kasperpawlowski",
      "followers_url": "https://api.github.com/users/kasperpawlowski/followers",
      "following_url": "https://api.github.com/users/kasperpawlowski/following{/other_user}",
      "gists_url": "https://api.github.com/users/kasperpawlowski/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kasperpawlowski/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kasperpawlowski/subscriptions",
      "organizations_url": "https://api.github.com/users/kasperpawlowski/orgs",
      "repos_url": "https://api.github.com/users/kasperpawlowski/repos",
      "events_url": "https://api.github.com/users/kasperpawlowski/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kasperpawlowski/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-24T21:35:13Z",
    "updated_at": "2022-05-24T21:36:24Z",
    "author_association": "NONE",
    "body": "As I have your attention here @alcuadrado, could you look at issue #2753 that I just opened? It's related to this one.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1136454206/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1136461658",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2325#issuecomment-1136461658",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2325",
    "id": 1136461658,
    "node_id": "IC_kwDOB7jojM5DvQda",
    "user": {
      "login": "alcuadrado",
      "id": 176499,
      "node_id": "MDQ6VXNlcjE3NjQ5OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/176499?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alcuadrado",
      "html_url": "https://github.com/alcuadrado",
      "followers_url": "https://api.github.com/users/alcuadrado/followers",
      "following_url": "https://api.github.com/users/alcuadrado/following{/other_user}",
      "gists_url": "https://api.github.com/users/alcuadrado/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alcuadrado/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alcuadrado/subscriptions",
      "organizations_url": "https://api.github.com/users/alcuadrado/orgs",
      "repos_url": "https://api.github.com/users/alcuadrado/repos",
      "events_url": "https://api.github.com/users/alcuadrado/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alcuadrado/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-24T21:45:53Z",
    "updated_at": "2022-05-24T21:45:53Z",
    "author_association": "MEMBER",
    "body": "Yes, it is related to this one. I'll take a look at it tomorrow. I believe we have different expectations of what should happen in that case. If you could explain yours, or better yet, create a reproduction repository/script, that would be extremely useuful.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1136461658/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1136516400",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2325#issuecomment-1136516400",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2325",
    "id": 1136516400,
    "node_id": "IC_kwDOB7jojM5Dvd0w",
    "user": {
      "login": "kasperpawlowski",
      "id": 25374117,
      "node_id": "MDQ6VXNlcjI1Mzc0MTE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/25374117?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kasperpawlowski",
      "html_url": "https://github.com/kasperpawlowski",
      "followers_url": "https://api.github.com/users/kasperpawlowski/followers",
      "following_url": "https://api.github.com/users/kasperpawlowski/following{/other_user}",
      "gists_url": "https://api.github.com/users/kasperpawlowski/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kasperpawlowski/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kasperpawlowski/subscriptions",
      "organizations_url": "https://api.github.com/users/kasperpawlowski/orgs",
      "repos_url": "https://api.github.com/users/kasperpawlowski/repos",
      "events_url": "https://api.github.com/users/kasperpawlowski/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kasperpawlowski/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-24T23:05:46Z",
    "updated_at": "2022-05-24T23:08:25Z",
    "author_association": "NONE",
    "body": "Yes, I created reproduction repository and proposed a bug fix. I believe that this time it's pure oversight. The logic was written in a way that when `_forkBlockNumber` is undefined, `_forkNetworkId` is returned as `chainId` which shoudln't be the case I guess.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1136516400/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1140291915",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2325#issuecomment-1140291915",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2325",
    "id": 1140291915,
    "node_id": "IC_kwDOB7jojM5D93lL",
    "user": {
      "login": "rodrigoherrerai",
      "id": 80117772,
      "node_id": "MDQ6VXNlcjgwMTE3Nzcy",
      "avatar_url": "https://avatars.githubusercontent.com/u/80117772?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rodrigoherrerai",
      "html_url": "https://github.com/rodrigoherrerai",
      "followers_url": "https://api.github.com/users/rodrigoherrerai/followers",
      "following_url": "https://api.github.com/users/rodrigoherrerai/following{/other_user}",
      "gists_url": "https://api.github.com/users/rodrigoherrerai/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rodrigoherrerai/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rodrigoherrerai/subscriptions",
      "organizations_url": "https://api.github.com/users/rodrigoherrerai/orgs",
      "repos_url": "https://api.github.com/users/rodrigoherrerai/repos",
      "events_url": "https://api.github.com/users/rodrigoherrerai/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rodrigoherrerai/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-28T16:20:34Z",
    "updated_at": "2022-05-28T16:20:34Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hello. Related to this issue, I have a very annoying problem. \r\n\r\nWhen running normal tests (no mainnet-forking), the result of \"block.chainid\" is 0.\r\n\r\nI have been trying to debug this for a while, but I have no clue what the issue is. \r\n",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1140291915/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1140293463",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2325#issuecomment-1140293463",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2325",
    "id": 1140293463,
    "node_id": "IC_kwDOB7jojM5D939X",
    "user": {
      "login": "rodrigoherrerai",
      "id": 80117772,
      "node_id": "MDQ6VXNlcjgwMTE3Nzcy",
      "avatar_url": "https://avatars.githubusercontent.com/u/80117772?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rodrigoherrerai",
      "html_url": "https://github.com/rodrigoherrerai",
      "followers_url": "https://api.github.com/users/rodrigoherrerai/followers",
      "following_url": "https://api.github.com/users/rodrigoherrerai/following{/other_user}",
      "gists_url": "https://api.github.com/users/rodrigoherrerai/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rodrigoherrerai/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rodrigoherrerai/subscriptions",
      "organizations_url": "https://api.github.com/users/rodrigoherrerai/orgs",
      "repos_url": "https://api.github.com/users/rodrigoherrerai/repos",
      "events_url": "https://api.github.com/users/rodrigoherrerai/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rodrigoherrerai/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-28T16:31:53Z",
    "updated_at": "2022-05-28T16:31:53Z",
    "author_association": "CONTRIBUTOR",
    "body": "Here is simple reproduction of the error: https://github.com/rodrigoherrerai/hardhat-chainid/tree/master",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1140293463/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1140293563",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2325#issuecomment-1140293563",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2325",
    "id": 1140293563,
    "node_id": "IC_kwDOB7jojM5D93-7",
    "user": {
      "login": "kasperpawlowski",
      "id": 25374117,
      "node_id": "MDQ6VXNlcjI1Mzc0MTE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/25374117?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kasperpawlowski",
      "html_url": "https://github.com/kasperpawlowski",
      "followers_url": "https://api.github.com/users/kasperpawlowski/followers",
      "following_url": "https://api.github.com/users/kasperpawlowski/following{/other_user}",
      "gists_url": "https://api.github.com/users/kasperpawlowski/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kasperpawlowski/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kasperpawlowski/subscriptions",
      "organizations_url": "https://api.github.com/users/kasperpawlowski/orgs",
      "repos_url": "https://api.github.com/users/kasperpawlowski/repos",
      "events_url": "https://api.github.com/users/kasperpawlowski/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kasperpawlowski/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-28T16:32:36Z",
    "updated_at": "2022-05-28T16:32:36Z",
    "author_association": "NONE",
    "body": "@rodrigoherrerai check that out and let me know if your observations are the same. You can also try the solution I proposed\r\n#2753 ",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1140293563/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1140294631",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2325#issuecomment-1140294631",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2325",
    "id": 1140294631,
    "node_id": "IC_kwDOB7jojM5D94Pn",
    "user": {
      "login": "rodrigoherrerai",
      "id": 80117772,
      "node_id": "MDQ6VXNlcjgwMTE3Nzcy",
      "avatar_url": "https://avatars.githubusercontent.com/u/80117772?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rodrigoherrerai",
      "html_url": "https://github.com/rodrigoherrerai",
      "followers_url": "https://api.github.com/users/rodrigoherrerai/followers",
      "following_url": "https://api.github.com/users/rodrigoherrerai/following{/other_user}",
      "gists_url": "https://api.github.com/users/rodrigoherrerai/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rodrigoherrerai/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rodrigoherrerai/subscriptions",
      "organizations_url": "https://api.github.com/users/rodrigoherrerai/orgs",
      "repos_url": "https://api.github.com/users/rodrigoherrerai/repos",
      "events_url": "https://api.github.com/users/rodrigoherrerai/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rodrigoherrerai/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-28T16:40:35Z",
    "updated_at": "2022-05-28T16:40:35Z",
    "author_association": "CONTRIBUTOR",
    "body": "@kasperpawlowski Hi ! By the solution, do you mean the pr to Hardhat directly ? Or you had a workaround this issue  for your tests ?",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1140294631/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1140296112",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2325#issuecomment-1140296112",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2325",
    "id": 1140296112,
    "node_id": "IC_kwDOB7jojM5D94mw",
    "user": {
      "login": "rodrigoherrerai",
      "id": 80117772,
      "node_id": "MDQ6VXNlcjgwMTE3Nzcy",
      "avatar_url": "https://avatars.githubusercontent.com/u/80117772?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rodrigoherrerai",
      "html_url": "https://github.com/rodrigoherrerai",
      "followers_url": "https://api.github.com/users/rodrigoherrerai/followers",
      "following_url": "https://api.github.com/users/rodrigoherrerai/following{/other_user}",
      "gists_url": "https://api.github.com/users/rodrigoherrerai/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rodrigoherrerai/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rodrigoherrerai/subscriptions",
      "organizations_url": "https://api.github.com/users/rodrigoherrerai/orgs",
      "repos_url": "https://api.github.com/users/rodrigoherrerai/repos",
      "events_url": "https://api.github.com/users/rodrigoherrerai/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rodrigoherrerai/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-28T16:51:03Z",
    "updated_at": "2022-05-28T16:51:03Z",
    "author_association": "CONTRIBUTOR",
    "body": "So I tried an older version and it worked. I don't know the exact version that broke this, but the latest version def doesn't work. It is broken for mainnet-forking and for hardhat-network testing. ",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1140296112/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1140296659",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2325#issuecomment-1140296659",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2325",
    "id": 1140296659,
    "node_id": "IC_kwDOB7jojM5D94vT",
    "user": {
      "login": "rodrigoherrerai",
      "id": 80117772,
      "node_id": "MDQ6VXNlcjgwMTE3Nzcy",
      "avatar_url": "https://avatars.githubusercontent.com/u/80117772?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rodrigoherrerai",
      "html_url": "https://github.com/rodrigoherrerai",
      "followers_url": "https://api.github.com/users/rodrigoherrerai/followers",
      "following_url": "https://api.github.com/users/rodrigoherrerai/following{/other_user}",
      "gists_url": "https://api.github.com/users/rodrigoherrerai/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rodrigoherrerai/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rodrigoherrerai/subscriptions",
      "organizations_url": "https://api.github.com/users/rodrigoherrerai/orgs",
      "repos_url": "https://api.github.com/users/rodrigoherrerai/repos",
      "events_url": "https://api.github.com/users/rodrigoherrerai/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rodrigoherrerai/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-28T16:54:58Z",
    "updated_at": "2022-05-28T16:54:58Z",
    "author_association": "CONTRIBUTOR",
    "body": "It was actually the latest version  the one that caused this error. Version 2.9.5 works fine.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1140296659/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1140299190",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2325#issuecomment-1140299190",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2325",
    "id": 1140299190,
    "node_id": "IC_kwDOB7jojM5D95W2",
    "user": {
      "login": "kasperpawlowski",
      "id": 25374117,
      "node_id": "MDQ6VXNlcjI1Mzc0MTE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/25374117?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kasperpawlowski",
      "html_url": "https://github.com/kasperpawlowski",
      "followers_url": "https://api.github.com/users/kasperpawlowski/followers",
      "following_url": "https://api.github.com/users/kasperpawlowski/following{/other_user}",
      "gists_url": "https://api.github.com/users/kasperpawlowski/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kasperpawlowski/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kasperpawlowski/subscriptions",
      "organizations_url": "https://api.github.com/users/kasperpawlowski/orgs",
      "repos_url": "https://api.github.com/users/kasperpawlowski/repos",
      "events_url": "https://api.github.com/users/kasperpawlowski/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kasperpawlowski/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-28T17:12:20Z",
    "updated_at": "2022-05-28T17:12:20Z",
    "author_association": "NONE",
    "body": "@rodrigoherrerai I haven't created a PR yet as I wanted to discuss it under the issue I created. Check out this:\r\nhttps://github.com/NomicFoundation/hardhat/compare/master...kasperpawlowski:fix-chainId?expand=1\r\n\r\nis seems that it's enough to update the `packages/hardhat-core/src/internal/hardhat-network/provider/node.ts` as showed in the commit above",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1140299190/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1366593189",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2325#issuecomment-1366593189",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2325",
    "id": 1366593189,
    "node_id": "IC_kwDOB7jojM5RdI6l",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-12-28T11:49:55Z",
    "updated_at": "2022-12-28T11:49:55Z",
    "author_association": "MEMBER",
    "body": "I confirm this is still happening in the latest version of Hardhat.\r\n\r\nClosing in favor of https://github.com/NomicFoundation/hardhat/issues/3481 for bookkeeping reasons.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1366593189/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
