{
  "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3934",
  "repository_url": "https://api.github.com/repos/NomicFoundation/hardhat",
  "labels_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3934/labels{/name}",
  "comments_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3934/comments",
  "events_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3934/events",
  "html_url": "https://github.com/NomicFoundation/hardhat/issues/3934",
  "id": 1711472120,
  "node_id": "I_kwDOB7jojM5mAv34",
  "number": 3934,
  "title": "Access List (EIP-2930)",
  "user": {
    "login": "barakman",
    "id": 7003246,
    "node_id": "MDQ6VXNlcjcwMDMyNDY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/7003246?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/barakman",
    "html_url": "https://github.com/barakman",
    "followers_url": "https://api.github.com/users/barakman/followers",
    "following_url": "https://api.github.com/users/barakman/following{/other_user}",
    "gists_url": "https://api.github.com/users/barakman/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/barakman/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/barakman/subscriptions",
    "organizations_url": "https://api.github.com/users/barakman/orgs",
    "repos_url": "https://api.github.com/users/barakman/repos",
    "events_url": "https://api.github.com/users/barakman/events{/privacy}",
    "received_events_url": "https://api.github.com/users/barakman/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 4937119027,
      "node_id": "LA_kwDOB7jojM8AAAABJkZ1Mw",
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/labels/status:triaging",
      "name": "status:triaging",
      "color": "0E8A16",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": true,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2023-05-16T08:02:36Z",
  "updated_at": "2023-08-15T00:12:19Z",
  "closed_at": "2023-05-16T17:20:53Z",
  "author_association": "NONE",
  "active_lock_reason": "resolved",
  "body": "### Describe the feature\r\n\r\n[EIP 2930](https://eips.ethereum.org/EIPS/eip-2930) adds a transaction type which contains a list of addresses and storage keys that the transaction plans to access, AKA *Access List*.\r\n\r\nAll slots in the list are paid in advance, at a discount relative to the cost of accessing those not in the list.\r\nOf course, any slot specified in the list but not accessed during the transaction, will be \"paid for nothing\".\r\n\r\nAn example of a transaction which specifies an access list:\r\n```\r\nconst tx = {\r\n    from: walletAddress,\r\n    to: contractAddress,\r\n    data: transactionData,\r\n    value: 0,\r\n    type: 1,\r\n    accessList: [\r\n        {\r\n            address: contractAddress,\r\n            storageKeys: [\r\n                \"0x0000000000000000000000000000000000000000000000000000000000000042\",\r\n                \"0x0000000000000000000000000000000000000000000000000000000000000053\",\r\n            ],\r\n        },\r\n        {\r\n            address: usdcTokenAddress,\r\n            storageKeys: [\r\n                \"0x0000000000000000000000000000000000000000000000000000000000000000\",\r\n                \"0x0000000000000000000000000000000000000000000000000000000000000001\",\r\n                \"0x0000000000000000000000000000000000000000000000000000000000000002\",\r\n            ],\r\n        },\r\n    ],\r\n};\r\n```\r\n\r\nThe primary difficulty is of course computing the access-list for a specific transaction in advance, as there may be several different contracts involved in the transaction, and in each one of them, different storage slots may be accessed depending on the specific details of the transaction.\r\n\r\nLuckily, the Go-Ethereum (GETH) client supports the `eth_createAccessList` RPC method for conveniently determining the list of all storage slots expected to be accessed during a given transaction.\r\n\r\nYou can find an example of this in [web3.js](https://web3js.readthedocs.io/en/v1.7.0/web3-eth.html#createaccesslist).\r\nI'm not sure whether or not ethers.js (which HardHat relies on as its Web3 backbone) supports this method as well.\r\n\r\nHardHat already supports [various JSON RPC methods](https://hardhat.org/hardhat-network/docs/reference#json-rpc-methods-support).\r\n\r\nI would like to request adding support also for the `eth_createAccessList` RPC method.\r\n\r\nThanks\r\n\r\n### Search terms\r\n\r\nEIP-2930, Access List, eth_createAccessList",
  "closed_by": {
    "login": "fvictorio",
    "id": 417134,
    "node_id": "MDQ6VXNlcjQxNzEzNA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/fvictorio",
    "html_url": "https://github.com/fvictorio",
    "followers_url": "https://api.github.com/users/fvictorio/followers",
    "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
    "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
    "organizations_url": "https://api.github.com/users/fvictorio/orgs",
    "repos_url": "https://api.github.com/users/fvictorio/repos",
    "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
    "received_events_url": "https://api.github.com/users/fvictorio/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3934/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3934/timeline",
  "performed_via_github_app": null,
  "state_reason": "not_planned"
}
[
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1550072573",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3934#issuecomment-1550072573",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3934",
    "id": 1550072573,
    "node_id": "IC_kwDOB7jojM5cZDr9",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-16T17:20:52Z",
    "updated_at": "2023-05-16T17:20:52Z",
    "author_association": "MEMBER",
    "body": "Hi @barakman, https://github.com/NomicFoundation/hardhat/issues/1423 already tracks this. I'm going to close this as a duplicate, but please upvote/comment there to signal that you want this.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1550072573/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
