{
  "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3792",
  "repository_url": "https://api.github.com/repos/NomicFoundation/hardhat",
  "labels_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3792/labels{/name}",
  "comments_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3792/comments",
  "events_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3792/events",
  "html_url": "https://github.com/NomicFoundation/hardhat/issues/3792",
  "id": 1640615340,
  "node_id": "I_kwDOB7jojM5hyc2s",
  "number": 3792,
  "title": "revertedWithCustomError for truffle contracts and web3",
  "user": {
    "login": "lhemerly",
    "id": 10237960,
    "node_id": "MDQ6VXNlcjEwMjM3OTYw",
    "avatar_url": "https://avatars.githubusercontent.com/u/10237960?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/lhemerly",
    "html_url": "https://github.com/lhemerly",
    "followers_url": "https://api.github.com/users/lhemerly/followers",
    "following_url": "https://api.github.com/users/lhemerly/following{/other_user}",
    "gists_url": "https://api.github.com/users/lhemerly/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/lhemerly/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/lhemerly/subscriptions",
    "organizations_url": "https://api.github.com/users/lhemerly/orgs",
    "repos_url": "https://api.github.com/users/lhemerly/repos",
    "events_url": "https://api.github.com/users/lhemerly/events{/privacy}",
    "received_events_url": "https://api.github.com/users/lhemerly/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 4937119027,
      "node_id": "LA_kwDOB7jojM8AAAABJkZ1Mw",
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/labels/status:triaging",
      "name": "status:triaging",
      "color": "0E8A16",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2023-03-25T18:25:58Z",
  "updated_at": "2023-04-04T10:07:17Z",
  "closed_at": "2023-04-04T10:07:17Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "### Describe the feature\n\n**Issue:**\r\nThe revertedWithCustomError helper in chai matchers calls .interface from the contract, but this property only exists in Ethers. It is usual to run tests with truffle contract abstractions. Making it a web3.js contract won't work either.\r\n\r\n**Suggested fix:**\r\nThe revertedWithCustomError should receive the contract ABI, not the contract object, as the contract ABI is default for all libraries.\r\n\r\nIf you agree I can start working on the fix.\n\n### Search terms\n\ncustom error truffle web3",
  "closed_by": {
    "login": "fvictorio",
    "id": 417134,
    "node_id": "MDQ6VXNlcjQxNzEzNA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/fvictorio",
    "html_url": "https://github.com/fvictorio",
    "followers_url": "https://api.github.com/users/fvictorio/followers",
    "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
    "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
    "organizations_url": "https://api.github.com/users/fvictorio/orgs",
    "repos_url": "https://api.github.com/users/fvictorio/repos",
    "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
    "received_events_url": "https://api.github.com/users/fvictorio/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3792/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3792/timeline",
  "performed_via_github_app": null,
  "state_reason": "not_planned"
}
[
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1495696865",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3792#issuecomment-1495696865",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3792",
    "id": 1495696865,
    "node_id": "IC_kwDOB7jojM5ZJoXh",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-04T10:07:16Z",
    "updated_at": "2023-04-04T10:07:16Z",
    "author_association": "MEMBER",
    "body": "Hi @lhemerly. The chai matchers are meant to be used with ethers, and we don't have plans to add support for web3 or truffle contracts. We should be clearer about that in our docs (I created [an issue](https://github.com/NomicFoundation/hardhat/issues/3812) for that), but right now we consider this out of scope for the plugin. Sorry!",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1495696865/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
