{
  "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2798",
  "repository_url": "https://api.github.com/repos/NomicFoundation/hardhat",
  "labels_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2798/labels{/name}",
  "comments_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2798/comments",
  "events_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2798/events",
  "html_url": "https://github.com/NomicFoundation/hardhat/issues/2798",
  "id": 1262699834,
  "node_id": "I_kwDOB7jojM5LQ0U6",
  "number": 2798,
  "title": "sh: hardhat: command not found",
  "user": {
    "login": "fennar01",
    "id": 42185291,
    "node_id": "MDQ6VXNlcjQyMTg1Mjkx",
    "avatar_url": "https://avatars.githubusercontent.com/u/42185291?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/fennar01",
    "html_url": "https://github.com/fennar01",
    "followers_url": "https://api.github.com/users/fennar01/followers",
    "following_url": "https://api.github.com/users/fennar01/following{/other_user}",
    "gists_url": "https://api.github.com/users/fennar01/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/fennar01/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/fennar01/subscriptions",
    "organizations_url": "https://api.github.com/users/fennar01/orgs",
    "repos_url": "https://api.github.com/users/fennar01/repos",
    "events_url": "https://api.github.com/users/fennar01/events{/privacy}",
    "received_events_url": "https://api.github.com/users/fennar01/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": true,
  "assignee": {
    "login": "feuGeneA",
    "id": 7883777,
    "node_id": "MDQ6VXNlcjc4ODM3Nzc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/7883777?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/feuGeneA",
    "html_url": "https://github.com/feuGeneA",
    "followers_url": "https://api.github.com/users/feuGeneA/followers",
    "following_url": "https://api.github.com/users/feuGeneA/following{/other_user}",
    "gists_url": "https://api.github.com/users/feuGeneA/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/feuGeneA/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/feuGeneA/subscriptions",
    "organizations_url": "https://api.github.com/users/feuGeneA/orgs",
    "repos_url": "https://api.github.com/users/feuGeneA/repos",
    "events_url": "https://api.github.com/users/feuGeneA/events{/privacy}",
    "received_events_url": "https://api.github.com/users/feuGeneA/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "feuGeneA",
      "id": 7883777,
      "node_id": "MDQ6VXNlcjc4ODM3Nzc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7883777?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/feuGeneA",
      "html_url": "https://github.com/feuGeneA",
      "followers_url": "https://api.github.com/users/feuGeneA/followers",
      "following_url": "https://api.github.com/users/feuGeneA/following{/other_user}",
      "gists_url": "https://api.github.com/users/feuGeneA/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/feuGeneA/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/feuGeneA/subscriptions",
      "organizations_url": "https://api.github.com/users/feuGeneA/orgs",
      "repos_url": "https://api.github.com/users/feuGeneA/repos",
      "events_url": "https://api.github.com/users/feuGeneA/events{/privacy}",
      "received_events_url": "https://api.github.com/users/feuGeneA/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2022-06-07T04:16:15Z",
  "updated_at": "2022-11-18T00:17:16Z",
  "closed_at": "2022-06-07T05:35:41Z",
  "author_association": "NONE",
  "active_lock_reason": "resolved",
  "body": "Hi there, I think I've managed to stumble upon a bit of an obscure bug. \r\n\r\nI've been working on fixing it for the past couple of days and I've also had some assistance - it appears to be a HH issue but we're having trouble reproducing it anywhere outside of my local machine.\r\n\r\nEssentially I keep getting the error \"sh: hardhat: command not found\" when issuing a \"npx hardhat clear\" command from my HH directory.\r\n\r\nI've been installing it using both npm and yarn (independently at first, I've also tested together) using dev flags, and both installs exit with code 127 at different places. \r\n\r\nI can get hardhat to fire if I install it in a parent directory, however, it only fires once, then after that, it just gives me a HH12 error even though I've not got HH installed globally.\r\n\r\nAfter reading the install logs, it appears \"utf-8-validate\" can't install correctly via npm or yarn which is a bit annoying.\r\n\r\nHeads up I'm using:\r\nmacOS Monterey V12.4\r\nnode v16\r\n\r\nWe've also tried [cloning a repo we know is working](https://github.com/YonTracks/smartcontracts), and after trying to build from there, it's giving us the same output \"sh: hardhat: command not found\".\r\n\r\nI've also tried totally reinstalling node and nvm.\r\n\r\nI've been having a bit of trouble with this one, and even after investigation, I'm coming up blank - the only deduction myself and [another dev](https://github.com/YonTracks) have made is that it appears to be localized to my machine, difficult to reproduce and have something to do with node and hardhat. We're not sure why it's happening, but after looking on [stack exchange](https://stackoverflow.com/questions/70858571/sh-hardhat-command-not-found-when-installing-hardhat), I'm not the only one who's experiencing it!\r\n\r\n\r\n\r\n<!--\r\n\r\nThank you for using Hardhat and taking the time to open an issue!\r\n\r\n**Note that this issue tracker is not a support channel.**\r\n\r\n- For help with Hardhat and Hardhat network, please use our [Discord server](https://hardhat.org/discord).\r\n- For help with ethers.js, please go to [its Github Discussions](https://github.com/ethers-io/ethers.js/discussions).\r\n\r\nIf you are reporting a bug, please include reproduction steps. The best way to do this is to include a [Minimal Reproducible Example](https://stackoverflow.com/help/minimal-reproducible-example). If you can't do that, then include a link to your repo, and the steps to reproduce the problem. The easiest it is to reproduce your problem, the faster we are going to be able to fix it.\r\n\r\nIf you are submitting a feature request, please take the time to clearly describe your use case, and not only your proposed solution.\r\n\r\nThis issue will be automatically assigned to a Hardhat team member. This person will act as the point of contact between you and the team, but won't necessarily fix it nor address it in any way. An issue being assigned does not mean that it's being worked on.\r\n\r\n-->\r\n",
  "closed_by": {
    "login": "fennar01",
    "id": 42185291,
    "node_id": "MDQ6VXNlcjQyMTg1Mjkx",
    "avatar_url": "https://avatars.githubusercontent.com/u/42185291?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/fennar01",
    "html_url": "https://github.com/fennar01",
    "followers_url": "https://api.github.com/users/fennar01/followers",
    "following_url": "https://api.github.com/users/fennar01/following{/other_user}",
    "gists_url": "https://api.github.com/users/fennar01/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/fennar01/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/fennar01/subscriptions",
    "organizations_url": "https://api.github.com/users/fennar01/orgs",
    "repos_url": "https://api.github.com/users/fennar01/repos",
    "events_url": "https://api.github.com/users/fennar01/events{/privacy}",
    "received_events_url": "https://api.github.com/users/fennar01/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2798/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2798/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1148176277",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2798#issuecomment-1148176277",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2798",
    "id": 1148176277,
    "node_id": "IC_kwDOB7jojM5Eb8eV",
    "user": {
      "login": "github-actions[bot]",
      "id": 41898282,
      "node_id": "MDM6Qm90NDE4OTgyODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/github-actions%5Bbot%5D",
      "html_url": "https://github.com/apps/github-actions",
      "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2022-06-07T04:16:51Z",
    "updated_at": "2022-06-07T04:16:51Z",
    "author_association": "CONTRIBUTOR",
    "body": "This issue is also being [tracked on Linear](https://linear.app/nomic-foundation/issue/HH-764/sh-hardhat-command-not-found-[nomicfoundationhardhat2798]).\n\nWe use Linear to manage our development process, but we keep the conversations on Github.\n\nLINEAR-ID: b7ce77c3-1f50-4128-b201-c542323d14f3",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1148176277/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1148217158",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2798#issuecomment-1148217158",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2798",
    "id": 1148217158,
    "node_id": "IC_kwDOB7jojM5EcGdG",
    "user": {
      "login": "fennar01",
      "id": 42185291,
      "node_id": "MDQ6VXNlcjQyMTg1Mjkx",
      "avatar_url": "https://avatars.githubusercontent.com/u/42185291?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fennar01",
      "html_url": "https://github.com/fennar01",
      "followers_url": "https://api.github.com/users/fennar01/followers",
      "following_url": "https://api.github.com/users/fennar01/following{/other_user}",
      "gists_url": "https://api.github.com/users/fennar01/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fennar01/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fennar01/subscriptions",
      "organizations_url": "https://api.github.com/users/fennar01/orgs",
      "repos_url": "https://api.github.com/users/fennar01/repos",
      "events_url": "https://api.github.com/users/fennar01/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fennar01/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-07T05:35:47Z",
    "updated_at": "2022-06-07T05:35:47Z",
    "author_association": "NONE",
    "body": "Resolved",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1148217158/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1178305261",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2798#issuecomment-1178305261",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2798",
    "id": 1178305261,
    "node_id": "IC_kwDOB7jojM5GO4Lt",
    "user": {
      "login": "davidAI04",
      "id": 35605949,
      "node_id": "MDQ6VXNlcjM1NjA1OTQ5",
      "avatar_url": "https://avatars.githubusercontent.com/u/35605949?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/davidAI04",
      "html_url": "https://github.com/davidAI04",
      "followers_url": "https://api.github.com/users/davidAI04/followers",
      "following_url": "https://api.github.com/users/davidAI04/following{/other_user}",
      "gists_url": "https://api.github.com/users/davidAI04/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/davidAI04/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/davidAI04/subscriptions",
      "organizations_url": "https://api.github.com/users/davidAI04/orgs",
      "repos_url": "https://api.github.com/users/davidAI04/repos",
      "events_url": "https://api.github.com/users/davidAI04/events{/privacy}",
      "received_events_url": "https://api.github.com/users/davidAI04/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-07T22:27:16Z",
    "updated_at": "2022-07-07T22:31:41Z",
    "author_association": "NONE",
    "body": "@fennar01  how do you resolved this problem? I'm faced the same problem since several hours, but I'm not using sh, instead I use zsh so my message error is: zsh: command not found: hardhat\r\n\r\nI'm using: \r\nMacBook Pro (M1, 2020)\r\nmacOS Monterey V12..2.1\r\nnode 16.6.0\r\nnvm 0.39.1\r\n\r\nThank u\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1178305261/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1179290998",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2798#issuecomment-1179290998",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2798",
    "id": 1179290998,
    "node_id": "IC_kwDOB7jojM5GSo12",
    "user": {
      "login": "fennar01",
      "id": 42185291,
      "node_id": "MDQ6VXNlcjQyMTg1Mjkx",
      "avatar_url": "https://avatars.githubusercontent.com/u/42185291?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fennar01",
      "html_url": "https://github.com/fennar01",
      "followers_url": "https://api.github.com/users/fennar01/followers",
      "following_url": "https://api.github.com/users/fennar01/following{/other_user}",
      "gists_url": "https://api.github.com/users/fennar01/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fennar01/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fennar01/subscriptions",
      "organizations_url": "https://api.github.com/users/fennar01/orgs",
      "repos_url": "https://api.github.com/users/fennar01/repos",
      "events_url": "https://api.github.com/users/fennar01/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fennar01/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-08T19:15:45Z",
    "updated_at": "2022-07-08T19:15:45Z",
    "author_association": "NONE",
    "body": "Okay, I didn't post this before because to be honest... It's rule #1 ðŸ˜…\n\nI rebooted my pc...\n\nHope it helps!\n\nF",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1179290998/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1179572747",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2798#issuecomment-1179572747",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2798",
    "id": 1179572747,
    "node_id": "IC_kwDOB7jojM5GTtoL",
    "user": {
      "login": "davidAI04",
      "id": 35605949,
      "node_id": "MDQ6VXNlcjM1NjA1OTQ5",
      "avatar_url": "https://avatars.githubusercontent.com/u/35605949?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/davidAI04",
      "html_url": "https://github.com/davidAI04",
      "followers_url": "https://api.github.com/users/davidAI04/followers",
      "following_url": "https://api.github.com/users/davidAI04/following{/other_user}",
      "gists_url": "https://api.github.com/users/davidAI04/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/davidAI04/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/davidAI04/subscriptions",
      "organizations_url": "https://api.github.com/users/davidAI04/orgs",
      "repos_url": "https://api.github.com/users/davidAI04/repos",
      "events_url": "https://api.github.com/users/davidAI04/events{/privacy}",
      "received_events_url": "https://api.github.com/users/davidAI04/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-09T16:48:46Z",
    "updated_at": "2022-07-09T16:48:46Z",
    "author_association": "NONE",
    "body": "@fennar01. I already found a solution for this... using NPX.\r\nThe Node Package eXecute allows us to directly access and execute a package stored (or not) in `$ ./node_modules/.bin/your-package`.\r\n\r\nUsing `npx hardhat [GLOBAL OPTIONS] <TASK>` everything works fine!",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1179572747/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
