{
  "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/4595",
  "repository_url": "https://api.github.com/repos/NomicFoundation/hardhat",
  "labels_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/4595/labels{/name}",
  "comments_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/4595/comments",
  "events_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/4595/events",
  "html_url": "https://github.com/NomicFoundation/hardhat/issues/4595",
  "id": 1998369535,
  "node_id": "I_kwDOB7jojM53HLL_",
  "number": 4595,
  "title": "An unexpected error occurred during the verification process.",
  "user": {
    "login": "startswithaj",
    "id": 3658522,
    "node_id": "MDQ6VXNlcjM2NTg1MjI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/3658522?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/startswithaj",
    "html_url": "https://github.com/startswithaj",
    "followers_url": "https://api.github.com/users/startswithaj/followers",
    "following_url": "https://api.github.com/users/startswithaj/following{/other_user}",
    "gists_url": "https://api.github.com/users/startswithaj/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/startswithaj/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/startswithaj/subscriptions",
    "organizations_url": "https://api.github.com/users/startswithaj/orgs",
    "repos_url": "https://api.github.com/users/startswithaj/repos",
    "events_url": "https://api.github.com/users/startswithaj/events{/privacy}",
    "received_events_url": "https://api.github.com/users/startswithaj/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 4937119027,
      "node_id": "LA_kwDOB7jojM8AAAABJkZ1Mw",
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/labels/status:triaging",
      "name": "status:triaging",
      "color": "0E8A16",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": {
    "login": "schaable",
    "id": 1165424,
    "node_id": "MDQ6VXNlcjExNjU0MjQ=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1165424?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/schaable",
    "html_url": "https://github.com/schaable",
    "followers_url": "https://api.github.com/users/schaable/followers",
    "following_url": "https://api.github.com/users/schaable/following{/other_user}",
    "gists_url": "https://api.github.com/users/schaable/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/schaable/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/schaable/subscriptions",
    "organizations_url": "https://api.github.com/users/schaable/orgs",
    "repos_url": "https://api.github.com/users/schaable/repos",
    "events_url": "https://api.github.com/users/schaable/events{/privacy}",
    "received_events_url": "https://api.github.com/users/schaable/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "schaable",
      "id": 1165424,
      "node_id": "MDQ6VXNlcjExNjU0MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1165424?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/schaable",
      "html_url": "https://github.com/schaable",
      "followers_url": "https://api.github.com/users/schaable/followers",
      "following_url": "https://api.github.com/users/schaable/following{/other_user}",
      "gists_url": "https://api.github.com/users/schaable/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/schaable/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/schaable/subscriptions",
      "organizations_url": "https://api.github.com/users/schaable/orgs",
      "repos_url": "https://api.github.com/users/schaable/repos",
      "events_url": "https://api.github.com/users/schaable/events{/privacy}",
      "received_events_url": "https://api.github.com/users/schaable/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2023-11-17T06:30:40Z",
  "updated_at": "2023-11-24T13:46:37Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "### Version of Hardhat\n\n3\n\n### What happened?\n\nWhile trying to verify contracts on Ethereum via Etherscan I receive:\r\n\r\n```\r\nAn unexpected error occurred during the verification process.\r\nPlease report this issue to the Hardhat team.\r\nError Details: An unexpected error occurred during the verification process.\r\n```\r\n\r\nUsing \"@nomicfoundation/hardhat-verify\": \"^2.0.1\",\r\n\r\nWhen using \"@nomiclabs/hardhat-etherscan\": \"^3.1.7\", I receive: \r\n\r\n```\r\nUnable to verify. Compiled contract runtime bytecode does NOT match the on-chain runtime bytecode.\r\n```\r\n\r\nIf I allow it to retry a number of times (sometimes 10 or more) It eventually does verify. I am deploying the same contracts to Arbitrum and Optimism and have no issue there. This leads me to believe this could be a Etherscan API issue. \r\n\r\nI also saw this issue: https://github.com/NomicFoundation/hardhat/issues/3597 which suggests this is the same error that happens if there is something wrong with Etherscan:\r\n\r\n```\r\nYeap, our Goerli node is very intermittently going down again over the past week (yay), in a different fashion that our verification error capturing isn't anticipating (so that's an improvement on our end to do - Soon), so it's returning a vague Compiled contract runtime bytecode does NOT match the on-chain runtime bytecode. error.\r\n```\r\n\n\n### Minimal reproduction steps\n\nTry to verify a contract on Etherscan. \n\n### Search terms\n\n_No response_",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/4595/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/4595/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1825700279",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/4595#issuecomment-1825700279",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/4595",
    "id": 1825700279,
    "node_id": "IC_kwDOB7jojM5s0fm3",
    "user": {
      "login": "schaable",
      "id": 1165424,
      "node_id": "MDQ6VXNlcjExNjU0MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1165424?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/schaable",
      "html_url": "https://github.com/schaable",
      "followers_url": "https://api.github.com/users/schaable/followers",
      "following_url": "https://api.github.com/users/schaable/following{/other_user}",
      "gists_url": "https://api.github.com/users/schaable/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/schaable/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/schaable/subscriptions",
      "organizations_url": "https://api.github.com/users/schaable/orgs",
      "repos_url": "https://api.github.com/users/schaable/repos",
      "events_url": "https://api.github.com/users/schaable/events{/privacy}",
      "received_events_url": "https://api.github.com/users/schaable/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-11-24T13:46:36Z",
    "updated_at": "2023-11-24T13:46:36Z",
    "author_association": "COLLABORATOR",
    "body": "hi @startswithaj, thanks for submitting the issue. It does not make sense to compare `hardhat-verify` with `hardhat-etherscan` as the error messages will be different most of the times. You should always default to `hardhat-verify`, as the other plugin is not maintained anymore. That message is shown when something goes wrong with the Etherscan request. Are you still having the issue? On which network are you trying to verify?",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1825700279/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
