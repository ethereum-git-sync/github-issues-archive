{
  "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/4113",
  "repository_url": "https://api.github.com/repos/NomicFoundation/hardhat",
  "labels_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/4113/labels{/name}",
  "comments_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/4113/comments",
  "events_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/4113/events",
  "html_url": "https://github.com/NomicFoundation/hardhat/issues/4113",
  "id": 1788966452,
  "node_id": "I_kwDOB7jojM5qoXY0",
  "number": 4113,
  "title": "Signers not available / documentation wrong",
  "user": {
    "login": "m1cm1c",
    "id": 11382432,
    "node_id": "MDQ6VXNlcjExMzgyNDMy",
    "avatar_url": "https://avatars.githubusercontent.com/u/11382432?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/m1cm1c",
    "html_url": "https://github.com/m1cm1c",
    "followers_url": "https://api.github.com/users/m1cm1c/followers",
    "following_url": "https://api.github.com/users/m1cm1c/following{/other_user}",
    "gists_url": "https://api.github.com/users/m1cm1c/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/m1cm1c/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/m1cm1c/subscriptions",
    "organizations_url": "https://api.github.com/users/m1cm1c/orgs",
    "repos_url": "https://api.github.com/users/m1cm1c/repos",
    "events_url": "https://api.github.com/users/m1cm1c/events{/privacy}",
    "received_events_url": "https://api.github.com/users/m1cm1c/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 4937119027,
      "node_id": "LA_kwDOB7jojM8AAAABJkZ1Mw",
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/labels/status:triaging",
      "name": "status:triaging",
      "color": "0E8A16",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2023-07-05T07:36:24Z",
  "updated_at": "2023-07-09T17:11:28Z",
  "closed_at": "2023-07-06T17:01:38Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "### Version of Hardhat\n\n2.16.1\n\n### What happened?\n\n[The documentation says](https://hardhat.org/hardhat-runner/docs/other-guides/waffle-testing#testing-from-a-different-account) that `ethers.getSigners()` is a function, where `ethers` is an element of package `hardhat`. This was correct in hardhat version 2.14.1. However, in version 2.16.1, this function does not exist.\n\n### Minimal reproduction steps\n\nCheck this code for compiler errors:\r\n\r\n```\r\nimport {ethers} from 'hardhat';\r\nethers.getSigners();\r\n```\r\n\r\n\n\n### Search terms\n\ngetSigners",
  "closed_by": {
    "login": "fvictorio",
    "id": 417134,
    "node_id": "MDQ6VXNlcjQxNzEzNA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/fvictorio",
    "html_url": "https://github.com/fvictorio",
    "followers_url": "https://api.github.com/users/fvictorio/followers",
    "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
    "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
    "organizations_url": "https://api.github.com/users/fvictorio/orgs",
    "repos_url": "https://api.github.com/users/fvictorio/repos",
    "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
    "received_events_url": "https://api.github.com/users/fvictorio/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/4113/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/4113/timeline",
  "performed_via_github_app": null,
  "state_reason": "not_planned"
}
[
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1624012466",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/4113#issuecomment-1624012466",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/4113",
    "id": 1624012466,
    "node_id": "IC_kwDOB7jojM5gzHay",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-06T17:01:38Z",
    "updated_at": "2023-07-06T17:01:38Z",
    "author_association": "MEMBER",
    "body": "You probably have a configuration issue around typescript. Try using this `tsconfig.json`:\r\n\r\n```json\r\n{\r\n  \"compilerOptions\": {\r\n    \"target\": \"es2020\",\r\n    \"module\": \"commonjs\",\r\n    \"esModuleInterop\": true,\r\n    \"forceConsistentCasingInFileNames\": true,\r\n    \"strict\": true,\r\n    \"skipLibCheck\": true,\r\n    \"resolveJsonModule\": true\r\n  }\r\n}\r\n```\r\n\r\nTentatively closing, will re-open if this is a problem on our side.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1624012466/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1624226758",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/4113#issuecomment-1624226758",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/4113",
    "id": 1624226758,
    "node_id": "IC_kwDOB7jojM5gz7vG",
    "user": {
      "login": "m1cm1c",
      "id": 11382432,
      "node_id": "MDQ6VXNlcjExMzgyNDMy",
      "avatar_url": "https://avatars.githubusercontent.com/u/11382432?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/m1cm1c",
      "html_url": "https://github.com/m1cm1c",
      "followers_url": "https://api.github.com/users/m1cm1c/followers",
      "following_url": "https://api.github.com/users/m1cm1c/following{/other_user}",
      "gists_url": "https://api.github.com/users/m1cm1c/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/m1cm1c/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/m1cm1c/subscriptions",
      "organizations_url": "https://api.github.com/users/m1cm1c/orgs",
      "repos_url": "https://api.github.com/users/m1cm1c/repos",
      "events_url": "https://api.github.com/users/m1cm1c/events{/privacy}",
      "received_events_url": "https://api.github.com/users/m1cm1c/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-06T19:49:36Z",
    "updated_at": "2023-07-06T19:49:36Z",
    "author_association": "NONE",
    "body": "> You probably have a configuration issue around typescript. Try using this `tsconfig.json`:\r\n> \r\n> ```json\r\n> {\r\n>   \"compilerOptions\": {\r\n>     \"target\": \"es2020\",\r\n>     \"module\": \"commonjs\",\r\n>     \"esModuleInterop\": true,\r\n>     \"forceConsistentCasingInFileNames\": true,\r\n>     \"strict\": true,\r\n>     \"skipLibCheck\": true,\r\n>     \"resolveJsonModule\": true\r\n>   }\r\n> }\r\n> ```\r\n\r\nI already used pretty much the same config. Using the config you posted did not solve the issue.\r\n\r\nHowever, I still made a mistake when filing this bug report. The issue did not arise due to an upgrade from hardhat 2.14.1 to 2.16.1. Instead, it arose from an upgrade of @nomicfoundation/hardhat-toolbox@2.0.1 to @nomicfoundation/hardhat-toolbox@3.0.0. The latter depends on @nomicfoundation/hardhat-ethers@3.0.3, which installed ethers@6.6.2 because the package.json of @nomicfoundation/hardhat-ethers@3.0.3 lists `\"ethers\": \"^6.1.0\"` as a dependency. I.e. it enforces that ethers 6 is used. Before that, I used ethers 5 which works as described in hardhat's documentation.\r\n\r\n> Tentatively closing, will re-open if this is a problem on our side.\r\n\r\nThe only problem on your side is that your documentation assumes that ethers 5 is used, whereas your product just changed as to require ethers 6, to which the code in your documentation is not applicable.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1624226758/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1624342569",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/4113#issuecomment-1624342569",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/4113",
    "id": 1624342569,
    "node_id": "IC_kwDOB7jojM5g0YAp",
    "user": {
      "login": "alcuadrado",
      "id": 176499,
      "node_id": "MDQ6VXNlcjE3NjQ5OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/176499?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alcuadrado",
      "html_url": "https://github.com/alcuadrado",
      "followers_url": "https://api.github.com/users/alcuadrado/followers",
      "following_url": "https://api.github.com/users/alcuadrado/following{/other_user}",
      "gists_url": "https://api.github.com/users/alcuadrado/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alcuadrado/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alcuadrado/subscriptions",
      "organizations_url": "https://api.github.com/users/alcuadrado/orgs",
      "repos_url": "https://api.github.com/users/alcuadrado/repos",
      "events_url": "https://api.github.com/users/alcuadrado/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alcuadrado/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-06T21:39:40Z",
    "updated_at": "2023-07-06T21:39:40Z",
    "author_association": "MEMBER",
    "body": "I think you somehow ended up with a node_modules with some incompatibilities that lead to the plugins working incorrectly. This could happen if, for example, you have multiple versions of the same component installed. If you can share your lockfile we'll be able to verify this. \r\n\r\nYou can try killing your node_modules and lockfile and reinstalling from scratch. If that doesn't fix it the incompatibility must be in your package.json.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1624342569/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1625173521",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/4113#issuecomment-1625173521",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/4113",
    "id": 1625173521,
    "node_id": "IC_kwDOB7jojM5g3i4R",
    "user": {
      "login": "m1cm1c",
      "id": 11382432,
      "node_id": "MDQ6VXNlcjExMzgyNDMy",
      "avatar_url": "https://avatars.githubusercontent.com/u/11382432?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/m1cm1c",
      "html_url": "https://github.com/m1cm1c",
      "followers_url": "https://api.github.com/users/m1cm1c/followers",
      "following_url": "https://api.github.com/users/m1cm1c/following{/other_user}",
      "gists_url": "https://api.github.com/users/m1cm1c/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/m1cm1c/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/m1cm1c/subscriptions",
      "organizations_url": "https://api.github.com/users/m1cm1c/orgs",
      "repos_url": "https://api.github.com/users/m1cm1c/repos",
      "events_url": "https://api.github.com/users/m1cm1c/events{/privacy}",
      "received_events_url": "https://api.github.com/users/m1cm1c/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-07T10:03:53Z",
    "updated_at": "2023-07-07T10:03:53Z",
    "author_association": "NONE",
    "body": "@alcuadrado Thank you very much for this offer. However, by now I have downgraded @nomicfoundation/hardhat-toolbox via `npm i @nomicfoundation/hardhat-toolbox@2.0.1`, which resolved my issue. So I don't think this is necessary.\r\n\r\nHowever, in case anyone else who has this problem finds it useful, I will share my package files (`package.json` and `package-lock.json`) here regardless.\r\n\r\n- original package files: https://gist.github.com/m1cm1c/23b0593c31cd1ca4958923e69c365441\r\n- package files after dependabot performed updates: https://gist.github.com/m1cm1c/edac16431b63b8237daa6fb57927022b\r\n- package files after i solved the issue using the above-mentioned command: https://gist.github.com/m1cm1c/1f05da74f31eb0e131d7fdc699d2681c",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1625173521/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1627775309",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/4113#issuecomment-1627775309",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/4113",
    "id": 1627775309,
    "node_id": "IC_kwDOB7jojM5hBeFN",
    "user": {
      "login": "alcuadrado",
      "id": 176499,
      "node_id": "MDQ6VXNlcjE3NjQ5OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/176499?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alcuadrado",
      "html_url": "https://github.com/alcuadrado",
      "followers_url": "https://api.github.com/users/alcuadrado/followers",
      "following_url": "https://api.github.com/users/alcuadrado/following{/other_user}",
      "gists_url": "https://api.github.com/users/alcuadrado/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alcuadrado/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alcuadrado/subscriptions",
      "organizations_url": "https://api.github.com/users/alcuadrado/orgs",
      "repos_url": "https://api.github.com/users/alcuadrado/repos",
      "events_url": "https://api.github.com/users/alcuadrado/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alcuadrado/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-09T17:11:28Z",
    "updated_at": "2023-07-09T17:11:28Z",
    "author_association": "MEMBER",
    "body": "After inspecting the package-locks i'm convinced the problem is that you accidentally ended up with multiple versions of ethers. You can fix this by removing your lockfile and node_modules and reinstalling.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1627775309/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
