{
  "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3385",
  "repository_url": "https://api.github.com/repos/NomicFoundation/hardhat",
  "labels_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3385/labels{/name}",
  "comments_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3385/comments",
  "events_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3385/events",
  "html_url": "https://github.com/NomicFoundation/hardhat/issues/3385",
  "id": 1469653542,
  "node_id": "I_kwDOB7jojM5XmSIm",
  "number": 3385,
  "title": "Support for ESM in TypeScript projects",
  "user": {
    "login": "fvictorio",
    "id": 417134,
    "node_id": "MDQ6VXNlcjQxNzEzNA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/fvictorio",
    "html_url": "https://github.com/fvictorio",
    "followers_url": "https://api.github.com/users/fvictorio/followers",
    "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
    "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
    "organizations_url": "https://api.github.com/users/fvictorio/orgs",
    "repos_url": "https://api.github.com/users/fvictorio/repos",
    "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
    "received_events_url": "https://api.github.com/users/fvictorio/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 947230177,
      "node_id": "MDU6TGFiZWw5NDcyMzAxNzc=",
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/labels/status:blocked",
      "name": "status:blocked",
      "color": "0E8A16",
      "default": false,
      "description": "Blocked by other issues or external reasons"
    },
    {
      "id": 947232611,
      "node_id": "MDU6TGFiZWw5NDcyMzI2MTE=",
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/labels/type:feature",
      "name": "type:feature",
      "color": "FBCA04",
      "default": false,
      "description": "Feature request"
    },
    {
      "id": 4937699591,
      "node_id": "LA_kwDOB7jojM8AAAABJk9RBw",
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/labels/effort:difficult",
      "name": "effort:difficult",
      "color": "006B75",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": {
    "login": "schaable",
    "id": 1165424,
    "node_id": "MDQ6VXNlcjExNjU0MjQ=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1165424?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/schaable",
    "html_url": "https://github.com/schaable",
    "followers_url": "https://api.github.com/users/schaable/followers",
    "following_url": "https://api.github.com/users/schaable/following{/other_user}",
    "gists_url": "https://api.github.com/users/schaable/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/schaable/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/schaable/subscriptions",
    "organizations_url": "https://api.github.com/users/schaable/orgs",
    "repos_url": "https://api.github.com/users/schaable/repos",
    "events_url": "https://api.github.com/users/schaable/events{/privacy}",
    "received_events_url": "https://api.github.com/users/schaable/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "schaable",
      "id": 1165424,
      "node_id": "MDQ6VXNlcjExNjU0MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1165424?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/schaable",
      "html_url": "https://github.com/schaable",
      "followers_url": "https://api.github.com/users/schaable/followers",
      "following_url": "https://api.github.com/users/schaable/following{/other_user}",
      "gists_url": "https://api.github.com/users/schaable/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/schaable/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/schaable/subscriptions",
      "organizations_url": "https://api.github.com/users/schaable/orgs",
      "repos_url": "https://api.github.com/users/schaable/repos",
      "events_url": "https://api.github.com/users/schaable/events{/privacy}",
      "received_events_url": "https://api.github.com/users/schaable/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 30,
  "created_at": "2022-11-30T13:39:14Z",
  "updated_at": "2023-12-06T11:34:59Z",
  "closed_at": null,
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "Please comment and/or upvote this issue if you need support for ESM in TypeScript projects. If possible, tell us more about your use case and why you need this and cannot just transpile to cjs.\r\n\r\n**UPDATE:** See this comment to learn how to use an experimental version of this: https://github.com/NomicFoundation/hardhat/issues/3385#issuecomment-1841380253",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3385/reactions",
    "total_count": 53,
    "+1": 53,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3385/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1332166818",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3385#issuecomment-1332166818",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3385",
    "id": 1332166818,
    "node_id": "IC_kwDOB7jojM5PZ0Ci",
    "user": {
      "login": "github-actions[bot]",
      "id": 41898282,
      "node_id": "MDM6Qm90NDE4OTgyODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/github-actions%5Bbot%5D",
      "html_url": "https://github.com/apps/github-actions",
      "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2022-11-30T13:39:39Z",
    "updated_at": "2022-11-30T13:39:39Z",
    "author_association": "CONTRIBUTOR",
    "body": "This issue is also being [tracked on Linear](https://linear.app/nomic-foundation/issue/HH-1360/support-for-esm-in-typescript-projects-[nomicfoundationhardhat3385]).\n\nWe use Linear to manage our development process, but we keep the conversations on Github.\n\nLINEAR-ID: b31f8c05-52a3-44ca-b22e-10ec21278d4c",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1332166818/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1339673582",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3385#issuecomment-1339673582",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3385",
    "id": 1339673582,
    "node_id": "IC_kwDOB7jojM5P2cvu",
    "user": {
      "login": "matthewlilley",
      "id": 6063350,
      "node_id": "MDQ6VXNlcjYwNjMzNTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6063350?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/matthewlilley",
      "html_url": "https://github.com/matthewlilley",
      "followers_url": "https://api.github.com/users/matthewlilley/followers",
      "following_url": "https://api.github.com/users/matthewlilley/following{/other_user}",
      "gists_url": "https://api.github.com/users/matthewlilley/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/matthewlilley/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/matthewlilley/subscriptions",
      "organizations_url": "https://api.github.com/users/matthewlilley/orgs",
      "repos_url": "https://api.github.com/users/matthewlilley/repos",
      "events_url": "https://api.github.com/users/matthewlilley/events{/privacy}",
      "received_events_url": "https://api.github.com/users/matthewlilley/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-12-06T16:54:04Z",
    "updated_at": "2022-12-06T16:55:13Z",
    "author_association": "NONE",
    "body": "@fvictorio we use wagmi/core for some scripts which only supports ESM. Had to convert all tests to .js and extract chunks of scripts into another package for now to deal with this.\r\n\r\nhttps://github.com/sushiswap/sushiswap/commit/ccd68f906a16287ab3cf1f2ffcf07bdd36c8d67d",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1339673582/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1340971997",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3385#issuecomment-1340971997",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3385",
    "id": 1340971997,
    "node_id": "IC_kwDOB7jojM5P7Zvd",
    "user": {
      "login": "DenisGorbachev",
      "id": 829578,
      "node_id": "MDQ6VXNlcjgyOTU3OA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/829578?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DenisGorbachev",
      "html_url": "https://github.com/DenisGorbachev",
      "followers_url": "https://api.github.com/users/DenisGorbachev/followers",
      "following_url": "https://api.github.com/users/DenisGorbachev/following{/other_user}",
      "gists_url": "https://api.github.com/users/DenisGorbachev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DenisGorbachev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DenisGorbachev/subscriptions",
      "organizations_url": "https://api.github.com/users/DenisGorbachev/orgs",
      "repos_url": "https://api.github.com/users/DenisGorbachev/repos",
      "events_url": "https://api.github.com/users/DenisGorbachev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DenisGorbachev/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-12-07T13:30:53Z",
    "updated_at": "2022-12-07T13:30:53Z",
    "author_association": "NONE",
    "body": "I'm using https://github.com/sindresorhus/execa, which is ESM-only.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1340971997/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1373342948",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3385#issuecomment-1373342948",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3385",
    "id": 1373342948,
    "node_id": "IC_kwDOB7jojM5R24zk",
    "user": {
      "login": "anteqkois",
      "id": 73034007,
      "node_id": "MDQ6VXNlcjczMDM0MDA3",
      "avatar_url": "https://avatars.githubusercontent.com/u/73034007?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/anteqkois",
      "html_url": "https://github.com/anteqkois",
      "followers_url": "https://api.github.com/users/anteqkois/followers",
      "following_url": "https://api.github.com/users/anteqkois/following{/other_user}",
      "gists_url": "https://api.github.com/users/anteqkois/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/anteqkois/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/anteqkois/subscriptions",
      "organizations_url": "https://api.github.com/users/anteqkois/orgs",
      "repos_url": "https://api.github.com/users/anteqkois/repos",
      "events_url": "https://api.github.com/users/anteqkois/events{/privacy}",
      "received_events_url": "https://api.github.com/users/anteqkois/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-06T08:28:58Z",
    "updated_at": "2023-01-06T08:28:58Z",
    "author_association": "NONE",
    "body": "I can't run task when use new TypeScript:\r\n```\r\n\"module\": \"NodeNext\",\r\n\"moduleResolution\": \"NodeNext\",\r\n```\r\nObviously when i delete `\"type\": \"module\"` from package.json it's start work, but i must use this setting.\r\n\r\nError from terimnal:\r\n![image](https://user-images.githubusercontent.com/73034007/210961492-af6a1a9c-a7dc-4252-bdad-b3fa73a25816.png)\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1373342948/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1454664083",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3385#issuecomment-1454664083",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3385",
    "id": 1454664083,
    "node_id": "IC_kwDOB7jojM5WtGmT",
    "user": {
      "login": "talentlessguy",
      "id": 35937217,
      "node_id": "MDQ6VXNlcjM1OTM3MjE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/35937217?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/talentlessguy",
      "html_url": "https://github.com/talentlessguy",
      "followers_url": "https://api.github.com/users/talentlessguy/followers",
      "following_url": "https://api.github.com/users/talentlessguy/following{/other_user}",
      "gists_url": "https://api.github.com/users/talentlessguy/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/talentlessguy/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/talentlessguy/subscriptions",
      "organizations_url": "https://api.github.com/users/talentlessguy/orgs",
      "repos_url": "https://api.github.com/users/talentlessguy/repos",
      "events_url": "https://api.github.com/users/talentlessguy/events{/privacy}",
      "received_events_url": "https://api.github.com/users/talentlessguy/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-03-04T08:29:55Z",
    "updated_at": "2023-03-04T08:29:55Z",
    "author_association": "NONE",
    "body": "Suggestion for TS ESM implementation:\r\n\r\nts-node has a `ts-node/esm` loader hook. Also `mts` extension could be used but I'm not sure if that's needed.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1454664083/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1470407956",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3385#issuecomment-1470407956",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3385",
    "id": 1470407956,
    "node_id": "IC_kwDOB7jojM5XpKUU",
    "user": {
      "login": "paulmillr",
      "id": 574696,
      "node_id": "MDQ6VXNlcjU3NDY5Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/574696?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/paulmillr",
      "html_url": "https://github.com/paulmillr",
      "followers_url": "https://api.github.com/users/paulmillr/followers",
      "following_url": "https://api.github.com/users/paulmillr/following{/other_user}",
      "gists_url": "https://api.github.com/users/paulmillr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/paulmillr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/paulmillr/subscriptions",
      "organizations_url": "https://api.github.com/users/paulmillr/orgs",
      "repos_url": "https://api.github.com/users/paulmillr/repos",
      "events_url": "https://api.github.com/users/paulmillr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/paulmillr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-03-15T16:58:46Z",
    "updated_at": "2023-03-15T16:58:46Z",
    "author_association": "NONE",
    "body": "Copying @alcuadrado comments from monorepo:\r\n\r\n> Nop, unfortunately Hardhat's core depends on CJS pretty heavily.\r\n\r\n> The reason for that is that our plugin system is dependent on the order of require() that users make to plugins. In ESM the order of imports is not guaranteed (and does change in practice).\r\n\r\nWhat about `await import`? You can do this one after another.\r\n\r\n> We need to rework our plugin system for it to fully support ESM.\r\n\r\n> I'm starting to think that maybe we should move to esm-only when it's properly supported by ts-node or some similar project. But note that even after that, the migration would be a pretty large project, as every plugin will need to be adapted.\r\n\r\nIf you keep supporting two module systems, ESM modules would be able to import common.js code - which uses old sequential `require`s and is cool.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1470407956/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1470670424",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3385#issuecomment-1470670424",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3385",
    "id": 1470670424,
    "node_id": "IC_kwDOB7jojM5XqKZY",
    "user": {
      "login": "alcuadrado",
      "id": 176499,
      "node_id": "MDQ6VXNlcjE3NjQ5OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/176499?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alcuadrado",
      "html_url": "https://github.com/alcuadrado",
      "followers_url": "https://api.github.com/users/alcuadrado/followers",
      "following_url": "https://api.github.com/users/alcuadrado/following{/other_user}",
      "gists_url": "https://api.github.com/users/alcuadrado/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alcuadrado/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alcuadrado/subscriptions",
      "organizations_url": "https://api.github.com/users/alcuadrado/orgs",
      "repos_url": "https://api.github.com/users/alcuadrado/repos",
      "events_url": "https://api.github.com/users/alcuadrado/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alcuadrado/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-03-15T19:20:00Z",
    "updated_at": "2023-03-15T19:20:00Z",
    "author_association": "MEMBER",
    "body": "> What about await import? You can do this one after another.\r\n\r\nOh, that may be a great idea actually! I think now ESM in node.js means/implies that you have top-level-await. This could work! Thanks !",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1470670424/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1481581600",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3385#issuecomment-1481581600",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3385",
    "id": 1481581600,
    "node_id": "IC_kwDOB7jojM5YTyQg",
    "user": {
      "login": "alex-mccreary",
      "id": 109529190,
      "node_id": "U_kgDOBodIZg",
      "avatar_url": "https://avatars.githubusercontent.com/u/109529190?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alex-mccreary",
      "html_url": "https://github.com/alex-mccreary",
      "followers_url": "https://api.github.com/users/alex-mccreary/followers",
      "following_url": "https://api.github.com/users/alex-mccreary/following{/other_user}",
      "gists_url": "https://api.github.com/users/alex-mccreary/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alex-mccreary/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alex-mccreary/subscriptions",
      "organizations_url": "https://api.github.com/users/alex-mccreary/orgs",
      "repos_url": "https://api.github.com/users/alex-mccreary/repos",
      "events_url": "https://api.github.com/users/alex-mccreary/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alex-mccreary/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-03-23T17:17:51Z",
    "updated_at": "2023-03-23T17:17:51Z",
    "author_association": "NONE",
    "body": "Upvote; we are using ESM in our TypeScript project because of a dependency requirement. ",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1481581600/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1507254970",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3385#issuecomment-1507254970",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3385",
    "id": 1507254970,
    "node_id": "IC_kwDOB7jojM5Z1uK6",
    "user": {
      "login": "pynixwang",
      "id": 1189879,
      "node_id": "MDQ6VXNlcjExODk4Nzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1189879?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pynixwang",
      "html_url": "https://github.com/pynixwang",
      "followers_url": "https://api.github.com/users/pynixwang/followers",
      "following_url": "https://api.github.com/users/pynixwang/following{/other_user}",
      "gists_url": "https://api.github.com/users/pynixwang/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pynixwang/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pynixwang/subscriptions",
      "organizations_url": "https://api.github.com/users/pynixwang/orgs",
      "repos_url": "https://api.github.com/users/pynixwang/repos",
      "events_url": "https://api.github.com/users/pynixwang/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pynixwang/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-13T16:27:29Z",
    "updated_at": "2023-04-13T16:27:29Z",
    "author_association": "NONE",
    "body": "pure esm package is coming.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1507254970/reactions",
      "total_count": 9,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 9,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1508201711",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3385#issuecomment-1508201711",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3385",
    "id": 1508201711,
    "node_id": "IC_kwDOB7jojM5Z5VTv",
    "user": {
      "login": "thevolcanomanishere",
      "id": 9613565,
      "node_id": "MDQ6VXNlcjk2MTM1NjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9613565?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thevolcanomanishere",
      "html_url": "https://github.com/thevolcanomanishere",
      "followers_url": "https://api.github.com/users/thevolcanomanishere/followers",
      "following_url": "https://api.github.com/users/thevolcanomanishere/following{/other_user}",
      "gists_url": "https://api.github.com/users/thevolcanomanishere/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thevolcanomanishere/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thevolcanomanishere/subscriptions",
      "organizations_url": "https://api.github.com/users/thevolcanomanishere/orgs",
      "repos_url": "https://api.github.com/users/thevolcanomanishere/repos",
      "events_url": "https://api.github.com/users/thevolcanomanishere/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thevolcanomanishere/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-14T09:13:07Z",
    "updated_at": "2023-04-14T09:13:07Z",
    "author_association": "NONE",
    "body": "I am looking to integrate Playwright with Hardhat + Wagmi in order to automate frontend testing that involves connecting to a hardhat node :) ",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1508201711/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1508950491",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3385#issuecomment-1508950491",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3385",
    "id": 1508950491,
    "node_id": "IC_kwDOB7jojM5Z8MHb",
    "user": {
      "login": "kostysh",
      "id": 431665,
      "node_id": "MDQ6VXNlcjQzMTY2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/431665?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kostysh",
      "html_url": "https://github.com/kostysh",
      "followers_url": "https://api.github.com/users/kostysh/followers",
      "following_url": "https://api.github.com/users/kostysh/following{/other_user}",
      "gists_url": "https://api.github.com/users/kostysh/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kostysh/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kostysh/subscriptions",
      "organizations_url": "https://api.github.com/users/kostysh/orgs",
      "repos_url": "https://api.github.com/users/kostysh/repos",
      "events_url": "https://api.github.com/users/kostysh/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kostysh/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-14T16:52:01Z",
    "updated_at": "2023-04-14T16:52:01Z",
    "author_association": "NONE",
    "body": "Upvote; we are using ESM in our TypeScript project",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1508950491/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1510557249",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3385#issuecomment-1510557249",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3385",
    "id": 1510557249,
    "node_id": "IC_kwDOB7jojM5aCUZB",
    "user": {
      "login": "highskore",
      "id": 80688826,
      "node_id": "MDQ6VXNlcjgwNjg4ODI2",
      "avatar_url": "https://avatars.githubusercontent.com/u/80688826?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/highskore",
      "html_url": "https://github.com/highskore",
      "followers_url": "https://api.github.com/users/highskore/followers",
      "following_url": "https://api.github.com/users/highskore/following{/other_user}",
      "gists_url": "https://api.github.com/users/highskore/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/highskore/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/highskore/subscriptions",
      "organizations_url": "https://api.github.com/users/highskore/orgs",
      "repos_url": "https://api.github.com/users/highskore/repos",
      "events_url": "https://api.github.com/users/highskore/events{/privacy}",
      "received_events_url": "https://api.github.com/users/highskore/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-17T01:11:31Z",
    "updated_at": "2023-04-17T01:11:31Z",
    "author_association": "NONE",
    "body": "> pure esm package is coming.\n\ndo u know when? 🧐",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1510557249/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1534238974",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3385#issuecomment-1534238974",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3385",
    "id": 1534238974,
    "node_id": "IC_kwDOB7jojM5bcqD-",
    "user": {
      "login": "robwilkes",
      "id": 4636768,
      "node_id": "MDQ6VXNlcjQ2MzY3Njg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4636768?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/robwilkes",
      "html_url": "https://github.com/robwilkes",
      "followers_url": "https://api.github.com/users/robwilkes/followers",
      "following_url": "https://api.github.com/users/robwilkes/following{/other_user}",
      "gists_url": "https://api.github.com/users/robwilkes/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/robwilkes/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/robwilkes/subscriptions",
      "organizations_url": "https://api.github.com/users/robwilkes/orgs",
      "repos_url": "https://api.github.com/users/robwilkes/repos",
      "events_url": "https://api.github.com/users/robwilkes/events{/privacy}",
      "received_events_url": "https://api.github.com/users/robwilkes/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-04T07:47:05Z",
    "updated_at": "2023-05-04T07:47:05Z",
    "author_association": "NONE",
    "body": "upvote, many packages are ESM only now, I have to install older versions for compatibility. all my projects and code is ESM now, except for hardhat.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1534238974/reactions",
      "total_count": 13,
      "+1": 13,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1580384420",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3385#issuecomment-1580384420",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3385",
    "id": 1580384420,
    "node_id": "IC_kwDOB7jojM5eMsCk",
    "user": {
      "login": "CJ42",
      "id": 31145285,
      "node_id": "MDQ6VXNlcjMxMTQ1Mjg1",
      "avatar_url": "https://avatars.githubusercontent.com/u/31145285?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/CJ42",
      "html_url": "https://github.com/CJ42",
      "followers_url": "https://api.github.com/users/CJ42/followers",
      "following_url": "https://api.github.com/users/CJ42/following{/other_user}",
      "gists_url": "https://api.github.com/users/CJ42/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/CJ42/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/CJ42/subscriptions",
      "organizations_url": "https://api.github.com/users/CJ42/orgs",
      "repos_url": "https://api.github.com/users/CJ42/repos",
      "events_url": "https://api.github.com/users/CJ42/events{/privacy}",
      "received_events_url": "https://api.github.com/users/CJ42/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-07T10:09:22Z",
    "updated_at": "2023-06-07T10:09:43Z",
    "author_association": "NONE",
    "body": "Upvoting as well. We have `constants` values defined in a [`constants.ts` / constants.js`](https://github.com/lukso-network/lsp-smart-contracts/blob/develop/constants.ts) file in the LUKSO lsp-smart-contracts. These are part of the [`@lukso/lsp-smart-contracts` npm package](https://www.npmjs.com/package/@lukso/lsp-smart-contracts) and are important values to be consumed by projects that use our smart contracts package.\r\n\r\nhttps://github.com/lukso-network/lsp-smart-contracts\r\n\r\nIn our case, this is problematic as any Hardhat Typescript project that has the `@lukso/lsp-smart-contracts` as a dependency cannot import these necessary constant values.\r\n\r\nThe only workaround we found was in this PR by @richtera: https://github.com/lukso-network/lsp-smart-contracts/pull/601.\r\n\r\n<img width=\"464\" alt=\"image\" src=\"https://github.com/NomicFoundation/hardhat/assets/31145285/11527a7f-186a-447f-bc43-34ec66479304\">\r\n\r\nhttps://github.com/lukso-network/lsp-smart-contracts/pull/601/files\r\n\r\nThe file in the folder looks like this:\r\n\r\n<img width=\"204\" alt=\"image\" src=\"https://github.com/NomicFoundation/hardhat/assets/31145285/37a049b8-873e-420c-a7e1-e29e33143931\">\r\n\r\nES Lint raises a warning, but we are still able to import as shown below.\r\n\r\n```js\r\nimport { INTERFACE_IDS } from \"@lukso/lsp-smart-contracts/dist/constants.cjs.js\";\r\n\r\nconst test = INTERFACE_IDS.LSP0ERC725Account;\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1580384420/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1627753806",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3385#issuecomment-1627753806",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3385",
    "id": 1627753806,
    "node_id": "IC_kwDOB7jojM5hBY1O",
    "user": {
      "login": "vinerz",
      "id": 1482034,
      "node_id": "MDQ6VXNlcjE0ODIwMzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1482034?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vinerz",
      "html_url": "https://github.com/vinerz",
      "followers_url": "https://api.github.com/users/vinerz/followers",
      "following_url": "https://api.github.com/users/vinerz/following{/other_user}",
      "gists_url": "https://api.github.com/users/vinerz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vinerz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vinerz/subscriptions",
      "organizations_url": "https://api.github.com/users/vinerz/orgs",
      "repos_url": "https://api.github.com/users/vinerz/repos",
      "events_url": "https://api.github.com/users/vinerz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vinerz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-09T15:44:16Z",
    "updated_at": "2023-07-09T15:44:16Z",
    "author_association": "NONE",
    "body": "Following this issue. Would help a lot to get rid of some workarounds for ESM/CJS interop.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1627753806/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1655967853",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3385#issuecomment-1655967853",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3385",
    "id": 1655967853,
    "node_id": "IC_kwDOB7jojM5itBBt",
    "user": {
      "login": "fraVlaca",
      "id": 86831094,
      "node_id": "MDQ6VXNlcjg2ODMxMDk0",
      "avatar_url": "https://avatars.githubusercontent.com/u/86831094?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fraVlaca",
      "html_url": "https://github.com/fraVlaca",
      "followers_url": "https://api.github.com/users/fraVlaca/followers",
      "following_url": "https://api.github.com/users/fraVlaca/following{/other_user}",
      "gists_url": "https://api.github.com/users/fraVlaca/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fraVlaca/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fraVlaca/subscriptions",
      "organizations_url": "https://api.github.com/users/fraVlaca/orgs",
      "repos_url": "https://api.github.com/users/fraVlaca/repos",
      "events_url": "https://api.github.com/users/fraVlaca/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fraVlaca/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-28T16:26:17Z",
    "updated_at": "2023-07-28T16:26:17Z",
    "author_association": "NONE",
    "body": "yes pls really need esm compatibility with typescript, make it happen guys",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1655967853/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1662176410",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3385#issuecomment-1662176410",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3385",
    "id": 1662176410,
    "node_id": "IC_kwDOB7jojM5jEsya",
    "user": {
      "login": "paulperegud",
      "id": 247162,
      "node_id": "MDQ6VXNlcjI0NzE2Mg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/247162?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/paulperegud",
      "html_url": "https://github.com/paulperegud",
      "followers_url": "https://api.github.com/users/paulperegud/followers",
      "following_url": "https://api.github.com/users/paulperegud/following{/other_user}",
      "gists_url": "https://api.github.com/users/paulperegud/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/paulperegud/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/paulperegud/subscriptions",
      "organizations_url": "https://api.github.com/users/paulperegud/orgs",
      "repos_url": "https://api.github.com/users/paulperegud/repos",
      "events_url": "https://api.github.com/users/paulperegud/events{/privacy}",
      "received_events_url": "https://api.github.com/users/paulperegud/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-08-02T13:04:04Z",
    "updated_at": "2023-08-02T13:04:04Z",
    "author_association": "NONE",
    "body": "Having to choose dependencies basing on \"does it still support CommonJS\" criterion is annoying. Following this issue.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1662176410/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1675091735",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3385#issuecomment-1675091735",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3385",
    "id": 1675091735,
    "node_id": "IC_kwDOB7jojM5j198X",
    "user": {
      "login": "DefiCake",
      "id": 46090742,
      "node_id": "MDQ6VXNlcjQ2MDkwNzQy",
      "avatar_url": "https://avatars.githubusercontent.com/u/46090742?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DefiCake",
      "html_url": "https://github.com/DefiCake",
      "followers_url": "https://api.github.com/users/DefiCake/followers",
      "following_url": "https://api.github.com/users/DefiCake/following{/other_user}",
      "gists_url": "https://api.github.com/users/DefiCake/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DefiCake/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DefiCake/subscriptions",
      "organizations_url": "https://api.github.com/users/DefiCake/orgs",
      "repos_url": "https://api.github.com/users/DefiCake/repos",
      "events_url": "https://api.github.com/users/DefiCake/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DefiCake/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-08-11T16:54:21Z",
    "updated_at": "2023-08-11T16:54:21Z",
    "author_association": "NONE",
    "body": "Another upvote for this feature. Aztec 's ZK framework, Noir, needs ESM for the generation of proofs.\r\n\r\nhttps://noir-lang.org/typescript",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1675091735/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1675185616",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3385#issuecomment-1675185616",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3385",
    "id": 1675185616,
    "node_id": "IC_kwDOB7jojM5j2U3Q",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-08-11T18:14:38Z",
    "updated_at": "2023-08-11T18:14:38Z",
    "author_association": "MEMBER",
    "body": "Thanks everyone. We'll try to prioritize this. I don't think we'll be able to do it properly before the next major, but we'll try to at least provide a useful workaround, even if it has some friction.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1675185616/reactions",
      "total_count": 5,
      "+1": 5,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1701354199",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3385#issuecomment-1701354199",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3385",
    "id": 1701354199,
    "node_id": "IC_kwDOB7jojM5laJrX",
    "user": {
      "login": "timbrinded",
      "id": 79199034,
      "node_id": "MDQ6VXNlcjc5MTk5MDM0",
      "avatar_url": "https://avatars.githubusercontent.com/u/79199034?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/timbrinded",
      "html_url": "https://github.com/timbrinded",
      "followers_url": "https://api.github.com/users/timbrinded/followers",
      "following_url": "https://api.github.com/users/timbrinded/following{/other_user}",
      "gists_url": "https://api.github.com/users/timbrinded/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/timbrinded/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/timbrinded/subscriptions",
      "organizations_url": "https://api.github.com/users/timbrinded/orgs",
      "repos_url": "https://api.github.com/users/timbrinded/repos",
      "events_url": "https://api.github.com/users/timbrinded/events{/privacy}",
      "received_events_url": "https://api.github.com/users/timbrinded/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-08-31T16:21:19Z",
    "updated_at": "2023-08-31T16:22:47Z",
    "author_association": "NONE",
    "body": "ts-node can be axed entirely with a drop-in replacement for [tsx](https://github.com/esbuild-kit/tsx).\r\n\r\nThis should unblock you entirely from allowing ESM TS support for HardHat \r\n\r\n> [!NOTE]\\\r\n> I have gone through this process with other repos, and it's been a surprisingly easy experience.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1701354199/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1732255053",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3385#issuecomment-1732255053",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3385",
    "id": 1732255053,
    "node_id": "IC_kwDOB7jojM5nQB1N",
    "user": {
      "login": "developerasun",
      "id": 83855174,
      "node_id": "MDQ6VXNlcjgzODU1MTc0",
      "avatar_url": "https://avatars.githubusercontent.com/u/83855174?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/developerasun",
      "html_url": "https://github.com/developerasun",
      "followers_url": "https://api.github.com/users/developerasun/followers",
      "following_url": "https://api.github.com/users/developerasun/following{/other_user}",
      "gists_url": "https://api.github.com/users/developerasun/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/developerasun/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/developerasun/subscriptions",
      "organizations_url": "https://api.github.com/users/developerasun/orgs",
      "repos_url": "https://api.github.com/users/developerasun/repos",
      "events_url": "https://api.github.com/users/developerasun/events{/privacy}",
      "received_events_url": "https://api.github.com/users/developerasun/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-09-23T08:35:31Z",
    "updated_at": "2023-09-23T08:35:31Z",
    "author_association": "NONE",
    "body": "Upvoted. I'm using hardhat-ts in workplace for Optimism L2 smart contract, dealing with batch transactions. \r\n\r\nAnd [fee estimate package](https://github.com/ethereum-optimism/optimism/tree/develop/packages/fee-estimation) provided by optimism is based on ts ESM and [hardhat is not yet support it](https://hardhat.org/hardhat-runner/docs/advanced/using-esm#esm-and-typescript-projects). \r\n\r\nso I  had to dynamic import it like below.\r\n\r\n```ts\r\nasync function feeEstimator() {\r\n  const sdk = await import(\"@eth-optimism/fee-estimation\")\r\n  const { what-you-need } = sdk\r\n}\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1732255053/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1738016356",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3385#issuecomment-1738016356",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3385",
    "id": 1738016356,
    "node_id": "IC_kwDOB7jojM5nmAZk",
    "user": {
      "login": "MOZGIII",
      "id": 265507,
      "node_id": "MDQ6VXNlcjI2NTUwNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/265507?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MOZGIII",
      "html_url": "https://github.com/MOZGIII",
      "followers_url": "https://api.github.com/users/MOZGIII/followers",
      "following_url": "https://api.github.com/users/MOZGIII/following{/other_user}",
      "gists_url": "https://api.github.com/users/MOZGIII/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MOZGIII/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MOZGIII/subscriptions",
      "organizations_url": "https://api.github.com/users/MOZGIII/orgs",
      "repos_url": "https://api.github.com/users/MOZGIII/repos",
      "events_url": "https://api.github.com/users/MOZGIII/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MOZGIII/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-09-27T20:15:13Z",
    "updated_at": "2023-09-27T20:46:47Z",
    "author_association": "NONE",
    "body": "I have found the following solution:\r\n\r\n1. Import the real code via dynamic imports:\r\n   ```ts\r\n   const { load } = await import(\"lp-staking-research/load\");\r\n   ```\r\n2. Import types via the type imports with import annotation like this:\r\n   ```ts\r\n   import type { TestCase } from \"lp-staking-research/schema/test-case\" assert { \"resolution-mode\": \"require\" };\r\n   ```\r\n\r\nThese will also require using `\"module\": \"NodeNext\"` and `\"moduleResolution\": \"NodeNext\"` at `tsconfig.json`, and, for now, nightly TypeScript (`yarn install --dev typescript@next`).\r\n\r\nThis is not ideal, especially since in some contexts you can't use `async` calls, but is solves the issue for me.\r\n\r\nA hint: to use dynamic import for test case declaration in `mocha` you can use the [`--delay` mode](https://mochajs.org/#delayed-root-suite).",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1738016356/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1747268432",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3385#issuecomment-1747268432",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3385",
    "id": 1747268432,
    "node_id": "IC_kwDOB7jojM5oJTNQ",
    "user": {
      "login": "niconiahi",
      "id": 8381041,
      "node_id": "MDQ6VXNlcjgzODEwNDE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8381041?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/niconiahi",
      "html_url": "https://github.com/niconiahi",
      "followers_url": "https://api.github.com/users/niconiahi/followers",
      "following_url": "https://api.github.com/users/niconiahi/following{/other_user}",
      "gists_url": "https://api.github.com/users/niconiahi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/niconiahi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/niconiahi/subscriptions",
      "organizations_url": "https://api.github.com/users/niconiahi/orgs",
      "repos_url": "https://api.github.com/users/niconiahi/repos",
      "events_url": "https://api.github.com/users/niconiahi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/niconiahi/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-10-04T16:38:19Z",
    "updated_at": "2023-10-04T16:38:19Z",
    "author_association": "NONE",
    "body": "I need that sweet pure ESM",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1747268432/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1757398688",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3385#issuecomment-1757398688",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3385",
    "id": 1757398688,
    "node_id": "IC_kwDOB7jojM5ov8ag",
    "user": {
      "login": "rhlsthrm",
      "id": 11512787,
      "node_id": "MDQ6VXNlcjExNTEyNzg3",
      "avatar_url": "https://avatars.githubusercontent.com/u/11512787?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rhlsthrm",
      "html_url": "https://github.com/rhlsthrm",
      "followers_url": "https://api.github.com/users/rhlsthrm/followers",
      "following_url": "https://api.github.com/users/rhlsthrm/following{/other_user}",
      "gists_url": "https://api.github.com/users/rhlsthrm/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rhlsthrm/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rhlsthrm/subscriptions",
      "organizations_url": "https://api.github.com/users/rhlsthrm/orgs",
      "repos_url": "https://api.github.com/users/rhlsthrm/repos",
      "events_url": "https://api.github.com/users/rhlsthrm/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rhlsthrm/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-10-11T10:49:47Z",
    "updated_at": "2023-10-11T10:49:47Z",
    "author_association": "CONTRIBUTOR",
    "body": "Tried a barebones `bun` setup for a new Hardhat project and ran into an error with ESM.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1757398688/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 1
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1774837040",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3385#issuecomment-1774837040",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3385",
    "id": 1774837040,
    "node_id": "IC_kwDOB7jojM5pyd0w",
    "user": {
      "login": "damianobarbati",
      "id": 2225869,
      "node_id": "MDQ6VXNlcjIyMjU4Njk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2225869?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/damianobarbati",
      "html_url": "https://github.com/damianobarbati",
      "followers_url": "https://api.github.com/users/damianobarbati/followers",
      "following_url": "https://api.github.com/users/damianobarbati/following{/other_user}",
      "gists_url": "https://api.github.com/users/damianobarbati/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/damianobarbati/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/damianobarbati/subscriptions",
      "organizations_url": "https://api.github.com/users/damianobarbati/orgs",
      "repos_url": "https://api.github.com/users/damianobarbati/repos",
      "events_url": "https://api.github.com/users/damianobarbati/events{/privacy}",
      "received_events_url": "https://api.github.com/users/damianobarbati/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-10-23T09:57:54Z",
    "updated_at": "2023-10-23T09:57:54Z",
    "author_association": "NONE",
    "body": "@schaable can `hardhat` just migrate to <https://www.npmjs.com/package/tsx> package? It runs without any problems with ESM, it was built to be ESM first.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1774837040/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1779757770",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3385#issuecomment-1779757770",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3385",
    "id": 1779757770,
    "node_id": "IC_kwDOB7jojM5qFPLK",
    "user": {
      "login": "nftchance",
      "id": 22061495,
      "node_id": "MDQ6VXNlcjIyMDYxNDk1",
      "avatar_url": "https://avatars.githubusercontent.com/u/22061495?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nftchance",
      "html_url": "https://github.com/nftchance",
      "followers_url": "https://api.github.com/users/nftchance/followers",
      "following_url": "https://api.github.com/users/nftchance/following{/other_user}",
      "gists_url": "https://api.github.com/users/nftchance/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nftchance/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nftchance/subscriptions",
      "organizations_url": "https://api.github.com/users/nftchance/orgs",
      "repos_url": "https://api.github.com/users/nftchance/repos",
      "events_url": "https://api.github.com/users/nftchance/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nftchance/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-10-25T17:41:57Z",
    "updated_at": "2023-10-25T17:41:57Z",
    "author_association": "NONE",
    "body": "+1 -- Need access to this please :) ",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1779757770/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1784117064",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3385#issuecomment-1784117064",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3385",
    "id": 1784117064,
    "node_id": "IC_kwDOB7jojM5qV3dI",
    "user": {
      "login": "Confucian-e",
      "id": 46948182,
      "node_id": "MDQ6VXNlcjQ2OTQ4MTgy",
      "avatar_url": "https://avatars.githubusercontent.com/u/46948182?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Confucian-e",
      "html_url": "https://github.com/Confucian-e",
      "followers_url": "https://api.github.com/users/Confucian-e/followers",
      "following_url": "https://api.github.com/users/Confucian-e/following{/other_user}",
      "gists_url": "https://api.github.com/users/Confucian-e/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Confucian-e/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Confucian-e/subscriptions",
      "organizations_url": "https://api.github.com/users/Confucian-e/orgs",
      "repos_url": "https://api.github.com/users/Confucian-e/repos",
      "events_url": "https://api.github.com/users/Confucian-e/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Confucian-e/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-10-29T13:43:45Z",
    "updated_at": "2023-10-29T13:43:45Z",
    "author_association": "NONE",
    "body": "hoping to support bun which uses ESM in typescript",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1784117064/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1839513193",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3385#issuecomment-1839513193",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3385",
    "id": 1839513193,
    "node_id": "IC_kwDOB7jojM5tpL5p",
    "user": {
      "login": "jmrossy",
      "id": 710751,
      "node_id": "MDQ6VXNlcjcxMDc1MQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/710751?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jmrossy",
      "html_url": "https://github.com/jmrossy",
      "followers_url": "https://api.github.com/users/jmrossy/followers",
      "following_url": "https://api.github.com/users/jmrossy/following{/other_user}",
      "gists_url": "https://api.github.com/users/jmrossy/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jmrossy/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jmrossy/subscriptions",
      "organizations_url": "https://api.github.com/users/jmrossy/orgs",
      "repos_url": "https://api.github.com/users/jmrossy/repos",
      "events_url": "https://api.github.com/users/jmrossy/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jmrossy/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-12-04T21:32:38Z",
    "updated_at": "2023-12-04T21:32:59Z",
    "author_association": "NONE",
    "body": "The Hyperlane team is hoping for this fix too! We compile our TS libs to ESM for better tree shaking.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1839513193/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1841380253",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3385#issuecomment-1841380253",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3385",
    "id": 1841380253,
    "node_id": "IC_kwDOB7jojM5twTud",
    "user": {
      "login": "schaable",
      "id": 1165424,
      "node_id": "MDQ6VXNlcjExNjU0MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1165424?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/schaable",
      "html_url": "https://github.com/schaable",
      "followers_url": "https://api.github.com/users/schaable/followers",
      "following_url": "https://api.github.com/users/schaable/following{/other_user}",
      "gists_url": "https://api.github.com/users/schaable/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/schaable/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/schaable/subscriptions",
      "organizations_url": "https://api.github.com/users/schaable/orgs",
      "repos_url": "https://api.github.com/users/schaable/repos",
      "events_url": "https://api.github.com/users/schaable/events{/privacy}",
      "received_events_url": "https://api.github.com/users/schaable/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-12-05T18:32:00Z",
    "updated_at": "2023-12-05T18:32:00Z",
    "author_association": "COLLABORATOR",
    "body": "Hi everyone, we just released a new version of Hardhat which has **experimental support for TypeScript + ESM projects**. To try it out, upgrade your version of Hardhat and follow these steps.\r\n\r\n# Initial Setup\r\n\r\n1. Modify `package.json`\r\n    - Add `\"type\": \"module\"` to your `package.json`. This indicates that the project uses ESM syntax.\r\n2. Rename Hardhat configuration file\r\n    - Change `hardhat.config.ts` to `hardhat.config.cts`. The `.cts` extension is necessary as the Hardhat config can only be CommonJS.\r\n\r\n# TypeScript Configuration\r\n\r\n1. Update `tsconfig.json`\r\n    - Under `compilerOptions`, set `\"module\": \"node16\"`, `\"target\": \"es2022\"`, and `\"esModuleInterop\": true`. These options ensure compatibility with Node.js v16 and above.\r\n    - Add `experimentalResolver: true` under the `ts-node` configuration. This setting enables file extension inclusion in CommonJS, and can help suppressing some IDE errors.\r\n    - If you’re using `files`, `include` or `exclude` in your config, you may need to add `files: true` the `ts-node` configuration to avoid certain type checking errors.\r\n\r\n```\r\n{\r\n  \"compilerOptions\": {\r\n    \"module\": \"node16\",\r\n    \"target\": \"es2022\",\r\n    \"esModuleInterop\": true\r\n    // ...\r\n  },\r\n  \"ts-node\": {\r\n    \"experimentalResolver\": true\r\n    \"files\": true // only if you have \"files\", \"include\" or \"exclude\" in your config\r\n  }\r\n}\r\n```\r\n\r\n# Code Adjustments\r\n\r\nTo make your Hardhat project compatible with ESM, you'll need to make the following adjustments to your code:\r\n\r\n1. Update relative imports\r\n    - Include the file extension in all your relative import statements. This is a requirement in ESM to correctly resolve modules.\r\n2. Specify full path for Directory Modules\r\n    - Replace any directory module imports with the full file path. For instance, instead of importing from a directory like `./utils`, specify the exact file: `./utils/index.js`.\r\n3. Handling Hardhat imports\r\n    - As Hardhat is still based on CommonJS, you cannot use named imports directly due to the module system difference. Instead:\r\n        - Import the entire module as a default import: `import hre from 'hardhat';`\r\n        - Use destructuring to access specific properties: `const { ethers, network } = hre;`\r\n\r\n## Plugins and types\r\n\r\nPlugins such as `hardhat-ethers` and `hardhat-viem` automatically generate TypeScript typings for contracts during compilation. These files, despite having `.ts` extensions, should be treated as CommonJS modules. However, due to the root `package.json` specifying `\"type\": \"module\"`, they are incorrectly interpreted as ESM modules. This leads to issues in IDEs with type checking and autocomplete features.\r\n\r\nTo resolve this, add a `package.json` file with `\"type\": \"commonjs\"` in the folder where these files are generated (`./typechain-types` for `hardhat-ethers` and `./artifacts` for `hardhat-viem`). To streamline this process, we provide snippets with overrides of the compilation task which you can include in your `hardhat.config.cts`. These tasks automatically create the necessary `package.json` file during the compilation process.\r\n\r\n### hardhat-viem\r\n\r\nIf you’re using `hardhat-viem`, add the following snippet after the `import`s in your `hardhat-config.cts`\r\n\r\n```\r\nimport { join } from \"path\";\r\nimport { writeFile } from \"fs/promises\";\r\nimport { subtask } from \"hardhat/config\";\r\nimport { TASK_COMPILE_SOLIDITY } from \"hardhat/builtin-tasks/task-names\";\r\n\r\nsubtask(TASK_COMPILE_SOLIDITY).setAction(async (_, { config }, runSuper) => {\r\n  const superRes = await runSuper();\r\n\r\n  try {\r\n    await writeFile(\r\n      join(config.paths.artifacts, \"package.json\"),\r\n      '{ \"type\": \"commonjs\" }'\r\n    );\r\n  } catch (error) {\r\n    console.error(\"Error writing package.json: \", error);\r\n  }\r\n\r\n  return superRes;\r\n});\r\n```\r\n\r\n### hardhat-ethers\r\n\r\nIf you’re using hardhat-ethers, add the following snippet after the `import`s in your `hardhat-config.cts`\r\n\r\n```\r\nimport { join } from \"path\";\r\nimport { writeFile } from \"fs/promises\";\r\nimport { subtask } from \"hardhat/config\";\r\nimport { TASK_COMPILE_SOLIDITY } from \"hardhat/builtin-tasks/task-names\";\r\n\r\nsubtask(TASK_COMPILE_SOLIDITY).setAction(async (_, { config }, runSuper) => {\r\n  const superRes = await runSuper();\r\n\r\n  try {\r\n    await writeFile(\r\n      join(config.paths.root, \"typechain-types\", \"package.json\"),\r\n      '{ \"type\": \"commonjs\" }'\r\n    );\r\n  } catch (error) {\r\n    console.error(\"Error writing package.json: \", error);\r\n  }\r\n\r\n  return superRes;\r\n});\r\n```\r\n\r\n# Running Scripts and Tests\r\n\r\n- Run scripts with:\r\n`NODE_OPTIONS=\"--experimental-loader ts-node/esm/transpile-only\" hh run scripts/deploy.ts`\r\n- Execute tests using:\r\n`NODE_OPTIONS=\"--experimental-loader ts-node/esm/transpile-only\" hh test`\r\n- To avoid experimental feature warnings, append `--no-warnings=ExperimentalWarning` to your `NODE_OPTIONS`\r\n- You can integrate these commands into your project's `package.json` for easy execution:\r\n\r\n```\r\n\"scripts\": {\r\n  \"test\": \"NODE_OPTIONS='--experimental-loader ts-node/esm/transpile-only --no-warnings=ExperimentalWarning' hardhat test\",\r\n  \"script\": \"NODE_OPTIONS='--experimental-loader ts-node/esm/transpile-only --no-warnings=ExperimentalWarning' hardhat run\"\r\n}\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1841380253/reactions",
      "total_count": 3,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 3,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1842695893",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3385#issuecomment-1842695893",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3385",
    "id": 1842695893,
    "node_id": "IC_kwDOB7jojM5t1U7V",
    "user": {
      "login": "signorecello",
      "id": 20129824,
      "node_id": "MDQ6VXNlcjIwMTI5ODI0",
      "avatar_url": "https://avatars.githubusercontent.com/u/20129824?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/signorecello",
      "html_url": "https://github.com/signorecello",
      "followers_url": "https://api.github.com/users/signorecello/followers",
      "following_url": "https://api.github.com/users/signorecello/following{/other_user}",
      "gists_url": "https://api.github.com/users/signorecello/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/signorecello/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/signorecello/subscriptions",
      "organizations_url": "https://api.github.com/users/signorecello/orgs",
      "repos_url": "https://api.github.com/users/signorecello/repos",
      "events_url": "https://api.github.com/users/signorecello/events{/privacy}",
      "received_events_url": "https://api.github.com/users/signorecello/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-12-06T11:34:59Z",
    "updated_at": "2023-12-06T11:34:59Z",
    "author_association": "NONE",
    "body": "Thanks @schaable this works perfectly! Finally dumping CJS in Aztec's Noir stuff!",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1842695893/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 1,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
