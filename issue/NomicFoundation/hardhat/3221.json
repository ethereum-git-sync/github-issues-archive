{
  "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3221",
  "repository_url": "https://api.github.com/repos/NomicFoundation/hardhat",
  "labels_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3221/labels{/name}",
  "comments_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3221/comments",
  "events_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3221/events",
  "html_url": "https://github.com/NomicFoundation/hardhat/issues/3221",
  "id": 1389144743,
  "node_id": "I_kwDOB7jojM5SzKqn",
  "number": 3221,
  "title": "How to make user defined network config url property optional",
  "user": {
    "login": "Nathan-SL",
    "id": 102951164,
    "node_id": "U_kgDOBiLo_A",
    "avatar_url": "https://avatars.githubusercontent.com/u/102951164?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Nathan-SL",
    "html_url": "https://github.com/Nathan-SL",
    "followers_url": "https://api.github.com/users/Nathan-SL/followers",
    "following_url": "https://api.github.com/users/Nathan-SL/following{/other_user}",
    "gists_url": "https://api.github.com/users/Nathan-SL/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Nathan-SL/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Nathan-SL/subscriptions",
    "organizations_url": "https://api.github.com/users/Nathan-SL/orgs",
    "repos_url": "https://api.github.com/users/Nathan-SL/repos",
    "events_url": "https://api.github.com/users/Nathan-SL/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Nathan-SL/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": true,
  "assignee": {
    "login": "fvictorio",
    "id": 417134,
    "node_id": "MDQ6VXNlcjQxNzEzNA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/fvictorio",
    "html_url": "https://github.com/fvictorio",
    "followers_url": "https://api.github.com/users/fvictorio/followers",
    "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
    "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
    "organizations_url": "https://api.github.com/users/fvictorio/orgs",
    "repos_url": "https://api.github.com/users/fvictorio/repos",
    "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
    "received_events_url": "https://api.github.com/users/fvictorio/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2022-09-28T10:48:39Z",
  "updated_at": "2023-02-01T00:15:52Z",
  "closed_at": "2022-11-02T15:54:05Z",
  "author_association": "NONE",
  "active_lock_reason": "resolved",
  "body": "<!--\r\n\r\nThank you for using Hardhat and taking the time to open an issue!\r\n\r\n**Note that this issue tracker is not a support channel.**\r\n\r\n- For help with Hardhat and Hardhat network, please use our [Discord server](https://hardhat.org/discord).\r\n- For help with ethers.js, please go to [its Github Discussions](https://github.com/ethers-io/ethers.js/discussions).\r\n\r\nIf you are reporting a bug, please include reproduction steps. The best way to do this is to include a [Minimal Reproducible Example](https://stackoverflow.com/help/minimal-reproducible-example). If you can't do that, then include a link to your repo, and the steps to reproduce the problem. The easiest it is to reproduce your problem, the faster we are going to be able to fix it.\r\n\r\nIf you are submitting a feature request, please take the time to clearly describe your use case, and not only your proposed solution.\r\n\r\nThis issue will be automatically assigned to a Hardhat team member. This person will act as the point of contact between you and the team, but won't necessarily fix it nor address it in any way. An issue being assigned does not mean that it's being worked on.\r\n\r\n-->\r\n\r\nWe're building a [hardhat plugin](https://github.com/Shard-Labs/starknet-hardhat-plugin). How should the plugin be written so that custom networks can omit the url property? Currently, user-defined network configs don't allow omitting the `url` property and for some special cases, it seems reasonable to have a way to support it as an optional property.  Here's the error we get from the validator.\r\n```\r\nError HH8: There's one or more errors in your config file:\r\n\r\n  * Invalid value undefined for HardhatConfig.networks.networkName.url - Expected a value of type string.\r\n  \r\n    To learn more about Hardhat's configuration, please go to https://hardhat.org/config/\r\n```\r\nFor a config file like below.\r\n\r\n```ts\r\nconst config: HardhatUserConfig = {\r\n    solidity: \"0.6.12\",\r\n    starknet: {\r\n        dockerizedVersion: \"0.9.1\",\r\n        network: 'networkName',\r\n    },\r\n    networks: {\r\n        networkName: {\r\n            // url: \"http://127.0.0.1:5050\",\r\n        }\r\n    }\r\n};\r\n```\r\n\r\n",
  "closed_by": {
    "login": "fvictorio",
    "id": 417134,
    "node_id": "MDQ6VXNlcjQxNzEzNA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/fvictorio",
    "html_url": "https://github.com/fvictorio",
    "followers_url": "https://api.github.com/users/fvictorio/followers",
    "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
    "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
    "organizations_url": "https://api.github.com/users/fvictorio/orgs",
    "repos_url": "https://api.github.com/users/fvictorio/repos",
    "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
    "received_events_url": "https://api.github.com/users/fvictorio/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3221/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3221/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1260728183",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3221#issuecomment-1260728183",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3221",
    "id": 1260728183,
    "node_id": "IC_kwDOB7jojM5LJS93",
    "user": {
      "login": "github-actions[bot]",
      "id": 41898282,
      "node_id": "MDM6Qm90NDE4OTgyODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/github-actions%5Bbot%5D",
      "html_url": "https://github.com/apps/github-actions",
      "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2022-09-28T10:49:04Z",
    "updated_at": "2022-09-28T10:49:04Z",
    "author_association": "CONTRIBUTOR",
    "body": "This issue is also being [tracked on Linear](https://linear.app/nomic-foundation/issue/HH-1216/how-to-make-user-defined-network-configs-url-property-optional).\n\nWe use Linear to manage our development process, but we keep the conversations on Github.\n\nLINEAR-ID: 0c6d7400-3e62-4ca4-b055-f80075961d3d",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1260728183/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1263365358",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3221#issuecomment-1263365358",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3221",
    "id": 1263365358,
    "node_id": "IC_kwDOB7jojM5LTWzu",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-30T09:58:53Z",
    "updated_at": "2022-09-30T09:58:53Z",
    "author_association": "MEMBER",
    "body": "I don't think this is doable right now. Maybe we could move that validation after the config is resolved, and that way you could put some dummy urls with `extendConfig`. But I would like to understand the problem better:\r\n\r\n> and for some special cases, it seems reasonable to have a way to support it as an optional property\r\n\r\nCan you expand on this?\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1263365358/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1265098424",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3221#issuecomment-1265098424",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3221",
    "id": 1265098424,
    "node_id": "IC_kwDOB7jojM5LZ964",
    "user": {
      "login": "Nathan-SL",
      "id": 102951164,
      "node_id": "U_kgDOBiLo_A",
      "avatar_url": "https://avatars.githubusercontent.com/u/102951164?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Nathan-SL",
      "html_url": "https://github.com/Nathan-SL",
      "followers_url": "https://api.github.com/users/Nathan-SL/followers",
      "following_url": "https://api.github.com/users/Nathan-SL/following{/other_user}",
      "gists_url": "https://api.github.com/users/Nathan-SL/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Nathan-SL/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Nathan-SL/subscriptions",
      "organizations_url": "https://api.github.com/users/Nathan-SL/orgs",
      "repos_url": "https://api.github.com/users/Nathan-SL/repos",
      "events_url": "https://api.github.com/users/Nathan-SL/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Nathan-SL/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-03T08:21:52Z",
    "updated_at": "2022-10-03T09:06:29Z",
    "author_association": "NONE",
    "body": "Yes, If validation happens after config is resolved, providing an empty string inside `extendConfig` will help us.\r\n> Can you expand on this?\r\n\r\nOn our custom network, `integrated-devnet`, we intend to enable users to run their programs (by spawning as child processes in different random free ports).",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1265098424/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1265146193",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3221#issuecomment-1265146193",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3221",
    "id": 1265146193,
    "node_id": "IC_kwDOB7jojM5LaJlR",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-03T09:05:25Z",
    "updated_at": "2022-10-03T09:05:25Z",
    "author_association": "MEMBER",
    "body": "That's very interesting.\r\n\r\n@alcuadrado what do you think about moving the `url` validation after resolution?",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1265146193/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1275706767",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3221#issuecomment-1275706767",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3221",
    "id": 1275706767,
    "node_id": "IC_kwDOB7jojM5MCb2P",
    "user": {
      "login": "Nathan-SL",
      "id": 102951164,
      "node_id": "U_kgDOBiLo_A",
      "avatar_url": "https://avatars.githubusercontent.com/u/102951164?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Nathan-SL",
      "html_url": "https://github.com/Nathan-SL",
      "followers_url": "https://api.github.com/users/Nathan-SL/followers",
      "following_url": "https://api.github.com/users/Nathan-SL/following{/other_user}",
      "gists_url": "https://api.github.com/users/Nathan-SL/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Nathan-SL/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Nathan-SL/subscriptions",
      "organizations_url": "https://api.github.com/users/Nathan-SL/orgs",
      "repos_url": "https://api.github.com/users/Nathan-SL/repos",
      "events_url": "https://api.github.com/users/Nathan-SL/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Nathan-SL/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-12T07:22:53Z",
    "updated_at": "2022-10-12T07:22:53Z",
    "author_association": "NONE",
    "body": "Any updates?",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1275706767/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1300746482",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3221#issuecomment-1300746482",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3221",
    "id": 1300746482,
    "node_id": "IC_kwDOB7jojM5Nh9Dy",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-11-02T15:54:05Z",
    "updated_at": "2022-11-02T15:54:05Z",
    "author_association": "MEMBER",
    "body": "Hi @Nathan-SL, sorry for not responding before. We decided to go on with that approach. I opened #3323 to track that effort, so I'm going to close this one in favor of that.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1300746482/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
