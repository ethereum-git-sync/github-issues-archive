{
  "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1631",
  "repository_url": "https://api.github.com/repos/NomicFoundation/hardhat",
  "labels_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1631/labels{/name}",
  "comments_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1631/comments",
  "events_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1631/events",
  "html_url": "https://github.com/NomicFoundation/hardhat/issues/1631",
  "id": 936458124,
  "node_id": "MDU6SXNzdWU5MzY0NTgxMjQ=",
  "number": 1631,
  "title": "Add \"debug_storageRangeAt\" JSON-RPC method support",
  "user": {
    "login": "aftermathdigital",
    "id": 84855515,
    "node_id": "MDQ6VXNlcjg0ODU1NTE1",
    "avatar_url": "https://avatars.githubusercontent.com/u/84855515?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/aftermathdigital",
    "html_url": "https://github.com/aftermathdigital",
    "followers_url": "https://api.github.com/users/aftermathdigital/followers",
    "following_url": "https://api.github.com/users/aftermathdigital/following{/other_user}",
    "gists_url": "https://api.github.com/users/aftermathdigital/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/aftermathdigital/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/aftermathdigital/subscriptions",
    "organizations_url": "https://api.github.com/users/aftermathdigital/orgs",
    "repos_url": "https://api.github.com/users/aftermathdigital/repos",
    "events_url": "https://api.github.com/users/aftermathdigital/events{/privacy}",
    "received_events_url": "https://api.github.com/users/aftermathdigital/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 947232611,
      "node_id": "MDU6TGFiZWw5NDcyMzI2MTE=",
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/labels/type:feature",
      "name": "type:feature",
      "color": "FBCA04",
      "default": false,
      "description": "Feature request"
    },
    {
      "id": 4937720577,
      "node_id": "LA_kwDOB7jojM8AAAABJk-jAQ",
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/labels/status:ready",
      "name": "status:ready",
      "color": "0E8A16",
      "default": false,
      "description": "This issue is ready to be worked on"
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2021-07-04T13:27:52Z",
  "updated_at": "2022-12-29T11:19:46Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Using Remix's local web3 provider to debug transactions submitted to a local hardhat node fails with the following error:\r\n\r\n`debug_storageRangeAt - Method not supported`\r\n\r\nSearching for `debug_storageRangeAt` in the hardhat repo returns no results, so I guess this method is just not implemented at present.\r\n\r\nReproduction steps:\r\nI used a forking provider similar to the following, but I don't think you need to:\r\n```javascript\r\nmodule.exports = {\r\n  solidity: \"0.4.24\",\r\n  networks: {\r\n    hardhat: {\r\n      chainId: 31337,\r\n      forking: {\r\n        url: \"https://mainnet.infura.io/v3/api_key\"\r\n      }\r\n    }\r\n  }\r\n};\r\n```\r\n\r\n1. spawn a node with `npx hardhat node`\r\n2. configure solidity to use the local web3 provider\r\n3. deploy a contract\r\n4. perform a tx interacting with the contract\r\n5. Attempt to debug the transaction\r\n6. Step forward once\r\n\r\nAt this point the remix debug pane dissapears (presumably due to an unhandled error on their side) and the hh node console is spammed with `debug_storageRangeAt - Method not supported`",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1631/reactions",
    "total_count": 5,
    "+1": 5,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1631/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/874232453",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1631#issuecomment-874232453",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1631",
    "id": 874232453,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3NDIzMjQ1Mw==",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-05T16:44:19Z",
    "updated_at": "2021-07-05T16:44:19Z",
    "author_association": "MEMBER",
    "body": "Thanks for opening this @aftermathdigital. This will require some investigation. Especially: how does that method behave? Is it documented somewhere? Will this be enough for remix's debugger to work with Hardhat?",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/874232453/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/874249659",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1631#issuecomment-874249659",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1631",
    "id": 874249659,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3NDI0OTY1OQ==",
    "user": {
      "login": "aftermathdigital",
      "id": 84855515,
      "node_id": "MDQ6VXNlcjg0ODU1NTE1",
      "avatar_url": "https://avatars.githubusercontent.com/u/84855515?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aftermathdigital",
      "html_url": "https://github.com/aftermathdigital",
      "followers_url": "https://api.github.com/users/aftermathdigital/followers",
      "following_url": "https://api.github.com/users/aftermathdigital/following{/other_user}",
      "gists_url": "https://api.github.com/users/aftermathdigital/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aftermathdigital/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aftermathdigital/subscriptions",
      "organizations_url": "https://api.github.com/users/aftermathdigital/orgs",
      "repos_url": "https://api.github.com/users/aftermathdigital/repos",
      "events_url": "https://api.github.com/users/aftermathdigital/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aftermathdigital/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-05T17:24:59Z",
    "updated_at": "2021-07-05T17:32:52Z",
    "author_association": "NONE",
    "body": "Regarding documenting the method... the best I can find is this: https://github.com/ethereum/go-ethereum/pull/14350 which is the pull request that implements it in Geth.\r\n\r\nI don't know if this will be enough to make remix work - but ganache has a similar issue open where they seem to think it is all they need (since you already have `debug_traceTransaction`) : https://github.com/trufflesuite/ganache-cli/issues/248\r\n\r\nGetBlock have a little bit of documentation here, too: https://getblock.io/docs/available-nodes-methods/ETH/JSON-RPC/debug_storageRangeAt \r\n\r\nIt sounds like a bulk-version of `eth_getStorageAt`, so its implementation may be quite similar.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/874249659/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/935501802",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1631#issuecomment-935501802",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1631",
    "id": 935501802,
    "node_id": "IC_kwDOB7jojM43wp_q",
    "user": {
      "login": "tcoulter",
      "id": 92629,
      "node_id": "MDQ6VXNlcjkyNjI5",
      "avatar_url": "https://avatars.githubusercontent.com/u/92629?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tcoulter",
      "html_url": "https://github.com/tcoulter",
      "followers_url": "https://api.github.com/users/tcoulter/followers",
      "following_url": "https://api.github.com/users/tcoulter/following{/other_user}",
      "gists_url": "https://api.github.com/users/tcoulter/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tcoulter/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tcoulter/subscriptions",
      "organizations_url": "https://api.github.com/users/tcoulter/orgs",
      "repos_url": "https://api.github.com/users/tcoulter/repos",
      "events_url": "https://api.github.com/users/tcoulter/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tcoulter/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-06T05:37:13Z",
    "updated_at": "2021-10-06T05:37:34Z",
    "author_association": "NONE",
    "body": "Note to anyone reading the above comment: The Ganache issue for `debug_storageRangeAt` referenced above has moved to here: https://github.com/trufflesuite/ganache/issues/1037",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/935501802/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
