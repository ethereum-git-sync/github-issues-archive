{
  "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1130",
  "repository_url": "https://api.github.com/repos/NomicFoundation/hardhat",
  "labels_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1130/labels{/name}",
  "comments_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1130/comments",
  "events_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1130/events",
  "html_url": "https://github.com/NomicFoundation/hardhat/issues/1130",
  "id": 774437675,
  "node_id": "MDU6SXNzdWU3NzQ0Mzc2NzU=",
  "number": 1130,
  "title": "HardHat 2.0.6 does not compile legit contracts (not a Solidity bug)",
  "user": {
    "login": "vporton",
    "id": 2900574,
    "node_id": "MDQ6VXNlcjI5MDA1NzQ=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2900574?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vporton",
    "html_url": "https://github.com/vporton",
    "followers_url": "https://api.github.com/users/vporton/followers",
    "following_url": "https://api.github.com/users/vporton/following{/other_user}",
    "gists_url": "https://api.github.com/users/vporton/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vporton/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vporton/subscriptions",
    "organizations_url": "https://api.github.com/users/vporton/orgs",
    "repos_url": "https://api.github.com/users/vporton/repos",
    "events_url": "https://api.github.com/users/vporton/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vporton/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 901960538,
      "node_id": "MDU6TGFiZWw5MDE5NjA1Mzg=",
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/labels/type:bug",
      "name": "type:bug",
      "color": "FBCA04",
      "default": false,
      "description": "Something isn't working"
    }
  ],
  "state": "closed",
  "locked": true,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2020-12-24T13:26:31Z",
  "updated_at": "2022-11-18T21:09:09Z",
  "closed_at": "2020-12-28T17:08:41Z",
  "author_association": "NONE",
  "active_lock_reason": "resolved",
  "body": "https://github.com/vporton/hardhat-solc-versions-bug\r\n\r\n```\r\n$ npx hardhat compile\r\nError HH606: The project cannot be compiled, see reasons below.\r\n\r\nThe Solidity version pragma statement in these files don't match any of the configured compilers in your config. Change the pragma or configure additional compiler versions in your hardhat config.\r\n\r\n  * abdk-libraries-solidity/ABDKMath64x64.sol (^0.5.0)\r\n\r\nThese files import other files that use a different and incompatible version of Solidity:\r\n\r\n  * contracts/import.sol (^0.7.5) imports abdk-libraries-solidity/ABDKMath64x64.sol (^0.5.0)\r\n\r\nTo learn more, run the command again with --verbose\r\n\r\nRead about compiler configuration at https://hardhat.org/config\r\n\r\n\r\nFor more info go to https://hardhat.org/HH606 or run Hardhat with --show-stack-traces\r\n```",
  "closed_by": {
    "login": "alcuadrado",
    "id": 176499,
    "node_id": "MDQ6VXNlcjE3NjQ5OQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/176499?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/alcuadrado",
    "html_url": "https://github.com/alcuadrado",
    "followers_url": "https://api.github.com/users/alcuadrado/followers",
    "following_url": "https://api.github.com/users/alcuadrado/following{/other_user}",
    "gists_url": "https://api.github.com/users/alcuadrado/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/alcuadrado/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/alcuadrado/subscriptions",
    "organizations_url": "https://api.github.com/users/alcuadrado/orgs",
    "repos_url": "https://api.github.com/users/alcuadrado/repos",
    "events_url": "https://api.github.com/users/alcuadrado/events{/privacy}",
    "received_events_url": "https://api.github.com/users/alcuadrado/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1130/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1130/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/750884393",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1130#issuecomment-750884393",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1130",
    "id": 750884393,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc1MDg4NDM5Mw==",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-12-24T13:32:43Z",
    "updated_at": "2020-12-24T13:32:43Z",
    "author_association": "MEMBER",
    "body": "Thanks @vporton. I think the underlying problem is https://github.com/nomiclabs/hardhat/issues/1089, since the imported contracts has a `pragma solidity ^0.5.0 || ^0.6.0 || ^0.7.0;`",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/750884393/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/750885369",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1130#issuecomment-750885369",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1130",
    "id": 750885369,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc1MDg4NTM2OQ==",
    "user": {
      "login": "vporton",
      "id": 2900574,
      "node_id": "MDQ6VXNlcjI5MDA1NzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2900574?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vporton",
      "html_url": "https://github.com/vporton",
      "followers_url": "https://api.github.com/users/vporton/followers",
      "following_url": "https://api.github.com/users/vporton/following{/other_user}",
      "gists_url": "https://api.github.com/users/vporton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vporton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vporton/subscriptions",
      "organizations_url": "https://api.github.com/users/vporton/orgs",
      "repos_url": "https://api.github.com/users/vporton/repos",
      "events_url": "https://api.github.com/users/vporton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vporton/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-12-24T13:36:48Z",
    "updated_at": "2020-12-24T13:36:48Z",
    "author_association": "NONE",
    "body": "Any workaround? or just use OpenZeppelin instead of HardHat?",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/750885369/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/750918830",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1130#issuecomment-750918830",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1130",
    "id": 750918830,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc1MDkxODgzMA==",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-12-24T16:08:36Z",
    "updated_at": "2020-12-24T16:08:36Z",
    "author_association": "MEMBER",
    "body": "A workaround that could be to use `>=0.5.0` instead of `^0.7.5` in the contract that imports that dependency. I *think* that should fix it. It's not a nice solution though, we'll try to release a proper fix for this as soon as possible.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/750918830/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/750935618",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1130#issuecomment-750935618",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1130",
    "id": 750935618,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc1MDkzNTYxOA==",
    "user": {
      "login": "sisco0",
      "id": 25695302,
      "node_id": "MDQ6VXNlcjI1Njk1MzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/25695302?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sisco0",
      "html_url": "https://github.com/sisco0",
      "followers_url": "https://api.github.com/users/sisco0/followers",
      "following_url": "https://api.github.com/users/sisco0/following{/other_user}",
      "gists_url": "https://api.github.com/users/sisco0/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sisco0/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sisco0/subscriptions",
      "organizations_url": "https://api.github.com/users/sisco0/orgs",
      "repos_url": "https://api.github.com/users/sisco0/repos",
      "events_url": "https://api.github.com/users/sisco0/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sisco0/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-12-24T17:53:23Z",
    "updated_at": "2020-12-24T18:25:41Z",
    "author_association": "CONTRIBUTOR",
    "body": "Have a good day, I have been doing some tests.\r\nWhen using the `||` operator the tests seems to run correctly when added to\r\n`packages/hardhat-core/test/internal/solidity/compiler/index.ts`\r\ncompilation tests, trying to replicate the error right now.\r\n\r\nI created a _hardhat_ project, modified the `Greeter.sol` to contain `pragma solidity ^0.7.0 || ^0.4.0;` and it seems to be compiling with no problems when using `npx hardhat compile`.\r\n\r\nAs you pointed out wisely, it seems that compilation could be accomplished but dependency versions checking when using `||` is not taken into account, as it only compiles when both files use `^0.7.0 || ^0.6.0 || ^0.5.0`, not compiling when using `^0.5.0 || ^0.6.0 || ^0.7.0`.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/750935618/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/751426503",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1130#issuecomment-751426503",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1130",
    "id": 751426503,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc1MTQyNjUwMw==",
    "user": {
      "login": "sisco0",
      "id": 25695302,
      "node_id": "MDQ6VXNlcjI1Njk1MzAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/25695302?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sisco0",
      "html_url": "https://github.com/sisco0",
      "followers_url": "https://api.github.com/users/sisco0/followers",
      "following_url": "https://api.github.com/users/sisco0/following{/other_user}",
      "gists_url": "https://api.github.com/users/sisco0/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sisco0/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sisco0/subscriptions",
      "organizations_url": "https://api.github.com/users/sisco0/orgs",
      "repos_url": "https://api.github.com/users/sisco0/repos",
      "events_url": "https://api.github.com/users/sisco0/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sisco0/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-12-27T04:59:29Z",
    "updated_at": "2020-12-27T04:59:29Z",
    "author_association": "CONTRIBUTOR",
    "body": "I added my comments to the PR in order to ensure that `||` operators are properly parsed.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/751426503/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
