{
  "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/554",
  "repository_url": "https://api.github.com/repos/NomicFoundation/hardhat",
  "labels_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/554/labels{/name}",
  "comments_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/554/comments",
  "events_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/554/events",
  "html_url": "https://github.com/NomicFoundation/hardhat/issues/554",
  "id": 614123823,
  "node_id": "MDU6SXNzdWU2MTQxMjM4MjM=",
  "number": 554,
  "title": "tests error: \"Transaction reverted for an unrecognized reason\"",
  "user": {
    "login": "mcplums",
    "id": 7642216,
    "node_id": "MDQ6VXNlcjc2NDIyMTY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/7642216?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/mcplums",
    "html_url": "https://github.com/mcplums",
    "followers_url": "https://api.github.com/users/mcplums/followers",
    "following_url": "https://api.github.com/users/mcplums/following{/other_user}",
    "gists_url": "https://api.github.com/users/mcplums/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/mcplums/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mcplums/subscriptions",
    "organizations_url": "https://api.github.com/users/mcplums/orgs",
    "repos_url": "https://api.github.com/users/mcplums/repos",
    "events_url": "https://api.github.com/users/mcplums/events{/privacy}",
    "received_events_url": "https://api.github.com/users/mcplums/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": true,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2020-05-07T14:57:03Z",
  "updated_at": "2022-11-19T11:03:05Z",
  "closed_at": "2020-06-04T22:41:29Z",
  "author_association": "NONE",
  "active_lock_reason": "resolved",
  "body": "My tests have the error \"Transaction reverted for an unrecognized reason. Please report this to help us improve Buidler\" when calling an override function. \r\n\r\nUsing buidler 1.3.2.\r\n\r\nWhen running npx buidler tests, this line in my tests js:\r\n\r\n`await shouldFail.reverting.withMessage(token.transferFrom(user,user1,2), \"Only the contract can make transfers\");`\r\n\r\nThis is the solidity function it is testing:\r\n\r\n```\r\nfunction transferFrom(address from, address to, uint256 tokenId) override public {\r\n        require(false, \"Only the contract can make transfers\");\r\n        from;\r\n        to;\r\n        tokenId;\r\n    }\r\n```\r\n\r\nwhich is itself overriding the transferFrom function in the open zeppelin ERC721 contract.\r\n\r\nWat do?",
  "closed_by": {
    "login": "alcuadrado",
    "id": 176499,
    "node_id": "MDQ6VXNlcjE3NjQ5OQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/176499?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/alcuadrado",
    "html_url": "https://github.com/alcuadrado",
    "followers_url": "https://api.github.com/users/alcuadrado/followers",
    "following_url": "https://api.github.com/users/alcuadrado/following{/other_user}",
    "gists_url": "https://api.github.com/users/alcuadrado/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/alcuadrado/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/alcuadrado/subscriptions",
    "organizations_url": "https://api.github.com/users/alcuadrado/orgs",
    "repos_url": "https://api.github.com/users/alcuadrado/repos",
    "events_url": "https://api.github.com/users/alcuadrado/events{/privacy}",
    "received_events_url": "https://api.github.com/users/alcuadrado/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/554/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/554/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/631140175",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/554#issuecomment-631140175",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/554",
    "id": 631140175,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzMTE0MDE3NQ==",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-05-19T23:27:24Z",
    "updated_at": "2020-05-19T23:27:24Z",
    "author_association": "MEMBER",
    "body": "I can't reproduce this. Do you have a public repo with this project?\r\n\r\nAlso, which version of `solc` are you using?\r\n\r\nThis is what I'm doing. Contract:\r\n\r\n```solidity\r\npragma solidity ^0.6.5;\r\n\r\nimport \"@openzeppelin/contracts/token/ERC721/ERC721.sol\";\r\n\r\ncontract MyCollectible is ERC721 {\r\n    constructor() ERC721(\"MyCollectible\", \"MY721\") public {\r\n    }\r\n\r\n    function transferFrom(address from, address to, uint256 tokenId) override public {\r\n        require(false, \"Only the contract can make transfers\");\r\n        from;\r\n        to;\r\n        tokenId;\r\n    }\r\n}\r\n```\r\n\r\nTest:\r\n\r\n```\r\nconst { expect } = require(\"chai\");\r\n\r\ndescribe(\"MyCollectible\", function() {\r\n  it(\"transferFrom should fail\", async function() {\r\n    const MyCollectible = await ethers.getContractFactory(\"MyCollectible\");\r\n    const myCollectible = await MyCollectible.deploy();\r\n\r\n    await myCollectible.deployed();\r\n\r\n    await expect(myCollectible.transferFrom(\"0x90F8bf6A479f320ead074411a4B0e7944Ea8c9C1\",\"0x90F8bf6A479f320ead074411a4B0e7944Ea8c9C1\",2))\r\n      .to.be.revertedWith('Only the contract can make transfers');\r\n  });\r\n});\r\n```\r\n\r\nI'm using a different assertion in the test, but that shouldn't make any difference.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/631140175/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/639155004",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/554#issuecomment-639155004",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/554",
    "id": 639155004,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYzOTE1NTAwNA==",
    "user": {
      "login": "alcuadrado",
      "id": 176499,
      "node_id": "MDQ6VXNlcjE3NjQ5OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/176499?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alcuadrado",
      "html_url": "https://github.com/alcuadrado",
      "followers_url": "https://api.github.com/users/alcuadrado/followers",
      "following_url": "https://api.github.com/users/alcuadrado/following{/other_user}",
      "gists_url": "https://api.github.com/users/alcuadrado/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alcuadrado/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alcuadrado/subscriptions",
      "organizations_url": "https://api.github.com/users/alcuadrado/orgs",
      "repos_url": "https://api.github.com/users/alcuadrado/repos",
      "events_url": "https://api.github.com/users/alcuadrado/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alcuadrado/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-04T22:41:29Z",
    "updated_at": "2020-06-04T22:41:29Z",
    "author_association": "MEMBER",
    "body": "Thanks for reporting this, @mcplums. We released a new version of Buidler that addresses your problem.\r\n\r\nLet us know if it is still present.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/639155004/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
