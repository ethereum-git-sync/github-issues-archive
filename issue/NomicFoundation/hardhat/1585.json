{
  "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1585",
  "repository_url": "https://api.github.com/repos/NomicFoundation/hardhat",
  "labels_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1585/labels{/name}",
  "comments_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1585/comments",
  "events_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1585/events",
  "html_url": "https://github.com/NomicFoundation/hardhat/issues/1585",
  "id": 928184418,
  "node_id": "MDU6SXNzdWU5MjgxODQ0MTg=",
  "number": 1585,
  "title": "Accept leading zeros in QUANTITY",
  "user": {
    "login": "fvictorio",
    "id": 417134,
    "node_id": "MDQ6VXNlcjQxNzEzNA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/fvictorio",
    "html_url": "https://github.com/fvictorio",
    "followers_url": "https://api.github.com/users/fvictorio/followers",
    "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
    "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
    "organizations_url": "https://api.github.com/users/fvictorio/orgs",
    "repos_url": "https://api.github.com/users/fvictorio/repos",
    "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
    "received_events_url": "https://api.github.com/users/fvictorio/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": true,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 28,
  "created_at": "2021-06-23T12:06:07Z",
  "updated_at": "2023-01-08T00:15:00Z",
  "closed_at": "2022-03-28T20:53:58Z",
  "author_association": "MEMBER",
  "active_lock_reason": "resolved",
  "body": "This throws an error:\r\n\r\n```js\r\nawait ethers.provider.send(\"hardhat_setBalance\", [\"0x7D6bF26aA0B80A44b2ba41edAE1AA7663B6B20ac\", ethers.utils.parseEther(\"1\").toHexString()])\r\n```\r\n\r\nThe reason it doesn't work is that 1 eth in (padded) hex is `0x0de0b6b3a7640000`. Since users rely on `ethers.utils.parseEther` a lot, we should accept this (plus, it's a valid hex IMO).\r\n\r\nThe only thing we should decide is if we accept any amount of leading zeros or only hex strings padded to an even length. I'll check what geth does and update this issue.",
  "closed_by": {
    "login": "fvictorio",
    "id": 417134,
    "node_id": "MDQ6VXNlcjQxNzEzNA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/fvictorio",
    "html_url": "https://github.com/fvictorio",
    "followers_url": "https://api.github.com/users/fvictorio/followers",
    "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
    "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
    "organizations_url": "https://api.github.com/users/fvictorio/orgs",
    "repos_url": "https://api.github.com/users/fvictorio/repos",
    "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
    "received_events_url": "https://api.github.com/users/fvictorio/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1585/reactions",
    "total_count": 5,
    "+1": 4,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 1
  },
  "timeline_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1585/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/866816042",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1585#issuecomment-866816042",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1585",
    "id": 866816042,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2NjgxNjA0Mg==",
    "user": {
      "login": "alcuadrado",
      "id": 176499,
      "node_id": "MDQ6VXNlcjE3NjQ5OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/176499?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alcuadrado",
      "html_url": "https://github.com/alcuadrado",
      "followers_url": "https://api.github.com/users/alcuadrado/followers",
      "following_url": "https://api.github.com/users/alcuadrado/following{/other_user}",
      "gists_url": "https://api.github.com/users/alcuadrado/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alcuadrado/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alcuadrado/subscriptions",
      "organizations_url": "https://api.github.com/users/alcuadrado/orgs",
      "repos_url": "https://api.github.com/users/alcuadrado/repos",
      "events_url": "https://api.github.com/users/alcuadrado/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alcuadrado/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-23T13:03:08Z",
    "updated_at": "2021-06-23T13:03:08Z",
    "author_association": "MEMBER",
    "body": "Unfortunately, this goes against the \"definition\" of the JSON-RPC types, as documented [here](https://ethereum.org/en/developers/docs/apis/json-rpc/#hex-value-encoding).\r\n\r\nIf we relax this type's validation, users can end up with test suites that only run with Hardhat Network despite only using standard json-rpc methods, which is something we want to avoid.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/866816042/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/866889092",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1585#issuecomment-866889092",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1585",
    "id": 866889092,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2Njg4OTA5Mg==",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-23T14:30:23Z",
    "updated_at": "2021-06-23T14:30:23Z",
    "author_association": "MEMBER",
    "body": "Yeah, that makes sense for the main quantity type. I wonder though if we can have a more permissive type for our methods, like `hardhat_setBalance`, just so that the `send(\"hardhat_setBalance\", parseEther(...).toHexString())` snippet works.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/866889092/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/869924947",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1585#issuecomment-869924947",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1585",
    "id": 869924947,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2OTkyNDk0Nw==",
    "user": {
      "login": "5hanth",
      "id": 4287700,
      "node_id": "MDQ6VXNlcjQyODc3MDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4287700?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/5hanth",
      "html_url": "https://github.com/5hanth",
      "followers_url": "https://api.github.com/users/5hanth/followers",
      "following_url": "https://api.github.com/users/5hanth/following{/other_user}",
      "gists_url": "https://api.github.com/users/5hanth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/5hanth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/5hanth/subscriptions",
      "organizations_url": "https://api.github.com/users/5hanth/orgs",
      "repos_url": "https://api.github.com/users/5hanth/repos",
      "events_url": "https://api.github.com/users/5hanth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/5hanth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-28T18:38:35Z",
    "updated_at": "2021-06-28T18:38:35Z",
    "author_association": "NONE",
    "body": "+1\r\n\r\n```\r\n    await network.provider.request({\r\n      method: 'hardhat_setBalance',\r\n      params: ['0x7147C79F2B8d744DDeCD70318cf4a3471cc4fACa', '0xde0b6b3a7640000']\r\n    })\r\n```\r\n\r\n```     Error: invalid object key - 0 (argument=\"transaction:0\", value={\"0\":\"e\",\"1\":\"t\",\"2\":\"h\",\"3\":\"_\",\"4\":\"g\",\"5\":\"e\",\"6\":\"t\",\"7\":\"B\",\"8\":\"a\",\"9\":\"l\",\"10\":\"a\",\"11\":\"n\",\"12\":\"c\",\"13\":\"e\",\"gasLimit\":{\"type\":\"BigNumber\",\"hex\":\"0xcf09\"},\"from\":\"0x7147C79F2B8d744DDeCD70318cf4a3471cc4fACa\"}, code=INVALID_ARGUMENT, version=properties/5.4.0)```",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/869924947/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/869938464",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1585#issuecomment-869938464",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1585",
    "id": 869938464,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2OTkzODQ2NA==",
    "user": {
      "login": "alcuadrado",
      "id": 176499,
      "node_id": "MDQ6VXNlcjE3NjQ5OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/176499?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alcuadrado",
      "html_url": "https://github.com/alcuadrado",
      "followers_url": "https://api.github.com/users/alcuadrado/followers",
      "following_url": "https://api.github.com/users/alcuadrado/following{/other_user}",
      "gists_url": "https://api.github.com/users/alcuadrado/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alcuadrado/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alcuadrado/subscriptions",
      "organizations_url": "https://api.github.com/users/alcuadrado/orgs",
      "repos_url": "https://api.github.com/users/alcuadrado/repos",
      "events_url": "https://api.github.com/users/alcuadrado/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alcuadrado/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-28T18:57:03Z",
    "updated_at": "2021-06-28T18:57:03Z",
    "author_association": "MEMBER",
    "body": "This isn't related to this issue, @5hanth. Please double check your code.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/869938464/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/869948121",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1585#issuecomment-869948121",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1585",
    "id": 869948121,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2OTk0ODEyMQ==",
    "user": {
      "login": "5hanth",
      "id": 4287700,
      "node_id": "MDQ6VXNlcjQyODc3MDA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4287700?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/5hanth",
      "html_url": "https://github.com/5hanth",
      "followers_url": "https://api.github.com/users/5hanth/followers",
      "following_url": "https://api.github.com/users/5hanth/following{/other_user}",
      "gists_url": "https://api.github.com/users/5hanth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/5hanth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/5hanth/subscriptions",
      "organizations_url": "https://api.github.com/users/5hanth/orgs",
      "repos_url": "https://api.github.com/users/5hanth/repos",
      "events_url": "https://api.github.com/users/5hanth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/5hanth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-28T19:08:53Z",
    "updated_at": "2021-06-28T19:08:53Z",
    "author_association": "NONE",
    "body": "my bad. it's not related to this. @alcuadrado there was another part that's trying to get balance.  ```  await network.provider.request({\r\n      method: 'hardhat_setBalance',\r\n      params: [myWallet, ethers.utils.parseEther('10.0').toHexString()]\r\n    })``` works fine.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/869948121/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/873614134",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1585#issuecomment-873614134",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1585",
    "id": 873614134,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3MzYxNDEzNA==",
    "user": {
      "login": "fluidsonic",
      "id": 85242,
      "node_id": "MDQ6VXNlcjg1MjQy",
      "avatar_url": "https://avatars.githubusercontent.com/u/85242?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fluidsonic",
      "html_url": "https://github.com/fluidsonic",
      "followers_url": "https://api.github.com/users/fluidsonic/followers",
      "following_url": "https://api.github.com/users/fluidsonic/following{/other_user}",
      "gists_url": "https://api.github.com/users/fluidsonic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fluidsonic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fluidsonic/subscriptions",
      "organizations_url": "https://api.github.com/users/fluidsonic/orgs",
      "repos_url": "https://api.github.com/users/fluidsonic/repos",
      "events_url": "https://api.github.com/users/fluidsonic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fluidsonic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-04T15:44:20Z",
    "updated_at": "2021-07-04T23:34:22Z",
    "author_association": "NONE",
    "body": "I've started using Hardhat recently and also ran into this issue now.\r\nFrom the error messages it's absolutely not clear what the actual issue is (leading zero).\r\n\r\nPotential solutions:\r\n- provide own utility functions for passing ether/gwei/etc.\r\n- provide proper high-level function to set balance instead of going through lower-level `EthereumProvider.send()`\r\n\r\nAnd ideally:\r\n- improve error message\r\n- use more realistic [sample code](https://hardhat.org/guides/mainnet-forking.html#setting-account-balance) using an ether value instead of `\"0x1000\"`",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/873614134/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/873673675",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1585#issuecomment-873673675",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1585",
    "id": 873673675,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3MzY3MzY3NQ==",
    "user": {
      "login": "alcuadrado",
      "id": 176499,
      "node_id": "MDQ6VXNlcjE3NjQ5OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/176499?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alcuadrado",
      "html_url": "https://github.com/alcuadrado",
      "followers_url": "https://api.github.com/users/alcuadrado/followers",
      "following_url": "https://api.github.com/users/alcuadrado/following{/other_user}",
      "gists_url": "https://api.github.com/users/alcuadrado/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alcuadrado/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alcuadrado/subscriptions",
      "organizations_url": "https://api.github.com/users/alcuadrado/orgs",
      "repos_url": "https://api.github.com/users/alcuadrado/repos",
      "events_url": "https://api.github.com/users/alcuadrado/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alcuadrado/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-04T22:22:12Z",
    "updated_at": "2021-07-04T22:22:12Z",
    "author_association": "MEMBER",
    "body": "> * provide proper high-level function to set balance instead of going throw lower-level `EthereumProvider.send()`\r\n\r\nWe are moving into this direction. Not ETA right now tough.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/873673675/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/874235095",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1585#issuecomment-874235095",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1585",
    "id": 874235095,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3NDIzNTA5NQ==",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-05T16:51:11Z",
    "updated_at": "2021-07-05T16:51:11Z",
    "author_association": "MEMBER",
    "body": "> * use more realistic [sample code](https://hardhat.org/guides/mainnet-forking.html#setting-account-balance) using an ether value instead of `\"0x1000\"`\r\n\r\nAgree with this. As a temporary measure, we could include a valid snippet for setting a balance with `parseEther`. Something like:\r\n\r\n```js\r\nconst newBalance = ethers.utils.parseEther(\"1\");\r\n\r\n// this is necessary because hex quantities with leading zeros are not valid at the JSON-RPC layer\r\nconst newBalanceHex = newBalance.toHexString().replace(\"0x0\", \"0x\");\r\n\r\nawait network.provider.send(\"hardhat_setBalance\", [\r\n  \"0x0d2026b3EE6eC71FC6746ADb6311F6d3Ba1C000B\",\r\n  newBalanceHex,\r\n]);\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/874235095/reactions",
      "total_count": 6,
      "+1": 6,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/883732093",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1585#issuecomment-883732093",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1585",
    "id": 883732093,
    "node_id": "IC_kwDOB7jojM40rK59",
    "user": {
      "login": "banshee",
      "id": 14540,
      "node_id": "MDQ6VXNlcjE0NTQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/14540?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/banshee",
      "html_url": "https://github.com/banshee",
      "followers_url": "https://api.github.com/users/banshee/followers",
      "following_url": "https://api.github.com/users/banshee/following{/other_user}",
      "gists_url": "https://api.github.com/users/banshee/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/banshee/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/banshee/subscriptions",
      "organizations_url": "https://api.github.com/users/banshee/orgs",
      "repos_url": "https://api.github.com/users/banshee/repos",
      "events_url": "https://api.github.com/users/banshee/events{/privacy}",
      "received_events_url": "https://api.github.com/users/banshee/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-20T21:53:37Z",
    "updated_at": "2021-07-20T21:53:37Z",
    "author_association": "NONE",
    "body": "> > * use more realistic [sample code](https://hardhat.org/guides/mainnet-forking.html#setting-account-balance) using an ether value instead of `\"0x1000\"`\r\n> \r\n> Agree with this. As a temporary measure, we could include a valid snippet for setting a balance with `parseEther`. Something like:\r\n> \r\n> ```js\r\n> const newBalance = ethers.utils.parseEther(\"1\");\r\n> \r\n> // this is necessary because hex quantities with leading zeros are not valid at the JSON-RPC layer\r\n> const newBalanceHex = newBalance.toHexString().replace(\"0x0\", \"0x\");\r\n> ```\r\n\r\nI'd probably use a more forgiving regular expression to grab all the leading zeros:\r\n\r\n```\r\n.replace(/0x0+/, \"0x\")\r\n```\r\n\r\nAnd definitely mention in the docs that it has to be valid according to https://ethereum.org/en/developers/docs/apis/json-rpc/#hex-value-encoding",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/883732093/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/883745027",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1585#issuecomment-883745027",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1585",
    "id": 883745027,
    "node_id": "IC_kwDOB7jojM40rOED",
    "user": {
      "login": "mds1",
      "id": 17163988,
      "node_id": "MDQ6VXNlcjE3MTYzOTg4",
      "avatar_url": "https://avatars.githubusercontent.com/u/17163988?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mds1",
      "html_url": "https://github.com/mds1",
      "followers_url": "https://api.github.com/users/mds1/followers",
      "following_url": "https://api.github.com/users/mds1/following{/other_user}",
      "gists_url": "https://api.github.com/users/mds1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mds1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mds1/subscriptions",
      "organizations_url": "https://api.github.com/users/mds1/orgs",
      "repos_url": "https://api.github.com/users/mds1/repos",
      "events_url": "https://api.github.com/users/mds1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mds1/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-20T22:21:34Z",
    "updated_at": "2021-07-20T22:21:34Z",
    "author_association": "CONTRIBUTOR",
    "body": "You can also replace all leading zeros with [`ethers.utils.hexStripZeros(value)`](https://github.com/ethers-io/ethers.js/blob/c2c0ce75039e7256b287f9a764188d08ed0b7296/packages/bytes/src.ts/index.ts#L298-L308)\r\n\r\nAt first I was in favor of relaxing this, but if geth, etc. do behave the same way, I think it makes sense to stay consistent and leave this as-is, but with two main changes to reduce confusion when encountering this:\r\n- Documenting the behavior + linking to the appropriate section of the spec, since many users (like me this morning) are likely not familiar with that aspect of the JSON RPC spec\r\n- Improving the error message, perhaps something like `Invalid value \"<value>\" supplied to : QUANTITY. Make the sure the value has no leading zeros`",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/883745027/reactions",
      "total_count": 6,
      "+1": 5,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 1,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/884157115",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1585#issuecomment-884157115",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1585",
    "id": 884157115,
    "node_id": "IC_kwDOB7jojM40syq7",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-21T12:39:26Z",
    "updated_at": "2021-07-21T12:39:26Z",
    "author_association": "MEMBER",
    "body": "I strongly agree with both points :+1:",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/884157115/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/905691896",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1585#issuecomment-905691896",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1585",
    "id": 905691896,
    "node_id": "IC_kwDOB7jojM41-8L4",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-25T16:33:08Z",
    "updated_at": "2021-08-25T16:33:08Z",
    "author_association": "MEMBER",
    "body": "More data on this: geth, nethermind and OE all accept leading zeros for `eth_getStorageAt`. I still think we should follow the standard, but I also think the standard should be updated to allow leading zeros.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/905691896/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/906638245",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1585#issuecomment-906638245",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1585",
    "id": 906638245,
    "node_id": "IC_kwDOB7jojM42CjOl",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-26T18:21:56Z",
    "updated_at": "2021-08-26T18:21:56Z",
    "author_association": "MEMBER",
    "body": "The spec [was updated](https://github.com/ethereum/execution-apis/issues/40#issuecomment-906400324) to no longer allow leading zeros. So we should update our docs and improve our error messages, as Matt suggested.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/906638245/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/926730648",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1585#issuecomment-926730648",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1585",
    "id": 926730648,
    "node_id": "IC_kwDOB7jojM43PMmY",
    "user": {
      "login": "feuGeneA",
      "id": 7883777,
      "node_id": "MDQ6VXNlcjc4ODM3Nzc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7883777?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/feuGeneA",
      "html_url": "https://github.com/feuGeneA",
      "followers_url": "https://api.github.com/users/feuGeneA/followers",
      "following_url": "https://api.github.com/users/feuGeneA/following{/other_user}",
      "gists_url": "https://api.github.com/users/feuGeneA/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/feuGeneA/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/feuGeneA/subscriptions",
      "organizations_url": "https://api.github.com/users/feuGeneA/orgs",
      "repos_url": "https://api.github.com/users/feuGeneA/repos",
      "events_url": "https://api.github.com/users/feuGeneA/events{/privacy}",
      "received_events_url": "https://api.github.com/users/feuGeneA/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-24T15:45:41Z",
    "updated_at": "2021-09-24T15:45:41Z",
    "author_association": "CONTRIBUTOR",
    "body": "@alcuadrado suggests just changing \"QUANTITY\" to something like \"QUANTITY (0x-prefixed hex string without leading zeroes)\" in https://github.com/nomiclabs/hardhat/blob/master/packages/hardhat-core/src/internal/core/jsonrpc/types/base-types.ts#L11",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/926730648/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/962086559",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1585#issuecomment-962086559",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1585",
    "id": 962086559,
    "node_id": "IC_kwDOB7jojM45WEaf",
    "user": {
      "login": "chanhosuh",
      "id": 4645177,
      "node_id": "MDQ6VXNlcjQ2NDUxNzc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4645177?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chanhosuh",
      "html_url": "https://github.com/chanhosuh",
      "followers_url": "https://api.github.com/users/chanhosuh/followers",
      "following_url": "https://api.github.com/users/chanhosuh/following{/other_user}",
      "gists_url": "https://api.github.com/users/chanhosuh/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chanhosuh/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chanhosuh/subscriptions",
      "organizations_url": "https://api.github.com/users/chanhosuh/orgs",
      "repos_url": "https://api.github.com/users/chanhosuh/repos",
      "events_url": "https://api.github.com/users/chanhosuh/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chanhosuh/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-11-05T17:35:55Z",
    "updated_at": "2021-11-05T17:35:55Z",
    "author_association": "NONE",
    "body": "> > ```js\r\n> > const newBalance = ethers.utils.parseEther(\"1\");\r\n> > \r\n> > // this is necessary because hex quantities with leading zeros are not valid at the JSON-RPC layer\r\n> > const newBalanceHex = newBalance.toHexString().replace(\"0x0\", \"0x\");\r\n> > ```\r\n> \r\n> I'd probably use a more forgiving regular expression to grab all the leading zeros:\r\n> \r\n> ```\r\n> .replace(/0x0+/, \"0x\")\r\n> ```\r\n\r\nWhat happens if the new balance is actually zero?  I'm too lazy to check right now ;) but I presume using `0x` as the balance will give an error.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/962086559/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/962139606",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1585#issuecomment-962139606",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1585",
    "id": 962139606,
    "node_id": "IC_kwDOB7jojM45WRXW",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-11-05T18:57:17Z",
    "updated_at": "2021-11-05T18:57:17Z",
    "author_association": "MEMBER",
    "body": "> What happens if the new balance is actually zero?\r\n\r\nThe result of `ethers.utils.parseEther(\"0\").toHexString()` is `0x00`, so the `replace` trick should continue to work.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/962139606/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/962157621",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1585#issuecomment-962157621",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1585",
    "id": 962157621,
    "node_id": "IC_kwDOB7jojM45WVw1",
    "user": {
      "login": "chanhosuh",
      "id": 4645177,
      "node_id": "MDQ6VXNlcjQ2NDUxNzc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4645177?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chanhosuh",
      "html_url": "https://github.com/chanhosuh",
      "followers_url": "https://api.github.com/users/chanhosuh/followers",
      "following_url": "https://api.github.com/users/chanhosuh/following{/other_user}",
      "gists_url": "https://api.github.com/users/chanhosuh/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chanhosuh/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chanhosuh/subscriptions",
      "organizations_url": "https://api.github.com/users/chanhosuh/orgs",
      "repos_url": "https://api.github.com/users/chanhosuh/repos",
      "events_url": "https://api.github.com/users/chanhosuh/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chanhosuh/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-11-05T19:20:37Z",
    "updated_at": "2021-11-05T19:22:26Z",
    "author_association": "NONE",
    "body": "> > What happens if the new balance is actually zero?\r\n> \r\n> The result of `ethers.utils.parseEther(\"0\").toHexString()` is `0x00`, so the `replace` trick should continue to work.\r\n\r\nThe replace with the regex will result in `0x`.  Someone else suggested an ethers strip function... only glanced at that code, but I suspect it has the same issue.  Since multiple people have been suggesting solutions that don't handle the zero case, I thought I'd mention it ;)",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/962157621/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/963142684",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1585#issuecomment-963142684",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1585",
    "id": 963142684,
    "node_id": "IC_kwDOB7jojM45aGQc",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-11-08T13:19:05Z",
    "updated_at": "2021-11-08T13:19:05Z",
    "author_association": "MEMBER",
    "body": "> The replace with the regex will result in `0x`.\r\n\r\nHave you tried it or are you guessing that that will be the result? Because it did work for me. If you can share a case where that happens, we might refine the workaround.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/963142684/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/963277815",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1585#issuecomment-963277815",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1585",
    "id": 963277815,
    "node_id": "IC_kwDOB7jojM45anP3",
    "user": {
      "login": "chanhosuh",
      "id": 4645177,
      "node_id": "MDQ6VXNlcjQ2NDUxNzc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4645177?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chanhosuh",
      "html_url": "https://github.com/chanhosuh",
      "followers_url": "https://api.github.com/users/chanhosuh/followers",
      "following_url": "https://api.github.com/users/chanhosuh/following{/other_user}",
      "gists_url": "https://api.github.com/users/chanhosuh/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chanhosuh/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chanhosuh/subscriptions",
      "organizations_url": "https://api.github.com/users/chanhosuh/orgs",
      "repos_url": "https://api.github.com/users/chanhosuh/repos",
      "events_url": "https://api.github.com/users/chanhosuh/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chanhosuh/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-11-08T15:34:51Z",
    "updated_at": "2021-11-08T15:34:51Z",
    "author_association": "NONE",
    "body": "> > The replace with the regex will result in `0x`.\r\n> \r\n> Have you tried it or are you guessing that that will be the result? Because it did work for me. If you can share a case where that happens, we might refine the workaround.\r\n\r\nI \"guessed\" the result based on my understanding of regex syntax... but here you go (in the JS console):\r\n\r\n```javascript\r\n> \"0x00\".replace(/0x0+/, \"0x\")\r\n'0x'\r\n```\r\n\r\nand the complete syntax in node:\r\n\r\n```node\r\n> const {ethers} = require(\"hardhat\")\r\nundefined\r\n> ethers.utils.parseEther(\"0\").toHexString().replace(/0x0+/, \"0x\")\r\n'0x'\r\n```\r\n\r\nAgain, let me emphasize that it's the regex version I quoted and responded to previously (you seem to think I'm responding to your workaround).  I mentioned this in my last response but I hope it's clearer this time around.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/963277815/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/963285697",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1585#issuecomment-963285697",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1585",
    "id": 963285697,
    "node_id": "IC_kwDOB7jojM45apLB",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-11-08T15:43:21Z",
    "updated_at": "2021-11-08T15:43:21Z",
    "author_association": "MEMBER",
    "body": "Oh yeah, you're right, my bad.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/963285697/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1081133321",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1585#issuecomment-1081133321",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1585",
    "id": 1081133321,
    "node_id": "IC_kwDOB7jojM5AcMkJ",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-03-28T20:53:58Z",
    "updated_at": "2022-03-28T20:53:58Z",
    "author_association": "MEMBER",
    "body": "Closing this for now. In the coming weeks we will release a set of helpers with a more ergonomic API, and using the low-level JSON-RPC methods won't be necessary anymore. Those helpers will handle this problem in a transparent way, so ideally no one will have to deal with this anymore.\r\n\r\nWe'll post an update here when these helpers are released.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1081133321/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1166650156",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1585#issuecomment-1166650156",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1585",
    "id": 1166650156,
    "node_id": "IC_kwDOB7jojM5Fiass",
    "user": {
      "login": "ghost",
      "id": 10137,
      "node_id": "MDQ6VXNlcjEwMTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ghost",
      "html_url": "https://github.com/ghost",
      "followers_url": "https://api.github.com/users/ghost/followers",
      "following_url": "https://api.github.com/users/ghost/following{/other_user}",
      "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
      "organizations_url": "https://api.github.com/users/ghost/orgs",
      "repos_url": "https://api.github.com/users/ghost/repos",
      "events_url": "https://api.github.com/users/ghost/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ghost/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-26T21:27:37Z",
    "updated_at": "2022-06-26T21:27:37Z",
    "author_association": "NONE",
    "body": "Have the helpers been released?",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1166650156/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1178662131",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1585#issuecomment-1178662131",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1585",
    "id": 1178662131,
    "node_id": "IC_kwDOB7jojM5GQPTz",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-08T07:40:36Z",
    "updated_at": "2022-07-08T07:40:36Z",
    "author_association": "MEMBER",
    "body": "@alberts9 yes! Check them out [here](https://hardhat.org/hardhat-network-helpers/docs/overview).",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1178662131/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1233881646",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1585#issuecomment-1233881646",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1585",
    "id": 1233881646,
    "node_id": "IC_kwDOB7jojM5Ji4ou",
    "user": {
      "login": "QEDK",
      "id": 1272002,
      "node_id": "MDQ6VXNlcjEyNzIwMDI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1272002?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/QEDK",
      "html_url": "https://github.com/QEDK",
      "followers_url": "https://api.github.com/users/QEDK/followers",
      "following_url": "https://api.github.com/users/QEDK/following{/other_user}",
      "gists_url": "https://api.github.com/users/QEDK/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/QEDK/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/QEDK/subscriptions",
      "organizations_url": "https://api.github.com/users/QEDK/orgs",
      "repos_url": "https://api.github.com/users/QEDK/repos",
      "events_url": "https://api.github.com/users/QEDK/events{/privacy}",
      "received_events_url": "https://api.github.com/users/QEDK/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-01T07:46:25Z",
    "updated_at": "2022-09-01T07:46:25Z",
    "author_association": "NONE",
    "body": "It would be great to _atleast_ change the error message to something more verbose, it is slightly unrealistic to understanding anything of value from the current error message.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1233881646/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1237986576",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1585#issuecomment-1237986576",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1585",
    "id": 1237986576,
    "node_id": "IC_kwDOB7jojM5Jyi0Q",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-06T10:49:48Z",
    "updated_at": "2022-09-06T10:49:48Z",
    "author_association": "MEMBER",
    "body": "@QEDK I think we did? Which error message are you getting? And which version of hardhat are you using?",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1237986576/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1238080517",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1585#issuecomment-1238080517",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1585",
    "id": 1238080517,
    "node_id": "IC_kwDOB7jojM5Jy5wF",
    "user": {
      "login": "QEDK",
      "id": 1272002,
      "node_id": "MDQ6VXNlcjEyNzIwMDI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1272002?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/QEDK",
      "html_url": "https://github.com/QEDK",
      "followers_url": "https://api.github.com/users/QEDK/followers",
      "following_url": "https://api.github.com/users/QEDK/following{/other_user}",
      "gists_url": "https://api.github.com/users/QEDK/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/QEDK/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/QEDK/subscriptions",
      "organizations_url": "https://api.github.com/users/QEDK/orgs",
      "repos_url": "https://api.github.com/users/QEDK/repos",
      "events_url": "https://api.github.com/users/QEDK/events{/privacy}",
      "received_events_url": "https://api.github.com/users/QEDK/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-06T12:26:07Z",
    "updated_at": "2022-09-06T12:26:07Z",
    "author_association": "NONE",
    "body": "> @QEDK I think we did? Which error message are you getting? And which version of hardhat are you using?\r\n\r\nUsing `2.10.2`, still getting `InvalidArgumentsError: Errors encountered in param 1: Invalid value \"0x0c7be71a38523ae80000\" supplied to : QUANTITY` atm.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1238080517/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1271245211",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1585#issuecomment-1271245211",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1585",
    "id": 1271245211,
    "node_id": "IC_kwDOB7jojM5Lxamb",
    "user": {
      "login": "fastchain",
      "id": 13186708,
      "node_id": "MDQ6VXNlcjEzMTg2NzA4",
      "avatar_url": "https://avatars.githubusercontent.com/u/13186708?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fastchain",
      "html_url": "https://github.com/fastchain",
      "followers_url": "https://api.github.com/users/fastchain/followers",
      "following_url": "https://api.github.com/users/fastchain/following{/other_user}",
      "gists_url": "https://api.github.com/users/fastchain/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fastchain/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fastchain/subscriptions",
      "organizations_url": "https://api.github.com/users/fastchain/orgs",
      "repos_url": "https://api.github.com/users/fastchain/repos",
      "events_url": "https://api.github.com/users/fastchain/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fastchain/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-07T07:54:57Z",
    "updated_at": "2022-10-07T08:19:26Z",
    "author_association": "NONE",
    "body": "**UPD**\r\nI've just checked this behaviour on public testnets, and it worked as intended. So it seems to be hardhat  virtualnode problem.\r\n\r\nChecking gnosisSafe deployed on hardhat  virtualnode RPC\r\n\r\n```\r\nnpx  hardhat info  0xF58681d366Afb34a3490862C39282FC2D938CCe5 --network local1\r\n\r\nChecking Safe at 0xF58681d366Afb34a3490862C39282FC2D938CCe5\r\n(node:870) ExperimentalWarning: stream/web is an experimental feature. This feature could change at any time\r\n(Use `node --trace-warnings ...` to show where the warning was created)\r\nAn unexpected error occurred:\r\n\r\nProviderError: HttpProviderError\r\n    at HttpProvider.request (/offchain/node_modules/hardhat/src/internal/core/providers/http.ts:78:19)\r\n    at LocalAccountsProvider.request (/offchain/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\r\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\r\n    at async EthersProviderWrapper.send (/offchain/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\r\n```\r\n\r\nalso see this in  virtualnode RPC logs \r\n\r\n```\r\neth_chainId (2)\r\nhardhat1        | eth_getStorageAt\r\nhardhat1        | \r\nhardhat1        |   Errors encountered in param 1: Invalid value \"0x0000000000000000000000000000000000000000000000000000000000000000\" supplied to : QUANTITY\r\nhardhat1        | \r\n```\r\n\r\nmy hardhat version is \r\n\r\n```\r\nnpx hardhat --version\r\n2.11.2\r\n```\r\n\r\n\r\nIt all looks like the same issue is mentioned above :(\r\n\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1271245211/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1272593612",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1585#issuecomment-1272593612",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1585",
    "id": 1272593612,
    "node_id": "IC_kwDOB7jojM5L2jzM",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-09T17:46:26Z",
    "updated_at": "2022-10-09T17:46:26Z",
    "author_association": "MEMBER",
    "body": "@fastchain any chance you can open a new issue with reproduction steps?",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1272593612/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
