{
  "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2696",
  "repository_url": "https://api.github.com/repos/NomicFoundation/hardhat",
  "labels_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2696/labels{/name}",
  "comments_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2696/comments",
  "events_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2696/events",
  "html_url": "https://github.com/NomicFoundation/hardhat/issues/2696",
  "id": 1233470739,
  "node_id": "I_kwDOB7jojM5JhUUT",
  "number": 2696,
  "title": "build-info improvements for verifying on sourcify",
  "user": {
    "login": "sirpy",
    "id": 671095,
    "node_id": "MDQ6VXNlcjY3MTA5NQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/671095?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/sirpy",
    "html_url": "https://github.com/sirpy",
    "followers_url": "https://api.github.com/users/sirpy/followers",
    "following_url": "https://api.github.com/users/sirpy/following{/other_user}",
    "gists_url": "https://api.github.com/users/sirpy/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/sirpy/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/sirpy/subscriptions",
    "organizations_url": "https://api.github.com/users/sirpy/orgs",
    "repos_url": "https://api.github.com/users/sirpy/repos",
    "events_url": "https://api.github.com/users/sirpy/events{/privacy}",
    "received_events_url": "https://api.github.com/users/sirpy/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": true,
  "assignee": {
    "login": "fvictorio",
    "id": 417134,
    "node_id": "MDQ6VXNlcjQxNzEzNA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/fvictorio",
    "html_url": "https://github.com/fvictorio",
    "followers_url": "https://api.github.com/users/fvictorio/followers",
    "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
    "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
    "organizations_url": "https://api.github.com/users/fvictorio/orgs",
    "repos_url": "https://api.github.com/users/fvictorio/repos",
    "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
    "received_events_url": "https://api.github.com/users/fvictorio/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2022-05-12T05:38:33Z",
  "updated_at": "2022-11-18T08:57:23Z",
  "closed_at": "2022-06-07T19:57:06Z",
  "author_association": "NONE",
  "active_lock_reason": "resolved",
  "body": "I have a large project and when compiling it , it creates several json files in build-info one of them is very large 7MB.\r\nThis file size is not supported by sourcify.\r\nAnother issue is that it should also be possible to verify on sourcify just using the metadata, where the sources are specified as ipfs links, but it seems that they are not actually uploaded to ipfs.\r\n\r\nThe suggested solutions are\r\n1. have the build-info split into several smaller files\r\n2. a way to upload sources to ipfs",
  "closed_by": {
    "login": "fvictorio",
    "id": 417134,
    "node_id": "MDQ6VXNlcjQxNzEzNA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/fvictorio",
    "html_url": "https://github.com/fvictorio",
    "followers_url": "https://api.github.com/users/fvictorio/followers",
    "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
    "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
    "organizations_url": "https://api.github.com/users/fvictorio/orgs",
    "repos_url": "https://api.github.com/users/fvictorio/repos",
    "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
    "received_events_url": "https://api.github.com/users/fvictorio/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2696/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2696/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1124550546",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2696#issuecomment-1124550546",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2696",
    "id": 1124550546,
    "node_id": "IC_kwDOB7jojM5DB0eS",
    "user": {
      "login": "github-actions[bot]",
      "id": 41898282,
      "node_id": "MDM6Qm90NDE4OTgyODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/github-actions%5Bbot%5D",
      "html_url": "https://github.com/apps/github-actions",
      "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2022-05-12T05:38:58Z",
    "updated_at": "2022-05-12T05:38:58Z",
    "author_association": "CONTRIBUTOR",
    "body": "This issue is also being [tracked on Linear](https://linear.app/nomic-foundation/issue/HH-635/build-info-improvements-for-verifying-on-sourcify).\n\nWe use Linear to manage our development process, but we keep the conversations on Github.\n\nLINEAR-ID: cac7416a-2e7a-4d3a-8487-875b39ef7e4b",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1124550546/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1149104317",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2696#issuecomment-1149104317",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2696",
    "id": 1149104317,
    "node_id": "IC_kwDOB7jojM5EffC9",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-07T19:57:06Z",
    "updated_at": "2022-06-07T19:57:06Z",
    "author_association": "MEMBER",
    "body": "Hi @sirpy. I think the problem is that the build info files also include things like the `ast`, which contribute a lot to their size. The problem is that configuring hardhat to _not_ include the ast in the output is not straightforward (to be honest, I don't even know how to do it); I opened #2803 to investigate and document this. For the time being, removing all the `ast` entries programmatically might work for you, but I realize it's far from ideal.\r\n\r\n> have the build-info split into several smaller files\r\n\r\nSadly, this would be hard to do without significant changes to our compilation pipeline.\r\n\r\n> a way to upload sources to ipfs\r\n\r\nThat seems like a feature for the deployment solution, so it's unlikely we'll add it to the core of hardhat.\r\n\r\nI'm going to close this issue now since I don't think there's much we can do (except for the documentation part I mentioned) but please let me know if you disagree.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1149104317/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
