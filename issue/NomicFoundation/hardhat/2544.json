{
  "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2544",
  "repository_url": "https://api.github.com/repos/NomicFoundation/hardhat",
  "labels_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2544/labels{/name}",
  "comments_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2544/comments",
  "events_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2544/events",
  "html_url": "https://github.com/NomicFoundation/hardhat/issues/2544",
  "id": 1185173669,
  "node_id": "I_kwDOB7jojM5GpFCl",
  "number": 2544,
  "title": "Add rate limit logic",
  "user": {
    "login": "WyseNynja",
    "id": 624221,
    "node_id": "MDQ6VXNlcjYyNDIyMQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/624221?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/WyseNynja",
    "html_url": "https://github.com/WyseNynja",
    "followers_url": "https://api.github.com/users/WyseNynja/followers",
    "following_url": "https://api.github.com/users/WyseNynja/following{/other_user}",
    "gists_url": "https://api.github.com/users/WyseNynja/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/WyseNynja/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/WyseNynja/subscriptions",
    "organizations_url": "https://api.github.com/users/WyseNynja/orgs",
    "repos_url": "https://api.github.com/users/WyseNynja/repos",
    "events_url": "https://api.github.com/users/WyseNynja/events{/privacy}",
    "received_events_url": "https://api.github.com/users/WyseNynja/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 947230177,
      "node_id": "MDU6TGFiZWw5NDcyMzAxNzc=",
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/labels/status:blocked",
      "name": "status:blocked",
      "color": "0E8A16",
      "default": false,
      "description": "Blocked by other issues or external reasons"
    },
    {
      "id": 947232611,
      "node_id": "MDU6TGFiZWw5NDcyMzI2MTE=",
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/labels/type:feature",
      "name": "type:feature",
      "color": "FBCA04",
      "default": false,
      "description": "Feature request"
    },
    {
      "id": 4745762096,
      "node_id": "LA_kwDOB7jojM8AAAABGt6VMA",
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/labels/blocked-reason:needs-rethnet",
      "name": "blocked-reason:needs-rethnet",
      "color": "B60205",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2022-03-29T17:15:03Z",
  "updated_at": "2023-07-14T07:22:31Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "While using a free host for testing some scripts, I hit some rate limiting errors. Hardhat should make it easy to set rate limits for the forked node.  If I set rate limits in my scripts, they aren't very reliable because sometimes queries to hardhat don't hit the remote node at all and I end up rate limiting myself needlessly. I also think that at other times a single query to hardhat can generate multiple queries to the forked node.\r\n\r\nLetting the client specify X requests per Y seconds should prevent most rate limiting errors from occurring.\r\n\r\nIf api keys are shared between multiple systems, rate limits could still be hit. Looking at things like x-rate-limit headers are better for that. And building something that automatically responds to HTTP 429 or x-rate-limit headers or similar might work some places, but every provider seems to work a little different. One error I got did not have the HTTP error code that I expected; instead it had a json error of `{'code': -32005, 'message': 'Too Many Requests error received from speedy-nodes-nyc.moralis.io'}` (though the docs say they do set the headers). Because some provider's load balancers give errors in inconsistent ways, any sort of automatic back-off/retry will be difficult to implement.",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2544/reactions",
    "total_count": 1,
    "+1": 1,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2544/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1082149595",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2544#issuecomment-1082149595",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2544",
    "id": 1082149595,
    "node_id": "IC_kwDOB7jojM5AgErb",
    "user": {
      "login": "github-actions[bot]",
      "id": 41898282,
      "node_id": "MDM6Qm90NDE4OTgyODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/github-actions%5Bbot%5D",
      "html_url": "https://github.com/apps/github-actions",
      "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2022-03-29T17:15:28Z",
    "updated_at": "2022-03-29T17:15:28Z",
    "author_association": "CONTRIBUTOR",
    "body": "This issue is also being [tracked on Linear](https://linear.app/nomic-foundation/issue/HH-490/add-rate-limit-logic-[nomicfoundationhardhat2544]).\n\nWe use Linear to manage our development process, but we keep the conversations on Github.\n\nLINEAR-ID: eab0a093-b095-461a-a45f-295ce51b4542",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1082149595/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1089545514",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2544#issuecomment-1089545514",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2544",
    "id": 1089545514,
    "node_id": "IC_kwDOB7jojM5A8SUq",
    "user": {
      "login": "dminglv",
      "id": 9155259,
      "node_id": "MDQ6VXNlcjkxNTUyNTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9155259?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dminglv",
      "html_url": "https://github.com/dminglv",
      "followers_url": "https://api.github.com/users/dminglv/followers",
      "following_url": "https://api.github.com/users/dminglv/following{/other_user}",
      "gists_url": "https://api.github.com/users/dminglv/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dminglv/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dminglv/subscriptions",
      "organizations_url": "https://api.github.com/users/dminglv/orgs",
      "repos_url": "https://api.github.com/users/dminglv/repos",
      "events_url": "https://api.github.com/users/dminglv/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dminglv/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-04-05T23:58:57Z",
    "updated_at": "2022-04-05T23:58:57Z",
    "author_association": "NONE",
    "body": "This also applies to another case!\r\n\r\n#2562 ",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1089545514/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1119167687",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2544#issuecomment-1119167687",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2544",
    "id": 1119167687,
    "node_id": "IC_kwDOB7jojM5CtSTH",
    "user": {
      "login": "github-actions[bot]",
      "id": 41898282,
      "node_id": "MDM6Qm90NDE4OTgyODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/github-actions%5Bbot%5D",
      "html_url": "https://github.com/apps/github-actions",
      "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2022-05-06T00:45:59Z",
    "updated_at": "2022-05-06T00:45:59Z",
    "author_association": "CONTRIBUTOR",
    "body": "This issue was marked as stale because it didn't have any activity in the last 30 days. If you think it's still relevant, please leave a comment indicating so. Otherwise, it will be closed in 7 days.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1119167687/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1119816400",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2544#issuecomment-1119816400",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2544",
    "id": 1119816400,
    "node_id": "IC_kwDOB7jojM5CvwrQ",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-06T16:59:57Z",
    "updated_at": "2022-05-06T16:59:57Z",
    "author_association": "MEMBER",
    "body": "Still relevant.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1119816400/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1380015835",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2544#issuecomment-1380015835",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2544",
    "id": 1380015835,
    "node_id": "IC_kwDOB7jojM5SQV7b",
    "user": {
      "login": "murichGhostdrive",
      "id": 109663630,
      "node_id": "U_kgDOBolVjg",
      "avatar_url": "https://avatars.githubusercontent.com/u/109663630?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/murichGhostdrive",
      "html_url": "https://github.com/murichGhostdrive",
      "followers_url": "https://api.github.com/users/murichGhostdrive/followers",
      "following_url": "https://api.github.com/users/murichGhostdrive/following{/other_user}",
      "gists_url": "https://api.github.com/users/murichGhostdrive/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/murichGhostdrive/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/murichGhostdrive/subscriptions",
      "organizations_url": "https://api.github.com/users/murichGhostdrive/orgs",
      "repos_url": "https://api.github.com/users/murichGhostdrive/repos",
      "events_url": "https://api.github.com/users/murichGhostdrive/events{/privacy}",
      "received_events_url": "https://api.github.com/users/murichGhostdrive/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-12T09:09:24Z",
    "updated_at": "2023-01-12T09:09:24Z",
    "author_association": "NONE",
    "body": "this is very relevant for e2e testing. Running own archive node is very expensive and if you try to use alchemy or any other provider you will hit rate limit from very beginning",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1380015835/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1635415611",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2544#issuecomment-1635415611",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2544",
    "id": 1635415611,
    "node_id": "IC_kwDOB7jojM5henY7",
    "user": {
      "login": "alexanderem49",
      "id": 48384388,
      "node_id": "MDQ6VXNlcjQ4Mzg0Mzg4",
      "avatar_url": "https://avatars.githubusercontent.com/u/48384388?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexanderem49",
      "html_url": "https://github.com/alexanderem49",
      "followers_url": "https://api.github.com/users/alexanderem49/followers",
      "following_url": "https://api.github.com/users/alexanderem49/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexanderem49/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexanderem49/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexanderem49/subscriptions",
      "organizations_url": "https://api.github.com/users/alexanderem49/orgs",
      "repos_url": "https://api.github.com/users/alexanderem49/repos",
      "events_url": "https://api.github.com/users/alexanderem49/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexanderem49/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-14T07:22:31Z",
    "updated_at": "2023-07-14T07:22:31Z",
    "author_association": "NONE",
    "body": "Bumping this",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1635415611/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
