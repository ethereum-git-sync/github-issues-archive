{
  "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3628",
  "repository_url": "https://api.github.com/repos/NomicFoundation/hardhat",
  "labels_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3628/labels{/name}",
  "comments_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3628/comments",
  "events_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3628/events",
  "html_url": "https://github.com/NomicFoundation/hardhat/issues/3628",
  "id": 1565495929,
  "node_id": "I_kwDOB7jojM5dT5J5",
  "number": 3628,
  "title": "hardhat-foundry does not seem to be reading compiler configs in foundry.toml",
  "user": {
    "login": "NIC619",
    "id": 17670147,
    "node_id": "MDQ6VXNlcjE3NjcwMTQ3",
    "avatar_url": "https://avatars.githubusercontent.com/u/17670147?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/NIC619",
    "html_url": "https://github.com/NIC619",
    "followers_url": "https://api.github.com/users/NIC619/followers",
    "following_url": "https://api.github.com/users/NIC619/following{/other_user}",
    "gists_url": "https://api.github.com/users/NIC619/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/NIC619/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/NIC619/subscriptions",
    "organizations_url": "https://api.github.com/users/NIC619/orgs",
    "repos_url": "https://api.github.com/users/NIC619/repos",
    "events_url": "https://api.github.com/users/NIC619/events{/privacy}",
    "received_events_url": "https://api.github.com/users/NIC619/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 4935639218,
      "node_id": "LA_kwDOB7jojM8AAAABJi_gsg",
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/labels/status:needs-decision",
      "name": "status:needs-decision",
      "color": "0E8A16",
      "default": false,
      "description": "We need to make a decision about this"
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2023-02-01T06:09:13Z",
  "updated_at": "2023-02-22T08:47:57Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "### Version of Hardhat\n\n2.9.7\n\n### What happened?\n\nWhen running `npx hardhat compile`, hardhat can fetch contracts to compile from `path.sources` config (which must match `src` config in foundry.toml) in hardhat.config but it does not seem to be fetching compiler related configs like `solc_version`, `auto_delect_solc`, `optimizer`, `optimizer_runs`. It still read compiler configs from hardhat.config.\n\n### Minimal reproduction steps\n\nConfigure compiler related values in foundry.toml to make them different than the ones in hardhat.config (or even remove compiler settings in hardhat.config) and run `npx hardhat compile`, the compile result should be different from `forge build`.\n\n### Search terms\n\nhardhat-foundry",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3628/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3628/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1439636886",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3628#issuecomment-1439636886",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3628",
    "id": 1439636886,
    "node_id": "IC_kwDOB7jojM5Vzx2W",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-22T08:47:47Z",
    "updated_at": "2023-02-22T08:47:47Z",
    "author_association": "MEMBER",
    "body": "This is a tough one. Making sure that Hardhat and Foundry are using the exact same settings to compile seems hard and error prone, especially if you take things like Hardhat compiler overrides into account.\r\n\r\nI understand the need for this though. Maybe there is some easy alternative we can do, like checking that the compilation results match and throwing and error if they don't, or something else. I'll discuss this with @alcuadrado and then I'll comment here again.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1439636886/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 1,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
