{
  "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1161",
  "repository_url": "https://api.github.com/repos/NomicFoundation/hardhat",
  "labels_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1161/labels{/name}",
  "comments_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1161/comments",
  "events_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1161/events",
  "html_url": "https://github.com/NomicFoundation/hardhat/issues/1161",
  "id": 780912247,
  "node_id": "MDU6SXNzdWU3ODA5MTIyNDc=",
  "number": 1161,
  "title": "Error in hardhat/etherscan verification",
  "user": {
    "login": "Aleione",
    "id": 51761861,
    "node_id": "MDQ6VXNlcjUxNzYxODYx",
    "avatar_url": "https://avatars.githubusercontent.com/u/51761861?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Aleione",
    "html_url": "https://github.com/Aleione",
    "followers_url": "https://api.github.com/users/Aleione/followers",
    "following_url": "https://api.github.com/users/Aleione/following{/other_user}",
    "gists_url": "https://api.github.com/users/Aleione/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Aleione/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Aleione/subscriptions",
    "organizations_url": "https://api.github.com/users/Aleione/orgs",
    "repos_url": "https://api.github.com/users/Aleione/repos",
    "events_url": "https://api.github.com/users/Aleione/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Aleione/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": true,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2021-01-06T23:31:13Z",
  "updated_at": "2022-11-18T10:05:33Z",
  "closed_at": "2021-01-26T19:05:10Z",
  "author_association": "NONE",
  "active_lock_reason": "resolved",
  "body": "Hello,\r\n\r\ni have migrated on Kovan some contracts using Hardhat and I am trying to verify them with Hardhat/etherscan. For some contracts i received this error:\r\n\r\nError in plugin @nomiclabs/hardhat-etherscan: Failed to send contract verification request.\r\nEndpoint URL: https://api-kovan.etherscan.io/api\r\nReason: Source code exceeds max accepted (500k chars) length\r\n\r\nHow can i fix it?",
  "closed_by": {
    "login": "fvictorio",
    "id": 417134,
    "node_id": "MDQ6VXNlcjQxNzEzNA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/fvictorio",
    "html_url": "https://github.com/fvictorio",
    "followers_url": "https://api.github.com/users/fvictorio/followers",
    "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
    "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
    "organizations_url": "https://api.github.com/users/fvictorio/orgs",
    "repos_url": "https://api.github.com/users/fvictorio/repos",
    "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
    "received_events_url": "https://api.github.com/users/fvictorio/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1161/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1161/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/758075230",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1161#issuecomment-758075230",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1161",
    "id": 758075230,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc1ODA3NTIzMA==",
    "user": {
      "login": "scnale",
      "id": 12967987,
      "node_id": "MDQ6VXNlcjEyOTY3OTg3",
      "avatar_url": "https://avatars.githubusercontent.com/u/12967987?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/scnale",
      "html_url": "https://github.com/scnale",
      "followers_url": "https://api.github.com/users/scnale/followers",
      "following_url": "https://api.github.com/users/scnale/following{/other_user}",
      "gists_url": "https://api.github.com/users/scnale/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/scnale/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/scnale/subscriptions",
      "organizations_url": "https://api.github.com/users/scnale/orgs",
      "repos_url": "https://api.github.com/users/scnale/repos",
      "events_url": "https://api.github.com/users/scnale/events{/privacy}",
      "received_events_url": "https://api.github.com/users/scnale/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-11T16:40:39Z",
    "updated_at": "2021-01-11T16:40:39Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hi, are you using the [latest version of the plugin](https://github.com/nomiclabs/hardhat/releases/tag/hardhat-etherscan-v2.1.0)? We introduced a fix for this issue not long ago but if you're still experiencing it we would be interested in knowing how to reproduce it. Is your project hosted in a publicly available repository?",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/758075230/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/767761029",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1161#issuecomment-767761029",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1161",
    "id": 767761029,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2Nzc2MTAyOQ==",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-26T19:05:10Z",
    "updated_at": "2021-01-26T19:05:10Z",
    "author_association": "MEMBER",
    "body": "@Aleione Please re-open if the latest version doesn't fix your problem.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/767761029/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1017075157",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1161#issuecomment-1017075157",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1161",
    "id": 1017075157,
    "node_id": "IC_kwDOB7jojM48n1XV",
    "user": {
      "login": "econiche",
      "id": 85345460,
      "node_id": "MDQ6VXNlcjg1MzQ1NDYw",
      "avatar_url": "https://avatars.githubusercontent.com/u/85345460?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/econiche",
      "html_url": "https://github.com/econiche",
      "followers_url": "https://api.github.com/users/econiche/followers",
      "following_url": "https://api.github.com/users/econiche/following{/other_user}",
      "gists_url": "https://api.github.com/users/econiche/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/econiche/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/econiche/subscriptions",
      "organizations_url": "https://api.github.com/users/econiche/orgs",
      "repos_url": "https://api.github.com/users/econiche/repos",
      "events_url": "https://api.github.com/users/econiche/events{/privacy}",
      "received_events_url": "https://api.github.com/users/econiche/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-20T03:07:42Z",
    "updated_at": "2022-01-20T03:08:29Z",
    "author_association": "NONE",
    "body": "This problem also happened with my script\r\n\r\n    \"@nomiclabs/hardhat-etherscan\": \"^3.0.0\",\r\n\r\n\r\nWe tried verifying your contract FairLaunch without including any unrelated one, but it failed.\r\nTrying again with the full solc input used to compile and deploy it.\r\nThis means that unrelated contracts may be displayed on Etherscan...\r\n\r\nError in plugin @nomiclabs/hardhat-etherscan: Source code exceeds max accepted (500k chars) length\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1017075157/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1018412047",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1161#issuecomment-1018412047",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1161",
    "id": 1018412047,
    "node_id": "IC_kwDOB7jojM48s7wP",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-21T11:12:41Z",
    "updated_at": "2022-01-21T11:12:41Z",
    "author_association": "MEMBER",
    "body": "@econiche do you have some way for us to reproduce this problem?\r\n\r\nAlso, is it possible that your constructor receives a lot of string values? If so, you can try this (copying a message that someone left in our discord server):\r\n\r\n> Guys if you ever get this kind of error:\r\n`NomicLabsHardhatPluginError: constructor arguments exceeds max accepted (10k chars) length`\r\nThere is a way to solve this.\r\nYou just need to manually encode your constructor arguments. (In my case I've passed a very large array of  strings)\r\nI use ethers.js to achieve this, so here is the way how i have done this.\r\n`ethers.utils.defaultAbiCoder.encode([string[]], [[..., \"my\", \"array\", \"of\", \"strings\", ...]]`\r\nAfter you have done this, try to verify your contract via etherscan and replace your encoded data with that one in Constructor Arguments field. (Dont forget to delete first 2 characters (0x))",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1018412047/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
