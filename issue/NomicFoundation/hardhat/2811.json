{
  "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2811",
  "repository_url": "https://api.github.com/repos/NomicFoundation/hardhat",
  "labels_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2811/labels{/name}",
  "comments_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2811/comments",
  "events_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2811/events",
  "html_url": "https://github.com/NomicFoundation/hardhat/issues/2811",
  "id": 1265439959,
  "node_id": "I_kwDOB7jojM5LbRTX",
  "number": 2811,
  "title": "Hardhat Dependency Graph Doesn't Contain Nested Dependencies",
  "user": {
    "login": "pingdaze",
    "id": 105464716,
    "node_id": "U_kgDOBklDjA",
    "avatar_url": "https://avatars.githubusercontent.com/u/105464716?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/pingdaze",
    "html_url": "https://github.com/pingdaze",
    "followers_url": "https://api.github.com/users/pingdaze/followers",
    "following_url": "https://api.github.com/users/pingdaze/following{/other_user}",
    "gists_url": "https://api.github.com/users/pingdaze/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/pingdaze/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/pingdaze/subscriptions",
    "organizations_url": "https://api.github.com/users/pingdaze/orgs",
    "repos_url": "https://api.github.com/users/pingdaze/repos",
    "events_url": "https://api.github.com/users/pingdaze/events{/privacy}",
    "received_events_url": "https://api.github.com/users/pingdaze/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 4937718880,
      "node_id": "LA_kwDOB7jojM8AAAABJk-cYA",
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/labels/type:improvement",
      "name": "type:improvement",
      "color": "FBCA04",
      "default": false,
      "description": ""
    },
    {
      "id": 4937720577,
      "node_id": "LA_kwDOB7jojM8AAAABJk-jAQ",
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/labels/status:ready",
      "name": "status:ready",
      "color": "0E8A16",
      "default": false,
      "description": "This issue is ready to be worked on"
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2022-06-09T00:15:50Z",
  "updated_at": "2023-01-03T09:16:43Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Local package file contains `@openzeppelin/contracts version:4.6.0` but the 'arb-bridge-eth' package I'm using contains `@openzeppelin/contracts version:3.4.2` and since the 4. update the repo doesn't contain `Pausable.sol` leading to a dependency issue since Hardhat is looking for the dependency in my root `node_modules` instead of the dependencies `node_modules` where it's actually located.\r\n[DUMPER.txt](https://github.com/NomicFoundation/hardhat/files/8865715/DUMPER.txt)\r\n\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2811/reactions",
    "total_count": 1,
    "+1": 1,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2811/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1150537269",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2811#issuecomment-1150537269",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2811",
    "id": 1150537269,
    "node_id": "IC_kwDOB7jojM5Ek841",
    "user": {
      "login": "github-actions[bot]",
      "id": 41898282,
      "node_id": "MDM6Qm90NDE4OTgyODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/github-actions%5Bbot%5D",
      "html_url": "https://github.com/apps/github-actions",
      "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2022-06-09T00:16:14Z",
    "updated_at": "2022-06-09T00:16:14Z",
    "author_association": "CONTRIBUTOR",
    "body": "This issue is also being [tracked on Linear](https://linear.app/nomic-foundation/issue/HH-777/hardhat-dependency-graph-doesnt-contain-nested-dependencies).\n\nWe use Linear to manage our development process, but we keep the conversations on Github.\n\nLINEAR-ID: c84dd8b1-3628-48f0-b329-c818dabf299c",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1150537269/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1184140002",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2811#issuecomment-1184140002",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2811",
    "id": 1184140002,
    "node_id": "IC_kwDOB7jojM5GlIri",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-14T08:15:12Z",
    "updated_at": "2022-07-14T08:15:12Z",
    "author_association": "MEMBER",
    "body": "Thanks for reporting this @pingdaze. This is a hard problem to solve because of the way solc works and how we use it. We are thinking of long-term solutions, but in the meantime we should:\r\n\r\n1) Detect that this is happening and throw a better error\r\n2) Add a section in our docs about how to deal with this scenario.\r\n\r\nNote for ourselves: one way to do this is, during import resolution, and if we are resolving an import inside a library, check if that (second) imported library can be resolved both from the root of the project and from the (first) library. We should also get their respective versions, since that would be useful for the error message.\r\n\r\nNotice that this can have an impact on performance, so we should probably cache this result, with the pair (lib1, lib2) as a key.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1184140002/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
