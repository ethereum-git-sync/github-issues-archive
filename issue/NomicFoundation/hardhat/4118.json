{
  "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/4118",
  "repository_url": "https://api.github.com/repos/NomicFoundation/hardhat",
  "labels_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/4118/labels{/name}",
  "comments_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/4118/comments",
  "events_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/4118/events",
  "html_url": "https://github.com/NomicFoundation/hardhat/issues/4118",
  "id": 1790518105,
  "node_id": "I_kwDOB7jojM5quSNZ",
  "number": 4118,
  "title": "No overload matches this call - Lock's deploy script",
  "user": {
    "login": "0xartcro",
    "id": 108104261,
    "node_id": "U_kgDOBnGKRQ",
    "avatar_url": "https://avatars.githubusercontent.com/u/108104261?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/0xartcro",
    "html_url": "https://github.com/0xartcro",
    "followers_url": "https://api.github.com/users/0xartcro/followers",
    "following_url": "https://api.github.com/users/0xartcro/following{/other_user}",
    "gists_url": "https://api.github.com/users/0xartcro/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/0xartcro/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/0xartcro/subscriptions",
    "organizations_url": "https://api.github.com/users/0xartcro/orgs",
    "repos_url": "https://api.github.com/users/0xartcro/repos",
    "events_url": "https://api.github.com/users/0xartcro/events{/privacy}",
    "received_events_url": "https://api.github.com/users/0xartcro/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 2474207618,
      "node_id": "MDU6TGFiZWwyNDc0MjA3NjE4",
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/labels/status:needs-more-info",
      "name": "status:needs-more-info",
      "color": "0E8A16",
      "default": false,
      "description": "There's not enough information to start working on this issue"
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2023-07-05T23:36:50Z",
  "updated_at": "2023-07-09T20:10:23Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "### Version of Hardhat\n\n2.16.1\n\n### What happened?\n\nInstalled latest version of Hardhat including Toolbox 3 and after opening Lock's `deploy.ts` script it shows errors:\r\n\r\n```\r\nNo overload matches this call.\r\n  Overload 1 of 4, '(name: \"Lock\", args: any[], signerOrOptions?: Signer | FactoryOptions | undefined): Promise<Lock>', gave the following error.\r\n    Argument of type '{ value: bigint; }' is not assignable to parameter of type 'Signer | FactoryOptions | undefined'.\r\n      Object literal may only specify known properties, and 'value' does not exist in type 'Signer | FactoryOptions'.\r\n  Overload 2 of 4, '(name: string, args: any[], signerOrOptions?: Signer | FactoryOptions | undefined): Promise<Contract>', gave the following error.\r\n    Argument of type '{ value: bigint; }' is not assignable to parameter of type 'Signer | FactoryOptions | undefined'.\r\n      Object literal may only specify known properties, and 'value' does not exist in type 'Signer | FactoryOptions'.ts(2769)\r\n```\r\n\r\nRunning the script compiles and deploys everything properly though.\r\n\r\nUsing Visual Studio Code.\n\n### Minimal reproduction steps\n\n1. Install latest version of hardhat\r\n\r\nMy `package.json` file:\r\n```json\r\n{\r\n  \"name\": \"hardhat\",\r\n  \"version\": \"1.0.0\",\r\n  \"description\": \"\",\r\n  \"main\": \"index.js\",\r\n  \"scripts\": {\r\n    \"test\": \"echo \\\"Error: no test specified\\\" && exit 1\"\r\n  },\r\n  \"keywords\": [],\r\n  \"author\": \"\",\r\n  \"license\": \"ISC\",\r\n  \"devDependencies\": {\r\n    \"@nomicfoundation/hardhat-toolbox\": \"^3.0.0\",\r\n    \"hardhat\": \"^2.16.1\",\r\n    \"typescript\": \"^5.1.6\"\r\n  },\r\n  \"dependencies\": {\r\n    \"@openzeppelin/hardhat-upgrades\": \"^2.0.0\"\r\n  }\r\n}\r\n```\r\n\r\n2. Setup project for Typescript\r\n3. Open `deploy.ts` script\r\n\r\n\n\n### Search terms\n\n_No response_",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/4118/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/4118/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1624035085",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/4118#issuecomment-1624035085",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/4118",
    "id": 1624035085,
    "node_id": "IC_kwDOB7jojM5gzM8N",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-06T17:17:22Z",
    "updated_at": "2023-07-06T17:17:22Z",
    "author_association": "MEMBER",
    "body": "Uhm, I cannot reproduce this. I generated the sample typescript project, opened the script with VSCode, and got no errors.\r\n\r\nCan you share your `tsconfig.json` file?",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1624035085/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1626187695",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/4118#issuecomment-1626187695",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/4118",
    "id": 1626187695,
    "node_id": "IC_kwDOB7jojM5g7aev",
    "user": {
      "login": "0xartcro",
      "id": 108104261,
      "node_id": "U_kgDOBnGKRQ",
      "avatar_url": "https://avatars.githubusercontent.com/u/108104261?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/0xartcro",
      "html_url": "https://github.com/0xartcro",
      "followers_url": "https://api.github.com/users/0xartcro/followers",
      "following_url": "https://api.github.com/users/0xartcro/following{/other_user}",
      "gists_url": "https://api.github.com/users/0xartcro/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/0xartcro/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/0xartcro/subscriptions",
      "organizations_url": "https://api.github.com/users/0xartcro/orgs",
      "repos_url": "https://api.github.com/users/0xartcro/repos",
      "events_url": "https://api.github.com/users/0xartcro/events{/privacy}",
      "received_events_url": "https://api.github.com/users/0xartcro/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-07T21:40:25Z",
    "updated_at": "2023-07-07T21:41:38Z",
    "author_association": "NONE",
    "body": "> Uhm, I cannot reproduce this. I generated the sample typescript project, opened the script with VSCode, and got no errors.\r\n> \r\n> Can you share your `tsconfig.json` file?\r\n\r\n```\r\n{\r\n  \"compilerOptions\": {\r\n    \"target\": \"es2020\",\r\n    \"module\": \"commonjs\",\r\n    \"esModuleInterop\": true,\r\n    \"forceConsistentCasingInFileNames\": true,\r\n    \"strict\": true,\r\n    \"skipLibCheck\": true,\r\n    \"resolveJsonModule\": true\r\n  }\r\n}\r\n```\r\n\r\nI've seen someone else having same issue and asking about that here https://ethereum.stackexchange.com/questions/152107/error-in-hardhat-basic-example-deploy-ts\r\n\r\nSo I am not the only one I guess",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1626187695/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1627788270",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/4118#issuecomment-1627788270",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/4118",
    "id": 1627788270,
    "node_id": "IC_kwDOB7jojM5hBhPu",
    "user": {
      "login": "clauBv23",
      "id": 26546018,
      "node_id": "MDQ6VXNlcjI2NTQ2MDE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/26546018?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/clauBv23",
      "html_url": "https://github.com/clauBv23",
      "followers_url": "https://api.github.com/users/clauBv23/followers",
      "following_url": "https://api.github.com/users/clauBv23/following{/other_user}",
      "gists_url": "https://api.github.com/users/clauBv23/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/clauBv23/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/clauBv23/subscriptions",
      "organizations_url": "https://api.github.com/users/clauBv23/orgs",
      "repos_url": "https://api.github.com/users/clauBv23/repos",
      "events_url": "https://api.github.com/users/clauBv23/events{/privacy}",
      "received_events_url": "https://api.github.com/users/clauBv23/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-09T18:17:03Z",
    "updated_at": "2023-07-09T19:58:40Z",
    "author_association": "CONTRIBUTOR",
    "body": "The issue here is related to TypeChain, not Hardhat, the script runs without a problem, but the error is shown once the `hardhat.d.ts` file is autogenerated. \r\n\r\nThis is due to the latest version of hardhat-ethers that TypeChain supports is v3.0.0 and in version [v3.0.1](https://github.com/NomicFoundation/hardhat/releases/tag/%40nomicfoundation%2Fhardhat-ethers%403.0.1) transactions override where added, updating the  `deployContract` function params type,\r\nhttps://github.com/NomicFoundation/hardhat/commit/d8056fb8bc1116338f61974a8a44cd0defcb2555#diff-8d6cd3812336cbda37672c85460dd7086a6dd3fa1c6848ab12dce44fedd880e7\r\n \r\n\r\nIn the `hardhat.d.ts` file, changing the return type of the function will fix this issue. \r\nOnly have to change `FactoryOptions` for `DeployContractOptions`.\r\n\r\nThis could work until TypeChain is updated.\r\n\r\nedit: I have been taking a look at TypeCheck and not sure what is the issue but think it should work with v3.0.1\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1627788270/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1627790276",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/4118#issuecomment-1627790276",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/4118",
    "id": 1627790276,
    "node_id": "IC_kwDOB7jojM5hBhvE",
    "user": {
      "login": "boldrack",
      "id": 32609878,
      "node_id": "MDQ6VXNlcjMyNjA5ODc4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32609878?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/boldrack",
      "html_url": "https://github.com/boldrack",
      "followers_url": "https://api.github.com/users/boldrack/followers",
      "following_url": "https://api.github.com/users/boldrack/following{/other_user}",
      "gists_url": "https://api.github.com/users/boldrack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/boldrack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/boldrack/subscriptions",
      "organizations_url": "https://api.github.com/users/boldrack/orgs",
      "repos_url": "https://api.github.com/users/boldrack/repos",
      "events_url": "https://api.github.com/users/boldrack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/boldrack/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-09T18:28:12Z",
    "updated_at": "2023-07-09T18:28:12Z",
    "author_association": "NONE",
    "body": "@clauBv23 I'm using hardhat-ethers 3.0.0 and I'm facing the same issue now . ",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1627790276/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1627810237",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/4118#issuecomment-1627810237",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/4118",
    "id": 1627810237,
    "node_id": "IC_kwDOB7jojM5hBmm9",
    "user": {
      "login": "clauBv23",
      "id": 26546018,
      "node_id": "MDQ6VXNlcjI2NTQ2MDE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/26546018?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/clauBv23",
      "html_url": "https://github.com/clauBv23",
      "followers_url": "https://api.github.com/users/clauBv23/followers",
      "following_url": "https://api.github.com/users/clauBv23/following{/other_user}",
      "gists_url": "https://api.github.com/users/clauBv23/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/clauBv23/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/clauBv23/subscriptions",
      "organizations_url": "https://api.github.com/users/clauBv23/orgs",
      "repos_url": "https://api.github.com/users/clauBv23/repos",
      "events_url": "https://api.github.com/users/clauBv23/events{/privacy}",
      "received_events_url": "https://api.github.com/users/clauBv23/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-09T19:58:43Z",
    "updated_at": "2023-07-09T19:59:26Z",
    "author_association": "CONTRIBUTOR",
    "body": "@boldrack what version of hardhat and hardhat-toolbox are you using? \r\nAnd yes you are right when adding hardhat-ethers v3.0.0 to the project it works but you can check that the balance of the deployed contract is zero (it should be 0.001 ethers due to it being passed as value). \r\nSo the problem remained the same, you are providing a param that the function is not expecting. \r\nThat's why the sample project [was different before v3.0.1](https://github.com/NomicFoundation/hardhat/commit/d8056fb8bc1116338f61974a8a44cd0defcb2555#diff-42eb8e46399a577a6f33ced97feb4a35f75da1b273cb2de86fbf2e8b19b32a46)",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1627810237/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1627813434",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/4118#issuecomment-1627813434",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/4118",
    "id": 1627813434,
    "node_id": "IC_kwDOB7jojM5hBnY6",
    "user": {
      "login": "boldrack",
      "id": 32609878,
      "node_id": "MDQ6VXNlcjMyNjA5ODc4",
      "avatar_url": "https://avatars.githubusercontent.com/u/32609878?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/boldrack",
      "html_url": "https://github.com/boldrack",
      "followers_url": "https://api.github.com/users/boldrack/followers",
      "following_url": "https://api.github.com/users/boldrack/following{/other_user}",
      "gists_url": "https://api.github.com/users/boldrack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/boldrack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/boldrack/subscriptions",
      "organizations_url": "https://api.github.com/users/boldrack/orgs",
      "repos_url": "https://api.github.com/users/boldrack/repos",
      "events_url": "https://api.github.com/users/boldrack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/boldrack/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-09T20:10:23Z",
    "updated_at": "2023-07-09T20:10:23Z",
    "author_association": "NONE",
    "body": "@clauBv23 I\"m using hardhat 2.16.1 and hardhat-toolbox 3.0.0 \r\n\r\nI think there's been a mixup in the usage of `DeployContractOptions`  and `FactoryOptions` \r\n\r\n`DeployContractOptions` is supposed to cater for that value param, correct me if i'm wrong. ",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1627813434/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
