{
  "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2227",
  "repository_url": "https://api.github.com/repos/NomicFoundation/hardhat",
  "labels_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2227/labels{/name}",
  "comments_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2227/comments",
  "events_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2227/events",
  "html_url": "https://github.com/NomicFoundation/hardhat/issues/2227",
  "id": 1096716494,
  "node_id": "I_kwDOB7jojM5BXpDO",
  "number": 2227,
  "title": "Failed to generate 2 stack traces",
  "user": {
    "login": "pcaversaccio",
    "id": 25297591,
    "node_id": "MDQ6VXNlcjI1Mjk3NTkx",
    "avatar_url": "https://avatars.githubusercontent.com/u/25297591?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/pcaversaccio",
    "html_url": "https://github.com/pcaversaccio",
    "followers_url": "https://api.github.com/users/pcaversaccio/followers",
    "following_url": "https://api.github.com/users/pcaversaccio/following{/other_user}",
    "gists_url": "https://api.github.com/users/pcaversaccio/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/pcaversaccio/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/pcaversaccio/subscriptions",
    "organizations_url": "https://api.github.com/users/pcaversaccio/orgs",
    "repos_url": "https://api.github.com/users/pcaversaccio/repos",
    "events_url": "https://api.github.com/users/pcaversaccio/events{/privacy}",
    "received_events_url": "https://api.github.com/users/pcaversaccio/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": true,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2022-01-07T22:27:45Z",
  "updated_at": "2023-03-29T00:15:34Z",
  "closed_at": "2022-12-28T16:29:47Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": "resolved",
  "body": "In order to reproduce the error you can simply run the tests from my repo here: https://github.com/pcaversaccio/create2deployer/blob/main/test/Create2.test.ts\r\n\r\nThis will produce the following 2 stack trace errors:\r\n```bash\r\n deploy\r\n      √ deploys a ERC1820Implementer from inline assembly code (65ms)\r\n      √ deploys a ERC20Mock with correct balances (170ms)\r\n      √ deploys a contract with funds deposited in the factory (246ms)\r\n  hardhat:core:hardhat-network:node Could not generate stack trace. Please report this to help us improve Hardhat.\r\n  hardhat:core:hardhat-network:node  TypeError: Cannot use 'in' operator to search for 'pc' in undefined\r\n    at isEvmStep (C:\\Dev\\Blockchain\\create2deployer\\node_modules\\hardhat\\src\\internal\\hardhat-network\\stack-traces\\message-trace.ts:89:14)\r\n    at ErrorInferrer._isConstructorInvalidArgumentsError (C:\\Dev\\Blockchain\\create2deployer\\node_modules\\hardhat\\src\\internal\\hardhat-network\\stack-traces\\error-inferrer.ts:972:19) \r\n    at ErrorInferrer.inferBeforeTracingCreateMessage (C:\\Dev\\Blockchain\\create2deployer\\node_modules\\hardhat\\src\\internal\\hardhat-network\\stack-traces\\error-inferrer.ts:142:14)     \r\n    at SolidityTracer._getCreateMessageStackTrace (C:\\Dev\\Blockchain\\create2deployer\\node_modules\\hardhat\\src\\internal\\hardhat-network\\stack-traces\\solidityTracer.ts:126:27)        \r\n    at SolidityTracer.getStackTrace (C:\\Dev\\Blockchain\\create2deployer\\node_modules\\hardhat\\src\\internal\\hardhat-network\\stack-traces\\solidityTracer.ts:52:19)\r\n    at SolidityTracer._rawTraceEvmExecution (C:\\Dev\\Blockchain\\create2deployer\\node_modules\\hardhat\\src\\internal\\hardhat-network\\stack-traces\\solidityTracer.ts:201:38)\r\n    at SolidityTracer._traceEvmExecution (C:\\Dev\\Blockchain\\create2deployer\\node_modules\\hardhat\\src\\internal\\hardhat-network\\stack-traces\\solidityTracer.ts:149:29)\r\n    at SolidityTracer._getCallMessageStackTrace (C:\\Dev\\Blockchain\\create2deployer\\node_modules\\hardhat\\src\\internal\\hardhat-network\\stack-traces\\solidityTracer.ts:72:17)\r\n    at SolidityTracer.getStackTrace (C:\\Dev\\Blockchain\\create2deployer\\node_modules\\hardhat\\src\\internal\\hardhat-network\\stack-traces\\solidityTracer.ts:56:19)\r\n    at HardhatNode._manageErrors (C:\\Dev\\Blockchain\\create2deployer\\node_modules\\hardhat\\src\\internal\\hardhat-network\\provider\\node.ts:1773:41)\r\n    at HardhatNode._gatherTraces (C:\\Dev\\Blockchain\\create2deployer\\node_modules\\hardhat\\src\\internal\\hardhat-network\\provider\\node.ts:1530:30)\r\n    at async HardhatNode._mineBlockWithPendingTxs (C:\\Dev\\Blockchain\\create2deployer\\node_modules\\hardhat\\src\\internal\\hardhat-network\\provider\\node.ts:1650:23)\r\n    at async HardhatNode.mineBlock (C:\\Dev\\Blockchain\\create2deployer\\node_modules\\hardhat\\src\\internal\\hardhat-network\\provider\\node.ts:459:16)\r\n    at async EthModule._sendTransactionAndReturnHash (C:\\Dev\\Blockchain\\create2deployer\\node_modules\\hardhat\\src\\internal\\hardhat-network\\provider\\modules\\eth.ts:1496:18)\r\n    at async HardhatNetworkProvider.request (C:\\Dev\\Blockchain\\create2deployer\\node_modules\\hardhat\\src\\internal\\hardhat-network\\provider\\provider.ts:117:18)\r\n    at async Web3HTTPProviderAdapter._sendJsonRpcRequest (C:\\Dev\\Blockchain\\create2deployer\\node_modules\\@nomiclabs\\hardhat-web3\\src\\web3-provider-adapter.ts:80:22) +0ms\r\n  hardhat:core:hardhat-network:node Could not generate stack trace. Please report this to help us improve Hardhat.\r\n  hardhat:core:hardhat-network:node  TypeError: Cannot use 'in' operator to search for 'pc' in undefined\r\n    at isEvmStep (C:\\Dev\\Blockchain\\create2deployer\\node_modules\\hardhat\\src\\internal\\hardhat-network\\stack-traces\\message-trace.ts:89:14)\r\n    at ErrorInferrer._isConstructorInvalidArgumentsError (C:\\Dev\\Blockchain\\create2deployer\\node_modules\\hardhat\\src\\internal\\hardhat-network\\stack-traces\\error-inferrer.ts:972:19) \r\n    at ErrorInferrer.inferBeforeTracingCreateMessage (C:\\Dev\\Blockchain\\create2deployer\\node_modules\\hardhat\\src\\internal\\hardhat-network\\stack-traces\\error-inferrer.ts:142:14)     \r\n    at SolidityTracer._getCreateMessageStackTrace (C:\\Dev\\Blockchain\\create2deployer\\node_modules\\hardhat\\src\\internal\\hardhat-network\\stack-traces\\solidityTracer.ts:126:27)        \r\n    at SolidityTracer.getStackTrace (C:\\Dev\\Blockchain\\create2deployer\\node_modules\\hardhat\\src\\internal\\hardhat-network\\stack-traces\\solidityTracer.ts:52:19)\r\n    at SolidityTracer._rawTraceEvmExecution (C:\\Dev\\Blockchain\\create2deployer\\node_modules\\hardhat\\src\\internal\\hardhat-network\\stack-traces\\solidityTracer.ts:201:38)\r\n    at SolidityTracer._traceEvmExecution (C:\\Dev\\Blockchain\\create2deployer\\node_modules\\hardhat\\src\\internal\\hardhat-network\\stack-traces\\solidityTracer.ts:149:29)\r\n    at SolidityTracer._getCallMessageStackTrace (C:\\Dev\\Blockchain\\create2deployer\\node_modules\\hardhat\\src\\internal\\hardhat-network\\stack-traces\\solidityTracer.ts:72:17)\r\n    at SolidityTracer.getStackTrace (C:\\Dev\\Blockchain\\create2deployer\\node_modules\\hardhat\\src\\internal\\hardhat-network\\stack-traces\\solidityTracer.ts:56:19)\r\n    at HardhatNode._manageErrors (C:\\Dev\\Blockchain\\create2deployer\\node_modules\\hardhat\\src\\internal\\hardhat-network\\provider\\node.ts:1773:41)\r\n    at HardhatNode._gatherTraces (C:\\Dev\\Blockchain\\create2deployer\\node_modules\\hardhat\\src\\internal\\hardhat-network\\provider\\node.ts:1530:30)\r\n    at async HardhatNode.runCall (C:\\Dev\\Blockchain\\create2deployer\\node_modules\\hardhat\\src\\internal\\hardhat-network\\provider\\node.ts:535:20)\r\n    at async EthModule._callAction (C:\\Dev\\Blockchain\\create2deployer\\node_modules\\hardhat\\src\\internal\\hardhat-network\\provider\\modules\\eth.ts:353:9)\r\n    at async HardhatNetworkProvider.request (C:\\Dev\\Blockchain\\create2deployer\\node_modules\\hardhat\\src\\internal\\hardhat-network\\provider\\provider.ts:117:18)\r\n    at async Web3HTTPProviderAdapter._sendJsonRpcRequest (C:\\Dev\\Blockchain\\create2deployer\\node_modules\\@nomiclabs\\hardhat-web3\\src\\web3-provider-adapter.ts:80:22) +83ms\r\n      √ fails deploying a contract in an existent address (255ms)\r\n```\r\n\r\nEnvironment:\r\n- Hardhat `2.8.2`\r\n- Nodejs `14.11.0`",
  "closed_by": {
    "login": "fvictorio",
    "id": 417134,
    "node_id": "MDQ6VXNlcjQxNzEzNA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/fvictorio",
    "html_url": "https://github.com/fvictorio",
    "followers_url": "https://api.github.com/users/fvictorio/followers",
    "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
    "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
    "organizations_url": "https://api.github.com/users/fvictorio/orgs",
    "repos_url": "https://api.github.com/users/fvictorio/repos",
    "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
    "received_events_url": "https://api.github.com/users/fvictorio/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2227/reactions",
    "total_count": 2,
    "+1": 2,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2227/timeline",
  "performed_via_github_app": null,
  "state_reason": "not_planned"
}
[
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1008041900",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2227#issuecomment-1008041900",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2227",
    "id": 1008041900,
    "node_id": "IC_kwDOB7jojM48FX-s",
    "user": {
      "login": "gzliudan",
      "id": 7695325,
      "node_id": "MDQ6VXNlcjc2OTUzMjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7695325?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gzliudan",
      "html_url": "https://github.com/gzliudan",
      "followers_url": "https://api.github.com/users/gzliudan/followers",
      "following_url": "https://api.github.com/users/gzliudan/following{/other_user}",
      "gists_url": "https://api.github.com/users/gzliudan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gzliudan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gzliudan/subscriptions",
      "organizations_url": "https://api.github.com/users/gzliudan/orgs",
      "repos_url": "https://api.github.com/users/gzliudan/repos",
      "events_url": "https://api.github.com/users/gzliudan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gzliudan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-08T16:05:02Z",
    "updated_at": "2022-01-08T16:08:15Z",
    "author_association": "NONE",
    "body": "I also encounter this error when run a test case:\r\n```text\r\n  hardhat:core:hardhat-network:node Could not generate stack trace. Please report this to help us improve Hardhat.\r\n  hardhat:core:hardhat-network:node  Error: This shouldn't happen: a call trace has no functionJumpdest but has already jumped into a function\r\n    at ErrorInferrer._getEntryBeforeFailureInModifier (/home/liudan/matrix/MatrixProtocol/node_modules/hardhat/src/internal/hardhat-network/stack-traces/error-inferrer.ts:1495:13)\r\n    at ErrorInferrer._checkRevertOrInvalidOpcode (/home/liudan/matrix/MatrixProtocol/node_modules/hardhat/src/internal/hardhat-network/stack-traces/error-inferrer.ts:389:16)\r\n    at ErrorInferrer._checkLastInstruction (/home/liudan/matrix/MatrixProtocol/node_modules/hardhat/src/internal/hardhat-network/stack-traces/error-inferrer.ts:573:44)\r\n    at ErrorInferrer.inferAfterTracing (/home/liudan/matrix/MatrixProtocol/node_modules/hardhat/src/internal/hardhat-network/stack-traces/error-inferrer.ts:162:12)\r\n    at SolidityTracer._rawTraceEvmExecution (/home/liudan/matrix/MatrixProtocol/node_modules/hardhat/src/internal/hardhat-network/stack-traces/solidityTracer.ts:211:61)\r\n    at SolidityTracer._traceEvmExecution (/home/liudan/matrix/MatrixProtocol/node_modules/hardhat/src/internal/hardhat-network/stack-traces/solidityTracer.ts:149:29)\r\n    at SolidityTracer._getCallMessageStackTrace (/home/liudan/matrix/MatrixProtocol/node_modules/hardhat/src/internal/hardhat-network/stack-traces/solidityTracer.ts:72:17)\r\n    at SolidityTracer.getStackTrace (/home/liudan/matrix/MatrixProtocol/node_modules/hardhat/src/internal/hardhat-network/stack-traces/solidityTracer.ts:56:19)\r\n    at HardhatNode._manageErrors (/home/liudan/matrix/MatrixProtocol/node_modules/hardhat/src/internal/hardhat-network/provider/node.ts:1772:41)\r\n    at HardhatNode._gatherTraces (/home/liudan/matrix/MatrixProtocol/node_modules/hardhat/src/internal/hardhat-network/provider/node.ts:1529:30) +0ms\r\n```\r\nI'm using node v16.13.1 and hardhat v2.8.0",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1008041900/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1030254081",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2227#issuecomment-1030254081",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2227",
    "id": 1030254081,
    "node_id": "IC_kwDOB7jojM49aG4B",
    "user": {
      "login": "Kokokokoka",
      "id": 15219994,
      "node_id": "MDQ6VXNlcjE1MjE5OTk0",
      "avatar_url": "https://avatars.githubusercontent.com/u/15219994?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Kokokokoka",
      "html_url": "https://github.com/Kokokokoka",
      "followers_url": "https://api.github.com/users/Kokokokoka/followers",
      "following_url": "https://api.github.com/users/Kokokokoka/following{/other_user}",
      "gists_url": "https://api.github.com/users/Kokokokoka/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Kokokokoka/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Kokokokoka/subscriptions",
      "organizations_url": "https://api.github.com/users/Kokokokoka/orgs",
      "repos_url": "https://api.github.com/users/Kokokokoka/repos",
      "events_url": "https://api.github.com/users/Kokokokoka/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Kokokokoka/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-04T18:43:40Z",
    "updated_at": "2022-02-04T18:43:40Z",
    "author_association": "NONE",
    "body": "Using: hardhat v2.8.3 nodejs v16.13.1\r\n```\r\n2022-02-04T18:37:33.724Z hardhat:core:hardhat-network:node Could not generate stack trace. Please report this to help us improve Hardhat.\r\n Error: This shouldn't happen: a call trace has no functionJumpdest but has already jumped into a function\r\n    at ErrorInferrer._getEntryBeforeFailureInModifier (/home/id0/src/neuron-options/node_modules/hardhat/src/internal/hardhat-network/stack-traces/error-inferrer.ts:1495:13)\r\n    at ErrorInferrer._checkRevertOrInvalidOpcode (/home/id0/src/neuron-options/node_modules/hardhat/src/internal/hardhat-network/stack-traces/error-inferrer.ts:389:16)\r\n    at ErrorInferrer._checkLastInstruction (/home/id0/src/neuron-options/node_modules/hardhat/src/internal/hardhat-network/stack-traces/error-inferrer.ts:573:44)\r\n    at ErrorInferrer.inferAfterTracing (/home/id0/src/neuron-options/node_modules/hardhat/src/internal/hardhat-network/stack-traces/error-inferrer.ts:162:12)\r\n    at SolidityTracer._rawTraceEvmExecution (/home/id0/src/neuron-options/node_modules/hardhat/src/internal/hardhat-network/stack-traces/solidityTracer.ts:211:61)\r\n    at SolidityTracer._traceEvmExecution (/home/id0/src/neuron-options/node_modules/hardhat/src/internal/hardhat-network/stack-traces/solidityTracer.ts:149:29)\r\n    at SolidityTracer._getCallMessageStackTrace (/home/id0/src/neuron-options/node_modules/hardhat/src/internal/hardhat-network/stack-traces/solidityTracer.ts:72:17)\r\n    at SolidityTracer.getStackTrace (/home/id0/src/neuron-options/node_modules/hardhat/src/internal/hardhat-network/stack-traces/solidityTracer.ts:56:19)\r\n    at SolidityTracer._rawTraceEvmExecution (/home/id0/src/neuron-options/node_modules/hardhat/src/internal/hardhat-network/stack-traces/solidityTracer.ts:201:38)\r\n    at SolidityTracer._traceEvmExecution (/home/id0/src/neuron-options/node_modules/hardhat/src/internal/hardhat-network/stack-traces/solidityTracer.ts:149:29)\r\n```\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1030254081/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1144942105",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2227#issuecomment-1144942105",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2227",
    "id": 1144942105,
    "node_id": "IC_kwDOB7jojM5EPm4Z",
    "user": {
      "login": "github-actions[bot]",
      "id": 41898282,
      "node_id": "MDM6Qm90NDE4OTgyODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/github-actions%5Bbot%5D",
      "html_url": "https://github.com/apps/github-actions",
      "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2022-06-02T14:36:28Z",
    "updated_at": "2022-06-02T14:36:28Z",
    "author_association": "CONTRIBUTOR",
    "body": "This issue was marked as stale because it didn't have any activity in the last 30 days. If you think it's still relevant, please leave a comment indicating so. Otherwise, it will be closed in 7 days.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1144942105/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1144969709",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2227#issuecomment-1144969709",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2227",
    "id": 1144969709,
    "node_id": "IC_kwDOB7jojM5EPtnt",
    "user": {
      "login": "pcaversaccio",
      "id": 25297591,
      "node_id": "MDQ6VXNlcjI1Mjk3NTkx",
      "avatar_url": "https://avatars.githubusercontent.com/u/25297591?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pcaversaccio",
      "html_url": "https://github.com/pcaversaccio",
      "followers_url": "https://api.github.com/users/pcaversaccio/followers",
      "following_url": "https://api.github.com/users/pcaversaccio/following{/other_user}",
      "gists_url": "https://api.github.com/users/pcaversaccio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pcaversaccio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pcaversaccio/subscriptions",
      "organizations_url": "https://api.github.com/users/pcaversaccio/orgs",
      "repos_url": "https://api.github.com/users/pcaversaccio/repos",
      "events_url": "https://api.github.com/users/pcaversaccio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pcaversaccio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-02T15:01:54Z",
    "updated_at": "2022-06-02T15:41:59Z",
    "author_association": "CONTRIBUTOR",
    "body": "This issue is still relevant.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1144969709/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1257771557",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2227#issuecomment-1257771557",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2227",
    "id": 1257771557,
    "node_id": "IC_kwDOB7jojM5K-BIl",
    "user": {
      "login": "vladikopl01",
      "id": 56199219,
      "node_id": "MDQ6VXNlcjU2MTk5MjE5",
      "avatar_url": "https://avatars.githubusercontent.com/u/56199219?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vladikopl01",
      "html_url": "https://github.com/vladikopl01",
      "followers_url": "https://api.github.com/users/vladikopl01/followers",
      "following_url": "https://api.github.com/users/vladikopl01/following{/other_user}",
      "gists_url": "https://api.github.com/users/vladikopl01/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vladikopl01/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vladikopl01/subscriptions",
      "organizations_url": "https://api.github.com/users/vladikopl01/orgs",
      "repos_url": "https://api.github.com/users/vladikopl01/repos",
      "events_url": "https://api.github.com/users/vladikopl01/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vladikopl01/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-26T09:42:46Z",
    "updated_at": "2022-09-26T10:00:32Z",
    "author_association": "NONE",
    "body": "I had the same issue as shown above.\r\n\r\n```\r\nhardhat:core:hardhat-network:node Could not generate stack trace. Please report this to help us improve Hardhat.\r\n  hardhat:core:hardhat-network:node  Error: This shouldn't happen: a call trace has no functionJumpdest but has already jumped into a function\r\n    at ErrorInferrer._getEntryBeforeFailureInModifier (D:\\Programming\\Work\\bocachica-deimos-sc\\node_modules\\hardhat\\src\\internal\\hardhat-network\\stack-traces\\error-inferrer.ts:1500:13)\r\n    at ErrorInferrer._checkRevertOrInvalidOpcode (D:\\Programming\\Work\\bocachica-deimos-sc\\node_modules\\hardhat\\src\\internal\\hardhat-network\\stack-traces\\error-inferrer.ts:389:16)\r\n    at ErrorInferrer._checkLastInstruction (D:\\Programming\\Work\\bocachica-deimos-sc\\node_modules\\hardhat\\src\\internal\\hardhat-network\\stack-traces\\error-inferrer.ts:573:44)    \r\n    at ErrorInferrer.inferAfterTracing (D:\\Programming\\Work\\bocachica-deimos-sc\\node_modules\\hardhat\\src\\internal\\hardhat-network\\stack-traces\\error-inferrer.ts:162:12)    \r\n    at SolidityTracer._rawTraceEvmExecution (D:\\Programming\\Work\\bocachica-deimos-sc\\node_modules\\hardhat\\src\\internal\\hardhat-network\\stack-traces\\solidityTracer.ts:211:61)\r\n    at SolidityTracer._traceEvmExecution (D:\\Programming\\Work\\bocachica-deimos-sc\\node_modules\\hardhat\\src\\internal\\hardhat-network\\stack-traces\\solidityTracer.ts:149:29)  \r\n    at SolidityTracer._getCallMessageStackTrace (D:\\Programming\\Work\\bocachica-deimos-sc\\node_modules\\hardhat\\src\\internal\\hardhat-network\\stack-traces\\solidityTracer.ts:72:17)\r\n    at SolidityTracer.getStackTrace (D:\\Programming\\Work\\bocachica-deimos-sc\\node_modules\\hardhat\\src\\internal\\hardhat-network\\stack-traces\\solidityTracer.ts:56:19)        \r\n    at SolidityTracer._getUnrecognizedMessageStackTrace (D:\\Programming\\Work\\bocachica-deimos-sc\\node_modules\\hardhat\\src\\internal\\hardhat-network\\stack-traces\\solidityTracer.ts:100:44)\r\n    at SolidityTracer.getStackTrace (D:\\Programming\\Work\\bocachica-deimos-sc\\node_modules\\hardhat\\src\\internal\\hardhat-network\\stack-traces\\solidityTracer.ts:59:17) +3s    \r\n```\r\n\r\nHardhat v2.10.0\r\nHardhat-network-helpers v1.0.3\r\nNode >=v16.0.0\r\n\r\nAlso, I found an interesting thing that all tests that have this kind of error are designed to fail the transaction when checking input in modifiers. Moreover, I noticed that this happens not from the parameters passed to the modifier, but from the newly created links to storage dependent on the input parameters of the modifier. For example, I pass the id of the structure in the mapping, first checking the id itself, and then the structure itself for the presence of the necessary conditions in it.\r\n\r\nExample code:\r\n```solidity\r\n    // Variable to count sales in the contract.\r\n    uint32 private _saleCount;\r\n\r\n    // Mapping variable to store all sales according to their ids.\r\n    mapping(uint32 => Sale) private _sales;\r\n    \r\n    modifier saleNotStarted(uint32 saleId_) {\r\n        if (saleId_ <= 0 || saleId_ > _saleCount) revert InvalidSaleId(saleId_, _saleCount);\r\n        SaleInfo storage saleInfo = _sales[saleId_].saleInfo;\r\n        if (block.timestamp >= saleInfo.startDate) revert SaleAlreadyStarted(saleId_); // So this might be the cause of the errors\r\n        _;\r\n    }\r\n    \r\n    modifier claimAvailable(uint32 saleId_) {\r\n        if (saleId_ <= 0 || saleId_ > _saleCount) revert InvalidSaleId(saleId_, _saleCount);\r\n        bool claimStatus = _sales[saleId_].saleInfo.isClaimAvailable;\r\n        uint256 depositedAmount = _sales[saleId_].participants[msg.sender].depositedAmount;\r\n        if (claimStatus == false || depositedAmount == 0)\r\n            revert ClaimNotAvailable(saleId_, claimStatus, depositedAmount); // So this might be the cause of the errors\r\n        _;\r\n    }\r\n```\r\n\r\nI hope this helps solve such a problem.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1257771557/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1366775015",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2227#issuecomment-1366775015",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2227",
    "id": 1366775015,
    "node_id": "IC_kwDOB7jojM5Rd1Tn",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-12-28T16:29:46Z",
    "updated_at": "2022-12-28T16:29:46Z",
    "author_association": "MEMBER",
    "body": "I'm going to close this in favor of https://github.com/NomicFoundation/hardhat/issues/3482, that has a minimal reproduction and some initial investigation.\r\n\r\nThanks a lot for the reproduction repo, @pcaversaccio, that was super useful.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1366775015/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
