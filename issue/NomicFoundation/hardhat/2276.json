{
  "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2276",
  "repository_url": "https://api.github.com/repos/NomicFoundation/hardhat",
  "labels_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2276/labels{/name}",
  "comments_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2276/comments",
  "events_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2276/events",
  "html_url": "https://github.com/NomicFoundation/hardhat/issues/2276",
  "id": 1108777759,
  "node_id": "I_kwDOB7jojM5CFpsf",
  "number": 2276,
  "title": "Coverage started with errors in 2.8.1 when --testfiles is provided.",
  "user": {
    "login": "Janther",
    "id": 1022054,
    "node_id": "MDQ6VXNlcjEwMjIwNTQ=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1022054?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Janther",
    "html_url": "https://github.com/Janther",
    "followers_url": "https://api.github.com/users/Janther/followers",
    "following_url": "https://api.github.com/users/Janther/following{/other_user}",
    "gists_url": "https://api.github.com/users/Janther/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Janther/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Janther/subscriptions",
    "organizations_url": "https://api.github.com/users/Janther/orgs",
    "repos_url": "https://api.github.com/users/Janther/repos",
    "events_url": "https://api.github.com/users/Janther/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Janther/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": true,
  "assignee": {
    "login": "feuGeneA",
    "id": 7883777,
    "node_id": "MDQ6VXNlcjc4ODM3Nzc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/7883777?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/feuGeneA",
    "html_url": "https://github.com/feuGeneA",
    "followers_url": "https://api.github.com/users/feuGeneA/followers",
    "following_url": "https://api.github.com/users/feuGeneA/following{/other_user}",
    "gists_url": "https://api.github.com/users/feuGeneA/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/feuGeneA/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/feuGeneA/subscriptions",
    "organizations_url": "https://api.github.com/users/feuGeneA/orgs",
    "repos_url": "https://api.github.com/users/feuGeneA/repos",
    "events_url": "https://api.github.com/users/feuGeneA/events{/privacy}",
    "received_events_url": "https://api.github.com/users/feuGeneA/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "feuGeneA",
      "id": 7883777,
      "node_id": "MDQ6VXNlcjc4ODM3Nzc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7883777?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/feuGeneA",
      "html_url": "https://github.com/feuGeneA",
      "followers_url": "https://api.github.com/users/feuGeneA/followers",
      "following_url": "https://api.github.com/users/feuGeneA/following{/other_user}",
      "gists_url": "https://api.github.com/users/feuGeneA/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/feuGeneA/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/feuGeneA/subscriptions",
      "organizations_url": "https://api.github.com/users/feuGeneA/orgs",
      "repos_url": "https://api.github.com/users/feuGeneA/repos",
      "events_url": "https://api.github.com/users/feuGeneA/events{/privacy}",
      "received_events_url": "https://api.github.com/users/feuGeneA/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2022-01-20T02:50:14Z",
  "updated_at": "2022-11-18T10:05:34Z",
  "closed_at": "2022-01-20T23:16:54Z",
  "author_association": "NONE",
  "active_lock_reason": "resolved",
  "body": "<!--\r\n\r\nThank you for using Hardhat and taking the time to open an issue!\r\n\r\n**Note that this issue tracker is not a support channel.**\r\n\r\n- For help with Hardhat and Hardhat network, please use our [Discord server](https://hardhat.org/discord).\r\n- For help with ethers.js, please go to [its Github Discussions](https://github.com/ethers-io/ethers.js/discussions).\r\n\r\nIf you are reporting a bug, please include reproduction steps. The best way to do this is to include a [Minimal Reproducible Example](https://stackoverflow.com/help/minimal-reproducible-example). If you can't do that, then include a link to your repo, and the steps to reproduce the problem. The easiest it is to reproduce your problem, the faster we are going to be able to fix it.\r\n\r\nIf you are submitting a feature request, please take the time to clearly describe your use case, and not only your proposed solution.\r\n\r\nThis issue will be automatically assigned to a Hardhat team member. This person will act as the point of contact between you and the team, but won't necessarily fix it nor address it in any way. An issue being assigned does not mean that it's being worked on.\r\n\r\n-->\r\n\r\nFound this when trying to update hardhat for https://github.com/paulrberg/solidity-template \r\n\r\nthe command for coverage fails as it can't load the tests files provided.\r\n\r\n```\r\nError in plugin solidity-coverage: Error: Cannot find module './test/types.ts'\r\nRequire stack:\r\n- ~/Projects/solidity-template/node_modules/hardhat/node_modules/mocha/lib/mocha.js\r\n- ~/Projects/solidity-template/node_modules/hardhat/node_modules/mocha/index.js\r\n- ~/Projects/solidity-template/node_modules/hardhat/builtin-tasks/test.js\r\n- ~/Projects/solidity-template/node_modules/hardhat/internal/core/tasks/builtin-tasks.js\r\n- ~/Projects/solidity-template/node_modules/hardhat/internal/core/config/config-loading.js\r\n- ~/Projects/solidity-template/node_modules/hardhat/internal/cli/cli.js\r\n```",
  "closed_by": {
    "login": "Janther",
    "id": 1022054,
    "node_id": "MDQ6VXNlcjEwMjIwNTQ=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1022054?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Janther",
    "html_url": "https://github.com/Janther",
    "followers_url": "https://api.github.com/users/Janther/followers",
    "following_url": "https://api.github.com/users/Janther/following{/other_user}",
    "gists_url": "https://api.github.com/users/Janther/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Janther/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Janther/subscriptions",
    "organizations_url": "https://api.github.com/users/Janther/orgs",
    "repos_url": "https://api.github.com/users/Janther/repos",
    "events_url": "https://api.github.com/users/Janther/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Janther/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2276/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2276/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1017091010",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2276#issuecomment-1017091010",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2276",
    "id": 1017091010,
    "node_id": "IC_kwDOB7jojM48n5PC",
    "user": {
      "login": "cgewecke",
      "id": 7332026,
      "node_id": "MDQ6VXNlcjczMzIwMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7332026?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cgewecke",
      "html_url": "https://github.com/cgewecke",
      "followers_url": "https://api.github.com/users/cgewecke/followers",
      "following_url": "https://api.github.com/users/cgewecke/following{/other_user}",
      "gists_url": "https://api.github.com/users/cgewecke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cgewecke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cgewecke/subscriptions",
      "organizations_url": "https://api.github.com/users/cgewecke/orgs",
      "repos_url": "https://api.github.com/users/cgewecke/repos",
      "events_url": "https://api.github.com/users/cgewecke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cgewecke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-20T03:42:40Z",
    "updated_at": "2022-01-20T03:42:40Z",
    "author_association": "CONTRIBUTOR",
    "body": "@Janther I think this could be an issue at solidity-coverage with the way the testfiles arg is processed. \r\n\r\nI see the error go away if you rewrite the arg in the template's package.json scripts so it doesn't use a relative path prefix, e.g:\r\n```diff\r\n- --testfiles \\\"./test/**/*.ts\\\"\r\n+ --testfiles \\\"test/**/*.ts\\\" \r\n```\r\n\r\nIt's possible this err was being swallowed in 2.7.0, hiding the problem. And 2.8.1 has fixed it. ",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1017091010/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1017605422",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2276#issuecomment-1017605422",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2276",
    "id": 1017605422,
    "node_id": "IC_kwDOB7jojM48p20u",
    "user": {
      "login": "feuGeneA",
      "id": 7883777,
      "node_id": "MDQ6VXNlcjc4ODM3Nzc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7883777?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/feuGeneA",
      "html_url": "https://github.com/feuGeneA",
      "followers_url": "https://api.github.com/users/feuGeneA/followers",
      "following_url": "https://api.github.com/users/feuGeneA/following{/other_user}",
      "gists_url": "https://api.github.com/users/feuGeneA/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/feuGeneA/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/feuGeneA/subscriptions",
      "organizations_url": "https://api.github.com/users/feuGeneA/orgs",
      "repos_url": "https://api.github.com/users/feuGeneA/repos",
      "events_url": "https://api.github.com/users/feuGeneA/events{/privacy}",
      "received_events_url": "https://api.github.com/users/feuGeneA/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-20T15:09:43Z",
    "updated_at": "2022-01-20T15:09:43Z",
    "author_association": "CONTRIBUTOR",
    "body": "Seems like not an issue with Hardhat? Please close if that seems to be the case to you.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1017605422/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1017986634",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2276#issuecomment-1017986634",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2276",
    "id": 1017986634,
    "node_id": "IC_kwDOB7jojM48rT5K",
    "user": {
      "login": "Janther",
      "id": 1022054,
      "node_id": "MDQ6VXNlcjEwMjIwNTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1022054?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Janther",
      "html_url": "https://github.com/Janther",
      "followers_url": "https://api.github.com/users/Janther/followers",
      "following_url": "https://api.github.com/users/Janther/following{/other_user}",
      "gists_url": "https://api.github.com/users/Janther/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Janther/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Janther/subscriptions",
      "organizations_url": "https://api.github.com/users/Janther/orgs",
      "repos_url": "https://api.github.com/users/Janther/repos",
      "events_url": "https://api.github.com/users/Janther/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Janther/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-20T22:34:28Z",
    "updated_at": "2022-01-20T22:34:28Z",
    "author_association": "NONE",
    "body": "if I run it with a not existing folder it runs. Only where there are matching files it fails.\r\n\r\n```\r\n--testfiles \\\"./badfolder/**/*.ts\\\"\r\n```\r\n\r\nStill unsure who's responsible for this issue. Gonna look into what changes happened between 2.8.0 and 2.8.1 but I don't have much middle time right now.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1017986634/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1018009737",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2276#issuecomment-1018009737",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2276",
    "id": 1018009737,
    "node_id": "IC_kwDOB7jojM48rZiJ",
    "user": {
      "login": "cgewecke",
      "id": 7332026,
      "node_id": "MDQ6VXNlcjczMzIwMjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7332026?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cgewecke",
      "html_url": "https://github.com/cgewecke",
      "followers_url": "https://api.github.com/users/cgewecke/followers",
      "following_url": "https://api.github.com/users/cgewecke/following{/other_user}",
      "gists_url": "https://api.github.com/users/cgewecke/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cgewecke/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cgewecke/subscriptions",
      "organizations_url": "https://api.github.com/users/cgewecke/orgs",
      "repos_url": "https://api.github.com/users/cgewecke/repos",
      "events_url": "https://api.github.com/users/cgewecke/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cgewecke/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-20T23:14:41Z",
    "updated_at": "2022-01-20T23:14:41Z",
    "author_association": "CONTRIBUTOR",
    "body": "@feuGeneA IMO this is closable - see [issue comment at solidity-coverage 684][1] which confirms that removing the path prefix resolves. \r\n\r\nRequires a patch at solidity-coverage b/c that's where the task arg is processed. \r\n\r\n[1]: https://github.com/sc-forks/solidity-coverage/issues/684#issuecomment-1017818951",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1018009737/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1018011007",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2276#issuecomment-1018011007",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2276",
    "id": 1018011007,
    "node_id": "IC_kwDOB7jojM48rZ1_",
    "user": {
      "login": "Janther",
      "id": 1022054,
      "node_id": "MDQ6VXNlcjEwMjIwNTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1022054?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Janther",
      "html_url": "https://github.com/Janther",
      "followers_url": "https://api.github.com/users/Janther/followers",
      "following_url": "https://api.github.com/users/Janther/following{/other_user}",
      "gists_url": "https://api.github.com/users/Janther/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Janther/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Janther/subscriptions",
      "organizations_url": "https://api.github.com/users/Janther/orgs",
      "repos_url": "https://api.github.com/users/Janther/repos",
      "events_url": "https://api.github.com/users/Janther/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Janther/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-20T23:16:54Z",
    "updated_at": "2022-01-20T23:16:54Z",
    "author_association": "NONE",
    "body": "Sweet, let's wait on their response for now.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1018011007/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
