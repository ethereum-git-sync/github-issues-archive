{
  "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3254",
  "repository_url": "https://api.github.com/repos/NomicFoundation/hardhat",
  "labels_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3254/labels{/name}",
  "comments_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3254/comments",
  "events_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3254/events",
  "html_url": "https://github.com/NomicFoundation/hardhat/issues/3254",
  "id": 1400902033,
  "node_id": "I_kwDOB7jojM5TgBGR",
  "number": 3254,
  "title": "Hardhat RPC eth_getStorageAt Invalid value supplied",
  "user": {
    "login": "fastchain",
    "id": 13186708,
    "node_id": "MDQ6VXNlcjEzMTg2NzA4",
    "avatar_url": "https://avatars.githubusercontent.com/u/13186708?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/fastchain",
    "html_url": "https://github.com/fastchain",
    "followers_url": "https://api.github.com/users/fastchain/followers",
    "following_url": "https://api.github.com/users/fastchain/following{/other_user}",
    "gists_url": "https://api.github.com/users/fastchain/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/fastchain/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/fastchain/subscriptions",
    "organizations_url": "https://api.github.com/users/fastchain/orgs",
    "repos_url": "https://api.github.com/users/fastchain/repos",
    "events_url": "https://api.github.com/users/fastchain/events{/privacy}",
    "received_events_url": "https://api.github.com/users/fastchain/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": true,
  "assignee": {
    "login": "fvictorio",
    "id": 417134,
    "node_id": "MDQ6VXNlcjQxNzEzNA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/fvictorio",
    "html_url": "https://github.com/fvictorio",
    "followers_url": "https://api.github.com/users/fvictorio/followers",
    "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
    "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
    "organizations_url": "https://api.github.com/users/fvictorio/orgs",
    "repos_url": "https://api.github.com/users/fvictorio/repos",
    "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
    "received_events_url": "https://api.github.com/users/fvictorio/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 7,
  "created_at": "2022-10-07T09:41:05Z",
  "updated_at": "2023-03-28T00:15:46Z",
  "closed_at": "2022-12-27T12:59:55Z",
  "author_association": "NONE",
  "active_lock_reason": "resolved",
  "body": "<!--\r\n\r\nThank you for using Hardhat and taking the time to open an issue!\r\n\r\n**Note that this issue tracker is not a support channel.**\r\n\r\n- For help with Hardhat and Hardhat network, please use our [Discord server](https://hardhat.org/discord).\r\n- For help with ethers.js, please go to [its Github Discussions](https://github.com/ethers-io/ethers.js/discussions).\r\n\r\nIf you are reporting a bug, please include reproduction steps. The best way to do this is to include a [Minimal Reproducible Example](https://stackoverflow.com/help/minimal-reproducible-example). If you can't do that, then include a link to your repo, and the steps to reproduce the problem. The easiest it is to reproduce your problem, the faster we are going to be able to fix it.\r\n\r\nIf you are submitting a feature request, please take the time to clearly describe your use case, and not only your proposed solution.\r\n\r\nThis issue will be automatically assigned to a Hardhat team member. This person will act as the point of contact between you and the team, but won't necessarily fix it nor address it in any way. An issue being assigned does not mean that it's being worked on.\r\n\r\n-->\r\n\r\nHello,\r\n\r\n```\r\nnpx hardhat --version\r\n2.11.2\r\n```\r\n\r\nHow to reproduce:\r\n\r\nDeploy gnosis-safe  with hardhat  (from this repo https://github.com/5afe/safe-tasks ) . Please setup your private key and  hardhat rpc in .env file.\r\n\r\n```\r\nnpx hardhat create  --factory  [your factory address] \r\nnpx hardhat info [your safe address]\r\n```\r\n\r\non ` npx hardhat info` I get this :\r\n\r\n```\r\nnpx  hardhat info  0xF58681d366Afb34a3490862C39282FC2D938CCe5 \r\n\r\nChecking Safe at 0xF58681d366Afb34a3490862C39282FC2D938CCe5\r\n(node:870) ExperimentalWarning: stream/web is an experimental feature. This feature could change at any time\r\n(Use `node --trace-warnings ...` to show where the warning was created)\r\nAn unexpected error occurred:\r\n\r\nProviderError: HttpProviderError\r\n    at HttpProvider.request (/offchain/node_modules/hardhat/src/internal/core/providers/http.ts:78:19)\r\n    at LocalAccountsProvider.request (/offchain/node_modules/hardhat/src/internal/core/providers/accounts.ts:187:34)\r\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\r\n    at async EthersProviderWrapper.send (/offchain/node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\r\n```\r\n\r\nalso see this in  virtualnode RPC logs \r\n\r\n```\r\neth_chainId (2)\r\nhardhat1        | eth_getStorageAt\r\nhardhat1        | \r\nhardhat1        |   Errors encountered in param 1: Invalid value \"0x0000000000000000000000000000000000000000000000000000000000000000\" supplied to : QUANTITY\r\nhardhat1        | \r\n```\r\n\r\n\r\n\r\nI've  also  checked this behavior on public testnets, and it worked fine, as intended. So it seems to be hardhat  virtualnode problem.\r\n\r\n\r\nThank you.\r\n\r\n",
  "closed_by": {
    "login": "fvictorio",
    "id": 417134,
    "node_id": "MDQ6VXNlcjQxNzEzNA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/fvictorio",
    "html_url": "https://github.com/fvictorio",
    "followers_url": "https://api.github.com/users/fvictorio/followers",
    "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
    "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
    "organizations_url": "https://api.github.com/users/fvictorio/orgs",
    "repos_url": "https://api.github.com/users/fvictorio/repos",
    "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
    "received_events_url": "https://api.github.com/users/fvictorio/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3254/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3254/timeline",
  "performed_via_github_app": null,
  "state_reason": "not_planned"
}
[
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1271362738",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3254#issuecomment-1271362738",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3254",
    "id": 1271362738,
    "node_id": "IC_kwDOB7jojM5Lx3Sy",
    "user": {
      "login": "github-actions[bot]",
      "id": 41898282,
      "node_id": "MDM6Qm90NDE4OTgyODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/github-actions%5Bbot%5D",
      "html_url": "https://github.com/apps/github-actions",
      "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2022-10-07T09:41:29Z",
    "updated_at": "2022-10-07T09:41:29Z",
    "author_association": "CONTRIBUTOR",
    "body": "This issue is also being [tracked on Linear](https://linear.app/nomic-foundation/issue/HH-1248/hardhat-rpc-eth-getstorageat-invalid-value).\n\nWe use Linear to manage our development process, but we keep the conversations on Github.\n\nLINEAR-ID: b33c5e75-233f-4393-8fc2-793b6ee904dc",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1271362738/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1272444113",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3254#issuecomment-1272444113",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3254",
    "id": 1272444113,
    "node_id": "IC_kwDOB7jojM5L1_TR",
    "user": {
      "login": "fastchain",
      "id": 13186708,
      "node_id": "MDQ6VXNlcjEzMTg2NzA4",
      "avatar_url": "https://avatars.githubusercontent.com/u/13186708?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fastchain",
      "html_url": "https://github.com/fastchain",
      "followers_url": "https://api.github.com/users/fastchain/followers",
      "following_url": "https://api.github.com/users/fastchain/following{/other_user}",
      "gists_url": "https://api.github.com/users/fastchain/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fastchain/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fastchain/subscriptions",
      "organizations_url": "https://api.github.com/users/fastchain/orgs",
      "repos_url": "https://api.github.com/users/fastchain/repos",
      "events_url": "https://api.github.com/users/fastchain/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fastchain/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-09T03:15:41Z",
    "updated_at": "2022-10-09T03:15:41Z",
    "author_association": "NONE",
    "body": "@fvictorio  hi!  I have no permissions to see the bug in Linear ",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1272444113/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1272596523",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3254#issuecomment-1272596523",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3254",
    "id": 1272596523,
    "node_id": "IC_kwDOB7jojM5L2kgr",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-09T18:00:47Z",
    "updated_at": "2022-10-09T18:00:47Z",
    "author_association": "MEMBER",
    "body": "Hi @fastchain, thanks for opening this, I will take a look as soon as I have some time.\r\n\r\n> I have no permissions to see the bug in Linear\r\n\r\nThat's our internal issue tracker, but I'll post here anything I find.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1272596523/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1282900788",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3254#issuecomment-1282900788",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3254",
    "id": 1282900788,
    "node_id": "IC_kwDOB7jojM5Md4M0",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-18T19:28:24Z",
    "updated_at": "2022-10-18T19:28:24Z",
    "author_association": "MEMBER",
    "body": "Hi @fastchain, can you give me more detailed reproduction steps? What would be an example of a factory address here? Is this meant to be run in a fork?\r\n\r\nIf you can give me a detailed list of steps so I don't have to figure out how the project works, that would be ideal.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1282900788/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1298423369",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3254#issuecomment-1298423369",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3254",
    "id": 1298423369,
    "node_id": "IC_kwDOB7jojM5NZF5J",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-11-01T12:11:58Z",
    "updated_at": "2022-11-01T12:11:58Z",
    "author_association": "MEMBER",
    "body": "Hi @fastchain, any chances of giving me detailed steps or, even better, creating a minimal reproduction example?",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1298423369/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1309885269",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3254#issuecomment-1309885269",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3254",
    "id": 1309885269,
    "node_id": "IC_kwDOB7jojM5OE0NV",
    "user": {
      "login": "fastchain",
      "id": 13186708,
      "node_id": "MDQ6VXNlcjEzMTg2NzA4",
      "avatar_url": "https://avatars.githubusercontent.com/u/13186708?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fastchain",
      "html_url": "https://github.com/fastchain",
      "followers_url": "https://api.github.com/users/fastchain/followers",
      "following_url": "https://api.github.com/users/fastchain/following{/other_user}",
      "gists_url": "https://api.github.com/users/fastchain/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fastchain/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fastchain/subscriptions",
      "organizations_url": "https://api.github.com/users/fastchain/orgs",
      "repos_url": "https://api.github.com/users/fastchain/repos",
      "events_url": "https://api.github.com/users/fastchain/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fastchain/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-11-10T07:34:34Z",
    "updated_at": "2022-11-10T07:34:34Z",
    "author_association": "NONE",
    "body": "Hi! Sorry for delay,I was on vacation. I'll back with details in 2-3 days.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1309885269/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1365883817",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3254#issuecomment-1365883817",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3254",
    "id": 1365883817,
    "node_id": "IC_kwDOB7jojM5Rabup",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-12-27T12:59:55Z",
    "updated_at": "2022-12-27T12:59:55Z",
    "author_association": "MEMBER",
    "body": "Closing for lack of reproduction steps. Happy to re-open if someone can provide them.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1365883817/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
