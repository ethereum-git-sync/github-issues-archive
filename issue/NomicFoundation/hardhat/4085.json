{
  "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/4085",
  "repository_url": "https://api.github.com/repos/NomicFoundation/hardhat",
  "labels_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/4085/labels{/name}",
  "comments_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/4085/comments",
  "events_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/4085/events",
  "html_url": "https://github.com/NomicFoundation/hardhat/issues/4085",
  "id": 1780215601,
  "node_id": "I_kwDOB7jojM5qG-8x",
  "number": 4085,
  "title": "Hardhat compile yielding no results, not even a \"Nothing to compile\" message.",
  "user": {
    "login": "yvasilyev92",
    "id": 30394180,
    "node_id": "MDQ6VXNlcjMwMzk0MTgw",
    "avatar_url": "https://avatars.githubusercontent.com/u/30394180?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/yvasilyev92",
    "html_url": "https://github.com/yvasilyev92",
    "followers_url": "https://api.github.com/users/yvasilyev92/followers",
    "following_url": "https://api.github.com/users/yvasilyev92/following{/other_user}",
    "gists_url": "https://api.github.com/users/yvasilyev92/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/yvasilyev92/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/yvasilyev92/subscriptions",
    "organizations_url": "https://api.github.com/users/yvasilyev92/orgs",
    "repos_url": "https://api.github.com/users/yvasilyev92/repos",
    "events_url": "https://api.github.com/users/yvasilyev92/events{/privacy}",
    "received_events_url": "https://api.github.com/users/yvasilyev92/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 2474207618,
      "node_id": "MDU6TGFiZWwyNDc0MjA3NjE4",
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/labels/status:needs-more-info",
      "name": "status:needs-more-info",
      "color": "0E8A16",
      "default": false,
      "description": "There's not enough information to start working on this issue"
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 14,
  "created_at": "2023-06-29T06:31:53Z",
  "updated_at": "2023-08-02T08:49:01Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "### Version of Hardhat\n\n2.12.1\n\n### What happened?\n\nEarlier today `yarn hardhat compile` was working fine. \r\n\r\nNow when I run it I get no results at all, and no changes to local `hardhat.config.ts` file or `package.json` was made. \r\nI tried opening an example hardhat typescript project and `yarn hardhat compile` works fine, however with my original repo no such luck. \r\n\r\nI ran `yarn hardhat compile --verbose` and this is the result: \r\n\r\n> hardhat:core:hre Running task compile:solidity:handle-compilation-jobs-failures +6ms\r\n  hardhat:core:hre Running task compile:solidity:filter-compilation-jobs +1ms\r\n  hardhat:core:tasks:compile force flag enabled, not filtering +172ms\r\n  hardhat:core:hre Running task compile:solidity:merge-compilation-jobs +0ms\r\n  hardhat:core:hre Running task compile:solidity:compile-jobs +15ms\r\n  hardhat:core:hre Running compile:solidity:compile-jobs's super +0ms\r\n  hardhat:core:tasks:compile Compiling 1 jobs +15ms\r\n  hardhat:core:hre Running task compile:solidity:compile-job +1ms\r\n  hardhat:core:tasks:compile Compiling job with version '0.8.13' +1ms\r\n  hardhat:core:hre Running task compile:solidity:get-compiler-input +0ms\r\n  hardhat:core:hre Running compile:solidity:get-compiler-input's super +0ms\r\n  hardhat:core:hre Running task compile:solidity:compile +1ms\r\n  hardhat:core:hre Running compile:solidity:compile's super +0ms\r\n  hardhat:core:hre Running task compile:solidity:solc:compile +0ms\r\n  hardhat:core:hre Running task compile:solidity:solc:get-build +0ms\r\n  hardhat:core:tasks:compile Native solc binary doesn't work, using solcjs instead. Try running npx hardhat clean --global +5ms\r\n  hardhat:core:hre Running task compile:solidity:log:run-compiler-start +4ms\r\n  hardhat:core:hre Running task compile:solidity:solcjs:run +0ms\r\n\r\n`yarn hardhat clean --global` also made no change. \n\n### Minimal reproduction steps\n\nn/a\n\n### Search terms\n\n_No response_",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/4085/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/4085/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1612662841",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/4085#issuecomment-1612662841",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/4085",
    "id": 1612662841,
    "node_id": "IC_kwDOB7jojM5gH0g5",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-29T08:57:43Z",
    "updated_at": "2023-06-29T08:57:43Z",
    "author_association": "MEMBER",
    "body": "@yvasilyev92 can you try upgrading to the latest version of Hardhat?\r\n\r\nIf that doesn't fix it, then I will need more complete reproduction steps, including which OS and version of node.js you are using. Thanks!",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1612662841/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1613967059",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/4085#issuecomment-1613967059",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/4085",
    "id": 1613967059,
    "node_id": "IC_kwDOB7jojM5gMy7T",
    "user": {
      "login": "yvasilyev92",
      "id": 30394180,
      "node_id": "MDQ6VXNlcjMwMzk0MTgw",
      "avatar_url": "https://avatars.githubusercontent.com/u/30394180?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yvasilyev92",
      "html_url": "https://github.com/yvasilyev92",
      "followers_url": "https://api.github.com/users/yvasilyev92/followers",
      "following_url": "https://api.github.com/users/yvasilyev92/following{/other_user}",
      "gists_url": "https://api.github.com/users/yvasilyev92/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yvasilyev92/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yvasilyev92/subscriptions",
      "organizations_url": "https://api.github.com/users/yvasilyev92/orgs",
      "repos_url": "https://api.github.com/users/yvasilyev92/repos",
      "events_url": "https://api.github.com/users/yvasilyev92/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yvasilyev92/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-30T00:49:25Z",
    "updated_at": "2023-06-30T00:49:25Z",
    "author_association": "NONE",
    "body": "@fvictorio Thanks for looking into this! I tried upgrading to `hardhat ^2.16.1 `and that didnt change the behavior. \r\nBut after struggling all day I'm close to solving it. \r\n\r\nMy repo thats having the issue has >100 contracts , I temporarily removed 30 contracts and the `yarn hardhat compile` command was able to run, it was hanging for a while maybe 10-15 seconds but eventually completed and generated the artifacts . This is the good news. \r\n\r\nHowever I still need those 30 contracts & my project will keep growing. I tried using `yarn hardhat compile --concurrency 5` , up to the limit 9 but no luck. \r\n\r\nSince I'm assuming its a memory issue causing the `compile` command to hang and drop how can I increase the amount of memory hardhats `compile` command uses? \r\n\r\nOS: macOS Ventura 13.4.1\r\nNode: node v16.19.0 (npm v8.19.3)",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1613967059/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1614219413",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/4085#issuecomment-1614219413",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/4085",
    "id": 1614219413,
    "node_id": "IC_kwDOB7jojM5gNwiV",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-30T07:01:18Z",
    "updated_at": "2023-06-30T07:01:18Z",
    "author_association": "MEMBER",
    "body": "Hmm, that's strange. There are big projects using Hardhat and they don't have this issue. I can take a look if your repo is public (or if it's private but you can give me access).\r\n\r\nWith respect to increasing the memory, you can do this:\r\n\r\n```\r\nNODE_OPTIONS=\"--max_old_space_size=16000\" npx hardhat compile\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1614219413/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1614231479",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/4085#issuecomment-1614231479",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/4085",
    "id": 1614231479,
    "node_id": "IC_kwDOB7jojM5gNze3",
    "user": {
      "login": "yvasilyev92",
      "id": 30394180,
      "node_id": "MDQ6VXNlcjMwMzk0MTgw",
      "avatar_url": "https://avatars.githubusercontent.com/u/30394180?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yvasilyev92",
      "html_url": "https://github.com/yvasilyev92",
      "followers_url": "https://api.github.com/users/yvasilyev92/followers",
      "following_url": "https://api.github.com/users/yvasilyev92/following{/other_user}",
      "gists_url": "https://api.github.com/users/yvasilyev92/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yvasilyev92/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yvasilyev92/subscriptions",
      "organizations_url": "https://api.github.com/users/yvasilyev92/orgs",
      "repos_url": "https://api.github.com/users/yvasilyev92/repos",
      "events_url": "https://api.github.com/users/yvasilyev92/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yvasilyev92/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-30T07:13:50Z",
    "updated_at": "2023-06-30T07:13:50Z",
    "author_association": "NONE",
    "body": "@fvictorio thanks! Is there a cache hardhat is using for this compilation? (not related to artifact cache)\r\n\r\n>   hardhat:core:hre Running task compile:solidity:log:run-compiler-start +6ms\r\n  hardhat:core:hre Running task compile:solidity:solcjs:run +0ms\r\nzsh: bus error  NODE_OPTIONS=\"--max_old_space_size=16000\" npx hardhat compile --verbose",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1614231479/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1614264705",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/4085#issuecomment-1614264705",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/4085",
    "id": 1614264705,
    "node_id": "IC_kwDOB7jojM5gN7mB",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-30T07:45:25Z",
    "updated_at": "2023-06-30T07:45:25Z",
    "author_association": "MEMBER",
    "body": "The compilation cache is indeed under `artifacts`. There's also a metadata file under `cache/solidity-files-cache.json`.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1614264705/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1614880474",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/4085#issuecomment-1614880474",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/4085",
    "id": 1614880474,
    "node_id": "IC_kwDOB7jojM5gQR7a",
    "user": {
      "login": "yvasilyev92",
      "id": 30394180,
      "node_id": "MDQ6VXNlcjMwMzk0MTgw",
      "avatar_url": "https://avatars.githubusercontent.com/u/30394180?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yvasilyev92",
      "html_url": "https://github.com/yvasilyev92",
      "followers_url": "https://api.github.com/users/yvasilyev92/followers",
      "following_url": "https://api.github.com/users/yvasilyev92/following{/other_user}",
      "gists_url": "https://api.github.com/users/yvasilyev92/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yvasilyev92/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yvasilyev92/subscriptions",
      "organizations_url": "https://api.github.com/users/yvasilyev92/orgs",
      "repos_url": "https://api.github.com/users/yvasilyev92/repos",
      "events_url": "https://api.github.com/users/yvasilyev92/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yvasilyev92/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-30T16:14:50Z",
    "updated_at": "2023-06-30T16:15:50Z",
    "author_association": "NONE",
    "body": "@fvictorio ah sorry I should've asked is there another local cache or memory space (not the artifacts or cache.solidity-files-cache.json) that hardhat uses when running the compilation command? because I've had 100+ contracts for a while and never had this issue, so I'm wondering if theres anything I can clean out so as to not have to increase memory. My concern is eventually hitting the memory limit again ",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1614880474/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1614936874",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/4085#issuecomment-1614936874",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/4085",
    "id": 1614936874,
    "node_id": "IC_kwDOB7jojM5gQfsq",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-30T17:07:30Z",
    "updated_at": "2023-06-30T17:07:30Z",
    "author_association": "MEMBER",
    "body": "No, those should be the only ones involved :confused:",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1614936874/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1617150285",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/4085#issuecomment-1617150285",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/4085",
    "id": 1617150285,
    "node_id": "IC_kwDOB7jojM5gY8FN",
    "user": {
      "login": "yvasilyev92",
      "id": 30394180,
      "node_id": "MDQ6VXNlcjMwMzk0MTgw",
      "avatar_url": "https://avatars.githubusercontent.com/u/30394180?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yvasilyev92",
      "html_url": "https://github.com/yvasilyev92",
      "followers_url": "https://api.github.com/users/yvasilyev92/followers",
      "following_url": "https://api.github.com/users/yvasilyev92/following{/other_user}",
      "gists_url": "https://api.github.com/users/yvasilyev92/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yvasilyev92/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yvasilyev92/subscriptions",
      "organizations_url": "https://api.github.com/users/yvasilyev92/orgs",
      "repos_url": "https://api.github.com/users/yvasilyev92/repos",
      "events_url": "https://api.github.com/users/yvasilyev92/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yvasilyev92/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-03T03:01:43Z",
    "updated_at": "2023-07-03T03:02:55Z",
    "author_association": "NONE",
    "body": "Hi @fvictorio , so I tried to increase memory size with `NODE_OPTIONS=\"--max_old_space_size=4096` (also tried increased sizes) and unfortunately that didnt help. I also tried using the `hardhat --max-memory` flag and that also didnt help. \r\n\r\nRather than deleting 30 contracts I tried deleting just 1 contract and running \"`yarn hardhat compile --verbose`\", after which the `solcjs:run` step lagged for ~10 seconds and spit out a new error. Looks like it even sent a sentry event. \r\n\r\n> hardhat:core:hre Running task compile:solidity:log:run-compiler-start +4ms\r\n>   hardhat:core:hre Running task **compile:solidity:solcjs:run** +0ms\r\n> An unexpected error occurred:\r\n> \r\n> RuntimeError: table index is out of bounds\r\n>     at wasm://wasm/04ebca86:wasm-function[364]:0x292b4\r\n>     at wasm://wasm/04ebca86:wasm-function[21822]:0x715b0d\r\n>     at invoke_viiiiii (/Users/$USER/Library/Caches/hardhat-nodejs/compilers-v2/wasm/soljson-v0.8.13+commit.abaa5c0e.js:110:40866)\r\n>     at wasm://wasm/04ebca86:wasm-function[21824]:0x716162\r\n>     at invoke_viiiiiiiii (/Users/$USER/Library/Caches/hardhat-nodejs/compilers-v2/wasm/soljson-v0.8.13+commit.abaa5c0e.js:110:44016)\r\n>     at wasm://wasm/04ebca86:wasm-function[21826]:0x719c29\r\n>     at invoke_ii (/Users/$USER/Library/Caches/hardhat-nodejs/compilers-v2/wasm/soljson-v0.8.13+commit.abaa5c0e.js:110:39662)\r\n>     at wasm://wasm/04ebca86:wasm-function[21890]:0x72b720\r\n>     at invoke_iii (/Users/$USER/Library/Caches/hardhat-nodejs/compilers-v2/wasm/soljson-v0.8.13+commit.abaa5c0e.js:110:40323)\r\n>     at wasm://wasm/04ebca86:wasm-function[21892]:0x72c146\r\n>   hardhat:sentry:subprocess starting subprocess +0ms\r\n>   hardhat:sentry:subprocess **sentry event was sent** +3ms\r\n\r\n@fvictorio Do you know what could cause an issue like this with `hardhat compile`? Seems to keep dropping off at the `solcjs:run` step\r\n\r\nBtw after reading the verbose logs in the case of a successful run I noticed the step after `solcjs:run` is `log:run-compiler-end` \r\n\r\n> hardhat:core:hre Running task compile:solidity:solcjs:run +1ms\r\n>   **hardhat:core:hre Running task compile:solidity:log:run-compiler-end +2m**\r\n>   hardhat:core:hre Running task compile:solidity:check-errors +247ms\r\n>   hardhat:core:hre Running task compile:solidity:log:compilation-errors +0ms\r\n>   hardhat:core:hre Running task compile:solidity:emit-artifacts +0ms\r\n\r\nCould the issue lie within that step? ",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1617150285/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1617636888",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/4085#issuecomment-1617636888",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/4085",
    "id": 1617636888,
    "node_id": "IC_kwDOB7jojM5gay4Y",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-03T08:39:45Z",
    "updated_at": "2023-07-03T08:39:45Z",
    "author_association": "MEMBER",
    "body": "IIRC, the time indicated there is how much time was ellapsed since the last log, so it's the `solcjs:run` part that is taking 2 minutes.\r\n\r\nWhich, to be honest, it's not _that_ surprising if you have a lot of contracts (and even less surprising if you are using viaIR) because solcjs is quite slow compared to the native compiler.\r\n\r\nWhat I'm not sure about is why you are getting a solcjs compiler instead of a native one, which is much faster. Which OS are you using?",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1617636888/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1618796294",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/4085#issuecomment-1618796294",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/4085",
    "id": 1618796294,
    "node_id": "IC_kwDOB7jojM5gfN8G",
    "user": {
      "login": "clauBv23",
      "id": 26546018,
      "node_id": "MDQ6VXNlcjI2NTQ2MDE4",
      "avatar_url": "https://avatars.githubusercontent.com/u/26546018?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/clauBv23",
      "html_url": "https://github.com/clauBv23",
      "followers_url": "https://api.github.com/users/clauBv23/followers",
      "following_url": "https://api.github.com/users/clauBv23/following{/other_user}",
      "gists_url": "https://api.github.com/users/clauBv23/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/clauBv23/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/clauBv23/subscriptions",
      "organizations_url": "https://api.github.com/users/clauBv23/orgs",
      "repos_url": "https://api.github.com/users/clauBv23/repos",
      "events_url": "https://api.github.com/users/clauBv23/events{/privacy}",
      "received_events_url": "https://api.github.com/users/clauBv23/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-03T16:08:08Z",
    "updated_at": "2023-07-03T16:08:08Z",
    "author_association": "CONTRIBUTOR",
    "body": "I had a similar issue a couple of months ago and solved it by disabling the Yul optimizer. \r\nIn my case, the issue was that had some really huge contracts and looked like the compilation process was taking a lot of time and never ended, and with the Yul optimizer disabled was also taking some time but at least ended. \r\n\r\n\r\nThe same project also had a Heap out of memory issue, but was when testing not compiling.\r\n\r\nI was not using `solcjs` so, might not be the same issue tho. Hope it helps! ",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1618796294/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1619644887",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/4085#issuecomment-1619644887",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/4085",
    "id": 1619644887,
    "node_id": "IC_kwDOB7jojM5gidHX",
    "user": {
      "login": "yvasilyev92",
      "id": 30394180,
      "node_id": "MDQ6VXNlcjMwMzk0MTgw",
      "avatar_url": "https://avatars.githubusercontent.com/u/30394180?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yvasilyev92",
      "html_url": "https://github.com/yvasilyev92",
      "followers_url": "https://api.github.com/users/yvasilyev92/followers",
      "following_url": "https://api.github.com/users/yvasilyev92/following{/other_user}",
      "gists_url": "https://api.github.com/users/yvasilyev92/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yvasilyev92/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yvasilyev92/subscriptions",
      "organizations_url": "https://api.github.com/users/yvasilyev92/orgs",
      "repos_url": "https://api.github.com/users/yvasilyev92/repos",
      "events_url": "https://api.github.com/users/yvasilyev92/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yvasilyev92/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-04T07:11:42Z",
    "updated_at": "2023-07-04T07:11:42Z",
    "author_association": "NONE",
    "body": "@clauBv23 thank you! Seems like a very similar issue. So disabling the Yul optimizer helped with the Heap out of memory issue?\r\n\r\n@fvictorio I'm on macOS Ventura 13.4.1 \r\nI have both `solc` and `solcjs` , what kind of configuration can I do to have hardhat use `solc` & ignore `solcjs`? \r\n\r\n\r\nUpdate: So with 100+ contracts, I cleared out my `artifacts` + `cache`, I deleted 5 contracts and was able `yarn hardhat compile` to run successfully. Then I added those 5 contracts back in and ran `hardhat compile` again and was able to generate the `artifacts` for those. \r\n\r\nI'm still searching for a solution but I suppose this temporary workaround is this.. so in the case I ever need to recompile the `artifacts` for all 100+ contracts I just need to delete a few contracts , run `yarn hardhat compile`, bring back the deleted and run `yarn hardhat compile` again. ",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1619644887/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1624007200",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/4085#issuecomment-1624007200",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/4085",
    "id": 1624007200,
    "node_id": "IC_kwDOB7jojM5gzGIg",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-06T16:57:40Z",
    "updated_at": "2023-07-06T16:58:17Z",
    "author_association": "MEMBER",
    "body": "> what kind of configuration can I do to have hardhat use `solc` & ignore `solcjs`?\r\n\r\nHardhat tries to use the native solc first and, if that doesn't work, it switches to solcjs (which is much slower but always works).\r\n\r\nSince you already tried `hh clean --global` and that didn't fix it, then we should figure out why the native solc is not working for you. To do that, find the path to the compiler and run it with the `--version` flag.\r\n\r\nIn macOS, you should run something like this:\r\n\r\n```\r\n~/Library/Caches/hardhat-nodejs/compilers-v2/macosx-amd64/solc-macosx-amd64-v0.8.17+commit.8df45f5f --version\r\n```\r\n\r\n(give or take, go down that dir path until you find the compiler that Hardhat downloaded, which in your case seems to be version 0.8.13)\r\n\r\nWhat output do you get?\r\n\r\n> so in the case I ever need to recompile the `artifacts` for all 100+ contracts I just need to delete a few contracts , run `yarn hardhat compile`, bring back the deleted and run `yarn hardhat compile` again.\r\n\r\nThat's terrible, let's see if we can find the root cause here :disappointed:",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1624007200/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1651127864",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/4085#issuecomment-1651127864",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/4085",
    "id": 1651127864,
    "node_id": "IC_kwDOB7jojM5iajY4",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-26T07:25:18Z",
    "updated_at": "2023-07-26T07:25:18Z",
    "author_association": "MEMBER",
    "body": "Hey @yvasilyev92, are you still getting this issue?",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1651127864/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1661793575",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/4085#issuecomment-1661793575",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/4085",
    "id": 1661793575,
    "node_id": "IC_kwDOB7jojM5jDPUn",
    "user": {
      "login": "thanhnguyen2187",
      "id": 27758849,
      "node_id": "MDQ6VXNlcjI3NzU4ODQ5",
      "avatar_url": "https://avatars.githubusercontent.com/u/27758849?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thanhnguyen2187",
      "html_url": "https://github.com/thanhnguyen2187",
      "followers_url": "https://api.github.com/users/thanhnguyen2187/followers",
      "following_url": "https://api.github.com/users/thanhnguyen2187/following{/other_user}",
      "gists_url": "https://api.github.com/users/thanhnguyen2187/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thanhnguyen2187/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thanhnguyen2187/subscriptions",
      "organizations_url": "https://api.github.com/users/thanhnguyen2187/orgs",
      "repos_url": "https://api.github.com/users/thanhnguyen2187/repos",
      "events_url": "https://api.github.com/users/thanhnguyen2187/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thanhnguyen2187/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-08-02T08:49:01Z",
    "updated_at": "2023-08-02T08:49:01Z",
    "author_association": "NONE",
    "body": "I also encountered this issue, and maybe you should try to... wait for around 10 or 20 minutes? For my case (also compiling around 300 contracts in my company's repository), after around 10 minutes, it works as expected.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1661793575/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
