{
  "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2489",
  "repository_url": "https://api.github.com/repos/NomicFoundation/hardhat",
  "labels_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2489/labels{/name}",
  "comments_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2489/comments",
  "events_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2489/events",
  "html_url": "https://github.com/NomicFoundation/hardhat/issues/2489",
  "id": 1168879085,
  "node_id": "I_kwDOB7jojM5Fq63t",
  "number": 2489,
  "title": "Having \"Insufficient funds\" in require message causing \"insufficient funds for intrinsic transaction cost\" unrelated error to be thrown",
  "user": {
    "login": "ishayhil",
    "id": 26752753,
    "node_id": "MDQ6VXNlcjI2NzUyNzUz",
    "avatar_url": "https://avatars.githubusercontent.com/u/26752753?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ishayhil",
    "html_url": "https://github.com/ishayhil",
    "followers_url": "https://api.github.com/users/ishayhil/followers",
    "following_url": "https://api.github.com/users/ishayhil/following{/other_user}",
    "gists_url": "https://api.github.com/users/ishayhil/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ishayhil/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ishayhil/subscriptions",
    "organizations_url": "https://api.github.com/users/ishayhil/orgs",
    "repos_url": "https://api.github.com/users/ishayhil/repos",
    "events_url": "https://api.github.com/users/ishayhil/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ishayhil/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": true,
  "assignee": {
    "login": "fvictorio",
    "id": 417134,
    "node_id": "MDQ6VXNlcjQxNzEzNA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/fvictorio",
    "html_url": "https://github.com/fvictorio",
    "followers_url": "https://api.github.com/users/fvictorio/followers",
    "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
    "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
    "organizations_url": "https://api.github.com/users/fvictorio/orgs",
    "repos_url": "https://api.github.com/users/fvictorio/repos",
    "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
    "received_events_url": "https://api.github.com/users/fvictorio/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 8,
  "created_at": "2022-03-14T20:37:44Z",
  "updated_at": "2023-03-10T00:14:55Z",
  "closed_at": "2022-05-02T15:58:39Z",
  "author_association": "NONE",
  "active_lock_reason": "resolved",
  "body": "# Reproduce steps\r\n\r\nrun (on hardhat network)\r\n```solidity\r\nrequire(1 > 2, Insufficient funds)\r\n```\r\n\r\nand receive\r\n`Error: insufficient funds for intrinsic transaction cost`\r\ninstead of\r\n`Insufficient funds`\r\n\r\nFor some reason, if the require message contains \"insufficient funds\", the \"insufficient funds for intrinsic transaction cost\" pops.",
  "closed_by": {
    "login": "fvictorio",
    "id": 417134,
    "node_id": "MDQ6VXNlcjQxNzEzNA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/fvictorio",
    "html_url": "https://github.com/fvictorio",
    "followers_url": "https://api.github.com/users/fvictorio/followers",
    "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
    "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
    "organizations_url": "https://api.github.com/users/fvictorio/orgs",
    "repos_url": "https://api.github.com/users/fvictorio/repos",
    "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
    "received_events_url": "https://api.github.com/users/fvictorio/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2489/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2489/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1067503371",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2489#issuecomment-1067503371",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2489",
    "id": 1067503371,
    "node_id": "IC_kwDOB7jojM4_oM8L",
    "user": {
      "login": "ta5een",
      "id": 37362870,
      "node_id": "MDQ6VXNlcjM3MzYyODcw",
      "avatar_url": "https://avatars.githubusercontent.com/u/37362870?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ta5een",
      "html_url": "https://github.com/ta5een",
      "followers_url": "https://api.github.com/users/ta5een/followers",
      "following_url": "https://api.github.com/users/ta5een/following{/other_user}",
      "gists_url": "https://api.github.com/users/ta5een/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ta5een/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ta5een/subscriptions",
      "organizations_url": "https://api.github.com/users/ta5een/orgs",
      "repos_url": "https://api.github.com/users/ta5een/repos",
      "events_url": "https://api.github.com/users/ta5een/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ta5een/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-03-15T02:41:59Z",
    "updated_at": "2022-03-15T02:41:59Z",
    "author_association": "NONE",
    "body": "Hi, I'm also getting this unusual error! Seems that if the reason string contains `\"Insufficient funds\"` anywhere, Hardhat treats it specially. I don't think that's supposed to happen, otherwise the Hardhat documentation would have mentioned this behaviour somewhere.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1067503371/reactions",
      "total_count": 3,
      "+1": 3,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1081879646",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2489#issuecomment-1081879646",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2489",
    "id": 1081879646,
    "node_id": "IC_kwDOB7jojM5AfCxe",
    "user": {
      "login": "narghev",
      "id": 15631149,
      "node_id": "MDQ6VXNlcjE1NjMxMTQ5",
      "avatar_url": "https://avatars.githubusercontent.com/u/15631149?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/narghev",
      "html_url": "https://github.com/narghev",
      "followers_url": "https://api.github.com/users/narghev/followers",
      "following_url": "https://api.github.com/users/narghev/following{/other_user}",
      "gists_url": "https://api.github.com/users/narghev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/narghev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/narghev/subscriptions",
      "organizations_url": "https://api.github.com/users/narghev/orgs",
      "repos_url": "https://api.github.com/users/narghev/repos",
      "events_url": "https://api.github.com/users/narghev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/narghev/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-03-29T13:34:05Z",
    "updated_at": "2022-03-29T13:34:05Z",
    "author_association": "NONE",
    "body": "Any news on this?",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1081879646/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1081919714",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2489#issuecomment-1081919714",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2489",
    "id": 1081919714,
    "node_id": "IC_kwDOB7jojM5AfMji",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-03-29T14:09:08Z",
    "updated_at": "2022-03-29T14:09:08Z",
    "author_association": "MEMBER",
    "body": "It's possible that this is caused by the latest version(s) of ethers. Anyone running into this: can you try downgrading ethers and trying again? Thanks.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1081919714/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1081934403",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2489#issuecomment-1081934403",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2489",
    "id": 1081934403,
    "node_id": "IC_kwDOB7jojM5AfQJD",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-03-29T14:21:23Z",
    "updated_at": "2022-03-29T14:21:23Z",
    "author_association": "MEMBER",
    "body": "Hmm, it is caused by ethers but it's not a recent change:\r\n\r\nhttps://github.com/ethers-io/ethers.js/blob/ef1b28e958b50cea7ff44da43b3c5ff054e4b483/packages/providers/src.ts/json-rpc-provider.ts#L80\r\n\r\nSadly I can't think of a workaround right now.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1081934403/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1112288248",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2489#issuecomment-1112288248",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2489",
    "id": 1112288248,
    "node_id": "IC_kwDOB7jojM5CTCv4",
    "user": {
      "login": "github-actions[bot]",
      "id": 41898282,
      "node_id": "MDM6Qm90NDE4OTgyODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/github-actions%5Bbot%5D",
      "html_url": "https://github.com/apps/github-actions",
      "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2022-04-28T14:37:21Z",
    "updated_at": "2022-04-28T14:37:21Z",
    "author_association": "CONTRIBUTOR",
    "body": "This issue was marked as stale because it didn't have any activity in the last 30 days. If you think it's still relevant, please leave a comment indicating so. Otherwise, it will be closed in 7 days.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1112288248/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1115064818",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2489#issuecomment-1115064818",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2489",
    "id": 1115064818,
    "node_id": "IC_kwDOB7jojM5Cdony",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-02T15:58:39Z",
    "updated_at": "2022-05-02T15:58:39Z",
    "author_association": "MEMBER",
    "body": "I believe this is a problem in ethers, so I submitted an issue there: https://github.com/ethers-io/ethers.js/issues/2954. Closing this one for now.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1115064818/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1299980451",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2489#issuecomment-1299980451",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2489",
    "id": 1299980451,
    "node_id": "IC_kwDOB7jojM5NfCCj",
    "user": {
      "login": "AliNawaz-777",
      "id": 87475082,
      "node_id": "MDQ6VXNlcjg3NDc1MDgy",
      "avatar_url": "https://avatars.githubusercontent.com/u/87475082?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AliNawaz-777",
      "html_url": "https://github.com/AliNawaz-777",
      "followers_url": "https://api.github.com/users/AliNawaz-777/followers",
      "following_url": "https://api.github.com/users/AliNawaz-777/following{/other_user}",
      "gists_url": "https://api.github.com/users/AliNawaz-777/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AliNawaz-777/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AliNawaz-777/subscriptions",
      "organizations_url": "https://api.github.com/users/AliNawaz-777/orgs",
      "repos_url": "https://api.github.com/users/AliNawaz-777/repos",
      "events_url": "https://api.github.com/users/AliNawaz-777/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AliNawaz-777/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-11-02T10:09:17Z",
    "updated_at": "2022-11-02T10:09:17Z",
    "author_association": "NONE",
    "body": "Insufficient balance\r\nIs any help when I try to run the testcase then get the error Insufficient balance'",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1299980451/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1343953631",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2489#issuecomment-1343953631",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2489",
    "id": 1343953631,
    "node_id": "IC_kwDOB7jojM5QGxrf",
    "user": {
      "login": "jason-gigastar",
      "id": 99466275,
      "node_id": "U_kgDOBe28Iw",
      "avatar_url": "https://avatars.githubusercontent.com/u/99466275?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jason-gigastar",
      "html_url": "https://github.com/jason-gigastar",
      "followers_url": "https://api.github.com/users/jason-gigastar/followers",
      "following_url": "https://api.github.com/users/jason-gigastar/following{/other_user}",
      "gists_url": "https://api.github.com/users/jason-gigastar/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jason-gigastar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jason-gigastar/subscriptions",
      "organizations_url": "https://api.github.com/users/jason-gigastar/orgs",
      "repos_url": "https://api.github.com/users/jason-gigastar/repos",
      "events_url": "https://api.github.com/users/jason-gigastar/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jason-gigastar/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-12-09T07:31:53Z",
    "updated_at": "2022-12-09T07:31:53Z",
    "author_association": "NONE",
    "body": "I just ran into this myself:\r\n```\r\nBroken:     require(..., 'PREFIX: Insufficient funds');\r\nResolved 1: require(..., 'PREFIX: Insufficient Xfunds');\r\nResolved 2: require(..., 'PREFIX: Insufficient Balance');\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1343953631/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
