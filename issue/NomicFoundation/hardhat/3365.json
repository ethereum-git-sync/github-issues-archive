{
  "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3365",
  "repository_url": "https://api.github.com/repos/NomicFoundation/hardhat",
  "labels_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3365/labels{/name}",
  "comments_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3365/comments",
  "events_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3365/events",
  "html_url": "https://github.com/NomicFoundation/hardhat/issues/3365",
  "id": 1458215631,
  "node_id": "I_kwDOB7jojM5W6prP",
  "number": 3365,
  "title": "Support for IR",
  "user": {
    "login": "fvictorio",
    "id": 417134,
    "node_id": "MDQ6VXNlcjQxNzEzNA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/fvictorio",
    "html_url": "https://github.com/fvictorio",
    "followers_url": "https://api.github.com/users/fvictorio/followers",
    "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
    "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
    "organizations_url": "https://api.github.com/users/fvictorio/orgs",
    "repos_url": "https://api.github.com/users/fvictorio/repos",
    "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
    "received_events_url": "https://api.github.com/users/fvictorio/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 4825236765,
      "node_id": "LA_kwDOB7jojM8AAAABH5tFHQ",
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/labels/type:epic",
      "name": "type:epic",
      "color": "FBCA04",
      "default": false,
      "description": "A bigger effort that involves multiple issues and PRs"
    },
    {
      "id": 4937720577,
      "node_id": "LA_kwDOB7jojM8AAAABJk-jAQ",
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/labels/status:ready",
      "name": "status:ready",
      "color": "0E8A16",
      "default": false,
      "description": "This issue is ready to be worked on"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 16,
  "created_at": "2022-11-21T16:17:32Z",
  "updated_at": "2023-03-08T14:09:21Z",
  "closed_at": "2023-03-02T18:28:43Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "This is the tracking issue for having full support for [solc's IR-based code generation](https://docs.soliditylang.org/en/latest/ir-breaking-changes.html#).\r\n\r\nWe have already released a beta version with some basic support under the `ir` npm tag. This version can be installed with `npm install hardhat@ir`.\r\n\r\nThere are some pending things before we can release this in a stable version of Hardhat:\r\n\r\n- [ ] Reverts with a reason string sometimes are not correctly handled (see discussion in #2453). I'm not sure if this was fixed on the `ir` version or not.\r\n- [ ] What are exactly the best settings to have `viaIR` enabled but not lose important information used by stack traces and error inferring? Can we enable those settings automatically or should users do it?\r\n- [ ] `solidity-coverage` seems to have issues when `viaIR` is enabled (see for example [this comment](https://github.com/NomicFoundation/hardhat/issues/2724#issuecomment-1321024602)). It's not clear if this is a problem in Hardhat or in the coverage plugin, or in both. It might also be just a documentation issue.\r\n- [ ] At some point the \"contract too large\" heuristic wasn't working (see #2115). I believe this is fixed in the `ir` version, but we should double-check.",
  "closed_by": {
    "login": "fvictorio",
    "id": 417134,
    "node_id": "MDQ6VXNlcjQxNzEzNA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/fvictorio",
    "html_url": "https://github.com/fvictorio",
    "followers_url": "https://api.github.com/users/fvictorio/followers",
    "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
    "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
    "organizations_url": "https://api.github.com/users/fvictorio/orgs",
    "repos_url": "https://api.github.com/users/fvictorio/repos",
    "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
    "received_events_url": "https://api.github.com/users/fvictorio/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3365/reactions",
    "total_count": 1,
    "+1": 1,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3365/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1322313072",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3365#issuecomment-1322313072",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3365",
    "id": 1322313072,
    "node_id": "IC_kwDOB7jojM5O0OVw",
    "user": {
      "login": "github-actions[bot]",
      "id": 41898282,
      "node_id": "MDM6Qm90NDE4OTgyODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/github-actions%5Bbot%5D",
      "html_url": "https://github.com/apps/github-actions",
      "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2022-11-21T16:17:52Z",
    "updated_at": "2022-11-21T16:17:52Z",
    "author_association": "CONTRIBUTOR",
    "body": "This issue is also being [tracked on Linear](https://linear.app/nomic-foundation/issue/HH-1347/support-for-ir-[nomicfoundationhardhat3365]).\n\nWe use Linear to manage our development process, but we keep the conversations on Github.\n\nLINEAR-ID: 2c88424e-5990-4136-afac-2adf63271e8b",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1322313072/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1322348100",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3365#issuecomment-1322348100",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3365",
    "id": 1322348100,
    "node_id": "IC_kwDOB7jojM5O0W5E",
    "user": {
      "login": "scotthconner",
      "id": 952183,
      "node_id": "MDQ6VXNlcjk1MjE4Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/952183?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/scotthconner",
      "html_url": "https://github.com/scotthconner",
      "followers_url": "https://api.github.com/users/scotthconner/followers",
      "following_url": "https://api.github.com/users/scotthconner/following{/other_user}",
      "gists_url": "https://api.github.com/users/scotthconner/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/scotthconner/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/scotthconner/subscriptions",
      "organizations_url": "https://api.github.com/users/scotthconner/orgs",
      "repos_url": "https://api.github.com/users/scotthconner/repos",
      "events_url": "https://api.github.com/users/scotthconner/events{/privacy}",
      "received_events_url": "https://api.github.com/users/scotthconner/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-11-21T16:41:55Z",
    "updated_at": "2022-11-21T16:41:55Z",
    "author_association": "NONE",
    "body": "The issue I'm having is my tests are now failing with viaIR: true, specifically the ones that check the revertedWith message. Which is a lot of them.\n\nFor now, I'm having to turn viaIR off. Help me help us get to the bottom of it!",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1322348100/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1322357583",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3365#issuecomment-1322357583",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3365",
    "id": 1322357583,
    "node_id": "IC_kwDOB7jojM5O0ZNP",
    "user": {
      "login": "scotthconner",
      "id": 952183,
      "node_id": "MDQ6VXNlcjk1MjE4Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/952183?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/scotthconner",
      "html_url": "https://github.com/scotthconner",
      "followers_url": "https://api.github.com/users/scotthconner/followers",
      "following_url": "https://api.github.com/users/scotthconner/following{/other_user}",
      "gists_url": "https://api.github.com/users/scotthconner/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/scotthconner/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/scotthconner/subscriptions",
      "organizations_url": "https://api.github.com/users/scotthconner/orgs",
      "repos_url": "https://api.github.com/users/scotthconner/repos",
      "events_url": "https://api.github.com/users/scotthconner/events{/privacy}",
      "received_events_url": "https://api.github.com/users/scotthconner/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-11-21T16:50:15Z",
    "updated_at": "2022-11-21T17:05:00Z",
    "author_association": "NONE",
    "body": "Also, turns out that hardhat@ir doesn't work with my version of solidity-coverage:\r\n\r\n<details>\r\n<pre>\r\npm ERR! While resolving: @nomicfoundation/hardhat-toolbox@1.0.2\r\nnpm ERR! Found: solidity-coverage@0.8.2\r\nnpm ERR! node_modules/solidity-coverage\r\nnpm ERR!   dev solidity-coverage@\"^0.8.2\" from the root project\r\nnpm ERR!\r\nnpm ERR! Could not resolve dependency:\r\nnpm ERR! peer solidity-coverage@\"^0.7.21\" from @nomicfoundation/hardhat-toolbox@1.0.2\r\nnpm ERR! node_modules/@nomicfoundation/hardhat-toolbox\r\nnpm ERR!   @nomicfoundation/hardhat-toolbox@\"^1.0.2\" from the root project\r\nnpm ERR!\r\nnpm ERR! Conflicting peer dependency: solidity-coverage@0.7.22\r\nnpm ERR! node_modules/solidity-coverage\r\nnpm ERR!   peer solidity-coverage@\"^0.7.21\" from @nomicfoundation/hardhat-toolbox@1.0.2\r\nnpm ERR!   node_modules/@nomicfoundation/hardhat-toolbox\r\nnpm ERR!     @nomicfoundation/hardhat-toolbox@\"^1.0.2\" from the root project\r\n</pre>\r\n</details>",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1322357583/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1322377505",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3365#issuecomment-1322377505",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3365",
    "id": 1322377505,
    "node_id": "IC_kwDOB7jojM5O0eEh",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-11-21T17:04:28Z",
    "updated_at": "2022-11-21T17:04:28Z",
    "author_association": "MEMBER",
    "body": "> The issue I'm having is my tests are now failing with viaIR: true, specifically the ones that check the revertedWith message.\r\n\r\nThat's the first item in the checklist.\r\n\r\n> Also, turns out that hardhat@ir doesn't work with my version of solidity-coverage:\r\n\r\nThat's a llimitation of npm when a peer dependency and a pre-release version are mixed. You might need to use `npm install --force` when installing the `hardhat@ir` beta version.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1322377505/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1322426224",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3365#issuecomment-1322426224",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3365",
    "id": 1322426224,
    "node_id": "IC_kwDOB7jojM5O0p9w",
    "user": {
      "login": "scotthconner",
      "id": 952183,
      "node_id": "MDQ6VXNlcjk1MjE4Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/952183?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/scotthconner",
      "html_url": "https://github.com/scotthconner",
      "followers_url": "https://api.github.com/users/scotthconner/followers",
      "following_url": "https://api.github.com/users/scotthconner/following{/other_user}",
      "gists_url": "https://api.github.com/users/scotthconner/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/scotthconner/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/scotthconner/subscriptions",
      "organizations_url": "https://api.github.com/users/scotthconner/orgs",
      "repos_url": "https://api.github.com/users/scotthconner/repos",
      "events_url": "https://api.github.com/users/scotthconner/events{/privacy}",
      "received_events_url": "https://api.github.com/users/scotthconner/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-11-21T17:39:31Z",
    "updated_at": "2022-11-21T17:39:31Z",
    "author_association": "NONE",
    "body": "Yup, thanks. I did --force and that worked.\n\nIt also works when running npm hardhat test. But when running coverage I get stack too deep.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1322426224/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1369661709",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3365#issuecomment-1369661709",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3365",
    "id": 1369661709,
    "node_id": "IC_kwDOB7jojM5Ro2EN",
    "user": {
      "login": "jmendiola222",
      "id": 5326111,
      "node_id": "MDQ6VXNlcjUzMjYxMTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5326111?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jmendiola222",
      "html_url": "https://github.com/jmendiola222",
      "followers_url": "https://api.github.com/users/jmendiola222/followers",
      "following_url": "https://api.github.com/users/jmendiola222/following{/other_user}",
      "gists_url": "https://api.github.com/users/jmendiola222/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jmendiola222/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jmendiola222/subscriptions",
      "organizations_url": "https://api.github.com/users/jmendiola222/orgs",
      "repos_url": "https://api.github.com/users/jmendiola222/repos",
      "events_url": "https://api.github.com/users/jmendiola222/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jmendiola222/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-03T11:29:20Z",
    "updated_at": "2023-01-03T11:29:20Z",
    "author_association": "NONE",
    "body": "Is there a timeline for this to be included in the main release? Now that it's mark as ready I mean",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1369661709/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1369674825",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3365#issuecomment-1369674825",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3365",
    "id": 1369674825,
    "node_id": "IC_kwDOB7jojM5Ro5RJ",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-03T11:43:51Z",
    "updated_at": "2023-01-03T11:43:51Z",
    "author_association": "MEMBER",
    "body": "@jmendiola222 we want to release this ASAP. Hopefully this or next week; definitely January.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1369674825/reactions",
      "total_count": 7,
      "+1": 7,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1378776545",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3365#issuecomment-1378776545",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3365",
    "id": 1378776545,
    "node_id": "IC_kwDOB7jojM5SLnXh",
    "user": {
      "login": "fruiz08",
      "id": 89082649,
      "node_id": "MDQ6VXNlcjg5MDgyNjQ5",
      "avatar_url": "https://avatars.githubusercontent.com/u/89082649?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fruiz08",
      "html_url": "https://github.com/fruiz08",
      "followers_url": "https://api.github.com/users/fruiz08/followers",
      "following_url": "https://api.github.com/users/fruiz08/following{/other_user}",
      "gists_url": "https://api.github.com/users/fruiz08/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fruiz08/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fruiz08/subscriptions",
      "organizations_url": "https://api.github.com/users/fruiz08/orgs",
      "repos_url": "https://api.github.com/users/fruiz08/repos",
      "events_url": "https://api.github.com/users/fruiz08/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fruiz08/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-11T13:46:02Z",
    "updated_at": "2023-01-11T13:46:02Z",
    "author_association": "NONE",
    "body": "do you have any workaround to solve this issue? https://github.com/ethereum/solidity/issues/13858 ",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1378776545/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1381479461",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3365#issuecomment-1381479461",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3365",
    "id": 1381479461,
    "node_id": "IC_kwDOB7jojM5SV7Ql",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-13T08:35:31Z",
    "updated_at": "2023-01-13T08:35:31Z",
    "author_association": "MEMBER",
    "body": "@fruiz08 that seems a solc thing, unrelated to Hardhat.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1381479461/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1407502717",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3365#issuecomment-1407502717",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3365",
    "id": 1407502717,
    "node_id": "IC_kwDOB7jojM5T5Ml9",
    "user": {
      "login": "hantuzun",
      "id": 2770895,
      "node_id": "MDQ6VXNlcjI3NzA4OTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2770895?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hantuzun",
      "html_url": "https://github.com/hantuzun",
      "followers_url": "https://api.github.com/users/hantuzun/followers",
      "following_url": "https://api.github.com/users/hantuzun/following{/other_user}",
      "gists_url": "https://api.github.com/users/hantuzun/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hantuzun/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hantuzun/subscriptions",
      "organizations_url": "https://api.github.com/users/hantuzun/orgs",
      "repos_url": "https://api.github.com/users/hantuzun/repos",
      "events_url": "https://api.github.com/users/hantuzun/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hantuzun/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-28T22:35:34Z",
    "updated_at": "2023-01-28T22:35:34Z",
    "author_association": "NONE",
    "body": "With IR, I get the following exception:\r\n\r\n```\r\nAssertionError: Expected transaction to be reverted with ABC, but other\r\nexception was thrown: ProviderError: Error: Transaction reverted: function\r\nwas called with incorrect parameters\r\n```\r\n\r\nfrom a function as simple as:\r\n\r\n```\r\nfunction f() public {\r\n  revert(\"ABC\");\r\n}\r\n```\r\n\r\nWhen IR is not used, or other parts of the contracts are tinkered, or YUL steps are tinkered, the issue resolves. This issue is very similar to https://github.com/NomicFoundation/hardhat/issues/2453 so I suspect it's a Hardhat issue.\r\n\r\nI tried many combinations of recent Solidity versions with Hardhat `2.12.6` and `2.12.1-ir.0`. My compiler settings are:\r\n```\r\nviaIR: true,\r\noptimizer: {\r\n  enabled: true,\r\n  runs: 200\r\n}\r\n```\r\n\r\nCurrently working around the issue with a custom order of YUL optimization steps.\r\n\r\nLet me know if you think if this's a Solidity issue.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1407502717/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1407503255",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3365#issuecomment-1407503255",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3365",
    "id": 1407503255,
    "node_id": "IC_kwDOB7jojM5T5MuX",
    "user": {
      "login": "hantuzun",
      "id": 2770895,
      "node_id": "MDQ6VXNlcjI3NzA4OTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2770895?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hantuzun",
      "html_url": "https://github.com/hantuzun",
      "followers_url": "https://api.github.com/users/hantuzun/followers",
      "following_url": "https://api.github.com/users/hantuzun/following{/other_user}",
      "gists_url": "https://api.github.com/users/hantuzun/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hantuzun/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hantuzun/subscriptions",
      "organizations_url": "https://api.github.com/users/hantuzun/orgs",
      "repos_url": "https://api.github.com/users/hantuzun/repos",
      "events_url": "https://api.github.com/users/hantuzun/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hantuzun/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-28T22:38:50Z",
    "updated_at": "2023-01-28T22:38:50Z",
    "author_association": "NONE",
    "body": "This's the stack trace from Hardhat `2.12.6`:\r\n\r\n```\r\neth_estimateGas\r\n  Error: Transaction reverted: function was called with incorrect parameters\r\n      at Contract.f\r\n      at processTicksAndRejections (node:internal/process/task_queues:96:5)\r\n      at async EthModule._estimateGasAction (node_modules/hardhat/src/internal/hardhat-network/provider/modules/eth.ts:429:7)\r\n      at async HardhatNetworkProvider._sendWithLogging (node_modules/hardhat/src/internal/hardhat-network/provider/provider.ts:139:22)\r\n      at async HardhatNetworkProvider.request (node_modules/hardhat/src/internal/hardhat-network/provider/provider.ts:116:18)\r\n      at async JsonRpcHandler._handleRequest (node_modules/hardhat/src/internal/hardhat-network/jsonrpc/handler.ts:188:20)\r\n      at async JsonRpcHandler._handleSingleRequest (node_modules/hardhat/src/internal/hardhat-network/jsonrpc/handler.ts:167:17)\r\n      at async Server.JsonRpcHandler.handleHttp (node_modules/hardhat/src/internal/hardhat-network/jsonrpc/handler.ts:52:21)\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1407503255/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1424997065",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3365#issuecomment-1424997065",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3365",
    "id": 1424997065,
    "node_id": "IC_kwDOB7jojM5U77rJ",
    "user": {
      "login": "jmendiola222",
      "id": 5326111,
      "node_id": "MDQ6VXNlcjUzMjYxMTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5326111?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jmendiola222",
      "html_url": "https://github.com/jmendiola222",
      "followers_url": "https://api.github.com/users/jmendiola222/followers",
      "following_url": "https://api.github.com/users/jmendiola222/following{/other_user}",
      "gists_url": "https://api.github.com/users/jmendiola222/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jmendiola222/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jmendiola222/subscriptions",
      "organizations_url": "https://api.github.com/users/jmendiola222/orgs",
      "repos_url": "https://api.github.com/users/jmendiola222/repos",
      "events_url": "https://api.github.com/users/jmendiola222/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jmendiola222/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-10T00:02:11Z",
    "updated_at": "2023-02-10T00:02:11Z",
    "author_association": "NONE",
    "body": "> @jmendiola222 we want to release this ASAP. Hopefully this or next week; definitely January.\r\n\r\nIt didn't make it to the last release. :( Any update on the plan? @fvictorio ",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1424997065/reactions",
      "total_count": 3,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 3
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1439587337",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3365#issuecomment-1439587337",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3365",
    "id": 1439587337,
    "node_id": "IC_kwDOB7jojM5VzlwJ",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-22T08:09:18Z",
    "updated_at": "2023-02-22T08:09:18Z",
    "author_association": "MEMBER",
    "body": "I'm planning on merging that PR today, so it will definitely be included in the next release (this time for real :sweat_smile:).",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1439587337/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1446146672",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3365#issuecomment-1446146672",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3365",
    "id": 1446146672,
    "node_id": "IC_kwDOB7jojM5WMnJw",
    "user": {
      "login": "codeTIT4N",
      "id": 71545386,
      "node_id": "MDQ6VXNlcjcxNTQ1Mzg2",
      "avatar_url": "https://avatars.githubusercontent.com/u/71545386?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/codeTIT4N",
      "html_url": "https://github.com/codeTIT4N",
      "followers_url": "https://api.github.com/users/codeTIT4N/followers",
      "following_url": "https://api.github.com/users/codeTIT4N/following{/other_user}",
      "gists_url": "https://api.github.com/users/codeTIT4N/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/codeTIT4N/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/codeTIT4N/subscriptions",
      "organizations_url": "https://api.github.com/users/codeTIT4N/orgs",
      "repos_url": "https://api.github.com/users/codeTIT4N/repos",
      "events_url": "https://api.github.com/users/codeTIT4N/events{/privacy}",
      "received_events_url": "https://api.github.com/users/codeTIT4N/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-27T11:14:58Z",
    "updated_at": "2023-02-27T11:14:58Z",
    "author_association": "NONE",
    "body": "is this fixed?",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1446146672/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1452344406",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3365#issuecomment-1452344406",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3365",
    "id": 1452344406,
    "node_id": "IC_kwDOB7jojM5WkQRW",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-03-02T18:28:42Z",
    "updated_at": "2023-03-02T18:28:42Z",
    "author_association": "MEMBER",
    "body": "Released in [Hardhat v2.13.0](https://github.com/NomicFoundation/hardhat/releases/tag/hardhat%402.13.0) :rocket: ",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1452344406/reactions",
      "total_count": 3,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 3,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1460211896",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3365#issuecomment-1460211896",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3365",
    "id": 1460211896,
    "node_id": "IC_kwDOB7jojM5XCRC4",
    "user": {
      "login": "thedavidmeister",
      "id": 629710,
      "node_id": "MDQ6VXNlcjYyOTcxMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/629710?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thedavidmeister",
      "html_url": "https://github.com/thedavidmeister",
      "followers_url": "https://api.github.com/users/thedavidmeister/followers",
      "following_url": "https://api.github.com/users/thedavidmeister/following{/other_user}",
      "gists_url": "https://api.github.com/users/thedavidmeister/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thedavidmeister/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thedavidmeister/subscriptions",
      "organizations_url": "https://api.github.com/users/thedavidmeister/orgs",
      "repos_url": "https://api.github.com/users/thedavidmeister/repos",
      "events_url": "https://api.github.com/users/thedavidmeister/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thedavidmeister/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-03-08T14:09:21Z",
    "updated_at": "2023-03-08T14:09:21Z",
    "author_association": "NONE",
    "body": "this warning when running tests\r\n\r\n```\r\nYour solidity settings have viaIR enabled, which is not fully supported yet. You can still use Hardhat, but some features, like stack traces, might not work correctly.\r\n```\r\n\r\nand losing information about error strings\r\n\r\n```\r\nAssertionError: error string Error: Transaction reverted and Hardhat couldn't infer the reason.\r\n```\r\n\r\nwith 2.13.0",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1460211896/reactions",
      "total_count": 2,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 2,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
