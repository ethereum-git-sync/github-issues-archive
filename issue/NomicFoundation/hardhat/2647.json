{
  "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2647",
  "repository_url": "https://api.github.com/repos/NomicFoundation/hardhat",
  "labels_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2647/labels{/name}",
  "comments_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2647/comments",
  "events_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2647/events",
  "html_url": "https://github.com/NomicFoundation/hardhat/issues/2647",
  "id": 1217663536,
  "node_id": "I_kwDOB7jojM5IlBIw",
  "number": 2647,
  "title": "Transaction Reverted without a reason string/  GanacheGasMultiplierProvider.request?",
  "user": {
    "login": "grapevinegizmos",
    "id": 8684037,
    "node_id": "MDQ6VXNlcjg2ODQwMzc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/8684037?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/grapevinegizmos",
    "html_url": "https://github.com/grapevinegizmos",
    "followers_url": "https://api.github.com/users/grapevinegizmos/followers",
    "following_url": "https://api.github.com/users/grapevinegizmos/following{/other_user}",
    "gists_url": "https://api.github.com/users/grapevinegizmos/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/grapevinegizmos/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/grapevinegizmos/subscriptions",
    "organizations_url": "https://api.github.com/users/grapevinegizmos/orgs",
    "repos_url": "https://api.github.com/users/grapevinegizmos/repos",
    "events_url": "https://api.github.com/users/grapevinegizmos/events{/privacy}",
    "received_events_url": "https://api.github.com/users/grapevinegizmos/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": true,
  "assignee": {
    "login": "fvictorio",
    "id": 417134,
    "node_id": "MDQ6VXNlcjQxNzEzNA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/fvictorio",
    "html_url": "https://github.com/fvictorio",
    "followers_url": "https://api.github.com/users/fvictorio/followers",
    "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
    "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
    "organizations_url": "https://api.github.com/users/fvictorio/orgs",
    "repos_url": "https://api.github.com/users/fvictorio/repos",
    "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
    "received_events_url": "https://api.github.com/users/fvictorio/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2022-04-27T17:20:00Z",
  "updated_at": "2022-11-18T09:55:31Z",
  "closed_at": "2022-04-28T12:38:16Z",
  "author_association": "NONE",
  "active_lock_reason": "resolved",
  "body": "I'm not certain this is a hardhat issue, but I get the following error when I am trying to deploy a contract from a factory created with await factory.deploy(abi, bytecode,signer). \r\n\r\nBut I am wondering if the error I am receiving on the console in VS code is meaningful:  I note that it says an error occurred in the GanacheGasMultiplierProvider but I am not using Ganache at all.\r\n\r\n```\r\nProviderError: Error: Transaction reverted without a reason string\r\n    at HttpProvider.request (/Users/joshkramer/Documents/VSCodeProjects/BKopy/bkopy-embedded-contracts/node_modules/hardhat/src/internal/core/providers/http.ts:74:19)\r\n    at GanacheGasMultiplierProvider.request (/Users/joshkramer/Documents/VSCodeProjects/BKopy/bkopy-embedded-contracts/node_modules/hardhat/src/internal/core/providers/gas-providers.ts:312:34)\r\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\r\n```\r\n\r\nThis is the line in script which is producing this error:\r\n```\r\n   let abi = bindingcatalogJson.abi;    //imported json from artifacts/contracts folder of the contract from which I am getting the code on the next line.\r\n //can't use bytecode bindingcatatalJson because it contains link references.  \r\n let bytecode = await ethers.provider.getCode(localTemplate);  //localtemplate is the address of a previously deployed contract with the same abi\r\n   let [signer] = await ethers.getSigners(); \r\n   let factory = new ethers.ContractFactory(abi,bytecode,signer);\r\n   let con = await factory.deploy(signer.address, localEmbedRoot, {gasLimit: 5000000})   //  <<fails here\r\n```\r\nIn the local node I get this error:\r\n```\r\neth_sendTransaction\r\n  Contract deployment: <UnrecognizedContract>\r\n  Transaction:         0xd0079e7c7fb787c24ccd051a76e233e783c66855cba19349cdc91b5cea3b3659\r\n  From:                0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266\r\n  Value:               0 ETH\r\n  Gas used:            373838 of 5000000\r\n  Block #181:          0xf7e8676c27991c1bca724161b43352395ab6ff9cf7cb3537c9ba0c978d2bdad9\r\n\r\n  Error: Transaction reverted without a reason string\r\n      at <UnrecognizedContract>.constructor (unknown)\r\n      at runMicrotasks (<anonymous>)\r\n      at processTicksAndRejections (internal/process/task_queues.js:95:5)\r\n      at async HardhatNode._mineBlockWithPendingTxs (/Users/joshkramer/Documents/VSCodeProjects/BKopy/contracts/node_modules/hardhat/src/internal/hardhat-network/provider/node.ts:1598:23)\r\n      at async HardhatNode.mineBlock (/Users/joshkramer/Documents/VSCodeProjects/BKopy/contracts/node_modules/hardhat/src/internal/hardhat-network/provider/node.ts:435:16)\r\n      at async EthModule._sendTransactionAndReturnHash (/Users/joshkramer/Documents/VSCodeProjects/BKopy/contracts/node_modules/hardhat/src/internal/hardhat-network/provider/modules/eth.ts:1494:18)\r\n      at async HardhatNetworkProvider._sendWithLogging (/Users/joshkramer/Documents/VSCodeProjects/BKopy/contracts/node_modules/hardhat/src/internal/hardhat-network/provider/provider.ts:129:22)\r\n      at async HardhatNetworkProvider.request (/Users/joshkramer/Documents/VSCodeProjects/BKopy/contracts/node_modules/hardhat/src/internal/hardhat-network/provider/provider.ts:106:18)\r\n```\r\n\r\n\r\n\r\n",
  "closed_by": {
    "login": "fvictorio",
    "id": 417134,
    "node_id": "MDQ6VXNlcjQxNzEzNA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/fvictorio",
    "html_url": "https://github.com/fvictorio",
    "followers_url": "https://api.github.com/users/fvictorio/followers",
    "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
    "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
    "organizations_url": "https://api.github.com/users/fvictorio/orgs",
    "repos_url": "https://api.github.com/users/fvictorio/repos",
    "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
    "received_events_url": "https://api.github.com/users/fvictorio/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2647/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2647/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1111271325",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2647#issuecomment-1111271325",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2647",
    "id": 1111271325,
    "node_id": "IC_kwDOB7jojM5CPKed",
    "user": {
      "login": "github-actions[bot]",
      "id": 41898282,
      "node_id": "MDM6Qm90NDE4OTgyODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/github-actions%5Bbot%5D",
      "html_url": "https://github.com/apps/github-actions",
      "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2022-04-27T17:20:24Z",
    "updated_at": "2022-04-27T17:20:24Z",
    "author_association": "CONTRIBUTOR",
    "body": "This issue is also being [tracked on Linear](https://linear.app/nomic-foundation/issue/HH-585/transaction-reverted-without-a-reason-string).\n\nWe use Linear to manage our development process, but we keep the conversations on Github.\n\nLINEAR-ID: 8e82f4cd-dbf2-4f03-ba49-e4d12321bfbd",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1111271325/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1111696694",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2647#issuecomment-1111696694",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2647",
    "id": 1111696694,
    "node_id": "IC_kwDOB7jojM5CQyU2",
    "user": {
      "login": "grapevinegizmos",
      "id": 8684037,
      "node_id": "MDQ6VXNlcjg2ODQwMzc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8684037?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/grapevinegizmos",
      "html_url": "https://github.com/grapevinegizmos",
      "followers_url": "https://api.github.com/users/grapevinegizmos/followers",
      "following_url": "https://api.github.com/users/grapevinegizmos/following{/other_user}",
      "gists_url": "https://api.github.com/users/grapevinegizmos/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/grapevinegizmos/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/grapevinegizmos/subscriptions",
      "organizations_url": "https://api.github.com/users/grapevinegizmos/orgs",
      "repos_url": "https://api.github.com/users/grapevinegizmos/repos",
      "events_url": "https://api.github.com/users/grapevinegizmos/events{/privacy}",
      "received_events_url": "https://api.github.com/users/grapevinegizmos/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-04-28T03:14:32Z",
    "updated_at": "2022-04-28T03:18:34Z",
    "author_association": "NONE",
    "body": "Have been working to try workarounds, and managed to get the contract deployed, and can read from the contract, but when I attempt to call a non-view function that sets state variables, I still get this error in the VS code console referring to GanacheGasMultipler provider, below:\r\n\r\n```\r\nProviderError: Error: Transaction reverted without a reason string\r\n    at HttpProvider.request (/Users/joshkramer/Documents/VSCodeProjects/BKopy/bkopy-embedded-contracts/node_modules/hardhat/src/internal/core/providers/http.ts:74:19)\r\n    at GanacheGasMultiplierProvider.request (/Users/joshkramer/Documents/VSCodeProjects/BKopy/bkopy-embedded-contracts/node_modules/hardhat/src/internal/core/providers/gas-providers.ts:312:34)\r\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\r\nJoshs-MacBook-Pro:bkopy-embedded-contracts joshkramer$ \r\n```\r\nHere is the log from the terminal running hardhat node:\r\n```\r\neth_estimateGas\r\n  Contract call:       <UnrecognizedContract>\r\n  From:                0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266\r\n  To:                  0xe86517f38f6c57e3ce0b009c8a777fad6049a96c\r\n  Value:               0 ETH\r\n\r\n  Error: Transaction reverted without a reason string\r\n      at <UnrecognizedContract>.<unknown> (0xe86517f38f6c57e3ce0b009c8a777fad6049a96c)\r\n      at runMicrotasks (<anonymous>)\r\n      at processTicksAndRejections (internal/process/task_queues.js:95:5)\r\n      at async EthModule._estimateGasAction (/Users/joshkramer/Documents/VSCodeProjects/BKopy/contracts/node_modules/hardhat/src/internal/hardhat-network/provider/modules/eth.ts:425:7)\r\n      at async HardhatNetworkProvider._sendWithLogging (/Users/joshkramer/Documents/VSCodeProjects/BKopy/contracts/node_modules/hardhat/src/internal/hardhat-network/provider/provider.ts:129:22)\r\n      at async HardhatNetworkProvider.request (/Users/joshkramer/Documents/VSCodeProjects/BKopy/contracts/node_modules/hardhat/src/internal/hardhat-network/provider/provider.ts:106:18)\r\n      at async JsonRpcHandler._handleRequest (/Users/joshkramer/Documents/VSCodeProjects/BKopy/contracts/node_modules/hardhat/src/internal/hardhat-network/jsonrpc/handler.ts:188:20)\r\n      at async JsonRpcHandler._handleSingleRequest (/Users/joshkramer/Documents/VSCodeProjects/BKopy/contracts/node_modules/hardhat/src/internal/hardhat-network/jsonrpc/handler.ts:167:17)\r\n```\r\n\r\nWorth noting that all of the contracts here and the methods that provoke these errors have worked find in hardhat tests run with hh test.  Only when I attempt to run script with --network localhost that I see these errors.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1111696694/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1112152685",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2647#issuecomment-1112152685",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2647",
    "id": 1112152685,
    "node_id": "IC_kwDOB7jojM5CShpt",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-04-28T12:38:14Z",
    "updated_at": "2022-04-28T12:38:14Z",
    "author_association": "MEMBER",
    "body": "\"Transaction reverted without a reason string\" means that the transaction reverted and there wasn't a reason string. This happens, for example, if you hit a `require(false)` (notice that it doesn't have the second argument, the reason string).\r\n\r\nWhy did it happen? That depends on your project. The stack trace gives you a hint: `<UnrecognizedContract>.<unknown> (0xe86517f38f6c57e3ce0b009c8a777fad6049a96c)`. This typically happens when you are using mainnet forking and there is a revert in a contract you are interacting with, but that is not part of your project (and therefore it's unrecognized).\r\n\r\n> I note that it says an error occurred in the GanacheGasMultiplierProvider but I am not using Ganache at all.\r\n\r\nThat's an internal Hardhat class, even if it's called like that (I think the name comes from the fact that it mimics some behavior from ganache, but I'm not really sure)\r\n\r\nI'm going to close this now because it's not an issue with Hardhat.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1112152685/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
