{
  "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/654",
  "repository_url": "https://api.github.com/repos/NomicFoundation/hardhat",
  "labels_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/654/labels{/name}",
  "comments_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/654/comments",
  "events_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/654/events",
  "html_url": "https://github.com/NomicFoundation/hardhat/issues/654",
  "id": 641280499,
  "node_id": "MDU6SXNzdWU2NDEyODA0OTk=",
  "number": 654,
  "title": "Upgrade hardhat-solhint to v3",
  "user": {
    "login": "NoahMarconi",
    "id": 627649,
    "node_id": "MDQ6VXNlcjYyNzY0OQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/627649?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/NoahMarconi",
    "html_url": "https://github.com/NoahMarconi",
    "followers_url": "https://api.github.com/users/NoahMarconi/followers",
    "following_url": "https://api.github.com/users/NoahMarconi/following{/other_user}",
    "gists_url": "https://api.github.com/users/NoahMarconi/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/NoahMarconi/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/NoahMarconi/subscriptions",
    "organizations_url": "https://api.github.com/users/NoahMarconi/orgs",
    "repos_url": "https://api.github.com/users/NoahMarconi/repos",
    "events_url": "https://api.github.com/users/NoahMarconi/events{/privacy}",
    "received_events_url": "https://api.github.com/users/NoahMarconi/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": true,
  "assignee": {
    "login": "fvictorio",
    "id": 417134,
    "node_id": "MDQ6VXNlcjQxNzEzNA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/fvictorio",
    "html_url": "https://github.com/fvictorio",
    "followers_url": "https://api.github.com/users/fvictorio/followers",
    "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
    "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
    "organizations_url": "https://api.github.com/users/fvictorio/orgs",
    "repos_url": "https://api.github.com/users/fvictorio/repos",
    "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
    "received_events_url": "https://api.github.com/users/fvictorio/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2020-06-18T15:00:03Z",
  "updated_at": "2023-03-15T00:14:23Z",
  "closed_at": "2022-12-14T09:26:41Z",
  "author_association": "NONE",
  "active_lock_reason": "resolved",
  "body": "I think there's a version issue with the solhint plugin with it's use of solhint version 2.\r\n\r\nHere're my `devDependencies` from package.json:\r\n\r\n```{json}\r\n  \"devDependencies\": {\r\n    \"@nomiclabs/buidler\": \"^1.3.6\",\r\n    \"@nomiclabs/buidler-ethers\": \"^1.3.3\",\r\n    \"@nomiclabs/buidler-ganache\": \"^1.3.3\",\r\n    \"@nomiclabs/buidler-solhint\": \"^1.3.3\",\r\n    \"@nomiclabs/buidler-waffle\": \"^1.3.4\",\r\n    \"@types/chai\": \"^4.1.7\",\r\n    \"@types/mocha\": \"^5.2.7\",\r\n    \"chai\": \"^4.2.0\",\r\n    \"ethereum-waffle\": \"^2.5.1\",\r\n    \"ethers\": \"^4.0.27\",\r\n    \"mocha\": \"^8.0.1\",\r\n    \"rimraf\": \"^3.0.0\",\r\n    \"solhint\": \"^3.0.0-rc.8\",\r\n    \"solidity-coverage\": \"^0.7.7\",\r\n    \"ts-mocha\": \"^6.0.0\",\r\n    \"typescript\": \"^3.5.3\"\r\n  }\r\n```\r\n\r\nLocally I have solhint v3 as a dependency of my project and `npx solhint contracts/*.sol` comes up clean:\r\n\r\n```{sh}\r\nnpm run lint \r\n\r\n> grant-contracts@1.0.0 lint /Users/noahmarconi/dev/grant-contracts\r\n> npx solhint contracts/*.sol\r\n```\r\n\r\nWhereas using the builder plugin shows errors associated with my use of solidity v0.6:\r\n\r\n```{sh}\r\nnpx buidler check\r\nline 9:0 extraneous input 'abstract' expecting {<EOF>, 'pragma', 'import', 'contract', 'interface', 'library'}\r\nline 554:11 mismatched input '(' expecting {'from', 'constant', 'internal', 'private', 'public', Identifier}\r\nline 558:12 extraneous input '(' expecting {'from', 'constant', 'internal', 'private', 'public', Identifier}\r\nline 558:16 mismatched input '.' expecting {';', '='}\r\nline 558:22 mismatched input ')' expecting {'from', 'constant', 'internal', 'private', 'public', Identifier}\r\nline 560:0 extraneous input '}' expecting {<EOF>, 'pragma', 'import', 'contract', 'interface', 'library'}\r\n\r\n/Users/noahmarconi/dev/grant-contracts/contracts/AbstractGrant.sol\r\n  2:17  error  Compiler version 0.6.8 does not satisfy the ^0.5.8 semver requirement  compiler-version\r\n  2:25  error  Compiler version 0.7.0 does not satisfy the ^0.5.8 semver requirement  compiler-version\r\n  9:10  error  Expected indentation of 0 spaces but found 9                           indent\r\n\r\n/Users/noahmarconi/dev/grant-contracts/contracts/GrantFactory.sol\r\n   2:17  error    Compiler version 0.6.8 does not satisfy the ^0.5.8 semver requirement  compiler-version\r\n   2:25  error    Compiler version 0.7.0 does not satisfy the ^0.5.8 semver requirement  compiler-version\r\n  59:9   warning  Explicitly mark all external contracts as trusted or untrusted         mark-callable-contracts\r\n  59:40  warning  Explicitly mark all external contracts as trusted or untrusted         mark-callable-contracts\r\n\r\n/Users/noahmarconi/dev/grant-contracts/contracts/ISignal.sol\r\n  2:17  error  Compiler version 0.6.8 does not satisfy the ^0.5.8 semver requirement  compiler-version\r\n  2:25  error  Compiler version 0.7.0 does not satisfy the ^0.5.8 semver requirement  compiler-version\r\n\r\n/Users/noahmarconi/dev/grant-contracts/contracts/ManagedCappedGrant.sol\r\n    2:17  error    Compiler version 0.6.8 does not satisfy the ^0.5.8 semver requirement                   compiler-version\r\n    2:25  error    Compiler version 0.7.0 does not satisfy the ^0.5.8 semver requirement                   compiler-version\r\n   55:5   warning  Open bracket must be on same line. It must be indented by other constructions by space  bracket-align\r\n  234:9   warning  Statement indentation is incorrect. Required space after if                             statement-indent\r\n  248:9   warning  Statement indentation is incorrect. Required space after if                             statement-indent\r\n  253:9   warning  Statement indentation is incorrect. Required space after if                             statement-indent\r\n  260:14  warning  Explicitly mark all external contracts as trusted or untrusted                          mark-callable-contracts\r\n  262:9   warning  Statement indentation is incorrect. Required space after if                             statement-indent\r\n  263:18  warning  Explicitly mark all external contracts as trusted or untrusted                          mark-callable-contracts\r\n  308:14  warning  Explicitly mark all external contracts as trusted or untrusted                          mark-callable-contracts\r\n  342:14  warning  Explicitly mark all external contracts as trusted or untrusted                          mark-callable-contracts\r\n  379:14  warning  Explicitly mark all external contracts as trusted or untrusted                          mark-callable-contracts\r\n  421:13  warning  Check result of \"send\" call                                                             check-send-result\r\n  421:13  warning  Avoid multiple calls of \"send\" method in single transaction                             multiple-sends\r\n  433:14  warning  Explicitly mark all external contracts as trusted or untrusted                          mark-callable-contracts\r\n  463:13  warning  Check result of \"send\" call                                                             check-send-result\r\n  463:13  warning  Avoid multiple calls of \"send\" method in single transaction                             multiple-sends\r\n  476:14  warning  Explicitly mark all external contracts as trusted or untrusted                          mark-callable-contracts\r\n  497:13  warning  Check result of \"send\" call                                                             check-send-result\r\n  497:13  warning  Avoid multiple calls of \"send\" method in single transaction                             multiple-sends\r\n  554:5   warning  Explicitly mark visibility of state                                                     state-visibility\r\n  558:9   error    Expected indentation of 4 spaces but found 8                                            indent\r\n  558:18  error    Expected indentation of 4 spaces but found 17                                           indent\r\n  558:9   warning  Explicitly mark visibility of state                                                     state-visibility\r\n  558:18  warning  Explicitly mark visibility of state                                                     state-visibility\r\n  559:5   error    Expected indentation of 0 spaces but found 4                                            indent\r\n\r\n/Users/noahmarconi/dev/grant-contracts/contracts/test/GrantToken.sol\r\n   2:17  error    Compiler version 0.6.8 does not satisfy the ^0.5.8 semver requirement                   compiler-version\r\n   2:25  error    Compiler version 0.7.0 does not satisfy the ^0.5.8 semver requirement                   compiler-version\r\n  12:5   warning  Open bracket must be on same line. It must be indented by other constructions by space  bracket-align\r\n  12:5   warning  Code contains empty block                                                               no-empty-blocks\r\n\r\n✖ 39 problems (14 errors, 25 warnings)\r\n```\r\n",
  "closed_by": {
    "login": "fvictorio",
    "id": 417134,
    "node_id": "MDQ6VXNlcjQxNzEzNA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/fvictorio",
    "html_url": "https://github.com/fvictorio",
    "followers_url": "https://api.github.com/users/fvictorio/followers",
    "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
    "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
    "organizations_url": "https://api.github.com/users/fvictorio/orgs",
    "repos_url": "https://api.github.com/users/fvictorio/repos",
    "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
    "received_events_url": "https://api.github.com/users/fvictorio/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/654/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/654/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/744217396",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/654#issuecomment-744217396",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/654",
    "id": 744217396,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc0NDIxNzM5Ng==",
    "user": {
      "login": "matthewlilley",
      "id": 6063350,
      "node_id": "MDQ6VXNlcjYwNjMzNTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6063350?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/matthewlilley",
      "html_url": "https://github.com/matthewlilley",
      "followers_url": "https://api.github.com/users/matthewlilley/followers",
      "following_url": "https://api.github.com/users/matthewlilley/following{/other_user}",
      "gists_url": "https://api.github.com/users/matthewlilley/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/matthewlilley/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/matthewlilley/subscriptions",
      "organizations_url": "https://api.github.com/users/matthewlilley/orgs",
      "repos_url": "https://api.github.com/users/matthewlilley/repos",
      "events_url": "https://api.github.com/users/matthewlilley/events{/privacy}",
      "received_events_url": "https://api.github.com/users/matthewlilley/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-12-14T06:56:00Z",
    "updated_at": "2020-12-14T22:56:34Z",
    "author_association": "NONE",
    "body": "Can confirm, I have this problem as well. Works fine with regular solhint binary. Using hardhat and hardhat-solhint I get messy output like above.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/744217396/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/748650866",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/654#issuecomment-748650866",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/654",
    "id": 748650866,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc0ODY1MDg2Ng==",
    "user": {
      "login": "fqlx",
      "id": 1562849,
      "node_id": "MDQ6VXNlcjE1NjI4NDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1562849?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fqlx",
      "html_url": "https://github.com/fqlx",
      "followers_url": "https://api.github.com/users/fqlx/followers",
      "following_url": "https://api.github.com/users/fqlx/following{/other_user}",
      "gists_url": "https://api.github.com/users/fqlx/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fqlx/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fqlx/subscriptions",
      "organizations_url": "https://api.github.com/users/fqlx/orgs",
      "repos_url": "https://api.github.com/users/fqlx/repos",
      "events_url": "https://api.github.com/users/fqlx/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fqlx/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-12-20T19:33:34Z",
    "updated_at": "2020-12-20T19:33:34Z",
    "author_association": "NONE",
    "body": "I'm seeing `Compiler version 0.7.3 does not satisfy the ^0.5.8 semver requirement` just with `\"solhint\": \"^3.3.2\"` and `\"hardhat\": \"^2.0.4\"`",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/748650866/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/753566413",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/654#issuecomment-753566413",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/654",
    "id": 753566413,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc1MzU2NjQxMw==",
    "user": {
      "login": "tpscrpt",
      "id": 23587429,
      "node_id": "MDQ6VXNlcjIzNTg3NDI5",
      "avatar_url": "https://avatars.githubusercontent.com/u/23587429?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tpscrpt",
      "html_url": "https://github.com/tpscrpt",
      "followers_url": "https://api.github.com/users/tpscrpt/followers",
      "following_url": "https://api.github.com/users/tpscrpt/following{/other_user}",
      "gists_url": "https://api.github.com/users/tpscrpt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tpscrpt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tpscrpt/subscriptions",
      "organizations_url": "https://api.github.com/users/tpscrpt/orgs",
      "repos_url": "https://api.github.com/users/tpscrpt/repos",
      "events_url": "https://api.github.com/users/tpscrpt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tpscrpt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-03T04:31:47Z",
    "updated_at": "2021-01-03T04:31:47Z",
    "author_association": "NONE",
    "body": "in *.solhint.json*:\r\n```\r\n  \"rules\": {\r\n    \"compiler-version\": [\"error\", \"^0.7.3\"]\r\n  }\r\n```\r\nSeems the default is 0.5.8",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/753566413/reactions",
      "total_count": 9,
      "+1": 7,
      "-1": 0,
      "laugh": 0,
      "hooray": 2,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/753678927",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/654#issuecomment-753678927",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/654",
    "id": 753678927,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc1MzY3ODkyNw==",
    "user": {
      "login": "tpscrpt",
      "id": 23587429,
      "node_id": "MDQ6VXNlcjIzNTg3NDI5",
      "avatar_url": "https://avatars.githubusercontent.com/u/23587429?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tpscrpt",
      "html_url": "https://github.com/tpscrpt",
      "followers_url": "https://api.github.com/users/tpscrpt/followers",
      "following_url": "https://api.github.com/users/tpscrpt/following{/other_user}",
      "gists_url": "https://api.github.com/users/tpscrpt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tpscrpt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tpscrpt/subscriptions",
      "organizations_url": "https://api.github.com/users/tpscrpt/orgs",
      "repos_url": "https://api.github.com/users/tpscrpt/repos",
      "events_url": "https://api.github.com/users/tpscrpt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tpscrpt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-03T21:30:50Z",
    "updated_at": "2021-01-03T21:30:50Z",
    "author_association": "NONE",
    "body": "Might also be a vs code extension config\n\nOn Sat., Jan. 2, 2021, 11:31 p.m. Jeremi G., <notifications@github.com>\nwrote:\n\n> in *.solhint.json*:\n>\n>   \"rules\": {\n>     \"compiler-version\": [\"error\", \"^0.7.3\"]\n>   }\n>\n> Seems the default is 0.5.8\n>\n> —\n> You are receiving this because you are subscribed to this thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/nomiclabs/hardhat/issues/654#issuecomment-753566413>,\n> or unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/AFT6UZNWXO5JLEUHCBAAMX3SX7XL5ANCNFSM4OBYWKMQ>\n> .\n>\n",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/753678927/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
