{
  "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/351",
  "repository_url": "https://api.github.com/repos/NomicFoundation/hardhat",
  "labels_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/351/labels{/name}",
  "comments_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/351/comments",
  "events_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/351/events",
  "html_url": "https://github.com/NomicFoundation/hardhat/issues/351",
  "id": 476243866,
  "node_id": "MDU6SXNzdWU0NzYyNDM4NjY=",
  "number": 351,
  "title": "Improve error handling when trying to use a global installation with ts",
  "user": {
    "login": "alcuadrado",
    "id": 176499,
    "node_id": "MDQ6VXNlcjE3NjQ5OQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/176499?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/alcuadrado",
    "html_url": "https://github.com/alcuadrado",
    "followers_url": "https://api.github.com/users/alcuadrado/followers",
    "following_url": "https://api.github.com/users/alcuadrado/following{/other_user}",
    "gists_url": "https://api.github.com/users/alcuadrado/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/alcuadrado/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/alcuadrado/subscriptions",
    "organizations_url": "https://api.github.com/users/alcuadrado/orgs",
    "repos_url": "https://api.github.com/users/alcuadrado/repos",
    "events_url": "https://api.github.com/users/alcuadrado/events{/privacy}",
    "received_events_url": "https://api.github.com/users/alcuadrado/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": true,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2019-08-02T15:44:32Z",
  "updated_at": "2022-11-18T18:42:49Z",
  "closed_at": "2021-06-10T20:54:24Z",
  "author_association": "MEMBER",
  "active_lock_reason": "resolved",
  "body": "We should restrict typescript support to local installations. Writing your config/tests/scripts requires importing Buidler as a library, and that's not possible in node if Buidler is installed globally.\r\n\r\nThere are multiple small changes that should be done:\r\n\r\n* If Buidler is installed globally and we find a ts config, we should print an error explaining that to use typescript Buidler has to be installed locally.\r\n\r\n* If Buidler is installed locally, and we find a ts config, but `ts-node` or `typescript` aren't installed, we should print an error directing the user to install them.\r\n\r\n* If Buidler is installed globally and a user tries to `buidler run` a typescript script, we should print an error explaining that to use typescript Buidler has to be installed locally.\r\n\r\n* If Buidler is installed globally we detect tests written in ts, we should print an error explaining that to use typescript Buidler has to be installed locally.\r\n\r\nAll of these errors have to link to the typescript support documentation once #346 is merged.\r\n",
  "closed_by": {
    "login": "fvictorio",
    "id": 417134,
    "node_id": "MDQ6VXNlcjQxNzEzNA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/fvictorio",
    "html_url": "https://github.com/fvictorio",
    "followers_url": "https://api.github.com/users/fvictorio/followers",
    "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
    "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
    "organizations_url": "https://api.github.com/users/fvictorio/orgs",
    "repos_url": "https://api.github.com/users/fvictorio/repos",
    "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
    "received_events_url": "https://api.github.com/users/fvictorio/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/351/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/351/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/859058106",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/351#issuecomment-859058106",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/351",
    "id": 859058106,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg1OTA1ODEwNg==",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-10T20:54:24Z",
    "updated_at": "2021-06-10T20:54:24Z",
    "author_association": "MEMBER",
    "body": "I think this is not longer valid. We don't allow using hardhat globally, so the only remaining point is:\r\n\r\n> If Buidler is installed globally and a user tries to buidler run a typescript script, we should print an error explaining that to use typescript Buidler has to be installed locally.\r\n\r\nAnd that seems to be handled correctly now:\r\n\r\n```\r\nError HH14: Your Hardhat project uses typescript, but it's not installed.\r\n\r\nPlease run: npm install --save-dev typescript\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/859058106/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
