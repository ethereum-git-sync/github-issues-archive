{
  "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/442",
  "repository_url": "https://api.github.com/repos/NomicFoundation/hardhat",
  "labels_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/442/labels{/name}",
  "comments_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/442/comments",
  "events_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/442/events",
  "html_url": "https://github.com/NomicFoundation/hardhat/issues/442",
  "id": 565007826,
  "node_id": "MDU6SXNzdWU1NjUwMDc4MjY=",
  "number": 442,
  "title": "[buidler-etherscan] Verify the Solc version in contract deployed bytecode",
  "user": {
    "login": "canepat",
    "id": 16927169,
    "node_id": "MDQ6VXNlcjE2OTI3MTY5",
    "avatar_url": "https://avatars.githubusercontent.com/u/16927169?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/canepat",
    "html_url": "https://github.com/canepat",
    "followers_url": "https://api.github.com/users/canepat/followers",
    "following_url": "https://api.github.com/users/canepat/following{/other_user}",
    "gists_url": "https://api.github.com/users/canepat/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/canepat/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/canepat/subscriptions",
    "organizations_url": "https://api.github.com/users/canepat/orgs",
    "repos_url": "https://api.github.com/users/canepat/repos",
    "events_url": "https://api.github.com/users/canepat/events{/privacy}",
    "received_events_url": "https://api.github.com/users/canepat/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": true,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2020-02-13T23:20:04Z",
  "updated_at": "2022-11-18T21:09:15Z",
  "closed_at": "2020-12-02T18:40:18Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": "resolved",
  "body": "As discussed with @alcuadrado, the `verify-contract` task could verify the configured Solc version used by Buidler to compile bytecode against the Solc version embedded in deployed bytecode before publishing sources on Etherscan, making the contract verification even more reliable.\r\n\r\nThis improvement can be accomplished thanks to an interesting feature added to the Solc compiler since version 0.5.15: the [CBOR-encoding of the Solc compiler version in the contract bytecode](https://solidity.readthedocs.io/en/v0.5.15/metadata.html#encoding-of-the-metadata-hash-in-the-bytecode).",
  "closed_by": {
    "login": "alcuadrado",
    "id": 176499,
    "node_id": "MDQ6VXNlcjE3NjQ5OQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/176499?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/alcuadrado",
    "html_url": "https://github.com/alcuadrado",
    "followers_url": "https://api.github.com/users/alcuadrado/followers",
    "following_url": "https://api.github.com/users/alcuadrado/following{/other_user}",
    "gists_url": "https://api.github.com/users/alcuadrado/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/alcuadrado/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/alcuadrado/subscriptions",
    "organizations_url": "https://api.github.com/users/alcuadrado/orgs",
    "repos_url": "https://api.github.com/users/alcuadrado/repos",
    "events_url": "https://api.github.com/users/alcuadrado/events{/privacy}",
    "received_events_url": "https://api.github.com/users/alcuadrado/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/442/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/442/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/588942410",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/442#issuecomment-588942410",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/442",
    "id": 588942410,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU4ODk0MjQxMA==",
    "user": {
      "login": "canepat",
      "id": 16927169,
      "node_id": "MDQ6VXNlcjE2OTI3MTY5",
      "avatar_url": "https://avatars.githubusercontent.com/u/16927169?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/canepat",
      "html_url": "https://github.com/canepat",
      "followers_url": "https://api.github.com/users/canepat/followers",
      "following_url": "https://api.github.com/users/canepat/following{/other_user}",
      "gists_url": "https://api.github.com/users/canepat/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/canepat/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/canepat/subscriptions",
      "organizations_url": "https://api.github.com/users/canepat/orgs",
      "repos_url": "https://api.github.com/users/canepat/repos",
      "events_url": "https://api.github.com/users/canepat/events{/privacy}",
      "received_events_url": "https://api.github.com/users/canepat/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-02-20T10:45:30Z",
    "updated_at": "2020-02-20T10:45:30Z",
    "author_association": "CONTRIBUTOR",
    "body": "In order to implement these changes we need a [CBOR](https://cbor.io/) parser to decode the metadata included in contract bytecode: as a starting point, we can evaluate the `cbor-js` library and then add it as Buidler dependency.\r\n\r\nThen, assuming the changes required by issue #441 are already in place, we can extract the metadata section from deployed bytecode, decode it using `cbor-js` and check the extracted `solc` version against the one resolved in Buidler configuration available in `bre.config.solc`.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/588942410/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/737419526",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/442#issuecomment-737419526",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/442",
    "id": 737419526,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczNzQxOTUyNg==",
    "user": {
      "login": "alcuadrado",
      "id": 176499,
      "node_id": "MDQ6VXNlcjE3NjQ5OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/176499?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alcuadrado",
      "html_url": "https://github.com/alcuadrado",
      "followers_url": "https://api.github.com/users/alcuadrado/followers",
      "following_url": "https://api.github.com/users/alcuadrado/following{/other_user}",
      "gists_url": "https://api.github.com/users/alcuadrado/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alcuadrado/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alcuadrado/subscriptions",
      "organizations_url": "https://api.github.com/users/alcuadrado/orgs",
      "repos_url": "https://api.github.com/users/alcuadrado/repos",
      "events_url": "https://api.github.com/users/alcuadrado/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alcuadrado/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-12-02T18:40:18Z",
    "updated_at": "2020-12-02T18:40:18Z",
    "author_association": "MEMBER",
    "body": "This has already been implemented. Thanks for all your work with this plugin, @canepat.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/737419526/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
