{
  "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3569",
  "repository_url": "https://api.github.com/repos/NomicFoundation/hardhat",
  "labels_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3569/labels{/name}",
  "comments_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3569/comments",
  "events_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3569/events",
  "html_url": "https://github.com/NomicFoundation/hardhat/issues/3569",
  "id": 1530607105,
  "node_id": "I_kwDOB7jojM5bOzYB",
  "number": 3569,
  "title": "getting an EVM compatible network to send type 2 transactions",
  "user": {
    "login": "tzapu",
    "id": 2983312,
    "node_id": "MDQ6VXNlcjI5ODMzMTI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2983312?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tzapu",
    "html_url": "https://github.com/tzapu",
    "followers_url": "https://api.github.com/users/tzapu/followers",
    "following_url": "https://api.github.com/users/tzapu/following{/other_user}",
    "gists_url": "https://api.github.com/users/tzapu/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tzapu/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tzapu/subscriptions",
    "organizations_url": "https://api.github.com/users/tzapu/orgs",
    "repos_url": "https://api.github.com/users/tzapu/repos",
    "events_url": "https://api.github.com/users/tzapu/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tzapu/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 4937119027,
      "node_id": "LA_kwDOB7jojM8AAAABJkZ1Mw",
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/labels/status:triaging",
      "name": "status:triaging",
      "color": "0E8A16",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": true,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2023-01-12T12:11:28Z",
  "updated_at": "2023-04-14T00:12:54Z",
  "closed_at": "2023-01-13T09:12:20Z",
  "author_association": "NONE",
  "active_lock_reason": "resolved",
  "body": "hello and thank you very much for hardhat.\r\n\r\ni am trying to use/send some transactions through file coin's evm compatible layer (json rpc endpoint here) and most stuff works ok.\r\n\r\nthe biggest issue i have is that when i send a transaction hardhat/ethers is trying to send it as a type 1 tx and it gets rejected by the rpc endpoint which only takes type two txs. \r\nIf i for the tx to be type 2 through overrides it works perfectly, but it s quite tedious with lots and lots of transactions as i need to do them individually.\r\n\r\nIs there anything that could and should be done at some level to make sure the network is identified as eip1559 compatible and only type 2 txs are sent? What layer (hardhat/ethers/rpc node?) is that check done at and what is the actual check? \r\n\r\nthanks again",
  "closed_by": {
    "login": "fvictorio",
    "id": 417134,
    "node_id": "MDQ6VXNlcjQxNzEzNA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/fvictorio",
    "html_url": "https://github.com/fvictorio",
    "followers_url": "https://api.github.com/users/fvictorio/followers",
    "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
    "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
    "organizations_url": "https://api.github.com/users/fvictorio/orgs",
    "repos_url": "https://api.github.com/users/fvictorio/repos",
    "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
    "received_events_url": "https://api.github.com/users/fvictorio/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3569/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3569/timeline",
  "performed_via_github_app": null,
  "state_reason": "not_planned"
}
[
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1381516263",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3569#issuecomment-1381516263",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3569",
    "id": 1381516263,
    "node_id": "IC_kwDOB7jojM5SWEPn",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-13T09:12:20Z",
    "updated_at": "2023-01-13T09:12:20Z",
    "author_association": "MEMBER",
    "body": "> What layer (hardhat/ethers/rpc node?) is that check done at and what is the actual check?\r\n\r\nIf you are using ethers, then ethers is the one that will \"decide\" which type of transactions to send. But the latest versions of ethers do default to type 2 transactions, unless you include a `gasPrice` field. If you do that, then a type 0 tx will be used.\r\n\r\nClosing this because I don't think there's nothing to do on our side.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1381516263/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1381545333",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3569#issuecomment-1381545333",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3569",
    "id": 1381545333,
    "node_id": "IC_kwDOB7jojM5SWLV1",
    "user": {
      "login": "tzapu",
      "id": 2983312,
      "node_id": "MDQ6VXNlcjI5ODMzMTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2983312?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tzapu",
      "html_url": "https://github.com/tzapu",
      "followers_url": "https://api.github.com/users/tzapu/followers",
      "following_url": "https://api.github.com/users/tzapu/following{/other_user}",
      "gists_url": "https://api.github.com/users/tzapu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tzapu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tzapu/subscriptions",
      "organizations_url": "https://api.github.com/users/tzapu/orgs",
      "repos_url": "https://api.github.com/users/tzapu/repos",
      "events_url": "https://api.github.com/users/tzapu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tzapu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-13T09:39:09Z",
    "updated_at": "2023-01-13T09:39:09Z",
    "author_association": "NONE",
    "body": "thanks @fvictorio for pointing me in the right direction",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1381545333/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 1,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
