{
  "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1873",
  "repository_url": "https://api.github.com/repos/NomicFoundation/hardhat",
  "labels_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1873/labels{/name}",
  "comments_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1873/comments",
  "events_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1873/events",
  "html_url": "https://github.com/NomicFoundation/hardhat/issues/1873",
  "id": 993165400,
  "node_id": "MDU6SXNzdWU5OTMxNjU0MDA=",
  "number": 1873,
  "title": "Wrong inferred error when a view-function of a library is called and it reverts",
  "user": {
    "login": "ivanzhelyazkov",
    "id": 18243849,
    "node_id": "MDQ6VXNlcjE4MjQzODQ5",
    "avatar_url": "https://avatars.githubusercontent.com/u/18243849?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ivanzhelyazkov",
    "html_url": "https://github.com/ivanzhelyazkov",
    "followers_url": "https://api.github.com/users/ivanzhelyazkov/followers",
    "following_url": "https://api.github.com/users/ivanzhelyazkov/following{/other_user}",
    "gists_url": "https://api.github.com/users/ivanzhelyazkov/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ivanzhelyazkov/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ivanzhelyazkov/subscriptions",
    "organizations_url": "https://api.github.com/users/ivanzhelyazkov/orgs",
    "repos_url": "https://api.github.com/users/ivanzhelyazkov/repos",
    "events_url": "https://api.github.com/users/ivanzhelyazkov/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ivanzhelyazkov/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 901960538,
      "node_id": "MDU6TGFiZWw5MDE5NjA1Mzg=",
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/labels/type:bug",
      "name": "type:bug",
      "color": "FBCA04",
      "default": false,
      "description": "Something isn't working"
    },
    {
      "id": 4937720577,
      "node_id": "LA_kwDOB7jojM8AAAABJk-jAQ",
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/labels/status:ready",
      "name": "status:ready",
      "color": "0E8A16",
      "default": false,
      "description": "This issue is ready to be worked on"
    },
    {
      "id": 4951951046,
      "node_id": "LA_kwDOB7jojM8AAAABJyjGxg",
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/labels/area:error-inferrer",
      "name": "area:error-inferrer",
      "color": "5319E7",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 19,
  "created_at": "2021-09-10T11:57:47Z",
  "updated_at": "2023-06-07T15:24:42Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Deploying and calling a library's view function in a mainnet fork pinned at a certain block sometimes results in:\r\n`Error: Transaction reverted: library was called directly`.\r\n\r\nThat behaviour is unexpected and doesn't correlate to mainnet behaviour.\r\nLibraries pure and view functions should be callable from an external account.\r\nInteracting with the same library from an external account on mainnet returns a proper value when calling the same view function.\r\n\r\nWhen changing the pinned block it seems that the issue is sometimes resolved. No exact steps to reproduce.\r\n\r\n\r\nMinimal example:\r\nA library with one view function which returns a number and a script, which deploys the library, and calls the view function. Run with mainnet forking enabled and pinned at a block.",
  "closed_by": {
    "login": "github-actions[bot]",
    "id": 41898282,
    "node_id": "MDM6Qm90NDE4OTgyODI=",
    "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/github-actions%5Bbot%5D",
    "html_url": "https://github.com/apps/github-actions",
    "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
    "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
    "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
    "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
    "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
    "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
    "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
    "type": "Bot",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1873/reactions",
    "total_count": 1,
    "+1": 1,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1873/timeline",
  "performed_via_github_app": null,
  "state_reason": "reopened"
}
[
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/916860395",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1873#issuecomment-916860395",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1873",
    "id": 916860395,
    "node_id": "IC_kwDOB7jojM42pi3r",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-10T12:15:46Z",
    "updated_at": "2021-09-10T12:15:46Z",
    "author_association": "MEMBER",
    "body": "> A library with one view function which returns a number and a script, which deploys the library, and calls the view function. Run with mainnet forking enabled and pinned at a block.\r\n\r\nI did this and couldn't reproduce the problem. Works fine with and without forking, and with and without a pinned block.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/916860395/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/916892730",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1873#issuecomment-916892730",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1873",
    "id": 916892730,
    "node_id": "IC_kwDOB7jojM42pqw6",
    "user": {
      "login": "ivanzhelyazkov",
      "id": 18243849,
      "node_id": "MDQ6VXNlcjE4MjQzODQ5",
      "avatar_url": "https://avatars.githubusercontent.com/u/18243849?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ivanzhelyazkov",
      "html_url": "https://github.com/ivanzhelyazkov",
      "followers_url": "https://api.github.com/users/ivanzhelyazkov/followers",
      "following_url": "https://api.github.com/users/ivanzhelyazkov/following{/other_user}",
      "gists_url": "https://api.github.com/users/ivanzhelyazkov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ivanzhelyazkov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ivanzhelyazkov/subscriptions",
      "organizations_url": "https://api.github.com/users/ivanzhelyazkov/orgs",
      "repos_url": "https://api.github.com/users/ivanzhelyazkov/repos",
      "events_url": "https://api.github.com/users/ivanzhelyazkov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ivanzhelyazkov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-10T13:10:36Z",
    "updated_at": "2021-09-10T13:10:36Z",
    "author_association": "NONE",
    "body": "After a bit more digging, turned out that the function really was reverted, but the error message was incorrect. \r\nError message should have been `\"SafeMath: multiplication overflow\"`",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/916892730/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/916896282",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1873#issuecomment-916896282",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1873",
    "id": 916896282,
    "node_id": "IC_kwDOB7jojM42proa",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-10T13:15:43Z",
    "updated_at": "2021-09-10T13:15:43Z",
    "author_association": "MEMBER",
    "body": "Oh, that's interesting. Is there a chance you can make a minimal example of that? It could be a bug in our tracer.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/916896282/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/916972627",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1873#issuecomment-916972627",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1873",
    "id": 916972627,
    "node_id": "IC_kwDOB7jojM42p-RT",
    "user": {
      "login": "ivanzhelyazkov",
      "id": 18243849,
      "node_id": "MDQ6VXNlcjE4MjQzODQ5",
      "avatar_url": "https://avatars.githubusercontent.com/u/18243849?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ivanzhelyazkov",
      "html_url": "https://github.com/ivanzhelyazkov",
      "followers_url": "https://api.github.com/users/ivanzhelyazkov/followers",
      "following_url": "https://api.github.com/users/ivanzhelyazkov/following{/other_user}",
      "gists_url": "https://api.github.com/users/ivanzhelyazkov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ivanzhelyazkov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ivanzhelyazkov/subscriptions",
      "organizations_url": "https://api.github.com/users/ivanzhelyazkov/orgs",
      "repos_url": "https://api.github.com/users/ivanzhelyazkov/repos",
      "events_url": "https://api.github.com/users/ivanzhelyazkov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ivanzhelyazkov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-10T15:02:25Z",
    "updated_at": "2021-09-10T15:02:34Z",
    "author_association": "NONE",
    "body": "Yeah, so basically you can do something like this:\r\n```\r\nfunction test() public view returns(uint256) {\r\n        require(msg.sender == 0x0000000000000000000000000000000000000000, \"Error\");\r\n        return 1;\r\n}\r\n```\r\n\r\nAnd call that function on the library to receive the error:\r\n`library was called directly`",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/916972627/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/917162464",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1873#issuecomment-917162464",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1873",
    "id": 917162464,
    "node_id": "IC_kwDOB7jojM42qsng",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-10T19:38:08Z",
    "updated_at": "2021-09-10T19:38:08Z",
    "author_association": "MEMBER",
    "body": "Thanks!",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/917162464/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/917274363",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1873#issuecomment-917274363",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1873",
    "id": 917274363,
    "node_id": "IC_kwDOB7jojM42rH77",
    "user": {
      "login": "alcuadrado",
      "id": 176499,
      "node_id": "MDQ6VXNlcjE3NjQ5OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/176499?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alcuadrado",
      "html_url": "https://github.com/alcuadrado",
      "followers_url": "https://api.github.com/users/alcuadrado/followers",
      "following_url": "https://api.github.com/users/alcuadrado/following{/other_user}",
      "gists_url": "https://api.github.com/users/alcuadrado/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alcuadrado/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alcuadrado/subscriptions",
      "organizations_url": "https://api.github.com/users/alcuadrado/orgs",
      "repos_url": "https://api.github.com/users/alcuadrado/repos",
      "events_url": "https://api.github.com/users/alcuadrado/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alcuadrado/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-10T23:24:20Z",
    "updated_at": "2021-09-10T23:24:20Z",
    "author_association": "MEMBER",
    "body": "Which compiler version are you using, @ivanzhelyazkov?",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/917274363/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/917618816",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1873#issuecomment-917618816",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1873",
    "id": 917618816,
    "node_id": "IC_kwDOB7jojM42scCA",
    "user": {
      "login": "ivanzhelyazkov",
      "id": 18243849,
      "node_id": "MDQ6VXNlcjE4MjQzODQ5",
      "avatar_url": "https://avatars.githubusercontent.com/u/18243849?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ivanzhelyazkov",
      "html_url": "https://github.com/ivanzhelyazkov",
      "followers_url": "https://api.github.com/users/ivanzhelyazkov/followers",
      "following_url": "https://api.github.com/users/ivanzhelyazkov/following{/other_user}",
      "gists_url": "https://api.github.com/users/ivanzhelyazkov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ivanzhelyazkov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ivanzhelyazkov/subscriptions",
      "organizations_url": "https://api.github.com/users/ivanzhelyazkov/orgs",
      "repos_url": "https://api.github.com/users/ivanzhelyazkov/repos",
      "events_url": "https://api.github.com/users/ivanzhelyazkov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ivanzhelyazkov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-12T11:38:26Z",
    "updated_at": "2021-09-12T11:38:26Z",
    "author_association": "NONE",
    "body": "> Which compiler version are you using, @ivanzhelyazkov?\r\n\r\n0.7.6, @alcuadrado ",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/917618816/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/968600863",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1873#issuecomment-968600863",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1873",
    "id": 968600863,
    "node_id": "IC_kwDOB7jojM45u60f",
    "user": {
      "login": "cj-clifton",
      "id": 19922693,
      "node_id": "MDQ6VXNlcjE5OTIyNjkz",
      "avatar_url": "https://avatars.githubusercontent.com/u/19922693?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cj-clifton",
      "html_url": "https://github.com/cj-clifton",
      "followers_url": "https://api.github.com/users/cj-clifton/followers",
      "following_url": "https://api.github.com/users/cj-clifton/following{/other_user}",
      "gists_url": "https://api.github.com/users/cj-clifton/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cj-clifton/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cj-clifton/subscriptions",
      "organizations_url": "https://api.github.com/users/cj-clifton/orgs",
      "repos_url": "https://api.github.com/users/cj-clifton/repos",
      "events_url": "https://api.github.com/users/cj-clifton/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cj-clifton/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-11-15T07:15:49Z",
    "updated_at": "2021-11-15T07:15:49Z",
    "author_association": "NONE",
    "body": "I'm also having this issue, but I haven't been able to work out the true reason for the revert.\r\n\r\nIs this only occuring for \"SafeMath: multiplication overflow\"?\r\n\r\nI\"m confident it's an incorrect trace because I can run other functions from the same library just fine.\r\n\r\nThanks!",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/968600863/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/992083352",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1873#issuecomment-992083352",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1873",
    "id": 992083352,
    "node_id": "IC_kwDOB7jojM47If2Y",
    "user": {
      "login": "big-dam",
      "id": 93643405,
      "node_id": "U_kgDOBZTijQ",
      "avatar_url": "https://avatars.githubusercontent.com/u/93643405?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/big-dam",
      "html_url": "https://github.com/big-dam",
      "followers_url": "https://api.github.com/users/big-dam/followers",
      "following_url": "https://api.github.com/users/big-dam/following{/other_user}",
      "gists_url": "https://api.github.com/users/big-dam/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/big-dam/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/big-dam/subscriptions",
      "organizations_url": "https://api.github.com/users/big-dam/orgs",
      "repos_url": "https://api.github.com/users/big-dam/repos",
      "events_url": "https://api.github.com/users/big-dam/events{/privacy}",
      "received_events_url": "https://api.github.com/users/big-dam/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-12-13T03:48:06Z",
    "updated_at": "2021-12-13T03:48:06Z",
    "author_association": "NONE",
    "body": "This error will also be reported when running test case on the local network.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/992083352/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1004323454",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1873#issuecomment-1004323454",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1873",
    "id": 1004323454,
    "node_id": "IC_kwDOB7jojM473MJ-",
    "user": {
      "login": "alcuadrado",
      "id": 176499,
      "node_id": "MDQ6VXNlcjE3NjQ5OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/176499?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alcuadrado",
      "html_url": "https://github.com/alcuadrado",
      "followers_url": "https://api.github.com/users/alcuadrado/followers",
      "following_url": "https://api.github.com/users/alcuadrado/following{/other_user}",
      "gists_url": "https://api.github.com/users/alcuadrado/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alcuadrado/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alcuadrado/subscriptions",
      "organizations_url": "https://api.github.com/users/alcuadrado/orgs",
      "repos_url": "https://api.github.com/users/alcuadrado/repos",
      "events_url": "https://api.github.com/users/alcuadrado/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alcuadrado/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-03T20:01:39Z",
    "updated_at": "2022-01-03T20:01:39Z",
    "author_association": "MEMBER",
    "body": "Can you provide a reproduction repository? Thanks!",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1004323454/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1054094435",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1873#issuecomment-1054094435",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1873",
    "id": 1054094435,
    "node_id": "IC_kwDOB7jojM4-1DRj",
    "user": {
      "login": "0xdomrom",
      "id": 11264336,
      "node_id": "MDQ6VXNlcjExMjY0MzM2",
      "avatar_url": "https://avatars.githubusercontent.com/u/11264336?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/0xdomrom",
      "html_url": "https://github.com/0xdomrom",
      "followers_url": "https://api.github.com/users/0xdomrom/followers",
      "following_url": "https://api.github.com/users/0xdomrom/following{/other_user}",
      "gists_url": "https://api.github.com/users/0xdomrom/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/0xdomrom/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/0xdomrom/subscriptions",
      "organizations_url": "https://api.github.com/users/0xdomrom/orgs",
      "repos_url": "https://api.github.com/users/0xdomrom/repos",
      "events_url": "https://api.github.com/users/0xdomrom/events{/privacy}",
      "received_events_url": "https://api.github.com/users/0xdomrom/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-28T10:10:54Z",
    "updated_at": "2022-02-28T10:11:03Z",
    "author_association": "NONE",
    "body": "Just ran into this issue recently, any update on a fix or any workaround?",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1054094435/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1075797741",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1873#issuecomment-1075797741",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1873",
    "id": 1075797741,
    "node_id": "IC_kwDOB7jojM5AH17t",
    "user": {
      "login": "sporejack",
      "id": 72908791,
      "node_id": "MDQ6VXNlcjcyOTA4Nzkx",
      "avatar_url": "https://avatars.githubusercontent.com/u/72908791?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sporejack",
      "html_url": "https://github.com/sporejack",
      "followers_url": "https://api.github.com/users/sporejack/followers",
      "following_url": "https://api.github.com/users/sporejack/following{/other_user}",
      "gists_url": "https://api.github.com/users/sporejack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sporejack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sporejack/subscriptions",
      "organizations_url": "https://api.github.com/users/sporejack/orgs",
      "repos_url": "https://api.github.com/users/sporejack/repos",
      "events_url": "https://api.github.com/users/sporejack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sporejack/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-03-23T00:56:03Z",
    "updated_at": "2022-03-23T00:56:03Z",
    "author_association": "NONE",
    "body": "I'm experiencing this locally with a `pure` function in a library also. I'm attempting to write tests for the following function:\r\n\r\n```solidity\r\nfunction push(RingBuffer calldata buf, int256 x) public pure returns (RingBuffer memory) {\r\n    int256[] memory ys = buf.xs;\r\n\r\n    if (buf.write == buf.n) {\r\n        ys[0] = x;\r\n        return RingBuffer(ys, buf.n, 1, buf.read);\r\n    } else {\r\n        ys[buf.write] = x;\r\n        return RingBuffer(ys, buf.n, buf.write + 1, buf.read);\r\n    }\r\n}\r\n```\r\n\r\nIn the test suite:\r\n\r\n```typescript\r\n/* ... */\r\n\r\nconst actualBuffer = await library.push(initialBuffer, someElem)\r\n\r\n/* ... */\r\n```\r\nThis errors with:\r\n\r\n```\r\n     Error: Transaction reverted: library was called directly\r\n      at PoolSwapLibrary.<unknown> (contracts/implementation/PoolSwapLibrary.sol:7)\r\n      at processTicksAndRejections (internal/process/task_queues.js:97:5)\r\n      at runNextTicks (internal/process/task_queues.js:66:3)\r\n      at listOnTimeout (internal/timers.js:518:9)\r\n      at processTimers (internal/timers.js:492:7)\r\n      at async HardhatNode.runCall (node_modules/hardhat/src/internal/hardhat-network/provider/node.ts:510:20)\r\n      at async EthModule._callAction (node_modules/hardhat/src/internal/hardhat-network/provider/modules/eth.ts:353:9)\r\n      at async HardhatNetworkProvider.request (node_modules/hardhat/src/internal/hardhat-network/provider/provider.ts:106:18)\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1075797741/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1103716067",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1873#issuecomment-1103716067",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1873",
    "id": 1103716067,
    "node_id": "IC_kwDOB7jojM5ByV7j",
    "user": {
      "login": "ClementWalter",
      "id": 18620296,
      "node_id": "MDQ6VXNlcjE4NjIwMjk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/18620296?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ClementWalter",
      "html_url": "https://github.com/ClementWalter",
      "followers_url": "https://api.github.com/users/ClementWalter/followers",
      "following_url": "https://api.github.com/users/ClementWalter/following{/other_user}",
      "gists_url": "https://api.github.com/users/ClementWalter/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ClementWalter/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ClementWalter/subscriptions",
      "organizations_url": "https://api.github.com/users/ClementWalter/orgs",
      "repos_url": "https://api.github.com/users/ClementWalter/repos",
      "events_url": "https://api.github.com/users/ClementWalter/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ClementWalter/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-04-20T09:42:58Z",
    "updated_at": "2022-04-20T09:42:58Z",
    "author_association": "NONE",
    "body": "@sporejack see the above mentioned issue for calling library's pure functions using struct",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1103716067/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1194131097",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1873#issuecomment-1194131097",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1873",
    "id": 1194131097,
    "node_id": "IC_kwDOB7jojM5HLP6Z",
    "user": {
      "login": "github-actions[bot]",
      "id": 41898282,
      "node_id": "MDM6Qm90NDE4OTgyODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/github-actions%5Bbot%5D",
      "html_url": "https://github.com/apps/github-actions",
      "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2022-07-25T14:33:38Z",
    "updated_at": "2022-07-25T14:33:38Z",
    "author_association": "CONTRIBUTOR",
    "body": "This issue was marked as stale because it didn't have any activity in the last 30 days. If you think it's still relevant, please leave a comment indicating so. Otherwise, it will be closed in 7 days.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1194131097/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1201287973",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1873#issuecomment-1201287973",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1873",
    "id": 1201287973,
    "node_id": "IC_kwDOB7jojM5HmjMl",
    "user": {
      "login": "github-actions[bot]",
      "id": 41898282,
      "node_id": "MDM6Qm90NDE4OTgyODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/github-actions%5Bbot%5D",
      "html_url": "https://github.com/apps/github-actions",
      "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2022-08-01T14:33:56Z",
    "updated_at": "2022-08-01T14:33:56Z",
    "author_association": "CONTRIBUTOR",
    "body": "This issue was closed because it has been stalled for 7 days with no activity.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1201287973/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1214263455",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1873#issuecomment-1214263455",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1873",
    "id": 1214263455,
    "node_id": "IC_kwDOB7jojM5IYDCf",
    "user": {
      "login": "devinaconley",
      "id": 15223693,
      "node_id": "MDQ6VXNlcjE1MjIzNjkz",
      "avatar_url": "https://avatars.githubusercontent.com/u/15223693?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/devinaconley",
      "html_url": "https://github.com/devinaconley",
      "followers_url": "https://api.github.com/users/devinaconley/followers",
      "following_url": "https://api.github.com/users/devinaconley/following{/other_user}",
      "gists_url": "https://api.github.com/users/devinaconley/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/devinaconley/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/devinaconley/subscriptions",
      "organizations_url": "https://api.github.com/users/devinaconley/orgs",
      "repos_url": "https://api.github.com/users/devinaconley/repos",
      "events_url": "https://api.github.com/users/devinaconley/events{/privacy}",
      "received_events_url": "https://api.github.com/users/devinaconley/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-14T01:41:38Z",
    "updated_at": "2022-08-14T01:41:38Z",
    "author_association": "NONE",
    "body": "Hey folks, any additional info on this one? I'm running into the same issue while converting an existing test suite over to hardhat\r\n\r\nWe are checking for expected reverts from the library methods, but instead seeing `Transaction reverted: library was called directly`\r\n\r\nAll valid calls (to the same methods) are working fine.\r\n\r\nFor example intentionally triggering this revert\r\n```solidity\r\n    function userShareSeconds(\r\n        address module,\r\n        address addr,\r\n        uint256 shares\r\n    ) public view returns (uint256, uint256) {\r\n        require(shares > 0, \"crmi1\");\r\n        ...\r\n```\r\n\r\nyields the following error\r\n```\r\nWrong kind of exception received\r\n+ expected - actual\r\n\r\n-Transaction reverted: library was called directly\r\n+crmi1\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1214263455/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1226045652",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1873#issuecomment-1226045652",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1873",
    "id": 1226045652,
    "node_id": "IC_kwDOB7jojM5JE_jU",
    "user": {
      "login": "devinaconley",
      "id": 15223693,
      "node_id": "MDQ6VXNlcjE1MjIzNjkz",
      "avatar_url": "https://avatars.githubusercontent.com/u/15223693?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/devinaconley",
      "html_url": "https://github.com/devinaconley",
      "followers_url": "https://api.github.com/users/devinaconley/followers",
      "following_url": "https://api.github.com/users/devinaconley/following{/other_user}",
      "gists_url": "https://api.github.com/users/devinaconley/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/devinaconley/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/devinaconley/subscriptions",
      "organizations_url": "https://api.github.com/users/devinaconley/orgs",
      "repos_url": "https://api.github.com/users/devinaconley/repos",
      "events_url": "https://api.github.com/users/devinaconley/events{/privacy}",
      "received_events_url": "https://api.github.com/users/devinaconley/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-24T17:47:35Z",
    "updated_at": "2022-08-24T17:47:35Z",
    "author_association": "NONE",
    "body": "Hi @fvictorio @alcuadrado @ivanzhelyazkov has anyone found a solution for this? Currently my workaround is to just expect a generic revert",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1226045652/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1565018221",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1873#issuecomment-1565018221",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1873",
    "id": 1565018221,
    "node_id": "IC_kwDOB7jojM5dSEht",
    "user": {
      "login": "hiroshitash",
      "id": 1159921,
      "node_id": "MDQ6VXNlcjExNTk5MjE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1159921?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hiroshitash",
      "html_url": "https://github.com/hiroshitash",
      "followers_url": "https://api.github.com/users/hiroshitash/followers",
      "following_url": "https://api.github.com/users/hiroshitash/following{/other_user}",
      "gists_url": "https://api.github.com/users/hiroshitash/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hiroshitash/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hiroshitash/subscriptions",
      "organizations_url": "https://api.github.com/users/hiroshitash/orgs",
      "repos_url": "https://api.github.com/users/hiroshitash/repos",
      "events_url": "https://api.github.com/users/hiroshitash/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hiroshitash/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-26T22:15:28Z",
    "updated_at": "2023-05-26T22:15:28Z",
    "author_association": "NONE",
    "body": "I tried to reproduce this error with the suggestion from @ivanzhelyazkov at https://github.com/hiroshitash/hardhat-inferred-error, but I wasn't able to.\r\n\r\nInstead, I receive the following error, which seems correct.\r\n```\r\n% npx hardhat run --network localhost scripts/deploy.js\r\nCompiled 2 Solidity files successfully\r\nError: call revert exception; VM Exception while processing transaction: reverted with reason string \"\" [ See: https://links.ethers.org/v5-errors-CALL_EXCEPTION ] (method=\"test()\", data=\"0x08c379a000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000000\", errorArgs=[\"\"], errorName=\"Error\", errorSignature=\"Error(string)\", reason=\"\", code=CALL_EXCEPTION, version=abi/5.7.0)\r\n    at Logger.makeError (/Users/hirotashiro/hardhat-inferred-error/node_modules/@ethersproject/logger/src.ts/index.ts:269:28)\r\n    at Logger.throwError (/Users/hirotashiro/hardhat-inferred-error/node_modules/@ethersproject/logger/src.ts/index.ts:281:20)\r\n    at Interface.decodeFunctionResult (/Users/hirotashiro/hardhat-inferred-error/node_modules/@ethersproject/abi/src.ts/interface.ts:427:23)\r\n    at Contract.<anonymous> (/Users/hirotashiro/hardhat-inferred-error/node_modules/@ethersproject/contracts/src.ts/index.ts:400:44)\r\n    at step (/Users/hirotashiro/hardhat-inferred-error/node_modules/@ethersproject/contracts/lib/index.js:48:23)\r\n    at Object.next (/Users/hirotashiro/hardhat-inferred-error/node_modules/@ethersproject/contracts/lib/index.js:29:53)\r\n    at fulfilled (/Users/hirotashiro/hardhat-inferred-error/node_modules/@ethersproject/contracts/lib/index.js:20:58)\r\n    at processTicksAndRejections (internal/process/task_queues.js:95:5) {\r\n  reason: '',\r\n  code: 'CALL_EXCEPTION',\r\n  method: 'test()',\r\n  data: '0x08c379a000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000000',\r\n  errorArgs: [ '' ],\r\n  errorName: 'Error',\r\n  errorSignature: 'Error(string)',\r\n  address: '0xCf7Ed3AccA5a467e9e704C703E8D87F634fB0Fc9',\r\n  args: [],\r\n  transaction: {\r\n    data: '0xf8a8fd6d',\r\n    to: '0xCf7Ed3AccA5a467e9e704C703E8D87F634fB0Fc9',\r\n    from: '0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266'\r\n  }\r\n}\r\n```\r\n\r\nHardhat version tested is `2.14.0`\r\n```\r\n% npx hardhat --version\r\n2.14.0\r\n```\r\nCheck at [this._isDirectLibraryCall(trace)](https://github.com/NomicFoundation/hardhat/blob/55a6a1c2f8022b846e60e37ace2519531bba0813/packages/hardhat-core/src/internal/hardhat-network/stack-traces/error-inferrer.ts#L66) looks suspicious, but it might be hard to reproduce without hardhat version and repo.\r\n\r\n_isDirectLibraryCall is defined [here](https://github.com/NomicFoundation/hardhat/blob/55a6a1c2f8022b846e60e37ace2519531bba0813/packages/hardhat-core/src/internal/hardhat-network/stack-traces/error-inferrer.ts#L752-L756).\r\n```\r\n  private _isDirectLibraryCall(trace: DecodedCallMessageTrace): boolean {\r\n    return (\r\n      trace.depth === 0 && trace.bytecode.contract.type === ContractType.LIBRARY\r\n    );\r\n  }\r\n```\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1565018221/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1581055996",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1873#issuecomment-1581055996",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1873",
    "id": 1581055996,
    "node_id": "IC_kwDOB7jojM5ePP_8",
    "user": {
      "login": "devinaconley",
      "id": 15223693,
      "node_id": "MDQ6VXNlcjE1MjIzNjkz",
      "avatar_url": "https://avatars.githubusercontent.com/u/15223693?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/devinaconley",
      "html_url": "https://github.com/devinaconley",
      "followers_url": "https://api.github.com/users/devinaconley/followers",
      "following_url": "https://api.github.com/users/devinaconley/following{/other_user}",
      "gists_url": "https://api.github.com/users/devinaconley/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/devinaconley/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/devinaconley/subscriptions",
      "organizations_url": "https://api.github.com/users/devinaconley/orgs",
      "repos_url": "https://api.github.com/users/devinaconley/repos",
      "events_url": "https://api.github.com/users/devinaconley/events{/privacy}",
      "received_events_url": "https://api.github.com/users/devinaconley/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-07T15:24:42Z",
    "updated_at": "2023-06-07T15:24:42Z",
    "author_association": "NONE",
    "body": "Hey @hiroshitash thanks for the response. Here's an example that might be useful in reproducing the issue\r\nhttps://github.com/gysr-io/core/blob/614dfffb97cb136190594849c50b29766341f3cd/test/unit/erc20competitiverewardmoduleinfo.js#L127-L137",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1581055996/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
