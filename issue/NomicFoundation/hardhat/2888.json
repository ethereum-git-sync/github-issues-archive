{
  "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2888",
  "repository_url": "https://api.github.com/repos/NomicFoundation/hardhat",
  "labels_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2888/labels{/name}",
  "comments_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2888/comments",
  "events_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2888/events",
  "html_url": "https://github.com/NomicFoundation/hardhat/issues/2888",
  "id": 1292294191,
  "node_id": "I_kwDOB7jojM5NBtgv",
  "number": 2888,
  "title": "Feature: Deno support",
  "user": {
    "login": "sambacha",
    "id": 32783916,
    "node_id": "MDQ6VXNlcjMyNzgzOTE2",
    "avatar_url": "https://avatars.githubusercontent.com/u/32783916?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/sambacha",
    "html_url": "https://github.com/sambacha",
    "followers_url": "https://api.github.com/users/sambacha/followers",
    "following_url": "https://api.github.com/users/sambacha/following{/other_user}",
    "gists_url": "https://api.github.com/users/sambacha/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/sambacha/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/sambacha/subscriptions",
    "organizations_url": "https://api.github.com/users/sambacha/orgs",
    "repos_url": "https://api.github.com/users/sambacha/repos",
    "events_url": "https://api.github.com/users/sambacha/events{/privacy}",
    "received_events_url": "https://api.github.com/users/sambacha/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 947230177,
      "node_id": "MDU6TGFiZWw5NDcyMzAxNzc=",
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/labels/status:blocked",
      "name": "status:blocked",
      "color": "0E8A16",
      "default": false,
      "description": "Blocked by other issues or external reasons"
    },
    {
      "id": 2485221598,
      "node_id": "MDU6TGFiZWwyNDg1MjIxNTk4",
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/labels/blocked-reason:breaking-change",
      "name": "blocked-reason:breaking-change",
      "color": "B60205",
      "default": false,
      "description": "This is a breaking change that can only be done in a major release"
    },
    {
      "id": 4825236765,
      "node_id": "LA_kwDOB7jojM8AAAABH5tFHQ",
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/labels/type:epic",
      "name": "type:epic",
      "color": "FBCA04",
      "default": false,
      "description": "A bigger effort that involves multiple issues and PRs"
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2022-07-03T12:28:36Z",
  "updated_at": "2023-02-12T05:19:23Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "I am guessing v3 of Hardhat is being planned. With that said It may be benifical to give Deno a serious consideration. \r\n\r\n###  Native web worker support \r\n[see this issue about NodeJs having web worker support](https://github.com/nodejs/node/issues/43583)\r\n\r\n### sane FFI [see https://deno.land/manual/runtime/ffi_api](https://deno.land/manual/runtime/ffi_api)\r\n- If Hardhat is going to adopt a Rust based EVM solution this would be easier I would imagine than working with Nodejs as is\r\n\r\n### X-Typescript-Types\r\nHRE could adopt providing responses  with a custom X-TypeScript-Types HTTP header when the types (.d.ts) is defined. This is useful for deno type checks ([link](https://deno.land/manual/typescript/types#using-x-typescript-types-header)).\r\n\r\n![](https://esm.sh/embed/assets/sceenshot-deno-types.png)\r\n\r\n>**Note**\r\n> The idea being that as `solc` supports imports via URL, there may be use cases in having type checking work like that (am unsure of this just an idea). This would be for browsers \r\n\r\n> Example (Browser): pass the ?no-check query to disable the X-TypeScript-Types header if some types are incorrect:\r\n\r\n\r\n```typescript\r\nimport SafeTransferLib from \"https://abi.storage/rari-capital/solmate@0.7.0/~/SafeTransferLib?no-check\"\r\n```\r\n> [see esm.sh/](https://esm.sh/)\r\n\r\n### Possibility for Interoperable packages \r\n\r\nAll required remote dependencies are referenced in a file called `deps.ts` and the required methods and classes are re-exported. The dependent local modules then reference the deps.ts rather than the remote dependencies. If now for example one remote dependency is used in several files, upgrading to a new version of this remote dependency is much simpler as this can be done just within deps.ts.\r\n\r\n```typescript\r\n/**\r\n * deps.ts\r\n *\r\n * This module re-exports the required methods from the dependant remote module.\r\n */\r\n export { SafeTransferLib } from \"https://x.nest.land/ramda@0.7.0/source/index.js?pin=0x0000DeployedAddress\r\n```\r\n\r\n[see https://deno.land/manual/examples/manage_dependencies](https://deno.land/manual/examples/manage_dependencies)\r\n\r\n### Maintain NodeJS Compatibility easily with `dnt` \r\n\r\nDeno to NodeJs [`dnt`](https://deno.land/manual/node/dnt) allows you to develop your Deno module mostly as-is and use a single Deno script to build, type check, and test an npm package in an output directory. Once built, you only need to npm publish the output directory to distribute it to Node.js users.\r\n\r\n\r\n### WebAssembly and Rust \r\n\r\nThe old bottleneck for web performance used to be the network. But the new bottleneck for web performance is the CPU, and particularly the main thread. Packets go brrrrrrrr. Really though moving towards decoding wasm vs parsing javascript is where we want to be heading right? \r\n\r\n\r\nDon't listen to any of this, I  just wanted to hear yall's thoughts on the idea, I did not find an issue with respect to the scope of this topic.\r\n\r\nCheers, and happy July 4th!",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2888/reactions",
    "total_count": 1,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 1,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2888/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1173074016",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2888#issuecomment-1173074016",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2888",
    "id": 1173074016,
    "node_id": "IC_kwDOB7jojM5F67Bg",
    "user": {
      "login": "github-actions[bot]",
      "id": 41898282,
      "node_id": "MDM6Qm90NDE4OTgyODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/github-actions%5Bbot%5D",
      "html_url": "https://github.com/apps/github-actions",
      "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2022-07-03T12:28:58Z",
    "updated_at": "2022-07-03T12:28:58Z",
    "author_association": "CONTRIBUTOR",
    "body": "This issue is also being [tracked on Linear](https://linear.app/nomic-foundation/issue/HH-894/feature-deno-support-[nomicfoundationhardhat2888]).\n\nWe use Linear to manage our development process, but we keep the conversations on Github.\n\nLINEAR-ID: d090669b-9ce7-4068-97dd-943e747a5912",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1173074016/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1180734404",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2888#issuecomment-1180734404",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2888",
    "id": 1180734404,
    "node_id": "IC_kwDOB7jojM5GYJPE",
    "user": {
      "login": "alcuadrado",
      "id": 176499,
      "node_id": "MDQ6VXNlcjE3NjQ5OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/176499?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alcuadrado",
      "html_url": "https://github.com/alcuadrado",
      "followers_url": "https://api.github.com/users/alcuadrado/followers",
      "following_url": "https://api.github.com/users/alcuadrado/following{/other_user}",
      "gists_url": "https://api.github.com/users/alcuadrado/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alcuadrado/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alcuadrado/subscriptions",
      "organizations_url": "https://api.github.com/users/alcuadrado/orgs",
      "repos_url": "https://api.github.com/users/alcuadrado/repos",
      "events_url": "https://api.github.com/users/alcuadrado/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alcuadrado/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-11T18:33:21Z",
    "updated_at": "2022-07-11T18:33:21Z",
    "author_association": "MEMBER",
    "body": "Hey @sambacha,\r\n\r\nThanks for this and the other issues/PRs that you opened. Now that 2.10 is out will evaluate all of them.\r\n\r\nI follow the deno ecosystem a bit, and I'm impressed with its progress. I haven't thought about how packages can work both in deno and node, but thanks for the pointer.\r\n\r\nCurrently, Hardhat heavily depends on some node specific behavior. The major examples are the plugin system depending on how modules are loaded and cached, and Solidity dependencies on node's resolution algorithm. We consider both to be somewhat undesirable and we want to change them. If in the process we can make HH compatible with deno, that'd be great.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1180734404/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1180753422",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2888#issuecomment-1180753422",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2888",
    "id": 1180753422,
    "node_id": "IC_kwDOB7jojM5GYN4O",
    "user": {
      "login": "sambacha",
      "id": 32783916,
      "node_id": "MDQ6VXNlcjMyNzgzOTE2",
      "avatar_url": "https://avatars.githubusercontent.com/u/32783916?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sambacha",
      "html_url": "https://github.com/sambacha",
      "followers_url": "https://api.github.com/users/sambacha/followers",
      "following_url": "https://api.github.com/users/sambacha/following{/other_user}",
      "gists_url": "https://api.github.com/users/sambacha/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sambacha/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sambacha/subscriptions",
      "organizations_url": "https://api.github.com/users/sambacha/orgs",
      "repos_url": "https://api.github.com/users/sambacha/repos",
      "events_url": "https://api.github.com/users/sambacha/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sambacha/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-11T18:55:29Z",
    "updated_at": "2022-07-11T18:55:29Z",
    "author_association": "NONE",
    "body": "> Hey @sambacha,\n> \n> \n> \n> Thanks for this and the other issues/PRs that you opened. Now that 2.10 is out will evaluate all of them.\n> \n> \n> \n> I follow the deno ecosystem a bit, and I'm impressed with its progress. I haven't thought about how packages can work both in deno and node, but thanks for the pointer.\n> \n> \n> \n> Currently, Hardhat heavily depends on some node specific behavior. The major examples are the plugin system depending on how modules are loaded and cached, and Solidity dependencies on node's resolution algorithm. We consider both to be somewhat undesirable and we want to change them. If in the process we can make HH compatible with deno, that'd be great.\n\nYup, I think actually adopting a new cache system would be the biggest boost given the benchmarks I have seen. The Deno stuff as you pointed out is not worth the squeeze. \n\nNow that EthereumJs is ESM compatible, maybe some potential avenues there. \n\nCongrats on the new release btw! ",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1180753422/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1426946011",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2888#issuecomment-1426946011",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2888",
    "id": 1426946011,
    "node_id": "IC_kwDOB7jojM5VDXfb",
    "user": {
      "login": "stavalfi",
      "id": 12954665,
      "node_id": "MDQ6VXNlcjEyOTU0NjY1",
      "avatar_url": "https://avatars.githubusercontent.com/u/12954665?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stavalfi",
      "html_url": "https://github.com/stavalfi",
      "followers_url": "https://api.github.com/users/stavalfi/followers",
      "following_url": "https://api.github.com/users/stavalfi/following{/other_user}",
      "gists_url": "https://api.github.com/users/stavalfi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stavalfi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stavalfi/subscriptions",
      "organizations_url": "https://api.github.com/users/stavalfi/orgs",
      "repos_url": "https://api.github.com/users/stavalfi/repos",
      "events_url": "https://api.github.com/users/stavalfi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stavalfi/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-12T05:19:23Z",
    "updated_at": "2023-02-12T05:19:23Z",
    "author_association": "NONE",
    "body": "The community asks for it!",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1426946011/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
