{
  "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/4222",
  "repository_url": "https://api.github.com/repos/NomicFoundation/hardhat",
  "labels_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/4222/labels{/name}",
  "comments_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/4222/comments",
  "events_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/4222/events",
  "html_url": "https://github.com/NomicFoundation/hardhat/issues/4222",
  "id": 1831283204,
  "node_id": "I_kwDOB7jojM5tJyoE",
  "number": 4222,
  "title": "Tests hanging when running on live networks",
  "user": {
    "login": "sebastiantf",
    "id": 36922376,
    "node_id": "MDQ6VXNlcjM2OTIyMzc2",
    "avatar_url": "https://avatars.githubusercontent.com/u/36922376?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/sebastiantf",
    "html_url": "https://github.com/sebastiantf",
    "followers_url": "https://api.github.com/users/sebastiantf/followers",
    "following_url": "https://api.github.com/users/sebastiantf/following{/other_user}",
    "gists_url": "https://api.github.com/users/sebastiantf/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/sebastiantf/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/sebastiantf/subscriptions",
    "organizations_url": "https://api.github.com/users/sebastiantf/orgs",
    "repos_url": "https://api.github.com/users/sebastiantf/repos",
    "events_url": "https://api.github.com/users/sebastiantf/events{/privacy}",
    "received_events_url": "https://api.github.com/users/sebastiantf/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 2474207618,
      "node_id": "MDU6TGFiZWwyNDc0MjA3NjE4",
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/labels/status:needs-more-info",
      "name": "status:needs-more-info",
      "color": "0E8A16",
      "default": false,
      "description": "There's not enough information to start working on this issue"
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2023-08-01T13:24:52Z",
  "updated_at": "2023-08-01T18:17:45Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "### Version of Hardhat\n\n2.14.0\n\n### What happened?\n\nWhen running existing test suites that run fine on local networks, on live networks like goerli, arbitrum goerli, etc. the tests do not exit as soon as all lines of code are executed. It just hangs for a long time making the test suite unnecessarily slow. But all the test setups and assertions are running fine and fast, only the test just wont exit\n\n### Minimal reproduction steps\n\nRun a test suite that involves deploying new contracts, executing transactions and performing assertions, on a live network like goerli, arbitrum goerli, etc.\n\n### Search terms\n\ntest, hang, exit, live network, testnet",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/4222/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/4222/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1660345128",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/4222#issuecomment-1660345128",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/4222",
    "id": 1660345128,
    "node_id": "IC_kwDOB7jojM5i9tso",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-08-01T13:36:01Z",
    "updated_at": "2023-08-01T13:36:01Z",
    "author_association": "MEMBER",
    "body": "@sebastiantf can you tell us if this happen with the latest versions of whatever plugins you are using?\r\n\r\nI'm pretty sure running the sample project tests in a live network works fine, but I might be wrong. If the sample project with the latest dependencies indeed works, then we'll need a proper reproduction repo to be able to look into this.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1660345128/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1660754496",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/4222#issuecomment-1660754496",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/4222",
    "id": 1660754496,
    "node_id": "IC_kwDOB7jojM5i_RpA",
    "user": {
      "login": "sebastiantf",
      "id": 36922376,
      "node_id": "MDQ6VXNlcjM2OTIyMzc2",
      "avatar_url": "https://avatars.githubusercontent.com/u/36922376?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sebastiantf",
      "html_url": "https://github.com/sebastiantf",
      "followers_url": "https://api.github.com/users/sebastiantf/followers",
      "following_url": "https://api.github.com/users/sebastiantf/following{/other_user}",
      "gists_url": "https://api.github.com/users/sebastiantf/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sebastiantf/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sebastiantf/subscriptions",
      "organizations_url": "https://api.github.com/users/sebastiantf/orgs",
      "repos_url": "https://api.github.com/users/sebastiantf/repos",
      "events_url": "https://api.github.com/users/sebastiantf/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sebastiantf/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-08-01T17:06:35Z",
    "updated_at": "2023-08-01T17:06:35Z",
    "author_association": "NONE",
    "body": "I tried running the test suite coming with the sample project with the latest hardhat 2.17.0. And its not hanging on arbitrum goerli, unlike what I'm seeing on my project which is taking a lot of time for the test to exit even after finishing everything",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1660754496/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1660830780",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/4222#issuecomment-1660830780",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/4222",
    "id": 1660830780,
    "node_id": "IC_kwDOB7jojM5i_kQ8",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-08-01T18:02:24Z",
    "updated_at": "2023-08-01T18:02:24Z",
    "author_association": "MEMBER",
    "body": "In that case we'll need some way to reproduce it, sorry. If your project is public we can take a look.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1660830780/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1660834700",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/4222#issuecomment-1660834700",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/4222",
    "id": 1660834700,
    "node_id": "IC_kwDOB7jojM5i_lOM",
    "user": {
      "login": "sebastiantf",
      "id": 36922376,
      "node_id": "MDQ6VXNlcjM2OTIyMzc2",
      "avatar_url": "https://avatars.githubusercontent.com/u/36922376?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sebastiantf",
      "html_url": "https://github.com/sebastiantf",
      "followers_url": "https://api.github.com/users/sebastiantf/followers",
      "following_url": "https://api.github.com/users/sebastiantf/following{/other_user}",
      "gists_url": "https://api.github.com/users/sebastiantf/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sebastiantf/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sebastiantf/subscriptions",
      "organizations_url": "https://api.github.com/users/sebastiantf/orgs",
      "repos_url": "https://api.github.com/users/sebastiantf/repos",
      "events_url": "https://api.github.com/users/sebastiantf/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sebastiantf/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-08-01T18:05:18Z",
    "updated_at": "2023-08-01T18:05:18Z",
    "author_association": "NONE",
    "body": "Its in a private monorepo ðŸ˜•. I'll try upgrading the deps",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1660834700/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
