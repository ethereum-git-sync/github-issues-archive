{
  "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1164",
  "repository_url": "https://api.github.com/repos/NomicFoundation/hardhat",
  "labels_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1164/labels{/name}",
  "comments_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1164/comments",
  "events_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1164/events",
  "html_url": "https://github.com/NomicFoundation/hardhat/issues/1164",
  "id": 781691806,
  "node_id": "MDU6SXNzdWU3ODE2OTE4MDY=",
  "number": 1164,
  "title": "fork should allow to specify a network name instead of url",
  "user": {
    "login": "wighawag",
    "id": 790580,
    "node_id": "MDQ6VXNlcjc5MDU4MA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/790580?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/wighawag",
    "html_url": "https://github.com/wighawag",
    "followers_url": "https://api.github.com/users/wighawag/followers",
    "following_url": "https://api.github.com/users/wighawag/following{/other_user}",
    "gists_url": "https://api.github.com/users/wighawag/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/wighawag/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/wighawag/subscriptions",
    "organizations_url": "https://api.github.com/users/wighawag/orgs",
    "repos_url": "https://api.github.com/users/wighawag/repos",
    "events_url": "https://api.github.com/users/wighawag/events{/privacy}",
    "received_events_url": "https://api.github.com/users/wighawag/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 947232611,
      "node_id": "MDU6TGFiZWw5NDcyMzI2MTE=",
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/labels/type:feature",
      "name": "type:feature",
      "color": "FBCA04",
      "default": false,
      "description": "Feature request"
    },
    {
      "id": 4937720577,
      "node_id": "LA_kwDOB7jojM8AAAABJk-jAQ",
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/labels/status:ready",
      "name": "status:ready",
      "color": "0E8A16",
      "default": false,
      "description": "This issue is ready to be worked on"
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2021-01-07T23:10:39Z",
  "updated_at": "2023-01-03T09:17:15Z",
  "closed_at": null,
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "The forking feature requires you to specify a url and while it works it prevent plugin that add context to a network (like named accounts and deployments in hardhat-deploy) when fork is enabled. \r\nIndeed when fork is running there is no information about the network\r\n\r\nIf the fork config would have a network field (instead of url). that field would be used by hardhat to get the url from the corresponding network.\r\n\r\nThen hardhat could expose a runtime environemnet like `hre.forkedNetwork` that plugin could read to reconstruct the context for that particular network\r\n\r\n\r\nWithout this plugin like hardhat require the user to specify the network the fork is from. duplicating an information that could be easily available",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1164/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1164/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/767778036",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1164#issuecomment-767778036",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1164",
    "id": 767778036,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2Nzc3ODAzNg==",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-26T19:34:48Z",
    "updated_at": "2021-01-26T19:34:48Z",
    "author_association": "MEMBER",
    "body": "Not sure I understand this. You want a way to check in runtime if the current network is a fork?",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/767778036/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/767816210",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1164#issuecomment-767816210",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1164",
    "id": 767816210,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2NzgxNjIxMA==",
    "user": {
      "login": "wighawag",
      "id": 790580,
      "node_id": "MDQ6VXNlcjc5MDU4MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/790580?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wighawag",
      "html_url": "https://github.com/wighawag",
      "followers_url": "https://api.github.com/users/wighawag/followers",
      "following_url": "https://api.github.com/users/wighawag/following{/other_user}",
      "gists_url": "https://api.github.com/users/wighawag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wighawag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wighawag/subscriptions",
      "organizations_url": "https://api.github.com/users/wighawag/orgs",
      "repos_url": "https://api.github.com/users/wighawag/repos",
      "events_url": "https://api.github.com/users/wighawag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wighawag/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-26T20:44:31Z",
    "updated_at": "2021-01-26T20:44:31Z",
    "author_association": "CONTRIBUTOR",
    "body": "Basically instead of \r\n\r\n```js\r\n{\r\n...\r\n networks: {\r\n    hardhat: {\r\n      forking: {\r\n            url: \"<mainnet_url>\"\r\n          }\r\n    },\r\n    mainnet {\r\n      url: \"<mainnet_url>\",\r\n    }\r\n }\r\n}\r\n```\r\nit would simply be\r\n```js\r\n{\r\n...\r\n networks: {\r\n    hardhat: {\r\n      forking: {\r\n            network: \"mainnet\"\r\n          }\r\n    },\r\n    mainnet {\r\n      url: \"<mainnet_url>\",\r\n    }\r\n }\r\n}\r\n\r\n```\r\n \r\nThis remove the need to duplicate url, but more importantly it allows plugin (and hardhat) to consider the network config that could be specific or any other context added. For hardhat-deploy this include named accounts, but also deployments, etc....\r\nThese are specific to a network. not an url.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/767816210/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/767860762",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1164#issuecomment-767860762",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1164",
    "id": 767860762,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2Nzg2MDc2Mg==",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-26T22:10:58Z",
    "updated_at": "2021-01-26T22:10:58Z",
    "author_association": "MEMBER",
    "body": "Oh, I see now, thanks for the explanation!",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/767860762/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/833542774",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1164#issuecomment-833542774",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1164",
    "id": 833542774,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgzMzU0Mjc3NA==",
    "user": {
      "login": "wighawag",
      "id": 790580,
      "node_id": "MDQ6VXNlcjc5MDU4MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/790580?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wighawag",
      "html_url": "https://github.com/wighawag",
      "followers_url": "https://api.github.com/users/wighawag/followers",
      "following_url": "https://api.github.com/users/wighawag/following{/other_user}",
      "gists_url": "https://api.github.com/users/wighawag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wighawag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wighawag/subscriptions",
      "organizations_url": "https://api.github.com/users/wighawag/orgs",
      "repos_url": "https://api.github.com/users/wighawag/repos",
      "events_url": "https://api.github.com/users/wighawag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wighawag/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-05-06T13:54:31Z",
    "updated_at": "2021-05-06T13:54:49Z",
    "author_association": "CONTRIBUTOR",
    "body": "Any update on this ? This is really a shame that when things are executed on a fork, there is no information of the network it is forked from. it is always `hardhat`. There is often things you want to have configured differently based on the network.\r\n\r\nThe workaround for now is to add extra info via env variable (see https://github.com/wighawag/template-ethereum-contracts/blob/9ff1bccd2e2badc2deed0eca25877ada2cd52ee5/hardhat.config.ts), but it would be logical for hardhat to keep track of what network it is being forked from an use what is already there for that, the named network\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/833542774/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/836741763",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1164#issuecomment-836741763",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1164",
    "id": 836741763,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgzNjc0MTc2Mw==",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-05-10T14:03:58Z",
    "updated_at": "2021-05-10T14:03:58Z",
    "author_association": "MEMBER",
    "body": "Hey @wighawag, we are kind of overwhelmed with things to do right now. I still think this makes sense, even if there are workarounds (like using an env var to set the fork, and checking that env var in runtime), and it's probably not hard to implement, but the hardest part is to think about the best way to do this at a product/config level, and I'm not sure when we'll have time to do that :slightly_frowning_face: ",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/836741763/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
