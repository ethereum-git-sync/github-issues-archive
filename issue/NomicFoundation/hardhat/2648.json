{
  "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2648",
  "repository_url": "https://api.github.com/repos/NomicFoundation/hardhat",
  "labels_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2648/labels{/name}",
  "comments_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2648/comments",
  "events_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2648/events",
  "html_url": "https://github.com/NomicFoundation/hardhat/issues/2648",
  "id": 1217847539,
  "node_id": "I_kwDOB7jojM5IluDz",
  "number": 2648,
  "title": "Add \"files\" positional arguments to compile task",
  "user": {
    "login": "wuya666",
    "id": 30381159,
    "node_id": "MDQ6VXNlcjMwMzgxMTU5",
    "avatar_url": "https://avatars.githubusercontent.com/u/30381159?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/wuya666",
    "html_url": "https://github.com/wuya666",
    "followers_url": "https://api.github.com/users/wuya666/followers",
    "following_url": "https://api.github.com/users/wuya666/following{/other_user}",
    "gists_url": "https://api.github.com/users/wuya666/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/wuya666/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/wuya666/subscriptions",
    "organizations_url": "https://api.github.com/users/wuya666/orgs",
    "repos_url": "https://api.github.com/users/wuya666/repos",
    "events_url": "https://api.github.com/users/wuya666/events{/privacy}",
    "received_events_url": "https://api.github.com/users/wuya666/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 947232611,
      "node_id": "MDU6TGFiZWw5NDcyMzI2MTE=",
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/labels/type:feature",
      "name": "type:feature",
      "color": "FBCA04",
      "default": false,
      "description": "Feature request"
    },
    {
      "id": 4937720577,
      "node_id": "LA_kwDOB7jojM8AAAABJk-jAQ",
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/labels/status:ready",
      "name": "status:ready",
      "color": "0E8A16",
      "default": false,
      "description": "This issue is ready to be worked on"
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2022-04-27T20:26:25Z",
  "updated_at": "2023-01-03T09:16:49Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Unlike other built-in tasks like `test` and `flatten`, the `compile` task does not accept files as positional arguments to selectively compile certain solidity source files, which is very annoying for my current collaborative project where other members may leave some source files in non-compilable state. I tried to make a custom task to allow selective compilation, thinking it would be just a couple minutes' work, but end up spending hours on it as I found out the `TASK_COMPILE_SOLIDITY` subtask is kinda one big workflow that requires a lot of other internal functions not modularized into subtasks. Anyway I ended up with something like this to get the job done:\r\n\r\n[https://gist.github.com/wuya666/024893e4976246182fa29302a65ac005](https://gist.github.com/wuya666/024893e4976246182fa29302a65ac005)\r\n\r\nHowever itʻs something quite ugly IMO so I forked the repo and tried to modify the original `compile.ts` source file, and indeed itʻs quite simple and easy to add the \"files\" positional arguments with just less than a dozen lines of code:\r\n\r\n[https://github.com/wuya666/hardhat/blob/master/packages/hardhat-core/src/builtin-tasks/compile.ts](https://github.com/wuya666/hardhat/blob/master/packages/hardhat-core/src/builtin-tasks/compile.ts)\r\n\r\nNow Iʻm considering if I should create a PR for this change, but Iʻm wondering if thereʻs some good reason behind the decision to omit this kind of \"files\" arguments for the `compile` task? It has made working on the collaborative project much easier for me, but maybe thereʻs some underlying problem with this kind of \"files\" arguments to selectively compile specific source files that Hardhat has intentionally chosen to omit them?\r\n\r\nAnd if itʻs a bad thing to have the built-in `compile` task supporting selective compilation, maybe the `TASK_COMPILE_SOLIDITY` subtask could be further modularized so it would be easier to write oneʻs own custom task to support such functionalities when thereʻs such a need?",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2648/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2648/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1111448765",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2648#issuecomment-1111448765",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2648",
    "id": 1111448765,
    "node_id": "IC_kwDOB7jojM5CP1y9",
    "user": {
      "login": "github-actions[bot]",
      "id": 41898282,
      "node_id": "MDM6Qm90NDE4OTgyODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/github-actions%5Bbot%5D",
      "html_url": "https://github.com/apps/github-actions",
      "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2022-04-27T20:26:52Z",
    "updated_at": "2022-04-27T20:26:52Z",
    "author_association": "CONTRIBUTOR",
    "body": "This issue is also being [tracked on Linear](https://linear.app/nomic-foundation/issue/HH-586/add-files-positional-arguments-to-compile-task).\n\nWe use Linear to manage our development process, but we keep the conversations on Github.\n\nLINEAR-ID: 97edf3b9-9cc5-4eb6-8200-0d14a797dbf6",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1111448765/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1140015387",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2648#issuecomment-1140015387",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2648",
    "id": 1140015387,
    "node_id": "IC_kwDOB7jojM5D80Eb",
    "user": {
      "login": "github-actions[bot]",
      "id": 41898282,
      "node_id": "MDM6Qm90NDE4OTgyODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/github-actions%5Bbot%5D",
      "html_url": "https://github.com/apps/github-actions",
      "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2022-05-27T20:35:05Z",
    "updated_at": "2022-05-27T20:35:05Z",
    "author_association": "CONTRIBUTOR",
    "body": "This issue was marked as stale because it didn't have any activity in the last 30 days. If you think it's still relevant, please leave a comment indicating so. Otherwise, it will be closed in 7 days.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1140015387/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1147657604",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2648#issuecomment-1147657604",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2648",
    "id": 1147657604,
    "node_id": "IC_kwDOB7jojM5EZ92E",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-06T16:45:45Z",
    "updated_at": "2022-06-06T16:45:45Z",
    "author_association": "MEMBER",
    "body": "Hey @wuya666, thanks for opening this issue. I'm not sure about what's the best option here, but I'll discuss it with the team and get back to you.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1147657604/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1184163892",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2648#issuecomment-1184163892",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2648",
    "id": 1184163892,
    "node_id": "IC_kwDOB7jojM5GlOg0",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-14T08:38:37Z",
    "updated_at": "2022-07-14T08:38:37Z",
    "author_association": "MEMBER",
    "body": "Hi @wuya666, sorry for not getting back to you sooner. I think the way to go is to override a subtask. I added an example [here](https://github.com/fvictorio/hardhat-examples/tree/master/ignore-solidity-files) showing how you can do that.\r\n\r\nI'm going to keep this issue open as a feature request for having positional arguments in the compile task, but to be honest I'm not sure if we'll be able to work on that soon. Implementing this seems quite easy, the hard part is to figure out if it could bring unexpected problems (for example, related to how the compilation pipeline caches some stuff).",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1184163892/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
