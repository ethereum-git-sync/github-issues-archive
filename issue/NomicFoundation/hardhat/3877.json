{
  "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3877",
  "repository_url": "https://api.github.com/repos/NomicFoundation/hardhat",
  "labels_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3877/labels{/name}",
  "comments_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3877/comments",
  "events_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3877/events",
  "html_url": "https://github.com/NomicFoundation/hardhat/issues/3877",
  "id": 1681670213,
  "node_id": "I_kwDOB7jojM5kPEBF",
  "number": 3877,
  "title": "`hardhat compile` randomly and quietly stops before compiling contracts",
  "user": {
    "login": "sebastiendan",
    "id": 12198372,
    "node_id": "MDQ6VXNlcjEyMTk4Mzcy",
    "avatar_url": "https://avatars.githubusercontent.com/u/12198372?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/sebastiendan",
    "html_url": "https://github.com/sebastiendan",
    "followers_url": "https://api.github.com/users/sebastiendan/followers",
    "following_url": "https://api.github.com/users/sebastiendan/following{/other_user}",
    "gists_url": "https://api.github.com/users/sebastiendan/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/sebastiendan/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/sebastiendan/subscriptions",
    "organizations_url": "https://api.github.com/users/sebastiendan/orgs",
    "repos_url": "https://api.github.com/users/sebastiendan/repos",
    "events_url": "https://api.github.com/users/sebastiendan/events{/privacy}",
    "received_events_url": "https://api.github.com/users/sebastiendan/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 901960538,
      "node_id": "MDU6TGFiZWw5MDE5NjA1Mzg=",
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/labels/type:bug",
      "name": "type:bug",
      "color": "FBCA04",
      "default": false,
      "description": "Something isn't working"
    },
    {
      "id": 947230177,
      "node_id": "MDU6TGFiZWw5NDcyMzAxNzc=",
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/labels/status:blocked",
      "name": "status:blocked",
      "color": "0E8A16",
      "default": false,
      "description": "Blocked by other issues or external reasons"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "fvictorio",
    "id": 417134,
    "node_id": "MDQ6VXNlcjQxNzEzNA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/fvictorio",
    "html_url": "https://github.com/fvictorio",
    "followers_url": "https://api.github.com/users/fvictorio/followers",
    "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
    "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
    "organizations_url": "https://api.github.com/users/fvictorio/orgs",
    "repos_url": "https://api.github.com/users/fvictorio/repos",
    "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
    "received_events_url": "https://api.github.com/users/fvictorio/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 10,
  "created_at": "2023-04-24T16:46:57Z",
  "updated_at": "2023-06-27T19:33:49Z",
  "closed_at": "2023-06-27T18:16:51Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Edit by @fvictorio: [Hardhat 2.16.1](https://github.com/NomicFoundation/hardhat/releases/tag/hardhat%402.16.1) should this problem.\r\n\r\n---\r\n\r\n### Version of Hardhat\r\n\r\n2.14.0\r\n\r\n### What happened?\r\n\r\n`npx hardhat compile` sometimes goes on with compiling contracts and sometimes (seems totally random) silently stops at the `Downloading compiler ...` step before any contracts are actually compiled. This issue is reproducible with no contracts already compiled and in docker.\r\n\r\n### Minimal reproduction steps\r\n\r\nHere's a simple repository where you can observe the problem: [repo](https://github.com/sebastiendan/hardhat-compile-issue).\r\n\r\nThis CI workflow run shows in the logs that the compilation didn't happen: [log](https://github.com/sebastiendan/hardhat-compile-issue/actions/runs/4788710757/jobs/8515780386#step:7:271).\r\n\r\nIn addition, one can run the docker container in interactive mode and manually run the `build` command to see that, again, the command sometimes doesn't build nor throws an error but simply quietly stops without compiling (same output as the CI log above):\r\n- Run the container in interactive mode: `docker run --rm -it ghcr.io/sebastiendan/hardhat-compile-issue:main bash`\r\n- Run the compile command: `npm run build`\r\n- Observe sometimes an actual compilation, sometimes a quiet stop in the command execution\r\n(run the above multiple times by exiting the container and re-running the two commands above)\r\n\r\n### Search terms\r\n\r\nno compilation ",
  "closed_by": {
    "login": "fvictorio",
    "id": 417134,
    "node_id": "MDQ6VXNlcjQxNzEzNA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/fvictorio",
    "html_url": "https://github.com/fvictorio",
    "followers_url": "https://api.github.com/users/fvictorio/followers",
    "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
    "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
    "organizations_url": "https://api.github.com/users/fvictorio/orgs",
    "repos_url": "https://api.github.com/users/fvictorio/repos",
    "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
    "received_events_url": "https://api.github.com/users/fvictorio/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3877/reactions",
    "total_count": 23,
    "+1": 22,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 1,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3877/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1521378090",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3877#issuecomment-1521378090",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3877",
    "id": 1521378090,
    "node_id": "IC_kwDOB7jojM5armMq",
    "user": {
      "login": "fuxingloh",
      "id": 4266087,
      "node_id": "MDQ6VXNlcjQyNjYwODc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4266087?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fuxingloh",
      "html_url": "https://github.com/fuxingloh",
      "followers_url": "https://api.github.com/users/fuxingloh/followers",
      "following_url": "https://api.github.com/users/fuxingloh/following{/other_user}",
      "gists_url": "https://api.github.com/users/fuxingloh/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fuxingloh/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fuxingloh/subscriptions",
      "organizations_url": "https://api.github.com/users/fuxingloh/orgs",
      "repos_url": "https://api.github.com/users/fuxingloh/repos",
      "events_url": "https://api.github.com/users/fuxingloh/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fuxingloh/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-25T08:22:34Z",
    "updated_at": "2023-04-25T08:22:34Z",
    "author_association": "NONE",
    "body": "See: \r\n- https://github.com/nodejs/node/issues/47555\r\n- https://github.com/ada-url/ada/pull/324#event-9008153572\r\n- https://github.com/nodejs/node/pull/47598\r\n\r\nThis is due to a regression in the latest node versions 18 and 20. Somewhere after \"Downloading compiler list for platform\" when trying to a compiler, it failed to download it and failed silently. \r\n\r\nTry to use a node version other than the latest. I'm surprised the node team hasn't done a release yet since this is a widespread issue.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1521378090/reactions",
      "total_count": 4,
      "+1": 4,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1521613467",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3877#issuecomment-1521613467",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3877",
    "id": 1521613467,
    "node_id": "IC_kwDOB7jojM5asfqb",
    "user": {
      "login": "stefiix92",
      "id": 48020017,
      "node_id": "MDQ6VXNlcjQ4MDIwMDE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/48020017?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stefiix92",
      "html_url": "https://github.com/stefiix92",
      "followers_url": "https://api.github.com/users/stefiix92/followers",
      "following_url": "https://api.github.com/users/stefiix92/following{/other_user}",
      "gists_url": "https://api.github.com/users/stefiix92/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stefiix92/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stefiix92/subscriptions",
      "organizations_url": "https://api.github.com/users/stefiix92/orgs",
      "repos_url": "https://api.github.com/users/stefiix92/repos",
      "events_url": "https://api.github.com/users/stefiix92/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stefiix92/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-25T11:14:42Z",
    "updated_at": "2023-04-25T11:14:42Z",
    "author_association": "NONE",
    "body": "@fuxingloh thanks for pointing that out, I tried node `18.12.1` and the issue disappeared!",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1521613467/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1521963648",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3877#issuecomment-1521963648",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3877",
    "id": 1521963648,
    "node_id": "IC_kwDOB7jojM5at1KA",
    "user": {
      "login": "sebastiendan",
      "id": 12198372,
      "node_id": "MDQ6VXNlcjEyMTk4Mzcy",
      "avatar_url": "https://avatars.githubusercontent.com/u/12198372?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sebastiendan",
      "html_url": "https://github.com/sebastiendan",
      "followers_url": "https://api.github.com/users/sebastiendan/followers",
      "following_url": "https://api.github.com/users/sebastiendan/following{/other_user}",
      "gists_url": "https://api.github.com/users/sebastiendan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sebastiendan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sebastiendan/subscriptions",
      "organizations_url": "https://api.github.com/users/sebastiendan/orgs",
      "repos_url": "https://api.github.com/users/sebastiendan/repos",
      "events_url": "https://api.github.com/users/sebastiendan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sebastiendan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-25T15:10:26Z",
    "updated_at": "2023-04-25T15:10:26Z",
    "author_association": "NONE",
    "body": "@fuxingloh I can confirm it works with the `18.15.0-slim` docker tag of node 👍 ",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1521963648/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1522133659",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3877#issuecomment-1522133659",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3877",
    "id": 1522133659,
    "node_id": "IC_kwDOB7jojM5aueqb",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-25T17:06:08Z",
    "updated_at": "2023-04-25T17:06:08Z",
    "author_association": "MEMBER",
    "body": "Wow, this is so weird. Thanks everyone for the info.\r\n\r\nI still don't quite understand why and when this happens, but it's good to know that changing the version of node fixes the issue.\r\n\r\n@sebastiendan I'm going to edit your issue so this information shows up first for people landing here.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1522133659/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1522243407",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3877#issuecomment-1522243407",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3877",
    "id": 1522243407,
    "node_id": "IC_kwDOB7jojM5au5dP",
    "user": {
      "login": "jubeira",
      "id": 2480899,
      "node_id": "MDQ6VXNlcjI0ODA4OTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2480899?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jubeira",
      "html_url": "https://github.com/jubeira",
      "followers_url": "https://api.github.com/users/jubeira/followers",
      "following_url": "https://api.github.com/users/jubeira/following{/other_user}",
      "gists_url": "https://api.github.com/users/jubeira/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jubeira/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jubeira/subscriptions",
      "organizations_url": "https://api.github.com/users/jubeira/orgs",
      "repos_url": "https://api.github.com/users/jubeira/repos",
      "events_url": "https://api.github.com/users/jubeira/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jubeira/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-25T18:39:04Z",
    "updated_at": "2023-04-25T19:29:40Z",
    "author_association": "NONE",
    "body": "FWIW, Github actions is currently using `18.16.0` in Ubuntu 20 / 22 (latest) if the Node version is specified just as `18`: https://github.com/actions/runner-images/commit/af6dd20503a81e3397993a43c30955c40ea7a248.\r\n\r\nSpecifying a different minor version (e.g `node-version: 18.15`) indeed solves the problem.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1522243407/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1563951862",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3877#issuecomment-1563951862",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3877",
    "id": 1563951862,
    "node_id": "IC_kwDOB7jojM5dOAL2",
    "user": {
      "login": "jtakalai",
      "id": 16594664,
      "node_id": "MDQ6VXNlcjE2NTk0NjY0",
      "avatar_url": "https://avatars.githubusercontent.com/u/16594664?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jtakalai",
      "html_url": "https://github.com/jtakalai",
      "followers_url": "https://api.github.com/users/jtakalai/followers",
      "following_url": "https://api.github.com/users/jtakalai/following{/other_user}",
      "gists_url": "https://api.github.com/users/jtakalai/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jtakalai/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jtakalai/subscriptions",
      "organizations_url": "https://api.github.com/users/jtakalai/orgs",
      "repos_url": "https://api.github.com/users/jtakalai/repos",
      "events_url": "https://api.github.com/users/jtakalai/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jtakalai/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-26T07:44:10Z",
    "updated_at": "2023-05-26T07:53:33Z",
    "author_association": "CONTRIBUTOR",
    "body": "I'm getting this error (more or less, I think?), also reported in https://github.com/NomicFoundation/hardhat/issues/2569\r\n\r\nHere's the Github Actions run: https://github.com/streamr-dev/network-contracts/actions/runs/5088395393/jobs/9144745279?pr=523#step:6:15\r\n\r\nExplanation:\r\n* `rm -rf artifacts && hardhat compile && rm -rf dist && tsc -p tsconfig.build.json`\r\n  * I try to force compilation by deleting `artifacts` first (to make double sure there isn't an existing artifacts directory, so hardhat might skip compilation)\r\n  * after, I delete `dist` just in case, and run `tsc` that outputs to `dist`\r\n* `src/exports.ts(1,66): error TS2307: Cannot find module '../artifacts/contracts/OperatorTokenomics/Operator.sol/Operator.json' or its corresponding type declarations`\r\n  * `tsc` says: nothing found in `artifacts`. Right after `hardhat compile`.\r\n\r\nWhat makes this problem frustrating is that\r\n* it doesn't happen every time in Github Actions\r\n* it doesn't happen much if at all locally\r\n\r\nEDIT: This happens when running on Node 18.16.0\r\n\r\nIndeed, downgrading to Node 18.12.1 as suggested by @stefiix92 fixed it. Seems consistent with the theory that some compilers (different solidity versions) don't get downloaded and run at all. Difference in logs with the working run was that the broken run (linked above) doesn't generate warnings; it logs `Downloading compiler 0.8.13` then just exits with 0. It probably should throw error and exit with 1.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1563951862/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1592827009",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3877#issuecomment-1592827009",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3877",
    "id": 1592827009,
    "node_id": "IC_kwDOB7jojM5e8JyB",
    "user": {
      "login": "freeatnet",
      "id": 138289,
      "node_id": "MDQ6VXNlcjEzODI4OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/138289?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/freeatnet",
      "html_url": "https://github.com/freeatnet",
      "followers_url": "https://api.github.com/users/freeatnet/followers",
      "following_url": "https://api.github.com/users/freeatnet/following{/other_user}",
      "gists_url": "https://api.github.com/users/freeatnet/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/freeatnet/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/freeatnet/subscriptions",
      "organizations_url": "https://api.github.com/users/freeatnet/orgs",
      "repos_url": "https://api.github.com/users/freeatnet/repos",
      "events_url": "https://api.github.com/users/freeatnet/events{/privacy}",
      "received_events_url": "https://api.github.com/users/freeatnet/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-15T10:57:28Z",
    "updated_at": "2023-06-15T10:57:28Z",
    "author_association": "NONE",
    "body": "I was able to add a few more logging statements through the `compile` task and reproduce the issue. It looks like response streaming [occasionally stops](https://gist.github.com/freeatnet/43c21fe1928ef632cc58105ced397c07#file-hung-log) while downloading the compiler list or the compiler itself.\r\n\r\nThere is an issue about [`stream.pipeline` ending prematurely](https://github.com/nodejs/node/issues/48406) filed in the Node repo. The [code to reproduce](https://github.com/nodejs/node/issues/48406#issuecomment-1586122983) the issue is very similar to what hardhat in the [download function](https://github.com/NomicFoundation/hardhat/blob/main/packages/hardhat-core/src/internal/util/download.ts#L58), so I assume the Node bug is the cause here. A fix (https://github.com/nodejs/node/pull/48435) is on the way.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1592827009/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 1
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1600742888",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3877#issuecomment-1600742888",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3877",
    "id": 1600742888,
    "node_id": "IC_kwDOB7jojM5faWXo",
    "user": {
      "login": "bdovh",
      "id": 75684333,
      "node_id": "MDQ6VXNlcjc1Njg0MzMz",
      "avatar_url": "https://avatars.githubusercontent.com/u/75684333?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bdovh",
      "html_url": "https://github.com/bdovh",
      "followers_url": "https://api.github.com/users/bdovh/followers",
      "following_url": "https://api.github.com/users/bdovh/following{/other_user}",
      "gists_url": "https://api.github.com/users/bdovh/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bdovh/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bdovh/subscriptions",
      "organizations_url": "https://api.github.com/users/bdovh/orgs",
      "repos_url": "https://api.github.com/users/bdovh/repos",
      "events_url": "https://api.github.com/users/bdovh/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bdovh/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-21T12:27:14Z",
    "updated_at": "2023-06-21T12:27:14Z",
    "author_association": "NONE",
    "body": "We are still affected by this issue, is Node.JS going to fix that?",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1600742888/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1602219340",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3877#issuecomment-1602219340",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3877",
    "id": 1602219340,
    "node_id": "IC_kwDOB7jojM5ff-1M",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-22T08:21:42Z",
    "updated_at": "2023-06-22T08:21:42Z",
    "author_association": "MEMBER",
    "body": "Honestly, I thought they were going to release a fix sooner. I'll see if there's some workaround we can implement on our side.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1602219340/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1610103284",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3877#issuecomment-1610103284",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3877",
    "id": 1610103284,
    "node_id": "IC_kwDOB7jojM5f-Dn0",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-27T19:33:49Z",
    "updated_at": "2023-06-27T19:33:49Z",
    "author_association": "MEMBER",
    "body": "Hi everyone, we just released [Hardaht v2.16.1](https://github.com/NomicFoundation/hardhat/releases/tag/hardhat%402.16.1) which should fix this problem.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1610103284/reactions",
      "total_count": 4,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 4,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
