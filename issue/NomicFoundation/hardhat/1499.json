{
  "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1499",
  "repository_url": "https://api.github.com/repos/NomicFoundation/hardhat",
  "labels_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1499/labels{/name}",
  "comments_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1499/comments",
  "events_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1499/events",
  "html_url": "https://github.com/NomicFoundation/hardhat/issues/1499",
  "id": 908545057,
  "node_id": "MDU6SXNzdWU5MDg1NDUwNTc=",
  "number": 1499,
  "title": "Make `flatten` task smarter",
  "user": {
    "login": "fvictorio",
    "id": 417134,
    "node_id": "MDQ6VXNlcjQxNzEzNA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/fvictorio",
    "html_url": "https://github.com/fvictorio",
    "followers_url": "https://api.github.com/users/fvictorio/followers",
    "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
    "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
    "organizations_url": "https://api.github.com/users/fvictorio/orgs",
    "repos_url": "https://api.github.com/users/fvictorio/repos",
    "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
    "received_events_url": "https://api.github.com/users/fvictorio/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 947232611,
      "node_id": "MDU6TGFiZWw5NDcyMzI2MTE=",
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/labels/type:feature",
      "name": "type:feature",
      "color": "FBCA04",
      "default": false,
      "description": "Feature request"
    },
    {
      "id": 4937720577,
      "node_id": "LA_kwDOB7jojM8AAAABJk-jAQ",
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/labels/status:ready",
      "name": "status:ready",
      "color": "0E8A16",
      "default": false,
      "description": "This issue is ready to be worked on"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "ChristopherDedominici",
    "id": 18092467,
    "node_id": "MDQ6VXNlcjE4MDkyNDY3",
    "avatar_url": "https://avatars.githubusercontent.com/u/18092467?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ChristopherDedominici",
    "html_url": "https://github.com/ChristopherDedominici",
    "followers_url": "https://api.github.com/users/ChristopherDedominici/followers",
    "following_url": "https://api.github.com/users/ChristopherDedominici/following{/other_user}",
    "gists_url": "https://api.github.com/users/ChristopherDedominici/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ChristopherDedominici/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ChristopherDedominici/subscriptions",
    "organizations_url": "https://api.github.com/users/ChristopherDedominici/orgs",
    "repos_url": "https://api.github.com/users/ChristopherDedominici/repos",
    "events_url": "https://api.github.com/users/ChristopherDedominici/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ChristopherDedominici/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "ChristopherDedominici",
      "id": 18092467,
      "node_id": "MDQ6VXNlcjE4MDkyNDY3",
      "avatar_url": "https://avatars.githubusercontent.com/u/18092467?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ChristopherDedominici",
      "html_url": "https://github.com/ChristopherDedominici",
      "followers_url": "https://api.github.com/users/ChristopherDedominici/followers",
      "following_url": "https://api.github.com/users/ChristopherDedominici/following{/other_user}",
      "gists_url": "https://api.github.com/users/ChristopherDedominici/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ChristopherDedominici/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ChristopherDedominici/subscriptions",
      "organizations_url": "https://api.github.com/users/ChristopherDedominici/orgs",
      "repos_url": "https://api.github.com/users/ChristopherDedominici/repos",
      "events_url": "https://api.github.com/users/ChristopherDedominici/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ChristopherDedominici/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 16,
  "created_at": "2021-06-01T17:46:23Z",
  "updated_at": "2023-09-14T04:59:05Z",
  "closed_at": "2023-07-26T08:29:13Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "The `flatten` task only generates the dependency graph of the project's files and merges them into a single file (removing all the `import` statements). This works for some scenarios, but in others, it generates a file that cannot be compiled. Examples of this are having multiple SPDX comments in the same file, or having multiple `pragma abicoder`, even if they are compatible.\r\n\r\nWe want to make this task smarter so that it generates compilable files most of the time.\r\n\r\n[This document](https://www.notion.so/nomiclabs/New-flatten-task-spec-44f2282a0f9c4386bfd2d6f254c96e1c) has a more in-depth explanation of what we want to do. At the end there is a list of test cases that should make the expected behavior clearer.",
  "closed_by": {
    "login": "ChristopherDedominici",
    "id": 18092467,
    "node_id": "MDQ6VXNlcjE4MDkyNDY3",
    "avatar_url": "https://avatars.githubusercontent.com/u/18092467?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ChristopherDedominici",
    "html_url": "https://github.com/ChristopherDedominici",
    "followers_url": "https://api.github.com/users/ChristopherDedominici/followers",
    "following_url": "https://api.github.com/users/ChristopherDedominici/following{/other_user}",
    "gists_url": "https://api.github.com/users/ChristopherDedominici/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ChristopherDedominici/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ChristopherDedominici/subscriptions",
    "organizations_url": "https://api.github.com/users/ChristopherDedominici/orgs",
    "repos_url": "https://api.github.com/users/ChristopherDedominici/repos",
    "events_url": "https://api.github.com/users/ChristopherDedominici/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ChristopherDedominici/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1499/reactions",
    "total_count": 8,
    "+1": 8,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1499/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/852354150",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1499#issuecomment-852354150",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1499",
    "id": 852354150,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg1MjM1NDE1MA==",
    "user": {
      "login": "alcuadrado",
      "id": 176499,
      "node_id": "MDQ6VXNlcjE3NjQ5OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/176499?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alcuadrado",
      "html_url": "https://github.com/alcuadrado",
      "followers_url": "https://api.github.com/users/alcuadrado/followers",
      "following_url": "https://api.github.com/users/alcuadrado/following{/other_user}",
      "gists_url": "https://api.github.com/users/alcuadrado/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alcuadrado/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alcuadrado/subscriptions",
      "organizations_url": "https://api.github.com/users/alcuadrado/orgs",
      "repos_url": "https://api.github.com/users/alcuadrado/repos",
      "events_url": "https://api.github.com/users/alcuadrado/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alcuadrado/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-01T18:33:50Z",
    "updated_at": "2021-06-01T18:33:50Z",
    "author_association": "MEMBER",
    "body": "Hey, @nachomazzara and @boringcrypto, wdyt about this document?",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/852354150/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/852839975",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1499#issuecomment-852839975",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1499",
    "id": 852839975,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg1MjgzOTk3NQ==",
    "user": {
      "login": "boringcrypto",
      "id": 993603,
      "node_id": "MDQ6VXNlcjk5MzYwMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/993603?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/boringcrypto",
      "html_url": "https://github.com/boringcrypto",
      "followers_url": "https://api.github.com/users/boringcrypto/followers",
      "following_url": "https://api.github.com/users/boringcrypto/following{/other_user}",
      "gists_url": "https://api.github.com/users/boringcrypto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/boringcrypto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/boringcrypto/subscriptions",
      "organizations_url": "https://api.github.com/users/boringcrypto/orgs",
      "repos_url": "https://api.github.com/users/boringcrypto/repos",
      "events_url": "https://api.github.com/users/boringcrypto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/boringcrypto/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-02T08:16:48Z",
    "updated_at": "2021-06-02T08:16:48Z",
    "author_association": "NONE",
    "body": "This is great! The only thing I'd like to add would be a way to select where the output goes. I'm on windows, so I can only pipe *everything* to a file, including console.logs and stdout messages, etc.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/852839975/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/852962599",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1499#issuecomment-852962599",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1499",
    "id": 852962599,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg1Mjk2MjU5OQ==",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-02T11:52:15Z",
    "updated_at": "2021-06-02T11:52:15Z",
    "author_association": "MEMBER",
    "body": "I think we can add a `--output` param",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/852962599/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/852989268",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1499#issuecomment-852989268",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1499",
    "id": 852989268,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg1Mjk4OTI2OA==",
    "user": {
      "login": "nachomazzara",
      "id": 7549152,
      "node_id": "MDQ6VXNlcjc1NDkxNTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7549152?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nachomazzara",
      "html_url": "https://github.com/nachomazzara",
      "followers_url": "https://api.github.com/users/nachomazzara/followers",
      "following_url": "https://api.github.com/users/nachomazzara/following{/other_user}",
      "gists_url": "https://api.github.com/users/nachomazzara/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nachomazzara/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nachomazzara/subscriptions",
      "organizations_url": "https://api.github.com/users/nachomazzara/orgs",
      "repos_url": "https://api.github.com/users/nachomazzara/repos",
      "events_url": "https://api.github.com/users/nachomazzara/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nachomazzara/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-02T12:34:43Z",
    "updated_at": "2021-06-02T12:34:43Z",
    "author_association": "NONE",
    "body": "Hey all! thanks for taking this seriously. It has been a big pain for me (A paranoid man who likes to deploy contracts manually)\r\n\r\nI like the proposal! let's make it happen ðŸš€ ",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/852989268/reactions",
      "total_count": 6,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 6,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1008459435",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1499#issuecomment-1008459435",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1499",
    "id": 1008459435,
    "node_id": "IC_kwDOB7jojM48G96r",
    "user": {
      "login": "ihorbond",
      "id": 15573624,
      "node_id": "MDQ6VXNlcjE1NTczNjI0",
      "avatar_url": "https://avatars.githubusercontent.com/u/15573624?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ihorbond",
      "html_url": "https://github.com/ihorbond",
      "followers_url": "https://api.github.com/users/ihorbond/followers",
      "following_url": "https://api.github.com/users/ihorbond/following{/other_user}",
      "gists_url": "https://api.github.com/users/ihorbond/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ihorbond/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ihorbond/subscriptions",
      "organizations_url": "https://api.github.com/users/ihorbond/orgs",
      "repos_url": "https://api.github.com/users/ihorbond/repos",
      "events_url": "https://api.github.com/users/ihorbond/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ihorbond/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-10T00:38:50Z",
    "updated_at": "2022-01-10T00:38:50Z",
    "author_association": "NONE",
    "body": "@fvictorio was this ticket ever resolved? Came here because of duplicate licenses too",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1008459435/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1008492163",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1499#issuecomment-1008492163",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1499",
    "id": 1008492163,
    "node_id": "IC_kwDOB7jojM48HF6D",
    "user": {
      "login": "boringcrypto",
      "id": 993603,
      "node_id": "MDQ6VXNlcjk5MzYwMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/993603?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/boringcrypto",
      "html_url": "https://github.com/boringcrypto",
      "followers_url": "https://api.github.com/users/boringcrypto/followers",
      "following_url": "https://api.github.com/users/boringcrypto/following{/other_user}",
      "gists_url": "https://api.github.com/users/boringcrypto/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/boringcrypto/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/boringcrypto/subscriptions",
      "organizations_url": "https://api.github.com/users/boringcrypto/orgs",
      "repos_url": "https://api.github.com/users/boringcrypto/repos",
      "events_url": "https://api.github.com/users/boringcrypto/events{/privacy}",
      "received_events_url": "https://api.github.com/users/boringcrypto/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-10T02:16:51Z",
    "updated_at": "2022-01-10T02:16:51Z",
    "author_association": "NONE",
    "body": "I've been using this: https://github.com/nomiclabs/hardhat/issues/1050#issuecomment-840444798 - hacky, but solved my problem",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1008492163/reactions",
      "total_count": 3,
      "+1": 3,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1009532381",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1499#issuecomment-1009532381",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1499",
    "id": 1009532381,
    "node_id": "IC_kwDOB7jojM48LD3d",
    "user": {
      "login": "TrejGun",
      "id": 185285,
      "node_id": "MDQ6VXNlcjE4NTI4NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/185285?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TrejGun",
      "html_url": "https://github.com/TrejGun",
      "followers_url": "https://api.github.com/users/TrejGun/followers",
      "following_url": "https://api.github.com/users/TrejGun/following{/other_user}",
      "gists_url": "https://api.github.com/users/TrejGun/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TrejGun/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TrejGun/subscriptions",
      "organizations_url": "https://api.github.com/users/TrejGun/orgs",
      "repos_url": "https://api.github.com/users/TrejGun/repos",
      "events_url": "https://api.github.com/users/TrejGun/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TrejGun/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-11T02:04:13Z",
    "updated_at": "2022-01-11T02:04:13Z",
    "author_association": "NONE",
    "body": "guys please, this is really annoying ",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1009532381/reactions",
      "total_count": 8,
      "+1": 8,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1022198766",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1499#issuecomment-1022198766",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1499",
    "id": 1022198766,
    "node_id": "IC_kwDOB7jojM487YPu",
    "user": {
      "login": "partylikeits1983",
      "id": 77119221,
      "node_id": "MDQ6VXNlcjc3MTE5MjIx",
      "avatar_url": "https://avatars.githubusercontent.com/u/77119221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/partylikeits1983",
      "html_url": "https://github.com/partylikeits1983",
      "followers_url": "https://api.github.com/users/partylikeits1983/followers",
      "following_url": "https://api.github.com/users/partylikeits1983/following{/other_user}",
      "gists_url": "https://api.github.com/users/partylikeits1983/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/partylikeits1983/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/partylikeits1983/subscriptions",
      "organizations_url": "https://api.github.com/users/partylikeits1983/orgs",
      "repos_url": "https://api.github.com/users/partylikeits1983/repos",
      "events_url": "https://api.github.com/users/partylikeits1983/events{/privacy}",
      "received_events_url": "https://api.github.com/users/partylikeits1983/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-26T13:30:10Z",
    "updated_at": "2022-01-26T13:38:28Z",
    "author_association": "NONE",
    "body": "quick and dirty way with python: \r\n\r\n`$ npx hardhat flatten contracts/bank.sol > contracts/flatten.sol`\r\n\r\n```\r\nimport os\r\n\r\nbad_words = ['SPDX', 'pragma']\r\n\r\nwith open('/home/ubuntu/Desktop/defiBank/contracts/flatten.sol') as oldfile, open('/home/ubuntu/Desktop/defiBank/contracts/flat.sol', 'w') as newfile:\r\n    for line in oldfile:\r\n        if not any(bad_word in line for bad_word in bad_words):\r\n            newfile.write(line)\r\n            \r\nfilename = \"/home/ubuntu/Desktop/defiBank/contracts/flat.sol\"\r\n\r\nstring = \"// SPDX-License-Identifier: MIT \\n pragma solidity ^0.8.0; \\n\"\r\n            \r\ndef insert(originalfile,string):\r\n    with open(originalfile,'r') as f:\r\n        with open('newfile.txt','w') as f2: \r\n            f2.write(string)\r\n            f2.write(f.read())\r\n    os.rename('newfile.txt',originalfile)\r\n    \r\ninsert(filename,string)\r\n\r\nos.remove(\"/home/ubuntu/Desktop/defiBank/contracts/flatten.sol\")\r\n\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1022198766/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1188724576",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1499#issuecomment-1188724576",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1499",
    "id": 1188724576,
    "node_id": "IC_kwDOB7jojM5G2n9g",
    "user": {
      "login": "ghost",
      "id": 10137,
      "node_id": "MDQ6VXNlcjEwMTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ghost",
      "html_url": "https://github.com/ghost",
      "followers_url": "https://api.github.com/users/ghost/followers",
      "following_url": "https://api.github.com/users/ghost/following{/other_user}",
      "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
      "organizations_url": "https://api.github.com/users/ghost/orgs",
      "repos_url": "https://api.github.com/users/ghost/repos",
      "events_url": "https://api.github.com/users/ghost/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ghost/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-19T07:56:38Z",
    "updated_at": "2022-07-19T07:56:38Z",
    "author_association": "NONE",
    "body": "For anyone interested, I have ported the tsort library to Typescript\r\n\r\nhttps://github.com/ayanamitech/tsort-ts\r\n\r\ncc @boringcrypto @fvictorio",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1188724576/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1252312612",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1499#issuecomment-1252312612",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1499",
    "id": 1252312612,
    "node_id": "IC_kwDOB7jojM5KpMYk",
    "user": {
      "login": "TrejGun",
      "id": 185285,
      "node_id": "MDQ6VXNlcjE4NTI4NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/185285?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TrejGun",
      "html_url": "https://github.com/TrejGun",
      "followers_url": "https://api.github.com/users/TrejGun/followers",
      "following_url": "https://api.github.com/users/TrejGun/following{/other_user}",
      "gists_url": "https://api.github.com/users/TrejGun/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TrejGun/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TrejGun/subscriptions",
      "organizations_url": "https://api.github.com/users/TrejGun/orgs",
      "repos_url": "https://api.github.com/users/TrejGun/repos",
      "events_url": "https://api.github.com/users/TrejGun/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TrejGun/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-20T12:53:58Z",
    "updated_at": "2022-09-20T12:53:58Z",
    "author_association": "NONE",
    "body": "> For anyone interested, I have ported the tsort library to Typescript\r\n> \r\n> https://github.com/ayanamitech/tsort-ts\r\n> \r\n> cc @boringcrypto @fvictorio\r\n\r\nthe link is broken",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1252312612/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1539911145",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1499#issuecomment-1539911145",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1499",
    "id": 1539911145,
    "node_id": "IC_kwDOB7jojM5byS3p",
    "user": {
      "login": "TrejGun",
      "id": 185285,
      "node_id": "MDQ6VXNlcjE4NTI4NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/185285?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TrejGun",
      "html_url": "https://github.com/TrejGun",
      "followers_url": "https://api.github.com/users/TrejGun/followers",
      "following_url": "https://api.github.com/users/TrejGun/following{/other_user}",
      "gists_url": "https://api.github.com/users/TrejGun/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TrejGun/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TrejGun/subscriptions",
      "organizations_url": "https://api.github.com/users/TrejGun/orgs",
      "repos_url": "https://api.github.com/users/TrejGun/repos",
      "events_url": "https://api.github.com/users/TrejGun/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TrejGun/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-09T10:34:14Z",
    "updated_at": "2023-05-09T10:34:14Z",
    "author_association": "NONE",
    "body": "guys, please! remix, etherscan, nethereum and I guess much more tools requires only one SPDX. Its a pain to remove duplicates manually",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1539911145/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1564030955",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1499#issuecomment-1564030955",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1499",
    "id": 1564030955,
    "node_id": "IC_kwDOB7jojM5dOTfr",
    "user": {
      "login": "abarbatei",
      "id": 5813630,
      "node_id": "MDQ6VXNlcjU4MTM2MzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5813630?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/abarbatei",
      "html_url": "https://github.com/abarbatei",
      "followers_url": "https://api.github.com/users/abarbatei/followers",
      "following_url": "https://api.github.com/users/abarbatei/following{/other_user}",
      "gists_url": "https://api.github.com/users/abarbatei/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/abarbatei/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/abarbatei/subscriptions",
      "organizations_url": "https://api.github.com/users/abarbatei/orgs",
      "repos_url": "https://api.github.com/users/abarbatei/repos",
      "events_url": "https://api.github.com/users/abarbatei/events{/privacy}",
      "received_events_url": "https://api.github.com/users/abarbatei/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-26T08:47:31Z",
    "updated_at": "2023-05-26T08:47:31Z",
    "author_association": "NONE",
    "body": "@TrejGun I have been using the custom task described here, it basically adds a `flat` command that does what flatten should do: https://rubydusa.medium.com/parsererror-multiple-spdx-license-identifiers-found-in-source-file-de4d61ffab64 \r\n```Typescript\r\ntask(\"flat\", \"Flattens and prints contracts and their dependencies (Resolves licenses)\")\r\n  .addOptionalVariadicPositionalParam(\"files\", \"The files to flatten\", undefined, types.inputFile)\r\n  .setAction(async ({ files }, hre) => {\r\n    let flattened = await hre.run(\"flatten:get-flattened-sources\", { files });\r\n    \r\n    // Remove every line started with \"// SPDX-License-Identifier:\"\r\n    flattened = flattened.replace(/SPDX-License-Identifier:/gm, \"License-Identifier:\");\r\n    flattened = `// SPDX-License-Identifier: MIXED\\n\\n${flattened}`;\r\n\r\n    // Remove every line started with \"pragma experimental ABIEncoderV2;\" except the first one\r\n    flattened = flattened.replace(/pragma experimental ABIEncoderV2;\\n/gm, ((i) => (m) => (!i++ ? m : \"\"))(0));\r\n    console.log(flattened);\r\n  });\r\n```\r\nHope it helps",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1564030955/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1564069978",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1499#issuecomment-1564069978",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1499",
    "id": 1564069978,
    "node_id": "IC_kwDOB7jojM5dOdBa",
    "user": {
      "login": "TrejGun",
      "id": 185285,
      "node_id": "MDQ6VXNlcjE4NTI4NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/185285?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TrejGun",
      "html_url": "https://github.com/TrejGun",
      "followers_url": "https://api.github.com/users/TrejGun/followers",
      "following_url": "https://api.github.com/users/TrejGun/following{/other_user}",
      "gists_url": "https://api.github.com/users/TrejGun/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TrejGun/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TrejGun/subscriptions",
      "organizations_url": "https://api.github.com/users/TrejGun/orgs",
      "repos_url": "https://api.github.com/users/TrejGun/repos",
      "events_url": "https://api.github.com/users/TrejGun/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TrejGun/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-26T09:09:44Z",
    "updated_at": "2023-05-26T09:09:44Z",
    "author_association": "NONE",
    "body": "@abarbatei thanks a lot!",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1564069978/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 1,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1661007161",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1499#issuecomment-1661007161",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1499",
    "id": 1661007161,
    "node_id": "IC_kwDOB7jojM5jAPU5",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-08-01T20:07:52Z",
    "updated_at": "2023-08-01T20:07:52Z",
    "author_association": "MEMBER",
    "body": "This was released in [Hardhat v2.17.1](https://github.com/NomicFoundation/hardhat/releases/tag/hardhat%402.17.1)",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1661007161/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1718756886",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1499#issuecomment-1718756886",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1499",
    "id": 1718756886,
    "node_id": "IC_kwDOB7jojM5mciYW",
    "user": {
      "login": "SvenMeyer",
      "id": 25609,
      "node_id": "MDQ6VXNlcjI1NjA5",
      "avatar_url": "https://avatars.githubusercontent.com/u/25609?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SvenMeyer",
      "html_url": "https://github.com/SvenMeyer",
      "followers_url": "https://api.github.com/users/SvenMeyer/followers",
      "following_url": "https://api.github.com/users/SvenMeyer/following{/other_user}",
      "gists_url": "https://api.github.com/users/SvenMeyer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SvenMeyer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SvenMeyer/subscriptions",
      "organizations_url": "https://api.github.com/users/SvenMeyer/orgs",
      "repos_url": "https://api.github.com/users/SvenMeyer/repos",
      "events_url": "https://api.github.com/users/SvenMeyer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SvenMeyer/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-09-14T04:45:05Z",
    "updated_at": "2023-09-14T04:45:05Z",
    "author_association": "NONE",
    "body": "@fvictorio I am using hardhat v2.17.3 and     \"hardhat-gas-reporter\": \"^1.0.4\",\r\nbut still with `hardhat export-flat` I get `ParserError: Multiple SPDX license identifiers found in source file`\r\nWhat am I missing ?",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1718756886/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1718765400",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1499#issuecomment-1718765400",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1499",
    "id": 1718765400,
    "node_id": "IC_kwDOB7jojM5mckdY",
    "user": {
      "login": "SvenMeyer",
      "id": 25609,
      "node_id": "MDQ6VXNlcjI1NjA5",
      "avatar_url": "https://avatars.githubusercontent.com/u/25609?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SvenMeyer",
      "html_url": "https://github.com/SvenMeyer",
      "followers_url": "https://api.github.com/users/SvenMeyer/followers",
      "following_url": "https://api.github.com/users/SvenMeyer/following{/other_user}",
      "gists_url": "https://api.github.com/users/SvenMeyer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SvenMeyer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SvenMeyer/subscriptions",
      "organizations_url": "https://api.github.com/users/SvenMeyer/orgs",
      "repos_url": "https://api.github.com/users/SvenMeyer/repos",
      "events_url": "https://api.github.com/users/SvenMeyer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SvenMeyer/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-09-14T04:58:51Z",
    "updated_at": "2023-09-14T04:59:05Z",
    "author_association": "NONE",
    "body": "my temporary (manual) \"solution : \r\n\r\n`$ sed -i '/SPDX-License-Identifier/d' flat/contract.sol`",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1718765400/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
