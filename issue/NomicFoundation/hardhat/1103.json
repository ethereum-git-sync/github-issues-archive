{
  "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1103",
  "repository_url": "https://api.github.com/repos/NomicFoundation/hardhat",
  "labels_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1103/labels{/name}",
  "comments_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1103/comments",
  "events_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1103/events",
  "html_url": "https://github.com/NomicFoundation/hardhat/issues/1103",
  "id": 767278727,
  "node_id": "MDU6SXNzdWU3NjcyNzg3Mjc=",
  "number": 1103,
  "title": "Stack traces for caught reverts",
  "user": {
    "login": "gitpusha",
    "id": 36712489,
    "node_id": "MDQ6VXNlcjM2NzEyNDg5",
    "avatar_url": "https://avatars.githubusercontent.com/u/36712489?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gitpusha",
    "html_url": "https://github.com/gitpusha",
    "followers_url": "https://api.github.com/users/gitpusha/followers",
    "following_url": "https://api.github.com/users/gitpusha/following{/other_user}",
    "gists_url": "https://api.github.com/users/gitpusha/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gitpusha/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gitpusha/subscriptions",
    "organizations_url": "https://api.github.com/users/gitpusha/orgs",
    "repos_url": "https://api.github.com/users/gitpusha/repos",
    "events_url": "https://api.github.com/users/gitpusha/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gitpusha/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 947232611,
      "node_id": "MDU6TGFiZWw5NDcyMzI2MTE=",
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/labels/type:feature",
      "name": "type:feature",
      "color": "FBCA04",
      "default": false,
      "description": "Feature request"
    },
    {
      "id": 4937720577,
      "node_id": "LA_kwDOB7jojM8AAAABJk-jAQ",
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/labels/status:ready",
      "name": "status:ready",
      "color": "0E8A16",
      "default": false,
      "description": "This issue is ready to be worked on"
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2020-12-15T07:38:46Z",
  "updated_at": "2023-03-01T00:49:23Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Hi, \r\n\r\nHeads up: I am not sure if hardhat already generates stack traces for caught reverts because I virtually never saw hardhat stack traces yet due to #1077 \r\n\r\nIt would be great if `hardhat` would also generate stack traces for any evm `reverts` or `errors` that happen during a transaction, **even if they are caught in a solidity `try catch` or similar statement.**  Maybe in a `--verbose` mode where such information is logged.\r\n\r\nMany protocols need to catch reverts for their safety, but when testing this makes debugging caught reverts much harder as the transaction returns without error, even though you might wanna see some reason. \r\n\r\nWe usually bubble up revert messages and emit them in events to aid our debugging. This is quite helpful already. \r\n\r\nBut it would be nice to also have stack traces for such caught reverts. \r\n\r\nUnfortunately I do not know the hardhat network evm implementation code (shamefully) and I am not sure how this would be implemented. It seems like it might be quite complex. I am not sure how a `revert` that is `caught` in solidity looks on evm-level. ",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1103/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1103/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/745524890",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1103#issuecomment-745524890",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1103",
    "id": 745524890,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc0NTUyNDg5MA==",
    "user": {
      "login": "alcuadrado",
      "id": 176499,
      "node_id": "MDQ6VXNlcjE3NjQ5OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/176499?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alcuadrado",
      "html_url": "https://github.com/alcuadrado",
      "followers_url": "https://api.github.com/users/alcuadrado/followers",
      "following_url": "https://api.github.com/users/alcuadrado/following{/other_user}",
      "gists_url": "https://api.github.com/users/alcuadrado/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alcuadrado/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alcuadrado/subscriptions",
      "organizations_url": "https://api.github.com/users/alcuadrado/orgs",
      "repos_url": "https://api.github.com/users/alcuadrado/repos",
      "events_url": "https://api.github.com/users/alcuadrado/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alcuadrado/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-12-15T19:46:59Z",
    "updated_at": "2020-12-15T19:46:59Z",
    "author_association": "MEMBER",
    "body": "This is a good idea. How do you imagine this would look? How/When would this info be shown?\r\n\r\nI believe what you want is the entire execution trace of a contract, like what Tenderly and Brownie show.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/745524890/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/750725933",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1103#issuecomment-750725933",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1103",
    "id": 750725933,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc1MDcyNTkzMw==",
    "user": {
      "login": "zhengger",
      "id": 2143234,
      "node_id": "MDQ6VXNlcjIxNDMyMzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2143234?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zhengger",
      "html_url": "https://github.com/zhengger",
      "followers_url": "https://api.github.com/users/zhengger/followers",
      "following_url": "https://api.github.com/users/zhengger/following{/other_user}",
      "gists_url": "https://api.github.com/users/zhengger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zhengger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zhengger/subscriptions",
      "organizations_url": "https://api.github.com/users/zhengger/orgs",
      "repos_url": "https://api.github.com/users/zhengger/repos",
      "events_url": "https://api.github.com/users/zhengger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zhengger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-12-24T03:42:25Z",
    "updated_at": "2020-12-24T03:42:25Z",
    "author_association": "NONE",
    "body": "> This is a good idea. How do you imagine this would look? How/When would this info be shown?\r\n> \r\n> I believe what you want is the entire execution trace of a contract, like what Tenderly and Brownie show.\r\n\r\nIs there anything similar like remix's trace debug function in hardhat?",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/750725933/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/751446741",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1103#issuecomment-751446741",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1103",
    "id": 751446741,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc1MTQ0Njc0MQ==",
    "user": {
      "login": "gitpusha",
      "id": 36712489,
      "node_id": "MDQ6VXNlcjM2NzEyNDg5",
      "avatar_url": "https://avatars.githubusercontent.com/u/36712489?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gitpusha",
      "html_url": "https://github.com/gitpusha",
      "followers_url": "https://api.github.com/users/gitpusha/followers",
      "following_url": "https://api.github.com/users/gitpusha/following{/other_user}",
      "gists_url": "https://api.github.com/users/gitpusha/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gitpusha/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gitpusha/subscriptions",
      "organizations_url": "https://api.github.com/users/gitpusha/orgs",
      "repos_url": "https://api.github.com/users/gitpusha/repos",
      "events_url": "https://api.github.com/users/gitpusha/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gitpusha/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-12-27T09:50:16Z",
    "updated_at": "2020-12-27T09:50:16Z",
    "author_association": "NONE",
    "body": "Sorry for the late reply @alcuadrado - I still slack with my github notifications:\r\n\r\n> This is a good idea. How do you imagine this would look? How/When would this info be shown?\r\n\r\nI think any caught reverts could be logged to the console as the tests run with a stack trace, without exiting the process of course. \r\n\r\n> I believe what you want is the entire execution trace of a contract, like what Tenderly and Brownie show.\r\n\r\nYeah, that would be great. I used Tenderly before and liked it. I didnt try Brownie yet. ",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/751446741/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/812397717",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1103#issuecomment-812397717",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1103",
    "id": 812397717,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgxMjM5NzcxNw==",
    "user": {
      "login": "AdvaithD",
      "id": 8968110,
      "node_id": "MDQ6VXNlcjg5NjgxMTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8968110?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/AdvaithD",
      "html_url": "https://github.com/AdvaithD",
      "followers_url": "https://api.github.com/users/AdvaithD/followers",
      "following_url": "https://api.github.com/users/AdvaithD/following{/other_user}",
      "gists_url": "https://api.github.com/users/AdvaithD/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/AdvaithD/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/AdvaithD/subscriptions",
      "organizations_url": "https://api.github.com/users/AdvaithD/orgs",
      "repos_url": "https://api.github.com/users/AdvaithD/repos",
      "events_url": "https://api.github.com/users/AdvaithD/events{/privacy}",
      "received_events_url": "https://api.github.com/users/AdvaithD/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-02T07:52:47Z",
    "updated_at": "2021-04-02T07:52:47Z",
    "author_association": "NONE",
    "body": "Any update on this? Just ran into one such instance, using tenderly.dev as a quick fix for now. Would be great to have functionality similar to truffle debug.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/812397717/reactions",
      "total_count": 4,
      "+1": 4,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/982355786",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1103#issuecomment-982355786",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1103",
    "id": 982355786,
    "node_id": "IC_kwDOB7jojM46jY9K",
    "user": {
      "login": "shmuel-web",
      "id": 13344801,
      "node_id": "MDQ6VXNlcjEzMzQ0ODAx",
      "avatar_url": "https://avatars.githubusercontent.com/u/13344801?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/shmuel-web",
      "html_url": "https://github.com/shmuel-web",
      "followers_url": "https://api.github.com/users/shmuel-web/followers",
      "following_url": "https://api.github.com/users/shmuel-web/following{/other_user}",
      "gists_url": "https://api.github.com/users/shmuel-web/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/shmuel-web/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/shmuel-web/subscriptions",
      "organizations_url": "https://api.github.com/users/shmuel-web/orgs",
      "repos_url": "https://api.github.com/users/shmuel-web/repos",
      "events_url": "https://api.github.com/users/shmuel-web/events{/privacy}",
      "received_events_url": "https://api.github.com/users/shmuel-web/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-11-30T07:25:51Z",
    "updated_at": "2021-11-30T07:29:59Z",
    "author_association": "NONE",
    "body": "Hi\r\n\r\nJoining the request here \r\nI also think being able to log the stack trace is a good idea\r\nEspecially when integrating smart contracts with other projects when you don't have a full understanding \r\nof the other project codebase\r\n\r\nand smart contract composability is really important so it's a great feature to a dev environment\r\n\r\nI imagine it looking something like this\r\n```\r\nconsole.trace()\r\n```\r\nor similar to the JS API [MDN ](https://developer.mozilla.org/en-US/docs/Web/API/console/trace)\r\n\r\nThanks\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/982355786/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1449144355",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1103#issuecomment-1449144355",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1103",
    "id": 1449144355,
    "node_id": "IC_kwDOB7jojM5WYDAj",
    "user": {
      "login": "nuliknol",
      "id": 1125368,
      "node_id": "MDQ6VXNlcjExMjUzNjg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1125368?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nuliknol",
      "html_url": "https://github.com/nuliknol",
      "followers_url": "https://api.github.com/users/nuliknol/followers",
      "following_url": "https://api.github.com/users/nuliknol/following{/other_user}",
      "gists_url": "https://api.github.com/users/nuliknol/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nuliknol/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nuliknol/subscriptions",
      "organizations_url": "https://api.github.com/users/nuliknol/orgs",
      "repos_url": "https://api.github.com/users/nuliknol/repos",
      "events_url": "https://api.github.com/users/nuliknol/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nuliknol/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-03-01T00:49:23Z",
    "updated_at": "2023-03-01T00:49:23Z",
    "author_association": "NONE",
    "body": "great idea, I don't know why isn't this implemented",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1449144355/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
