{
  "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/4359",
  "repository_url": "https://api.github.com/repos/NomicFoundation/hardhat",
  "labels_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/4359/labels{/name}",
  "comments_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/4359/comments",
  "events_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/4359/events",
  "html_url": "https://github.com/NomicFoundation/hardhat/issues/4359",
  "id": 1880425518,
  "node_id": "I_kwDOB7jojM5wFQQu",
  "number": 4359,
  "title": "`npx hardhat` hangs when initializing repo",
  "user": {
    "login": "kuzdogan",
    "id": 13069972,
    "node_id": "MDQ6VXNlcjEzMDY5OTcy",
    "avatar_url": "https://avatars.githubusercontent.com/u/13069972?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/kuzdogan",
    "html_url": "https://github.com/kuzdogan",
    "followers_url": "https://api.github.com/users/kuzdogan/followers",
    "following_url": "https://api.github.com/users/kuzdogan/following{/other_user}",
    "gists_url": "https://api.github.com/users/kuzdogan/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/kuzdogan/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/kuzdogan/subscriptions",
    "organizations_url": "https://api.github.com/users/kuzdogan/orgs",
    "repos_url": "https://api.github.com/users/kuzdogan/repos",
    "events_url": "https://api.github.com/users/kuzdogan/events{/privacy}",
    "received_events_url": "https://api.github.com/users/kuzdogan/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 4937119027,
      "node_id": "LA_kwDOB7jojM8AAAABJkZ1Mw",
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/labels/status:triaging",
      "name": "status:triaging",
      "color": "0E8A16",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "schaable",
    "id": 1165424,
    "node_id": "MDQ6VXNlcjExNjU0MjQ=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1165424?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/schaable",
    "html_url": "https://github.com/schaable",
    "followers_url": "https://api.github.com/users/schaable/followers",
    "following_url": "https://api.github.com/users/schaable/following{/other_user}",
    "gists_url": "https://api.github.com/users/schaable/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/schaable/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/schaable/subscriptions",
    "organizations_url": "https://api.github.com/users/schaable/orgs",
    "repos_url": "https://api.github.com/users/schaable/repos",
    "events_url": "https://api.github.com/users/schaable/events{/privacy}",
    "received_events_url": "https://api.github.com/users/schaable/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "schaable",
      "id": 1165424,
      "node_id": "MDQ6VXNlcjExNjU0MjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1165424?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/schaable",
      "html_url": "https://github.com/schaable",
      "followers_url": "https://api.github.com/users/schaable/followers",
      "following_url": "https://api.github.com/users/schaable/following{/other_user}",
      "gists_url": "https://api.github.com/users/schaable/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/schaable/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/schaable/subscriptions",
      "organizations_url": "https://api.github.com/users/schaable/orgs",
      "repos_url": "https://api.github.com/users/schaable/repos",
      "events_url": "https://api.github.com/users/schaable/events{/privacy}",
      "received_events_url": "https://api.github.com/users/schaable/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2023-09-04T14:37:47Z",
  "updated_at": "2023-09-11T10:26:37Z",
  "closed_at": "2023-09-11T10:26:36Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "### Version of Hardhat\n\n2.17.2\n\n### What happened?\n\nEDIT: I was actually able to resolve the issue myself but still writing for documentation purposes.\r\n\r\nWhen initializing a new repository with `npx hardhat` the command hangs and does not initialize a hardhat projects.\r\n\r\n`npx hardhat --help` also hangs but `npx hardhat --version` does indeed return the version number.\n\n### Minimal reproduction steps\n\nSystem: MacBook M1 Pro 14\"\r\nnode version: v18.14.2 (npm v9.5.0)\r\nalso reproduced with v16.15.1 (npm v8.11.0)\r\n\r\nSteps:\r\n```bash\r\nmkdir hardhat-test\r\ncd hardhat-test\r\nnpm init -y\r\nnpm i -d hardhat\r\nnpx hardhat --version\r\nnpx hardhat\r\n```\r\n\r\nLast command returns: `Error HH14: Your Hardhat project uses typescript, but it's not installed.` Note that this is an empty project. No typescript installed. No npm projects initialized in the parent package either. The folder is a sibling of many other hardhat folders though:\r\n```\r\n├── hardhat-metacoin-sourcify\r\n├── hardhat-network\r\n├── hardhat-network-v2.14.0\r\n├── hardhat-template\r\n├── hardhat-test\r\n```\r\n\r\n```\r\nnpm i -d typescript\r\nnpx hardhat\r\n```\r\n\r\nNow I get `Error HH13: Your Hardhat project uses typescript, but ts-node is not installed.`\r\n\r\n```\r\nnpm i -d ts-node\r\nnpx hardhat\r\n```\r\n\r\nNow the process just hangs.\r\n\r\nEdit: Ok while writing the \"The folder is a sibling of many other hardhat folders though\" part I was able to debug and resolve the problem. There happened to be a `hardhat.config.ts` file in `../../`. Running `rm ../../hardhat-config.ts` resolved the issue for me.\r\n\r\nStill opening the issue if this is something you want to look into and for others to potentially search if they come across this. Feel free to close.\n\n### Search terms\n\nnpx hardhat hangs ",
  "closed_by": {
    "login": "fvictorio",
    "id": 417134,
    "node_id": "MDQ6VXNlcjQxNzEzNA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/fvictorio",
    "html_url": "https://github.com/fvictorio",
    "followers_url": "https://api.github.com/users/fvictorio/followers",
    "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
    "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
    "organizations_url": "https://api.github.com/users/fvictorio/orgs",
    "repos_url": "https://api.github.com/users/fvictorio/repos",
    "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
    "received_events_url": "https://api.github.com/users/fvictorio/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/4359/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/4359/timeline",
  "performed_via_github_app": null,
  "state_reason": "not_planned"
}
[
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1713606052",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/4359#issuecomment-1713606052",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/4359",
    "id": 1713606052,
    "node_id": "IC_kwDOB7jojM5mI42k",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-09-11T10:26:37Z",
    "updated_at": "2023-09-11T10:26:37Z",
    "author_association": "MEMBER",
    "body": "Thank you @kuzdogan. I think this class of issues will go away when we have an explicit `init` command instead of initializing projects just with `npx hardhat`, which is confusing. See #2594 for the tracking issue.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1713606052/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
