{
  "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3534",
  "repository_url": "https://api.github.com/repos/NomicFoundation/hardhat",
  "labels_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3534/labels{/name}",
  "comments_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3534/comments",
  "events_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3534/events",
  "html_url": "https://github.com/NomicFoundation/hardhat/issues/3534",
  "id": 1517181357,
  "node_id": "I_kwDOB7jojM5ablmt",
  "number": 3534,
  "title": "Unable to verify through custom chain configs",
  "user": {
    "login": "bolpol",
    "id": 26168877,
    "node_id": "MDQ6VXNlcjI2MTY4ODc3",
    "avatar_url": "https://avatars.githubusercontent.com/u/26168877?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/bolpol",
    "html_url": "https://github.com/bolpol",
    "followers_url": "https://api.github.com/users/bolpol/followers",
    "following_url": "https://api.github.com/users/bolpol/following{/other_user}",
    "gists_url": "https://api.github.com/users/bolpol/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/bolpol/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/bolpol/subscriptions",
    "organizations_url": "https://api.github.com/users/bolpol/orgs",
    "repos_url": "https://api.github.com/users/bolpol/repos",
    "events_url": "https://api.github.com/users/bolpol/events{/privacy}",
    "received_events_url": "https://api.github.com/users/bolpol/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 4937119027,
      "node_id": "LA_kwDOB7jojM8AAAABJkZ1Mw",
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/labels/status:triaging",
      "name": "status:triaging",
      "color": "0E8A16",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": true,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 7,
  "created_at": "2023-01-03T10:14:11Z",
  "updated_at": "2023-07-31T00:14:44Z",
  "closed_at": "2023-05-01T07:47:34Z",
  "author_association": "NONE",
  "active_lock_reason": "resolved",
  "body": "Guide:\r\nhttps://hardhat.org/hardhat-runner/plugins/nomiclabs-hardhat-etherscan#adding-support-for-other-networks\r\n\r\nMy configs:\r\n```\r\netherscan: {\r\n    apiKey: {\r\n      ethereum: process.env.ETHERSCAN_API_KEY,\r\n      okx: process.env.OKX_URL\r\n    },\r\n    customChains: [\r\n      {\r\n        network: \"okx\",\r\n        chainId: 66,\r\n        urls: {\r\n              apiURL: \"https://www.oklink.com/api/explorer/v1/okc/contract/multipartVerify\",\r\n              browserURL: \"https://www.oklink.com/en/okc\"\r\n        },\r\n        httpHeaders: {\r\n          \"Ok-Access-Key\": `${process.env.OKX_API_KEY}`\r\n        }\r\n      }\r\n    ]\r\n  },\r\n```\r\n\r\nResult (still the same):\r\n> \r\n> NomicLabsHardhatPluginError: An etherscan endpoint could not be found for this network. ChainID: 66. The selected network is okx.\r\n> \r\n> Possible causes are:\r\n>   - The selected network (okx) is wrong.\r\n>   - Faulty hardhat network config.",
  "closed_by": {
    "login": "fvictorio",
    "id": 417134,
    "node_id": "MDQ6VXNlcjQxNzEzNA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/fvictorio",
    "html_url": "https://github.com/fvictorio",
    "followers_url": "https://api.github.com/users/fvictorio/followers",
    "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
    "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
    "organizations_url": "https://api.github.com/users/fvictorio/orgs",
    "repos_url": "https://api.github.com/users/fvictorio/repos",
    "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
    "received_events_url": "https://api.github.com/users/fvictorio/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3534/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3534/timeline",
  "performed_via_github_app": null,
  "state_reason": "not_planned"
}
[
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1369635247",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3534#issuecomment-1369635247",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3534",
    "id": 1369635247,
    "node_id": "IC_kwDOB7jojM5Rovmv",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-03T11:00:47Z",
    "updated_at": "2023-01-03T11:00:47Z",
    "author_association": "MEMBER",
    "body": "Hmm, that config looks correct to me. We don't support `httpHeaders` in the `customChains` config though (I opened #3536 for that).\r\n\r\nBut the error shouldn't be the one you got; you should get a message about the request failing. Can you help me reproduce this? Does OKX have a testnet with an explorer? If not, can you send me enough value to deploy a contract to `0xed57c53C505ccE57Cdee5872Ff1016024a45ef36`?",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1369635247/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 1,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1378665409",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3534#issuecomment-1378665409",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3534",
    "id": 1378665409,
    "node_id": "IC_kwDOB7jojM5SLMPB",
    "user": {
      "login": "bolpol",
      "id": 26168877,
      "node_id": "MDQ6VXNlcjI2MTY4ODc3",
      "avatar_url": "https://avatars.githubusercontent.com/u/26168877?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bolpol",
      "html_url": "https://github.com/bolpol",
      "followers_url": "https://api.github.com/users/bolpol/followers",
      "following_url": "https://api.github.com/users/bolpol/following{/other_user}",
      "gists_url": "https://api.github.com/users/bolpol/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bolpol/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bolpol/subscriptions",
      "organizations_url": "https://api.github.com/users/bolpol/orgs",
      "repos_url": "https://api.github.com/users/bolpol/repos",
      "events_url": "https://api.github.com/users/bolpol/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bolpol/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-11T12:18:12Z",
    "updated_at": "2023-01-11T12:18:12Z",
    "author_association": "NONE",
    "body": "> \r\n\r\nSent you 1 testOKX \r\nhttps://www.oklink.com/en/okc-test/tx/0xb38faccb1cc565ad6883a8d4aba13f3fca80ebc5e0de73f1d5b912ba09a6922b\r\n\r\nAPI key could be received on block explorer https://www.oklink.com/docs/en/#overview",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1378665409/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1462476814",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3534#issuecomment-1462476814",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3534",
    "id": 1462476814,
    "node_id": "IC_kwDOB7jojM5XK6AO",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-03-09T17:35:26Z",
    "updated_at": "2023-03-09T17:35:26Z",
    "author_association": "MEMBER",
    "body": "Hey @gfijrb, sorry for not responding before. Is this still relevant? I feel like I tried to reproduce it but couldn't do it, but I forgot the details. I'll give it another try if you confirm that it's still an issue.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1462476814/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1464845493",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3534#issuecomment-1464845493",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3534",
    "id": 1464845493,
    "node_id": "IC_kwDOB7jojM5XT8S1",
    "user": {
      "login": "bolpol",
      "id": 26168877,
      "node_id": "MDQ6VXNlcjI2MTY4ODc3",
      "avatar_url": "https://avatars.githubusercontent.com/u/26168877?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bolpol",
      "html_url": "https://github.com/bolpol",
      "followers_url": "https://api.github.com/users/bolpol/followers",
      "following_url": "https://api.github.com/users/bolpol/following{/other_user}",
      "gists_url": "https://api.github.com/users/bolpol/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bolpol/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bolpol/subscriptions",
      "organizations_url": "https://api.github.com/users/bolpol/orgs",
      "repos_url": "https://api.github.com/users/bolpol/repos",
      "events_url": "https://api.github.com/users/bolpol/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bolpol/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-03-11T06:56:28Z",
    "updated_at": "2023-03-11T06:56:28Z",
    "author_association": "NONE",
    "body": "> Hey @gfijrb, sorry for not responding before. Is this still relevant? I feel like I tried to reproduce it but couldn't do it, but I forgot the details. I'll give it another try if you confirm that it's still an issue.\r\n\r\nHi yeah, it is still an issue.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1464845493/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1526513638",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3534#issuecomment-1526513638",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3534",
    "id": 1526513638,
    "node_id": "IC_kwDOB7jojM5a_L_m",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-27T21:27:35Z",
    "updated_at": "2023-04-27T21:27:43Z",
    "author_association": "MEMBER",
    "body": "Hey @bolpol, sorry for not responding to this before, but every time I try to look into this issue I run into some problem. Could you tell me which JSON-RPC url can I use for the testnet of this chain? The ones that they have in their docs don't seem to work.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1526513638/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1527680845",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3534#issuecomment-1527680845",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3534",
    "id": 1527680845,
    "node_id": "IC_kwDOB7jojM5bDo9N",
    "user": {
      "login": "bolpol",
      "id": 26168877,
      "node_id": "MDQ6VXNlcjI2MTY4ODc3",
      "avatar_url": "https://avatars.githubusercontent.com/u/26168877?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bolpol",
      "html_url": "https://github.com/bolpol",
      "followers_url": "https://api.github.com/users/bolpol/followers",
      "following_url": "https://api.github.com/users/bolpol/following{/other_user}",
      "gists_url": "https://api.github.com/users/bolpol/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bolpol/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bolpol/subscriptions",
      "organizations_url": "https://api.github.com/users/bolpol/orgs",
      "repos_url": "https://api.github.com/users/bolpol/repos",
      "events_url": "https://api.github.com/users/bolpol/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bolpol/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-28T14:47:25Z",
    "updated_at": "2023-04-28T14:47:25Z",
    "author_association": "NONE",
    "body": "Hi @fvictorio\r\n\r\nNetwork name\r\nOKC Testnet\r\nRPC\r\nhttps://exchaintestrpc.okex.org\r\nchain id\r\n65\r\nsymbol\r\nOKT(TEST)\r\nExplorer\r\nhttps://www.oklink.com/okc-test/",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1527680845/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1529448561",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3534#issuecomment-1529448561",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3534",
    "id": 1529448561,
    "node_id": "IC_kwDOB7jojM5bKYhx",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-01T07:47:34Z",
    "updated_at": "2023-05-01T07:47:34Z",
    "author_association": "MEMBER",
    "body": "Hey @bolpol, I gave this another try and there are several different things going on here.\r\n\r\n1. As mentioned before, we don't support `httpHeaders` for custom chains. We should, and that is tracked by https://github.com/NomicFoundation/hardhat/issues/3536\r\n2. I kept the issue open because I was particularly interested in the \"An etherscan endpoint could not be found\" error, since that seemed incorrect given your config. But I couldn't reproduce that; in my case it does attempt to send requests to the server.\r\n3. Even taking that into account, I don't think the explorer supports an etherscan-compatible contract verification endpoint, does it? If they do, their docs don't mention it.\r\n\r\nSorry for taking so long to give a disappointing \"can't reproduce\" answer. I'm going to close this now, but if you still think there's something wrong in our end, please let me know.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1529448561/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
