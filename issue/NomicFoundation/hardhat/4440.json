{
  "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/4440",
  "repository_url": "https://api.github.com/repos/NomicFoundation/hardhat",
  "labels_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/4440/labels{/name}",
  "comments_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/4440/comments",
  "events_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/4440/events",
  "html_url": "https://github.com/NomicFoundation/hardhat/issues/4440",
  "id": 1927476941,
  "node_id": "I_kwDOB7jojM5y4vbN",
  "number": 4440,
  "title": "Allow state override on eth_estimateGas",
  "user": {
    "login": "HackProAIT",
    "id": 43614312,
    "node_id": "MDQ6VXNlcjQzNjE0MzEy",
    "avatar_url": "https://avatars.githubusercontent.com/u/43614312?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/HackProAIT",
    "html_url": "https://github.com/HackProAIT",
    "followers_url": "https://api.github.com/users/HackProAIT/followers",
    "following_url": "https://api.github.com/users/HackProAIT/following{/other_user}",
    "gists_url": "https://api.github.com/users/HackProAIT/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/HackProAIT/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/HackProAIT/subscriptions",
    "organizations_url": "https://api.github.com/users/HackProAIT/orgs",
    "repos_url": "https://api.github.com/users/HackProAIT/repos",
    "events_url": "https://api.github.com/users/HackProAIT/events{/privacy}",
    "received_events_url": "https://api.github.com/users/HackProAIT/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 947232611,
      "node_id": "MDU6TGFiZWw5NDcyMzI2MTE=",
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/labels/type:feature",
      "name": "type:feature",
      "color": "FBCA04",
      "default": false,
      "description": "Feature request"
    },
    {
      "id": 4937720577,
      "node_id": "LA_kwDOB7jojM8AAAABJk-jAQ",
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/labels/status:ready",
      "name": "status:ready",
      "color": "0E8A16",
      "default": false,
      "description": "This issue is ready to be worked on"
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2023-10-05T06:29:53Z",
  "updated_at": "2023-10-05T09:16:30Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "### Describe the feature\r\n\r\nCurrently, you can not perform an `eth_estimateGas` on something that isn't in the 'correct' state as the evm will, correctly, return an error. For example, on an erc20 you may wish to send an approve followed by a transfer call. You can estimate gas for the approve but not the transfer.\r\n\r\n# Implementation\r\nAdd an additional parameter to the end of the request in the same way eth_call does.\r\nAre you willing to implement this feature? Yes\r\n\r\nthis issue gas been resolved in latest Geth version for `eth_estimateGas`: https://github.com/ethereum/go-ethereum/issues/27800\r\nworks fine in hardhat for `eth_call`\r\n\r\n### Search terms\r\n`eth_estimateGas feature`",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/4440/reactions",
    "total_count": 1,
    "+1": 1,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/4440/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1748456263",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/4440#issuecomment-1748456263",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/4440",
    "id": 1748456263,
    "node_id": "IC_kwDOB7jojM5oN1NH",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-10-05T09:16:25Z",
    "updated_at": "2023-10-05T09:16:25Z",
    "author_association": "MEMBER",
    "body": "Hey @HackProAIT, thanks for this, I didn't know that geth supported state overrides in `eth_estimateGas` now, but it makes sense.\r\n\r\nWe are in the middle of a pretty involved refactor of the Hardhat network, so ideally we'd wait until that it's ready before implementing this. But if you think this has some urgency, we might do it before that (it should be pretty straightforward anyway).",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1748456263/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
