{
  "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3926",
  "repository_url": "https://api.github.com/repos/NomicFoundation/hardhat",
  "labels_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3926/labels{/name}",
  "comments_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3926/comments",
  "events_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3926/events",
  "html_url": "https://github.com/NomicFoundation/hardhat/issues/3926",
  "id": 1708621590,
  "node_id": "I_kwDOB7jojM5l138W",
  "number": 3926,
  "title": "Verify smart-contract by using programmatically method",
  "user": {
    "login": "sellmon",
    "id": 108669343,
    "node_id": "U_kgDOBnopnw",
    "avatar_url": "https://avatars.githubusercontent.com/u/108669343?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/sellmon",
    "html_url": "https://github.com/sellmon",
    "followers_url": "https://api.github.com/users/sellmon/followers",
    "following_url": "https://api.github.com/users/sellmon/following{/other_user}",
    "gists_url": "https://api.github.com/users/sellmon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/sellmon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/sellmon/subscriptions",
    "organizations_url": "https://api.github.com/users/sellmon/orgs",
    "repos_url": "https://api.github.com/users/sellmon/repos",
    "events_url": "https://api.github.com/users/sellmon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/sellmon/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 4937119027,
      "node_id": "LA_kwDOB7jojM8AAAABJkZ1Mw",
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/labels/status:triaging",
      "name": "status:triaging",
      "color": "0E8A16",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": true,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2023-05-13T14:19:50Z",
  "updated_at": "2023-09-07T00:12:35Z",
  "closed_at": "2023-05-15T15:48:10Z",
  "author_association": "NONE",
  "active_lock_reason": "resolved",
  "body": "### Version of Hardhat\r\n\r\n2.14.0\r\n\r\n### What happened?\r\n\r\nI work on ZkSync smart-contracts. And I have developed smart-contract factory to create new smart-contracts. I need solution to verify my smart-contracts programmatically after deploy.\r\n\r\nI found that I can use this function for example:\r\n```\r\nawait run(\"verify:verify\", {\r\n      address: wallet,\r\n      contract: digitalItemSaleAddress,\r\n      constructorArguments: [price, wallet],\r\n    });\r\n```\r\n\r\nBut don't understand my problem:\r\n\r\n```\r\n./node_modules/@nomicfoundation/solidity-analyzer-darwin-arm64/solidity-analyzer.darwin-arm64.node\r\nModule parse failed: Unexpected character '�' (1:0)\r\nYou may need an appropriate loader to handle this file type, currently no loaders are configured to process this file. See https://webpack.js.org/concepts#loaders\r\n(Source code omitted for this binary file)\r\n\r\nImport trace for requested module:\r\n./node_modules/@nomicfoundation/solidity-analyzer-darwin-arm64/solidity-analyzer.darwin-arm64.node\r\n./node_modules/@nomicfoundation/solidity-analyzer/index.js\r\n./node_modules/hardhat/internal/solidity/parse.js\r\n./node_modules/hardhat/builtin-tasks/compile.js\r\n./node_modules/hardhat/internal/core/tasks/builtin-tasks.js\r\n./node_modules/hardhat/internal/core/config/config-loading.js\r\n./node_modules/hardhat/internal/lib/hardhat-lib.js\r\n```\r\n\r\n\r\n\r\n### Minimal reproduction steps\r\n\r\nFirst I import this module:\r\n\r\n```\r\nimport { run } from \"hardhat\";\r\n```\r\n↓ \r\n```\r\nasync function createDigitalItemSale(): Promise<string> {\r\n...\r\nawait run(\"verify:verify\", {\r\n      address: wallet,\r\n      contract: digitalItemSaleAddress,\r\n      constructorArguments: [price, wallet],\r\n    });\r\n...\r\n}\r\n```\r\n↓\r\n```\r\n./node_modules/@nomicfoundation/solidity-analyzer-darwin-arm64/solidity-analyzer.darwin-arm64.node\r\nModule parse failed: Unexpected character '�' (1:0)\r\nYou may need an appropriate loader to handle this file type, currently no loaders are configured to process this file. See https://webpack.js.org/concepts#loaders\r\n(Source code omitted for this binary file)\r\n```\r\n\r\nI use TS, NextJS. Work on ZkSync.\r\nMy hardhat.config\r\n```\r\nimport \"@matterlabs/hardhat-zksync-deploy\";\r\nimport \"@matterlabs/hardhat-zksync-solc\";\r\nimport \"@matterlabs/hardhat-zksync-toolbox\";\r\nimport \"@matterlabs/hardhat-zksync-verify\";\r\n\r\nmodule.exports = {\r\n  zksolc: {\r\n    version: \"1.3.10\",\r\n    compilerSource: \"binary\",\r\n    settings: {},\r\n  },\r\n\r\n  defaultNetwork: \"zkTestnet\",\r\n\r\n  networks: {\r\n    zkTestnet: {\r\n      url: \"https://testnet.era.zksync.dev\", // The testnet RPC URL of zkSync Era network.\r\n      ethNetwork: \"goerli\", // The Ethereum Web3 RPC URL, or the identifier of the network (e.g. `mainnet` or `goerli`)\r\n      zksync: true,\r\n      // Verification endpoint for Goerli\r\n      verifyURL:\r\n        \"https://zksync2-testnet-explorer.zksync.dev/contract_verification\",\r\n    },\r\n  },\r\n\r\n  solidity: {\r\n    version: \"0.8.17\",\r\n  },\r\n};\r\n\r\n```\r\n\r\nWhat I am doing wrong?\r\nThanks!\r\n\r\nUPD:\r\n\r\nIs it not possible to run Hardhat on the client in the new version of Next.js, even with the use of server components?\r\n\r\nSo, the correct approach is to create an API and interact with it?\r\n\r\nIt seems like a challenging path. I didn't expect that verifying a contract programmatically would involve so many additional tasks.\r\n\r\nOr am I mistaken and there is a simpler way to accomplish this?\r\n\r\n### Search terms\r\n\r\n_No response_",
  "closed_by": {
    "login": "fvictorio",
    "id": 417134,
    "node_id": "MDQ6VXNlcjQxNzEzNA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/fvictorio",
    "html_url": "https://github.com/fvictorio",
    "followers_url": "https://api.github.com/users/fvictorio/followers",
    "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
    "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
    "organizations_url": "https://api.github.com/users/fvictorio/orgs",
    "repos_url": "https://api.github.com/users/fvictorio/repos",
    "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
    "received_events_url": "https://api.github.com/users/fvictorio/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3926/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3926/timeline",
  "performed_via_github_app": null,
  "state_reason": "not_planned"
}
[
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1548113513",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3926#issuecomment-1548113513",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3926",
    "id": 1548113513,
    "node_id": "IC_kwDOB7jojM5cRlZp",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-15T15:48:09Z",
    "updated_at": "2023-05-15T15:48:09Z",
    "author_association": "MEMBER",
    "body": "Hey @sellmon, Hardhat cannot be used in the browser. We don't have plans to support that either, sorry :slightly_frowning_face: ",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1548113513/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1548146731",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3926#issuecomment-1548146731",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3926",
    "id": 1548146731,
    "node_id": "IC_kwDOB7jojM5cRtgr",
    "user": {
      "login": "sellmon",
      "id": 108669343,
      "node_id": "U_kgDOBnopnw",
      "avatar_url": "https://avatars.githubusercontent.com/u/108669343?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sellmon",
      "html_url": "https://github.com/sellmon",
      "followers_url": "https://api.github.com/users/sellmon/followers",
      "following_url": "https://api.github.com/users/sellmon/following{/other_user}",
      "gists_url": "https://api.github.com/users/sellmon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sellmon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sellmon/subscriptions",
      "organizations_url": "https://api.github.com/users/sellmon/orgs",
      "repos_url": "https://api.github.com/users/sellmon/repos",
      "events_url": "https://api.github.com/users/sellmon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sellmon/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-15T16:07:19Z",
    "updated_at": "2023-05-15T16:07:19Z",
    "author_association": "NONE",
    "body": "@fvictorio \r\nYes, I thought so, but what then is the method of automatic verification available? What is the best way to verify a contract that is generated by a factory?",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1548146731/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1548176195",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3926#issuecomment-1548176195",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3926",
    "id": 1548176195,
    "node_id": "IC_kwDOB7jojM5cR0tD",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-15T16:27:22Z",
    "updated_at": "2023-05-15T16:27:22Z",
    "author_association": "MEMBER",
    "body": "`verify:verify` is the way to go. You'll have to do it in the backend though, as you guessed. Check [here](https://hardhat.org/hardhat-runner/plugins/nomicfoundation-hardhat-verify#using-programmatically).",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1548176195/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1548336930",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3926#issuecomment-1548336930",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3926",
    "id": 1548336930,
    "node_id": "IC_kwDOB7jojM5cSb8i",
    "user": {
      "login": "sellmon",
      "id": 108669343,
      "node_id": "U_kgDOBnopnw",
      "avatar_url": "https://avatars.githubusercontent.com/u/108669343?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sellmon",
      "html_url": "https://github.com/sellmon",
      "followers_url": "https://api.github.com/users/sellmon/followers",
      "following_url": "https://api.github.com/users/sellmon/following{/other_user}",
      "gists_url": "https://api.github.com/users/sellmon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sellmon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sellmon/subscriptions",
      "organizations_url": "https://api.github.com/users/sellmon/orgs",
      "repos_url": "https://api.github.com/users/sellmon/repos",
      "events_url": "https://api.github.com/users/sellmon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sellmon/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-15T18:15:54Z",
    "updated_at": "2023-05-15T18:15:54Z",
    "author_association": "NONE",
    "body": "@fvictorio \r\nThanks! Then I will draw a line, that is, the only and most correct way to use the launch of the verification task is to create an API and access it to launch this task?\r\nIf yes, then thanks!\r\nIf not, I would be happy to know about another way.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1548336930/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1550078509",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3926#issuecomment-1550078509",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3926",
    "id": 1550078509,
    "node_id": "IC_kwDOB7jojM5cZFIt",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-16T17:25:22Z",
    "updated_at": "2023-05-16T17:25:22Z",
    "author_association": "MEMBER",
    "body": "I don't know enough about your use case, but, using Hardhat, yes, that seems the correct way.\r\n\r\nIn principle you could verify a contract from the frontend, but:\r\n\r\n1) You would need to do it manually and hit the Etherscan endpoint. This is not a very straightforward thing to do.\r\n2) You would need an etherscan API key, and exposing that in the frontend might not be a good idea.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1550078509/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1581836727",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3926#issuecomment-1581836727",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3926",
    "id": 1581836727,
    "node_id": "IC_kwDOB7jojM5eSOm3",
    "user": {
      "login": "chubidursel",
      "id": 104061177,
      "node_id": "U_kgDOBjPY-Q",
      "avatar_url": "https://avatars.githubusercontent.com/u/104061177?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chubidursel",
      "html_url": "https://github.com/chubidursel",
      "followers_url": "https://api.github.com/users/chubidursel/followers",
      "following_url": "https://api.github.com/users/chubidursel/following{/other_user}",
      "gists_url": "https://api.github.com/users/chubidursel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chubidursel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chubidursel/subscriptions",
      "organizations_url": "https://api.github.com/users/chubidursel/orgs",
      "repos_url": "https://api.github.com/users/chubidursel/repos",
      "events_url": "https://api.github.com/users/chubidursel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chubidursel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-08T03:31:23Z",
    "updated_at": "2023-06-08T03:31:23Z",
    "author_association": "NONE",
    "body": "WHat is verifyURL for mainnet?",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1581836727/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
