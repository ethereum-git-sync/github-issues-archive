{
  "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1869",
  "repository_url": "https://api.github.com/repos/NomicFoundation/hardhat",
  "labels_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1869/labels{/name}",
  "comments_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1869/comments",
  "events_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1869/events",
  "html_url": "https://github.com/NomicFoundation/hardhat/issues/1869",
  "id": 991724289,
  "node_id": "MDU6SXNzdWU5OTE3MjQyODk=",
  "number": 1869,
  "title": "Function overloading kills hardhat tests.",
  "user": {
    "login": "grapevinegizmos",
    "id": 8684037,
    "node_id": "MDQ6VXNlcjg2ODQwMzc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/8684037?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/grapevinegizmos",
    "html_url": "https://github.com/grapevinegizmos",
    "followers_url": "https://api.github.com/users/grapevinegizmos/followers",
    "following_url": "https://api.github.com/users/grapevinegizmos/following{/other_user}",
    "gists_url": "https://api.github.com/users/grapevinegizmos/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/grapevinegizmos/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/grapevinegizmos/subscriptions",
    "organizations_url": "https://api.github.com/users/grapevinegizmos/orgs",
    "repos_url": "https://api.github.com/users/grapevinegizmos/repos",
    "events_url": "https://api.github.com/users/grapevinegizmos/events{/privacy}",
    "received_events_url": "https://api.github.com/users/grapevinegizmos/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": true,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2021-09-09T03:44:12Z",
  "updated_at": "2022-11-18T16:00:47Z",
  "closed_at": "2021-09-10T13:03:58Z",
  "author_association": "NONE",
  "active_lock_reason": "resolved",
  "body": " Perhaps this is not a bug in hardhat but a shortcoming of ethers' apparent inability to handle overloaded functions (functions with same name, different set of parameters) results in tests which fail in test with the error `TypeError: myContract.foo is not a function`.  \r\n\r\nHere's an example from my strings handling library.\r\nMain function:\r\n```\r\nfunction getSlice(string memory source, uint startPos, uint numChars) public pure returns (string memory) {\r\n       uint ustartPos = uint(startPos -1);\r\n       uint _numChars = uint(numChars);\r\n        bytes memory sourcebytes = bytes(source);\r\n       if (_numChars==0) {\r\n           _numChars = ((sourcebytes.length - ustartPos) + 1);\r\n       }\r\n      bytes memory result = new bytes(_numChars);     \r\n      for (uint i = 0; i<_numChars; i++) {\r\n          result[i] = sourcebytes[i + ustartPos];\r\n      }\r\n      return string(result);\r\n    }\r\n```\r\n\r\nConvenience version to get a slice from startPos to end of string:\r\n```\r\nfunction getSlice(string memory source, uint startPos) public pure returns (string memory) {\r\n       return getSlice(source, startPos, 0);\r\n}\r\n```\r\n\r\nIf the second form of getSlice exists in the library, getSlice causes the error \"not a function\" whichever form is used in the test.  Only by eliminating the function with the same name can I get the function work.  That means, practically speaking, I simply need to avoid overloaded functions entirely if I want to use hardhat, since I won't be able to write unit tests.  The tests work as expected in truffle or remix, and it seems suboptimal to have to eliminate an entire language feature of solidity in order to use hardhat as the development environment.  Can something be done about this?  I'm guessing using web3.js might fix the problem, but I'm hoping there is a better solution somehow. . .\r\n\r\n\r\n",
  "closed_by": {
    "login": "fvictorio",
    "id": 417134,
    "node_id": "MDQ6VXNlcjQxNzEzNA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/fvictorio",
    "html_url": "https://github.com/fvictorio",
    "followers_url": "https://api.github.com/users/fvictorio/followers",
    "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
    "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
    "organizations_url": "https://api.github.com/users/fvictorio/orgs",
    "repos_url": "https://api.github.com/users/fvictorio/repos",
    "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
    "received_events_url": "https://api.github.com/users/fvictorio/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1869/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1869/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/916888126",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1869#issuecomment-916888126",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1869",
    "id": 916888126,
    "node_id": "IC_kwDOB7jojM42ppo-",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-10T13:03:58Z",
    "updated_at": "2021-09-10T13:03:58Z",
    "author_association": "MEMBER",
    "body": "Yes, there's nothing we can do about this, sorry.\r\n\r\nThis will probably be improved by ethers in the next major version, see [this comment](https://github.com/ethers-io/ethers.js/issues/119#issuecomment-861024418).",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/916888126/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
