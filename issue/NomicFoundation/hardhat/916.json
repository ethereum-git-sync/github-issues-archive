{
  "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/916",
  "repository_url": "https://api.github.com/repos/NomicFoundation/hardhat",
  "labels_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/916/labels{/name}",
  "comments_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/916/comments",
  "events_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/916/events",
  "html_url": "https://github.com/NomicFoundation/hardhat/issues/916",
  "id": 726290486,
  "node_id": "MDU6SXNzdWU3MjYyOTA0ODY=",
  "number": 916,
  "title": "solc 0.7.4 file import callback not supported error",
  "user": {
    "login": "gitpusha",
    "id": 36712489,
    "node_id": "MDQ6VXNlcjM2NzEyNDg5",
    "avatar_url": "https://avatars.githubusercontent.com/u/36712489?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gitpusha",
    "html_url": "https://github.com/gitpusha",
    "followers_url": "https://api.github.com/users/gitpusha/followers",
    "following_url": "https://api.github.com/users/gitpusha/following{/other_user}",
    "gists_url": "https://api.github.com/users/gitpusha/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gitpusha/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gitpusha/subscriptions",
    "organizations_url": "https://api.github.com/users/gitpusha/orgs",
    "repos_url": "https://api.github.com/users/gitpusha/repos",
    "events_url": "https://api.github.com/users/gitpusha/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gitpusha/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": true,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2020-10-21T09:10:23Z",
  "updated_at": "2022-11-18T18:48:33Z",
  "closed_at": "2021-05-18T13:19:16Z",
  "author_association": "NONE",
  "active_lock_reason": "resolved",
  "body": "I reported this bug to @alcuadrado already: \r\n\r\nIn the new solidity 0.7 versions, you are not supposed to give the constructor a visibility modifier. However, when I remove the visibility modifier I get this weird `File import callback not supported bug` for one of my contracts, whereas when I give it a visibility modifier the problem is not there.\r\n\r\nSteps to reproduce:\r\n\r\nbuidler version: 1.4.7\r\nsolc: 0.7.4\r\n\"@gelatonetwork/core\": \"1.0.0\"\r\n\r\nTry to compile this code: \r\n\r\n```solidity\r\n// \"SPDX-License-Identifier: UNLICENSED\"\r\npragma solidity 0.7.4;\r\npragma experimental ABIEncoderV2;\r\n\r\n/// yarn add -D @gelatonetwork/core v1.0.0\r\nimport {\r\n    GelatoProviderModuleStandard\r\n} from \"@gelatonetwork/core/contracts/provider_modules/GelatoProviderModuleStandard.sol\";\r\n\r\ncontract ProviderModuleDSA is GelatoProviderModuleStandard {\r\n    // add/remove `public` for file import bug appear/disappear\r\n    constructor() {}\r\n}\r\n```\r\n\r\nHowever, when I change the import statement to be on one line: \r\n\r\n`import {GelatoProviderModuleStandard} from \"@gelatonetwork/core/contracts/provider_modules/GelatoProviderModuleStandard.sol\";`\r\n\r\nit all works as it should. \r\n\r\nHowever, I am using `prettier-solidity-plugin` which auto-formats long import statements to be multi-line.\r\n\r\nSo must be something about the Parser buidler is using.",
  "closed_by": {
    "login": "alcuadrado",
    "id": 176499,
    "node_id": "MDQ6VXNlcjE3NjQ5OQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/176499?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/alcuadrado",
    "html_url": "https://github.com/alcuadrado",
    "followers_url": "https://api.github.com/users/alcuadrado/followers",
    "following_url": "https://api.github.com/users/alcuadrado/following{/other_user}",
    "gists_url": "https://api.github.com/users/alcuadrado/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/alcuadrado/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/alcuadrado/subscriptions",
    "organizations_url": "https://api.github.com/users/alcuadrado/orgs",
    "repos_url": "https://api.github.com/users/alcuadrado/repos",
    "events_url": "https://api.github.com/users/alcuadrado/events{/privacy}",
    "received_events_url": "https://api.github.com/users/alcuadrado/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/916/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/916/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/720487980",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/916#issuecomment-720487980",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/916",
    "id": 720487980,
    "node_id": "MDEyOklzc3VlQ29tbWVudDcyMDQ4Nzk4MA==",
    "user": {
      "login": "gitpusha",
      "id": 36712489,
      "node_id": "MDQ6VXNlcjM2NzEyNDg5",
      "avatar_url": "https://avatars.githubusercontent.com/u/36712489?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gitpusha",
      "html_url": "https://github.com/gitpusha",
      "followers_url": "https://api.github.com/users/gitpusha/followers",
      "following_url": "https://api.github.com/users/gitpusha/following{/other_user}",
      "gists_url": "https://api.github.com/users/gitpusha/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gitpusha/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gitpusha/subscriptions",
      "organizations_url": "https://api.github.com/users/gitpusha/orgs",
      "repos_url": "https://api.github.com/users/gitpusha/repos",
      "events_url": "https://api.github.com/users/gitpusha/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gitpusha/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-02T13:57:59Z",
    "updated_at": "2020-11-02T13:58:33Z",
    "author_association": "NONE",
    "body": "Seems to have been resolved with new `hardhat` versions (or at least on `2.0.1` and `2.0.2`)",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/720487980/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/842558619",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/916#issuecomment-842558619",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/916",
    "id": 842558619,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg0MjU1ODYxOQ==",
    "user": {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-05-17T19:02:07Z",
    "updated_at": "2021-05-17T19:02:07Z",
    "author_association": "NONE",
    "body": "The error you're getting basically means that solc did find the file you're importing in the input from Hardhat. It's either under wrong path or not present at all. I would guess that a parsing file results in file being skipped for some reason.\r\n\r\nBTW, regarding the meaning of the weird error message. solc lets you provide a callback that is used to look up missing files. If a file has not been provided to the compiler in the JSON input the compiler invokes the callback. The default callback just tries to load the file from disk. You can also use this system to do fancy things like loading files directly from URLs, etc. Hardhat apparently does not provide such callback and the compiler is just pointing that out. I see a lot of confusion related to this message and I think we should change it to something more self-explanatory in the compiler. The callback is just a minor point and the message should focus on the fact that the file was not present in the input could not be looked up.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/842558619/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/843165060",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/916#issuecomment-843165060",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/916",
    "id": 843165060,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg0MzE2NTA2MA==",
    "user": {
      "login": "alcuadrado",
      "id": 176499,
      "node_id": "MDQ6VXNlcjE3NjQ5OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/176499?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alcuadrado",
      "html_url": "https://github.com/alcuadrado",
      "followers_url": "https://api.github.com/users/alcuadrado/followers",
      "following_url": "https://api.github.com/users/alcuadrado/following{/other_user}",
      "gists_url": "https://api.github.com/users/alcuadrado/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alcuadrado/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alcuadrado/subscriptions",
      "organizations_url": "https://api.github.com/users/alcuadrado/orgs",
      "repos_url": "https://api.github.com/users/alcuadrado/repos",
      "events_url": "https://api.github.com/users/alcuadrado/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alcuadrado/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-05-18T13:19:16Z",
    "updated_at": "2021-05-18T13:19:16Z",
    "author_association": "MEMBER",
    "body": "Hey @cameel, thanks for your explanation.\r\n\r\nThe way hardhat works is by resolving all dependencies locally and then calling native solc using the standard json input. The reason this bug was present was that our dependencies resolution was somehow broken and the json was incomplete.\r\n\r\nI completely agree that the error message is misleading. The error is that a file is missing, the callback is just an unrelated option.\r\n\r\nI'm closing this issue as it has been solved. Please if anyone is getting a similar error, open a new one.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/843165060/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
