{
  "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3043",
  "repository_url": "https://api.github.com/repos/NomicFoundation/hardhat",
  "labels_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3043/labels{/name}",
  "comments_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3043/comments",
  "events_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3043/events",
  "html_url": "https://github.com/NomicFoundation/hardhat/issues/3043",
  "id": 1339490726,
  "node_id": "I_kwDOB7jojM5P1wGm",
  "number": 3043,
  "title": "Initial support for ES Modules",
  "user": {
    "login": "fvictorio",
    "id": 417134,
    "node_id": "MDQ6VXNlcjQxNzEzNA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/fvictorio",
    "html_url": "https://github.com/fvictorio",
    "followers_url": "https://api.github.com/users/fvictorio/followers",
    "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
    "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
    "organizations_url": "https://api.github.com/users/fvictorio/orgs",
    "repos_url": "https://api.github.com/users/fvictorio/repos",
    "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
    "received_events_url": "https://api.github.com/users/fvictorio/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 947232611,
      "node_id": "MDU6TGFiZWw5NDcyMzI2MTE=",
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/labels/type:feature",
      "name": "type:feature",
      "color": "FBCA04",
      "default": false,
      "description": "Feature request"
    },
    {
      "id": 4937720577,
      "node_id": "LA_kwDOB7jojM8AAAABJk-jAQ",
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/labels/status:ready",
      "name": "status:ready",
      "color": "0E8A16",
      "default": false,
      "description": "This issue is ready to be worked on"
    }
  ],
  "state": "closed",
  "locked": true,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 15,
  "created_at": "2022-08-15T20:45:48Z",
  "updated_at": "2023-06-01T00:18:07Z",
  "closed_at": "2023-03-02T18:29:10Z",
  "author_association": "MEMBER",
  "active_lock_reason": "resolved",
  "body": "We are working on adding some support for using ES Modules in Hardhat projects. We can't provide **full** support yet because Hardhat's plugin system relies on plugins being loaded synchronously, in the CommonJS model, and ESM works in a different way.\r\n\r\nWe'll only support ESM in javascript projects, because we rely on `ts-node` for typescript projects and their support for ESM is not quite ready. For example, they rely on an experimental API of Node that is not stable and triggers some annoying warnings.\r\n\r\nHardhat projects that use ESM will need to have a `hardhat.config.cjs` file (a CommonJS config file) and all the files required by it will need to be CJS too. But the rest of the project, including scripts and tests, will be writable in ESM.\r\n\r\n**You can try this right now** by installing the `esm` tag of Hardhat:\r\n\r\n```\r\nnpm i hardhat@esm\r\n```\r\n\r\nIf you find any problems, please leave a comment here or open an issue about it. Any feedback on this, whether if it's working or not, is super appreciated.\r\n\r\nTodo:\r\n- [x] Include `.cjs`/`.mjs` files when running the `test` task\r\n- [x] Create a `.cjs` hardhat config during initialization if the projects has `type: module`\r\n- [x] Write an advanced guide about this\r\n- [x] Throw a proper error when a typescript project uses ESM",
  "closed_by": {
    "login": "fvictorio",
    "id": 417134,
    "node_id": "MDQ6VXNlcjQxNzEzNA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/fvictorio",
    "html_url": "https://github.com/fvictorio",
    "followers_url": "https://api.github.com/users/fvictorio/followers",
    "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
    "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
    "organizations_url": "https://api.github.com/users/fvictorio/orgs",
    "repos_url": "https://api.github.com/users/fvictorio/repos",
    "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
    "received_events_url": "https://api.github.com/users/fvictorio/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3043/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3043/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1215774206",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3043#issuecomment-1215774206",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3043",
    "id": 1215774206,
    "node_id": "IC_kwDOB7jojM5Idz3-",
    "user": {
      "login": "github-actions[bot]",
      "id": 41898282,
      "node_id": "MDM6Qm90NDE4OTgyODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/github-actions%5Bbot%5D",
      "html_url": "https://github.com/apps/github-actions",
      "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2022-08-15T20:46:18Z",
    "updated_at": "2022-08-15T20:46:18Z",
    "author_association": "CONTRIBUTOR",
    "body": "This issue is also being [tracked on Linear](https://linear.app/nomic-foundation/issue/HH-1056/initial-support-for-es-modules-[nomicfoundationhardhat3043]).\n\nWe use Linear to manage our development process, but we keep the conversations on Github.\n\nLINEAR-ID: 6e5e4298-5f0d-4e67-8e6f-1002ab3a321a",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1215774206/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1369041626",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3043#issuecomment-1369041626",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3043",
    "id": 1369041626,
    "node_id": "IC_kwDOB7jojM5Rmera",
    "user": {
      "login": "vladfaust",
      "id": 7955682,
      "node_id": "MDQ6VXNlcjc5NTU2ODI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7955682?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vladfaust",
      "html_url": "https://github.com/vladfaust",
      "followers_url": "https://api.github.com/users/vladfaust/followers",
      "following_url": "https://api.github.com/users/vladfaust/following{/other_user}",
      "gists_url": "https://api.github.com/users/vladfaust/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vladfaust/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vladfaust/subscriptions",
      "organizations_url": "https://api.github.com/users/vladfaust/orgs",
      "repos_url": "https://api.github.com/users/vladfaust/repos",
      "events_url": "https://api.github.com/users/vladfaust/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vladfaust/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-02T15:36:27Z",
    "updated_at": "2023-01-02T15:36:27Z",
    "author_association": "NONE",
    "body": "> For example, they rely on an experimental API of Node that is not stable and triggers some annoying warnings.\r\n\r\nPersonally, I think this reason is not enough to disable TypeScript support.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1369041626/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1369073492",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3043#issuecomment-1369073492",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3043",
    "id": 1369073492,
    "node_id": "IC_kwDOB7jojM5RmmdU",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-02T16:22:09Z",
    "updated_at": "2023-01-02T16:22:09Z",
    "author_association": "MEMBER",
    "body": "It's not that we are _disabling_ it, it's that we don't want to invest significant time adding support for it right now if the result might break anytime soon. But we might re-consider this in some months.\r\n\r\nIf this is something you want or need, please upvote [this issue](https://github.com/NomicFoundation/hardhat/issues/3385)",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1369073492/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1369420288",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3043#issuecomment-1369420288",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3043",
    "id": 1369420288,
    "node_id": "IC_kwDOB7jojM5Rn7IA",
    "user": {
      "login": "Olyno",
      "id": 25107942,
      "node_id": "MDQ6VXNlcjI1MTA3OTQy",
      "avatar_url": "https://avatars.githubusercontent.com/u/25107942?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Olyno",
      "html_url": "https://github.com/Olyno",
      "followers_url": "https://api.github.com/users/Olyno/followers",
      "following_url": "https://api.github.com/users/Olyno/following{/other_user}",
      "gists_url": "https://api.github.com/users/Olyno/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Olyno/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Olyno/subscriptions",
      "organizations_url": "https://api.github.com/users/Olyno/orgs",
      "repos_url": "https://api.github.com/users/Olyno/repos",
      "events_url": "https://api.github.com/users/Olyno/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Olyno/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-03T06:01:14Z",
    "updated_at": "2023-01-03T06:01:14Z",
    "author_association": "NONE",
    "body": "Why not use tools such as [tsup](https://github.com/egoist/tsup) (a detailed example available [here](https://antfu.me/posts/publish-esm-and-cjs#tsup)) that allow to build Hardhat in cjs and esm, and thus solve the problem while bringing the support to Typescript at the same time?",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1369420288/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1369438803",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3043#issuecomment-1369438803",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3043",
    "id": 1369438803,
    "node_id": "IC_kwDOB7jojM5Rn_pT",
    "user": {
      "login": "dbeal-eth",
      "id": 2107457,
      "node_id": "MDQ6VXNlcjIxMDc0NTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2107457?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dbeal-eth",
      "html_url": "https://github.com/dbeal-eth",
      "followers_url": "https://api.github.com/users/dbeal-eth/followers",
      "following_url": "https://api.github.com/users/dbeal-eth/following{/other_user}",
      "gists_url": "https://api.github.com/users/dbeal-eth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dbeal-eth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dbeal-eth/subscriptions",
      "organizations_url": "https://api.github.com/users/dbeal-eth/orgs",
      "repos_url": "https://api.github.com/users/dbeal-eth/repos",
      "events_url": "https://api.github.com/users/dbeal-eth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dbeal-eth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-03T06:45:54Z",
    "updated_at": "2023-01-03T06:45:54Z",
    "author_association": "CONTRIBUTOR",
    "body": "> Hardhat projects that use ESM will need to have a hardhat.config.cjs file (a CommonJS config file) and all the files required by it will need to be CJS too. But the rest of the project, including scripts and tests, will be writable in ESM.\r\n\r\nthis is actually quite a significant limitation because any of the hardhat plugins which depend on ESM-only modules (ex. IPFS https://github.com/ipfs/js-ipfs/blob/master/packages/ipfs-http-client/package.json#L21 ) will have to be held back to older versions, which has been starting to lead to problems at least with the plugin that I am working on. Any plans to change this in the near future?",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1369438803/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1369473311",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3043#issuecomment-1369473311",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3043",
    "id": 1369473311,
    "node_id": "IC_kwDOB7jojM5RoIEf",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-03T07:52:14Z",
    "updated_at": "2023-01-03T07:52:14Z",
    "author_association": "MEMBER",
    "body": "@Olyno the problem here is this: you want to write your Hardhat project in TS, and you want to transpile to ES modules (because one of your dependencies is ESM only). To execute your scripts/tests without having to compile the project, you have to use something like `ts-node` (or an alternative like `swc`). But `ts-node`'s support for this is still very experimental, and migrating to another tool is not super easy.\r\n\r\nHow does bundling Hardhat itself fixes that?\r\n\r\n> Any plans to change this in the near future?\r\n\r\n@dbeal-eth Yeah, definitely. We are just starting with ESM support for js projects because it's easier and we can support it without any major trade-offs. That doesn't mean we don't want to add ESM support for ts projects. We might just end up doing the `ts-node`-with-warnings fix, so that there's at least _some_ workaround.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1369473311/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1369645041",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3043#issuecomment-1369645041",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3043",
    "id": 1369645041,
    "node_id": "IC_kwDOB7jojM5Rox_x",
    "user": {
      "login": "dbeal-eth",
      "id": 2107457,
      "node_id": "MDQ6VXNlcjIxMDc0NTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2107457?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dbeal-eth",
      "html_url": "https://github.com/dbeal-eth",
      "followers_url": "https://api.github.com/users/dbeal-eth/followers",
      "following_url": "https://api.github.com/users/dbeal-eth/following{/other_user}",
      "gists_url": "https://api.github.com/users/dbeal-eth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dbeal-eth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dbeal-eth/subscriptions",
      "organizations_url": "https://api.github.com/users/dbeal-eth/orgs",
      "repos_url": "https://api.github.com/users/dbeal-eth/repos",
      "events_url": "https://api.github.com/users/dbeal-eth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dbeal-eth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-03T11:10:33Z",
    "updated_at": "2023-01-03T11:10:33Z",
    "author_association": "CONTRIBUTOR",
    "body": "@fvictorio actually my earlier query was regarding the restriction where the `hardhat.config.cjs` module has to be a `cjs` file, but that means that there is no capability for supporting ESM hardhat plugins. If you are developing a hardhat plugin that depends on another nodejs module which only supports ESM, its a problem...",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1369645041/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1369652439",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3043#issuecomment-1369652439",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3043",
    "id": 1369652439,
    "node_id": "IC_kwDOB7jojM5RozzX",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-03T11:18:22Z",
    "updated_at": "2023-01-03T11:18:22Z",
    "author_association": "MEMBER",
    "body": "Oh, I see. Yeah, that will be a major breaking change, so it will have to wait until a future v3 of Hardhat.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1369652439/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1428108386",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3043#issuecomment-1428108386",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3043",
    "id": 1428108386,
    "node_id": "IC_kwDOB7jojM5VHzRi",
    "user": {
      "login": "mime29",
      "id": 2211828,
      "node_id": "MDQ6VXNlcjIyMTE4Mjg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2211828?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mime29",
      "html_url": "https://github.com/mime29",
      "followers_url": "https://api.github.com/users/mime29/followers",
      "following_url": "https://api.github.com/users/mime29/following{/other_user}",
      "gists_url": "https://api.github.com/users/mime29/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mime29/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mime29/subscriptions",
      "organizations_url": "https://api.github.com/users/mime29/orgs",
      "repos_url": "https://api.github.com/users/mime29/repos",
      "events_url": "https://api.github.com/users/mime29/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mime29/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-13T15:11:24Z",
    "updated_at": "2023-02-13T15:11:24Z",
    "author_association": "NONE",
    "body": "I'm using hardhat in a sveltekit project with a `package.json` file with those devDependencies as well:\r\n\r\n```\r\n\t\t\"@nomicfoundation/hardhat-chai-matchers\": \"^1.0.4\",\r\n\t\t\"@nomicfoundation/hardhat-network-helpers\": \"^1.0.6\",\r\n\t\t\"@nomicfoundation/hardhat-toolbox\": \"^2.0.0\",\r\n\t\t\"@nomiclabs/hardhat-ethers\": \"^2.2.0\",\r\n```\r\n\r\nAnd this installs automatically hardhat: \"0.1.0\" (which does not seem to be the esm version??) instead of the \"2.12.0-esm.1\" that should be installed from the `dependencies\":\r\n\r\n```\r\n\"hardhat\": \"^2.12.0-esm.1\",\r\n```\r\n\r\nthe only solution I found for now is to add an `override: { }` in my npm. \r\nIs there a better approach?\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1428108386/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1428132428",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3043#issuecomment-1428132428",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3043",
    "id": 1428132428,
    "node_id": "IC_kwDOB7jojM5VH5JM",
    "user": {
      "login": "alcuadrado",
      "id": 176499,
      "node_id": "MDQ6VXNlcjE3NjQ5OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/176499?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alcuadrado",
      "html_url": "https://github.com/alcuadrado",
      "followers_url": "https://api.github.com/users/alcuadrado/followers",
      "following_url": "https://api.github.com/users/alcuadrado/following{/other_user}",
      "gists_url": "https://api.github.com/users/alcuadrado/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alcuadrado/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alcuadrado/subscriptions",
      "organizations_url": "https://api.github.com/users/alcuadrado/orgs",
      "repos_url": "https://api.github.com/users/alcuadrado/repos",
      "events_url": "https://api.github.com/users/alcuadrado/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alcuadrado/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-13T15:23:38Z",
    "updated_at": "2023-02-13T15:23:38Z",
    "author_association": "MEMBER",
    "body": "Hey @mime29, can you open a separate issue and describe your system in detail? Thanks",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1428132428/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1429198908",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3043#issuecomment-1429198908",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3043",
    "id": 1429198908,
    "node_id": "IC_kwDOB7jojM5VL9g8",
    "user": {
      "login": "aathan",
      "id": 24279435,
      "node_id": "MDQ6VXNlcjI0Mjc5NDM1",
      "avatar_url": "https://avatars.githubusercontent.com/u/24279435?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aathan",
      "html_url": "https://github.com/aathan",
      "followers_url": "https://api.github.com/users/aathan/followers",
      "following_url": "https://api.github.com/users/aathan/following{/other_user}",
      "gists_url": "https://api.github.com/users/aathan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aathan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aathan/subscriptions",
      "organizations_url": "https://api.github.com/users/aathan/orgs",
      "repos_url": "https://api.github.com/users/aathan/repos",
      "events_url": "https://api.github.com/users/aathan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aathan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-14T06:38:10Z",
    "updated_at": "2023-02-14T06:38:53Z",
    "author_association": "NONE",
    "body": "I don't claim to understand many (any?) details surrounding ESM, hardhat and node; and I'm not sure that this issue is the best place to report this, but it's where I arrived after googling about `error TS5095: Option 'preserveValueImports' can only be used when 'module' is set to 'es2015' or later.`\r\n\r\nI wanted to report that setting \"module,\" to node16 or nodenext instead of commonjs, allows a hardhat.config.ts file that uses import statements to run...\r\n\r\n```\r\n    \"compilerOptions\": {\r\n        \"target\": \"es2020\",\r\n        \"module\": \"nodenext\",\r\n```\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1429198908/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1429551968",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3043#issuecomment-1429551968",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3043",
    "id": 1429551968,
    "node_id": "IC_kwDOB7jojM5VNTtg",
    "user": {
      "login": "mihaic195",
      "id": 34626017,
      "node_id": "MDQ6VXNlcjM0NjI2MDE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/34626017?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mihaic195",
      "html_url": "https://github.com/mihaic195",
      "followers_url": "https://api.github.com/users/mihaic195/followers",
      "following_url": "https://api.github.com/users/mihaic195/following{/other_user}",
      "gists_url": "https://api.github.com/users/mihaic195/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mihaic195/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mihaic195/subscriptions",
      "organizations_url": "https://api.github.com/users/mihaic195/orgs",
      "repos_url": "https://api.github.com/users/mihaic195/repos",
      "events_url": "https://api.github.com/users/mihaic195/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mihaic195/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-14T11:13:34Z",
    "updated_at": "2023-02-14T11:14:18Z",
    "author_association": "NONE",
    "body": "ESModules are mandatory in Next.js TS projects, so importing the Hardhat Runtime is impossible in Typescript Next.js projects.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1429551968/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1429763557",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3043#issuecomment-1429763557",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3043",
    "id": 1429763557,
    "node_id": "IC_kwDOB7jojM5VOHXl",
    "user": {
      "login": "alcuadrado",
      "id": 176499,
      "node_id": "MDQ6VXNlcjE3NjQ5OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/176499?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alcuadrado",
      "html_url": "https://github.com/alcuadrado",
      "followers_url": "https://api.github.com/users/alcuadrado/followers",
      "following_url": "https://api.github.com/users/alcuadrado/following{/other_user}",
      "gists_url": "https://api.github.com/users/alcuadrado/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alcuadrado/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alcuadrado/subscriptions",
      "organizations_url": "https://api.github.com/users/alcuadrado/orgs",
      "repos_url": "https://api.github.com/users/alcuadrado/repos",
      "events_url": "https://api.github.com/users/alcuadrado/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alcuadrado/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-14T13:39:09Z",
    "updated_at": "2023-02-14T13:39:09Z",
    "author_association": "MEMBER",
    "body": "> \r\n\r\nHardhat can't be used in the browser. Or do you mean a combined node+next.js project?",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1429763557/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1431323260",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3043#issuecomment-1431323260",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3043",
    "id": 1431323260,
    "node_id": "IC_kwDOB7jojM5VUEJ8",
    "user": {
      "login": "mihaic195",
      "id": 34626017,
      "node_id": "MDQ6VXNlcjM0NjI2MDE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/34626017?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mihaic195",
      "html_url": "https://github.com/mihaic195",
      "followers_url": "https://api.github.com/users/mihaic195/followers",
      "following_url": "https://api.github.com/users/mihaic195/following{/other_user}",
      "gists_url": "https://api.github.com/users/mihaic195/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mihaic195/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mihaic195/subscriptions",
      "organizations_url": "https://api.github.com/users/mihaic195/orgs",
      "repos_url": "https://api.github.com/users/mihaic195/repos",
      "events_url": "https://api.github.com/users/mihaic195/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mihaic195/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-15T12:54:11Z",
    "updated_at": "2023-02-15T12:54:11Z",
    "author_association": "NONE",
    "body": "@alcuadrado I don't expect it to run in the browser. I opened a new issue with more details here: https://github.com/NomicFoundation/hardhat/issues/3676",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1431323260/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1452344969",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3043#issuecomment-1452344969",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3043",
    "id": 1452344969,
    "node_id": "IC_kwDOB7jojM5WkQaJ",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-03-02T18:29:10Z",
    "updated_at": "2023-03-02T18:29:10Z",
    "author_association": "MEMBER",
    "body": "Released in [Hardhat v2.13.0](https://github.com/NomicFoundation/hardhat/releases/tag/hardhat%402.13.0) :tada: ",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1452344969/reactions",
      "total_count": 2,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 2,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
