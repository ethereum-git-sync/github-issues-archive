{
  "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1365",
  "repository_url": "https://api.github.com/repos/NomicFoundation/hardhat",
  "labels_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1365/labels{/name}",
  "comments_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1365/comments",
  "events_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1365/events",
  "html_url": "https://github.com/NomicFoundation/hardhat/issues/1365",
  "id": 848369187,
  "node_id": "MDU6SXNzdWU4NDgzNjkxODc=",
  "number": 1365,
  "title": "Compiled vyper contracts are not deployable",
  "user": {
    "login": "tennox",
    "id": 2084639,
    "node_id": "MDQ6VXNlcjIwODQ2Mzk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2084639?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tennox",
    "html_url": "https://github.com/tennox",
    "followers_url": "https://api.github.com/users/tennox/followers",
    "following_url": "https://api.github.com/users/tennox/following{/other_user}",
    "gists_url": "https://api.github.com/users/tennox/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tennox/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tennox/subscriptions",
    "organizations_url": "https://api.github.com/users/tennox/orgs",
    "repos_url": "https://api.github.com/users/tennox/repos",
    "events_url": "https://api.github.com/users/tennox/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tennox/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": true,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2021-04-01T11:10:01Z",
  "updated_at": "2022-11-18T18:48:48Z",
  "closed_at": "2021-04-10T23:32:52Z",
  "author_association": "NONE",
  "active_lock_reason": "resolved",
  "body": "I'm trying to deploy contract compiled with **hardhat-vyper**, but they are missing their `.dbg.json` files. (the solidity ones have them) \r\nWhich in turn choke the **hardhat-deploy** scripts failing to  `getBuildInfo` \r\nI need support in which part of it is expected and which part is wrong - and how to fix / work around it.\r\n\r\nDeploy to local network works fine, but to goerli it does not.\r\n\r\nI outlined the part of the issue which happens in the deployment process in the [hardhat-deploy issue](https://github.com/wighawag/hardhat-deploy/issues/94), but **I suppose the underlying issue is caused by the missing build-info of compiled vyper contracts**.\r\n\r\n**Workaround:** set `saveDeployments: false` for the network\r\n",
  "closed_by": {
    "login": "alcuadrado",
    "id": 176499,
    "node_id": "MDQ6VXNlcjE3NjQ5OQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/176499?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/alcuadrado",
    "html_url": "https://github.com/alcuadrado",
    "followers_url": "https://api.github.com/users/alcuadrado/followers",
    "following_url": "https://api.github.com/users/alcuadrado/following{/other_user}",
    "gists_url": "https://api.github.com/users/alcuadrado/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/alcuadrado/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/alcuadrado/subscriptions",
    "organizations_url": "https://api.github.com/users/alcuadrado/orgs",
    "repos_url": "https://api.github.com/users/alcuadrado/repos",
    "events_url": "https://api.github.com/users/alcuadrado/events{/privacy}",
    "received_events_url": "https://api.github.com/users/alcuadrado/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1365/reactions",
    "total_count": 2,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 2
  },
  "timeline_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1365/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/812511950",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1365#issuecomment-812511950",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1365",
    "id": 812511950,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgxMjUxMTk1MA==",
    "user": {
      "login": "wighawag",
      "id": 790580,
      "node_id": "MDQ6VXNlcjc5MDU4MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/790580?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wighawag",
      "html_url": "https://github.com/wighawag",
      "followers_url": "https://api.github.com/users/wighawag/followers",
      "following_url": "https://api.github.com/users/wighawag/following{/other_user}",
      "gists_url": "https://api.github.com/users/wighawag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wighawag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wighawag/subscriptions",
      "organizations_url": "https://api.github.com/users/wighawag/orgs",
      "repos_url": "https://api.github.com/users/wighawag/repos",
      "events_url": "https://api.github.com/users/wighawag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wighawag/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-02T12:37:34Z",
    "updated_at": "2021-04-02T12:37:34Z",
    "author_association": "CONTRIBUTOR",
    "body": "It looks indeed like hardhat-vyper do not generate the dbg file that then link to the build-info file\r\n\r\nWithout it hardhat-deploy could continue with the deployment, but this would mean that source verification (and other features relying on extra build data (solc output)) would fails\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/812511950/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/812512708",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1365#issuecomment-812512708",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1365",
    "id": 812512708,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgxMjUxMjcwOA==",
    "user": {
      "login": "tennox",
      "id": 2084639,
      "node_id": "MDQ6VXNlcjIwODQ2Mzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2084639?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tennox",
      "html_url": "https://github.com/tennox",
      "followers_url": "https://api.github.com/users/tennox/followers",
      "following_url": "https://api.github.com/users/tennox/following{/other_user}",
      "gists_url": "https://api.github.com/users/tennox/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tennox/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tennox/subscriptions",
      "organizations_url": "https://api.github.com/users/tennox/orgs",
      "repos_url": "https://api.github.com/users/tennox/repos",
      "events_url": "https://api.github.com/users/tennox/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tennox/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-02T12:40:04Z",
    "updated_at": "2021-04-02T12:40:04Z",
    "author_association": "NONE",
    "body": "Please note that it's not only the link missing but the whole build-info. See my `build-info/5abc123.json`:\r\n![Screenshot from 2021-04-02 14-38-44](https://user-images.githubusercontent.com/2084639/113416246-2eea2480-93c1-11eb-9284-125fec50fb34.png)\r\n(see here that it only contains the build-info for the solidty contract, no the vyper ones)",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/812512708/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/812514856",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1365#issuecomment-812514856",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1365",
    "id": 812514856,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgxMjUxNDg1Ng==",
    "user": {
      "login": "tennox",
      "id": 2084639,
      "node_id": "MDQ6VXNlcjIwODQ2Mzk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2084639?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tennox",
      "html_url": "https://github.com/tennox",
      "followers_url": "https://api.github.com/users/tennox/followers",
      "following_url": "https://api.github.com/users/tennox/following{/other_user}",
      "gists_url": "https://api.github.com/users/tennox/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tennox/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tennox/subscriptions",
      "organizations_url": "https://api.github.com/users/tennox/orgs",
      "repos_url": "https://api.github.com/users/tennox/repos",
      "events_url": "https://api.github.com/users/tennox/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tennox/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-02T12:46:46Z",
    "updated_at": "2021-04-02T12:46:46Z",
    "author_association": "NONE",
    "body": "Posted a question to the Vyper team:\r\nhttps://gitter.im/vyperlang/community?at=60671214db595f5599ceda9e",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/812514856/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/817216076",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1365#issuecomment-817216076",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1365",
    "id": 817216076,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgxNzIxNjA3Ng==",
    "user": {
      "login": "alcuadrado",
      "id": 176499,
      "node_id": "MDQ6VXNlcjE3NjQ5OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/176499?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alcuadrado",
      "html_url": "https://github.com/alcuadrado",
      "followers_url": "https://api.github.com/users/alcuadrado/followers",
      "following_url": "https://api.github.com/users/alcuadrado/following{/other_user}",
      "gists_url": "https://api.github.com/users/alcuadrado/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alcuadrado/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alcuadrado/subscriptions",
      "organizations_url": "https://api.github.com/users/alcuadrado/orgs",
      "repos_url": "https://api.github.com/users/alcuadrado/repos",
      "events_url": "https://api.github.com/users/alcuadrado/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alcuadrado/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-10T23:28:42Z",
    "updated_at": "2021-04-10T23:28:42Z",
    "author_association": "MEMBER",
    "body": "> Without it hardhat-deploy could continue with the deployment, but this would mean that source verification (and other features relying on extra build data (solc output)) would fails\r\n\r\nI'm confused about this. What do you mean? Vyper contracts are not compiled by solc.\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/817216076/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/817216338",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1365#issuecomment-817216338",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1365",
    "id": 817216338,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgxNzIxNjMzOA==",
    "user": {
      "login": "alcuadrado",
      "id": 176499,
      "node_id": "MDQ6VXNlcjE3NjQ5OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/176499?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alcuadrado",
      "html_url": "https://github.com/alcuadrado",
      "followers_url": "https://api.github.com/users/alcuadrado/followers",
      "following_url": "https://api.github.com/users/alcuadrado/following{/other_user}",
      "gists_url": "https://api.github.com/users/alcuadrado/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alcuadrado/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alcuadrado/subscriptions",
      "organizations_url": "https://api.github.com/users/alcuadrado/orgs",
      "repos_url": "https://api.github.com/users/alcuadrado/repos",
      "events_url": "https://api.github.com/users/alcuadrado/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alcuadrado/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-10T23:31:32Z",
    "updated_at": "2021-04-10T23:32:51Z",
    "author_association": "MEMBER",
    "body": "I just read this message of your on gitter, @wighawag \r\n\r\n> Ok, thanks fubuloubu i suppose the vyper compiler is deterministic and so i can use the input + compiler version info to verify source later\r\n\r\nThe answer there is yes. That info is enough.\r\n\r\nAlso note that the current build info format is tied to solc. If we were to introduce better debugging info for vyper we probably wont use build infos, but rather directly `.dbg.json` files with a different format, as vyper compiles files individually, so there's not need for build infos. \r\n\r\nI'll close this issue, as as it's written now is more about buidler-deploy imo.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/817216338/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/817262652",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1365#issuecomment-817262652",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1365",
    "id": 817262652,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgxNzI2MjY1Mg==",
    "user": {
      "login": "wighawag",
      "id": 790580,
      "node_id": "MDQ6VXNlcjc5MDU4MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/790580?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wighawag",
      "html_url": "https://github.com/wighawag",
      "followers_url": "https://api.github.com/users/wighawag/followers",
      "following_url": "https://api.github.com/users/wighawag/following{/other_user}",
      "gists_url": "https://api.github.com/users/wighawag/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wighawag/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wighawag/subscriptions",
      "organizations_url": "https://api.github.com/users/wighawag/orgs",
      "repos_url": "https://api.github.com/users/wighawag/repos",
      "events_url": "https://api.github.com/users/wighawag/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wighawag/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-11T07:21:26Z",
    "updated_at": "2021-04-11T07:21:26Z",
    "author_association": "CONTRIBUTOR",
    "body": "@alcuadrado does hardhat-vyper at leats give me the vyper source and version used by the artifact ?",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/817262652/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
