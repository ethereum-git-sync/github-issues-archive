{
  "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1685",
  "repository_url": "https://api.github.com/repos/NomicFoundation/hardhat",
  "labels_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1685/labels{/name}",
  "comments_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1685/comments",
  "events_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1685/events",
  "html_url": "https://github.com/NomicFoundation/hardhat/issues/1685",
  "id": 946508961,
  "node_id": "MDU6SXNzdWU5NDY1MDg5NjE=",
  "number": 1685,
  "title": "Error: Incompatible EIP155-based V 1 and chain id 1. See the second parameter of the Transaction constructor to set the chain id.",
  "user": {
    "login": "piyushnh",
    "id": 26011057,
    "node_id": "MDQ6VXNlcjI2MDExMDU3",
    "avatar_url": "https://avatars.githubusercontent.com/u/26011057?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/piyushnh",
    "html_url": "https://github.com/piyushnh",
    "followers_url": "https://api.github.com/users/piyushnh/followers",
    "following_url": "https://api.github.com/users/piyushnh/following{/other_user}",
    "gists_url": "https://api.github.com/users/piyushnh/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/piyushnh/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/piyushnh/subscriptions",
    "organizations_url": "https://api.github.com/users/piyushnh/orgs",
    "repos_url": "https://api.github.com/users/piyushnh/repos",
    "events_url": "https://api.github.com/users/piyushnh/events{/privacy}",
    "received_events_url": "https://api.github.com/users/piyushnh/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": true,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 15,
  "created_at": "2021-07-16T18:27:50Z",
  "updated_at": "2022-11-14T13:53:38Z",
  "closed_at": "2022-10-31T17:35:09Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "I keep getting this error when trying to fork mainnet using Alchemy. Do not get the error after running `npx hardhat node`  a couple of times. Along with this, the local network just freezes sometimes and gets disconnected from metamask. Have to re-run `npx hardhat node` to get it working again.",
  "closed_by": {
    "login": "fvictorio",
    "id": 417134,
    "node_id": "MDQ6VXNlcjQxNzEzNA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/fvictorio",
    "html_url": "https://github.com/fvictorio",
    "followers_url": "https://api.github.com/users/fvictorio/followers",
    "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
    "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
    "organizations_url": "https://api.github.com/users/fvictorio/orgs",
    "repos_url": "https://api.github.com/users/fvictorio/repos",
    "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
    "received_events_url": "https://api.github.com/users/fvictorio/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1685/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1685/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/881637957",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1685#issuecomment-881637957",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1685",
    "id": 881637957,
    "node_id": "IC_kwDOB7jojM40jLpF",
    "user": {
      "login": "alcuadrado",
      "id": 176499,
      "node_id": "MDQ6VXNlcjE3NjQ5OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/176499?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alcuadrado",
      "html_url": "https://github.com/alcuadrado",
      "followers_url": "https://api.github.com/users/alcuadrado/followers",
      "following_url": "https://api.github.com/users/alcuadrado/following{/other_user}",
      "gists_url": "https://api.github.com/users/alcuadrado/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alcuadrado/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alcuadrado/subscriptions",
      "organizations_url": "https://api.github.com/users/alcuadrado/orgs",
      "repos_url": "https://api.github.com/users/alcuadrado/repos",
      "events_url": "https://api.github.com/users/alcuadrado/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alcuadrado/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-16T18:29:05Z",
    "updated_at": "2021-07-16T18:29:05Z",
    "author_association": "MEMBER",
    "body": "Hey @piyushnh,\r\n\r\nCan you post the steps to reproduce these things?\r\n\r\nThanks",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/881637957/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/881639662",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1685#issuecomment-881639662",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1685",
    "id": 881639662,
    "node_id": "IC_kwDOB7jojM40jMDu",
    "user": {
      "login": "piyushnh",
      "id": 26011057,
      "node_id": "MDQ6VXNlcjI2MDExMDU3",
      "avatar_url": "https://avatars.githubusercontent.com/u/26011057?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/piyushnh",
      "html_url": "https://github.com/piyushnh",
      "followers_url": "https://api.github.com/users/piyushnh/followers",
      "following_url": "https://api.github.com/users/piyushnh/following{/other_user}",
      "gists_url": "https://api.github.com/users/piyushnh/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/piyushnh/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/piyushnh/subscriptions",
      "organizations_url": "https://api.github.com/users/piyushnh/orgs",
      "repos_url": "https://api.github.com/users/piyushnh/repos",
      "events_url": "https://api.github.com/users/piyushnh/events{/privacy}",
      "received_events_url": "https://api.github.com/users/piyushnh/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-16T18:32:13Z",
    "updated_at": "2021-07-16T18:32:13Z",
    "author_association": "NONE",
    "body": "> Hey @piyushnh,\r\n> \r\n> Can you post the steps to reproduce these things?\r\n> \r\n> Thanks\r\n\r\n```\r\nnetworks: {\r\n  hardhat: {\r\n    forking: {\r\n      url: \"https://eth-mainnet.alchemyapi.io/v2/<key>\";\r\n    }\r\n  }\r\n}\r\n```\r\nAdded this to hardhat config file and ran `npx hardhat node`. Get the error and sometimes don't, with nothing else changed.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/881639662/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/881647397",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1685#issuecomment-881647397",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1685",
    "id": 881647397,
    "node_id": "IC_kwDOB7jojM40jN8l",
    "user": {
      "login": "piyushnh",
      "id": 26011057,
      "node_id": "MDQ6VXNlcjI2MDExMDU3",
      "avatar_url": "https://avatars.githubusercontent.com/u/26011057?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/piyushnh",
      "html_url": "https://github.com/piyushnh",
      "followers_url": "https://api.github.com/users/piyushnh/followers",
      "following_url": "https://api.github.com/users/piyushnh/following{/other_user}",
      "gists_url": "https://api.github.com/users/piyushnh/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/piyushnh/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/piyushnh/subscriptions",
      "organizations_url": "https://api.github.com/users/piyushnh/orgs",
      "repos_url": "https://api.github.com/users/piyushnh/repos",
      "events_url": "https://api.github.com/users/piyushnh/events{/privacy}",
      "received_events_url": "https://api.github.com/users/piyushnh/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-16T18:47:56Z",
    "updated_at": "2021-07-16T18:47:56Z",
    "author_association": "NONE",
    "body": "> > Hey @piyushnh,\r\n> > Can you post the steps to reproduce these things?\r\n> > Thanks\r\n> \r\n> ```\r\n> networks: {\r\n>   hardhat: {\r\n>     forking: {\r\n>       url: \"https://eth-mainnet.alchemyapi.io/v2/<key>\";\r\n>     }\r\n>   }\r\n> }\r\n> ```\r\n> \r\n> Added this to hardhat config file and ran `npx hardhat node`. Get the error and sometimes don't, with nothing else changed.\r\n\r\nAlso, when the hardhat network has frozen, I get this error whenever I try to run tasks against it:\r\n```\r\nError HH109: Network connection timed-out.\r\nPlease check your internet connection and networks config\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/881647397/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/881669744",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1685#issuecomment-881669744",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1685",
    "id": 881669744,
    "node_id": "IC_kwDOB7jojM40jTZw",
    "user": {
      "login": "alcuadrado",
      "id": 176499,
      "node_id": "MDQ6VXNlcjE3NjQ5OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/176499?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alcuadrado",
      "html_url": "https://github.com/alcuadrado",
      "followers_url": "https://api.github.com/users/alcuadrado/followers",
      "following_url": "https://api.github.com/users/alcuadrado/following{/other_user}",
      "gists_url": "https://api.github.com/users/alcuadrado/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alcuadrado/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alcuadrado/subscriptions",
      "organizations_url": "https://api.github.com/users/alcuadrado/orgs",
      "repos_url": "https://api.github.com/users/alcuadrado/repos",
      "events_url": "https://api.github.com/users/alcuadrado/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alcuadrado/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-16T19:29:34Z",
    "updated_at": "2021-07-16T19:29:34Z",
    "author_association": "MEMBER",
    "body": "We need more info to be able to reproduce this. What exactly where you executing? version of hardhat? operating system?",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/881669744/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/882023016",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1685#issuecomment-882023016",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1685",
    "id": 882023016,
    "node_id": "IC_kwDOB7jojM40kppo",
    "user": {
      "login": "piyushnh",
      "id": 26011057,
      "node_id": "MDQ6VXNlcjI2MDExMDU3",
      "avatar_url": "https://avatars.githubusercontent.com/u/26011057?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/piyushnh",
      "html_url": "https://github.com/piyushnh",
      "followers_url": "https://api.github.com/users/piyushnh/followers",
      "following_url": "https://api.github.com/users/piyushnh/following{/other_user}",
      "gists_url": "https://api.github.com/users/piyushnh/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/piyushnh/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/piyushnh/subscriptions",
      "organizations_url": "https://api.github.com/users/piyushnh/orgs",
      "repos_url": "https://api.github.com/users/piyushnh/repos",
      "events_url": "https://api.github.com/users/piyushnh/events{/privacy}",
      "received_events_url": "https://api.github.com/users/piyushnh/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-18T08:49:29Z",
    "updated_at": "2021-07-18T08:49:29Z",
    "author_association": "NONE",
    "body": "> We need more info to be able to reproduce this. What exactly where you executing? version of hardhat? operating system?\r\n\r\nI was forking the mainnet using Alchemy. I get this error when I run `npx hardhat node`\r\n\r\nHardhat version: 2.0.4\r\nOS: Ubuntu 16.04\r\nNode version: 14.15.5\r\n\r\nI spun up a ganache-cli mainnet fork using the same Alchemy provider to see if it's an issue just with my system. Turns out, ganache-cli works completely fine. Seems to be an issue just with the hardhat network.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/882023016/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/882090806",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1685#issuecomment-882090806",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1685",
    "id": 882090806,
    "node_id": "IC_kwDOB7jojM40k6M2",
    "user": {
      "login": "alcuadrado",
      "id": 176499,
      "node_id": "MDQ6VXNlcjE3NjQ5OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/176499?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alcuadrado",
      "html_url": "https://github.com/alcuadrado",
      "followers_url": "https://api.github.com/users/alcuadrado/followers",
      "following_url": "https://api.github.com/users/alcuadrado/following{/other_user}",
      "gists_url": "https://api.github.com/users/alcuadrado/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alcuadrado/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alcuadrado/subscriptions",
      "organizations_url": "https://api.github.com/users/alcuadrado/orgs",
      "repos_url": "https://api.github.com/users/alcuadrado/repos",
      "events_url": "https://api.github.com/users/alcuadrado/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alcuadrado/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-18T17:24:53Z",
    "updated_at": "2021-07-18T17:25:13Z",
    "author_association": "MEMBER",
    "body": "Yes, this is probably an issue with hardhat, but we can't reproduce it if you don't tell us which transactions/rpc-calls you were making.\r\n\r\nAlso, if you have an stack trace, please post it here.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/882090806/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/890596388",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1685#issuecomment-890596388",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1685",
    "id": 890596388,
    "node_id": "IC_kwDOB7jojM41FWwk",
    "user": {
      "login": "jo-es",
      "id": 45110941,
      "node_id": "MDQ6VXNlcjQ1MTEwOTQx",
      "avatar_url": "https://avatars.githubusercontent.com/u/45110941?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jo-es",
      "html_url": "https://github.com/jo-es",
      "followers_url": "https://api.github.com/users/jo-es/followers",
      "following_url": "https://api.github.com/users/jo-es/following{/other_user}",
      "gists_url": "https://api.github.com/users/jo-es/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jo-es/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jo-es/subscriptions",
      "organizations_url": "https://api.github.com/users/jo-es/orgs",
      "repos_url": "https://api.github.com/users/jo-es/repos",
      "events_url": "https://api.github.com/users/jo-es/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jo-es/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-01T22:22:55Z",
    "updated_at": "2021-08-01T22:22:55Z",
    "author_association": "NONE",
    "body": "I'm encountering the same issue when running tests via Mainnet forking (Chain Id 1). They seem to be appear randomly which leads to not being able to run it in CI atm. Did not encounter those errors when forking Kovan.\r\n\r\nHardhat: 2.5.0\r\nOS: Mac OS 11.5.1\r\n\r\nThis is the entire stack trace I got:\r\n```\r\nHardhatError: HH109: Network connection timed out.\r\nPlease check your internet connection and networks config\r\n      at HttpProvider._fetchJsonRpcResponse (node_modules/hardhat/src/internal/core/providers/http.ts:184:15)\r\n      at processTicksAndRejections (internal/process/task_queues.js:97:5)\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/890596388/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/931025125",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1685#issuecomment-931025125",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1685",
    "id": 931025125,
    "node_id": "IC_kwDOB7jojM43flDl",
    "user": {
      "login": "porobov",
      "id": 9838928,
      "node_id": "MDQ6VXNlcjk4Mzg5Mjg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9838928?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/porobov",
      "html_url": "https://github.com/porobov",
      "followers_url": "https://api.github.com/users/porobov/followers",
      "following_url": "https://api.github.com/users/porobov/following{/other_user}",
      "gists_url": "https://api.github.com/users/porobov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/porobov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/porobov/subscriptions",
      "organizations_url": "https://api.github.com/users/porobov/orgs",
      "repos_url": "https://api.github.com/users/porobov/repos",
      "events_url": "https://api.github.com/users/porobov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/porobov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-30T08:26:40Z",
    "updated_at": "2021-09-30T09:28:38Z",
    "author_association": "NONE",
    "body": "Same as the above. \r\n\r\nUbuntu 18.04.5 LTS\r\nHardhat version 2.6.4\r\nNode v16.9.0\r\n\r\nJust added this to config \r\n```\r\nforking: {\r\n        url: gateway.alchemyMainnet,\r\n        blockNumber: 11095000\r\n      }\r\n```\r\n...then run `npx hardhat node` and got this \r\n```\r\nError HH109: Network connection timed out.\r\nPlease check your internet connection and networks config\r\n```\r\n\r\nFunny, while writing this tried with --show-stack-traces and it worked)) Will try to catch those traces later if I can. \r\n\r\n**UPD.** Same with a test that uses forked contract. Sometimes it works, sometimes network connection is timed out.\r\n\r\n**UPD2.** Here are stack-traces from running tests. \r\n```\r\n$ npx hardhat test --show-stack-traces\r\n\r\n\r\n  Old meh\r\n    1) Should should return block info\r\n\r\n\r\n  0 passing (40s)\r\n  1 failing\r\n\r\n  1) Old meh\r\n       Should should return block info:\r\n     HardhatError: HH109: Network connection timed out.\r\nPlease check your internet connection and networks config\r\n      at HttpProvider._fetchJsonRpcResponse (node_modules/hardhat/src/internal/core/providers/http.ts:184:15)\r\n      at processTicksAndRejections (node:internal/process/task_queues:96:5)\r\n      at HttpProvider.request (node_modules/hardhat/src/internal/core/providers/http.ts:55:29)\r\n      at getLatestBlockNumber (node_modules/hardhat/src/internal/hardhat-network/provider/utils/makeForkClient.ts:116:30)\r\n      at Object.makeForkClient (node_modules/hardhat/src/internal/hardhat-network/provider/utils/makeForkClient.ts:44:23)\r\n      at Function.create (node_modules/hardhat/src/internal/hardhat-network/provider/node.ts:153:9)\r\n      at HardhatNetworkProvider._init (node_modules/hardhat/src/internal/hardhat-network/provider/provider.ts:234:28)\r\n      at HardhatNetworkProvider._send (node_modules/hardhat/src/internal/hardhat-network/provider/provider.ts:182:5)\r\n      at HardhatNetworkProvider.request (node_modules/hardhat/src/internal/hardhat-network/provider/provider.ts:108:18)\r\n      at EthersProviderWrapper.send (node_modules/@nomiclabs/hardhat-ethers/src/internal/ethers-provider-wrapper.ts:13:20)\r\n\r\n\r\n\r\nError HH109: Network connection timed out.\r\nPlease check your internet connection and networks config\r\n\r\nHardhatError: HH109: Network connection timed out.\r\nPlease check your internet connection and networks config\r\n    at HttpProvider._fetchJsonRpcResponse (/my/project/dir/node_modules/hardhat/src/internal/core/providers/http.ts:184:15)\r\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\r\n    at HttpProvider.request (/my/project/dir/node_modules/hardhat/src/internal/core/providers/http.ts:55:29)\r\n    at getLatestBlockNumber (/my/project/dir/node_modules/hardhat/src/internal/hardhat-network/provider/utils/makeForkClient.ts:116:30)\r\n    at Object.makeForkClient (/my/project/dir/node_modules/hardhat/src/internal/hardhat-network/provider/utils/makeForkClient.ts:44:23)\r\n    at Function.create (/my/project/dir/node_modules/hardhat/src/internal/hardhat-network/provider/node.ts:153:9)\r\n    at HardhatNetworkProvider._init (/my/project/dir/node_modules/hardhat/src/internal/hardhat-network/provider/provider.ts:234:28)\r\n    at HardhatNetworkProvider._send (/my/project/dir/node_modules/hardhat/src/internal/hardhat-network/provider/provider.ts:182:5)\r\n    at HardhatNetworkProvider.request (/my/project/dir/node_modules/hardhat/src/internal/hardhat-network/provider/provider.ts:108:18)\r\n    at SimpleTaskDefinition.action (/my/project/dir/node_modules/hardhat/src/builtin-tasks/test.ts:107:37)\r\n\r\n    Caused by: FetchError: network timeout at: https://eth-mainnet.alchemyapi.io/v2/deleted-my-key-from-logs\r\n        at Timeout.<anonymous> (/my/project/dir/node_modules/node-fetch/lib/index.js:1476:13)\r\n        at listOnTimeout (node:internal/timers:557:17)\r\n        at processTimers (node:internal/timers:500:7)\r\n \r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/931025125/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/945081212",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1685#issuecomment-945081212",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1685",
    "id": 945081212,
    "node_id": "IC_kwDOB7jojM44VMt8",
    "user": {
      "login": "davekaj",
      "id": 22417382,
      "node_id": "MDQ6VXNlcjIyNDE3Mzgy",
      "avatar_url": "https://avatars.githubusercontent.com/u/22417382?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/davekaj",
      "html_url": "https://github.com/davekaj",
      "followers_url": "https://api.github.com/users/davekaj/followers",
      "following_url": "https://api.github.com/users/davekaj/following{/other_user}",
      "gists_url": "https://api.github.com/users/davekaj/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/davekaj/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/davekaj/subscriptions",
      "organizations_url": "https://api.github.com/users/davekaj/orgs",
      "repos_url": "https://api.github.com/users/davekaj/repos",
      "events_url": "https://api.github.com/users/davekaj/events{/privacy}",
      "received_events_url": "https://api.github.com/users/davekaj/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-17T09:36:50Z",
    "updated_at": "2021-10-17T09:37:12Z",
    "author_association": "NONE",
    "body": "Hey, I am running into the same error here with a hardhat fork of arbitrum. \r\n\r\nI seem to have been able to get past the error by removing my usage of:\r\n\r\n```\r\nprovider().send(\"evm_increaseTime\", [time]);\r\n```\r\n\r\nI have always been using a fork to test my repo. I added in a test where I needed to increase the time, then I started to get the same error as everyone else. I started to debug around it. My fork node output always looked like so when failing:\r\n\r\n```\r\neth_chainId\r\neth_call\r\n  Contract call:       <UnrecognizedContract>\r\n  From:                0x90f8bf6a479f320ead074411a4b0e7944ea8c9c1\r\n  To:                  0x30df229cefa463e991e29d42db0bae2e122b2ac7\r\n\r\neth_chainId\r\neth_getBlockByNumber\r\nevm_increaseTime\r\nevm_mine\r\n  Mined empty block #2297136 with base fee 431756256\r\n\r\neth_chainId\r\n\u001B[?25l\u001B[Feth_chainId (2)\u001B[K\r\n\u001B[?25heth_getBlockByNumber\r\neth_chainId\r\neth_getTransactionReceipt\r\neth_chainId\r\neth_estimateGas\r\n```\r\n\r\nIt fails at `estimate_gas` when starting up the next transaction after an `evm_increaseTime` is used.\r\n\r\nWondering if anyone else can confirm they were also using `evm_increaseTime` ? If so, it seems pretty likely this is related to the error. ",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/945081212/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1002843181",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1685#issuecomment-1002843181",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1685",
    "id": 1002843181,
    "node_id": "IC_kwDOB7jojM47xiwt",
    "user": {
      "login": "tkeidar",
      "id": 44050297,
      "node_id": "MDQ6VXNlcjQ0MDUwMjk3",
      "avatar_url": "https://avatars.githubusercontent.com/u/44050297?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tkeidar",
      "html_url": "https://github.com/tkeidar",
      "followers_url": "https://api.github.com/users/tkeidar/followers",
      "following_url": "https://api.github.com/users/tkeidar/following{/other_user}",
      "gists_url": "https://api.github.com/users/tkeidar/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tkeidar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tkeidar/subscriptions",
      "organizations_url": "https://api.github.com/users/tkeidar/orgs",
      "repos_url": "https://api.github.com/users/tkeidar/repos",
      "events_url": "https://api.github.com/users/tkeidar/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tkeidar/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-12-30T02:13:15Z",
    "updated_at": "2021-12-30T02:13:15Z",
    "author_association": "NONE",
    "body": "same issue here... sometimes it works and in most cases fails",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1002843181/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1020301672",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1685#issuecomment-1020301672",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1685",
    "id": 1020301672,
    "node_id": "IC_kwDOB7jojM480JFo",
    "user": {
      "login": "NatPDeveloper",
      "id": 34429364,
      "node_id": "MDQ6VXNlcjM0NDI5MzY0",
      "avatar_url": "https://avatars.githubusercontent.com/u/34429364?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/NatPDeveloper",
      "html_url": "https://github.com/NatPDeveloper",
      "followers_url": "https://api.github.com/users/NatPDeveloper/followers",
      "following_url": "https://api.github.com/users/NatPDeveloper/following{/other_user}",
      "gists_url": "https://api.github.com/users/NatPDeveloper/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/NatPDeveloper/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/NatPDeveloper/subscriptions",
      "organizations_url": "https://api.github.com/users/NatPDeveloper/orgs",
      "repos_url": "https://api.github.com/users/NatPDeveloper/repos",
      "events_url": "https://api.github.com/users/NatPDeveloper/events{/privacy}",
      "received_events_url": "https://api.github.com/users/NatPDeveloper/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-24T16:43:11Z",
    "updated_at": "2022-01-24T16:43:11Z",
    "author_association": "NONE",
    "body": "> same issue here... sometimes it works and in most cases fails\r\n\r\nI was able to get past this by using the timeout key value.  I believe since I was running this in docker compose with other services that the default of 20s was not sufficient. You can see the documentation for this variable here: https://hardhat.org/config/.\r\n\r\n```\r\n/**\r\n * @type import('hardhat/config').HardhatUserConfig\r\n */\r\nmodule.exports = {\r\n  solidity: {\r\n    compilers: [\r\n      {\r\n        version: \"0.8.11\",\r\n        settings: {\r\n          optimizer: {\r\n            enabled: true,\r\n            runs: 2000\r\n          }\r\n        }\r\n      },\r\n    ]\r\n  },\r\n  networks: {\r\n    hardhat: {\r\n      forking: {\r\n        url: `https://eth-mainnet.alchemyapi.io/v2/${config.alchemyKey}`\r\n      },\r\n      allowUnlimitedContractSize: true,\r\n      timeout: 120000\r\n    },\r\n    tests: {\r\n      url: `${'http://eth:8545'}`,\r\n      accounts: {\r\n        mnemonic: `cruel rebel frown short month love belt weather sense hood cage pact`\r\n      },\r\n      timeout: 120000\r\n    }\r\n  },\r\n  mocha: {\r\n    timeout: 120000,\r\n    retries: 2,\r\n    bail: true,\r\n  }\r\n};\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1020301672/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1055628278",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1685#issuecomment-1055628278",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1685",
    "id": 1055628278,
    "node_id": "IC_kwDOB7jojM4-65v2",
    "user": {
      "login": "DefiCake",
      "id": 46090742,
      "node_id": "MDQ6VXNlcjQ2MDkwNzQy",
      "avatar_url": "https://avatars.githubusercontent.com/u/46090742?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/DefiCake",
      "html_url": "https://github.com/DefiCake",
      "followers_url": "https://api.github.com/users/DefiCake/followers",
      "following_url": "https://api.github.com/users/DefiCake/following{/other_user}",
      "gists_url": "https://api.github.com/users/DefiCake/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/DefiCake/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/DefiCake/subscriptions",
      "organizations_url": "https://api.github.com/users/DefiCake/orgs",
      "repos_url": "https://api.github.com/users/DefiCake/repos",
      "events_url": "https://api.github.com/users/DefiCake/events{/privacy}",
      "received_events_url": "https://api.github.com/users/DefiCake/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-03-01T16:32:16Z",
    "updated_at": "2022-03-01T16:32:16Z",
    "author_association": "NONE",
    "body": "Stumbled into this error and was stuck until I cleaned all artifacts and cache.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1055628278/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1297437183",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1685#issuecomment-1297437183",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1685",
    "id": 1297437183,
    "node_id": "IC_kwDOB7jojM5NVVH_",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-31T17:35:09Z",
    "updated_at": "2022-10-31T17:35:09Z",
    "author_association": "MEMBER",
    "body": "Hi everyone. This seems to either not be happening anymore, or it's very infrequent and reproducing it is hard, or it's related to an issue related to timeouts that it's already reported in a different issue (#3136).\r\n\r\nIn any case, I'm going to close it for bookkeeping reasons, but feel free to comment or open a new one if you run into this and have reproduction steps (even if part of the reproduction is \"run this 10 times and it might happen once\"). ",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1297437183/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1312360365",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1685#issuecomment-1312360365",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1685",
    "id": 1312360365,
    "node_id": "IC_kwDOB7jojM5OOQet",
    "user": {
      "login": "T1murKO",
      "id": 53564210,
      "node_id": "MDQ6VXNlcjUzNTY0MjEw",
      "avatar_url": "https://avatars.githubusercontent.com/u/53564210?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/T1murKO",
      "html_url": "https://github.com/T1murKO",
      "followers_url": "https://api.github.com/users/T1murKO/followers",
      "following_url": "https://api.github.com/users/T1murKO/following{/other_user}",
      "gists_url": "https://api.github.com/users/T1murKO/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/T1murKO/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/T1murKO/subscriptions",
      "organizations_url": "https://api.github.com/users/T1murKO/orgs",
      "repos_url": "https://api.github.com/users/T1murKO/repos",
      "events_url": "https://api.github.com/users/T1murKO/events{/privacy}",
      "received_events_url": "https://api.github.com/users/T1murKO/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-11-12T04:32:49Z",
    "updated_at": "2022-11-12T05:04:04Z",
    "author_association": "NONE",
    "body": "me the same, found it happens when doing forking using infura",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1312360365/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1313744218",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1685#issuecomment-1313744218",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1685",
    "id": 1313744218,
    "node_id": "IC_kwDOB7jojM5OTiVa",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-11-14T13:53:28Z",
    "updated_at": "2022-11-14T13:53:28Z",
    "author_association": "MEMBER",
    "body": "Locking this issue.\r\n\r\nIf you are running into this **and have clear, minimal reproduction steps**, please open a new issue.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1313744218/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
