{
  "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3961",
  "repository_url": "https://api.github.com/repos/NomicFoundation/hardhat",
  "labels_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3961/labels{/name}",
  "comments_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3961/comments",
  "events_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3961/events",
  "html_url": "https://github.com/NomicFoundation/hardhat/issues/3961",
  "id": 1731262223,
  "node_id": "I_kwDOB7jojM5nMPcP",
  "number": 3961,
  "title": "\"@nomicfoundation/hardhat-foundry\" breaks coverage tests.",
  "user": {
    "login": "LucasGrasso",
    "id": 66641667,
    "node_id": "MDQ6VXNlcjY2NjQxNjY3",
    "avatar_url": "https://avatars.githubusercontent.com/u/66641667?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/LucasGrasso",
    "html_url": "https://github.com/LucasGrasso",
    "followers_url": "https://api.github.com/users/LucasGrasso/followers",
    "following_url": "https://api.github.com/users/LucasGrasso/following{/other_user}",
    "gists_url": "https://api.github.com/users/LucasGrasso/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/LucasGrasso/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/LucasGrasso/subscriptions",
    "organizations_url": "https://api.github.com/users/LucasGrasso/orgs",
    "repos_url": "https://api.github.com/users/LucasGrasso/repos",
    "events_url": "https://api.github.com/users/LucasGrasso/events{/privacy}",
    "received_events_url": "https://api.github.com/users/LucasGrasso/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 2474207618,
      "node_id": "MDU6TGFiZWwyNDc0MjA3NjE4",
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/labels/status:needs-more-info",
      "name": "status:needs-more-info",
      "color": "0E8A16",
      "default": false,
      "description": "There's not enough information to start working on this issue"
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2023-05-29T21:50:16Z",
  "updated_at": "2023-06-30T21:03:28Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "### Version of Hardhat\n\n2.14.0\n\n### What happened?\n\nI Don't know if this is a solidity-coverage or a hardhat-foundry issue, but after importing the latter, it just seems to break coverage tests.\r\nWith hardhat-foundry imported;\r\n![image](https://github.com/NomicFoundation/hardhat/assets/66641667/8d014747-400f-49d1-9569-af51167dc482)\r\nWithout hardhat-foundry imported:\r\n![image](https://github.com/NomicFoundation/hardhat/assets/66641667/303f3ee4-8652-45cf-93bb-7ca2a8a6baa1)\r\n\r\nTests in Foundry and in Hardhat were made for `DecentBatchDepositor.sol`. Sorry for the lack of a profound explanation, I just discovered it randomly and seems like a incompatibility bug. Thanks for your help.\r\n\n\n### Minimal reproduction steps\n\n* Install and import \"@nomicfoundation/hardhat-foundry\" in hardhat.config.ts\r\n* Run coverage tests with `npx hardhat coverage`\r\n* Unimport \"@nomicfoundation/hardhat-foundry\" in hardhat.config.ts\r\n* Run coverage tests once again with `npx hardhat coverage`\n\n### Search terms\n\nfoundry, coverage",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3961/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3961/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1611509227",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3961#issuecomment-1611509227",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3961",
    "id": 1611509227,
    "node_id": "IC_kwDOB7jojM5gDa3r",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-28T14:22:51Z",
    "updated_at": "2023-06-28T14:22:51Z",
    "author_association": "MEMBER",
    "body": "Hey @LucasGrasso, sorry for not responding sooner.\r\n\r\nI can't reproduce this, at least in the simple Hardhat sample project.\r\n\r\nCan you try again with the latest versions of the plugins and see if it's still happening?\r\n\r\nAnd if it's still happening, could you create and share a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example)?",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1611509227/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1615193915",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3961#issuecomment-1615193915",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3961",
    "id": 1615193915,
    "node_id": "IC_kwDOB7jojM5gRec7",
    "user": {
      "login": "LucasGrasso",
      "id": 66641667,
      "node_id": "MDQ6VXNlcjY2NjQxNjY3",
      "avatar_url": "https://avatars.githubusercontent.com/u/66641667?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/LucasGrasso",
      "html_url": "https://github.com/LucasGrasso",
      "followers_url": "https://api.github.com/users/LucasGrasso/followers",
      "following_url": "https://api.github.com/users/LucasGrasso/following{/other_user}",
      "gists_url": "https://api.github.com/users/LucasGrasso/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/LucasGrasso/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/LucasGrasso/subscriptions",
      "organizations_url": "https://api.github.com/users/LucasGrasso/orgs",
      "repos_url": "https://api.github.com/users/LucasGrasso/repos",
      "events_url": "https://api.github.com/users/LucasGrasso/events{/privacy}",
      "received_events_url": "https://api.github.com/users/LucasGrasso/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-30T21:03:27Z",
    "updated_at": "2023-06-30T21:03:27Z",
    "author_association": "NONE",
    "body": "Hello @fvictorio , don't worry. As soon as I get some spare time I'll get to it.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1615193915/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
