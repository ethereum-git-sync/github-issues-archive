{
  "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2258",
  "repository_url": "https://api.github.com/repos/NomicFoundation/hardhat",
  "labels_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2258/labels{/name}",
  "comments_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2258/comments",
  "events_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2258/events",
  "html_url": "https://github.com/NomicFoundation/hardhat/issues/2258",
  "id": 1102798861,
  "node_id": "I_kwDOB7jojM5Bu2AN",
  "number": 2258,
  "title": "Verify task not found in script",
  "user": {
    "login": "LukeSamkharadze",
    "id": 31849767,
    "node_id": "MDQ6VXNlcjMxODQ5NzY3",
    "avatar_url": "https://avatars.githubusercontent.com/u/31849767?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/LukeSamkharadze",
    "html_url": "https://github.com/LukeSamkharadze",
    "followers_url": "https://api.github.com/users/LukeSamkharadze/followers",
    "following_url": "https://api.github.com/users/LukeSamkharadze/following{/other_user}",
    "gists_url": "https://api.github.com/users/LukeSamkharadze/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/LukeSamkharadze/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/LukeSamkharadze/subscriptions",
    "organizations_url": "https://api.github.com/users/LukeSamkharadze/orgs",
    "repos_url": "https://api.github.com/users/LukeSamkharadze/repos",
    "events_url": "https://api.github.com/users/LukeSamkharadze/events{/privacy}",
    "received_events_url": "https://api.github.com/users/LukeSamkharadze/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": true,
  "assignee": {
    "login": "feuGeneA",
    "id": 7883777,
    "node_id": "MDQ6VXNlcjc4ODM3Nzc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/7883777?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/feuGeneA",
    "html_url": "https://github.com/feuGeneA",
    "followers_url": "https://api.github.com/users/feuGeneA/followers",
    "following_url": "https://api.github.com/users/feuGeneA/following{/other_user}",
    "gists_url": "https://api.github.com/users/feuGeneA/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/feuGeneA/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/feuGeneA/subscriptions",
    "organizations_url": "https://api.github.com/users/feuGeneA/orgs",
    "repos_url": "https://api.github.com/users/feuGeneA/repos",
    "events_url": "https://api.github.com/users/feuGeneA/events{/privacy}",
    "received_events_url": "https://api.github.com/users/feuGeneA/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "feuGeneA",
      "id": 7883777,
      "node_id": "MDQ6VXNlcjc4ODM3Nzc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7883777?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/feuGeneA",
      "html_url": "https://github.com/feuGeneA",
      "followers_url": "https://api.github.com/users/feuGeneA/followers",
      "following_url": "https://api.github.com/users/feuGeneA/following{/other_user}",
      "gists_url": "https://api.github.com/users/feuGeneA/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/feuGeneA/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/feuGeneA/subscriptions",
      "organizations_url": "https://api.github.com/users/feuGeneA/orgs",
      "repos_url": "https://api.github.com/users/feuGeneA/repos",
      "events_url": "https://api.github.com/users/feuGeneA/events{/privacy}",
      "received_events_url": "https://api.github.com/users/feuGeneA/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2022-01-14T02:30:33Z",
  "updated_at": "2022-11-18T08:57:27Z",
  "closed_at": "2022-01-14T14:45:22Z",
  "author_association": "NONE",
  "active_lock_reason": "resolved",
  "body": "This is my script and I'm trying to verify my contract from the script, but I get error that `verify` is unrecognized\r\n\r\n```TS\r\nimport hre, { ethers } from \"hardhat\";\r\n\r\nasync function main() {\r\n  console.log(\"Deploying contract\");\r\n\r\n  const WBNB = await ethers.getContractFactory(\"WBNB\");\r\n  const wbnb = await WBNB.deploy();\r\n  await wbnb.deployed();\r\n\r\n  console.log(\"Contract deployed to:\", wbnb.address);\r\n\r\n  console.log(\"Verifying contract\");\r\n\r\n  await hre.run(`verify ${wbnb.address}`, { network: hre.network.name }); // <----------\r\n  // await hre.run(`npx hardhat verify --network ${hre.network.name} ${wbnb.address}`);\r\n\r\n  console.log(\"Contract verified\");\r\n}\r\n\r\nmain();\r\n```\r\n\r\n```\r\n(node:25143) UnhandledPromiseRejectionWarning: HardhatError: HH303: Unrecognized task verify 0x714d170Cdf99c3326807774A400E738831AeB6A9\r\n    at Environment.run (/home/luke/repos/dx/summitswap-contracts/node_modules/hardhat/src/internal/core/runtime-environment.ts:118:13)\r\n    at main (/home/luke/repos/dx/summitswap-contracts/scripts/deployWBNB.ts:14:13)\r\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)\r\n```\r\n\r\nThis is my task list, as you can see I have a `verify` task listed here from [nomiclabs-hardhat-etherscan.](https://hardhat.org/plugins/nomiclabs-hardhat-etherscan.html)\r\n```\r\n> hardhat help\r\n\r\nHardhat version 2.8.2\r\n\r\nUsage: hardhat [GLOBAL OPTIONS] <TASK> [TASK OPTIONS]\r\n\r\nAVAILABLE TASKS:\r\n  \r\n  ...\r\n  test                  Runs mocha tests\r\n  typechain             Generate Typechain typings for compiled contracts\r\n  verify                Verifies contract on Etherscan\r\n\r\nTo get help for a specific task run: npx hardhat help [task]\r\n```\r\n\r\nI think issue might be that `hardhat` assumes that `verify 0x714d170Cdf99c3326807774A400E738831AeB6A9` is the task name itself. There is no good documentation on how to pass `taskArguments` properly to `hre.run` function, how can I pass address of the contract first and then network?\r\n\r\n```TS\r\n/**\r\n * @type TaskArguments {object-like} - the input arguments for a task.\r\n *\r\n * TaskArguments type is set to 'any' because it's interface is dynamic.\r\n * It's impossible in TypeScript to statically specify a variadic\r\n * number of fields and at the same time define specific types for\\\r\n * the argument values.\r\n *\r\n * For example, we could define:\r\n * type TaskArguments = Record<string, any>;\r\n *\r\n * ...but then, we couldn't narrow the actual argument value's type in compile time,\r\n * thus we have no other option than forcing it to be just 'any'.\r\n */\r\nexport type TaskArguments = any; // <---------------\r\n```\r\n",
  "closed_by": {
    "login": "LukeSamkharadze",
    "id": 31849767,
    "node_id": "MDQ6VXNlcjMxODQ5NzY3",
    "avatar_url": "https://avatars.githubusercontent.com/u/31849767?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/LukeSamkharadze",
    "html_url": "https://github.com/LukeSamkharadze",
    "followers_url": "https://api.github.com/users/LukeSamkharadze/followers",
    "following_url": "https://api.github.com/users/LukeSamkharadze/following{/other_user}",
    "gists_url": "https://api.github.com/users/LukeSamkharadze/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/LukeSamkharadze/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/LukeSamkharadze/subscriptions",
    "organizations_url": "https://api.github.com/users/LukeSamkharadze/orgs",
    "repos_url": "https://api.github.com/users/LukeSamkharadze/repos",
    "events_url": "https://api.github.com/users/LukeSamkharadze/events{/privacy}",
    "received_events_url": "https://api.github.com/users/LukeSamkharadze/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2258/reactions",
    "total_count": 1,
    "+1": 1,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2258/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1013188460",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2258#issuecomment-1013188460",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2258",
    "id": 1013188460,
    "node_id": "IC_kwDOB7jojM48ZAds",
    "user": {
      "login": "LukeSamkharadze",
      "id": 31849767,
      "node_id": "MDQ6VXNlcjMxODQ5NzY3",
      "avatar_url": "https://avatars.githubusercontent.com/u/31849767?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/LukeSamkharadze",
      "html_url": "https://github.com/LukeSamkharadze",
      "followers_url": "https://api.github.com/users/LukeSamkharadze/followers",
      "following_url": "https://api.github.com/users/LukeSamkharadze/following{/other_user}",
      "gists_url": "https://api.github.com/users/LukeSamkharadze/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/LukeSamkharadze/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/LukeSamkharadze/subscriptions",
      "organizations_url": "https://api.github.com/users/LukeSamkharadze/orgs",
      "repos_url": "https://api.github.com/users/LukeSamkharadze/repos",
      "events_url": "https://api.github.com/users/LukeSamkharadze/events{/privacy}",
      "received_events_url": "https://api.github.com/users/LukeSamkharadze/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-14T14:45:22Z",
    "updated_at": "2022-01-14T14:45:22Z",
    "author_association": "NONE",
    "body": "See https://www.npmjs.com/package/@nomiclabs/hardhat-etherscan#complex-arguments\r\n\r\n```JS\r\nawait hre.run(\"verify:verify\", {\r\n  address: contractAddress,\r\n  constructorArguments: [\r\n    50,\r\n    \"a string argument\",\r\n    {\r\n      x: 10,\r\n      y: 5,\r\n    },\r\n    \"0xabcdef\",\r\n  ],\r\n});\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1013188460/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1013496446",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2258#issuecomment-1013496446",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2258",
    "id": 1013496446,
    "node_id": "IC_kwDOB7jojM48aLp-",
    "user": {
      "login": "feuGeneA",
      "id": 7883777,
      "node_id": "MDQ6VXNlcjc4ODM3Nzc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7883777?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/feuGeneA",
      "html_url": "https://github.com/feuGeneA",
      "followers_url": "https://api.github.com/users/feuGeneA/followers",
      "following_url": "https://api.github.com/users/feuGeneA/following{/other_user}",
      "gists_url": "https://api.github.com/users/feuGeneA/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/feuGeneA/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/feuGeneA/subscriptions",
      "organizations_url": "https://api.github.com/users/feuGeneA/orgs",
      "repos_url": "https://api.github.com/users/feuGeneA/repos",
      "events_url": "https://api.github.com/users/feuGeneA/events{/privacy}",
      "received_events_url": "https://api.github.com/users/feuGeneA/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-14T21:48:25Z",
    "updated_at": "2022-01-14T21:48:25Z",
    "author_association": "CONTRIBUTOR",
    "body": "Thanks @LukeSamkharadze !! A detailed and concise report, a follow-up with details for others who end up here, and a self-closure! Bravo!",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1013496446/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 1,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1090224622",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2258#issuecomment-1090224622",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2258",
    "id": 1090224622,
    "node_id": "IC_kwDOB7jojM5A-4Hu",
    "user": {
      "login": "jamesmccomish",
      "id": 68289880,
      "node_id": "MDQ6VXNlcjY4Mjg5ODgw",
      "avatar_url": "https://avatars.githubusercontent.com/u/68289880?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jamesmccomish",
      "html_url": "https://github.com/jamesmccomish",
      "followers_url": "https://api.github.com/users/jamesmccomish/followers",
      "following_url": "https://api.github.com/users/jamesmccomish/following{/other_user}",
      "gists_url": "https://api.github.com/users/jamesmccomish/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jamesmccomish/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jamesmccomish/subscriptions",
      "organizations_url": "https://api.github.com/users/jamesmccomish/orgs",
      "repos_url": "https://api.github.com/users/jamesmccomish/repos",
      "events_url": "https://api.github.com/users/jamesmccomish/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jamesmccomish/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-04-06T12:42:50Z",
    "updated_at": "2022-04-06T12:42:50Z",
    "author_association": "NONE",
    "body": "@feuGeneA in OP you seemed to want to set network, did you find that link above helped with verifying on testnets?\r\n\r\nI've been trying to set a field in the arguments object to specify network / etherscan apiKey to verify, but haven't got it working.\r\n\r\n(I don't think I'm missing anything in my config file as I can manually verify through command line) ",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1090224622/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1090319674",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2258#issuecomment-1090319674",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2258",
    "id": 1090319674,
    "node_id": "IC_kwDOB7jojM5A_PU6",
    "user": {
      "login": "LukeSamkharadze",
      "id": 31849767,
      "node_id": "MDQ6VXNlcjMxODQ5NzY3",
      "avatar_url": "https://avatars.githubusercontent.com/u/31849767?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/LukeSamkharadze",
      "html_url": "https://github.com/LukeSamkharadze",
      "followers_url": "https://api.github.com/users/LukeSamkharadze/followers",
      "following_url": "https://api.github.com/users/LukeSamkharadze/following{/other_user}",
      "gists_url": "https://api.github.com/users/LukeSamkharadze/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/LukeSamkharadze/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/LukeSamkharadze/subscriptions",
      "organizations_url": "https://api.github.com/users/LukeSamkharadze/orgs",
      "repos_url": "https://api.github.com/users/LukeSamkharadze/repos",
      "events_url": "https://api.github.com/users/LukeSamkharadze/events{/privacy}",
      "received_events_url": "https://api.github.com/users/LukeSamkharadze/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-04-06T14:10:56Z",
    "updated_at": "2022-04-06T14:11:55Z",
    "author_association": "NONE",
    "body": "@jamesmccomish\r\n\r\n`npx hardhat run script.ts --network bscTestnet` should be enough\r\n\r\nAnd `await hre.run(\"verify:verify\", {` will automatically confirm contracts on `bscTestnet`\r\n\r\nYou should have correct apiKey for this network in the config.\r\n\r\nIf this doesn't help could you provide environment where I can reproduce the problem?",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1090319674/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 1,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1091692553",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2258#issuecomment-1091692553",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2258",
    "id": 1091692553,
    "node_id": "IC_kwDOB7jojM5BEegJ",
    "user": {
      "login": "jamesmccomish",
      "id": 68289880,
      "node_id": "MDQ6VXNlcjY4Mjg5ODgw",
      "avatar_url": "https://avatars.githubusercontent.com/u/68289880?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jamesmccomish",
      "html_url": "https://github.com/jamesmccomish",
      "followers_url": "https://api.github.com/users/jamesmccomish/followers",
      "following_url": "https://api.github.com/users/jamesmccomish/following{/other_user}",
      "gists_url": "https://api.github.com/users/jamesmccomish/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jamesmccomish/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jamesmccomish/subscriptions",
      "organizations_url": "https://api.github.com/users/jamesmccomish/orgs",
      "repos_url": "https://api.github.com/users/jamesmccomish/repos",
      "events_url": "https://api.github.com/users/jamesmccomish/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jamesmccomish/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-04-07T12:47:38Z",
    "updated_at": "2022-04-07T12:47:38Z",
    "author_association": "NONE",
    "body": "Ah ok that's fine, no need to reproduce - I think I was over complicating the verify task, but I now see how the above works. In the end I can just write a script to preform the logic needed around the verify task and, as you say, call that with the network set. \r\n\r\ncheers!",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1091692553/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1146629207",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2258#issuecomment-1146629207",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2258",
    "id": 1146629207,
    "node_id": "IC_kwDOB7jojM5EWCxX",
    "user": {
      "login": "josealonso",
      "id": 3770471,
      "node_id": "MDQ6VXNlcjM3NzA0NzE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3770471?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/josealonso",
      "html_url": "https://github.com/josealonso",
      "followers_url": "https://api.github.com/users/josealonso/followers",
      "following_url": "https://api.github.com/users/josealonso/following{/other_user}",
      "gists_url": "https://api.github.com/users/josealonso/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/josealonso/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/josealonso/subscriptions",
      "organizations_url": "https://api.github.com/users/josealonso/orgs",
      "repos_url": "https://api.github.com/users/josealonso/repos",
      "events_url": "https://api.github.com/users/josealonso/events{/privacy}",
      "received_events_url": "https://api.github.com/users/josealonso/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-04T15:00:17Z",
    "updated_at": "2022-06-04T15:00:17Z",
    "author_association": "NONE",
    "body": "> See https://www.npmjs.com/package/@nomiclabs/hardhat-etherscan#complex-arguments\r\n> \r\n> ```js\r\n> await hre.run(\"verify:verify\", {\r\n>   address: contractAddress,\r\n>   constructorArguments: [\r\n>     50,\r\n>     \"a string argument\",\r\n>     {\r\n>       x: 10,\r\n>       y: 5,\r\n>     },\r\n>     \"0xabcdef\",\r\n>   ],\r\n> });\r\n> ```\r\n\r\nI didn't know how to verify a contract in Typescript. So thanks a lot, @LukeSamkharadze  !! ",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1146629207/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 1,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
