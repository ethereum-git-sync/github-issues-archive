{
  "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1589",
  "repository_url": "https://api.github.com/repos/NomicFoundation/hardhat",
  "labels_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1589/labels{/name}",
  "comments_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1589/comments",
  "events_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1589/events",
  "html_url": "https://github.com/NomicFoundation/hardhat/issues/1589",
  "id": 929902572,
  "node_id": "MDU6SXNzdWU5Mjk5MDI1NzI=",
  "number": 1589,
  "title": "Not possible to set max value of config.solidity.settings.optimizer.runs",
  "user": {
    "login": "852Kerfunkle",
    "id": 25444590,
    "node_id": "MDQ6VXNlcjI1NDQ0NTkw",
    "avatar_url": "https://avatars.githubusercontent.com/u/25444590?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/852Kerfunkle",
    "html_url": "https://github.com/852Kerfunkle",
    "followers_url": "https://api.github.com/users/852Kerfunkle/followers",
    "following_url": "https://api.github.com/users/852Kerfunkle/following{/other_user}",
    "gists_url": "https://api.github.com/users/852Kerfunkle/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/852Kerfunkle/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/852Kerfunkle/subscriptions",
    "organizations_url": "https://api.github.com/users/852Kerfunkle/orgs",
    "repos_url": "https://api.github.com/users/852Kerfunkle/repos",
    "events_url": "https://api.github.com/users/852Kerfunkle/events{/privacy}",
    "received_events_url": "https://api.github.com/users/852Kerfunkle/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 901960542,
      "node_id": "MDU6TGFiZWw5MDE5NjA1NDI=",
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/labels/good-first-issue",
      "name": "good-first-issue",
      "color": "006B75",
      "default": false,
      "description": "Good for newcomers. Guidance available if needed"
    },
    {
      "id": 4937718880,
      "node_id": "LA_kwDOB7jojM8AAAABJk-cYA",
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/labels/type:improvement",
      "name": "type:improvement",
      "color": "FBCA04",
      "default": false,
      "description": ""
    },
    {
      "id": 4937720577,
      "node_id": "LA_kwDOB7jojM8AAAABJk-jAQ",
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/labels/status:ready",
      "name": "status:ready",
      "color": "0E8A16",
      "default": false,
      "description": "This issue is ready to be worked on"
    }
  ],
  "state": "closed",
  "locked": true,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 8,
  "created_at": "2021-06-25T07:16:14Z",
  "updated_at": "2023-03-30T00:14:22Z",
  "closed_at": "2022-12-29T11:26:49Z",
  "author_association": "NONE",
  "active_lock_reason": "resolved",
  "body": "According to this Solidity blog post: https://blog.soliditylang.org/2020/11/04/solidity-ama-1-recap/\r\n\r\nThe maximum possible value for --optimize-runs is 2**64-1.\r\n\r\nHardhat only allows 2**32-1, anything larger than that will result in this error:\r\n\r\n```\r\nThe \"runs\" setting must be an unsigned number.\r\nError HH600: Compilation failed\r\n```\r\n\r\nIt's a minor issue, setting such a high number of runs surely is unreasonable.",
  "closed_by": {
    "login": "fvictorio",
    "id": 417134,
    "node_id": "MDQ6VXNlcjQxNzEzNA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/fvictorio",
    "html_url": "https://github.com/fvictorio",
    "followers_url": "https://api.github.com/users/fvictorio/followers",
    "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
    "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
    "organizations_url": "https://api.github.com/users/fvictorio/orgs",
    "repos_url": "https://api.github.com/users/fvictorio/repos",
    "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
    "received_events_url": "https://api.github.com/users/fvictorio/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1589/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1589/timeline",
  "performed_via_github_app": null,
  "state_reason": "not_planned"
}
[
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/869070891",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1589#issuecomment-869070891",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1589",
    "id": 869070891,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2OTA3MDg5MQ==",
    "user": {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-26T22:53:05Z",
    "updated_at": "2021-06-26T22:53:40Z",
    "author_association": "NONE",
    "body": "The blog post states that the limit is `2**64-1` and it's true in that the compiler internally stores this value in a variable of type [`size_t`](https://en.cppreference.com/w/cpp/types/size_t) which has the size of 64 bits on 64-bit platforms.\r\n\r\nBut the situation is oddly complicated due to platform-specific nature of types in C++:\r\n- On 32-bit plaforms `size_t` has the size of 32 bits.\r\n- The input validations enforce a lower limit anyway so you won't be able to set it to that theoretical maximum:\r\n    - In Standard JSON it's always `2**32-1` (because of `Uint` type).\r\n    - On the command line it's `2**32-1` but could technically also be `2**16-1` (because it's [`unsigned`](https://en.cppreference.com/w/cpp/language/types)).\r\n- Coincidentally, I have just recently done a refactor that makes the type consistent and would actually raise the limit to `2**64-1` (still platform-specific though). https://github.com/ethereum/solidity/pull/11550\r\n\r\nAll in all, given that the values beyond `2**32-1` are unlikely to be useful in practice, sticking to that limit in Hardhat seems reasonable to me for the time being.\r\n\r\nPerhaps we should just sort it out in the compiler and switch to a platform-independent type like `uint64_t`. I suspect that there are many other options affected by this though.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/869070891/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/869073388",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1589#issuecomment-869073388",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1589",
    "id": 869073388,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2OTA3MzM4OA==",
    "user": {
      "login": "852Kerfunkle",
      "id": 25444590,
      "node_id": "MDQ6VXNlcjI1NDQ0NTkw",
      "avatar_url": "https://avatars.githubusercontent.com/u/25444590?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/852Kerfunkle",
      "html_url": "https://github.com/852Kerfunkle",
      "followers_url": "https://api.github.com/users/852Kerfunkle/followers",
      "following_url": "https://api.github.com/users/852Kerfunkle/following{/other_user}",
      "gists_url": "https://api.github.com/users/852Kerfunkle/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/852Kerfunkle/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/852Kerfunkle/subscriptions",
      "organizations_url": "https://api.github.com/users/852Kerfunkle/orgs",
      "repos_url": "https://api.github.com/users/852Kerfunkle/repos",
      "events_url": "https://api.github.com/users/852Kerfunkle/events{/privacy}",
      "received_events_url": "https://api.github.com/users/852Kerfunkle/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-26T23:25:41Z",
    "updated_at": "2021-06-26T23:25:41Z",
    "author_association": "NONE",
    "body": "> Perhaps we should just sort it out in the compiler and switch to a platform-independent type like `uint64_t`. I suspect that there are many other options affected by this though.\r\n\r\nIt is good practice to avoid use of size_t where possible.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/869073388/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/869075434",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1589#issuecomment-869075434",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1589",
    "id": 869075434,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2OTA3NTQzNA==",
    "user": {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-26T23:54:56Z",
    "updated_at": "2021-06-26T23:54:56Z",
    "author_association": "NONE",
    "body": "I mean, it's perfectly fine for stuff that actually stores a size of an object and this happens a lot. But yeah, for stuff that's exposed to the outside a platform-independent type should be used.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/869075434/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/869147153",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1589#issuecomment-869147153",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1589",
    "id": 869147153,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2OTE0NzE1Mw==",
    "user": {
      "login": "852Kerfunkle",
      "id": 25444590,
      "node_id": "MDQ6VXNlcjI1NDQ0NTkw",
      "avatar_url": "https://avatars.githubusercontent.com/u/25444590?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/852Kerfunkle",
      "html_url": "https://github.com/852Kerfunkle",
      "followers_url": "https://api.github.com/users/852Kerfunkle/followers",
      "following_url": "https://api.github.com/users/852Kerfunkle/following{/other_user}",
      "gists_url": "https://api.github.com/users/852Kerfunkle/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/852Kerfunkle/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/852Kerfunkle/subscriptions",
      "organizations_url": "https://api.github.com/users/852Kerfunkle/orgs",
      "repos_url": "https://api.github.com/users/852Kerfunkle/repos",
      "events_url": "https://api.github.com/users/852Kerfunkle/events{/privacy}",
      "received_events_url": "https://api.github.com/users/852Kerfunkle/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-27T11:37:10Z",
    "updated_at": "2021-06-27T11:37:10Z",
    "author_association": "NONE",
    "body": "Yes, valid uses for `size_t` are when dealing with memory allocations, arrays, sizes of objects in memory, and some other things.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/869147153/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/869753577",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1589#issuecomment-869753577",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1589",
    "id": 869753577,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2OTc1MzU3Nw==",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-28T14:54:12Z",
    "updated_at": "2021-06-28T14:54:12Z",
    "author_association": "MEMBER",
    "body": "It seems then that the correct thing to do here is to keep the current limit of `2**32-1` but to show a better error message.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/869753577/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/869867753",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1589#issuecomment-869867753",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1589",
    "id": 869867753,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2OTg2Nzc1Mw==",
    "user": {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-28T17:19:49Z",
    "updated_at": "2021-06-28T17:19:49Z",
    "author_association": "NONE",
    "body": "Yeah. By the way, I restored the original `2**32-1` limit for the CLI in my refactor to keep things consistent.\r\n\r\nI see that this is the only numeric argument we have in the CLI after all so think I'll do another refactor to change it to `uint32_t` which will keep the limit the same on all platforms.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/869867753/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/870195363",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1589#issuecomment-870195363",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1589",
    "id": 870195363,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3MDE5NTM2Mw==",
    "user": {
      "login": "852Kerfunkle",
      "id": 25444590,
      "node_id": "MDQ6VXNlcjI1NDQ0NTkw",
      "avatar_url": "https://avatars.githubusercontent.com/u/25444590?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/852Kerfunkle",
      "html_url": "https://github.com/852Kerfunkle",
      "followers_url": "https://api.github.com/users/852Kerfunkle/followers",
      "following_url": "https://api.github.com/users/852Kerfunkle/following{/other_user}",
      "gists_url": "https://api.github.com/users/852Kerfunkle/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/852Kerfunkle/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/852Kerfunkle/subscriptions",
      "organizations_url": "https://api.github.com/users/852Kerfunkle/orgs",
      "repos_url": "https://api.github.com/users/852Kerfunkle/repos",
      "events_url": "https://api.github.com/users/852Kerfunkle/events{/privacy}",
      "received_events_url": "https://api.github.com/users/852Kerfunkle/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-29T03:09:10Z",
    "updated_at": "2021-06-29T03:12:14Z",
    "author_association": "NONE",
    "body": "Awesome, thanks!\r\n\r\nBy the way, I have done some experimenting on my contracts anything higher than around 200k runs, the generated bytecode stays more or less the same.\r\n\r\nIn my case, so to be taken with a grain of salt.\r\n\r\nEdit: I am assuming it's used as a kind of threshold to enable certain optimizer behaviour, but I haven't looked. Would appreciate some insight.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/870195363/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1367253842",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/1589#issuecomment-1367253842",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/1589",
    "id": 1367253842,
    "node_id": "IC_kwDOB7jojM5RfqNS",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-12-29T11:26:49Z",
    "updated_at": "2022-12-29T11:26:49Z",
    "author_association": "MEMBER",
    "body": "Closing this in favor of https://github.com/NomicFoundation/hardhat/issues/3488.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1367253842/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
