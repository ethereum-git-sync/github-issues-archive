{
  "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3836",
  "repository_url": "https://api.github.com/repos/NomicFoundation/hardhat",
  "labels_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3836/labels{/name}",
  "comments_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3836/comments",
  "events_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3836/events",
  "html_url": "https://github.com/NomicFoundation/hardhat/issues/3836",
  "id": 1662171775,
  "node_id": "I_kwDOB7jojM5jErp_",
  "number": 3836,
  "title": "Hardhat smart contracts deployment on trigger",
  "user": {
    "login": "anujkmonetwork",
    "id": 126776426,
    "node_id": "U_kgDOB450ag",
    "avatar_url": "https://avatars.githubusercontent.com/u/126776426?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/anujkmonetwork",
    "html_url": "https://github.com/anujkmonetwork",
    "followers_url": "https://api.github.com/users/anujkmonetwork/followers",
    "following_url": "https://api.github.com/users/anujkmonetwork/following{/other_user}",
    "gists_url": "https://api.github.com/users/anujkmonetwork/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/anujkmonetwork/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/anujkmonetwork/subscriptions",
    "organizations_url": "https://api.github.com/users/anujkmonetwork/orgs",
    "repos_url": "https://api.github.com/users/anujkmonetwork/repos",
    "events_url": "https://api.github.com/users/anujkmonetwork/events{/privacy}",
    "received_events_url": "https://api.github.com/users/anujkmonetwork/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 4937119027,
      "node_id": "LA_kwDOB7jojM8AAAABJkZ1Mw",
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/labels/status:triaging",
      "name": "status:triaging",
      "color": "0E8A16",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": true,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2023-04-11T10:13:45Z",
  "updated_at": "2023-04-13T08:57:17Z",
  "closed_at": "2023-04-13T08:57:09Z",
  "author_association": "NONE",
  "active_lock_reason": "off-topic",
  "body": "I am trying to implement smart contracts with hardhat. From the hardhat documentation, I have seen that we can use the following command to deploy the contract -\r\n\r\n`npx hardhat run scripts/deploy.js\r\n`\r\nIn scripts/deploy.js,\r\n\r\n```\r\nconst { ethers } = require(\"hardhat\");\r\n\r\nasync function main() {\r\n\r\n    const Referral = await ethers.getContractFactory(\"Referral\");\r\n\r\n    const referral = await Referral.deploy(\"0\", \"1\", \"2\", \"3\");\r\n\r\n    let contractAddress = referral.address;\r\n\r\n    console.log(\"Contract deployed to address:\", contractAddress);\r\n}\r\n\r\nmain()\r\n    .then(() => process.exit(0))\r\n    .catch(error => {\r\n        console.error(error);\r\n        process.exit(1);\r\n    });\r\n```\r\n\r\nI wanted to deploy the contract on a trigger somewhere in node.js and store the contract address in some storage. But using the above command, I would get the output in the terminal and would have to extract it out using exec of nodejs. I wanted to have a function in scripts/deploy.js which I can use to deploy the contracts and can call it from some place in nodejs. Also, it would help in passing some parameters to the function that the Referral.deploy would take in 0, 1, 2, 3...\r\n\r\nI am very new to web3 ecosystem and trying to see if something like above is achievable.\r\n\r\nThanks",
  "closed_by": {
    "login": "fvictorio",
    "id": 417134,
    "node_id": "MDQ6VXNlcjQxNzEzNA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/fvictorio",
    "html_url": "https://github.com/fvictorio",
    "followers_url": "https://api.github.com/users/fvictorio/followers",
    "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
    "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
    "organizations_url": "https://api.github.com/users/fvictorio/orgs",
    "repos_url": "https://api.github.com/users/fvictorio/repos",
    "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
    "received_events_url": "https://api.github.com/users/fvictorio/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3836/reactions",
    "total_count": 3,
    "+1": 3,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3836/timeline",
  "performed_via_github_app": null,
  "state_reason": "not_planned"
}
[
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1506011196",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3836#issuecomment-1506011196",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3836",
    "id": 1506011196,
    "node_id": "IC_kwDOB7jojM5Zw-g8",
    "user": {
      "login": "dev14325",
      "id": 110956782,
      "node_id": "U_kgDOBp0Q7g",
      "avatar_url": "https://avatars.githubusercontent.com/u/110956782?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dev14325",
      "html_url": "https://github.com/dev14325",
      "followers_url": "https://api.github.com/users/dev14325/followers",
      "following_url": "https://api.github.com/users/dev14325/following{/other_user}",
      "gists_url": "https://api.github.com/users/dev14325/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dev14325/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dev14325/subscriptions",
      "organizations_url": "https://api.github.com/users/dev14325/orgs",
      "repos_url": "https://api.github.com/users/dev14325/repos",
      "events_url": "https://api.github.com/users/dev14325/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dev14325/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-12T21:55:31Z",
    "updated_at": "2023-04-12T21:55:31Z",
    "author_association": "NONE",
    "body": "@anujkmonetwork  I dont know the node.js part but yes you can pass argument to your contract_name.deploy() function it can take optional argument . like suppose you have written a smart contract that gives  permission to some early users to participate in a token sale or nft sale , you can pass that no as an argument . you can also pass an object also\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1506011196/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1506454219",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3836#issuecomment-1506454219",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3836",
    "id": 1506454219,
    "node_id": "IC_kwDOB7jojM5ZyqrL",
    "user": {
      "login": "anujkmonetwork",
      "id": 126776426,
      "node_id": "U_kgDOB450ag",
      "avatar_url": "https://avatars.githubusercontent.com/u/126776426?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/anujkmonetwork",
      "html_url": "https://github.com/anujkmonetwork",
      "followers_url": "https://api.github.com/users/anujkmonetwork/followers",
      "following_url": "https://api.github.com/users/anujkmonetwork/following{/other_user}",
      "gists_url": "https://api.github.com/users/anujkmonetwork/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/anujkmonetwork/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/anujkmonetwork/subscriptions",
      "organizations_url": "https://api.github.com/users/anujkmonetwork/orgs",
      "repos_url": "https://api.github.com/users/anujkmonetwork/repos",
      "events_url": "https://api.github.com/users/anujkmonetwork/events{/privacy}",
      "received_events_url": "https://api.github.com/users/anujkmonetwork/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-13T07:02:23Z",
    "updated_at": "2023-04-13T07:02:23Z",
    "author_association": "NONE",
    "body": "@dev14325 \r\nThanks for your reply. \r\nI am able to run deploy function with parameters. That is all good. \r\nI wanted to know how should I go about calling main function from someother place in the code to deploy the contract. ",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1506454219/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1506599627",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3836#issuecomment-1506599627",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3836",
    "id": 1506599627,
    "node_id": "IC_kwDOB7jojM5ZzOLL",
    "user": {
      "login": "fvictorio",
      "id": 417134,
      "node_id": "MDQ6VXNlcjQxNzEzNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fvictorio",
      "html_url": "https://github.com/fvictorio",
      "followers_url": "https://api.github.com/users/fvictorio/followers",
      "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
      "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
      "organizations_url": "https://api.github.com/users/fvictorio/orgs",
      "repos_url": "https://api.github.com/users/fvictorio/repos",
      "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fvictorio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-13T08:57:09Z",
    "updated_at": "2023-04-13T08:57:09Z",
    "author_association": "MEMBER",
    "body": "@anujkmonetwork that's a node.js question. This issue tracker is meant to be used for bugs/feature requests related to Hardhat.\r\n\r\nPlease read about the [node.js module system](https://nodejs.org/api/modules.html) to learn how to share functionality in Node. The quick answer is that you can do something like this:\r\n\r\n```js\r\nmodule.exports = async function deploy(args) { ... }\r\n```\r\n\r\nand then require that file in another one:\r\n\r\n\r\n```js\r\nconst deploy = require(\"./deploy.js\")\r\n```\r\n\r\nIf you have more questions about things related to Node, please use Stack Overflow or something like that.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1506599627/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
