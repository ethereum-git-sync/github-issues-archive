{
  "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2462",
  "repository_url": "https://api.github.com/repos/NomicFoundation/hardhat",
  "labels_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2462/labels{/name}",
  "comments_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2462/comments",
  "events_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2462/events",
  "html_url": "https://github.com/NomicFoundation/hardhat/issues/2462",
  "id": 1161495240,
  "node_id": "I_kwDOB7jojM5FOwLI",
  "number": 2462,
  "title": "sendTransaction fails when testing locally",
  "user": {
    "login": "msugarm",
    "id": 99758659,
    "node_id": "U_kgDOBfIyQw",
    "avatar_url": "https://avatars.githubusercontent.com/u/99758659?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/msugarm",
    "html_url": "https://github.com/msugarm",
    "followers_url": "https://api.github.com/users/msugarm/followers",
    "following_url": "https://api.github.com/users/msugarm/following{/other_user}",
    "gists_url": "https://api.github.com/users/msugarm/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/msugarm/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/msugarm/subscriptions",
    "organizations_url": "https://api.github.com/users/msugarm/orgs",
    "repos_url": "https://api.github.com/users/msugarm/repos",
    "events_url": "https://api.github.com/users/msugarm/events{/privacy}",
    "received_events_url": "https://api.github.com/users/msugarm/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 2474207618,
      "node_id": "MDU6TGFiZWwyNDc0MjA3NjE4",
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/labels/status:needs-more-info",
      "name": "status:needs-more-info",
      "color": "0E8A16",
      "default": false,
      "description": "There's not enough information to start working on this issue"
    }
  ],
  "state": "closed",
  "locked": true,
  "assignee": {
    "login": "zoeyTM",
    "id": 14796043,
    "node_id": "MDQ6VXNlcjE0Nzk2MDQz",
    "avatar_url": "https://avatars.githubusercontent.com/u/14796043?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/zoeyTM",
    "html_url": "https://github.com/zoeyTM",
    "followers_url": "https://api.github.com/users/zoeyTM/followers",
    "following_url": "https://api.github.com/users/zoeyTM/following{/other_user}",
    "gists_url": "https://api.github.com/users/zoeyTM/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/zoeyTM/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/zoeyTM/subscriptions",
    "organizations_url": "https://api.github.com/users/zoeyTM/orgs",
    "repos_url": "https://api.github.com/users/zoeyTM/repos",
    "events_url": "https://api.github.com/users/zoeyTM/events{/privacy}",
    "received_events_url": "https://api.github.com/users/zoeyTM/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "zoeyTM",
      "id": 14796043,
      "node_id": "MDQ6VXNlcjE0Nzk2MDQz",
      "avatar_url": "https://avatars.githubusercontent.com/u/14796043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zoeyTM",
      "html_url": "https://github.com/zoeyTM",
      "followers_url": "https://api.github.com/users/zoeyTM/followers",
      "following_url": "https://api.github.com/users/zoeyTM/following{/other_user}",
      "gists_url": "https://api.github.com/users/zoeyTM/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zoeyTM/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zoeyTM/subscriptions",
      "organizations_url": "https://api.github.com/users/zoeyTM/orgs",
      "repos_url": "https://api.github.com/users/zoeyTM/repos",
      "events_url": "https://api.github.com/users/zoeyTM/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zoeyTM/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2022-03-07T14:30:01Z",
  "updated_at": "2022-11-18T09:55:23Z",
  "closed_at": "2022-05-05T20:34:35Z",
  "author_association": "NONE",
  "active_lock_reason": "resolved",
  "body": "I am currently testing using ganache forking BSC.\r\n\r\nwhen try to sendTransaction, throw errors with a CALL_EXCEPTION code error.\r\n\r\ncode\r\n```javascript\r\n  it(\"send BNB\", async () => {\r\n    const value = ethers.utils.parseEther(\"1\");\r\n\r\n    const balanceBefore = await provider.getBalance(receiver.address);\r\n    console.log(balanceBefore);\r\n    let tx = await signer.sendTransaction({\r\n      to: receiver.address,\r\n      value: value,\r\n      gasPrice: GAS_CONFIG.gasPrice,\r\n      gasLimit: GAS_CONFIG.gasLimit,\r\n    });\r\n    await tx.wait();\r\n    console.log({ tx });\r\n    const balanceAfter = await provider.getBalance(receiver.address);\r\n    console.log(balanceAfter);\r\n\r\n    expect(balanceBefore).to.equal(0);\r\n    expect(balanceAfter).to.equal(value);\r\n  });\r\n  ```\r\n  \r\nerror\r\n  ```\r\nsend BNB:\r\n     Error: transaction failed (transactionHash=\"0x0d46ca5e92f24b97b7fa5883a5c4ee7462ef4975fcd9860881131bc59c0b9255\", transaction={\"hash\":\"0x0d46ca5e92f24b97b7fa5883a5c4ee7462ef4975fcd9860881131bc59c0b9255\",\"type\":0,\"accessList\":null,\"blockHash\":\"0x4a378ba16f26056f80cc657419e5c36f970647bb237be9f39c3533884f31163e\",\"blockNumber\":15853400,\"transactionIndex\":0,\"confirmations\":1,\"from\":\"0xCeA06DcdD724b93320C97138bB369bdcc84AB6E3\",\"gasPrice\":{\"type\":\"BigNumber\",\"hex\":\"0x012a05f200\"},\"gasLimit\":{\"type\":\"BigNumber\",\"hex\":\"0x0f4240\"},\"to\":\"0xC15912958e822fF999469186879A31054566ac9e\",\"value\":{\"type\":\"BigNumber\",\"hex\":\"0x0de0b6b3a7640000\"},\"nonce\":765,\"data\":\"0x\",\"r\":\"0xa22914e7c357f7f3105527542fa83f0553f85cb0cf9486423f47bd75a6dfd697\",\"s\":\"0x116ff6588c774602045b62016abe84c1a08cee5281eda90f412a90253c7a904d\",\"v\":2709,\"creates\":null,\"chainId\":1337}, receipt={\"to\":\"0xC15912958e822fF999469186879A31054566ac9e\",\"from\":\"0xCeA06DcdD724b93320C97138bB369bdcc84AB6E3\",\"contractAddress\":null,\"transactionIndex\":0,\"gasUsed\":{\"type\":\"BigNumber\",\"hex\":\"0x5232\"},\"logsBloom\":\"0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\",\"blockHash\":\"0x4a378ba16f26056f80cc657419e5c36f970647bb237be9f39c3533884f31163e\",\"transactionHash\":\"0x0d46ca5e92f24b97b7fa5883a5c4ee7462ef4975fcd9860881131bc59c0b9255\",\"logs\":[],\"blockNumber\":15853400,\"confirmations\":1,\"cumulativeGasUsed\":{\"type\":\"BigNumber\",\"hex\":\"0x5232\"},\"effectiveGasPrice\":{\"type\":\"BigNumber\",\"hex\":\"0x012a05f200\"},\"status\":0,\"type\":0,\"byzantium\":true}, code=CALL_EXCEPTION, version=providers/5.5.3)\r\n      at Logger.makeError (node_modules/@ethersproject/logger/src.ts/index.ts:225:28)\r\n      at Logger.throwError (node_modules/@ethersproject/logger/src.ts/index.ts:237:20)\r\n      at EthersProviderWrapper.<anonymous> (node_modules/@ethersproject/providers/src.ts/base-provider.ts:1352:24)\r\n      at step (node_modules/@ethersproject/providers/lib/base-provider.js:48:23)\r\n      at Object.next (node_modules/@ethersproject/providers/lib/base-provider.js:29:53)\r\n      at fulfilled (node_modules/@ethersproject/providers/lib/base-provider.js:20:58)\r\n      at processTicksAndRejections (node:internal/process/task_queues:96:5)\r\n  ```",
  "closed_by": {
    "login": "github-actions[bot]",
    "id": 41898282,
    "node_id": "MDM6Qm90NDE4OTgyODI=",
    "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/github-actions%5Bbot%5D",
    "html_url": "https://github.com/apps/github-actions",
    "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
    "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
    "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
    "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
    "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
    "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
    "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
    "type": "Bot",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2462/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2462/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1064489150",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2462#issuecomment-1064489150",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2462",
    "id": 1064489150,
    "node_id": "IC_kwDOB7jojM4_ctC-",
    "user": {
      "login": "zoeyTM",
      "id": 14796043,
      "node_id": "MDQ6VXNlcjE0Nzk2MDQz",
      "avatar_url": "https://avatars.githubusercontent.com/u/14796043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zoeyTM",
      "html_url": "https://github.com/zoeyTM",
      "followers_url": "https://api.github.com/users/zoeyTM/followers",
      "following_url": "https://api.github.com/users/zoeyTM/following{/other_user}",
      "gists_url": "https://api.github.com/users/zoeyTM/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zoeyTM/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zoeyTM/subscriptions",
      "organizations_url": "https://api.github.com/users/zoeyTM/orgs",
      "repos_url": "https://api.github.com/users/zoeyTM/repos",
      "events_url": "https://api.github.com/users/zoeyTM/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zoeyTM/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-03-10T20:47:49Z",
    "updated_at": "2022-03-10T20:47:49Z",
    "author_association": "CONTRIBUTOR",
    "body": "I don't know enough about this part of the codebase to tell whether this is a bug, needs more info, or otherwise. @feuGeneA could you take a look when you get a chance?",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1064489150/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1064490405",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2462#issuecomment-1064490405",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2462",
    "id": 1064490405,
    "node_id": "IC_kwDOB7jojM4_ctWl",
    "user": {
      "login": "zoeyTM",
      "id": 14796043,
      "node_id": "MDQ6VXNlcjE0Nzk2MDQz",
      "avatar_url": "https://avatars.githubusercontent.com/u/14796043?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/zoeyTM",
      "html_url": "https://github.com/zoeyTM",
      "followers_url": "https://api.github.com/users/zoeyTM/followers",
      "following_url": "https://api.github.com/users/zoeyTM/following{/other_user}",
      "gists_url": "https://api.github.com/users/zoeyTM/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/zoeyTM/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/zoeyTM/subscriptions",
      "organizations_url": "https://api.github.com/users/zoeyTM/orgs",
      "repos_url": "https://api.github.com/users/zoeyTM/repos",
      "events_url": "https://api.github.com/users/zoeyTM/events{/privacy}",
      "received_events_url": "https://api.github.com/users/zoeyTM/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-03-10T20:49:21Z",
    "updated_at": "2022-03-10T20:49:21Z",
    "author_association": "CONTRIBUTOR",
    "body": "@msugarm in the meantime, you can check out our [discord server](https://hardhat.org/discord) if you need more immediate support. ",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1064490405/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1065362797",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2462#issuecomment-1065362797",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2462",
    "id": 1065362797,
    "node_id": "IC_kwDOB7jojM4_gCVt",
    "user": {
      "login": "feuGeneA",
      "id": 7883777,
      "node_id": "MDQ6VXNlcjc4ODM3Nzc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7883777?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/feuGeneA",
      "html_url": "https://github.com/feuGeneA",
      "followers_url": "https://api.github.com/users/feuGeneA/followers",
      "following_url": "https://api.github.com/users/feuGeneA/following{/other_user}",
      "gists_url": "https://api.github.com/users/feuGeneA/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/feuGeneA/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/feuGeneA/subscriptions",
      "organizations_url": "https://api.github.com/users/feuGeneA/orgs",
      "repos_url": "https://api.github.com/users/feuGeneA/repos",
      "events_url": "https://api.github.com/users/feuGeneA/events{/privacy}",
      "received_events_url": "https://api.github.com/users/feuGeneA/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-03-11T18:14:18Z",
    "updated_at": "2022-03-11T18:14:18Z",
    "author_association": "CONTRIBUTOR",
    "body": "@msugarm can you provide a reproduction scenario? See https://stackoverflow.com/help/minimal-reproducible-example\r\n\r\nThere's not a lot to go on here, but one thing I see that's probably wrong is the `\"chainId\":1337` in your transaction. I'm not a BSC user, but a quick googling suggests that you should be using `56` instead.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1065362797/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1112630063",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2462#issuecomment-1112630063",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2462",
    "id": 1112630063,
    "node_id": "IC_kwDOB7jojM5CUWMv",
    "user": {
      "login": "github-actions[bot]",
      "id": 41898282,
      "node_id": "MDM6Qm90NDE4OTgyODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/github-actions%5Bbot%5D",
      "html_url": "https://github.com/apps/github-actions",
      "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2022-04-28T20:34:32Z",
    "updated_at": "2022-04-28T20:34:32Z",
    "author_association": "CONTRIBUTOR",
    "body": "This issue was marked as stale because it didn't have any activity in the last 30 days. If you think it's still relevant, please leave a comment indicating so. Otherwise, it will be closed in 7 days.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1112630063/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1119021170",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2462#issuecomment-1119021170",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2462",
    "id": 1119021170,
    "node_id": "IC_kwDOB7jojM5Csuhy",
    "user": {
      "login": "github-actions[bot]",
      "id": 41898282,
      "node_id": "MDM6Qm90NDE4OTgyODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/github-actions%5Bbot%5D",
      "html_url": "https://github.com/apps/github-actions",
      "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2022-05-05T20:34:34Z",
    "updated_at": "2022-05-05T20:34:34Z",
    "author_association": "CONTRIBUTOR",
    "body": "This issue was closed because it has been stalled for 7 days with no activity.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1119021170/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
