{
  "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2354",
  "repository_url": "https://api.github.com/repos/NomicFoundation/hardhat",
  "labels_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2354/labels{/name}",
  "comments_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2354/comments",
  "events_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2354/events",
  "html_url": "https://github.com/NomicFoundation/hardhat/issues/2354",
  "id": 1127459501,
  "node_id": "I_kwDOB7jojM5DM6qt",
  "number": 2354,
  "title": "hardhat_reset does not reset forked chain",
  "user": {
    "login": "3commascapital",
    "id": 90629478,
    "node_id": "MDQ6VXNlcjkwNjI5NDc4",
    "avatar_url": "https://avatars.githubusercontent.com/u/90629478?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/3commascapital",
    "html_url": "https://github.com/3commascapital",
    "followers_url": "https://api.github.com/users/3commascapital/followers",
    "following_url": "https://api.github.com/users/3commascapital/following{/other_user}",
    "gists_url": "https://api.github.com/users/3commascapital/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/3commascapital/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/3commascapital/subscriptions",
    "organizations_url": "https://api.github.com/users/3commascapital/orgs",
    "repos_url": "https://api.github.com/users/3commascapital/repos",
    "events_url": "https://api.github.com/users/3commascapital/events{/privacy}",
    "received_events_url": "https://api.github.com/users/3commascapital/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": true,
  "assignee": {
    "login": "alcuadrado",
    "id": 176499,
    "node_id": "MDQ6VXNlcjE3NjQ5OQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/176499?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/alcuadrado",
    "html_url": "https://github.com/alcuadrado",
    "followers_url": "https://api.github.com/users/alcuadrado/followers",
    "following_url": "https://api.github.com/users/alcuadrado/following{/other_user}",
    "gists_url": "https://api.github.com/users/alcuadrado/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/alcuadrado/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/alcuadrado/subscriptions",
    "organizations_url": "https://api.github.com/users/alcuadrado/orgs",
    "repos_url": "https://api.github.com/users/alcuadrado/repos",
    "events_url": "https://api.github.com/users/alcuadrado/events{/privacy}",
    "received_events_url": "https://api.github.com/users/alcuadrado/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "alcuadrado",
      "id": 176499,
      "node_id": "MDQ6VXNlcjE3NjQ5OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/176499?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alcuadrado",
      "html_url": "https://github.com/alcuadrado",
      "followers_url": "https://api.github.com/users/alcuadrado/followers",
      "following_url": "https://api.github.com/users/alcuadrado/following{/other_user}",
      "gists_url": "https://api.github.com/users/alcuadrado/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alcuadrado/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alcuadrado/subscriptions",
      "organizations_url": "https://api.github.com/users/alcuadrado/orgs",
      "repos_url": "https://api.github.com/users/alcuadrado/repos",
      "events_url": "https://api.github.com/users/alcuadrado/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alcuadrado/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 14,
  "created_at": "2022-02-08T16:09:39Z",
  "updated_at": "2022-11-18T10:05:18Z",
  "closed_at": "2022-02-18T13:10:22Z",
  "author_association": "NONE",
  "active_lock_reason": "resolved",
  "body": "<!--\r\n\r\nThank you for using Hardhat and taking the time to open an issue!\r\n\r\n**Note that this issue tracker is not a support channel.**\r\n\r\n- For help with Hardhat and Hardhat network, please use our [Discord server](https://hardhat.org/discord).\r\n- For help with ethers.js, please go to [its Github Discussions](https://github.com/ethers-io/ethers.js/discussions).\r\n\r\nIf you are reporting a bug, please include reproduction steps. The best way to do this is to include a [Minimal Reproducible Example](https://stackoverflow.com/help/minimal-reproducible-example). If you can't do that, then include a link to your repo, and the steps to reproduce the problem. The easiest it is to reproduce your problem, the faster we are going to be able to fix it.\r\n\r\nIf you are submitting a feature request, please take the time to clearly describe your use case, and not only your proposed solution.\r\n\r\nThis issue will be automatically assigned to a Hardhat team member. This person will act as the point of contact between you and the team, but won't necessarily fix it nor address it in any way. An issue being assigned does not mean that it's being worked on.\r\n\r\n-->\r\n`hardhat_reset` command does not appear to do anything\r\n```\r\nimport * as hardhat from 'hardhat'\r\nmain()\r\n\r\nasync function main() {\r\n  const config = hardhat.config?.networks?.hardhat\r\n  console.log('resetting chain')\r\n  await hardhat.network.provider.request({\r\n    method: \"hardhat_reset\",\r\n    params: [{\r\n      forking: {\r\n        jsonRpcUrl: config.forking?.url,\r\n        blockNumber: config.forking?.blockNumber,\r\n      },\r\n    }],\r\n  })\r\n...\r\n```\r\nthis seems like a silent failure, i can see the hardhat terminal, operating with the same config, does not update it's empty blocks counter: `Mined empty block range #13505257 to #13505318`",
  "closed_by": {
    "login": "alcuadrado",
    "id": 176499,
    "node_id": "MDQ6VXNlcjE3NjQ5OQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/176499?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/alcuadrado",
    "html_url": "https://github.com/alcuadrado",
    "followers_url": "https://api.github.com/users/alcuadrado/followers",
    "following_url": "https://api.github.com/users/alcuadrado/following{/other_user}",
    "gists_url": "https://api.github.com/users/alcuadrado/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/alcuadrado/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/alcuadrado/subscriptions",
    "organizations_url": "https://api.github.com/users/alcuadrado/orgs",
    "repos_url": "https://api.github.com/users/alcuadrado/repos",
    "events_url": "https://api.github.com/users/alcuadrado/events{/privacy}",
    "received_events_url": "https://api.github.com/users/alcuadrado/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2354/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2354/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1036614565",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2354#issuecomment-1036614565",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2354",
    "id": 1036614565,
    "node_id": "IC_kwDOB7jojM49yXul",
    "user": {
      "login": "b-pmcg",
      "id": 13105602,
      "node_id": "MDQ6VXNlcjEzMTA1NjAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/13105602?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/b-pmcg",
      "html_url": "https://github.com/b-pmcg",
      "followers_url": "https://api.github.com/users/b-pmcg/followers",
      "following_url": "https://api.github.com/users/b-pmcg/following{/other_user}",
      "gists_url": "https://api.github.com/users/b-pmcg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/b-pmcg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/b-pmcg/subscriptions",
      "organizations_url": "https://api.github.com/users/b-pmcg/orgs",
      "repos_url": "https://api.github.com/users/b-pmcg/repos",
      "events_url": "https://api.github.com/users/b-pmcg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/b-pmcg/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-11T20:54:43Z",
    "updated_at": "2022-02-11T20:54:43Z",
    "author_association": "NONE",
    "body": "How are you calling it? I've been trying to call `hardhat_reset` from inside a test and was successful by calling it from a script `npx hardhat run scripts/forkNetwork.js --network localhost`",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1036614565/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1036617882",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2354#issuecomment-1036617882",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2354",
    "id": 1036617882,
    "node_id": "IC_kwDOB7jojM49yYia",
    "user": {
      "login": "3commascapital",
      "id": 90629478,
      "node_id": "MDQ6VXNlcjkwNjI5NDc4",
      "avatar_url": "https://avatars.githubusercontent.com/u/90629478?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/3commascapital",
      "html_url": "https://github.com/3commascapital",
      "followers_url": "https://api.github.com/users/3commascapital/followers",
      "following_url": "https://api.github.com/users/3commascapital/following{/other_user}",
      "gists_url": "https://api.github.com/users/3commascapital/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/3commascapital/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/3commascapital/subscriptions",
      "organizations_url": "https://api.github.com/users/3commascapital/orgs",
      "repos_url": "https://api.github.com/users/3commascapital/repos",
      "events_url": "https://api.github.com/users/3commascapital/events{/privacy}",
      "received_events_url": "https://api.github.com/users/3commascapital/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-11T20:59:35Z",
    "updated_at": "2022-02-11T21:00:15Z",
    "author_association": "NONE",
    "body": "yeah, this is how i am calling it:\r\n1) the script in my previous comment is what is being called to try the reset\r\n2) package.json script\r\n```\r\n\"reset\": \"ts-node ./src/reset.ts\",\r\n```\r\n3) `hardhat.config.ts`\r\n```\r\n...\r\n  networks: {\r\n    hardhat: {\r\n      forking: {\r\n        url: config.forkTarget.jsonRpcUrl,\r\n        blockNumber: config.forkTarget.blockNumber,\r\n      },\r\n      accounts: config.wallet.privateKey ?\r\n        privateKeyAccounts.map(privateKey => ({ privateKey, balance: hardhatBalance })) :\r\n        { mnemonic: config.wallet.mnemonic, accountsBalance: hardhatBalance, count: 1 },\r\n      blockGasLimit: 40_000_000,\r\n      hardfork: \"london\",\r\n      initialBaseFeePerGas: 0,\r\n      mining: {\r\n        auto: false,\r\n        interval: [3000, 4000],\r\n      },\r\n    },\r\n...\r\n```\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1036617882/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1036635964",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2354#issuecomment-1036635964",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2354",
    "id": 1036635964,
    "node_id": "IC_kwDOB7jojM49yc88",
    "user": {
      "login": "3commascapital",
      "id": 90629478,
      "node_id": "MDQ6VXNlcjkwNjI5NDc4",
      "avatar_url": "https://avatars.githubusercontent.com/u/90629478?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/3commascapital",
      "html_url": "https://github.com/3commascapital",
      "followers_url": "https://api.github.com/users/3commascapital/followers",
      "following_url": "https://api.github.com/users/3commascapital/following{/other_user}",
      "gists_url": "https://api.github.com/users/3commascapital/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/3commascapital/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/3commascapital/subscriptions",
      "organizations_url": "https://api.github.com/users/3commascapital/orgs",
      "repos_url": "https://api.github.com/users/3commascapital/repos",
      "events_url": "https://api.github.com/users/3commascapital/events{/privacy}",
      "received_events_url": "https://api.github.com/users/3commascapital/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-11T21:23:50Z",
    "updated_at": "2022-02-11T21:23:50Z",
    "author_association": "NONE",
    "body": "to be clear, i am starting up the forked node in one terminal, and resetting the fork to a particular block height in the other using this reset script. i am presuming that this how this is supposed to be done",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1036635964/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1036669717",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2354#issuecomment-1036669717",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2354",
    "id": 1036669717,
    "node_id": "IC_kwDOB7jojM49ylMV",
    "user": {
      "login": "b-pmcg",
      "id": 13105602,
      "node_id": "MDQ6VXNlcjEzMTA1NjAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/13105602?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/b-pmcg",
      "html_url": "https://github.com/b-pmcg",
      "followers_url": "https://api.github.com/users/b-pmcg/followers",
      "following_url": "https://api.github.com/users/b-pmcg/following{/other_user}",
      "gists_url": "https://api.github.com/users/b-pmcg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/b-pmcg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/b-pmcg/subscriptions",
      "organizations_url": "https://api.github.com/users/b-pmcg/orgs",
      "repos_url": "https://api.github.com/users/b-pmcg/repos",
      "events_url": "https://api.github.com/users/b-pmcg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/b-pmcg/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-11T22:05:17Z",
    "updated_at": "2022-02-11T22:05:17Z",
    "author_association": "NONE",
    "body": "One issue I had run into was not passing the correct network to my script, but it looks like you're using the default `hardhat` network. \r\nI changed my implementation a little bit. I have set up my call to `hardhat_reset` in a hardhat task called `fork` and I call it with an npm command that executes this: `npx hardhat fork --network localhost`.\r\n\r\nI'm not affiliated with hardhat, I just happen to be working on a simlar problem right now.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1036669717/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1036680474",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2354#issuecomment-1036680474",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2354",
    "id": 1036680474,
    "node_id": "IC_kwDOB7jojM49yn0a",
    "user": {
      "login": "3commascapital",
      "id": 90629478,
      "node_id": "MDQ6VXNlcjkwNjI5NDc4",
      "avatar_url": "https://avatars.githubusercontent.com/u/90629478?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/3commascapital",
      "html_url": "https://github.com/3commascapital",
      "followers_url": "https://api.github.com/users/3commascapital/followers",
      "following_url": "https://api.github.com/users/3commascapital/following{/other_user}",
      "gists_url": "https://api.github.com/users/3commascapital/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/3commascapital/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/3commascapital/subscriptions",
      "organizations_url": "https://api.github.com/users/3commascapital/orgs",
      "repos_url": "https://api.github.com/users/3commascapital/repos",
      "events_url": "https://api.github.com/users/3commascapital/events{/privacy}",
      "received_events_url": "https://api.github.com/users/3commascapital/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-11T22:17:29Z",
    "updated_at": "2022-02-11T22:17:29Z",
    "author_association": "NONE",
    "body": "for sure. no expectations, etc\r\n\r\nyeah, i added a script just like you outlined in your previous response but to no avail.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1036680474/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1037395992",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2354#issuecomment-1037395992",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2354",
    "id": 1037395992,
    "node_id": "IC_kwDOB7jojM491WgY",
    "user": {
      "login": "alcuadrado",
      "id": 176499,
      "node_id": "MDQ6VXNlcjE3NjQ5OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/176499?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alcuadrado",
      "html_url": "https://github.com/alcuadrado",
      "followers_url": "https://api.github.com/users/alcuadrado/followers",
      "following_url": "https://api.github.com/users/alcuadrado/following{/other_user}",
      "gists_url": "https://api.github.com/users/alcuadrado/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alcuadrado/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alcuadrado/subscriptions",
      "organizations_url": "https://api.github.com/users/alcuadrado/orgs",
      "repos_url": "https://api.github.com/users/alcuadrado/repos",
      "events_url": "https://api.github.com/users/alcuadrado/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alcuadrado/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-12T19:00:48Z",
    "updated_at": "2022-02-12T19:00:48Z",
    "author_association": "MEMBER",
    "body": "@3commascapital can you elaborate on what you are expecting to happen?\r\n\r\n@b-pmcg thanks for helping out!",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1037395992/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1038442609",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2354#issuecomment-1038442609",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2354",
    "id": 1038442609,
    "node_id": "IC_kwDOB7jojM495WBx",
    "user": {
      "login": "3commascapital",
      "id": 90629478,
      "node_id": "MDQ6VXNlcjkwNjI5NDc4",
      "avatar_url": "https://avatars.githubusercontent.com/u/90629478?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/3commascapital",
      "html_url": "https://github.com/3commascapital",
      "followers_url": "https://api.github.com/users/3commascapital/followers",
      "following_url": "https://api.github.com/users/3commascapital/following{/other_user}",
      "gists_url": "https://api.github.com/users/3commascapital/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/3commascapital/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/3commascapital/subscriptions",
      "organizations_url": "https://api.github.com/users/3commascapital/orgs",
      "repos_url": "https://api.github.com/users/3commascapital/repos",
      "events_url": "https://api.github.com/users/3commascapital/events{/privacy}",
      "received_events_url": "https://api.github.com/users/3commascapital/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-13T21:36:23Z",
    "updated_at": "2022-02-13T21:36:23Z",
    "author_association": "NONE",
    "body": "hey @alcuadrado, yeah, so i am assuming that the fork i am running would be able to reset to the block height that is provided to it, but i don't see any new logs in the terminal where the fork is running and it seems like the transactions that i run in my scripts are skipped over (because they are already complete)",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1038442609/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1038450008",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2354#issuecomment-1038450008",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2354",
    "id": 1038450008,
    "node_id": "IC_kwDOB7jojM495X1Y",
    "user": {
      "login": "alcuadrado",
      "id": 176499,
      "node_id": "MDQ6VXNlcjE3NjQ5OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/176499?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alcuadrado",
      "html_url": "https://github.com/alcuadrado",
      "followers_url": "https://api.github.com/users/alcuadrado/followers",
      "following_url": "https://api.github.com/users/alcuadrado/following{/other_user}",
      "gists_url": "https://api.github.com/users/alcuadrado/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alcuadrado/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alcuadrado/subscriptions",
      "organizations_url": "https://api.github.com/users/alcuadrado/orgs",
      "repos_url": "https://api.github.com/users/alcuadrado/repos",
      "events_url": "https://api.github.com/users/alcuadrado/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alcuadrado/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-13T22:03:25Z",
    "updated_at": "2022-02-13T22:03:25Z",
    "author_association": "MEMBER",
    "body": "Do you have a repo to reproduce this? I think you are doing something slightly incorrect and this is not a bug. Something that could be happening is that you are running the script in a temporal hardhat network instance.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1038450008/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1043247313",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2354#issuecomment-1043247313",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2354",
    "id": 1043247313,
    "node_id": "IC_kwDOB7jojM4-LrDR",
    "user": {
      "login": "iangregsondev",
      "id": 2370364,
      "node_id": "MDQ6VXNlcjIzNzAzNjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2370364?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/iangregsondev",
      "html_url": "https://github.com/iangregsondev",
      "followers_url": "https://api.github.com/users/iangregsondev/followers",
      "following_url": "https://api.github.com/users/iangregsondev/following{/other_user}",
      "gists_url": "https://api.github.com/users/iangregsondev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/iangregsondev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iangregsondev/subscriptions",
      "organizations_url": "https://api.github.com/users/iangregsondev/orgs",
      "repos_url": "https://api.github.com/users/iangregsondev/repos",
      "events_url": "https://api.github.com/users/iangregsondev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/iangregsondev/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-17T17:58:49Z",
    "updated_at": "2022-02-17T20:20:19Z",
    "author_association": "NONE",
    "body": "This also threw me a bit. I was running a forked version in one terminal window. Setup a few tasks to disable/enable logging and resetting the fork to a specific block number.\r\n\r\nIn the second terminal, just running the task actually uses a new forked version (i am assuming as my default is \"hardhat\"), so it's important to pass in \r\n\r\n```\r\n--network localhost\r\n```\r\n\r\nTo get it to use the existing fork that is running on localhost.\r\n\r\nWithout passing in the --network then of course nothing works, the chain is not reset.\r\n\r\nI wish I had found this post before lol :-)\r\n\r\nI am considering whether things like this really belong in a task where I originally placed them.\r\n\r\nI think a better alternative would be a script. Same functionality of course. So anything that calls the existing provider can be in a task but anything that requires a network change i.e. \"localhost\" then a script seems a better option. That's just in my mind, the functionality should be the same.\r\n\r\nCheers\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1043247313/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1043256528",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2354#issuecomment-1043256528",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2354",
    "id": 1043256528,
    "node_id": "IC_kwDOB7jojM4-LtTQ",
    "user": {
      "login": "alcuadrado",
      "id": 176499,
      "node_id": "MDQ6VXNlcjE3NjQ5OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/176499?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alcuadrado",
      "html_url": "https://github.com/alcuadrado",
      "followers_url": "https://api.github.com/users/alcuadrado/followers",
      "following_url": "https://api.github.com/users/alcuadrado/following{/other_user}",
      "gists_url": "https://api.github.com/users/alcuadrado/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alcuadrado/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alcuadrado/subscriptions",
      "organizations_url": "https://api.github.com/users/alcuadrado/orgs",
      "repos_url": "https://api.github.com/users/alcuadrado/repos",
      "events_url": "https://api.github.com/users/alcuadrado/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alcuadrado/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-17T18:08:22Z",
    "updated_at": "2022-02-17T18:08:22Z",
    "author_association": "MEMBER",
    "body": "@iangregsondev you can validate the network that your task is using. `hre.network.name` has that info.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1043256528/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1043258124",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2354#issuecomment-1043258124",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2354",
    "id": 1043258124,
    "node_id": "IC_kwDOB7jojM4-LtsM",
    "user": {
      "login": "iangregsondev",
      "id": 2370364,
      "node_id": "MDQ6VXNlcjIzNzAzNjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2370364?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/iangregsondev",
      "html_url": "https://github.com/iangregsondev",
      "followers_url": "https://api.github.com/users/iangregsondev/followers",
      "following_url": "https://api.github.com/users/iangregsondev/following{/other_user}",
      "gists_url": "https://api.github.com/users/iangregsondev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/iangregsondev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iangregsondev/subscriptions",
      "organizations_url": "https://api.github.com/users/iangregsondev/orgs",
      "repos_url": "https://api.github.com/users/iangregsondev/repos",
      "events_url": "https://api.github.com/users/iangregsondev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/iangregsondev/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-17T18:10:05Z",
    "updated_at": "2022-02-17T18:10:05Z",
    "author_association": "NONE",
    "body": "Ah ok great, thank you.",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1043258124/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1043383313",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2354#issuecomment-1043383313",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2354",
    "id": 1043383313,
    "node_id": "IC_kwDOB7jojM4-MMQR",
    "user": {
      "login": "3commascapital",
      "id": 90629478,
      "node_id": "MDQ6VXNlcjkwNjI5NDc4",
      "avatar_url": "https://avatars.githubusercontent.com/u/90629478?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/3commascapital",
      "html_url": "https://github.com/3commascapital",
      "followers_url": "https://api.github.com/users/3commascapital/followers",
      "following_url": "https://api.github.com/users/3commascapital/following{/other_user}",
      "gists_url": "https://api.github.com/users/3commascapital/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/3commascapital/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/3commascapital/subscriptions",
      "organizations_url": "https://api.github.com/users/3commascapital/orgs",
      "repos_url": "https://api.github.com/users/3commascapital/repos",
      "events_url": "https://api.github.com/users/3commascapital/events{/privacy}",
      "received_events_url": "https://api.github.com/users/3commascapital/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-17T20:15:52Z",
    "updated_at": "2022-02-17T20:15:52Z",
    "author_association": "NONE",
    "body": "got it. so you can't use `--network hardhat`, you have to use another config, like `--network localhost`",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1043383313/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1044505779",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2354#issuecomment-1044505779",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2354",
    "id": 1044505779,
    "node_id": "IC_kwDOB7jojM4-QeSz",
    "user": {
      "login": "alcuadrado",
      "id": 176499,
      "node_id": "MDQ6VXNlcjE3NjQ5OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/176499?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alcuadrado",
      "html_url": "https://github.com/alcuadrado",
      "followers_url": "https://api.github.com/users/alcuadrado/followers",
      "following_url": "https://api.github.com/users/alcuadrado/following{/other_user}",
      "gists_url": "https://api.github.com/users/alcuadrado/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alcuadrado/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alcuadrado/subscriptions",
      "organizations_url": "https://api.github.com/users/alcuadrado/orgs",
      "repos_url": "https://api.github.com/users/alcuadrado/repos",
      "events_url": "https://api.github.com/users/alcuadrado/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alcuadrado/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-18T13:10:07Z",
    "updated_at": "2022-02-18T13:10:07Z",
    "author_association": "MEMBER",
    "body": "You can also use `--network hardhat`, but that's the default network. ",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1044505779/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1044506147",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/2354#issuecomment-1044506147",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/2354",
    "id": 1044506147,
    "node_id": "IC_kwDOB7jojM4-QeYj",
    "user": {
      "login": "alcuadrado",
      "id": 176499,
      "node_id": "MDQ6VXNlcjE3NjQ5OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/176499?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alcuadrado",
      "html_url": "https://github.com/alcuadrado",
      "followers_url": "https://api.github.com/users/alcuadrado/followers",
      "following_url": "https://api.github.com/users/alcuadrado/following{/other_user}",
      "gists_url": "https://api.github.com/users/alcuadrado/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alcuadrado/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alcuadrado/subscriptions",
      "organizations_url": "https://api.github.com/users/alcuadrado/orgs",
      "repos_url": "https://api.github.com/users/alcuadrado/repos",
      "events_url": "https://api.github.com/users/alcuadrado/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alcuadrado/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-18T13:10:22Z",
    "updated_at": "2022-02-18T13:10:22Z",
    "author_association": "MEMBER",
    "body": "I'm closing this as it's not really a bug. ",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1044506147/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
