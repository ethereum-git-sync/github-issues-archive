{
  "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3203",
  "repository_url": "https://api.github.com/repos/NomicFoundation/hardhat",
  "labels_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3203/labels{/name}",
  "comments_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3203/comments",
  "events_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3203/events",
  "html_url": "https://github.com/NomicFoundation/hardhat/issues/3203",
  "id": 1381221801,
  "node_id": "I_kwDOB7jojM5SU8Wp",
  "number": 3203,
  "title": "Reverted matchers don't work with interval mining",
  "user": {
    "login": "fvictorio",
    "id": 417134,
    "node_id": "MDQ6VXNlcjQxNzEzNA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/417134?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/fvictorio",
    "html_url": "https://github.com/fvictorio",
    "followers_url": "https://api.github.com/users/fvictorio/followers",
    "following_url": "https://api.github.com/users/fvictorio/following{/other_user}",
    "gists_url": "https://api.github.com/users/fvictorio/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/fvictorio/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/fvictorio/subscriptions",
    "organizations_url": "https://api.github.com/users/fvictorio/orgs",
    "repos_url": "https://api.github.com/users/fvictorio/repos",
    "events_url": "https://api.github.com/users/fvictorio/events{/privacy}",
    "received_events_url": "https://api.github.com/users/fvictorio/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 4935639218,
      "node_id": "LA_kwDOB7jojM8AAAABJi_gsg",
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/labels/status:needs-decision",
      "name": "status:needs-decision",
      "color": "0E8A16",
      "default": false,
      "description": "We need to make a decision about this"
    },
    {
      "id": 4937718880,
      "node_id": "LA_kwDOB7jojM8AAAABJk-cYA",
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/labels/type:improvement",
      "name": "type:improvement",
      "color": "FBCA04",
      "default": false,
      "description": ""
    },
    {
      "id": 4952257781,
      "node_id": "LA_kwDOB7jojM8AAAABJy109Q",
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/labels/area:chai-matchers",
      "name": "area:chai-matchers",
      "color": "5319E7",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2022-09-21T16:48:08Z",
  "updated_at": "2022-12-28T10:22:45Z",
  "closed_at": null,
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "It seems like all our `.reverted*` matchers assume that auto-mining is enabled and dont `tx.wait()` the transaction.\r\n\r\nFor `.reverted` this is an easy fix, we should just wait the transaction before getting the receipt and inspecting the status.\r\n\r\nFor the other matchers, things are harder because we need to obtain the return data, and that's not available when the transaction is interval-mined. In these cases, we can use `debug_traceTransaction` to get it, which is slow but it's the easiest solution that I can think of.\r\n\r\nA problem related to this is that ethers's providers have a `pollingInterval` of 4 seconds by default, which means that tests that use interval mining are super slow. I'm including that here and not as a separate issue because it doesn't make sense to fix this problem if it's going to make all tests that use interval mining super slow. The solution might be to just to use a lower interval (maybe just when the Hardhat network is used?)",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3203/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3203/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1253973260",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3203#issuecomment-1253973260",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3203",
    "id": 1253973260,
    "node_id": "IC_kwDOB7jojM5Kvh0M",
    "user": {
      "login": "github-actions[bot]",
      "id": 41898282,
      "node_id": "MDM6Qm90NDE4OTgyODI=",
      "avatar_url": "https://avatars.githubusercontent.com/in/15368?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/github-actions%5Bbot%5D",
      "html_url": "https://github.com/apps/github-actions",
      "followers_url": "https://api.github.com/users/github-actions%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/github-actions%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/github-actions%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/github-actions%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/github-actions%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2022-09-21T16:48:29Z",
    "updated_at": "2022-09-21T16:48:29Z",
    "author_association": "CONTRIBUTOR",
    "body": "This issue is also being [tracked on Linear](https://linear.app/nomic-foundation/issue/HH-1199/[chai-matchers]-reverted-matchers-dont-work-with-interval-mining).\n\nWe use Linear to manage our development process, but we keep the conversations on Github.\n\nLINEAR-ID: 98a04ef5-2f1a-48dc-86f9-932c1424ba12",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1253973260/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1254017580",
    "html_url": "https://github.com/NomicFoundation/hardhat/issues/3203#issuecomment-1254017580",
    "issue_url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/3203",
    "id": 1254017580,
    "node_id": "IC_kwDOB7jojM5Kvsos",
    "user": {
      "login": "phated",
      "id": 992373,
      "node_id": "MDQ6VXNlcjk5MjM3Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/992373?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/phated",
      "html_url": "https://github.com/phated",
      "followers_url": "https://api.github.com/users/phated/followers",
      "following_url": "https://api.github.com/users/phated/following{/other_user}",
      "gists_url": "https://api.github.com/users/phated/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/phated/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/phated/subscriptions",
      "organizations_url": "https://api.github.com/users/phated/orgs",
      "repos_url": "https://api.github.com/users/phated/repos",
      "events_url": "https://api.github.com/users/phated/events{/privacy}",
      "received_events_url": "https://api.github.com/users/phated/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-21T17:33:10Z",
    "updated_at": "2022-09-21T17:33:10Z",
    "author_association": "NONE",
    "body": "Subscribing because I really want/need this for DF and afterimage (new game)! Thanks for opening @fvictorio ðŸŽ‰ ",
    "reactions": {
      "url": "https://api.github.com/repos/NomicFoundation/hardhat/issues/comments/1254017580/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
