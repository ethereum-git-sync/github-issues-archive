{
  "url": "https://api.github.com/repos/eth-brownie/brownie/issues/128",
  "repository_url": "https://api.github.com/repos/eth-brownie/brownie",
  "labels_url": "https://api.github.com/repos/eth-brownie/brownie/issues/128/labels{/name}",
  "comments_url": "https://api.github.com/repos/eth-brownie/brownie/issues/128/comments",
  "events_url": "https://api.github.com/repos/eth-brownie/brownie/issues/128/events",
  "html_url": "https://github.com/eth-brownie/brownie/issues/128",
  "id": 446022069,
  "node_id": "MDU6SXNzdWU0NDYwMjIwNjk=",
  "number": 128,
  "title": "Contracts not deployed onto Ropsten testnet",
  "user": {
    "login": "ks91",
    "id": 10666171,
    "node_id": "MDQ6VXNlcjEwNjY2MTcx",
    "avatar_url": "https://avatars.githubusercontent.com/u/10666171?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ks91",
    "html_url": "https://github.com/ks91",
    "followers_url": "https://api.github.com/users/ks91/followers",
    "following_url": "https://api.github.com/users/ks91/following{/other_user}",
    "gists_url": "https://api.github.com/users/ks91/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ks91/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ks91/subscriptions",
    "organizations_url": "https://api.github.com/users/ks91/orgs",
    "repos_url": "https://api.github.com/users/ks91/repos",
    "events_url": "https://api.github.com/users/ks91/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ks91/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2019-05-20T09:48:02Z",
  "updated_at": "2019-05-21T13:29:47Z",
  "closed_at": "2019-05-21T13:29:47Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "* `brownie` Version: 1.0.0b6\r\n* `py-solc-x` Verision: 0.4.0\r\n* `solc` Version: 0.5.8\r\n* Python Version: 3.7.3\r\n* OS: macOS 10.14.4\r\n\r\n### What was wrong?\r\n\r\nI am trying to deploy a contract onto Ropsten through infura from brownie console, but it returns a TypeError: Transaction must include these fields: {'nonce'}\r\n\r\nI have tested with \"development\" network, and it works fine. What I did is as follows (on token mix):\r\n\r\n```\r\n>>> network.disconnect()\r\n>>> network.connect('ropsten')\r\n>>> accounts.add([private key])\r\n>>> accounts[0].balance()\r\n1000000000000000000\r\n>>> run('token')\r\n  File \"brownie/cli/console.py\", line 95, in _run\r\n    exec('_result = ' + cmd, self.__dict__, local_)\r\n  File \"<string>\", line 1, in <module>\r\n  File \"brownie/cli/console.py\", line 195, in _run_script\r\n    return getattr(module, method)(*args, **kwargs)\r\n  File \"./scripts/token.py\", line 6, in main\r\n    accounts[0].deploy(Token, \"Test Token\", \"TEST\", 18, \"1000 ether\")\r\n  File \"brownie/network/account.py\", line 207, in deploy\r\n    'data': HexBytes(data)\r\n  File \"brownie/network/account.py\", line 321, in _transact\r\n    signed_tx = self._acct.signTransaction(tx).rawTransaction\r\n  File \"eth_account/signers/local.py\", line 65, in signTransaction\r\n    return self._publicapi.signTransaction(transaction_dict, self.privateKey)\r\n  File \"eth_utils/decorators.py\", line 17, in _wrapper\r\n    return self.method(obj, *args, **kwargs)\r\n  File \"eth_account/account.py\", line 435, in signTransaction\r\n    ) = sign_transaction_dict(account._key_obj, sanitized_transaction)\r\n  File \"eth_account/internal/signing.py\", line 23, in sign_transaction_dict\r\n    unsigned_transaction = serializable_unsigned_transaction_from_dict(transaction_dict)\r\n  File \"eth_account/internal/transactions.py\", line 35, in serializable_unsigned_transaction_from_dict\r\n    assert_valid_fields(transaction_dict)\r\n  File \"eth_account/internal/transactions.py\", line 129, in assert_valid_fields\r\n    raise TypeError(\"Transaction must include these fields: %r\" % missing_keys)\r\nTypeError: Transaction must include these fields: {'nonce'}\r\n```",
  "closed_by": {
    "login": "iamdefinitelyahuman",
    "id": 35276322,
    "node_id": "MDQ6VXNlcjM1Mjc2MzIy",
    "avatar_url": "https://avatars.githubusercontent.com/u/35276322?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/iamdefinitelyahuman",
    "html_url": "https://github.com/iamdefinitelyahuman",
    "followers_url": "https://api.github.com/users/iamdefinitelyahuman/followers",
    "following_url": "https://api.github.com/users/iamdefinitelyahuman/following{/other_user}",
    "gists_url": "https://api.github.com/users/iamdefinitelyahuman/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/iamdefinitelyahuman/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/iamdefinitelyahuman/subscriptions",
    "organizations_url": "https://api.github.com/users/iamdefinitelyahuman/orgs",
    "repos_url": "https://api.github.com/users/iamdefinitelyahuman/repos",
    "events_url": "https://api.github.com/users/iamdefinitelyahuman/events{/privacy}",
    "received_events_url": "https://api.github.com/users/iamdefinitelyahuman/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/eth-brownie/brownie/issues/128/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/eth-brownie/brownie/issues/128/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/eth-brownie/brownie/issues/comments/493951168",
    "html_url": "https://github.com/eth-brownie/brownie/issues/128#issuecomment-493951168",
    "issue_url": "https://api.github.com/repos/eth-brownie/brownie/issues/128",
    "id": 493951168,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5Mzk1MTE2OA==",
    "user": {
      "login": "iamdefinitelyahuman",
      "id": 35276322,
      "node_id": "MDQ6VXNlcjM1Mjc2MzIy",
      "avatar_url": "https://avatars.githubusercontent.com/u/35276322?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/iamdefinitelyahuman",
      "html_url": "https://github.com/iamdefinitelyahuman",
      "followers_url": "https://api.github.com/users/iamdefinitelyahuman/followers",
      "following_url": "https://api.github.com/users/iamdefinitelyahuman/following{/other_user}",
      "gists_url": "https://api.github.com/users/iamdefinitelyahuman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/iamdefinitelyahuman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iamdefinitelyahuman/subscriptions",
      "organizations_url": "https://api.github.com/users/iamdefinitelyahuman/orgs",
      "repos_url": "https://api.github.com/users/iamdefinitelyahuman/repos",
      "events_url": "https://api.github.com/users/iamdefinitelyahuman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/iamdefinitelyahuman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-20T11:41:44Z",
    "updated_at": "2019-05-20T11:41:44Z",
    "author_association": "MEMBER",
    "body": "Hi, thanks for letting me know :)\r\n\r\nIt seems the ``Account.deploy`` method isn't incuding the nonce.  Ganache doesn't mind adding it automatically but infura gets mad.  I've fixed it in 42f13b9, if you need it urgently you can clone the repo and run ``python setup.py install`` from the tests branch.  Otherwise, I'll try to push a new release soon..  I just want to do a bit more testing around ropsten first.",
    "reactions": {
      "url": "https://api.github.com/repos/eth-brownie/brownie/issues/comments/493951168/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/eth-brownie/brownie/issues/comments/493958206",
    "html_url": "https://github.com/eth-brownie/brownie/issues/128#issuecomment-493958206",
    "issue_url": "https://api.github.com/repos/eth-brownie/brownie/issues/128",
    "id": 493958206,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5Mzk1ODIwNg==",
    "user": {
      "login": "ks91",
      "id": 10666171,
      "node_id": "MDQ6VXNlcjEwNjY2MTcx",
      "avatar_url": "https://avatars.githubusercontent.com/u/10666171?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ks91",
      "html_url": "https://github.com/ks91",
      "followers_url": "https://api.github.com/users/ks91/followers",
      "following_url": "https://api.github.com/users/ks91/following{/other_user}",
      "gists_url": "https://api.github.com/users/ks91/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ks91/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ks91/subscriptions",
      "organizations_url": "https://api.github.com/users/ks91/orgs",
      "repos_url": "https://api.github.com/users/ks91/repos",
      "events_url": "https://api.github.com/users/ks91/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ks91/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-20T12:04:26Z",
    "updated_at": "2019-05-20T12:04:26Z",
    "author_association": "NONE",
    "body": "Thank you. I tried the tests branch, and it worked!",
    "reactions": {
      "url": "https://api.github.com/repos/eth-brownie/brownie/issues/comments/493958206/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
