{
  "url": "https://api.github.com/repos/eth-brownie/brownie/issues/1075",
  "repository_url": "https://api.github.com/repos/eth-brownie/brownie",
  "labels_url": "https://api.github.com/repos/eth-brownie/brownie/issues/1075/labels{/name}",
  "comments_url": "https://api.github.com/repos/eth-brownie/brownie/issues/1075/comments",
  "events_url": "https://api.github.com/repos/eth-brownie/brownie/issues/1075/events",
  "html_url": "https://github.com/eth-brownie/brownie/issues/1075",
  "id": 873701341,
  "node_id": "MDU6SXNzdWU4NzM3MDEzNDE=",
  "number": 1075,
  "title": "If ganache-cli cannot be used, don't auto-select another network. Tell the user what is happening.",
  "user": {
    "login": "stnbu",
    "id": 4089758,
    "node_id": "MDQ6VXNlcjQwODk3NTg=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4089758?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/stnbu",
    "html_url": "https://github.com/stnbu",
    "followers_url": "https://api.github.com/users/stnbu/followers",
    "following_url": "https://api.github.com/users/stnbu/following{/other_user}",
    "gists_url": "https://api.github.com/users/stnbu/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/stnbu/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/stnbu/subscriptions",
    "organizations_url": "https://api.github.com/users/stnbu/orgs",
    "repos_url": "https://api.github.com/users/stnbu/repos",
    "events_url": "https://api.github.com/users/stnbu/events{/privacy}",
    "received_events_url": "https://api.github.com/users/stnbu/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2021-05-01T15:25:30Z",
  "updated_at": "2021-06-22T14:36:35Z",
  "closed_at": "2021-06-22T14:36:35Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "### Overview\r\n\r\nIf an RPC client is already running and attached to `127.0.0.1:8545`, brownie will by default use that instead of starting `ganache-cli`. This caused some confusion for me. The first time I experimented with brownie, it would launch `ganache-cli` for me (as described in the docs). At a later point in time, with geth running and attached to port 8545, brownie tells me it is using it:\r\n\r\n```\r\n$ brownie console\r\nBrownie v1.14.6 - Python development framework for Ethereum\r\n\r\nBrowniePlayProject is the active project.\r\n/mypath/main.py:46: BrownieEnvironmentWarning: Development network has a block height of 4716187\r\n  BrownieEnvironmentWarning,\r\nAttached to local RPC client listening at '127.0.0.1:8545'...\r\nBrownie environment is ready.\r\n>>>\r\n```\r\n\r\nSince the default behavior changes depending on whether that address is already in use, it think it would be better for brownie to tell you so and refuse to start. If I start `ganache-cli` it says:\r\n\r\n```\r\n$ ganache-cli\r\nGanache CLI v6.12.2 (ganache-core: 2.13.2)\r\nError: listen EADDRINUSE: address already in use 127.0.0.1:8545\r\n    at Server.setupListenHandle [as _listen2] (net.js:1280:14)\r\n    at listenInCluster (net.js:1328:12)\r\n    at doListen (net.js:1461:7)\r\n    at process._tickCallback (internal/process/next_tick.js:63:19)\r\n    at Function.Module.runMain (internal/modules/cjs/loader.js:834:11)\r\n    at startup (internal/bootstrap/node.js:283:19)\r\n    at bootstrapNodeJSCore (internal/bootstrap/node.js:623:3)\r\n```\r\n\r\nIf brownie refused to start and said something like `cannot launch ganache-cli ... address already in use 127.0.0.1:8545` (or something), it would have been more apparent what's happening and I wouldn't be surprised by what's in `accounts` for example.\r\n\r\nFor a new, inexperienced user, it would be _less_ confusing to stop and tell you `ganache-cli` cannot be started than to just use whatever is listening to the address that was requested by `ganache-cli`.\r\n\r\n### Specification\r\n\r\nSomething like this would be nice:\r\n\r\n```\r\n$ brownie console\r\nBrownie v1.14.6 - Python development framework for Ethereum\r\n\r\nBrowniePlayProject is the active project.\r\nFATAL: cannot launch ganache-cli, address already in use 127.0.0.1:8545\r\n```",
  "closed_by": {
    "login": "stnbu",
    "id": 4089758,
    "node_id": "MDQ6VXNlcjQwODk3NTg=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4089758?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/stnbu",
    "html_url": "https://github.com/stnbu",
    "followers_url": "https://api.github.com/users/stnbu/followers",
    "following_url": "https://api.github.com/users/stnbu/following{/other_user}",
    "gists_url": "https://api.github.com/users/stnbu/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/stnbu/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/stnbu/subscriptions",
    "organizations_url": "https://api.github.com/users/stnbu/orgs",
    "repos_url": "https://api.github.com/users/stnbu/repos",
    "events_url": "https://api.github.com/users/stnbu/events{/privacy}",
    "received_events_url": "https://api.github.com/users/stnbu/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/eth-brownie/brownie/issues/1075/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/eth-brownie/brownie/issues/1075/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/eth-brownie/brownie/issues/comments/830686753",
    "html_url": "https://github.com/eth-brownie/brownie/issues/1075#issuecomment-830686753",
    "issue_url": "https://api.github.com/repos/eth-brownie/brownie/issues/1075",
    "id": 830686753,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgzMDY4Njc1Mw==",
    "user": {
      "login": "iamdefinitelyahuman",
      "id": 35276322,
      "node_id": "MDQ6VXNlcjM1Mjc2MzIy",
      "avatar_url": "https://avatars.githubusercontent.com/u/35276322?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/iamdefinitelyahuman",
      "html_url": "https://github.com/iamdefinitelyahuman",
      "followers_url": "https://api.github.com/users/iamdefinitelyahuman/followers",
      "following_url": "https://api.github.com/users/iamdefinitelyahuman/following{/other_user}",
      "gists_url": "https://api.github.com/users/iamdefinitelyahuman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/iamdefinitelyahuman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iamdefinitelyahuman/subscriptions",
      "organizations_url": "https://api.github.com/users/iamdefinitelyahuman/orgs",
      "repos_url": "https://api.github.com/users/iamdefinitelyahuman/repos",
      "events_url": "https://api.github.com/users/iamdefinitelyahuman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/iamdefinitelyahuman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-05-01T20:03:39Z",
    "updated_at": "2021-05-01T20:03:39Z",
    "author_association": "MEMBER",
    "body": "This behavior exists because users coming from truffle are trained that `ganache-cli` must first be launched as a separate process.  Brownie has no easy way to check _what_ it's connecting to, it simply checks if a connection is possible at the given address and port.  The warning `Development network has a block height of 4716187` is provided for users in your situation.",
    "reactions": {
      "url": "https://api.github.com/repos/eth-brownie/brownie/issues/comments/830686753/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/eth-brownie/brownie/issues/comments/866039820",
    "html_url": "https://github.com/eth-brownie/brownie/issues/1075#issuecomment-866039820",
    "issue_url": "https://api.github.com/repos/eth-brownie/brownie/issues/1075",
    "id": 866039820,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2NjAzOTgyMA==",
    "user": {
      "login": "stnbu",
      "id": 4089758,
      "node_id": "MDQ6VXNlcjQwODk3NTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4089758?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stnbu",
      "html_url": "https://github.com/stnbu",
      "followers_url": "https://api.github.com/users/stnbu/followers",
      "following_url": "https://api.github.com/users/stnbu/following{/other_user}",
      "gists_url": "https://api.github.com/users/stnbu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stnbu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stnbu/subscriptions",
      "organizations_url": "https://api.github.com/users/stnbu/orgs",
      "repos_url": "https://api.github.com/users/stnbu/repos",
      "events_url": "https://api.github.com/users/stnbu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stnbu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-22T14:36:35Z",
    "updated_at": "2021-06-22T14:36:35Z",
    "author_association": "NONE",
    "body": "> provided for users in your situation.\r\n\r\nGood enough. Thanks for the response.",
    "reactions": {
      "url": "https://api.github.com/repos/eth-brownie/brownie/issues/comments/866039820/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
