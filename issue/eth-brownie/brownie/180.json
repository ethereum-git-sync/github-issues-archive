{
  "url": "https://api.github.com/repos/eth-brownie/brownie/issues/180",
  "repository_url": "https://api.github.com/repos/eth-brownie/brownie",
  "labels_url": "https://api.github.com/repos/eth-brownie/brownie/issues/180/labels{/name}",
  "comments_url": "https://api.github.com/repos/eth-brownie/brownie/issues/180/comments",
  "events_url": "https://api.github.com/repos/eth-brownie/brownie/issues/180/events",
  "html_url": "https://github.com/eth-brownie/brownie/issues/180",
  "id": 491854636,
  "node_id": "MDU6SXNzdWU0OTE4NTQ2MzY=",
  "number": 180,
  "title": "Incorrect return type in api-brownie.rst for format_input",
  "user": {
    "login": "ghost",
    "id": 10137,
    "node_id": "MDQ6VXNlcjEwMTM3",
    "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ghost",
    "html_url": "https://github.com/ghost",
    "followers_url": "https://api.github.com/users/ghost/followers",
    "following_url": "https://api.github.com/users/ghost/following{/other_user}",
    "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
    "organizations_url": "https://api.github.com/users/ghost/orgs",
    "repos_url": "https://api.github.com/users/ghost/repos",
    "events_url": "https://api.github.com/users/ghost/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ghost/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1319604255,
      "node_id": "MDU6TGFiZWwxMzE5NjA0MjU1",
      "url": "https://api.github.com/repos/eth-brownie/brownie/labels/documentation",
      "name": "documentation",
      "color": "1d76db",
      "default": true,
      "description": "Related to readthedocs"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2019-09-10T19:27:08Z",
  "updated_at": "2019-09-13T08:14:32Z",
  "closed_at": "2019-09-13T08:14:32Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "The [docs](https://eth-brownie.readthedocs.io/en/latest/api-brownie.html#brownie.convert.format_input) currently state that `format_input` returns \"Returns a list of values formatted for use by ContractTx or ContractCall.\"\r\n\r\nHowever, it seems it actually returns an instance of brownie.convert.ReturnValue which inherits from tuple.\r\n\r\nI have updated the docs in my PR #170 but was hoping to get a second set of eyes on this to make sure I'm not missing something.\r\n\r\nFor references, here's the output in my terminal.  \r\n\r\n```\r\n>>> from brownie.convert import format_input\r\n>>> abi = {'constant': False, 'inputs': [{'name': '_to', 'type': 'address'}, {'name': '_value', 'type': 'uint256'}], 'name': 'transfer', 'outputs': [{'name': '', 'type': 'bool'}], 'payable': False, 'stateMutability': 'nonpayable', 'type': 'function'}\r\n>>> format_input(abi, [\"0xB8c77482e45F1F44dE1745F52C74426C631bDD52\",\"1 ether\"])\r\n('0xB8c77482e45F1F44dE1745F52C74426C631bDD52', 0)\r\n>>> type(format_input(abi, [\"0xB8c77482e45F1F44dE1745F52C74426C631bDD52\",\"1 ether\"]))\r\n<class 'brownie.convert.ReturnValue'>\r\n```\r\n\r\nThis all also applies to the `format_output` method.",
  "closed_by": {
    "login": "iamdefinitelyahuman",
    "id": 35276322,
    "node_id": "MDQ6VXNlcjM1Mjc2MzIy",
    "avatar_url": "https://avatars.githubusercontent.com/u/35276322?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/iamdefinitelyahuman",
    "html_url": "https://github.com/iamdefinitelyahuman",
    "followers_url": "https://api.github.com/users/iamdefinitelyahuman/followers",
    "following_url": "https://api.github.com/users/iamdefinitelyahuman/following{/other_user}",
    "gists_url": "https://api.github.com/users/iamdefinitelyahuman/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/iamdefinitelyahuman/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/iamdefinitelyahuman/subscriptions",
    "organizations_url": "https://api.github.com/users/iamdefinitelyahuman/orgs",
    "repos_url": "https://api.github.com/users/iamdefinitelyahuman/repos",
    "events_url": "https://api.github.com/users/iamdefinitelyahuman/events{/privacy}",
    "received_events_url": "https://api.github.com/users/iamdefinitelyahuman/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/eth-brownie/brownie/issues/180/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/eth-brownie/brownie/issues/180/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/eth-brownie/brownie/issues/comments/530190921",
    "html_url": "https://github.com/eth-brownie/brownie/issues/180#issuecomment-530190921",
    "issue_url": "https://api.github.com/repos/eth-brownie/brownie/issues/180",
    "id": 530190921,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzMDE5MDkyMQ==",
    "user": {
      "login": "iamdefinitelyahuman",
      "id": 35276322,
      "node_id": "MDQ6VXNlcjM1Mjc2MzIy",
      "avatar_url": "https://avatars.githubusercontent.com/u/35276322?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/iamdefinitelyahuman",
      "html_url": "https://github.com/iamdefinitelyahuman",
      "followers_url": "https://api.github.com/users/iamdefinitelyahuman/followers",
      "following_url": "https://api.github.com/users/iamdefinitelyahuman/following{/other_user}",
      "gists_url": "https://api.github.com/users/iamdefinitelyahuman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/iamdefinitelyahuman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iamdefinitelyahuman/subscriptions",
      "organizations_url": "https://api.github.com/users/iamdefinitelyahuman/orgs",
      "repos_url": "https://api.github.com/users/iamdefinitelyahuman/repos",
      "events_url": "https://api.github.com/users/iamdefinitelyahuman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/iamdefinitelyahuman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-09-11T02:17:25Z",
    "updated_at": "2019-09-11T02:17:25Z",
    "author_association": "MEMBER",
    "body": "I think it's a case of poor documentation, and maybe over-aggressive refactoring.\r\n\r\n* `format_input` performs type and bound checks, and standardizes formatting of user given data, before that data is encoded and used to call a contract.\r\n* `format_output` uses near identical logic to standardize the output from a contract call or transaction before returning it to the user.\r\n\r\nNeither of these methods are intended to be called directly, they're used under the hood by `_ContractMethod` subclasses.  There is significant overlap in the logic of these functions, so to minimize duplicated code they are both returning a `ReturnValue` object.  I hadn't considered a user ever calling `format_input` directly and discovering the peculiar name of it's return type :astonished: \r\n\r\nMy thought here is that both of these methods (as well as `format_event`) should be made private.  Users can still convert data through the various `to_xxx` methods in `brownie.convert` if needed.  Alternatively, we could modify `format_input` to return a list or tuple so it's less confusing.\r\n\r\nThoughts?",
    "reactions": {
      "url": "https://api.github.com/repos/eth-brownie/brownie/issues/comments/530190921/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/eth-brownie/brownie/issues/comments/530211274",
    "html_url": "https://github.com/eth-brownie/brownie/issues/180#issuecomment-530211274",
    "issue_url": "https://api.github.com/repos/eth-brownie/brownie/issues/180",
    "id": 530211274,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzMDIxMTI3NA==",
    "user": {
      "login": "ghost",
      "id": 10137,
      "node_id": "MDQ6VXNlcjEwMTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ghost",
      "html_url": "https://github.com/ghost",
      "followers_url": "https://api.github.com/users/ghost/followers",
      "following_url": "https://api.github.com/users/ghost/following{/other_user}",
      "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
      "organizations_url": "https://api.github.com/users/ghost/orgs",
      "repos_url": "https://api.github.com/users/ghost/repos",
      "events_url": "https://api.github.com/users/ghost/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ghost/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-09-11T04:09:29Z",
    "updated_at": "2019-09-11T04:09:29Z",
    "author_association": "NONE",
    "body": "I figured it was just a delay in updating the documentation. I think the code is fine exactly as is, the documentation just needs to be updated. PR #170 updates the documentation accordingly.\r\n\r\nSounds like the only advantage of making these private methods is just to be more explicit about the fact that these are not intended to be called directly? I'd be in support of that as a case could be made that the docs are a bit misleading on this by including an example to use the methods directly. Otherwise, I don't think it matters much. I like returning a `ReturnValue` object just fine.\r\n\r\nLet's make a separate issue to make `format_input` `format_output` and `format_event` private methods. Otherwise, I think this issue can be closed once #170 gets merged.",
    "reactions": {
      "url": "https://api.github.com/repos/eth-brownie/brownie/issues/comments/530211274/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/eth-brownie/brownie/issues/comments/530211839",
    "html_url": "https://github.com/eth-brownie/brownie/issues/180#issuecomment-530211839",
    "issue_url": "https://api.github.com/repos/eth-brownie/brownie/issues/180",
    "id": 530211839,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzMDIxMTgzOQ==",
    "user": {
      "login": "iamdefinitelyahuman",
      "id": 35276322,
      "node_id": "MDQ6VXNlcjM1Mjc2MzIy",
      "avatar_url": "https://avatars.githubusercontent.com/u/35276322?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/iamdefinitelyahuman",
      "html_url": "https://github.com/iamdefinitelyahuman",
      "followers_url": "https://api.github.com/users/iamdefinitelyahuman/followers",
      "following_url": "https://api.github.com/users/iamdefinitelyahuman/following{/other_user}",
      "gists_url": "https://api.github.com/users/iamdefinitelyahuman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/iamdefinitelyahuman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iamdefinitelyahuman/subscriptions",
      "organizations_url": "https://api.github.com/users/iamdefinitelyahuman/orgs",
      "repos_url": "https://api.github.com/users/iamdefinitelyahuman/repos",
      "events_url": "https://api.github.com/users/iamdefinitelyahuman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/iamdefinitelyahuman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-09-11T04:13:01Z",
    "updated_at": "2019-09-11T04:13:01Z",
    "author_association": "MEMBER",
    "body": "I think this might be the start of a much broader discussion...  there is a lot of stuff in the docs that i mention as \"you probably don't ever need to import or call this directly\" - before taking the beta tag off, it would be good to add some underscores and explicitly make a lot of the API private.  Then the docs can include a new sub-section \"private methods\" or \"internal methods\" so the information is still there when people are hacking on brownie itself, but it's also more clear to casual users that here be dragons...",
    "reactions": {
      "url": "https://api.github.com/repos/eth-brownie/brownie/issues/comments/530211839/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/eth-brownie/brownie/issues/comments/530214088",
    "html_url": "https://github.com/eth-brownie/brownie/issues/180#issuecomment-530214088",
    "issue_url": "https://api.github.com/repos/eth-brownie/brownie/issues/180",
    "id": 530214088,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzMDIxNDA4OA==",
    "user": {
      "login": "ghost",
      "id": 10137,
      "node_id": "MDQ6VXNlcjEwMTM3",
      "avatar_url": "https://avatars.githubusercontent.com/u/10137?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ghost",
      "html_url": "https://github.com/ghost",
      "followers_url": "https://api.github.com/users/ghost/followers",
      "following_url": "https://api.github.com/users/ghost/following{/other_user}",
      "gists_url": "https://api.github.com/users/ghost/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ghost/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ghost/subscriptions",
      "organizations_url": "https://api.github.com/users/ghost/orgs",
      "repos_url": "https://api.github.com/users/ghost/repos",
      "events_url": "https://api.github.com/users/ghost/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ghost/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-09-11T04:25:57Z",
    "updated_at": "2019-09-11T04:25:57Z",
    "author_association": "NONE",
    "body": "Okay good point I'll take another look at the docs in this context and see if I can think of a precise way to handle this.",
    "reactions": {
      "url": "https://api.github.com/repos/eth-brownie/brownie/issues/comments/530214088/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/eth-brownie/brownie/issues/comments/530214888",
    "html_url": "https://github.com/eth-brownie/brownie/issues/180#issuecomment-530214888",
    "issue_url": "https://api.github.com/repos/eth-brownie/brownie/issues/180",
    "id": 530214888,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzMDIxNDg4OA==",
    "user": {
      "login": "iamdefinitelyahuman",
      "id": 35276322,
      "node_id": "MDQ6VXNlcjM1Mjc2MzIy",
      "avatar_url": "https://avatars.githubusercontent.com/u/35276322?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/iamdefinitelyahuman",
      "html_url": "https://github.com/iamdefinitelyahuman",
      "followers_url": "https://api.github.com/users/iamdefinitelyahuman/followers",
      "following_url": "https://api.github.com/users/iamdefinitelyahuman/following{/other_user}",
      "gists_url": "https://api.github.com/users/iamdefinitelyahuman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/iamdefinitelyahuman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iamdefinitelyahuman/subscriptions",
      "organizations_url": "https://api.github.com/users/iamdefinitelyahuman/orgs",
      "repos_url": "https://api.github.com/users/iamdefinitelyahuman/repos",
      "events_url": "https://api.github.com/users/iamdefinitelyahuman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/iamdefinitelyahuman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-09-11T04:30:29Z",
    "updated_at": "2019-09-11T04:30:29Z",
    "author_association": "MEMBER",
    "body": "I already do it a bit..  `_config.py`, `_singleton.py` - those are prepended to clearly tell people to stay out. There are probably a lot of other modules where none of the functionality is meant to face the user and rather than renaming a lot of methods we could just rename the whole file.",
    "reactions": {
      "url": "https://api.github.com/repos/eth-brownie/brownie/issues/comments/530214888/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
