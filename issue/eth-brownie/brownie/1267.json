{
  "url": "https://api.github.com/repos/eth-brownie/brownie/issues/1267",
  "repository_url": "https://api.github.com/repos/eth-brownie/brownie",
  "labels_url": "https://api.github.com/repos/eth-brownie/brownie/issues/1267/labels{/name}",
  "comments_url": "https://api.github.com/repos/eth-brownie/brownie/issues/1267/comments",
  "events_url": "https://api.github.com/repos/eth-brownie/brownie/issues/1267/events",
  "html_url": "https://github.com/eth-brownie/brownie/issues/1267",
  "id": 1003459456,
  "node_id": "I_kwDOCUsNcc47z5OA",
  "number": 1267,
  "title": "Key Error when deploying OpenZeppelin Contract with Etherscan verification ON",
  "user": {
    "login": "jamiels",
    "id": 6856331,
    "node_id": "MDQ6VXNlcjY4NTYzMzE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6856331?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jamiels",
    "html_url": "https://github.com/jamiels",
    "followers_url": "https://api.github.com/users/jamiels/followers",
    "following_url": "https://api.github.com/users/jamiels/following{/other_user}",
    "gists_url": "https://api.github.com/users/jamiels/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jamiels/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jamiels/subscriptions",
    "organizations_url": "https://api.github.com/users/jamiels/orgs",
    "repos_url": "https://api.github.com/users/jamiels/repos",
    "events_url": "https://api.github.com/users/jamiels/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jamiels/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 9,
  "created_at": "2021-09-21T23:16:19Z",
  "updated_at": "2021-10-17T00:21:26Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "### Environment information\r\n\r\n* `brownie` Version: 1.16.4\r\n* `ganache-cli` Version: 6.12.2\r\n* `solc` Version: 0.8.2\r\n* Python Version: 3.9.5\r\n* OS: win\r\n\r\n### What was wrong?\r\n\r\nUsing OpenZeppelin@4.3.2 a simple ERC721 will deploy but verification by Etherscan will not occur due to KeyError\r\n\r\nCode\r\nnft = MyNFT.deploy({'from':dev},publish_source=True)\r\n\r\nError\r\n>>> nft = MyNFT.deploy({'from':dev},publish_source=True)\r\nTransaction sent: 0x1da78e781c6bf817864d4c0c7769ce76111bc595d5774593ee947d0b1315477d\r\n  Gas price: 1.000000008 gwei   Gas limit: 1859082   Nonce: 13\r\n  MyNFT.constructor confirmed   Block: 9333994   Gas used: 1690075 (90.91%)\r\n  MyNFT deployed at: 0x072097bb99103EE2d99a92ef98D9ca49c6b33f3d\r\n\r\n  File \"<console>\", line 1, in <module>\r\n  File \"d:\\program, line line, in in\r\n    return tx[\"from\"].deploy(\r\n  File \"d:\\program, line line, in in\r\n    contract.publish_source(deployed_contract, silent=silent)\r\n  File \"d:\\program, line line, in in\r\n    contract_info = self.get_verification_info()\r\n  File \"d:\\program, line line, in in\r\n    build_json = self._project._build.get(name)\r\n  File \"d:\\program, line line, in in\r\n    return self._interfaces[key]\r\nKeyError: 'OpenZeppelin/openzeppelin-contracts@4.3.2/Address'\r\n\r\n\r\n\r\n### How can it be fixed?\r\n\r\nBrownie may be loading interfaces with wrong key and it fails when it is iterated to flatten files \r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/eth-brownie/brownie/issues/1267/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/eth-brownie/brownie/issues/1267/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/eth-brownie/brownie/issues/comments/925461077",
    "html_url": "https://github.com/eth-brownie/brownie/issues/1267#issuecomment-925461077",
    "issue_url": "https://api.github.com/repos/eth-brownie/brownie/issues/1267",
    "id": 925461077,
    "node_id": "IC_kwDOCUsNcc43KWpV",
    "user": {
      "login": "maxsiz",
      "id": 17234183,
      "node_id": "MDQ6VXNlcjE3MjM0MTgz",
      "avatar_url": "https://avatars.githubusercontent.com/u/17234183?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/maxsiz",
      "html_url": "https://github.com/maxsiz",
      "followers_url": "https://api.github.com/users/maxsiz/followers",
      "following_url": "https://api.github.com/users/maxsiz/following{/other_user}",
      "gists_url": "https://api.github.com/users/maxsiz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/maxsiz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/maxsiz/subscriptions",
      "organizations_url": "https://api.github.com/users/maxsiz/orgs",
      "repos_url": "https://api.github.com/users/maxsiz/repos",
      "events_url": "https://api.github.com/users/maxsiz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/maxsiz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-23T02:21:06Z",
    "updated_at": "2021-09-23T02:21:06Z",
    "author_association": "NONE",
    "body": "#1221 ",
    "reactions": {
      "url": "https://api.github.com/repos/eth-brownie/brownie/issues/comments/925461077/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/eth-brownie/brownie/issues/comments/927352031",
    "html_url": "https://github.com/eth-brownie/brownie/issues/1267#issuecomment-927352031",
    "issue_url": "https://api.github.com/repos/eth-brownie/brownie/issues/1267",
    "id": 927352031,
    "node_id": "IC_kwDOCUsNcc43RkTf",
    "user": {
      "login": "ImportNN",
      "id": 57928142,
      "node_id": "MDQ6VXNlcjU3OTI4MTQy",
      "avatar_url": "https://avatars.githubusercontent.com/u/57928142?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ImportNN",
      "html_url": "https://github.com/ImportNN",
      "followers_url": "https://api.github.com/users/ImportNN/followers",
      "following_url": "https://api.github.com/users/ImportNN/following{/other_user}",
      "gists_url": "https://api.github.com/users/ImportNN/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ImportNN/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ImportNN/subscriptions",
      "organizations_url": "https://api.github.com/users/ImportNN/orgs",
      "repos_url": "https://api.github.com/users/ImportNN/repos",
      "events_url": "https://api.github.com/users/ImportNN/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ImportNN/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-26T18:47:16Z",
    "updated_at": "2021-09-26T18:47:16Z",
    "author_association": "NONE",
    "body": "I am having the same error. I believe problem comes from importing contracts. Tried deploying simple contracts with no imports and worked with no probs",
    "reactions": {
      "url": "https://api.github.com/repos/eth-brownie/brownie/issues/comments/927352031/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/eth-brownie/brownie/issues/comments/933008769",
    "html_url": "https://github.com/eth-brownie/brownie/issues/1267#issuecomment-933008769",
    "issue_url": "https://api.github.com/repos/eth-brownie/brownie/issues/1267",
    "id": 933008769,
    "node_id": "IC_kwDOCUsNcc43nJWB",
    "user": {
      "login": "ogoine",
      "id": 42355858,
      "node_id": "MDQ6VXNlcjQyMzU1ODU4",
      "avatar_url": "https://avatars.githubusercontent.com/u/42355858?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ogoine",
      "html_url": "https://github.com/ogoine",
      "followers_url": "https://api.github.com/users/ogoine/followers",
      "following_url": "https://api.github.com/users/ogoine/following{/other_user}",
      "gists_url": "https://api.github.com/users/ogoine/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ogoine/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ogoine/subscriptions",
      "organizations_url": "https://api.github.com/users/ogoine/orgs",
      "repos_url": "https://api.github.com/users/ogoine/repos",
      "events_url": "https://api.github.com/users/ogoine/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ogoine/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-03T19:11:58Z",
    "updated_at": "2021-10-03T19:11:58Z",
    "author_association": "NONE",
    "body": "Same problem here!",
    "reactions": {
      "url": "https://api.github.com/repos/eth-brownie/brownie/issues/comments/933008769/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/eth-brownie/brownie/issues/comments/933009303",
    "html_url": "https://github.com/eth-brownie/brownie/issues/1267#issuecomment-933009303",
    "issue_url": "https://api.github.com/repos/eth-brownie/brownie/issues/1267",
    "id": 933009303,
    "node_id": "IC_kwDOCUsNcc43nJeX",
    "user": {
      "login": "ImportNN",
      "id": 57928142,
      "node_id": "MDQ6VXNlcjU3OTI4MTQy",
      "avatar_url": "https://avatars.githubusercontent.com/u/57928142?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ImportNN",
      "html_url": "https://github.com/ImportNN",
      "followers_url": "https://api.github.com/users/ImportNN/followers",
      "following_url": "https://api.github.com/users/ImportNN/following{/other_user}",
      "gists_url": "https://api.github.com/users/ImportNN/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ImportNN/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ImportNN/subscriptions",
      "organizations_url": "https://api.github.com/users/ImportNN/orgs",
      "repos_url": "https://api.github.com/users/ImportNN/repos",
      "events_url": "https://api.github.com/users/ImportNN/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ImportNN/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-03T19:15:15Z",
    "updated_at": "2021-10-03T19:15:15Z",
    "author_association": "NONE",
    "body": "> Same problem here!\r\n\r\nIf you compile your contract with 0.8.0 solidity version, the error goes away. I believe there is something wrong with the 0.8.n versions. Not the best solution but if you are in a hurry, that should solve it.",
    "reactions": {
      "url": "https://api.github.com/repos/eth-brownie/brownie/issues/comments/933009303/reactions",
      "total_count": 3,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 1,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/eth-brownie/brownie/issues/comments/944895654",
    "html_url": "https://github.com/eth-brownie/brownie/issues/1267#issuecomment-944895654",
    "issue_url": "https://api.github.com/repos/eth-brownie/brownie/issues/1267",
    "id": 944895654,
    "node_id": "IC_kwDOCUsNcc44Ufam",
    "user": {
      "login": "jpez16",
      "id": 11285997,
      "node_id": "MDQ6VXNlcjExMjg1OTk3",
      "avatar_url": "https://avatars.githubusercontent.com/u/11285997?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jpez16",
      "html_url": "https://github.com/jpez16",
      "followers_url": "https://api.github.com/users/jpez16/followers",
      "following_url": "https://api.github.com/users/jpez16/following{/other_user}",
      "gists_url": "https://api.github.com/users/jpez16/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jpez16/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jpez16/subscriptions",
      "organizations_url": "https://api.github.com/users/jpez16/orgs",
      "repos_url": "https://api.github.com/users/jpez16/repos",
      "events_url": "https://api.github.com/users/jpez16/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jpez16/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-16T10:41:29Z",
    "updated_at": "2021-10-16T10:41:29Z",
    "author_association": "NONE",
    "body": "Experiencing this issue on 0.8.0, huge F.",
    "reactions": {
      "url": "https://api.github.com/repos/eth-brownie/brownie/issues/comments/944895654/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/eth-brownie/brownie/issues/comments/944916844",
    "html_url": "https://github.com/eth-brownie/brownie/issues/1267#issuecomment-944916844",
    "issue_url": "https://api.github.com/repos/eth-brownie/brownie/issues/1267",
    "id": 944916844,
    "node_id": "IC_kwDOCUsNcc44Ukls",
    "user": {
      "login": "ImportNN",
      "id": 57928142,
      "node_id": "MDQ6VXNlcjU3OTI4MTQy",
      "avatar_url": "https://avatars.githubusercontent.com/u/57928142?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ImportNN",
      "html_url": "https://github.com/ImportNN",
      "followers_url": "https://api.github.com/users/ImportNN/followers",
      "following_url": "https://api.github.com/users/ImportNN/following{/other_user}",
      "gists_url": "https://api.github.com/users/ImportNN/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ImportNN/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ImportNN/subscriptions",
      "organizations_url": "https://api.github.com/users/ImportNN/orgs",
      "repos_url": "https://api.github.com/users/ImportNN/repos",
      "events_url": "https://api.github.com/users/ImportNN/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ImportNN/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-16T13:40:55Z",
    "updated_at": "2021-10-16T13:40:55Z",
    "author_association": "NONE",
    "body": "I'm not getting the same error since I'm able to submit the contract to etherscan but my verifications keep failing,\r\n\r\n`Waiting for https://api-rinkeby.etherscan.io/api to process contract...\r\nVerification submitted successfully. Waiting for result...\r\nVerification pending...\r\nVerification complete. Result: Fail - Unable to verify`\r\n\r\nEither I'm doing something different and completly wrong from what I was doing before, or something is definately broken.",
    "reactions": {
      "url": "https://api.github.com/repos/eth-brownie/brownie/issues/comments/944916844/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/eth-brownie/brownie/issues/comments/945011898",
    "html_url": "https://github.com/eth-brownie/brownie/issues/1267#issuecomment-945011898",
    "issue_url": "https://api.github.com/repos/eth-brownie/brownie/issues/1267",
    "id": 945011898,
    "node_id": "IC_kwDOCUsNcc44U7y6",
    "user": {
      "login": "jpez16",
      "id": 11285997,
      "node_id": "MDQ6VXNlcjExMjg1OTk3",
      "avatar_url": "https://avatars.githubusercontent.com/u/11285997?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jpez16",
      "html_url": "https://github.com/jpez16",
      "followers_url": "https://api.github.com/users/jpez16/followers",
      "following_url": "https://api.github.com/users/jpez16/following{/other_user}",
      "gists_url": "https://api.github.com/users/jpez16/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jpez16/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jpez16/subscriptions",
      "organizations_url": "https://api.github.com/users/jpez16/orgs",
      "repos_url": "https://api.github.com/users/jpez16/repos",
      "events_url": "https://api.github.com/users/jpez16/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jpez16/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-16T21:49:18Z",
    "updated_at": "2021-10-16T21:49:18Z",
    "author_association": "NONE",
    "body": "hmmm... @ImportNN what compiler version are you on? Did you upgrade to 1.17?",
    "reactions": {
      "url": "https://api.github.com/repos/eth-brownie/brownie/issues/comments/945011898/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/eth-brownie/brownie/issues/comments/945013636",
    "html_url": "https://github.com/eth-brownie/brownie/issues/1267#issuecomment-945013636",
    "issue_url": "https://api.github.com/repos/eth-brownie/brownie/issues/1267",
    "id": 945013636,
    "node_id": "IC_kwDOCUsNcc44U8OE",
    "user": {
      "login": "ImportNN",
      "id": 57928142,
      "node_id": "MDQ6VXNlcjU3OTI4MTQy",
      "avatar_url": "https://avatars.githubusercontent.com/u/57928142?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ImportNN",
      "html_url": "https://github.com/ImportNN",
      "followers_url": "https://api.github.com/users/ImportNN/followers",
      "following_url": "https://api.github.com/users/ImportNN/following{/other_user}",
      "gists_url": "https://api.github.com/users/ImportNN/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ImportNN/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ImportNN/subscriptions",
      "organizations_url": "https://api.github.com/users/ImportNN/orgs",
      "repos_url": "https://api.github.com/users/ImportNN/repos",
      "events_url": "https://api.github.com/users/ImportNN/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ImportNN/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-16T22:06:49Z",
    "updated_at": "2021-10-16T22:06:49Z",
    "author_association": "NONE",
    "body": "@justinpezzack I'm on **Brownie v1.16.3** and tried **solc 0.8.9** and **0.8.3**, same output.",
    "reactions": {
      "url": "https://api.github.com/repos/eth-brownie/brownie/issues/comments/945013636/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/eth-brownie/brownie/issues/comments/945026140",
    "html_url": "https://github.com/eth-brownie/brownie/issues/1267#issuecomment-945026140",
    "issue_url": "https://api.github.com/repos/eth-brownie/brownie/issues/1267",
    "id": 945026140,
    "node_id": "IC_kwDOCUsNcc44U_Rc",
    "user": {
      "login": "jpez16",
      "id": 11285997,
      "node_id": "MDQ6VXNlcjExMjg1OTk3",
      "avatar_url": "https://avatars.githubusercontent.com/u/11285997?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jpez16",
      "html_url": "https://github.com/jpez16",
      "followers_url": "https://api.github.com/users/jpez16/followers",
      "following_url": "https://api.github.com/users/jpez16/following{/other_user}",
      "gists_url": "https://api.github.com/users/jpez16/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jpez16/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jpez16/subscriptions",
      "organizations_url": "https://api.github.com/users/jpez16/orgs",
      "repos_url": "https://api.github.com/users/jpez16/repos",
      "events_url": "https://api.github.com/users/jpez16/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jpez16/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-17T00:21:26Z",
    "updated_at": "2021-10-17T00:21:26Z",
    "author_association": "NONE",
    "body": "Looks as if it was fixed in 1.17. https://github.com/eth-brownie/brownie/pull/1283",
    "reactions": {
      "url": "https://api.github.com/repos/eth-brownie/brownie/issues/comments/945026140/reactions",
      "total_count": 3,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 3,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
