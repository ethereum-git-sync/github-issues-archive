{
  "url": "https://api.github.com/repos/eth-brownie/brownie/issues/994",
  "repository_url": "https://api.github.com/repos/eth-brownie/brownie",
  "labels_url": "https://api.github.com/repos/eth-brownie/brownie/issues/994/labels{/name}",
  "comments_url": "https://api.github.com/repos/eth-brownie/brownie/issues/994/comments",
  "events_url": "https://api.github.com/repos/eth-brownie/brownie/issues/994/events",
  "html_url": "https://github.com/eth-brownie/brownie/issues/994",
  "id": 833562034,
  "node_id": "MDU6SXNzdWU4MzM1NjIwMzQ=",
  "number": 994,
  "title": "Allow testing from another working directory",
  "user": {
    "login": "spapinistarkware",
    "id": 43779613,
    "node_id": "MDQ6VXNlcjQzNzc5NjEz",
    "avatar_url": "https://avatars.githubusercontent.com/u/43779613?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/spapinistarkware",
    "html_url": "https://github.com/spapinistarkware",
    "followers_url": "https://api.github.com/users/spapinistarkware/followers",
    "following_url": "https://api.github.com/users/spapinistarkware/following{/other_user}",
    "gists_url": "https://api.github.com/users/spapinistarkware/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/spapinistarkware/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/spapinistarkware/subscriptions",
    "organizations_url": "https://api.github.com/users/spapinistarkware/orgs",
    "repos_url": "https://api.github.com/users/spapinistarkware/repos",
    "events_url": "https://api.github.com/users/spapinistarkware/events{/privacy}",
    "received_events_url": "https://api.github.com/users/spapinistarkware/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2021-03-17T09:15:08Z",
  "updated_at": "2021-03-18T13:37:51Z",
  "closed_at": "2021-03-18T13:37:51Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "I want to use brownie pytest plugin, but our testing framework runs pytest from another working directory.\r\nCurrently, the pytest plugin uses check_for_project('.').\r\n\r\nA possible solution is to add an environment variable with the real path of the project, and make check_for_project() search there as well.",
  "closed_by": {
    "login": "iamdefinitelyahuman",
    "id": 35276322,
    "node_id": "MDQ6VXNlcjM1Mjc2MzIy",
    "avatar_url": "https://avatars.githubusercontent.com/u/35276322?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/iamdefinitelyahuman",
    "html_url": "https://github.com/iamdefinitelyahuman",
    "followers_url": "https://api.github.com/users/iamdefinitelyahuman/followers",
    "following_url": "https://api.github.com/users/iamdefinitelyahuman/following{/other_user}",
    "gists_url": "https://api.github.com/users/iamdefinitelyahuman/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/iamdefinitelyahuman/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/iamdefinitelyahuman/subscriptions",
    "organizations_url": "https://api.github.com/users/iamdefinitelyahuman/orgs",
    "repos_url": "https://api.github.com/users/iamdefinitelyahuman/repos",
    "events_url": "https://api.github.com/users/iamdefinitelyahuman/events{/privacy}",
    "received_events_url": "https://api.github.com/users/iamdefinitelyahuman/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/eth-brownie/brownie/issues/994/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/eth-brownie/brownie/issues/994/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/eth-brownie/brownie/issues/comments/801007996",
    "html_url": "https://github.com/eth-brownie/brownie/issues/994#issuecomment-801007996",
    "issue_url": "https://api.github.com/repos/eth-brownie/brownie/issues/994",
    "id": 801007996,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgwMTAwNzk5Ng==",
    "user": {
      "login": "spapinistarkware",
      "id": 43779613,
      "node_id": "MDQ6VXNlcjQzNzc5NjEz",
      "avatar_url": "https://avatars.githubusercontent.com/u/43779613?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/spapinistarkware",
      "html_url": "https://github.com/spapinistarkware",
      "followers_url": "https://api.github.com/users/spapinistarkware/followers",
      "following_url": "https://api.github.com/users/spapinistarkware/following{/other_user}",
      "gists_url": "https://api.github.com/users/spapinistarkware/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/spapinistarkware/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/spapinistarkware/subscriptions",
      "organizations_url": "https://api.github.com/users/spapinistarkware/orgs",
      "repos_url": "https://api.github.com/users/spapinistarkware/repos",
      "events_url": "https://api.github.com/users/spapinistarkware/events{/privacy}",
      "received_events_url": "https://api.github.com/users/spapinistarkware/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-17T11:29:00Z",
    "updated_at": "2021-03-17T11:29:00Z",
    "author_association": "NONE",
    "body": "When I added this change manually, along with O(1) other fixes, it works great.\r\nOne of the changes I had to do though is at test/managers/base.py,\r\n\r\ndef _path(self, path):\r\n        return self.project_path.joinpath(path).relative_to(self.project_path).as_posix()\r\n=>\r\ndef _path(self, path):\r\n        return path\r\n\r\nI was wondering why you have this logic there? Why are you not using absolute paths?",
    "reactions": {
      "url": "https://api.github.com/repos/eth-brownie/brownie/issues/comments/801007996/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/eth-brownie/brownie/issues/comments/801035098",
    "html_url": "https://github.com/eth-brownie/brownie/issues/994#issuecomment-801035098",
    "issue_url": "https://api.github.com/repos/eth-brownie/brownie/issues/994",
    "id": 801035098,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgwMTAzNTA5OA==",
    "user": {
      "login": "iamdefinitelyahuman",
      "id": 35276322,
      "node_id": "MDQ6VXNlcjM1Mjc2MzIy",
      "avatar_url": "https://avatars.githubusercontent.com/u/35276322?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/iamdefinitelyahuman",
      "html_url": "https://github.com/iamdefinitelyahuman",
      "followers_url": "https://api.github.com/users/iamdefinitelyahuman/followers",
      "following_url": "https://api.github.com/users/iamdefinitelyahuman/following{/other_user}",
      "gists_url": "https://api.github.com/users/iamdefinitelyahuman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/iamdefinitelyahuman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iamdefinitelyahuman/subscriptions",
      "organizations_url": "https://api.github.com/users/iamdefinitelyahuman/orgs",
      "repos_url": "https://api.github.com/users/iamdefinitelyahuman/repos",
      "events_url": "https://api.github.com/users/iamdefinitelyahuman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/iamdefinitelyahuman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-17T12:16:02Z",
    "updated_at": "2021-03-17T12:16:02Z",
    "author_association": "MEMBER",
    "body": "Generally, brownie is using relative paths everywhere so that data in the `build` folder isn't invalidated when a project is moved to a different folder or system.  In this specific case the paths are being used to track coverage data and to decide when a test needs to be rerun if using the `-U` flag.\r\n\r\nI guess the issue you're hitting here is that you are collecting tests outside of a project?  Could probably add logic to detect this situation, and thus fall back to an absolute path.  It might mean you can't use `-U` correctly but that's better than not being able to use it at all.",
    "reactions": {
      "url": "https://api.github.com/repos/eth-brownie/brownie/issues/comments/801035098/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/eth-brownie/brownie/issues/comments/801036566",
    "html_url": "https://github.com/eth-brownie/brownie/issues/994#issuecomment-801036566",
    "issue_url": "https://api.github.com/repos/eth-brownie/brownie/issues/994",
    "id": 801036566,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgwMTAzNjU2Ng==",
    "user": {
      "login": "iamdefinitelyahuman",
      "id": 35276322,
      "node_id": "MDQ6VXNlcjM1Mjc2MzIy",
      "avatar_url": "https://avatars.githubusercontent.com/u/35276322?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/iamdefinitelyahuman",
      "html_url": "https://github.com/iamdefinitelyahuman",
      "followers_url": "https://api.github.com/users/iamdefinitelyahuman/followers",
      "following_url": "https://api.github.com/users/iamdefinitelyahuman/following{/other_user}",
      "gists_url": "https://api.github.com/users/iamdefinitelyahuman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/iamdefinitelyahuman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iamdefinitelyahuman/subscriptions",
      "organizations_url": "https://api.github.com/users/iamdefinitelyahuman/orgs",
      "repos_url": "https://api.github.com/users/iamdefinitelyahuman/repos",
      "events_url": "https://api.github.com/users/iamdefinitelyahuman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/iamdefinitelyahuman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-17T12:18:27Z",
    "updated_at": "2021-03-17T12:18:27Z",
    "author_association": "MEMBER",
    "body": "As for the initial issue, would a commandline flag `--brownie-project path/to/project` work?",
    "reactions": {
      "url": "https://api.github.com/repos/eth-brownie/brownie/issues/comments/801036566/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/eth-brownie/brownie/issues/comments/801042889",
    "html_url": "https://github.com/eth-brownie/brownie/issues/994#issuecomment-801042889",
    "issue_url": "https://api.github.com/repos/eth-brownie/brownie/issues/994",
    "id": 801042889,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgwMTA0Mjg4OQ==",
    "user": {
      "login": "spapinistarkware",
      "id": 43779613,
      "node_id": "MDQ6VXNlcjQzNzc5NjEz",
      "avatar_url": "https://avatars.githubusercontent.com/u/43779613?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/spapinistarkware",
      "html_url": "https://github.com/spapinistarkware",
      "followers_url": "https://api.github.com/users/spapinistarkware/followers",
      "following_url": "https://api.github.com/users/spapinistarkware/following{/other_user}",
      "gists_url": "https://api.github.com/users/spapinistarkware/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/spapinistarkware/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/spapinistarkware/subscriptions",
      "organizations_url": "https://api.github.com/users/spapinistarkware/orgs",
      "repos_url": "https://api.github.com/users/spapinistarkware/repos",
      "events_url": "https://api.github.com/users/spapinistarkware/events{/privacy}",
      "received_events_url": "https://api.github.com/users/spapinistarkware/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-17T12:29:23Z",
    "updated_at": "2021-03-17T12:29:23Z",
    "author_association": "NONE",
    "body": "You are correct, my tests are outside the project.\r\nIf you make the flag work, I will be delighted, but I think it will cause issues with your pytest_addoption(), since you will need to add the brownie-project flag there, but this place already needs to know what is the project dir there, since you decide if you want to add the other flags.\r\n\r\nBut if you make it work, then yes, it will help",
    "reactions": {
      "url": "https://api.github.com/repos/eth-brownie/brownie/issues/comments/801042889/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
