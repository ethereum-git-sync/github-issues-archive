{
  "url": "https://api.github.com/repos/eth-brownie/brownie/issues/1482",
  "repository_url": "https://api.github.com/repos/eth-brownie/brownie",
  "labels_url": "https://api.github.com/repos/eth-brownie/brownie/issues/1482/labels{/name}",
  "comments_url": "https://api.github.com/repos/eth-brownie/brownie/issues/1482/comments",
  "events_url": "https://api.github.com/repos/eth-brownie/brownie/issues/1482/events",
  "html_url": "https://github.com/eth-brownie/brownie/issues/1482",
  "id": 1179503314,
  "node_id": "I_kwDOCUsNcc5GTcrS",
  "number": 1482,
  "title": "Integration with hardhat does not work on windows",
  "user": {
    "login": "Minh-Trng",
    "id": 46103853,
    "node_id": "MDQ6VXNlcjQ2MTAzODUz",
    "avatar_url": "https://avatars.githubusercontent.com/u/46103853?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Minh-Trng",
    "html_url": "https://github.com/Minh-Trng",
    "followers_url": "https://api.github.com/users/Minh-Trng/followers",
    "following_url": "https://api.github.com/users/Minh-Trng/following{/other_user}",
    "gists_url": "https://api.github.com/users/Minh-Trng/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Minh-Trng/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Minh-Trng/subscriptions",
    "organizations_url": "https://api.github.com/users/Minh-Trng/orgs",
    "repos_url": "https://api.github.com/users/Minh-Trng/repos",
    "events_url": "https://api.github.com/users/Minh-Trng/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Minh-Trng/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2022-03-24T13:16:19Z",
  "updated_at": "2022-03-25T13:17:34Z",
  "closed_at": null,
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "### Environment information\r\n\r\n* `brownie` Version: 1.18.1\r\n* `ganache-cli` Version: 7.0.2\r\n* `solc` Version: 1.1.1\r\n* Python Version: 3.9.5\r\n* OS: win\r\n\r\n### What was wrong?\r\n\r\nI tried to replace ganache with hardhat in order to be able to use the console.log functionality within smart contracts. After failing to integrate it in an existing project I made a new project with a new venv and only ran the following commands mentioned in the docs to get it up and running:\r\n\r\n1. pip install eth-brownie\r\n2. npm install --save-dev hardhat\r\n3. brownie console --network hardhat\r\n\r\nSame as in the existing project the last command failed with the following error output:\r\n\r\n_Launching 'npx hardhat node --port 8545'...\r\n  File \"c:\\users\\minht\\documents\\pythonprojects\\hardhatwithbrownie\\venv\\lib\\site-packages\\brownie\\_cli\\__main__.py\", line 64, in main\r\n    importlib.import_module(f\"brownie._cli.{cmd}\").main()\r\n  File \"c:\\users\\minht\\documents\\pythonprojects\\hardhatwithbrownie\\venv\\lib\\site-packages\\brownie\\_cli\\console.py\", line 58, in main\r\n    network.connect(CONFIG.argv[\"network\"])\r\n  File \"c:\\users\\minht\\documents\\pythonprojects\\hardhatwithbrownie\\venv\\lib\\site-packages\\brownie\\network\\main.py\", line 50, in connect\r\n    rpc.launch(active[\"cmd\"], **active[\"cmd_settings\"])\r\n  File \"c:\\users\\minht\\documents\\pythonprojects\\hardhatwithbrownie\\venv\\lib\\site-packages\\brownie\\network\\rpc\\__init__.py\", line 75, in launch\r\n    self.process = self.backend.launch(cmd, **kwargs)\r\n  File \"c:\\users\\minht\\documents\\pythonprojects\\hardhatwithbrownie\\venv\\lib\\site-packages\\brownie\\network\\rpc\\hardhat.py\", line 74, in launch\r\n    return psutil.Popen(cmd_list, stdin=DEVNULL, stdout=out, stderr=out)\r\n  File \"c:\\users\\minht\\documents\\pythonprojects\\hardhatwithbrownie\\venv\\lib\\site-packages\\psutil\\__init__.py\", line 1319, in __init__\r\n    self.__subproc = subprocess.Popen(*args, **kwargs)\r\n  File \"C:\\Users\\minht\\AppData\\Local\\Programs\\Python\\Python39\\lib\\subprocess.py\", line 951, in __init__\r\n    self._execute_child(args, executable, preexec_fn, close_fds,\r\n  File \"C:\\Users\\minht\\AppData\\Local\\Programs\\Python\\Python39\\lib\\subprocess.py\", line 1420, in _execute_child\r\n    hp, ht, pid, tid = _winapi.CreateProcess(executable, args,\r\nFileNotFoundError: [WinError 2] The system cannot find the file specified_",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/eth-brownie/brownie/issues/1482/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/eth-brownie/brownie/issues/1482/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/eth-brownie/brownie/issues/comments/1079019228",
    "html_url": "https://github.com/eth-brownie/brownie/issues/1482#issuecomment-1079019228",
    "issue_url": "https://api.github.com/repos/eth-brownie/brownie/issues/1482",
    "id": 1079019228,
    "node_id": "IC_kwDOCUsNcc5AUIbc",
    "user": {
      "login": "Minh-Trng",
      "id": 46103853,
      "node_id": "MDQ6VXNlcjQ2MTAzODUz",
      "avatar_url": "https://avatars.githubusercontent.com/u/46103853?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Minh-Trng",
      "html_url": "https://github.com/Minh-Trng",
      "followers_url": "https://api.github.com/users/Minh-Trng/followers",
      "following_url": "https://api.github.com/users/Minh-Trng/following{/other_user}",
      "gists_url": "https://api.github.com/users/Minh-Trng/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Minh-Trng/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Minh-Trng/subscriptions",
      "organizations_url": "https://api.github.com/users/Minh-Trng/orgs",
      "repos_url": "https://api.github.com/users/Minh-Trng/repos",
      "events_url": "https://api.github.com/users/Minh-Trng/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Minh-Trng/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-03-25T13:17:34Z",
    "updated_at": "2022-03-25T13:17:34Z",
    "author_association": "CONTRIBUTOR",
    "body": "found the problem: in [hardhat.py](https://github.com/eth-brownie/brownie/blob/master/brownie/network/rpc/hardhat.py) the following lines were commented out:\r\n\r\n```\r\ndef launch(cmd: str, **kwargs: Dict) -> None:\r\n    \"\"\"Launches the RPC client.\r\n    Args:\r\n        cmd: command string to execute as subprocess\"\"\"\r\n    # if sys.platform == \"win32\" and not cmd.split(\" \")[0].endswith(\".cmd\"):\r\n    #     if \" \" in cmd:\r\n    #         cmd = cmd.replace(\" \", \".cmd \", 1)\r\n    #     else:\r\n    #         cmd += \".cmd\"\r\n```\r\n\r\nthose are necessary to turn \"npx hardhat node ...\" into \"npx.cmd hardhat node ...\" which the winapi is able to resolve.",
    "reactions": {
      "url": "https://api.github.com/repos/eth-brownie/brownie/issues/comments/1079019228/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
