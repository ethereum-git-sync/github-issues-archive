{
  "url": "https://api.github.com/repos/eth-brownie/brownie/issues/1566",
  "repository_url": "https://api.github.com/repos/eth-brownie/brownie",
  "labels_url": "https://api.github.com/repos/eth-brownie/brownie/issues/1566/labels{/name}",
  "comments_url": "https://api.github.com/repos/eth-brownie/brownie/issues/1566/comments",
  "events_url": "https://api.github.com/repos/eth-brownie/brownie/issues/1566/events",
  "html_url": "https://github.com/eth-brownie/brownie/issues/1566",
  "id": 1282765195,
  "node_id": "I_kwDOCUsNcc5MdXGL",
  "number": 1566,
  "title": "Deploying vyper contract throws InvalidType",
  "user": {
    "login": "Doc-Pixel",
    "id": 33023023,
    "node_id": "MDQ6VXNlcjMzMDIzMDIz",
    "avatar_url": "https://avatars.githubusercontent.com/u/33023023?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Doc-Pixel",
    "html_url": "https://github.com/Doc-Pixel",
    "followers_url": "https://api.github.com/users/Doc-Pixel/followers",
    "following_url": "https://api.github.com/users/Doc-Pixel/following{/other_user}",
    "gists_url": "https://api.github.com/users/Doc-Pixel/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Doc-Pixel/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Doc-Pixel/subscriptions",
    "organizations_url": "https://api.github.com/users/Doc-Pixel/orgs",
    "repos_url": "https://api.github.com/users/Doc-Pixel/repos",
    "events_url": "https://api.github.com/users/Doc-Pixel/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Doc-Pixel/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 11,
  "created_at": "2022-06-23T18:07:56Z",
  "updated_at": "2022-07-06T18:03:55Z",
  "closed_at": "2022-07-06T18:03:55Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "### Environment information\r\n\r\n* `brownie` Version: 1.19.1\r\n* `ganache-cli` Version: \r\n* `solc` Version: 7.0.4\r\n* Python Version: 3.8.10\r\n* OS: linux (ubuntu 20.*)\r\n* Vyper: 0.3.4+commit.ac8cb6e6\r\n\r\n### What was wrong?\r\nWhen trying to deploy a vyper contract using brownie, it throws an error\r\n```\r\nethbox@ethbox-VirtualBox:~/Vyper-Main/ERC1155$ brownie run deploy1155.py\r\nBrownie v1.19.0 - Python development framework for Ethereum\r\n\r\nCompiling contracts...\r\n  Vyper version: 0.3.4\r\nUnhandled exception in 'contracts/ERC1155ownable.vy':\r\nInvalidType: Subscript must be a literal integer\r\n  contract \"contracts/ERC1155ownable.vy\", line 35:16 \r\n       34 # the contracts URI to find the metadata\r\n  ---> 35 baseuri: String[MAX_URI_LENGTH]\r\n  ------------------------^\r\n       36 contractURI: public(String[MAX_URI_LENGTH])\r\n```\r\nMAX_URI_LENGTH is an uint256 with value 300\r\n```# URI length set to 300. \r\nMAX_URI_LENGTH: constant(uint256) = 300 \r\n```\r\n\r\nWhen compiling directly with Vyper, the compilation is successful.\r\n```\r\nethbox@ethbox-VirtualBox:~/Vyper-Main/ERC1155$ vyper ./contracts/ERC1155ownable.vy -f combined_json\r\n{\"contracts/ERC1155ownable.vy\": {\"bytecode\": \"0x602061281e600039600051600001608060208261281e0160003960005\r\n```\r\n\r\n### How can it be fixed?\r\nI don't know\r\n",
  "closed_by": {
    "login": "Doc-Pixel",
    "id": 33023023,
    "node_id": "MDQ6VXNlcjMzMDIzMDIz",
    "avatar_url": "https://avatars.githubusercontent.com/u/33023023?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Doc-Pixel",
    "html_url": "https://github.com/Doc-Pixel",
    "followers_url": "https://api.github.com/users/Doc-Pixel/followers",
    "following_url": "https://api.github.com/users/Doc-Pixel/following{/other_user}",
    "gists_url": "https://api.github.com/users/Doc-Pixel/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Doc-Pixel/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Doc-Pixel/subscriptions",
    "organizations_url": "https://api.github.com/users/Doc-Pixel/orgs",
    "repos_url": "https://api.github.com/users/Doc-Pixel/repos",
    "events_url": "https://api.github.com/users/Doc-Pixel/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Doc-Pixel/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/eth-brownie/brownie/issues/1566/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/eth-brownie/brownie/issues/1566/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/eth-brownie/brownie/issues/comments/1164726345",
    "html_url": "https://github.com/eth-brownie/brownie/issues/1566#issuecomment-1164726345",
    "issue_url": "https://api.github.com/repos/eth-brownie/brownie/issues/1566",
    "id": 1164726345,
    "node_id": "IC_kwDOCUsNcc5FbFBJ",
    "user": {
      "login": "Doc-Pixel",
      "id": 33023023,
      "node_id": "MDQ6VXNlcjMzMDIzMDIz",
      "avatar_url": "https://avatars.githubusercontent.com/u/33023023?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Doc-Pixel",
      "html_url": "https://github.com/Doc-Pixel",
      "followers_url": "https://api.github.com/users/Doc-Pixel/followers",
      "following_url": "https://api.github.com/users/Doc-Pixel/following{/other_user}",
      "gists_url": "https://api.github.com/users/Doc-Pixel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Doc-Pixel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Doc-Pixel/subscriptions",
      "organizations_url": "https://api.github.com/users/Doc-Pixel/orgs",
      "repos_url": "https://api.github.com/users/Doc-Pixel/repos",
      "events_url": "https://api.github.com/users/Doc-Pixel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Doc-Pixel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-23T18:17:21Z",
    "updated_at": "2022-06-23T18:17:21Z",
    "author_association": "NONE",
    "body": "When you force brownie to use Vyper 0.3.3 by explicitly setting the version in brownie-config.yaml\r\n```\r\ncompiler:\r\n  vyper:\r\n    version: 0.3.3\r\n```\r\nit compiles successfully.\r\n\r\n```ethbox@ethbox-VirtualBox:~/Vyper-Main/ERC1155$ brownie run deploy1155.py\r\nBrownie v1.19.0 - Python development framework for Ethereum\r\n\r\nCompiling contracts...\r\n  Vyper version: 0.3.3\r\nGenerating build data...\r\n - ERC1155ownable\r\n\r\nErc1155Project is the active project.\r\n```\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/eth-brownie/brownie/issues/comments/1164726345/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/eth-brownie/brownie/issues/comments/1164732090",
    "html_url": "https://github.com/eth-brownie/brownie/issues/1566#issuecomment-1164732090",
    "issue_url": "https://api.github.com/repos/eth-brownie/brownie/issues/1566",
    "id": 1164732090,
    "node_id": "IC_kwDOCUsNcc5FbGa6",
    "user": {
      "login": "Doc-Pixel",
      "id": 33023023,
      "node_id": "MDQ6VXNlcjMzMDIzMDIz",
      "avatar_url": "https://avatars.githubusercontent.com/u/33023023?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Doc-Pixel",
      "html_url": "https://github.com/Doc-Pixel",
      "followers_url": "https://api.github.com/users/Doc-Pixel/followers",
      "following_url": "https://api.github.com/users/Doc-Pixel/following{/other_user}",
      "gists_url": "https://api.github.com/users/Doc-Pixel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Doc-Pixel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Doc-Pixel/subscriptions",
      "organizations_url": "https://api.github.com/users/Doc-Pixel/orgs",
      "repos_url": "https://api.github.com/users/Doc-Pixel/repos",
      "events_url": "https://api.github.com/users/Doc-Pixel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Doc-Pixel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-23T18:23:18Z",
    "updated_at": "2022-06-23T18:23:30Z",
    "author_association": "NONE",
    "body": "Setting the compiler to the absolute latest version like this\r\n```compiler:\r\n  vyper:\r\n    version: 0.3.4+commit.ac8cb6e6\r\n```\r\n\r\nresults in \r\n\r\n```    raise VyperInstallationError(f\"Vyper binary not available for v{version}\")\r\nVyperInstallationError: Vyper binary not available for v0.3.4-commit.ac8cb6e6\r\n```\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/eth-brownie/brownie/issues/comments/1164732090/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/eth-brownie/brownie/issues/comments/1164839280",
    "html_url": "https://github.com/eth-brownie/brownie/issues/1566#issuecomment-1164839280",
    "issue_url": "https://api.github.com/repos/eth-brownie/brownie/issues/1566",
    "id": 1164839280,
    "node_id": "IC_kwDOCUsNcc5Fbglw",
    "user": {
      "login": "charles-cooper",
      "id": 3867501,
      "node_id": "MDQ6VXNlcjM4Njc1MDE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3867501?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/charles-cooper",
      "html_url": "https://github.com/charles-cooper",
      "followers_url": "https://api.github.com/users/charles-cooper/followers",
      "following_url": "https://api.github.com/users/charles-cooper/following{/other_user}",
      "gists_url": "https://api.github.com/users/charles-cooper/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/charles-cooper/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/charles-cooper/subscriptions",
      "organizations_url": "https://api.github.com/users/charles-cooper/orgs",
      "repos_url": "https://api.github.com/users/charles-cooper/repos",
      "events_url": "https://api.github.com/users/charles-cooper/events{/privacy}",
      "received_events_url": "https://api.github.com/users/charles-cooper/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-23T20:22:57Z",
    "updated_at": "2022-06-23T20:22:57Z",
    "author_association": "COLLABORATOR",
    "body": "@Doc-Pixel what is the version pragma on your vyper file?",
    "reactions": {
      "url": "https://api.github.com/repos/eth-brownie/brownie/issues/comments/1164839280/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/eth-brownie/brownie/issues/comments/1165659409",
    "html_url": "https://github.com/eth-brownie/brownie/issues/1566#issuecomment-1165659409",
    "issue_url": "https://api.github.com/repos/eth-brownie/brownie/issues/1566",
    "id": 1165659409,
    "node_id": "IC_kwDOCUsNcc5Feo0R",
    "user": {
      "login": "Doc-Pixel",
      "id": 33023023,
      "node_id": "MDQ6VXNlcjMzMDIzMDIz",
      "avatar_url": "https://avatars.githubusercontent.com/u/33023023?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Doc-Pixel",
      "html_url": "https://github.com/Doc-Pixel",
      "followers_url": "https://api.github.com/users/Doc-Pixel/followers",
      "following_url": "https://api.github.com/users/Doc-Pixel/following{/other_user}",
      "gists_url": "https://api.github.com/users/Doc-Pixel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Doc-Pixel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Doc-Pixel/subscriptions",
      "organizations_url": "https://api.github.com/users/Doc-Pixel/orgs",
      "repos_url": "https://api.github.com/users/Doc-Pixel/repos",
      "events_url": "https://api.github.com/users/Doc-Pixel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Doc-Pixel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-24T14:58:52Z",
    "updated_at": "2022-06-24T22:03:44Z",
    "author_association": "NONE",
    "body": "`>= 0.3.4`\r\n\r\nUpdated everything, \r\nfresh `pip install git+....` for vyper and brownie. \r\nReinstalled python.\r\n\r\nIf there's anything I need to test lwt me know 😊\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/eth-brownie/brownie/issues/comments/1165659409/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/eth-brownie/brownie/issues/comments/1171732624",
    "html_url": "https://github.com/eth-brownie/brownie/issues/1566#issuecomment-1171732624",
    "issue_url": "https://api.github.com/repos/eth-brownie/brownie/issues/1566",
    "id": 1171732624,
    "node_id": "IC_kwDOCUsNcc5F1ziQ",
    "user": {
      "login": "Doc-Pixel",
      "id": 33023023,
      "node_id": "MDQ6VXNlcjMzMDIzMDIz",
      "avatar_url": "https://avatars.githubusercontent.com/u/33023023?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Doc-Pixel",
      "html_url": "https://github.com/Doc-Pixel",
      "followers_url": "https://api.github.com/users/Doc-Pixel/followers",
      "following_url": "https://api.github.com/users/Doc-Pixel/following{/other_user}",
      "gists_url": "https://api.github.com/users/Doc-Pixel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Doc-Pixel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Doc-Pixel/subscriptions",
      "organizations_url": "https://api.github.com/users/Doc-Pixel/orgs",
      "repos_url": "https://api.github.com/users/Doc-Pixel/repos",
      "events_url": "https://api.github.com/users/Doc-Pixel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Doc-Pixel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-30T22:19:52Z",
    "updated_at": "2022-06-30T22:19:52Z",
    "author_association": "NONE",
    "body": "Could this be related @charles-cooper https://github.com/vyperlang/vyper/issues/2205 \r\n\r\n\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/eth-brownie/brownie/issues/comments/1171732624/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/eth-brownie/brownie/issues/comments/1175702958",
    "html_url": "https://github.com/eth-brownie/brownie/issues/1566#issuecomment-1175702958",
    "issue_url": "https://api.github.com/repos/eth-brownie/brownie/issues/1566",
    "id": 1175702958,
    "node_id": "IC_kwDOCUsNcc5GE82u",
    "user": {
      "login": "Doc-Pixel",
      "id": 33023023,
      "node_id": "MDQ6VXNlcjMzMDIzMDIz",
      "avatar_url": "https://avatars.githubusercontent.com/u/33023023?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Doc-Pixel",
      "html_url": "https://github.com/Doc-Pixel",
      "followers_url": "https://api.github.com/users/Doc-Pixel/followers",
      "following_url": "https://api.github.com/users/Doc-Pixel/following{/other_user}",
      "gists_url": "https://api.github.com/users/Doc-Pixel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Doc-Pixel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Doc-Pixel/subscriptions",
      "organizations_url": "https://api.github.com/users/Doc-Pixel/orgs",
      "repos_url": "https://api.github.com/users/Doc-Pixel/repos",
      "events_url": "https://api.github.com/users/Doc-Pixel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Doc-Pixel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-06T02:18:03Z",
    "updated_at": "2022-07-06T02:18:27Z",
    "author_association": "NONE",
    "body": "Installed brownie 1.17.0 and then reinstalled vyper 0.3.4 from the github repo, same result. \r\n\r\n```\r\nuser@tablet:~/Projects/SubFactory$ brownie run ./scripts/deploySubFactory.py \r\nBrownie v1.17.0 - Python development framework for Ethereum\r\n\r\nCompiling contracts...\r\n  Vyper version: 0.3.4\r\nUnhandled exception in 'contracts/subFactory.vy':\r\nInvalidType: Subscript must be a literal integer\r\n  contract \"contracts/subFactory.vy\", line 40:22 \r\n       39     owner: indexed(address)\r\n  ---> 40     subdomain: String[DOMAIN_LENGTH]\r\n  ------------------------------^\r\n       41     domain: String[DOMAIN_LENGTH]\r\n\r\nuser@tablet:~/Projects/SubFactory$ ```",
    "reactions": {
      "url": "https://api.github.com/repos/eth-brownie/brownie/issues/comments/1175702958/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/eth-brownie/brownie/issues/comments/1175705821",
    "html_url": "https://github.com/eth-brownie/brownie/issues/1566#issuecomment-1175705821",
    "issue_url": "https://api.github.com/repos/eth-brownie/brownie/issues/1566",
    "id": 1175705821,
    "node_id": "IC_kwDOCUsNcc5GE9jd",
    "user": {
      "login": "Doc-Pixel",
      "id": 33023023,
      "node_id": "MDQ6VXNlcjMzMDIzMDIz",
      "avatar_url": "https://avatars.githubusercontent.com/u/33023023?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Doc-Pixel",
      "html_url": "https://github.com/Doc-Pixel",
      "followers_url": "https://api.github.com/users/Doc-Pixel/followers",
      "following_url": "https://api.github.com/users/Doc-Pixel/following{/other_user}",
      "gists_url": "https://api.github.com/users/Doc-Pixel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Doc-Pixel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Doc-Pixel/subscriptions",
      "organizations_url": "https://api.github.com/users/Doc-Pixel/orgs",
      "repos_url": "https://api.github.com/users/Doc-Pixel/repos",
      "events_url": "https://api.github.com/users/Doc-Pixel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Doc-Pixel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-06T02:23:15Z",
    "updated_at": "2022-07-06T02:23:15Z",
    "author_association": "NONE",
    "body": "Downgraded to vyper 0.3.3 and everything works. \r\n\r\nbrownie(1.17.0, 1.18.1, 1.19.0) and vyper 0.3.4 (cloned from repo) don't like eachother. Compiling directly from vyper 0.3.4 works.\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/eth-brownie/brownie/issues/comments/1175705821/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/eth-brownie/brownie/issues/comments/1176516511",
    "html_url": "https://github.com/eth-brownie/brownie/issues/1566#issuecomment-1176516511",
    "issue_url": "https://api.github.com/repos/eth-brownie/brownie/issues/1566",
    "id": 1176516511,
    "node_id": "IC_kwDOCUsNcc5GIDef",
    "user": {
      "login": "Doc-Pixel",
      "id": 33023023,
      "node_id": "MDQ6VXNlcjMzMDIzMDIz",
      "avatar_url": "https://avatars.githubusercontent.com/u/33023023?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Doc-Pixel",
      "html_url": "https://github.com/Doc-Pixel",
      "followers_url": "https://api.github.com/users/Doc-Pixel/followers",
      "following_url": "https://api.github.com/users/Doc-Pixel/following{/other_user}",
      "gists_url": "https://api.github.com/users/Doc-Pixel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Doc-Pixel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Doc-Pixel/subscriptions",
      "organizations_url": "https://api.github.com/users/Doc-Pixel/orgs",
      "repos_url": "https://api.github.com/users/Doc-Pixel/repos",
      "events_url": "https://api.github.com/users/Doc-Pixel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Doc-Pixel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-06T17:57:25Z",
    "updated_at": "2022-07-06T18:03:13Z",
    "author_association": "NONE",
    "body": "I walked through vyper commits and pinpointed the behavior to commit 3cbdf35bfd0e416eb8235a63b20921e4dc9cf293\r\nThe previous commit df2da6202bda1909f4f2c13fe6e1f07bcb172b9f runs test successful\r\n\r\nBelow the whole process.\r\n\r\nBig question: Is this a vyper or a brownie issue?\r\nVyper compiles OK from the CLI (bottom of code snip)\r\n\r\n```\r\nethbox@ethbox-VirtualBox:~/Vyper-Main/mySecretProject-contract$ pip install git+https://github.com/vyperlang/vyper.git@df2da6202bda1909f4f2c13fe6e1f07bcb172b9f --force-reinstall\r\nDefaulting to user installation because normal site-packages is not writeable\r\nCollecting git+https://github.com/vyperlang/vyper.git@df2da6202bda1909f4f2c13fe6e1f07bcb172b9f\r\n  Cloning https://github.com/vyperlang/vyper.git (to revision df2da6202bda1909f4f2c13fe6e1f07bcb172b9f) to /tmp/pip-req-build-1zu339an\r\n\r\n...................\r\n\r\nethbox@ethbox-VirtualBox:~/Vyper-Main/mySecretProject-contract$ vyper --version\r\n0.3.4+commit.df2da620\r\nethbox@ethbox-VirtualBox:~/Vyper-Main/mySecretProject-contract$ brownie test\r\nBrownie v1.19.0 - Python development framework for Ethereum\r\n\r\nCompiling contracts...\r\n  Vyper version: 0.3.4\r\nGenerating build data...\r\n - mySecretProject\r\n\r\n========================================================================================================== test session starts ==========================================================================================================\r\nplatform linux -- Python 3.10.5, pytest-6.2.5, py-1.11.0, pluggy-1.0.0\r\nrootdir: /home/ethbox/Vyper-Main/mySecretProject-contract\r\nplugins: eth-brownie-1.19.0, web3-5.29.1, xdist-1.34.0, hypothesis-6.27.3, forked-1.4.0\r\ncollected 16 items                                                                                                                                                                                                                      \r\n\r\nLaunching 'ganache-cli --chain.vmErrorsOnRPCResponse true --wallet.totalAccounts 10 --hardfork istanbul --miner.blockGasLimit 12000000 --wallet.mnemonic brownie --server.port 8545'...\r\n\r\ntests/test_mySecretProject.py ................                                                                                                                                                                                           [100%]\r\n\r\n========================================================================================================== 16 passed in 8.08s ===========================================================================================================\r\nTerminating local RPC client...\r\nethbox@ethbox-VirtualBox:~/Vyper-Main/mySecretProject-contract$ pip install git+https://github.com/vyperlang/vyper.git@3cbdf35bfd0e416eb8235a63b20921e4dc9cf293 --force-reinstall\r\nDefaulting to user installation because normal site-packages is not writeable\r\nCollecting git+https://github.com/vyperlang/vyper.git@3cbdf35bfd0e416eb8235a63b20921e4dc9cf293\r\n  Cloning https://github.com/vyperlang/vyper.git (to revision 3cbdf35bfd0e416eb8235a63b20921e4dc9cf293) to /tmp/pip-req-build-bg30h1ai\r\n\r\n...................\r\n\r\nethbox@ethbox-VirtualBox:~/Vyper-Main/mySecretProject-contract$ brownie test\r\nBrownie v1.19.0 - Python development framework for Ethereum\r\n\r\nCompiling contracts...\r\n  Vyper version: 0.3.4\r\nUnhandled exception in 'contracts/mySecretProject.vy':\r\nInvalidType: Subscript must be a literal integer\r\n  contract \"contracts/mySecretProject.vy\", line 47:9 \r\n       46 # the contracts URI to find the metadata\r\n  ---> 47 baseuri: String[MAX_URI_LENGTH]\r\n  -----------------^\r\n       48 contractURI: public(String[MAX_URI_LENGTH])\r\n\r\n\r\nERROR: Unable to load project\r\n\r\nethbox@ethbox-VirtualBox:~/Vyper-Main/mySecretProject-contract$ vyper ./contracts/mySecretProject.vy \r\n0x60206140e260003960005160806020826140e201600039600051116140dd576020816140e201600039600051806040526020820181816140e201606039505050602061410260003960005160106020826140e201600039600051116140dd576020816140e2016000396000518060e052602082016020816140e20160003960005161010052505050602061412260003960005161012c6020826140e201600039600051116140dd576020816140e20160003960005180610120526020820181816140e20161014039505050602061414260003960005161012c6020826140e201600039600051116140dd576020816140e20160003960005180610280526020820181816140e2016102a039505050604051806019556000602082601f0104600481116140dd57801561014557905b602081026060015181601a015560010181811861012d575b50505060e05180601e5561010051601f55503360015561012051806003556000602082601f0104600a81116140dd57801561019557905b602081026101400151816004015560010181811861017c575b5050506102805180600e556000602082601f0104600a81116140dd5780156101d257905b602081026102a0015181600f01556001018181186101b9575b505050613eee6101ee\r\n```\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/eth-brownie/brownie/issues/comments/1176516511/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/eth-brownie/brownie/issues/comments/1176518538",
    "html_url": "https://github.com/eth-brownie/brownie/issues/1566#issuecomment-1176518538",
    "issue_url": "https://api.github.com/repos/eth-brownie/brownie/issues/1566",
    "id": 1176518538,
    "node_id": "IC_kwDOCUsNcc5GID-K",
    "user": {
      "login": "charles-cooper",
      "id": 3867501,
      "node_id": "MDQ6VXNlcjM4Njc1MDE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3867501?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/charles-cooper",
      "html_url": "https://github.com/charles-cooper",
      "followers_url": "https://api.github.com/users/charles-cooper/followers",
      "following_url": "https://api.github.com/users/charles-cooper/following{/other_user}",
      "gists_url": "https://api.github.com/users/charles-cooper/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/charles-cooper/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/charles-cooper/subscriptions",
      "organizations_url": "https://api.github.com/users/charles-cooper/orgs",
      "repos_url": "https://api.github.com/users/charles-cooper/repos",
      "events_url": "https://api.github.com/users/charles-cooper/events{/privacy}",
      "received_events_url": "https://api.github.com/users/charles-cooper/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-06T17:59:56Z",
    "updated_at": "2022-07-06T17:59:56Z",
    "author_association": "COLLABORATOR",
    "body": "ah, gotcha -- this must be a vyper issue then since the AST output was modified in the next commit (https://github.com/vyperlang/vyper/commit/3cbdf35bfd0e416eb8235a63b20921e4dc9cf293)",
    "reactions": {
      "url": "https://api.github.com/repos/eth-brownie/brownie/issues/comments/1176518538/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/eth-brownie/brownie/issues/comments/1176519652",
    "html_url": "https://github.com/eth-brownie/brownie/issues/1566#issuecomment-1176519652",
    "issue_url": "https://api.github.com/repos/eth-brownie/brownie/issues/1566",
    "id": 1176519652,
    "node_id": "IC_kwDOCUsNcc5GIEPk",
    "user": {
      "login": "Doc-Pixel",
      "id": 33023023,
      "node_id": "MDQ6VXNlcjMzMDIzMDIz",
      "avatar_url": "https://avatars.githubusercontent.com/u/33023023?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Doc-Pixel",
      "html_url": "https://github.com/Doc-Pixel",
      "followers_url": "https://api.github.com/users/Doc-Pixel/followers",
      "following_url": "https://api.github.com/users/Doc-Pixel/following{/other_user}",
      "gists_url": "https://api.github.com/users/Doc-Pixel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Doc-Pixel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Doc-Pixel/subscriptions",
      "organizations_url": "https://api.github.com/users/Doc-Pixel/orgs",
      "repos_url": "https://api.github.com/users/Doc-Pixel/repos",
      "events_url": "https://api.github.com/users/Doc-Pixel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Doc-Pixel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-06T18:01:16Z",
    "updated_at": "2022-07-06T18:01:16Z",
    "author_association": "NONE",
    "body": "I'll create an issue on the vyper repo\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/eth-brownie/brownie/issues/comments/1176519652/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/eth-brownie/brownie/issues/comments/1176521856",
    "html_url": "https://github.com/eth-brownie/brownie/issues/1566#issuecomment-1176521856",
    "issue_url": "https://api.github.com/repos/eth-brownie/brownie/issues/1566",
    "id": 1176521856,
    "node_id": "IC_kwDOCUsNcc5GIEyA",
    "user": {
      "login": "Doc-Pixel",
      "id": 33023023,
      "node_id": "MDQ6VXNlcjMzMDIzMDIz",
      "avatar_url": "https://avatars.githubusercontent.com/u/33023023?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Doc-Pixel",
      "html_url": "https://github.com/Doc-Pixel",
      "followers_url": "https://api.github.com/users/Doc-Pixel/followers",
      "following_url": "https://api.github.com/users/Doc-Pixel/following{/other_user}",
      "gists_url": "https://api.github.com/users/Doc-Pixel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Doc-Pixel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Doc-Pixel/subscriptions",
      "organizations_url": "https://api.github.com/users/Doc-Pixel/orgs",
      "repos_url": "https://api.github.com/users/Doc-Pixel/repos",
      "events_url": "https://api.github.com/users/Doc-Pixel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Doc-Pixel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-06T18:03:55Z",
    "updated_at": "2022-07-06T18:03:55Z",
    "author_association": "NONE",
    "body": "Closed, is a vyper issue!",
    "reactions": {
      "url": "https://api.github.com/repos/eth-brownie/brownie/issues/comments/1176521856/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
