{
  "url": "https://api.github.com/repos/eth-brownie/brownie/issues/487",
  "repository_url": "https://api.github.com/repos/eth-brownie/brownie",
  "labels_url": "https://api.github.com/repos/eth-brownie/brownie/issues/487/labels{/name}",
  "comments_url": "https://api.github.com/repos/eth-brownie/brownie/issues/487/comments",
  "events_url": "https://api.github.com/repos/eth-brownie/brownie/issues/487/events",
  "html_url": "https://github.com/eth-brownie/brownie/issues/487",
  "id": 612482350,
  "node_id": "MDU6SXNzdWU2MTI0ODIzNTA=",
  "number": 487,
  "title": "Cannot build solc on macOS",
  "user": {
    "login": "ryanc414",
    "id": 19290101,
    "node_id": "MDQ6VXNlcjE5MjkwMTAx",
    "avatar_url": "https://avatars.githubusercontent.com/u/19290101?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ryanc414",
    "html_url": "https://github.com/ryanc414",
    "followers_url": "https://api.github.com/users/ryanc414/followers",
    "following_url": "https://api.github.com/users/ryanc414/following{/other_user}",
    "gists_url": "https://api.github.com/users/ryanc414/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ryanc414/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ryanc414/subscriptions",
    "organizations_url": "https://api.github.com/users/ryanc414/orgs",
    "repos_url": "https://api.github.com/users/ryanc414/repos",
    "events_url": "https://api.github.com/users/ryanc414/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ryanc414/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1114236588,
      "node_id": "MDU6TGFiZWwxMTE0MjM2NTg4",
      "url": "https://api.github.com/repos/eth-brownie/brownie/labels/bug",
      "name": "bug",
      "color": "d73a4a",
      "default": true,
      "description": "Something isn't working"
    },
    {
      "id": 1319593249,
      "node_id": "MDU6TGFiZWwxMzE5NTkzMjQ5",
      "url": "https://api.github.com/repos/eth-brownie/brownie/labels/priority",
      "name": "priority",
      "color": "ee0014",
      "default": false,
      "description": "Should be included in next release"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "iamdefinitelyahuman",
    "id": 35276322,
    "node_id": "MDQ6VXNlcjM1Mjc2MzIy",
    "avatar_url": "https://avatars.githubusercontent.com/u/35276322?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/iamdefinitelyahuman",
    "html_url": "https://github.com/iamdefinitelyahuman",
    "followers_url": "https://api.github.com/users/iamdefinitelyahuman/followers",
    "following_url": "https://api.github.com/users/iamdefinitelyahuman/following{/other_user}",
    "gists_url": "https://api.github.com/users/iamdefinitelyahuman/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/iamdefinitelyahuman/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/iamdefinitelyahuman/subscriptions",
    "organizations_url": "https://api.github.com/users/iamdefinitelyahuman/orgs",
    "repos_url": "https://api.github.com/users/iamdefinitelyahuman/repos",
    "events_url": "https://api.github.com/users/iamdefinitelyahuman/events{/privacy}",
    "received_events_url": "https://api.github.com/users/iamdefinitelyahuman/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "iamdefinitelyahuman",
      "id": 35276322,
      "node_id": "MDQ6VXNlcjM1Mjc2MzIy",
      "avatar_url": "https://avatars.githubusercontent.com/u/35276322?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/iamdefinitelyahuman",
      "html_url": "https://github.com/iamdefinitelyahuman",
      "followers_url": "https://api.github.com/users/iamdefinitelyahuman/followers",
      "following_url": "https://api.github.com/users/iamdefinitelyahuman/following{/other_user}",
      "gists_url": "https://api.github.com/users/iamdefinitelyahuman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/iamdefinitelyahuman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iamdefinitelyahuman/subscriptions",
      "organizations_url": "https://api.github.com/users/iamdefinitelyahuman/orgs",
      "repos_url": "https://api.github.com/users/iamdefinitelyahuman/repos",
      "events_url": "https://api.github.com/users/iamdefinitelyahuman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/iamdefinitelyahuman/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2020-05-05T10:00:22Z",
  "updated_at": "2020-05-05T15:24:26Z",
  "closed_at": "2020-05-05T15:24:26Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "### Environment information\r\n\r\n* `brownie` Version: 1.8.2\r\n* `ganache-cli` Version: 6.9.1\r\n* `solc` Version:  0.4.26+commit.4563c3fc.Darwin.appleclang\r\n* Python Version: 3.8.2\r\n* OS: osx\r\n\r\n### What was wrong?\r\nI'm trying to use Brownie on macOS Catalina 10.15.4, following this guide: https://medium.com/@iamdefinitelyahuman/ethereum-mainnet-testing-with-python-and-brownie-82a61dee0222\r\n\r\nUnfortunately, when I try and construct a Contract it seems to fail to install solc, due to a limitation in py-solc-x. I already have solc version 0.4.26 installed via homebrew, so I'm not quite sure why brownie is trying to reinstall solc for me.\r\n\r\n```\r\n>>> address = \"0xf79d6afbb6da890132f9d7c355e3015f15f3406f\"\r\n>>> oracle = Contract.from_explorer(address)\r\n\r\nFetching source of 0xF79D6aFBb6dA890132F9D7c355e3015f15F3406F from api.etherscan.io...\r\n  File \"<console>\", line 1, in <module>\r\n  File \"brownie/network/contract.py\", line 630, in from_explorer\r\n    build = compile_and_format(sources, solc_version=str(version), optimizer=optimizer)\r\n  File \"brownie/project/compiler/__init__.py\", line 112, in compile_and_format\r\n    set_solc_version(version)\r\n  File \"brownie/project/compiler/solidity.py\", line 82, in set_solc_version\r\n    install_solc(version)\r\n  File \"brownie/project/compiler/solidity.py\", line 90, in install_solc\r\n    solcx.install_solc(str(version), show_progress=True)\r\n  File \"solcx/install.py\", line 229, in install_solc\r\n    _install_solc_osx(version, allow_osx, show_progress, solcx_binary_path)\r\n  File \"solcx/install.py\", line 332, in _install_solc_osx\r\n    raise ValueError(\r\nValueError: Py-solc-x cannot build solc versions 0.4.x on OSX. If you install solc 0.4.x using brew and reload solcx, the installed version will be available. See https://github.com/ethereum/homebrew-ethereum for installation instructions.\r\n\r\nTo ignore this error, include 'allow_osx=True' when calling solcx.install_solc()\r\n```\r\n\r\n### How can it be fixed?\r\n\r\n I think probably there is a bug with detecting and using my installed version of `solc`. If it really does need to install a different version, then maybe try passing the `allow_osx=True` flag as suggested in the error message?\r\n",
  "closed_by": {
    "login": "iamdefinitelyahuman",
    "id": 35276322,
    "node_id": "MDQ6VXNlcjM1Mjc2MzIy",
    "avatar_url": "https://avatars.githubusercontent.com/u/35276322?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/iamdefinitelyahuman",
    "html_url": "https://github.com/iamdefinitelyahuman",
    "followers_url": "https://api.github.com/users/iamdefinitelyahuman/followers",
    "following_url": "https://api.github.com/users/iamdefinitelyahuman/following{/other_user}",
    "gists_url": "https://api.github.com/users/iamdefinitelyahuman/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/iamdefinitelyahuman/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/iamdefinitelyahuman/subscriptions",
    "organizations_url": "https://api.github.com/users/iamdefinitelyahuman/orgs",
    "repos_url": "https://api.github.com/users/iamdefinitelyahuman/repos",
    "events_url": "https://api.github.com/users/iamdefinitelyahuman/events{/privacy}",
    "received_events_url": "https://api.github.com/users/iamdefinitelyahuman/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/eth-brownie/brownie/issues/487/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/eth-brownie/brownie/issues/487/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/eth-brownie/brownie/issues/comments/623976533",
    "html_url": "https://github.com/eth-brownie/brownie/issues/487#issuecomment-623976533",
    "issue_url": "https://api.github.com/repos/eth-brownie/brownie/issues/487",
    "id": 623976533,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyMzk3NjUzMw==",
    "user": {
      "login": "iamdefinitelyahuman",
      "id": 35276322,
      "node_id": "MDQ6VXNlcjM1Mjc2MzIy",
      "avatar_url": "https://avatars.githubusercontent.com/u/35276322?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/iamdefinitelyahuman",
      "html_url": "https://github.com/iamdefinitelyahuman",
      "followers_url": "https://api.github.com/users/iamdefinitelyahuman/followers",
      "following_url": "https://api.github.com/users/iamdefinitelyahuman/following{/other_user}",
      "gists_url": "https://api.github.com/users/iamdefinitelyahuman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/iamdefinitelyahuman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iamdefinitelyahuman/subscriptions",
      "organizations_url": "https://api.github.com/users/iamdefinitelyahuman/orgs",
      "repos_url": "https://api.github.com/users/iamdefinitelyahuman/repos",
      "events_url": "https://api.github.com/users/iamdefinitelyahuman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/iamdefinitelyahuman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-05-05T10:30:02Z",
    "updated_at": "2020-05-05T10:30:02Z",
    "author_association": "MEMBER",
    "body": "Hi,\r\n\r\nThank you for opening this issue!\r\n\r\nThis is an unfortunate limitation with OSX. Because there are no first-party OSX binaries being served, `solc` has to be compiled from source each time. The old `0.4.x` series has compatibility issues with `boost` that means the build will usually fail :(\r\n\r\nThe contract in question ([0xf79d6afbb6da890132f9d7c355e3015f15f3406f](https://etherscan.io/address/0xf79d6afbb6da890132f9d7c355e3015f15f3406f#code)) was compiled using `v0.4.24`.  To attempt to build that solc version, open the brownie console and then:\r\n\r\n```python\r\nimport solcx\r\nsolcx.install_solc('v0.4.24', allow_osx=True)\r\n```\r\n\r\nAlternatively: `py-solc-x` will try to use whichever version of `solc` is found via `which solc`, as well as any versions located in `/usr/local/Cellar`. I'm not using OSX so I can't say for certain, but I think `brew` might allow you to specifically install `v0.4.24`? Which would solve this issue.\r\n\r\nI can see how all of the steps given above are less than ideal for dealing with the issue, especially from the perspective of a would-be new user. I will add a platform-specific check where contracts using `0.4.x` are handled as not-compilable on OSX systems, so this issue doesn't happen again.",
    "reactions": {
      "url": "https://api.github.com/repos/eth-brownie/brownie/issues/comments/623976533/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/eth-brownie/brownie/issues/comments/623982767",
    "html_url": "https://github.com/eth-brownie/brownie/issues/487#issuecomment-623982767",
    "issue_url": "https://api.github.com/repos/eth-brownie/brownie/issues/487",
    "id": 623982767,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyMzk4Mjc2Nw==",
    "user": {
      "login": "ryanc414",
      "id": 19290101,
      "node_id": "MDQ6VXNlcjE5MjkwMTAx",
      "avatar_url": "https://avatars.githubusercontent.com/u/19290101?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanc414",
      "html_url": "https://github.com/ryanc414",
      "followers_url": "https://api.github.com/users/ryanc414/followers",
      "following_url": "https://api.github.com/users/ryanc414/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanc414/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanc414/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanc414/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanc414/orgs",
      "repos_url": "https://api.github.com/users/ryanc414/repos",
      "events_url": "https://api.github.com/users/ryanc414/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanc414/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-05-05T10:46:04Z",
    "updated_at": "2020-05-05T10:46:04Z",
    "author_association": "NONE",
    "body": "Thanks for the quick reply! I already have version 0.4.26 of solc installed via homebrew, but the contract requires 0.4.24 - does the patch version need to match exactly?",
    "reactions": {
      "url": "https://api.github.com/repos/eth-brownie/brownie/issues/comments/623982767/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/eth-brownie/brownie/issues/comments/623988660",
    "html_url": "https://github.com/eth-brownie/brownie/issues/487#issuecomment-623988660",
    "issue_url": "https://api.github.com/repos/eth-brownie/brownie/issues/487",
    "id": 623988660,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyMzk4ODY2MA==",
    "user": {
      "login": "iamdefinitelyahuman",
      "id": 35276322,
      "node_id": "MDQ6VXNlcjM1Mjc2MzIy",
      "avatar_url": "https://avatars.githubusercontent.com/u/35276322?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/iamdefinitelyahuman",
      "html_url": "https://github.com/iamdefinitelyahuman",
      "followers_url": "https://api.github.com/users/iamdefinitelyahuman/followers",
      "following_url": "https://api.github.com/users/iamdefinitelyahuman/following{/other_user}",
      "gists_url": "https://api.github.com/users/iamdefinitelyahuman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/iamdefinitelyahuman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iamdefinitelyahuman/subscriptions",
      "organizations_url": "https://api.github.com/users/iamdefinitelyahuman/orgs",
      "repos_url": "https://api.github.com/users/iamdefinitelyahuman/repos",
      "events_url": "https://api.github.com/users/iamdefinitelyahuman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/iamdefinitelyahuman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-05-05T11:00:53Z",
    "updated_at": "2020-05-05T11:00:53Z",
    "author_association": "MEMBER",
    "body": "Yeah, what's happening is brownie tries to locally compile the contract with the exact compiler settings given by etherscan. This way we have access to information such the source map and AST, which are required for the debugging functionality.  Changes in the patch version generate different bytecode, and even a slight variation can result in very strange and misleading trace outputs.\r\n\r\nAll that said, it's not mission critical.  If brownie can't verify, you can still interact with the contract using the ABI. It just becomes more \"trust me\" exercise that etherscan is serving an accurate ABI. A warning is raised in this case.",
    "reactions": {
      "url": "https://api.github.com/repos/eth-brownie/brownie/issues/comments/623988660/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/eth-brownie/brownie/issues/comments/623993037",
    "html_url": "https://github.com/eth-brownie/brownie/issues/487#issuecomment-623993037",
    "issue_url": "https://api.github.com/repos/eth-brownie/brownie/issues/487",
    "id": 623993037,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyMzk5MzAzNw==",
    "user": {
      "login": "ryanc414",
      "id": 19290101,
      "node_id": "MDQ6VXNlcjE5MjkwMTAx",
      "avatar_url": "https://avatars.githubusercontent.com/u/19290101?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ryanc414",
      "html_url": "https://github.com/ryanc414",
      "followers_url": "https://api.github.com/users/ryanc414/followers",
      "following_url": "https://api.github.com/users/ryanc414/following{/other_user}",
      "gists_url": "https://api.github.com/users/ryanc414/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ryanc414/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ryanc414/subscriptions",
      "organizations_url": "https://api.github.com/users/ryanc414/orgs",
      "repos_url": "https://api.github.com/users/ryanc414/repos",
      "events_url": "https://api.github.com/users/ryanc414/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ryanc414/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-05-05T11:12:33Z",
    "updated_at": "2020-05-05T11:12:33Z",
    "author_association": "NONE",
    "body": "OK that makes sense, thanks for the explanation. It would be a little more user-friendly if the error message could include the exact version of solc that is missing instead of just (in this case) 0.4.x, as that gave me the impression that installing any 0.4.x version manually would make the error go away.\r\n\r\nOverall I'm having a much easier time using brownie on Ubuntu, it all works really well so far!",
    "reactions": {
      "url": "https://api.github.com/repos/eth-brownie/brownie/issues/comments/623993037/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/eth-brownie/brownie/issues/comments/623995462",
    "html_url": "https://github.com/eth-brownie/brownie/issues/487#issuecomment-623995462",
    "issue_url": "https://api.github.com/repos/eth-brownie/brownie/issues/487",
    "id": 623995462,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYyMzk5NTQ2Mg==",
    "user": {
      "login": "iamdefinitelyahuman",
      "id": 35276322,
      "node_id": "MDQ6VXNlcjM1Mjc2MzIy",
      "avatar_url": "https://avatars.githubusercontent.com/u/35276322?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/iamdefinitelyahuman",
      "html_url": "https://github.com/iamdefinitelyahuman",
      "followers_url": "https://api.github.com/users/iamdefinitelyahuman/followers",
      "following_url": "https://api.github.com/users/iamdefinitelyahuman/following{/other_user}",
      "gists_url": "https://api.github.com/users/iamdefinitelyahuman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/iamdefinitelyahuman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iamdefinitelyahuman/subscriptions",
      "organizations_url": "https://api.github.com/users/iamdefinitelyahuman/orgs",
      "repos_url": "https://api.github.com/users/iamdefinitelyahuman/repos",
      "events_url": "https://api.github.com/users/iamdefinitelyahuman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/iamdefinitelyahuman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-05-05T11:18:33Z",
    "updated_at": "2020-05-05T11:18:33Z",
    "author_association": "MEMBER",
    "body": "Excellent.  Thanks for the feedback!  I will address it in `py-solc-x` as well as here.",
    "reactions": {
      "url": "https://api.github.com/repos/eth-brownie/brownie/issues/comments/623995462/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
