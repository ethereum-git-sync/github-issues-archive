{
  "url": "https://api.github.com/repos/eth-brownie/brownie/issues/1500",
  "repository_url": "https://api.github.com/repos/eth-brownie/brownie",
  "labels_url": "https://api.github.com/repos/eth-brownie/brownie/issues/1500/labels{/name}",
  "comments_url": "https://api.github.com/repos/eth-brownie/brownie/issues/1500/comments",
  "events_url": "https://api.github.com/repos/eth-brownie/brownie/issues/1500/events",
  "html_url": "https://github.com/eth-brownie/brownie/issues/1500",
  "id": 1193894856,
  "node_id": "I_kwDOCUsNcc5HKWPI",
  "number": 1500,
  "title": "TransparentProxy upgrade reverts with no error information",
  "user": {
    "login": "rodriguesmvinicius",
    "id": 30324181,
    "node_id": "MDQ6VXNlcjMwMzI0MTgx",
    "avatar_url": "https://avatars.githubusercontent.com/u/30324181?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/rodriguesmvinicius",
    "html_url": "https://github.com/rodriguesmvinicius",
    "followers_url": "https://api.github.com/users/rodriguesmvinicius/followers",
    "following_url": "https://api.github.com/users/rodriguesmvinicius/following{/other_user}",
    "gists_url": "https://api.github.com/users/rodriguesmvinicius/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/rodriguesmvinicius/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/rodriguesmvinicius/subscriptions",
    "organizations_url": "https://api.github.com/users/rodriguesmvinicius/orgs",
    "repos_url": "https://api.github.com/users/rodriguesmvinicius/repos",
    "events_url": "https://api.github.com/users/rodriguesmvinicius/events{/privacy}",
    "received_events_url": "https://api.github.com/users/rodriguesmvinicius/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2022-04-06T01:24:22Z",
  "updated_at": "2022-04-06T16:28:09Z",
  "closed_at": "2022-04-06T16:28:09Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "### Environment information\r\n\r\n* `brownie` Version: 1.18.1\r\n* `ganache-cli` Version: 6.12.2\r\n* `solcx` Version: 1.1.1\r\n* `solc` Version: 0.8.11\r\n* Python Version: 3.9.10\r\n* OS: win\r\n\r\nI have a ProxyAdmin and Proxy deployed with a initial version of the implementation contract.\r\nNow, when i try to upgrade the contract by calling ProxyAdmin.upgrade it always reverts without any reason why.\r\n\r\nI have double, triple, quadruple... checked everything and cant figure why. The proxadmin maches with the one on proxy. the owner of proxyadmin maches with the callet i am using. Everything seems just fine, but it reverts.\r\n\r\nthis is how i made the deploy\r\n\r\n```\r\n    queenAuctionHouse = QueenAuctionHouse.deploy({\"from\": _from})\r\n    print(f\"QueenAuctionHouse Contract: {queenAuctionHouse}\")\r\n\r\n    queenAuctionProxyAdmin = QueenAuctionHouseProxyAdmin.deploy({\"from\": _from})\r\n    print(f\"QueenAuctionHouseProxyAdmin Contract: {queenAuctionProxyAdmin}\")\r\n\r\n    encoded_initializer = encode_function_data() #empty data\r\n\r\n    queenAuctionHouseProxy = QueenAuctionHouseProxy.deploy(\r\n             queenAuctionHouse.address,\r\n             queenAuctionProxyAdmin.address,\r\n             encoded_initializer,\r\n            {\"from\": _from}\r\n    )\r\n    print(f\"QueenAuctionHouseProxy Contract: {queenAuctionHouseProxy}\")\r\n```\r\nAnd this is how i am trying to update the implementation\r\n\r\n```\r\n    auctionHouse = QueenAuctionHouse.deploy({\"from\": _from}) #new implementation of the contract\r\n    print(f\"New Auction House Implementation: {auctionHouse}\")\r\n\t\r\n    queenAuctionHouseProxy = QueenAuctionHouseProxy[-1]\r\n    print(f\"Queen Auction House Proxy: {queenAuctionHouseProxy}\")\r\n\t\r\n    queenAuctionHouseProxyAdmin = QueenAuctionHouseProxyAdmin[-1]\r\n    print(f\"Queen Auction House Proxy admin: {queenAuctionHouseProxyAdmin}\")\r\n\t\r\n    tx = queenAuctionHouseProxyAdmin.upgrade(\r\n           queenAuctionHouseProxy.address,\r\n           auctionHouse.address,\r\n           {\"from\": _from},\r\n    )\r\n```\r\n\r\nIf someone could help me, would save my life.\r\n\r\ntks\r\n\r\n\r\n",
  "closed_by": {
    "login": "rodriguesmvinicius",
    "id": 30324181,
    "node_id": "MDQ6VXNlcjMwMzI0MTgx",
    "avatar_url": "https://avatars.githubusercontent.com/u/30324181?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/rodriguesmvinicius",
    "html_url": "https://github.com/rodriguesmvinicius",
    "followers_url": "https://api.github.com/users/rodriguesmvinicius/followers",
    "following_url": "https://api.github.com/users/rodriguesmvinicius/following{/other_user}",
    "gists_url": "https://api.github.com/users/rodriguesmvinicius/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/rodriguesmvinicius/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/rodriguesmvinicius/subscriptions",
    "organizations_url": "https://api.github.com/users/rodriguesmvinicius/orgs",
    "repos_url": "https://api.github.com/users/rodriguesmvinicius/repos",
    "events_url": "https://api.github.com/users/rodriguesmvinicius/events{/privacy}",
    "received_events_url": "https://api.github.com/users/rodriguesmvinicius/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/eth-brownie/brownie/issues/1500/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/eth-brownie/brownie/issues/1500/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/eth-brownie/brownie/issues/comments/1090466580",
    "html_url": "https://github.com/eth-brownie/brownie/issues/1500#issuecomment-1090466580",
    "issue_url": "https://api.github.com/repos/eth-brownie/brownie/issues/1500",
    "id": 1090466580,
    "node_id": "IC_kwDOCUsNcc5A_zMU",
    "user": {
      "login": "rodriguesmvinicius",
      "id": 30324181,
      "node_id": "MDQ6VXNlcjMwMzI0MTgx",
      "avatar_url": "https://avatars.githubusercontent.com/u/30324181?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rodriguesmvinicius",
      "html_url": "https://github.com/rodriguesmvinicius",
      "followers_url": "https://api.github.com/users/rodriguesmvinicius/followers",
      "following_url": "https://api.github.com/users/rodriguesmvinicius/following{/other_user}",
      "gists_url": "https://api.github.com/users/rodriguesmvinicius/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rodriguesmvinicius/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rodriguesmvinicius/subscriptions",
      "organizations_url": "https://api.github.com/users/rodriguesmvinicius/orgs",
      "repos_url": "https://api.github.com/users/rodriguesmvinicius/repos",
      "events_url": "https://api.github.com/users/rodriguesmvinicius/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rodriguesmvinicius/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-04-06T16:28:02Z",
    "updated_at": "2022-04-06T16:28:02Z",
    "author_association": "NONE",
    "body": "My mistake.\r\n\r\nI inherited ProxyAdmin from OppenZeppelin and make a few secutiry controls of my own that was poorly written.\r\n\r\nSorry about that. Sometimes a good night of sleep do the trick",
    "reactions": {
      "url": "https://api.github.com/repos/eth-brownie/brownie/issues/comments/1090466580/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
