{
  "url": "https://api.github.com/repos/matter-labs/zksync-era/issues/75",
  "repository_url": "https://api.github.com/repos/matter-labs/zksync-era",
  "labels_url": "https://api.github.com/repos/matter-labs/zksync-era/issues/75/labels{/name}",
  "comments_url": "https://api.github.com/repos/matter-labs/zksync-era/issues/75/comments",
  "events_url": "https://api.github.com/repos/matter-labs/zksync-era/issues/75/events",
  "html_url": "https://github.com/matter-labs/zksync-era/issues/75",
  "id": 1842904777,
  "node_id": "I_kwDOI-FneM5t2H7J",
  "number": 75,
  "title": "external-node Unknown rpc request causes the node to crash",
  "user": {
    "login": "rayn316",
    "id": 24621599,
    "node_id": "MDQ6VXNlcjI0NjIxNTk5",
    "avatar_url": "https://avatars.githubusercontent.com/u/24621599?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/rayn316",
    "html_url": "https://github.com/rayn316",
    "followers_url": "https://api.github.com/users/rayn316/followers",
    "following_url": "https://api.github.com/users/rayn316/following{/other_user}",
    "gists_url": "https://api.github.com/users/rayn316/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/rayn316/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/rayn316/subscriptions",
    "organizations_url": "https://api.github.com/users/rayn316/orgs",
    "repos_url": "https://api.github.com/users/rayn316/repos",
    "events_url": "https://api.github.com/users/rayn316/events{/privacy}",
    "received_events_url": "https://api.github.com/users/rayn316/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 5157016638,
      "node_id": "LA_kwDOI-FneM8AAAABM2HUPg",
      "url": "https://api.github.com/repos/matter-labs/zksync-era/labels/bug",
      "name": "bug",
      "color": "d73a4a",
      "default": true,
      "description": "Something isn't working"
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2023-08-09T10:06:16Z",
  "updated_at": "2023-11-07T08:55:48Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "I don't know what request caused it, I only found the log before the crash.\r\n\r\nlog info\r\n```\r\n2023-08-09T09:22:37.567529Z  INFO zksync_core::api_server::execution_sandbox::vm_metrics: Tx 0x0000000000000000000000000000000000000000-0 resulted in 1667 storage_invocations, 357 new_storage_invocations, 1663 get_value_storage_invocations, 4 set_value_storage_invocations, vm execution tool 49.016566ms, storage interaction took 20.88678ms (missed: 20.679755ms get: 20.731448ms set: 155.332Âµs)\r\n2023-08-09T09:22:42.661222Z  INFO zksync_core::sync_layer::fetcher: New miniblock: 10448750 / 10448750\r\n2023-08-09T09:22:42.741000Z  INFO zksync_core::sync_layer::external_io: Sealing miniblock\r\n2023-08-09T09:22:42.741743Z  INFO zksync_core::state_keeper::io::seal_logic: Sealing miniblock 10448750 (L1 batch 123563) with 1 (1 L2 + 0 L1) txs, 3 events, 75 reads, 11 writes\r\n2023-08-09T09:22:42.787278Z  INFO zksync_core::sync_layer::external_io: Miniblock 10448751 is sealed\r\nthread 'tokio-runtime-worker' panicked at 'Unexpected error in the fetcher: RPC call failed: ErrorObject { code: InternalError, message: \"Internal error\", data: None }', /usr/src/zksync/core/bin/zksync_core/src/sync_layer/fetcher.rs:86:21\r\nstack backtrace:\r\n   0:     0x56148e4e832a - std::backtrace_rs::backtrace::libunwind::trace::h79937bc171ada62c\r\n                               at /rustc/d5a82bbd26e1ad8b7401f6a718a9c57c96905483/library/std/src/../../backtrace/src/backtrace/libunwind.rs:93:5\r\n   1:     0x56148e4e832a - std::backtrace_rs::backtrace::trace_unsynchronized::h2292bca8571cb919\r\n                               at /rustc/d5a82bbd26e1ad8b7401f6a718a9c57c96905483/library/std/src/../../backtrace/src/backtrace/mod.rs:66:5\r\n   2:     0x56148e4e832a - std::sys_common::backtrace::_print_fmt::h9c461f248e4ae90d\r\n                               at /rustc/d5a82bbd26e1ad8b7401f6a718a9c57c96905483/library/std/src/sys_common/backtrace.rs:65:5\r\n   3:     0x56148e4e832a - <std::sys_common::backtrace::_print::DisplayBacktrace as core::fmt::Display>::fmt::he9fe6bf1a39182e1\r\n                               at /rustc/d5a82bbd26e1ad8b7401f6a718a9c57c96905483/library/std/src/sys_common/backtrace.rs:44:22\r\n   4:     0x56148e50d40e - core::fmt::write::h032658c119c720d7\r\n                               at /rustc/d5a82bbd26e1ad8b7401f6a718a9c57c96905483/library/core/src/fmt/mod.rs:1208:17\r\n   5:     0x56148e4e2965 - std::io::Write::write_fmt::h299fc90dfae41c0d\r\n                               at /rustc/d5a82bbd26e1ad8b7401f6a718a9c57c96905483/library/std/src/io/mod.rs:1682:15\r\n   6:     0x56148e4e80f5 - std::sys_common::backtrace::_print::heb70d25df9937e3f\r\n                               at /rustc/d5a82bbd26e1ad8b7401f6a718a9c57c96905483/library/std/src/sys_common/backtrace.rs:47:5\r\n   7:     0x56148e4e80f5 - std::sys_common::backtrace::print::had745c0a76b8b521\r\n                               at /rustc/d5a82bbd26e1ad8b7401f6a718a9c57c96905483/library/std/src/sys_common/backtrace.rs:34:9\r\n   8:     0x56148e4e9c2f - std::panicking::default_hook::{{closure}}::h1ea782cdfa2fd097\r\n                               at /rustc/d5a82bbd26e1ad8b7401f6a718a9c57c96905483/library/std/src/panicking.rs:267:22\r\n   9:     0x56148e4e996b - std::panicking::default_hook::h1cc3af63455a163c\r\n                               at /rustc/d5a82bbd26e1ad8b7401f6a718a9c57c96905483/library/std/src/panicking.rs:286:9\r\n  10:     0x56148e4ea33c - std::panicking::rust_panic_with_hook::h5cafdc4b3bfd5528\r\n                               at /rustc/d5a82bbd26e1ad8b7401f6a718a9c57c96905483/library/std/src/panicking.rs:688:13\r\n  11:     0x56148e4ea0d9 - std::panicking::begin_panic_handler::{{closure}}::hf31c60f40775892c\r\n                               at /rustc/d5a82bbd26e1ad8b7401f6a718a9c57c96905483/library/std/src/panicking.rs:579:13\r\n  12:     0x56148e4e87dc - std::sys_common::backtrace::__rust_end_short_backtrace::h28a5c7be595826cd\r\n                               at /rustc/d5a82bbd26e1ad8b7401f6a718a9c57c96905483/library/std/src/sys_common/backtrace.rs:137:18\r\n  13:     0x56148e4e9de2 - rust_begin_unwind\r\n                               at /rustc/d5a82bbd26e1ad8b7401f6a718a9c57c96905483/library/std/src/panicking.rs:575:5\r\n  14:     0x56148cc5d473 - core::panicking::panic_fmt::h8fa27a0b37dd98b7\r\n                               at /rustc/d5a82bbd26e1ad8b7401f6a718a9c57c96905483/library/core/src/panicking.rs:64:14\r\n  15:     0x56148cd92a52 - zksync_core::sync_layer::fetcher::MainNodeFetcher::run::{{closure}}::h5fed416b84586fcf\r\n  16:     0x56148cdd8555 - tokio::loom::std::unsafe_cell::UnsafeCell<T>::with_mut::ha65c9cd24ae0eb7d\r\n  17:     0x56148cf62127 - tokio::runtime::task::core::Core<T,S>::poll::h9bda204f98de056f\r\n  18:     0x56148cde0d9e - tokio::runtime::task::harness::Harness<T,S>::poll::h5f7c048a5bb9247a\r\n  19:     0x56148e4a256e - tokio::runtime::scheduler::multi_thread::worker::Context::run_task::h6fb307488dc375ee\r\n  20:     0x56148e4a16c3 - tokio::runtime::scheduler::multi_thread::worker::Context::run::h175658cfae89590d\r\n  21:     0x56148e48ddf9 - tokio::macros::scoped_tls::ScopedKey<T>::set::h2b771be14cbef94d\r\n  22:     0x56148e4a13c9 - tokio::runtime::scheduler::multi_thread::worker::run::ha39c9ec4dce0c89d\r\n  23:     0x56148e4ab1e8 - tokio::runtime::task::core::Core<T,S>::poll::h6feb9b8dd5ca027e\r\n  24:     0x56148e481bdf - tokio::runtime::task::harness::Harness<T,S>::poll::hb45689cdecd9b901\r\n  25:     0x56148e48f888 - tokio::runtime::blocking::pool::Inner::run::hc09fcd48a7633fbf\r\n  26:     0x56148e490d7a - std::sys_common::backtrace::__rust_begin_short_backtrace::hf8e4ebb56e2acb86\r\n  27:     0x56148e4a3a8b - core::ops::function::FnOnce::call_once{{vtable.shim}}::h4834ddb4b804c368\r\n  28:     0x56148e4ed713 - <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once::hb77d8d72ebcf79c4\r\n                               at /rustc/d5a82bbd26e1ad8b7401f6a718a9c57c96905483/library/alloc/src/boxed.rs:2000:9\r\n  29:     0x56148e4ed713 - <alloc::boxed::Box<F,A> as core::ops::function::FnOnce<Args>>::call_once::hc08c3353e1568487\r\n                               at /rustc/d5a82bbd26e1ad8b7401f6a718a9c57c96905483/library/alloc/src/boxed.rs:2000:9\r\n  30:     0x56148e4ed713 - std::sys::unix::thread::Thread::new::thread_start::h7168e596cd5e5ce6\r\n                               at /rustc/d5a82bbd26e1ad8b7401f6a718a9c57c96905483/library/std/src/sys/unix/thread.rs:108:17\r\n  31:     0x7f51db583fa3 - start_thread\r\n  32:     0x7f51db32b06f - clone\r\n  33:                0x0 - <unknown>\r\n2023-08-09T09:22:46.579636Z  INFO zksync_core::metadata_calculator::updater: Stop signal received, metadata_calculator is shutting down\r\n2023-08-09T09:22:46.580190Z  INFO zksync_storage::db: Waiting for all the RocksDB instances to be dropped, 2 remaining\r\n2023-08-09T09:22:46.582876Z  INFO zksync_core::api_server::web3: Stop signal received, WS JSON RPC API is shutting down\r\n2023-08-09T09:22:46.633009Z  INFO zksync_storage::db: Waiting for all the RocksDB instances to be dropped, 1 remaining\r\n2023-08-09T09:22:46.689619Z  INFO zksync_core::api_server::web3::pubsub_notifier: Stop signal received, pubsub_tx_notifier is shutting down\r\n2023-08-09T09:22:46.689687Z  INFO zksync_core::api_server::web3::pubsub_notifier: Stop signal received, pubsub_block_notifier is shutting down\r\n2023-08-09T09:22:46.695252Z  INFO zksync_core::api_server::web3::pubsub_notifier: Stop signal received, pubsub_logs_notifier is shutting down\r\n2023-08-09T09:22:46.829614Z  INFO zksync_core::state_keeper::batch_executor: State keeper exited with an unfinished batch\r\n2023-08-09T09:22:46.829779Z  INFO zksync_core::state_keeper::keeper: Stop signal received, state keeper is shutting down\r\n2023-08-09T09:22:46.843517Z  INFO zksync_storage::db: All the RocksDB instances are dropped\r\n2023-08-09T09:22:47.138197Z  INFO zksync_core::sync_layer::batch_status_updater: Stop signal received, exiting the batch status updater routine\r\n2023-08-09T09:22:50.328840Z  INFO zksync_core::consistency_checker: Stop signal received, consistency_checker is shutting down\r\n2023-08-09T09:22:50.513969Z  INFO zksync_core::l1_gas_price::main_node_fetcher: Stop signal received, MainNodeGasPriceFetcher is shutting down\r\n```",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/matter-labs/zksync-era/issues/75/reactions",
    "total_count": 1,
    "+1": 1,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/matter-labs/zksync-era/issues/75/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/matter-labs/zksync-era/issues/comments/1671085944",
    "html_url": "https://github.com/matter-labs/zksync-era/issues/75#issuecomment-1671085944",
    "issue_url": "https://api.github.com/repos/matter-labs/zksync-era/issues/75",
    "id": 1671085944,
    "node_id": "IC_kwDOI-FneM5jmr94",
    "user": {
      "login": "james0p0",
      "id": 140513593,
      "node_id": "U_kgDOCGAROQ",
      "avatar_url": "https://avatars.githubusercontent.com/u/140513593?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/james0p0",
      "html_url": "https://github.com/james0p0",
      "followers_url": "https://api.github.com/users/james0p0/followers",
      "following_url": "https://api.github.com/users/james0p0/following{/other_user}",
      "gists_url": "https://api.github.com/users/james0p0/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/james0p0/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/james0p0/subscriptions",
      "organizations_url": "https://api.github.com/users/james0p0/orgs",
      "repos_url": "https://api.github.com/users/james0p0/repos",
      "events_url": "https://api.github.com/users/james0p0/events{/privacy}",
      "received_events_url": "https://api.github.com/users/james0p0/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-08-09T10:41:12Z",
    "updated_at": "2023-08-09T10:41:27Z",
    "author_association": "NONE",
    "body": "Hello @sundafa May I know how could you start the external node, I followed the instruction on GitHub, but it crash right away. \r\nThank you in advance. ",
    "reactions": {
      "url": "https://api.github.com/repos/matter-labs/zksync-era/issues/comments/1671085944/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/matter-labs/zksync-era/issues/comments/1674430723",
    "html_url": "https://github.com/matter-labs/zksync-era/issues/75#issuecomment-1674430723",
    "issue_url": "https://api.github.com/repos/matter-labs/zksync-era/issues/75",
    "id": 1674430723,
    "node_id": "IC_kwDOI-FneM5jzckD",
    "user": {
      "login": "rayn316",
      "id": 24621599,
      "node_id": "MDQ6VXNlcjI0NjIxNTk5",
      "avatar_url": "https://avatars.githubusercontent.com/u/24621599?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rayn316",
      "html_url": "https://github.com/rayn316",
      "followers_url": "https://api.github.com/users/rayn316/followers",
      "following_url": "https://api.github.com/users/rayn316/following{/other_user}",
      "gists_url": "https://api.github.com/users/rayn316/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rayn316/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rayn316/subscriptions",
      "organizations_url": "https://api.github.com/users/rayn316/orgs",
      "repos_url": "https://api.github.com/users/rayn316/repos",
      "events_url": "https://api.github.com/users/rayn316/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rayn316/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-08-11T09:08:47Z",
    "updated_at": "2023-08-11T09:08:47Z",
    "author_association": "NONE",
    "body": "@james0p0 \r\ni don't know how to reply you.\r\nRunning this node requires a database snapshot file to run, maybe you should contact the official",
    "reactions": {
      "url": "https://api.github.com/repos/matter-labs/zksync-era/issues/comments/1674430723/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/matter-labs/zksync-era/issues/comments/1686022216",
    "html_url": "https://github.com/matter-labs/zksync-era/issues/75#issuecomment-1686022216",
    "issue_url": "https://api.github.com/repos/matter-labs/zksync-era/issues/75",
    "id": 1686022216,
    "node_id": "IC_kwDOI-FneM5kfqhI",
    "user": {
      "login": "githubdoramon",
      "id": 8230135,
      "node_id": "MDQ6VXNlcjgyMzAxMzU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8230135?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/githubdoramon",
      "html_url": "https://github.com/githubdoramon",
      "followers_url": "https://api.github.com/users/githubdoramon/followers",
      "following_url": "https://api.github.com/users/githubdoramon/following{/other_user}",
      "gists_url": "https://api.github.com/users/githubdoramon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/githubdoramon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/githubdoramon/subscriptions",
      "organizations_url": "https://api.github.com/users/githubdoramon/orgs",
      "repos_url": "https://api.github.com/users/githubdoramon/repos",
      "events_url": "https://api.github.com/users/githubdoramon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/githubdoramon/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-08-21T09:57:50Z",
    "updated_at": "2023-08-21T09:57:50Z",
    "author_association": "COLLABORATOR",
    "body": "> Hello @sundafa May I know how could you start the external node, I followed the instruction on GitHub, but it crash right away. Thank you in advance.\r\n\r\n@james0p0 the node can't be run permissionlessly yet, but will be soon. ",
    "reactions": {
      "url": "https://api.github.com/repos/matter-labs/zksync-era/issues/comments/1686022216/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/matter-labs/zksync-era/issues/comments/1782555588",
    "html_url": "https://github.com/matter-labs/zksync-era/issues/75#issuecomment-1782555588",
    "issue_url": "https://api.github.com/repos/matter-labs/zksync-era/issues/75",
    "id": 1782555588,
    "node_id": "IC_kwDOI-FneM5qP6PE",
    "user": {
      "login": "popzxc",
      "id": 12111581,
      "node_id": "MDQ6VXNlcjEyMTExNTgx",
      "avatar_url": "https://avatars.githubusercontent.com/u/12111581?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/popzxc",
      "html_url": "https://github.com/popzxc",
      "followers_url": "https://api.github.com/users/popzxc/followers",
      "following_url": "https://api.github.com/users/popzxc/following{/other_user}",
      "gists_url": "https://api.github.com/users/popzxc/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/popzxc/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/popzxc/subscriptions",
      "organizations_url": "https://api.github.com/users/popzxc/orgs",
      "repos_url": "https://api.github.com/users/popzxc/repos",
      "events_url": "https://api.github.com/users/popzxc/events{/privacy}",
      "received_events_url": "https://api.github.com/users/popzxc/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-10-27T09:00:01Z",
    "updated_at": "2023-10-27T09:00:01Z",
    "author_association": "MEMBER",
    "body": "To the original issue: RPC errors indeed shouldn't crash the node. We'll investigate. Thanks for the report.",
    "reactions": {
      "url": "https://api.github.com/repos/matter-labs/zksync-era/issues/comments/1782555588/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/matter-labs/zksync-era/issues/comments/1797854677",
    "html_url": "https://github.com/matter-labs/zksync-era/issues/75#issuecomment-1797854677",
    "issue_url": "https://api.github.com/repos/matter-labs/zksync-era/issues/75",
    "id": 1797854677,
    "node_id": "IC_kwDOI-FneM5rKRXV",
    "user": {
      "login": "RedaOps",
      "id": 32748771,
      "node_id": "MDQ6VXNlcjMyNzQ4Nzcx",
      "avatar_url": "https://avatars.githubusercontent.com/u/32748771?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/RedaOps",
      "html_url": "https://github.com/RedaOps",
      "followers_url": "https://api.github.com/users/RedaOps/followers",
      "following_url": "https://api.github.com/users/RedaOps/following{/other_user}",
      "gists_url": "https://api.github.com/users/RedaOps/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/RedaOps/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/RedaOps/subscriptions",
      "organizations_url": "https://api.github.com/users/RedaOps/orgs",
      "repos_url": "https://api.github.com/users/RedaOps/repos",
      "events_url": "https://api.github.com/users/RedaOps/events{/privacy}",
      "received_events_url": "https://api.github.com/users/RedaOps/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-11-07T05:36:44Z",
    "updated_at": "2023-11-07T05:36:44Z",
    "author_association": "NONE",
    "body": "> To the original issue: RPC errors indeed shouldn't crash the node. We'll investigate. Thanks for the report.\r\n\r\nSeems like this is an issue with the EN when syncing from the main node. Maybe an unhandled error type when calling a certain rpc method on the main node while fetching?\r\n\r\nThe fetcher can handle 2 types of `RpcError` errors:\r\n\r\nhttps://github.com/matter-labs/zksync-era/blob/38fb8787c7255dba54a345b3edbee47f335f0862/core/lib/zksync_core/src/sync_layer/fetcher.rs#L110-L120\r\n\r\n\r\n\r\nBut could a different type of error get there? Something like `ErrorCode::InternalError` or `Web3Error::InternalError` if the jsonrpc request fails on the server, without it being a network error?\r\n\r\nIf the following line unwraps to an `Err`, and the `Err` is not `Some(err @ RpcError::Transport(_) | err @ RpcError::RequestTimeout)`, the `Unexpected error in the fetcher` error that is shown in the original isssue's logs could be reached? We can follow the error propagation chain:\r\n\r\nhttps://github.com/matter-labs/zksync-era/blob/38fb8787c7255dba54a345b3edbee47f335f0862/core/lib/zksync_core/src/sync_layer/fetcher.rs#L136\r\n\r\nhttps://github.com/matter-labs/zksync-era/blob/38fb8787c7255dba54a345b3edbee47f335f0862/core/lib/zksync_core/src/sync_layer/client.rs#L138-L141\r\n\r\nhttps://github.com/matter-labs/zksync-era/blob/38fb8787c7255dba54a345b3edbee47f335f0862/core/lib/zksync_core/src/api_server/web3/backend_jsonrpsee/namespaces/eth.rs#L23-L25\r\n\r\nhttps://github.com/matter-labs/zksync-era/blob/38fb8787c7255dba54a345b3edbee47f335f0862/core/lib/zksync_core/src/api_server/web3/backend_jsonrpsee/mod.rs#L15-L42\r\n\r\nAlso, this type of error handling also happens in the reorg detector, so maybe a similar kind of panic can also happen there?\r\n\r\nhttps://github.com/matter-labs/zksync-era/blob/38fb8787c7255dba54a345b3edbee47f335f0862/core/lib/zksync_core/src/reorg_detector/mod.rs#L127-L141\r\n\r\nPlease keep in mind I am new to this codebase and don't have the snapshot so cannot run the external node myself to test everything, but hope this info at least makes debugging a little easier.\r\n\r\nIf I missed anything or got something wrong please point it out. Thanks!",
    "reactions": {
      "url": "https://api.github.com/repos/matter-labs/zksync-era/issues/comments/1797854677/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/matter-labs/zksync-era/issues/comments/1798068705",
    "html_url": "https://github.com/matter-labs/zksync-era/issues/75#issuecomment-1798068705",
    "issue_url": "https://api.github.com/repos/matter-labs/zksync-era/issues/75",
    "id": 1798068705,
    "node_id": "IC_kwDOI-FneM5rLFnh",
    "user": {
      "login": "RomanBrodetski",
      "id": 1053184,
      "node_id": "MDQ6VXNlcjEwNTMxODQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1053184?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/RomanBrodetski",
      "html_url": "https://github.com/RomanBrodetski",
      "followers_url": "https://api.github.com/users/RomanBrodetski/followers",
      "following_url": "https://api.github.com/users/RomanBrodetski/following{/other_user}",
      "gists_url": "https://api.github.com/users/RomanBrodetski/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/RomanBrodetski/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/RomanBrodetski/subscriptions",
      "organizations_url": "https://api.github.com/users/RomanBrodetski/orgs",
      "repos_url": "https://api.github.com/users/RomanBrodetski/repos",
      "events_url": "https://api.github.com/users/RomanBrodetski/events{/privacy}",
      "received_events_url": "https://api.github.com/users/RomanBrodetski/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-11-07T08:55:48Z",
    "updated_at": "2023-11-07T08:55:48Z",
    "author_association": "COLLABORATOR",
    "body": "Hello @RedaOps thank you very much for a deep dive there! We'll analyse this and get back to you and to this issue.",
    "reactions": {
      "url": "https://api.github.com/repos/matter-labs/zksync-era/issues/comments/1798068705/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
