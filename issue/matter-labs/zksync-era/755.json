{
  "url": "https://api.github.com/repos/matter-labs/zksync-era/issues/755",
  "repository_url": "https://api.github.com/repos/matter-labs/zksync-era",
  "labels_url": "https://api.github.com/repos/matter-labs/zksync-era/issues/755/labels{/name}",
  "comments_url": "https://api.github.com/repos/matter-labs/zksync-era/issues/755/comments",
  "events_url": "https://api.github.com/repos/matter-labs/zksync-era/issues/755/events",
  "html_url": "https://github.com/matter-labs/zksync-era/issues/755",
  "id": 2055468833,
  "node_id": "I_kwDOI-FneM56g_ch",
  "number": 755,
  "title": "`zk stack init` failed with `unknown shorthand flag: 's' in -s` in docker when we use `localhost (matterlabs/geth)`",
  "user": {
    "login": "yasindce1998",
    "id": 36514300,
    "node_id": "MDQ6VXNlcjM2NTE0MzAw",
    "avatar_url": "https://avatars.githubusercontent.com/u/36514300?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/yasindce1998",
    "html_url": "https://github.com/yasindce1998",
    "followers_url": "https://api.github.com/users/yasindce1998/followers",
    "following_url": "https://api.github.com/users/yasindce1998/following{/other_user}",
    "gists_url": "https://api.github.com/users/yasindce1998/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/yasindce1998/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/yasindce1998/subscriptions",
    "organizations_url": "https://api.github.com/users/yasindce1998/orgs",
    "repos_url": "https://api.github.com/users/yasindce1998/repos",
    "events_url": "https://api.github.com/users/yasindce1998/events{/privacy}",
    "received_events_url": "https://api.github.com/users/yasindce1998/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 5157016638,
      "node_id": "LA_kwDOI-FneM8AAAABM2HUPg",
      "url": "https://api.github.com/repos/matter-labs/zksync-era/labels/bug",
      "name": "bug",
      "color": "d73a4a",
      "default": true,
      "description": "Something isn't working"
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 0,
  "created_at": "2023-12-25T07:29:10Z",
  "updated_at": "2023-12-25T07:29:36Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "### ğŸ› Bug Report\r\n\r\n#### ğŸ“ Description\r\n\r\nWhen we do `zk stack init` using `localhost (matterlabs/geth)` as an L1 network it's failing when it executing docker commands.\r\n\r\nLook below for the error.\r\n\r\n```\r\nuser@node:~/zksync-era# zk stack init\r\n\r\n----------------------------------\r\n> Initializing hyperchain creation\r\n(node:162709) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.\r\n(Use `node --trace-deprecation ...` to show where the warning was created)\r\nâœ” Do you want to configure a new chain or use an existing configuration? Â· Configure new chain\r\n\r\n----------------------------------\r\n> Setting hyperchain configuration\r\nâœ” What is your hyperchain name? Â· hyp\r\nâœ” What is your hyperchain id? Make sure this is not used by other chains. Â· 8990\r\nâœ” To which L1 Network will your hyperchain rollup to? Â· localhost (matterlabs/geth)\r\nDocker version 24.0.5, build 24.0.5-0ubuntu1~22.04.1\r\nunknown shorthand flag: 's' in -s\r\nSee 'docker --help'.\r\n\r\nUsage:  docker [OPTIONS] COMMAND\r\n\r\nA self-sufficient runtime for containers\r\n\r\nCommon Commands:\r\n  run         Create and run a new container from an image\r\n  exec        Execute a command in a running container\r\n  ps          List containers\r\n  build       Build an image from a Dockerfile\r\n  pull        Download an image from a registry\r\n  push        Upload an image to a registry\r\n  images      List images\r\n  login       Log in to a registry\r\n  logout      Log out from a registry\r\n  search      Search Docker Hub for images\r\n  version     Show the Docker version information\r\n  info        Display system-wide information\r\n....\r\n\r\nError: Child process exited with code 125\r\n```\r\n\r\n#### ğŸ”„ Reproduction Steps\r\n\r\n1. clone zksync-era\r\n2. cd zksync-era\r\n3. run `zk` command first\r\n4. then run `zk stack init` or zk stack demo` (both failing at the docker execution)\r\n5. when we execute `zk stack init` \r\n6. select `new chain`\r\n7. select ` localhost (matterlabs/geth)`  \r\n8. Then it'll fail to execute docker and all the commands.\r\n#### ğŸ¤” Expected Behavior\r\n\r\nI should have my L2 (hyperchain) ready.\r\n\r\n#### ğŸ˜¯ Current Behavior\r\n\r\nit's failing after we select  ` localhost (matterlabs/geth)`  when we do `zk stack init`\r\n\r\n#### ğŸ–¥ï¸ Environment\r\n\r\n```\r\nDistributor ID: Ubuntu\r\nDescription:    Ubuntu 22.04.3 LTS\r\nRelease:        22.04\r\nCodename:       jammy\r\n```\r\n\r\n#### ğŸ“‹ Additional Context\r\n\r\n`zk stack demo` is also failing at the same step.\r\n\r\n#### ğŸ“ Log Output\r\n\r\n```\r\nPaste any relevant log output here.\r\n```\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/matter-labs/zksync-era/issues/755/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/matter-labs/zksync-era/issues/755/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[

]
