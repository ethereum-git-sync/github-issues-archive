{
  "url": "https://api.github.com/repos/matter-labs/zksync-era/issues/755",
  "repository_url": "https://api.github.com/repos/matter-labs/zksync-era",
  "labels_url": "https://api.github.com/repos/matter-labs/zksync-era/issues/755/labels{/name}",
  "comments_url": "https://api.github.com/repos/matter-labs/zksync-era/issues/755/comments",
  "events_url": "https://api.github.com/repos/matter-labs/zksync-era/issues/755/events",
  "html_url": "https://github.com/matter-labs/zksync-era/issues/755",
  "id": 2055468833,
  "node_id": "I_kwDOI-FneM56g_ch",
  "number": 755,
  "title": "`zk stack init` failed with `unknown shorthand flag: 's' in -s` in docker when we use `localhost (matterlabs/geth)`",
  "user": {
    "login": "yasindce1998",
    "id": 36514300,
    "node_id": "MDQ6VXNlcjM2NTE0MzAw",
    "avatar_url": "https://avatars.githubusercontent.com/u/36514300?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/yasindce1998",
    "html_url": "https://github.com/yasindce1998",
    "followers_url": "https://api.github.com/users/yasindce1998/followers",
    "following_url": "https://api.github.com/users/yasindce1998/following{/other_user}",
    "gists_url": "https://api.github.com/users/yasindce1998/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/yasindce1998/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/yasindce1998/subscriptions",
    "organizations_url": "https://api.github.com/users/yasindce1998/orgs",
    "repos_url": "https://api.github.com/users/yasindce1998/repos",
    "events_url": "https://api.github.com/users/yasindce1998/events{/privacy}",
    "received_events_url": "https://api.github.com/users/yasindce1998/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 5157016638,
      "node_id": "LA_kwDOI-FneM8AAAABM2HUPg",
      "url": "https://api.github.com/repos/matter-labs/zksync-era/labels/bug",
      "name": "bug",
      "color": "d73a4a",
      "default": true,
      "description": "Something isn't working"
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2023-12-25T07:29:10Z",
  "updated_at": "2024-01-04T19:14:49Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "### üêõ Bug Report\r\n\r\n#### üìù Description\r\n\r\nWhen we do `zk stack init` using `localhost (matterlabs/geth)` as an L1 network it's failing when it executing docker commands.\r\n\r\nLook below for the error.\r\n\r\n```\r\nuser@node:~/zksync-era# zk stack init\r\n\r\n----------------------------------\r\n> Initializing hyperchain creation\r\n(node:162709) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.\r\n(Use `node --trace-deprecation ...` to show where the warning was created)\r\n‚úî Do you want to configure a new chain or use an existing configuration? ¬∑ Configure new chain\r\n\r\n----------------------------------\r\n> Setting hyperchain configuration\r\n‚úî What is your hyperchain name? ¬∑ hyp\r\n‚úî What is your hyperchain id? Make sure this is not used by other chains. ¬∑ 8990\r\n‚úî To which L1 Network will your hyperchain rollup to? ¬∑ localhost (matterlabs/geth)\r\nDocker version 24.0.5, build 24.0.5-0ubuntu1~22.04.1\r\nunknown shorthand flag: 's' in -s\r\nSee 'docker --help'.\r\n\r\nUsage:  docker [OPTIONS] COMMAND\r\n\r\nA self-sufficient runtime for containers\r\n\r\nCommon Commands:\r\n  run         Create and run a new container from an image\r\n  exec        Execute a command in a running container\r\n  ps          List containers\r\n  build       Build an image from a Dockerfile\r\n  pull        Download an image from a registry\r\n  push        Upload an image to a registry\r\n  images      List images\r\n  login       Log in to a registry\r\n  logout      Log out from a registry\r\n  search      Search Docker Hub for images\r\n  version     Show the Docker version information\r\n  info        Display system-wide information\r\n....\r\n\r\nError: Child process exited with code 125\r\n```\r\n\r\n#### üîÑ Reproduction Steps\r\n\r\n1. clone zksync-era\r\n2. cd zksync-era\r\n3. run `zk` command first\r\n4. then run `zk stack init` or zk stack demo` (both failing at the docker execution)\r\n5. when we execute `zk stack init` \r\n6. select `new chain`\r\n7. select ` localhost (matterlabs/geth)`  \r\n8. Then it'll fail to execute docker and all the commands.\r\n#### ü§î Expected Behavior\r\n\r\nI should have my L2 (hyperchain) ready.\r\n\r\n#### üòØ Current Behavior\r\n\r\nit's failing after we select  ` localhost (matterlabs/geth)`  when we do `zk stack init`\r\n\r\n#### üñ•Ô∏è Environment\r\n\r\n```\r\nDistributor ID: Ubuntu\r\nDescription:    Ubuntu 22.04.3 LTS\r\nRelease:        22.04\r\nCodename:       jammy\r\n```\r\n\r\n#### üìã Additional Context\r\n\r\n`zk stack demo` is also failing at the same step.\r\n\r\n#### üìé Log Output\r\n\r\n```\r\nPaste any relevant log output here.\r\n```\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/matter-labs/zksync-era/issues/755/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/matter-labs/zksync-era/issues/755/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/matter-labs/zksync-era/issues/comments/1876919599",
    "html_url": "https://github.com/matter-labs/zksync-era/issues/755#issuecomment-1876919599",
    "issue_url": "https://api.github.com/repos/matter-labs/zksync-era/issues/755",
    "id": 1876919599,
    "node_id": "IC_kwDOI-FneM5v34Uv",
    "user": {
      "login": "montekki",
      "id": 56672,
      "node_id": "MDQ6VXNlcjU2Njcy",
      "avatar_url": "https://avatars.githubusercontent.com/u/56672?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/montekki",
      "html_url": "https://github.com/montekki",
      "followers_url": "https://api.github.com/users/montekki/followers",
      "following_url": "https://api.github.com/users/montekki/following{/other_user}",
      "gists_url": "https://api.github.com/users/montekki/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/montekki/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/montekki/subscriptions",
      "organizations_url": "https://api.github.com/users/montekki/orgs",
      "repos_url": "https://api.github.com/users/montekki/repos",
      "events_url": "https://api.github.com/users/montekki/events{/privacy}",
      "received_events_url": "https://api.github.com/users/montekki/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2024-01-04T11:11:21Z",
    "updated_at": "2024-01-04T11:11:21Z",
    "author_association": "MEMBER",
    "body": "hi @yasindce1998 cann't seem to repro, can you make sure you just run `zk` to rebuild the tool to the latest version and try again? ",
    "reactions": {
      "url": "https://api.github.com/repos/matter-labs/zksync-era/issues/comments/1876919599/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/matter-labs/zksync-era/issues/comments/1877172227",
    "html_url": "https://github.com/matter-labs/zksync-era/issues/755#issuecomment-1877172227",
    "issue_url": "https://api.github.com/repos/matter-labs/zksync-era/issues/755",
    "id": 1877172227,
    "node_id": "IC_kwDOI-FneM5v42AD",
    "user": {
      "login": "yasindce1998",
      "id": 36514300,
      "node_id": "MDQ6VXNlcjM2NTE0MzAw",
      "avatar_url": "https://avatars.githubusercontent.com/u/36514300?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yasindce1998",
      "html_url": "https://github.com/yasindce1998",
      "followers_url": "https://api.github.com/users/yasindce1998/followers",
      "following_url": "https://api.github.com/users/yasindce1998/following{/other_user}",
      "gists_url": "https://api.github.com/users/yasindce1998/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yasindce1998/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yasindce1998/subscriptions",
      "organizations_url": "https://api.github.com/users/yasindce1998/orgs",
      "repos_url": "https://api.github.com/users/yasindce1998/repos",
      "events_url": "https://api.github.com/users/yasindce1998/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yasindce1998/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2024-01-04T14:20:37Z",
    "updated_at": "2024-01-04T14:20:37Z",
    "author_association": "NONE",
    "body": "@montekki For me it's still showing and I am using the latest commit.\r\n\r\nWhen I run `zk stack demo`\r\n\r\n```\r\nuser@Node-2:~/zksync-era# zk stack demo\r\nConfigs compiled for demo\r\n(node:534940) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.\r\n(Use `node --trace-deprecation ...` to show where the warning was created)\r\nDocker version 24.0.5, build 24.0.5-0ubuntu1~22.04.1\r\nunknown shorthand flag: 's' in -s\r\nSee 'docker --help'.\r\n```\r\n\r\nFYI, `git log`\r\n\r\n```\r\nuser@Node-2:~/zksync-era# git log\r\ncommit 61712a636f69be70d75719c04f364d679ef624e0 (HEAD -> main, origin/main, origin/HEAD)\r\nAuthor: Stanislav Bezkorovainyi <stanislavbezkor@gmail.com>\r\nDate:   Thu Jan 4 14:40:26 2024 +0100\r\n\r\n    feat(vm): Separate boojum integration vm (#806)\r\n    \r\n    ## What ‚ùî\r\n    \r\n    Changes needed to make the boojum integration VM work as a separate VM\r\n    version from \"latest\"\r\n    \r\n    ## Why ‚ùî\r\n    \r\n    <!-- Why are these changes done? What goal do they contribute to? What\r\n    are the principles behind them? -->\r\n    <!-- Example: PR templates ensure PR reviewers, observers, and future\r\n    iterators are in context about the evolution of repos. -->\r\n    \r\n    ## Checklist\r\n    \r\n    <!-- Check your PR fulfills the following\r\n    \r\n```\r\n\r\nI am using the latest build.",
    "reactions": {
      "url": "https://api.github.com/repos/matter-labs/zksync-era/issues/comments/1877172227/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/matter-labs/zksync-era/issues/comments/1877547484",
    "html_url": "https://github.com/matter-labs/zksync-era/issues/755#issuecomment-1877547484",
    "issue_url": "https://api.github.com/repos/matter-labs/zksync-era/issues/755",
    "id": 1877547484,
    "node_id": "IC_kwDOI-FneM5v6Rnc",
    "user": {
      "login": "vriera",
      "id": 57446063,
      "node_id": "MDQ6VXNlcjU3NDQ2MDYz",
      "avatar_url": "https://avatars.githubusercontent.com/u/57446063?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vriera",
      "html_url": "https://github.com/vriera",
      "followers_url": "https://api.github.com/users/vriera/followers",
      "following_url": "https://api.github.com/users/vriera/following{/other_user}",
      "gists_url": "https://api.github.com/users/vriera/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vriera/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vriera/subscriptions",
      "organizations_url": "https://api.github.com/users/vriera/orgs",
      "repos_url": "https://api.github.com/users/vriera/repos",
      "events_url": "https://api.github.com/users/vriera/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vriera/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2024-01-04T18:10:43Z",
    "updated_at": "2024-01-04T18:12:50Z",
    "author_association": "NONE",
    "body": "I'm currently having the same issue\r\nError generated by `zk stack init`\r\n```\r\nDocker version 20.10.5+dfsg1, build 55c4c88\r\nunknown shorthand flag: 's' in -s\r\nSee 'docker --help'.\r\n```\r\nenvironment:\r\n```\r\nDistributor ID: Debian\r\nDescription:    Debian GNU/Linux 11 (bullseye)\r\nRelease:        11\r\nCodename:       bullseye\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/matter-labs/zksync-era/issues/comments/1877547484/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/matter-labs/zksync-era/issues/comments/1877629721",
    "html_url": "https://github.com/matter-labs/zksync-era/issues/755#issuecomment-1877629721",
    "issue_url": "https://api.github.com/repos/matter-labs/zksync-era/issues/755",
    "id": 1877629721,
    "node_id": "IC_kwDOI-FneM5v6lsZ",
    "user": {
      "login": "montekki",
      "id": 56672,
      "node_id": "MDQ6VXNlcjU2Njcy",
      "avatar_url": "https://avatars.githubusercontent.com/u/56672?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/montekki",
      "html_url": "https://github.com/montekki",
      "followers_url": "https://api.github.com/users/montekki/followers",
      "following_url": "https://api.github.com/users/montekki/following{/other_user}",
      "gists_url": "https://api.github.com/users/montekki/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/montekki/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/montekki/subscriptions",
      "organizations_url": "https://api.github.com/users/montekki/orgs",
      "repos_url": "https://api.github.com/users/montekki/repos",
      "events_url": "https://api.github.com/users/montekki/events{/privacy}",
      "received_events_url": "https://api.github.com/users/montekki/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2024-01-04T19:14:48Z",
    "updated_at": "2024-01-04T19:14:48Z",
    "author_association": "MEMBER",
    "body": "What is your current HEAD of zksync-era repo? ",
    "reactions": {
      "url": "https://api.github.com/repos/matter-labs/zksync-era/issues/comments/1877629721/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
