{
  "url": "https://api.github.com/repos/matter-labs/zksync-era/issues/81",
  "repository_url": "https://api.github.com/repos/matter-labs/zksync-era",
  "labels_url": "https://api.github.com/repos/matter-labs/zksync-era/issues/81/labels{/name}",
  "comments_url": "https://api.github.com/repos/matter-labs/zksync-era/issues/81/comments",
  "events_url": "https://api.github.com/repos/matter-labs/zksync-era/issues/81/events",
  "html_url": "https://github.com/matter-labs/zksync-era/issues/81",
  "id": 1860989632,
  "node_id": "I_kwDOI-FneM5u7HLA",
  "number": 81,
  "title": "main branch build failed",
  "user": {
    "login": "recursion128",
    "id": 19411771,
    "node_id": "MDQ6VXNlcjE5NDExNzcx",
    "avatar_url": "https://avatars.githubusercontent.com/u/19411771?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/recursion128",
    "html_url": "https://github.com/recursion128",
    "followers_url": "https://api.github.com/users/recursion128/followers",
    "following_url": "https://api.github.com/users/recursion128/following{/other_user}",
    "gists_url": "https://api.github.com/users/recursion128/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/recursion128/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/recursion128/subscriptions",
    "organizations_url": "https://api.github.com/users/recursion128/orgs",
    "repos_url": "https://api.github.com/users/recursion128/repos",
    "events_url": "https://api.github.com/users/recursion128/events{/privacy}",
    "received_events_url": "https://api.github.com/users/recursion128/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 0,
  "created_at": "2023-08-22T09:02:49Z",
  "updated_at": "2023-08-22T09:08:54Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Cargo build fails with this error:\r\n```\r\n Compiling zksync_types v1.0.0 (/home/zgy/Work/zksync-era/core/lib/types)\r\nerror[E0308]: mismatched types\r\n  --> core/lib/types/src/l2_to_l1_log.rs:44:21\r\n   |\r\n44 |             sender: m.address,\r\n   |                     ^^^^^^^^^ expected struct `zksync_basic_types::H160`, found struct `ethereum_types::H160`\r\n   |\r\n   = note: struct `ethereum_types::H160` and struct `zksync_basic_types::H160` have similar names, but are actually distinct types\r\nnote: struct `ethereum_types::H160` is defined in crate `primitive_types`\r\n  --> /home/zgy/.cargo/registry/src/github.com-1ecc6299db9ec823/primitive-types-0.10.1/src/lib.rs:55:1\r\n   |\r\n55 | / construct_fixed_hash! {\r\n56 | |     /// Fixed-size uninterpreted hash type with 20 bytes (160 bits) size.\r\n57 | |     #[cfg_attr(feature = \"scale-info\", derive(TypeInfo))]\r\n58 | |     pub struct H160(20);\r\n59 | | }\r\n   | |_^\r\nnote: struct `zksync_basic_types::H160` is defined in crate `primitive_types`\r\n  --> /home/zgy/.cargo/registry/src/github.com-1ecc6299db9ec823/primitive-types-0.12.1/src/lib.rs:55:1\r\n   |\r\n55 | / construct_fixed_hash! {\r\n56 | |     /// Fixed-size uninterpreted hash type with 20 bytes (160 bits) size.\r\n57 | |     #[cfg_attr(feature = \"scale-info\", derive(TypeInfo))]\r\n58 | |     pub struct H160(20);\r\n59 | | }\r\n   | |_^\r\n   = note: perhaps two different versions of crate `primitive_types` are being used?\r\n   = note: this error originates in the macro `construct_fixed_hash` (in Nightly builds, run with -Z macro-backtrace for more info)\r\n\r\nerror[E0308]: mismatched types\r\n   --> core/lib/types/src/l2_to_l1_log.rs:45:31\r\n    |\r\n45  |             key: u256_to_h256(m.key),\r\n    |                  ------------ ^^^^^ expected struct `zksync_basic_types::U256`, found struct `ethereum_types::U256`\r\n    |                  |\r\n    |                  arguments to this function are incorrect\r\n    |\r\n    = note: struct `ethereum_types::U256` and struct `zksync_basic_types::U256` have similar names, but are actually distinct types\r\nnote: struct `ethereum_types::U256` is defined in crate `primitive_types`\r\n   --> /home/zgy/.cargo/registry/src/github.com-1ecc6299db9ec823/primitive-types-0.10.1/src/lib.rs:38:1\r\n    |\r\n38  | / construct_uint! {\r\n39  | |     /// 256-bit unsigned integer.\r\n40  | |     #[cfg_attr(feature = \"scale-info\", derive(TypeInfo))]\r\n41  | |     pub struct U256(4);\r\n42  | | }\r\n    | |_^\r\nnote: struct `zksync_basic_types::U256` is defined in crate `primitive_types`\r\n   --> /home/zgy/.cargo/registry/src/github.com-1ecc6299db9ec823/primitive-types-0.12.1/src/lib.rs:38:1\r\n    |\r\n38  | / construct_uint! {\r\n39  | |     /// 256-bit unsigned integer.\r\n40  | |     #[cfg_attr(feature = \"scale-info\", derive(TypeInfo))]\r\n41  | |     pub struct U256(4);\r\n42  | | }\r\n    | |_^\r\n    = note: perhaps two different versions of crate `primitive_types` are being used?\r\nnote: function defined here\r\n   --> /home/zgy/Work/zksync-era/core/lib/utils/src/convert.rs:132:8\r\n    |\r\n132 | pub fn u256_to_h256(num: U256) -> H256 {\r\n    |        ^^^^^^^^^^^^\r\n    = note: this error originates in the macro `$crate::construct_uint` which comes from the expansion of the macro `construct_uint` (in Nightly builds, run with -Z macro-backtrace for more info)\r\n\r\nerror[E0308]: mismatched types\r\n   --> core/lib/types/src/l2_to_l1_log.rs:46:33\r\n    |\r\n46  |             value: u256_to_h256(m.value),\r\n    |                    ------------ ^^^^^^^ expected struct `zksync_basic_types::U256`, found struct `ethereum_types::U256`\r\n    |                    |\r\n    |                    arguments to this function are incorrect\r\n    |\r\n    = note: struct `ethereum_types::U256` and struct `zksync_basic_types::U256` have similar names, but are actually distinct types\r\nnote: struct `ethereum_types::U256` is defined in crate `primitive_types`\r\n   --> /home/zgy/.cargo/registry/src/github.com-1ecc6299db9ec823/primitive-types-0.10.1/src/lib.rs:38:1\r\n    |\r\n38  | / construct_uint! {\r\n39  | |     /// 256-bit unsigned integer.\r\n40  | |     #[cfg_attr(feature = \"scale-info\", derive(TypeInfo))]\r\n41  | |     pub struct U256(4);\r\n42  | | }\r\n    | |_^\r\nnote: struct `zksync_basic_types::U256` is defined in crate `primitive_types`\r\n   --> /home/zgy/.cargo/registry/src/github.com-1ecc6299db9ec823/primitive-types-0.12.1/src/lib.rs:38:1\r\n    |\r\n38  | / construct_uint! {\r\n39  | |     /// 256-bit unsigned integer.\r\n40  | |     #[cfg_attr(feature = \"scale-info\", derive(TypeInfo))]\r\n41  | |     pub struct U256(4);\r\n42  | | }\r\n    | |_^\r\n    = note: perhaps two different versions of crate `primitive_types` are being used?\r\nnote: function defined here\r\n   --> /home/zgy/Work/zksync-era/core/lib/utils/src/convert.rs:132:8\r\n    |\r\n132 | pub fn u256_to_h256(num: U256) -> H256 {\r\n    |        ^^^^^^^^^^^^\r\n    = note: this error originates in the macro `$crate::construct_uint` which comes from the expansion of the macro `construct_uint` (in Nightly builds, run with -Z macro-backtrace for more info)\r\n\r\nerror[E0308]: mismatched types\r\n  --> core/lib/types/src/storage/log.rs:27:32\r\n   |\r\n27 |             AccountTreeId::new(log.log_query.address),\r\n   |             ------------------ ^^^^^^^^^^^^^^^^^^^^^ expected struct `zksync_basic_types::H160`, found struct `ethereum_types::H160`\r\n   |             |\r\n   |             arguments to this function are incorrect\r\n   |\r\n   = note: struct `ethereum_types::H160` and struct `zksync_basic_types::H160` have similar names, but are actually distinct types\r\nnote: struct `ethereum_types::H160` is defined in crate `primitive_types`\r\n  --> /home/zgy/.cargo/registry/src/github.com-1ecc6299db9ec823/primitive-types-0.10.1/src/lib.rs:55:1\r\n   |\r\n55 | / construct_fixed_hash! {\r\n56 | |     /// Fixed-size uninterpreted hash type with 20 bytes (160 bits) size.\r\n57 | |     #[cfg_attr(feature = \"scale-info\", derive(TypeInfo))]\r\n58 | |     pub struct H160(20);\r\n59 | | }\r\n   | |_^\r\nnote: struct `zksync_basic_types::H160` is defined in crate `primitive_types`\r\n  --> /home/zgy/.cargo/registry/src/github.com-1ecc6299db9ec823/primitive-types-0.12.1/src/lib.rs:55:1\r\n   |\r\n55 | / construct_fixed_hash! {\r\n56 | |     /// Fixed-size uninterpreted hash type with 20 bytes (160 bits) size.\r\n57 | |     #[cfg_attr(feature = \"scale-info\", derive(TypeInfo))]\r\n58 | |     pub struct H160(20);\r\n59 | | }\r\n   | |_^\r\n   = note: perhaps two different versions of crate `primitive_types` are being used?\r\nnote: associated function defined here\r\n  --> /home/zgy/Work/zksync-era/core/lib/basic_types/src/lib.rs:31:12\r\n   |\r\n31 |     pub fn new(address: Address) -> Self {\r\n   |            ^^^\r\n   = note: this error originates in the macro `construct_fixed_hash` (in Nightly builds, run with -Z macro-backtrace for more info)\r\n\r\nerror[E0308]: mismatched types\r\n   --> core/lib/types/src/storage/log.rs:28:26\r\n    |\r\n28  |             u256_to_h256(log.log_query.key),\r\n    |             ------------ ^^^^^^^^^^^^^^^^^ expected struct `zksync_basic_types::U256`, found struct `ethereum_types::U256`\r\n    |             |\r\n    |             arguments to this function are incorrect\r\n    |\r\n    = note: struct `ethereum_types::U256` and struct `zksync_basic_types::U256` have similar names, but are actually distinct types\r\nnote: struct `ethereum_types::U256` is defined in crate `primitive_types`\r\n   --> /home/zgy/.cargo/registry/src/github.com-1ecc6299db9ec823/primitive-types-0.10.1/src/lib.rs:38:1\r\n    |\r\n38  | / construct_uint! {\r\n39  | |     /// 256-bit unsigned integer.\r\n40  | |     #[cfg_attr(feature = \"scale-info\", derive(TypeInfo))]\r\n41  | |     pub struct U256(4);\r\n42  | | }\r\n    | |_^\r\nnote: struct `zksync_basic_types::U256` is defined in crate `primitive_types`\r\n   --> /home/zgy/.cargo/registry/src/github.com-1ecc6299db9ec823/primitive-types-0.12.1/src/lib.rs:38:1\r\n    |\r\n38  | / construct_uint! {\r\n39  | |     /// 256-bit unsigned integer.\r\n40  | |     #[cfg_attr(feature = \"scale-info\", derive(TypeInfo))]\r\n41  | |     pub struct U256(4);\r\n42  | | }\r\n    | |_^\r\n    = note: perhaps two different versions of crate `primitive_types` are being used?\r\nnote: function defined here\r\n   --> /home/zgy/Work/zksync-era/core/lib/utils/src/convert.rs:132:8\r\n    |\r\n132 | pub fn u256_to_h256(num: U256) -> H256 {\r\n    |        ^^^^^^^^^^^^\r\n    = note: this error originates in the macro `$crate::construct_uint` which comes from the expansion of the macro `construct_uint` (in Nightly builds, run with -Z macro-backtrace for more info)\r\n\r\nerror[E0308]: mismatched types\r\n   --> core/lib/types/src/storage/log.rs:32:55\r\n    |\r\n32  |                 Self::new_write_log(key, u256_to_h256(log.log_query.read_value))\r\n    |                                          ------------ ^^^^^^^^^^^^^^^^^^^^^^^^ expected struct `zksync_basic_types::U256`, found struct `ethereum_types::U256`\r\n    |                                          |\r\n    |                                          arguments to this function are incorrect\r\n    |\r\n    = note: struct `ethereum_types::U256` and struct `zksync_basic_types::U256` have similar names, but are actually distinct types\r\nnote: struct `ethereum_types::U256` is defined in crate `primitive_types`\r\n   --> /home/zgy/.cargo/registry/src/github.com-1ecc6299db9ec823/primitive-types-0.10.1/src/lib.rs:38:1\r\n    |\r\n38  | / construct_uint! {\r\n39  | |     /// 256-bit unsigned integer.\r\n40  | |     #[cfg_attr(feature = \"scale-info\", derive(TypeInfo))]\r\n41  | |     pub struct U256(4);\r\n42  | | }\r\n    | |_^\r\nnote: struct `zksync_basic_types::U256` is defined in crate `primitive_types`\r\n   --> /home/zgy/.cargo/registry/src/github.com-1ecc6299db9ec823/primitive-types-0.12.1/src/lib.rs:38:1\r\n    |\r\n38  | / construct_uint! {\r\n39  | |     /// 256-bit unsigned integer.\r\n40  | |     #[cfg_attr(feature = \"scale-info\", derive(TypeInfo))]\r\n41  | |     pub struct U256(4);\r\n42  | | }\r\n    | |_^\r\n    = note: perhaps two different versions of crate `primitive_types` are being used?\r\nnote: function defined here\r\n   --> /home/zgy/Work/zksync-era/core/lib/utils/src/convert.rs:132:8\r\n    |\r\n132 | pub fn u256_to_h256(num: U256) -> H256 {\r\n    |        ^^^^^^^^^^^^\r\n    = note: this error originates in the macro `$crate::construct_uint` which comes from the expansion of the macro `construct_uint` (in Nightly builds, run with -Z macro-backtrace for more info)\r\n\r\nerror[E0308]: mismatched types\r\n   --> core/lib/types/src/storage/log.rs:34:55\r\n    |\r\n34  |                 Self::new_write_log(key, u256_to_h256(log.log_query.written_value))\r\n    |                                          ------------ ^^^^^^^^^^^^^^^^^^^^^^^^^^^ expected struct `zksync_basic_types::U256`, found struct `ethereum_types::U256`\r\n    |                                          |\r\n    |                                          arguments to this function are incorrect\r\n    |\r\n    = note: struct `ethereum_types::U256` and struct `zksync_basic_types::U256` have similar names, but are actually distinct types\r\nnote: struct `ethereum_types::U256` is defined in crate `primitive_types`\r\n   --> /home/zgy/.cargo/registry/src/github.com-1ecc6299db9ec823/primitive-types-0.10.1/src/lib.rs:38:1\r\n    |\r\n38  | / construct_uint! {\r\n39  | |     /// 256-bit unsigned integer.\r\n40  | |     #[cfg_attr(feature = \"scale-info\", derive(TypeInfo))]\r\n41  | |     pub struct U256(4);\r\n42  | | }\r\n    | |_^\r\nnote: struct `zksync_basic_types::U256` is defined in crate `primitive_types`\r\n   --> /home/zgy/.cargo/registry/src/github.com-1ecc6299db9ec823/primitive-types-0.12.1/src/lib.rs:38:1\r\n    |\r\n38  | / construct_uint! {\r\n39  | |     /// 256-bit unsigned integer.\r\n40  | |     #[cfg_attr(feature = \"scale-info\", derive(TypeInfo))]\r\n41  | |     pub struct U256(4);\r\n42  | | }\r\n    | |_^\r\n    = note: perhaps two different versions of crate `primitive_types` are being used?\r\nnote: function defined here\r\n   --> /home/zgy/Work/zksync-era/core/lib/utils/src/convert.rs:132:8\r\n    |\r\n132 | pub fn u256_to_h256(num: U256) -> H256 {\r\n    |        ^^^^^^^^^^^^\r\n    = note: this error originates in the macro `$crate::construct_uint` which comes from the expansion of the macro `construct_uint` (in Nightly builds, run with -Z macro-backtrace for more info)\r\n\r\nerror[E0308]: mismatched types\r\n   --> core/lib/types/src/storage/log.rs:37:50\r\n    |\r\n37  |             Self::new_read_log(key, u256_to_h256(log.log_query.read_value))\r\n    |                                     ------------ ^^^^^^^^^^^^^^^^^^^^^^^^ expected struct `zksync_basic_types::U256`, found struct `ethereum_types::U256`\r\n    |                                     |\r\n    |                                     arguments to this function are incorrect\r\n    |\r\n    = note: struct `ethereum_types::U256` and struct `zksync_basic_types::U256` have similar names, but are actually distinct types\r\nnote: struct `ethereum_types::U256` is defined in crate `primitive_types`\r\n   --> /home/zgy/.cargo/registry/src/github.com-1ecc6299db9ec823/primitive-types-0.10.1/src/lib.rs:38:1\r\n    |\r\n38  | / construct_uint! {\r\n39  | |     /// 256-bit unsigned integer.\r\n40  | |     #[cfg_attr(feature = \"scale-info\", derive(TypeInfo))]\r\n41  | |     pub struct U256(4);\r\n42  | | }\r\n    | |_^\r\nnote: struct `zksync_basic_types::U256` is defined in crate `primitive_types`\r\n   --> /home/zgy/.cargo/registry/src/github.com-1ecc6299db9ec823/primitive-types-0.12.1/src/lib.rs:38:1\r\n    |\r\n38  | / construct_uint! {\r\n39  | |     /// 256-bit unsigned integer.\r\n40  | |     #[cfg_attr(feature = \"scale-info\", derive(TypeInfo))]\r\n41  | |     pub struct U256(4);\r\n42  | | }\r\n    | |_^\r\n    = note: perhaps two different versions of crate `primitive_types` are being used?\r\nnote: function defined here\r\n   --> /home/zgy/Work/zksync-era/core/lib/utils/src/convert.rs:132:8\r\n    |\r\n132 | pub fn u256_to_h256(num: U256) -> H256 {\r\n    |        ^^^^^^^^^^^^\r\n    = note: this error originates in the macro `$crate::construct_uint` which comes from the expansion of the macro `construct_uint` (in Nightly builds, run with -Z macro-backtrace for more info)\r\n\r\nerror[E0308]: mismatched types\r\n  --> core/lib/types/src/storage/log.rs:70:22\r\n   |\r\n70 |             address: *self.key.address(),\r\n   |                      ^^^^^^^^^^^^^^^^^^^ expected struct `ethereum_types::H160`, found struct `zksync_basic_types::H160`\r\n   |\r\n   = note: struct `zksync_basic_types::H160` and struct `ethereum_types::H160` have similar names, but are actually distinct types\r\nnote: struct `zksync_basic_types::H160` is defined in crate `primitive_types`\r\n  --> /home/zgy/.cargo/registry/src/github.com-1ecc6299db9ec823/primitive-types-0.12.1/src/lib.rs:55:1\r\n   |\r\n55 | / construct_fixed_hash! {\r\n56 | |     /// Fixed-size uninterpreted hash type with 20 bytes (160 bits) size.\r\n57 | |     #[cfg_attr(feature = \"scale-info\", derive(TypeInfo))]\r\n58 | |     pub struct H160(20);\r\n59 | | }\r\n   | |_^\r\nnote: struct `ethereum_types::H160` is defined in crate `primitive_types`\r\n  --> /home/zgy/.cargo/registry/src/github.com-1ecc6299db9ec823/primitive-types-0.10.1/src/lib.rs:55:1\r\n   |\r\n55 | / construct_fixed_hash! {\r\n56 | |     /// Fixed-size uninterpreted hash type with 20 bytes (160 bits) size.\r\n57 | |     #[cfg_attr(feature = \"scale-info\", derive(TypeInfo))]\r\n58 | |     pub struct H160(20);\r\n59 | | }\r\n   | |_^\r\n   = note: perhaps two different versions of crate `primitive_types` are being used?\r\n   = note: this error originates in the macro `construct_fixed_hash` (in Nightly builds, run with -Z macro-backtrace for more info)\r\n\r\nerror[E0308]: mismatched types\r\n  --> core/lib/types/src/storage/log.rs:71:18\r\n   |\r\n71 |             key: U256::from_big_endian(self.key.key().as_bytes()),\r\n   |                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ expected struct `ethereum_types::U256`, found struct `zksync_basic_types::U256`\r\n   |\r\n   = note: struct `zksync_basic_types::U256` and struct `ethereum_types::U256` have similar names, but are actually distinct types\r\nnote: struct `zksync_basic_types::U256` is defined in crate `primitive_types`\r\n  --> /home/zgy/.cargo/registry/src/github.com-1ecc6299db9ec823/primitive-types-0.12.1/src/lib.rs:38:1\r\n   |\r\n38 | / construct_uint! {\r\n39 | |     /// 256-bit unsigned integer.\r\n40 | |     #[cfg_attr(feature = \"scale-info\", derive(TypeInfo))]\r\n41 | |     pub struct U256(4);\r\n42 | | }\r\n   | |_^\r\nnote: struct `ethereum_types::U256` is defined in crate `primitive_types`\r\n  --> /home/zgy/.cargo/registry/src/github.com-1ecc6299db9ec823/primitive-types-0.10.1/src/lib.rs:38:1\r\n   |\r\n38 | / construct_uint! {\r\n39 | |     /// 256-bit unsigned integer.\r\n40 | |     #[cfg_attr(feature = \"scale-info\", derive(TypeInfo))]\r\n41 | |     pub struct U256(4);\r\n42 | | }\r\n   | |_^\r\n   = note: perhaps two different versions of crate `primitive_types` are being used?\r\n   = note: this error originates in the macro `$crate::construct_uint` which comes from the expansion of the macro `construct_uint` (in Nightly builds, run with -Z macro-backtrace for more info)\r\n\r\nerror[E0308]: mismatched types\r\n  --> core/lib/types/src/storage/log.rs:72:13\r\n   |\r\n72 |             read_value,\r\n   |             ^^^^^^^^^^ expected struct `ethereum_types::U256`, found struct `zksync_basic_types::U256`\r\n   |\r\n   = note: struct `zksync_basic_types::U256` and struct `ethereum_types::U256` have similar names, but are actually distinct types\r\nnote: struct `zksync_basic_types::U256` is defined in crate `primitive_types`\r\n  --> /home/zgy/.cargo/registry/src/github.com-1ecc6299db9ec823/primitive-types-0.12.1/src/lib.rs:38:1\r\n   |\r\n38 | / construct_uint! {\r\n39 | |     /// 256-bit unsigned integer.\r\n40 | |     #[cfg_attr(feature = \"scale-info\", derive(TypeInfo))]\r\n41 | |     pub struct U256(4);\r\n42 | | }\r\n   | |_^\r\nnote: struct `ethereum_types::U256` is defined in crate `primitive_types`\r\n  --> /home/zgy/.cargo/registry/src/github.com-1ecc6299db9ec823/primitive-types-0.10.1/src/lib.rs:38:1\r\n   |\r\n38 | / construct_uint! {\r\n39 | |     /// 256-bit unsigned integer.\r\n40 | |     #[cfg_attr(feature = \"scale-info\", derive(TypeInfo))]\r\n41 | |     pub struct U256(4);\r\n42 | | }\r\n   | |_^\r\n   = note: perhaps two different versions of crate `primitive_types` are being used?\r\n   = note: this error originates in the macro `$crate::construct_uint` which comes from the expansion of the macro `construct_uint` (in Nightly builds, run with -Z macro-backtrace for more info)\r\n\r\nerror[E0308]: mismatched types\r\n  --> core/lib/types/src/storage/log.rs:73:13\r\n   |\r\n73 |             written_value,\r\n   |             ^^^^^^^^^^^^^ expected struct `ethereum_types::U256`, found struct `zksync_basic_types::U256`\r\n   |\r\n   = note: struct `zksync_basic_types::U256` and struct `ethereum_types::U256` have similar names, but are actually distinct types\r\nnote: struct `zksync_basic_types::U256` is defined in crate `primitive_types`\r\n  --> /home/zgy/.cargo/registry/src/github.com-1ecc6299db9ec823/primitive-types-0.12.1/src/lib.rs:38:1\r\n   |\r\n38 | / construct_uint! {\r\n39 | |     /// 256-bit unsigned integer.\r\n40 | |     #[cfg_attr(feature = \"scale-info\", derive(TypeInfo))]\r\n41 | |     pub struct U256(4);\r\n42 | | }\r\n   | |_^\r\nnote: struct `ethereum_types::U256` is defined in crate `primitive_types`\r\n  --> /home/zgy/.cargo/registry/src/github.com-1ecc6299db9ec823/primitive-types-0.10.1/src/lib.rs:38:1\r\n   |\r\n38 | / construct_uint! {\r\n39 | |     /// 256-bit unsigned integer.\r\n40 | |     #[cfg_attr(feature = \"scale-info\", derive(TypeInfo))]\r\n41 | |     pub struct U256(4);\r\n42 | | }\r\n   | |_^\r\n   = note: perhaps two different versions of crate `primitive_types` are being used?\r\n   = note: this error originates in the macro `$crate::construct_uint` which comes from the expansion of the macro `construct_uint` (in Nightly builds, run with -Z macro-backtrace for more info)\r\n\r\nerror[E0308]: mismatched types\r\n  --> core/lib/types/src/storage_writes_deduplicator.rs:66:36\r\n   |\r\n66 |                 AccountTreeId::new(log.log_query.address),\r\n   |                 ------------------ ^^^^^^^^^^^^^^^^^^^^^ expected struct `zksync_basic_types::H160`, found struct `ethereum_types::H160`\r\n   |                 |\r\n   |                 arguments to this function are incorrect\r\n   |\r\n   = note: struct `ethereum_types::H160` and struct `zksync_basic_types::H160` have similar names, but are actually distinct types\r\nnote: struct `ethereum_types::H160` is defined in crate `primitive_types`\r\n  --> /home/zgy/.cargo/registry/src/github.com-1ecc6299db9ec823/primitive-types-0.10.1/src/lib.rs:55:1\r\n   |\r\n55 | / construct_fixed_hash! {\r\n56 | |     /// Fixed-size uninterpreted hash type with 20 bytes (160 bits) size.\r\n57 | |     #[cfg_attr(feature = \"scale-info\", derive(TypeInfo))]\r\n58 | |     pub struct H160(20);\r\n59 | | }\r\n   | |_^\r\nnote: struct `zksync_basic_types::H160` is defined in crate `primitive_types`\r\n  --> /home/zgy/.cargo/registry/src/github.com-1ecc6299db9ec823/primitive-types-0.12.1/src/lib.rs:55:1\r\n   |\r\n55 | / construct_fixed_hash! {\r\n56 | |     /// Fixed-size uninterpreted hash type with 20 bytes (160 bits) size.\r\n57 | |     #[cfg_attr(feature = \"scale-info\", derive(TypeInfo))]\r\n58 | |     pub struct H160(20);\r\n59 | | }\r\n   | |_^\r\n   = note: perhaps two different versions of crate `primitive_types` are being used?\r\nnote: associated function defined here\r\n  --> /home/zgy/Work/zksync-era/core/lib/basic_types/src/lib.rs:31:12\r\n   |\r\n31 |     pub fn new(address: Address) -> Self {\r\n   |            ^^^\r\n   = note: this error originates in the macro `construct_fixed_hash` (in Nightly builds, run with -Z macro-backtrace for more info)\r\n\r\nerror[E0308]: mismatched types\r\n   --> core/lib/types/src/storage_writes_deduplicator.rs:67:30\r\n    |\r\n67  |                 u256_to_h256(log.log_query.key),\r\n    |                 ------------ ^^^^^^^^^^^^^^^^^ expected struct `zksync_basic_types::U256`, found struct `ethereum_types::U256`\r\n    |                 |\r\n    |                 arguments to this function are incorrect\r\n    |\r\n    = note: struct `ethereum_types::U256` and struct `zksync_basic_types::U256` have similar names, but are actually distinct types\r\nnote: struct `ethereum_types::U256` is defined in crate `primitive_types`\r\n   --> /home/zgy/.cargo/registry/src/github.com-1ecc6299db9ec823/primitive-types-0.10.1/src/lib.rs:38:1\r\n    |\r\n38  | / construct_uint! {\r\n39  | |     /// 256-bit unsigned integer.\r\n40  | |     #[cfg_attr(feature = \"scale-info\", derive(TypeInfo))]\r\n41  | |     pub struct U256(4);\r\n42  | | }\r\n    | |_^\r\nnote: struct `zksync_basic_types::U256` is defined in crate `primitive_types`\r\n   --> /home/zgy/.cargo/registry/src/github.com-1ecc6299db9ec823/primitive-types-0.12.1/src/lib.rs:38:1\r\n    |\r\n38  | / construct_uint! {\r\n39  | |     /// 256-bit unsigned integer.\r\n40  | |     #[cfg_attr(feature = \"scale-info\", derive(TypeInfo))]\r\n41  | |     pub struct U256(4);\r\n42  | | }\r\n    | |_^\r\n    = note: perhaps two different versions of crate `primitive_types` are being used?\r\nnote: function defined here\r\n   --> /home/zgy/Work/zksync-era/core/lib/utils/src/convert.rs:132:8\r\n    |\r\n132 | pub fn u256_to_h256(num: U256) -> H256 {\r\n    |        ^^^^^^^^^^^^\r\n    = note: this error originates in the macro `$crate::construct_uint` which comes from the expansion of the macro `construct_uint` (in Nightly builds, run with -Z macro-backtrace for more info)\r\n\r\nerror[E0308]: mismatched types\r\n    --> core/lib/types/src/storage_writes_deduplicator.rs:72:28\r\n     |\r\n72   |                 .or_insert(log.log_query.read_value);\r\n     |                  --------- ^^^^^^^^^^^^^^^^^^^^^^^^ expected struct `zksync_basic_types::U256`, found struct `ethereum_types::U256`\r\n     |                  |\r\n     |                  arguments to this function are incorrect\r\n     |\r\n     = note: struct `ethereum_types::U256` and struct `zksync_basic_types::U256` have similar names, but are actually distinct types\r\nnote: struct `ethereum_types::U256` is defined in crate `primitive_types`\r\n    --> /home/zgy/.cargo/registry/src/github.com-1ecc6299db9ec823/primitive-types-0.10.1/src/lib.rs:38:1\r\n     |\r\n38   | / construct_uint! {\r\n39   | |     /// 256-bit unsigned integer.\r\n40   | |     #[cfg_attr(feature = \"scale-info\", derive(TypeInfo))]\r\n41   | |     pub struct U256(4);\r\n42   | | }\r\n     | |_^\r\nnote: struct `zksync_basic_types::U256` is defined in crate `primitive_types`\r\n    --> /home/zgy/.cargo/registry/src/github.com-1ecc6299db9ec823/primitive-types-0.12.1/src/lib.rs:38:1\r\n     |\r\n38   | / construct_uint! {\r\n39   | |     /// 256-bit unsigned integer.\r\n40   | |     #[cfg_attr(feature = \"scale-info\", derive(TypeInfo))]\r\n41   | |     pub struct U256(4);\r\n42   | | }\r\n     | |_^\r\n     = note: perhaps two different versions of crate `primitive_types` are being used?\r\nnote: associated function defined here\r\n    --> /home/zgy/.rustup/toolchains/1.67.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/std/src/collections/hash/map.rs:2532:12\r\n     |\r\n2532 |     pub fn or_insert(self, default: V) -> &'a mut V {\r\n     |            ^^^^^^^^^\r\n     = note: this error originates in the macro `$crate::construct_uint` which comes from the expansion of the macro `construct_uint` (in Nightly builds, run with -Z macro-backtrace for more info)\r\n\r\nerror[E0308]: mismatched types\r\n  --> core/lib/types/src/storage_writes_deduplicator.rs:76:34\r\n   |\r\n76 |                 initial_value != log.log_query.read_value\r\n   |                                  ^^^^^^^^^^^^^^^^^^^^^^^^ expected struct `zksync_basic_types::U256`, found struct `ethereum_types::U256`\r\n   |\r\n   = note: struct `ethereum_types::U256` and struct `zksync_basic_types::U256` have similar names, but are actually distinct types\r\nnote: struct `ethereum_types::U256` is defined in crate `primitive_types`\r\n  --> /home/zgy/.cargo/registry/src/github.com-1ecc6299db9ec823/primitive-types-0.10.1/src/lib.rs:38:1\r\n   |\r\n38 | / construct_uint! {\r\n39 | |     /// 256-bit unsigned integer.\r\n40 | |     #[cfg_attr(feature = \"scale-info\", derive(TypeInfo))]\r\n41 | |     pub struct U256(4);\r\n42 | | }\r\n   | |_^\r\nnote: struct `zksync_basic_types::U256` is defined in crate `primitive_types`\r\n  --> /home/zgy/.cargo/registry/src/github.com-1ecc6299db9ec823/primitive-types-0.12.1/src/lib.rs:38:1\r\n   |\r\n38 | / construct_uint! {\r\n39 | |     /// 256-bit unsigned integer.\r\n40 | |     #[cfg_attr(feature = \"scale-info\", derive(TypeInfo))]\r\n41 | |     pub struct U256(4);\r\n42 | | }\r\n   | |_^\r\n   = note: perhaps two different versions of crate `primitive_types` are being used?\r\n   = note: this error originates in the macro `$crate::construct_uint` which comes from the expansion of the macro `construct_uint` (in Nightly builds, run with -Z macro-backtrace for more info)\r\n\r\nerror[E0308]: mismatched types\r\n  --> core/lib/types/src/storage_writes_deduplicator.rs:78:34\r\n   |\r\n78 |                 initial_value != log.log_query.written_value\r\n   |                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^ expected struct `zksync_basic_types::U256`, found struct `ethereum_types::U256`\r\n   |\r\n   = note: struct `ethereum_types::U256` and struct `zksync_basic_types::U256` have similar names, but are actually distinct types\r\nnote: struct `ethereum_types::U256` is defined in crate `primitive_types`\r\n  --> /home/zgy/.cargo/registry/src/github.com-1ecc6299db9ec823/primitive-types-0.10.1/src/lib.rs:38:1\r\n   |\r\n38 | / construct_uint! {\r\n39 | |     /// 256-bit unsigned integer.\r\n40 | |     #[cfg_attr(feature = \"scale-info\", derive(TypeInfo))]\r\n41 | |     pub struct U256(4);\r\n42 | | }\r\n   | |_^\r\nnote: struct `zksync_basic_types::U256` is defined in crate `primitive_types`\r\n  --> /home/zgy/.cargo/registry/src/github.com-1ecc6299db9ec823/primitive-types-0.12.1/src/lib.rs:38:1\r\n   |\r\n38 | / construct_uint! {\r\n39 | |     /// 256-bit unsigned integer.\r\n40 | |     #[cfg_attr(feature = \"scale-info\", derive(TypeInfo))]\r\n41 | |     pub struct U256(4);\r\n42 | | }\r\n   | |_^\r\n   = note: perhaps two different versions of crate `primitive_types` are being used?\r\n   = note: this error originates in the macro `$crate::construct_uint` which comes from the expansion of the macro `construct_uint` (in Nightly builds, run with -Z macro-backtrace for more info)\r\n\r\nFor more information about this error, try `rustc --explain E0308`.\r\nerror: could not compile `zksync_types` due to 17 previous errors\r\n```\r\n\r\nCommit: https://github.com/matter-labs/zksync-era/commit/f915a4050da452c02e1c4779cd1307238c499fab",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/matter-labs/zksync-era/issues/81/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/matter-labs/zksync-era/issues/81/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[

]
