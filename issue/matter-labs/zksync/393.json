{
  "url": "https://api.github.com/repos/matter-labs/zksync/issues/393",
  "repository_url": "https://api.github.com/repos/matter-labs/zksync",
  "labels_url": "https://api.github.com/repos/matter-labs/zksync/issues/393/labels{/name}",
  "comments_url": "https://api.github.com/repos/matter-labs/zksync/issues/393/comments",
  "events_url": "https://api.github.com/repos/matter-labs/zksync/issues/393/events",
  "html_url": "https://github.com/matter-labs/zksync/issues/393",
  "id": 1349726255,
  "node_id": "I_kwDOC0aUls5QczAv",
  "number": 393,
  "title": "Multi Party Signatures and zkSync",
  "user": {
    "login": "lauhon",
    "id": 46261860,
    "node_id": "MDQ6VXNlcjQ2MjYxODYw",
    "avatar_url": "https://avatars.githubusercontent.com/u/46261860?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/lauhon",
    "html_url": "https://github.com/lauhon",
    "followers_url": "https://api.github.com/users/lauhon/followers",
    "following_url": "https://api.github.com/users/lauhon/following{/other_user}",
    "gists_url": "https://api.github.com/users/lauhon/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/lauhon/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/lauhon/subscriptions",
    "organizations_url": "https://api.github.com/users/lauhon/orgs",
    "repos_url": "https://api.github.com/users/lauhon/repos",
    "events_url": "https://api.github.com/users/lauhon/events{/privacy}",
    "received_events_url": "https://api.github.com/users/lauhon/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2022-08-24T16:26:19Z",
  "updated_at": "2022-12-01T08:07:02Z",
  "closed_at": "2022-11-30T19:53:08Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "I am building an Application that relies on Multi Party Signatures for security reasons.\r\n\r\nIn short, it means that there is no single private Key in memory or elsewhere. Transactions are signed over a protocol of messages between multiple parties which each hold their _share_ of a key. This is pretty secure since no one can simply steal the private key or read it from the memory of a device or browser. (They would have to steal every party's share)\r\n\r\nNow, I'm interested in finding the best way of using Multi Party Signatures in combination with zKSync while keeping the same level of security.\r\n\r\nIt is easily possible to create a zk-signer from my multi-party signer by - for example in javascript - creating a custom signer with the same interface as `ethers.signer` and then use `fromEthSigner` to create a new zkSync Wallet. So far so good.\r\n\r\nMy concern now is, that when the zk-signer is derived from my Multi Party signature there is a new private key which is a single point that can be compromised. A bad actor could theoretically steal everything the user has already deposited into his/her zksync account if he/she gets hold of the zk-signer private key.\r\n\r\nSo either I got the implications of using zkSync wrong or I'm going to have to lower my application's level of security to be able to use zksync.\r\n\r\nWhat would fix this is a possibility to override the sign methods of the zk-signer. Like that it would be possible to also use multi-party-signatures at the zk level.\r\n\r\nIs something like that possible, or is there experience regarding zk-sync together with multi-party-signatures?",
  "closed_by": {
    "login": "bxpana",
    "id": 42230936,
    "node_id": "MDQ6VXNlcjQyMjMwOTM2",
    "avatar_url": "https://avatars.githubusercontent.com/u/42230936?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/bxpana",
    "html_url": "https://github.com/bxpana",
    "followers_url": "https://api.github.com/users/bxpana/followers",
    "following_url": "https://api.github.com/users/bxpana/following{/other_user}",
    "gists_url": "https://api.github.com/users/bxpana/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/bxpana/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/bxpana/subscriptions",
    "organizations_url": "https://api.github.com/users/bxpana/orgs",
    "repos_url": "https://api.github.com/users/bxpana/repos",
    "events_url": "https://api.github.com/users/bxpana/events{/privacy}",
    "received_events_url": "https://api.github.com/users/bxpana/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/matter-labs/zksync/issues/393/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/matter-labs/zksync/issues/393/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/matter-labs/zksync/issues/comments/1225972799",
    "html_url": "https://github.com/matter-labs/zksync/issues/393#issuecomment-1225972799",
    "issue_url": "https://api.github.com/repos/matter-labs/zksync/issues/393",
    "id": 1225972799,
    "node_id": "IC_kwDOC0aUls5JEtw_",
    "user": {
      "login": "lauhon",
      "id": 46261860,
      "node_id": "MDQ6VXNlcjQ2MjYxODYw",
      "avatar_url": "https://avatars.githubusercontent.com/u/46261860?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lauhon",
      "html_url": "https://github.com/lauhon",
      "followers_url": "https://api.github.com/users/lauhon/followers",
      "following_url": "https://api.github.com/users/lauhon/following{/other_user}",
      "gists_url": "https://api.github.com/users/lauhon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lauhon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lauhon/subscriptions",
      "organizations_url": "https://api.github.com/users/lauhon/orgs",
      "repos_url": "https://api.github.com/users/lauhon/repos",
      "events_url": "https://api.github.com/users/lauhon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lauhon/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-24T16:40:53Z",
    "updated_at": "2022-08-24T16:40:53Z",
    "author_association": "NONE",
    "body": "Afterthought:\r\nIn the documentation of [tx_submit](https://docs.zksync.io/api/v0.1/#tx-submit) it says that its possible to send an optional `ethereumSignature`. This `ethereumSignature`is something that would be signed by my Multi-Party process. Which seems to solve my Issue. \r\n\r\nBut the parameter is optional, what happens if it will not be passed along, is the transaction still valid?\r\n\r\nIf the transaction is invalid in that case my Issue is obsolete. If it the transaction would still be accepted, it remains.",
    "reactions": {
      "url": "https://api.github.com/repos/matter-labs/zksync/issues/comments/1225972799/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/matter-labs/zksync/issues/comments/1233547247",
    "html_url": "https://github.com/matter-labs/zksync/issues/393#issuecomment-1233547247",
    "issue_url": "https://api.github.com/repos/matter-labs/zksync/issues/393",
    "id": 1233547247,
    "node_id": "IC_kwDOC0aUls5Jhm_v",
    "user": {
      "login": "bxpana",
      "id": 42230936,
      "node_id": "MDQ6VXNlcjQyMjMwOTM2",
      "avatar_url": "https://avatars.githubusercontent.com/u/42230936?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bxpana",
      "html_url": "https://github.com/bxpana",
      "followers_url": "https://api.github.com/users/bxpana/followers",
      "following_url": "https://api.github.com/users/bxpana/following{/other_user}",
      "gists_url": "https://api.github.com/users/bxpana/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bxpana/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bxpana/subscriptions",
      "organizations_url": "https://api.github.com/users/bxpana/orgs",
      "repos_url": "https://api.github.com/users/bxpana/repos",
      "events_url": "https://api.github.com/users/bxpana/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bxpana/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-31T23:25:16Z",
    "updated_at": "2022-08-31T23:25:16Z",
    "author_association": "NONE",
    "body": "@lauhon I'll see if I can get more information for you, but there may be a delay as our team is focused on zkSync 2.0 mainnet. I'll let you know when I have more information.",
    "reactions": {
      "url": "https://api.github.com/repos/matter-labs/zksync/issues/comments/1233547247/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/matter-labs/zksync/issues/comments/1332666492",
    "html_url": "https://github.com/matter-labs/zksync/issues/393#issuecomment-1332666492",
    "issue_url": "https://api.github.com/repos/matter-labs/zksync/issues/393",
    "id": 1332666492,
    "node_id": "IC_kwDOC0aUls5PbuB8",
    "user": {
      "login": "bxpana",
      "id": 42230936,
      "node_id": "MDQ6VXNlcjQyMjMwOTM2",
      "avatar_url": "https://avatars.githubusercontent.com/u/42230936?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bxpana",
      "html_url": "https://github.com/bxpana",
      "followers_url": "https://api.github.com/users/bxpana/followers",
      "following_url": "https://api.github.com/users/bxpana/following{/other_user}",
      "gists_url": "https://api.github.com/users/bxpana/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bxpana/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bxpana/subscriptions",
      "organizations_url": "https://api.github.com/users/bxpana/orgs",
      "repos_url": "https://api.github.com/users/bxpana/repos",
      "events_url": "https://api.github.com/users/bxpana/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bxpana/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-11-30T19:53:08Z",
    "updated_at": "2022-11-30T19:53:08Z",
    "author_association": "NONE",
    "body": "@lauhon `ethereumSignature` is an additional security measure (think like 2FA) which is used to increase the overall security of an account — to send a transaction, transaction has to be signed by both L1 and L2 private keys. This is not related to the multi-party signature.\r\n\r\nThat being said, zkSync does support N-of-N multisignatures natively. For additional info pleace check this repo: https://github.com/matter-labs/schnorr-musig",
    "reactions": {
      "url": "https://api.github.com/repos/matter-labs/zksync/issues/comments/1332666492/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/matter-labs/zksync/issues/comments/1333369112",
    "html_url": "https://github.com/matter-labs/zksync/issues/393#issuecomment-1333369112",
    "issue_url": "https://api.github.com/repos/matter-labs/zksync/issues/393",
    "id": 1333369112,
    "node_id": "IC_kwDOC0aUls5PeZkY",
    "user": {
      "login": "lauhon",
      "id": 46261860,
      "node_id": "MDQ6VXNlcjQ2MjYxODYw",
      "avatar_url": "https://avatars.githubusercontent.com/u/46261860?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lauhon",
      "html_url": "https://github.com/lauhon",
      "followers_url": "https://api.github.com/users/lauhon/followers",
      "following_url": "https://api.github.com/users/lauhon/following{/other_user}",
      "gists_url": "https://api.github.com/users/lauhon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lauhon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lauhon/subscriptions",
      "organizations_url": "https://api.github.com/users/lauhon/orgs",
      "repos_url": "https://api.github.com/users/lauhon/repos",
      "events_url": "https://api.github.com/users/lauhon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lauhon/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-12-01T08:07:02Z",
    "updated_at": "2022-12-01T08:07:02Z",
    "author_association": "NONE",
    "body": "Thanks coming back with the information! ",
    "reactions": {
      "url": "https://api.github.com/repos/matter-labs/zksync/issues/comments/1333369112/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
