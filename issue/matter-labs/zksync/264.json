{
  "url": "https://api.github.com/repos/matter-labs/zksync/issues/264",
  "repository_url": "https://api.github.com/repos/matter-labs/zksync",
  "labels_url": "https://api.github.com/repos/matter-labs/zksync/issues/264/labels{/name}",
  "comments_url": "https://api.github.com/repos/matter-labs/zksync/issues/264/comments",
  "events_url": "https://api.github.com/repos/matter-labs/zksync/issues/264/events",
  "html_url": "https://github.com/matter-labs/zksync/issues/264",
  "id": 766737761,
  "node_id": "MDU6SXNzdWU3NjY3Mzc3NjE=",
  "number": 264,
  "title": "requires an ERC20 approve() (and gas) even when a previous one was sufficient",
  "user": {
    "login": "aspiers",
    "id": 100738,
    "node_id": "MDQ6VXNlcjEwMDczOA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/100738?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/aspiers",
    "html_url": "https://github.com/aspiers",
    "followers_url": "https://api.github.com/users/aspiers/followers",
    "following_url": "https://api.github.com/users/aspiers/following{/other_user}",
    "gists_url": "https://api.github.com/users/aspiers/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/aspiers/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/aspiers/subscriptions",
    "organizations_url": "https://api.github.com/users/aspiers/orgs",
    "repos_url": "https://api.github.com/users/aspiers/repos",
    "events_url": "https://api.github.com/users/aspiers/events{/privacy}",
    "received_events_url": "https://api.github.com/users/aspiers/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "open",
  "locked": false,
  "assignee": {
    "login": "StanislavBreadless",
    "id": 52464764,
    "node_id": "MDQ6VXNlcjUyNDY0NzY0",
    "avatar_url": "https://avatars.githubusercontent.com/u/52464764?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/StanislavBreadless",
    "html_url": "https://github.com/StanislavBreadless",
    "followers_url": "https://api.github.com/users/StanislavBreadless/followers",
    "following_url": "https://api.github.com/users/StanislavBreadless/following{/other_user}",
    "gists_url": "https://api.github.com/users/StanislavBreadless/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/StanislavBreadless/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/StanislavBreadless/subscriptions",
    "organizations_url": "https://api.github.com/users/StanislavBreadless/orgs",
    "repos_url": "https://api.github.com/users/StanislavBreadless/repos",
    "events_url": "https://api.github.com/users/StanislavBreadless/events{/privacy}",
    "received_events_url": "https://api.github.com/users/StanislavBreadless/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "StanislavBreadless",
      "id": 52464764,
      "node_id": "MDQ6VXNlcjUyNDY0NzY0",
      "avatar_url": "https://avatars.githubusercontent.com/u/52464764?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/StanislavBreadless",
      "html_url": "https://github.com/StanislavBreadless",
      "followers_url": "https://api.github.com/users/StanislavBreadless/followers",
      "following_url": "https://api.github.com/users/StanislavBreadless/following{/other_user}",
      "gists_url": "https://api.github.com/users/StanislavBreadless/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/StanislavBreadless/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/StanislavBreadless/subscriptions",
      "organizations_url": "https://api.github.com/users/StanislavBreadless/orgs",
      "repos_url": "https://api.github.com/users/StanislavBreadless/repos",
      "events_url": "https://api.github.com/users/StanislavBreadless/events{/privacy}",
      "received_events_url": "https://api.github.com/users/StanislavBreadless/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 16,
  "created_at": "2020-12-14T17:18:43Z",
  "updated_at": "2023-01-29T18:28:24Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "I'm trying to use zkSync to pay for some Gitcoin grant donations.  I didn't have enough DAI in my zkSync wallet so I tried to deposit some via the zkSync popup from the https://gitcoin.co/grants/cart workflow.  The first `approve()` transaction was taking too long so I asked Metamask to speed it up.  It succeeded, but then the zkSync interface didn't notice.\r\n\r\nI thought OK, instead of paying more gas fees for another redundant `approve()`, I should be able to reuse the previous one if I go directly to https://wallet.zksync.io/deposit.  But apparently I cannot deposit any more without first clicking the `Unlock` toggle, and that requires performing another `approve()` transaction.\r\n\r\nGiven that ERC20 defines a read-only `allowance(address owner, address spender) â†’ uint256` call to determine how much allowance is remaining, it should be easy to use this to determine the maximum deposit which can be made without requiring a further `approve()`.  In fact, from a quick glance at your codebase it seems that [your wallet code already has an `isERC20DepositsApproved()` function defined](https://github.com/matter-labs/zksync/blob/5b936b1855a08033cca7f75d6f87fde106c6e8fd/sdk/zksync.js/src/wallet.ts#L537), but the only code in the repository which uses that is unit tests.  So maybe it's a simple case of wiring that up to the wallet frontend?",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/matter-labs/zksync/issues/264/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/matter-labs/zksync/issues/264/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/matter-labs/zksync/issues/comments/745101315",
    "html_url": "https://github.com/matter-labs/zksync/issues/264#issuecomment-745101315",
    "issue_url": "https://api.github.com/repos/matter-labs/zksync/issues/264",
    "id": 745101315,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc0NTEwMTMxNQ==",
    "user": {
      "login": "StanislavBreadless",
      "id": 52464764,
      "node_id": "MDQ6VXNlcjUyNDY0NzY0",
      "avatar_url": "https://avatars.githubusercontent.com/u/52464764?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/StanislavBreadless",
      "html_url": "https://github.com/StanislavBreadless",
      "followers_url": "https://api.github.com/users/StanislavBreadless/followers",
      "following_url": "https://api.github.com/users/StanislavBreadless/following{/other_user}",
      "gists_url": "https://api.github.com/users/StanislavBreadless/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/StanislavBreadless/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/StanislavBreadless/subscriptions",
      "organizations_url": "https://api.github.com/users/StanislavBreadless/orgs",
      "repos_url": "https://api.github.com/users/StanislavBreadless/repos",
      "events_url": "https://api.github.com/users/StanislavBreadless/events{/privacy}",
      "received_events_url": "https://api.github.com/users/StanislavBreadless/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-12-15T07:11:05Z",
    "updated_at": "2020-12-15T07:11:58Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hi! Could you please provide the following information:\r\n\r\n- Browser that your are using.\r\n- Wallet (e.g. Metamask, Trust Wallet, etc).\r\n- Your account address (tx hash of the approval transaction would be even better). It will be used to check if the allowance was indeed approved.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/matter-labs/zksync/issues/comments/745101315/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/matter-labs/zksync/issues/comments/745166583",
    "html_url": "https://github.com/matter-labs/zksync/issues/264#issuecomment-745166583",
    "issue_url": "https://api.github.com/repos/matter-labs/zksync/issues/264",
    "id": 745166583,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc0NTE2NjU4Mw==",
    "user": {
      "login": "aspiers",
      "id": 100738,
      "node_id": "MDQ6VXNlcjEwMDczOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/100738?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aspiers",
      "html_url": "https://github.com/aspiers",
      "followers_url": "https://api.github.com/users/aspiers/followers",
      "following_url": "https://api.github.com/users/aspiers/following{/other_user}",
      "gists_url": "https://api.github.com/users/aspiers/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aspiers/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aspiers/subscriptions",
      "organizations_url": "https://api.github.com/users/aspiers/orgs",
      "repos_url": "https://api.github.com/users/aspiers/repos",
      "events_url": "https://api.github.com/users/aspiers/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aspiers/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-12-15T09:30:27Z",
    "updated_at": "2020-12-15T09:30:27Z",
    "author_association": "NONE",
    "body": "I was using Brave with Metamask.  Here are the two approvals:\r\n\r\n- https://etherscan.io/tx/0xcad20af7d516969ea7804f0d5ea555e4ee9c374680e9fb9197098cb87027cbca\r\n- https://etherscan.io/tx/0x0f951423860c8f841ff3a787e780483a698cc17c80cd5ad8c19a394e6c682ea6",
    "reactions": {
      "url": "https://api.github.com/repos/matter-labs/zksync/issues/comments/745166583/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/matter-labs/zksync/issues/comments/746006691",
    "html_url": "https://github.com/matter-labs/zksync/issues/264#issuecomment-746006691",
    "issue_url": "https://api.github.com/repos/matter-labs/zksync/issues/264",
    "id": 746006691,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc0NjAwNjY5MQ==",
    "user": {
      "login": "StanislavBreadless",
      "id": 52464764,
      "node_id": "MDQ6VXNlcjUyNDY0NzY0",
      "avatar_url": "https://avatars.githubusercontent.com/u/52464764?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/StanislavBreadless",
      "html_url": "https://github.com/StanislavBreadless",
      "followers_url": "https://api.github.com/users/StanislavBreadless/followers",
      "following_url": "https://api.github.com/users/StanislavBreadless/following{/other_user}",
      "gists_url": "https://api.github.com/users/StanislavBreadless/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/StanislavBreadless/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/StanislavBreadless/subscriptions",
      "organizations_url": "https://api.github.com/users/StanislavBreadless/orgs",
      "repos_url": "https://api.github.com/users/StanislavBreadless/repos",
      "events_url": "https://api.github.com/users/StanislavBreadless/events{/privacy}",
      "received_events_url": "https://api.github.com/users/StanislavBreadless/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-12-16T09:50:53Z",
    "updated_at": "2020-12-16T09:51:24Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hi! Sorry for the late response.\r\n\r\nDid you approve the allowance manually? \r\n\r\nThe transactions give zkSync allowance for 100 DAI, which is not the default behavior by either checkout or zkSync wallet. By default, they give allowance of `2^256 - 1`. \r\n\r\nUnfortunately now, both the wallet and the checkout pages will check if your allowance is at least `2^255`.\r\n ",
    "reactions": {
      "url": "https://api.github.com/repos/matter-labs/zksync/issues/comments/746006691/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/matter-labs/zksync/issues/comments/746025516",
    "html_url": "https://github.com/matter-labs/zksync/issues/264#issuecomment-746025516",
    "issue_url": "https://api.github.com/repos/matter-labs/zksync/issues/264",
    "id": 746025516,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc0NjAyNTUxNg==",
    "user": {
      "login": "aspiers",
      "id": 100738,
      "node_id": "MDQ6VXNlcjEwMDczOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/100738?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aspiers",
      "html_url": "https://github.com/aspiers",
      "followers_url": "https://api.github.com/users/aspiers/followers",
      "following_url": "https://api.github.com/users/aspiers/following{/other_user}",
      "gists_url": "https://api.github.com/users/aspiers/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aspiers/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aspiers/subscriptions",
      "organizations_url": "https://api.github.com/users/aspiers/orgs",
      "repos_url": "https://api.github.com/users/aspiers/repos",
      "events_url": "https://api.github.com/users/aspiers/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aspiers/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-12-16T10:06:57Z",
    "updated_at": "2020-12-16T10:06:57Z",
    "author_association": "NONE",
    "body": "I used MetaMask and when the popup for the approve() appeared, I went to advanced options and changed the allowance from unlimited to 100 DAI because I don't want to have to trust any third-party with all the DAI in my wallet.  This should work fine.  Why do the wallet and checkout pages check the allowance against `2^255` rather than against the required amount?  It sounds like this is a sister bug of #265.",
    "reactions": {
      "url": "https://api.github.com/repos/matter-labs/zksync/issues/comments/746025516/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/matter-labs/zksync/issues/comments/746044889",
    "html_url": "https://github.com/matter-labs/zksync/issues/264#issuecomment-746044889",
    "issue_url": "https://api.github.com/repos/matter-labs/zksync/issues/264",
    "id": 746044889,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc0NjA0NDg4OQ==",
    "user": {
      "login": "StanislavBreadless",
      "id": 52464764,
      "node_id": "MDQ6VXNlcjUyNDY0NzY0",
      "avatar_url": "https://avatars.githubusercontent.com/u/52464764?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/StanislavBreadless",
      "html_url": "https://github.com/StanislavBreadless",
      "followers_url": "https://api.github.com/users/StanislavBreadless/followers",
      "following_url": "https://api.github.com/users/StanislavBreadless/following{/other_user}",
      "gists_url": "https://api.github.com/users/StanislavBreadless/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/StanislavBreadless/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/StanislavBreadless/subscriptions",
      "organizations_url": "https://api.github.com/users/StanislavBreadless/orgs",
      "repos_url": "https://api.github.com/users/StanislavBreadless/repos",
      "events_url": "https://api.github.com/users/StanislavBreadless/events{/privacy}",
      "received_events_url": "https://api.github.com/users/StanislavBreadless/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-12-16T10:21:58Z",
    "updated_at": "2020-12-16T10:21:58Z",
    "author_association": "CONTRIBUTOR",
    "body": "We agree that this is an important feature. We are working on it. Stay tuned!",
    "reactions": {
      "url": "https://api.github.com/repos/matter-labs/zksync/issues/comments/746044889/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/matter-labs/zksync/issues/comments/746218696",
    "html_url": "https://github.com/matter-labs/zksync/issues/264#issuecomment-746218696",
    "issue_url": "https://api.github.com/repos/matter-labs/zksync/issues/264",
    "id": 746218696,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc0NjIxODY5Ng==",
    "user": {
      "login": "aspiers",
      "id": 100738,
      "node_id": "MDQ6VXNlcjEwMDczOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/100738?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aspiers",
      "html_url": "https://github.com/aspiers",
      "followers_url": "https://api.github.com/users/aspiers/followers",
      "following_url": "https://api.github.com/users/aspiers/following{/other_user}",
      "gists_url": "https://api.github.com/users/aspiers/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aspiers/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aspiers/subscriptions",
      "organizations_url": "https://api.github.com/users/aspiers/orgs",
      "repos_url": "https://api.github.com/users/aspiers/repos",
      "events_url": "https://api.github.com/users/aspiers/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aspiers/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-12-16T12:31:32Z",
    "updated_at": "2020-12-16T12:31:32Z",
    "author_association": "NONE",
    "body": "Excellent, many thanks!",
    "reactions": {
      "url": "https://api.github.com/repos/matter-labs/zksync/issues/comments/746218696/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/matter-labs/zksync/issues/comments/793608344",
    "html_url": "https://github.com/matter-labs/zksync/issues/264#issuecomment-793608344",
    "issue_url": "https://api.github.com/repos/matter-labs/zksync/issues/264",
    "id": 793608344,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc5MzYwODM0NA==",
    "user": {
      "login": "spartucus",
      "id": 6071887,
      "node_id": "MDQ6VXNlcjYwNzE4ODc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6071887?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/spartucus",
      "html_url": "https://github.com/spartucus",
      "followers_url": "https://api.github.com/users/spartucus/followers",
      "following_url": "https://api.github.com/users/spartucus/following{/other_user}",
      "gists_url": "https://api.github.com/users/spartucus/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/spartucus/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/spartucus/subscriptions",
      "organizations_url": "https://api.github.com/users/spartucus/orgs",
      "repos_url": "https://api.github.com/users/spartucus/repos",
      "events_url": "https://api.github.com/users/spartucus/events{/privacy}",
      "received_events_url": "https://api.github.com/users/spartucus/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-09T09:24:10Z",
    "updated_at": "2021-03-09T09:24:10Z",
    "author_association": "NONE",
    "body": "Any updates on this?",
    "reactions": {
      "url": "https://api.github.com/repos/matter-labs/zksync/issues/comments/793608344/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/matter-labs/zksync/issues/comments/794945152",
    "html_url": "https://github.com/matter-labs/zksync/issues/264#issuecomment-794945152",
    "issue_url": "https://api.github.com/repos/matter-labs/zksync/issues/264",
    "id": 794945152,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc5NDk0NTE1Mg==",
    "user": {
      "login": "StanislavBreadless",
      "id": 52464764,
      "node_id": "MDQ6VXNlcjUyNDY0NzY0",
      "avatar_url": "https://avatars.githubusercontent.com/u/52464764?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/StanislavBreadless",
      "html_url": "https://github.com/StanislavBreadless",
      "followers_url": "https://api.github.com/users/StanislavBreadless/followers",
      "following_url": "https://api.github.com/users/StanislavBreadless/following{/other_user}",
      "gists_url": "https://api.github.com/users/StanislavBreadless/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/StanislavBreadless/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/StanislavBreadless/subscriptions",
      "organizations_url": "https://api.github.com/users/StanislavBreadless/orgs",
      "repos_url": "https://api.github.com/users/StanislavBreadless/repos",
      "events_url": "https://api.github.com/users/StanislavBreadless/events{/privacy}",
      "received_events_url": "https://api.github.com/users/StanislavBreadless/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-10T06:13:14Z",
    "updated_at": "2021-03-10T06:13:14Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hey @spartucus! Our team has shipped two contract upgrades: v4 which allowed much cheaper transactions and v5 (which will allow [permissionless token listing](https://twitter.com/zksync/status/1365437131162857474)). \r\n\r\nOur team was very busy developing the new features, so we did not have enough time to implement the solution to the issue yet. But allowing ERC20 approve() of the exact size needed is on our roadmap and we will implement it later.",
    "reactions": {
      "url": "https://api.github.com/repos/matter-labs/zksync/issues/comments/794945152/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/matter-labs/zksync/issues/comments/795010053",
    "html_url": "https://github.com/matter-labs/zksync/issues/264#issuecomment-795010053",
    "issue_url": "https://api.github.com/repos/matter-labs/zksync/issues/264",
    "id": 795010053,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc5NTAxMDA1Mw==",
    "user": {
      "login": "spartucus",
      "id": 6071887,
      "node_id": "MDQ6VXNlcjYwNzE4ODc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6071887?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/spartucus",
      "html_url": "https://github.com/spartucus",
      "followers_url": "https://api.github.com/users/spartucus/followers",
      "following_url": "https://api.github.com/users/spartucus/following{/other_user}",
      "gists_url": "https://api.github.com/users/spartucus/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/spartucus/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/spartucus/subscriptions",
      "organizations_url": "https://api.github.com/users/spartucus/orgs",
      "repos_url": "https://api.github.com/users/spartucus/repos",
      "events_url": "https://api.github.com/users/spartucus/events{/privacy}",
      "received_events_url": "https://api.github.com/users/spartucus/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-10T07:20:34Z",
    "updated_at": "2021-03-10T07:20:34Z",
    "author_association": "NONE",
    "body": "Wonderful, glad to hear it!",
    "reactions": {
      "url": "https://api.github.com/repos/matter-labs/zksync/issues/comments/795010053/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/matter-labs/zksync/issues/comments/801198343",
    "html_url": "https://github.com/matter-labs/zksync/issues/264#issuecomment-801198343",
    "issue_url": "https://api.github.com/repos/matter-labs/zksync/issues/264",
    "id": 801198343,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgwMTE5ODM0Mw==",
    "user": {
      "login": "mtahon",
      "id": 11164208,
      "node_id": "MDQ6VXNlcjExMTY0MjA4",
      "avatar_url": "https://avatars.githubusercontent.com/u/11164208?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mtahon",
      "html_url": "https://github.com/mtahon",
      "followers_url": "https://api.github.com/users/mtahon/followers",
      "following_url": "https://api.github.com/users/mtahon/following{/other_user}",
      "gists_url": "https://api.github.com/users/mtahon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mtahon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mtahon/subscriptions",
      "organizations_url": "https://api.github.com/users/mtahon/orgs",
      "repos_url": "https://api.github.com/users/mtahon/repos",
      "events_url": "https://api.github.com/users/mtahon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mtahon/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-17T15:55:32Z",
    "updated_at": "2021-03-17T15:55:32Z",
    "author_association": "NONE",
    "body": "I am having the same issue, very frustrating. I'm not keen to give an unlimited approval, I always override manually the amount to something I am more comfortable with using MetaMask edit function.\r\n\r\n![image](https://user-images.githubusercontent.com/11164208/111497578-804bb000-8741-11eb-891f-9e8552a6295a.png)\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/matter-labs/zksync/issues/comments/801198343/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/matter-labs/zksync/issues/comments/807066840",
    "html_url": "https://github.com/matter-labs/zksync/issues/264#issuecomment-807066840",
    "issue_url": "https://api.github.com/repos/matter-labs/zksync/issues/264",
    "id": 807066840,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgwNzA2Njg0MA==",
    "user": {
      "login": "aspiers",
      "id": 100738,
      "node_id": "MDQ6VXNlcjEwMDczOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/100738?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aspiers",
      "html_url": "https://github.com/aspiers",
      "followers_url": "https://api.github.com/users/aspiers/followers",
      "following_url": "https://api.github.com/users/aspiers/following{/other_user}",
      "gists_url": "https://api.github.com/users/aspiers/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aspiers/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aspiers/subscriptions",
      "organizations_url": "https://api.github.com/users/aspiers/orgs",
      "repos_url": "https://api.github.com/users/aspiers/repos",
      "events_url": "https://api.github.com/users/aspiers/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aspiers/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-25T16:39:26Z",
    "updated_at": "2021-03-25T16:39:48Z",
    "author_association": "NONE",
    "body": "Urgh, here we are at another Gitcoin grants round and I've hit exactly the same problem.  The ERC20 `approve()` for depositing DAI into L2 succeeded but the zkSync checkout process (including https://checkout.zksync.io/) failed to notice, so I'm now stuck mid-workflow with the choice of starting again, wasting more gas on a second, totally unnecessary `approve()`, or just going back to L1 and ditching zkSync.  Unfortunately this UX is super harmful to the success of zkSync :-(",
    "reactions": {
      "url": "https://api.github.com/repos/matter-labs/zksync/issues/comments/807066840/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/matter-labs/zksync/issues/comments/1083454320",
    "html_url": "https://github.com/matter-labs/zksync/issues/264#issuecomment-1083454320",
    "issue_url": "https://api.github.com/repos/matter-labs/zksync/issues/264",
    "id": 1083454320,
    "node_id": "IC_kwDOC0aUls5AlDNw",
    "user": {
      "login": "bxpana",
      "id": 42230936,
      "node_id": "MDQ6VXNlcjQyMjMwOTM2",
      "avatar_url": "https://avatars.githubusercontent.com/u/42230936?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bxpana",
      "html_url": "https://github.com/bxpana",
      "followers_url": "https://api.github.com/users/bxpana/followers",
      "following_url": "https://api.github.com/users/bxpana/following{/other_user}",
      "gists_url": "https://api.github.com/users/bxpana/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bxpana/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bxpana/subscriptions",
      "organizations_url": "https://api.github.com/users/bxpana/orgs",
      "repos_url": "https://api.github.com/users/bxpana/repos",
      "events_url": "https://api.github.com/users/bxpana/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bxpana/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-03-30T18:08:15Z",
    "updated_at": "2022-03-30T18:08:15Z",
    "author_association": "NONE",
    "body": "@aspiers please let us know if this is still an issue you are running into.",
    "reactions": {
      "url": "https://api.github.com/repos/matter-labs/zksync/issues/comments/1083454320/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/matter-labs/zksync/issues/comments/1084508615",
    "html_url": "https://github.com/matter-labs/zksync/issues/264#issuecomment-1084508615",
    "issue_url": "https://api.github.com/repos/matter-labs/zksync/issues/264",
    "id": 1084508615,
    "node_id": "IC_kwDOC0aUls5ApEnH",
    "user": {
      "login": "aspiers",
      "id": 100738,
      "node_id": "MDQ6VXNlcjEwMDczOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/100738?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aspiers",
      "html_url": "https://github.com/aspiers",
      "followers_url": "https://api.github.com/users/aspiers/followers",
      "following_url": "https://api.github.com/users/aspiers/following{/other_user}",
      "gists_url": "https://api.github.com/users/aspiers/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aspiers/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aspiers/subscriptions",
      "organizations_url": "https://api.github.com/users/aspiers/orgs",
      "repos_url": "https://api.github.com/users/aspiers/repos",
      "events_url": "https://api.github.com/users/aspiers/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aspiers/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-03-31T12:20:54Z",
    "updated_at": "2022-03-31T12:20:54Z",
    "author_association": "NONE",
    "body": "I don't have time to check now, but it will definitely still be an issue unless the code for the `approve()` process has been deliberately changed to address it.  BTW I recently fixed the same issue in another project and it is not at all hard to do.  It's harder to add support for https://eips.ethereum.org/EIPS/eip-2612 but that is well worth doing on L1.",
    "reactions": {
      "url": "https://api.github.com/repos/matter-labs/zksync/issues/comments/1084508615/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/matter-labs/zksync/issues/comments/1085045973",
    "html_url": "https://github.com/matter-labs/zksync/issues/264#issuecomment-1085045973",
    "issue_url": "https://api.github.com/repos/matter-labs/zksync/issues/264",
    "id": 1085045973,
    "node_id": "IC_kwDOC0aUls5ArHzV",
    "user": {
      "login": "bxpana",
      "id": 42230936,
      "node_id": "MDQ6VXNlcjQyMjMwOTM2",
      "avatar_url": "https://avatars.githubusercontent.com/u/42230936?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bxpana",
      "html_url": "https://github.com/bxpana",
      "followers_url": "https://api.github.com/users/bxpana/followers",
      "following_url": "https://api.github.com/users/bxpana/following{/other_user}",
      "gists_url": "https://api.github.com/users/bxpana/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bxpana/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bxpana/subscriptions",
      "organizations_url": "https://api.github.com/users/bxpana/orgs",
      "repos_url": "https://api.github.com/users/bxpana/repos",
      "events_url": "https://api.github.com/users/bxpana/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bxpana/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-03-31T20:03:05Z",
    "updated_at": "2022-03-31T20:03:05Z",
    "author_association": "NONE",
    "body": "Ok I'll double-check on that and get back to you. Thank you",
    "reactions": {
      "url": "https://api.github.com/repos/matter-labs/zksync/issues/comments/1085045973/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/matter-labs/zksync/issues/comments/1335913193",
    "html_url": "https://github.com/matter-labs/zksync/issues/264#issuecomment-1335913193",
    "issue_url": "https://api.github.com/repos/matter-labs/zksync/issues/264",
    "id": 1335913193,
    "node_id": "IC_kwDOC0aUls5PoGrp",
    "user": {
      "login": "bxpana",
      "id": 42230936,
      "node_id": "MDQ6VXNlcjQyMjMwOTM2",
      "avatar_url": "https://avatars.githubusercontent.com/u/42230936?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bxpana",
      "html_url": "https://github.com/bxpana",
      "followers_url": "https://api.github.com/users/bxpana/followers",
      "following_url": "https://api.github.com/users/bxpana/following{/other_user}",
      "gists_url": "https://api.github.com/users/bxpana/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bxpana/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bxpana/subscriptions",
      "organizations_url": "https://api.github.com/users/bxpana/orgs",
      "repos_url": "https://api.github.com/users/bxpana/repos",
      "events_url": "https://api.github.com/users/bxpana/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bxpana/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-12-02T22:10:27Z",
    "updated_at": "2022-12-02T22:10:27Z",
    "author_association": "NONE",
    "body": "@aspiers Wanted to see if you saw this error again with the last few Gitcoin Grant rounds we've had",
    "reactions": {
      "url": "https://api.github.com/repos/matter-labs/zksync/issues/comments/1335913193/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/matter-labs/zksync/issues/comments/1407736445",
    "html_url": "https://github.com/matter-labs/zksync/issues/264#issuecomment-1407736445",
    "issue_url": "https://api.github.com/repos/matter-labs/zksync/issues/264",
    "id": 1407736445,
    "node_id": "IC_kwDOC0aUls5T6Fp9",
    "user": {
      "login": "aspiers",
      "id": 100738,
      "node_id": "MDQ6VXNlcjEwMDczOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/100738?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aspiers",
      "html_url": "https://github.com/aspiers",
      "followers_url": "https://api.github.com/users/aspiers/followers",
      "following_url": "https://api.github.com/users/aspiers/following{/other_user}",
      "gists_url": "https://api.github.com/users/aspiers/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aspiers/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aspiers/subscriptions",
      "organizations_url": "https://api.github.com/users/aspiers/orgs",
      "repos_url": "https://api.github.com/users/aspiers/repos",
      "events_url": "https://api.github.com/users/aspiers/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aspiers/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-29T18:28:24Z",
    "updated_at": "2023-01-29T18:28:24Z",
    "author_association": "NONE",
    "body": "I haven't done anything which would have checked that since I last saw it.  Have your devs have definitely implemented the feature yet?  If so let me know and I'll try to find time to test.  If not then they need to - unfortunately it is not the kind of issue which will just fix itself as a side-effect of other code changes.",
    "reactions": {
      "url": "https://api.github.com/repos/matter-labs/zksync/issues/comments/1407736445/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
