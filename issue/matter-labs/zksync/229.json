{
  "url": "https://api.github.com/repos/matter-labs/zksync/issues/229",
  "repository_url": "https://api.github.com/repos/matter-labs/zksync",
  "labels_url": "https://api.github.com/repos/matter-labs/zksync/issues/229/labels{/name}",
  "comments_url": "https://api.github.com/repos/matter-labs/zksync/issues/229/comments",
  "events_url": "https://api.github.com/repos/matter-labs/zksync/issues/229/events",
  "html_url": "https://github.com/matter-labs/zksync/issues/229",
  "id": 642859371,
  "node_id": "MDU6SXNzdWU2NDI4NTkzNzE=",
  "number": 229,
  "title": "failed in zksync server",
  "user": {
    "login": "willzhuang",
    "id": 7720620,
    "node_id": "MDQ6VXNlcjc3MjA2MjA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/7720620?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/willzhuang",
    "html_url": "https://github.com/willzhuang",
    "followers_url": "https://api.github.com/users/willzhuang/followers",
    "following_url": "https://api.github.com/users/willzhuang/following{/other_user}",
    "gists_url": "https://api.github.com/users/willzhuang/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/willzhuang/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/willzhuang/subscriptions",
    "organizations_url": "https://api.github.com/users/willzhuang/orgs",
    "repos_url": "https://api.github.com/users/willzhuang/repos",
    "events_url": "https://api.github.com/users/willzhuang/events{/privacy}",
    "received_events_url": "https://api.github.com/users/willzhuang/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2020-06-22T08:18:11Z",
  "updated_at": "2020-07-24T08:56:35Z",
  "closed_at": "2020-07-24T08:56:34Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "my environment is:\r\n```shell\r\n➜  documents cat /proc/version\r\nLinux version 5.3.0-45-generic (buildd@lcy01-amd64-027) (gcc version 7.5.0 (Ubuntu 7.5.0-3ubuntu1~18.04)) #37~18.04.1-Ubuntu SMP Fri Mar 27 15:58:10 UTC 2020\r\n➜  documents uname -a\r\nLinux elementaryos 5.3.0-45-generic #37~18.04.1-Ubuntu SMP Fri Mar 27 15:58:10 UTC 2020 x86_64 x86_64 x86_64 GNU/Linux\r\n➜  documents docker ps\r\nCONTAINER ID        IMAGE                          COMMAND                  CREATED             STATUS              PORTS                                                              NAMES\r\nfafe4a5c7415        adria0/tesseracts              \"./tesseracts --cfg …\"   5 hours ago         Up 5 hours          0.0.0.0:8000->8000/tcp                                             zksync_tesseracts_1\r\n4c6f1caa9636        postgres:10.4                  \"docker-entrypoint.s…\"   5 hours ago         Up 5 hours          0.0.0.0:5432->5432/tcp                                             zksync_postgres_1\r\nb39d0750d541        matterlabs/geth:latest         \"sh /bin/geth-entry.…\"   5 hours ago         Up 5 hours          8547/tcp, 0.0.0.0:8545-8546->8545-8546/tcp, 30303/tcp, 30303/udp   zksync_geth_1\r\n23a19dea1bad        matterlabs/dev-ticker:latest   \"dev-ticker-server\"      5 hours ago         Up 5 hours          0.0.0.0:9876->9876/tcp                                             zksync_dev-ticker_1\r\n```\r\n\r\nWhen I run `zksync server` , it failed as below log. Seems something of openssl is wrong, can you kindly help?\r\n\r\n```shell\r\n➜  documents zksync env\r\n * dev\r\n➜  documents zksync plonk-setup\r\nSetup is fine\r\n➜  documents zksync server\r\n   Compiling openssl-sys v0.9.58\r\n   Compiling pq-sys v0.4.6\r\nerror: failed to run custom build command for `openssl-sys v0.9.58`\r\n\r\nCaused by:\r\n  process didn't exit successfully: `/home/will/documents/zksync/target/release/build/openssl-sys-b6cefd4b366868af/build-script-main` (exit code: 101)\r\n--- stdout\r\ncargo:rustc-cfg=const_fn\r\ncargo:rerun-if-env-changed=X86_64_UNKNOWN_LINUX_GNU_OPENSSL_LIB_DIR\r\nX86_64_UNKNOWN_LINUX_GNU_OPENSSL_LIB_DIR unset\r\ncargo:rerun-if-env-changed=OPENSSL_LIB_DIR\r\nOPENSSL_LIB_DIR unset\r\ncargo:rerun-if-env-changed=X86_64_UNKNOWN_LINUX_GNU_OPENSSL_INCLUDE_DIR\r\nX86_64_UNKNOWN_LINUX_GNU_OPENSSL_INCLUDE_DIR unset\r\ncargo:rerun-if-env-changed=OPENSSL_INCLUDE_DIR\r\nOPENSSL_INCLUDE_DIR unset\r\ncargo:rerun-if-env-changed=X86_64_UNKNOWN_LINUX_GNU_OPENSSL_DIR\r\nX86_64_UNKNOWN_LINUX_GNU_OPENSSL_DIR unset\r\ncargo:rerun-if-env-changed=OPENSSL_DIR\r\nOPENSSL_DIR unset\r\nrun pkg_config fail: \"Failed to run `\\\"pkg-config\\\" \\\"--libs\\\" \\\"--cflags\\\" \\\"openssl\\\"`: No such file or directory (os error 2)\"\r\n\r\n--- stderr\r\nthread 'main' panicked at '\r\n\r\nCould not find directory of OpenSSL installation, and this `-sys` crate cannot\r\nproceed without this knowledge. If OpenSSL is installed and this crate had\r\ntrouble finding it,  you can set the `OPENSSL_DIR` environment variable for the\r\ncompilation process.\r\n\r\nMake sure you also have the development packages of openssl installed.\r\nFor example, `libssl-dev` on Ubuntu or `openssl-devel` on Fedora.\r\n\r\nIf you're in a situation where you think the directory *should* be found\r\nautomatically, please open a bug at https://github.com/sfackler/rust-openssl\r\nand include information about your system as well as this message.\r\n\r\n$HOST = x86_64-unknown-linux-gnu\r\n$TARGET = x86_64-unknown-linux-gnu\r\nopenssl-sys = 0.9.58\r\n\r\n\r\nIt looks like you're compiling on Linux and also targeting Linux. Currently this\r\nrequires the `pkg-config` utility to find OpenSSL but unfortunately `pkg-config`\r\ncould not be found. If you have OpenSSL installed you can likely fix this by\r\ninstalling `pkg-config`.\r\n\r\n', /home/will/.cargo/registry/src/github.com-1ecc6299db9ec823/openssl-sys-0.9.58/build/find_normal.rs:157:5\r\nstack backtrace:\r\n   0: backtrace::backtrace::libunwind::trace\r\n             at /cargo/registry/src/github.com-1ecc6299db9ec823/backtrace-0.3.44/src/backtrace/libunwind.rs:86\r\n   1: backtrace::backtrace::trace_unsynchronized\r\n             at /cargo/registry/src/github.com-1ecc6299db9ec823/backtrace-0.3.44/src/backtrace/mod.rs:66\r\n   2: std::sys_common::backtrace::_print_fmt\r\n             at src/libstd/sys_common/backtrace.rs:78\r\n   3: <std::sys_common::backtrace::_print::DisplayBacktrace as core::fmt::Display>::fmt\r\n             at src/libstd/sys_common/backtrace.rs:59\r\n   4: core::fmt::write\r\n             at src/libcore/fmt/mod.rs:1063\r\n   5: std::io::Write::write_fmt\r\n             at src/libstd/io/mod.rs:1426\r\n   6: std::sys_common::backtrace::_print\r\n             at src/libstd/sys_common/backtrace.rs:62\r\n   7: std::sys_common::backtrace::print\r\n             at src/libstd/sys_common/backtrace.rs:49\r\n   8: std::panicking::default_hook::{{closure}}\r\n             at src/libstd/panicking.rs:204\r\n   9: std::panicking::default_hook\r\n             at src/libstd/panicking.rs:224\r\n  10: std::panicking::rust_panic_with_hook\r\n             at src/libstd/panicking.rs:470\r\n  11: std::panicking::begin_panic\r\n  12: build_script_main::find_normal::get_openssl\r\n  13: build_script_main::main\r\n  14: std::rt::lang_start::{{closure}}\r\n  15: std::rt::lang_start_internal::{{closure}}\r\n             at src/libstd/rt.rs:52\r\n  16: std::panicking::try::do_call\r\n             at src/libstd/panicking.rs:303\r\n  17: __rust_maybe_catch_panic\r\n             at src/libpanic_unwind/lib.rs:86\r\n  18: std::panicking::try\r\n             at src/libstd/panicking.rs:281\r\n  19: std::panic::catch_unwind\r\n             at src/libstd/panic.rs:394\r\n  20: std::rt::lang_start_internal\r\n             at src/libstd/rt.rs:51\r\n  21: main\r\n  22: __libc_start_main\r\n  23: _start\r\nnote: Some details are omitted, run with `RUST_BACKTRACE=full` for a verbose backtrace.\r\n\r\nwarning: build failed, waiting for other jobs to finish...\r\nerror: build failed\r\nMakefile:124: recipe for target 'server' failed\r\nmake: *** [server] Error 101\r\n```\r\n",
  "closed_by": {
    "login": "willzhuang",
    "id": 7720620,
    "node_id": "MDQ6VXNlcjc3MjA2MjA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/7720620?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/willzhuang",
    "html_url": "https://github.com/willzhuang",
    "followers_url": "https://api.github.com/users/willzhuang/followers",
    "following_url": "https://api.github.com/users/willzhuang/following{/other_user}",
    "gists_url": "https://api.github.com/users/willzhuang/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/willzhuang/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/willzhuang/subscriptions",
    "organizations_url": "https://api.github.com/users/willzhuang/orgs",
    "repos_url": "https://api.github.com/users/willzhuang/repos",
    "events_url": "https://api.github.com/users/willzhuang/events{/privacy}",
    "received_events_url": "https://api.github.com/users/willzhuang/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/matter-labs/zksync/issues/229/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/matter-labs/zksync/issues/229/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/matter-labs/zksync/issues/comments/647608123",
    "html_url": "https://github.com/matter-labs/zksync/issues/229#issuecomment-647608123",
    "issue_url": "https://api.github.com/repos/matter-labs/zksync/issues/229",
    "id": 647608123,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0NzYwODEyMw==",
    "user": {
      "login": "gluk64",
      "id": 621437,
      "node_id": "MDQ6VXNlcjYyMTQzNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/621437?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gluk64",
      "html_url": "https://github.com/gluk64",
      "followers_url": "https://api.github.com/users/gluk64/followers",
      "following_url": "https://api.github.com/users/gluk64/following{/other_user}",
      "gists_url": "https://api.github.com/users/gluk64/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gluk64/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gluk64/subscriptions",
      "organizations_url": "https://api.github.com/users/gluk64/orgs",
      "repos_url": "https://api.github.com/users/gluk64/repos",
      "events_url": "https://api.github.com/users/gluk64/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gluk64/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-22T15:47:53Z",
    "updated_at": "2020-06-22T15:47:53Z",
    "author_association": "MEMBER",
    "body": "Hey @WillZhuang, it's best to chat quickly. Do you have telegram? Please ping me at @herrmit\r\n\r\nBest,\r\nAlex",
    "reactions": {
      "url": "https://api.github.com/repos/matter-labs/zksync/issues/comments/647608123/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/matter-labs/zksync/issues/comments/647873568",
    "html_url": "https://github.com/matter-labs/zksync/issues/229#issuecomment-647873568",
    "issue_url": "https://api.github.com/repos/matter-labs/zksync/issues/229",
    "id": 647873568,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0Nzg3MzU2OA==",
    "user": {
      "login": "willzhuang",
      "id": 7720620,
      "node_id": "MDQ6VXNlcjc3MjA2MjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7720620?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/willzhuang",
      "html_url": "https://github.com/willzhuang",
      "followers_url": "https://api.github.com/users/willzhuang/followers",
      "following_url": "https://api.github.com/users/willzhuang/following{/other_user}",
      "gists_url": "https://api.github.com/users/willzhuang/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/willzhuang/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/willzhuang/subscriptions",
      "organizations_url": "https://api.github.com/users/willzhuang/orgs",
      "repos_url": "https://api.github.com/users/willzhuang/repos",
      "events_url": "https://api.github.com/users/willzhuang/events{/privacy}",
      "received_events_url": "https://api.github.com/users/willzhuang/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-23T02:46:20Z",
    "updated_at": "2020-06-23T02:48:57Z",
    "author_association": "NONE",
    "body": "> Hey @WillZhuang, it's best to chat quickly. Do you have telegram? Please ping me at @herrmit\r\n> \r\n> Best,\r\n> Alex\r\n\r\ncan you add me @willzhuang? \r\nI can login Telegram on iPhone only, because GFW China.\r\nI can only send messages to mutual contacts, I added you already, can you add me @willzhuang? ",
    "reactions": {
      "url": "https://api.github.com/repos/matter-labs/zksync/issues/comments/647873568/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/matter-labs/zksync/issues/comments/662238144",
    "html_url": "https://github.com/matter-labs/zksync/issues/229#issuecomment-662238144",
    "issue_url": "https://api.github.com/repos/matter-labs/zksync/issues/229",
    "id": 662238144,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2MjIzODE0NA==",
    "user": {
      "login": "dvush",
      "id": 21145096,
      "node_id": "MDQ6VXNlcjIxMTQ1MDk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/21145096?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dvush",
      "html_url": "https://github.com/dvush",
      "followers_url": "https://api.github.com/users/dvush/followers",
      "following_url": "https://api.github.com/users/dvush/following{/other_user}",
      "gists_url": "https://api.github.com/users/dvush/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dvush/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dvush/subscriptions",
      "organizations_url": "https://api.github.com/users/dvush/orgs",
      "repos_url": "https://api.github.com/users/dvush/repos",
      "events_url": "https://api.github.com/users/dvush/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dvush/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-07-22T04:45:43Z",
    "updated_at": "2020-07-22T04:45:53Z",
    "author_association": "CONTRIBUTOR",
    "body": "What is your linux distro? It looks like you don't have `pkgconfig` installed.\r\n\r\nHere is snippet that I use to prepare empty ubuntu machine for zksync testing:\r\n\r\n```\r\napt update\r\napt install htop vim yarn nodejs docker docker-compose docker-compose jq postgresql-client-10 gcc libsqlite3-dev libpq-dev libmysqlclient-dev coreutils make openssl pkg-config axel -y\r\n```\r\n\r\nI think you can use this:\r\n```\r\napt install postgresql-client-10 gcc libsqlite3-dev libpq-dev libmysqlclient-dev coreutils make openssl pkg-config axel\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/matter-labs/zksync/issues/comments/662238144/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/matter-labs/zksync/issues/comments/663425761",
    "html_url": "https://github.com/matter-labs/zksync/issues/229#issuecomment-663425761",
    "issue_url": "https://api.github.com/repos/matter-labs/zksync/issues/229",
    "id": 663425761,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2MzQyNTc2MQ==",
    "user": {
      "login": "willzhuang",
      "id": 7720620,
      "node_id": "MDQ6VXNlcjc3MjA2MjA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7720620?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/willzhuang",
      "html_url": "https://github.com/willzhuang",
      "followers_url": "https://api.github.com/users/willzhuang/followers",
      "following_url": "https://api.github.com/users/willzhuang/following{/other_user}",
      "gists_url": "https://api.github.com/users/willzhuang/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/willzhuang/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/willzhuang/subscriptions",
      "organizations_url": "https://api.github.com/users/willzhuang/orgs",
      "repos_url": "https://api.github.com/users/willzhuang/repos",
      "events_url": "https://api.github.com/users/willzhuang/events{/privacy}",
      "received_events_url": "https://api.github.com/users/willzhuang/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-07-24T08:56:34Z",
    "updated_at": "2020-07-24T08:56:34Z",
    "author_association": "NONE",
    "body": "I will test later. almost GFW. I close it here. Keep in focus on zksync.",
    "reactions": {
      "url": "https://api.github.com/repos/matter-labs/zksync/issues/comments/663425761/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
