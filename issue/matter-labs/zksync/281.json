{
  "url": "https://api.github.com/repos/matter-labs/zksync/issues/281",
  "repository_url": "https://api.github.com/repos/matter-labs/zksync",
  "labels_url": "https://api.github.com/repos/matter-labs/zksync/issues/281/labels{/name}",
  "comments_url": "https://api.github.com/repos/matter-labs/zksync/issues/281/comments",
  "events_url": "https://api.github.com/repos/matter-labs/zksync/issues/281/events",
  "html_url": "https://github.com/matter-labs/zksync/issues/281",
  "id": 790787629,
  "node_id": "MDU6SXNzdWU3OTA3ODc2Mjk=",
  "number": 281,
  "title": "PosegreSQL is started locally, but how does ZK connect to PSQL? I don't have a password for my posegre. I got an error when I started ZK server",
  "user": {
    "login": "simagui",
    "id": 46394515,
    "node_id": "MDQ6VXNlcjQ2Mzk0NTE1",
    "avatar_url": "https://avatars.githubusercontent.com/u/46394515?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/simagui",
    "html_url": "https://github.com/simagui",
    "followers_url": "https://api.github.com/users/simagui/followers",
    "following_url": "https://api.github.com/users/simagui/following{/other_user}",
    "gists_url": "https://api.github.com/users/simagui/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/simagui/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/simagui/subscriptions",
    "organizations_url": "https://api.github.com/users/simagui/orgs",
    "repos_url": "https://api.github.com/users/simagui/repos",
    "events_url": "https://api.github.com/users/simagui/events{/privacy}",
    "received_events_url": "https://api.github.com/users/simagui/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2021-01-21T07:45:11Z",
  "updated_at": "2021-01-24T11:49:50Z",
  "closed_at": "2021-01-24T11:49:50Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "PosegreSQL is started locally, but how does ZK connect to PSQL? I don't have a password for my posegre. I got an error when I started ZK server\r\n\r\nerror:\r\nerror: error returned from database: database \"plasma\" does not exist\r\n  --> core/lib/storage/src/chain/account/mod.rs:88:36\r\n   |\r\n88 |           let account_balance_diff = sqlx::query_as!(\r\n   |  ____________________________________^\r\n89 | |             StorageAccountUpdate,\r\n90 | |             \"\r\n91 | |                 SELECT * FROM account_balance_updates\r\n...  |\r\n95 | |             last_block\r\n96 | |         )\r\n   | |_________^\r\n",
  "closed_by": {
    "login": "popzxc",
    "id": 12111581,
    "node_id": "MDQ6VXNlcjEyMTExNTgx",
    "avatar_url": "https://avatars.githubusercontent.com/u/12111581?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/popzxc",
    "html_url": "https://github.com/popzxc",
    "followers_url": "https://api.github.com/users/popzxc/followers",
    "following_url": "https://api.github.com/users/popzxc/following{/other_user}",
    "gists_url": "https://api.github.com/users/popzxc/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/popzxc/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/popzxc/subscriptions",
    "organizations_url": "https://api.github.com/users/popzxc/orgs",
    "repos_url": "https://api.github.com/users/popzxc/repos",
    "events_url": "https://api.github.com/users/popzxc/events{/privacy}",
    "received_events_url": "https://api.github.com/users/popzxc/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/matter-labs/zksync/issues/281/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/matter-labs/zksync/issues/281/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/matter-labs/zksync/issues/comments/764448480",
    "html_url": "https://github.com/matter-labs/zksync/issues/281#issuecomment-764448480",
    "issue_url": "https://api.github.com/repos/matter-labs/zksync/issues/281",
    "id": 764448480,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2NDQ0ODQ4MA==",
    "user": {
      "login": "simagui",
      "id": 46394515,
      "node_id": "MDQ6VXNlcjQ2Mzk0NTE1",
      "avatar_url": "https://avatars.githubusercontent.com/u/46394515?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/simagui",
      "html_url": "https://github.com/simagui",
      "followers_url": "https://api.github.com/users/simagui/followers",
      "following_url": "https://api.github.com/users/simagui/following{/other_user}",
      "gists_url": "https://api.github.com/users/simagui/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/simagui/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/simagui/subscriptions",
      "organizations_url": "https://api.github.com/users/simagui/orgs",
      "repos_url": "https://api.github.com/users/simagui/repos",
      "events_url": "https://api.github.com/users/simagui/events{/privacy}",
      "received_events_url": "https://api.github.com/users/simagui/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-21T07:46:13Z",
    "updated_at": "2021-01-21T07:46:13Z",
    "author_association": "NONE",
    "body": "I've created the plasma database",
    "reactions": {
      "url": "https://api.github.com/repos/matter-labs/zksync/issues/comments/764448480/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/matter-labs/zksync/issues/comments/765092702",
    "html_url": "https://github.com/matter-labs/zksync/issues/281#issuecomment-765092702",
    "issue_url": "https://api.github.com/repos/matter-labs/zksync/issues/281",
    "id": 765092702,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2NTA5MjcwMg==",
    "user": {
      "login": "simagui",
      "id": 46394515,
      "node_id": "MDQ6VXNlcjQ2Mzk0NTE1",
      "avatar_url": "https://avatars.githubusercontent.com/u/46394515?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/simagui",
      "html_url": "https://github.com/simagui",
      "followers_url": "https://api.github.com/users/simagui/followers",
      "following_url": "https://api.github.com/users/simagui/following{/other_user}",
      "gists_url": "https://api.github.com/users/simagui/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/simagui/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/simagui/subscriptions",
      "organizations_url": "https://api.github.com/users/simagui/orgs",
      "repos_url": "https://api.github.com/users/simagui/repos",
      "events_url": "https://api.github.com/users/simagui/events{/privacy}",
      "received_events_url": "https://api.github.com/users/simagui/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-22T03:18:31Z",
    "updated_at": "2021-01-22T03:18:31Z",
    "author_association": "NONE",
    "body": "Or through which configuration file does zksync link to postgre? Postgre's password is wrong again\r\n\r\n\r\nerror: error returned from database: password authentication failed for user \"postgres\"\r\n   --> core/lib/storage/src/tokens/mod.rs:194:24\r\n    |\r\n194 |           let db_price = sqlx::query_as!(\r\n    |  ________________________^\r\n195 | |             DbTickerPrice,\r\n196 | |             r#\"\r\n197 | |             SELECT * FROM ticker_price\r\n...   |\r\n201 | |             i32::from(token_id)\r\n202 | |         )\r\n    | |_________^\r\n    |\r\n    = note: this error originates in a macro (in Nightly builds, run with -Z macro-backtrace for more info)",
    "reactions": {
      "url": "https://api.github.com/repos/matter-labs/zksync/issues/comments/765092702/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/matter-labs/zksync/issues/comments/765111432",
    "html_url": "https://github.com/matter-labs/zksync/issues/281#issuecomment-765111432",
    "issue_url": "https://api.github.com/repos/matter-labs/zksync/issues/281",
    "id": 765111432,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2NTExMTQzMg==",
    "user": {
      "login": "popzxc",
      "id": 12111581,
      "node_id": "MDQ6VXNlcjEyMTExNTgx",
      "avatar_url": "https://avatars.githubusercontent.com/u/12111581?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/popzxc",
      "html_url": "https://github.com/popzxc",
      "followers_url": "https://api.github.com/users/popzxc/followers",
      "following_url": "https://api.github.com/users/popzxc/following{/other_user}",
      "gists_url": "https://api.github.com/users/popzxc/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/popzxc/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/popzxc/subscriptions",
      "organizations_url": "https://api.github.com/users/popzxc/orgs",
      "repos_url": "https://api.github.com/users/popzxc/repos",
      "events_url": "https://api.github.com/users/popzxc/events{/privacy}",
      "received_events_url": "https://api.github.com/users/popzxc/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-22T04:23:01Z",
    "updated_at": "2021-01-22T06:15:49Z",
    "author_association": "MEMBER",
    "body": "For local development, we start the Postgres via docker-compose. It is done by `zk init` (or `zk up`) command.\r\n\r\nRegarding the compilation process, we use SQLx capabilities to type-check queries, thus database should be available with all the migrations (again, it's covered by `zk init` command) by the URL `postgres://postgres@localhost/plasma`. Password should not be required for access.\r\n\r\nFinally, if you want to compile the project without `zk` utility (which handles environment variables management), you may do the following:\r\n\r\n```\r\ncd $ZKSYNC_HOME/core/lib/storage\r\ncp .env.backup .env\r\n```\r\n\r\nThis command will create a file with the database URL for SQLx, so the code can compile without any environmental variables being set.\r\n\r\nAlso, check out the docs we have on the development:\r\n\r\n- Installing development dependencies: [docs/setup-dev.md](https://github.com/matter-labs/zksync/blob/master/docs/setup-dev.md).\r\n- Launching zkSync locally: [docs/launch.md](https://github.com/matter-labs/zksync/blob/master/docs/launch.md).\r\n- Development guide: [docs/development.md](https://github.com/matter-labs/zksync/blob/master/docs/development.md).\r\n- Repository architecture overview: [docs/architecture.md](https://github.com/matter-labs/zksync/blob/master/docs/architecture.md).",
    "reactions": {
      "url": "https://api.github.com/repos/matter-labs/zksync/issues/comments/765111432/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/matter-labs/zksync/issues/comments/765147516",
    "html_url": "https://github.com/matter-labs/zksync/issues/281#issuecomment-765147516",
    "issue_url": "https://api.github.com/repos/matter-labs/zksync/issues/281",
    "id": 765147516,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2NTE0NzUxNg==",
    "user": {
      "login": "simagui",
      "id": 46394515,
      "node_id": "MDQ6VXNlcjQ2Mzk0NTE1",
      "avatar_url": "https://avatars.githubusercontent.com/u/46394515?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/simagui",
      "html_url": "https://github.com/simagui",
      "followers_url": "https://api.github.com/users/simagui/followers",
      "following_url": "https://api.github.com/users/simagui/following{/other_user}",
      "gists_url": "https://api.github.com/users/simagui/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/simagui/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/simagui/subscriptions",
      "organizations_url": "https://api.github.com/users/simagui/orgs",
      "repos_url": "https://api.github.com/users/simagui/repos",
      "events_url": "https://api.github.com/users/simagui/events{/privacy}",
      "received_events_url": "https://api.github.com/users/simagui/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-22T05:54:50Z",
    "updated_at": "2021-01-22T05:54:50Z",
    "author_association": "NONE",
    "body": "zk init  \r\n\r\nbuild/index.js → dist/main.js...\r\ncreated dist/main.js in 3.7s\r\nDone in 9.96s.\r\nUsage: axel [options] url1 [url2] [url...]\r\n\r\n--max-speed=x\t\t-s x\tSpecify maximum speed (bytes per second)\r\n--num-connections=x\t-n x\tSpecify maximum number of connections\r\n--output=f\t\t-o f\tSpecify local output file\r\n--search[=x]\t\t-S [x]\tSearch for mirrors and download from x servers\r\n--header=x\t\t-H x\tAdd header string\r\n--user-agent=x\t\t-U x\tSet user agent\r\n--no-proxy\t\t-N\tJust don't use any proxy server\r\n--quiet\t\t\t-q\tLeave stdout alone\r\n--verbose\t\t-v\tMore status information\r\n--alternate\t\t-a\tAlternate progress indicator\r\n--help\t\t\t-h\tThis information\r\n--version\t\t-V\tVersion information\r\n\r\nReport bugs to submit@bugs.debian.org (using reportbug)\r\nError: Child process exited with code 1",
    "reactions": {
      "url": "https://api.github.com/repos/matter-labs/zksync/issues/comments/765147516/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/matter-labs/zksync/issues/comments/765160421",
    "html_url": "https://github.com/matter-labs/zksync/issues/281#issuecomment-765160421",
    "issue_url": "https://api.github.com/repos/matter-labs/zksync/issues/281",
    "id": 765160421,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2NTE2MDQyMQ==",
    "user": {
      "login": "popzxc",
      "id": 12111581,
      "node_id": "MDQ6VXNlcjEyMTExNTgx",
      "avatar_url": "https://avatars.githubusercontent.com/u/12111581?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/popzxc",
      "html_url": "https://github.com/popzxc",
      "followers_url": "https://api.github.com/users/popzxc/followers",
      "following_url": "https://api.github.com/users/popzxc/following{/other_user}",
      "gists_url": "https://api.github.com/users/popzxc/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/popzxc/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/popzxc/subscriptions",
      "organizations_url": "https://api.github.com/users/popzxc/orgs",
      "repos_url": "https://api.github.com/users/popzxc/repos",
      "events_url": "https://api.github.com/users/popzxc/events{/privacy}",
      "received_events_url": "https://api.github.com/users/popzxc/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-22T06:16:26Z",
    "updated_at": "2021-01-22T06:16:26Z",
    "author_association": "MEMBER",
    "body": "Please check the [guide on setting dependencies up](https://github.com/matter-labs/zksync/blob/master/docs/setup-dev.md) (it was linked above) to install all the dependencies correctly.",
    "reactions": {
      "url": "https://api.github.com/repos/matter-labs/zksync/issues/comments/765160421/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/matter-labs/zksync/issues/comments/765171021",
    "html_url": "https://github.com/matter-labs/zksync/issues/281#issuecomment-765171021",
    "issue_url": "https://api.github.com/repos/matter-labs/zksync/issues/281",
    "id": 765171021,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2NTE3MTAyMQ==",
    "user": {
      "login": "simagui",
      "id": 46394515,
      "node_id": "MDQ6VXNlcjQ2Mzk0NTE1",
      "avatar_url": "https://avatars.githubusercontent.com/u/46394515?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/simagui",
      "html_url": "https://github.com/simagui",
      "followers_url": "https://api.github.com/users/simagui/followers",
      "following_url": "https://api.github.com/users/simagui/following{/other_user}",
      "gists_url": "https://api.github.com/users/simagui/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/simagui/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/simagui/subscriptions",
      "organizations_url": "https://api.github.com/users/simagui/orgs",
      "repos_url": "https://api.github.com/users/simagui/repos",
      "events_url": "https://api.github.com/users/simagui/events{/privacy}",
      "received_events_url": "https://api.github.com/users/simagui/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-22T06:34:42Z",
    "updated_at": "2021-01-22T06:34:42Z",
    "author_association": "NONE",
    "body": "Thank you for your answer",
    "reactions": {
      "url": "https://api.github.com/repos/matter-labs/zksync/issues/comments/765171021/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
