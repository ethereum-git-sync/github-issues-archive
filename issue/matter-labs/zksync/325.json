{
  "url": "https://api.github.com/repos/matter-labs/zksync/issues/325",
  "repository_url": "https://api.github.com/repos/matter-labs/zksync",
  "labels_url": "https://api.github.com/repos/matter-labs/zksync/issues/325/labels{/name}",
  "comments_url": "https://api.github.com/repos/matter-labs/zksync/issues/325/comments",
  "events_url": "https://api.github.com/repos/matter-labs/zksync/issues/325/events",
  "html_url": "https://github.com/matter-labs/zksync/issues/325",
  "id": 961395464,
  "node_id": "MDU6SXNzdWU5NjEzOTU0NjQ=",
  "number": 325,
  "title": "after run ./zcli deposit, ./zk server  crash, and can't run again.",
  "user": {
    "login": "gosgos11",
    "id": 82885740,
    "node_id": "MDQ6VXNlcjgyODg1NzQw",
    "avatar_url": "https://avatars.githubusercontent.com/u/82885740?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gosgos11",
    "html_url": "https://github.com/gosgos11",
    "followers_url": "https://api.github.com/users/gosgos11/followers",
    "following_url": "https://api.github.com/users/gosgos11/following{/other_user}",
    "gists_url": "https://api.github.com/users/gosgos11/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gosgos11/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gosgos11/subscriptions",
    "organizations_url": "https://api.github.com/users/gosgos11/orgs",
    "repos_url": "https://api.github.com/users/gosgos11/repos",
    "events_url": "https://api.github.com/users/gosgos11/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gosgos11/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "StanislavBreadless",
    "id": 52464764,
    "node_id": "MDQ6VXNlcjUyNDY0NzY0",
    "avatar_url": "https://avatars.githubusercontent.com/u/52464764?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/StanislavBreadless",
    "html_url": "https://github.com/StanislavBreadless",
    "followers_url": "https://api.github.com/users/StanislavBreadless/followers",
    "following_url": "https://api.github.com/users/StanislavBreadless/following{/other_user}",
    "gists_url": "https://api.github.com/users/StanislavBreadless/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/StanislavBreadless/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/StanislavBreadless/subscriptions",
    "organizations_url": "https://api.github.com/users/StanislavBreadless/orgs",
    "repos_url": "https://api.github.com/users/StanislavBreadless/repos",
    "events_url": "https://api.github.com/users/StanislavBreadless/events{/privacy}",
    "received_events_url": "https://api.github.com/users/StanislavBreadless/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "StanislavBreadless",
      "id": 52464764,
      "node_id": "MDQ6VXNlcjUyNDY0NzY0",
      "avatar_url": "https://avatars.githubusercontent.com/u/52464764?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/StanislavBreadless",
      "html_url": "https://github.com/StanislavBreadless",
      "followers_url": "https://api.github.com/users/StanislavBreadless/followers",
      "following_url": "https://api.github.com/users/StanislavBreadless/following{/other_user}",
      "gists_url": "https://api.github.com/users/StanislavBreadless/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/StanislavBreadless/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/StanislavBreadless/subscriptions",
      "organizations_url": "https://api.github.com/users/StanislavBreadless/orgs",
      "repos_url": "https://api.github.com/users/StanislavBreadless/repos",
      "events_url": "https://api.github.com/users/StanislavBreadless/events{/privacy}",
      "received_events_url": "https://api.github.com/users/StanislavBreadless/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2021-08-05T03:40:08Z",
  "updated_at": "2021-08-06T01:30:21Z",
  "closed_at": "2021-08-06T01:30:21Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "I deploy a local dev instance. first I run ./zk server is ok. so I run the follow command.\r\n./zcli wallets add 0x27593fea79697e947890ecbecce7901b0008345e5d7259710d0dd5e500d040be\r\n[WARNING]: private keys are stored unencrypted\r\n\r\n./zcli wallets\r\n[\r\n    \"0xde03a0b5963f75f1c8485b355ff6d30f3093bde7\"\r\n]\r\n\r\n./zcli account 0xde03a0b5963f75f1c8485b355ff6d30f3093bde7\r\n{\r\n    \"address\": \"0xde03a0b5963f75f1c8485b355ff6d30f3093bde7\",\r\n    \"network\": \"localhost\",\r\n    \"account_id\": 0,\r\n    \"nonce\": 0,\r\n    \"balances\": {}\r\n}\r\n\r\n./zcli deposit 1000 ETH 0x52312AD6f01657413b2eaE9287f6B9ADaD93D5FE --fast\r\n\"0x91eb98633ed0fd3d341aa76e9d22a074232005e89fe5be7b5664a3e3c26067ab\"\r\n\r\nand then the server crash, can't run again, there is the error:\r\n\r\n./zk server\r\nDepositing to the forced exit sender account\r\n    Finished release [optimized] target(s) in 0.46s\r\n     Running `target/release/zksync_server`\r\nAug 05 11:11:57.887  INFO zksync_server: Running the zkSync server\r\nAug 05 11:11:57.899  INFO zksync_server: Starting the Core actors\r\nAug 05 11:11:58.023 DEBUG zksync_core::eth_watch: Updating eth state: block_range=[0,30198], new_priority_ops=[0, 1, 2, 3, 4, 5]\r\nAug 05 11:11:58.023 DEBUG zksync_core::eth_watch: Updating eth state: block_range=[0,30198], new_priority_ops=[0, 1, 2, 3, 4, 5]\r\nAug 05 11:11:58.023 DEBUG zksync_core::eth_watch: ETH state: ETHState {\r\n    last_ethereum_block: 30198,\r\n    unconfirmed_queue: [],\r\n    priority_queue: {\r\n        0: ReceivedPriorityOp {\r\n            op: PriorityOp {\r\n                serial_id: 0,\r\n                data: Deposit(\r\n                    Deposit {\r\n                        from: 0x36615cf349d7f6344891b1e7ca7c72883f5dc049,\r\n                        token: TokenId(\r\n                            0,\r\n                        ),\r\n                        amount: BigUint {\r\n                            data: [\r\n                                1000000000000000000,\r\n                            ],\r\n                        },\r\n                        to: 0xe1fab3efd74a77c23b426c302d96372140ff7d0c,\r\n                    },\r\n                ),\r\n                deadline_block: 44461,\r\n                eth_hash: 0x651a3be99901331b1e87b150304c76400388836c455593a105626c62d22aef73,\r\n                eth_block: 27181,\r\n                eth_block_index: Some(\r\n                    0,\r\n                ),\r\n            },\r\n            received_at: Instant {\r\n                tv_sec: 29718,\r\n                tv_nsec: 690803363,\r\n            },\r\n        },\r\n        2: ReceivedPriorityOp {\r\n            op: PriorityOp {\r\n                serial_id: 2,\r\n                data: Deposit(\r\n                    Deposit {\r\n                        from: 0x36615cf349d7f6344891b1e7ca7c72883f5dc049,\r\n                        token: TokenId(\r\n                            0,\r\n                        ),\r\n                        amount: BigUint {\r\n                            data: [\r\n                                1000000000000000000,\r\n                            ],\r\n                        },\r\n                        to: 0xe1fab3efd74a77c23b426c302d96372140ff7d0c,\r\n                    },\r\n                ),\r\n                deadline_block: 46020,\r\n                eth_hash: 0xe9fb31ffe7c030f2d279601bb1a6c89a7412c253ddaf59cd4322ab61654ee281,\r\n                eth_block: 28740,\r\n                eth_block_index: Some(\r\n                    0,\r\n                ),\r\n            },\r\n            received_at: Instant {\r\n                tv_sec: 29718,\r\n                tv_nsec: 690804887,\r\n            },\r\n        },\r\n        1: ReceivedPriorityOp {\r\n            op: PriorityOp {\r\n                serial_id: 1,\r\n                data: Deposit(\r\n                    Deposit {\r\n                        from: 0xde03a0b5963f75f1c8485b355ff6d30f3093bde7,\r\n                        token: TokenId(\r\n                            0,\r\n                        ),\r\n                        amount: BigUint {\r\n                            data: [\r\n                                3875820019684212736,\r\n                                54,\r\n                            ],\r\n                        },\r\n                        to: 0x52312ad6f01657413b2eae9287f6b9adad93d5fe,\r\n                    },\r\n                ),\r\n                deadline_block: 45962,\r\n                eth_hash: 0x91eb98633ed0fd3d341aa76e9d22a074232005e89fe5be7b5664a3e3c26067ab,\r\n                eth_block: 28682,\r\n                eth_block_index: Some(\r\n                    0,\r\n                ),\r\n            },\r\n            received_at: Instant {\r\n                tv_sec: 29718,\r\n                tv_nsec: 690804437,\r\n            },\r\n        },\r\n        4: ReceivedPriorityOp {\r\n            op: PriorityOp {\r\n                serial_id: 4,\r\n                data: Deposit(\r\n                    Deposit {\r\n                        from: 0x36615cf349d7f6344891b1e7ca7c72883f5dc049,\r\n                        token: TokenId(\r\n                            0,\r\n                        ),\r\n                        amount: BigUint {\r\n                            data: [\r\n                                1000000000000000000,\r\n                            ],\r\n                        },\r\n                        to: 0xe1fab3efd74a77c23b426c302d96372140ff7d0c,\r\n                    },\r\n                ),\r\n                deadline_block: 47432,\r\n                eth_hash: 0xcdb64273dbf4bbcfe17ea003decca95ef0ca625bda76a1093a624dfe760a2a7b,\r\n                eth_block: 30152,\r\n                eth_block_index: Some(\r\n                    0,\r\n                ),\r\n            },\r\n            received_at: Instant {\r\n                tv_sec: 29718,\r\n                tv_nsec: 690805870,\r\n            },\r\n        },\r\n        3: ReceivedPriorityOp {\r\n            op: PriorityOp {\r\n                serial_id: 3,\r\n                data: Deposit(\r\n                    Deposit {\r\n                        from: 0x36615cf349d7f6344891b1e7ca7c72883f5dc049,\r\n                        token: TokenId(\r\n                            0,\r\n                        ),\r\n                        amount: BigUint {\r\n                            data: [\r\n                                1000000000000000000,\r\n                            ],\r\n                        },\r\n                        to: 0xe1fab3efd74a77c23b426c302d96372140ff7d0c,\r\n                    },\r\n                ),\r\n                deadline_block: 46123,\r\n                eth_hash: 0x04d4fa5676df9a5cab0b2ffe9f4a096fb7d7c72f54bfe18cbd354c331156f9d8,\r\n                eth_block: 28843,\r\n                eth_block_index: Some(\r\n                    0,\r\n                ),\r\n            },\r\n            received_at: Instant {\r\n                tv_sec: 29718,\r\n                tv_nsec: 690805346,\r\n            },\r\n        },\r\n        5: ReceivedPriorityOp {\r\n            op: PriorityOp {\r\n                serial_id: 5,\r\n                data: Deposit(\r\n                    Deposit {\r\n                        from: 0x36615cf349d7f6344891b1e7ca7c72883f5dc049,\r\n                        token: TokenId(\r\n                            0,\r\n                        ),\r\n                        amount: BigUint {\r\n                            data: [\r\n                                1000000000000000000,\r\n                            ],\r\n                        },\r\n                        to: 0xe1fab3efd74a77c23b426c302d96372140ff7d0c,\r\n                    },\r\n                ),\r\n                deadline_block: 47453,\r\n                eth_hash: 0x3f4805b6805f6f74714387a1c93feb1a2b2cc496355347c7081018112120a5fe,\r\n                eth_block: 30173,\r\n                eth_block_index: Some(\r\n                    0,\r\n                ),\r\n            },\r\n            received_at: Instant {\r\n                tv_sec: 29718,\r\n                tv_nsec: 690806316,\r\n            },\r\n        },\r\n    },\r\n    new_tokens: [\r\n        NewTokenEvent {\r\n            eth_block_number: 27062,\r\n            address: 0x5e6d086f5ec079adff4fb3774cdf3e8d6a34f7e9,\r\n            id: TokenId(\r\n                1,\r\n            ),\r\n        },\r\n        NewTokenEvent {\r\n            eth_block_number: 27066,\r\n            address: 0x3fad2b2e21ea1c96618cc76a42fb5a77c3f71c6f,\r\n            id: TokenId(\r\n                2,\r\n            ),\r\n        },\r\n        NewTokenEvent {\r\n            eth_block_number: 27070,\r\n            address: 0x2c7e84980191210883d2df3167a3ab6a2cc15e01,\r\n            id: TokenId(\r\n                3,\r\n            ),\r\n        },\r\n        NewTokenEvent {\r\n            eth_block_number: 27074,\r\n            address: 0x5c55e2cf0a4243b9c7676e0ad8687c308959a153,\r\n            id: TokenId(\r\n                4,\r\n            ),\r\n        },\r\n        NewTokenEvent {\r\n            eth_block_number: 27078,\r\n            address: 0xa1453a97ef37fd456c0698e9af0b745c669ad8ee,\r\n            id: TokenId(\r\n                5,\r\n            ),\r\n        },\r\n    ],\r\n    register_nft_factory_events: [],\r\n}\r\nAug 05 11:11:58.027 DEBUG zksync_core::eth_watch: Updating eth state: block_range=[30198,30199], new_priority_ops=[]\r\nAug 05 11:11:58.027 DEBUG zksync_core::eth_watch: Updating eth state: block_range=[30198,30199], new_priority_ops=[]\r\nAug 05 11:11:58.175  INFO zksync_core::state_keeper: Loaded committed state: last block number: 5, unprocessed priority op: 5\r\nAug 05 11:11:58.182  INFO zksync_core::state_keeper: created state keeper, root hash = Fr(0x17e651696bfaa1789b0e60e628ac0fd8a248e48940f24502fd84ade785343393)\r\nAug 05 11:11:58.182  INFO zksync_core::state_keeper: There is no pending block to restore\r\nAug 05 11:11:58.184  INFO zksync_server: Starting the API server actors\r\nAug 05 11:11:58.227  INFO zksync_core::committer::aggregated_committer: Created aggregated operation: CreateProofBlocks, blocks: [4,4]\r\nAug 05 11:11:58.242  INFO zksync_core::mempool: 0 transactions were restored from the persistent mempool storage, reverted queue size: 0\r\nAug 05 11:11:58.242  INFO zksync_core::mempool: Transaction mempool handler is running\r\nAug 05 11:11:58.242  INFO zksync_core::mempool: Transaction mempool handler is running\r\nAug 05 11:11:58.242  INFO zksync_core::mempool: Block mempool handler is running\r\nAug 05 11:11:58.242 DEBUG zksync_core::mempool: Proposed priority ops for block: [PriorityOp { serial_id: 5, data: Deposit(Deposit { from: 0x36615cf349d7f6344891b1e7ca7c72883f5dc049, token: TokenId(0), amount: BigUint { data: [1000000000000000000] }, to: 0xe1fab3efd74a77c23b426c302d96372140ff7d0c }), deadline_block: 47453, eth_hash: 0x3f4805b6805f6f74714387a1c93feb1a2b2cc496355347c7081018112120a5fe, eth_block: 30173, eth_block_index: Some(0) }]\r\nAug 05 11:11:58.247  INFO zksync_core::mempool: Transaction mempool handler is running\r\nAug 05 11:11:58.247  INFO zksync_core::mempool: Transaction mempool handler is running\r\nAug 05 11:11:58.262  INFO zksync_server: Starting the Ethereum sender actors\r\nAug 05 11:11:58.262  INFO zksync_server: Starting the Prover server actors\r\nAug 05 11:11:58.265  INFO zksync_server: Starting the ForcedExitRequests actors\r\nAug 05 11:11:58.321  INFO zksync_witness_generator: Starting witness generator (3,2)\r\nAug 05 11:11:58.322  INFO zksync_witness_generator: Starting witness generator (4,2)\r\nAug 05 11:11:58.352  INFO zksync_witness_generator::witness_generator: preparing prover data routine started with start_block(3), block_step(2)\r\nAug 05 11:11:58.363  INFO zksync_witness_generator::witness_generator: preparing prover data routine started with start_block(4), block_step(2)\r\nAug 05 11:11:58.452 DEBUG zksync_core::state_keeper: Persisting mini block: 6, operations: 1, failed_txs: 0, chunks_left: 20, miniblock iterations: 1\r\nAug 05 11:11:59.109 DEBUG zksync_core::eth_watch: Updating eth state: block_range=[30199,30200], new_priority_ops=[]\r\nAug 05 11:11:59.109 DEBUG zksync_core::eth_watch: Updating eth state: block_range=[30199,30200], new_priority_ops=[]\r\nAug 05 11:12:00.008 DEBUG zksync_core::eth_watch: Updating eth state: block_range=[30200,30201], new_priority_ops=[]\r\nAug 05 11:12:00.009 DEBUG zksync_core::eth_watch: Updating eth state: block_range=[30200,30201], new_priority_ops=[]\r\nAug 05 11:12:00.259  INFO zksync_core::state_keeper: Creating full block: 6, operations: 1, chunks_left: 20, miniblock iterations: 11\r\nAug 05 11:12:00.261  INFO zksync_core::committer: commit block #6\r\nAug 05 11:12:01.195  INFO zksync_core::committer::aggregated_committer: Created aggregated operation: CommitBlocks, blocks: [6,6]\r\nAug 05 11:12:01.210 DEBUG zksync_core::eth_watch: Updating eth state: block_range=[30201,30202], new_priority_ops=[]\r\nAug 05 11:12:01.210 DEBUG zksync_core::eth_watch: Updating eth state: block_range=[30201,30202], new_priority_ops=[]\r\nAug 05 11:12:01.517  INFO zksync_eth_sender: Loaded 4 new operations\r\nAug 05 11:12:01.519  INFO zksync_eth_sender::tx_queue: Adding commit operation to the queue. Sent pending txs count: 3, max pending txs count: 3, size of commit queue: 1\r\nAug 05 11:12:01.520  INFO zksync_eth_sender::tx_queue: Adding commit operation to the queue. Sent pending txs count: 3, max pending txs count: 3, size of commit queue: 2\r\nAug 05 11:12:01.520  INFO zksync_eth_sender::tx_queue: Adding commit operation to the queue. Sent pending txs count: 3, max pending txs count: 3, size of commit queue: 3\r\nAug 05 11:12:01.521  INFO zksync_eth_sender::tx_queue: Adding commit operation to the queue. Sent pending txs count: 3, max pending txs count: 3, size of commit queue: 4\r\nAug 05 11:12:01.524  WARN zksync_eth_sender::gas_adjuster: Maximum possible gas price will be used: <1000000000> file=\"core/bin/zksync_eth_sender/src/gas_adjuster/mod.rs\" line=87 column=13\r\nAug 05 11:12:01.525  INFO zksync_eth_sender: Replacing tx: hash: 0x6b3db868d7aabb14af6429cab59e9120aea4cb982aa95e5337fadc8e70c4085d, old_gas: 68719476736, new_gas: 1000000000, used nonce: 5, gas limit: 684203\r\nAug 05 11:12:01.540  INFO zksync_eth_sender: Stuck tx processing: sending tx for op, eth_op_id: 4; ETH tx: <hash: 0x6b3db868d7aabb14af6429cab59e9120aea4cb982aa95e5337fadc8e70c4085d; gas price: 1 gwei; nonce: 5>\r\nAug 05 11:12:01.541  WARN zksync_eth_sender: Error while trying to complete uncommitted op: RPC error: Error { code: ServerError(-32000), message: \"nonce too low\", data: None } file=\"core/bin/zksync_eth_sender/src/lib.rs\" line=325 column=9\r\nAug 05 11:12:01.542  WARN zksync_eth_sender: ETH transaction failed: tx: 0x4e6d88c62d9e13d01d1d8386ebd0037b5408c081bd3352148aefc6275e9cf817, op_type: PublishProofBlocksOnchain, op: Some((7, PublishProofBlocksOnchain(BlocksProofOperation { blocks: [Block { block_number: BlockNumber(2), new_root_hash: Fr(0x1239bc70cdfe67d8a8cfbad1418b80d619d6c614ac6f2601e6f5eec6a4cfe10e), fee_account: AccountId(0), block_transactions: [PriorityOp(ExecutedPriorityOp { priority_op: PriorityOp { serial_id: 1, data: Deposit(Deposit { from: 0xde03a0b5963f75f1c8485b355ff6d30f3093bde7, token: TokenId(0), amount: BigUint { data: [3875820019684212736, 54] }, to: 0x52312ad6f01657413b2eae9287f6b9adad93d5fe }), deadline_block: 45962, eth_hash: 0x91eb98633ed0fd3d341aa76e9d22a074232005e89fe5be7b5664a3e3c26067ab, eth_block: 28682, eth_block_index: Some(0) }, op: Deposit(DepositOp { priority_op: Deposit { from: 0xde03a0b5963f75f1c8485b355ff6d30f3093bde7, token: TokenId(0), amount: BigUint { data: [3875820019684212736, 54] }, to: 0x52312ad6f01657413b2eae9287f6b9adad93d5fe }, account_id: AccountId(2) }), block_index: 0, created_at: 2021-08-05T02:46:40.239935Z })], processed_priority_ops: (1, 2), block_chunks_size: 26, commit_gas_limit: 76310, verify_gas_limit: 13130, block_commitment: 0xb46a6da90d41288b45f4bb46f505d81acd15b1f07dc10b6d8ada4ee37c0f6cf2, timestamp: 1628131600 }], proof: EncodedAggregatedProof { aggregated_input: 346049287364261391901907252160751213528961777895670960933310773807278562121, proof: [2645854546326066766549043961055785970016062453751185900737571779581165883756, 4706627444653325025534625766032588496078034374001837869598933179410886700459, 14080198906954884293683071851845066324735360881400772999165306128132464536100, 16404498431614090425931207303795693048321395613309339506310583924830209700655, 4333173291283626982417967801364535543724102289405464036909926196890163779907, 4721212036461554788752954370070004661461061538477462581263339401661608193493, 9198512498012543988610647698650018002854867706309503175021671435959244607962, 8412511611280142577060251343716574143919054817160901486370810583552373423285, 1289002317422258915652777021124771440299081790369190482585777224400118210621, 19579660757919868986581967384368874910183462159316248778080201750884813702116, 4231811499804687642409115317498556279393672183849084684568558344548553482853, 18009615016023965721751153469986148180849542229298862048234901965422278606081, 12105911690391516667593343391127820101303154291164528049093683154093511365492, 2034229981379998339355074721580869197715481198351274108390753598213539706370, 11133677110231497573353132509359047742300732376014519064781656355029069363841, 13738286736429187668355920121979497208088710910076759251272599900712952636026, 20048473503284644182148694774561837230510394076426481594432413241391076479483, 1508350023539436482789218468749212045652754240782185657056876674909053237406, 19496620983100243758966971870188177897187418039367558648659614443863412390257, 20794088649740175030288327625215065627513111232220550553755553394855894822551, 13040883363917428304676308060148485928341806074720500817888501689951175189718, 3166132121746569699778555490756414348075936544667552078240934820685687572405, 1266807951488589244707841984953683227764042406556998868778894426865937942233, 4756320755574769305753807429830851345765948026737104279987762007117409723444, 8246843424789921307356688811443397028445454295147857883588438480682109632531, 10122788719889448225419716798026582373426185247701179723965865390634232050657, 16490557053766670144503806217806717835417035419348878898315693036613376799856, 20618529433942801749918443655003099005851450748360387735893748610848549953632, 19261181159302802691429392601692669148794046265082067603212046411822440736403, 12021924789890596092187966084325722778111425865740813408730397557869139687382, 13956636066030904983792803293334043791918937401965295286494808492988793074272, 20854138677803768324224551209199367967556330753136158035516688845473411190061, 17372013321502018512745544563882600093006630869660526812216808130908173542175, 6132213350829949243028957975749640878850155472754185756648122501032642693744], subproof_limbs: [30906567423707388249, 293046237049438070272, 252867709751363578955, 560968676126065, 256775010625594287069, 23188975332347477681, 190820674283260406227, 630938574211536, 11228119627554653457, 311059107534590236, 273848838592029490080, 232910820974734, 251124054400205277323, 159920060217899502635, 26238640388742868696, 548728081987386], individual_vk_inputs: [9234299608510487818815208732439106617385852853165549206245492381648279268594], individual_vk_idxs: [0, 0] } }))); tx_receipt: Receipt {\r\n    transaction_hash: 0x4e6d88c62d9e13d01d1d8386ebd0037b5408c081bd3352148aefc6275e9cf817,\r\n    transaction_index: 0,\r\n    block_hash: Some(\r\n        0x68e95979c4fa3e7a5c7c5baed4154e098d64fe7d36acdeb13f6b701921331d26,\r\n    ),\r\n    block_number: Some(\r\n        28698,\r\n    ),\r\n    cumulative_gas_used: 65554,\r\n    gas_used: Some(\r\n        65554,\r\n    ),\r\n    contract_address: None,\r\n    logs: [],\r\n    status: Some(\r\n        0,\r\n    ),\r\n    root: None,\r\n    logs_bloom: 0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000,\r\n}  file=\"core/bin/zksync_eth_sender/src/lib.rs\" line=519 column=21\r\nAug 05 11:12:01.546 ERROR zksync_eth_sender: Ethereum transaction unexpectedly failed. Receipt: Receipt {\r\n    transaction_hash: 0x4e6d88c62d9e13d01d1d8386ebd0037b5408c081bd3352148aefc6275e9cf817,\r\n    transaction_index: 0,\r\n    block_hash: Some(\r\n        0x68e95979c4fa3e7a5c7c5baed4154e098d64fe7d36acdeb13f6b701921331d26,\r\n    ),\r\n    block_number: Some(\r\n        28698,\r\n    ),\r\n    cumulative_gas_used: 65554,\r\n    gas_used: Some(\r\n        65554,\r\n    ),\r\n    contract_address: None,\r\n    logs: [],\r\n    status: Some(\r\n        0,\r\n    ),\r\n    root: None,\r\n    logs_bloom: 0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000,\r\n} file=\"core/bin/zksync_eth_sender/src/lib.rs\" line=569 column=9\r\nAug 05 11:12:01.553 ERROR zksync_eth_sender: Failure reason for Ethereum tx: FailureInfo {\r\n    revert_code: \"08c379a0000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000026f31000000000000000000000000000000000000000000000000000000000000\",\r\n    revert_reason: \"o1\",\r\n    gas_used: Some(\r\n        65554,\r\n    ),\r\n    gas_limit: 1500000,\r\n} file=\"core/bin/zksync_eth_sender/src/lib.rs\" line=574 column=13\r\nthread 'tokio-runtime-worker' panicked at 'Cannot operate after unexpected TX failure', core/bin/zksync_eth_sender/src/lib.rs:578:9\r\nstack backtrace:\r\n   0: std::panicking::begin_panic\r\n   1: zksync_eth_sender::ETHSender<DB>::perform_commitment_step::{{closure}}\r\n   2: zksync_eth_sender::ETHSender<DB>::proceed_next_operations::{{closure}}\r\n   3: zksync_eth_sender::ETHSender<DB>::run::{{closure}}\r\n   4: <core::future::from_generator::GenFuture<T> as core::future::future::Future>::poll\r\n   5: <std::panic::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once\r\n   6: tokio::runtime::task::harness::Harness<T,S>::poll\r\n   7: std::thread::local::LocalKey<T>::with\r\n   8: tokio::runtime::thread_pool::worker::Context::run_task\r\n   9: tokio::runtime::thread_pool::worker::Context::run\r\n  10: tokio::macros::scoped_tls::ScopedKey<T>::set\r\n  11: tokio::runtime::thread_pool::worker::run\r\n  12: tokio::loom::std::unsafe_cell::UnsafeCell<T>::with_mut\r\n  13: <std::panic::AssertUnwindSafe<F> as core::ops::function::FnOnce<()>>::call_once\r\n  14: tokio::runtime::task::harness::Harness<T,S>::poll\r\n  15: tokio::runtime::blocking::pool::Inner::run\r\n  16: tokio::runtime::context::enter\r\nnote: Some details are omitted, run with `RUST_BACKTRACE=full` for a verbose backtrace.\r\nthread 'main' panicked at 'Ethereum Sender actors aren't supposed to finish their execution', core/bin/server/src/main.rs:115:13\r\nstack backtrace:\r\n   0: std::panicking::begin_panic\r\n   1: zksync_server::main::{{closure}}\r\n   2: tokio::runtime::enter::Enter::block_on\r\n   3: tokio::runtime::context::enter\r\n   4: zksync_server::main\r\nnote: Some details are omitted, run with `RUST_BACKTRACE=full` for a verbose backtrace.\r\nDeposit to the forced exit sender account has been successfully completed\r\n\r\nhow to fix it? or how to wipe the data and run it again? thanks a lot.\r\n",
  "closed_by": {
    "login": "gosgos11",
    "id": 82885740,
    "node_id": "MDQ6VXNlcjgyODg1NzQw",
    "avatar_url": "https://avatars.githubusercontent.com/u/82885740?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gosgos11",
    "html_url": "https://github.com/gosgos11",
    "followers_url": "https://api.github.com/users/gosgos11/followers",
    "following_url": "https://api.github.com/users/gosgos11/following{/other_user}",
    "gists_url": "https://api.github.com/users/gosgos11/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gosgos11/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gosgos11/subscriptions",
    "organizations_url": "https://api.github.com/users/gosgos11/orgs",
    "repos_url": "https://api.github.com/users/gosgos11/repos",
    "events_url": "https://api.github.com/users/gosgos11/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gosgos11/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/matter-labs/zksync/issues/325/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/matter-labs/zksync/issues/325/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/matter-labs/zksync/issues/comments/893169186",
    "html_url": "https://github.com/matter-labs/zksync/issues/325#issuecomment-893169186",
    "issue_url": "https://api.github.com/repos/matter-labs/zksync/issues/325",
    "id": 893169186,
    "node_id": "IC_kwDOC0aUls41PK4i",
    "user": {
      "login": "popzxc",
      "id": 12111581,
      "node_id": "MDQ6VXNlcjEyMTExNTgx",
      "avatar_url": "https://avatars.githubusercontent.com/u/12111581?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/popzxc",
      "html_url": "https://github.com/popzxc",
      "followers_url": "https://api.github.com/users/popzxc/followers",
      "following_url": "https://api.github.com/users/popzxc/following{/other_user}",
      "gists_url": "https://api.github.com/users/popzxc/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/popzxc/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/popzxc/subscriptions",
      "organizations_url": "https://api.github.com/users/popzxc/orgs",
      "repos_url": "https://api.github.com/users/popzxc/repos",
      "events_url": "https://api.github.com/users/popzxc/events{/privacy}",
      "received_events_url": "https://api.github.com/users/popzxc/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-05T05:10:26Z",
    "updated_at": "2021-08-05T05:10:26Z",
    "author_association": "MEMBER",
    "body": "Did you enable the dummy prover? It looks like you launched the dummy prover, but didn't enable it beforehand, so the contract expected a correct proof.",
    "reactions": {
      "url": "https://api.github.com/repos/matter-labs/zksync/issues/comments/893169186/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/matter-labs/zksync/issues/comments/893222064",
    "html_url": "https://github.com/matter-labs/zksync/issues/325#issuecomment-893222064",
    "issue_url": "https://api.github.com/repos/matter-labs/zksync/issues/325",
    "id": 893222064,
    "node_id": "IC_kwDOC0aUls41PXyw",
    "user": {
      "login": "gosgos11",
      "id": 82885740,
      "node_id": "MDQ6VXNlcjgyODg1NzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/82885740?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gosgos11",
      "html_url": "https://github.com/gosgos11",
      "followers_url": "https://api.github.com/users/gosgos11/followers",
      "following_url": "https://api.github.com/users/gosgos11/following{/other_user}",
      "gists_url": "https://api.github.com/users/gosgos11/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gosgos11/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gosgos11/subscriptions",
      "organizations_url": "https://api.github.com/users/gosgos11/orgs",
      "repos_url": "https://api.github.com/users/gosgos11/repos",
      "events_url": "https://api.github.com/users/gosgos11/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gosgos11/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-05T07:10:24Z",
    "updated_at": "2021-08-05T07:54:41Z",
    "author_association": "NONE",
    "body": "> Did you enable the dummy prover? It looks like you launched the dummy prover, but didn't enable it beforehand, so the contract expected a correct proo\r\n\r\n> Did you enable the dummy prover? It looks like you launched the dummy prover, but didn't enable it beforehand, so the contract expected a correct proof.\r\n\r\nThank you, yes, I enable dummy prover. now I run ./zk dummy-prover enable again, and then run ./zk server, it's ok again.\r\n\r\nBy the way, there is a WARN when run ./zk dummy-prover run:\r\nAug 05 15:00:36.991  WARN zksync_prover::client: Failed to reach server err: <failed to send get job request: error sending request for url (http://127.0.0.1:8088/get_job): error trying to connect: tcp connect error: Connection refused (os error 111)>, retrying after: 5.9s    \r\n\r\nIs there a problem with this warning?\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/matter-labs/zksync/issues/comments/893222064/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/matter-labs/zksync/issues/comments/893292597",
    "html_url": "https://github.com/matter-labs/zksync/issues/325#issuecomment-893292597",
    "issue_url": "https://api.github.com/repos/matter-labs/zksync/issues/325",
    "id": 893292597,
    "node_id": "IC_kwDOC0aUls41PpA1",
    "user": {
      "login": "popzxc",
      "id": 12111581,
      "node_id": "MDQ6VXNlcjEyMTExNTgx",
      "avatar_url": "https://avatars.githubusercontent.com/u/12111581?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/popzxc",
      "html_url": "https://github.com/popzxc",
      "followers_url": "https://api.github.com/users/popzxc/followers",
      "following_url": "https://api.github.com/users/popzxc/following{/other_user}",
      "gists_url": "https://api.github.com/users/popzxc/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/popzxc/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/popzxc/subscriptions",
      "organizations_url": "https://api.github.com/users/popzxc/orgs",
      "repos_url": "https://api.github.com/users/popzxc/repos",
      "events_url": "https://api.github.com/users/popzxc/events{/privacy}",
      "received_events_url": "https://api.github.com/users/popzxc/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-05T09:03:52Z",
    "updated_at": "2021-08-05T09:03:52Z",
    "author_association": "MEMBER",
    "body": "No, it's just prover not being able to contact the server. If after that it works normally, then there are no problems with that.",
    "reactions": {
      "url": "https://api.github.com/repos/matter-labs/zksync/issues/comments/893292597/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/matter-labs/zksync/issues/comments/893936069",
    "html_url": "https://github.com/matter-labs/zksync/issues/325#issuecomment-893936069",
    "issue_url": "https://api.github.com/repos/matter-labs/zksync/issues/325",
    "id": 893936069,
    "node_id": "IC_kwDOC0aUls41SGHF",
    "user": {
      "login": "gosgos11",
      "id": 82885740,
      "node_id": "MDQ6VXNlcjgyODg1NzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/82885740?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gosgos11",
      "html_url": "https://github.com/gosgos11",
      "followers_url": "https://api.github.com/users/gosgos11/followers",
      "following_url": "https://api.github.com/users/gosgos11/following{/other_user}",
      "gists_url": "https://api.github.com/users/gosgos11/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gosgos11/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gosgos11/subscriptions",
      "organizations_url": "https://api.github.com/users/gosgos11/orgs",
      "repos_url": "https://api.github.com/users/gosgos11/repos",
      "events_url": "https://api.github.com/users/gosgos11/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gosgos11/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-06T01:30:21Z",
    "updated_at": "2021-08-06T01:30:21Z",
    "author_association": "NONE",
    "body": "> No, it's just prover not being able to contact the server. If after that it works normally, then there are no problems with that.\r\n\r\nThank you.",
    "reactions": {
      "url": "https://api.github.com/repos/matter-labs/zksync/issues/comments/893936069/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
