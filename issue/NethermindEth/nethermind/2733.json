{
  "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/2733",
  "repository_url": "https://api.github.com/repos/NethermindEth/nethermind",
  "labels_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/2733/labels{/name}",
  "comments_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/2733/comments",
  "events_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/2733/events",
  "html_url": "https://github.com/NethermindEth/nethermind/issues/2733",
  "id": 799279263,
  "node_id": "MDU6SXNzdWU3OTkyNzkyNjM=",
  "number": 2733,
  "title": "Nethermind generating and unlocking accounts every time in Aura consensus",
  "user": {
    "login": "kuzdogan",
    "id": 13069972,
    "node_id": "MDQ6VXNlcjEzMDY5OTcy",
    "avatar_url": "https://avatars.githubusercontent.com/u/13069972?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/kuzdogan",
    "html_url": "https://github.com/kuzdogan",
    "followers_url": "https://api.github.com/users/kuzdogan/followers",
    "following_url": "https://api.github.com/users/kuzdogan/following{/other_user}",
    "gists_url": "https://api.github.com/users/kuzdogan/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/kuzdogan/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/kuzdogan/subscriptions",
    "organizations_url": "https://api.github.com/users/kuzdogan/orgs",
    "repos_url": "https://api.github.com/users/kuzdogan/repos",
    "events_url": "https://api.github.com/users/kuzdogan/events{/privacy}",
    "received_events_url": "https://api.github.com/users/kuzdogan/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1803453806,
      "node_id": "MDU6TGFiZWwxODAzNDUzODA2",
      "url": "https://api.github.com/repos/NethermindEth/nethermind/labels/aura",
      "name": "aura",
      "color": "e59792",
      "default": false,
      "description": ""
    },
    {
      "id": 2709107674,
      "node_id": "MDU6TGFiZWwyNzA5MTA3Njc0",
      "url": "https://api.github.com/repos/NethermindEth/nethermind/labels/setup",
      "name": "setup",
      "color": "A5F2D6",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "MarekM25",
    "id": 9356351,
    "node_id": "MDQ6VXNlcjkzNTYzNTE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/9356351?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/MarekM25",
    "html_url": "https://github.com/MarekM25",
    "followers_url": "https://api.github.com/users/MarekM25/followers",
    "following_url": "https://api.github.com/users/MarekM25/following{/other_user}",
    "gists_url": "https://api.github.com/users/MarekM25/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/MarekM25/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/MarekM25/subscriptions",
    "organizations_url": "https://api.github.com/users/MarekM25/orgs",
    "repos_url": "https://api.github.com/users/MarekM25/repos",
    "events_url": "https://api.github.com/users/MarekM25/events{/privacy}",
    "received_events_url": "https://api.github.com/users/MarekM25/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "MarekM25",
      "id": 9356351,
      "node_id": "MDQ6VXNlcjkzNTYzNTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9356351?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MarekM25",
      "html_url": "https://github.com/MarekM25",
      "followers_url": "https://api.github.com/users/MarekM25/followers",
      "following_url": "https://api.github.com/users/MarekM25/following{/other_user}",
      "gists_url": "https://api.github.com/users/MarekM25/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MarekM25/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MarekM25/subscriptions",
      "organizations_url": "https://api.github.com/users/MarekM25/orgs",
      "repos_url": "https://api.github.com/users/MarekM25/repos",
      "events_url": "https://api.github.com/users/MarekM25/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MarekM25/received_events",
      "type": "User",
      "site_admin": false
    },
    {
      "login": "LukaszRozmej",
      "id": 12445221,
      "node_id": "MDQ6VXNlcjEyNDQ1MjIx",
      "avatar_url": "https://avatars.githubusercontent.com/u/12445221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/LukaszRozmej",
      "html_url": "https://github.com/LukaszRozmej",
      "followers_url": "https://api.github.com/users/LukaszRozmej/followers",
      "following_url": "https://api.github.com/users/LukaszRozmej/following{/other_user}",
      "gists_url": "https://api.github.com/users/LukaszRozmej/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/LukaszRozmej/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/LukaszRozmej/subscriptions",
      "organizations_url": "https://api.github.com/users/LukaszRozmej/orgs",
      "repos_url": "https://api.github.com/users/LukaszRozmej/repos",
      "events_url": "https://api.github.com/users/LukaszRozmej/events{/privacy}",
      "received_events_url": "https://api.github.com/users/LukaszRozmej/received_events",
      "type": "User",
      "site_admin": false
    },
    {
      "login": "matilote",
      "id": 33068017,
      "node_id": "MDQ6VXNlcjMzMDY4MDE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/33068017?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/matilote",
      "html_url": "https://github.com/matilote",
      "followers_url": "https://api.github.com/users/matilote/followers",
      "following_url": "https://api.github.com/users/matilote/following{/other_user}",
      "gists_url": "https://api.github.com/users/matilote/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/matilote/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/matilote/subscriptions",
      "organizations_url": "https://api.github.com/users/matilote/orgs",
      "repos_url": "https://api.github.com/users/matilote/repos",
      "events_url": "https://api.github.com/users/matilote/events{/privacy}",
      "received_events_url": "https://api.github.com/users/matilote/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 8,
  "created_at": "2021-02-02T13:25:50Z",
  "updated_at": "2021-02-08T16:00:17Z",
  "closed_at": "2021-02-08T16:00:05Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "I'm setting up Nethermind for an Aura network and every time I see Nethermind generating and unlocking the same accounts on each run. I just want to use an existing address of which I hold the keys.\r\n![image](https://user-images.githubusercontent.com/13069972/106605887-b0f4d300-6561-11eb-9c73-7c787f089958.png)\r\n\r\nStill, the authority address is set up correctly as `0x021bc58...` in this case, and I can set its key accordingly as explained in the [docs](https://docs.nethermind.io/nethermind/guides-and-helpers/validator-setup/aura-validator#mining-private-key). The node gets set up to sign keys with `0x021bc58...`.\r\n\r\nBut why are the other accounts always being generated, and are they of any use? In our case, the existence of multiple keys may cause confusion to the admins running authority nodes.\r\n\r\nThanks",
  "closed_by": {
    "login": "kuzdogan",
    "id": 13069972,
    "node_id": "MDQ6VXNlcjEzMDY5OTcy",
    "avatar_url": "https://avatars.githubusercontent.com/u/13069972?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/kuzdogan",
    "html_url": "https://github.com/kuzdogan",
    "followers_url": "https://api.github.com/users/kuzdogan/followers",
    "following_url": "https://api.github.com/users/kuzdogan/following{/other_user}",
    "gists_url": "https://api.github.com/users/kuzdogan/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/kuzdogan/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/kuzdogan/subscriptions",
    "organizations_url": "https://api.github.com/users/kuzdogan/orgs",
    "repos_url": "https://api.github.com/users/kuzdogan/repos",
    "events_url": "https://api.github.com/users/kuzdogan/events{/privacy}",
    "received_events_url": "https://api.github.com/users/kuzdogan/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/2733/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/2733/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/771634045",
    "html_url": "https://github.com/NethermindEth/nethermind/issues/2733#issuecomment-771634045",
    "issue_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/2733",
    "id": 771634045,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3MTYzNDA0NQ==",
    "user": {
      "login": "tkstanczak",
      "id": 498913,
      "node_id": "MDQ6VXNlcjQ5ODkxMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/498913?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tkstanczak",
      "html_url": "https://github.com/tkstanczak",
      "followers_url": "https://api.github.com/users/tkstanczak/followers",
      "following_url": "https://api.github.com/users/tkstanczak/following{/other_user}",
      "gists_url": "https://api.github.com/users/tkstanczak/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tkstanczak/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tkstanczak/subscriptions",
      "organizations_url": "https://api.github.com/users/tkstanczak/orgs",
      "repos_url": "https://api.github.com/users/tkstanczak/repos",
      "events_url": "https://api.github.com/users/tkstanczak/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tkstanczak/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-02T13:28:16Z",
    "updated_at": "2021-02-02T13:28:16Z",
    "author_association": "MEMBER",
    "body": "@matilote @LukaszRozmej @MarekM25 <- need the KeyStore/AuRa task force to help here",
    "reactions": {
      "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/771634045/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/771824978",
    "html_url": "https://github.com/NethermindEth/nethermind/issues/2733#issuecomment-771824978",
    "issue_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/2733",
    "id": 771824978,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3MTgyNDk3OA==",
    "user": {
      "login": "LukaszRozmej",
      "id": 12445221,
      "node_id": "MDQ6VXNlcjEyNDQ1MjIx",
      "avatar_url": "https://avatars.githubusercontent.com/u/12445221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/LukaszRozmej",
      "html_url": "https://github.com/LukaszRozmej",
      "followers_url": "https://api.github.com/users/LukaszRozmej/followers",
      "following_url": "https://api.github.com/users/LukaszRozmej/following{/other_user}",
      "gists_url": "https://api.github.com/users/LukaszRozmej/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/LukaszRozmej/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/LukaszRozmej/subscriptions",
      "organizations_url": "https://api.github.com/users/LukaszRozmej/orgs",
      "repos_url": "https://api.github.com/users/LukaszRozmej/repos",
      "events_url": "https://api.github.com/users/LukaszRozmej/events{/privacy}",
      "received_events_url": "https://api.github.com/users/LukaszRozmej/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-02T17:36:19Z",
    "updated_at": "2021-02-02T19:17:56Z",
    "author_association": "MEMBER",
    "body": "Hi so there is a separate key used for network communication which needs to be unique. Its completely separate thing from consensus mechanism in AuRa. This key is then used in your public enode for example. You can set it up in KeyStoreConfig in EnodeAccount property: https://docs.nethermind.io/nethermind/ethereum-client/configuration/modules/keystore\r\n\r\nIf not set up this will be generated as the node cannot operate without it. It shouldn't be regenerated on consequent runs it if it is successfully stored.",
    "reactions": {
      "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/771824978/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/772395644",
    "html_url": "https://github.com/NethermindEth/nethermind/issues/2733#issuecomment-772395644",
    "issue_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/2733",
    "id": 772395644,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3MjM5NTY0NA==",
    "user": {
      "login": "tkstanczak",
      "id": 498913,
      "node_id": "MDQ6VXNlcjQ5ODkxMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/498913?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tkstanczak",
      "html_url": "https://github.com/tkstanczak",
      "followers_url": "https://api.github.com/users/tkstanczak/followers",
      "following_url": "https://api.github.com/users/tkstanczak/following{/other_user}",
      "gists_url": "https://api.github.com/users/tkstanczak/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tkstanczak/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tkstanczak/subscriptions",
      "organizations_url": "https://api.github.com/users/tkstanczak/orgs",
      "repos_url": "https://api.github.com/users/tkstanczak/repos",
      "events_url": "https://api.github.com/users/tkstanczak/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tkstanczak/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-03T10:15:48Z",
    "updated_at": "2021-02-03T10:15:48Z",
    "author_association": "MEMBER",
    "body": "@LukaszRozmej wy are there three accounts unlocked?\r\n@kuzdogan , does it answer your question?",
    "reactions": {
      "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/772395644/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/772464778",
    "html_url": "https://github.com/NethermindEth/nethermind/issues/2733#issuecomment-772464778",
    "issue_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/2733",
    "id": 772464778,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3MjQ2NDc3OA==",
    "user": {
      "login": "kuzdogan",
      "id": 13069972,
      "node_id": "MDQ6VXNlcjEzMDY5OTcy",
      "avatar_url": "https://avatars.githubusercontent.com/u/13069972?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kuzdogan",
      "html_url": "https://github.com/kuzdogan",
      "followers_url": "https://api.github.com/users/kuzdogan/followers",
      "following_url": "https://api.github.com/users/kuzdogan/following{/other_user}",
      "gists_url": "https://api.github.com/users/kuzdogan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kuzdogan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kuzdogan/subscriptions",
      "organizations_url": "https://api.github.com/users/kuzdogan/orgs",
      "repos_url": "https://api.github.com/users/kuzdogan/repos",
      "events_url": "https://api.github.com/users/kuzdogan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kuzdogan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-03T12:15:10Z",
    "updated_at": "2021-02-03T12:18:23Z",
    "author_association": "NONE",
    "body": "I see. Is there a particular reason not to use the signer account as the network communication account? \r\n\r\nI tried passing `EnodeAccount` and `EnodeKeyFile`. Here are the results.\r\n\r\n## Command line options\r\nWhen I'm trying to set `--Keystore.EnodeAccount` or `--Keystore.EnodeKeyFile` as params I am getting errors below that the options are not recognized. \r\n\r\nI have the `nethermind:latest` image `9608489ca2a1`. My running command is as follows in the docker container. \r\n\r\n**EnodeAccount:**\r\n```\r\n./Nethermind.Runner --config  /nethermind/configs/bloxberg.cfg --Network.ExternalIp ${NAT_IP} \r\n--KeyStore.BlockAuthorAccount ${PUBLIC_ADDRESS} \r\n--KeyStore.UnlockAccounts [\"${PUBLIC_ADDRESS}\"] \r\n--Keystore.EnodeAccount ${PUBLIC_ADDRESS}\r\n```\r\n```\r\nbloxbergValidator-nethermind | =====Starting from the script=====\r\nbloxbergValidator-nethermind | 2021-02-03 12-04-49.4186|Nethermind starting initialization.\r\nbloxbergValidator-nethermind | 2021-02-03 12-04-49.4340|Loading embedded plugins\r\nbloxbergValidator-nethermind | 2021-02-03 12-04-49.4345|  Found plugin type Nethermind.Consensus.Clique.CliquePlugin\r\nbloxbergValidator-nethermind | 2021-02-03 12-04-49.4345|  Found plugin type Nethermind.Consensus.Ethash.EthashPlugin\r\nbloxbergValidator-nethermind | 2021-02-03 12-04-49.4345|  Found plugin type Nethermind.Consensus.Ethash.NethDevPlugin\r\nbloxbergValidator-nethermind | Resolved executing directory as /nethermind.\r\nbloxbergValidator-nethermind | 2021-02-03 12-04-49.5040|Loading 1 assemblies from /nethermind/plugins\r\nbloxbergValidator-nethermind | 2021-02-03 12-04-49.5042|Loading assembly Nethermind.HealthChecks\r\nbloxbergValidator-nethermind | 2021-02-03 12-04-49.5063|  Found plugin type Nethermind.HealthChecks\r\nbloxbergValidator-nethermind | Specify --help for a list of available options and commands.\r\nbloxbergValidator-nethermind | 2021-02-03 12:04:49.8158|Failure Microsoft.Extensions.CommandLineUtils.CommandParsingException: Unrecognized option '--Keystore.EnodeAccount'\r\nbloxbergValidator-nethermind |    at Microsoft.Extensions.CommandLineUtils.CommandLineApplication.HandleUnexpectedArg(CommandLineApplication command, String[] args, Int32 index, String argTypeName)\r\nbloxbergValidator-nethermind |    at Microsoft.Extensions.CommandLineUtils.CommandLineApplication.Execute(String[] args)\r\nbloxbergValidator-nethermind |    at Nethermind.Runner.Program.Run(String[] args) in /src/Nethermind/Nethermind.Runner/Program.cs:line 195\r\nbloxbergValidator-nethermind |    at Nethermind.Runner.Program.Main(String[] args) in /src/Nethermind/Nethermind.Runner/Program.cs:line 73\r\nbloxbergValidator-nethermind exited with code 0\r\n```\r\n\r\n**EnodeKeyFile:**\r\n```\r\n./Nethermind.Runner --config  /nethermind/configs/bloxberg.cfg --Network.ExternalIp ${NAT_IP} \r\n--KeyStore.BlockAuthorAccount ${PUBLIC_ADDRESS} \r\n--KeyStore.UnlockAccounts [\"${PUBLIC_ADDRESS}\"] \r\n--Keystore.EnodeKeyFile /nethermind/keystore/key-021bc580151828bf75c733bd917ffba3230040a7\r\n```\r\n```\r\nbloxbergValidator-nethermind | =====Starting from the script=====\r\nbloxbergValidator-nethermind | 2021-02-03 12-05-45.7530|Nethermind starting initialization.\r\nbloxbergValidator-nethermind | 2021-02-03 12-05-45.7687|Loading embedded plugins\r\nbloxbergValidator-nethermind | 2021-02-03 12-05-45.7691|  Found plugin type Nethermind.Consensus.Clique.CliquePlugin\r\nbloxbergValidator-nethermind | 2021-02-03 12-05-45.7691|  Found plugin type Nethermind.Consensus.Ethash.EthashPlugin\r\nbloxbergValidator-nethermind | 2021-02-03 12-05-45.7691|  Found plugin type Nethermind.Consensus.Ethash.NethDevPlugin\r\nbloxbergValidator-nethermind | Resolved executing directory as /nethermind.\r\nbloxbergValidator-nethermind | 2021-02-03 12-05-45.8389|Loading 1 assemblies from /nethermind/plugins\r\nbloxbergValidator-nethermind | 2021-02-03 12-05-45.8390|Loading assembly Nethermind.HealthChecks\r\nbloxbergValidator-nethermind | 2021-02-03 12-05-45.8411|  Found plugin type Nethermind.HealthChecks\r\nbloxbergValidator-nethermind | Specify --help for a list of available options and commands.\r\nbloxbergValidator-nethermind | 2021-02-03 12:05:46.1477|Failure Microsoft.Extensions.CommandLineUtils.CommandParsingException: Unrecognized option '--Keystore.EnodeKeyFile'\r\nbloxbergValidator-nethermind |    at Microsoft.Extensions.CommandLineUtils.CommandLineApplication.HandleUnexpectedArg(CommandLineApplication command, String[] args, Int32 index, String argTypeName)\r\nbloxbergValidator-nethermind |    at Microsoft.Extensions.CommandLineUtils.CommandLineApplication.Execute(String[] args)\r\nbloxbergValidator-nethermind |    at Nethermind.Runner.Program.Run(String[] args) in /src/Nethermind/Nethermind.Runner/Program.cs:line 195\r\nbloxbergValidator-nethermind |    at Nethermind.Runner.Program.Main(String[] args) in /src/Nethermind/Nethermind.Runner/Program.cs:line 73\r\nbloxbergValidator-nethermind exited with code 0\r\n```\r\n\r\n## Config file \r\n\r\nWhen I set the `Keystore.EnodeAccount` in the config file the accounts are still generated and unlocked but I get the node address as the miner address :heavy_check_mark: :\r\n\r\n**EnodeAccount:**\r\n```\r\n\"EnodeAccount\": \"0x021bc580151828bf75c733bd917ffba3230040a7\"\r\n```\r\nOutput:\r\n```\r\nbloxbergValidator-nethermind | 2021-02-03 10-32-17.1301|Reading config file from /nethermind/configs/bloxberg.cfg\r\nbloxbergValidator-nethermind | 2021-02-03 10-32-17.4843|Configuration initialized.\r\nbloxbergValidator-nethermind | 2021-02-03 10:32:17.7964|Using the external IP override: NetworkConfig.ExternalIp = <hiding ip>\r\nbloxbergValidator-nethermind | 2021-02-03 10:32:21.6487|Unlocking account: 0x7e5f4552091a69125d5dfcb7b8c2659029395bdf \r\nbloxbergValidator-nethermind | 2021-02-03 10:32:25.0648|Unlocking account: 0x2b5ad5c4795c026514f8317c7a215e218dccd6cf \r\nbloxbergValidator-nethermind | 2021-02-03 10:32:29.1101|Unlocking account: 0x6813eb9362372eef6200f3b1dbc3f819671cba69 \r\nbloxbergValidator-nethermind | 2021-02-03 10:32:29.5266|Block tree initialized, last processed is 0, best queued is 0, best known is 0, lowest inserted header , body  \r\nbloxbergValidator-nethermind | 2021-02-03 10:32:29.5266|Address 0x021bc580151828bf75c733bd917ffba3230040a7 is configured for signing blocks. \r\n...\r\nbloxbergValidator-nethermind | ======================== Nethermind initialization completed ========================\r\nbloxbergValidator-nethermind | Version      : 1.10.14-0-a6c443fb2-20210203/X64-Linux/5.0.2\r\nbloxbergValidator-nethermind | This node    : enode://683a8ae4b2a4d26f3c0a56bb82cdf47eef6f42366e3b21d6385e5744bcfddf7deab29bab302632a99ad91d6b589680ffc6a97b8bf62c0296abadae6f6a1b0528@ <hiding ip>:30303\r\nbloxbergValidator-nethermind | RPC modules  : \r\nbloxbergValidator-nethermind | Node address : 0x021bc580151828bf75c733bd917ffba3230040a7 (do not use as an account)\r\nbloxbergValidator-nethermind | Mem est tx   :     82MB\r\nbloxbergValidator-nethermind | Mem est DB   :     67MB\r\nbloxbergValidator-nethermind | JSON RPC     : http://127.0.0.1:8545\r\nbloxbergValidator-nethermind | Genesis hash : 0x2b7c083fa74bfc3327bf2510adf0a24452d39cd260bcf11fadbd7274861d0449\r\nbloxbergValidator-nethermind | External IP  : <hiding ip>\r\nbloxbergValidator-nethermind | Ethereum     : tcp://<hiding ip>:30303\r\nbloxbergValidator-nethermind | Discovery    : udp://<hiding ip>:30303\r\nbloxbergValidator-nethermind | Chainspec    : /nethermind/chainspec/bloxberg.json\r\nbloxbergValidator-nethermind | Chain ID     : 8995\r\nbloxbergValidator-nethermind | Chain head   : 0\r\nbloxbergValidator-nethermind | ===================================================================================== \r\n```\r\n**EnodeKeyFile**\r\nHowever setting the `EnodeKeyFile` fails and again, generates accounts:\r\n```\r\n\"EnodeKeyFile\": \"/nethermind/keystore/key-021bc580151828bf75c733bd917ffba3230040a7\"\r\n```\r\nOutput:\r\n```\r\nbloxbergValidator-nethermind | 2021-02-03 12-00-33.3805|Reading config file from /nethermind/configs/bloxberg.cfg\r\nbloxbergValidator-nethermind | 2021-02-03 12-00-33.7335|Configuration initialized.\r\nbloxbergValidator-nethermind | 2021-02-03 12:00:34.0300|Using the external IP override: NetworkConfig.ExternalIp =  <hiding ip>\r\nbloxbergValidator-nethermind | 2021-02-03 12:00:37.9574|Unlocking account: 0x7e5f4552091a69125d5dfcb7b8c2659029395bdf \r\nbloxbergValidator-nethermind | 2021-02-03 12:00:41.5052|Unlocking account: 0x2b5ad5c4795c026514f8317c7a215e218dccd6cf \r\nbloxbergValidator-nethermind | 2021-02-03 12:00:44.7309|Unlocking account: 0x6813eb9362372eef6200f3b1dbc3f819671cba69 \r\nbloxbergValidator-nethermind | 2021-02-03 12:00:44.7362|Step SetupKeyStore            failed after 10519ms System.ArgumentException: PrivateKey should be 32 bytes long (Parameter 'keyBytes')\r\nbloxbergValidator-nethermind |    at Nethermind.Crypto.PrivateKey..ctor(Byte[] keyBytes) in /src/Nethermind/Nethermind.Crypto/PrivateKey.cs:line 55\r\nbloxbergValidator-nethermind |    at Nethermind.Wallet.NodeKeyManager.<LoadNodeKey>g__LoadKeyFromFile|9_0() in /src/Nethermind/Nethermind.Wallet/NodeKeyManager.cs:line 87\r\nbloxbergValidator-nethermind |    at Nethermind.Wallet.NodeKeyManager.LoadNodeKey() in /src/Nethermind/Nethermind.Wallet/NodeKeyManager.cs:line 110\r\nbloxbergValidator-nethermind |    at Nethermind.Runner.Ethereum.Steps.SetupKeyStore.<>c__DisplayClass2_0.<Execute>b__0() in /src/Nethermind/Nethermind.Runner/Ethereum/Steps/SetupKeyStore.cs:line 75\r\nbloxbergValidator-nethermind |    at System.Threading.Tasks.Task.InnerInvoke()\r\nbloxbergValidator-nethermind |    at System.Threading.Tasks.Task.<>c.<.cctor>b__277_0(Object obj)\r\nbloxbergValidator-nethermind |    at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)\r\nbloxbergValidator-nethermind | --- End of stack trace from previous location ---\r\nbloxbergValidator-nethermind |    at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)\r\nbloxbergValidator-nethermind |    at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)\r\nbloxbergValidator-nethermind | --- End of stack trace from previous location ---\r\nbloxbergValidator-nethermind |    at Nethermind.Runner.Ethereum.Steps.SetupKeyStore.Execute(CancellationToken cancellationToken) in /src/Nethermind/Nethermind.Runner/Ethereum/Steps/SetupKeyStore.cs:line 44\r\nbloxbergValidator-nethermind | 2021-02-03 12:00:44.8098|Block tree initialized, last processed is 0, best queued is 0, best known is 0, lowest inserted header , body  \r\nbloxbergValidator-nethermind | 2021-02-03 12:00:44.8098|No address is configured for signing blocks. \r\nbloxbergValidator-nethermind | 2021-02-03 12:00:44.8175|Initializing 4 plugins \r\nbloxbergValidator-nethermind | 2021-02-03 12:00:44.8175|  Clique by Nethermind \r\nbloxbergValidator-nethermind | 2021-02-03 12:00:44.8182|  Clique by Nethermind initialized in 0ms \r\nbloxbergValidator-nethermind | 2021-02-03 12:00:44.8182|  Ethash by Nethermind \r\nbloxbergValidator-nethermind | 2021-02-03 12:00:44.8182|  Ethash by Nethermind initialized in 0ms \r\nbloxbergValidator-nethermind | 2021-02-03 12:00:44.8182|  NethDev by Nethermind \r\nbloxbergValidator-nethermind | 2021-02-03 12:00:44.8182|  NethDev by Nethermind initialized in 0ms \r\nbloxbergValidator-nethermind | 2021-02-03 12:00:44.8182|  HealthChecks by Nethermind \r\nbloxbergValidator-nethermind | 2021-02-03 12:00:44.8182|  HealthChecks by Nethermind initialized in 1ms \r\nbloxbergValidator-nethermind | 2021-02-03 12:00:45.0109|Found no blocks to load from DB \r\nbloxbergValidator-nethermind | 2021-02-03 12:00:45.0199|Numbers resolved, level = Max(0, 0), header = Max(0, 0), body = Max(0, 0) \r\nbloxbergValidator-nethermind | 2021-02-03 12:00:45.0334|Step InitializeNetworkAuRa    failed after 10ms Nethermind.Runner.Ethereum.Steps.StepDependencyException: NodeKey\r\nbloxbergValidator-nethermind |    at Nethermind.Runner.Ethereum.Steps.InitializeNetwork.InitDiscovery() in /src/Nethermind/Nethermind.Runner/Ethereum/Steps/InitializeNetwork.cs:line 265\r\nbloxbergValidator-nethermind |    at Nethermind.Runner.Ethereum.Steps.InitializeNetwork.Initialize(CancellationToken cancellationToken) in /src/Nethermind/Nethermind.Runner/Ethereum/Steps/InitializeNetwork.cs:line 161\r\nbloxbergValidator-nethermind |    at Nethermind.Runner.Ethereum.Steps.InitializeNetwork.Execute(CancellationToken cancellationToken) in /src/Nethermind/Nethermind.Runner/Ethereum/Steps/InitializeNetwork.cs:line 86\r\nbloxbergValidator-nethermind | 2021-02-03 12:00:45.0826|Step RegisterRpcModules       failed after 45ms Nethermind.Runner.Ethereum.Steps.StepDependencyException: PeerManager\r\nbloxbergValidator-nethermind |    at Nethermind.Runner.Ethereum.Steps.RegisterRpcModules.Execute(CancellationToken cancellationToken) in /src/Nethermind/Nethermind.Runner/Ethereum/Steps/RegisterRpcModules.cs:line 152\r\nbloxbergValidator-nethermind | 2021-02-03 12:00:45.0826|Starting AuRa block producer & sealer \r\nbloxbergValidator-nethermind | 2021-02-03 12:00:45.0906|Starting AuRa block producer & sealer \r\nbloxbergValidator-nethermind | 2021-02-03 12:00:45.0972|Grafana / Prometheus metrics are disabled in configuration \r\nbloxbergValidator-nethermind | 2021-02-03 12:00:45.2190|\r\nbloxbergValidator-nethermind | ======================== Nethermind initialization completed ========================\r\nbloxbergValidator-nethermind | Mem est tx   :     82MB\r\nbloxbergValidator-nethermind | Mem est DB   :    100MB\r\nbloxbergValidator-nethermind | JSON RPC     : http://127.0.0.1:8545\r\nbloxbergValidator-nethermind | Genesis hash : 0x2b7c083fa74bfc3327bf2510adf0a24452d39cd260bcf11fadbd7274861d0449\r\nbloxbergValidator-nethermind | External IP  : <hiding ip>\r\nbloxbergValidator-nethermind | Chainspec    : /nethermind/chainspec/bloxberg.json\r\nbloxbergValidator-nethermind | Chain ID     : 8995\r\nbloxbergValidator-nethermind | Chain head   : 0\r\nbloxbergValidator-nethermind | ===================================================================================== \r\nbloxbergValidator-nethermind | 2021-02-03 12:00:46.0406|Peers | with known best block: 0 | all: 0 | \r\nbloxbergValidator-nethermind | 2021-02-03 12:00:46.0406|Waiting for peers... 1s \r\nbloxbergValidator-nethermind | 2021-02-03 12:00:46.0509|Sync peers - Initialized: 0 | All: 0 | Max: 256 \r\nbloxbergValidator-nethermind | 2021-02-03 12:00:47.0525|Waiting for peers... 2s \r\n...\r\nbloxbergValidator-nethermind | 2021-02-03 12:00:49.0534|Waiting for peers... 15s\r\n``` \r\n\r\nPrior to each run I delete `logs/` `db/` and `UTC-*` keys in the keystore.\r\n\r\nI'd say passing the `EnodeAccount` in the config file seems to be working out for us but the errors associated with the command line options are still there and generation of accounts still happens even with `EnodeAccount`.",
    "reactions": {
      "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/772464778/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/773671764",
    "html_url": "https://github.com/NethermindEth/nethermind/issues/2733#issuecomment-773671764",
    "issue_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/2733",
    "id": 773671764,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3MzY3MTc2NA==",
    "user": {
      "login": "tkstanczak",
      "id": 498913,
      "node_id": "MDQ6VXNlcjQ5ODkxMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/498913?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tkstanczak",
      "html_url": "https://github.com/tkstanczak",
      "followers_url": "https://api.github.com/users/tkstanczak/followers",
      "following_url": "https://api.github.com/users/tkstanczak/following{/other_user}",
      "gists_url": "https://api.github.com/users/tkstanczak/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tkstanczak/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tkstanczak/subscriptions",
      "organizations_url": "https://api.github.com/users/tkstanczak/orgs",
      "repos_url": "https://api.github.com/users/tkstanczak/repos",
      "events_url": "https://api.github.com/users/tkstanczak/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tkstanczak/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-04T23:30:18Z",
    "updated_at": "2021-02-04T23:30:18Z",
    "author_association": "MEMBER",
    "body": "@MarekM25 @LukaszRozmej @matilote \r\nthis spans on all of your areas -> setup docs, keystore, aura setup, would you have a look\r\nI find the keystore setup also a bit confusing now",
    "reactions": {
      "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/773671764/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/773672137",
    "html_url": "https://github.com/NethermindEth/nethermind/issues/2733#issuecomment-773672137",
    "issue_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/2733",
    "id": 773672137,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3MzY3MjEzNw==",
    "user": {
      "login": "tkstanczak",
      "id": 498913,
      "node_id": "MDQ6VXNlcjQ5ODkxMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/498913?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tkstanczak",
      "html_url": "https://github.com/tkstanczak",
      "followers_url": "https://api.github.com/users/tkstanczak/followers",
      "following_url": "https://api.github.com/users/tkstanczak/following{/other_user}",
      "gists_url": "https://api.github.com/users/tkstanczak/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tkstanczak/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tkstanczak/subscriptions",
      "organizations_url": "https://api.github.com/users/tkstanczak/orgs",
      "repos_url": "https://api.github.com/users/tkstanczak/repos",
      "events_url": "https://api.github.com/users/tkstanczak/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tkstanczak/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-04T23:31:18Z",
    "updated_at": "2021-02-04T23:31:18Z",
    "author_association": "MEMBER",
    "body": "@kuzdogan the three accounts that you see unlocked are due to: \r\n    \"EnableUnsecuredDevWallet\": true,\r\n\r\nPlease set it to false",
    "reactions": {
      "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/773672137/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/775191588",
    "html_url": "https://github.com/NethermindEth/nethermind/issues/2733#issuecomment-775191588",
    "issue_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/2733",
    "id": 775191588,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3NTE5MTU4OA==",
    "user": {
      "login": "LukaszRozmej",
      "id": 12445221,
      "node_id": "MDQ6VXNlcjEyNDQ1MjIx",
      "avatar_url": "https://avatars.githubusercontent.com/u/12445221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/LukaszRozmej",
      "html_url": "https://github.com/LukaszRozmej",
      "followers_url": "https://api.github.com/users/LukaszRozmej/followers",
      "following_url": "https://api.github.com/users/LukaszRozmej/following{/other_user}",
      "gists_url": "https://api.github.com/users/LukaszRozmej/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/LukaszRozmej/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/LukaszRozmej/subscriptions",
      "organizations_url": "https://api.github.com/users/LukaszRozmej/orgs",
      "repos_url": "https://api.github.com/users/LukaszRozmej/repos",
      "events_url": "https://api.github.com/users/LukaszRozmej/events{/privacy}",
      "received_events_url": "https://api.github.com/users/LukaszRozmej/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-08T14:33:16Z",
    "updated_at": "2021-02-08T14:33:16Z",
    "author_association": "MEMBER",
    "body": "@tkstanczak keystore setup mimics OpenEthereum one.\r\n@kuzdogan either you have EnableUnsecuredDevWallet set or those unlocks are from KeystoreConfig.UnlockAccounts",
    "reactions": {
      "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/775191588/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/775250622",
    "html_url": "https://github.com/NethermindEth/nethermind/issues/2733#issuecomment-775250622",
    "issue_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/2733",
    "id": 775250622,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3NTI1MDYyMg==",
    "user": {
      "login": "kuzdogan",
      "id": 13069972,
      "node_id": "MDQ6VXNlcjEzMDY5OTcy",
      "avatar_url": "https://avatars.githubusercontent.com/u/13069972?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kuzdogan",
      "html_url": "https://github.com/kuzdogan",
      "followers_url": "https://api.github.com/users/kuzdogan/followers",
      "following_url": "https://api.github.com/users/kuzdogan/following{/other_user}",
      "gists_url": "https://api.github.com/users/kuzdogan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kuzdogan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kuzdogan/subscriptions",
      "organizations_url": "https://api.github.com/users/kuzdogan/orgs",
      "repos_url": "https://api.github.com/users/kuzdogan/repos",
      "events_url": "https://api.github.com/users/kuzdogan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kuzdogan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-08T16:00:05Z",
    "updated_at": "2021-02-08T16:00:17Z",
    "author_association": "NONE",
    "body": "The first issue about `--Keystore.EnodeAccount` is due to a typo. Must be `--KeyStore.EnodeAccount` :smile: ~~Keystore~~ KeyStore\r\n\r\nSetting `EnableUnsecuredDevWallet: false` also solved the account generation issue. It seems I turned it on when I was trying to make the client use an existing key in the `KeyStore.KeyStoreDirectory` as explained [here](https://docs.nethermind.io/nethermind/guides-and-helpers/validator-setup/aura-validator#mining-private-key). My conclusion from the [description](https://docs.nethermind.io/nethermind/ethereum-client/configuration/modules/init) of the property `EnableUnsecuredDevWallet` was that I need to set it to `true` to be able to use the custom `KeyStore.KeyStoreDirectory`:\r\n```\r\nEnableUnsecuredDevWallet |         If 'true' then it enables the wallet / key store in the application.\r\n``` \r\n\r\nThanks a lot for the support!",
    "reactions": {
      "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/775250622/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
