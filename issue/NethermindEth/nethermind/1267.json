{
  "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/1267",
  "repository_url": "https://api.github.com/repos/NethermindEth/nethermind",
  "labels_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/1267/labels{/name}",
  "comments_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/1267/comments",
  "events_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/1267/events",
  "html_url": "https://github.com/NethermindEth/nethermind/issues/1267",
  "id": 548558680,
  "node_id": "MDU6SXNzdWU1NDg1NTg2ODA=",
  "number": 1267,
  "title": "Add support for partial archive nodes.",
  "user": {
    "login": "MicahZoltu",
    "id": 886059,
    "node_id": "MDQ6VXNlcjg4NjA1OQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/886059?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/MicahZoltu",
    "html_url": "https://github.com/MicahZoltu",
    "followers_url": "https://api.github.com/users/MicahZoltu/followers",
    "following_url": "https://api.github.com/users/MicahZoltu/following{/other_user}",
    "gists_url": "https://api.github.com/users/MicahZoltu/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/MicahZoltu/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/MicahZoltu/subscriptions",
    "organizations_url": "https://api.github.com/users/MicahZoltu/orgs",
    "repos_url": "https://api.github.com/users/MicahZoltu/repos",
    "events_url": "https://api.github.com/users/MicahZoltu/events{/privacy}",
    "received_events_url": "https://api.github.com/users/MicahZoltu/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2020-01-12T11:42:16Z",
  "updated_at": "2020-01-14T08:21:00Z",
  "closed_at": "2020-01-14T08:20:44Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "I would like the ability to tell Nethermind to retain state for old blocks up to some limit.  This feature request would not include retroactively fetching blocks from before my initial sync, it would just be for blocks received since my initial sync.\r\n\r\nFor example, if I start a new node that syncs up to block 9,000,000 and configure it to be `partial_archive_block_count=5`, then it would retain full state for block 9,000,000 but it would not try to generate complete state for block 8,999,999 (this was before my initial sync).  Upon receiving a new block, it would retain state for block 9,000,000 while also maintaining state for block 9,000,001.  This would repeat up until block 9,000,005 (so I have full state for blocks 9,000,000 through 9,000,005).  Upon receiving block 9,000,006 it would drop state for block 9,000,000 (leaving me with full state for blocks 9,000,001 through 9,000,006) so I only have 5 blocks worth of full state history.\r\n\r\nThe use case for this is that I often want an archive node so I can retroactively see what happened, but I don't need to be able to do that for ancient events.  An example is I might want to audit the recent deployment of some smart contract or investigate some odd behavior witnessed in a contract from earlier in the week.  Currently, my options are to run a full archive node (which consumes a massive amount of disk space) or just not be able to do that sort of work.\r\n\r\nRealistically, I can imagine myself storing anywhere from a week to a few months worth of state history, beyond that it isn't worth the increased disk space.",
  "closed_by": {
    "login": "tkstanczak",
    "id": 498913,
    "node_id": "MDQ6VXNlcjQ5ODkxMw==",
    "avatar_url": "https://avatars.githubusercontent.com/u/498913?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tkstanczak",
    "html_url": "https://github.com/tkstanczak",
    "followers_url": "https://api.github.com/users/tkstanczak/followers",
    "following_url": "https://api.github.com/users/tkstanczak/following{/other_user}",
    "gists_url": "https://api.github.com/users/tkstanczak/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tkstanczak/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tkstanczak/subscriptions",
    "organizations_url": "https://api.github.com/users/tkstanczak/orgs",
    "repos_url": "https://api.github.com/users/tkstanczak/repos",
    "events_url": "https://api.github.com/users/tkstanczak/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tkstanczak/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/1267/reactions",
    "total_count": 1,
    "+1": 1,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/1267/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/573410302",
    "html_url": "https://github.com/NethermindEth/nethermind/issues/1267#issuecomment-573410302",
    "issue_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/1267",
    "id": 573410302,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3MzQxMDMwMg==",
    "user": {
      "login": "tkstanczak",
      "id": 498913,
      "node_id": "MDQ6VXNlcjQ5ODkxMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/498913?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tkstanczak",
      "html_url": "https://github.com/tkstanczak",
      "followers_url": "https://api.github.com/users/tkstanczak/followers",
      "following_url": "https://api.github.com/users/tkstanczak/following{/other_user}",
      "gists_url": "https://api.github.com/users/tkstanczak/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tkstanczak/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tkstanczak/subscriptions",
      "organizations_url": "https://api.github.com/users/tkstanczak/orgs",
      "repos_url": "https://api.github.com/users/tkstanczak/repos",
      "events_url": "https://api.github.com/users/tkstanczak/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tkstanczak/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-01-12T12:27:10Z",
    "updated_at": "2020-01-12T12:27:10Z",
    "author_association": "MEMBER",
    "body": "Since Nethermind is not pruning state you will have a full tracing capability for the blocks after the initial sync.\r\n\r\nIf, on the other hand, you would like to sync now to a state that is 3 months old then it ishard to achieve as network has not many (barely any) nodes that serve 3 months old state.\r\n\r\nNethermind also switches to state sync (fast sync) after long pauses (when you switch it off and then back on after more than a few minutes). In such cases some blocks may nit be fully traceable.\r\n\r\nI suggestcloaing this one as a duplicta of pruning (and add some options to the exact pruning behaviour).",
    "reactions": {
      "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/573410302/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/573411323",
    "html_url": "https://github.com/NethermindEth/nethermind/issues/1267#issuecomment-573411323",
    "issue_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/1267",
    "id": 573411323,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3MzQxMTMyMw==",
    "user": {
      "login": "MicahZoltu",
      "id": 886059,
      "node_id": "MDQ6VXNlcjg4NjA1OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/886059?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MicahZoltu",
      "html_url": "https://github.com/MicahZoltu",
      "followers_url": "https://api.github.com/users/MicahZoltu/followers",
      "following_url": "https://api.github.com/users/MicahZoltu/following{/other_user}",
      "gists_url": "https://api.github.com/users/MicahZoltu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MicahZoltu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MicahZoltu/subscriptions",
      "organizations_url": "https://api.github.com/users/MicahZoltu/orgs",
      "repos_url": "https://api.github.com/users/MicahZoltu/repos",
      "events_url": "https://api.github.com/users/MicahZoltu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MicahZoltu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-01-12T12:40:15Z",
    "updated_at": "2020-01-12T12:40:35Z",
    "author_association": "CONTRIBUTOR",
    "body": "State pruning issue: #47 ",
    "reactions": {
      "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/573411323/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/574058488",
    "html_url": "https://github.com/NethermindEth/nethermind/issues/1267#issuecomment-574058488",
    "issue_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/1267",
    "id": 574058488,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3NDA1ODQ4OA==",
    "user": {
      "login": "tkstanczak",
      "id": 498913,
      "node_id": "MDQ6VXNlcjQ5ODkxMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/498913?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tkstanczak",
      "html_url": "https://github.com/tkstanczak",
      "followers_url": "https://api.github.com/users/tkstanczak/followers",
      "following_url": "https://api.github.com/users/tkstanczak/following{/other_user}",
      "gists_url": "https://api.github.com/users/tkstanczak/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tkstanczak/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tkstanczak/subscriptions",
      "organizations_url": "https://api.github.com/users/tkstanczak/orgs",
      "repos_url": "https://api.github.com/users/tkstanczak/repos",
      "events_url": "https://api.github.com/users/tkstanczak/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tkstanczak/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-01-14T08:20:59Z",
    "updated_at": "2020-01-14T08:20:59Z",
    "author_association": "MEMBER",
    "body": "moved the comment to #47 ",
    "reactions": {
      "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/574058488/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
