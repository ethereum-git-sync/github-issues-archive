{
  "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/5720",
  "repository_url": "https://api.github.com/repos/NethermindEth/nethermind",
  "labels_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/5720/labels{/name}",
  "comments_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/5720/comments",
  "events_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/5720/events",
  "html_url": "https://github.com/NethermindEth/nethermind/issues/5720",
  "id": 1720183714,
  "node_id": "I_kwDOBggaLc5mh-ui",
  "number": 5720,
  "title": "Nethermind.Crypto.SecP256k1 exception in Nethermind 1.19.0-rc when running on Windows 11 Pro",
  "user": {
    "login": "vadym-voznyuk",
    "id": 69816980,
    "node_id": "MDQ6VXNlcjY5ODE2OTgw",
    "avatar_url": "https://avatars.githubusercontent.com/u/69816980?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vadym-voznyuk",
    "html_url": "https://github.com/vadym-voznyuk",
    "followers_url": "https://api.github.com/users/vadym-voznyuk/followers",
    "following_url": "https://api.github.com/users/vadym-voznyuk/following{/other_user}",
    "gists_url": "https://api.github.com/users/vadym-voznyuk/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vadym-voznyuk/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vadym-voznyuk/subscriptions",
    "organizations_url": "https://api.github.com/users/vadym-voznyuk/orgs",
    "repos_url": "https://api.github.com/users/vadym-voznyuk/repos",
    "events_url": "https://api.github.com/users/vadym-voznyuk/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vadym-voznyuk/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2023-05-22T18:10:15Z",
  "updated_at": "2023-05-23T08:51:49Z",
  "closed_at": "2023-05-23T08:51:49Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Windows 11 Pro, fresh install, 6 core AMD Ryzen, 32 GB DDR5 RAM, 2TB Samsung 990 Pro NVMe SSD, all new hardware, tested and rock solid so far. No video card, using integrated Ryzen video instead.\r\n\r\nAll Windows patches and updates are up to date, all drivers installed, everything is green. Machine is fast and rock stable overall.\r\n\r\nNethermind 1.19.0-rc fresh download.\r\n\r\nStarting up first time in a Powershell window, in a new folder to start sync from scratch, here's the full log of the exception that happened:\r\n\r\n```\r\nPS C:\\nethermind_new> .\\Nethermind.Runner.exe\r\n2023-05-22 11-05-55.2212|Nethermind starting initialization.\r\n2023-05-22 11-05-55.2333|Client version: Nethermind/v1.19.0-rc+d8765075/windows-x64/dotnet7.0.5\r\n2023-05-22 11-05-55.2382|Loading embedded plugins\r\n2023-05-22 11-05-55.2382|  Found plugin type Nethermind.Consensus.AuRa.AuRaPlugin\r\n2023-05-22 11-05-55.2383|  Found plugin type Nethermind.Consensus.Clique.CliquePlugin\r\n2023-05-22 11-05-55.2383|  Found plugin type Nethermind.Consensus.Ethash.EthashPlugin\r\n2023-05-22 11-05-55.2383|  Found plugin type Nethermind.Consensus.Ethash.NethDevPlugin\r\n2023-05-22 11-05-55.2384|  Found plugin type Nethermind.Hive.HivePlugin\r\n2023-05-22 11-05-55.2384|  Found plugin type Nethermind.UPnP.Plugin.UPnPPlugin\r\nResolved executing directory as C:\\nethermind_new.\r\n2023-05-22 11-05-55.2446|Loading 10 assemblies from C:\\nethermind_new\\plugins\r\n2023-05-22 11-05-55.2447|Loading assembly Nethermind.AccountAbstraction\r\n2023-05-22 11-05-55.2507|  Found plugin type Nethermind.AccountAbstraction\r\n2023-05-22 11-05-55.2508|Loading assembly Nethermind.Api\r\n2023-05-22 11-05-55.2523|Loading assembly Nethermind.Consensus.AuRa\r\n2023-05-22 11-05-55.2545|Loading assembly Nethermind.EthStats\r\n2023-05-22 11-05-55.2551|  Found plugin type Nethermind.EthStats\r\n2023-05-22 11-05-55.2551|Loading assembly Nethermind.HealthChecks\r\n2023-05-22 11-05-55.2565|  Found plugin type Nethermind.HealthChecks\r\n2023-05-22 11-05-55.2565|Loading assembly Nethermind.Init\r\n2023-05-22 11-05-55.2570|Loading assembly Nethermind.JsonRpc.TraceStore\r\n2023-05-22 11-05-55.2578|  Found plugin type Nethermind.JsonRpc.TraceStore\r\n2023-05-22 11-05-55.2578|Loading assembly Nethermind.Merge.AuRa\r\n2023-05-22 11-05-55.2588|  Found plugin type Nethermind.Merge.AuRa\r\n2023-05-22 11-05-55.2588|Loading assembly Nethermind.Merge.Plugin\r\n2023-05-22 11-05-55.2605|  Found plugin type Nethermind.Merge.Plugin\r\n2023-05-22 11-05-55.2606|Loading assembly Nethermind.Mev\r\n2023-05-22 11-05-55.2618|  Found plugin type Nethermind.Mev\r\n2023-05-22 11-05-55.3020|Loading standard NLog.config file from C:\\nethermind_new\\NLog.config.\r\n2023-05-22 11-05-55.4014|NLog.config loaded in 99ms.\r\n2023-05-22 11-05-55.4021|Reading config file from C:\\nethermind_new\\configs/mainnet.cfg\r\n2023-05-22 11-05-55.4422|Configuration initialized.\r\n2023-05-22 11:05:55.4559|RocksDb Version: 8.0.0\r\n2023-05-22 11:05:55.4628|Loading chainspec from embedded resources: C:\\nethermind_new\\chainspec/foundation.json\r\n2023-05-22 11:05:55.6671|CPU: AMD Ryzen 5 7600 6-Core Processor (6C12T)\r\n2023-05-22 11:05:55.6671|Using http://ipv4.icanhazip.com to get external ip\r\n2023-05-22 11:05:55.7304|Setting up memory allowances\r\n2023-05-22 11:05:55.7304|  memory hint:        2048MB\r\n2023-05-22 11:05:55.7304|  general memory:     32MB\r\n2023-05-22 11:05:55.7304|  peers memory:       100MB\r\n2023-05-22 11:05:55.7304|  Netty memory:       268MB\r\n2023-05-22 11:05:55.7304|  mempool memory:     149MB\r\n2023-05-22 11:05:55.7304|  fast blocks memory: 149MB\r\n2023-05-22 11:05:55.7304|  trie memory:        269MB\r\n2023-05-22 11:05:55.7304|  DB memory:          1078MB\r\n2023-05-22 11:05:55.7414|Generating private key for the node (no node key in configuration) - stored in plain + key store for JSON RPC unlocking\r\n2023-05-22 11:05:55.7414|Step SetupKeyStore            failed after 8ms System.TypeInitializationException: The type initializer for 'Nethermind.Crypto.SecP256k1' threw an exception.\r\n ---> System.DllNotFoundException: Dll was not found.\r\n   at System.Runtime.InteropServices.NativeLibrary.LoadByName(String libraryName, QCallAssembly callingAssembly, Boolean hasDllImportSearchPathFlag, UInt32 dllImportSearchPathFlag, Boolean throwOnError)\r\n   at System.Runtime.InteropServices.NativeLibrary.LoadLibraryByName(String libraryName, Assembly assembly, Nullable`1 searchPath, Boolean throwOnError)\r\n   at Nethermind.Crypto.SecP256k1.LoadLibrary(String libraryName, Assembly assembly, Nullable`1 searchPath)\r\n   at System.Runtime.InteropServices.NativeLibrary.LoadLibraryCallbackStub(String libraryName, Assembly assembly, Boolean hasDllImportSearchPathFlags, UInt32 dllImportSearchPathFlags)\r\n   at Nethermind.Crypto.SecP256k1.secp256k1_context_create(UInt32 flags)\r\n   at Nethermind.Crypto.SecP256k1.CreateContext()\r\n   at Nethermind.Crypto.SecP256k1..cctor()\r\n   --- End of inner exception stack trace ---\r\n   at Nethermind.Crypto.SecP256k1.VerifyPrivateKey(Byte[] privateKey)\r\n   at Nethermind.Crypto.PrivateKeyGenerator.Generate()\r\n   at Nethermind.Wallet.NodeKeyManager.<LoadNodeKey>g__GenerateKeyIfNeeded|9_1(String newFile, String oldFile)\r\n   at Nethermind.Wallet.NodeKeyManager.<LoadNodeKey>g__LoadKeyFromFile|9_0()\r\n   at Nethermind.Wallet.NodeKeyManager.LoadNodeKey()\r\n   at Nethermind.Init.Steps.SetupKeyStore.<>c__DisplayClass2_0.<Execute>b__0()\r\n   at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)\r\n--- End of stack trace from previous location ---\r\n   at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)\r\n   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)\r\n--- End of stack trace from previous location ---\r\n   at Nethermind.Init.Steps.SetupKeyStore.Execute(CancellationToken cancellationToken)\r\n   at Nethermind.Init.Steps.EthereumStepsManager.ExecuteStep(IStep step, StepInfo stepInfo, CancellationToken cancellationToken)\r\n2023-05-22 11:05:55.8591|Error during ethereum runner start System.TypeInitializationException: The type initializer for 'Nethermind.Crypto.SecP256k1' threw an exception.\r\n ---> System.DllNotFoundException: Dll was not found.\r\n   at System.Runtime.InteropServices.NativeLibrary.LoadByName(String libraryName, QCallAssembly callingAssembly, Boolean hasDllImportSearchPathFlag, UInt32 dllImportSearchPathFlag, Boolean throwOnError)\r\n   at System.Runtime.InteropServices.NativeLibrary.LoadLibraryByName(String libraryName, Assembly assembly, Nullable`1 searchPath, Boolean throwOnError)\r\n   at Nethermind.Crypto.SecP256k1.LoadLibrary(String libraryName, Assembly assembly, Nullable`1 searchPath)\r\n   at System.Runtime.InteropServices.NativeLibrary.LoadLibraryCallbackStub(String libraryName, Assembly assembly, Boolean hasDllImportSearchPathFlags, UInt32 dllImportSearchPathFlags)\r\n   at Nethermind.Crypto.SecP256k1.secp256k1_context_create(UInt32 flags)\r\n   at Nethermind.Crypto.SecP256k1.CreateContext()\r\n   at Nethermind.Crypto.SecP256k1..cctor()\r\n   --- End of inner exception stack trace ---\r\n   at Nethermind.Crypto.SecP256k1.VerifyPrivateKey(Byte[] privateKey)\r\n   at Nethermind.Crypto.PrivateKeyGenerator.Generate()\r\n   at Nethermind.Wallet.NodeKeyManager.<LoadNodeKey>g__GenerateKeyIfNeeded|9_1(String newFile, String oldFile)\r\n   at Nethermind.Wallet.NodeKeyManager.<LoadNodeKey>g__LoadKeyFromFile|9_0()\r\n   at Nethermind.Wallet.NodeKeyManager.LoadNodeKey()\r\n   at Nethermind.Init.Steps.SetupKeyStore.<>c__DisplayClass2_0.<Execute>b__0()\r\n   at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)\r\n--- End of stack trace from previous location ---\r\n   at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)\r\n   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)\r\n--- End of stack trace from previous location ---\r\n   at Nethermind.Init.Steps.SetupKeyStore.Execute(CancellationToken cancellationToken)\r\n   at Nethermind.Init.Steps.EthereumStepsManager.ExecuteStep(IStep step, StepInfo stepInfo, CancellationToken cancellationToken)\r\n   at Nethermind.Init.Steps.EthereumStepsManager.ReviewFailedAndThrow()\r\n   at Nethermind.Init.Steps.EthereumStepsManager.InitializeAll(CancellationToken cancellationToken)\r\n   at Nethermind.Runner.Ethereum.EthereumRunner.Start(CancellationToken cancellationToken)\r\n   at Nethermind.Runner.Program.<>c__DisplayClass10_0.<<Run>b__1>d.MoveNext()\r\n2023-05-22 11:05:55.8591|Closing, please wait until all functions are stopped properly...\r\n2023-05-22 11:05:55.8591|Stopping session monitor...\r\n2023-05-22 11:05:55.8591|Stopping session sync mode selector...\r\n2023-05-22 11:05:55.8591|Stopping discovery app...\r\n2023-05-22 11:05:55.8591|Stopping block producer...\r\n2023-05-22 11:05:55.8591|Stopping sync peer pool...\r\n2023-05-22 11:05:55.8591|Stopping peer pool...\r\n2023-05-22 11:05:55.8591|Stopping peer manager...\r\n2023-05-22 11:05:55.8591|Stopping synchronizer...\r\n2023-05-22 11:05:55.8591|Stopping blockchain processor...\r\n2023-05-22 11:05:55.8591|Stopping rlpx peer...\r\n2023-05-22 11:05:55.8591|Disposing plugin Clique...\r\n2023-05-22 11:05:55.8591|Disposing plugin AuRa...\r\n2023-05-22 11:05:55.8591|Disposing plugin Ethash...\r\n2023-05-22 11:05:55.8591|Disposing plugin NethDev...\r\n2023-05-22 11:05:55.8591|Disposing plugin AuRaMerge...\r\n2023-05-22 11:05:55.8591|Disposing plugin Merge...\r\n2023-05-22 11:05:55.8591|Disposing plugin MEV...\r\n2023-05-22 11:05:55.8591|Disposing plugin HealthChecks...\r\n2023-05-22 11:05:55.8591|Disposing plugin Hive...\r\n2023-05-22 11:05:55.8591|Disposing plugin Account Abstraction...\r\n2023-05-22 11:05:55.8591|Disposing plugin EthStats...\r\n2023-05-22 11:05:55.8591|Disposing plugin TraceStore...\r\n2023-05-22 11:05:55.8591|Disposing plugin UPnP...\r\n2023-05-22 11:05:55.8591|Disposing Nethermind.Stats.NodeStatsManager...\r\n2023-05-22 11:05:55.8591|Disposing Nethermind.Crypto.CryptoRandom...\r\n2023-05-22 11:05:55.8591|Closing DBs...\r\n2023-05-22 11:05:55.8591|All DBs closed.\r\n2023-05-22 11:05:55.8591|Ethereum shutdown complete... please wait for all components to close\r\n2023-05-22` 11:05:55.8591|All done, goodbye!\r\n```\r\n\r\nPlease let me know if I can be of any assistance to debug and find the root cause of this.",
  "closed_by": {
    "login": "vadym-voznyuk",
    "id": 69816980,
    "node_id": "MDQ6VXNlcjY5ODE2OTgw",
    "avatar_url": "https://avatars.githubusercontent.com/u/69816980?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vadym-voznyuk",
    "html_url": "https://github.com/vadym-voznyuk",
    "followers_url": "https://api.github.com/users/vadym-voznyuk/followers",
    "following_url": "https://api.github.com/users/vadym-voznyuk/following{/other_user}",
    "gists_url": "https://api.github.com/users/vadym-voznyuk/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vadym-voznyuk/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vadym-voznyuk/subscriptions",
    "organizations_url": "https://api.github.com/users/vadym-voznyuk/orgs",
    "repos_url": "https://api.github.com/users/vadym-voznyuk/repos",
    "events_url": "https://api.github.com/users/vadym-voznyuk/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vadym-voznyuk/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/5720/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/5720/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/1558299872",
    "html_url": "https://github.com/NethermindEth/nethermind/issues/5720#issuecomment-1558299872",
    "issue_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/5720",
    "id": 1558299872,
    "node_id": "IC_kwDOBggaLc5c4cTg",
    "user": {
      "login": "benaadams",
      "id": 1142958,
      "node_id": "MDQ6VXNlcjExNDI5NTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1142958?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/benaadams",
      "html_url": "https://github.com/benaadams",
      "followers_url": "https://api.github.com/users/benaadams/followers",
      "following_url": "https://api.github.com/users/benaadams/following{/other_user}",
      "gists_url": "https://api.github.com/users/benaadams/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/benaadams/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/benaadams/subscriptions",
      "organizations_url": "https://api.github.com/users/benaadams/orgs",
      "repos_url": "https://api.github.com/users/benaadams/repos",
      "events_url": "https://api.github.com/users/benaadams/events{/privacy}",
      "received_events_url": "https://api.github.com/users/benaadams/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-23T01:01:51Z",
    "updated_at": "2023-05-23T01:01:51Z",
    "author_association": "MEMBER",
    "body": "@rubo ",
    "reactions": {
      "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/1558299872/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/1558732913",
    "html_url": "https://github.com/NethermindEth/nethermind/issues/5720#issuecomment-1558732913",
    "issue_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/5720",
    "id": 1558732913,
    "node_id": "IC_kwDOBggaLc5c6GBx",
    "user": {
      "login": "rubo",
      "id": 337518,
      "node_id": "MDQ6VXNlcjMzNzUxOA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/337518?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rubo",
      "html_url": "https://github.com/rubo",
      "followers_url": "https://api.github.com/users/rubo/followers",
      "following_url": "https://api.github.com/users/rubo/following{/other_user}",
      "gists_url": "https://api.github.com/users/rubo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rubo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rubo/subscriptions",
      "organizations_url": "https://api.github.com/users/rubo/orgs",
      "repos_url": "https://api.github.com/users/rubo/repos",
      "events_url": "https://api.github.com/users/rubo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rubo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-23T07:57:40Z",
    "updated_at": "2023-05-23T07:57:40Z",
    "author_association": "CONTRIBUTOR",
    "body": "@vadym-voznyuk Could you please check whether installing the latest [Microsoft Visual C++ Redistributable](https://aka.ms/vcredist) helps?",
    "reactions": {
      "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/1558732913/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 1,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/1558831495",
    "html_url": "https://github.com/NethermindEth/nethermind/issues/5720#issuecomment-1558831495",
    "issue_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/5720",
    "id": 1558831495,
    "node_id": "IC_kwDOBggaLc5c6eGH",
    "user": {
      "login": "vadym-voznyuk",
      "id": 69816980,
      "node_id": "MDQ6VXNlcjY5ODE2OTgw",
      "avatar_url": "https://avatars.githubusercontent.com/u/69816980?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vadym-voznyuk",
      "html_url": "https://github.com/vadym-voznyuk",
      "followers_url": "https://api.github.com/users/vadym-voznyuk/followers",
      "following_url": "https://api.github.com/users/vadym-voznyuk/following{/other_user}",
      "gists_url": "https://api.github.com/users/vadym-voznyuk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vadym-voznyuk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vadym-voznyuk/subscriptions",
      "organizations_url": "https://api.github.com/users/vadym-voznyuk/orgs",
      "repos_url": "https://api.github.com/users/vadym-voznyuk/repos",
      "events_url": "https://api.github.com/users/vadym-voznyuk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vadym-voznyuk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-23T08:48:07Z",
    "updated_at": "2023-05-23T08:48:07Z",
    "author_association": "NONE",
    "body": "@rubo works now! thanks a lot!",
    "reactions": {
      "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/1558831495/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
