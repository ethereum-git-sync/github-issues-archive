{
  "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/3949",
  "repository_url": "https://api.github.com/repos/NethermindEth/nethermind",
  "labels_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/3949/labels{/name}",
  "comments_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/3949/comments",
  "events_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/3949/events",
  "html_url": "https://github.com/NethermindEth/nethermind/issues/3949",
  "id": 1198574656,
  "node_id": "I_kwDOBggaLc5HcMxA",
  "number": 3949,
  "title": "Partial offline mode after restart and RocksDbException",
  "user": {
    "login": "NoahStahl",
    "id": 7528994,
    "node_id": "MDQ6VXNlcjc1Mjg5OTQ=",
    "avatar_url": "https://avatars.githubusercontent.com/u/7528994?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/NoahStahl",
    "html_url": "https://github.com/NoahStahl",
    "followers_url": "https://api.github.com/users/NoahStahl/followers",
    "following_url": "https://api.github.com/users/NoahStahl/following{/other_user}",
    "gists_url": "https://api.github.com/users/NoahStahl/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/NoahStahl/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/NoahStahl/subscriptions",
    "organizations_url": "https://api.github.com/users/NoahStahl/orgs",
    "repos_url": "https://api.github.com/users/NoahStahl/repos",
    "events_url": "https://api.github.com/users/NoahStahl/events{/privacy}",
    "received_events_url": "https://api.github.com/users/NoahStahl/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1217680451,
      "node_id": "MDU6TGFiZWwxMjE3NjgwNDUx",
      "url": "https://api.github.com/repos/NethermindEth/nethermind/labels/rocksdb",
      "name": "rocksdb",
      "color": "1b4987",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "kamilchodola",
    "id": 43241881,
    "node_id": "MDQ6VXNlcjQzMjQxODgx",
    "avatar_url": "https://avatars.githubusercontent.com/u/43241881?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/kamilchodola",
    "html_url": "https://github.com/kamilchodola",
    "followers_url": "https://api.github.com/users/kamilchodola/followers",
    "following_url": "https://api.github.com/users/kamilchodola/following{/other_user}",
    "gists_url": "https://api.github.com/users/kamilchodola/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/kamilchodola/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/kamilchodola/subscriptions",
    "organizations_url": "https://api.github.com/users/kamilchodola/orgs",
    "repos_url": "https://api.github.com/users/kamilchodola/repos",
    "events_url": "https://api.github.com/users/kamilchodola/events{/privacy}",
    "received_events_url": "https://api.github.com/users/kamilchodola/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "kamilchodola",
      "id": 43241881,
      "node_id": "MDQ6VXNlcjQzMjQxODgx",
      "avatar_url": "https://avatars.githubusercontent.com/u/43241881?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kamilchodola",
      "html_url": "https://github.com/kamilchodola",
      "followers_url": "https://api.github.com/users/kamilchodola/followers",
      "following_url": "https://api.github.com/users/kamilchodola/following{/other_user}",
      "gists_url": "https://api.github.com/users/kamilchodola/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kamilchodola/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kamilchodola/subscriptions",
      "organizations_url": "https://api.github.com/users/kamilchodola/orgs",
      "repos_url": "https://api.github.com/users/kamilchodola/repos",
      "events_url": "https://api.github.com/users/kamilchodola/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kamilchodola/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 14,
  "created_at": "2022-04-09T12:42:53Z",
  "updated_at": "2023-09-05T08:07:48Z",
  "closed_at": "2023-09-04T22:50:17Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "After running nethermind successfully for a couple months with no issues, I did a graceful restart for maintenance last week and upon starting again, have seen this logged every second for the past week straight:\r\n\r\n`Syncing previously downloaded blocks from DB (partial offline mode until it finishes)`\r\n\r\nI've restarted nethermind multiple times, same behavior. Some errors are logged suggesting DB corruption -- how can I best resolve this? I've run with `--Sync.FixReceipts true` which did not resolve.\r\n\r\nWhen stopping the process, this error is logged:\r\n\r\n```\r\n2022-04-09 07:19:58.9715|ERROR|624|Closing DBs shutdown error. RocksDbSharp.RocksDbException: IO error: ReadFile failed: D:\\Nethermind\\nethermind_db/mainnet\\receipts/038928.sst: Data error (cyclic redundancy check).\r\n\r\n   at RocksDbSharp.Native.rocksdb_flush(IntPtr db, IntPtr options)\r\n   at Nethermind.Db.Rocks.DbOnTheRocks.Flush()\r\n   at Nethermind.Db.Rocks.DbOnTheRocks.Dispose(Boolean disposing)\r\n   at Nethermind.Db.Rocks.DbOnTheRocks.Dispose()\r\n   at Nethermind.Db.DbProvider.Dispose()\r\n   at Nethermind.Runner.Ethereum.EthereumRunner.<StopAsync>b__5_8()\r\n   at Nethermind.Runner.Ethereum.EthereumRunner.Stop(Action stopAction, String description)\r\n\r\n```\r\n\r\nWhen starting the process, this error is logged:\r\n\r\n```\r\n2022-04-09 07:21:20.6166|ERROR|110|BlockchainProcessor encountered an exception. RocksDbSharp.RocksDbException: IO error: ReadFile failed: D:\\Nethermind\\nethermind_db/mainnet\\receipts/038928.sst: Data error (cyclic redundancy check).\r\n\r\n   at RocksDbSharp.Native.rocksdb_put(IntPtr db, IntPtr writeOptions, Byte[] key, Int64 keyLength, Byte[] value, Int64 valueLength, ColumnFamilyHandle cf)\r\n   at Nethermind.Db.Rocks.ColumnDb.set_Item(Byte[] key, Byte[] value)\r\n   at Nethermind.Blockchain.Receipts.PersistentReceiptStorage.Insert(Block block, TxReceipt[] txReceipts)\r\n   at Nethermind.Blockchain.Processing.BlockProcessor.StoreTxReceipts(Block block, TxReceipt[] txReceipts)\r\n   at Nethermind.Blockchain.Processing.BlockProcessor.ProcessOne(Block suggestedBlock, ProcessingOptions options, IBlockTracer blockTracer)\r\n   at Nethermind.Blockchain.Processing.BlockProcessor.Process(Keccak newBranchStateRoot, List`1 suggestedBlocks, ProcessingOptions options, IBlockTracer blockTracer)\r\n   at Nethermind.Blockchain.Processing.BlockchainProcessor.ProcessBranch(ProcessingBranch processingBranch, ProcessingOptions options, IBlockTracer tracer)\r\n   at Nethermind.Blockchain.Processing.BlockchainProcessor.Process(Block suggestedBlock, ProcessingOptions options, IBlockTracer tracer)\r\n   at Nethermind.Blockchain.Processing.BlockchainProcessor.RunProcessingLoop()\r\n   at System.Threading.Tasks.Task.InnerInvoke()\r\n   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)\r\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n--- End of stack trace from previous location ---\r\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)\r\n```\r\n\r\n**To Reproduce**\r\nGenerally, not sure. I suspect the database error means I have corruption.\r\n\r\n**Expected behavior**\r\nNo errors, expected normal mode.\r\n\r\n**Desktop (please complete the following information):**\r\n - OS: Windows 10\r\n - Version 1.12.4\r\n\r\n",
  "closed_by": {
    "login": "NoahStahl",
    "id": 7528994,
    "node_id": "MDQ6VXNlcjc1Mjg5OTQ=",
    "avatar_url": "https://avatars.githubusercontent.com/u/7528994?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/NoahStahl",
    "html_url": "https://github.com/NoahStahl",
    "followers_url": "https://api.github.com/users/NoahStahl/followers",
    "following_url": "https://api.github.com/users/NoahStahl/following{/other_user}",
    "gists_url": "https://api.github.com/users/NoahStahl/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/NoahStahl/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/NoahStahl/subscriptions",
    "organizations_url": "https://api.github.com/users/NoahStahl/orgs",
    "repos_url": "https://api.github.com/users/NoahStahl/repos",
    "events_url": "https://api.github.com/users/NoahStahl/events{/privacy}",
    "received_events_url": "https://api.github.com/users/NoahStahl/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/3949/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/3949/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/1095023444",
    "html_url": "https://github.com/NethermindEth/nethermind/issues/3949#issuecomment-1095023444",
    "issue_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/3949",
    "id": 1095023444,
    "node_id": "IC_kwDOBggaLc5BRLtU",
    "user": {
      "login": "LukaszRozmej",
      "id": 12445221,
      "node_id": "MDQ6VXNlcjEyNDQ1MjIx",
      "avatar_url": "https://avatars.githubusercontent.com/u/12445221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/LukaszRozmej",
      "html_url": "https://github.com/LukaszRozmej",
      "followers_url": "https://api.github.com/users/LukaszRozmej/followers",
      "following_url": "https://api.github.com/users/LukaszRozmej/following{/other_user}",
      "gists_url": "https://api.github.com/users/LukaszRozmej/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/LukaszRozmej/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/LukaszRozmej/subscriptions",
      "organizations_url": "https://api.github.com/users/LukaszRozmej/orgs",
      "repos_url": "https://api.github.com/users/LukaszRozmej/repos",
      "events_url": "https://api.github.com/users/LukaszRozmej/events{/privacy}",
      "received_events_url": "https://api.github.com/users/LukaszRozmej/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-04-11T13:03:17Z",
    "updated_at": "2022-04-11T13:03:17Z",
    "author_association": "MEMBER",
    "body": "Connected to #3938",
    "reactions": {
      "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/1095023444/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/1114984070",
    "html_url": "https://github.com/NethermindEth/nethermind/issues/3949#issuecomment-1114984070",
    "issue_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/3949",
    "id": 1114984070,
    "node_id": "IC_kwDOBggaLc5CdU6G",
    "user": {
      "login": "NoahStahl",
      "id": 7528994,
      "node_id": "MDQ6VXNlcjc1Mjg5OTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7528994?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/NoahStahl",
      "html_url": "https://github.com/NoahStahl",
      "followers_url": "https://api.github.com/users/NoahStahl/followers",
      "following_url": "https://api.github.com/users/NoahStahl/following{/other_user}",
      "gists_url": "https://api.github.com/users/NoahStahl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/NoahStahl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/NoahStahl/subscriptions",
      "organizations_url": "https://api.github.com/users/NoahStahl/orgs",
      "repos_url": "https://api.github.com/users/NoahStahl/repos",
      "events_url": "https://api.github.com/users/NoahStahl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/NoahStahl/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-02T14:45:27Z",
    "updated_at": "2022-05-02T14:45:27Z",
    "author_association": "NONE",
    "body": "Just noting this happened again today, upon the first graceful restart to apply updates. I had previously done a full resync and abandoned the previous state to get back to normal function.\r\n\r\nIt seems like stopping the instance is not safe.",
    "reactions": {
      "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/1114984070/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/1133103798",
    "html_url": "https://github.com/NethermindEth/nethermind/issues/3949#issuecomment-1133103798",
    "issue_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/3949",
    "id": 1133103798,
    "node_id": "IC_kwDOBggaLc5Dicq2",
    "user": {
      "login": "asdacap",
      "id": 1841324,
      "node_id": "MDQ6VXNlcjE4NDEzMjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1841324?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/asdacap",
      "html_url": "https://github.com/asdacap",
      "followers_url": "https://api.github.com/users/asdacap/followers",
      "following_url": "https://api.github.com/users/asdacap/following{/other_user}",
      "gists_url": "https://api.github.com/users/asdacap/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/asdacap/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/asdacap/subscriptions",
      "organizations_url": "https://api.github.com/users/asdacap/orgs",
      "repos_url": "https://api.github.com/users/asdacap/repos",
      "events_url": "https://api.github.com/users/asdacap/events{/privacy}",
      "received_events_url": "https://api.github.com/users/asdacap/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-20T16:34:36Z",
    "updated_at": "2022-05-20T16:34:36Z",
    "author_association": "CONTRIBUTOR",
    "body": "Just checking, according to SMART, how is the health of you drive?",
    "reactions": {
      "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/1133103798/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/1133627604",
    "html_url": "https://github.com/NethermindEth/nethermind/issues/3949#issuecomment-1133627604",
    "issue_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/3949",
    "id": 1133627604,
    "node_id": "IC_kwDOBggaLc5DkcjU",
    "user": {
      "login": "NoahStahl",
      "id": 7528994,
      "node_id": "MDQ6VXNlcjc1Mjg5OTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7528994?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/NoahStahl",
      "html_url": "https://github.com/NoahStahl",
      "followers_url": "https://api.github.com/users/NoahStahl/followers",
      "following_url": "https://api.github.com/users/NoahStahl/following{/other_user}",
      "gists_url": "https://api.github.com/users/NoahStahl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/NoahStahl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/NoahStahl/subscriptions",
      "organizations_url": "https://api.github.com/users/NoahStahl/orgs",
      "repos_url": "https://api.github.com/users/NoahStahl/repos",
      "events_url": "https://api.github.com/users/NoahStahl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/NoahStahl/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-21T12:40:09Z",
    "updated_at": "2022-05-21T12:40:09Z",
    "author_association": "NONE",
    "body": "There are no signs of issues with the hardware, everything reports healthy. Also, Nethermind runs fine for weeks with all the usual disk activity and no apparent problems. It is just when it is stopped that this issue manifests, which in my experience suggests there's something amiss with handling the process termination? I notice there is already a pretty comprehensive graceful shutdown phase, and this has been invoked each time the problem has occurred. So perhaps there is something more to be done there?",
    "reactions": {
      "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/1133627604/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/1268316996",
    "html_url": "https://github.com/NethermindEth/nethermind/issues/3949#issuecomment-1268316996",
    "issue_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/3949",
    "id": 1268316996,
    "node_id": "IC_kwDOBggaLc5LmPtE",
    "user": {
      "login": "begetan",
      "id": 17225934,
      "node_id": "MDQ6VXNlcjE3MjI1OTM0",
      "avatar_url": "https://avatars.githubusercontent.com/u/17225934?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/begetan",
      "html_url": "https://github.com/begetan",
      "followers_url": "https://api.github.com/users/begetan/followers",
      "following_url": "https://api.github.com/users/begetan/following{/other_user}",
      "gists_url": "https://api.github.com/users/begetan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/begetan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/begetan/subscriptions",
      "organizations_url": "https://api.github.com/users/begetan/orgs",
      "repos_url": "https://api.github.com/users/begetan/repos",
      "events_url": "https://api.github.com/users/begetan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/begetan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-05T11:36:37Z",
    "updated_at": "2022-10-05T11:36:37Z",
    "author_association": "NONE",
    "body": "It is not an issue, it is a feature according to this ticket: https://github.com/NethermindEth/nethermind/issues/2864",
    "reactions": {
      "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/1268316996/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/1285240465",
    "html_url": "https://github.com/NethermindEth/nethermind/issues/3949#issuecomment-1285240465",
    "issue_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/3949",
    "id": 1285240465,
    "node_id": "IC_kwDOBggaLc5MmzaR",
    "user": {
      "login": "MaxTeiger",
      "id": 38110296,
      "node_id": "MDQ6VXNlcjM4MTEwMjk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/38110296?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MaxTeiger",
      "html_url": "https://github.com/MaxTeiger",
      "followers_url": "https://api.github.com/users/MaxTeiger/followers",
      "following_url": "https://api.github.com/users/MaxTeiger/following{/other_user}",
      "gists_url": "https://api.github.com/users/MaxTeiger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MaxTeiger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MaxTeiger/subscriptions",
      "organizations_url": "https://api.github.com/users/MaxTeiger/orgs",
      "repos_url": "https://api.github.com/users/MaxTeiger/repos",
      "events_url": "https://api.github.com/users/MaxTeiger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MaxTeiger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-20T09:44:30Z",
    "updated_at": "2022-10-20T09:46:21Z",
    "author_association": "NONE",
    "body": "Did you find a way to make the node up & running again ? (I mean re-syncing from the last processed block when it stops)\r\n\r\nFor the moment I had to setup a new node from scratch, but it would be very convenient for me to make the other one back \r\non track again 😄 \r\n\r\nThanks !",
    "reactions": {
      "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/1285240465/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/1285402785",
    "html_url": "https://github.com/NethermindEth/nethermind/issues/3949#issuecomment-1285402785",
    "issue_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/3949",
    "id": 1285402785,
    "node_id": "IC_kwDOBggaLc5MnbCh",
    "user": {
      "login": "NoahStahl",
      "id": 7528994,
      "node_id": "MDQ6VXNlcjc1Mjg5OTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7528994?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/NoahStahl",
      "html_url": "https://github.com/NoahStahl",
      "followers_url": "https://api.github.com/users/NoahStahl/followers",
      "following_url": "https://api.github.com/users/NoahStahl/following{/other_user}",
      "gists_url": "https://api.github.com/users/NoahStahl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/NoahStahl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/NoahStahl/subscriptions",
      "organizations_url": "https://api.github.com/users/NoahStahl/orgs",
      "repos_url": "https://api.github.com/users/NoahStahl/repos",
      "events_url": "https://api.github.com/users/NoahStahl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/NoahStahl/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-20T11:59:01Z",
    "updated_at": "2022-10-20T11:59:01Z",
    "author_association": "NONE",
    "body": "I always had to do a full resync when this happened. Fortunately it hasn't recurred in recent memory.",
    "reactions": {
      "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/1285402785/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/1285421402",
    "html_url": "https://github.com/NethermindEth/nethermind/issues/3949#issuecomment-1285421402",
    "issue_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/3949",
    "id": 1285421402,
    "node_id": "IC_kwDOBggaLc5Mnfla",
    "user": {
      "login": "MaxTeiger",
      "id": 38110296,
      "node_id": "MDQ6VXNlcjM4MTEwMjk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/38110296?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MaxTeiger",
      "html_url": "https://github.com/MaxTeiger",
      "followers_url": "https://api.github.com/users/MaxTeiger/followers",
      "following_url": "https://api.github.com/users/MaxTeiger/following{/other_user}",
      "gists_url": "https://api.github.com/users/MaxTeiger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MaxTeiger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MaxTeiger/subscriptions",
      "organizations_url": "https://api.github.com/users/MaxTeiger/orgs",
      "repos_url": "https://api.github.com/users/MaxTeiger/repos",
      "events_url": "https://api.github.com/users/MaxTeiger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MaxTeiger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-20T12:07:53Z",
    "updated_at": "2022-10-20T12:07:53Z",
    "author_association": "NONE",
    "body": "> I always had to do a full resync when this happened. Fortunately it hasn't recurred in recent memory.\r\n\r\nSo supposedly, you would have to recreate a new node every time it crashes?",
    "reactions": {
      "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/1285421402/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/1290952856",
    "html_url": "https://github.com/NethermindEth/nethermind/issues/3949#issuecomment-1290952856",
    "issue_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/3949",
    "id": 1290952856,
    "node_id": "IC_kwDOBggaLc5M8mCY",
    "user": {
      "login": "NoahStahl",
      "id": 7528994,
      "node_id": "MDQ6VXNlcjc1Mjg5OTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7528994?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/NoahStahl",
      "html_url": "https://github.com/NoahStahl",
      "followers_url": "https://api.github.com/users/NoahStahl/followers",
      "following_url": "https://api.github.com/users/NoahStahl/following{/other_user}",
      "gists_url": "https://api.github.com/users/NoahStahl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/NoahStahl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/NoahStahl/subscriptions",
      "organizations_url": "https://api.github.com/users/NoahStahl/orgs",
      "repos_url": "https://api.github.com/users/NoahStahl/repos",
      "events_url": "https://api.github.com/users/NoahStahl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/NoahStahl/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-25T18:06:23Z",
    "updated_at": "2022-10-25T20:07:11Z",
    "author_association": "NONE",
    "body": "Just occurred an hour ago, node down with sudden `(cyclic redundancy check)` error after running fine for months.\r\n\r\nIt does appear this current case was related to a hardware error, with Windows 10 reporting `The device <HD> has a bad block`. It would be nice if RocksDB, or Nethermind on top of it, could recover from this scenario, as a single bad block should not be sufficient to corrupt an entire database. In other words, some resilience around isolated data access issues, given that a resync can get back a fully-working node in this case. The ideal behavior would be a warning about degraded storage, with continued function.\r\n\r\n```\r\n2022-10-25 12:51:02.7399|ERROR|513|engine_newPayloadV1 threw an unexpected exception. RocksDbSharp.RocksDbException: IO error: ReadFile failed: D:\\Nethermind\\nethermind_db/mainnet\\blocks/169436.sst: Data error (cyclic redundancy check).\r\n\r\n   at RocksDbSharp.Native.rocksdb_put(IntPtr db, IntPtr writeOptions, Byte[] key, Int64 keyLength, Byte[] value, Int64 valueLength, ColumnFamilyHandle cf)\r\n   at Nethermind.Db.Rocks.DbOnTheRocks.set_Item(Byte[] key, Byte[] value)\r\n   at Nethermind.Blockchain.BlockTree.Suggest(Block block, BlockHeader header, BlockTreeSuggestOptions options)\r\n   at Nethermind.Blockchain.BlockTree.SuggestBlockAsync(Block block, BlockTreeSuggestOptions suggestOptions)\r\n   at Nethermind.Merge.Plugin.TimeoutUtils.TimeoutOn[T](Task`1 task, Task timeoutTask)\r\n   at Nethermind.Merge.Plugin.Handlers.V1.NewPayloadV1Handler.ValidateBlockAndProcess(Block block, BlockHeader parent, ProcessingOptions processingOptions)\r\n   at Nethermind.Merge.Plugin.Handlers.V1.NewPayloadV1Handler.HandleAsync(ExecutionPayloadV1 request)\r\n   at Nethermind.Merge.Plugin.EngineRpcModule.engine_newPayloadV1(ExecutionPayloadV1 executionPayload) \r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/1290952856/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/1375427594",
    "html_url": "https://github.com/NethermindEth/nethermind/issues/3949#issuecomment-1375427594",
    "issue_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/3949",
    "id": 1375427594,
    "node_id": "IC_kwDOBggaLc5R-1wK",
    "user": {
      "login": "kamilchodola",
      "id": 43241881,
      "node_id": "MDQ6VXNlcjQzMjQxODgx",
      "avatar_url": "https://avatars.githubusercontent.com/u/43241881?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kamilchodola",
      "html_url": "https://github.com/kamilchodola",
      "followers_url": "https://api.github.com/users/kamilchodola/followers",
      "following_url": "https://api.github.com/users/kamilchodola/following{/other_user}",
      "gists_url": "https://api.github.com/users/kamilchodola/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kamilchodola/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kamilchodola/subscriptions",
      "organizations_url": "https://api.github.com/users/kamilchodola/orgs",
      "repos_url": "https://api.github.com/users/kamilchodola/repos",
      "events_url": "https://api.github.com/users/kamilchodola/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kamilchodola/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-09T10:54:10Z",
    "updated_at": "2023-01-09T10:54:10Z",
    "author_association": "CONTRIBUTOR",
    "body": "@NoahStahl @MaxTeiger \r\nI'm not sure if You are aware but on 1.15.0 we added a logic which will try to restore DB after unexpected issues like hardware issues or power cuts which **MAY** break DB but not necessarily it will.\r\n#4911 \r\n\r\nLet me know if You will have this problem again - on my side I'll try my best to reproduce this but not having those problems recently.",
    "reactions": {
      "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/1375427594/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/1705166729",
    "html_url": "https://github.com/NethermindEth/nethermind/issues/3949#issuecomment-1705166729",
    "issue_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/3949",
    "id": 1705166729,
    "node_id": "IC_kwDOBggaLc5loseJ",
    "user": {
      "login": "kamilchodola",
      "id": 43241881,
      "node_id": "MDQ6VXNlcjQzMjQxODgx",
      "avatar_url": "https://avatars.githubusercontent.com/u/43241881?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kamilchodola",
      "html_url": "https://github.com/kamilchodola",
      "followers_url": "https://api.github.com/users/kamilchodola/followers",
      "following_url": "https://api.github.com/users/kamilchodola/following{/other_user}",
      "gists_url": "https://api.github.com/users/kamilchodola/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kamilchodola/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kamilchodola/subscriptions",
      "organizations_url": "https://api.github.com/users/kamilchodola/orgs",
      "repos_url": "https://api.github.com/users/kamilchodola/repos",
      "events_url": "https://api.github.com/users/kamilchodola/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kamilchodola/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-09-04T12:15:21Z",
    "updated_at": "2023-09-04T12:15:21Z",
    "author_association": "CONTRIBUTOR",
    "body": "@NoahStahl @MaxTeiger \r\nIs any of You had this recently?\r\nI did not reproduced it for long time now and assuming our improvements in that area I assume it can be closed and may be reopened if anyone would spot that again.",
    "reactions": {
      "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/1705166729/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/1705209210",
    "html_url": "https://github.com/NethermindEth/nethermind/issues/3949#issuecomment-1705209210",
    "issue_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/3949",
    "id": 1705209210,
    "node_id": "IC_kwDOBggaLc5lo216",
    "user": {
      "login": "MaxTeiger",
      "id": 38110296,
      "node_id": "MDQ6VXNlcjM4MTEwMjk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/38110296?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MaxTeiger",
      "html_url": "https://github.com/MaxTeiger",
      "followers_url": "https://api.github.com/users/MaxTeiger/followers",
      "following_url": "https://api.github.com/users/MaxTeiger/following{/other_user}",
      "gists_url": "https://api.github.com/users/MaxTeiger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MaxTeiger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MaxTeiger/subscriptions",
      "organizations_url": "https://api.github.com/users/MaxTeiger/orgs",
      "repos_url": "https://api.github.com/users/MaxTeiger/repos",
      "events_url": "https://api.github.com/users/MaxTeiger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MaxTeiger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-09-04T12:44:19Z",
    "updated_at": "2023-09-04T12:44:19Z",
    "author_association": "NONE",
    "body": "Hello @kamilchodola ! \r\n\r\nNo I did not face this problem recently :) ",
    "reactions": {
      "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/1705209210/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/1705748969",
    "html_url": "https://github.com/NethermindEth/nethermind/issues/3949#issuecomment-1705748969",
    "issue_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/3949",
    "id": 1705748969,
    "node_id": "IC_kwDOBggaLc5lq6np",
    "user": {
      "login": "NoahStahl",
      "id": 7528994,
      "node_id": "MDQ6VXNlcjc1Mjg5OTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7528994?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/NoahStahl",
      "html_url": "https://github.com/NoahStahl",
      "followers_url": "https://api.github.com/users/NoahStahl/followers",
      "following_url": "https://api.github.com/users/NoahStahl/following{/other_user}",
      "gists_url": "https://api.github.com/users/NoahStahl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/NoahStahl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/NoahStahl/subscriptions",
      "organizations_url": "https://api.github.com/users/NoahStahl/orgs",
      "repos_url": "https://api.github.com/users/NoahStahl/repos",
      "events_url": "https://api.github.com/users/NoahStahl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/NoahStahl/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-09-04T22:50:17Z",
    "updated_at": "2023-09-04T22:50:17Z",
    "author_association": "NONE",
    "body": "@kamilchodola Thanks for checking -- I have not seen this happen again since the original reports. I will mark as closed 👍🏽",
    "reactions": {
      "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/1705748969/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/1706142070",
    "html_url": "https://github.com/NethermindEth/nethermind/issues/3949#issuecomment-1706142070",
    "issue_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/3949",
    "id": 1706142070,
    "node_id": "IC_kwDOBggaLc5lsal2",
    "user": {
      "login": "kamilchodola",
      "id": 43241881,
      "node_id": "MDQ6VXNlcjQzMjQxODgx",
      "avatar_url": "https://avatars.githubusercontent.com/u/43241881?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kamilchodola",
      "html_url": "https://github.com/kamilchodola",
      "followers_url": "https://api.github.com/users/kamilchodola/followers",
      "following_url": "https://api.github.com/users/kamilchodola/following{/other_user}",
      "gists_url": "https://api.github.com/users/kamilchodola/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kamilchodola/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kamilchodola/subscriptions",
      "organizations_url": "https://api.github.com/users/kamilchodola/orgs",
      "repos_url": "https://api.github.com/users/kamilchodola/repos",
      "events_url": "https://api.github.com/users/kamilchodola/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kamilchodola/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-09-05T08:07:48Z",
    "updated_at": "2023-09-05T08:07:48Z",
    "author_association": "CONTRIBUTOR",
    "body": "@MaxTeiger @NoahStahl Thanks for updates! :) ",
    "reactions": {
      "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/1706142070/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
