{
  "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/3006",
  "repository_url": "https://api.github.com/repos/NethermindEth/nethermind",
  "labels_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/3006/labels{/name}",
  "comments_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/3006/comments",
  "events_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/3006/events",
  "html_url": "https://github.com/NethermindEth/nethermind/issues/3006",
  "id": 865058396,
  "node_id": "MDU6SXNzdWU4NjUwNTgzOTY=",
  "number": 3006,
  "title": "Archive Node Reverting Blocks on Restart",
  "user": {
    "login": "MysticRyuujin",
    "id": 8877131,
    "node_id": "MDQ6VXNlcjg4NzcxMzE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/8877131?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/MysticRyuujin",
    "html_url": "https://github.com/MysticRyuujin",
    "followers_url": "https://api.github.com/users/MysticRyuujin/followers",
    "following_url": "https://api.github.com/users/MysticRyuujin/following{/other_user}",
    "gists_url": "https://api.github.com/users/MysticRyuujin/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/MysticRyuujin/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/MysticRyuujin/subscriptions",
    "organizations_url": "https://api.github.com/users/MysticRyuujin/orgs",
    "repos_url": "https://api.github.com/users/MysticRyuujin/repos",
    "events_url": "https://api.github.com/users/MysticRyuujin/events{/privacy}",
    "received_events_url": "https://api.github.com/users/MysticRyuujin/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2021-04-22T15:03:58Z",
  "updated_at": "2022-11-30T16:16:52Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "A few minutes before restarting node BlockNumber: `12279191`\r\n\r\nLogs on restart:\r\n```\r\n2021-04-20 15:27:52.5383|INFO|21|Processed   12279155 |    9,212ms, mgasps    1.41 total    1.41, tps   32.02 total   32.02, bps    0.00 total    0.00, recv queue 0, proc queue 65 \r\n2021-04-20 15:27:52.5383|INFO|21|Rerunning block after reorg or pruning: 12279156 (0xdcb05c11a84ebb8e69ff06a8c58e5a90c5285730af8ca16ae17fa16f87a6dcf4) \r\n2021-04-20 15:27:57.3693|INFO|21|Processed   12279156 |    4,831ms, mgasps    5.37 total    2.77, tps  117.99 total   61.60, bps    0.21 total    0.07, recv queue 0, proc queue 64 \r\n2021-04-20 15:27:57.3693|INFO|21|Rerunning block after reorg or pruning: 12279157 (0x418b90ade6c1326dddca3af71fb3e7ab94918fdd84f6a323d05990a439de6eb4) \r\n2021-04-20 15:28:00.2994|INFO|22|Discovered new block 12279228 15:27:45 (0xda121f...12344c), tx count: 194 miner Spark Pool, sent by [Peer|eth64|12279228|OpenEthereum/v3.2.4-stable-0996732-20210415/x86_64-linux-gnu/rustc1.51.0|104.248.27.136:30303]\r\n```\r\n\r\nBasically, whenever I restart Nethermind, even on clean shutdown, it reverts a bunch of blocks and then re-processes them. This is sub-optimal for an Archive Node.",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/3006/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/3006/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/1332413759",
    "html_url": "https://github.com/NethermindEth/nethermind/issues/3006#issuecomment-1332413759",
    "issue_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/3006",
    "id": 1332413759,
    "node_id": "IC_kwDOBggaLc5PawU_",
    "user": {
      "login": "MaxTeiger",
      "id": 38110296,
      "node_id": "MDQ6VXNlcjM4MTEwMjk2",
      "avatar_url": "https://avatars.githubusercontent.com/u/38110296?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MaxTeiger",
      "html_url": "https://github.com/MaxTeiger",
      "followers_url": "https://api.github.com/users/MaxTeiger/followers",
      "following_url": "https://api.github.com/users/MaxTeiger/following{/other_user}",
      "gists_url": "https://api.github.com/users/MaxTeiger/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MaxTeiger/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MaxTeiger/subscriptions",
      "organizations_url": "https://api.github.com/users/MaxTeiger/orgs",
      "repos_url": "https://api.github.com/users/MaxTeiger/repos",
      "events_url": "https://api.github.com/users/MaxTeiger/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MaxTeiger/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-11-30T16:16:52Z",
    "updated_at": "2022-11-30T16:16:52Z",
    "author_association": "NONE",
    "body": "Do you have any news about this ?",
    "reactions": {
      "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/1332413759/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
