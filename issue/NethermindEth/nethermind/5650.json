{
  "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/5650",
  "repository_url": "https://api.github.com/repos/NethermindEth/nethermind",
  "labels_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/5650/labels{/name}",
  "comments_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/5650/comments",
  "events_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/5650/events",
  "html_url": "https://github.com/NethermindEth/nethermind/issues/5650",
  "id": 1695222802,
  "node_id": "I_kwDOBggaLc5lCwwS",
  "number": 5650,
  "title": "CLI: node.switchLocal: System.UriFormatException: Invalid URI: The format of the URI could not be determined.",
  "user": {
    "login": "Jack-Works",
    "id": 5390719,
    "node_id": "MDQ6VXNlcjUzOTA3MTk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5390719?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Jack-Works",
    "html_url": "https://github.com/Jack-Works",
    "followers_url": "https://api.github.com/users/Jack-Works/followers",
    "following_url": "https://api.github.com/users/Jack-Works/following{/other_user}",
    "gists_url": "https://api.github.com/users/Jack-Works/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Jack-Works/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Jack-Works/subscriptions",
    "organizations_url": "https://api.github.com/users/Jack-Works/orgs",
    "repos_url": "https://api.github.com/users/Jack-Works/repos",
    "events_url": "https://api.github.com/users/Jack-Works/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Jack-Works/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2023-05-04T04:02:00Z",
  "updated_at": "2023-05-10T04:02:20Z",
  "closed_at": "2023-05-09T10:50:34Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "**Description**\r\nI'm trying to connect to the engine RPC to run some admin commands.\r\n\r\n**Steps to Reproduce**\r\n\r\n```\r\nnethermind> node.uri\r\n\"http://localhost:8545/\"\r\n\r\nnethermind> node.switchLocal(\"http://localhost:8551/\")\r\nSystem.UriFormatException: Invalid URI: The format of the URI could not be determined.\r\n   at Jint.Runtime.Interop.DelegateWrapper.Call(JsValue thisObject, JsValue[] jsArguments)\r\n   at Jint.Runtime.ExpressionInterpreter.EvaluateCallExpression(CallExpression callExpression)\r\n   at Jint.Engine.EvaluateExpression(Expression expression)\r\n   at Jint.Runtime.StatementInterpreter.ExecuteExpressionStatement(ExpressionStatement expressionStatement)\r\n   at Jint.Engine.ExecuteStatement(Statement statement)\r\n   at Jint.Runtime.StatementInterpreter.ExecuteStatement(Statement statement)\r\n   at Jint.Runtime.StatementInterpreter.ExecuteStatementList(IEnumerable`1 statementList)\r\n   at Jint.Runtime.StatementInterpreter.ExecuteProgram(Program program)\r\n   at Jint.Engine.Execute(Program program)\r\n   at Jint.Engine.Execute(String source)\r\n   at Nethermind.Cli.CliEngine.Execute(String statement)\r\n```\r\n\r\n**Desktop (please complete the following information):**\r\nPlease provide the following information regarding your setup:\r\n - Operating System: Linux\r\n - Version: Nethermind/v1.18.0+97e80dda/linux-x64/dotnet7.0.5\r\n - Installation Method: GitHub\r\n - Consensus Client: \r\n",
  "closed_by": {
    "login": "LukaszRozmej",
    "id": 12445221,
    "node_id": "MDQ6VXNlcjEyNDQ1MjIx",
    "avatar_url": "https://avatars.githubusercontent.com/u/12445221?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/LukaszRozmej",
    "html_url": "https://github.com/LukaszRozmej",
    "followers_url": "https://api.github.com/users/LukaszRozmej/followers",
    "following_url": "https://api.github.com/users/LukaszRozmej/following{/other_user}",
    "gists_url": "https://api.github.com/users/LukaszRozmej/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/LukaszRozmej/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/LukaszRozmej/subscriptions",
    "organizations_url": "https://api.github.com/users/LukaszRozmej/orgs",
    "repos_url": "https://api.github.com/users/LukaszRozmej/repos",
    "events_url": "https://api.github.com/users/LukaszRozmej/events{/privacy}",
    "received_events_url": "https://api.github.com/users/LukaszRozmej/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/5650/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/5650/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/1539340889",
    "html_url": "https://github.com/NethermindEth/nethermind/issues/5650#issuecomment-1539340889",
    "issue_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/5650",
    "id": 1539340889,
    "node_id": "IC_kwDOBggaLc5bwHpZ",
    "user": {
      "login": "deffrian",
      "id": 19891475,
      "node_id": "MDQ6VXNlcjE5ODkxNDc1",
      "avatar_url": "https://avatars.githubusercontent.com/u/19891475?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/deffrian",
      "html_url": "https://github.com/deffrian",
      "followers_url": "https://api.github.com/users/deffrian/followers",
      "following_url": "https://api.github.com/users/deffrian/following{/other_user}",
      "gists_url": "https://api.github.com/users/deffrian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/deffrian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/deffrian/subscriptions",
      "organizations_url": "https://api.github.com/users/deffrian/orgs",
      "repos_url": "https://api.github.com/users/deffrian/repos",
      "events_url": "https://api.github.com/users/deffrian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/deffrian/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-09T03:40:20Z",
    "updated_at": "2023-05-09T03:40:20Z",
    "author_association": "CONTRIBUTOR",
    "body": "@Jack-Works `node.switchLocal` takes only port, not entire uri. You can use `node.switch` instead. By the way, you can't connect to engine RPC port. It's authenticated and cli does not support connection to authenticated ports. I'm not sure what is your intent, but you can add admin module to 8545 endpoint. \r\n`--JsonRpc.EnabledModules=\"[Admin,Eth,Web3,Personal,Health]\"`",
    "reactions": {
      "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/1539340889/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/1539866345",
    "html_url": "https://github.com/NethermindEth/nethermind/issues/5650#issuecomment-1539866345",
    "issue_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/5650",
    "id": 1539866345,
    "node_id": "IC_kwDOBggaLc5byH7p",
    "user": {
      "login": "Jack-Works",
      "id": 5390719,
      "node_id": "MDQ6VXNlcjUzOTA3MTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5390719?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Jack-Works",
      "html_url": "https://github.com/Jack-Works",
      "followers_url": "https://api.github.com/users/Jack-Works/followers",
      "following_url": "https://api.github.com/users/Jack-Works/following{/other_user}",
      "gists_url": "https://api.github.com/users/Jack-Works/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Jack-Works/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Jack-Works/subscriptions",
      "organizations_url": "https://api.github.com/users/Jack-Works/orgs",
      "repos_url": "https://api.github.com/users/Jack-Works/repos",
      "events_url": "https://api.github.com/users/Jack-Works/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Jack-Works/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-09T10:15:58Z",
    "updated_at": "2023-05-09T10:15:58Z",
    "author_association": "NONE",
    "body": "> It's authenticated and cli does not support connection to authenticated ports. I'm not sure what is your intent, but you can add admin module to 8545 endpoint.\r\n\r\nYes. I want to use the CLI to do some management work. Adding it to the public RPC port is unsafe.",
    "reactions": {
      "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/1539866345/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/1541321421",
    "html_url": "https://github.com/NethermindEth/nethermind/issues/5650#issuecomment-1541321421",
    "issue_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/5650",
    "id": 1541321421,
    "node_id": "IC_kwDOBggaLc5b3rLN",
    "user": {
      "login": "deffrian",
      "id": 19891475,
      "node_id": "MDQ6VXNlcjE5ODkxNDc1",
      "avatar_url": "https://avatars.githubusercontent.com/u/19891475?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/deffrian",
      "html_url": "https://github.com/deffrian",
      "followers_url": "https://api.github.com/users/deffrian/followers",
      "following_url": "https://api.github.com/users/deffrian/following{/other_user}",
      "gists_url": "https://api.github.com/users/deffrian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/deffrian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/deffrian/subscriptions",
      "organizations_url": "https://api.github.com/users/deffrian/orgs",
      "repos_url": "https://api.github.com/users/deffrian/repos",
      "events_url": "https://api.github.com/users/deffrian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/deffrian/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-10T04:02:20Z",
    "updated_at": "2023-05-10T04:02:20Z",
    "author_association": "CONTRIBUTOR",
    "body": "@Jack-Works Our CLI communicate with node using RPC. If your `JsonRpc.Host` is localhost it should be safe, as only connections from local network are allowed.",
    "reactions": {
      "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/1541321421/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
