{
  "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/4707",
  "repository_url": "https://api.github.com/repos/NethermindEth/nethermind",
  "labels_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/4707/labels{/name}",
  "comments_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/4707/comments",
  "events_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/4707/events",
  "html_url": "https://github.com/NethermindEth/nethermind/issues/4707",
  "id": 1397452982,
  "node_id": "I_kwDOBggaLc5TS3C2",
  "number": 4707,
  "title": "[JsonRPC] Add Endpoint which will provide current stage (or multiple stages active) and progress of each stage during sync",
  "user": {
    "login": "kamilchodola",
    "id": 43241881,
    "node_id": "MDQ6VXNlcjQzMjQxODgx",
    "avatar_url": "https://avatars.githubusercontent.com/u/43241881?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/kamilchodola",
    "html_url": "https://github.com/kamilchodola",
    "followers_url": "https://api.github.com/users/kamilchodola/followers",
    "following_url": "https://api.github.com/users/kamilchodola/following{/other_user}",
    "gists_url": "https://api.github.com/users/kamilchodola/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/kamilchodola/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/kamilchodola/subscriptions",
    "organizations_url": "https://api.github.com/users/kamilchodola/orgs",
    "repos_url": "https://api.github.com/users/kamilchodola/repos",
    "events_url": "https://api.github.com/users/kamilchodola/events{/privacy}",
    "received_events_url": "https://api.github.com/users/kamilchodola/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1081089270,
      "node_id": "MDU6TGFiZWwxMDgxMDg5Mjcw",
      "url": "https://api.github.com/repos/NethermindEth/nethermind/labels/test",
      "name": "test",
      "color": "c2e0c6",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "Demuirgos",
    "id": 59487204,
    "node_id": "MDQ6VXNlcjU5NDg3MjA0",
    "avatar_url": "https://avatars.githubusercontent.com/u/59487204?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Demuirgos",
    "html_url": "https://github.com/Demuirgos",
    "followers_url": "https://api.github.com/users/Demuirgos/followers",
    "following_url": "https://api.github.com/users/Demuirgos/following{/other_user}",
    "gists_url": "https://api.github.com/users/Demuirgos/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Demuirgos/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Demuirgos/subscriptions",
    "organizations_url": "https://api.github.com/users/Demuirgos/orgs",
    "repos_url": "https://api.github.com/users/Demuirgos/repos",
    "events_url": "https://api.github.com/users/Demuirgos/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Demuirgos/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "Demuirgos",
      "id": 59487204,
      "node_id": "MDQ6VXNlcjU5NDg3MjA0",
      "avatar_url": "https://avatars.githubusercontent.com/u/59487204?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Demuirgos",
      "html_url": "https://github.com/Demuirgos",
      "followers_url": "https://api.github.com/users/Demuirgos/followers",
      "following_url": "https://api.github.com/users/Demuirgos/following{/other_user}",
      "gists_url": "https://api.github.com/users/Demuirgos/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Demuirgos/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Demuirgos/subscriptions",
      "organizations_url": "https://api.github.com/users/Demuirgos/orgs",
      "repos_url": "https://api.github.com/users/Demuirgos/repos",
      "events_url": "https://api.github.com/users/Demuirgos/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Demuirgos/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2022-10-05T08:46:21Z",
  "updated_at": "2022-11-15T16:26:55Z",
  "closed_at": "2022-11-15T16:26:55Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "Needed for SmokeTests purpose but may be useful also for some troubleshooting on discord (can be part of some enabled by default JsonRpc channel)\n\nNeed to have an endpoint, which on demand will return current stage and (if possible) current progress on specific stage like this:\n{\n    \"currentStage\": [\"BeaconHeaders\", \"OldHeaders\"],\n    \"progress\": [\n    {\n        \"stage\": \"BeaconHeaders\",\n        \"progress\": \"738859 of 745325\"\n    },\n    {\n        \"stage\": \"OldHeaders\",\n        \"progress\": \"454789 of 745325\"\n    }\n}\n\nPurpose of such endpoint - being able to verify on which stage and on which moment of stage we are currently to be able to restart/kill/disturb process on various stages and see if there is no issue in there.\n\nOf course progress can be formatted in any way which is applicable for usage.\n\nThere is no strict way how we want to implement that.\nPropositions by Marek were to:\n1. Include it in eth_syncing - but need to be careful with performance since it is pretty crucial endpoint\n2. Extend HealthChecks information with that data.\n\nAdditionally I was thinking about new Plugin which will be specifically for Progress Checking but maybe better would be to include it somewhere in current places.\n\nThis is kind of first step on how we want to check where we are and then react.",
  "closed_by": {
    "login": "LukaszRozmej",
    "id": 12445221,
    "node_id": "MDQ6VXNlcjEyNDQ1MjIx",
    "avatar_url": "https://avatars.githubusercontent.com/u/12445221?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/LukaszRozmej",
    "html_url": "https://github.com/LukaszRozmej",
    "followers_url": "https://api.github.com/users/LukaszRozmej/followers",
    "following_url": "https://api.github.com/users/LukaszRozmej/following{/other_user}",
    "gists_url": "https://api.github.com/users/LukaszRozmej/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/LukaszRozmej/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/LukaszRozmej/subscriptions",
    "organizations_url": "https://api.github.com/users/LukaszRozmej/orgs",
    "repos_url": "https://api.github.com/users/LukaszRozmej/repos",
    "events_url": "https://api.github.com/users/LukaszRozmej/events{/privacy}",
    "received_events_url": "https://api.github.com/users/LukaszRozmej/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/4707/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/4707/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/1268137408",
    "html_url": "https://github.com/NethermindEth/nethermind/issues/4707#issuecomment-1268137408",
    "issue_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/4707",
    "id": 1268137408,
    "node_id": "IC_kwDOBggaLc5Llj3A",
    "user": {
      "login": "kamilchodola",
      "id": 43241881,
      "node_id": "MDQ6VXNlcjQzMjQxODgx",
      "avatar_url": "https://avatars.githubusercontent.com/u/43241881?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kamilchodola",
      "html_url": "https://github.com/kamilchodola",
      "followers_url": "https://api.github.com/users/kamilchodola/followers",
      "following_url": "https://api.github.com/users/kamilchodola/following{/other_user}",
      "gists_url": "https://api.github.com/users/kamilchodola/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kamilchodola/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kamilchodola/subscriptions",
      "organizations_url": "https://api.github.com/users/kamilchodola/orgs",
      "repos_url": "https://api.github.com/users/kamilchodola/repos",
      "events_url": "https://api.github.com/users/kamilchodola/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kamilchodola/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-05T08:46:57Z",
    "updated_at": "2022-10-05T08:46:57Z",
    "author_association": "CONTRIBUTOR",
    "body": "@dceleda @MarekM25 Do you know who we can assign for this?\nAs for now I can just simply analyze logs and react but this may not be the most efficient way of doing that.",
    "reactions": {
      "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/1268137408/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/1268146950",
    "html_url": "https://github.com/NethermindEth/nethermind/issues/4707#issuecomment-1268146950",
    "issue_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/4707",
    "id": 1268146950,
    "node_id": "IC_kwDOBggaLc5LlmMG",
    "user": {
      "login": "kamilchodola",
      "id": 43241881,
      "node_id": "MDQ6VXNlcjQzMjQxODgx",
      "avatar_url": "https://avatars.githubusercontent.com/u/43241881?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/kamilchodola",
      "html_url": "https://github.com/kamilchodola",
      "followers_url": "https://api.github.com/users/kamilchodola/followers",
      "following_url": "https://api.github.com/users/kamilchodola/following{/other_user}",
      "gists_url": "https://api.github.com/users/kamilchodola/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/kamilchodola/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/kamilchodola/subscriptions",
      "organizations_url": "https://api.github.com/users/kamilchodola/orgs",
      "repos_url": "https://api.github.com/users/kamilchodola/repos",
      "events_url": "https://api.github.com/users/kamilchodola/events{/privacy}",
      "received_events_url": "https://api.github.com/users/kamilchodola/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-05T08:55:31Z",
    "updated_at": "2022-10-05T08:55:31Z",
    "author_association": "CONTRIBUTOR",
    "body": "@LukaszRozmej Can You also take a quick look and make some coding suggestions here? Maybe this is something which will be quite easy and we can give this as a task to anyone more Junior in team.\n",
    "reactions": {
      "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/1268146950/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
