{
  "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/6153",
  "repository_url": "https://api.github.com/repos/NethermindEth/nethermind",
  "labels_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/6153/labels{/name}",
  "comments_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/6153/comments",
  "events_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/6153/events",
  "html_url": "https://github.com/NethermindEth/nethermind/issues/6153",
  "id": 1923231209,
  "node_id": "I_kwDOBggaLc5yoi3p",
  "number": 6153,
  "title": "[v1.21.0] `eth_syncing` no longer reports that NM is synced on Holesky",
  "user": {
    "login": "jclapis",
    "id": 627896,
    "node_id": "MDQ6VXNlcjYyNzg5Ng==",
    "avatar_url": "https://avatars.githubusercontent.com/u/627896?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jclapis",
    "html_url": "https://github.com/jclapis",
    "followers_url": "https://api.github.com/users/jclapis/followers",
    "following_url": "https://api.github.com/users/jclapis/following{/other_user}",
    "gists_url": "https://api.github.com/users/jclapis/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jclapis/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jclapis/subscriptions",
    "organizations_url": "https://api.github.com/users/jclapis/orgs",
    "repos_url": "https://api.github.com/users/jclapis/repos",
    "events_url": "https://api.github.com/users/jclapis/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jclapis/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "open",
  "locked": false,
  "assignee": {
    "login": "emlautarom1",
    "id": 31224949,
    "node_id": "MDQ6VXNlcjMxMjI0OTQ5",
    "avatar_url": "https://avatars.githubusercontent.com/u/31224949?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/emlautarom1",
    "html_url": "https://github.com/emlautarom1",
    "followers_url": "https://api.github.com/users/emlautarom1/followers",
    "following_url": "https://api.github.com/users/emlautarom1/following{/other_user}",
    "gists_url": "https://api.github.com/users/emlautarom1/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/emlautarom1/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/emlautarom1/subscriptions",
    "organizations_url": "https://api.github.com/users/emlautarom1/orgs",
    "repos_url": "https://api.github.com/users/emlautarom1/repos",
    "events_url": "https://api.github.com/users/emlautarom1/events{/privacy}",
    "received_events_url": "https://api.github.com/users/emlautarom1/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "emlautarom1",
      "id": 31224949,
      "node_id": "MDQ6VXNlcjMxMjI0OTQ5",
      "avatar_url": "https://avatars.githubusercontent.com/u/31224949?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emlautarom1",
      "html_url": "https://github.com/emlautarom1",
      "followers_url": "https://api.github.com/users/emlautarom1/followers",
      "following_url": "https://api.github.com/users/emlautarom1/following{/other_user}",
      "gists_url": "https://api.github.com/users/emlautarom1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emlautarom1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emlautarom1/subscriptions",
      "organizations_url": "https://api.github.com/users/emlautarom1/orgs",
      "repos_url": "https://api.github.com/users/emlautarom1/repos",
      "events_url": "https://api.github.com/users/emlautarom1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emlautarom1/received_events",
      "type": "User",
      "site_admin": false
    },
    {
      "login": "smartprogrammer93",
      "id": 33181301,
      "node_id": "MDQ6VXNlcjMzMTgxMzAx",
      "avatar_url": "https://avatars.githubusercontent.com/u/33181301?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/smartprogrammer93",
      "html_url": "https://github.com/smartprogrammer93",
      "followers_url": "https://api.github.com/users/smartprogrammer93/followers",
      "following_url": "https://api.github.com/users/smartprogrammer93/following{/other_user}",
      "gists_url": "https://api.github.com/users/smartprogrammer93/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/smartprogrammer93/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/smartprogrammer93/subscriptions",
      "organizations_url": "https://api.github.com/users/smartprogrammer93/orgs",
      "repos_url": "https://api.github.com/users/smartprogrammer93/repos",
      "events_url": "https://api.github.com/users/smartprogrammer93/events{/privacy}",
      "received_events_url": "https://api.github.com/users/smartprogrammer93/received_events",
      "type": "User",
      "site_admin": false
    },
    {
      "login": "stdevMac",
      "id": 35319980,
      "node_id": "MDQ6VXNlcjM1MzE5OTgw",
      "avatar_url": "https://avatars.githubusercontent.com/u/35319980?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stdevMac",
      "html_url": "https://github.com/stdevMac",
      "followers_url": "https://api.github.com/users/stdevMac/followers",
      "following_url": "https://api.github.com/users/stdevMac/following{/other_user}",
      "gists_url": "https://api.github.com/users/stdevMac/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stdevMac/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stdevMac/subscriptions",
      "organizations_url": "https://api.github.com/users/stdevMac/orgs",
      "repos_url": "https://api.github.com/users/stdevMac/repos",
      "events_url": "https://api.github.com/users/stdevMac/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stdevMac/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2023-10-03T03:41:26Z",
  "updated_at": "2023-10-03T18:10:35Z",
  "closed_at": null,
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "**Description**\r\n\r\nStarting with Nethermind `v1.21.0`, when running on the Holesky testnet, Nethermind no longer reports that it's synced via the `eth_syncing` route even though it is:\r\n\r\n```\r\n$ curl -X POST -H \"Content-Type: application/json\" --data '{\"jsonrpc\":\"2.0\",\"method\":\"eth_syncing\",\"params\":[],\"id\":1}' http://localhost:8545\r\n{\"jsonrpc\":\"2.0\",\"result\":{\"startingBlock\":\"0x0\",\"currentBlock\":\"0x723a\",\"highestBlock\":\"0x723a\"},\"id\":1}\r\n```\r\n\r\nNethermind `v1.20.1` through `v1.20.4` didn't exhibit this, so it's new to `v1.21.0`. This doesn't happen on Mainnet, just Holesky.\r\n\r\n**Steps to Reproduce**\r\n1. Create a new node targeting Holesky.\r\n2. Wait for it to sync.\r\n3. Run `eth_syncing` once it's done.\r\n4. Observe this behavior.\r\n\r\n**Actual behavior**\r\n```\r\n$ curl -X POST -H \"Content-Type: application/json\" --data '{\"jsonrpc\":\"2.0\",\"method\":\"eth_syncing\",\"params\":[],\"id\":1}' http://localhost:8545\r\n{\"jsonrpc\":\"2.0\",\"result\":{\"startingBlock\":\"0x0\",\"currentBlock\":\"0x723a\",\"highestBlock\":\"0x723a\"},\"id\":1}\r\n```\r\n\r\n**Expected behavior**\r\n```\r\n$ curl -X POST -H \"Content-Type: application/json\" --data '{\"jsonrpc\":\"2.0\",\"method\":\"eth_syncing\",\"params\":[],\"id\":1}' http://localhost:8545\r\n{\"jsonrpc\":\"2.0\",\"result\":false,\"id\":1}\r\n```\r\n\r\n**Desktop (please complete the following information):**\r\nPlease provide the following information regarding your setup:\r\n - Operating System: Debian 11\r\n - Version: v1.21.0\r\n - Installation Method: Docker\r\n - Consensus Client: Nimbus v23.9.1, Lighthouse v4.5.0\r\n\r\n**Logs**\r\nLikely unrelated, but this line started showing up with v1.21.0 in the logs:\r\n```\r\nrocketpool_eth1  | 03 Oct 03:37:37 | Synced chain Head to 18267374 (0xc46d8c...551236) \r\nrocketpool_eth1  | 03 Oct 03:37:38 | No incoming messages from the consensus client that is required for sync. \r\nrocketpool_eth1  | 03 Oct 03:37:43 | No incoming messages from the consensus client that is required for sync. \r\nrocketpool_eth1  | 03 Oct 03:37:48 | No incoming messages from the consensus client that is required for sync.\r\n```\r\n\r\nThis occurs on both Holesky and Mainnet, though the syncing problem doesn't manifest on Mainnet so it is probably a red herring.",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/6153/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/6153/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/1744130147",
    "html_url": "https://github.com/NethermindEth/nethermind/issues/6153#issuecomment-1744130147",
    "issue_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/6153",
    "id": 1744130147,
    "node_id": "IC_kwDOBggaLc5n9VBj",
    "user": {
      "login": "Kuplynx",
      "id": 92491671,
      "node_id": "U_kgDOBYNPlw",
      "avatar_url": "https://avatars.githubusercontent.com/u/92491671?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Kuplynx",
      "html_url": "https://github.com/Kuplynx",
      "followers_url": "https://api.github.com/users/Kuplynx/followers",
      "following_url": "https://api.github.com/users/Kuplynx/following{/other_user}",
      "gists_url": "https://api.github.com/users/Kuplynx/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Kuplynx/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Kuplynx/subscriptions",
      "organizations_url": "https://api.github.com/users/Kuplynx/orgs",
      "repos_url": "https://api.github.com/users/Kuplynx/repos",
      "events_url": "https://api.github.com/users/Kuplynx/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Kuplynx/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-10-03T04:03:39Z",
    "updated_at": "2023-10-03T04:03:39Z",
    "author_association": "NONE",
    "body": "I have also experienced the `No incoming messages from the consensus client that is required for sync.` spam since 1.21.0-rc on mainnet with an identical lighthouse setup",
    "reactions": {
      "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/1744130147/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/1745249716",
    "html_url": "https://github.com/NethermindEth/nethermind/issues/6153#issuecomment-1745249716",
    "issue_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/6153",
    "id": 1745249716,
    "node_id": "IC_kwDOBggaLc5oBmW0",
    "user": {
      "login": "emlautarom1",
      "id": 31224949,
      "node_id": "MDQ6VXNlcjMxMjI0OTQ5",
      "avatar_url": "https://avatars.githubusercontent.com/u/31224949?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emlautarom1",
      "html_url": "https://github.com/emlautarom1",
      "followers_url": "https://api.github.com/users/emlautarom1/followers",
      "following_url": "https://api.github.com/users/emlautarom1/following{/other_user}",
      "gists_url": "https://api.github.com/users/emlautarom1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emlautarom1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emlautarom1/subscriptions",
      "organizations_url": "https://api.github.com/users/emlautarom1/orgs",
      "repos_url": "https://api.github.com/users/emlautarom1/repos",
      "events_url": "https://api.github.com/users/emlautarom1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emlautarom1/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-10-03T15:46:40Z",
    "updated_at": "2023-10-03T15:46:40Z",
    "author_association": "CONTRIBUTOR",
    "body": "Thanks for reporting this issue. Could you please list the full set of flags that you're using to run Nethermind and your CL of choice?",
    "reactions": {
      "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/1745249716/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/1745480141",
    "html_url": "https://github.com/NethermindEth/nethermind/issues/6153#issuecomment-1745480141",
    "issue_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/6153",
    "id": 1745480141,
    "node_id": "IC_kwDOBggaLc5oCenN",
    "user": {
      "login": "jclapis",
      "id": 627896,
      "node_id": "MDQ6VXNlcjYyNzg5Ng==",
      "avatar_url": "https://avatars.githubusercontent.com/u/627896?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jclapis",
      "html_url": "https://github.com/jclapis",
      "followers_url": "https://api.github.com/users/jclapis/followers",
      "following_url": "https://api.github.com/users/jclapis/following{/other_user}",
      "gists_url": "https://api.github.com/users/jclapis/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jclapis/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jclapis/subscriptions",
      "organizations_url": "https://api.github.com/users/jclapis/orgs",
      "repos_url": "https://api.github.com/users/jclapis/repos",
      "events_url": "https://api.github.com/users/jclapis/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jclapis/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-10-03T18:10:35Z",
    "updated_at": "2023-10-03T18:10:35Z",
    "author_association": "CONTRIBUTOR",
    "body": "> Thanks for reporting this issue. Could you please list the full set of flags that you're using to run Nethermind and your CL of choice?\r\n\r\nI am using the Docker v1.21.0 image, and here is the full command I'm running: \r\n\r\n```\r\n/nethermind/nethermind --config holesky --Sync.SnapSync true --datadir /ethclient/nethermind --JsonRpc.Enabled true --JsonRpc.Host 0.0.0.0 --JsonRpc.Port 8545 --JsonRpc.EnginePort 8551 --JsonRpc.EngineHost 0.0.0.0 --Init.WebSocketsEnabled true --JsonRpc.WebSocketsPort 8546 --Merge.Enabled true --JsonRpc.JwtSecretFile=/secrets/jwtsecret --JsonRpc.EnabledModules Eth,Net,Web3 --JsonRpc.AdditionalRpcUrls [\"http://127.0.0.1:7434|http|admin\"] --Init.MemoryHint 1024000000 --Network.MaxActivePeers 25 --Metrics.Enabled true --Metrics.ExposePort 9105 --Network.DiscoveryPort 30303 --Network.P2PPort 30303 --Pruning.Mode Memory --Pruning.CacheMb 1024\r\n```\r\n\r\nI have also tried with `--Merge.NewPayloadTimeout=20` but that doesn't make a difference.\r\n\r\nThis was tested with Nimbus v23.9.1 and Lighthouse v4.5.0. I can run it against the other CLs if you want to verify this happens with all of them.",
    "reactions": {
      "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/1745480141/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
