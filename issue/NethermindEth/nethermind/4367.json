{
  "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/4367",
  "repository_url": "https://api.github.com/repos/NethermindEth/nethermind",
  "labels_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/4367/labels{/name}",
  "comments_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/4367/comments",
  "events_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/4367/events",
  "html_url": "https://github.com/NethermindEth/nethermind/issues/4367",
  "id": 1329379244,
  "node_id": "I_kwDOBggaLc5PPLes",
  "number": 4367,
  "title": "Error \"A suitable constructor for type 'Nethermind.HealthChecks.NodeHealthCheck' could not be located\"",
  "user": {
    "login": "ev9173",
    "id": 97693311,
    "node_id": "U_kgDOBdKufw",
    "avatar_url": "https://avatars.githubusercontent.com/u/97693311?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ev9173",
    "html_url": "https://github.com/ev9173",
    "followers_url": "https://api.github.com/users/ev9173/followers",
    "following_url": "https://api.github.com/users/ev9173/following{/other_user}",
    "gists_url": "https://api.github.com/users/ev9173/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ev9173/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ev9173/subscriptions",
    "organizations_url": "https://api.github.com/users/ev9173/orgs",
    "repos_url": "https://api.github.com/users/ev9173/repos",
    "events_url": "https://api.github.com/users/ev9173/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ev9173/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 4483912634,
      "node_id": "LA_kwDOBggaLc8AAAABC0MTug",
      "url": "https://api.github.com/repos/NethermindEth/nethermind/labels/health%20checks",
      "name": "health checks",
      "color": "905601",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": {
    "login": "deffrian",
    "id": 19891475,
    "node_id": "MDQ6VXNlcjE5ODkxNDc1",
    "avatar_url": "https://avatars.githubusercontent.com/u/19891475?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/deffrian",
    "html_url": "https://github.com/deffrian",
    "followers_url": "https://api.github.com/users/deffrian/followers",
    "following_url": "https://api.github.com/users/deffrian/following{/other_user}",
    "gists_url": "https://api.github.com/users/deffrian/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/deffrian/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/deffrian/subscriptions",
    "organizations_url": "https://api.github.com/users/deffrian/orgs",
    "repos_url": "https://api.github.com/users/deffrian/repos",
    "events_url": "https://api.github.com/users/deffrian/events{/privacy}",
    "received_events_url": "https://api.github.com/users/deffrian/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "deffrian",
      "id": 19891475,
      "node_id": "MDQ6VXNlcjE5ODkxNDc1",
      "avatar_url": "https://avatars.githubusercontent.com/u/19891475?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/deffrian",
      "html_url": "https://github.com/deffrian",
      "followers_url": "https://api.github.com/users/deffrian/followers",
      "following_url": "https://api.github.com/users/deffrian/following{/other_user}",
      "gists_url": "https://api.github.com/users/deffrian/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/deffrian/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/deffrian/subscriptions",
      "organizations_url": "https://api.github.com/users/deffrian/orgs",
      "repos_url": "https://api.github.com/users/deffrian/repos",
      "events_url": "https://api.github.com/users/deffrian/events{/privacy}",
      "received_events_url": "https://api.github.com/users/deffrian/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 0,
  "created_at": "2022-08-05T02:51:53Z",
  "updated_at": "2022-08-31T16:27:43Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "**Describe the bug**\r\nv1.13.5 suddenly got an error and lost all peers: \r\n\"Connection id \"0HMJLQ4BBHOBG\", Request id \"0HMJLQ4BBHOBG:00000015\": An unhandled exception was thrown by the application. System.InvalidOperationException: A suitable constructor for type 'Nethermind.HealthChecks.NodeHealthCheck' could not be located. Ensure the type is concrete and all parameters of a public constructor are either registered as services or passed as arguments. Also ensure no extraneous arguments are provided.\" \r\n\r\nA stack trace is included at the bottom as an 'Additional Context'. @MarekM from the discord suggested to submit this as a potential bug.  \r\n\r\n**To Reproduce**\r\nEverything was fine (Nethermind was being used as an Execution Client for my RocketPool native mode validator) until suddenly the error message appeared. Restarted the systemd nethermind service but it kept repeating the same error. Number of peers=0 after restart. It seems like working fine after updating to 1.13.6. \r\n\r\n**Expected behavior**\r\nNo error\r\n\r\n**Desktop (please complete the following information):**\r\n - OS: Ubuntu 20.04\r\n\r\n**Additional context**\r\n2022-08-03 21:25:04.1508|Waiting for peers... 34s\r\nAug 03 21:25:05 myserver Nethermind.Runner[1287899]: 2022-08-03 21:25:05.1509|Waiting for peers... 35s\r\nAug 03 21:25:06 myserver Nethermind.Runner[1287899]: 2022-08-03 21:25:06.1514|Waiting for peers... 36s\r\nAug 03 21:25:07 myserver Nethermind.Runner[1287899]: 2022-08-03 21:25:07.1286|Connection id \"0HMJLQ4BBHOBG\", Request id \"0HMJLQ4BBHOBG:00000015\": An unhandled exception was thrown by the application. System.InvalidOperationException: A suitable constructor for type 'Nethermind.HealthChecks.NodeHealthCheck' could not be located. Ensure the type is concrete and all parameters of a public constructor are either registered as services or passed as arguments. Also ensure no extraneous arguments are provided.\r\nAug 03 21:25:07 myserver Nethermind.Runner[1287899]:    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)\r\nAug 03 21:25:07 myserver Nethermind.Runner[1287899]:    at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance[T](IServiceProvider provider, Object[] parameters)\r\nAug 03 21:25:07 myserver Nethermind.Runner[1287899]:    at Microsoft.Extensions.DependencyInjection.HealthChecksBuilderAddCheckExtensions.<>c__DisplayClass6_0`1.<AddTypeActivatedCheck>b__0(IServiceProvider s)\r\nAug 03 21:25:07 myserver Nethermind.Runner[1287899]:    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.RunCheckAsync(HealthCheckRegistration registration, CancellationToken cancellationToken)\r\nAug 03 21:25:07 myserver Nethermind.Runner[1287899]:    at Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService.CheckHealthAsync(Func`2 predicate, CancellationToken cancellationToken)\r\nAug 03 21:25:07 myserver Nethermind.Runner[1287899]:    at Microsoft.AspNetCore.Diagnostics.HealthChecks.HealthCheckMiddleware.InvokeAsync(HttpContext httpContext)\r\nAug 03 21:25:07 myserver Nethermind.Runner[1287899]:    at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\nAug 03 21:25:07 myserver Nethermind.Runner[1287899]:    at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)\r\nAug 03 21:25:07 myserver Nethermind.Runner[1287899]: 2022-08-03 21:25:07.1286|GetHealthReport threw an exception when trying to get report from http://localhost:8545/health configured with name health. System.InvalidOperationException: Response is null or message can't be deserialized as HealthChecks.UI.Core.UIHealthReport.\r\nAug 03 21:25:07 myserver Nethermind.Runner[1287899]:    at System.Net.Http.HttpResponseMessageExtensions.As[TContent](HttpResponseMessage response) in /_/src/HealthChecks.UI/Core/Extensions/HttpResponseMessageExtensions.cs:line 27\r\nAug 03 21:25:07 myserver Nethermind.Runner[1287899]:    at HealthChecks.UI.Core.HostedService.HealthCheckReportCollector.GetHealthReportAsync(HealthCheckConfiguration configuration) in /_/src/HealthChecks.UI/Core/HostedService/HealthCheckReportCollector.cs:line 107\r\nAug 03 21:25:07 myserver Nethermind.Runner[1287899]: 2022-08-03 21:25:07.1515|Waiting for peers... 37s\r\nAug 03 21:25:08 myserver Nethermind.Runner[1287899]: 2022-08-03 21:25:08.1515|Waiting for peers... 38s\r\nAug 03 21:25:09 myserver Nethermind.Runner[1287899]: 2022-08-03 21:25:09.1515|Waiting for peers... 39s\r\nAug 03 21:25:10 myserver Nethermind.Runner[1287899]: 2022-08-03 21:25:10.1517|Waiting for peers... 40s\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/4367/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/4367/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[

]
