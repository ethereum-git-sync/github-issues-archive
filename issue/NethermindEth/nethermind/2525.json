{
  "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/2525",
  "repository_url": "https://api.github.com/repos/NethermindEth/nethermind",
  "labels_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/2525/labels{/name}",
  "comments_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/2525/comments",
  "events_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/2525/events",
  "html_url": "https://github.com/NethermindEth/nethermind/issues/2525",
  "id": 752257244,
  "node_id": "MDU6SXNzdWU3NTIyNTcyNDQ=",
  "number": 2525,
  "title": "Batch BlockByNumber Call Leads to Invalid Block Headers Being Returned",
  "user": {
    "login": "nisdas",
    "id": 33201827,
    "node_id": "MDQ6VXNlcjMzMjAxODI3",
    "avatar_url": "https://avatars.githubusercontent.com/u/33201827?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/nisdas",
    "html_url": "https://github.com/nisdas",
    "followers_url": "https://api.github.com/users/nisdas/followers",
    "following_url": "https://api.github.com/users/nisdas/following{/other_user}",
    "gists_url": "https://api.github.com/users/nisdas/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/nisdas/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/nisdas/subscriptions",
    "organizations_url": "https://api.github.com/users/nisdas/orgs",
    "repos_url": "https://api.github.com/users/nisdas/repos",
    "events_url": "https://api.github.com/users/nisdas/events{/privacy}",
    "received_events_url": "https://api.github.com/users/nisdas/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 674950059,
      "node_id": "MDU6TGFiZWw2NzQ5NTAwNTk=",
      "url": "https://api.github.com/repos/NethermindEth/nethermind/labels/bug",
      "name": "bug",
      "color": "ee0701",
      "default": true,
      "description": null
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "tkstanczak",
    "id": 498913,
    "node_id": "MDQ6VXNlcjQ5ODkxMw==",
    "avatar_url": "https://avatars.githubusercontent.com/u/498913?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tkstanczak",
    "html_url": "https://github.com/tkstanczak",
    "followers_url": "https://api.github.com/users/tkstanczak/followers",
    "following_url": "https://api.github.com/users/tkstanczak/following{/other_user}",
    "gists_url": "https://api.github.com/users/tkstanczak/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tkstanczak/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tkstanczak/subscriptions",
    "organizations_url": "https://api.github.com/users/tkstanczak/orgs",
    "repos_url": "https://api.github.com/users/tkstanczak/repos",
    "events_url": "https://api.github.com/users/tkstanczak/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tkstanczak/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "tkstanczak",
      "id": 498913,
      "node_id": "MDQ6VXNlcjQ5ODkxMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/498913?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tkstanczak",
      "html_url": "https://github.com/tkstanczak",
      "followers_url": "https://api.github.com/users/tkstanczak/followers",
      "following_url": "https://api.github.com/users/tkstanczak/following{/other_user}",
      "gists_url": "https://api.github.com/users/tkstanczak/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tkstanczak/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tkstanczak/subscriptions",
      "organizations_url": "https://api.github.com/users/tkstanczak/orgs",
      "repos_url": "https://api.github.com/users/tkstanczak/repos",
      "events_url": "https://api.github.com/users/tkstanczak/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tkstanczak/received_events",
      "type": "User",
      "site_admin": false
    },
    {
      "login": "LukaszRozmej",
      "id": 12445221,
      "node_id": "MDQ6VXNlcjEyNDQ1MjIx",
      "avatar_url": "https://avatars.githubusercontent.com/u/12445221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/LukaszRozmej",
      "html_url": "https://github.com/LukaszRozmej",
      "followers_url": "https://api.github.com/users/LukaszRozmej/followers",
      "following_url": "https://api.github.com/users/LukaszRozmej/following{/other_user}",
      "gists_url": "https://api.github.com/users/LukaszRozmej/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/LukaszRozmej/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/LukaszRozmej/subscriptions",
      "organizations_url": "https://api.github.com/users/LukaszRozmej/orgs",
      "repos_url": "https://api.github.com/users/LukaszRozmej/repos",
      "events_url": "https://api.github.com/users/LukaszRozmej/events{/privacy}",
      "received_events_url": "https://api.github.com/users/LukaszRozmej/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 12,
  "created_at": "2020-11-27T13:32:59Z",
  "updated_at": "2020-12-02T05:03:26Z",
  "closed_at": "2020-12-01T14:24:07Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "A batch `eth_getBlockByNumber` rpc call has lead to invalid headers being returned without their Number being set. Due to this,users running Nethermind are unable to process deposit logs when running them with Prysm(our Ethereum 2.0 client). For  \r\n `eth_getBlockByNumber` , we only request block headers without their bodies. It would be pertinent to note that some users have had success with restarting their nethermind client to finally get it to return a block header with its `Number` field correctly set. This has been observed as of: https://github.com/NethermindEth/nethermind/releases/tag/1.9.37 . Let me know if more data is required. ",
  "closed_by": {
    "login": "tkstanczak",
    "id": 498913,
    "node_id": "MDQ6VXNlcjQ5ODkxMw==",
    "avatar_url": "https://avatars.githubusercontent.com/u/498913?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tkstanczak",
    "html_url": "https://github.com/tkstanczak",
    "followers_url": "https://api.github.com/users/tkstanczak/followers",
    "following_url": "https://api.github.com/users/tkstanczak/following{/other_user}",
    "gists_url": "https://api.github.com/users/tkstanczak/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tkstanczak/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tkstanczak/subscriptions",
    "organizations_url": "https://api.github.com/users/tkstanczak/orgs",
    "repos_url": "https://api.github.com/users/tkstanczak/repos",
    "events_url": "https://api.github.com/users/tkstanczak/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tkstanczak/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/2525/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/2525/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/735210142",
    "html_url": "https://github.com/NethermindEth/nethermind/issues/2525#issuecomment-735210142",
    "issue_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/2525",
    "id": 735210142,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczNTIxMDE0Mg==",
    "user": {
      "login": "christianhau",
      "id": 719236,
      "node_id": "MDQ6VXNlcjcxOTIzNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/719236?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/christianhau",
      "html_url": "https://github.com/christianhau",
      "followers_url": "https://api.github.com/users/christianhau/followers",
      "following_url": "https://api.github.com/users/christianhau/following{/other_user}",
      "gists_url": "https://api.github.com/users/christianhau/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/christianhau/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/christianhau/subscriptions",
      "organizations_url": "https://api.github.com/users/christianhau/orgs",
      "repos_url": "https://api.github.com/users/christianhau/repos",
      "events_url": "https://api.github.com/users/christianhau/events{/privacy}",
      "received_events_url": "https://api.github.com/users/christianhau/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-28T10:11:42Z",
    "updated_at": "2020-11-28T10:11:42Z",
    "author_association": "NONE",
    "body": "I have added the latest flag Sync.FixReceipts to the mainnet.cfg for nethermind, but I still experience the same proble as described above where I cant get the prysm client to connect properly to the nethermind eth1 node. When running the prysm beacon I get the following error message:\r\n\r\n[2020-11-28 10:05:30]  INFO gateway: Starting JSON-HTTP API address=127.0.0.1:3500\r\n[2020-11-28 10:05:30]  INFO powchain: Connected to eth1 proof-of-work chain endpoint=http://192.168.1.127:8545\r\n[2020-11-28 10:05:30] ERROR powchain: Unable to process past logs cannot convert block header with nil block number\r\n[2020-11-28 10:05:36]  INFO powchain: Connected to eth1 proof-of-work chain endpoint=http://192.168.1.127:8545\r\n[2020-11-28 10:05:37] ERROR powchain: Unable to process past logs cannot convert block header with nil block number\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/735210142/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/735215052",
    "html_url": "https://github.com/NethermindEth/nethermind/issues/2525#issuecomment-735215052",
    "issue_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/2525",
    "id": 735215052,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczNTIxNTA1Mg==",
    "user": {
      "login": "nisdas",
      "id": 33201827,
      "node_id": "MDQ6VXNlcjMzMjAxODI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/33201827?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nisdas",
      "html_url": "https://github.com/nisdas",
      "followers_url": "https://api.github.com/users/nisdas/followers",
      "following_url": "https://api.github.com/users/nisdas/following{/other_user}",
      "gists_url": "https://api.github.com/users/nisdas/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nisdas/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nisdas/subscriptions",
      "organizations_url": "https://api.github.com/users/nisdas/orgs",
      "repos_url": "https://api.github.com/users/nisdas/repos",
      "events_url": "https://api.github.com/users/nisdas/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nisdas/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-28T10:38:14Z",
    "updated_at": "2020-11-28T10:38:14Z",
    "author_association": "NONE",
    "body": "To add more data to this @christianhau peformed a rpc call to test if the nethermind node was able to give back the correct block.\r\n\r\n```\r\n  curl -X POST --header \"Content-Type: application/json\" --data '{\"jsonrpc\":\"2.0\",\"method\":\"eth_getBlockByNumber\",\"params\":[\"0xAAA98C\", false],\"id\":1}' 'http://127.0.0.1:8545'\r\n\r\n```\r\n\r\nInitial result:\r\n```\r\n{\"jsonrpc\":\"2.0\",\"result\":null,\"id\":1}\r\n```\r\nafter a few tries, he finally managed to get the correct block number:\r\n```\r\n {\"jsonrpc\":\"2.0\",\"result\":{\"author\":\"0x829bd824b016326a401d083b33d092293333a830\",\"difficulty\":\"0xc49cb2800c9ec\",\"extraData\":\"0x7070796520e4b883e5bda9e7a59ee4bb99e9b1bc010d\",\"gasLimit\":\"0xbea3bf\",\"gasUsed\":\"0xbe9907\",\"hash\":\"....\r\n```\r\n\r\nBut then it reverted to the earlier no result in the next few tries. Due to this, it is difficult for our client to process the required block headers and data.",
    "reactions": {
      "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/735215052/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/735229484",
    "html_url": "https://github.com/NethermindEth/nethermind/issues/2525#issuecomment-735229484",
    "issue_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/2525",
    "id": 735229484,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczNTIyOTQ4NA==",
    "user": {
      "login": "tkstanczak",
      "id": 498913,
      "node_id": "MDQ6VXNlcjQ5ODkxMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/498913?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tkstanczak",
      "html_url": "https://github.com/tkstanczak",
      "followers_url": "https://api.github.com/users/tkstanczak/followers",
      "following_url": "https://api.github.com/users/tkstanczak/following{/other_user}",
      "gists_url": "https://api.github.com/users/tkstanczak/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tkstanczak/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tkstanczak/subscriptions",
      "organizations_url": "https://api.github.com/users/tkstanczak/orgs",
      "repos_url": "https://api.github.com/users/tkstanczak/repos",
      "events_url": "https://api.github.com/users/tkstanczak/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tkstanczak/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-28T13:10:41Z",
    "updated_at": "2020-11-28T13:10:41Z",
    "author_association": "MEMBER",
    "body": "@christianhau - did you add the Sync.FixReceipts flag with version 1.9.39 or you are still running 1.9.37?\r\nWould you kindly share you config for this 4 items:\r\n\r\nSync.DownloadBodiesInFastSync\r\nSync.DownloadReceiptsInFastSync\r\nSync.AncientBodiesBarrier\r\nSync.AncientReceiptsBarrier\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/735229484/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/735233257",
    "html_url": "https://github.com/NethermindEth/nethermind/issues/2525#issuecomment-735233257",
    "issue_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/2525",
    "id": 735233257,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczNTIzMzI1Nw==",
    "user": {
      "login": "tkstanczak",
      "id": 498913,
      "node_id": "MDQ6VXNlcjQ5ODkxMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/498913?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tkstanczak",
      "html_url": "https://github.com/tkstanczak",
      "followers_url": "https://api.github.com/users/tkstanczak/followers",
      "following_url": "https://api.github.com/users/tkstanczak/following{/other_user}",
      "gists_url": "https://api.github.com/users/tkstanczak/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tkstanczak/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tkstanczak/subscriptions",
      "organizations_url": "https://api.github.com/users/tkstanczak/orgs",
      "repos_url": "https://api.github.com/users/tkstanczak/repos",
      "events_url": "https://api.github.com/users/tkstanczak/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tkstanczak/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-28T13:48:30Z",
    "updated_at": "2020-11-28T13:48:30Z",
    "author_association": "MEMBER",
    "body": "@christianhau I guess that this was not enabled: Sync.DownloadReceiptsInFastSync",
    "reactions": {
      "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/735233257/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/735277433",
    "html_url": "https://github.com/NethermindEth/nethermind/issues/2525#issuecomment-735277433",
    "issue_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/2525",
    "id": 735277433,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczNTI3NzQzMw==",
    "user": {
      "login": "prestonvanloon",
      "id": 7246818,
      "node_id": "MDQ6VXNlcjcyNDY4MTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7246818?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/prestonvanloon",
      "html_url": "https://github.com/prestonvanloon",
      "followers_url": "https://api.github.com/users/prestonvanloon/followers",
      "following_url": "https://api.github.com/users/prestonvanloon/following{/other_user}",
      "gists_url": "https://api.github.com/users/prestonvanloon/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/prestonvanloon/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/prestonvanloon/subscriptions",
      "organizations_url": "https://api.github.com/users/prestonvanloon/orgs",
      "repos_url": "https://api.github.com/users/prestonvanloon/repos",
      "events_url": "https://api.github.com/users/prestonvanloon/events{/privacy}",
      "received_events_url": "https://api.github.com/users/prestonvanloon/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-28T19:03:35Z",
    "updated_at": "2020-11-28T19:03:35Z",
    "author_association": "NONE",
    "body": "@tkstanczak we have a new report that this issue exists in version 1.9.41. prysmaticlabs/prysm#7989 ",
    "reactions": {
      "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/735277433/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/735282206",
    "html_url": "https://github.com/NethermindEth/nethermind/issues/2525#issuecomment-735282206",
    "issue_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/2525",
    "id": 735282206,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczNTI4MjIwNg==",
    "user": {
      "login": "christianhau",
      "id": 719236,
      "node_id": "MDQ6VXNlcjcxOTIzNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/719236?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/christianhau",
      "html_url": "https://github.com/christianhau",
      "followers_url": "https://api.github.com/users/christianhau/followers",
      "following_url": "https://api.github.com/users/christianhau/following{/other_user}",
      "gists_url": "https://api.github.com/users/christianhau/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/christianhau/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/christianhau/subscriptions",
      "organizations_url": "https://api.github.com/users/christianhau/orgs",
      "repos_url": "https://api.github.com/users/christianhau/repos",
      "events_url": "https://api.github.com/users/christianhau/events{/privacy}",
      "received_events_url": "https://api.github.com/users/christianhau/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-28T19:45:54Z",
    "updated_at": "2020-11-28T19:45:54Z",
    "author_association": "NONE",
    "body": "I will update once my fresh sync on .41 is complete. I did run it with Sync.FixReceipts flag for 1.9.39.",
    "reactions": {
      "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/735282206/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/735284275",
    "html_url": "https://github.com/NethermindEth/nethermind/issues/2525#issuecomment-735284275",
    "issue_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/2525",
    "id": 735284275,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczNTI4NDI3NQ==",
    "user": {
      "login": "Mr-Lim",
      "id": 5209054,
      "node_id": "MDQ6VXNlcjUyMDkwNTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5209054?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Mr-Lim",
      "html_url": "https://github.com/Mr-Lim",
      "followers_url": "https://api.github.com/users/Mr-Lim/followers",
      "following_url": "https://api.github.com/users/Mr-Lim/following{/other_user}",
      "gists_url": "https://api.github.com/users/Mr-Lim/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Mr-Lim/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Mr-Lim/subscriptions",
      "organizations_url": "https://api.github.com/users/Mr-Lim/orgs",
      "repos_url": "https://api.github.com/users/Mr-Lim/repos",
      "events_url": "https://api.github.com/users/Mr-Lim/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Mr-Lim/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-28T20:05:14Z",
    "updated_at": "2020-11-28T20:05:52Z",
    "author_association": "NONE",
    "body": "Synced on .39 and ran into similar error getting Prysm to initialize beacon-node. Wouldn't load ETH1 deposits.\r\n\r\nAdded flags above, by upgrading to .41 and ran with Sync.FixReceipts. Synced receipts and bodies.\r\n\r\nThought it was fixed!\r\n\r\nPrysm now initializes, successfully loads ETH1 deposits, but starts throwing \"Unable to process past logs cannot convert block header with nil block number\" again after the beacon-node appears to be running:\r\n\r\n```\r\n←[90m[2020-11-28 12:57:39]←[0m ←[32m INFO←[0m←[36m powchain:←[0m Processing deposits from Ethereum 1 chain ←[32mdeposits←[0m=20480 ←[32mgenesisValidators←[0m=20470\r\n←[90m[2020-11-28 12:57:43]←[0m ←[32m INFO←[0m←[36m powchain:←[0m Processing deposits from Ethereum 1 chain ←[32mdeposits←[0m=20992 ←[32mgenesisValidators←[0m=20982\r\n←[90m[2020-11-28 12:57:44]←[0m ←[32m INFO←[0m←[36m powchain:←[0m Minimum number of validators reached for beacon-chain to start ←[32mChainStartTime←[0m=2020-12-01 07:00:23 -0500 EST\r\n←[90m[2020-11-28 12:57:44]←[0m ←[33m WARN←[0m←[36m blockchain:←[0m ProcessAttestations routine waiting for genesis time\r\n←[90m[2020-11-28 12:57:44]←[0m ←[33m WARN←[0m←[36m blockchain:←[0m Genesis time received, now available to process attestations\r\n←[90m[2020-11-28 12:57:45]←[0m ←[32m INFO←[0m←[36m blockchain:←[0m Initialized beacon chain genesis state\r\n←[90m[2020-11-28 12:57:45]←[0m ←[32m INFO←[0m←[36m initial-sync:←[0m Genesis time has not arrived - not syncing ←[32mgenesisTime←[0m=2020-12-01 07:00:23 -0500 EST\r\n←[90m[2020-11-28 12:57:45]←[0m ←[32m INFO←[0m←[36m p2p:←[0m Started discovery v5 *removed*\r\n←[90m[2020-11-28 12:57:45]←[0m ←[32m INFO←[0m←[36m p2p:←[0m Node started p2p server *removed*\r\n←[90m[2020-11-28 12:57:50]←[0m ←[31mERROR←[0m←[36m powchain:←[0m Unable to process past headers cannot convert block header with nil block number\r\n←[90m[2020-11-28 12:57:57]←[0m ←[32m INFO←[0m←[36m powchain:←[0m Connected to eth1 proof-of-work chain ←[32mendpoint←[0m=http://localhost:8545\r\n←[90m[2020-11-28 12:57:57]←[0m ←[31mERROR←[0m←[36m powchain:←[0m Unable to process past headers cannot convert block header with nil block number\r\n←[90m[2020-11-28 12:58:03]←[0m ←[32m INFO←[0m←[36m powchain:←[0m Connected to eth1 proof-of-work chain ←[32mendpoint←[0m=http://localhost:8545\r\n←[90m[2020-11-28 12:58:03]←[0m ←[31mERROR←[0m←[36m powchain:←[0m Unable to process past headers cannot convert block header with nil block number\r\n```\r\n\r\nTested with some manual RPC calls, and blocks after 11330000 always return null:\r\n\r\n```\r\ncurl -X POST --header \"Content-Type: application/json\" --data \"{\\\"jsonrpc\\\":\\\"2.0\\\",\\\"method\\\":\\\"eth_getBlockByNumber\\\",\\\"params\\\":[\\\"0xACe1d1\\\", false],\\\"id\\\":1}\" http://127.0.0.1:8545\r\n\r\n{\"jsonrpc\":\"2.0\",\"result\":null,\"id\":1}\r\n```\r\n\r\nCalls before 11330000 are always fine:\r\n\r\n```\r\ncurl -X POST --header \"Content-Type: application/json\" --data \"{\\\"jsonrpc\\\":\\\"2.0\\\",\\\"method\\\":\\\"eth_getBlockByNumber\\\",\\\"params\\\":[\\\"0xACe1d0\\\", false],\\\"id\\\":1}\" http://127.0.0.1:8545\r\n\r\n{\"jsonrpc\":\"2.0\",\"result\":{\"author\":\"0x5a0b54d5dc17e0aadc383d2db43b0a0d3e029c4c\"...\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/735284275/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/735387757",
    "html_url": "https://github.com/NethermindEth/nethermind/issues/2525#issuecomment-735387757",
    "issue_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/2525",
    "id": 735387757,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczNTM4Nzc1Nw==",
    "user": {
      "login": "tkstanczak",
      "id": 498913,
      "node_id": "MDQ6VXNlcjQ5ODkxMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/498913?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tkstanczak",
      "html_url": "https://github.com/tkstanczak",
      "followers_url": "https://api.github.com/users/tkstanczak/followers",
      "following_url": "https://api.github.com/users/tkstanczak/following{/other_user}",
      "gists_url": "https://api.github.com/users/tkstanczak/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tkstanczak/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tkstanczak/subscriptions",
      "organizations_url": "https://api.github.com/users/tkstanczak/orgs",
      "repos_url": "https://api.github.com/users/tkstanczak/repos",
      "events_url": "https://api.github.com/users/tkstanczak/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tkstanczak/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-29T12:41:11Z",
    "updated_at": "2020-11-29T12:41:11Z",
    "author_association": "MEMBER",
    "body": "@Mr-Lim let us know if resync fixes it - just to confirm that the previous issue was cause by the fact that the initial DB sync was done without the bodies and receipts and then 1.9.41 was running on top of it.",
    "reactions": {
      "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/735387757/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/736024090",
    "html_url": "https://github.com/NethermindEth/nethermind/issues/2525#issuecomment-736024090",
    "issue_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/2525",
    "id": 736024090,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczNjAyNDA5MA==",
    "user": {
      "login": "Mr-Lim",
      "id": 5209054,
      "node_id": "MDQ6VXNlcjUyMDkwNTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5209054?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Mr-Lim",
      "html_url": "https://github.com/Mr-Lim",
      "followers_url": "https://api.github.com/users/Mr-Lim/followers",
      "following_url": "https://api.github.com/users/Mr-Lim/following{/other_user}",
      "gists_url": "https://api.github.com/users/Mr-Lim/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Mr-Lim/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Mr-Lim/subscriptions",
      "organizations_url": "https://api.github.com/users/Mr-Lim/orgs",
      "repos_url": "https://api.github.com/users/Mr-Lim/repos",
      "events_url": "https://api.github.com/users/Mr-Lim/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Mr-Lim/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-30T20:28:29Z",
    "updated_at": "2020-11-30T20:28:29Z",
    "author_association": "NONE",
    "body": "@tkstanczak resync did resolve, and confirm that your description appears to have been the cause. Thanks for your help!",
    "reactions": {
      "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/736024090/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/736673921",
    "html_url": "https://github.com/NethermindEth/nethermind/issues/2525#issuecomment-736673921",
    "issue_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/2525",
    "id": 736673921,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczNjY3MzkyMQ==",
    "user": {
      "login": "nisdas",
      "id": 33201827,
      "node_id": "MDQ6VXNlcjMzMjAxODI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/33201827?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nisdas",
      "html_url": "https://github.com/nisdas",
      "followers_url": "https://api.github.com/users/nisdas/followers",
      "following_url": "https://api.github.com/users/nisdas/following{/other_user}",
      "gists_url": "https://api.github.com/users/nisdas/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nisdas/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nisdas/subscriptions",
      "organizations_url": "https://api.github.com/users/nisdas/orgs",
      "repos_url": "https://api.github.com/users/nisdas/repos",
      "events_url": "https://api.github.com/users/nisdas/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nisdas/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-12-01T16:45:21Z",
    "updated_at": "2020-12-01T16:45:21Z",
    "author_association": "NONE",
    "body": "@tkstanczak Just for closure, for users running nethermind, which flags should they run to avoid this issue ?\r\nOnly 0.41 onwards with ` Sync.FixReceipts` ? Would this be the only flag required",
    "reactions": {
      "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/736673921/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/736736335",
    "html_url": "https://github.com/NethermindEth/nethermind/issues/2525#issuecomment-736736335",
    "issue_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/2525",
    "id": 736736335,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczNjczNjMzNQ==",
    "user": {
      "login": "tkstanczak",
      "id": 498913,
      "node_id": "MDQ6VXNlcjQ5ODkxMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/498913?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tkstanczak",
      "html_url": "https://github.com/tkstanczak",
      "followers_url": "https://api.github.com/users/tkstanczak/followers",
      "following_url": "https://api.github.com/users/tkstanczak/following{/other_user}",
      "gists_url": "https://api.github.com/users/tkstanczak/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tkstanczak/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tkstanczak/subscriptions",
      "organizations_url": "https://api.github.com/users/tkstanczak/orgs",
      "repos_url": "https://api.github.com/users/tkstanczak/repos",
      "events_url": "https://api.github.com/users/tkstanczak/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tkstanczak/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-12-01T18:27:43Z",
    "updated_at": "2020-12-01T18:27:43Z",
    "author_association": "MEMBER",
    "body": "@nisdas users can run just the default mainnet config now (unless they use Teku). For Teku they need to change --Sync.AncientReceiptsBarrier 1",
    "reactions": {
      "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/736736335/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/736991982",
    "html_url": "https://github.com/NethermindEth/nethermind/issues/2525#issuecomment-736991982",
    "issue_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/2525",
    "id": 736991982,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczNjk5MTk4Mg==",
    "user": {
      "login": "nisdas",
      "id": 33201827,
      "node_id": "MDQ6VXNlcjMzMjAxODI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/33201827?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nisdas",
      "html_url": "https://github.com/nisdas",
      "followers_url": "https://api.github.com/users/nisdas/followers",
      "following_url": "https://api.github.com/users/nisdas/following{/other_user}",
      "gists_url": "https://api.github.com/users/nisdas/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nisdas/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nisdas/subscriptions",
      "organizations_url": "https://api.github.com/users/nisdas/orgs",
      "repos_url": "https://api.github.com/users/nisdas/repos",
      "events_url": "https://api.github.com/users/nisdas/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nisdas/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-12-02T05:03:26Z",
    "updated_at": "2020-12-02T05:03:26Z",
    "author_association": "NONE",
    "body": "Ok great, thanks a lot :+1: ",
    "reactions": {
      "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/736991982/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
