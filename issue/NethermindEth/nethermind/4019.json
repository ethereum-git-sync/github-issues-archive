{
  "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/4019",
  "repository_url": "https://api.github.com/repos/NethermindEth/nethermind",
  "labels_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/4019/labels{/name}",
  "comments_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/4019/comments",
  "events_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/4019/events",
  "html_url": "https://github.com/NethermindEth/nethermind/issues/4019",
  "id": 1233345120,
  "node_id": "I_kwDOBggaLc5Jg1pg",
  "number": 4019,
  "title": "Network.Bootnodes CLI flag ignored when using empty config.",
  "user": {
    "login": "z3n-chada",
    "id": 84289263,
    "node_id": "MDQ6VXNlcjg0Mjg5MjYz",
    "avatar_url": "https://avatars.githubusercontent.com/u/84289263?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/z3n-chada",
    "html_url": "https://github.com/z3n-chada",
    "followers_url": "https://api.github.com/users/z3n-chada/followers",
    "following_url": "https://api.github.com/users/z3n-chada/following{/other_user}",
    "gists_url": "https://api.github.com/users/z3n-chada/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/z3n-chada/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/z3n-chada/subscriptions",
    "organizations_url": "https://api.github.com/users/z3n-chada/orgs",
    "repos_url": "https://api.github.com/users/z3n-chada/repos",
    "events_url": "https://api.github.com/users/z3n-chada/events{/privacy}",
    "received_events_url": "https://api.github.com/users/z3n-chada/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1024161790,
      "node_id": "MDU6TGFiZWwxMDI0MTYxNzkw",
      "url": "https://api.github.com/repos/NethermindEth/nethermind/labels/devops",
      "name": "devops",
      "color": "dbbd11",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": {
    "login": "FalcoXYZ",
    "id": 1364936,
    "node_id": "MDQ6VXNlcjEzNjQ5MzY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1364936?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/FalcoXYZ",
    "html_url": "https://github.com/FalcoXYZ",
    "followers_url": "https://api.github.com/users/FalcoXYZ/followers",
    "following_url": "https://api.github.com/users/FalcoXYZ/following{/other_user}",
    "gists_url": "https://api.github.com/users/FalcoXYZ/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/FalcoXYZ/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/FalcoXYZ/subscriptions",
    "organizations_url": "https://api.github.com/users/FalcoXYZ/orgs",
    "repos_url": "https://api.github.com/users/FalcoXYZ/repos",
    "events_url": "https://api.github.com/users/FalcoXYZ/events{/privacy}",
    "received_events_url": "https://api.github.com/users/FalcoXYZ/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "FalcoXYZ",
      "id": 1364936,
      "node_id": "MDQ6VXNlcjEzNjQ5MzY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1364936?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/FalcoXYZ",
      "html_url": "https://github.com/FalcoXYZ",
      "followers_url": "https://api.github.com/users/FalcoXYZ/followers",
      "following_url": "https://api.github.com/users/FalcoXYZ/following{/other_user}",
      "gists_url": "https://api.github.com/users/FalcoXYZ/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/FalcoXYZ/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/FalcoXYZ/subscriptions",
      "organizations_url": "https://api.github.com/users/FalcoXYZ/orgs",
      "repos_url": "https://api.github.com/users/FalcoXYZ/repos",
      "events_url": "https://api.github.com/users/FalcoXYZ/events{/privacy}",
      "received_events_url": "https://api.github.com/users/FalcoXYZ/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 0,
  "created_at": "2022-05-12T01:45:28Z",
  "updated_at": "2022-08-31T17:49:39Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "**Describe the bug**\r\nNetwork.Bootnodes flag ignored in docker container with empty config.\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\nWith an empty config ({}) try passing \r\n`--Network.Bootnodes=\"enode://<insert-enode-here>@X.X.X.X:PORT`\r\n\r\nThe log will report: \r\n`2022-05-11 21:15:15.2676|WARN|19|No bootnodes specified in configuration`\r\n\r\nAdditionally nethermind will never peer. \r\n\r\n**Expected behavior**\r\nThe Network.Bootnode cli flag to override the config file. \r\n\r\n**Desktop (please complete the following information):**\r\n Linux amd64 (running in docker)\r\n\r\n**Additional context**\r\nFull command:\r\n    echo \"{}\" > /tmp/nethermind.cfg\r\n      nethermind \\\r\n        $ADDITIONAL_ARGS \\\r\n        --config=\"/tmp/nethermind.cfg\" \\\r\n        --datadir=\"$EXECUTION_DATA_DIR\" \\\r\n        --Init.ChainSpecPath=\"$NETHER_MIND_GENESIS_FILE\" \\\r\n        --Init.IsMining=true \\\r\n        --Init.StoreReceipts=true \\\r\n        --Init.WebSocketsEnabled=true \\\r\n        --Init.EnableUnsecuredDevWallet=true \\\r\n        --Init.DiagnosticMode=\"None\" \\\r\n        --JsonRpc.Enabled=true \\\r\n        --JsonRpc.EnabledModules=\"$HTTP_APIS\" \\\r\n        --JsonRpc.Port=\"$EXECUTION_HTTP_PORT\" \\\r\n        --JsonRpc.WebSocketsPort=\"$EXECUTION_WS_PORT\" \\\r\n        --JsonRpc.Host=0.0.0.0 \\\r\n        --Network.ExternalIp=\"$IP_ADDR\" \\\r\n        --Network.LocalIp=\"$IP_ADDR\" \\\r\n        --Network.DiscoveryPort=\"$EXECUTION_P2P_PORT\" \\\r\n        --Network.P2PPort=\"$EXECUTION_P2P_PORT\" \\\r\n        --Network.Bootnodes=\"$EXECUTION_BOOTNODE\" \\\r\n        --Merge.Enabled=true \\\r\n        --Merge.FeeRecipient=\"0xf97e180c050e5Ab072211Ad2C213Eb5AEE4DF134\" \\\r\n        --Merge.TerminalTotalDifficulty=\"$TERMINAL_TOTAL_DIFFICULTY\" \\\r\n        --JsonRpc.JwtSecretFile=$JWT_SECRET_FILE \\\r\n        --JsonRpc.AdditionalRpcUrls=\"http://localhost:$EXECUTION_ENGINE_HTTP_PORT|http|net;eth;subscribe;engine;web3;client;clique,http://localhost:$EXECUTION_ENGINE_WS_PORT|ws|net;eth;subscribe  ;engine;web3;client\"`\r\n\r\nAll vars are well-defined and everything works as expected if I use the admin RPC API to add peers.\r\nFull init log:\r\n    2022-05-11 21:14:56.0114|WARN|8|Using the local IP override: NetworkConfig.LocalIp = 10.0.20.24\r\n    2022-05-11 21:14:56.0578|WARN|8|Using the external IP override: NetworkConfig.ExternalIp = 10.0.20.24\r\n    2022-05-11 21:15:02.4457|INFO|23|Unlocking account: 0x7e5f4552091a69125d5dfcb7b8c2659029395bdf\r\n    2022-05-11 21:15:08.0447|INFO|23|Unlocking account: 0x2b5ad5c4795c026514f8317c7a215e218dccd6cf\r\n    2022-05-11 21:15:12.6755|INFO|23|Unlocking account: 0x6813eb9362372eef6200f3b1dbc3f819671cba69\r\n    2022-05-11 21:15:12.6790|INFO|23|Generating private key for the node (no node key in configuration) - stored in plain + key store for JSON RPC unlocking\r\n    2022-05-11 21:15:14.5022|INFO|23|Store this password for unlocking the node key for JSON RPC - this is not secure - this log     message will be in your log files. Use only in DEV contexts.\r\n    2022-05-11 21:15:14.5875|INFO|23|Block tree initialized, last processed is 0, best queued is 0, best known is 0, lowest inserted header , body , lowest sync inserted block number\r\n    2022-05-11 21:15:14.5916|INFO|23|Address 0x14ec02dfae495747543fead96b2785e7b34f79a9 is configured for signing blocks.\r\n    2022-05-11 21:15:14.6044|INFO|23|Initializing 10 plugins\r\n    2022-05-11 21:15:14.6044|INFO|23|  Clique by Nethermind\r\n    2022-05-11 21:15:14.6044|INFO|23|  Clique by Nethermind initialized in 3ms\r\n    2022-05-11 21:15:14.6044|INFO|23|  AuRa by Nethermind\r\n    2022-05-11 21:15:14.6044|INFO|23|  AuRa by Nethermind initialized in 0ms\r\n    2022-05-11 21:15:14.6044|INFO|23|  Ethash by Nethermind\r\n    2022-05-11 21:15:14.6090|INFO|23|  Ethash by Nethermind initialized in 0ms\r\n    2022-05-11 21:15:14.6090|INFO|23|  NethDev by Nethermind\r\n    2022-05-11 21:15:14.6090|INFO|23|  NethDev by Nethermind initialized in 0ms\r\n    2022-05-11 21:15:14.6090|INFO|23|  Merge by Nethermind\r\n    2022-05-11 21:15:14.6156|INFO|23|  Merge by Nethermind initialized in 6ms\r\n    2022-05-11 21:15:14.6156|INFO|23|  MEV by Nethermind\r\n    2022-05-11 21:15:14.6156|INFO|23|  MEV by Nethermind initialized in 0ms\r\n    2022-05-11 21:15:14.6164|INFO|23|  HealthChecks by Nethermind\r\n    2022-05-11 21:15:14.6164|INFO|23|  HealthChecks by Nethermind initialized in 0ms\r\n    2022-05-11 21:15:14.6164|INFO|23|  Hive by Nethermind\r\n    2022-05-11 21:15:14.6164|INFO|23|  Hive by Nethermind initialized in 0ms\r\n    2022-05-11 21:15:14.6164|INFO|23|  Account Abstraction by Nethermind\r\n    2022-05-11 21:15:14.6238|INFO|23|  Account Abstraction Plugin: User Operation Mining Disabled\r\n    2022-05-11 21:15:14.6238|INFO|23|  Account Abstraction by Nethermind initialized in 5ms\r\n    2022-05-11 21:15:14.6238|INFO|23|  EthStats by Nethermind\r\n    2022-05-11 21:15:14.6246|WARN|23|EthStatsPlugin plugin disabled due to EthStatsConfig settings set to false\r\n    2022-05-11 21:15:14.6246|INFO|23|  EthStats by Nethermind initialized in 0ms\r\n    2022-05-11 21:15:15.1276|INFO|9|Loaded 0 static nodes from file: /nethermind/Data/static-nodes.json\r\n    2022-05-11 21:15:15.2111|INFO|9|Skipping Account Abstraction network protocol\r\n    2022-05-11 21:15:15.2624|INFO|9|Found no blocks to load from DB\r\n    2022-05-11 21:15:15.2676|WARN|19|No bootnodes specified in configuration\r\n    2022-05-11 21:15:15.2727|INFO|9|Loaded LowestInsertedBeaconHeader:\r\n    2022-05-11 21:15:15.2771|INFO|9|Numbers resolved, level = Max(0, 0), header = Max(0, 0), body = Max(0, 0)\r\n    2022-05-11 21:15:15.2841|INFO|9|Grafana / Prometheus metrics are disabled in configuration\r\n    2022-05-11 21:15:15.2937|INFO|9|Starting Merge block producer & sealer\r\n    2022-05-11 21:15:15.3012|INFO|9|FeeRecipient: 0xf97e180c050e5ab072211ad2c213eb5aee4df134\r\n    2022-05-11 21:15:15.3710|INFO|15|Engine Module has been enabled\r\n    2022-05-11 21:15:15.3710|INFO|15|Skipping Flashbots RPC plugin\r\n    2022-05-11 21:15:15.3728|INFO|15|Skipping Hive plugin\r\n    2022-05-11 21:15:15.3728|INFO|15|Skipping Account Abstraction RPC plugin\r\n    2022-05-11 21:15:15.3728|WARN|15|Starting Clique block producer & sealer\r\n    2022-05-11 21:15:15.4182|INFO|97|Creating epoch snapshot at block 0\r\n    2022-05-11 21:15:15.4514|INFO|15|Reading jwt secret from file: /data/local_testnet/teku-nethermind/jwt-secret-0\r\n    2022-05-11 21:15:15.5136|INFO|15|\r\n    ======================== Nethermind initialization completed ========================\r\n    Version      : 1.12.7-836-470ada163-20220511/X64-Linux/6.0.4\r\n    This node    :     enode://a04f1c2cd0eab0a948af186463a5aa3814930c58cd61a60628ab9911447556cb1a43564f3ebaaba133bc47a2a7386d44a1f2959cc692a076025cb9e016c4f095@10.0.20.24:666\r\n    RPC modules  : Admin, Eth, Net, Subscribe, Web3\r\n    Node address : 0x14ec02dfae495747543fead96b2785e7b34f79a9 (do not use as an account)\r\n    Mem est tx   :     82MB\r\n    Mem est DB   :     67MB\r\n    JSON RPC     : http://0.0.0.0:8645 ; http://0.0.0.0:8646 ; http://localhost:8551 ; http://localhost:8552\r\n    Genesis hash : 0xf0bc617a06d977bafccbbb738e06dc72433236815d5ba62ebae03894270eb2a9\r\n    External IP  : 10.0.20.24\r\n    Ethereum     : tcp://10.0.20.24:666\r\n    Discovery    : udp://10.0.20.24:666\r\n    Chainspec    : /data/nethermind-genesis.json\r\n    Chain ID     : 16778854\r\n    Chain head   : 0\r\n    =====================================================================================",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/4019/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/4019/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[

]
