{
  "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/5395",
  "repository_url": "https://api.github.com/repos/NethermindEth/nethermind",
  "labels_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/5395/labels{/name}",
  "comments_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/5395/comments",
  "events_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/5395/events",
  "html_url": "https://github.com/NethermindEth/nethermind/issues/5395",
  "id": 1613853242,
  "node_id": "I_kwDOBggaLc5gMXI6",
  "number": 5395,
  "title": "Unable to stop client if it is not initialized fully (hang on Disposing plugin TraceStore)",
  "user": {
    "login": "kamilchodola",
    "id": 43241881,
    "node_id": "MDQ6VXNlcjQzMjQxODgx",
    "avatar_url": "https://avatars.githubusercontent.com/u/43241881?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/kamilchodola",
    "html_url": "https://github.com/kamilchodola",
    "followers_url": "https://api.github.com/users/kamilchodola/followers",
    "following_url": "https://api.github.com/users/kamilchodola/following{/other_user}",
    "gists_url": "https://api.github.com/users/kamilchodola/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/kamilchodola/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/kamilchodola/subscriptions",
    "organizations_url": "https://api.github.com/users/kamilchodola/orgs",
    "repos_url": "https://api.github.com/users/kamilchodola/repos",
    "events_url": "https://api.github.com/users/kamilchodola/events{/privacy}",
    "received_events_url": "https://api.github.com/users/kamilchodola/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 0,
  "created_at": "2023-03-07T16:59:57Z",
  "updated_at": "2023-03-07T17:00:06Z",
  "closed_at": null,
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "**Steps to Reproduce**\r\nIn order to replicate the behavior, please provide a detailed list of steps:\r\n1. Start nethermind Client\r\n2. Quickly (after 2-3 seconds) hit CTRL+C \r\n\r\n**Actual behavior**\r\nObserved is that console hangs on **Disposing plugin TraceStore...**:\r\n```\r\nm1@673bd14e-79c2-4bb7-9d2f-0ab5bd53073f ~ % nethermind\r\n2023-03-07 17-54-44.6401|Nethermind starting initialization.\r\n2023-03-07 17-54-44.6979|Loading embedded plugins\r\n2023-03-07 17-54-44.6980|  Found plugin type Nethermind.Consensus.AuRa.AuRaPlugin\r\n2023-03-07 17-54-44.6980|  Found plugin type Nethermind.Consensus.Clique.CliquePlugin\r\n2023-03-07 17-54-44.6980|  Found plugin type Nethermind.Consensus.Ethash.EthashPlugin\r\n2023-03-07 17-54-44.6980|  Found plugin type Nethermind.Consensus.Ethash.NethDevPlugin\r\n2023-03-07 17-54-44.6980|  Found plugin type Nethermind.Hive.HivePlugin\r\n2023-03-07 17-54-44.6980|  Found plugin type Nethermind.UPnP.Plugin.UPnPPlugin\r\nResolved executing directory as /opt/homebrew/Cellar/nethermind/1.17.0/bin.\r\n2023-03-07 17-54-44.7147|Loading 10 assemblies from /opt/homebrew/Cellar/nethermind/1.17.0/bin/plugins\r\n2023-03-07 17-54-44.7154|Loading assembly Nethermind.Init\r\n2023-03-07 17-54-44.7178|Loading assembly Nethermind.AccountAbstraction\r\n2023-03-07 17-54-44.7278|  Found plugin type Nethermind.AccountAbstraction\r\n2023-03-07 17-54-44.7279|Loading assembly Nethermind.Consensus.AuRa\r\n2023-03-07 17-54-44.7305|Loading assembly Nethermind.Merge.Plugin\r\n2023-03-07 17-54-44.7338|  Found plugin type Nethermind.Merge.Plugin\r\n2023-03-07 17-54-44.7338|Loading assembly Nethermind.Mev\r\n2023-03-07 17-54-44.7349|  Found plugin type Nethermind.Mev\r\n2023-03-07 17-54-44.7349|Loading assembly Nethermind.Api\r\n2023-03-07 17-54-44.7357|Loading assembly Nethermind.EthStats\r\n2023-03-07 17-54-44.7362|  Found plugin type Nethermind.EthStats\r\n2023-03-07 17-54-44.7362|Loading assembly Nethermind.Merge.AuRa\r\n2023-03-07 17-54-44.7366|  Found plugin type Nethermind.Merge.AuRa\r\n2023-03-07 17-54-44.7366|Loading assembly Nethermind.HealthChecks\r\n2023-03-07 17-54-44.7385|  Found plugin type Nethermind.HealthChecks\r\n2023-03-07 17-54-44.7385|Loading assembly Nethermind.JsonRpc.TraceStore\r\n2023-03-07 17-54-44.7393|  Found plugin type Nethermind.JsonRpc.TraceStore\r\n2023-03-07 17-54-44.7851|Loading standard NLog.config file from /opt/homebrew/Cellar/nethermind/1.17.0/bin/NLog.config.\r\n2023-03-07 17-54-44.9503|NLog.config loaded in 165ms.\r\n2023-03-07 17-54-44.9510|Reading config file from /opt/homebrew/Cellar/nethermind/1.17.0/bin/configs/mainnet.cfg\r\n2023-03-07 17-54-45.0231|Configuration initialized.\r\n2023-03-07 17:54:45.0393|RocksDb Version: 7.7.3\r\n2023-03-07 17:54:45.0444|Loading chainspec from embedded resources: /opt/homebrew/Cellar/nethermind/1.17.0/bin/chainspec/foundation.json\r\n2023-03-07 17:54:45.2853|Using http://ipv4.icanhazip.com to get external ip\r\n2023-03-07 17:54:45.4835|Setting up memory allowances\r\n2023-03-07 17:54:45.4835|  memory hint:        2048MB\r\n2023-03-07 17:54:45.4835|  general memory:     32MB\r\n2023-03-07 17:54:45.4835|  peers memory:       100MB\r\n2023-03-07 17:54:45.4944|  Netty memory:       268MB\r\n2023-03-07 17:54:45.4944|  mempool memory:     149MB\r\n2023-03-07 17:54:45.4949|  fast blocks memory: 149MB\r\n2023-03-07 17:54:45.4949|  trie memory:        269MB\r\n2023-03-07 17:54:45.4971|  DB memory:          1078MB\r\n^C2023-03-07 17:54:45.9462|Closing, please wait until all functions are stopped properly...\r\n2023-03-07 17:54:45.9501|Stopping session monitor...\r\n2023-03-07 17:54:45.9501|Stopping session sync mode selector...\r\n2023-03-07 17:54:45.9511|Stopping discovery app...\r\n2023-03-07 17:54:45.9511|Stopping block producer...\r\n2023-03-07 17:54:45.9511|Stopping sync peer pool...\r\n2023-03-07 17:54:45.9518|Stopping peer pool...\r\n2023-03-07 17:54:45.9518|Stopping peer manager...\r\n2023-03-07 17:54:45.9518|Stopping synchronizer...\r\n2023-03-07 17:54:45.9518|Stopping blockchain processor...\r\n2023-03-07 17:54:45.9518|Stopping rlpx peer...\r\n2023-03-07 17:54:45.9535|Disposing plugin Clique...\r\n2023-03-07 17:54:45.9551|Disposing plugin AuRa...\r\n2023-03-07 17:54:45.9551|Disposing plugin Ethash...\r\n2023-03-07 17:54:45.9551|Disposing plugin NethDev...\r\n2023-03-07 17:54:45.9551|Disposing plugin AuRaMerge...\r\n2023-03-07 17:54:45.9560|Disposing plugin Merge...\r\n2023-03-07 17:54:45.9560|Disposing plugin MEV...\r\n2023-03-07 17:54:45.9560|Disposing plugin HealthChecks...\r\n2023-03-07 17:54:45.9575|Disposing plugin Hive...\r\n2023-03-07 17:54:45.9575|Disposing plugin Account Abstraction...\r\n2023-03-07 17:54:45.9575|Disposing plugin EthStats...\r\n2023-03-07 17:54:45.9579|Disposing plugin TraceStore...\r\n^C\r\n\r\n```\r\n**Expected behavior**\r\nNode should quickly stop \r\n\r\n**Desktop (please complete the following information):**\r\nPlease provide the following information regarding your setup:\r\n - Operating System: Mac M1 (but seems not to be OS depended) \r\n - Version: 1.17.0\r\n - Installation Method: Homebrew\r\n - Consensus Client: N/A\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/5395/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/5395/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[

]
