{
  "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/2504",
  "repository_url": "https://api.github.com/repos/NethermindEth/nethermind",
  "labels_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/2504/labels{/name}",
  "comments_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/2504/comments",
  "events_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/2504/events",
  "html_url": "https://github.com/NethermindEth/nethermind/issues/2504",
  "id": 749770915,
  "node_id": "MDU6SXNzdWU3NDk3NzA5MTU=",
  "number": 2504,
  "title": "XDai archive node failure on TxCertifier call",
  "user": {
    "login": "tkstanczak",
    "id": 498913,
    "node_id": "MDQ6VXNlcjQ5ODkxMw==",
    "avatar_url": "https://avatars.githubusercontent.com/u/498913?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tkstanczak",
    "html_url": "https://github.com/tkstanczak",
    "followers_url": "https://api.github.com/users/tkstanczak/followers",
    "following_url": "https://api.github.com/users/tkstanczak/following{/other_user}",
    "gists_url": "https://api.github.com/users/tkstanczak/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tkstanczak/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tkstanczak/subscriptions",
    "organizations_url": "https://api.github.com/users/tkstanczak/orgs",
    "repos_url": "https://api.github.com/users/tkstanczak/repos",
    "events_url": "https://api.github.com/users/tkstanczak/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tkstanczak/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1448805289,
      "node_id": "MDU6TGFiZWwxNDQ4ODA1Mjg5",
      "url": "https://api.github.com/repos/NethermindEth/nethermind/labels/poa",
      "name": "poa",
      "color": "7b5fb9",
      "default": false,
      "description": ""
    },
    {
      "id": 1833597981,
      "node_id": "MDU6TGFiZWwxODMzNTk3OTgx",
      "url": "https://api.github.com/repos/NethermindEth/nethermind/labels/posdao",
      "name": "posdao",
      "color": "fce6c4",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "LukaszRozmej",
    "id": 12445221,
    "node_id": "MDQ6VXNlcjEyNDQ1MjIx",
    "avatar_url": "https://avatars.githubusercontent.com/u/12445221?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/LukaszRozmej",
    "html_url": "https://github.com/LukaszRozmej",
    "followers_url": "https://api.github.com/users/LukaszRozmej/followers",
    "following_url": "https://api.github.com/users/LukaszRozmej/following{/other_user}",
    "gists_url": "https://api.github.com/users/LukaszRozmej/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/LukaszRozmej/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/LukaszRozmej/subscriptions",
    "organizations_url": "https://api.github.com/users/LukaszRozmej/orgs",
    "repos_url": "https://api.github.com/users/LukaszRozmej/repos",
    "events_url": "https://api.github.com/users/LukaszRozmej/events{/privacy}",
    "received_events_url": "https://api.github.com/users/LukaszRozmej/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "LukaszRozmej",
      "id": 12445221,
      "node_id": "MDQ6VXNlcjEyNDQ1MjIx",
      "avatar_url": "https://avatars.githubusercontent.com/u/12445221?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/LukaszRozmej",
      "html_url": "https://github.com/LukaszRozmej",
      "followers_url": "https://api.github.com/users/LukaszRozmej/followers",
      "following_url": "https://api.github.com/users/LukaszRozmej/following{/other_user}",
      "gists_url": "https://api.github.com/users/LukaszRozmej/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/LukaszRozmej/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/LukaszRozmej/subscriptions",
      "organizations_url": "https://api.github.com/users/LukaszRozmej/orgs",
      "repos_url": "https://api.github.com/users/LukaszRozmej/repos",
      "events_url": "https://api.github.com/users/LukaszRozmej/events{/privacy}",
      "received_events_url": "https://api.github.com/users/LukaszRozmej/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2020-11-24T14:49:22Z",
  "updated_at": "2021-01-27T09:23:27Z",
  "closed_at": "2020-11-30T11:16:11Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "v3.0.1-stable-8ca8089-20200601/x86_64-unknown-linux-gnu/rustc1.43.1|167.71.96.6:30303], with AuRa step 321245837\r\n2020-11-24 14:46:25.0923|Call to certifier contract failed. Nethermind.Abi.AbiException: Cannot decode return data for function getAddress(address) for contract 0x6b53721d4f2fb9514b85f5c49b197d857e36cf03.\r\n ---> System.ArgumentException: Offset and length were out of bounds for the array or count is greater than the number of elements from index to the end of the source collection.\r\n   at System.Buffer.BlockCopy(Array src, Int32 srcOffset, Array dst, Int32 dstOffset, Int32 count)\r\n   at Nethermind.Core.Extensions.ByteArrayExtensions.Slice(Byte[] bytes, Int32 startIndex, Int32 length) in /root/src/nethermind/src/Nethermind/Nethermind.Core/Extensions/ByteArrayExtensions.cs:line 49\r\n   at Nethermind.Abi.AbiAddress.Decode(Byte[] data, Int32 position, Boolean packed) in /root/src/nethermind/src/Nethermind/Nethermind.Abi/AbiAddress.cs:line 61\r\n   at Nethermind.Abi.AbiEncoder.Decode(AbiEncodingStyle encodingStyle, AbiSignature signature, Byte[] data) in /root/src/nethermind/src/Nethermind/Nethermind.Abi/AbiEncoder.cs:line 89\r\n   at Nethermind.Blockchain.Contracts.Contract.DecodeData(AbiEncodingInfo abiEncodingInfo, Byte[] data) in /root/src/nethermind/src/Nethermind/Nethermind.Blockchain/Contracts/Contract.cs:line 187\r\n   --- End of inner exception stack trace ---\r\n   at Nethermind.Blockchain.Contracts.Contract.DecodeData(AbiEncodingInfo abiEncodingInfo, Byte[] data) in /root/src/nethermind/src/Nethermind/Nethermind.Blockchain/Contracts/Contract.cs:line 187\r\n   at Nethermind.Consensus.AuRa.Contracts.RegisterContract.GetAddress(BlockHeader header, String key) in /root/src/nethermind/src/Nethermind/Nethermind.Consensus.AuRa/Contracts/RegisterContract.cs:line 52\r\n   at Nethermind.Consensus.AuRa.Contracts.RegisterBasedContract.GetContractAddress(BlockHeader header) in /root/src/nethermind/src/Nethermind/Nethermind.Consensus.AuRa/Contracts/RegisterBasedContract.cs:line 70\r\n   at Nethermind.Consensus.AuRa.Contracts.RegisterBasedContract.GenerateTransaction[T](Byte[] transactionData, Address sender, Int64 gasLimit, BlockHeader header) in /root/src/nethermind/src/Nethermind/Nethermind.Consensus.AuRa/Contracts/RegisterBasedContract.cs:line 44\r\n   at Nethermind.Blockchain.Contracts.Contract.ConstantContract.CallRaw(BlockHeader parentHeader, String functionName, Address sender, Object[] arguments) in /root/src/nethermind/src/Nethermind/Nethermind.Blockchain/Contracts/Contract.ConstantContract.cs:line 102\r\n   at Nethermind.Consensus.AuRa.Contracts.CertifierContract.Certified(BlockHeader parentHeader, Address sender) in /root/src/nethermind/src/Nethermind/Nethermind.Consensus.AuRa/Contracts/CertifierContract.cs:line 46\r\n   at Nethermind.Consensus.AuRa.Transactions.TxCertifierFilter.IsCertified(Transaction tx, BlockHeader parentHeader) in /root/src/nethermind/src/Nethermind/Nethermind.Consensus.AuRa/Transactions/TxCertifierFilter.cs:line 73\r\n2020-11-24 14:46:25.1002|Call to certifier contract failed. Nethermind.Abi.AbiException: Cannot decode return data for function getAddress(address) for contract 0x6b53721d4f2fb9514b85f5c49b197d857e36cf03.\r\n ---> System.ArgumentException: Offset and length were out of bounds for the array or count is greater than the number of elements from index to the end of the source collection.\r\n   at System.Buffer.BlockCopy(Array src, Int32 srcOffset, Array dst, Int32 dstOffset, Int32 count)\r\n   at Nethermind.Core.Extensions.ByteArrayExtensions.Slice(Byte[] bytes, Int32 startIndex, Int32 length) in /root/src/nethermind/src/Nethermind/Nethermind.Core/Extensions/ByteArrayExtensions.cs:line 49\r\n   at Nethermind.Abi.AbiAddress.Decode(Byte[] data, Int32 position, Boolean packed) in /root/src/nethermind/src/Nethermind/Nethermind.Abi/AbiAddress.cs:line 61\r\n   at Nethermind.Abi.AbiEncoder.Decode(AbiEncodingStyle encodingStyle, AbiSignature signature, Byte[] data) in /root/src/nethermind/src/Nethermind/Nethermind.Abi/AbiEncoder.cs:line 89\r\n   at Nethermind.Blockchain.Contracts.Contract.DecodeData(AbiEncodingInfo abiEncodingInfo, Byte[] data) in /root/src/nethermind/src/Nethermind/Nethermind.Blockchain/Contracts/Contract.cs:line 187\r\n   --- End of inner exception stack trace ---\r\n   at Nethermind.Blockchain.Contracts.Contract.DecodeData(AbiEncodingInfo abiEncodingInfo, Byte[] data) in /root/src/nethermind/src/Nethermind/Nethermind.Blockchain/Contracts/Contract.cs:line 187\r\n   at Nethermind.Consensus.AuRa.Contracts.RegisterContract.GetAddress(BlockHeader header, String key) in /root/src/nethermind/src/Nethermind/Nethermind.Consensus.AuRa/Contracts/RegisterContract.cs:line 52\r\n   at Nethermind.Consensus.AuRa.Contracts.RegisterBasedContract.GetContractAddress(BlockHeader header) in /root/src/nethermind/src/Nethermind/Nethermind.Consensus.AuRa/Contracts/RegisterBasedContract.cs:line 70\r\n   at Nethermind.Consensus.AuRa.Contracts.RegisterBasedContract.GenerateTransaction[T](Byte[] transactionData, Address sender, Int64 gasLimit, BlockHeader header) in /root/src/nethermind/src/Nethermind/Nethermind.Consensus.AuRa/Contracts/RegisterBasedContract.cs:line 44\r\n   at Nethermind.Blockchain.Contracts.Contract.ConstantContract.CallRaw(BlockHeader parentHeader, String functionName, Address sender, Object[] arguments) in /root/src/nethermind/src/Nethermind/Nethermind.Blockchain/Contracts/Contract.ConstantContract.cs:line 102\r\n   at Nethermind.Consensus.AuRa.Contracts.CertifierContract.Certified(BlockHeader parentHeader, Address sender) in /root/src/nethermind/src/Nethermind/Nethermind.Consensus.AuRa/Contracts/CertifierContract.cs:line 46\r\n   at Nethermind.Consensus.AuRa.Transactions.TxCertifierFilter.IsCertified(Transaction tx, BlockHeader parentHeader) in /root/src/nethermind/src/Nethermind/Nethermind.Consensus.AuRa/Transac",
  "closed_by": {
    "login": "tkstanczak",
    "id": 498913,
    "node_id": "MDQ6VXNlcjQ5ODkxMw==",
    "avatar_url": "https://avatars.githubusercontent.com/u/498913?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tkstanczak",
    "html_url": "https://github.com/tkstanczak",
    "followers_url": "https://api.github.com/users/tkstanczak/followers",
    "following_url": "https://api.github.com/users/tkstanczak/following{/other_user}",
    "gists_url": "https://api.github.com/users/tkstanczak/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tkstanczak/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tkstanczak/subscriptions",
    "organizations_url": "https://api.github.com/users/tkstanczak/orgs",
    "repos_url": "https://api.github.com/users/tkstanczak/repos",
    "events_url": "https://api.github.com/users/tkstanczak/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tkstanczak/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/2504/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/2504/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/733025848",
    "html_url": "https://github.com/NethermindEth/nethermind/issues/2504#issuecomment-733025848",
    "issue_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/2504",
    "id": 733025848,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczMzAyNTg0OA==",
    "user": {
      "login": "tkstanczak",
      "id": 498913,
      "node_id": "MDQ6VXNlcjQ5ODkxMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/498913?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tkstanczak",
      "html_url": "https://github.com/tkstanczak",
      "followers_url": "https://api.github.com/users/tkstanczak/followers",
      "following_url": "https://api.github.com/users/tkstanczak/following{/other_user}",
      "gists_url": "https://api.github.com/users/tkstanczak/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tkstanczak/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tkstanczak/subscriptions",
      "organizations_url": "https://api.github.com/users/tkstanczak/orgs",
      "repos_url": "https://api.github.com/users/tkstanczak/repos",
      "events_url": "https://api.github.com/users/tkstanczak/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tkstanczak/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-24T14:55:03Z",
    "updated_at": "2020-11-24T14:55:03Z",
    "author_association": "MEMBER",
    "body": "it keeps synchronizing after this:\r\n2020-11-24 14:53:55.1465|Discovered new block 13176995 14:53:55 (0xfb98c1...82cd57), tx count: 6 miner 0x9e41ba620feba8198369c26351063b26ec5b7c9e, sent by [Peer|eth63|13176994|Parity-Ethereum/v2.7.2-posdao-stable-UNKNOWN-UNKNOWN/x86_64-unknown-linux-gnu/rustc1.42.0|157.245.78.43:30303], with AuRa step 321245927\r\n2020-11-24 14:53:55.1634|Call to certifier contract failed. Nethermind.Abi.AbiException: Cannot decode return data for function getAddress(address) for contract 0x6b53721d4f2fb9514b85f5c49b197d857e36cf03.\r\n ---> System.ArgumentException: Offset and length were out of bounds for the array or count is greater than the number of elements from index to the end of the source collection.\r\n   at System.Buffer.BlockCopy(Array src, Int32 srcOffset, Array dst, Int32 dstOffset, Int32 count)\r\n   at Nethermind.Core.Extensions.ByteArrayExtensions.Slice(Byte[] bytes, Int32 startIndex, Int32 length) in /root/src/nethermind/src/Nethermind/Nethermind.Core/Extensions/ByteArrayExtensions.cs:line 49\r\n   at Nethermind.Abi.AbiAddress.Decode(Byte[] data, Int32 position, Boolean packed) in /root/src/nethermind/src/Nethermind/Nethermind.Abi/AbiAddress.cs:line 61\r\n   at Nethermind.Abi.AbiEncoder.Decode(AbiEncodingStyle encodingStyle, AbiSignature signature, Byte[] data) in /root/src/nethermind/src/Nethermind/Nethermind.Abi/AbiEncoder.cs:line 89\r\n   at Nethermind.Blockchain.Contracts.Contract.DecodeData(AbiEncodingInfo abiEncodingInfo, Byte[] data) in /root/src/nethermind/src/Nethermind/Nethermind.Blockchain/Contracts/Contract.cs:line 187\r\n   --- End of inner exception stack trace ---\r\n   at Nethermind.Blockchain.Contracts.Contract.DecodeData(AbiEncodingInfo abiEncodingInfo, Byte[] data) in /root/src/nethermind/src/Nethermind/Nethermind.Blockchain/Contracts/Contract.cs:line 187\r\n   at Nethermind.Consensus.AuRa.Contracts.RegisterContract.GetAddress(BlockHeader header, String key) in /root/src/nethermind/src/Nethermind/Nethermind.Consensus.AuRa/Contracts/RegisterContract.cs:line 52\r\n   at Nethermind.Consensus.AuRa.Contracts.RegisterBasedContract.GetContractAddress(BlockHeader header) in /root/src/nethermind/src/Nethermind/Nethermind.Consensus.AuRa/Contracts/RegisterBasedContract.cs:line 70\r\n   at Nethermind.Consensus.AuRa.Contracts.RegisterBasedContract.GenerateTransaction[T](Byte[] transactionData, Address sender, Int64 gasLimit, BlockHeader header) in /root/src/nethermind/src/Nethermind/Nethermind.Consensus.AuRa/Contracts/RegisterBasedContract.cs:line 44\r\n   at Nethermind.Blockchain.Contracts.Contract.ConstantContract.CallRaw(BlockHeader parentHeader, String functionName, Address sender, Object[] arguments) in /root/src/nethermind/src/Nethermind/Nethermind.Blockchain/Contracts/Contract.ConstantContract.cs:line 102\r\n   at Nethermind.Consensus.AuRa.Contracts.CertifierContract.Certified(BlockHeader parentHeader, Address sender) in /root/src/nethermind/src/Nethermind/Nethermind.Consensus.AuRa/Contracts/CertifierContract.cs:line 46\r\n   at Nethermind.Consensus.AuRa.Transactions.TxCertifierFilter.IsCertified(Transaction tx, BlockHeader parentHeader) in /root/src/nethermind/src/Nethermind/Nethermind.Consensus.AuRa/Transactions/TxCertifierFilter.cs:line 73\r\n2020-11-24 14:53:55.2428|Downloaded 4014787 / 13176994 | current  1528.11bps | total   981.77bps\r\n2020-11-24 14:53:56.0685|Processed    3688254 |    1,001ms, mgasps    4.04 total    8.33, tps   37.98 total  111.96, bps 1342.32 total  901.34, recv queue 326065, proc queue 2000\r\n2020-11-24 14:53:56.2441|Downloaded 4016320 / 13176994 | current  1531.11bps | total   981.90bps\r\n2020-11-24 14:53:57.0689|Processed    3689381 |    1,000ms, mgasps   11.01 total    8.33, tps  143.94 total  111.97, bps 1126.54 total  901.40, recv queue 326288, proc queue 2000\r\n2020-11-24 14:53:57.2432|Downloaded 4017853 / 13176994 | current  1534.43bps | total   982.04bps\r\n2020-11-24 14:53:58.0701|Processed    3690551 |    1,001ms, mgasps   17.16 total    8.33, tps  202.76 total  111.99, bps 1168.62 total  901.46, recv queue 326584, proc queue 2000\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/733025848/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/734007015",
    "html_url": "https://github.com/NethermindEth/nethermind/issues/2504#issuecomment-734007015",
    "issue_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/2504",
    "id": 734007015,
    "node_id": "MDEyOklzc3VlQ29tbWVudDczNDAwNzAxNQ==",
    "user": {
      "login": "tkstanczak",
      "id": 498913,
      "node_id": "MDQ6VXNlcjQ5ODkxMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/498913?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tkstanczak",
      "html_url": "https://github.com/tkstanczak",
      "followers_url": "https://api.github.com/users/tkstanczak/followers",
      "following_url": "https://api.github.com/users/tkstanczak/following{/other_user}",
      "gists_url": "https://api.github.com/users/tkstanczak/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tkstanczak/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tkstanczak/subscriptions",
      "organizations_url": "https://api.github.com/users/tkstanczak/orgs",
      "repos_url": "https://api.github.com/users/tkstanczak/repos",
      "events_url": "https://api.github.com/users/tkstanczak/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tkstanczak/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-11-26T00:31:21Z",
    "updated_at": "2020-11-26T00:31:21Z",
    "author_association": "MEMBER",
    "body": "This generally happens tens of times during the archive sync (probably new transactions from the pool are being validated against a not fully synced node)",
    "reactions": {
      "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/734007015/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
