{
  "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/5208",
  "repository_url": "https://api.github.com/repos/NethermindEth/nethermind",
  "labels_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/5208/labels{/name}",
  "comments_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/5208/comments",
  "events_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/5208/events",
  "html_url": "https://github.com/NethermindEth/nethermind/issues/5208",
  "id": 1554638767,
  "node_id": "I_kwDOBggaLc5cqeev",
  "number": 5208,
  "title": "Unable to cache headers for execution client votes",
  "user": {
    "login": "gcarq",
    "id": 4720529,
    "node_id": "MDQ6VXNlcjQ3MjA1Mjk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4720529?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gcarq",
    "html_url": "https://github.com/gcarq",
    "followers_url": "https://api.github.com/users/gcarq/followers",
    "following_url": "https://api.github.com/users/gcarq/following{/other_user}",
    "gists_url": "https://api.github.com/users/gcarq/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gcarq/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gcarq/subscriptions",
    "organizations_url": "https://api.github.com/users/gcarq/orgs",
    "repos_url": "https://api.github.com/users/gcarq/repos",
    "events_url": "https://api.github.com/users/gcarq/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gcarq/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2023-01-24T09:41:26Z",
  "updated_at": "2023-01-27T14:38:48Z",
  "closed_at": "2023-01-27T14:38:48Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "**Describe the bug**\r\nStarting with nethermind v1.16.0, the prysm beacon node v3.2.0 started complaining that it can no longer cache the execution client headers. Execution- and consensus client are fully synced. This also occurs with nethermind v1.16.1.\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. Always\r\n\r\n**Expected behavior**\r\nThe headers should be cached as expected\r\n\r\n**Related logs**\r\n```\r\nbeacon-node  | time=\"2023-01-24 09:27:48\" level=info msg=\"Synced new block\" block=0xfe8e4f70... epoch=176376 finalizedEpoch=176374 finalizedRoot=0x39c98534... prefix=blockchain slot=5644037\r\nbeacon-node  | time=\"2023-01-24 09:27:48\" level=info msg=\"Finished applying state transition\" attestations=128 payloadHash=0x126e246027d7 prefix=blockchain slot=5644037 syncBitsCount=506 txCount=131\r\nbeacon-node  | time=\"2023-01-24 09:27:50\" level=error msg=\"Unable to cache headers for execution client votes\" error=\"json: cannot unmarshal object into Go value of type []rpc.jsonrpcMessage\" prefix=powchain\r\nbeacon-node  | time=\"2023-01-24 09:28:00\" level=info msg=\"Synced new block\" block=0x6ecace29... epoch=176376 finalizedEpoch=176374 finalizedRoot=0x39c98534... prefix=blockchain slot=5644038\r\nbeacon-node  | time=\"2023-01-24 09:28:00\" level=info msg=\"Finished applying state transition\" attestations=128 payloadHash=0xb333614ace72 prefix=blockchain slot=5644038 syncBitsCount=509 txCount=147\r\n...\r\nbeacon-node  | time=\"2023-01-24 09:30:00\" level=info msg=\"Synced new block\" block=0xa3a5fbe6... epoch=176376 finalizedEpoch=176374 finalizedRoot=0x39c98534... prefix=blockchain slot=5644048\r\nbeacon-node  | time=\"2023-01-24 09:30:00\" level=info msg=\"Finished applying state transition\" attestations=113 payloadHash=0x65dc9b2dc3d3 prefix=blockchain slot=5644048 syncBitsCount=509 txCount=128\r\nbeacon-node  | time=\"2023-01-24 09:30:05\" level=error msg=\"Unable to cache headers for execution client votes\" error=\"json: cannot unmarshal object into Go value of type []rpc.jsonrpcMessage\" prefix=powchain\r\nbeacon-node  | time=\"2023-01-24 09:30:11\" level=info msg=\"Peer summary\" activePeers=35 inbound=24 outbound=11 prefix=p2p\r\nbeacon-node  | time=\"2023-01-24 09:30:14\" level=info msg=\"Synced new block\" block=0x6294d46f... epoch=176376 finalizedEpoch=176374 finalizedRoot=0x39c98534... prefix=blockchain slot=5644049\r\nbeacon-node  | time=\"2023-01-24 09:30:14\" level=info msg=\"Finished applying state transition\" attestations=64 payloadHash=0xd7cbfe85be5e prefix=blockchain slot=5644049 syncBitsCount=509 txCount=454\r\n```\r\n",
  "closed_by": {
    "login": "gcarq",
    "id": 4720529,
    "node_id": "MDQ6VXNlcjQ3MjA1Mjk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4720529?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/gcarq",
    "html_url": "https://github.com/gcarq",
    "followers_url": "https://api.github.com/users/gcarq/followers",
    "following_url": "https://api.github.com/users/gcarq/following{/other_user}",
    "gists_url": "https://api.github.com/users/gcarq/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/gcarq/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/gcarq/subscriptions",
    "organizations_url": "https://api.github.com/users/gcarq/orgs",
    "repos_url": "https://api.github.com/users/gcarq/repos",
    "events_url": "https://api.github.com/users/gcarq/events{/privacy}",
    "received_events_url": "https://api.github.com/users/gcarq/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/5208/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/5208/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/1401681544",
    "html_url": "https://github.com/NethermindEth/nethermind/issues/5208#issuecomment-1401681544",
    "issue_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/5208",
    "id": 1401681544,
    "node_id": "IC_kwDOBggaLc5Ti_aI",
    "user": {
      "login": "asdacap",
      "id": 1841324,
      "node_id": "MDQ6VXNlcjE4NDEzMjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1841324?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/asdacap",
      "html_url": "https://github.com/asdacap",
      "followers_url": "https://api.github.com/users/asdacap/followers",
      "following_url": "https://api.github.com/users/asdacap/following{/other_user}",
      "gists_url": "https://api.github.com/users/asdacap/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/asdacap/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/asdacap/subscriptions",
      "organizations_url": "https://api.github.com/users/asdacap/orgs",
      "repos_url": "https://api.github.com/users/asdacap/repos",
      "events_url": "https://api.github.com/users/asdacap/events{/privacy}",
      "received_events_url": "https://api.github.com/users/asdacap/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-24T10:15:52Z",
    "updated_at": "2023-01-24T10:15:52Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hi, try to increase the batch size limit to 10000. For example `--JsonRpc.MaxBatchSize 10000`. ",
    "reactions": {
      "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/1401681544/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/1401700245",
    "html_url": "https://github.com/NethermindEth/nethermind/issues/5208#issuecomment-1401700245",
    "issue_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/5208",
    "id": 1401700245,
    "node_id": "IC_kwDOBggaLc5TjD-V",
    "user": {
      "login": "gcarq",
      "id": 4720529,
      "node_id": "MDQ6VXNlcjQ3MjA1Mjk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4720529?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gcarq",
      "html_url": "https://github.com/gcarq",
      "followers_url": "https://api.github.com/users/gcarq/followers",
      "following_url": "https://api.github.com/users/gcarq/following{/other_user}",
      "gists_url": "https://api.github.com/users/gcarq/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gcarq/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gcarq/subscriptions",
      "organizations_url": "https://api.github.com/users/gcarq/orgs",
      "repos_url": "https://api.github.com/users/gcarq/repos",
      "events_url": "https://api.github.com/users/gcarq/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gcarq/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-24T10:30:18Z",
    "updated_at": "2023-01-24T10:30:18Z",
    "author_association": "NONE",
    "body": "This seems to be enough for Prysm v.3.2.0, error is gone after passing the proposed batch size.",
    "reactions": {
      "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/1401700245/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
