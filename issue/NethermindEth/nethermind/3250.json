{
  "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/3250",
  "repository_url": "https://api.github.com/repos/NethermindEth/nethermind",
  "labels_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/3250/labels{/name}",
  "comments_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/3250/comments",
  "events_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/3250/events",
  "html_url": "https://github.com/NethermindEth/nethermind/issues/3250",
  "id": 953188256,
  "node_id": "MDU6SXNzdWU5NTMxODgyNTY=",
  "number": 3250,
  "title": "Could not find common ancestor with [HBR  ]",
  "user": {
    "login": "Antyk1234",
    "id": 25394883,
    "node_id": "MDQ6VXNlcjI1Mzk0ODgz",
    "avatar_url": "https://avatars.githubusercontent.com/u/25394883?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Antyk1234",
    "html_url": "https://github.com/Antyk1234",
    "followers_url": "https://api.github.com/users/Antyk1234/followers",
    "following_url": "https://api.github.com/users/Antyk1234/following{/other_user}",
    "gists_url": "https://api.github.com/users/Antyk1234/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Antyk1234/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Antyk1234/subscriptions",
    "organizations_url": "https://api.github.com/users/Antyk1234/orgs",
    "repos_url": "https://api.github.com/users/Antyk1234/repos",
    "events_url": "https://api.github.com/users/Antyk1234/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Antyk1234/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2021-07-26T18:50:41Z",
  "updated_at": "2022-08-31T18:20:31Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "On Thursday on 22/07/2021 node stopped syncing. The latest block number is 10689829.\r\nHere is an example of logs after docker restart:\r\n\r\n````\r\nnethermind_1     | 2021-07-26 18-44-18.4236|Nethermind starting initialization.\r\nnethermind_1     | 2021-07-26 18-44-18.5335|Loading embedded plugins\r\nnethermind_1     | 2021-07-26 18-44-18.5337|  Found plugin type Nethermind.Consensus.Clique.CliquePlugin\r\nnethermind_1     | 2021-07-26 18-44-18.5337|  Found plugin type Nethermind.Consensus.Ethash.EthashPlugin\r\nnethermind_1     | 2021-07-26 18-44-18.5337|  Found plugin type Nethermind.Consensus.Ethash.NethDevPlugin\r\nnethermind_1     | Resolved executing directory as /nethermind.\r\nnethermind_1     | 2021-07-26 18-44-18.6059|Loading 2 assemblies from /nethermind/plugins\r\nnethermind_1     | 2021-07-26 18-44-18.6060|Loading assembly Nethermind.Merge.Plugin\r\nnethermind_1     | 2021-07-26 18-44-18.6274|  Found plugin type Nethermind.Merge.Plugin\r\nnethermind_1     | 2021-07-26 18-44-18.6275|Loading assembly Nethermind.HealthChecks\r\nnethermind_1     | 2021-07-26 18-44-18.6314|  Found plugin type Nethermind.HealthChecks\r\nnethermind_1     | 2021-07-26 18-44-18.7866|Loading standard NLog.config file from /nethermind/NLog.config.\r\nnethermind_1     | 2021-07-26 18-44-19.1444|NLog.config loaded in 357ms.\r\nnethermind_1     | 2021-07-26 18-44-19.1456|Reading config file from /nethermind/configs/ropsten.cfg\r\nnethermind_1     | 2021-07-26 18-44-19.5602|Incorrect config settings found:\r\nnethermind_1     | Nethermind.Config.ArgsConfigSource:config:\r\nnethermind_1     | Nethermind.Config.ArgsConfigSource:JsonRpc:Enabled\r\nnethermind_1     | Nethermind.Config.ArgsConfigSource:JsonRpc:Host\r\nnethermind_1     | 2021-07-26 18-44-19.5603|Configuration initialized.\r\nnethermind_1     | 2021-07-26 18:44:20.0122|Using http://ipv4.icanhazip.com to get external ip \r\nnethermind_1     | 2021-07-26 18:44:22.5103|Setting up memory allowances \r\nnethermind_1     | 2021-07-26 18:44:22.5103|  memory hint:        1024MB \r\nnethermind_1     | 2021-07-26 18:44:22.5103|  general memory:     32MB \r\nnethermind_1     | 2021-07-26 18:44:22.5103|  peers memory:       50MB \r\nnethermind_1     | 2021-07-26 18:44:22.5103|  Netty memory:       67MB \r\nnethermind_1     | 2021-07-26 18:44:22.5103|  mempool memory:     74MB \r\nnethermind_1     | 2021-07-26 18:44:22.5123|  fast blocks memory: 80MB \r\nnethermind_1     | 2021-07-26 18:44:22.5123|  trie memory:        144MB \r\nnethermind_1     | 2021-07-26 18:44:22.5199|  DB memory:          576MB \r\nnethermind_1     | 2021-07-26 18:44:23.6596|Using http://ipv4bot.whatismyipaddress.com to get external ip \r\nnethermind_1     | 2021-07-26 18:44:30.5509|Start block loaded from reorg boundary - 10689772 - 10689772 (0xea9aa4...37b377) \r\nnethermind_1     | 2021-07-26 18:44:30.6513|Numbers resolved, level = Max(10689772, 10689829), header = Max(10689772, 10689829), body = Max(10689772, 10689829) \r\nnethermind_1     | 2021-07-26 18:44:30.6524|Block tree initialized, last processed is 10689772 (0xea9aa4...37b377), best queued is 10689829, best known is 10689829, lowest inserted header 1, body 0 \r\nnethermind_1     | 2021-07-26 18:44:30.6603|Initializing 5 plugins \r\nnethermind_1     | 2021-07-26 18:44:30.6603|  Clique by Nethermind \r\nnethermind_1     | 2021-07-26 18:44:30.6603|  Clique by Nethermind initialized in 0ms \r\nnethermind_1     | 2021-07-26 18:44:30.6603|  Ethash by Nethermind \r\nnethermind_1     | 2021-07-26 18:44:30.6671|  Ethash by Nethermind initialized in 5ms \r\nnethermind_1     | 2021-07-26 18:44:30.6683|  NethDev by Nethermind \r\nnethermind_1     | 2021-07-26 18:44:30.6683|  NethDev by Nethermind initialized in 0ms \r\nnethermind_1     | 2021-07-26 18:44:30.6683|  Merge by Nethermind \r\nnethermind_1     | 2021-07-26 18:44:30.6683|  Merge by Nethermind initialized in 0ms \r\nnethermind_1     | 2021-07-26 18:44:30.6683|  HealthChecks by Nethermind \r\nnethermind_1     | 2021-07-26 18:44:30.6683|  HealthChecks by Nethermind initialized in 0ms \r\nnethermind_1     | 2021-07-26 18:44:31.0421|Loaded 0 static nodes from file: /nethermind/Data/static-nodes.json \r\nnethermind_1     | 2021-07-26 18:44:31.0986|Using pivot 10660000 and barrier 1 in bodies sync \r\nnethermind_1     | 2021-07-26 18:44:31.0986|Using pivot 10660000 and barrier 1 in receipts sync \r\nnethermind_1     | 2021-07-26 18:44:31.1092|Now syncing nodes starting from root of block 0 \r\nnethermind_1     | 2021-07-26 18:44:31.1092|HeadersSyncDispatcher has finished work. \r\nnethermind_1     | 2021-07-26 18:44:31.1092|Fast blocks headers task completed. \r\nnethermind_1     | 2021-07-26 18:44:31.1468|Found 57 block tree levels to review for fixes starting from 10689773 \r\nnethermind_1     | 2021-07-26 18:44:31.1637|Reviewed 0 blocks out of 57 \r\nnethermind_1     | 2021-07-26 18:44:31.2316|Rerunning block after reorg or pruning: 10689773 (0x762d97aa76e3bb9c7b635dfd432717ec5ac68023ac7caf060dda211ec51d054a) \r\nnethermind_1     | 2021-07-26 18:44:31.3396|Numbers resolved, level = Max(10689772, 10689829), header = Max(10689772, 10689829), body = Max(10689772, 10689829) \r\nnethermind_1     | 2021-07-26 18:44:31.3938|Grafana / Prometheus metrics are disabled in configuration \r\nnethermind_1     | 2021-07-26 18:44:31.8133|Peers | with known best block: 0 | all: 0 | \r\nnethermind_1     | 2021-07-26 18:44:31.8133|Waiting for peers... 1s \r\nnethermind_1     | 2021-07-26 18:44:31.8229|Sync peers - Initialized: 0 | All: 0 | Max: 50 \r\nnethermind_1     | 2021-07-26 18:44:32.5274|\r\n```\r\n`\r\n`\r\nnethermind_1     | 2021-07-26 18:44:44.9046|Changing state Full to FastSync at processed:10689829|state:10689829|block:10689829|header:10689829|peer block:10712939 \r\nnethermind_1     | 2021-07-26 18:44:44.9046|Sync mode changed from Full to FastSync \r\nnethermind_1     | 2021-07-26 18:44:50.9158|Peers | with known best block: 24 | all: 24 | \r\nnethermind_1     | 2021-07-26 18:44:54.1435|100 % of nodes did not respond to a Ping message - 22/22 \r\nnethermind_1     | 2021-07-26 18:45:02.2732|Could not find common ancestor with [HBR  ][     ][Peer|eth65|10712940|Geth/v1.10.6-stable-576681f2/linux-amd64/go1.16.4|3.84.15.223:30303] \r\n`\r\n\r\nOs: Ubuntu 18.04.2 LTS\r\nNode version: latest\r\n\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/3250/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/3250/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/886944331",
    "html_url": "https://github.com/NethermindEth/nethermind/issues/3250#issuecomment-886944331",
    "issue_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/3250",
    "id": 886944331,
    "node_id": "IC_kwDOBggaLc403bJL",
    "user": {
      "login": "tkstanczak",
      "id": 498913,
      "node_id": "MDQ6VXNlcjQ5ODkxMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/498913?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tkstanczak",
      "html_url": "https://github.com/tkstanczak",
      "followers_url": "https://api.github.com/users/tkstanczak/followers",
      "following_url": "https://api.github.com/users/tkstanczak/following{/other_user}",
      "gists_url": "https://api.github.com/users/tkstanczak/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tkstanczak/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tkstanczak/subscriptions",
      "organizations_url": "https://api.github.com/users/tkstanczak/orgs",
      "repos_url": "https://api.github.com/users/tkstanczak/repos",
      "events_url": "https://api.github.com/users/tkstanczak/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tkstanczak/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-26T18:52:16Z",
    "updated_at": "2021-07-26T18:52:16Z",
    "author_association": "MEMBER",
    "body": "hi @Antyk1234 , thank you for reporting, please give us some time to investigate\r\n\r\nwas it a fast synced node?",
    "reactions": {
      "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/886944331/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/886945269",
    "html_url": "https://github.com/NethermindEth/nethermind/issues/3250#issuecomment-886945269",
    "issue_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/3250",
    "id": 886945269,
    "node_id": "IC_kwDOBggaLc403bX1",
    "user": {
      "login": "Antyk1234",
      "id": 25394883,
      "node_id": "MDQ6VXNlcjI1Mzk0ODgz",
      "avatar_url": "https://avatars.githubusercontent.com/u/25394883?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Antyk1234",
      "html_url": "https://github.com/Antyk1234",
      "followers_url": "https://api.github.com/users/Antyk1234/followers",
      "following_url": "https://api.github.com/users/Antyk1234/following{/other_user}",
      "gists_url": "https://api.github.com/users/Antyk1234/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Antyk1234/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Antyk1234/subscriptions",
      "organizations_url": "https://api.github.com/users/Antyk1234/orgs",
      "repos_url": "https://api.github.com/users/Antyk1234/repos",
      "events_url": "https://api.github.com/users/Antyk1234/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Antyk1234/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-26T18:53:54Z",
    "updated_at": "2021-07-26T18:53:54Z",
    "author_association": "NONE",
    "body": "Yes, it was. ",
    "reactions": {
      "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/886945269/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/889271345",
    "html_url": "https://github.com/NethermindEth/nethermind/issues/3250#issuecomment-889271345",
    "issue_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/3250",
    "id": 889271345,
    "node_id": "IC_kwDOBggaLc41ATQx",
    "user": {
      "login": "svanegmond",
      "id": 837744,
      "node_id": "MDQ6VXNlcjgzNzc0NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/837744?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/svanegmond",
      "html_url": "https://github.com/svanegmond",
      "followers_url": "https://api.github.com/users/svanegmond/followers",
      "following_url": "https://api.github.com/users/svanegmond/following{/other_user}",
      "gists_url": "https://api.github.com/users/svanegmond/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/svanegmond/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/svanegmond/subscriptions",
      "organizations_url": "https://api.github.com/users/svanegmond/orgs",
      "repos_url": "https://api.github.com/users/svanegmond/repos",
      "events_url": "https://api.github.com/users/svanegmond/events{/privacy}",
      "received_events_url": "https://api.github.com/users/svanegmond/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-29T16:03:12Z",
    "updated_at": "2021-07-29T16:11:30Z",
    "author_association": "NONE",
    "body": "I've had four different nodes on different chains, including some run by colleagues, fail in this way. Nobody is pruning, everyone is using Fast Sync.\r\n\r\nGlad to help debug this.\r\n\r\nETA versions in my cases are 1.10.77 and 1.9.54\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/889271345/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/889294428",
    "html_url": "https://github.com/NethermindEth/nethermind/issues/3250#issuecomment-889294428",
    "issue_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/3250",
    "id": 889294428,
    "node_id": "IC_kwDOBggaLc41AY5c",
    "user": {
      "login": "svanegmond",
      "id": 837744,
      "node_id": "MDQ6VXNlcjgzNzc0NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/837744?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/svanegmond",
      "html_url": "https://github.com/svanegmond",
      "followers_url": "https://api.github.com/users/svanegmond/followers",
      "following_url": "https://api.github.com/users/svanegmond/following{/other_user}",
      "gists_url": "https://api.github.com/users/svanegmond/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/svanegmond/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/svanegmond/subscriptions",
      "organizations_url": "https://api.github.com/users/svanegmond/orgs",
      "repos_url": "https://api.github.com/users/svanegmond/repos",
      "events_url": "https://api.github.com/users/svanegmond/events{/privacy}",
      "received_events_url": "https://api.github.com/users/svanegmond/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-29T16:34:44Z",
    "updated_at": "2021-07-29T16:34:44Z",
    "author_association": "NONE",
    "body": "I read the source, it appears to me that if the node has been disconnected from peers and sealing for longer than 1024 blocks it will fail to find a common ancestor.  This is a fraction of a day on most chains.  A better-chosen _ancestorJumps will address this.",
    "reactions": {
      "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/889294428/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/1233268007",
    "html_url": "https://github.com/NethermindEth/nethermind/issues/3250#issuecomment-1233268007",
    "issue_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/3250",
    "id": 1233268007,
    "node_id": "IC_kwDOBggaLc5Jgi0n",
    "user": {
      "login": "dceleda",
      "id": 26231116,
      "node_id": "MDQ6VXNlcjI2MjMxMTE2",
      "avatar_url": "https://avatars.githubusercontent.com/u/26231116?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dceleda",
      "html_url": "https://github.com/dceleda",
      "followers_url": "https://api.github.com/users/dceleda/followers",
      "following_url": "https://api.github.com/users/dceleda/following{/other_user}",
      "gists_url": "https://api.github.com/users/dceleda/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dceleda/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dceleda/subscriptions",
      "organizations_url": "https://api.github.com/users/dceleda/orgs",
      "repos_url": "https://api.github.com/users/dceleda/repos",
      "events_url": "https://api.github.com/users/dceleda/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dceleda/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-31T18:20:31Z",
    "updated_at": "2022-08-31T18:20:31Z",
    "author_association": "CONTRIBUTOR",
    "body": "@tkstanczak what is the status of this?",
    "reactions": {
      "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/1233268007/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
