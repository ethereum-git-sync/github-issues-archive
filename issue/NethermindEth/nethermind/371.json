{
  "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/371",
  "repository_url": "https://api.github.com/repos/NethermindEth/nethermind",
  "labels_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/371/labels{/name}",
  "comments_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/371/comments",
  "events_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/371/events",
  "html_url": "https://github.com/NethermindEth/nethermind/issues/371",
  "id": 403307849,
  "node_id": "MDU6SXNzdWU0MDMzMDc4NDk=",
  "number": 371,
  "title": "Add support for TxPool module in JS CLI",
  "user": {
    "login": "tkstanczak",
    "id": 498913,
    "node_id": "MDQ6VXNlcjQ5ODkxMw==",
    "avatar_url": "https://avatars.githubusercontent.com/u/498913?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tkstanczak",
    "html_url": "https://github.com/tkstanczak",
    "followers_url": "https://api.github.com/users/tkstanczak/followers",
    "following_url": "https://api.github.com/users/tkstanczak/following{/other_user}",
    "gists_url": "https://api.github.com/users/tkstanczak/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tkstanczak/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tkstanczak/subscriptions",
    "organizations_url": "https://api.github.com/users/tkstanczak/orgs",
    "repos_url": "https://api.github.com/users/tkstanczak/repos",
    "events_url": "https://api.github.com/users/tkstanczak/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tkstanczak/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 674950062,
      "node_id": "MDU6TGFiZWw2NzQ5NTAwNjI=",
      "url": "https://api.github.com/repos/NethermindEth/nethermind/labels/help%20wanted",
      "name": "help wanted",
      "color": "128A0C",
      "default": true,
      "description": null
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2019-01-25T19:47:46Z",
  "updated_at": "2019-09-26T12:32:10Z",
  "closed_at": "2019-09-26T12:32:10Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "Also look at #372\r\n\r\nAlso read https://github.com/ethereum/go-ethereum/wiki/JavaScript-Console\r\n\r\nCurrently, CLI works only with basic types and does not handle complex types.\r\n\r\nIn order to support complex types, we would need to find a way fro Jint to recognize objects that are returned by methods from these modules.\r\n\r\nAt the moment CLI code is in 345cli branch and the quick CLI implementation is to be found in Nethermind.Cli with most of the code in Console.Program and ApiBuilder.\r\n\r\nI launch it in Rider with args:\r\nfor CLI: ../Nethermind.Runner/node.key.plain\r\nfor Runner: --config spaceneth --baseDbPath C:\\nethcli_space --InitConfig.JsonRpcEnabled true --InitConfig.EnableUnsecuredDevWallet true\r\n\r\nExample of CLI calls that are handled now:\r\ngasPrice\r\n20000000000\r\n\r\ngasPrice * 2\r\n40000000000\r\nvar accounts = personal.listAccounts\r\nundefined\r\nvar from = accounts[0]\r\nundefined\r\nvar to = accounts[1]\r\nundefined\r\neth.getBalance(from)\r\n1000000000000000000000000\r\neth.getBalance(to)\r\n1000000000000000000000000\r\neth.sendEth(from, to, 1)\r\n\"0x15072e09cc9f7ab958d39471c6c05acbe084ae3aeb48b6fbcbaeadafca848a79\"\r\neth.getBalance(to)\r\n1000001000000000000000000\r\neth.getBalance(from)\r\n999998999580000000000000\r\n\r\nModule methods to be covered:\r\n\r\npublic interface ITxPoolModule : IModule\r\n        ResultWrapper<TransactionPoolStatus> txpool_status();\r\n        ResultWrapper<TransactionPoolContent> txpool_content();\r\n        ResultWrapper<TransactionPoolInspection> txpool_inspect();",
  "closed_by": {
    "login": "tkstanczak",
    "id": 498913,
    "node_id": "MDQ6VXNlcjQ5ODkxMw==",
    "avatar_url": "https://avatars.githubusercontent.com/u/498913?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tkstanczak",
    "html_url": "https://github.com/tkstanczak",
    "followers_url": "https://api.github.com/users/tkstanczak/followers",
    "following_url": "https://api.github.com/users/tkstanczak/following{/other_user}",
    "gists_url": "https://api.github.com/users/tkstanczak/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tkstanczak/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tkstanczak/subscriptions",
    "organizations_url": "https://api.github.com/users/tkstanczak/orgs",
    "repos_url": "https://api.github.com/users/tkstanczak/repos",
    "events_url": "https://api.github.com/users/tkstanczak/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tkstanczak/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/371/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/371/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/460201594",
    "html_url": "https://github.com/NethermindEth/nethermind/issues/371#issuecomment-460201594",
    "issue_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/371",
    "id": 460201594,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MDIwMTU5NA==",
    "user": {
      "login": "SherifSK",
      "id": 44804005,
      "node_id": "MDQ6VXNlcjQ0ODA0MDA1",
      "avatar_url": "https://avatars.githubusercontent.com/u/44804005?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SherifSK",
      "html_url": "https://github.com/SherifSK",
      "followers_url": "https://api.github.com/users/SherifSK/followers",
      "following_url": "https://api.github.com/users/SherifSK/following{/other_user}",
      "gists_url": "https://api.github.com/users/SherifSK/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SherifSK/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SherifSK/subscriptions",
      "organizations_url": "https://api.github.com/users/SherifSK/orgs",
      "repos_url": "https://api.github.com/users/SherifSK/repos",
      "events_url": "https://api.github.com/users/SherifSK/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SherifSK/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-04T10:41:23Z",
    "updated_at": "2019-02-04T10:41:23Z",
    "author_association": "NONE",
    "body": "@tkstanczak I was testing the above code and the line\r\n`var accounts = personal.listAccounts`\r\nreturns the following as the `responseString`\r\n`\"Method personal_listaccounts is not supported\"`\r\n\r\nAlso, the following statement\r\n`_jsonSerializer.Deserialize<JsonRpcResponse<T>>(responseString).Result;`\r\n\r\nthrows an exception\r\n`{System.ArgumentException: Could not cast or convert from System.String to System.String[].\r\n   at Newtonsoft.Json.Utilities.ConvertUtils.EnsureTypeAssignable(Object value, Type initialType, Type targetType) in /_/Src/Newtonsoft.Json/Utilities/ConvertUtils.cs:line 616\r\n   at Newtonsoft.Json.Utilities.ConvertUtils.ConvertOrCast(Object initialValue, CultureInfo culture, Type targetType) in /_/Src/Newtonsoft.Json/Utilities/ConvertUtils.cs:line 587\r\n   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType) in /_/Src/Newtonsoft.Json/Serialization/JsonSerializerInternalReader.cs:line 982}`\r\n\r\nAny thoughts can be helpful.\r\n\r\nThanks.",
    "reactions": {
      "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/460201594/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/535480823",
    "html_url": "https://github.com/NethermindEth/nethermind/issues/371#issuecomment-535480823",
    "issue_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/371",
    "id": 535480823,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzNTQ4MDgyMw==",
    "user": {
      "login": "tkstanczak",
      "id": 498913,
      "node_id": "MDQ6VXNlcjQ5ODkxMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/498913?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tkstanczak",
      "html_url": "https://github.com/tkstanczak",
      "followers_url": "https://api.github.com/users/tkstanczak/followers",
      "following_url": "https://api.github.com/users/tkstanczak/following{/other_user}",
      "gists_url": "https://api.github.com/users/tkstanczak/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tkstanczak/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tkstanczak/subscriptions",
      "organizations_url": "https://api.github.com/users/tkstanczak/orgs",
      "repos_url": "https://api.github.com/users/tkstanczak/repos",
      "events_url": "https://api.github.com/users/tkstanczak/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tkstanczak/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-09-26T12:32:10Z",
    "updated_at": "2019-09-26T12:32:10Z",
    "author_association": "MEMBER",
    "body": "fixed",
    "reactions": {
      "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/535480823/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
