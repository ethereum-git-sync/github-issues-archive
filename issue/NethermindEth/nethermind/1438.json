{
  "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/1438",
  "repository_url": "https://api.github.com/repos/NethermindEth/nethermind",
  "labels_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/1438/labels{/name}",
  "comments_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/1438/comments",
  "events_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/1438/events",
  "html_url": "https://github.com/NethermindEth/nethermind/issues/1438",
  "id": 564725950,
  "node_id": "MDU6SXNzdWU1NjQ3MjU5NTA=",
  "number": 1438,
  "title": "BlockHeader in NethDev",
  "user": {
    "login": "simon-jentzsch",
    "id": 10868622,
    "node_id": "MDQ6VXNlcjEwODY4NjIy",
    "avatar_url": "https://avatars.githubusercontent.com/u/10868622?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/simon-jentzsch",
    "html_url": "https://github.com/simon-jentzsch",
    "followers_url": "https://api.github.com/users/simon-jentzsch/followers",
    "following_url": "https://api.github.com/users/simon-jentzsch/following{/other_user}",
    "gists_url": "https://api.github.com/users/simon-jentzsch/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/simon-jentzsch/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/simon-jentzsch/subscriptions",
    "organizations_url": "https://api.github.com/users/simon-jentzsch/orgs",
    "repos_url": "https://api.github.com/users/simon-jentzsch/repos",
    "events_url": "https://api.github.com/users/simon-jentzsch/events{/privacy}",
    "received_events_url": "https://api.github.com/users/simon-jentzsch/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2020-02-13T14:37:12Z",
  "updated_at": "2020-02-13T19:38:04Z",
  "closed_at": "2020-02-13T17:05:38Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "I don't know if nethermind or incubed is doing it wrong, but the blochheader for NethDev looks different then expected.\r\n\r\nCurrently, if I use **goerli** and use `proof_getTransactionByHash`, the blockheader (rlpdecoded) looks like this:\r\n\r\n```sh\r\n[ BLOCKHEADER  Hash : 0x33c19d1611298b160d2d97cd6be0368b92588eea72c5cbf23f9b8db6a911fd4c\r\n   parent hash          : <hash>           0x69c7a7cda9757a5d1299d31f231b0c7d4997f9c1071334999a9ecd3fff337e59\r\n   sha3 uncles          : <hash>           0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347\r\n   miner                : <address>        0x0000000000000000000000000000000000000000\r\n   state root           : <hash>           0x71e40993d35a662cafd162f39b595fd2bf158304b6b8406fb3a77375ce787bc6\r\n   transaction root     : <hash>           0x2ef2491abc7f09a0ae685a7b64ed10d6328c05129c6c2da6d96c5fcd8c9c26b9\r\n   receipt root         : <hash>           0x331e7d9e88732bbfc6bf15bee1ee02464e6646d4e6c1eae227ed4810154020cc\r\n   logs bloom           : <data 256>       0x0000000000000000000000000000000000000000000000000000000000000000\r\n                                           0x0002100000000000000000000000000000000000000000000000000000000000\r\n                                           0x0000000200000000000000000000000000800000000000000000000000000000\r\n                                           0x0000000208000000000000002000000000000000000000000000000000000000\r\n                                           0x0000000000000000000000000000000000000000000000000020000000000000\r\n                                           0x0000000200000000000000000000000000000000000000000000000000000000\r\n                                           0x0000000000000000000000002000000000000000000000000080000000000000\r\n                                           0x0000000000000000000000080000000000000000000000000000000000000000\r\n   difficulty           : 1                0x01\r\n   number               : 2171290          0x21219a\r\n   gas limit            : 8000000          0x7a1200\r\n   gas used             : 84703            0x014adf\r\n   timestamp            : 1581599771       0x5e454c1b\r\n   extra data           : <data 97>        0x696e667572612d696f0000000000000000000000000000000000000000000000\r\n                                           0x63423aa636b39aaa765f8cc06a50212f1917b9a15a2d89cfa5fec1ad87b107f4\r\n                                           0x4cf7b103a3c26f44d65808f2dd6ddc4c0e41594afe6163864b811c71b80dab02\r\n                                           0x00\r\n   mixhash/proposerSeed : <hash>           0x0000000000000000000000000000000000000000000000000000000000000000\r\n   nonce/signature      : 0                0x0000000000000000\r\n]\r\n```\r\n\r\nWhen I try the local devchain the blockheader looks differently:\r\n\r\n```sh\r\n[ BLOCKHEADER  Hash : 0x36efd742abdc0aa8f73bd7dd667ca24cf3c794ff53823b86b20443a4bba002d7\r\n   parent hash          : <hash>           0xbb96164f4049abe4bf04789392c2ff83b9062ae85919c453e01c4c654b398bb1\r\n   sha3 uncles          : <hash>           0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347\r\n   miner                : <address>        0x0000000000000000000000000000000000000000\r\n   state root           : <hash>           0x112677b4969e873237b560389eec8ba479e6e40762b83d9e0642b991c3390b4b\r\n   transaction root     : <hash>           0x2c22e2ce85c82ca7e3eb47ae530f8c464cb1a90504c244d57147c6febfc3df10\r\n   receipt root         : <hash>           0xfd7ff91b4247175c019edf7381f5d59198bf5fddca2636073cf95d82d73b490d\r\n   logs bloom           : <data 256>       0x0800000000000000000000000000000000000000000000000000000000000000\r\n                                           0x0000200000000000000000000040000000000000000000000008000000200000\r\n                                           0x0000400000000000000000080000000000000000000000000000000000000000\r\n                                           0x0000000000020400004000000000000000000080000000000000001000000000\r\n                                           0x4000800000000000000000000000000000000000000000000000000000000000\r\n                                           0x0220000000000000000002000000010000000000000000000000000000000000\r\n                                           0x0100000200000000000002000000000000020000000000000000000000080000\r\n                                           0x0010200001000000002000000000000000000002000000000000000004000100\r\n   difficulty           : 1                0x01\r\n   number               : 921              0x0399\r\n   gas limit            : 100000000        0x05f5e100\r\n   gas used             : 231164           0x0386fc\r\n   timestamp            : 1581600984       0x5e4550d8\r\n   extra data           : <data 10>        0x4e65746865726d696e64\r\n   mixhash/proposerSeed : 0                <EMPTY>\r\n   nonce/signature      : 0                0x0000000000000000\r\n]\r\n```\r\n\r\nAccording to the yellow paper the `mixHash` should be 32bytes (as it is in goerli), but in NethDev the `mixHash` is empty.\r\n\r\n\r\nThe chain definition I'm using looks like this:\r\n\r\n```js\r\n{\r\n  \"name\": \"DevChain\",\r\n  \"engine\": {\r\n    \"NethDev\": {\r\n      \"params\": {}\r\n    }\r\n  },\r\n  \"params\": {\r\n    \"accountStartNonce\": \"0x0\",\r\n    \"maximumExtraDataSize\": \"0xffff\",\r\n    \"minGasLimit\": \"0x1388\",\r\n    \"gasLimitBoundDivisor\": \"0x400\",\r\n    \"networkID\": \"0x2537\",\r\n    \"chainID\": \"0x2537\",\r\n    \"maxCodeSize\": \"0x6000\",\r\n    \"maxCodeSizeTransition\": \"0x0\",\r\n    \"eip140Transition\": \"0x0\",\r\n    \"eip145Transition\": \"0x0\",\r\n    \"eip150Transition\": \"0x0\",\r\n    \"eip155Transition\": \"0x0\",\r\n    \"eip160Transition\": \"0x0\",\r\n    \"eip161abcTransition\": \"0x0\",\r\n    \"eip161dTransition\": \"0x0\",\r\n    \"eip211Transition\": \"0x0\",\r\n    \"eip214Transition\": \"0x0\",\r\n    \"eip658Transition\": \"0x0\",\r\n    \"eip1014Transition\": \"0x0\",\r\n    \"eip1052Transition\": \"0x0\",\r\n    \"eip152Transition\": \"0x17D433\",\r\n    \"eip1108Transition\": \"0x17D433\",\r\n    \"eip1344Transition\": \"0x17D433\",\r\n    \"eip1884Transition\": \"0x17D433\",\r\n    \"eip2028Transition\": \"0x17D433\",\r\n    \"eip2200Transition\": \"0x17D433\"\r\n  },\r\n  \"genesis\": {\r\n    \"seal\": {\r\n      \"ethereum\": {\r\n        \"nonce\": \"0x0000000000000000\",\r\n        \"mixHash\": \"0x0000000000000000000000000000000000000000000000000000000000000000\"\r\n      }\r\n    },\r\n    \"difficulty\": \"0x80000\",\r\n    \"author\": \"0x0000000000000000000000000000000000000000\",\r\n    \"timestamp\": \"0x5dcbbc73\",\r\n    \"parentHash\": \"0x0000000000000000000000000000000000000000000000000000000000000000\",\r\n    \"extraData\": \"0x0000000000000000000000000000000000000000000000000000000000000000e45e80fe5a3a53ba6d518c885df91fd96b3e36fc0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\",\r\n    \"gasLimit\": \"0x5F5E100\"\r\n  },\r\n```\r\nSo is this a bug on our side or nethermind?",
  "closed_by": {
    "login": "tkstanczak",
    "id": 498913,
    "node_id": "MDQ6VXNlcjQ5ODkxMw==",
    "avatar_url": "https://avatars.githubusercontent.com/u/498913?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tkstanczak",
    "html_url": "https://github.com/tkstanczak",
    "followers_url": "https://api.github.com/users/tkstanczak/followers",
    "following_url": "https://api.github.com/users/tkstanczak/following{/other_user}",
    "gists_url": "https://api.github.com/users/tkstanczak/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tkstanczak/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tkstanczak/subscriptions",
    "organizations_url": "https://api.github.com/users/tkstanczak/orgs",
    "repos_url": "https://api.github.com/users/tkstanczak/repos",
    "events_url": "https://api.github.com/users/tkstanczak/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tkstanczak/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/1438/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/1438/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/585855583",
    "html_url": "https://github.com/NethermindEth/nethermind/issues/1438#issuecomment-585855583",
    "issue_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/1438",
    "id": 585855583,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU4NTg1NTU4Mw==",
    "user": {
      "login": "tkstanczak",
      "id": 498913,
      "node_id": "MDQ6VXNlcjQ5ODkxMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/498913?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tkstanczak",
      "html_url": "https://github.com/tkstanczak",
      "followers_url": "https://api.github.com/users/tkstanczak/followers",
      "following_url": "https://api.github.com/users/tkstanczak/following{/other_user}",
      "gists_url": "https://api.github.com/users/tkstanczak/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tkstanczak/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tkstanczak/subscriptions",
      "organizations_url": "https://api.github.com/users/tkstanczak/orgs",
      "repos_url": "https://api.github.com/users/tkstanczak/repos",
      "events_url": "https://api.github.com/users/tkstanczak/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tkstanczak/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-02-13T16:48:22Z",
    "updated_at": "2020-02-13T16:49:01Z",
    "author_association": "MEMBER",
    "body": "mix hash is  property belonging to ethash\r\n\r\nNethDev has no consensus algorithm - we can fill it in with zeros if that helps?\r\n\r\nin Goerli mixhash field is reused for some other purposes",
    "reactions": {
      "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/585855583/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/585858063",
    "html_url": "https://github.com/NethermindEth/nethermind/issues/1438#issuecomment-585858063",
    "issue_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/1438",
    "id": 585858063,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU4NTg1ODA2Mw==",
    "user": {
      "login": "tkstanczak",
      "id": 498913,
      "node_id": "MDQ6VXNlcjQ5ODkxMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/498913?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tkstanczak",
      "html_url": "https://github.com/tkstanczak",
      "followers_url": "https://api.github.com/users/tkstanczak/followers",
      "following_url": "https://api.github.com/users/tkstanczak/following{/other_user}",
      "gists_url": "https://api.github.com/users/tkstanczak/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tkstanczak/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tkstanczak/subscriptions",
      "organizations_url": "https://api.github.com/users/tkstanczak/orgs",
      "repos_url": "https://api.github.com/users/tkstanczak/repos",
      "events_url": "https://api.github.com/users/tkstanczak/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tkstanczak/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-02-13T16:53:36Z",
    "updated_at": "2020-02-13T16:53:36Z",
    "author_association": "MEMBER",
    "body": "I pushed the change to master that will fill mixhash with zeros in NethDev env\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/585858063/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/585863973",
    "html_url": "https://github.com/NethermindEth/nethermind/issues/1438#issuecomment-585863973",
    "issue_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/1438",
    "id": 585863973,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU4NTg2Mzk3Mw==",
    "user": {
      "login": "tkstanczak",
      "id": 498913,
      "node_id": "MDQ6VXNlcjQ5ODkxMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/498913?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tkstanczak",
      "html_url": "https://github.com/tkstanczak",
      "followers_url": "https://api.github.com/users/tkstanczak/followers",
      "following_url": "https://api.github.com/users/tkstanczak/following{/other_user}",
      "gists_url": "https://api.github.com/users/tkstanczak/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tkstanczak/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tkstanczak/subscriptions",
      "organizations_url": "https://api.github.com/users/tkstanczak/orgs",
      "repos_url": "https://api.github.com/users/tkstanczak/repos",
      "events_url": "https://api.github.com/users/tkstanczak/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tkstanczak/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-02-13T17:05:35Z",
    "updated_at": "2020-02-13T17:05:35Z",
    "author_association": "MEMBER",
    "body": "I had to, for now set it to some value because we have all zeros ignored for some reason (might be some other compatibioity thing between clients).\r\nI have filled the mixhash with Keccak(emptyString) on dev testnet",
    "reactions": {
      "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/585863973/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/585934976",
    "html_url": "https://github.com/NethermindEth/nethermind/issues/1438#issuecomment-585934976",
    "issue_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/1438",
    "id": 585934976,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU4NTkzNDk3Ng==",
    "user": {
      "login": "simon-jentzsch",
      "id": 10868622,
      "node_id": "MDQ6VXNlcjEwODY4NjIy",
      "avatar_url": "https://avatars.githubusercontent.com/u/10868622?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/simon-jentzsch",
      "html_url": "https://github.com/simon-jentzsch",
      "followers_url": "https://api.github.com/users/simon-jentzsch/followers",
      "following_url": "https://api.github.com/users/simon-jentzsch/following{/other_user}",
      "gists_url": "https://api.github.com/users/simon-jentzsch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/simon-jentzsch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/simon-jentzsch/subscriptions",
      "organizations_url": "https://api.github.com/users/simon-jentzsch/orgs",
      "repos_url": "https://api.github.com/users/simon-jentzsch/repos",
      "events_url": "https://api.github.com/users/simon-jentzsch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/simon-jentzsch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-02-13T19:36:13Z",
    "updated_at": "2020-02-13T19:36:13Z",
    "author_association": "CONTRIBUTOR",
    "body": "that should work, because when we create the blockheader, we take the mixhash and add it as a bytes32.\r\nI'll test it!",
    "reactions": {
      "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/585934976/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/585935754",
    "html_url": "https://github.com/NethermindEth/nethermind/issues/1438#issuecomment-585935754",
    "issue_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/1438",
    "id": 585935754,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU4NTkzNTc1NA==",
    "user": {
      "login": "simon-jentzsch",
      "id": 10868622,
      "node_id": "MDQ6VXNlcjEwODY4NjIy",
      "avatar_url": "https://avatars.githubusercontent.com/u/10868622?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/simon-jentzsch",
      "html_url": "https://github.com/simon-jentzsch",
      "followers_url": "https://api.github.com/users/simon-jentzsch/followers",
      "following_url": "https://api.github.com/users/simon-jentzsch/following{/other_user}",
      "gists_url": "https://api.github.com/users/simon-jentzsch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/simon-jentzsch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/simon-jentzsch/subscriptions",
      "organizations_url": "https://api.github.com/users/simon-jentzsch/orgs",
      "repos_url": "https://api.github.com/users/simon-jentzsch/repos",
      "events_url": "https://api.github.com/users/simon-jentzsch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/simon-jentzsch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-02-13T19:38:04Z",
    "updated_at": "2020-02-13T19:38:04Z",
    "author_association": "CONTRIBUTOR",
    "body": "Looks good, the blockheader seems to correct now!",
    "reactions": {
      "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/585935754/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
