{
  "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/1447",
  "repository_url": "https://api.github.com/repos/NethermindEth/nethermind",
  "labels_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/1447/labels{/name}",
  "comments_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/1447/comments",
  "events_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/1447/events",
  "html_url": "https://github.com/NethermindEth/nethermind/issues/1447",
  "id": 566959392,
  "node_id": "MDU6SXNzdWU1NjY5NTkzOTI=",
  "number": 1447,
  "title": "Wrong Storagekey in eth_getProof",
  "user": {
    "login": "simon-jentzsch",
    "id": 10868622,
    "node_id": "MDQ6VXNlcjEwODY4NjIy",
    "avatar_url": "https://avatars.githubusercontent.com/u/10868622?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/simon-jentzsch",
    "html_url": "https://github.com/simon-jentzsch",
    "followers_url": "https://api.github.com/users/simon-jentzsch/followers",
    "following_url": "https://api.github.com/users/simon-jentzsch/following{/other_user}",
    "gists_url": "https://api.github.com/users/simon-jentzsch/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/simon-jentzsch/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/simon-jentzsch/subscriptions",
    "organizations_url": "https://api.github.com/users/simon-jentzsch/orgs",
    "repos_url": "https://api.github.com/users/simon-jentzsch/repos",
    "events_url": "https://api.github.com/users/simon-jentzsch/events{/privacy}",
    "received_events_url": "https://api.github.com/users/simon-jentzsch/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2020-02-18T15:11:22Z",
  "updated_at": "2020-02-18T18:08:49Z",
  "closed_at": "2020-02-18T17:33:45Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "If I send this request:\r\n\r\n```js\r\n{ \"id\":1,\r\n  \"jsonrpc\":\"2.0\",\r\n  \"method\":\"eth_getProof\",\r\n  \"params\":[\r\n     \"0x4038dB9D24422bdC857efE8B0755E16cE6b5D060\", \r\n    [\"0x0000000000000000000000000000000000000000000000000000000000000000\"],\r\n     \"latest\"\r\n   ]\r\n}\r\n```\r\nI get this response:\r\n\r\n```js\r\n{\r\n  \"accountProof\": [\r\n    \"0xf90211a0fec23700caf4153f48f2e1f29f9e25562a4356277a59020dd7c5d1ad31d0c22fa0e38473ea8d6b8e73cff725998275749e208c59d18451b8a068b4d5132a9f2a5aa05eb03989f7dfc5b02d87d5b44221c39b4ce98604c800d5b24843fe01677e26eea0e1363bc6ba5075ae4f90d2a279e846af66cd8da070d12231b8d9bfe1bf371faca003926003eb13729e7fe091b71da224fa8f135221bcc0f4a7fa1a8413dec31782a059956a036d22816a922f0670e5fc43a699d934f39313ce048496ff0e054ea3c3a046742bebf0629473f0d06af19b410d3dc542b82b070fca9c964f9d34a3c1754fa006c86ae126e66eca702e07d62585d2cda24c514b04fa7bad5d7aac259663011ba01a8cdd602676bd20dcbf9dffd87f0e09f19b69fa56d67f4f2cad0b0450413dc3a099964bea24bc72751d5262d422496dff17669069636e97a760d1fb5560bca1bfa015f480d93e3cc99f108b604961277ddab1b86634f12b0b017a7724bd0ca647eca0e69d4133d270ae296f785ab9828493656696640cc43a64e2696431c13e826949a0433c242dc80dda89de63b0490d480dea91c5aca63ebd1bdb9ebe38a40d9a2330a0092f83dfb7d3573cd1c6a6f25acca2625385d69dc49e283f586562292ce7d106a0ed7e173a4fc84c98ecc9932d6b5921495a93300ce87cf2f9055bc38935437d57a07427bf97b9e7dab6e8272de1a2d1af252a7f5ab6fa3e234cbd9bfe9885d959eb80\",\r\n    \"0xf901d1a0d170d06a0ada5cf2f136772403d6b6bd2ebdeb4600c9eb915a354e65a9cdcd6580a09b1a2a5f78fe9a38f0d2baf7f1364f9443190cf84a93f05b91cc799fb9321679a05f1040aa1cb160206f7cce020cd3b8c19d9e3b62d656a1901ace9a5e750797f5a0f147ea0d3473a7b855e9abe20c5833d4ef069fa5d84bae839ea2c364fe1c2122a0fa192be918e21fe948478bb61931e0d386ae81c4bfcaa4aa94340ed096746c93a078f4f8fed92bb2cafe8898bedef494e57d954e132705bd8b577514f987518772a0fd5f51d4006cf4634815bcfdf98a53242e53e5a8e4e9e1d09d6b6fd38427e237a01667ce04f392fc824e66eab4509dbbe354473cde87e471ea76dd0c974fb0b72ea04d50c6e1bb575e3be1ab17cdf388edce6e9f565b1ef1d49ad95da20ee569020da01f62432e5c53131913e3fb4dade156232cd6112fbb9bf597ec1fb3e65dd4ac6980a09bea7fcc057d5fa0508e1a141d5a49fea1651cb0ad13280d26e244e2239986c8a0a6590dff5127d180c470f0958ae95cc2252f83c09f6f8bf54aa416109da8f4afa02a4f587795224a9d56359a071f3573d9380caadd49bca1b63a1ba7e20d9e6664a0a70b4f7d4691dbc14e4c1c236f097af4502cd39d5e681fd10a424947d9e7625e80\",\r\n    \"0xf869a020fd5e549cce04870535c98e280610cc50c3fe447788abf556d92b90a3d1d463b846f8440180a0821e2556a290c86405f8160a2d662042a431ba456b9db265c79bb837c04be5f0a083b7e7c4a7932764c466ecc6f674428247c29fb4525749ef8a0e3c791544e10f\"\r\n  ],\r\n  \"address\": \"0x4038db9d24422bdc857efe8b0755e16ce6b5d060\",\r\n  \"balance\": \"0x0\",\r\n  \"codeHash\": \"0x83b7e7c4a7932764c466ecc6f674428247c29fb4525749ef8a0e3c791544e10f\",\r\n  \"nonce\": \"0x1\",\r\n  \"storageHash\": \"0x821e2556a290c86405f8160a2d662042a431ba456b9db265c79bb837c04be5f0\",\r\n  \"storageProof\": [\r\n    {\r\n      \"key\": \"0x290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e563\",\r\n      \"proof\": [\r\n        \"0xe3a120290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e56301\"\r\n      ],\r\n      \"value\": \"0x01\"\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\nThe storageValue is correct, but the key (and also the proof) does not match it should have been the key I was asking for.\r\n\r\n",
  "closed_by": {
    "login": "tkstanczak",
    "id": 498913,
    "node_id": "MDQ6VXNlcjQ5ODkxMw==",
    "avatar_url": "https://avatars.githubusercontent.com/u/498913?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/tkstanczak",
    "html_url": "https://github.com/tkstanczak",
    "followers_url": "https://api.github.com/users/tkstanczak/followers",
    "following_url": "https://api.github.com/users/tkstanczak/following{/other_user}",
    "gists_url": "https://api.github.com/users/tkstanczak/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/tkstanczak/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/tkstanczak/subscriptions",
    "organizations_url": "https://api.github.com/users/tkstanczak/orgs",
    "repos_url": "https://api.github.com/users/tkstanczak/repos",
    "events_url": "https://api.github.com/users/tkstanczak/events{/privacy}",
    "received_events_url": "https://api.github.com/users/tkstanczak/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/1447/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/1447/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/587543063",
    "html_url": "https://github.com/NethermindEth/nethermind/issues/1447#issuecomment-587543063",
    "issue_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/1447",
    "id": 587543063,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU4NzU0MzA2Mw==",
    "user": {
      "login": "tkstanczak",
      "id": 498913,
      "node_id": "MDQ6VXNlcjQ5ODkxMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/498913?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tkstanczak",
      "html_url": "https://github.com/tkstanczak",
      "followers_url": "https://api.github.com/users/tkstanczak/followers",
      "following_url": "https://api.github.com/users/tkstanczak/following{/other_user}",
      "gists_url": "https://api.github.com/users/tkstanczak/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tkstanczak/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tkstanczak/subscriptions",
      "organizations_url": "https://api.github.com/users/tkstanczak/orgs",
      "repos_url": "https://api.github.com/users/tkstanczak/repos",
      "events_url": "https://api.github.com/users/tkstanczak/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tkstanczak/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-02-18T16:16:52Z",
    "updated_at": "2020-02-18T16:16:52Z",
    "author_association": "MEMBER",
    "body": "storage key is a Keccak hash of the requested key\r\n\r\nnot sure where I took this assumption from, that it should be the hash (which is the actual key in the trie) - probably before we call the latter 'indexes' and the hasshed ones 'keys'",
    "reactions": {
      "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/587543063/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/587573317",
    "html_url": "https://github.com/NethermindEth/nethermind/issues/1447#issuecomment-587573317",
    "issue_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/1447",
    "id": 587573317,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU4NzU3MzMxNw==",
    "user": {
      "login": "tkstanczak",
      "id": 498913,
      "node_id": "MDQ6VXNlcjQ5ODkxMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/498913?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tkstanczak",
      "html_url": "https://github.com/tkstanczak",
      "followers_url": "https://api.github.com/users/tkstanczak/followers",
      "following_url": "https://api.github.com/users/tkstanczak/following{/other_user}",
      "gists_url": "https://api.github.com/users/tkstanczak/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tkstanczak/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tkstanczak/subscriptions",
      "organizations_url": "https://api.github.com/users/tkstanczak/orgs",
      "repos_url": "https://api.github.com/users/tkstanczak/repos",
      "events_url": "https://api.github.com/users/tkstanczak/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tkstanczak/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-02-18T17:16:44Z",
    "updated_at": "2020-02-18T17:16:44Z",
    "author_association": "MEMBER",
    "body": "https://github.com/NethermindEth/nethermind/pull/1450\r\n\r\nThis fixes one more issue:\r\npreviously the paths for storage were not checked properly for missing nodes (and others)  ",
    "reactions": {
      "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/587573317/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/587597503",
    "html_url": "https://github.com/NethermindEth/nethermind/issues/1447#issuecomment-587597503",
    "issue_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/1447",
    "id": 587597503,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU4NzU5NzUwMw==",
    "user": {
      "login": "simon-jentzsch",
      "id": 10868622,
      "node_id": "MDQ6VXNlcjEwODY4NjIy",
      "avatar_url": "https://avatars.githubusercontent.com/u/10868622?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/simon-jentzsch",
      "html_url": "https://github.com/simon-jentzsch",
      "followers_url": "https://api.github.com/users/simon-jentzsch/followers",
      "following_url": "https://api.github.com/users/simon-jentzsch/following{/other_user}",
      "gists_url": "https://api.github.com/users/simon-jentzsch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/simon-jentzsch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/simon-jentzsch/subscriptions",
      "organizations_url": "https://api.github.com/users/simon-jentzsch/orgs",
      "repos_url": "https://api.github.com/users/simon-jentzsch/repos",
      "events_url": "https://api.github.com/users/simon-jentzsch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/simon-jentzsch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-02-18T18:08:49Z",
    "updated_at": "2020-02-18T18:08:49Z",
    "author_association": "CONTRIBUTOR",
    "body": "perfect, thanks\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/587597503/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
