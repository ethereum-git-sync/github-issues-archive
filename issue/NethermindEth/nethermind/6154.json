{
  "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/6154",
  "repository_url": "https://api.github.com/repos/NethermindEth/nethermind",
  "labels_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/6154/labels{/name}",
  "comments_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/6154/comments",
  "events_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/6154/events",
  "html_url": "https://github.com/NethermindEth/nethermind/issues/6154",
  "id": 1924114906,
  "node_id": "I_kwDOBggaLc5yr6na",
  "number": 6154,
  "title": "Does EthStats give up too easily?",
  "user": {
    "login": "rocknet",
    "id": 1266404,
    "node_id": "MDQ6VXNlcjEyNjY0MDQ=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1266404?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/rocknet",
    "html_url": "https://github.com/rocknet",
    "followers_url": "https://api.github.com/users/rocknet/followers",
    "following_url": "https://api.github.com/users/rocknet/following{/other_user}",
    "gists_url": "https://api.github.com/users/rocknet/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/rocknet/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/rocknet/subscriptions",
    "organizations_url": "https://api.github.com/users/rocknet/orgs",
    "repos_url": "https://api.github.com/users/rocknet/repos",
    "events_url": "https://api.github.com/users/rocknet/events{/privacy}",
    "received_events_url": "https://api.github.com/users/rocknet/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 5712691686,
      "node_id": "LA_kwDOBggaLc8AAAABVIDB5g",
      "url": "https://api.github.com/repos/NethermindEth/nethermind/labels/can't%20reproduce",
      "name": "can't reproduce",
      "color": "C40F38",
      "default": false,
      "description": "Dev is unable to reproduce the issue described."
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "emlautarom1",
    "id": 31224949,
    "node_id": "MDQ6VXNlcjMxMjI0OTQ5",
    "avatar_url": "https://avatars.githubusercontent.com/u/31224949?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/emlautarom1",
    "html_url": "https://github.com/emlautarom1",
    "followers_url": "https://api.github.com/users/emlautarom1/followers",
    "following_url": "https://api.github.com/users/emlautarom1/following{/other_user}",
    "gists_url": "https://api.github.com/users/emlautarom1/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/emlautarom1/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/emlautarom1/subscriptions",
    "organizations_url": "https://api.github.com/users/emlautarom1/orgs",
    "repos_url": "https://api.github.com/users/emlautarom1/repos",
    "events_url": "https://api.github.com/users/emlautarom1/events{/privacy}",
    "received_events_url": "https://api.github.com/users/emlautarom1/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "emlautarom1",
      "id": 31224949,
      "node_id": "MDQ6VXNlcjMxMjI0OTQ5",
      "avatar_url": "https://avatars.githubusercontent.com/u/31224949?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emlautarom1",
      "html_url": "https://github.com/emlautarom1",
      "followers_url": "https://api.github.com/users/emlautarom1/followers",
      "following_url": "https://api.github.com/users/emlautarom1/following{/other_user}",
      "gists_url": "https://api.github.com/users/emlautarom1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emlautarom1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emlautarom1/subscriptions",
      "organizations_url": "https://api.github.com/users/emlautarom1/orgs",
      "repos_url": "https://api.github.com/users/emlautarom1/repos",
      "events_url": "https://api.github.com/users/emlautarom1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emlautarom1/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2023-10-03T13:06:38Z",
  "updated_at": "2023-11-14T14:14:41Z",
  "closed_at": "2023-11-14T14:14:24Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "**Description**\r\nIt seems that EthStats sometimes gives up, never to retry until you restart.  I'm running 1.20.4 on Holesky, connected to http://ethstats.invis.tools/, and it's been fine for 5.5 days.  About 45 mins ago now, I got disconnected and it won't come back up automatically.  The node itself is fine.  I'm synced and attesting.\r\n\r\n**Steps to Reproduce**\r\nIn order to replicate the behavior, please provide a detailed list of steps:\r\n1. Start NM, configured to send EthStats\r\n2. Wait some amount of time, seemingly for a network blip (or restart the EthStats endpoint)\r\n\r\n**Actual behavior**\r\nNM disconnects from EthStats and doesn't reconnect (after maybe 4 retries)?\r\n\r\n**Expected behavior**\r\nContinue to retry, maybe with a back-off policy.  It seems weird that it has many disconnect and hello messages in 1 second.\r\n\r\n**Screenshots**\r\nN/A\r\n\r\n**Desktop (please complete the following information):**\r\nPlease provide the following information regarding your setup:\r\n - Operating System: Debian\r\n - Version: 12.1\r\n - Installation Method: Docker\r\n - Consensus Client: Lodestar\r\n\r\n**Additional context**\r\nN/A\r\n\r\n**Logs**\r\n```\r\n27 Sep 20:56:15 |   EthStats by Nethermind\r\n27 Sep 20:56:15 |   EthStats by Nethermind initialized in 0ms\r\n27 Sep 20:56:16 | Initializing ETH Stats for the instance: ðŸš€ rocknet-0xe1649fcc4c024ba47ca1dc4fbc1d3ab3dc06fe314ab7b70ef9df68a8b8d6f171, server: ws://ethstats.invis.tools:80/api\r\n03 Oct 11:47:03 | ETH Stats disconnected, reason: Websocket.Client.DisconnectionInfo\r\n03 Oct 11:47:03 | ETH Stats disconnected, reason: Websocket.Client.DisconnectionInfo\r\n03 Oct 11:47:04 | ETH Stats reconnected, sending 'hello' message...\r\n03 Oct 12:15:21 | ETH Stats disconnected, reason: Websocket.Client.DisconnectionInfo\r\n03 Oct 12:15:21 | ETH Stats disconnected, reason: Websocket.Client.DisconnectionInfo\r\n03 Oct 12:15:21 | ETH Stats reconnected, sending 'hello' message...\r\n03 Oct 12:15:21 | ETH Stats disconnected, reason: Websocket.Client.DisconnectionInfo\r\n03 Oct 12:15:21 | ETH Stats disconnected, reason: Websocket.Client.DisconnectionInfo\r\n03 Oct 12:15:22 | ETH Stats reconnected, sending 'hello' message...\r\n03 Oct 12:15:22 | ETH Stats disconnected, reason: Websocket.Client.DisconnectionInfo\r\n03 Oct 12:15:22 | ETH Stats disconnected, reason: Websocket.Client.DisconnectionInfo\r\n03 Oct 12:15:22 | ETH Stats disconnected, reason: Websocket.Client.DisconnectionInfo\r\n03 Oct 12:15:22 | ETH Stats reconnected, sending 'hello' message...\r\n```\r\n\r\n",
  "closed_by": {
    "login": "emlautarom1",
    "id": 31224949,
    "node_id": "MDQ6VXNlcjMxMjI0OTQ5",
    "avatar_url": "https://avatars.githubusercontent.com/u/31224949?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/emlautarom1",
    "html_url": "https://github.com/emlautarom1",
    "followers_url": "https://api.github.com/users/emlautarom1/followers",
    "following_url": "https://api.github.com/users/emlautarom1/following{/other_user}",
    "gists_url": "https://api.github.com/users/emlautarom1/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/emlautarom1/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/emlautarom1/subscriptions",
    "organizations_url": "https://api.github.com/users/emlautarom1/orgs",
    "repos_url": "https://api.github.com/users/emlautarom1/repos",
    "events_url": "https://api.github.com/users/emlautarom1/events{/privacy}",
    "received_events_url": "https://api.github.com/users/emlautarom1/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/6154/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/6154/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/1810294924",
    "html_url": "https://github.com/NethermindEth/nethermind/issues/6154#issuecomment-1810294924",
    "issue_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/6154",
    "id": 1810294924,
    "node_id": "IC_kwDOBggaLc5r5uiM",
    "user": {
      "login": "emlautarom1",
      "id": 31224949,
      "node_id": "MDQ6VXNlcjMxMjI0OTQ5",
      "avatar_url": "https://avatars.githubusercontent.com/u/31224949?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/emlautarom1",
      "html_url": "https://github.com/emlautarom1",
      "followers_url": "https://api.github.com/users/emlautarom1/followers",
      "following_url": "https://api.github.com/users/emlautarom1/following{/other_user}",
      "gists_url": "https://api.github.com/users/emlautarom1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/emlautarom1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/emlautarom1/subscriptions",
      "organizations_url": "https://api.github.com/users/emlautarom1/orgs",
      "repos_url": "https://api.github.com/users/emlautarom1/repos",
      "events_url": "https://api.github.com/users/emlautarom1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/emlautarom1/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-11-14T14:14:24Z",
    "updated_at": "2023-11-14T14:14:24Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hello, thanks for reporting this issue. On https://github.com/NethermindEth/nethermind/pull/6147 we introduced a new option to configure the interval between stats updates and changed the default from 1 second to 15 seconds. As for lost connections, Nethermind will try to reconnect every 5 seconds (not configurable at the moment).\r\n\r\nDuring testing we were not able to reproduce the issue you describe (Nethermind not trying to reconnect). Please, update to 1.22 and verify if the issue persists and if that is the case then feel free to open a new ticket.",
    "reactions": {
      "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/1810294924/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
