{
  "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/6629",
  "repository_url": "https://api.github.com/repos/NethermindEth/nethermind",
  "labels_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/6629/labels{/name}",
  "comments_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/6629/comments",
  "events_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/6629/events",
  "html_url": "https://github.com/NethermindEth/nethermind/issues/6629",
  "id": 2105010253,
  "node_id": "I_kwDOBggaLc59d-hN",
  "number": 6629,
  "title": "Block Processing right after OldReceipts is not working for a few minutes (not always reproducible)",
  "user": {
    "login": "kamilchodola",
    "id": 43241881,
    "node_id": "MDQ6VXNlcjQzMjQxODgx",
    "avatar_url": "https://avatars.githubusercontent.com/u/43241881?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/kamilchodola",
    "html_url": "https://github.com/kamilchodola",
    "followers_url": "https://api.github.com/users/kamilchodola/followers",
    "following_url": "https://api.github.com/users/kamilchodola/following{/other_user}",
    "gists_url": "https://api.github.com/users/kamilchodola/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/kamilchodola/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/kamilchodola/subscriptions",
    "organizations_url": "https://api.github.com/users/kamilchodola/orgs",
    "repos_url": "https://api.github.com/users/kamilchodola/repos",
    "events_url": "https://api.github.com/users/kamilchodola/events{/privacy}",
    "received_events_url": "https://api.github.com/users/kamilchodola/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "open",
  "locked": false,
  "assignee": {
    "login": "flcl42",
    "id": 630501,
    "node_id": "MDQ6VXNlcjYzMDUwMQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/630501?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/flcl42",
    "html_url": "https://github.com/flcl42",
    "followers_url": "https://api.github.com/users/flcl42/followers",
    "following_url": "https://api.github.com/users/flcl42/following{/other_user}",
    "gists_url": "https://api.github.com/users/flcl42/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/flcl42/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/flcl42/subscriptions",
    "organizations_url": "https://api.github.com/users/flcl42/orgs",
    "repos_url": "https://api.github.com/users/flcl42/repos",
    "events_url": "https://api.github.com/users/flcl42/events{/privacy}",
    "received_events_url": "https://api.github.com/users/flcl42/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "flcl42",
      "id": 630501,
      "node_id": "MDQ6VXNlcjYzMDUwMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/630501?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/flcl42",
      "html_url": "https://github.com/flcl42",
      "followers_url": "https://api.github.com/users/flcl42/followers",
      "following_url": "https://api.github.com/users/flcl42/following{/other_user}",
      "gists_url": "https://api.github.com/users/flcl42/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/flcl42/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/flcl42/subscriptions",
      "organizations_url": "https://api.github.com/users/flcl42/orgs",
      "repos_url": "https://api.github.com/users/flcl42/repos",
      "events_url": "https://api.github.com/users/flcl42/events{/privacy}",
      "received_events_url": "https://api.github.com/users/flcl42/received_events",
      "type": "User",
      "site_admin": false
    },
    {
      "login": "asdacap",
      "id": 1841324,
      "node_id": "MDQ6VXNlcjE4NDEzMjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1841324?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/asdacap",
      "html_url": "https://github.com/asdacap",
      "followers_url": "https://api.github.com/users/asdacap/followers",
      "following_url": "https://api.github.com/users/asdacap/following{/other_user}",
      "gists_url": "https://api.github.com/users/asdacap/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/asdacap/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/asdacap/subscriptions",
      "organizations_url": "https://api.github.com/users/asdacap/orgs",
      "repos_url": "https://api.github.com/users/asdacap/repos",
      "events_url": "https://api.github.com/users/asdacap/events{/privacy}",
      "received_events_url": "https://api.github.com/users/asdacap/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2024-01-29T09:14:02Z",
  "updated_at": "2024-01-29T16:46:44Z",
  "closed_at": null,
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "**Steps to Reproduce**\r\n1. Sync gnosis or mainnet eth node until OldReceipts\r\n2. Wait for OldReceipts to complete\r\n3. Observe logs\r\n\r\n**Actual behavior**\r\nFor some reason (in this case Gnosis chain) right after OldReceipts completed BlockProcessing stops working which was not a case in previous versions. Below is a snippet of logs from Seq\r\n[export-8dc20a6d5dbceae.csv](https://github.com/NethermindEth/nethermind/files/14081935/export-8dc20a6d5dbceae.csv)\r\n\r\n**Expected behavior**\r\nBlock Processing as it works in parallel with OldReceipts should not be interupted when sync of Receipts is completed.\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/6629/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/6629/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/1914784905",
    "html_url": "https://github.com/NethermindEth/nethermind/issues/6629#issuecomment-1914784905",
    "issue_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/6629",
    "id": 1914784905,
    "node_id": "IC_kwDOBggaLc5yIUyJ",
    "user": {
      "login": "asdacap",
      "id": 1841324,
      "node_id": "MDQ6VXNlcjE4NDEzMjQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1841324?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/asdacap",
      "html_url": "https://github.com/asdacap",
      "followers_url": "https://api.github.com/users/asdacap/followers",
      "following_url": "https://api.github.com/users/asdacap/following{/other_user}",
      "gists_url": "https://api.github.com/users/asdacap/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/asdacap/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/asdacap/subscriptions",
      "organizations_url": "https://api.github.com/users/asdacap/orgs",
      "repos_url": "https://api.github.com/users/asdacap/repos",
      "events_url": "https://api.github.com/users/asdacap/events{/privacy}",
      "received_events_url": "https://api.github.com/users/asdacap/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2024-01-29T14:16:59Z",
    "updated_at": "2024-01-29T14:16:59Z",
    "author_association": "CONTRIBUTOR",
    "body": "I'm guessing that after old receipt complete, it will tune to old configuration and will immediately stall due to very high l0 file number. `options.SetLevel0StopWritesTrigger(20000);` would prevent it from stalling but not slowing down. Still need to reproduce and confirm this. However, it runs the risk of causing the l0 file number to allocate which slows it down until it is processed.",
    "reactions": {
      "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/comments/1914784905/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
