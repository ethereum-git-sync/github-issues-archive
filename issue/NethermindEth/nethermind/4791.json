{
  "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/4791",
  "repository_url": "https://api.github.com/repos/NethermindEth/nethermind",
  "labels_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/4791/labels{/name}",
  "comments_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/4791/comments",
  "events_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/4791/events",
  "html_url": "https://github.com/NethermindEth/nethermind/issues/4791",
  "id": 1418297075,
  "node_id": "I_kwDOBggaLc5UiX7z",
  "number": 4791,
  "title": "Unblock JsonRpc during offline processing",
  "user": {
    "login": "MarekM25",
    "id": 9356351,
    "node_id": "MDQ6VXNlcjkzNTYzNTE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/9356351?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/MarekM25",
    "html_url": "https://github.com/MarekM25",
    "followers_url": "https://api.github.com/users/MarekM25/followers",
    "following_url": "https://api.github.com/users/MarekM25/following{/other_user}",
    "gists_url": "https://api.github.com/users/MarekM25/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/MarekM25/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/MarekM25/subscriptions",
    "organizations_url": "https://api.github.com/users/MarekM25/orgs",
    "repos_url": "https://api.github.com/users/MarekM25/repos",
    "events_url": "https://api.github.com/users/MarekM25/events{/privacy}",
    "received_events_url": "https://api.github.com/users/MarekM25/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1124483401,
      "node_id": "MDU6TGFiZWwxMTI0NDgzNDAx",
      "url": "https://api.github.com/repos/NethermindEth/nethermind/labels/rpc",
      "name": "rpc",
      "color": "efe37a",
      "default": false,
      "description": ""
    },
    {
      "id": 1145016563,
      "node_id": "MDU6TGFiZWwxMTQ1MDE2NTYz",
      "url": "https://api.github.com/repos/NethermindEth/nethermind/labels/good%20first%20issue",
      "name": "good first issue",
      "color": "8731e2",
      "default": true,
      "description": ""
    },
    {
      "id": 2800949320,
      "node_id": "MDU6TGFiZWwyODAwOTQ5MzIw",
      "url": "https://api.github.com/repos/NethermindEth/nethermind/labels/ux",
      "name": "ux",
      "color": "c5def5",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 0,
  "created_at": "2022-10-21T12:51:51Z",
  "updated_at": "2022-10-21T12:51:51Z",
  "closed_at": null,
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "Related issue: https://github.com/NethermindEth/nethermind/issues/2864\r\n\r\nAfter a restart when we're processing already downloaded blocks, we're blocking JSON RPC. It is painful for users because they're using RPC, for example, to monitor node health. It is even more painful for archive node users. The problem is in our startup dependencies. \r\n\r\nRemoving [typeof(ReviewBlockTree)] in this line is fixing it, but...\r\nhttps://github.com/NethermindEth/nethermind/blob/master/src/Nethermind/Nethermind.Init/Steps/InitializeBlockProducer.cs#L28\r\n\r\nWe can't fix by removing ReviewBlockTree, because before starting EngineAPI, we have to review. Ideally, we should reprocess all the blocks. One potential solution is to block Engine API but start all other JsonRPC. \r\n\r\nThere is one more hack in the code right now that could be fixed: https://github.com/NethermindEth/nethermind/blob/master/src/Nethermind/Nethermind.Merge.Plugin/MergePlugin.cs#L299",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/NethermindEth/nethermind/issues/4791/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/NethermindEth/nethermind/issues/4791/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[

]
