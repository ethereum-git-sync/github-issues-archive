{
  "url": "https://api.github.com/repos/status-im/status-mobile/issues/13452",
  "repository_url": "https://api.github.com/repos/status-im/status-mobile",
  "labels_url": "https://api.github.com/repos/status-im/status-mobile/issues/13452/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-mobile/issues/13452/comments",
  "events_url": "https://api.github.com/repos/status-im/status-mobile/issues/13452/events",
  "html_url": "https://github.com/status-im/status-mobile/issues/13452",
  "id": 1261207494,
  "node_id": "I_kwDOAx4p2c5LLH_G",
  "number": 13452,
  "title": "Implement React Native Reanimated V2",
  "user": {
    "login": "Parveshdhull",
    "id": 17097240,
    "node_id": "MDQ6VXNlcjE3MDk3MjQw",
    "avatar_url": "https://avatars.githubusercontent.com/u/17097240?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Parveshdhull",
    "html_url": "https://github.com/Parveshdhull",
    "followers_url": "https://api.github.com/users/Parveshdhull/followers",
    "following_url": "https://api.github.com/users/Parveshdhull/following{/other_user}",
    "gists_url": "https://api.github.com/users/Parveshdhull/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Parveshdhull/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Parveshdhull/subscriptions",
    "organizations_url": "https://api.github.com/users/Parveshdhull/orgs",
    "repos_url": "https://api.github.com/users/Parveshdhull/repos",
    "events_url": "https://api.github.com/users/Parveshdhull/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Parveshdhull/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 692308696,
      "node_id": "MDU6TGFiZWw2OTIzMDg2OTY=",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/tech-debt",
      "name": "tech-debt",
      "color": "e99695",
      "default": false,
      "description": null
    },
    {
      "id": 4052480148,
      "node_id": "LA_kwDOAx4p2c7xi_CU",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/E:TechDebt",
      "name": "E:TechDebt",
      "color": "502771",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "Parveshdhull",
    "id": 17097240,
    "node_id": "MDQ6VXNlcjE3MDk3MjQw",
    "avatar_url": "https://avatars.githubusercontent.com/u/17097240?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Parveshdhull",
    "html_url": "https://github.com/Parveshdhull",
    "followers_url": "https://api.github.com/users/Parveshdhull/followers",
    "following_url": "https://api.github.com/users/Parveshdhull/following{/other_user}",
    "gists_url": "https://api.github.com/users/Parveshdhull/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Parveshdhull/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Parveshdhull/subscriptions",
    "organizations_url": "https://api.github.com/users/Parveshdhull/orgs",
    "repos_url": "https://api.github.com/users/Parveshdhull/repos",
    "events_url": "https://api.github.com/users/Parveshdhull/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Parveshdhull/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "Parveshdhull",
      "id": 17097240,
      "node_id": "MDQ6VXNlcjE3MDk3MjQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/17097240?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Parveshdhull",
      "html_url": "https://github.com/Parveshdhull",
      "followers_url": "https://api.github.com/users/Parveshdhull/followers",
      "following_url": "https://api.github.com/users/Parveshdhull/following{/other_user}",
      "gists_url": "https://api.github.com/users/Parveshdhull/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Parveshdhull/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Parveshdhull/subscriptions",
      "organizations_url": "https://api.github.com/users/Parveshdhull/orgs",
      "repos_url": "https://api.github.com/users/Parveshdhull/repos",
      "events_url": "https://api.github.com/users/Parveshdhull/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Parveshdhull/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 23,
  "created_at": "2022-06-06T00:36:25Z",
  "updated_at": "2022-06-28T19:12:26Z",
  "closed_at": "2022-06-28T19:12:26Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "_Research issue for the implementation of react-native-reanimated v2_\r\n\r\n# Summary:\r\nCurrently we are only using reanimated v1 API's and only version is bumped in `package.json`. We should Implement and use React Native Reanimated v2, at-least for newer animations for redesign.\r\n\r\n## Project Setup:\r\nConfigure project as per v2 [installation guidelines](https://docs.swmansion.com/react-native-reanimated/docs/2.1.x/installation#android) and import API's.\r\n\r\n## Issues to fix\r\n### Issue 1:\r\n[useAnimatedStyle](https://docs.swmansion.com/react-native-reanimated/docs/api/hooks/useAnimatedStyle) hook is one of the main element of reanimated v2. But when we use this hook like:\r\n```\r\n(reanimated/use-animated-style (fn [] #js {:width 100}))\r\n```\r\nIt throws [error](https://github.com/software-mansion/react-native-reanimated/issues/1090):\r\n```\r\nCannot convert undefined value to object\r\n```\r\nScreenshot:\r\n<img src=\"https://user-images.githubusercontent.com/17097240/172066924-7198b297-4aa6-489d-86ad-f1e8a466000d.png\" alt=\"Screenshot\" height=\"400\"/>\r\n\r\nthis error is only shown in the older version, like `2.1.0`, `2.2.0`, etc. newer versions don't show errors due to [this](https://github.com/software-mansion/react-native-reanimated/blob/b4ee4ea9a1f246c461dd1819c6f3d48440a25756/src/reanimated2/hook/useAnimatedStyle.ts#L412) check, but the app just crashes with these logs\r\n\r\n```\r\n06-05 01:21:19.812 12779 12779 F DEBUG   : Abort message: 'JNI DETECTED ERROR IN APPLICATION: JNI GetObjectRefType called with pending exception java.lang.RuntimeException: Tried to synchronously call function {G__75911} from a different thread.\r\n06-05 01:21:19.812 12779 12779 F DEBUG   : \r\n06-05 01:21:19.812 12779 12779 F DEBUG   : Occurred in worklet location: /home/parvesh_monu/Desktop/ArchFiles/React/status-react/node_modules/react-native-reanimated/src/reanimated2/hook/useAnimatedStyle.ts (492:18)\r\n06-05 01:21:19.812 12779 12779 F DEBUG   : \r\n06-05 01:21:19.812 12779 12779 F DEBUG   : Possible solutions are:\r\n06-05 01:21:19.812 12779 12779 F DEBUG   : a) If you want to synchronously execute this method, mark it as a Worklet\r\n06-05 01:21:19.812 12779 12779 F DEBUG   : b) If you want to execute this method on the JS thread, wrap it using runOnJS\r\n06-05 01:21:19.812 12779 12779 F DEBUG   :   at void com.swmansion.reanimated.AndroidErrorHandler.raise(java.lang.String) (AndroidErrorHandler.java:6)\r\n```\r\n\r\n### Cause\r\nThis error occurs because `useAnimatedStyle` expects [worklet](https://docs.swmansion.com/react-native-reanimated/docs/fundamentals/worklets) as an argument ([ref](https://docs.swmansion.com/react-native-reanimated/docs/api/hooks/useAnimatedStyle#updater-function)), while we are just passing a simple function.\r\n\r\nWhile setting project we are also adding [react-native-reanimated/plugin](https://docs.swmansion.com/react-native-reanimated/docs/fundamentals/installation#babel-plugin), which is supposed to convert the passed argument to `worklet` automatically ([ref](https://github.com/software-mansion/react-native-reanimated/blob/b4ee4ea9a1f246c461dd1819c6f3d48440a25756/plugin.js#L7)), which is not happening for us.\r\n\r\n### Issue 2\r\nThere is also another way to create [worklet](https://docs.swmansion.com/react-native-reanimated/docs/fundamentals/worklets) for reanimated v2. Using directives\r\n\r\n```\r\nfunction someWorklet(greeting) {\r\n  'worklet';\r\n  console.log(\"Hey I'm running on the UI thread\");\r\n}\r\n```\r\nThis will also not work for clojure script, because even if I add \"worklet\" string, something like\r\n```\r\n(defn someWorklet [greeting]\r\n    \"worklet\"\r\n    (js/console.log \"Hey I'm running on the UI thread\"))\r\n```\r\ncompiler will strip it out. It seems [react-native-reanimated/plugin](https://docs.swmansion.com/react-native-reanimated/docs/fundamentals/installation#babel-plugin) is more tailored toward javascript syntax and not working in cljs.\r\n\r\nThere is also a babel [plugin](https://www.npmjs.com/package/babel-plugin-assign-directive) available for using directive in cljs, but unfortunately it don't work in shadow-cljs.\r\n\r\n### Possible Solutions\r\n1. One workaround can be to not rely on directive and the library can just provide a function to manually create worklets. Function is already there just not yet completely implemented ([ref](https://github.com/software-mansion/react-native-reanimated/issues/3131)). One drawback of this is we have to maintain fork branch for the implementation for now, because even if change gets merged in parent, we can't use that because after version `2.4.0`, latest versions of library needs gradlePluginVersion=4.2.2 and gradle 6.\r\n2. Create or fix plugin so that directive also work for shadow-cljs. (?)\r\n\r\n### Related Refs:\r\n- [Original Issue](https://github.com/software-mansion/react-native-reanimated/issues/1090)\r\n- [Stackoverflow Question](https://stackoverflow.com/questions/72500152/interop-how-to-use-javascript-directive-in-clojurescript)\r\n- [Issue Comment](https://github.com/software-mansion/react-native-reanimated/issues/1090#issuecomment-1146681621)",
  "closed_by": {
    "login": "Parveshdhull",
    "id": 17097240,
    "node_id": "MDQ6VXNlcjE3MDk3MjQw",
    "avatar_url": "https://avatars.githubusercontent.com/u/17097240?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Parveshdhull",
    "html_url": "https://github.com/Parveshdhull",
    "followers_url": "https://api.github.com/users/Parveshdhull/followers",
    "following_url": "https://api.github.com/users/Parveshdhull/following{/other_user}",
    "gists_url": "https://api.github.com/users/Parveshdhull/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Parveshdhull/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Parveshdhull/subscriptions",
    "organizations_url": "https://api.github.com/users/Parveshdhull/orgs",
    "repos_url": "https://api.github.com/users/Parveshdhull/repos",
    "events_url": "https://api.github.com/users/Parveshdhull/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Parveshdhull/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/13452/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-mobile/issues/13452/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1147249967",
    "html_url": "https://github.com/status-im/status-mobile/issues/13452#issuecomment-1147249967",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/13452",
    "id": 1147249967,
    "node_id": "IC_kwDOAx4p2c5EYaUv",
    "user": {
      "login": "flexsurfer",
      "id": 11790366,
      "node_id": "MDQ6VXNlcjExNzkwMzY2",
      "avatar_url": "https://avatars.githubusercontent.com/u/11790366?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/flexsurfer",
      "html_url": "https://github.com/flexsurfer",
      "followers_url": "https://api.github.com/users/flexsurfer/followers",
      "following_url": "https://api.github.com/users/flexsurfer/following{/other_user}",
      "gists_url": "https://api.github.com/users/flexsurfer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/flexsurfer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/flexsurfer/subscriptions",
      "organizations_url": "https://api.github.com/users/flexsurfer/orgs",
      "repos_url": "https://api.github.com/users/flexsurfer/repos",
      "events_url": "https://api.github.com/users/flexsurfer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/flexsurfer/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-06T09:29:46Z",
    "updated_at": "2022-06-06T09:29:46Z",
    "author_association": "MEMBER",
    "body": "there is reanimated 3 is coming, so worth waiting and use it ",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1147249967/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1147290270",
    "html_url": "https://github.com/status-im/status-mobile/issues/13452#issuecomment-1147290270",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/13452",
    "id": 1147290270,
    "node_id": "IC_kwDOAx4p2c5EYkKe",
    "user": {
      "login": "Parveshdhull",
      "id": 17097240,
      "node_id": "MDQ6VXNlcjE3MDk3MjQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/17097240?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Parveshdhull",
      "html_url": "https://github.com/Parveshdhull",
      "followers_url": "https://api.github.com/users/Parveshdhull/followers",
      "following_url": "https://api.github.com/users/Parveshdhull/following{/other_user}",
      "gists_url": "https://api.github.com/users/Parveshdhull/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Parveshdhull/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Parveshdhull/subscriptions",
      "organizations_url": "https://api.github.com/users/Parveshdhull/orgs",
      "repos_url": "https://api.github.com/users/Parveshdhull/repos",
      "events_url": "https://api.github.com/users/Parveshdhull/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Parveshdhull/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-06T10:17:50Z",
    "updated_at": "2022-06-06T10:17:50Z",
    "author_association": "MEMBER",
    "body": "Yes, [Reanimated 3](https://blog.swmansion.com/announcing-reanimated-3-16167428c5f7) looks great. But I think we have to skip using this for now.\r\n> Reanimated 3 will no longer include support for legacy Reanimated 1 API\r\n\r\nAnd also it will most probably will require higher versions of gradle and gradle plugin.\r\n(We should look into upgrading them, they are becoming blocker for several upgrades now)",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1147290270/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1147441164",
    "html_url": "https://github.com/status-im/status-mobile/issues/13452#issuecomment-1147441164",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/13452",
    "id": 1147441164,
    "node_id": "IC_kwDOAx4p2c5EZJAM",
    "user": {
      "login": "Parveshdhull",
      "id": 17097240,
      "node_id": "MDQ6VXNlcjE3MDk3MjQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/17097240?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Parveshdhull",
      "html_url": "https://github.com/Parveshdhull",
      "followers_url": "https://api.github.com/users/Parveshdhull/followers",
      "following_url": "https://api.github.com/users/Parveshdhull/following{/other_user}",
      "gists_url": "https://api.github.com/users/Parveshdhull/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Parveshdhull/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Parveshdhull/subscriptions",
      "organizations_url": "https://api.github.com/users/Parveshdhull/orgs",
      "repos_url": "https://api.github.com/users/Parveshdhull/repos",
      "events_url": "https://api.github.com/users/Parveshdhull/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Parveshdhull/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-06T13:21:49Z",
    "updated_at": "2022-06-06T13:21:49Z",
    "author_association": "MEMBER",
    "body": "Another solution:  https://stackoverflow.com/a/72513996/7475429",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1147441164/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1149272037",
    "html_url": "https://github.com/status-im/status-mobile/issues/13452#issuecomment-1149272037",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/13452",
    "id": 1149272037,
    "node_id": "IC_kwDOAx4p2c5EgH_l",
    "user": {
      "login": "Parveshdhull",
      "id": 17097240,
      "node_id": "MDQ6VXNlcjE3MDk3MjQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/17097240?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Parveshdhull",
      "html_url": "https://github.com/Parveshdhull",
      "followers_url": "https://api.github.com/users/Parveshdhull/followers",
      "following_url": "https://api.github.com/users/Parveshdhull/following{/other_user}",
      "gists_url": "https://api.github.com/users/Parveshdhull/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Parveshdhull/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Parveshdhull/subscriptions",
      "organizations_url": "https://api.github.com/users/Parveshdhull/orgs",
      "repos_url": "https://api.github.com/users/Parveshdhull/repos",
      "events_url": "https://api.github.com/users/Parveshdhull/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Parveshdhull/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-07T23:29:49Z",
    "updated_at": "2022-06-08T00:33:31Z",
    "author_association": "MEMBER",
    "body": "> Another solution: https://stackoverflow.com/a/72513996/7475429\r\n\r\nSo, I tried creating a separate Javascript file as mentioned in [stackoverflow](https://stackoverflow.com/a/72513996/7475429) answer for the \"worklets\" and the app still crashed with the same error. I tried both with or without \"directive\" keyword and both time crashed.\r\n\r\n For testing purposes, I created a simple react-native project, and with \"directive\" it worked but without it crashed with the exact error as above.\r\n\r\nSo, I think in shadow-cljs project adding directives not working even in the js file. Maybe the working of babel plugin not only affected by file type but also by project type. ",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1149272037/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1149322458",
    "html_url": "https://github.com/status-im/status-mobile/issues/13452#issuecomment-1149322458",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/13452",
    "id": 1149322458,
    "node_id": "IC_kwDOAx4p2c5EgUTa",
    "user": {
      "login": "Parveshdhull",
      "id": 17097240,
      "node_id": "MDQ6VXNlcjE3MDk3MjQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/17097240?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Parveshdhull",
      "html_url": "https://github.com/Parveshdhull",
      "followers_url": "https://api.github.com/users/Parveshdhull/followers",
      "following_url": "https://api.github.com/users/Parveshdhull/following{/other_user}",
      "gists_url": "https://api.github.com/users/Parveshdhull/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Parveshdhull/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Parveshdhull/subscriptions",
      "organizations_url": "https://api.github.com/users/Parveshdhull/orgs",
      "repos_url": "https://api.github.com/users/Parveshdhull/repos",
      "events_url": "https://api.github.com/users/Parveshdhull/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Parveshdhull/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-08T00:46:09Z",
    "updated_at": "2022-06-08T00:47:07Z",
    "author_association": "MEMBER",
    "body": "The real magic behind the conversion of a regular function to a `worklet` is being handled by [makeWorklet](https://github.com/software-mansion/react-native-reanimated/blob/b4ee4ea9a1f246c461dd1819c6f3d48440a25756/plugin.js#L337) function of the reanimated plugin. Maybe we can directly implement this function in cljs?",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1149322458/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1149588903",
    "html_url": "https://github.com/status-im/status-mobile/issues/13452#issuecomment-1149588903",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/13452",
    "id": 1149588903,
    "node_id": "IC_kwDOAx4p2c5EhVWn",
    "user": {
      "login": "flexsurfer",
      "id": 11790366,
      "node_id": "MDQ6VXNlcjExNzkwMzY2",
      "avatar_url": "https://avatars.githubusercontent.com/u/11790366?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/flexsurfer",
      "html_url": "https://github.com/flexsurfer",
      "followers_url": "https://api.github.com/users/flexsurfer/followers",
      "following_url": "https://api.github.com/users/flexsurfer/following{/other_user}",
      "gists_url": "https://api.github.com/users/flexsurfer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/flexsurfer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/flexsurfer/subscriptions",
      "organizations_url": "https://api.github.com/users/flexsurfer/orgs",
      "repos_url": "https://api.github.com/users/flexsurfer/repos",
      "events_url": "https://api.github.com/users/flexsurfer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/flexsurfer/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-08T07:58:02Z",
    "updated_at": "2022-06-08T07:58:02Z",
    "author_association": "MEMBER",
    "body": "https://stackoverflow.com/questions/72500152/how-to-use-reanimated-worklet-directive-in-clojurescript",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1149588903/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1149590467",
    "html_url": "https://github.com/status-im/status-mobile/issues/13452#issuecomment-1149590467",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/13452",
    "id": 1149590467,
    "node_id": "IC_kwDOAx4p2c5EhVvD",
    "user": {
      "login": "flexsurfer",
      "id": 11790366,
      "node_id": "MDQ6VXNlcjExNzkwMzY2",
      "avatar_url": "https://avatars.githubusercontent.com/u/11790366?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/flexsurfer",
      "html_url": "https://github.com/flexsurfer",
      "followers_url": "https://api.github.com/users/flexsurfer/followers",
      "following_url": "https://api.github.com/users/flexsurfer/following{/other_user}",
      "gists_url": "https://api.github.com/users/flexsurfer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/flexsurfer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/flexsurfer/subscriptions",
      "organizations_url": "https://api.github.com/users/flexsurfer/orgs",
      "repos_url": "https://api.github.com/users/flexsurfer/repos",
      "events_url": "https://api.github.com/users/flexsurfer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/flexsurfer/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-08T07:59:47Z",
    "updated_at": "2022-06-08T07:59:47Z",
    "author_association": "MEMBER",
    "body": "i feel like all that reanimated stuff doesn't feet well clojurescript, a lot of interop, hooks hacks etc, so probably we should find a way how we could do it in plain js ?",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1149590467/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1149591810",
    "html_url": "https://github.com/status-im/status-mobile/issues/13452#issuecomment-1149591810",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/13452",
    "id": 1149591810,
    "node_id": "IC_kwDOAx4p2c5EhWEC",
    "user": {
      "login": "flexsurfer",
      "id": 11790366,
      "node_id": "MDQ6VXNlcjExNzkwMzY2",
      "avatar_url": "https://avatars.githubusercontent.com/u/11790366?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/flexsurfer",
      "html_url": "https://github.com/flexsurfer",
      "followers_url": "https://api.github.com/users/flexsurfer/followers",
      "following_url": "https://api.github.com/users/flexsurfer/following{/other_user}",
      "gists_url": "https://api.github.com/users/flexsurfer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/flexsurfer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/flexsurfer/subscriptions",
      "organizations_url": "https://api.github.com/users/flexsurfer/orgs",
      "repos_url": "https://api.github.com/users/flexsurfer/repos",
      "events_url": "https://api.github.com/users/flexsurfer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/flexsurfer/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-08T08:01:12Z",
    "updated_at": "2022-06-08T08:01:12Z",
    "author_association": "MEMBER",
    "body": "i believe @chrispader had all these issues here https://github.com/status-im/status-react/pull/13386 , would be great to hear his opinion ",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1149591810/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1149593852",
    "html_url": "https://github.com/status-im/status-mobile/issues/13452#issuecomment-1149593852",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/13452",
    "id": 1149593852,
    "node_id": "IC_kwDOAx4p2c5EhWj8",
    "user": {
      "login": "flexsurfer",
      "id": 11790366,
      "node_id": "MDQ6VXNlcjExNzkwMzY2",
      "avatar_url": "https://avatars.githubusercontent.com/u/11790366?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/flexsurfer",
      "html_url": "https://github.com/flexsurfer",
      "followers_url": "https://api.github.com/users/flexsurfer/followers",
      "following_url": "https://api.github.com/users/flexsurfer/following{/other_user}",
      "gists_url": "https://api.github.com/users/flexsurfer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/flexsurfer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/flexsurfer/subscriptions",
      "organizations_url": "https://api.github.com/users/flexsurfer/orgs",
      "repos_url": "https://api.github.com/users/flexsurfer/repos",
      "events_url": "https://api.github.com/users/flexsurfer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/flexsurfer/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-08T08:03:20Z",
    "updated_at": "2022-06-08T08:03:20Z",
    "author_association": "MEMBER",
    "body": "probably we could do all animation code in js and just pass cljs components (views ) as a parameter (child)",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1149593852/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1149633935",
    "html_url": "https://github.com/status-im/status-mobile/issues/13452#issuecomment-1149633935",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/13452",
    "id": 1149633935,
    "node_id": "IC_kwDOAx4p2c5EhgWP",
    "user": {
      "login": "flexsurfer",
      "id": 11790366,
      "node_id": "MDQ6VXNlcjExNzkwMzY2",
      "avatar_url": "https://avatars.githubusercontent.com/u/11790366?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/flexsurfer",
      "html_url": "https://github.com/flexsurfer",
      "followers_url": "https://api.github.com/users/flexsurfer/followers",
      "following_url": "https://api.github.com/users/flexsurfer/following{/other_user}",
      "gists_url": "https://api.github.com/users/flexsurfer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/flexsurfer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/flexsurfer/subscriptions",
      "organizations_url": "https://api.github.com/users/flexsurfer/orgs",
      "repos_url": "https://api.github.com/users/flexsurfer/repos",
      "events_url": "https://api.github.com/users/flexsurfer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/flexsurfer/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-08T08:43:38Z",
    "updated_at": "2022-06-08T08:43:38Z",
    "author_association": "MEMBER",
    "body": "actually, i feel like we need to move quo2 in the separate library in plain js, so we'll have syles, components, and all animations in the separate js library, so other js devs could work on it and use it in their projects, wdyt ?",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1149633935/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1149805098",
    "html_url": "https://github.com/status-im/status-mobile/issues/13452#issuecomment-1149805098",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/13452",
    "id": 1149805098,
    "node_id": "IC_kwDOAx4p2c5EiKIq",
    "user": {
      "login": "Parveshdhull",
      "id": 17097240,
      "node_id": "MDQ6VXNlcjE3MDk3MjQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/17097240?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Parveshdhull",
      "html_url": "https://github.com/Parveshdhull",
      "followers_url": "https://api.github.com/users/Parveshdhull/followers",
      "following_url": "https://api.github.com/users/Parveshdhull/following{/other_user}",
      "gists_url": "https://api.github.com/users/Parveshdhull/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Parveshdhull/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Parveshdhull/subscriptions",
      "organizations_url": "https://api.github.com/users/Parveshdhull/orgs",
      "repos_url": "https://api.github.com/users/Parveshdhull/repos",
      "events_url": "https://api.github.com/users/Parveshdhull/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Parveshdhull/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-08T11:39:14Z",
    "updated_at": "2022-06-08T11:49:07Z",
    "author_association": "MEMBER",
    "body": "> actually, i feel like we need to move quo2 in the separate library in plain js, so we'll have syles, components, and all animations in the separate js library, so other js devs could work on it and use it in their projects, wdyt ?\r\n\r\nWe are just using `react-native` components and polishing with styles as per our use case, I am not sure how much it will be useful for other projects. \r\n\r\nI guess it will be somewhat easy for new contributors to contribute, but still not sure if it is worth it.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1149805098/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1150540973",
    "html_url": "https://github.com/status-im/status-mobile/issues/13452#issuecomment-1150540973",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/13452",
    "id": 1150540973,
    "node_id": "IC_kwDOAx4p2c5Ek9yt",
    "user": {
      "login": "Parveshdhull",
      "id": 17097240,
      "node_id": "MDQ6VXNlcjE3MDk3MjQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/17097240?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Parveshdhull",
      "html_url": "https://github.com/Parveshdhull",
      "followers_url": "https://api.github.com/users/Parveshdhull/followers",
      "following_url": "https://api.github.com/users/Parveshdhull/following{/other_user}",
      "gists_url": "https://api.github.com/users/Parveshdhull/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Parveshdhull/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Parveshdhull/subscriptions",
      "organizations_url": "https://api.github.com/users/Parveshdhull/orgs",
      "repos_url": "https://api.github.com/users/Parveshdhull/repos",
      "events_url": "https://api.github.com/users/Parveshdhull/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Parveshdhull/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-09T00:23:07Z",
    "updated_at": "2022-06-09T00:23:07Z",
    "author_association": "MEMBER",
    "body": "> > Another solution: https://stackoverflow.com/a/72513996/7475429\r\n> \r\n> So, I tried creating a separate Javascript file as mentioned in [stackoverflow](https://stackoverflow.com/a/72513996/7475429) answer for the \"worklets\" and the app still crashed with the same error. I tried both with or without \"directive\" keyword and both time crashed.\r\n> \r\n> For testing purposes, I created a simple react-native project, and with \"directive\" it worked but without it crashed with the exact error as above.\r\n> \r\n> So, I think in shadow-cljs project adding directives not working even in the js file. Maybe the working of babel plugin not only affected by file type but also by project type.\r\n\r\nUsing Javascript file for storing `worklet directives` worked.\r\nProblem was for importing `js` file, I was using `:require` and file was being processed by `shadow-cljs` and directive didn't worked. But after using `js/require` file first went through metro and `directive` worked.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1150540973/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1151218723",
    "html_url": "https://github.com/status-im/status-mobile/issues/13452#issuecomment-1151218723",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/13452",
    "id": 1151218723,
    "node_id": "IC_kwDOAx4p2c5EnjQj",
    "user": {
      "login": "chrispader",
      "id": 20173411,
      "node_id": "MDQ6VXNlcjIwMTczNDEx",
      "avatar_url": "https://avatars.githubusercontent.com/u/20173411?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chrispader",
      "html_url": "https://github.com/chrispader",
      "followers_url": "https://api.github.com/users/chrispader/followers",
      "following_url": "https://api.github.com/users/chrispader/following{/other_user}",
      "gists_url": "https://api.github.com/users/chrispader/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chrispader/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chrispader/subscriptions",
      "organizations_url": "https://api.github.com/users/chrispader/orgs",
      "repos_url": "https://api.github.com/users/chrispader/repos",
      "events_url": "https://api.github.com/users/chrispader/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chrispader/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-09T14:48:42Z",
    "updated_at": "2022-06-09T14:48:42Z",
    "author_association": "CONTRIBUTOR",
    "body": "Extracting animations completely to a separate JS lib could be tricky i guess...\n\n@Parveshdhull how did you manage to create worklets within CLJS now?\n\nI was generally also struggling with using hooks within ClojureScript. Is there some elegant way of doing this?",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1151218723/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1151219507",
    "html_url": "https://github.com/status-im/status-mobile/issues/13452#issuecomment-1151219507",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/13452",
    "id": 1151219507,
    "node_id": "IC_kwDOAx4p2c5Enjcz",
    "user": {
      "login": "chrispader",
      "id": 20173411,
      "node_id": "MDQ6VXNlcjIwMTczNDEx",
      "avatar_url": "https://avatars.githubusercontent.com/u/20173411?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chrispader",
      "html_url": "https://github.com/chrispader",
      "followers_url": "https://api.github.com/users/chrispader/followers",
      "following_url": "https://api.github.com/users/chrispader/following{/other_user}",
      "gists_url": "https://api.github.com/users/chrispader/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chrispader/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chrispader/subscriptions",
      "organizations_url": "https://api.github.com/users/chrispader/orgs",
      "repos_url": "https://api.github.com/users/chrispader/repos",
      "events_url": "https://api.github.com/users/chrispader/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chrispader/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-09T14:49:22Z",
    "updated_at": "2022-06-09T14:49:22Z",
    "author_association": "CONTRIBUTOR",
    "body": "Especially reanimated-v2 hooks.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1151219507/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1151739333",
    "html_url": "https://github.com/status-im/status-mobile/issues/13452#issuecomment-1151739333",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/13452",
    "id": 1151739333,
    "node_id": "IC_kwDOAx4p2c5EpiXF",
    "user": {
      "login": "Parveshdhull",
      "id": 17097240,
      "node_id": "MDQ6VXNlcjE3MDk3MjQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/17097240?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Parveshdhull",
      "html_url": "https://github.com/Parveshdhull",
      "followers_url": "https://api.github.com/users/Parveshdhull/followers",
      "following_url": "https://api.github.com/users/Parveshdhull/following{/other_user}",
      "gists_url": "https://api.github.com/users/Parveshdhull/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Parveshdhull/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Parveshdhull/subscriptions",
      "organizations_url": "https://api.github.com/users/Parveshdhull/orgs",
      "repos_url": "https://api.github.com/users/Parveshdhull/repos",
      "events_url": "https://api.github.com/users/Parveshdhull/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Parveshdhull/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-10T00:17:50Z",
    "updated_at": "2022-06-10T00:17:50Z",
    "author_association": "MEMBER",
    "body": "> Extracting animations completely to a separate JS lib could be tricky i guess...\r\n\r\nI don't think we need to extract whole animations. We are only facing problems with `worklets` (because of directives),  so I think we should only create them in the `js`. \r\n\r\n> how did you manage to create worklets within CLJS now?\r\n\r\n[[WIP]: Use reanimated v2 for switcher animations](https://github.com/status-im/status-react/pull/13470)\r\n\r\n> I was generally also struggling with using hooks within ClojureScript. Is there some elegant way of doing this?\r\n\r\nBy default, the reagent will convert hiccup vectors into class components, while Hooks only work with functional components. You can find more details on how to create a Functional component in CLJS in this reagent Doc. https://github.com/reagent-project/reagent/blob/master/doc/ReactFeatures.md#function-components",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1151739333/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1159800179",
    "html_url": "https://github.com/status-im/status-mobile/issues/13452#issuecomment-1159800179",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/13452",
    "id": 1159800179,
    "node_id": "IC_kwDOAx4p2c5FISVz",
    "user": {
      "login": "Parveshdhull",
      "id": 17097240,
      "node_id": "MDQ6VXNlcjE3MDk3MjQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/17097240?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Parveshdhull",
      "html_url": "https://github.com/Parveshdhull",
      "followers_url": "https://api.github.com/users/Parveshdhull/followers",
      "following_url": "https://api.github.com/users/Parveshdhull/following{/other_user}",
      "gists_url": "https://api.github.com/users/Parveshdhull/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Parveshdhull/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Parveshdhull/subscriptions",
      "organizations_url": "https://api.github.com/users/Parveshdhull/orgs",
      "repos_url": "https://api.github.com/users/Parveshdhull/repos",
      "events_url": "https://api.github.com/users/Parveshdhull/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Parveshdhull/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-19T19:50:56Z",
    "updated_at": "2022-06-19T19:50:56Z",
    "author_association": "MEMBER",
    "body": "After implementing `worklet` in javascript file animating components styles is working without any issues.\r\n\r\nBut for [Layout Animations](https://docs.swmansion.com/react-native-reanimated/docs/fundamentals/layout_animations) the app is crashing with the error [\"Trying to resolve view with tag ## which doesn't exist\"](https://github.com/software-mansion/react-native-reanimated/issues/3011) which is known issue and fixed in [PR:2982](https://github.com/software-mansion/react-native-reanimated/pull/2982) and fix released in [2.5.0](https://github.com/software-mansion/react-native-reanimated/releases/tag/2.5.0\r\n)\r\n\r\nThis error only occurs in version 2.4.0, because of PR ([Changed default ViewState](https://github.com/software-mansion/react-native-reanimated/pull/2802)).\r\n\r\nCurrently for making Layout Animations work without upgrading to 2.5.0, I downgraded library to 2.3.0 and enabled layout animations manually, by calling \r\n```\r\nenableLayoutAnimations(true);\r\n```\r\nWe need to enable this manually to properly render layouts because of PR [Disable by default layout animation](https://github.com/software-mansion/react-native-reanimated/pull/2651)\r\n\r\n(This is temporary workaround, we should upgrade library to 2.5.0 or higher)\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1159800179/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1159800641",
    "html_url": "https://github.com/status-im/status-mobile/issues/13452#issuecomment-1159800641",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/13452",
    "id": 1159800641,
    "node_id": "IC_kwDOAx4p2c5FISdB",
    "user": {
      "login": "Parveshdhull",
      "id": 17097240,
      "node_id": "MDQ6VXNlcjE3MDk3MjQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/17097240?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Parveshdhull",
      "html_url": "https://github.com/Parveshdhull",
      "followers_url": "https://api.github.com/users/Parveshdhull/followers",
      "following_url": "https://api.github.com/users/Parveshdhull/following{/other_user}",
      "gists_url": "https://api.github.com/users/Parveshdhull/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Parveshdhull/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Parveshdhull/subscriptions",
      "organizations_url": "https://api.github.com/users/Parveshdhull/orgs",
      "repos_url": "https://api.github.com/users/Parveshdhull/repos",
      "events_url": "https://api.github.com/users/Parveshdhull/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Parveshdhull/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-19T19:54:15Z",
    "updated_at": "2022-06-19T20:02:27Z",
    "author_association": "MEMBER",
    "body": "### Upgrade to react-native-reanimated 2.5.0\r\n\r\nAfter upgrading to react-native-ranimatied to 2.5.0, it is giving error\r\n```\r\n* What went wrong:\r\nA problem occurred configuring project ':react-native-reanimated'.\r\n> Could not resolve all artifacts for configuration ':react-native-reanimated:classpath'.\r\n   > Could not find com.android.tools.build:gradle:4.2.2.\r\n```\r\nThanks to script `add_package.sh` created by @jakubgs in https://github.com/status-im/status-react/pull/13455, this error gets fixed but another error pops up  while calling `make run-android` (originally reported by @flexsurfer)\r\n\r\n```\r\n* What went wrong:\r\nCould not determine the dependencies of task ':react-native-reanimated:mergeDebugNativeLibs'.\r\n> com.android.builder.sdk.InstallFailedException: Failed to install the following SDK components:\r\n      cmake;3.6.4111459 CMake 3.6.4111459\r\n  The SDK directory is not writable (/nix/store/3vckfk09zy450m1kz5k1cdggh0555ik4-androidsdk-mod-sdk)\r\n```\r\n> Above logs copied from @flexsurfer's message on discord, because I am unable to reproduce this error second time due to another error, given below\r\n\r\nI also tried calling `sudo chown -R $(whoami) $ANDROID_HOME` but that didn't helped.\r\n\r\nAlso, while calling `add_package.sh` second time, this error shows, (not sure if it is due to my chown command or something else)\r\n\r\n```\r\n[nix-shell:~/Desktop/ArchFiles/React/status-react]$ nix/deps/gradle/add_package.sh com.android.tools.build:gradle:4.2.2\r\nRegenerating Nix files...\r\n./gradlew: line 25: exec: gradle: not found\r\n```\r\n\r\n> Reproduction Steps:\r\n> - yarn add react-native-reanimated@2.5.0\r\n> - nix/deps/gradle/add_package.sh com.android.tools.build:gradle:4.2.2\r\n> - make run-android",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1159800641/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1160064543",
    "html_url": "https://github.com/status-im/status-mobile/issues/13452#issuecomment-1160064543",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/13452",
    "id": 1160064543,
    "node_id": "IC_kwDOAx4p2c5FJS4f",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-20T07:15:43Z",
    "updated_at": "2022-06-20T07:15:43Z",
    "author_association": "MEMBER",
    "body": "1. The `The SDK directory is not writable` is just a warning, it's irrelevant.\r\n2. The `chown` on `ANDROID_HOME` has no meaning since `/nix/store` permissions are unchangeable.\r\n3. The actual error is about `cmake;3.6.4111459`. The cmake version we use, have nave used for a long time is:\r\n    https://github.com/status-im/status-react/blob/62a3ed6138e1f86b55863e16a694a2a629e39f7f/nix/pkgs/android-sdk/compose.nix#L15\r\n4. Lack of gradle can just mean you were in the wrong kind of shell, like `default` shell instead of `android` or `gradle` shells.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1160064543/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1162535643",
    "html_url": "https://github.com/status-im/status-mobile/issues/13452#issuecomment-1162535643",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/13452",
    "id": 1162535643,
    "node_id": "IC_kwDOAx4p2c5FSuLb",
    "user": {
      "login": "Parveshdhull",
      "id": 17097240,
      "node_id": "MDQ6VXNlcjE3MDk3MjQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/17097240?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Parveshdhull",
      "html_url": "https://github.com/Parveshdhull",
      "followers_url": "https://api.github.com/users/Parveshdhull/followers",
      "following_url": "https://api.github.com/users/Parveshdhull/following{/other_user}",
      "gists_url": "https://api.github.com/users/Parveshdhull/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Parveshdhull/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Parveshdhull/subscriptions",
      "organizations_url": "https://api.github.com/users/Parveshdhull/orgs",
      "repos_url": "https://api.github.com/users/Parveshdhull/repos",
      "events_url": "https://api.github.com/users/Parveshdhull/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Parveshdhull/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-22T01:57:26Z",
    "updated_at": "2022-06-22T01:57:26Z",
    "author_association": "MEMBER",
    "body": "Hi @jakubgs, yes using `make shell TARGET=android` fixed the 4th issue, but even after changing cmakeVersion to `3.6.4111459` in `status-react/nix/pkgs/android-sdk/compose.nix`, it still giving same error",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1162535643/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1162748959",
    "html_url": "https://github.com/status-im/status-mobile/issues/13452#issuecomment-1162748959",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/13452",
    "id": 1162748959,
    "node_id": "IC_kwDOAx4p2c5FTiQf",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-22T07:28:49Z",
    "updated_at": "2022-06-22T07:28:49Z",
    "author_association": "MEMBER",
    "body": "You shouldn't be changing the cmake version. Also, why would a newer version of `react-native-reanimated` require much older version of cmake? Makes no sense to me. That error looks like you fucked up `nix/deps/gradle` in some way and that cause the Nix shell to become incomplete in some way.\r\n\r\nI ran `make nix-update-gradle` myself on your `fix/use-reanimated-v2-for-switcher-animations` branch and it worked fine, and I also built an Android APK using `make release-android` without issues.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1162748959/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1162769149",
    "html_url": "https://github.com/status-im/status-mobile/issues/13452#issuecomment-1162769149",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/13452",
    "id": 1162769149,
    "node_id": "IC_kwDOAx4p2c5FTnL9",
    "user": {
      "login": "flexsurfer",
      "id": 11790366,
      "node_id": "MDQ6VXNlcjExNzkwMzY2",
      "avatar_url": "https://avatars.githubusercontent.com/u/11790366?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/flexsurfer",
      "html_url": "https://github.com/flexsurfer",
      "followers_url": "https://api.github.com/users/flexsurfer/followers",
      "following_url": "https://api.github.com/users/flexsurfer/following{/other_user}",
      "gists_url": "https://api.github.com/users/flexsurfer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/flexsurfer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/flexsurfer/subscriptions",
      "organizations_url": "https://api.github.com/users/flexsurfer/orgs",
      "repos_url": "https://api.github.com/users/flexsurfer/repos",
      "events_url": "https://api.github.com/users/flexsurfer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/flexsurfer/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-22T07:49:59Z",
    "updated_at": "2022-06-22T07:49:59Z",
    "author_association": "MEMBER",
    "body": "i should admit, that this happens only when you use new script `add_package.sh`, if add gradle version manually it works fine ",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1162769149/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1162870682",
    "html_url": "https://github.com/status-im/status-mobile/issues/13452#issuecomment-1162870682",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/13452",
    "id": 1162870682,
    "node_id": "IC_kwDOAx4p2c5FT_-a",
    "user": {
      "login": "Parveshdhull",
      "id": 17097240,
      "node_id": "MDQ6VXNlcjE3MDk3MjQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/17097240?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Parveshdhull",
      "html_url": "https://github.com/Parveshdhull",
      "followers_url": "https://api.github.com/users/Parveshdhull/followers",
      "following_url": "https://api.github.com/users/Parveshdhull/following{/other_user}",
      "gists_url": "https://api.github.com/users/Parveshdhull/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Parveshdhull/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Parveshdhull/subscriptions",
      "organizations_url": "https://api.github.com/users/Parveshdhull/orgs",
      "repos_url": "https://api.github.com/users/Parveshdhull/repos",
      "events_url": "https://api.github.com/users/Parveshdhull/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Parveshdhull/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-22T09:31:14Z",
    "updated_at": "2022-06-22T09:31:14Z",
    "author_association": "MEMBER",
    "body": "> I ran `make nix-update-gradle` myself on your `fix/use-reanimated-v2-for-switcher-animations` branch and it worked fine, and I also built an Android APK using `make release-android` without issues.\r\n\r\n`fix/use-reanimated-v2-for-switcher-animations` is currently using reanimated version `2.3.3`, that's why no errors.\r\n\r\n### Error Reproduction step:\r\n- yarn add react-native-reanimated@2.5.0\r\n- make shell TARGET=android\r\n- nix/deps/gradle/add_package.sh com.android.tools.build:gradle:4.2.2\r\n- make run-android",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1162870682/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1162894748",
    "html_url": "https://github.com/status-im/status-mobile/issues/13452#issuecomment-1162894748",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/13452",
    "id": 1162894748,
    "node_id": "IC_kwDOAx4p2c5FUF2c",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-22T09:55:40Z",
    "updated_at": "2022-06-22T09:56:14Z",
    "author_association": "MEMBER",
    "body": "Heh, that can't work my dude, look at this table:\r\n\r\nPlugin version | Required Gradle version\r\n-- | --\r\n3.4.0 - 3.4.3 | 5.1.1+\r\n3.5.0 - 3.5.4 | 5.4.1+\r\n3.6.0 - 3.6.4 | 5.6.4+\r\n4.0.0+ | 6.1.1+\r\n4.1.0+ | 6.5+\r\n__4.2.0+__ | __6.7.1+__\r\n7.0 | 7.0+\r\n7.1 | 7.2+\r\n7.2 | 7.3.3+\r\n\r\nhttps://developer.android.com/studio/releases/gradle-plugin\r\n\r\nYou can't use Gradle plugin `4.2.2` with Gradle version 5:\r\nhttps://github.com/status-im/status-react/blob/78033eedc983e3e2d425e2182d4e94943f21f1e3/nix/overlay.nix#L36\r\nI'd expect @flexsurfer to know this already :D.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1162894748/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 1,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
