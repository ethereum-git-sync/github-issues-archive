{
  "url": "https://api.github.com/repos/status-im/status-mobile/issues/13615",
  "repository_url": "https://api.github.com/repos/status-im/status-mobile",
  "labels_url": "https://api.github.com/repos/status-im/status-mobile/issues/13615/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-mobile/issues/13615/comments",
  "events_url": "https://api.github.com/repos/status-im/status-mobile/issues/13615/events",
  "html_url": "https://github.com/status-im/status-mobile/issues/13615",
  "id": 1292199322,
  "node_id": "I_kwDOAx4p2c5NBWWa",
  "number": 13615,
  "title": "Opensea sign up flow doesn't work with Wallet Connect (keycard)",
  "user": {
    "login": "D4nte",
    "id": 300805,
    "node_id": "MDQ6VXNlcjMwMDgwNQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/300805?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/D4nte",
    "html_url": "https://github.com/D4nte",
    "followers_url": "https://api.github.com/users/D4nte/followers",
    "following_url": "https://api.github.com/users/D4nte/following{/other_user}",
    "gists_url": "https://api.github.com/users/D4nte/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/D4nte/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/D4nte/subscriptions",
    "organizations_url": "https://api.github.com/users/D4nte/orgs",
    "repos_url": "https://api.github.com/users/D4nte/repos",
    "events_url": "https://api.github.com/users/D4nte/events{/privacy}",
    "received_events_url": "https://api.github.com/users/D4nte/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 330296931,
      "node_id": "MDU6TGFiZWwzMzAyOTY5MzE=",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/bug",
      "name": "bug",
      "color": "fc2929",
      "default": true,
      "description": null
    },
    {
      "id": 1055506461,
      "node_id": "MDU6TGFiZWwxMDU1NTA2NDYx",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/keycard",
      "name": "keycard",
      "color": "4360df",
      "default": false,
      "description": ""
    },
    {
      "id": 3990911030,
      "node_id": "LA_kwDOAx4p2c7t4Hg2",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/E:Bugfixes",
      "name": "E:Bugfixes",
      "color": "32BD0C",
      "default": false,
      "description": ""
    },
    {
      "id": 4052434555,
      "node_id": "LA_kwDOAx4p2c7xiz57",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/E:Keycard",
      "name": "E:Keycard",
      "color": "4B1B43",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "bitgamma",
    "id": 12899729,
    "node_id": "MDQ6VXNlcjEyODk5NzI5",
    "avatar_url": "https://avatars.githubusercontent.com/u/12899729?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/bitgamma",
    "html_url": "https://github.com/bitgamma",
    "followers_url": "https://api.github.com/users/bitgamma/followers",
    "following_url": "https://api.github.com/users/bitgamma/following{/other_user}",
    "gists_url": "https://api.github.com/users/bitgamma/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/bitgamma/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/bitgamma/subscriptions",
    "organizations_url": "https://api.github.com/users/bitgamma/orgs",
    "repos_url": "https://api.github.com/users/bitgamma/repos",
    "events_url": "https://api.github.com/users/bitgamma/events{/privacy}",
    "received_events_url": "https://api.github.com/users/bitgamma/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "bitgamma",
      "id": 12899729,
      "node_id": "MDQ6VXNlcjEyODk5NzI5",
      "avatar_url": "https://avatars.githubusercontent.com/u/12899729?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bitgamma",
      "html_url": "https://github.com/bitgamma",
      "followers_url": "https://api.github.com/users/bitgamma/followers",
      "following_url": "https://api.github.com/users/bitgamma/following{/other_user}",
      "gists_url": "https://api.github.com/users/bitgamma/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bitgamma/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bitgamma/subscriptions",
      "organizations_url": "https://api.github.com/users/bitgamma/orgs",
      "repos_url": "https://api.github.com/users/bitgamma/repos",
      "events_url": "https://api.github.com/users/bitgamma/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bitgamma/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 7,
  "created_at": "2022-07-03T03:53:30Z",
  "updated_at": "2022-11-29T08:11:16Z",
  "closed_at": "2022-07-05T16:19:15Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "# Bug Report\n\n\n## Problem \nAs part of Opensea sign up flow, you need to sign a message.\nWhen taping the 'accept and sign' button on opensea after going through the wallet connect sign flow, I signed the message using my keycard but then nothing happened \n\n\n#### Expected behavior\n\nOpensea gets the signature and finishes the sign up flow \n\n#### Actual behavior\n\nOnce signed, nothing happens \n\n### Reproduction\n\nSign up on Opensea using wallet connect and keycard\n\n### Additional Information\n\n- Status version: 1.19.0\n- Operating System: Android\n\n\nNote: impossible to use Opensea with Status, even in dapp browser.\n\n",
  "closed_by": {
    "login": "bitgamma",
    "id": 12899729,
    "node_id": "MDQ6VXNlcjEyODk5NzI5",
    "avatar_url": "https://avatars.githubusercontent.com/u/12899729?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/bitgamma",
    "html_url": "https://github.com/bitgamma",
    "followers_url": "https://api.github.com/users/bitgamma/followers",
    "following_url": "https://api.github.com/users/bitgamma/following{/other_user}",
    "gists_url": "https://api.github.com/users/bitgamma/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/bitgamma/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/bitgamma/subscriptions",
    "organizations_url": "https://api.github.com/users/bitgamma/orgs",
    "repos_url": "https://api.github.com/users/bitgamma/repos",
    "events_url": "https://api.github.com/users/bitgamma/events{/privacy}",
    "received_events_url": "https://api.github.com/users/bitgamma/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/13615/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-mobile/issues/13615/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1173861222",
    "html_url": "https://github.com/status-im/status-mobile/issues/13615#issuecomment-1173861222",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/13615",
    "id": 1173861222,
    "node_id": "IC_kwDOAx4p2c5F97Nm",
    "user": {
      "login": "churik",
      "id": 4557972,
      "node_id": "MDQ6VXNlcjQ1NTc5NzI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4557972?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/churik",
      "html_url": "https://github.com/churik",
      "followers_url": "https://api.github.com/users/churik/followers",
      "following_url": "https://api.github.com/users/churik/following{/other_user}",
      "gists_url": "https://api.github.com/users/churik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/churik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/churik/subscriptions",
      "organizations_url": "https://api.github.com/users/churik/orgs",
      "repos_url": "https://api.github.com/users/churik/repos",
      "events_url": "https://api.github.com/users/churik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/churik/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-04T14:05:13Z",
    "updated_at": "2022-07-04T14:05:13Z",
    "author_association": "MEMBER",
    "body": "After investigation, I found out that the issue is reproducible only with signing message from OpenSea using keycard.\r\nThe app connects fine using a password - could connect OpenSea and purchase NFT.\r\n\r\n**Steps:**\r\n- restore multiaccount from seed phrase and choose storage `Keycard`\r\n- enable wallet connect in `Advanced`\r\n- desktop (used chrome): open https://opensea.io/  -> Wallet connect\r\n- device: + > Scan QR from wallet connect\r\n- device: tap connect\r\n- desktop: Accept and sign\r\n- device: sign message \r\n\r\n**Expected result:**\r\nwallet is connected, Accept and sign popup is closed\r\n**Actual result:**\r\n\r\nDevice flow: \r\n\r\n\r\nnothing happens with  Accept and sign popup, if tap on cancel - the connection is dropped.\r\n\r\nhttps://user-images.githubusercontent.com/4557972/177170754-2577d1cc-57b3-443a-828a-bdf2cc8ce5c5.mp4\r\n\r\n\r\n![image](https://user-images.githubusercontent.com/4557972/177170395-895a56a2-3def-4b1d-aad8-9a93ab4409d7.png)\r\n\r\nLog: \r\n[geth.log](https://github.com/status-im/status-react/files/9040010/geth.log)\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1173861222/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1173864879",
    "html_url": "https://github.com/status-im/status-mobile/issues/13615#issuecomment-1173864879",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/13615",
    "id": 1173864879,
    "node_id": "IC_kwDOAx4p2c5F98Gv",
    "user": {
      "login": "churik",
      "id": 4557972,
      "node_id": "MDQ6VXNlcjQ1NTc5NzI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4557972?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/churik",
      "html_url": "https://github.com/churik",
      "followers_url": "https://api.github.com/users/churik/followers",
      "following_url": "https://api.github.com/users/churik/following{/other_user}",
      "gists_url": "https://api.github.com/users/churik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/churik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/churik/subscriptions",
      "organizations_url": "https://api.github.com/users/churik/orgs",
      "repos_url": "https://api.github.com/users/churik/repos",
      "events_url": "https://api.github.com/users/churik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/churik/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-04T14:08:42Z",
    "updated_at": "2022-07-04T14:08:42Z",
    "author_association": "MEMBER",
    "body": "cc @briansztamfater  @flexsurfer ",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1173864879/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1174466793",
    "html_url": "https://github.com/status-im/status-mobile/issues/13615#issuecomment-1174466793",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/13615",
    "id": 1174466793,
    "node_id": "IC_kwDOAx4p2c5GAPDp",
    "user": {
      "login": "D4nte",
      "id": 300805,
      "node_id": "MDQ6VXNlcjMwMDgwNQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/300805?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/D4nte",
      "html_url": "https://github.com/D4nte",
      "followers_url": "https://api.github.com/users/D4nte/followers",
      "following_url": "https://api.github.com/users/D4nte/following{/other_user}",
      "gists_url": "https://api.github.com/users/D4nte/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/D4nte/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/D4nte/subscriptions",
      "organizations_url": "https://api.github.com/users/D4nte/orgs",
      "repos_url": "https://api.github.com/users/D4nte/repos",
      "events_url": "https://api.github.com/users/D4nte/events{/privacy}",
      "received_events_url": "https://api.github.com/users/D4nte/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-05T00:04:37Z",
    "updated_at": "2022-07-05T00:04:37Z",
    "author_association": "NONE",
    "body": "Yep that's the one. Nice reproduction! üëçüëç",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1174466793/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1174817082",
    "html_url": "https://github.com/status-im/status-mobile/issues/13615#issuecomment-1174817082",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/13615",
    "id": 1174817082,
    "node_id": "IC_kwDOAx4p2c5GBkk6",
    "user": {
      "login": "bitgamma",
      "id": 12899729,
      "node_id": "MDQ6VXNlcjEyODk5NzI5",
      "avatar_url": "https://avatars.githubusercontent.com/u/12899729?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bitgamma",
      "html_url": "https://github.com/bitgamma",
      "followers_url": "https://api.github.com/users/bitgamma/followers",
      "following_url": "https://api.github.com/users/bitgamma/following{/other_user}",
      "gists_url": "https://api.github.com/users/bitgamma/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bitgamma/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bitgamma/subscriptions",
      "organizations_url": "https://api.github.com/users/bitgamma/orgs",
      "repos_url": "https://api.github.com/users/bitgamma/repos",
      "events_url": "https://api.github.com/users/bitgamma/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bitgamma/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-05T09:10:53Z",
    "updated_at": "2022-07-05T11:36:43Z",
    "author_association": "MEMBER",
    "body": "analysis so far (notes to self, but thought I'd share):\r\n\r\n* The reason the signup fail, is that the generated signature for the message is invalid. This only happens when signing with Keycard\r\n* Using the same Keycard account and https://example.walletconnect.org/ instead generates valid signatures (verified also through https://etherscan.io/verifiedSignatures#)\r\n* Signing the same exact text using etherscan.io generates a valid signature. Maybe there are some parameters which I have to check\r\n\r\nUPDATE:\r\n\r\nApparently the reason why the wrong signature is generated, is because OpenSea passes the address all lowercase instead of mixed case and makes a comparison fail, which in turns selects the wrong derivation path on card",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1174817082/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1178611993",
    "html_url": "https://github.com/status-im/status-mobile/issues/13615#issuecomment-1178611993",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/13615",
    "id": 1178611993,
    "node_id": "IC_kwDOAx4p2c5GQDEZ",
    "user": {
      "login": "D4nte",
      "id": 300805,
      "node_id": "MDQ6VXNlcjMwMDgwNQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/300805?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/D4nte",
      "html_url": "https://github.com/D4nte",
      "followers_url": "https://api.github.com/users/D4nte/followers",
      "following_url": "https://api.github.com/users/D4nte/following{/other_user}",
      "gists_url": "https://api.github.com/users/D4nte/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/D4nte/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/D4nte/subscriptions",
      "organizations_url": "https://api.github.com/users/D4nte/orgs",
      "repos_url": "https://api.github.com/users/D4nte/repos",
      "events_url": "https://api.github.com/users/D4nte/events{/privacy}",
      "received_events_url": "https://api.github.com/users/D4nte/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-08T06:38:30Z",
    "updated_at": "2022-07-08T06:38:30Z",
    "author_association": "NONE",
    "body": "Same issue with https://unstoppabledomains.com/auth where nothing happen after message being signed. Is it the same problem?",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1178611993/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1183053656",
    "html_url": "https://github.com/status-im/status-mobile/issues/13615#issuecomment-1183053656",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/13615",
    "id": 1183053656,
    "node_id": "IC_kwDOAx4p2c5Gg_dY",
    "user": {
      "login": "bitgamma",
      "id": 12899729,
      "node_id": "MDQ6VXNlcjEyODk5NzI5",
      "avatar_url": "https://avatars.githubusercontent.com/u/12899729?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bitgamma",
      "html_url": "https://github.com/bitgamma",
      "followers_url": "https://api.github.com/users/bitgamma/followers",
      "following_url": "https://api.github.com/users/bitgamma/following{/other_user}",
      "gists_url": "https://api.github.com/users/bitgamma/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bitgamma/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bitgamma/subscriptions",
      "organizations_url": "https://api.github.com/users/bitgamma/orgs",
      "repos_url": "https://api.github.com/users/bitgamma/repos",
      "events_url": "https://api.github.com/users/bitgamma/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bitgamma/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-13T10:32:12Z",
    "updated_at": "2022-07-13T10:32:12Z",
    "author_association": "MEMBER",
    "body": "it is probably the same, the bug would appaear basically with any dapp using WalletConnect + Keycard when signing stuff.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1183053656/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1330241416",
    "html_url": "https://github.com/status-im/status-mobile/issues/13615#issuecomment-1330241416",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/13615",
    "id": 1330241416,
    "node_id": "IC_kwDOAx4p2c5PSd-I",
    "user": {
      "login": "ECBSJ",
      "id": 61910547,
      "node_id": "MDQ6VXNlcjYxOTEwNTQ3",
      "avatar_url": "https://avatars.githubusercontent.com/u/61910547?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ECBSJ",
      "html_url": "https://github.com/ECBSJ",
      "followers_url": "https://api.github.com/users/ECBSJ/followers",
      "following_url": "https://api.github.com/users/ECBSJ/following{/other_user}",
      "gists_url": "https://api.github.com/users/ECBSJ/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ECBSJ/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ECBSJ/subscriptions",
      "organizations_url": "https://api.github.com/users/ECBSJ/orgs",
      "repos_url": "https://api.github.com/users/ECBSJ/repos",
      "events_url": "https://api.github.com/users/ECBSJ/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ECBSJ/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-11-29T08:11:15Z",
    "updated_at": "2022-11-29T08:11:15Z",
    "author_association": "NONE",
    "body": "The question that I'm wondering is...why does OpenSea even require the step of signing a message before using it? Before when connecting it with WalletConnect, I was never prompted with this step of signing some message...",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1330241416/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
