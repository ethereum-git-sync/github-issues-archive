{
  "url": "https://api.github.com/repos/status-im/status-mobile/issues/7244",
  "repository_url": "https://api.github.com/repos/status-im/status-mobile",
  "labels_url": "https://api.github.com/repos/status-im/status-mobile/issues/7244/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-mobile/issues/7244/comments",
  "events_url": "https://api.github.com/repos/status-im/status-mobile/issues/7244/events",
  "html_url": "https://github.com/status-im/status-mobile/issues/7244",
  "id": 397475286,
  "node_id": "MDU6SXNzdWUzOTc0NzUyODY=",
  "number": 7244,
  "title": "'Join chat' presented to user in any group chat after upgrade on to 0.9.33 release build",
  "user": {
    "login": "Serhy",
    "id": 8749671,
    "node_id": "MDQ6VXNlcjg3NDk2NzE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/8749671?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Serhy",
    "html_url": "https://github.com/Serhy",
    "followers_url": "https://api.github.com/users/Serhy/followers",
    "following_url": "https://api.github.com/users/Serhy/following{/other_user}",
    "gists_url": "https://api.github.com/users/Serhy/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Serhy/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Serhy/subscriptions",
    "organizations_url": "https://api.github.com/users/Serhy/orgs",
    "repos_url": "https://api.github.com/users/Serhy/repos",
    "events_url": "https://api.github.com/users/Serhy/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Serhy/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 330296931,
      "node_id": "MDU6TGFiZWwzMzAyOTY5MzE=",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/bug",
      "name": "bug",
      "color": "fc2929",
      "default": true,
      "description": null
    },
    {
      "id": 794860412,
      "node_id": "MDU6TGFiZWw3OTQ4NjA0MTI=",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/release",
      "name": "release",
      "color": "30dcff",
      "default": false,
      "description": null
    },
    {
      "id": 888219195,
      "node_id": "MDU6TGFiZWw4ODgyMTkxOTU=",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/group-chat",
      "name": "group-chat",
      "color": "ffb90a",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2019-01-09T17:26:59Z",
  "updated_at": "2019-01-10T10:14:27Z",
  "closed_at": "2019-01-10T10:14:26Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "*Type*: Bug\r\n\r\n*Summary*: Users who have group chats in 0.9.32 release version (even they were admins who created Group Chat) will be presented with a 'JOIN CHAT' button. After 'Join chat' button tap OR message was sent to this chat, - a system message `[username] joined group` shown (only for user who \"joined\" the chat again). \r\n\r\nMessage history is kept, but those messages sent in group after user upgrade won't be received until contact \"joins\" group chat again. \r\n\r\n#### Expected behavior\r\nNo 'JOIN CHAT' screen after upgrade for the group chat user invited prior upgrade  \r\n\r\n#### Actual behavior\r\n'JOIN CHAT' screen after upgrade for the group chat user invited prior upgrade  \r\n\r\n### Reproduction\r\n\r\n- Install release 0.9.32 build and create new account on Device 1 (UserA)\r\n- Install release 0.9.32 build and create new account on Device 2 (UserB)\r\n- UserA adds UserB in contacts\r\n- UserA (admin) creates with UserB a group chat\r\n- Both exchange messages in the group chat\r\n- Now, UserA(admin) upgrades on to Release 0.9.33 build and logs in to account\r\n- UserA navigates to Group Chat\r\n\r\n**Actual result:** 'JOIN CHAT' invitation screen is shown. \r\n**Expected result:**UserA navigated group chat screen.\r\n\r\n- _[Optional step]_ UserB sends text/emoji messages\r\n\r\n**Actual result:** 'Join chat' disappears, UserA wind up to group chat and sees all messages + `UserA has joined the group` system message shown only to UserA.  \r\n<img width=\"270\" alt=\"screenshot 2019-01-09 at 19 17 57\" src=\"https://user-images.githubusercontent.com/8749671/50916624-391c5300-1444-11e9-9cd6-93c4250b1aed.png\">\r\n\r\n\r\n### Additional Information\r\n* Status version: Upgrade from 0.9.32 to 0.9.33 release\r\n* Operating System: Android and iOS\r\n",
  "closed_by": {
    "login": "Serhy",
    "id": 8749671,
    "node_id": "MDQ6VXNlcjg3NDk2NzE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/8749671?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Serhy",
    "html_url": "https://github.com/Serhy",
    "followers_url": "https://api.github.com/users/Serhy/followers",
    "following_url": "https://api.github.com/users/Serhy/following{/other_user}",
    "gists_url": "https://api.github.com/users/Serhy/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Serhy/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Serhy/subscriptions",
    "organizations_url": "https://api.github.com/users/Serhy/orgs",
    "repos_url": "https://api.github.com/users/Serhy/repos",
    "events_url": "https://api.github.com/users/Serhy/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Serhy/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/7244/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-mobile/issues/7244/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/452845710",
    "html_url": "https://github.com/status-im/status-mobile/issues/7244#issuecomment-452845710",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/7244",
    "id": 452845710,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1Mjg0NTcxMA==",
    "user": {
      "login": "asemiankevich",
      "id": 28752642,
      "node_id": "MDQ6VXNlcjI4NzUyNjQy",
      "avatar_url": "https://avatars.githubusercontent.com/u/28752642?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/asemiankevich",
      "html_url": "https://github.com/asemiankevich",
      "followers_url": "https://api.github.com/users/asemiankevich/followers",
      "following_url": "https://api.github.com/users/asemiankevich/following{/other_user}",
      "gists_url": "https://api.github.com/users/asemiankevich/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/asemiankevich/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/asemiankevich/subscriptions",
      "organizations_url": "https://api.github.com/users/asemiankevich/orgs",
      "repos_url": "https://api.github.com/users/asemiankevich/repos",
      "events_url": "https://api.github.com/users/asemiankevich/events{/privacy}",
      "received_events_url": "https://api.github.com/users/asemiankevich/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-09T20:31:39Z",
    "updated_at": "2019-01-09T20:31:39Z",
    "author_association": "CONTRIBUTOR",
    "body": "@Serhy its not a bug, it was introduced in #7112 PR as a feature (with ugly design for now). It will be improved later. cc @annadanchenko ",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/452845710/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/453042527",
    "html_url": "https://github.com/status-im/status-mobile/issues/7244#issuecomment-453042527",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/7244",
    "id": 453042527,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1MzA0MjUyNw==",
    "user": {
      "login": "Serhy",
      "id": 8749671,
      "node_id": "MDQ6VXNlcjg3NDk2NzE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8749671?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Serhy",
      "html_url": "https://github.com/Serhy",
      "followers_url": "https://api.github.com/users/Serhy/followers",
      "following_url": "https://api.github.com/users/Serhy/following{/other_user}",
      "gists_url": "https://api.github.com/users/Serhy/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Serhy/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Serhy/subscriptions",
      "organizations_url": "https://api.github.com/users/Serhy/orgs",
      "repos_url": "https://api.github.com/users/Serhy/repos",
      "events_url": "https://api.github.com/users/Serhy/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Serhy/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-10T10:14:26Z",
    "updated_at": "2019-01-10T10:14:26Z",
    "author_association": "CONTRIBUTOR",
    "body": "Yes, I see in https://github.com/status-im/status-react/pull/7112 the note that we agreed for this scenario when upgrading from 0.9.32 to 0.9.33.\r\nI confirmed it should not be the case when upgrading from 0.9.33 to next (0.9.34) release. (Upgrade made from 0.9.33 RC to latest nighly)\r\n\r\nTaking this into account and that Group Chats are in Beta state closing this issue. ",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/453042527/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
