{
  "url": "https://api.github.com/repos/status-im/status-mobile/issues/1883",
  "repository_url": "https://api.github.com/repos/status-im/status-mobile",
  "labels_url": "https://api.github.com/repos/status-im/status-mobile/issues/1883/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-mobile/issues/1883/comments",
  "events_url": "https://api.github.com/repos/status-im/status-mobile/issues/1883/events",
  "html_url": "https://github.com/status-im/status-mobile/issues/1883",
  "id": 258535031,
  "node_id": "MDU6SXNzdWUyNTg1MzUwMzE=",
  "number": 1883,
  "title": "Push notifications: investigate possibilities of hiding payload",
  "user": {
    "login": "oskarth",
    "id": 1552237,
    "node_id": "MDQ6VXNlcjE1NTIyMzc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1552237?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/oskarth",
    "html_url": "https://github.com/oskarth",
    "followers_url": "https://api.github.com/users/oskarth/followers",
    "following_url": "https://api.github.com/users/oskarth/following{/other_user}",
    "gists_url": "https://api.github.com/users/oskarth/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/oskarth/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/oskarth/subscriptions",
    "organizations_url": "https://api.github.com/users/oskarth/orgs",
    "repos_url": "https://api.github.com/users/oskarth/repos",
    "events_url": "https://api.github.com/users/oskarth/events{/privacy}",
    "received_events_url": "https://api.github.com/users/oskarth/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2017-09-18T16:05:44Z",
  "updated_at": "2018-06-07T17:03:45Z",
  "closed_at": "2018-06-07T17:03:45Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "Current implementation of push notifications hardcodes a \"ping\" message. This can obviously be changed to the message itself, but then it would be plaintext via Firebase. Instead, we probably want to encrypt the payload, show a generic ping message and then decrypt it when it is received on the device.\r\n\r\nInvestigate where this: https://github.com/status-im/status-go/blob/develop/geth/api/api.go#L206-L210 shows up and the possibilities of intercepting it, either as the push notification appears or as the app is foregrounded.\r\n\r\nAcceptance criteria:\r\n- Understanding of how we can hide payload and when/where we can intercept it",
  "closed_by": {
    "login": "pedropombeiro",
    "id": 138074,
    "node_id": "MDQ6VXNlcjEzODA3NA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/138074?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/pedropombeiro",
    "html_url": "https://github.com/pedropombeiro",
    "followers_url": "https://api.github.com/users/pedropombeiro/followers",
    "following_url": "https://api.github.com/users/pedropombeiro/following{/other_user}",
    "gists_url": "https://api.github.com/users/pedropombeiro/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/pedropombeiro/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/pedropombeiro/subscriptions",
    "organizations_url": "https://api.github.com/users/pedropombeiro/orgs",
    "repos_url": "https://api.github.com/users/pedropombeiro/repos",
    "events_url": "https://api.github.com/users/pedropombeiro/events{/privacy}",
    "received_events_url": "https://api.github.com/users/pedropombeiro/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/1883/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-mobile/issues/1883/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/331454142",
    "html_url": "https://github.com/status-im/status-mobile/issues/1883#issuecomment-331454142",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/1883",
    "id": 331454142,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMTQ1NDE0Mg==",
    "user": {
      "login": "oskarth",
      "id": 1552237,
      "node_id": "MDQ6VXNlcjE1NTIyMzc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1552237?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/oskarth",
      "html_url": "https://github.com/oskarth",
      "followers_url": "https://api.github.com/users/oskarth/followers",
      "following_url": "https://api.github.com/users/oskarth/following{/other_user}",
      "gists_url": "https://api.github.com/users/oskarth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/oskarth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/oskarth/subscriptions",
      "organizations_url": "https://api.github.com/users/oskarth/orgs",
      "repos_url": "https://api.github.com/users/oskarth/repos",
      "events_url": "https://api.github.com/users/oskarth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/oskarth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-22T13:57:12Z",
    "updated_at": "2017-09-22T13:57:12Z",
    "author_association": "CONTRIBUTOR",
    "body": "Partially superseded by the two linked issues. Hopefully it works fine with Android too, once confirmed this can be closed.\r\n\r\nIt also seems there is is an option on iOS to preview message and call a function before them. Unclear how that will work though, and there doesn't seem to be an Android equivalent either. This thus seems like an optimization we can revisit at a later point in time.\r\n\r\nPausing on this for now. See https://docs.google.com/document/d/1YPMLHgojwz-wmhwKQ3lPi9vyT_dZftkK5tSRxtWIiZU/edit# for priority discussion.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/331454142/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/336139952",
    "html_url": "https://github.com/status-im/status-mobile/issues/1883#issuecomment-336139952",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/1883",
    "id": 336139952,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNjEzOTk1Mg==",
    "user": {
      "login": "tiabc",
      "id": 2167748,
      "node_id": "MDQ6VXNlcjIxNjc3NDg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2167748?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tiabc",
      "html_url": "https://github.com/tiabc",
      "followers_url": "https://api.github.com/users/tiabc/followers",
      "following_url": "https://api.github.com/users/tiabc/following{/other_user}",
      "gists_url": "https://api.github.com/users/tiabc/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tiabc/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tiabc/subscriptions",
      "organizations_url": "https://api.github.com/users/tiabc/orgs",
      "repos_url": "https://api.github.com/users/tiabc/repos",
      "events_url": "https://api.github.com/users/tiabc/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tiabc/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-12T13:39:02Z",
    "updated_at": "2017-10-12T13:39:02Z",
    "author_association": "NONE",
    "body": "By the way, Telegram, for example, shows something like \"You got a new message\" when you chat in a secret chat so this is sort of common behaviour, I think.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/336139952/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/336193867",
    "html_url": "https://github.com/status-im/status-mobile/issues/1883#issuecomment-336193867",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/1883",
    "id": 336193867,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNjE5Mzg2Nw==",
    "user": {
      "login": "oskarth",
      "id": 1552237,
      "node_id": "MDQ6VXNlcjE1NTIyMzc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1552237?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/oskarth",
      "html_url": "https://github.com/oskarth",
      "followers_url": "https://api.github.com/users/oskarth/followers",
      "following_url": "https://api.github.com/users/oskarth/following{/other_user}",
      "gists_url": "https://api.github.com/users/oskarth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/oskarth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/oskarth/subscriptions",
      "organizations_url": "https://api.github.com/users/oskarth/orgs",
      "repos_url": "https://api.github.com/users/oskarth/repos",
      "events_url": "https://api.github.com/users/oskarth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/oskarth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-12T16:37:42Z",
    "updated_at": "2017-10-12T16:37:42Z",
    "author_association": "CONTRIBUTOR",
    "body": "@tiabc Yep, Signal too.\r\n\r\nOn iOS there is supposedly some way of doing end to end encryption while previewing message. Might be useful at some point, but there are definitely higher priority tasks right now.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/336193867/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/395494100",
    "html_url": "https://github.com/status-im/status-mobile/issues/1883#issuecomment-395494100",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/1883",
    "id": 395494100,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NTQ5NDEwMA==",
    "user": {
      "login": "pedropombeiro",
      "id": 138074,
      "node_id": "MDQ6VXNlcjEzODA3NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/138074?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pedropombeiro",
      "html_url": "https://github.com/pedropombeiro",
      "followers_url": "https://api.github.com/users/pedropombeiro/followers",
      "following_url": "https://api.github.com/users/pedropombeiro/following{/other_user}",
      "gists_url": "https://api.github.com/users/pedropombeiro/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pedropombeiro/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pedropombeiro/subscriptions",
      "organizations_url": "https://api.github.com/users/pedropombeiro/orgs",
      "repos_url": "https://api.github.com/users/pedropombeiro/repos",
      "events_url": "https://api.github.com/users/pedropombeiro/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pedropombeiro/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-07T17:03:45Z",
    "updated_at": "2018-06-07T17:03:45Z",
    "author_association": "CONTRIBUTOR",
    "body": "I believe this is now known to work, closing.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/395494100/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
