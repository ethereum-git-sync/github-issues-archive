{
  "url": "https://api.github.com/repos/status-im/status-mobile/issues/8577",
  "repository_url": "https://api.github.com/repos/status-im/status-mobile",
  "labels_url": "https://api.github.com/repos/status-im/status-mobile/issues/8577/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-mobile/issues/8577/comments",
  "events_url": "https://api.github.com/repos/status-im/status-mobile/issues/8577/events",
  "html_url": "https://github.com/status-im/status-mobile/issues/8577",
  "id": 468262137,
  "node_id": "MDU6SXNzdWU0NjgyNjIxMzc=",
  "number": 8577,
  "title": "Contract events do not trigger in Status Dapp Browser",
  "user": {
    "login": "jrainville",
    "id": 11926403,
    "node_id": "MDQ6VXNlcjExOTI2NDAz",
    "avatar_url": "https://avatars.githubusercontent.com/u/11926403?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jrainville",
    "html_url": "https://github.com/jrainville",
    "followers_url": "https://api.github.com/users/jrainville/followers",
    "following_url": "https://api.github.com/users/jrainville/following{/other_user}",
    "gists_url": "https://api.github.com/users/jrainville/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jrainville/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jrainville/subscriptions",
    "organizations_url": "https://api.github.com/users/jrainville/orgs",
    "repos_url": "https://api.github.com/users/jrainville/repos",
    "events_url": "https://api.github.com/users/jrainville/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jrainville/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 956251551,
      "node_id": "MDU6TGFiZWw5NTYyNTE1NTE=",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/high-severity",
      "name": "high-severity",
      "color": "c91a34",
      "default": false,
      "description": ""
    },
    {
      "id": 1359467839,
      "node_id": "MDU6TGFiZWwxMzU5NDY3ODM5",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/core-ui-grooming",
      "name": "core-ui-grooming",
      "color": "68aaed",
      "default": false,
      "description": "To be reviewed on the next core ui grooming to add the issue to team board and set priority"
    },
    {
      "id": 4052385873,
      "node_id": "LA_kwDOAx4p2c7xioBR",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/E:Browser",
      "name": "E:Browser",
      "color": "B57C7E",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": true,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 16,
  "created_at": "2019-07-15T18:05:27Z",
  "updated_at": "2023-07-14T09:19:12Z",
  "closed_at": "2023-07-14T09:19:12Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "### User Story\r\n\r\nAs a developer, I want to contract events to trigger so that we can have more interactivity in the Dapp.\r\n\r\n### Description\r\n\r\n*Type*: Bug\r\n\r\n*Summary*: Experienced in the Status Teller Network, web3js contract events never trigger in the Status Dapp browser, but they do work in normal browsers with Metamask (probably because Status doesn't use websocket [WS] to connect to the node)\r\n\r\n#### Expected behavior\r\n\r\nUsing contract events (https://web3js.readthedocs.io/en/1.0/web3-eth-contract.html#events), should call the callback when the contract interaction happens.\r\n\r\n#### Actual behavior\r\n\r\nNothing happens, the callback is never called.\r\n\r\n### Reproduction\r\n\r\nI created this simple Dapp that has a simple Storage contract: https://jrainville.github.io/events-test/dist/\r\n\r\n- Open Status\r\n- Go to Rinkeby (Profile > Advanced > Network)\r\n- Go to Dapp browser\r\n- Go to https://jrainville.github.io/events-test/dist/\r\n- Put a number in the `Set` field and press \"Set\"\r\n- Send the transaction\r\n- Wait for \"Done\" to appear next to the tx hash\r\n-> There will be no event triggered at the bottom\r\n\r\nIf you try again in a desktop browser with Metamask (also in Rinkeby), you will see the number you set in the field appear in the Events section\r\n\r\n### Solution\r\n\r\nI'm thinking that Status connects to the blockchain node using RPC only , but RPC doesn't not support events. It should however connect to the node using WS (see Web3js' docs for differences between the providers: https://web3js.readthedocs.io/en/1.0/web3.html#providers)\r\n\r\n\r\n### Additional Information\r\n\r\n- Status version: 0.13.0\r\n- Operating System: Android and iOS (also experienced by @iurimatias and @richard-ramos \r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/8577/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-mobile/issues/8577/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/513718735",
    "html_url": "https://github.com/status-im/status-mobile/issues/8577#issuecomment-513718735",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/8577",
    "id": 513718735,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxMzcxODczNQ==",
    "user": {
      "login": "jeluard",
      "id": 359723,
      "node_id": "MDQ6VXNlcjM1OTcyMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/359723?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jeluard",
      "html_url": "https://github.com/jeluard",
      "followers_url": "https://api.github.com/users/jeluard/followers",
      "following_url": "https://api.github.com/users/jeluard/following{/other_user}",
      "gists_url": "https://api.github.com/users/jeluard/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jeluard/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jeluard/subscriptions",
      "organizations_url": "https://api.github.com/users/jeluard/orgs",
      "repos_url": "https://api.github.com/users/jeluard/repos",
      "events_url": "https://api.github.com/users/jeluard/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jeluard/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-07-22T09:38:08Z",
    "updated_at": "2019-07-22T09:38:08Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jrainville Could you see anything special in debug logs?\r\nSee https://status.im/developer_tools/debug.html",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/513718735/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/513720397",
    "html_url": "https://github.com/status-im/status-mobile/issues/8577#issuecomment-513720397",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/8577",
    "id": 513720397,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxMzcyMDM5Nw==",
    "user": {
      "login": "jeluard",
      "id": 359723,
      "node_id": "MDQ6VXNlcjM1OTcyMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/359723?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jeluard",
      "html_url": "https://github.com/jeluard",
      "followers_url": "https://api.github.com/users/jeluard/followers",
      "following_url": "https://api.github.com/users/jeluard/following{/other_user}",
      "gists_url": "https://api.github.com/users/jeluard/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jeluard/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jeluard/subscriptions",
      "organizations_url": "https://api.github.com/users/jeluard/orgs",
      "repos_url": "https://api.github.com/users/jeluard/repos",
      "events_url": "https://api.github.com/users/jeluard/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jeluard/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-07-22T09:42:56Z",
    "updated_at": "2019-07-22T09:42:56Z",
    "author_association": "CONTRIBUTOR",
    "body": "Also which provider do you use? You should hook with status EIP1102 provider",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/513720397/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/513727621",
    "html_url": "https://github.com/status-im/status-mobile/issues/8577#issuecomment-513727621",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/8577",
    "id": 513727621,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxMzcyNzYyMQ==",
    "user": {
      "login": "jeluard",
      "id": 359723,
      "node_id": "MDQ6VXNlcjM1OTcyMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/359723?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jeluard",
      "html_url": "https://github.com/jeluard",
      "followers_url": "https://api.github.com/users/jeluard/followers",
      "following_url": "https://api.github.com/users/jeluard/following{/other_user}",
      "gists_url": "https://api.github.com/users/jeluard/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jeluard/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jeluard/subscriptions",
      "organizations_url": "https://api.github.com/users/jeluard/orgs",
      "repos_url": "https://api.github.com/users/jeluard/repos",
      "events_url": "https://api.github.com/users/jeluard/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jeluard/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-07-22T10:03:00Z",
    "updated_at": "2019-07-22T10:03:00Z",
    "author_association": "CONTRIBUTOR",
    "body": "Just noticed you shared a URL to test.. looking at it!",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/513727621/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/513831392",
    "html_url": "https://github.com/status-im/status-mobile/issues/8577#issuecomment-513831392",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/8577",
    "id": 513831392,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxMzgzMTM5Mg==",
    "user": {
      "login": "jrainville",
      "id": 11926403,
      "node_id": "MDQ6VXNlcjExOTI2NDAz",
      "avatar_url": "https://avatars.githubusercontent.com/u/11926403?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jrainville",
      "html_url": "https://github.com/jrainville",
      "followers_url": "https://api.github.com/users/jrainville/followers",
      "following_url": "https://api.github.com/users/jrainville/following{/other_user}",
      "gists_url": "https://api.github.com/users/jrainville/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jrainville/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jrainville/subscriptions",
      "organizations_url": "https://api.github.com/users/jrainville/orgs",
      "repos_url": "https://api.github.com/users/jrainville/repos",
      "events_url": "https://api.github.com/users/jrainville/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jrainville/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-07-22T15:05:53Z",
    "updated_at": "2019-07-22T15:05:53Z",
    "author_association": "MEMBER",
    "body": "@jeluard I'm setting up my phone to use debug logs, but in the meantime, here's the answer for your question.\r\n\r\n> which provider do you use? You should hook with status EIP1102 provider\r\n\r\nWe do use the EIP1102 provider. The Dapp is built using Embark and Embark takes the available provider given by the browser (in this case Status)  and calls `ethereum.enable` on it. We don't decide if we use `ws` or `rpc`, we just use what's available. \r\n\r\nI'll try to check by logging the provider's details if I can see the url that is used to connect to the node and confirm or not that it uses RPC.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/513831392/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/513886119",
    "html_url": "https://github.com/status-im/status-mobile/issues/8577#issuecomment-513886119",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/8577",
    "id": 513886119,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxMzg4NjExOQ==",
    "user": {
      "login": "jrainville",
      "id": 11926403,
      "node_id": "MDQ6VXNlcjExOTI2NDAz",
      "avatar_url": "https://avatars.githubusercontent.com/u/11926403?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jrainville",
      "html_url": "https://github.com/jrainville",
      "followers_url": "https://api.github.com/users/jrainville/followers",
      "following_url": "https://api.github.com/users/jrainville/following{/other_user}",
      "gists_url": "https://api.github.com/users/jrainville/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jrainville/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jrainville/subscriptions",
      "organizations_url": "https://api.github.com/users/jrainville/orgs",
      "repos_url": "https://api.github.com/users/jrainville/repos",
      "events_url": "https://api.github.com/users/jrainville/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jrainville/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-07-22T17:50:11Z",
    "updated_at": "2019-07-22T17:50:11Z",
    "author_association": "MEMBER",
    "body": "Just tried debugging and there is sadly nothing in the logs.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/513886119/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/514088465",
    "html_url": "https://github.com/status-im/status-mobile/issues/8577#issuecomment-514088465",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/8577",
    "id": 514088465,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxNDA4ODQ2NQ==",
    "user": {
      "login": "jeluard",
      "id": 359723,
      "node_id": "MDQ6VXNlcjM1OTcyMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/359723?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jeluard",
      "html_url": "https://github.com/jeluard",
      "followers_url": "https://api.github.com/users/jeluard/followers",
      "following_url": "https://api.github.com/users/jeluard/following{/other_user}",
      "gists_url": "https://api.github.com/users/jeluard/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jeluard/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jeluard/subscriptions",
      "organizations_url": "https://api.github.com/users/jeluard/orgs",
      "repos_url": "https://api.github.com/users/jeluard/repos",
      "events_url": "https://api.github.com/users/jeluard/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jeluard/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-07-23T07:27:38Z",
    "updated_at": "2019-07-23T07:27:38Z",
    "author_association": "CONTRIBUTOR",
    "body": "Is the `Set` action supposed to create a transaction? I can't see a transaction generated in status. I remember @andytudhope had issues with Embark. Maybe he can help?\r\n\r\nStatus offers a EIP1102 compliant provider following JSON-RPC standard. It is based on a direct protocol, neither HTTP nor WebSocket based. As AFAIK all JSON-RPC methods are supported, all web3.js sugar should work fine. AFAIK we never got any other similar feedback from other apps.\r\n\r\nIt might be worth checking using something like https://web3js.readthedocs.io/en/1.0/web3-eth-contract.html#getpastevents too?\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/514088465/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/514107001",
    "html_url": "https://github.com/status-im/status-mobile/issues/8577#issuecomment-514107001",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/8577",
    "id": 514107001,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxNDEwNzAwMQ==",
    "user": {
      "login": "andytudhope",
      "id": 13001517,
      "node_id": "MDQ6VXNlcjEzMDAxNTE3",
      "avatar_url": "https://avatars.githubusercontent.com/u/13001517?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/andytudhope",
      "html_url": "https://github.com/andytudhope",
      "followers_url": "https://api.github.com/users/andytudhope/followers",
      "following_url": "https://api.github.com/users/andytudhope/following{/other_user}",
      "gists_url": "https://api.github.com/users/andytudhope/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/andytudhope/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/andytudhope/subscriptions",
      "organizations_url": "https://api.github.com/users/andytudhope/orgs",
      "repos_url": "https://api.github.com/users/andytudhope/repos",
      "events_url": "https://api.github.com/users/andytudhope/events{/privacy}",
      "received_events_url": "https://api.github.com/users/andytudhope/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-07-23T08:23:37Z",
    "updated_at": "2019-07-23T08:23:37Z",
    "author_association": "CONTRIBUTOR",
    "body": "We had weird web3 issues too, but never the contract events not firing. Most issues I ran into had to do with BigNumbers and other such delights. We're definitely still using `rpc` though...",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/514107001/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/514197069",
    "html_url": "https://github.com/status-im/status-mobile/issues/8577#issuecomment-514197069",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/8577",
    "id": 514197069,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxNDE5NzA2OQ==",
    "user": {
      "login": "jrainville",
      "id": 11926403,
      "node_id": "MDQ6VXNlcjExOTI2NDAz",
      "avatar_url": "https://avatars.githubusercontent.com/u/11926403?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jrainville",
      "html_url": "https://github.com/jrainville",
      "followers_url": "https://api.github.com/users/jrainville/followers",
      "following_url": "https://api.github.com/users/jrainville/following{/other_user}",
      "gists_url": "https://api.github.com/users/jrainville/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jrainville/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jrainville/subscriptions",
      "organizations_url": "https://api.github.com/users/jrainville/orgs",
      "repos_url": "https://api.github.com/users/jrainville/repos",
      "events_url": "https://api.github.com/users/jrainville/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jrainville/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-07-23T12:54:23Z",
    "updated_at": "2019-07-23T12:54:23Z",
    "author_association": "MEMBER",
    "body": "> Is the Set action supposed to create a transaction?\r\n\r\nOops, just tested again, and while it worked when I tested last time, I might have overwritten the working version. Going to update it right away. Sorry about that.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/514197069/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/514231880",
    "html_url": "https://github.com/status-im/status-mobile/issues/8577#issuecomment-514231880",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/8577",
    "id": 514231880,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxNDIzMTg4MA==",
    "user": {
      "login": "jrainville",
      "id": 11926403,
      "node_id": "MDQ6VXNlcjExOTI2NDAz",
      "avatar_url": "https://avatars.githubusercontent.com/u/11926403?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jrainville",
      "html_url": "https://github.com/jrainville",
      "followers_url": "https://api.github.com/users/jrainville/followers",
      "following_url": "https://api.github.com/users/jrainville/following{/other_user}",
      "gists_url": "https://api.github.com/users/jrainville/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jrainville/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jrainville/subscriptions",
      "organizations_url": "https://api.github.com/users/jrainville/orgs",
      "repos_url": "https://api.github.com/users/jrainville/repos",
      "events_url": "https://api.github.com/users/jrainville/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jrainville/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-07-23T14:22:29Z",
    "updated_at": "2019-07-23T14:22:29Z",
    "author_association": "MEMBER",
    "body": "Ok, I just \"fixed\" the Dapp. Basically, the event handler was giving an error in Status that I didn't handle.\r\nThe error is:\r\n```\r\nError: The current provider doesn't support subscriptions: ReadOnlyProvider\r\n    at Subscription.../../embark/node_modules/web3-core-subscriptions/src/subscription.js.Subscription.subscribe (app.js:formatted:154621)\r\n    at Contract.../../embark/node_modules/web3-eth-contract/src/index.js.Contract._on (app.js:formatted:159943)\r\n    at app.js:formatted:193012\r\n    at app.js:formatted:192051\r\n    at Array.map (<anonymous>)\r\n    at app.js:formatted:192050\r\n    at _callee$ (app.js:formatted:191938)\r\n    at tryCatch (app.js:formatted:138444)\r\n    at Generator.invoke [as _invoke] (app.js:formatted:138669)\r\n    at Generator.prototype.<computed> [as next] (app.js:formatted:138497) null\r\n```\r\nThis error tells me that web3 just doesn't support events with the current provider. \r\n\r\nWe checked the status-react code and it seems you use your own Provider (https://github.com/status-im/status-react/blob/40aff1da8dc29d961ca806d2b81bcb874f7e4223/resources/js/web3_opt_in.js#L118)\r\n\r\nYou might need to extend from Web3's WS provider.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/514231880/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/514237710",
    "html_url": "https://github.com/status-im/status-mobile/issues/8577#issuecomment-514237710",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/8577",
    "id": 514237710,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxNDIzNzcxMA==",
    "user": {
      "login": "jeluard",
      "id": 359723,
      "node_id": "MDQ6VXNlcjM1OTcyMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/359723?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jeluard",
      "html_url": "https://github.com/jeluard",
      "followers_url": "https://api.github.com/users/jeluard/followers",
      "following_url": "https://api.github.com/users/jeluard/following{/other_user}",
      "gists_url": "https://api.github.com/users/jeluard/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jeluard/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jeluard/subscriptions",
      "organizations_url": "https://api.github.com/users/jeluard/orgs",
      "repos_url": "https://api.github.com/users/jeluard/repos",
      "events_url": "https://api.github.com/users/jeluard/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jeluard/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-07-23T14:35:39Z",
    "updated_at": "2019-07-23T14:35:39Z",
    "author_association": "CONTRIBUTOR",
    "body": "This happens if you call write methods before the successful return and user ack of `ethereal.enable()`",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/514237710/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/514242939",
    "html_url": "https://github.com/status-im/status-mobile/issues/8577#issuecomment-514242939",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/8577",
    "id": 514242939,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxNDI0MjkzOQ==",
    "user": {
      "login": "jrainville",
      "id": 11926403,
      "node_id": "MDQ6VXNlcjExOTI2NDAz",
      "avatar_url": "https://avatars.githubusercontent.com/u/11926403?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jrainville",
      "html_url": "https://github.com/jrainville",
      "followers_url": "https://api.github.com/users/jrainville/followers",
      "following_url": "https://api.github.com/users/jrainville/following{/other_user}",
      "gists_url": "https://api.github.com/users/jrainville/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jrainville/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jrainville/subscriptions",
      "organizations_url": "https://api.github.com/users/jrainville/orgs",
      "repos_url": "https://api.github.com/users/jrainville/repos",
      "events_url": "https://api.github.com/users/jrainville/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jrainville/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-07-23T14:47:24Z",
    "updated_at": "2019-07-23T14:47:24Z",
    "author_association": "MEMBER",
    "body": "Possible. It is not the case in my example though, since, as you can see here https://github.com/jrainville/events-test/blob/master/app/js/index.js#L16, I only call the event registration once `EmbarkJS.onReady` is done on line 5. \r\n\r\nFor clarity,  `EmbarkJS.onReady` makes sure to do the connection to the node and do `ethereum.enable()`. Then it calls back.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/514242939/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/517326008",
    "html_url": "https://github.com/status-im/status-mobile/issues/8577#issuecomment-517326008",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/8577",
    "id": 517326008,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxNzMyNjAwOA==",
    "user": {
      "login": "corpetty",
      "id": 2460145,
      "node_id": "MDQ6VXNlcjI0NjAxNDU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2460145?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/corpetty",
      "html_url": "https://github.com/corpetty",
      "followers_url": "https://api.github.com/users/corpetty/followers",
      "following_url": "https://api.github.com/users/corpetty/following{/other_user}",
      "gists_url": "https://api.github.com/users/corpetty/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/corpetty/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/corpetty/subscriptions",
      "organizations_url": "https://api.github.com/users/corpetty/orgs",
      "repos_url": "https://api.github.com/users/corpetty/repos",
      "events_url": "https://api.github.com/users/corpetty/events{/privacy}",
      "received_events_url": "https://api.github.com/users/corpetty/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-08-01T15:01:42Z",
    "updated_at": "2019-08-01T15:01:42Z",
    "author_association": "CONTRIBUTOR",
    "body": "So to be clear, status-react providers are NOT using websockets.  In order to fix this, then we need to use them, correct?",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/517326008/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/517330744",
    "html_url": "https://github.com/status-im/status-mobile/issues/8577#issuecomment-517330744",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/8577",
    "id": 517330744,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxNzMzMDc0NA==",
    "user": {
      "login": "jrainville",
      "id": 11926403,
      "node_id": "MDQ6VXNlcjExOTI2NDAz",
      "avatar_url": "https://avatars.githubusercontent.com/u/11926403?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jrainville",
      "html_url": "https://github.com/jrainville",
      "followers_url": "https://api.github.com/users/jrainville/followers",
      "following_url": "https://api.github.com/users/jrainville/following{/other_user}",
      "gists_url": "https://api.github.com/users/jrainville/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jrainville/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jrainville/subscriptions",
      "organizations_url": "https://api.github.com/users/jrainville/orgs",
      "repos_url": "https://api.github.com/users/jrainville/repos",
      "events_url": "https://api.github.com/users/jrainville/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jrainville/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-08-01T15:13:15Z",
    "updated_at": "2019-08-01T15:13:15Z",
    "author_association": "MEMBER",
    "body": "That's my understanding of the problem yes. The Status-React providers are completely custom so they probably need WS support just like Web3js' Websocket provider (https://github.com/ethereum/web3.js/blob/2.x/packages/web3-providers/src/providers/WebsocketProvider.js)\r\n\r\nOne way to do it would be to find a way to extend the Web3's WS provider like \r\n```\r\nclass ReadOnlyProvider extends WebscoketProvider\r\n```\r\n\r\nOr maybe to make the Status-React use the WS provider and just \"override\" the send functions, a bit like we do in Embark: https://github.com/embark-framework/embark/blob/master/packages/embark-blockchain-connector/src/provider.js#L134",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/517330744/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/517349101",
    "html_url": "https://github.com/status-im/status-mobile/issues/8577#issuecomment-517349101",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/8577",
    "id": 517349101,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxNzM0OTEwMQ==",
    "user": {
      "login": "corpetty",
      "id": 2460145,
      "node_id": "MDQ6VXNlcjI0NjAxNDU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2460145?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/corpetty",
      "html_url": "https://github.com/corpetty",
      "followers_url": "https://api.github.com/users/corpetty/followers",
      "following_url": "https://api.github.com/users/corpetty/following{/other_user}",
      "gists_url": "https://api.github.com/users/corpetty/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/corpetty/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/corpetty/subscriptions",
      "organizations_url": "https://api.github.com/users/corpetty/orgs",
      "repos_url": "https://api.github.com/users/corpetty/repos",
      "events_url": "https://api.github.com/users/corpetty/events{/privacy}",
      "received_events_url": "https://api.github.com/users/corpetty/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-08-01T15:57:28Z",
    "updated_at": "2019-08-01T15:57:28Z",
    "author_association": "CONTRIBUTOR",
    "body": "this isn't a terribly security sensitive issue.  I ask because of V1 audit scope.  Events processing in dapps is pretty big though for usability and interactivity within the app. ",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/517349101/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1196555695",
    "html_url": "https://github.com/status-im/status-mobile/issues/8577#issuecomment-1196555695",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/8577",
    "id": 1196555695,
    "node_id": "IC_kwDOAx4p2c5HUf2v",
    "user": {
      "login": "churik",
      "id": 4557972,
      "node_id": "MDQ6VXNlcjQ1NTc5NzI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4557972?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/churik",
      "html_url": "https://github.com/churik",
      "followers_url": "https://api.github.com/users/churik/followers",
      "following_url": "https://api.github.com/users/churik/following{/other_user}",
      "gists_url": "https://api.github.com/users/churik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/churik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/churik/subscriptions",
      "organizations_url": "https://api.github.com/users/churik/orgs",
      "repos_url": "https://api.github.com/users/churik/repos",
      "events_url": "https://api.github.com/users/churik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/churik/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-27T10:33:38Z",
    "updated_at": "2022-07-27T10:33:38Z",
    "author_association": "MEMBER",
    "body": "More context in https://github.com/status-im/status-mobile/issues/10809",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1196555695/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1635562740",
    "html_url": "https://github.com/status-im/status-mobile/issues/8577#issuecomment-1635562740",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/8577",
    "id": 1635562740,
    "node_id": "IC_kwDOAx4p2c5hfLT0",
    "user": {
      "login": "cammellos",
      "id": 1017008,
      "node_id": "MDQ6VXNlcjEwMTcwMDg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1017008?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cammellos",
      "html_url": "https://github.com/cammellos",
      "followers_url": "https://api.github.com/users/cammellos/followers",
      "following_url": "https://api.github.com/users/cammellos/following{/other_user}",
      "gists_url": "https://api.github.com/users/cammellos/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cammellos/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cammellos/subscriptions",
      "organizations_url": "https://api.github.com/users/cammellos/orgs",
      "repos_url": "https://api.github.com/users/cammellos/repos",
      "events_url": "https://api.github.com/users/cammellos/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cammellos/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-14T09:19:03Z",
    "updated_at": "2023-07-14T09:19:03Z",
    "author_association": "MEMBER",
    "body": "Moving to discussion, since this requires probalby a bit more effort",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1635562740/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
