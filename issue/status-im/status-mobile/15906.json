{
  "url": "https://api.github.com/repos/status-im/status-mobile/issues/15906",
  "repository_url": "https://api.github.com/repos/status-im/status-mobile",
  "labels_url": "https://api.github.com/repos/status-im/status-mobile/issues/15906/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-mobile/issues/15906/comments",
  "events_url": "https://api.github.com/repos/status-im/status-mobile/issues/15906/events",
  "html_url": "https://github.com/status-im/status-mobile/issues/15906",
  "id": 1710719263,
  "node_id": "I_kwDOAx4p2c5l94Ef",
  "number": 15906,
  "title": "Allow user to edit link previews after messages are sent",
  "user": {
    "login": "ilmotta",
    "id": 46027,
    "node_id": "MDQ6VXNlcjQ2MDI3",
    "avatar_url": "https://avatars.githubusercontent.com/u/46027?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ilmotta",
    "html_url": "https://github.com/ilmotta",
    "followers_url": "https://api.github.com/users/ilmotta/followers",
    "following_url": "https://api.github.com/users/ilmotta/following{/other_user}",
    "gists_url": "https://api.github.com/users/ilmotta/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ilmotta/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ilmotta/subscriptions",
    "organizations_url": "https://api.github.com/users/ilmotta/orgs",
    "repos_url": "https://api.github.com/users/ilmotta/repos",
    "events_url": "https://api.github.com/users/ilmotta/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ilmotta/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 933023569,
      "node_id": "MDU6TGFiZWw5MzMwMjM1Njk=",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/feature",
      "name": "feature",
      "color": "172b9e",
      "default": false,
      "description": "feature requests"
    },
    {
      "id": 5371443419,
      "node_id": "LA_kwDOAx4p2c8AAAABQCm42w",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/E:Mobile%20URL%20Preview%20MVP",
      "name": "E:Mobile URL Preview MVP",
      "color": "64805B",
      "default": false,
      "description": "URL Preview feature"
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2023-05-15T19:45:20Z",
  "updated_at": "2023-08-30T17:54:06Z",
  "closed_at": null,
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "# Feature\r\n\r\nDepends on https://github.com/status-im/status-mobile/pull/15891\r\n\r\nUsers should be able to edit link previews after sending messages. [Figma > Composer for Mobile](https://www.figma.com/file/wA8Epdki2OWa8Vr067PCNQ/Composer-for-Mobile?type=design&node-id=8370-500969&t=QlvKXMgLhyP6j9iK-0)\r\n\r\nThe previews displayed in the composer and in the chat after updating the message should reflect the current (edited) text, not the original one.\r\n\r\n## Implementation\r\n\r\nThe majority of the implementation will be in status-go, if not everything.",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/15906/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-mobile/issues/15906/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1699506094",
    "html_url": "https://github.com/status-im/status-mobile/issues/15906#issuecomment-1699506094",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/15906",
    "id": 1699506094,
    "node_id": "IC_kwDOAx4p2c5lTGeu",
    "user": {
      "login": "igor-sirotin",
      "id": 25482501,
      "node_id": "MDQ6VXNlcjI1NDgyNTAx",
      "avatar_url": "https://avatars.githubusercontent.com/u/25482501?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/igor-sirotin",
      "html_url": "https://github.com/igor-sirotin",
      "followers_url": "https://api.github.com/users/igor-sirotin/followers",
      "following_url": "https://api.github.com/users/igor-sirotin/following{/other_user}",
      "gists_url": "https://api.github.com/users/igor-sirotin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/igor-sirotin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/igor-sirotin/subscriptions",
      "organizations_url": "https://api.github.com/users/igor-sirotin/orgs",
      "repos_url": "https://api.github.com/users/igor-sirotin/repos",
      "events_url": "https://api.github.com/users/igor-sirotin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/igor-sirotin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-08-30T16:35:32Z",
    "updated_at": "2023-08-30T16:35:32Z",
    "author_association": "NONE",
    "body": "We discussed with @benjthayer and @jrainville that we might want to use functionality to \"post-add the previews\" to the sent message.\r\n\r\nCurrently when composing a message user could paste a link and very quickly send the message, before the preview has been fetched. We could fix this problem by blocking the sending, but this is a bad UX. \r\n\r\nIt would be nice if we could send the message immediately and when the previews are fetched, push them to the message. Direct \"edit message\" functionality is not good to use here, because it will contain the whole message, but maybe we could have a **separate message type for updating link previews**?",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1699506094/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1699608805",
    "html_url": "https://github.com/status-im/status-mobile/issues/15906#issuecomment-1699608805",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/15906",
    "id": 1699608805,
    "node_id": "IC_kwDOAx4p2c5lTfjl",
    "user": {
      "login": "ilmotta",
      "id": 46027,
      "node_id": "MDQ6VXNlcjQ2MDI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/46027?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ilmotta",
      "html_url": "https://github.com/ilmotta",
      "followers_url": "https://api.github.com/users/ilmotta/followers",
      "following_url": "https://api.github.com/users/ilmotta/following{/other_user}",
      "gists_url": "https://api.github.com/users/ilmotta/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ilmotta/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ilmotta/subscriptions",
      "organizations_url": "https://api.github.com/users/ilmotta/orgs",
      "repos_url": "https://api.github.com/users/ilmotta/repos",
      "events_url": "https://api.github.com/users/ilmotta/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ilmotta/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-08-30T17:54:06Z",
    "updated_at": "2023-08-30T17:54:06Z",
    "author_association": "CONTRIBUTOR",
    "body": "> We discussed with @benjthayer and @jrainville that we might want to use functionality to \"post-add the previews\" to the sent message.\r\n> \r\n> Currently when composing a message user could paste a link and very quickly send the message, before the preview has been fetched. We could fix this problem by blocking the sending, but this is a bad UX.\r\n> \r\n> It would be nice if we could send the message immediately and when the previews are fetched, push them to the message. Direct \"edit message\" functionality is not good to use here, because it will contain the whole message, but maybe we could have a **separate message type for updating link previews**?\r\n\r\n@igor-sirotin, while I agree this can be an interesting idea to explore, I can't help but think we should keep the overall feature as simple as we can and only solve this problem much later after the MVP, if ever.\r\n\r\nWhatsApp and Signal in mobile devices do what we currently do i.e. attempt to unfurl the URL right before the message is sent, and if the URL couldn't be unfurled in time, both sender and receiver won't see previews. Of course we should be aware of differences, for instance, WhatsApp and Signal don't allow users to edit messages.\r\n\r\nIf we consider that WhatsApp & Signal users are happy with the way they behave, I think we'll be fine for a long time with the current behavior/implementation. But having said that, it's obviously up to other people to make such feature decisions.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1699608805/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
