{
  "url": "https://api.github.com/repos/status-im/status-mobile/issues/15926",
  "repository_url": "https://api.github.com/repos/status-im/status-mobile",
  "labels_url": "https://api.github.com/repos/status-im/status-mobile/issues/15926/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-mobile/issues/15926/comments",
  "events_url": "https://api.github.com/repos/status-im/status-mobile/issues/15926/events",
  "html_url": "https://github.com/status-im/status-mobile/issues/15926",
  "id": 1712985253,
  "node_id": "I_kwDOAx4p2c5mGhSl",
  "number": 15926,
  "title": "UX Issue with copy button on share tab",
  "user": {
    "login": "siddarthkay",
    "id": 64726664,
    "node_id": "MDQ6VXNlcjY0NzI2NjY0",
    "avatar_url": "https://avatars.githubusercontent.com/u/64726664?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/siddarthkay",
    "html_url": "https://github.com/siddarthkay",
    "followers_url": "https://api.github.com/users/siddarthkay/followers",
    "following_url": "https://api.github.com/users/siddarthkay/following{/other_user}",
    "gists_url": "https://api.github.com/users/siddarthkay/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/siddarthkay/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/siddarthkay/subscriptions",
    "organizations_url": "https://api.github.com/users/siddarthkay/orgs",
    "repos_url": "https://api.github.com/users/siddarthkay/repos",
    "events_url": "https://api.github.com/users/siddarthkay/events{/privacy}",
    "received_events_url": "https://api.github.com/users/siddarthkay/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 330296931,
      "node_id": "MDU6TGFiZWwzMzAyOTY5MzE=",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/bug",
      "name": "bug",
      "color": "fc2929",
      "default": true,
      "description": null
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "siddarthkay",
    "id": 64726664,
    "node_id": "MDQ6VXNlcjY0NzI2NjY0",
    "avatar_url": "https://avatars.githubusercontent.com/u/64726664?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/siddarthkay",
    "html_url": "https://github.com/siddarthkay",
    "followers_url": "https://api.github.com/users/siddarthkay/followers",
    "following_url": "https://api.github.com/users/siddarthkay/following{/other_user}",
    "gists_url": "https://api.github.com/users/siddarthkay/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/siddarthkay/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/siddarthkay/subscriptions",
    "organizations_url": "https://api.github.com/users/siddarthkay/orgs",
    "repos_url": "https://api.github.com/users/siddarthkay/repos",
    "events_url": "https://api.github.com/users/siddarthkay/events{/privacy}",
    "received_events_url": "https://api.github.com/users/siddarthkay/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "siddarthkay",
      "id": 64726664,
      "node_id": "MDQ6VXNlcjY0NzI2NjY0",
      "avatar_url": "https://avatars.githubusercontent.com/u/64726664?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/siddarthkay",
      "html_url": "https://github.com/siddarthkay",
      "followers_url": "https://api.github.com/users/siddarthkay/followers",
      "following_url": "https://api.github.com/users/siddarthkay/following{/other_user}",
      "gists_url": "https://api.github.com/users/siddarthkay/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/siddarthkay/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/siddarthkay/subscriptions",
      "organizations_url": "https://api.github.com/users/siddarthkay/orgs",
      "repos_url": "https://api.github.com/users/siddarthkay/repos",
      "events_url": "https://api.github.com/users/siddarthkay/events{/privacy}",
      "received_events_url": "https://api.github.com/users/siddarthkay/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2023-05-17T02:16:38Z",
  "updated_at": "2023-05-19T16:45:35Z",
  "closed_at": "2023-05-19T16:45:35Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "# Bug Report \r\n\r\nOriginally discovered by @pavloburykh in https://github.com/status-im/status-mobile/pull/15782\r\n\r\n## Problem \r\nOn share tab you have the ability to spam the copy button right next to emoji hash.\r\n \r\n<img width=\"904\" alt=\"Screenshot 2023-05-17 at 7 41 15 AM\" src=\"https://github.com/status-im/status-mobile/assets/64726664/862c6227-9d69-44b1-af79-ccb818f4a720\">\r\n\r\nThis produces an array of toast notifications which is probably not the best UX. \r\nThere should either be a cool down period after the button is pressed or a some other way to prevent this multiple toasts appearing but also keeping in mind that the user is not prevented from copying the emoji hash whenever they want.\r\n\r\nMaybe one way to prevent this is to check if the same value exists in clipboard we do not allow the user to press the button ðŸ¤”\r\n\r\ncc @John-44 @pedro-et \r\n\r\n#### Actual behaviour\r\n\r\nhttps://github.com/status-im/status-mobile/assets/97245802/0ce03844-bacd-4bac-ae75-3e10f226f609\r\n\r\n- Operating System: Android, iOS\r\n",
  "closed_by": {
    "login": "siddarthkay",
    "id": 64726664,
    "node_id": "MDQ6VXNlcjY0NzI2NjY0",
    "avatar_url": "https://avatars.githubusercontent.com/u/64726664?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/siddarthkay",
    "html_url": "https://github.com/siddarthkay",
    "followers_url": "https://api.github.com/users/siddarthkay/followers",
    "following_url": "https://api.github.com/users/siddarthkay/following{/other_user}",
    "gists_url": "https://api.github.com/users/siddarthkay/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/siddarthkay/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/siddarthkay/subscriptions",
    "organizations_url": "https://api.github.com/users/siddarthkay/orgs",
    "repos_url": "https://api.github.com/users/siddarthkay/repos",
    "events_url": "https://api.github.com/users/siddarthkay/events{/privacy}",
    "received_events_url": "https://api.github.com/users/siddarthkay/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/15926/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-mobile/issues/15926/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1551135479",
    "html_url": "https://github.com/status-im/status-mobile/issues/15926#issuecomment-1551135479",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/15926",
    "id": 1551135479,
    "node_id": "IC_kwDOAx4p2c5cdHL3",
    "user": {
      "login": "siddarthkay",
      "id": 64726664,
      "node_id": "MDQ6VXNlcjY0NzI2NjY0",
      "avatar_url": "https://avatars.githubusercontent.com/u/64726664?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/siddarthkay",
      "html_url": "https://github.com/siddarthkay",
      "followers_url": "https://api.github.com/users/siddarthkay/followers",
      "following_url": "https://api.github.com/users/siddarthkay/following{/other_user}",
      "gists_url": "https://api.github.com/users/siddarthkay/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/siddarthkay/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/siddarthkay/subscriptions",
      "organizations_url": "https://api.github.com/users/siddarthkay/orgs",
      "repos_url": "https://api.github.com/users/siddarthkay/repos",
      "events_url": "https://api.github.com/users/siddarthkay/events{/privacy}",
      "received_events_url": "https://api.github.com/users/siddarthkay/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-17T10:23:56Z",
    "updated_at": "2023-05-17T10:23:56Z",
    "author_association": "CONTRIBUTOR",
    "body": "So it seems we use `https://www.npmjs.com/package/@react-native-community/clipboard` for access to device's clipboard and we do have the capabilities to check what's in the clipboard.\r\n\r\nI think i find it better to check first what exists in clipboard matches and if it matches what we're trying to copy we basically then don't allow the user to press the button ( since the value is already copied ).\r\n\r\nI believe this will create a better UX.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1551135479/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1551390783",
    "html_url": "https://github.com/status-im/status-mobile/issues/15926#issuecomment-1551390783",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/15926",
    "id": 1551390783,
    "node_id": "IC_kwDOAx4p2c5ceFg_",
    "user": {
      "login": "siddarthkay",
      "id": 64726664,
      "node_id": "MDQ6VXNlcjY0NzI2NjY0",
      "avatar_url": "https://avatars.githubusercontent.com/u/64726664?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/siddarthkay",
      "html_url": "https://github.com/siddarthkay",
      "followers_url": "https://api.github.com/users/siddarthkay/followers",
      "following_url": "https://api.github.com/users/siddarthkay/following{/other_user}",
      "gists_url": "https://api.github.com/users/siddarthkay/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/siddarthkay/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/siddarthkay/subscriptions",
      "organizations_url": "https://api.github.com/users/siddarthkay/orgs",
      "repos_url": "https://api.github.com/users/siddarthkay/repos",
      "events_url": "https://api.github.com/users/siddarthkay/events{/privacy}",
      "received_events_url": "https://api.github.com/users/siddarthkay/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-17T13:23:22Z",
    "updated_at": "2023-05-17T13:23:22Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hmm, this feels much better..\r\n\r\nhttps://github.com/status-im/status-mobile/assets/64726664/a1bb7264-ca3a-4b61-8186-e434b80601e1\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1551390783/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1553980482",
    "html_url": "https://github.com/status-im/status-mobile/issues/15926#issuecomment-1553980482",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/15926",
    "id": 1553980482,
    "node_id": "IC_kwDOAx4p2c5cn9xC",
    "user": {
      "login": "siddarthkay",
      "id": 64726664,
      "node_id": "MDQ6VXNlcjY0NzI2NjY0",
      "avatar_url": "https://avatars.githubusercontent.com/u/64726664?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/siddarthkay",
      "html_url": "https://github.com/siddarthkay",
      "followers_url": "https://api.github.com/users/siddarthkay/followers",
      "following_url": "https://api.github.com/users/siddarthkay/following{/other_user}",
      "gists_url": "https://api.github.com/users/siddarthkay/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/siddarthkay/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/siddarthkay/subscriptions",
      "organizations_url": "https://api.github.com/users/siddarthkay/orgs",
      "repos_url": "https://api.github.com/users/siddarthkay/repos",
      "events_url": "https://api.github.com/users/siddarthkay/events{/privacy}",
      "received_events_url": "https://api.github.com/users/siddarthkay/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-19T04:30:17Z",
    "updated_at": "2023-05-19T04:30:17Z",
    "author_association": "CONTRIBUTOR",
    "body": "> I think i find it better to check first what exists in clipboard matches and if it matches what we're trying to copy we basically then don't allow the user to press the button ( since the value is already copied ).\r\n\r\nSo a fundamental edge case with this approach is that the clipboard is also used by other apps and if we use the global clipboard as our source of truth then we can produce false positives which is not nice.\r\n\r\nIf we use the re-frame clipboard (i.e a clipboard we manage inside the app ) there is an edge case which also results in a false positive as pointed out by @ilmotta here : https://github.com/status-im/status-mobile/pull/15938#discussion_r1197714167\r\n\r\nAnother approach as discussed with design team is to replace existing toast with a new notification, I think that is a cleaner solution. I'll try taking a stab at that.\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1553980482/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1554036886",
    "html_url": "https://github.com/status-im/status-mobile/issues/15926#issuecomment-1554036886",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/15926",
    "id": 1554036886,
    "node_id": "IC_kwDOAx4p2c5coLiW",
    "user": {
      "login": "siddarthkay",
      "id": 64726664,
      "node_id": "MDQ6VXNlcjY0NzI2NjY0",
      "avatar_url": "https://avatars.githubusercontent.com/u/64726664?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/siddarthkay",
      "html_url": "https://github.com/siddarthkay",
      "followers_url": "https://api.github.com/users/siddarthkay/followers",
      "following_url": "https://api.github.com/users/siddarthkay/following{/other_user}",
      "gists_url": "https://api.github.com/users/siddarthkay/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/siddarthkay/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/siddarthkay/subscriptions",
      "organizations_url": "https://api.github.com/users/siddarthkay/orgs",
      "repos_url": "https://api.github.com/users/siddarthkay/repos",
      "events_url": "https://api.github.com/users/siddarthkay/events{/privacy}",
      "received_events_url": "https://api.github.com/users/siddarthkay/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-19T05:43:21Z",
    "updated_at": "2023-05-19T05:43:21Z",
    "author_association": "CONTRIBUTOR",
    "body": "Okay this is definitely much better, Thanks for the suggestion @pedro-et \r\n\r\n\r\nhttps://github.com/status-im/status-mobile/assets/64726664/cdb9390f-1e5e-4878-9073-cfb1be88e1fc\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1554036886/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1554310405",
    "html_url": "https://github.com/status-im/status-mobile/issues/15926#issuecomment-1554310405",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/15926",
    "id": 1554310405,
    "node_id": "IC_kwDOAx4p2c5cpOUF",
    "user": {
      "login": "ilmotta",
      "id": 46027,
      "node_id": "MDQ6VXNlcjQ2MDI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/46027?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ilmotta",
      "html_url": "https://github.com/ilmotta",
      "followers_url": "https://api.github.com/users/ilmotta/followers",
      "following_url": "https://api.github.com/users/ilmotta/following{/other_user}",
      "gists_url": "https://api.github.com/users/ilmotta/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ilmotta/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ilmotta/subscriptions",
      "organizations_url": "https://api.github.com/users/ilmotta/orgs",
      "repos_url": "https://api.github.com/users/ilmotta/repos",
      "events_url": "https://api.github.com/users/ilmotta/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ilmotta/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-19T09:41:34Z",
    "updated_at": "2023-05-19T09:41:34Z",
    "author_association": "CONTRIBUTOR",
    "body": "Thanks for writing down all the findings @siddarthkay.\r\n\r\nIt seems we can implement the desired behavior with `:toasts/upsert`. The toast expects an `:id`, and if a toast with the same ID exists, then it gets replaced. So for these copy buttons, which are highly susceptible to multiple presses in a row, we could generate their toasts with the same ID.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1554310405/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 1,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
