{
  "url": "https://api.github.com/repos/status-im/status-mobile/issues/7621",
  "repository_url": "https://api.github.com/repos/status-im/status-mobile",
  "labels_url": "https://api.github.com/repos/status-im/status-mobile/issues/7621/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-mobile/issues/7621/comments",
  "events_url": "https://api.github.com/repos/status-im/status-mobile/issues/7621/events",
  "html_url": "https://github.com/status-im/status-mobile/issues/7621",
  "id": 415605741,
  "node_id": "MDU6SXNzdWU0MTU2MDU3NDE=",
  "number": 7621,
  "title": "[Investigate] NFC tag is lost when tapping the card to the phone",
  "user": {
    "login": "asemiankevich",
    "id": 28752642,
    "node_id": "MDQ6VXNlcjI4NzUyNjQy",
    "avatar_url": "https://avatars.githubusercontent.com/u/28752642?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/asemiankevich",
    "html_url": "https://github.com/asemiankevich",
    "followers_url": "https://api.github.com/users/asemiankevich/followers",
    "following_url": "https://api.github.com/users/asemiankevich/following{/other_user}",
    "gists_url": "https://api.github.com/users/asemiankevich/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/asemiankevich/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/asemiankevich/subscriptions",
    "organizations_url": "https://api.github.com/users/asemiankevich/orgs",
    "repos_url": "https://api.github.com/users/asemiankevich/repos",
    "events_url": "https://api.github.com/users/asemiankevich/events{/privacy}",
    "received_events_url": "https://api.github.com/users/asemiankevich/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 592301888,
      "node_id": "MDU6TGFiZWw1OTIzMDE4ODg=",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/help%20to%20reproduce",
      "name": "help to reproduce",
      "color": "0e8a16",
      "default": false,
      "description": null
    },
    {
      "id": 1055506461,
      "node_id": "MDU6TGFiZWwxMDU1NTA2NDYx",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/keycard",
      "name": "keycard",
      "color": "4360df",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "churik",
    "id": 4557972,
    "node_id": "MDQ6VXNlcjQ1NTc5NzI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4557972?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/churik",
    "html_url": "https://github.com/churik",
    "followers_url": "https://api.github.com/users/churik/followers",
    "following_url": "https://api.github.com/users/churik/following{/other_user}",
    "gists_url": "https://api.github.com/users/churik/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/churik/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/churik/subscriptions",
    "organizations_url": "https://api.github.com/users/churik/orgs",
    "repos_url": "https://api.github.com/users/churik/repos",
    "events_url": "https://api.github.com/users/churik/events{/privacy}",
    "received_events_url": "https://api.github.com/users/churik/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "churik",
      "id": 4557972,
      "node_id": "MDQ6VXNlcjQ1NTc5NzI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4557972?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/churik",
      "html_url": "https://github.com/churik",
      "followers_url": "https://api.github.com/users/churik/followers",
      "following_url": "https://api.github.com/users/churik/following{/other_user}",
      "gists_url": "https://api.github.com/users/churik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/churik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/churik/subscriptions",
      "organizations_url": "https://api.github.com/users/churik/orgs",
      "repos_url": "https://api.github.com/users/churik/repos",
      "events_url": "https://api.github.com/users/churik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/churik/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2019-02-28T12:44:27Z",
  "updated_at": "2019-09-12T12:54:01Z",
  "closed_at": "2019-08-29T09:33:46Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "### Description\n\n*Type*: Bug\n\n*Summary*: Issue to investigate NFC tag loses when interacting with status keycard\n\n#### Expected behavior\ntag is found each time i tap the card to the phone\n\n\n### Reproduction\n\nCase 1: \n\n- use empty card without applet\n- use Huawei P10 Lite, under Android 8\n- open status -> create account -> keycard\n- tap the card and remove\n\n```\n2019-02-28 15:45:21.244 13302-13361/? D/ReactNativeJS: DEBUG [status-im.utils.handlers:34] - Handling re-frame event:  :hardwallet.ui/status-hardwallet-option-pressed\n2019-02-28 15:45:21.255 13302-13361/? D/ReactNativeJS: DEBUG [status-im.ui.screens.navigation:80] - :navigate-to :hardwallet-connect\n2019-02-28 15:45:21.334 13302-13361/? D/ReactNativeJS: DEBUG [status-im.ui.screens.routing.core:23] - :on-will-focus :hardwallet-connect\n2019-02-28 15:45:21.338 13302-13361/? D/ReactNativeJS: DEBUG [status-im.utils.handlers:34] - Handling re-frame event:  :hardwallet.callback/on-register-card-events\n2019-02-28 15:45:21.342 13302-13361/? D/ReactNativeJS: DEBUG [status-im.utils.handlers:34] - Handling re-frame event:  :screens/on-will-focus\n2019-02-28 15:45:21.349 13302-13361/? D/ReactNativeJS: DEBUG [status-im.utils.handlers:34] - Handling re-frame event:  :hardwallet.callback/check-nfc-enabled-success\n2019-02-28 15:45:21.358 13302-13361/? D/ReactNativeJS: DEBUG [status-im.ui.screens.views:67] - :main-component-did-update :hardwallet-connect\n2019-02-28 15:45:21.821 13302-13361/? D/ReactNativeJS: DEBUG [status-im.ui.screens.routing.core:29] - :on-did-focus :hardwallet-connect\n2019-02-28 15:45:31.402 13302-13361/? D/ReactNativeJS: DEBUG [status-im.utils.handlers:34] - Handling re-frame event:  :hardwallet.callback/on-card-connected\n2019-02-28 15:45:31.413 13302-13361/? D/ReactNativeJS: DEBUG [status-im.hardwallet.core:756] - [hardwallet] card connected  nil\n2019-02-28 15:45:31.427 13302-13361/? D/ReactNativeJS: DEBUG [status-im.ui.screens.navigation:80] - :navigate-to :hardwallet-setup\n2019-02-28 15:45:31.691 13302-13361/? D/ReactNativeJS: DEBUG [status-im.ui.screens.routing.core:23] - :on-will-focus :hardwallet-setup\n2019-02-28 15:45:31.697 13302-13361/? D/ReactNativeJS: DEBUG [status-im.utils.handlers:34] - Handling re-frame event:  :screens/on-will-focus\n2019-02-28 15:45:31.715 13302-13361/? D/ReactNativeJS: DEBUG [status-im.ui.screens.views:67] - :main-component-did-update :hardwallet-setup\n2019-02-28 15:45:31.739 13302-13361/? D/ReactNativeJS: DEBUG [status-im.utils.handlers:34] - Handling re-frame event:  :hardwallet.callback/on-get-application-info-error\n2019-02-28 15:45:31.752 13302-13361/? D/ReactNativeJS: DEBUG [status-im.hardwallet.core:304] - [hardwallet] application info error  {:code \"EUNSPECIFIED\", :error \"Unexpected error SW, 0x6A82\"}\n2019-02-28 15:45:31.765 13302-13361/? D/ReactNativeJS: DEBUG [status-im.utils.handlers:34] - Handling re-frame event:  :hardwallet/check-card-state\n2019-02-28 15:45:32.149 13302-13361/? D/ReactNativeJS: DEBUG [status-im.ui.screens.routing.core:29] - :on-did-focus :hardwallet-setup\n2019-02-28 15:45:42.759 13302-13361/? D/ReactNativeJS: DEBUG [status-im.utils.handlers:34] - Handling re-frame event:  :hardwallet.callback/on-card-disconnected\n2019-02-28 15:45:42.766 13302-13361/? D/ReactNativeJS: DEBUG [status-im.hardwallet.core:788] - [hardwallet] card disconnected \n```",
  "closed_by": {
    "login": "asemiankevich",
    "id": 28752642,
    "node_id": "MDQ6VXNlcjI4NzUyNjQy",
    "avatar_url": "https://avatars.githubusercontent.com/u/28752642?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/asemiankevich",
    "html_url": "https://github.com/asemiankevich",
    "followers_url": "https://api.github.com/users/asemiankevich/followers",
    "following_url": "https://api.github.com/users/asemiankevich/following{/other_user}",
    "gists_url": "https://api.github.com/users/asemiankevich/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/asemiankevich/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/asemiankevich/subscriptions",
    "organizations_url": "https://api.github.com/users/asemiankevich/orgs",
    "repos_url": "https://api.github.com/users/asemiankevich/repos",
    "events_url": "https://api.github.com/users/asemiankevich/events{/privacy}",
    "received_events_url": "https://api.github.com/users/asemiankevich/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/7621/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-mobile/issues/7621/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/468699504",
    "html_url": "https://github.com/status-im/status-mobile/issues/7621#issuecomment-468699504",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/7621",
    "id": 468699504,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2ODY5OTUwNA==",
    "user": {
      "login": "churik",
      "id": 4557972,
      "node_id": "MDQ6VXNlcjQ1NTc5NzI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4557972?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/churik",
      "html_url": "https://github.com/churik",
      "followers_url": "https://api.github.com/users/churik/followers",
      "following_url": "https://api.github.com/users/churik/following{/other_user}",
      "gists_url": "https://api.github.com/users/churik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/churik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/churik/subscriptions",
      "organizations_url": "https://api.github.com/users/churik/orgs",
      "repos_url": "https://api.github.com/users/churik/repos",
      "events_url": "https://api.github.com/users/churik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/churik/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-01T15:18:25Z",
    "updated_at": "2019-03-01T15:18:26Z",
    "author_association": "MEMBER",
    "body": "Investigated build from https://github.com/status-im/status-react/pull/7581.\r\nLink to build: http://status-im-prs.ams3.digitaloceanspaces.com/StatusIm-190228-163411-84bb06-pr.apk\r\nI can setup card and create account normally, all following errors are about log in after setup.\r\n\r\nWhat I faced:\r\n1) once I've got white screen on Enter pin at attempt to login.\r\nFrom logcat:\r\n```\r\n03-01 15:47:57.958 12001 12045 D ReactNativeJS: DEBUG [status-im.signals.core:76] - Event  discovery.stopped  not handled\r\n03-01 15:47:57.964 12001 12045 D ReactNativeJS: DEBUG [status-im.utils.handlers:34] - Handling re-frame event:  :signals/signal-received\r\n03-01 15:47:57.968 12001 12045 D ReactNativeJS: DEBUG [status-im.events:852] - :event-str {\"type\":\"node.stopped\",\"event\":null}\r\n03-01 15:47:59.011 12001 12045 D ReactNativeJS: DEBUG [status-im.utils.handlers:34] - Handling re-frame event:  :accounts.login.ui/account-selected\r\n03-01 15:47:59.021 12001 12045 D ReactNativeJS: DEBUG [status-im.ui.screens.navigation:80] - :navigate-to :enter-pin\r\n```\r\nFull logcat: \r\n[white.txt](https://github.com/status-im/status-react/files/2919931/white.txt)\r\n\r\n2) \"Wrong card\" error (reproduced 3 times from ~30) after I entered pin when NFC tag was read (took ~40sec):\r\n<img width=\"225\" alt=\"wr card\" src=\"https://user-images.githubusercontent.com/4557972/53647247-69f75800-3c3d-11e9-9c23-c4594a34d80f.png\">\r\n\r\nLogcat: \r\n[wrong_card.txt](https://github.com/status-im/status-react/files/2919983/wrong_card.txt)\r\n\r\nDevice: LG V20\r\nOS: Android 8.0\r\n\r\n\n\n<blockquote></blockquote>",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/468699504/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/526106803",
    "html_url": "https://github.com/status-im/status-mobile/issues/7621#issuecomment-526106803",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/7621",
    "id": 526106803,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyNjEwNjgwMw==",
    "user": {
      "login": "asemiankevich",
      "id": 28752642,
      "node_id": "MDQ6VXNlcjI4NzUyNjQy",
      "avatar_url": "https://avatars.githubusercontent.com/u/28752642?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/asemiankevich",
      "html_url": "https://github.com/asemiankevich",
      "followers_url": "https://api.github.com/users/asemiankevich/followers",
      "following_url": "https://api.github.com/users/asemiankevich/following{/other_user}",
      "gists_url": "https://api.github.com/users/asemiankevich/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/asemiankevich/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/asemiankevich/subscriptions",
      "organizations_url": "https://api.github.com/users/asemiankevich/orgs",
      "repos_url": "https://api.github.com/users/asemiankevich/repos",
      "events_url": "https://api.github.com/users/asemiankevich/events{/privacy}",
      "received_events_url": "https://api.github.com/users/asemiankevich/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-08-29T09:33:45Z",
    "updated_at": "2019-08-29T09:33:45Z",
    "author_association": "CONTRIBUTOR",
    "body": "should be retested once we have final keycard build, but for now it is much better",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/526106803/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
