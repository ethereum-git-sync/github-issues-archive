{
  "url": "https://api.github.com/repos/status-im/status-mobile/issues/17225",
  "repository_url": "https://api.github.com/repos/status-im/status-mobile",
  "labels_url": "https://api.github.com/repos/status-im/status-mobile/issues/17225/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-mobile/issues/17225/comments",
  "events_url": "https://api.github.com/repos/status-im/status-mobile/issues/17225/events",
  "html_url": "https://github.com/status-im/status-mobile/issues/17225",
  "id": 1887395022,
  "node_id": "I_kwDOAx4p2c5wf1zO",
  "number": 17225,
  "title": "Issues related to users' data fetching in chats",
  "user": {
    "login": "pavloburykh",
    "id": 97245802,
    "node_id": "U_kgDOBcvaag",
    "avatar_url": "https://avatars.githubusercontent.com/u/97245802?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/pavloburykh",
    "html_url": "https://github.com/pavloburykh",
    "followers_url": "https://api.github.com/users/pavloburykh/followers",
    "following_url": "https://api.github.com/users/pavloburykh/following{/other_user}",
    "gists_url": "https://api.github.com/users/pavloburykh/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/pavloburykh/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/pavloburykh/subscriptions",
    "organizations_url": "https://api.github.com/users/pavloburykh/orgs",
    "repos_url": "https://api.github.com/users/pavloburykh/repos",
    "events_url": "https://api.github.com/users/pavloburykh/events{/privacy}",
    "received_events_url": "https://api.github.com/users/pavloburykh/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 3990911030,
      "node_id": "LA_kwDOAx4p2c7t4Hg2",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/E:Mobile%20Bug%20MVP",
      "name": "E:Mobile Bug MVP",
      "color": "B60205",
      "default": false,
      "description": ""
    },
    {
      "id": 3990935220,
      "node_id": "LA_kwDOAx4p2c7t4Na0",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/E:Mobile%20Communities%20MVP",
      "name": "E:Mobile Communities MVP",
      "color": "0992A8",
      "default": false,
      "description": ""
    },
    {
      "id": 4011385439,
      "node_id": "LA_kwDOAx4p2c7vGOJf",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/E:Mobile%20Messaging%20MVP",
      "name": "E:Mobile Messaging MVP",
      "color": "DC23F8",
      "default": false,
      "description": ""
    },
    {
      "id": 5734790420,
      "node_id": "LA_kwDOAx4p2c8AAAABVdH1FA",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/E:Mobile%20Release%201.25",
      "name": "E:Mobile Release 1.25",
      "color": "8AA749",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": {
    "url": "https://api.github.com/repos/status-im/status-mobile/milestones/66",
    "html_url": "https://github.com/status-im/status-mobile/milestone/66",
    "labels_url": "https://api.github.com/repos/status-im/status-mobile/milestones/66/labels",
    "id": 9293484,
    "node_id": "MI_kwDOAx4p2c4Ajc6s",
    "number": 66,
    "title": "1.25.0 - Alpha",
    "description": "This release should feature:\r\n\r\n- General polish:\r\n  further polish of messaging/communities/onboarding/profile\"\r\n  Finish resolving all the issues identified during the Porto Sprint\r\n  Fix the UI polish issues that Pedro and Francesca are going to report against 1.24\r\n  Ensure that joining a community where the \"Request to join required\" setting is OFF works\r\n  Fix syncing with Desktop bugs\r\n\r\n- Get the old wallet operational and initial work related to the new wallet\r\n\r\n- Security and privacy\r\n  Allow user to change their password\r\n\r\n\r\n",
    "creator": {
      "login": "cammellos",
      "id": 1017008,
      "node_id": "MDQ6VXNlcjEwMTcwMDg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1017008?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cammellos",
      "html_url": "https://github.com/cammellos",
      "followers_url": "https://api.github.com/users/cammellos/followers",
      "following_url": "https://api.github.com/users/cammellos/following{/other_user}",
      "gists_url": "https://api.github.com/users/cammellos/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cammellos/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cammellos/subscriptions",
      "organizations_url": "https://api.github.com/users/cammellos/orgs",
      "repos_url": "https://api.github.com/users/cammellos/repos",
      "events_url": "https://api.github.com/users/cammellos/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cammellos/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 33,
    "closed_issues": 95,
    "state": "open",
    "created_at": "2023-04-17T16:09:18Z",
    "updated_at": "2023-09-08T12:24:03Z",
    "due_on": "2023-08-30T07:00:00Z",
    "closed_at": null
  },
  "comments": 2,
  "created_at": "2023-09-08T10:30:50Z",
  "updated_at": "2023-09-08T12:24:03Z",
  "closed_at": "2023-09-08T12:24:03Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "We are facing quite noticeable issues related to fetching display names, profile icons and pictures in chats.\r\n\r\nYou can follow the below steps for reproduction but mind that those issues can be easily observed if you restore your main account (which is member of Status comm) on mobile, go to any channel in Status community and check mentions list. You will see bunch of users with pub keys with absent profile icons etc. \r\n\r\n**Area:** communities' channels/group chats\r\n\r\n**Preconditions:** \r\n\r\n1. User A is mutual contact with User B and User C. \r\n2. User B and User C are not mutual contacts\r\n\r\n**Steps:** \r\n\r\n1. User A creates community and invites User B and User C\r\n2. User B joins the community and **goes offline**\r\n3. User C joins the community\r\n4. Open mentions list by User C in #general channel of newly joined community\r\n5. See which User's B data is fetched for User C\r\n\r\n**Actual result:**\r\n\r\n1. Profile icon of User B is not displayed in mentions list for User C \r\n2. Display name of User B is not fetched for User C i.e. pub key is displayed\r\n3. 3 random name instead of pub key is displayed when User C mentioning User B\r\n\r\nUser's B data is fetched for User C in one of the following cases:\r\n\r\n1. User C opens profile page of User B\r\n2. User B goes back online\r\n3. There is a message from User B in chat which is fetched by User C\r\n\r\nOn the video below you can observe the described behaviour (User C is from the right part of the screen)\r\n\r\n[User_C_logs.zip](https://github.com/status-im/status-mobile/files/12558316/User_C_logs.zip)\r\n\r\n<img width=\"364\" alt=\"Monosnap 2023-09-08 13-13-11\" src=\"https://github.com/status-im/status-mobile/assets/97245802/25459c75-8fa5-49da-ad98-516783ca9124\">\r\n\r\n<img width=\"363\" alt=\"Monosnap 2023-09-08 13-14-05\" src=\"https://github.com/status-im/status-mobile/assets/97245802/bb6f398b-c7a5-48ed-ad8d-c545f26b8bb1\">\r\n\r\n\r\nhttps://github.com/status-im/status-mobile/assets/97245802/392fedc6-3cac-4ad2-8fdd-dfa43fab6e62\r\n\r\n\r\n\r\n\r\n### Additional Information\r\n\r\n- Status version: nightly \r\n- Operating System: Android, iOS\r\n\r\n\r\n\r\n",
  "closed_by": {
    "login": "pavloburykh",
    "id": 97245802,
    "node_id": "U_kgDOBcvaag",
    "avatar_url": "https://avatars.githubusercontent.com/u/97245802?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/pavloburykh",
    "html_url": "https://github.com/pavloburykh",
    "followers_url": "https://api.github.com/users/pavloburykh/followers",
    "following_url": "https://api.github.com/users/pavloburykh/following{/other_user}",
    "gists_url": "https://api.github.com/users/pavloburykh/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/pavloburykh/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/pavloburykh/subscriptions",
    "organizations_url": "https://api.github.com/users/pavloburykh/orgs",
    "repos_url": "https://api.github.com/users/pavloburykh/repos",
    "events_url": "https://api.github.com/users/pavloburykh/events{/privacy}",
    "received_events_url": "https://api.github.com/users/pavloburykh/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/17225/reactions",
    "total_count": 2,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 2,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-mobile/issues/17225/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1711473089",
    "html_url": "https://github.com/status-im/status-mobile/issues/17225#issuecomment-1711473089",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/17225",
    "id": 1711473089,
    "node_id": "IC_kwDOAx4p2c5mAwHB",
    "user": {
      "login": "churik",
      "id": 4557972,
      "node_id": "MDQ6VXNlcjQ1NTc5NzI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4557972?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/churik",
      "html_url": "https://github.com/churik",
      "followers_url": "https://api.github.com/users/churik/followers",
      "following_url": "https://api.github.com/users/churik/following{/other_user}",
      "gists_url": "https://api.github.com/users/churik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/churik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/churik/subscriptions",
      "organizations_url": "https://api.github.com/users/churik/orgs",
      "repos_url": "https://api.github.com/users/churik/repos",
      "events_url": "https://api.github.com/users/churik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/churik/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-09-08T10:52:17Z",
    "updated_at": "2023-09-08T10:52:17Z",
    "author_association": "MEMBER",
    "body": "can be also related to https://github.com/status-im/status-mobile/issues/17182",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1711473089/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1711587287",
    "html_url": "https://github.com/status-im/status-mobile/issues/17225#issuecomment-1711587287",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/17225",
    "id": 1711587287,
    "node_id": "IC_kwDOAx4p2c5mBL_X",
    "user": {
      "login": "pavloburykh",
      "id": 97245802,
      "node_id": "U_kgDOBcvaag",
      "avatar_url": "https://avatars.githubusercontent.com/u/97245802?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pavloburykh",
      "html_url": "https://github.com/pavloburykh",
      "followers_url": "https://api.github.com/users/pavloburykh/followers",
      "following_url": "https://api.github.com/users/pavloburykh/following{/other_user}",
      "gists_url": "https://api.github.com/users/pavloburykh/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pavloburykh/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pavloburykh/subscriptions",
      "organizations_url": "https://api.github.com/users/pavloburykh/orgs",
      "repos_url": "https://api.github.com/users/pavloburykh/repos",
      "events_url": "https://api.github.com/users/pavloburykh/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pavloburykh/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-09-08T12:24:03Z",
    "updated_at": "2023-09-08T12:24:03Z",
    "author_association": "CONTRIBUTOR",
    "body": "As agreed with @cammellos separate issues were created. Closing this one\r\n\r\nhttps://github.com/status-im/status-mobile/issues/17230\r\nhttps://github.com/status-im/status-mobile/issues/17229\r\nhttps://github.com/status-im/status-mobile/issues/17228\r\nhttps://github.com/status-im/status-mobile/issues/17227",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1711587287/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
