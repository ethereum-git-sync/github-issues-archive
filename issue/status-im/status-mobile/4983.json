{
  "url": "https://api.github.com/repos/status-im/status-mobile/issues/4983",
  "repository_url": "https://api.github.com/repos/status-im/status-mobile",
  "labels_url": "https://api.github.com/repos/status-im/status-mobile/issues/4983/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-mobile/issues/4983/comments",
  "events_url": "https://api.github.com/repos/status-im/status-mobile/issues/4983/events",
  "html_url": "https://github.com/status-im/status-mobile/issues/4983",
  "id": 336647064,
  "node_id": "MDU6SXNzdWUzMzY2NDcwNjQ=",
  "number": 4983,
  "title": "Optimize merging of transaction and transfer info",
  "user": {
    "login": "goranjovic",
    "id": 711764,
    "node_id": "MDQ6VXNlcjcxMTc2NA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/711764?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/goranjovic",
    "html_url": "https://github.com/goranjovic",
    "followers_url": "https://api.github.com/users/goranjovic/followers",
    "following_url": "https://api.github.com/users/goranjovic/following{/other_user}",
    "gists_url": "https://api.github.com/users/goranjovic/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/goranjovic/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/goranjovic/subscriptions",
    "organizations_url": "https://api.github.com/users/goranjovic/orgs",
    "repos_url": "https://api.github.com/users/goranjovic/repos",
    "events_url": "https://api.github.com/users/goranjovic/events{/privacy}",
    "received_events_url": "https://api.github.com/users/goranjovic/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 691030971,
      "node_id": "MDU6TGFiZWw2OTEwMzA5NzE=",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/wallet",
      "name": "wallet",
      "color": "1d76db",
      "default": false,
      "description": null
    },
    {
      "id": 955294273,
      "node_id": "MDU6TGFiZWw5NTUyOTQyNzM=",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/medium-severity",
      "name": "medium-severity",
      "color": "e884a7",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "goranjovic",
    "id": 711764,
    "node_id": "MDQ6VXNlcjcxMTc2NA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/711764?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/goranjovic",
    "html_url": "https://github.com/goranjovic",
    "followers_url": "https://api.github.com/users/goranjovic/followers",
    "following_url": "https://api.github.com/users/goranjovic/following{/other_user}",
    "gists_url": "https://api.github.com/users/goranjovic/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/goranjovic/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/goranjovic/subscriptions",
    "organizations_url": "https://api.github.com/users/goranjovic/orgs",
    "repos_url": "https://api.github.com/users/goranjovic/repos",
    "events_url": "https://api.github.com/users/goranjovic/events{/privacy}",
    "received_events_url": "https://api.github.com/users/goranjovic/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "goranjovic",
      "id": 711764,
      "node_id": "MDQ6VXNlcjcxMTc2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/711764?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/goranjovic",
      "html_url": "https://github.com/goranjovic",
      "followers_url": "https://api.github.com/users/goranjovic/followers",
      "following_url": "https://api.github.com/users/goranjovic/following{/other_user}",
      "gists_url": "https://api.github.com/users/goranjovic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/goranjovic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/goranjovic/subscriptions",
      "organizations_url": "https://api.github.com/users/goranjovic/orgs",
      "repos_url": "https://api.github.com/users/goranjovic/repos",
      "events_url": "https://api.github.com/users/goranjovic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/goranjovic/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 0,
  "created_at": "2018-06-28T14:31:36Z",
  "updated_at": "2018-07-05T09:38:50Z",
  "closed_at": "2018-07-05T09:38:50Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "### User Story\r\n\r\nAs a user I want the history of my transactions and token transfers to be clear and not confusing.\r\n\r\n### Description\r\n\r\nWe can cover the most common special cases of #4556 (e.g regular token send via `transfer` method)\r\nusing a few tricks:\r\n\r\n- generate a mock unconfirmed token transfer immediately after Send (the way we do with transactions)\r\n- merge the new pieces of info more selectively (so that there is no flickering between transaction and transfer info)\r\n\r\n*Type*: Improvement\r\n\r\n#### Expected behavior\r\n\r\nWhen minting tokens from Simple Dapp, there will first be a 0 ETH transaction, that will eventually get updated to an incoming token transfer (e.g. HND) and after that will remain a token transfer. Some data may still get updated (e.g. spent gas info or confirmation count). The same behavior should occur for any other token transfer that happens in a dapp, e.g. exchanges.\r\n\r\nWhen sending tokens to someone (whether from chat or from wallet), there will first be an unconfirmed token transaction that will eventually get updated with remaining pieces of info (spent gas, confirmations). This history entry will initially be and then remain displayed as a token transfer and will not flicker back and forth between ETH and token.\r\n\r\nWhen receiving tokens from someone, the behavior will remain the same as before this change - it will appear with token transfer data alone, plus the confirmation count (i.e. nothing about spent gas).\r\n\r\n#### Actual behavior\r\n\r\nWhen minting tokens or sending to someone, the transaction appears as a 0 ETH transaction and then flickers back and forth between ETH and token.\r\n\r\n### Reproduction\r\n\r\n- Mint tokens and check transaction history\r\n- Send tokens and check transaction history\r\n",
  "closed_by": {
    "login": "goranjovic",
    "id": 711764,
    "node_id": "MDQ6VXNlcjcxMTc2NA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/711764?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/goranjovic",
    "html_url": "https://github.com/goranjovic",
    "followers_url": "https://api.github.com/users/goranjovic/followers",
    "following_url": "https://api.github.com/users/goranjovic/following{/other_user}",
    "gists_url": "https://api.github.com/users/goranjovic/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/goranjovic/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/goranjovic/subscriptions",
    "organizations_url": "https://api.github.com/users/goranjovic/orgs",
    "repos_url": "https://api.github.com/users/goranjovic/repos",
    "events_url": "https://api.github.com/users/goranjovic/events{/privacy}",
    "received_events_url": "https://api.github.com/users/goranjovic/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/4983/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-mobile/issues/4983/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[

]
