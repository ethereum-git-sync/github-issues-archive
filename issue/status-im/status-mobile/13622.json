{
  "url": "https://api.github.com/repos/status-im/status-mobile/issues/13622",
  "repository_url": "https://api.github.com/repos/status-im/status-mobile",
  "labels_url": "https://api.github.com/repos/status-im/status-mobile/issues/13622/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-mobile/issues/13622/comments",
  "events_url": "https://api.github.com/repos/status-im/status-mobile/issues/13622/events",
  "html_url": "https://github.com/status-im/status-mobile/issues/13622",
  "id": 1293101453,
  "node_id": "I_kwDOAx4p2c5NEymN",
  "number": 13622,
  "title": "Messages stop being delivered in group chat from one of the devices after accepting membership request sent from another device with the same multiaccount",
  "user": {
    "login": "qoqobolo",
    "id": 67952253,
    "node_id": "MDQ6VXNlcjY3OTUyMjUz",
    "avatar_url": "https://avatars.githubusercontent.com/u/67952253?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/qoqobolo",
    "html_url": "https://github.com/qoqobolo",
    "followers_url": "https://api.github.com/users/qoqobolo/followers",
    "following_url": "https://api.github.com/users/qoqobolo/following{/other_user}",
    "gists_url": "https://api.github.com/users/qoqobolo/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/qoqobolo/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/qoqobolo/subscriptions",
    "organizations_url": "https://api.github.com/users/qoqobolo/orgs",
    "repos_url": "https://api.github.com/users/qoqobolo/repos",
    "events_url": "https://api.github.com/users/qoqobolo/events{/privacy}",
    "received_events_url": "https://api.github.com/users/qoqobolo/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 330296931,
      "node_id": "MDU6TGFiZWwzMzAyOTY5MzE=",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/bug",
      "name": "bug",
      "color": "fc2929",
      "default": true,
      "description": null
    },
    {
      "id": 3990911030,
      "node_id": "LA_kwDOAx4p2c7t4Hg2",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/E:Bugfixes",
      "name": "E:Bugfixes",
      "color": "32BD0C",
      "default": false,
      "description": ""
    },
    {
      "id": 4011372929,
      "node_id": "LA_kwDOAx4p2c7vGLGB",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/E:ChatFeatures",
      "name": "E:ChatFeatures",
      "color": "35103C",
      "default": false,
      "description": ""
    },
    {
      "id": 4875568527,
      "node_id": "LA_kwDOAx4p2c8AAAABIptFjw",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/recheck",
      "name": "recheck",
      "color": "767FB8",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2022-07-04T12:25:14Z",
  "updated_at": "2022-12-06T10:15:29Z",
  "closed_at": "2022-12-06T10:15:29Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "# Bug Report\r\n\r\n### Context\r\n\r\n_The issue was discovered during a dogfooding session where participants used different versions of the Status app: 1.19 and a current Nightly.\r\nReproducing the problem is only possible when using 1.19 or 1.19 **and** the latest develop, since invitation links in group chats were removed in develop.\r\nAlso, to reproduce this, the user needs to have a restored account on two unsynchronized devices.\r\nHowever, despite the fact that this is an edge case, it was decided to have the issue logged as the fix may help prevent other possible message delivery issues in the future._\r\n\r\n## Problem \r\n[comment]: # (A problem description)\r\n\r\n### Steps to reproduce:\r\n\r\n1. Install 1.19 on Device1 and create a multiaccount - UserA\r\n2. Install Nightly (or 1.19) on Device2 and Device3 \r\n3. Recover another multiaccount on Device2 and Device3 (the same on both devices) - UserB\r\n4. UserA adds UserB to contacts\r\n5. UserA creates a group chat with UserB\r\n6. UserA: `Group info` > `Group invite` > Copy link > Send the link to a public chat\r\n7. UserB on Device2: join the same public chat > follow the link > Send a membership request\r\n8. UserB on Device3: open the group in the activity center (so now the user is a member of the group) > Send a message just to check it's delivered \r\n9. UserA on Device1: open the group > `Group membership requests` > Accept a pending request from UserB\r\n10. UserB on Device3: try to send another message\r\n\r\nThus, the problem is that messages from Device3 stop being delivered to Device1 and become invisible on Device2 (the same multiaccount) after the membership request sent from Device2 has been accepted by Device1.\r\n\r\n#### Expected behavior\r\nMessages sent from Device3 are still visible for all group members after accepting the membership request sent from Device2\r\n\r\n#### Actual behavior\r\n- Device1 can only see messages sent from Device2\r\n- Messages from Device3 are also invisible for Device2\r\n\r\n### Additional Information\r\n\r\n- Status version: nightly 4/07, 1.19\r\n- Operating System: Android, iOS\r\n\r\n\r\n### Logs\r\n\r\n[Device1 (group admin) geth.log](https://github.com/status-im/status-react/files/9039354/geth.log)\r\n[Device2 geth.log](https://github.com/status-im/status-react/files/9039359/geth.log)\r\n[Device3 geth.log](https://github.com/status-im/status-react/files/9039361/geth.log)\r\n\r\n\r\n",
  "closed_by": {
    "login": "churik",
    "id": 4557972,
    "node_id": "MDQ6VXNlcjQ1NTc5NzI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4557972?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/churik",
    "html_url": "https://github.com/churik",
    "followers_url": "https://api.github.com/users/churik/followers",
    "following_url": "https://api.github.com/users/churik/following{/other_user}",
    "gists_url": "https://api.github.com/users/churik/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/churik/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/churik/subscriptions",
    "organizations_url": "https://api.github.com/users/churik/orgs",
    "repos_url": "https://api.github.com/users/churik/repos",
    "events_url": "https://api.github.com/users/churik/events{/privacy}",
    "received_events_url": "https://api.github.com/users/churik/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/13622/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-mobile/issues/13622/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1339088121",
    "html_url": "https://github.com/status-im/status-mobile/issues/13622#issuecomment-1339088121",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/13622",
    "id": 1339088121,
    "node_id": "IC_kwDOAx4p2c5P0Nz5",
    "user": {
      "login": "churik",
      "id": 4557972,
      "node_id": "MDQ6VXNlcjQ1NTc5NzI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4557972?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/churik",
      "html_url": "https://github.com/churik",
      "followers_url": "https://api.github.com/users/churik/followers",
      "following_url": "https://api.github.com/users/churik/following{/other_user}",
      "gists_url": "https://api.github.com/users/churik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/churik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/churik/subscriptions",
      "organizations_url": "https://api.github.com/users/churik/orgs",
      "repos_url": "https://api.github.com/users/churik/repos",
      "events_url": "https://api.github.com/users/churik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/churik/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-12-06T10:15:29Z",
    "updated_at": "2022-12-06T10:15:29Z",
    "author_association": "MEMBER",
    "body": "I'm closing this one as the team is working on a full re-design of the app and migrating to Wakuv2.\r\n\r\nThe label recheck is added in order to keep an eye on it while testing this part.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1339088121/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
