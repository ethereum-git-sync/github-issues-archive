{
  "url": "https://api.github.com/repos/status-im/status-mobile/issues/1806",
  "repository_url": "https://api.github.com/repos/status-im/status-mobile",
  "labels_url": "https://api.github.com/repos/status-im/status-mobile/issues/1806/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-mobile/issues/1806/comments",
  "events_url": "https://api.github.com/repos/status-im/status-mobile/issues/1806/events",
  "html_url": "https://github.com/status-im/status-mobile/issues/1806",
  "id": 256514996,
  "node_id": "MDU6SXNzdWUyNTY1MTQ5OTY=",
  "number": 1806,
  "title": "Review and document protocol message format and encoding",
  "user": {
    "login": "goranjovic",
    "id": 711764,
    "node_id": "MDQ6VXNlcjcxMTc2NA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/711764?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/goranjovic",
    "html_url": "https://github.com/goranjovic",
    "followers_url": "https://api.github.com/users/goranjovic/followers",
    "following_url": "https://api.github.com/users/goranjovic/following{/other_user}",
    "gists_url": "https://api.github.com/users/goranjovic/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/goranjovic/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/goranjovic/subscriptions",
    "organizations_url": "https://api.github.com/users/goranjovic/orgs",
    "repos_url": "https://api.github.com/users/goranjovic/repos",
    "events_url": "https://api.github.com/users/goranjovic/events{/privacy}",
    "received_events_url": "https://api.github.com/users/goranjovic/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2017-09-10T14:46:44Z",
  "updated_at": "2018-04-12T09:11:32Z",
  "closed_at": "2018-04-12T09:11:32Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "[comment]: # (Please replace ... with your information. Remove < and >)\r\n\r\n### User Story\r\n\r\nAs a developer, I want protocol API to be clearly defined and documented so that both development and bugfixing take less time and effort moving forward.\r\n### Description\r\n\r\n[comment]: # (Feature or Bug? i.e Type: Bug)\r\n*Type*: Feature\r\n\r\nCurrently protocol messages are exchanged as text payload that:\r\n\r\nneeds to be converted to UTF-8 twice (why?)\r\nthe outer message envelope is serialized as EDN\r\nthe inner message (`content`) is serialized as JSON\r\n\r\nE.g. this raw payload:\r\n\r\n```\r\n0x30783762336136643635373337333631363736353264363936343230323233313335333033353330333533343332333933323332333033323264333236313339333333353335333836363264363533393336333632643335363433363632326433393631333233333264333133303338333236313635363133303334363533393335323232633230336137323635373137353639373236353733326436313633366233663230363636313663373336353263323033613734373937303635323033613666366536633639366536353263323033613633366636653734363536653734323032323762356332323639373635633232336135623264333133373333333533363338333033343334333932633332333033303331333733303336333233363336326332643331333133333338333133383333333233313330326332643332333033313338333833383331333333353335356432633563323237363563323233613331326335633232363937343635373235633232336133313330333033303263356332323662373335633232336133313332333832633563323237343733356332323361333633343263356332323664366636343635356332323361356332323633363336643563323232633563323236313634363137343631356332323361356332323563323232633563323236333639373036383635373235633232336135633232363136353733356332323263356332323633373435633232336135623335333233373333333933313331333833343263326433393333333433383336333333343339333732633331333233363339333433343334333333353333326333393334333033313338333733353335333432633337333533383336333733303337333433323263326433313336333233353330333333363334333633393263333133353338333333323337333733383334333632633331333133303334333933373339333633333332326333323336333333383338333633343335333433333334333333363338356432633563323237343631363735633232336135633232333433373332363636323333363233313337333936323634363433383632363336313331333736333334333936363332333033343631333233323335363133353334333933313636333836323634363636363633363533313635363533393336333933323336333036323334363536313335363633393632333736353330363233373335363536363636363436363635333333363634363633353330333836313632333633383636333333383336333533383634333233323332363233353635363336363331333036353332333233323334333836313333333533373338333133333636333233363337363336313339363436323635333433333636333633323631363336363330363533333336333836353330333136333337333133313337333033383333363133323338363633363632333233373633333736363338333733343333363133373336333333353337333636353331363536343634363633343334333233363332333933373339333036313334333533333333333136353338356332323764323237643061\r\n```\r\n\r\nWill be decoded as this cljs map:\r\n\r\n```clojurescript\r\n{:message-id \"1505054292202-2a93558f-e966-5d6b-9a23-1082aea04e95\",\r\n :requires-ack? false,\r\n :type :online,\r\n :content\r\n \"{\\\"iv\\\":[-1735680449,2001706266,-1138183210,-2018881355],\\\"v\\\":1,\\\"iter\\\":1000,\\\"ks\\\":128,\\\"ts\\\":64,\\\"mode\\\":\\\"ccm\\\",\\\"adata\\\":\\\"\\\",\\\"cipher\\\":\\\"aes\\\",\\\"ct\\\":[527391184,-934863497,1269444353,940187554,758670742,-1625036469,1583277846,1104979632,26388645434368],\\\"tag\\\":\\\"472fb3b179bdd8bca17c49f204a225a5491f8bdffce1ee969260b4ea5f9b7e0b75effdfe36df508ab68f38658d222b5ecf10e22248a357813f267ca9dbe43f62acf0e368e01c7117083a28f6b27c7f8743a763576e1eddf442629790a45331e8\\\"}\"}\r\n```\r\n",
  "closed_by": {
    "login": "goranjovic",
    "id": 711764,
    "node_id": "MDQ6VXNlcjcxMTc2NA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/711764?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/goranjovic",
    "html_url": "https://github.com/goranjovic",
    "followers_url": "https://api.github.com/users/goranjovic/followers",
    "following_url": "https://api.github.com/users/goranjovic/following{/other_user}",
    "gists_url": "https://api.github.com/users/goranjovic/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/goranjovic/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/goranjovic/subscriptions",
    "organizations_url": "https://api.github.com/users/goranjovic/orgs",
    "repos_url": "https://api.github.com/users/goranjovic/repos",
    "events_url": "https://api.github.com/users/goranjovic/events{/privacy}",
    "received_events_url": "https://api.github.com/users/goranjovic/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/1806/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-mobile/issues/1806/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/380733890",
    "html_url": "https://github.com/status-im/status-mobile/issues/1806#issuecomment-380733890",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/1806",
    "id": 380733890,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MDczMzg5MA==",
    "user": {
      "login": "goranjovic",
      "id": 711764,
      "node_id": "MDQ6VXNlcjcxMTc2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/711764?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/goranjovic",
      "html_url": "https://github.com/goranjovic",
      "followers_url": "https://api.github.com/users/goranjovic/followers",
      "following_url": "https://api.github.com/users/goranjovic/following{/other_user}",
      "gists_url": "https://api.github.com/users/goranjovic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/goranjovic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/goranjovic/subscriptions",
      "organizations_url": "https://api.github.com/users/goranjovic/orgs",
      "repos_url": "https://api.github.com/users/goranjovic/repos",
      "events_url": "https://api.github.com/users/goranjovic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/goranjovic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-12T09:11:32Z",
    "updated_at": "2018-04-12T09:11:32Z",
    "author_association": "CONTRIBUTOR",
    "body": "Superseded by new protocol swarm",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/380733890/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
