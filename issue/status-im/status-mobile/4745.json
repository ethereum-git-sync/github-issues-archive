{
  "url": "https://api.github.com/repos/status-im/status-mobile/issues/4745",
  "repository_url": "https://api.github.com/repos/status-im/status-mobile",
  "labels_url": "https://api.github.com/repos/status-im/status-mobile/issues/4745/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-mobile/issues/4745/comments",
  "events_url": "https://api.github.com/repos/status-im/status-mobile/issues/4745/events",
  "html_url": "https://github.com/status-im/status-mobile/issues/4745",
  "id": 331939321,
  "node_id": "MDU6SXNzdWUzMzE5MzkzMjE=",
  "number": 4745,
  "title": "After recover account some of 1:1 chats with only received messages are shown",
  "user": {
    "login": "annadanchenko",
    "id": 6584810,
    "node_id": "MDQ6VXNlcjY1ODQ4MTA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6584810?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/annadanchenko",
    "html_url": "https://github.com/annadanchenko",
    "followers_url": "https://api.github.com/users/annadanchenko/followers",
    "following_url": "https://api.github.com/users/annadanchenko/following{/other_user}",
    "gists_url": "https://api.github.com/users/annadanchenko/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/annadanchenko/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/annadanchenko/subscriptions",
    "organizations_url": "https://api.github.com/users/annadanchenko/orgs",
    "repos_url": "https://api.github.com/users/annadanchenko/repos",
    "events_url": "https://api.github.com/users/annadanchenko/events{/privacy}",
    "received_events_url": "https://api.github.com/users/annadanchenko/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 330296931,
      "node_id": "MDU6TGFiZWwzMzAyOTY5MzE=",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/bug",
      "name": "bug",
      "color": "fc2929",
      "default": true,
      "description": null
    },
    {
      "id": 795655580,
      "node_id": "MDU6TGFiZWw3OTU2NTU1ODA=",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/chat",
      "name": "chat",
      "color": "f70cb0",
      "default": false,
      "description": null
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "cammellos",
    "id": 1017008,
    "node_id": "MDQ6VXNlcjEwMTcwMDg=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1017008?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/cammellos",
    "html_url": "https://github.com/cammellos",
    "followers_url": "https://api.github.com/users/cammellos/followers",
    "following_url": "https://api.github.com/users/cammellos/following{/other_user}",
    "gists_url": "https://api.github.com/users/cammellos/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/cammellos/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/cammellos/subscriptions",
    "organizations_url": "https://api.github.com/users/cammellos/orgs",
    "repos_url": "https://api.github.com/users/cammellos/repos",
    "events_url": "https://api.github.com/users/cammellos/events{/privacy}",
    "received_events_url": "https://api.github.com/users/cammellos/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "cammellos",
      "id": 1017008,
      "node_id": "MDQ6VXNlcjEwMTcwMDg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1017008?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cammellos",
      "html_url": "https://github.com/cammellos",
      "followers_url": "https://api.github.com/users/cammellos/followers",
      "following_url": "https://api.github.com/users/cammellos/following{/other_user}",
      "gists_url": "https://api.github.com/users/cammellos/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cammellos/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cammellos/subscriptions",
      "organizations_url": "https://api.github.com/users/cammellos/orgs",
      "repos_url": "https://api.github.com/users/cammellos/repos",
      "events_url": "https://api.github.com/users/cammellos/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cammellos/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2018-06-13T10:42:15Z",
  "updated_at": "2019-07-29T01:13:01Z",
  "closed_at": "2018-07-03T15:22:19Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "### Description\r\n\r\n*Type*: Bug\r\n\r\n*Summary*: If user recovered an account and had 1:1 chats before this then \r\n1. some of 1:1 chats are shown with only received messages\r\n2. Usernames on 1:1 chats are shown with default random 3 words and picture  \r\n3. Contacts are empty\r\n4. public chats opened before recover are not shown\r\n\r\n#### Before recover:\r\n\r\n![home before recover](https://user-images.githubusercontent.com/6584810/41346504-f748d88c-6f06-11e8-82ab-6b8ff2440071.jpg)\r\n![chat before recover](https://user-images.githubusercontent.com/6584810/41346514-02c5dbf6-6f07-11e8-9c3f-cd532daf8722.jpg)\r\n\r\n#### After recover:\r\n![home after recover](https://user-images.githubusercontent.com/6584810/41346542-0da4c078-6f07-11e8-8a76-83b56b59da18.jpg)\r\n![chat after recover](https://user-images.githubusercontent.com/6584810/41346547-1222ba74-6f07-11e8-973b-375c98abf578.jpg)\r\n![contacts after recover](https://user-images.githubusercontent.com/6584810/41346554-16c22b96-6f07-11e8-84af-ddd2c6629dc3.jpg)\r\n\r\n\r\n#### Expected behavior\r\nimo, we set false expectations by showing 1:1 chats and received messages there. We haven't implemented recover contacts/chats/messages for the case when account is recovered and how it works now is a side effect of offline inboxing. \r\n\r\nI would suggest to not show any chats and their content when account is recovered, so user starts with empty Home tab and Contacts (as it was before). In addition, we can add explanation on the Recover screen warning user that only address/public key will be recovered (thus funds and transaction history will be fine) but no Chats, Contacts and Chats history is recovered.\r\n\r\n#### Actual behavior\r\n1:1 chats with only received messages are shown after recovery. \r\n\r\n### Reproduction\r\n\r\n- As account A: add account B and C to your contacts and exchange messages in 1:1 chats and public chat\r\n- As account A: uninstall app\r\n- As B and C send new messages to the account A\r\n- install app and recover account A. Wait for some time to get 1:1 chats and check their content. Check what's shown in Contacts\r\n\r\n\r\n### Additional Information\r\n* Status version: nightly build June 13\r\n* Operating System: Android and iOS\r\n",
  "closed_by": {
    "login": "cammellos",
    "id": 1017008,
    "node_id": "MDQ6VXNlcjEwMTcwMDg=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1017008?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/cammellos",
    "html_url": "https://github.com/cammellos",
    "followers_url": "https://api.github.com/users/cammellos/followers",
    "following_url": "https://api.github.com/users/cammellos/following{/other_user}",
    "gists_url": "https://api.github.com/users/cammellos/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/cammellos/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/cammellos/subscriptions",
    "organizations_url": "https://api.github.com/users/cammellos/orgs",
    "repos_url": "https://api.github.com/users/cammellos/repos",
    "events_url": "https://api.github.com/users/cammellos/events{/privacy}",
    "received_events_url": "https://api.github.com/users/cammellos/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/4745/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-mobile/issues/4745/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/396950830",
    "html_url": "https://github.com/status-im/status-mobile/issues/4745#issuecomment-396950830",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/4745",
    "id": 396950830,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5Njk1MDgzMA==",
    "user": {
      "login": "lukaszfryc",
      "id": 7532782,
      "node_id": "MDQ6VXNlcjc1MzI3ODI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7532782?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lukaszfryc",
      "html_url": "https://github.com/lukaszfryc",
      "followers_url": "https://api.github.com/users/lukaszfryc/followers",
      "following_url": "https://api.github.com/users/lukaszfryc/following{/other_user}",
      "gists_url": "https://api.github.com/users/lukaszfryc/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lukaszfryc/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lukaszfryc/subscriptions",
      "organizations_url": "https://api.github.com/users/lukaszfryc/orgs",
      "repos_url": "https://api.github.com/users/lukaszfryc/repos",
      "events_url": "https://api.github.com/users/lukaszfryc/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lukaszfryc/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-13T14:09:16Z",
    "updated_at": "2018-06-13T14:09:16Z",
    "author_association": "CONTRIBUTOR",
    "body": "I agree. There is so many things going wrong (not all messages maybe received, default names, etc. you mentioned) that it seems like the way it works now brings more confusion than value. \r\n\r\nI really like the idea of having the clear explanation what and what not will be recovered in the recover screen. \r\n\r\nI believe we should have it in Beta version. @chadyj wdyt?",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/396950830/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/396968117",
    "html_url": "https://github.com/status-im/status-mobile/issues/4745#issuecomment-396968117",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/4745",
    "id": 396968117,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5Njk2ODExNw==",
    "user": {
      "login": "hesterbruikman",
      "id": 35233054,
      "node_id": "MDQ6VXNlcjM1MjMzMDU0",
      "avatar_url": "https://avatars.githubusercontent.com/u/35233054?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hesterbruikman",
      "html_url": "https://github.com/hesterbruikman",
      "followers_url": "https://api.github.com/users/hesterbruikman/followers",
      "following_url": "https://api.github.com/users/hesterbruikman/following{/other_user}",
      "gists_url": "https://api.github.com/users/hesterbruikman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hesterbruikman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hesterbruikman/subscriptions",
      "organizations_url": "https://api.github.com/users/hesterbruikman/orgs",
      "repos_url": "https://api.github.com/users/hesterbruikman/repos",
      "events_url": "https://api.github.com/users/hesterbruikman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hesterbruikman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-13T14:57:25Z",
    "updated_at": "2018-06-13T14:57:25Z",
    "author_association": "COLLABORATOR",
    "body": "Sounds good to me. Let's also check if any copy in the backup seed phrase flow is helpful. Communication during recovery is a bit 'after the fact'.\r\n\r\nThink it would be cool to experiment after Beta with how we can frame this in a way that does make sense. E.g. 'Last 7 days', 'Recent conversations' anything that clarifies that it's not all messages.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/396968117/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/398012194",
    "html_url": "https://github.com/status-im/status-mobile/issues/4745#issuecomment-398012194",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/4745",
    "id": 398012194,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5ODAxMjE5NA==",
    "user": {
      "login": "asemiankevich",
      "id": 28752642,
      "node_id": "MDQ6VXNlcjI4NzUyNjQy",
      "avatar_url": "https://avatars.githubusercontent.com/u/28752642?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/asemiankevich",
      "html_url": "https://github.com/asemiankevich",
      "followers_url": "https://api.github.com/users/asemiankevich/followers",
      "following_url": "https://api.github.com/users/asemiankevich/following{/other_user}",
      "gists_url": "https://api.github.com/users/asemiankevich/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/asemiankevich/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/asemiankevich/subscriptions",
      "organizations_url": "https://api.github.com/users/asemiankevich/orgs",
      "repos_url": "https://api.github.com/users/asemiankevich/repos",
      "events_url": "https://api.github.com/users/asemiankevich/events{/privacy}",
      "received_events_url": "https://api.github.com/users/asemiankevich/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-18T10:33:37Z",
    "updated_at": "2018-06-18T10:33:37Z",
    "author_association": "CONTRIBUTOR",
    "body": "upd:\r\nOld transactions are restored in chat after account recovery, `TX not found` is shown for the transactions\r\n\r\n![image](https://user-images.githubusercontent.com/28752642/41531508-300a8c30-72fc-11e8-98aa-24bf34db5510.png)\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/398012194/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
