{
  "url": "https://api.github.com/repos/status-im/status-mobile/issues/12816",
  "repository_url": "https://api.github.com/repos/status-im/status-mobile",
  "labels_url": "https://api.github.com/repos/status-im/status-mobile/issues/12816/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-mobile/issues/12816/comments",
  "events_url": "https://api.github.com/repos/status-im/status-mobile/issues/12816/events",
  "html_url": "https://github.com/status-im/status-mobile/issues/12816",
  "id": 1053405386,
  "node_id": "I_kwDOAx4p2c4-ybDK",
  "number": 12816,
  "title": "Validation error in case of not enough balance for network fee is not clear",
  "user": {
    "login": "churik",
    "id": 4557972,
    "node_id": "MDQ6VXNlcjQ1NTc5NzI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4557972?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/churik",
    "html_url": "https://github.com/churik",
    "followers_url": "https://api.github.com/users/churik/followers",
    "following_url": "https://api.github.com/users/churik/following{/other_user}",
    "gists_url": "https://api.github.com/users/churik/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/churik/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/churik/subscriptions",
    "organizations_url": "https://api.github.com/users/churik/orgs",
    "repos_url": "https://api.github.com/users/churik/repos",
    "events_url": "https://api.github.com/users/churik/events{/privacy}",
    "received_events_url": "https://api.github.com/users/churik/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 330296931,
      "node_id": "MDU6TGFiZWwzMzAyOTY5MzE=",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/bug",
      "name": "bug",
      "color": "fc2929",
      "default": true,
      "description": null
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "rasom",
    "id": 2364994,
    "node_id": "MDQ6VXNlcjIzNjQ5OTQ=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2364994?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/rasom",
    "html_url": "https://github.com/rasom",
    "followers_url": "https://api.github.com/users/rasom/followers",
    "following_url": "https://api.github.com/users/rasom/following{/other_user}",
    "gists_url": "https://api.github.com/users/rasom/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/rasom/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/rasom/subscriptions",
    "organizations_url": "https://api.github.com/users/rasom/orgs",
    "repos_url": "https://api.github.com/users/rasom/repos",
    "events_url": "https://api.github.com/users/rasom/events{/privacy}",
    "received_events_url": "https://api.github.com/users/rasom/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "rasom",
      "id": 2364994,
      "node_id": "MDQ6VXNlcjIzNjQ5OTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2364994?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rasom",
      "html_url": "https://github.com/rasom",
      "followers_url": "https://api.github.com/users/rasom/followers",
      "following_url": "https://api.github.com/users/rasom/following{/other_user}",
      "gists_url": "https://api.github.com/users/rasom/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rasom/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rasom/subscriptions",
      "organizations_url": "https://api.github.com/users/rasom/orgs",
      "repos_url": "https://api.github.com/users/rasom/repos",
      "events_url": "https://api.github.com/users/rasom/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rasom/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2021-11-15T09:24:50Z",
  "updated_at": "2022-02-08T13:29:28Z",
  "closed_at": "2022-02-08T13:29:28Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "# Bug Report\r\n\r\n\r\n## Problem \r\nWhen a user doesn't have enough ETH to cover the default network fee, instead of `Not enough ETH for transaction` gas limit is not set  (when open form no default value is set) and when tapping tosee more info, `Gas required exceeds allowance` error is shown.\r\nSo it is not lear how much ETH user will need to cover tx fee for particular transaction.\r\n\r\n\r\n#### Expected behavior\r\n1) Default gas limit is set\r\n2) Error is more user-friendly (cc @hesterbruikman )\r\n\r\n#### Actual behavior\r\n\r\n![IMAGE 2021-11-15 10:21:51](https://user-images.githubusercontent.com/4557972/141755576-477bbbc6-09b0-4b38-baeb-7293b9133702.jpg)\r\n![IMAGE 2021-11-15 10:21:59](https://user-images.githubusercontent.com/4557972/141755603-fb663c06-2c53-4e5c-a4a5-df829b83ce7e.jpg)\r\n\r\n### Reproduction\r\n\r\n1) Restore multiaccount with small amount of ETH (not enough for default fee)\r\n2) Try to send transaction \r\nFore testing account ping me in dm.\r\n\r\n### Additional Information\r\n\r\n- Status version: nightly 15/11/21\r\n- Operating System: Android, iOS\r\n\r\n\r\n",
  "closed_by": {
    "login": "rasom",
    "id": 2364994,
    "node_id": "MDQ6VXNlcjIzNjQ5OTQ=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2364994?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/rasom",
    "html_url": "https://github.com/rasom",
    "followers_url": "https://api.github.com/users/rasom/followers",
    "following_url": "https://api.github.com/users/rasom/following{/other_user}",
    "gists_url": "https://api.github.com/users/rasom/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/rasom/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/rasom/subscriptions",
    "organizations_url": "https://api.github.com/users/rasom/orgs",
    "repos_url": "https://api.github.com/users/rasom/repos",
    "events_url": "https://api.github.com/users/rasom/events{/privacy}",
    "received_events_url": "https://api.github.com/users/rasom/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/12816/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-mobile/issues/12816/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/970207746",
    "html_url": "https://github.com/status-im/status-mobile/issues/12816#issuecomment-970207746",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/12816",
    "id": 970207746,
    "node_id": "IC_kwDOAx4p2c451DIC",
    "user": {
      "login": "carlfairclough",
      "id": 4670881,
      "node_id": "MDQ6VXNlcjQ2NzA4ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4670881?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/carlfairclough",
      "html_url": "https://github.com/carlfairclough",
      "followers_url": "https://api.github.com/users/carlfairclough/followers",
      "following_url": "https://api.github.com/users/carlfairclough/following{/other_user}",
      "gists_url": "https://api.github.com/users/carlfairclough/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/carlfairclough/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/carlfairclough/subscriptions",
      "organizations_url": "https://api.github.com/users/carlfairclough/orgs",
      "repos_url": "https://api.github.com/users/carlfairclough/repos",
      "events_url": "https://api.github.com/users/carlfairclough/events{/privacy}",
      "received_events_url": "https://api.github.com/users/carlfairclough/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-11-16T12:07:48Z",
    "updated_at": "2021-11-16T12:07:48Z",
    "author_association": "NONE",
    "body": "The first screenshot is related to the tx signing/review view which is currently being worked on, I will make sure to take this into account.\r\n\r\nThe second screenshot shouldn't be happening, but does point to another issue:\r\nWe don't have an error state to indicate that the max overall gas fee exceeds the available network balance:\r\nhttps://www.figma.com/file/XK7vrp3pZdQ5gqQVJ7Pqgz/EIP-1559-Presentation?node-id=110%3A674\r\nI will update this after the tx signing/review view is ready.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/970207746/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/976358869",
    "html_url": "https://github.com/status-im/status-mobile/issues/12816#issuecomment-976358869",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/12816",
    "id": 976358869,
    "node_id": "IC_kwDOAx4p2c46Mg3V",
    "user": {
      "login": "flexsurfer",
      "id": 11790366,
      "node_id": "MDQ6VXNlcjExNzkwMzY2",
      "avatar_url": "https://avatars.githubusercontent.com/u/11790366?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/flexsurfer",
      "html_url": "https://github.com/flexsurfer",
      "followers_url": "https://api.github.com/users/flexsurfer/followers",
      "following_url": "https://api.github.com/users/flexsurfer/following{/other_user}",
      "gists_url": "https://api.github.com/users/flexsurfer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/flexsurfer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/flexsurfer/subscriptions",
      "organizations_url": "https://api.github.com/users/flexsurfer/orgs",
      "repos_url": "https://api.github.com/users/flexsurfer/repos",
      "events_url": "https://api.github.com/users/flexsurfer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/flexsurfer/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-11-23T10:03:59Z",
    "updated_at": "2021-11-23T10:03:59Z",
    "author_association": "MEMBER",
    "body": "this is what we get from infura\r\n```\r\n:code-32000\r\n:message\"gas required exceeds allowance (1429)\"\r\n```\r\n\r\nwe can't set default gas limit, because there is no default one, and we can't calculate it, so we have to show an error, also we can't show different messages , because -32000 code is general for many errors, we could parse string with message, but I'm not sure it's a right way ",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/976358869/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/976362000",
    "html_url": "https://github.com/status-im/status-mobile/issues/12816#issuecomment-976362000",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/12816",
    "id": 976362000,
    "node_id": "IC_kwDOAx4p2c46MhoQ",
    "user": {
      "login": "rasom",
      "id": 2364994,
      "node_id": "MDQ6VXNlcjIzNjQ5OTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2364994?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rasom",
      "html_url": "https://github.com/rasom",
      "followers_url": "https://api.github.com/users/rasom/followers",
      "following_url": "https://api.github.com/users/rasom/following{/other_user}",
      "gists_url": "https://api.github.com/users/rasom/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rasom/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rasom/subscriptions",
      "organizations_url": "https://api.github.com/users/rasom/orgs",
      "repos_url": "https://api.github.com/users/rasom/repos",
      "events_url": "https://api.github.com/users/rasom/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rasom/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-11-23T10:07:45Z",
    "updated_at": "2021-11-23T10:07:45Z",
    "author_association": "MEMBER",
    "body": "I'm not sure there is any kind of a bug here. A user will not be able to send a transaction, we can just disable an option to open that custom fee sheet as it won't make any difference. ",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/976362000/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/976364795",
    "html_url": "https://github.com/status-im/status-mobile/issues/12816#issuecomment-976364795",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/12816",
    "id": 976364795,
    "node_id": "IC_kwDOAx4p2c46MiT7",
    "user": {
      "login": "flexsurfer",
      "id": 11790366,
      "node_id": "MDQ6VXNlcjExNzkwMzY2",
      "avatar_url": "https://avatars.githubusercontent.com/u/11790366?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/flexsurfer",
      "html_url": "https://github.com/flexsurfer",
      "followers_url": "https://api.github.com/users/flexsurfer/followers",
      "following_url": "https://api.github.com/users/flexsurfer/following{/other_user}",
      "gists_url": "https://api.github.com/users/flexsurfer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/flexsurfer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/flexsurfer/subscriptions",
      "organizations_url": "https://api.github.com/users/flexsurfer/orgs",
      "repos_url": "https://api.github.com/users/flexsurfer/repos",
      "events_url": "https://api.github.com/users/flexsurfer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/flexsurfer/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-11-23T10:10:58Z",
    "updated_at": "2021-11-23T10:10:58Z",
    "author_association": "MEMBER",
    "body": "if we still want to change error message in this task, we can parse error message from infura and replace by our",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/976364795/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/976408146",
    "html_url": "https://github.com/status-im/status-mobile/issues/12816#issuecomment-976408146",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/12816",
    "id": 976408146,
    "node_id": "IC_kwDOAx4p2c46Ms5S",
    "user": {
      "login": "churik",
      "id": 4557972,
      "node_id": "MDQ6VXNlcjQ1NTc5NzI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4557972?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/churik",
      "html_url": "https://github.com/churik",
      "followers_url": "https://api.github.com/users/churik/followers",
      "following_url": "https://api.github.com/users/churik/following{/other_user}",
      "gists_url": "https://api.github.com/users/churik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/churik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/churik/subscriptions",
      "organizations_url": "https://api.github.com/users/churik/orgs",
      "repos_url": "https://api.github.com/users/churik/repos",
      "events_url": "https://api.github.com/users/churik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/churik/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-11-23T11:07:56Z",
    "updated_at": "2021-11-23T11:07:56Z",
    "author_association": "MEMBER",
    "body": "the issue is that validation error, in this case, is not really clear here\r\n\r\n>  we can just disable an option to open that custom fee sheet as it won't make any difference.\r\n\r\nAnd this will be a solution to prevent users from setting a custom gas limit, which can't be enough to cover tx fee and tx likely fail.\r\nMy vote is for disabling  custom fee sheet  for this case\r\n\r\nWould be awesome to have your opinion @hesterbruikman ",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/976408146/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
