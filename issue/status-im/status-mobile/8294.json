{
  "url": "https://api.github.com/repos/status-im/status-mobile/issues/8294",
  "repository_url": "https://api.github.com/repos/status-im/status-mobile",
  "labels_url": "https://api.github.com/repos/status-im/status-mobile/issues/8294/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-mobile/issues/8294/comments",
  "events_url": "https://api.github.com/repos/status-im/status-mobile/issues/8294/events",
  "html_url": "https://github.com/status-im/status-mobile/issues/8294",
  "id": 449313073,
  "node_id": "MDU6SXNzdWU0NDkzMTMwNzM=",
  "number": 8294,
  "title": "Revert to TtT contract with on-chain tribute storage",
  "user": {
    "login": "rachelhamlin",
    "id": 15470435,
    "node_id": "MDQ6VXNlcjE1NDcwNDM1",
    "avatar_url": "https://avatars.githubusercontent.com/u/15470435?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/rachelhamlin",
    "html_url": "https://github.com/rachelhamlin",
    "followers_url": "https://api.github.com/users/rachelhamlin/followers",
    "following_url": "https://api.github.com/users/rachelhamlin/following{/other_user}",
    "gists_url": "https://api.github.com/users/rachelhamlin/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/rachelhamlin/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/rachelhamlin/subscriptions",
    "organizations_url": "https://api.github.com/users/rachelhamlin/orgs",
    "repos_url": "https://api.github.com/users/rachelhamlin/repos",
    "events_url": "https://api.github.com/users/rachelhamlin/events{/privacy}",
    "received_events_url": "https://api.github.com/users/rachelhamlin/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 13,
  "created_at": "2019-05-28T14:46:09Z",
  "updated_at": "2020-09-17T10:48:24Z",
  "closed_at": "2020-09-17T10:48:24Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "### Description\n_Type_: Feature\n\n_Summary_: As a result of the issues found in #8129, we need to move storage of a user's tribute setting from IPFS to the TtT contract.\n\nThis means that we are also removing the personalized message from v1 of the feature. \n\n#### Expected behavior\nTtT works in 100% of scenarios.\n\nSettings flow no longer contains option to set a personalised message.\nChat flow only displays system message requesting tribute amount, no personalized message. \n\n![image](https://user-images.githubusercontent.com/15470435/58487719-00191c80-8160-11e9-8b92-0495e6f7896d.png)\n\n#### Actual behavior\nTtT is failing to send and receive information from IPFS.\n\n",
  "closed_by": {
    "login": "cammellos",
    "id": 1017008,
    "node_id": "MDQ6VXNlcjEwMTcwMDg=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1017008?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/cammellos",
    "html_url": "https://github.com/cammellos",
    "followers_url": "https://api.github.com/users/cammellos/followers",
    "following_url": "https://api.github.com/users/cammellos/following{/other_user}",
    "gists_url": "https://api.github.com/users/cammellos/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/cammellos/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/cammellos/subscriptions",
    "organizations_url": "https://api.github.com/users/cammellos/orgs",
    "repos_url": "https://api.github.com/users/cammellos/repos",
    "events_url": "https://api.github.com/users/cammellos/events{/privacy}",
    "received_events_url": "https://api.github.com/users/cammellos/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/8294/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-mobile/issues/8294/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/496556110",
    "html_url": "https://github.com/status-im/status-mobile/issues/8294#issuecomment-496556110",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/8294",
    "id": 496556110,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5NjU1NjExMA==",
    "user": {
      "login": "yenda",
      "id": 1181225,
      "node_id": "MDQ6VXNlcjExODEyMjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1181225?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yenda",
      "html_url": "https://github.com/yenda",
      "followers_url": "https://api.github.com/users/yenda/followers",
      "following_url": "https://api.github.com/users/yenda/following{/other_user}",
      "gists_url": "https://api.github.com/users/yenda/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yenda/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yenda/subscriptions",
      "organizations_url": "https://api.github.com/users/yenda/orgs",
      "repos_url": "https://api.github.com/users/yenda/repos",
      "events_url": "https://api.github.com/users/yenda/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yenda/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-28T15:03:20Z",
    "updated_at": "2019-05-28T15:03:20Z",
    "author_association": "CONTRIBUTOR",
    "body": "@3esmit is the simple contract already deployed? could you provide the address on testnet?",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/496556110/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/496634571",
    "html_url": "https://github.com/status-im/status-mobile/issues/8294#issuecomment-496634571",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/8294",
    "id": 496634571,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5NjYzNDU3MQ==",
    "user": {
      "login": "3esmit",
      "id": 224810,
      "node_id": "MDQ6VXNlcjIyNDgxMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/224810?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/3esmit",
      "html_url": "https://github.com/3esmit",
      "followers_url": "https://api.github.com/users/3esmit/followers",
      "following_url": "https://api.github.com/users/3esmit/following{/other_user}",
      "gists_url": "https://api.github.com/users/3esmit/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/3esmit/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/3esmit/subscriptions",
      "organizations_url": "https://api.github.com/users/3esmit/orgs",
      "repos_url": "https://api.github.com/users/3esmit/repos",
      "events_url": "https://api.github.com/users/3esmit/events{/privacy}",
      "received_events_url": "https://api.github.com/users/3esmit/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-28T18:27:58Z",
    "updated_at": "2019-05-28T18:27:58Z",
    "author_association": "MEMBER",
    "body": "@yenda Deployed in Ropsten. Let me know if you need a different network\r\n\r\nVersion without messages and default fee of 0.1 value: \r\nhttps://ropsten.etherscan.io/address/0x45d8274c1a4c6b5b956e8d0f44a9e78209b0bb77#code\r\nbrowser/MessageTribute.sol : \r\nbzz-raw://b3fc092f9b99fcc89693c9adb553acd2c01b19e7d585b2c58d600be6fe43c99f\r\nmetadata.json : \r\nbzz-raw://cbae2ca4219b4547c6fc3e8e7a0f3a12081b2a0cca376c72b2b40dc15d5b4dd0\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/496634571/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/496639652",
    "html_url": "https://github.com/status-im/status-mobile/issues/8294#issuecomment-496639652",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/8294",
    "id": 496639652,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5NjYzOTY1Mg==",
    "user": {
      "login": "3esmit",
      "id": 224810,
      "node_id": "MDQ6VXNlcjIyNDgxMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/224810?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/3esmit",
      "html_url": "https://github.com/3esmit",
      "followers_url": "https://api.github.com/users/3esmit/followers",
      "following_url": "https://api.github.com/users/3esmit/following{/other_user}",
      "gists_url": "https://api.github.com/users/3esmit/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/3esmit/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/3esmit/subscriptions",
      "organizations_url": "https://api.github.com/users/3esmit/orgs",
      "repos_url": "https://api.github.com/users/3esmit/repos",
      "events_url": "https://api.github.com/users/3esmit/events{/privacy}",
      "received_events_url": "https://api.github.com/users/3esmit/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-28T18:42:05Z",
    "updated_at": "2019-05-28T18:42:05Z",
    "author_association": "MEMBER",
    "body": "Ropsten https://ropsten.etherscan.io/address/0x45d8274c1a4c6b5b956e8d0f44a9e78209b0bb77#code\r\nRinkeby https://rinkeby.etherscan.io/address/0x63bb739fccdd08cf32defacfabad420d657259e7#code\r\nGoerli https://blockscout.com/eth/goerli/address/0x63bb739fccdd08cf32defacfabad420d657259e7/contracts\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/496639652/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/496917123",
    "html_url": "https://github.com/status-im/status-mobile/issues/8294#issuecomment-496917123",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/8294",
    "id": 496917123,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5NjkxNzEyMw==",
    "user": {
      "login": "yenda",
      "id": 1181225,
      "node_id": "MDQ6VXNlcjExODEyMjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1181225?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yenda",
      "html_url": "https://github.com/yenda",
      "followers_url": "https://api.github.com/users/yenda/followers",
      "following_url": "https://api.github.com/users/yenda/following{/other_user}",
      "gists_url": "https://api.github.com/users/yenda/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yenda/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yenda/subscriptions",
      "organizations_url": "https://api.github.com/users/yenda/orgs",
      "repos_url": "https://api.github.com/users/yenda/repos",
      "events_url": "https://api.github.com/users/yenda/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yenda/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-29T12:34:08Z",
    "updated_at": "2019-05-29T12:34:08Z",
    "author_association": "CONTRIBUTOR",
    "body": "@3esmit I don't think there should be a default tribute amount can you remove it? @rachelhamlin ",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/496917123/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/496917432",
    "html_url": "https://github.com/status-im/status-mobile/issues/8294#issuecomment-496917432",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/8294",
    "id": 496917432,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5NjkxNzQzMg==",
    "user": {
      "login": "rachelhamlin",
      "id": 15470435,
      "node_id": "MDQ6VXNlcjE1NDcwNDM1",
      "avatar_url": "https://avatars.githubusercontent.com/u/15470435?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rachelhamlin",
      "html_url": "https://github.com/rachelhamlin",
      "followers_url": "https://api.github.com/users/rachelhamlin/followers",
      "following_url": "https://api.github.com/users/rachelhamlin/following{/other_user}",
      "gists_url": "https://api.github.com/users/rachelhamlin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rachelhamlin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rachelhamlin/subscriptions",
      "organizations_url": "https://api.github.com/users/rachelhamlin/orgs",
      "repos_url": "https://api.github.com/users/rachelhamlin/repos",
      "events_url": "https://api.github.com/users/rachelhamlin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rachelhamlin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-29T12:35:05Z",
    "updated_at": "2019-05-29T12:35:05Z",
    "author_association": "CONTRIBUTOR",
    "body": "Yes please! 0 default.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/496917432/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/496918903",
    "html_url": "https://github.com/status-im/status-mobile/issues/8294#issuecomment-496918903",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/8294",
    "id": 496918903,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5NjkxODkwMw==",
    "user": {
      "login": "yenda",
      "id": 1181225,
      "node_id": "MDQ6VXNlcjExODEyMjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1181225?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yenda",
      "html_url": "https://github.com/yenda",
      "followers_url": "https://api.github.com/users/yenda/followers",
      "following_url": "https://api.github.com/users/yenda/following{/other_user}",
      "gists_url": "https://api.github.com/users/yenda/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yenda/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yenda/subscriptions",
      "organizations_url": "https://api.github.com/users/yenda/orgs",
      "repos_url": "https://api.github.com/users/yenda/repos",
      "events_url": "https://api.github.com/users/yenda/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yenda/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-29T12:39:24Z",
    "updated_at": "2019-05-29T12:39:24Z",
    "author_association": "CONTRIBUTOR",
    "body": "also I don't think we should have a way to set a default because it makes the reset method useless, the only place I see it useful is to remove tribute, but if instead it goes back to the default value it is misleading and probably not something someone will want. For this iteration we can make things as simple as possible. Btw idealy the method names should be `getTribute(address)`, `setTribute(uint256)`, `removeTribute()`",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/496918903/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/497414545",
    "html_url": "https://github.com/status-im/status-mobile/issues/8294#issuecomment-497414545",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/8294",
    "id": 497414545,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5NzQxNDU0NQ==",
    "user": {
      "login": "3esmit",
      "id": 224810,
      "node_id": "MDQ6VXNlcjIyNDgxMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/224810?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/3esmit",
      "html_url": "https://github.com/3esmit",
      "followers_url": "https://api.github.com/users/3esmit/followers",
      "following_url": "https://api.github.com/users/3esmit/following{/other_user}",
      "gists_url": "https://api.github.com/users/3esmit/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/3esmit/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/3esmit/subscriptions",
      "organizations_url": "https://api.github.com/users/3esmit/orgs",
      "repos_url": "https://api.github.com/users/3esmit/repos",
      "events_url": "https://api.github.com/users/3esmit/events{/privacy}",
      "received_events_url": "https://api.github.com/users/3esmit/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-30T17:32:47Z",
    "updated_at": "2019-05-30T17:44:59Z",
    "author_association": "MEMBER",
    "body": "I did the changes as you requested. _Kind reminder that I believe a default small fee is an important step against spam._\r\n\r\nI didnt included a `removeTribute()` because you can use `setTribute(0)`. The contract with default fee needed a resetFee function so it would start using the default again. As there is no default, the remove/reset tribute is not required. \r\n\r\nThis can be a boomer when we have separated Wallet and Identity, so I started thinking on how one wallet can pay for a chat only identity tribute to talk. \r\nSo I did two versions, one with MessageSigned capability, meaning that is possible of an externally owned account which don't hold any funds to sign a message and get it deployed by any other address. \r\nThis is possible using an ethereum signed message support in the contract, however I added a TTL to the message, to prevent it being reused in future, and also prevent user from creating a too large TTL. \r\n\r\nIm also in the research how to make an \"gas anonymizer\", so users dont tie wallet to chat identity, this seems to be possible by using a mixer to pay to the gas relayer. This research is happening in other swarm (Gas Abstraction/Identity/ERC725).\r\n\r\nThe first version, more simple, is available here:\r\nhttps://ropsten.etherscan.io/address/0xc61aa0287247a0398589a66fcd6146ec0f295432#contracts\r\nhttps://rinkeby.etherscan.io/address/0x326e29956334a352e8d6f24e22d781020311eba6#contracts\r\nhttps://goerli.etherscan.io/address/0x326e29956334a352e8d6f24e22d781020311eba6#contracts\r\nSources:\r\nhttps://github.com/status-im/contracts/blob/aa2d12c253b99b2d3d335db7d37446b2458f1293/contracts/communication/MessageTribute.sol\r\nMessageTribute.sol: [bzz-raw://af585a5421934776033d257b2f511412d6ac28e1c3fe259d91b88aa38164e826](https://swarm-gateways.net/bzz-raw:/af585a5421934776033d257b2f511412d6ac28e1c3fe259d91b88aa38164e826)\r\nmetadata.json: [bzz-raw://4ed0b73f2fe48042ae34f201e6b74a48c533aaf5d424b0101cd29c3f525fcf40](https://swarm-gateways.net/bzz-raw:/4ed0b73f2fe48042ae34f201e6b74a48c533aaf5d424b0101cd29c3f525fcf40)\r\n\r\nThe second version, with message signature support, is available here:\r\nhttps://ropsten.etherscan.io/address/0x048887496c59c55ca703d167becb9112ec32c18f#contracts\r\nhttps://rinkeby.etherscan.io/address/0x084dc950f387675044a1404842805678da3fc5a8#contracts\r\nhttps://goerli.etherscan.io/address/0x084dc950f387675044a1404842805678da3fc5a8#contracts\r\nSources:\r\nhttps://github.com/status-im/contracts/blob/9b916795a89416d63318799cf7bb6711f643bd33/contracts/communication/MessageTribute.sol\r\nMessageTribute.sol: [bzz-raw://5a8f467bcdc22628f363302b783d6a8c03252ca8d9161e5fb777699f90b224f9](https://swarm-gateways.net/bzz-raw:/5a8f467bcdc22628f363302b783d6a8c03252ca8d9161e5fb777699f90b224f9)\r\nmetadata.json: [bzz-raw://1870ccff990c1ff63a603d2bcf0f4c6181f2d7350f4831ce2d7a8faa49beb155](https://swarm-gateways.net/bzz-raw:/1870ccff990c1ff63a603d2bcf0f4c6181f2d7350f4831ce2d7a8faa49beb155)\r\n\r\nThe third version, with gas anonymizer support, would feature a similar change, an overload of `setTribute` function which contains the incentive to a random gas relayer to commit the transaction inchain and get paid in an zk-snarks mixer. \r\n",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/497414545/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 1,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/497626510",
    "html_url": "https://github.com/status-im/status-mobile/issues/8294#issuecomment-497626510",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/8294",
    "id": 497626510,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5NzYyNjUxMA==",
    "user": {
      "login": "rachelhamlin",
      "id": 15470435,
      "node_id": "MDQ6VXNlcjE1NDcwNDM1",
      "avatar_url": "https://avatars.githubusercontent.com/u/15470435?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rachelhamlin",
      "html_url": "https://github.com/rachelhamlin",
      "followers_url": "https://api.github.com/users/rachelhamlin/followers",
      "following_url": "https://api.github.com/users/rachelhamlin/following{/other_user}",
      "gists_url": "https://api.github.com/users/rachelhamlin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rachelhamlin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rachelhamlin/subscriptions",
      "organizations_url": "https://api.github.com/users/rachelhamlin/orgs",
      "repos_url": "https://api.github.com/users/rachelhamlin/repos",
      "events_url": "https://api.github.com/users/rachelhamlin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rachelhamlin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-31T08:35:14Z",
    "updated_at": "2019-05-31T08:35:14Z",
    "author_association": "CONTRIBUTOR",
    "body": "Thank you @3esmit!",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/497626510/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/497634456",
    "html_url": "https://github.com/status-im/status-mobile/issues/8294#issuecomment-497634456",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/8294",
    "id": 497634456,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5NzYzNDQ1Ng==",
    "user": {
      "login": "yenda",
      "id": 1181225,
      "node_id": "MDQ6VXNlcjExODEyMjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1181225?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yenda",
      "html_url": "https://github.com/yenda",
      "followers_url": "https://api.github.com/users/yenda/followers",
      "following_url": "https://api.github.com/users/yenda/following{/other_user}",
      "gists_url": "https://api.github.com/users/yenda/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yenda/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yenda/subscriptions",
      "organizations_url": "https://api.github.com/users/yenda/orgs",
      "repos_url": "https://api.github.com/users/yenda/repos",
      "events_url": "https://api.github.com/users/yenda/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yenda/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-31T09:01:04Z",
    "updated_at": "2019-05-31T09:01:04Z",
    "author_association": "CONTRIBUTOR",
    "body": "@3esmit Is there a way to use the simple contract and later on add the possibility to use the MessageSigned capability in another one while still using this one as registry so that old versions of status still have access?\r\nAlso if I set tribute to talk using the MessageSigned capability to which wallet are the tributes going to be paid? If I understand correctly I am still sending the fee to the signer which supposedly doesn't have an account at this address?",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/497634456/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/497671815",
    "html_url": "https://github.com/status-im/status-mobile/issues/8294#issuecomment-497671815",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/8294",
    "id": 497671815,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5NzY3MTgxNQ==",
    "user": {
      "login": "yenda",
      "id": 1181225,
      "node_id": "MDQ6VXNlcjExODEyMjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1181225?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yenda",
      "html_url": "https://github.com/yenda",
      "followers_url": "https://api.github.com/users/yenda/followers",
      "following_url": "https://api.github.com/users/yenda/following{/other_user}",
      "gists_url": "https://api.github.com/users/yenda/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yenda/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yenda/subscriptions",
      "organizations_url": "https://api.github.com/users/yenda/orgs",
      "repos_url": "https://api.github.com/users/yenda/repos",
      "events_url": "https://api.github.com/users/yenda/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yenda/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-31T11:10:42Z",
    "updated_at": "2019-05-31T11:10:42Z",
    "author_association": "CONTRIBUTOR",
    "body": "@3esmit thanks for the detailed post btw! \r\n\r\nAnother question, do we really need to emit a log for the simple contract?",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/497671815/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/498078928",
    "html_url": "https://github.com/status-im/status-mobile/issues/8294#issuecomment-498078928",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/8294",
    "id": 498078928,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5ODA3ODkyOA==",
    "user": {
      "login": "3esmit",
      "id": 224810,
      "node_id": "MDQ6VXNlcjIyNDgxMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/224810?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/3esmit",
      "html_url": "https://github.com/3esmit",
      "followers_url": "https://api.github.com/users/3esmit/followers",
      "following_url": "https://api.github.com/users/3esmit/following{/other_user}",
      "gists_url": "https://api.github.com/users/3esmit/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/3esmit/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/3esmit/subscriptions",
      "organizations_url": "https://api.github.com/users/3esmit/orgs",
      "repos_url": "https://api.github.com/users/3esmit/repos",
      "events_url": "https://api.github.com/users/3esmit/events{/privacy}",
      "received_events_url": "https://api.github.com/users/3esmit/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-06-03T00:30:12Z",
    "updated_at": "2019-06-03T00:30:12Z",
    "author_association": "MEMBER",
    "body": "The upgradability is not implemented on this contract. Migration process can be defined in UI, but would be painful. New contract can read from old contract to skip migration of already defined values in older contract. \r\n\r\nI can deploy this contract and use a UpgradableInstance.sol (Proxy Contract, uses delegatecall) pointing to it, so we can have upgradability. ",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/498078928/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/498081527",
    "html_url": "https://github.com/status-im/status-mobile/issues/8294#issuecomment-498081527",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/8294",
    "id": 498081527,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5ODA4MTUyNw==",
    "user": {
      "login": "3esmit",
      "id": 224810,
      "node_id": "MDQ6VXNlcjIyNDgxMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/224810?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/3esmit",
      "html_url": "https://github.com/3esmit",
      "followers_url": "https://api.github.com/users/3esmit/followers",
      "following_url": "https://api.github.com/users/3esmit/following{/other_user}",
      "gists_url": "https://api.github.com/users/3esmit/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/3esmit/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/3esmit/subscriptions",
      "organizations_url": "https://api.github.com/users/3esmit/orgs",
      "repos_url": "https://api.github.com/users/3esmit/repos",
      "events_url": "https://api.github.com/users/3esmit/events{/privacy}",
      "received_events_url": "https://api.github.com/users/3esmit/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-06-03T01:00:20Z",
    "updated_at": "2019-06-03T01:00:20Z",
    "author_association": "MEMBER",
    "body": "The use of events is not necessary, but they might be important for updating the UI accordingly to the changes.\r\n\r\nAs a common practice, meaningful state changes on the contract should fire events. \r\nEvents can improve the performance of the dapp, in an example, the dapp could load values of a list of address in background and cache them in local database, and subscribe to the according events that would update this cache database. \r\nWhen user interacts with this addresses the values would be locally available and would not have to be downloaded from lightserving nodes, improving UX.\r\nAlso, events can be filtered when they have \"indexed\" parameters, this allow Dapp to be notified by the blockchain node.  \r\nFor example in [ERC20](https://eips.ethereum.org/EIPS/eip-20) `event Transfer(address indexed _from, address indexed _to, uint256 _value)`\r\nThe wallet could subscribe to Transfer when `from` is the address of user, or when `to` is address of user, can accordingly display an notification in smartphone of this moving of funds, without having to check every transaction in blockchain. \r\nIts important to be bolded that events are ephemeral, they cannot be read from the contract, only from transactions, and they are fired automatically by the node when the new block have its transactions validated, so very old events would not be fired with a `fast sync`, only with `slow sync`, and this is just one of the caveats of events.\r\nSee this post about EVM events and problems https://hackernoon.com/ethereum-dapp-infrastructure-2b4f1e6bfa38\r\n\r\nHowever for this version of Tribute-to-Talk, indeed events are not necessary, as the values will be read from the contract always on demand, because we never know what is the new contact user will try to message, so we cannot cache that data locally, and once it's paid, there is no need of keeping sync on it. \r\n\r\nFor recurring payments/subscription model this events might be interesting depending on the features of the contract, for example, if the subscription value was changed, this could be grabbed from an event, instead of every time reading all subscriptions to see if they changed value. ",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/498081527/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/498182421",
    "html_url": "https://github.com/status-im/status-mobile/issues/8294#issuecomment-498182421",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/8294",
    "id": 498182421,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5ODE4MjQyMQ==",
    "user": {
      "login": "rachelhamlin",
      "id": 15470435,
      "node_id": "MDQ6VXNlcjE1NDcwNDM1",
      "avatar_url": "https://avatars.githubusercontent.com/u/15470435?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rachelhamlin",
      "html_url": "https://github.com/rachelhamlin",
      "followers_url": "https://api.github.com/users/rachelhamlin/followers",
      "following_url": "https://api.github.com/users/rachelhamlin/following{/other_user}",
      "gists_url": "https://api.github.com/users/rachelhamlin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rachelhamlin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rachelhamlin/subscriptions",
      "organizations_url": "https://api.github.com/users/rachelhamlin/orgs",
      "repos_url": "https://api.github.com/users/rachelhamlin/repos",
      "events_url": "https://api.github.com/users/rachelhamlin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rachelhamlin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-06-03T09:26:47Z",
    "updated_at": "2019-06-03T09:26:47Z",
    "author_association": "CONTRIBUTOR",
    "body": "> The upgradability is not implemented on this contract. Migration process can be defined in UI, but would be painful. New contract can read from old contract to skip migration of already defined values in older contract.\r\n\r\nDoes this have implications for #8047?",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/498182421/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
