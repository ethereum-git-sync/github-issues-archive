{
  "url": "https://api.github.com/repos/status-im/status-mobile/issues/12794",
  "repository_url": "https://api.github.com/repos/status-im/status-mobile",
  "labels_url": "https://api.github.com/repos/status-im/status-mobile/issues/12794/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-mobile/issues/12794/comments",
  "events_url": "https://api.github.com/repos/status-im/status-mobile/issues/12794/events",
  "html_url": "https://github.com/status-im/status-mobile/issues/12794",
  "id": 1045695658,
  "node_id": "I_kwDOAx4p2c4-VAyq",
  "number": 12794,
  "title": "No Android SDK available for Nix builds on Darwin aarch64",
  "user": {
    "login": "jakubgs",
    "id": 2212681,
    "node_id": "MDQ6VXNlcjIyMTI2ODE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jakubgs",
    "html_url": "https://github.com/jakubgs",
    "followers_url": "https://api.github.com/users/jakubgs/followers",
    "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
    "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
    "organizations_url": "https://api.github.com/users/jakubgs/orgs",
    "repos_url": "https://api.github.com/users/jakubgs/repos",
    "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jakubgs/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 448876669,
      "node_id": "MDU6TGFiZWw0NDg4NzY2Njk=",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/android",
      "name": "android",
      "color": "5319e7",
      "default": false,
      "description": null
    },
    {
      "id": 768896403,
      "node_id": "MDU6TGFiZWw3Njg4OTY0MDM=",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/developer-xp",
      "name": "developer-xp",
      "color": "475cc6",
      "default": false,
      "description": null
    },
    {
      "id": 793864892,
      "node_id": "MDU6TGFiZWw3OTM4NjQ4OTI=",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/devops",
      "name": "devops",
      "color": "71b503",
      "default": false,
      "description": null
    },
    {
      "id": 1311328202,
      "node_id": "MDU6TGFiZWwxMzExMzI4MjAy",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/nix",
      "name": "nix",
      "color": "0052cc",
      "default": false,
      "description": ""
    },
    {
      "id": 4052503522,
      "node_id": "LA_kwDOAx4p2c7xjEvi",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/E:MobileBuild",
      "name": "E:MobileBuild",
      "color": "50EC41",
      "default": false,
      "description": ""
    },
    {
      "id": 4052544927,
      "node_id": "LA_kwDOAx4p2c7xjO2f",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/E:DeveloperXP",
      "name": "E:DeveloperXP",
      "color": "0F662F",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": {
    "login": "jakubgs",
    "id": 2212681,
    "node_id": "MDQ6VXNlcjIyMTI2ODE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jakubgs",
    "html_url": "https://github.com/jakubgs",
    "followers_url": "https://api.github.com/users/jakubgs/followers",
    "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
    "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
    "organizations_url": "https://api.github.com/users/jakubgs/orgs",
    "repos_url": "https://api.github.com/users/jakubgs/repos",
    "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jakubgs/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 14,
  "created_at": "2021-11-05T10:51:34Z",
  "updated_at": "2023-06-26T16:12:52Z",
  "closed_at": null,
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "When @Jonathansoufer tried to build on his Mac with M1 `aarch64` CPU it fails with:\r\n```\r\nNo Android SDK tarballs are available for system architecture: aarch64-darwin\r\n```\r\nWhich is caused by this `if` in Android SDK derivation:\r\n```nix\r\n{\r\n  # Determine the Android os identifier from Nix's system identifier\r\n  os = if stdenv.system == \"x86_64-linux\" then \"linux\"\r\n    else if stdenv.system == \"x86_64-darwin\" then \"macosx\"\r\n    else throw \"No Android SDK tarballs are available for system architecture: ${stdenv.system}\";\r\n}\r\n```\r\nhttps://github.com/NixOS/nixpkgs/blob/65135081/pkgs/development/mobile/androidenv/compose-android-packages.nix#L31-L34\r\n\r\nSince currently packages do not appear to include any `aarch64-darwin` builds:\r\nhttps://github.com/NixOS/nixpkgs/blob/65135081/pkgs/development/mobile/androidenv/repo.json\r\n\r\n__EDIT__: The current solution is to simply not use an `arm64` shell to run builds, but instead use the [Rosetta 2](https://en.wikipedia.org/wiki/Rosetta_(software)) dynamic binary translator through the `arch -x86_64` command or [`Terminal x86` application](https://www.notion.so/Run-x86-Apps-including-homebrew-in-the-Terminal-on-Apple-Silicon-8350b43d97de4ce690f283277e958602).",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/12794/reactions",
    "total_count": 1,
    "+1": 1,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-mobile/issues/12794/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/961796544",
    "html_url": "https://github.com/status-im/status-mobile/issues/12794#issuecomment-961796544",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/12794",
    "id": 961796544,
    "node_id": "IC_kwDOAx4p2c45U9nA",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-11-05T10:52:18Z",
    "updated_at": "2021-11-05T10:52:18Z",
    "author_association": "MEMBER",
    "body": "There appears to be an Android Studio release build for `mac_arm`:\r\n\r\n![image](https://user-images.githubusercontent.com/2212681/140499666-cb17011e-18dc-498f-8cd1-8c063e7282fa.png)",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/961796544/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/961797670",
    "html_url": "https://github.com/status-im/status-mobile/issues/12794#issuecomment-961797670",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/12794",
    "id": 961797670,
    "node_id": "IC_kwDOAx4p2c45U94m",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-11-05T10:54:16Z",
    "updated_at": "2021-11-05T10:54:16Z",
    "author_association": "MEMBER",
    "body": "I run the [`generate.sh`](https://github.com/NixOS/nixpkgs/blob/65135081/pkgs/development/mobile/androidenv/generate.sh) script to get available packages, the XML files from Google do not appear to include any ARM builds:\r\n```\r\n > grep -iE '(aarch64|arm64)' repository2-1.xml \r\n\r\n > grep -iE '(aarch64|arm64)' addon2-1.xml     \r\n\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/961797670/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/961799414",
    "html_url": "https://github.com/status-im/status-mobile/issues/12794#issuecomment-961799414",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/12794",
    "id": 961799414,
    "node_id": "IC_kwDOAx4p2c45U-T2",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-11-05T10:57:26Z",
    "updated_at": "2021-11-05T10:57:26Z",
    "author_association": "MEMBER",
    "body": "And the [`mkrepo.rb`](https://github.com/NixOS/nixpkgs/blob/65135081/pkgs/development/mobile/androidenv/mkrepo.rb) script does not appear to have any lines referencing specific architectures.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/961799414/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/961850340",
    "html_url": "https://github.com/status-im/status-mobile/issues/12794#issuecomment-961850340",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/12794",
    "id": 961850340,
    "node_id": "IC_kwDOAx4p2c45VKvk",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-11-05T12:20:14Z",
    "updated_at": "2021-11-05T12:20:14Z",
    "author_association": "MEMBER",
    "body": "But there's more to this than just not being able to build Android on ARM64 MacOS.\r\n\r\nThe issue is that `gomobile` necessary to build `status-go` on MacOS for iOS is currently built by default with support for both iOS and Android platforms, which makes it require Android SDK at build time, which triggers the dependency on Android SDK even if we're just building for iOS.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/961850340/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/961909826",
    "html_url": "https://github.com/status-im/status-mobile/issues/12794#issuecomment-961909826",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/12794",
    "id": 961909826,
    "node_id": "IC_kwDOAx4p2c45VZRC",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-11-05T13:49:53Z",
    "updated_at": "2021-11-05T13:49:53Z",
    "author_association": "MEMBER",
    "body": "I've made a fix for Gomobile builds that makes Android SDK optional: https://github.com/status-im/status-react/pull/12797\r\n\r\n* https://github.com/status-im/status-react/pull/12797\r\n* https://github.com/NixOS/nixpkgs/pull/144748",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/961909826/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1013870312",
    "html_url": "https://github.com/status-im/status-mobile/issues/12794#issuecomment-1013870312",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/12794",
    "id": 1013870312,
    "node_id": "IC_kwDOAx4p2c48bm7o",
    "user": {
      "login": "chayleaf",
      "id": 9590981,
      "node_id": "MDQ6VXNlcjk1OTA5ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9590981?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chayleaf",
      "html_url": "https://github.com/chayleaf",
      "followers_url": "https://api.github.com/users/chayleaf/followers",
      "following_url": "https://api.github.com/users/chayleaf/following{/other_user}",
      "gists_url": "https://api.github.com/users/chayleaf/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chayleaf/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chayleaf/subscriptions",
      "organizations_url": "https://api.github.com/users/chayleaf/orgs",
      "repos_url": "https://api.github.com/users/chayleaf/repos",
      "events_url": "https://api.github.com/users/chayleaf/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chayleaf/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-16T12:50:44Z",
    "updated_at": "2022-01-16T12:50:44Z",
    "author_association": "NONE",
    "body": "Do I understand correctly that NixOS uses binary SDK releases, despite it being open-source?",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1013870312/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1014377624",
    "html_url": "https://github.com/status-im/status-mobile/issues/12794#issuecomment-1014377624",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/12794",
    "id": 1014377624,
    "node_id": "IC_kwDOAx4p2c48diyY",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-17T10:41:09Z",
    "updated_at": "2022-01-17T10:41:09Z",
    "author_association": "MEMBER",
    "body": "We use what `nixpkgs` provides, which is using the distribution provided by Google:\r\n\r\nhttps://github.com/NixOS/nixpkgs/blob/master/pkgs/development/mobile/androidenv/repo.json\r\nhttps://github.com/NixOS/nixpkgs/blob/master/pkgs/development/mobile/androidenv/fetchrepo.sh\r\n\r\nNow, it would be possible to build our own, I see two options:\r\n\r\n- Build it by hand, then upload it somewhere in a similar/same structure as Google does\r\n- Implement a proper build of Android SDK in Nix and build it from source on demand\r\n\r\nThis would most probably involve quite a lot of work, but it should be doable in theory.\r\nTruth be told, if Android SDK distribution would be compromised anyone and everyone would be fucked, since I do not know of any project that builds their own Android SDK. Would be interesting to see some examples tho.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1014377624/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1014564280",
    "html_url": "https://github.com/status-im/status-mobile/issues/12794#issuecomment-1014564280",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/12794",
    "id": 1014564280,
    "node_id": "IC_kwDOAx4p2c48eQW4",
    "user": {
      "login": "chayleaf",
      "id": 9590981,
      "node_id": "MDQ6VXNlcjk1OTA5ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9590981?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chayleaf",
      "html_url": "https://github.com/chayleaf",
      "followers_url": "https://api.github.com/users/chayleaf/followers",
      "following_url": "https://api.github.com/users/chayleaf/following{/other_user}",
      "gists_url": "https://api.github.com/users/chayleaf/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chayleaf/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chayleaf/subscriptions",
      "organizations_url": "https://api.github.com/users/chayleaf/orgs",
      "repos_url": "https://api.github.com/users/chayleaf/repos",
      "events_url": "https://api.github.com/users/chayleaf/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chayleaf/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-17T13:45:05Z",
    "updated_at": "2022-01-17T14:45:12Z",
    "author_association": "NONE",
    "body": "I was recently bitten by the fact Nix doesn't build Android SDK from source - I wanted to install fdroidserver on an arm64 machine, but it has an optional (but recommended) dependency on apksigner. I simply removed the dependency with an overlay, but it's a suboptimal solution. There probably isn't a project that builds the entire SDK from source (There used to be one before), but some parts are certainly built from source by other distros. See https://github.com/nmeum/android-tools\r\n\r\nAlso, the binary builds are [non-free](https://developer.android.com/studio/terms.html) (it requires you to accept an EULA), but the source code is free software - which is why I asked the question. As far as I can tell, the packages are properly marked as unfree in https://github.com/NixOS/nixpkgs/blob/6b6d2abfa0cd7d8c64a79647ca6bcac64e3695d9/pkgs/development/mobile/androidenv/tools/26.nix#L39, but I'm not sure if all of them are",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1014564280/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1014716571",
    "html_url": "https://github.com/status-im/status-mobile/issues/12794#issuecomment-1014716571",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/12794",
    "id": 1014716571,
    "node_id": "IC_kwDOAx4p2c48e1ib",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-17T16:30:48Z",
    "updated_at": "2022-01-17T16:30:48Z",
    "author_association": "MEMBER",
    "body": "We don't consider implementing Android SDK builds from source as something high priority.\r\n\r\nI might look into it eventually, but not anytime soon.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1014716571/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1014756348",
    "html_url": "https://github.com/status-im/status-mobile/issues/12794#issuecomment-1014756348",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/12794",
    "id": 1014756348,
    "node_id": "IC_kwDOAx4p2c48e_P8",
    "user": {
      "login": "chayleaf",
      "id": 9590981,
      "node_id": "MDQ6VXNlcjk1OTA5ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9590981?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chayleaf",
      "html_url": "https://github.com/chayleaf",
      "followers_url": "https://api.github.com/users/chayleaf/followers",
      "following_url": "https://api.github.com/users/chayleaf/following{/other_user}",
      "gists_url": "https://api.github.com/users/chayleaf/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chayleaf/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chayleaf/subscriptions",
      "organizations_url": "https://api.github.com/users/chayleaf/orgs",
      "repos_url": "https://api.github.com/users/chayleaf/repos",
      "events_url": "https://api.github.com/users/chayleaf/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chayleaf/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-17T17:22:38Z",
    "updated_at": "2022-01-17T17:22:38Z",
    "author_association": "NONE",
    "body": "that makes sense, i might look into it too at some point, but it doesn't really matter that much for me either",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1014756348/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1458112663",
    "html_url": "https://github.com/status-im/status-mobile/issues/12794#issuecomment-1458112663",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/12794",
    "id": 1458112663,
    "node_id": "IC_kwDOAx4p2c5W6QiX",
    "user": {
      "login": "danwdart",
      "id": 334257,
      "node_id": "MDQ6VXNlcjMzNDI1Nw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/334257?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/danwdart",
      "html_url": "https://github.com/danwdart",
      "followers_url": "https://api.github.com/users/danwdart/followers",
      "following_url": "https://api.github.com/users/danwdart/following{/other_user}",
      "gists_url": "https://api.github.com/users/danwdart/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/danwdart/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/danwdart/subscriptions",
      "organizations_url": "https://api.github.com/users/danwdart/orgs",
      "repos_url": "https://api.github.com/users/danwdart/repos",
      "events_url": "https://api.github.com/users/danwdart/events{/privacy}",
      "received_events_url": "https://api.github.com/users/danwdart/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-03-07T12:46:54Z",
    "updated_at": "2023-03-07T12:46:54Z",
    "author_association": "NONE",
    "body": "Still seeing this, which is breaking workflows on this architecture. What can I add to shell.nix to use it properly?",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1458112663/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1458406896",
    "html_url": "https://github.com/status-im/status-mobile/issues/12794#issuecomment-1458406896",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/12794",
    "id": 1458406896,
    "node_id": "IC_kwDOAx4p2c5W7YXw",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-03-07T15:53:09Z",
    "updated_at": "2023-03-07T15:53:09Z",
    "author_association": "MEMBER",
    "body": "If there are no pre-built assets for given OS and architecture than nothing.\r\nAside from trying to build Android SDK for given platform yourself. But good luck with that.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1458406896/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1560663313",
    "html_url": "https://github.com/status-im/status-mobile/issues/12794#issuecomment-1560663313",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/12794",
    "id": 1560663313,
    "node_id": "IC_kwDOAx4p2c5dBdUR",
    "user": {
      "login": "BalogunofAfrica",
      "id": 45393944,
      "node_id": "MDQ6VXNlcjQ1MzkzOTQ0",
      "avatar_url": "https://avatars.githubusercontent.com/u/45393944?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/BalogunofAfrica",
      "html_url": "https://github.com/BalogunofAfrica",
      "followers_url": "https://api.github.com/users/BalogunofAfrica/followers",
      "following_url": "https://api.github.com/users/BalogunofAfrica/following{/other_user}",
      "gists_url": "https://api.github.com/users/BalogunofAfrica/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/BalogunofAfrica/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/BalogunofAfrica/subscriptions",
      "organizations_url": "https://api.github.com/users/BalogunofAfrica/orgs",
      "repos_url": "https://api.github.com/users/BalogunofAfrica/repos",
      "events_url": "https://api.github.com/users/BalogunofAfrica/events{/privacy}",
      "received_events_url": "https://api.github.com/users/BalogunofAfrica/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-24T08:19:36Z",
    "updated_at": "2023-05-24T08:19:36Z",
    "author_association": "NONE",
    "body": "Just another note for anyone who this issue persists for (like me) after using rosetta. \r\n\r\nYou might have to uninstall nix and reinstall it using the x86 terminal (the rosetta one), then you're good to go.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1560663313/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1607803728",
    "html_url": "https://github.com/status-im/status-mobile/issues/12794#issuecomment-1607803728",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/12794",
    "id": 1607803728,
    "node_id": "IC_kwDOAx4p2c5f1SNQ",
    "user": {
      "login": "yakimant",
      "id": 1529006,
      "node_id": "MDQ6VXNlcjE1MjkwMDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1529006?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yakimant",
      "html_url": "https://github.com/yakimant",
      "followers_url": "https://api.github.com/users/yakimant/followers",
      "following_url": "https://api.github.com/users/yakimant/following{/other_user}",
      "gists_url": "https://api.github.com/users/yakimant/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yakimant/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yakimant/subscriptions",
      "organizations_url": "https://api.github.com/users/yakimant/orgs",
      "repos_url": "https://api.github.com/users/yakimant/repos",
      "events_url": "https://api.github.com/users/yakimant/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yakimant/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-26T16:12:51Z",
    "updated_at": "2023-06-26T16:12:51Z",
    "author_association": "CONTRIBUTOR",
    "body": "Another workaround perged, which doesn't require any setup: https://github.com/status-im/status-mobile/pull/16237",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1607803728/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
