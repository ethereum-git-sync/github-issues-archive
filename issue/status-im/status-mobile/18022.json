{
  "url": "https://api.github.com/repos/status-im/status-mobile/issues/18022",
  "repository_url": "https://api.github.com/repos/status-im/status-mobile",
  "labels_url": "https://api.github.com/repos/status-im/status-mobile/issues/18022/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-mobile/issues/18022/comments",
  "events_url": "https://api.github.com/repos/status-im/status-mobile/issues/18022/events",
  "html_url": "https://github.com/status-im/status-mobile/issues/18022",
  "id": 2016393839,
  "node_id": "I_kwDOAx4p2c54L7pv",
  "number": 18022,
  "title": "Messages reliability issues",
  "user": {
    "login": "pavloburykh",
    "id": 97245802,
    "node_id": "U_kgDOBcvaag",
    "avatar_url": "https://avatars.githubusercontent.com/u/97245802?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/pavloburykh",
    "html_url": "https://github.com/pavloburykh",
    "followers_url": "https://api.github.com/users/pavloburykh/followers",
    "following_url": "https://api.github.com/users/pavloburykh/following{/other_user}",
    "gists_url": "https://api.github.com/users/pavloburykh/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/pavloburykh/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/pavloburykh/subscriptions",
    "organizations_url": "https://api.github.com/users/pavloburykh/orgs",
    "repos_url": "https://api.github.com/users/pavloburykh/repos",
    "events_url": "https://api.github.com/users/pavloburykh/events{/privacy}",
    "received_events_url": "https://api.github.com/users/pavloburykh/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 3990911030,
      "node_id": "LA_kwDOAx4p2c7t4Hg2",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/E:Mobile%20Bug%20MVP",
      "name": "E:Mobile Bug MVP",
      "color": "B60205",
      "default": false,
      "description": ""
    },
    {
      "id": 5818300473,
      "node_id": "LA_kwDOAx4p2c8AAAABWsw4OQ",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/E:Mobile%20Release%201.26",
      "name": "E:Mobile Release 1.26",
      "color": "B240A1",
      "default": false,
      "description": ""
    },
    {
      "id": 6266057070,
      "node_id": "LA_kwDOAx4p2c8AAAABdXxxbg",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/message%20reliability",
      "name": "message reliability",
      "color": "CD3677",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": {
    "url": "https://api.github.com/repos/status-im/status-mobile/milestones/69",
    "html_url": "https://github.com/status-im/status-mobile/milestone/69",
    "labels_url": "https://api.github.com/repos/status-im/status-mobile/milestones/69/labels",
    "id": 9699548,
    "node_id": "MI_kwDOAx4p2c4AlADc",
    "number": 69,
    "title": "1.26.0 - Alpha",
    "description": "Mobile dev team priorities In priority order:\r\n\r\n**1. Finish anything that wasn't completed in the previous 1.25 cycle**\r\n\r\n**2. Fix bugs, both functional and UX fit-and-finish defects.**  \r\n\r\n- Great progress during 1.25 on fixing UX fit-and-finish defects :-)  Let's aim to close all issue tagged \"E:Design Feedback 1.24\" by the end of this cycle.\r\n\r\n- Test all Communities functionality using the Public Test Community that will feature all types of token gating that Iuri is going to set up.  \r\n\r\n- Test how Status Mobile responds to community admin changes are made in Status Desktop e.g. when a channel is added or deleted or renamed, is the correctly reflected in Status Mobile?  Are changes to Community meta info like name and banner image correctly reflected in Status Mobile?  Etc, etc...\r\n\r\n- We need to get our quality bar to where we want it to be, and then keep tech. debt at a roughly fixed level as we build out any additional functionality.\r\n\r\n- Going forward, as much as is sensible, all new functionality should meet the higher quality bar we are aiming for before landing.\r\n\r\n**3. Fix any remaining issues related to syncing with Desktop**\r\n\r\n\r\n**--- Things that should NOT be worked on this cycle ---**\r\n\r\n- We shouldn't start anything in Settings or Profile related\r\n\r\n\r\n------------------------\r\n\r\n**Mobile Wallet dev team priority:**\r\n\r\n- Continue building out Mobile wallet MVP\r\n",
    "creator": {
      "login": "John-44",
      "id": 22846356,
      "node_id": "MDQ6VXNlcjIyODQ2MzU2",
      "avatar_url": "https://avatars.githubusercontent.com/u/22846356?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/John-44",
      "html_url": "https://github.com/John-44",
      "followers_url": "https://api.github.com/users/John-44/followers",
      "following_url": "https://api.github.com/users/John-44/following{/other_user}",
      "gists_url": "https://api.github.com/users/John-44/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/John-44/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/John-44/subscriptions",
      "organizations_url": "https://api.github.com/users/John-44/orgs",
      "repos_url": "https://api.github.com/users/John-44/repos",
      "events_url": "https://api.github.com/users/John-44/events{/privacy}",
      "received_events_url": "https://api.github.com/users/John-44/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 1,
    "closed_issues": 81,
    "state": "open",
    "created_at": "2023-07-26T12:45:31Z",
    "updated_at": "2023-12-08T11:40:46Z",
    "due_on": "2023-11-09T08:00:00Z",
    "closed_at": null
  },
  "comments": 0,
  "created_at": "2023-11-29T11:37:14Z",
  "updated_at": "2023-12-08T10:13:06Z",
  "closed_at": null,
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "Originally reported here https://github.com/status-im/status-mobile/pull/17979#issuecomment-1830133657 cc @vitvly \r\n\r\nIssues were found during testing PR with updated go branch. That's why during investigation of these issues developer should use the build that is looking at current go develop branch, i.e. not our mobile develop, because we haven't updated go in our develop yet.\r\n\r\nMind that sometimes it is difficult to reproduce the issues. Using the same PR builds I have managed to reproduce the bugs easily one day and on the next day none of the bugs were reproduced by me on the same builds. \r\n\r\nHere are the logs of IOS and Android builds used in testing session\r\n\r\n[Android_logs_delivery_session.zip](https://github.com/status-im/status-mobile/files/13490227/Android_logs_delivery_session.zip)\r\n[IOS_logs_delivery session.zip](https://github.com/status-im/status-mobile/files/13490228/IOS_logs_delivery.session.zip)\r\n\r\n### ISSUE 1. Part of the messages are not delivered in community to Receiver who was offline during messages were sent by Sender\r\n\r\n**Preconditions:** User A and User B are members of same community. \r\n\r\n**Steps:**\r\n\r\n1. User A and User B open the same channel\r\n2. User B goes offline\r\n3. User A sends a stack of messages, let's say 10 messages in a row\r\n4. User B comes back online\r\n5. See if all messages are delivered for User B\r\n\r\n\r\n**Actual result:** sometimes only part of the messages are delivered. Sometimes messages are delivered with a delay.. \r\n\r\nOn the video below IOS is Sender, Android is Receiver. \r\n\r\nhttps://github.com/status-im/status-mobile/assets/97245802/0eea5605-a97d-4cea-ac41-8f52ca2d62da\r\n\r\nScreenshot with comparison Sender's and Receiver's history taken 20 minutes after sending messages. As can be observed, 3 of 10  messages has not been delivered\r\n\r\n<img width=\"902\" alt=\"photo_2023-11-28 17 28 50 jpeg 2023-11-28 17-29-22\" src=\"https://github.com/status-im/status-mobile/assets/97245802/3a3bf8a6-883c-4ca9-9921-f4f0d4da6f7f\">\r\n\r\nAnother screenshot with comparison of another stack of messages. Taken after 1.5 hour after sending. Only 3 of 9 messages have been delivered to Receiver. \r\n\r\n<img width=\"897\" alt=\"photo_2023-11-28 17 35 17 jpeg 2023-11-28 17-35-49\" src=\"https://github.com/status-im/status-mobile/assets/97245802/caba5615-3317-444d-a280-57494de378de\">\r\n\r\n\r\n### ISSUE 2 Messages stuck in sending status for a long time despite the message can be already sent in fact\r\n\r\n**Actual result:** can be observed in Video from the above Issue 1. Messages stay greyed out (in sending status) for a long time. \r\n\r\n\r\n### ISSUE 3 Sometimes messages are not delivered even when both Sender and Receiver are online\r\n\r\nhttps://github.com/status-im/status-mobile/assets/97245802/549e535f-4c66-4a8e-92ec-5f964b07facc\r\n\r\n\r\n### ISSUE 4 Crash on logout\r\n\r\nThis one can be unrelated to data delivery issues. Maybe attached logs can provide some info on this crash. \r\n\r\nI have faced crash on logout. Reproduced once on IOS and once on Android. Below video is from Android. \r\n\r\nhttps://github.com/status-im/status-mobile/assets/97245802/a4f8d6b0-0ba5-4848-bcc9-51f4fe36cb75\r\n\r\n\r\n### Additional Information\r\n\r\n- Status version: [PR](https://github.com/status-im/status-mobile/pull/17979) builds with updated go branch \r\n- Operating System: Android, iOS\r\n\r\n\r\n\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/18022/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-mobile/issues/18022/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[

]
