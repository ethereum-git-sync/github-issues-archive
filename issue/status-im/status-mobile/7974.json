{
  "url": "https://api.github.com/repos/status-im/status-mobile/issues/7974",
  "repository_url": "https://api.github.com/repos/status-im/status-mobile",
  "labels_url": "https://api.github.com/repos/status-im/status-mobile/issues/7974/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-mobile/issues/7974/comments",
  "events_url": "https://api.github.com/repos/status-im/status-mobile/issues/7974/events",
  "html_url": "https://github.com/status-im/status-mobile/issues/7974",
  "id": 432841466,
  "node_id": "MDU6SXNzdWU0MzI4NDE0NjY=",
  "number": 7974,
  "title": "upon re-syncing unseen message badges disappear(marked seen) without seeing the new messages",
  "user": {
    "login": "bitsikka",
    "id": 42058840,
    "node_id": "MDQ6VXNlcjQyMDU4ODQw",
    "avatar_url": "https://avatars.githubusercontent.com/u/42058840?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/bitsikka",
    "html_url": "https://github.com/bitsikka",
    "followers_url": "https://api.github.com/users/bitsikka/followers",
    "following_url": "https://api.github.com/users/bitsikka/following{/other_user}",
    "gists_url": "https://api.github.com/users/bitsikka/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/bitsikka/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/bitsikka/subscriptions",
    "organizations_url": "https://api.github.com/users/bitsikka/orgs",
    "repos_url": "https://api.github.com/users/bitsikka/repos",
    "events_url": "https://api.github.com/users/bitsikka/events{/privacy}",
    "received_events_url": "https://api.github.com/users/bitsikka/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2019-04-13T12:20:58Z",
  "updated_at": "2019-05-20T20:57:46Z",
  "closed_at": "2019-05-01T17:44:45Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "### User Story\nAs a user when I hit \"Sync all devices\" on device A which was already synced with device B, If there are new unseen messages for already synced public chats in both device, I do not want the public chats in device B to be marked as seen.\n\n### Expected behavior\nunseen messages in target sync device B are not marked as seen or unseen badges are not affected upon sync\n\n### Actual behavior\nunseen messages badges disappear upon sync\n\n### Reproduction\n- Have some public chats in device A\n- Sync with device B\n- be in any non chat screen(can be home)\n- wait and let any of the public chat receive new messages (you can use device C to send a message to the common public chat if you want)\n- press \"Sync all devices\" in device A\n- observe in device B in home screen that the new message badges disappear without you opening the public chat(s) to actually see the message\n\n### Solution\nconsider merging #7820 which was a part of #7454 but later requested to be made as a separate PR",
  "closed_by": {
    "login": "bitsikka",
    "id": 42058840,
    "node_id": "MDQ6VXNlcjQyMDU4ODQw",
    "avatar_url": "https://avatars.githubusercontent.com/u/42058840?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/bitsikka",
    "html_url": "https://github.com/bitsikka",
    "followers_url": "https://api.github.com/users/bitsikka/followers",
    "following_url": "https://api.github.com/users/bitsikka/following{/other_user}",
    "gists_url": "https://api.github.com/users/bitsikka/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/bitsikka/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/bitsikka/subscriptions",
    "organizations_url": "https://api.github.com/users/bitsikka/orgs",
    "repos_url": "https://api.github.com/users/bitsikka/repos",
    "events_url": "https://api.github.com/users/bitsikka/events{/privacy}",
    "received_events_url": "https://api.github.com/users/bitsikka/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/7974/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-mobile/issues/7974/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/484424001",
    "html_url": "https://github.com/status-im/status-mobile/issues/7974#issuecomment-484424001",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/7974",
    "id": 484424001,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4NDQyNDAwMQ==",
    "user": {
      "login": "bitsikka",
      "id": 42058840,
      "node_id": "MDQ6VXNlcjQyMDU4ODQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/42058840?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bitsikka",
      "html_url": "https://github.com/bitsikka",
      "followers_url": "https://api.github.com/users/bitsikka/followers",
      "following_url": "https://api.github.com/users/bitsikka/following{/other_user}",
      "gists_url": "https://api.github.com/users/bitsikka/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bitsikka/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bitsikka/subscriptions",
      "organizations_url": "https://api.github.com/users/bitsikka/orgs",
      "repos_url": "https://api.github.com/users/bitsikka/repos",
      "events_url": "https://api.github.com/users/bitsikka/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bitsikka/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-04-18T09:24:35Z",
    "updated_at": "2019-04-18T09:24:35Z",
    "author_association": "CONTRIBUTOR",
    "body": "Note(for future): Just realized that this, in one case is a feature, not a bug ðŸ˜… . Like when one has read all messages in device A and then one re-syncs, one would expect all messages in device B to be marked as read.\r\n\r\nHowever, currently,  we have not explicitly implemented the feature of syncing messages and their read state yet. In this case, it is probably good default to not affect the read state while syncing for now.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/484424001/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
