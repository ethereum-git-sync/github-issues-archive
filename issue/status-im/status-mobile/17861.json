{
  "url": "https://api.github.com/repos/status-im/status-mobile/issues/17861",
  "repository_url": "https://api.github.com/repos/status-im/status-mobile",
  "labels_url": "https://api.github.com/repos/status-im/status-mobile/issues/17861/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-mobile/issues/17861/comments",
  "events_url": "https://api.github.com/repos/status-im/status-mobile/issues/17861/events",
  "html_url": "https://github.com/status-im/status-mobile/issues/17861",
  "id": 1985104124,
  "node_id": "I_kwDOAx4p2c52Ukj8",
  "number": 17861,
  "title": "Unable to Accept Join Requests in Token-Gated Community",
  "user": {
    "login": "ajayesivan",
    "id": 19279756,
    "node_id": "MDQ6VXNlcjE5Mjc5NzU2",
    "avatar_url": "https://avatars.githubusercontent.com/u/19279756?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ajayesivan",
    "html_url": "https://github.com/ajayesivan",
    "followers_url": "https://api.github.com/users/ajayesivan/followers",
    "following_url": "https://api.github.com/users/ajayesivan/following{/other_user}",
    "gists_url": "https://api.github.com/users/ajayesivan/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ajayesivan/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ajayesivan/subscriptions",
    "organizations_url": "https://api.github.com/users/ajayesivan/orgs",
    "repos_url": "https://api.github.com/users/ajayesivan/repos",
    "events_url": "https://api.github.com/users/ajayesivan/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ajayesivan/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 3990911030,
      "node_id": "LA_kwDOAx4p2c7t4Hg2",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/E:Mobile%20Bug%20MVP",
      "name": "E:Mobile Bug MVP",
      "color": "B60205",
      "default": false,
      "description": ""
    },
    {
      "id": 3990935220,
      "node_id": "LA_kwDOAx4p2c7t4Na0",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/E:Mobile%20Communities%20MVP",
      "name": "E:Mobile Communities MVP",
      "color": "0992A8",
      "default": false,
      "description": ""
    },
    {
      "id": 5818300473,
      "node_id": "LA_kwDOAx4p2c8AAAABWsw4OQ",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/E:Mobile%20Release%201.26",
      "name": "E:Mobile Release 1.26",
      "color": "B240A1",
      "default": false,
      "description": ""
    },
    {
      "id": 6136674080,
      "node_id": "LA_kwDOAx4p2c8AAAABbcY3IA",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/Release%20Blocker",
      "name": "Release Blocker",
      "color": "C53A1F",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": {
    "login": "FFFra",
    "id": 5999878,
    "node_id": "MDQ6VXNlcjU5OTk4Nzg=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5999878?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/FFFra",
    "html_url": "https://github.com/FFFra",
    "followers_url": "https://api.github.com/users/FFFra/followers",
    "following_url": "https://api.github.com/users/FFFra/following{/other_user}",
    "gists_url": "https://api.github.com/users/FFFra/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/FFFra/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/FFFra/subscriptions",
    "organizations_url": "https://api.github.com/users/FFFra/orgs",
    "repos_url": "https://api.github.com/users/FFFra/repos",
    "events_url": "https://api.github.com/users/FFFra/events{/privacy}",
    "received_events_url": "https://api.github.com/users/FFFra/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "FFFra",
      "id": 5999878,
      "node_id": "MDQ6VXNlcjU5OTk4Nzg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5999878?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/FFFra",
      "html_url": "https://github.com/FFFra",
      "followers_url": "https://api.github.com/users/FFFra/followers",
      "following_url": "https://api.github.com/users/FFFra/following{/other_user}",
      "gists_url": "https://api.github.com/users/FFFra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/FFFra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/FFFra/subscriptions",
      "organizations_url": "https://api.github.com/users/FFFra/orgs",
      "repos_url": "https://api.github.com/users/FFFra/repos",
      "events_url": "https://api.github.com/users/FFFra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/FFFra/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": {
    "url": "https://api.github.com/repos/status-im/status-mobile/milestones/69",
    "html_url": "https://github.com/status-im/status-mobile/milestone/69",
    "labels_url": "https://api.github.com/repos/status-im/status-mobile/milestones/69/labels",
    "id": 9699548,
    "node_id": "MI_kwDOAx4p2c4AlADc",
    "number": 69,
    "title": "1.26.0 - Alpha",
    "description": "Mobile dev team priorities In priority order:\r\n\r\n**1. Finish anything that wasn't completed in the previous 1.25 cycle**\r\n\r\n**2. Select which accounts to share with each Community's control node**\r\n- Designs should be ready for review and dev feedback by 18th September\r\n\r\n**3. Fix bugs, both functional and UX fit-and-finish defects.**  \r\n\r\n- Great progress during 1.25 on fixing UX fit-and-finish defects :-)  Let's aim to close all issue tagged \"E:Design Feedback 1.24\" by the end of this cycle.\r\n\r\n- Test all Communities functionality using the Public Test Community that will feature all types of token gating that Iuri is going to set up.  \r\n\r\n- Test how Status Mobile responds to community admin changes are made in Status Desktop e.g. when a channel is added or deleted or renamed, is the correctly reflected in Status Mobile?  Are changes to Community meta info like name and banner image correctly reflected in Status Mobile?  Etc, etc...\r\n\r\n- We need to get our quality bar to where we want it to be, and then keep tech. debt at a roughly fixed level as we build out any additional functionality.\r\n\r\n- Going forward, as much as is sensible, all new functionality should meet the higher quality bar we are aiming for before landing.\r\n\r\n**4. Fix any remaining issues related to syncing with Desktop**\r\n\r\n**5. Implement the OOBE light/dark theme selector screen**\r\n- Only if the design for this is ready in time, otherwise it's ok if this happens next cycle\r\n\r\n**--- Things that should NOT be worked on this cycle ---**\r\n\r\n- We shouldn't start anything in Settings or Profile related\r\n\r\n\r\n------------------------\r\n\r\n**Mobile Wallet dev team priority:**\r\n\r\n- Continue building out Mobile wallet MVP\r\n",
    "creator": {
      "login": "John-44",
      "id": 22846356,
      "node_id": "MDQ6VXNlcjIyODQ2MzU2",
      "avatar_url": "https://avatars.githubusercontent.com/u/22846356?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/John-44",
      "html_url": "https://github.com/John-44",
      "followers_url": "https://api.github.com/users/John-44/followers",
      "following_url": "https://api.github.com/users/John-44/following{/other_user}",
      "gists_url": "https://api.github.com/users/John-44/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/John-44/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/John-44/subscriptions",
      "organizations_url": "https://api.github.com/users/John-44/orgs",
      "repos_url": "https://api.github.com/users/John-44/repos",
      "events_url": "https://api.github.com/users/John-44/events{/privacy}",
      "received_events_url": "https://api.github.com/users/John-44/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 13,
    "closed_issues": 72,
    "state": "open",
    "created_at": "2023-07-26T12:45:31Z",
    "updated_at": "2023-11-10T15:34:42Z",
    "due_on": "2023-11-09T08:00:00Z",
    "closed_at": null
  },
  "comments": 4,
  "created_at": "2023-11-09T08:37:00Z",
  "updated_at": "2023-11-10T15:31:25Z",
  "closed_at": null,
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "### Summary\r\nWhen attempting to accept a join request sent from a mobile device for a token-gated community, it erroneously indicates that the user doesn't have the required tokens, despite having sufficient tokens in the account wallet.\r\n\r\n### Steps to Reproduce\r\n\r\n1. Create a community with the 'request to join required' option enabled (desktop).\r\n2. Add 'become a member' permission, e.g., 0.001 ETH to become a member (desktop).\r\n3. Send an invite to a mobile user for this community (desktop).\r\n4. The mobile user opens the invite, and the account meets the token requirements (mobile).\r\n5. Mobile user sends a join request (mobile).\r\n6. Admin tries to accept the invite (desktop).\r\n\r\n### Actual Result\r\nA pop-up message appears, stating that the mobile user doesn't hold enough tokens anymore.\r\n\r\n<img width=\"1728\" alt=\"Screenshot 2023-11-09 at 13 49 18\" src=\"https://github.com/status-im/status-mobile/assets/19279756/9dc1f835-cb72-4b3b-a475-17184c93a92e\">\r\n\r\n\r\n### Expected Result\r\nThe admin should be able to accept the request without any issues\r\n\r\n## Screenshots\r\nToken requirements:\r\n<img width=\"500\" alt=\"Screenshot 2023-11-09 at 14 03 09\" src=\"https://github.com/status-im/status-mobile/assets/19279756/060593d7-e32f-46ca-9ad6-3b414498ad36\">\r\n\r\nCommunity overview - mobile:\r\n<img src=\"https://github.com/status-im/status-mobile/assets/19279756/3b07a39d-baba-465c-a9b0-9ce2cb3bfb9b\" width=350/>\r\n\r\n### Relevant info \r\nRecently the request to join flow was updated both in [status-go](https://github.com/status-im/status-go/pull/4178) & [status-mobile](https://github.com/status-im/status-mobile/pull/17800).",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/17861/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-mobile/issues/17861/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1803989138",
    "html_url": "https://github.com/status-im/status-mobile/issues/17861#issuecomment-1803989138",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/17861",
    "id": 1803989138,
    "node_id": "IC_kwDOAx4p2c5rhrCS",
    "user": {
      "login": "ajayesivan",
      "id": 19279756,
      "node_id": "MDQ6VXNlcjE5Mjc5NzU2",
      "avatar_url": "https://avatars.githubusercontent.com/u/19279756?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ajayesivan",
      "html_url": "https://github.com/ajayesivan",
      "followers_url": "https://api.github.com/users/ajayesivan/followers",
      "following_url": "https://api.github.com/users/ajayesivan/following{/other_user}",
      "gists_url": "https://api.github.com/users/ajayesivan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ajayesivan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ajayesivan/subscriptions",
      "organizations_url": "https://api.github.com/users/ajayesivan/orgs",
      "repos_url": "https://api.github.com/users/ajayesivan/repos",
      "events_url": "https://api.github.com/users/ajayesivan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ajayesivan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-11-09T14:56:51Z",
    "updated_at": "2023-11-09T14:56:51Z",
    "author_association": "CONTRIBUTOR",
    "body": "https://github.com/status-im/status-mobile/pull/17799#issuecomment-1803905065",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1803989138/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1804001727",
    "html_url": "https://github.com/status-im/status-mobile/issues/17861#issuecomment-1804001727",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/17861",
    "id": 1804001727,
    "node_id": "IC_kwDOAx4p2c5rhuG_",
    "user": {
      "login": "pavloburykh",
      "id": 97245802,
      "node_id": "U_kgDOBcvaag",
      "avatar_url": "https://avatars.githubusercontent.com/u/97245802?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pavloburykh",
      "html_url": "https://github.com/pavloburykh",
      "followers_url": "https://api.github.com/users/pavloburykh/followers",
      "following_url": "https://api.github.com/users/pavloburykh/following{/other_user}",
      "gists_url": "https://api.github.com/users/pavloburykh/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pavloburykh/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pavloburykh/subscriptions",
      "organizations_url": "https://api.github.com/users/pavloburykh/orgs",
      "repos_url": "https://api.github.com/users/pavloburykh/repos",
      "events_url": "https://api.github.com/users/pavloburykh/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pavloburykh/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-11-09T15:02:58Z",
    "updated_at": "2023-11-09T15:02:58Z",
    "author_association": "CONTRIBUTOR",
    "body": "Also user is not able to join token gated community that does not not require admin's manual approval\r\n\r\n**Preconditions:** community has set permission requirements for becoming community member. Mobile user meets the permission requirements\r\n\r\n**Steps:** \r\n\r\n1. Desktop user shares community to mobile user\r\n2. Stay online by Desktop admin control node\r\n3. Mobile user sends community join request\r\n4. See if community status has automatically changed to Joined\r\n\r\n**Actual result:** community remains in Pending status. \r\n\r\n\r\nhttps://github.com/status-im/status-mobile/assets/97245802/ae44bb08-ef34-460a-b6c2-26a1c75c69a8\r\n\r\n\r\n**Expected result:** community status should be automatically changed Joined for mobile user. ",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1804001727/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1804005438",
    "html_url": "https://github.com/status-im/status-mobile/issues/17861#issuecomment-1804005438",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/17861",
    "id": 1804005438,
    "node_id": "IC_kwDOAx4p2c5rhvA-",
    "user": {
      "login": "pavloburykh",
      "id": 97245802,
      "node_id": "U_kgDOBcvaag",
      "avatar_url": "https://avatars.githubusercontent.com/u/97245802?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pavloburykh",
      "html_url": "https://github.com/pavloburykh",
      "followers_url": "https://api.github.com/users/pavloburykh/followers",
      "following_url": "https://api.github.com/users/pavloburykh/following{/other_user}",
      "gists_url": "https://api.github.com/users/pavloburykh/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pavloburykh/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pavloburykh/subscriptions",
      "organizations_url": "https://api.github.com/users/pavloburykh/orgs",
      "repos_url": "https://api.github.com/users/pavloburykh/repos",
      "events_url": "https://api.github.com/users/pavloburykh/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pavloburykh/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-11-09T15:04:53Z",
    "updated_at": "2023-11-09T15:04:53Z",
    "author_association": "CONTRIBUTOR",
    "body": "Another related issue:\r\n\r\n### ISSUE  \"You are not a member of this group\" is displayed in \"view only\"/\"view and post\" channels for user who meets permission requirements\r\n\r\n**Steps:** \r\n\r\n1. Create token gated community: set permissions \"view only\" or \"view and post\" for one of the channel\r\n2. Share community to mobile user. Mobile user should meet permission requirements. \r\n3. Join community by mobile user\r\n4. Open channel with permissions by mobile user\r\n5. Observe the result\r\n\r\n**Actual result:** \"You are not a member of this group\" is displayed in the bottom. User is not able to view or post messages in the channel. \r\n\r\n[Status-debug-logs (80).zip](https://github.com/status-im/status-mobile/files/13308303/Status-debug-logs.80.zip)\r\n\r\n<img width=\"1062\" alt=\"Status Desktop 2023-11-09 14-49-09\" src=\"https://github.com/status-im/status-mobile/assets/97245802/7551df09-9cf9-46fb-8cab-f8339428c971\">\r\n\r\n\r\nhttps://github.com/status-im/status-mobile/assets/97245802/44c9ba59-ab07-4e1a-a34c-0973c6d89ed9\r\n\r\n\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1804005438/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1805946746",
    "html_url": "https://github.com/status-im/status-mobile/issues/17861#issuecomment-1805946746",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/17861",
    "id": 1805946746,
    "node_id": "IC_kwDOAx4p2c5rpI96",
    "user": {
      "login": "pavloburykh",
      "id": 97245802,
      "node_id": "U_kgDOBcvaag",
      "avatar_url": "https://avatars.githubusercontent.com/u/97245802?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pavloburykh",
      "html_url": "https://github.com/pavloburykh",
      "followers_url": "https://api.github.com/users/pavloburykh/followers",
      "following_url": "https://api.github.com/users/pavloburykh/following{/other_user}",
      "gists_url": "https://api.github.com/users/pavloburykh/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pavloburykh/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pavloburykh/subscriptions",
      "organizations_url": "https://api.github.com/users/pavloburykh/orgs",
      "repos_url": "https://api.github.com/users/pavloburykh/repos",
      "events_url": "https://api.github.com/users/pavloburykh/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pavloburykh/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-11-10T15:31:07Z",
    "updated_at": "2023-11-10T15:31:25Z",
    "author_association": "CONTRIBUTOR",
    "body": "> Another related issue:\r\n> \r\n> ### ISSUE \"You are not a member of this group\" is displayed in \"view only\"/\"view and post\" channels for user who meets permission requirements\r\n\r\n@FFFra as has been agreed on standup call I have created a separate issue for this one https://github.com/status-im/status-mobile/issues/17876 ",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1805946746/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
