{
  "url": "https://api.github.com/repos/status-im/status-mobile/issues/18166",
  "repository_url": "https://api.github.com/repos/status-im/status-mobile",
  "labels_url": "https://api.github.com/repos/status-im/status-mobile/issues/18166/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-mobile/issues/18166/comments",
  "events_url": "https://api.github.com/repos/status-im/status-mobile/issues/18166/events",
  "html_url": "https://github.com/status-im/status-mobile/issues/18166",
  "id": 2039600123,
  "node_id": "I_kwDOAx4p2c55kdP7",
  "number": 18166,
  "title": "Metro Bundler Crashes Frequently",
  "user": {
    "login": "ajayesivan",
    "id": 19279756,
    "node_id": "MDQ6VXNlcjE5Mjc5NzU2",
    "avatar_url": "https://avatars.githubusercontent.com/u/19279756?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ajayesivan",
    "html_url": "https://github.com/ajayesivan",
    "followers_url": "https://api.github.com/users/ajayesivan/followers",
    "following_url": "https://api.github.com/users/ajayesivan/following{/other_user}",
    "gists_url": "https://api.github.com/users/ajayesivan/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ajayesivan/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ajayesivan/subscriptions",
    "organizations_url": "https://api.github.com/users/ajayesivan/orgs",
    "repos_url": "https://api.github.com/users/ajayesivan/repos",
    "events_url": "https://api.github.com/users/ajayesivan/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ajayesivan/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 4052544927,
      "node_id": "LA_kwDOAx4p2c7xjO2f",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/E:Mobile%20Developer%20XP",
      "name": "E:Mobile Developer XP",
      "color": "0F662F",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": {
    "login": "siddarthkay",
    "id": 64726664,
    "node_id": "MDQ6VXNlcjY0NzI2NjY0",
    "avatar_url": "https://avatars.githubusercontent.com/u/64726664?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/siddarthkay",
    "html_url": "https://github.com/siddarthkay",
    "followers_url": "https://api.github.com/users/siddarthkay/followers",
    "following_url": "https://api.github.com/users/siddarthkay/following{/other_user}",
    "gists_url": "https://api.github.com/users/siddarthkay/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/siddarthkay/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/siddarthkay/subscriptions",
    "organizations_url": "https://api.github.com/users/siddarthkay/orgs",
    "repos_url": "https://api.github.com/users/siddarthkay/repos",
    "events_url": "https://api.github.com/users/siddarthkay/events{/privacy}",
    "received_events_url": "https://api.github.com/users/siddarthkay/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "siddarthkay",
      "id": 64726664,
      "node_id": "MDQ6VXNlcjY0NzI2NjY0",
      "avatar_url": "https://avatars.githubusercontent.com/u/64726664?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/siddarthkay",
      "html_url": "https://github.com/siddarthkay",
      "followers_url": "https://api.github.com/users/siddarthkay/followers",
      "following_url": "https://api.github.com/users/siddarthkay/following{/other_user}",
      "gists_url": "https://api.github.com/users/siddarthkay/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/siddarthkay/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/siddarthkay/subscriptions",
      "organizations_url": "https://api.github.com/users/siddarthkay/orgs",
      "repos_url": "https://api.github.com/users/siddarthkay/repos",
      "events_url": "https://api.github.com/users/siddarthkay/events{/privacy}",
      "received_events_url": "https://api.github.com/users/siddarthkay/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2023-12-13T12:21:53Z",
  "updated_at": "2024-01-12T06:50:03Z",
  "closed_at": null,
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "### Description\r\nEncountering a frequent issue where the Metro bundler crashes with the following error:\r\n\r\n```zsh\r\nerror: Error: Unable to resolve module node-libs-react-native/globals from /Users/ajaysivan/Work/Status/Repos/status-mobile/index.js: node-libs-react-native/globals could not be found within the project or in these directories:\r\n  node_modules\r\n  node_modules\r\n> 1 | import 'node-libs-react-native/globals';\r\n    |         ^\r\n  2 | import './result/index.js';\r\n\r\n```\r\n\r\n### Context\r\nThis error occurs intermittently, making it challenging to pinpoint the root cause. This started happening after we upgraded react native to [0.72.5](https://github.com/status-im/status-mobile/pull/17241).\r\n\r\n<img src=\"https://github.com/status-im/status-mobile/assets/19279756/06f2c6a2-e87b-4b74-98ac-aa41c854a3d1\" width=350/>\r\n\r\n### Note\r\nRestarting Metro temporarily resolves the issue until it occurs again.\r\n\r\n### Development Environment\r\nMacOS 14.2 (Sonoma)\r\nXcode 15.1",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/18166/reactions",
    "total_count": 1,
    "+1": 1,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-mobile/issues/18166/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1855235364",
    "html_url": "https://github.com/status-im/status-mobile/issues/18166#issuecomment-1855235364",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/18166",
    "id": 1855235364,
    "node_id": "IC_kwDOAx4p2c5ulKUk",
    "user": {
      "login": "ajayesivan",
      "id": 19279756,
      "node_id": "MDQ6VXNlcjE5Mjc5NzU2",
      "avatar_url": "https://avatars.githubusercontent.com/u/19279756?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ajayesivan",
      "html_url": "https://github.com/ajayesivan",
      "followers_url": "https://api.github.com/users/ajayesivan/followers",
      "following_url": "https://api.github.com/users/ajayesivan/following{/other_user}",
      "gists_url": "https://api.github.com/users/ajayesivan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ajayesivan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ajayesivan/subscriptions",
      "organizations_url": "https://api.github.com/users/ajayesivan/orgs",
      "repos_url": "https://api.github.com/users/ajayesivan/repos",
      "events_url": "https://api.github.com/users/ajayesivan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ajayesivan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-12-14T06:40:46Z",
    "updated_at": "2023-12-14T06:40:46Z",
    "author_association": "CONTRIBUTOR",
    "body": "```zsh\r\nerror: Error: Unable to resolve module react from /Users/ajaysivan/Work/Status/Repos/status-mobile/result/index.js: react could not be found within the project or in these directories:\r\n  node_modules\r\n  node_modules\r\n  3 | var shadow$provide = global.shadow$provide = {};\r\n  4 | var goog = global.goog = {};\r\n> 5 | global.CLOSURE_DEFINES = {\"shadow.cljs.devtools.client.env.repl_pprint\":false,\"shadow.cljs.devtools.client.env.reload_strategy\":\"optimized\",\"shadow.cljs.devtools.client.env.devtools_url\":\"\",\"shadow.cljs.devtools.client.env.autoload\":true,\"shadow.cljs.devtools.client.env.proc_id\":\"45fdd4f7-0df5-4714-b6ec-c555e7c93643\",\"shadow.cljs.devtools.client.env.use_document_protocol\":false,\"goog.ENABLE_DEBUG_LOADER\":false,\"shadow.cljs.devtools.client.env.server_port\":3449,\"shadow.cljs.devtools.client.env.server_token\":\"2dec7159-bca0-4174-b101-eaf03e959798\",\"shadow.cljs.devtools.client.env.use_document_host\":true,\"shadow.cljs.devtools.client.env.module_format\":\"goog\",\"goog.LOCALE\":\"en\",\"re_frame.trace.trace_enabled_QMARK_\":true,\"shadow.cljs.devtools.client.env.build_id\":\"mobile\",\"status_im2.config.ALCHEMY_OPTIMISM_GOERLI_TOKEN\":\"9q5lC_Uec04zEgSJT-puv1YX_Pbz6imb\",\"shadow.cljs.devtools.client.env.ignore_warnings\":false,\"goog.DEBUG\":true,\"cljs.core._STAR_target_STAR_\":\"react-native\",\"shadow.cljs.devtools.client.env.log\":true,\"status_im2.config.ALCHEMY_ARBITRUM_GOERLI_TOKEN\":\"mTwWOBsbRcRj8z8RDEGRcuD6sGOkAHdr\",\"shadow.cljs.devtools.client.env.ssl\":false,\"status_im2.config.ALCHEMY_OPTIMISM_MAINNET_TOKEN\":\"cX-UKlSUDqaAePOSjWu1uiDKffDTgmpE\",\"shadow.cljs.devtools.client.env.custom_notify_fn\":\"status_im2.setup.hot_reload.build_notify\",\"shadow.cljs.devtools.client.env.enabled\":true,\"shadow.cljs.devtools.client.env.server_host\":\"192.168.18.73\",\"shadow.cljs.devtools.client.env.worker_client_id\":2,\"status_im2.config.INFURA_TOKEN\":\"40ec14d9d9384d52b7fbcfecdde4e2c0\",\"status_im2.config.ALCHEMY_ARBITRUM_MAINNET_TOKEN\":\"zTOPVVlC3KAuinRbtLJSkEv2f-un-OCu\",\"status_im2.config.POKT_TOKEN\":\"e3e877226bae94dd53ea3e13\",\"goog.TRANSPILE\":\"never\",\"status_im2.config.OPENSEA_API_KEY\":\"0eab37aa0b2d404b87e7dccc6ac70002\"};\r\n```\r\n\r\n<img src=\"https://github.com/status-im/status-mobile/assets/19279756/23c2a40c-8195-48b5-a9be-eed98cc04096\" width=\"350\"/>\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1855235364/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1855643780",
    "html_url": "https://github.com/status-im/status-mobile/issues/18166#issuecomment-1855643780",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/18166",
    "id": 1855643780,
    "node_id": "IC_kwDOAx4p2c5umuCE",
    "user": {
      "login": "jo-mut",
      "id": 28704507,
      "node_id": "MDQ6VXNlcjI4NzA0NTA3",
      "avatar_url": "https://avatars.githubusercontent.com/u/28704507?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jo-mut",
      "html_url": "https://github.com/jo-mut",
      "followers_url": "https://api.github.com/users/jo-mut/followers",
      "following_url": "https://api.github.com/users/jo-mut/following{/other_user}",
      "gists_url": "https://api.github.com/users/jo-mut/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jo-mut/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jo-mut/subscriptions",
      "organizations_url": "https://api.github.com/users/jo-mut/orgs",
      "repos_url": "https://api.github.com/users/jo-mut/repos",
      "events_url": "https://api.github.com/users/jo-mut/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jo-mut/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-12-14T11:06:26Z",
    "updated_at": "2023-12-14T11:06:26Z",
    "author_association": "MEMBER",
    "body": "Im on Xcode 14 and Ventura OS and works just fine. \r\n\r\nHowever, since I run multiple devices at once I have noticed that running `make run-ios` first and then running `make run-android` usually closes the metro but on running `make run-android` first then `make run-ios` afterwards I am able to work with both devices at the same time \r\n\r\nMetro shuts down with the following error:\r\n\r\n```\r\nThe development server returned a response error code: 500 \r\n\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1855643780/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1855925115",
    "html_url": "https://github.com/status-im/status-mobile/issues/18166#issuecomment-1855925115",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/18166",
    "id": 1855925115,
    "node_id": "IC_kwDOAx4p2c5unyt7",
    "user": {
      "login": "rasom",
      "id": 2364994,
      "node_id": "MDQ6VXNlcjIzNjQ5OTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2364994?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rasom",
      "html_url": "https://github.com/rasom",
      "followers_url": "https://api.github.com/users/rasom/followers",
      "following_url": "https://api.github.com/users/rasom/following{/other_user}",
      "gists_url": "https://api.github.com/users/rasom/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rasom/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rasom/subscriptions",
      "organizations_url": "https://api.github.com/users/rasom/orgs",
      "repos_url": "https://api.github.com/users/rasom/repos",
      "events_url": "https://api.github.com/users/rasom/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rasom/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-12-14T14:11:26Z",
    "updated_at": "2023-12-14T14:11:26Z",
    "author_association": "MEMBER",
    "body": "I have the same issue, restarting metro doesn't help ",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1855925115/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1856552613",
    "html_url": "https://github.com/status-im/status-mobile/issues/18166#issuecomment-1856552613",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/18166",
    "id": 1856552613,
    "node_id": "IC_kwDOAx4p2c5uqL6l",
    "user": {
      "login": "jo-mut",
      "id": 28704507,
      "node_id": "MDQ6VXNlcjI4NzA0NTA3",
      "avatar_url": "https://avatars.githubusercontent.com/u/28704507?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jo-mut",
      "html_url": "https://github.com/jo-mut",
      "followers_url": "https://api.github.com/users/jo-mut/followers",
      "following_url": "https://api.github.com/users/jo-mut/following{/other_user}",
      "gists_url": "https://api.github.com/users/jo-mut/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jo-mut/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jo-mut/subscriptions",
      "organizations_url": "https://api.github.com/users/jo-mut/orgs",
      "repos_url": "https://api.github.com/users/jo-mut/repos",
      "events_url": "https://api.github.com/users/jo-mut/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jo-mut/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-12-14T20:38:26Z",
    "updated_at": "2023-12-14T20:38:26Z",
    "author_association": "MEMBER",
    "body": "I have to do a back and forth of restarting metro to finally have both ios and android running\r\n\r\nlike\r\n``` \r\n\r\n- make run-android\r\n- make run-ios\r\n\r\nthen metro crashes\r\n\r\n- make run-metro\r\n- make run-android \r\n\r\nnow build works fine on both devices but sometimes the i may have to keep repeating the process",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1856552613/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
