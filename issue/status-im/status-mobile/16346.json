{
  "url": "https://api.github.com/repos/status-im/status-mobile/issues/16346",
  "repository_url": "https://api.github.com/repos/status-im/status-mobile",
  "labels_url": "https://api.github.com/repos/status-im/status-mobile/issues/16346/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-mobile/issues/16346/comments",
  "events_url": "https://api.github.com/repos/status-im/status-mobile/issues/16346/events",
  "html_url": "https://github.com/status-im/status-mobile/issues/16346",
  "id": 1767861215,
  "node_id": "I_kwDOAx4p2c5pX2vf",
  "number": 16346,
  "title": "Communities are not fetched in Discover community screen until app re-opening",
  "user": {
    "login": "pavloburykh",
    "id": 97245802,
    "node_id": "U_kgDOBcvaag",
    "avatar_url": "https://avatars.githubusercontent.com/u/97245802?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/pavloburykh",
    "html_url": "https://github.com/pavloburykh",
    "followers_url": "https://api.github.com/users/pavloburykh/followers",
    "following_url": "https://api.github.com/users/pavloburykh/following{/other_user}",
    "gists_url": "https://api.github.com/users/pavloburykh/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/pavloburykh/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/pavloburykh/subscriptions",
    "organizations_url": "https://api.github.com/users/pavloburykh/orgs",
    "repos_url": "https://api.github.com/users/pavloburykh/repos",
    "events_url": "https://api.github.com/users/pavloburykh/events{/privacy}",
    "received_events_url": "https://api.github.com/users/pavloburykh/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 3990911030,
      "node_id": "LA_kwDOAx4p2c7t4Hg2",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/E:MBugfixesMVP",
      "name": "E:MBugfixesMVP",
      "color": "32BD0C",
      "default": false,
      "description": ""
    },
    {
      "id": 3990935220,
      "node_id": "LA_kwDOAx4p2c7t4Na0",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/E:MCommunitiesMVP",
      "name": "E:MCommunitiesMVP",
      "color": "0992A8",
      "default": false,
      "description": ""
    },
    {
      "id": 5734790420,
      "node_id": "LA_kwDOAx4p2c8AAAABVdH1FA",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/E:MRelease1.25",
      "name": "E:MRelease1.25",
      "color": "8AA749",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": {
    "login": "vkjr",
    "id": 5786310,
    "node_id": "MDQ6VXNlcjU3ODYzMTA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5786310?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vkjr",
    "html_url": "https://github.com/vkjr",
    "followers_url": "https://api.github.com/users/vkjr/followers",
    "following_url": "https://api.github.com/users/vkjr/following{/other_user}",
    "gists_url": "https://api.github.com/users/vkjr/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vkjr/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vkjr/subscriptions",
    "organizations_url": "https://api.github.com/users/vkjr/orgs",
    "repos_url": "https://api.github.com/users/vkjr/repos",
    "events_url": "https://api.github.com/users/vkjr/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vkjr/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "vkjr",
      "id": 5786310,
      "node_id": "MDQ6VXNlcjU3ODYzMTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5786310?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vkjr",
      "html_url": "https://github.com/vkjr",
      "followers_url": "https://api.github.com/users/vkjr/followers",
      "following_url": "https://api.github.com/users/vkjr/following{/other_user}",
      "gists_url": "https://api.github.com/users/vkjr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vkjr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vkjr/subscriptions",
      "organizations_url": "https://api.github.com/users/vkjr/orgs",
      "repos_url": "https://api.github.com/users/vkjr/repos",
      "events_url": "https://api.github.com/users/vkjr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vkjr/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": {
    "url": "https://api.github.com/repos/status-im/status-mobile/milestones/66",
    "html_url": "https://github.com/status-im/status-mobile/milestone/66",
    "labels_url": "https://api.github.com/repos/status-im/status-mobile/milestones/66/labels",
    "id": 9293484,
    "node_id": "MI_kwDOAx4p2c4Ajc6s",
    "number": 66,
    "title": "1.25.0 - Alpha",
    "description": "This release should feature:\r\n\r\n- Security and privacy\r\n  Allow user to change their password\r\n\r\n- General polish:\r\n  further polish of messaging/communities/onboarding/profile\"",
    "creator": {
      "login": "cammellos",
      "id": 1017008,
      "node_id": "MDQ6VXNlcjEwMTcwMDg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1017008?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cammellos",
      "html_url": "https://github.com/cammellos",
      "followers_url": "https://api.github.com/users/cammellos/followers",
      "following_url": "https://api.github.com/users/cammellos/following{/other_user}",
      "gists_url": "https://api.github.com/users/cammellos/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cammellos/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cammellos/subscriptions",
      "organizations_url": "https://api.github.com/users/cammellos/orgs",
      "repos_url": "https://api.github.com/users/cammellos/repos",
      "events_url": "https://api.github.com/users/cammellos/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cammellos/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 39,
    "closed_issues": 11,
    "state": "open",
    "created_at": "2023-04-17T16:09:18Z",
    "updated_at": "2023-07-18T13:19:01Z",
    "due_on": "2023-08-30T07:00:00Z",
    "closed_at": null
  },
  "comments": 1,
  "created_at": "2023-06-21T15:23:57Z",
  "updated_at": "2023-07-18T13:36:01Z",
  "closed_at": null,
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "originally reported in https://github.com/status-im/status-mobile/pull/16232\r\n\r\n**Steps:** \r\n\r\n1. Create a new user\r\n2. Open Discover community screen\r\n3. See if communities are displayed in Featured and All sections\r\n\r\n**Actual result:** Featured and All sections are empty. Communities are fetched only after app re-opening\r\n\r\nhttps://github.com/status-im/status-mobile/assets/97245802/442ad3d6-cbb5-41e5-a876-6d8a7554811b\r\n\r\n\r\n**Expected result:** \r\n\r\nData should be fetched without need of app re-opening\r\n\r\nSkeleton should be displayed until communities are loaded (see design below). \r\n\r\nhttps://www.figma.com/file/h9wo4GipgZURbqqr1vShFN/Communities-for-Mobile?type=design&node-id=12510-427273&t=TyfKww2h28KiCitk-0 \r\n\r\n <img alt=\"Communities for Mobile â€“ Figma 2023-06-21 10-57-55\" width=\"279\" src=\"https://user-images.githubusercontent.com/97245802/247475514-9d5748dc-727d-4259-a6dd-99a76e844950.png\">\r\n\r\nAlso see comment from @John-44 originally posted [here](url)\r\n\r\n> @erikseppanen @pavloburykh Note that the app should start trying to fetch the featured community as soon as the app has launched, not when the user visits this screen. And this information should then be cached. And if the latest fetch of this data hasn't been completed, the previously cached data should be displayed instead.\r\n\r\n> So with this scheme, other than literally the first time the user logs into the app, the user should never see the skeleton loading screen (because there will always be data stored locally to be displayed)\r\n\r\n### Additional Information\r\n\r\n- Status version: nightly \r\n- Operating System: Android, iOS\r\n\r\n\r\n[comment]: # (Please, add logs/notes if necessary)\r\n\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/16346/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-mobile/issues/16346/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1604415270",
    "html_url": "https://github.com/status-im/status-mobile/issues/16346#issuecomment-1604415270",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/16346",
    "id": 1604415270,
    "node_id": "IC_kwDOAx4p2c5foW8m",
    "user": {
      "login": "cammellos",
      "id": 1017008,
      "node_id": "MDQ6VXNlcjEwMTcwMDg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1017008?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cammellos",
      "html_url": "https://github.com/cammellos",
      "followers_url": "https://api.github.com/users/cammellos/followers",
      "following_url": "https://api.github.com/users/cammellos/following{/other_user}",
      "gists_url": "https://api.github.com/users/cammellos/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cammellos/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cammellos/subscriptions",
      "organizations_url": "https://api.github.com/users/cammellos/orgs",
      "repos_url": "https://api.github.com/users/cammellos/repos",
      "events_url": "https://api.github.com/users/cammellos/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cammellos/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-23T15:04:28Z",
    "updated_at": "2023-06-23T15:04:28Z",
    "author_association": "MEMBER",
    "body": "I think the best way to do this is to implement the refresh in status-go, that will periodically pull the refreshed data, and it will signal the client with the new communities.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1604415270/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
