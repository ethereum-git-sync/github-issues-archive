{
  "url": "https://api.github.com/repos/status-im/status-mobile/issues/1502",
  "repository_url": "https://api.github.com/repos/status-im/status-mobile",
  "labels_url": "https://api.github.com/repos/status-im/status-mobile/issues/1502/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-mobile/issues/1502/comments",
  "events_url": "https://api.github.com/repos/status-im/status-mobile/issues/1502/events",
  "html_url": "https://github.com/status-im/status-mobile/issues/1502",
  "id": 245812545,
  "node_id": "MDU6SXNzdWUyNDU4MTI1NDU=",
  "number": 1502,
  "title": "Adding a user by public key results in a different user being added (iOS simulator)",
  "user": {
    "login": "oskarth",
    "id": 1552237,
    "node_id": "MDQ6VXNlcjE1NTIyMzc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1552237?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/oskarth",
    "html_url": "https://github.com/oskarth",
    "followers_url": "https://api.github.com/users/oskarth/followers",
    "following_url": "https://api.github.com/users/oskarth/following{/other_user}",
    "gists_url": "https://api.github.com/users/oskarth/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/oskarth/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/oskarth/subscriptions",
    "organizations_url": "https://api.github.com/users/oskarth/orgs",
    "repos_url": "https://api.github.com/users/oskarth/repos",
    "events_url": "https://api.github.com/users/oskarth/events{/privacy}",
    "received_events_url": "https://api.github.com/users/oskarth/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2017-07-26T18:27:57Z",
  "updated_at": "2017-07-27T10:28:27Z",
  "closed_at": "2017-07-27T10:28:27Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "[comment]: # (Please replace ... with your information. Remove < and >)\r\n\r\n### User Story\r\n\r\nAs a developer, I want to create multiple profiles and add them as contacts so I can reproduce and fix group chat issues.\r\n\r\n### Description\r\n\r\n[comment]: # (Feature or Bug? i.e Type: Bug)\r\n*Type*: Bug\r\n\r\n[comment]: # (Describe the feature you would like, or briefly summarise the bug and what you did, what you expected to happen, and what actually happens. Sections below)\r\n*Summary*: Adding a new contact by public key should add that specific user with the the same name.\r\n\r\n#### Expected behavior\r\n[comment]: # (Describe what you expected to happen.)\r\nAdding a user named X by their public key results in a contact with the name X being added.\r\n\r\n#### Actual behavior\r\n[comment]: # (Describe what actually happened.)\r\nAdding a user named X by their public key results in a contact with the name Y being added.\r\n\r\n### Reproduction\r\n[comment]: # (Describe how we can replicate the bug step by step.)\r\n\r\n- Open Status\r\n- Create a profile\r\n- Copy public key of that profile\r\n- Sign out\r\n- Create a new profile\r\n- Add contact and copy paste public key\r\n- Notice that the user added has a different name\r\n\r\n### Solution\r\n[comment]: # (Please summarise the solution and provide a task list on what needs to be fixed.)\r\n*Summary*: \r\n\r\n- [ ] Adding a user by public key should add that specific user with the right name\r\n\r\n### Additional Information\r\n[comment]: # (Please do your best to fill this out.)\r\n* Status version: latest develop branch\r\n[comment]: # (Android or iOS.)\r\n* Operating System: iOS (simulator)\r\n\r\n#### Logs\r\n\r\n[comment]: # (if on Android please replicate bug whilst running adb logcat)\r\n```\r\n...\r\n```\r\n\r\nhttps://drive.google.com/file/d/0B9qqS9eU_SdpT3pWUHVBNzB1bHM/view?usp=sharing",
  "closed_by": {
    "login": "oskarth",
    "id": 1552237,
    "node_id": "MDQ6VXNlcjE1NTIyMzc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1552237?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/oskarth",
    "html_url": "https://github.com/oskarth",
    "followers_url": "https://api.github.com/users/oskarth/followers",
    "following_url": "https://api.github.com/users/oskarth/following{/other_user}",
    "gists_url": "https://api.github.com/users/oskarth/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/oskarth/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/oskarth/subscriptions",
    "organizations_url": "https://api.github.com/users/oskarth/orgs",
    "repos_url": "https://api.github.com/users/oskarth/repos",
    "events_url": "https://api.github.com/users/oskarth/events{/privacy}",
    "received_events_url": "https://api.github.com/users/oskarth/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/1502/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-mobile/issues/1502/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/318147203",
    "html_url": "https://github.com/status-im/status-mobile/issues/1502#issuecomment-318147203",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/1502",
    "id": 318147203,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxODE0NzIwMw==",
    "user": {
      "login": "annadanchenko",
      "id": 6584810,
      "node_id": "MDQ6VXNlcjY1ODQ4MTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6584810?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/annadanchenko",
      "html_url": "https://github.com/annadanchenko",
      "followers_url": "https://api.github.com/users/annadanchenko/followers",
      "following_url": "https://api.github.com/users/annadanchenko/following{/other_user}",
      "gists_url": "https://api.github.com/users/annadanchenko/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/annadanchenko/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/annadanchenko/subscriptions",
      "organizations_url": "https://api.github.com/users/annadanchenko/orgs",
      "repos_url": "https://api.github.com/users/annadanchenko/repos",
      "events_url": "https://api.github.com/users/annadanchenko/events{/privacy}",
      "received_events_url": "https://api.github.com/users/annadanchenko/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-07-26T18:49:03Z",
    "updated_at": "2017-07-26T18:49:03Z",
    "author_association": "NONE",
    "body": "@oskarth it's expected. The correct user is added (you can check it by comparing public key), you just don't see user name/picture until that user will not add you to the Contacts. ",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/318147203/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/318165969",
    "html_url": "https://github.com/status-im/status-mobile/issues/1502#issuecomment-318165969",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/1502",
    "id": 318165969,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxODE2NTk2OQ==",
    "user": {
      "login": "oskarth",
      "id": 1552237,
      "node_id": "MDQ6VXNlcjE1NTIyMzc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1552237?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/oskarth",
      "html_url": "https://github.com/oskarth",
      "followers_url": "https://api.github.com/users/oskarth/followers",
      "following_url": "https://api.github.com/users/oskarth/following{/other_user}",
      "gists_url": "https://api.github.com/users/oskarth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/oskarth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/oskarth/subscriptions",
      "organizations_url": "https://api.github.com/users/oskarth/orgs",
      "repos_url": "https://api.github.com/users/oskarth/repos",
      "events_url": "https://api.github.com/users/oskarth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/oskarth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-07-26T20:02:17Z",
    "updated_at": "2017-07-26T20:02:17Z",
    "author_association": "CONTRIBUTOR",
    "body": "@annadanchenko Ah I see, makes sense from a privacy point of view. Since this is different from how (some) IMs work, do you think it would make sense to make this fact extra clear for end users?",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/318165969/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/318322339",
    "html_url": "https://github.com/status-im/status-mobile/issues/1502#issuecomment-318322339",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/1502",
    "id": 318322339,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxODMyMjMzOQ==",
    "user": {
      "login": "oskarth",
      "id": 1552237,
      "node_id": "MDQ6VXNlcjE1NTIyMzc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1552237?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/oskarth",
      "html_url": "https://github.com/oskarth",
      "followers_url": "https://api.github.com/users/oskarth/followers",
      "following_url": "https://api.github.com/users/oskarth/following{/other_user}",
      "gists_url": "https://api.github.com/users/oskarth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/oskarth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/oskarth/subscriptions",
      "organizations_url": "https://api.github.com/users/oskarth/orgs",
      "repos_url": "https://api.github.com/users/oskarth/repos",
      "events_url": "https://api.github.com/users/oskarth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/oskarth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-07-27T10:21:41Z",
    "updated_at": "2017-07-27T10:21:41Z",
    "author_association": "CONTRIBUTOR",
    "body": "@annadanchenko I tried again by creating two users, changing profile name for both and having them each add each other. As you pointed out, they both have a contact with each other's public key added, but their real names still don't appear.\r\n\r\nI also tried sending a message from A to B and B to A, and none of the messages came through. What am I missing?",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/318322339/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/318323663",
    "html_url": "https://github.com/status-im/status-mobile/issues/1502#issuecomment-318323663",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/1502",
    "id": 318323663,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxODMyMzY2Mw==",
    "user": {
      "login": "annadanchenko",
      "id": 6584810,
      "node_id": "MDQ6VXNlcjY1ODQ4MTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6584810?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/annadanchenko",
      "html_url": "https://github.com/annadanchenko",
      "followers_url": "https://api.github.com/users/annadanchenko/followers",
      "following_url": "https://api.github.com/users/annadanchenko/following{/other_user}",
      "gists_url": "https://api.github.com/users/annadanchenko/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/annadanchenko/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/annadanchenko/subscriptions",
      "organizations_url": "https://api.github.com/users/annadanchenko/orgs",
      "repos_url": "https://api.github.com/users/annadanchenko/repos",
      "events_url": "https://api.github.com/users/annadanchenko/events{/privacy}",
      "received_events_url": "https://api.github.com/users/annadanchenko/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-07-27T10:27:44Z",
    "updated_at": "2017-07-27T10:27:44Z",
    "author_association": "NONE",
    "body": "@oskarth it looks like open #1391 ",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/318323663/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
