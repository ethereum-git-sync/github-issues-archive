{
  "url": "https://api.github.com/repos/status-im/status-mobile/issues/3058",
  "repository_url": "https://api.github.com/repos/status-im/status-mobile",
  "labels_url": "https://api.github.com/repos/status-im/status-mobile/issues/3058/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-mobile/issues/3058/comments",
  "events_url": "https://api.github.com/repos/status-im/status-mobile/issues/3058/events",
  "html_url": "https://github.com/status-im/status-mobile/issues/3058",
  "id": 288883103,
  "node_id": "MDU6SXNzdWUyODg4ODMxMDM=",
  "number": 3058,
  "title": "Username and profile icons displayed not from who sent the message in group chat when several contacts send the messages in the same group chat",
  "user": {
    "login": "Serhy",
    "id": 8749671,
    "node_id": "MDQ6VXNlcjg3NDk2NzE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/8749671?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Serhy",
    "html_url": "https://github.com/Serhy",
    "followers_url": "https://api.github.com/users/Serhy/followers",
    "following_url": "https://api.github.com/users/Serhy/following{/other_user}",
    "gists_url": "https://api.github.com/users/Serhy/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Serhy/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Serhy/subscriptions",
    "organizations_url": "https://api.github.com/users/Serhy/orgs",
    "repos_url": "https://api.github.com/users/Serhy/repos",
    "events_url": "https://api.github.com/users/Serhy/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Serhy/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 330296931,
      "node_id": "MDU6TGFiZWwzMzAyOTY5MzE=",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/bug",
      "name": "bug",
      "color": "fc2929",
      "default": true,
      "description": null
    },
    {
      "id": 794860412,
      "node_id": "MDU6TGFiZWw3OTQ4NjA0MTI=",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/release",
      "name": "release",
      "color": "30dcff",
      "default": false,
      "description": null
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "janherich",
    "id": 1910609,
    "node_id": "MDQ6VXNlcjE5MTA2MDk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1910609?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/janherich",
    "html_url": "https://github.com/janherich",
    "followers_url": "https://api.github.com/users/janherich/followers",
    "following_url": "https://api.github.com/users/janherich/following{/other_user}",
    "gists_url": "https://api.github.com/users/janherich/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/janherich/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/janherich/subscriptions",
    "organizations_url": "https://api.github.com/users/janherich/orgs",
    "repos_url": "https://api.github.com/users/janherich/repos",
    "events_url": "https://api.github.com/users/janherich/events{/privacy}",
    "received_events_url": "https://api.github.com/users/janherich/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "janherich",
      "id": 1910609,
      "node_id": "MDQ6VXNlcjE5MTA2MDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1910609?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/janherich",
      "html_url": "https://github.com/janherich",
      "followers_url": "https://api.github.com/users/janherich/followers",
      "following_url": "https://api.github.com/users/janherich/following{/other_user}",
      "gists_url": "https://api.github.com/users/janherich/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/janherich/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/janherich/subscriptions",
      "organizations_url": "https://api.github.com/users/janherich/orgs",
      "repos_url": "https://api.github.com/users/janherich/repos",
      "events_url": "https://api.github.com/users/janherich/events{/privacy}",
      "received_events_url": "https://api.github.com/users/janherich/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 0,
  "created_at": "2018-01-16T12:03:49Z",
  "updated_at": "2018-05-29T12:34:05Z",
  "closed_at": "2018-01-17T20:12:33Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "*Type*: Bug\r\n\r\n*Summary*: There is a messing with username+profile icon in group chat screen when several chat members send messages in to the same group chat.  \r\n\r\n#### Expected behavior\r\nUsername and profile icon in group chat displays from message sender contact\r\n\r\n#### Actual behavior\r\nUsername and profile icon shown in group chat from contact who did not sent the message.\r\n\r\n### Reproduction\r\n\r\n1) Open Status on first device and create a user (UserA)\r\n2) Open Status on second device and create a user (UserB)\r\n3) Open Status on third device and create a user (UserC)\r\n4) UserA adds UserB in contacts (via QR code scan or paste public key)\r\n5) UserA adds UserC in contacts (via QR code scan or paste public key)\r\n6) UserA creates Group Chat with UserB and UserC\r\n7) UserA sends text message in Group Chat. (UserA stays on Group Chat screen)\r\n8) UserB navigates in to created Group Chat and sends text message\r\n9) UserC navigates in to created Group Chat and sends text messages\r\n10) Observe the Group Chat screen on UserA side.\r\n**Actual result:** Icon of UserB is displayed on last message (message was sent by UserC). (Compare this and next screenshot to see it)\r\n<img width=\"296\" alt=\"screen shot 2018-01-16 at 14 16 43\" src=\"https://user-images.githubusercontent.com/8749671/34988669-20e5beca-fac8-11e7-8a03-8413deb87441.png\">\r\n\r\n11) UserC sends one (or more) text messages\r\n12) Observe the Group Chat screen on UserA side.\r\n**Actual result:** Username of UserB is displayed in message bubble sent in 10th step above (i.e. on Pre-last message). See screenshot:\r\n<img width=\"295\" alt=\"screen shot 2018-01-16 at 14 15 59\" src=\"https://user-images.githubusercontent.com/8749671/34988688-2dc703e2-fac8-11e7-8dd9-1e0ee88c0fa2.png\">\r\n\r\n\r\n\r\n### Additional Information\r\n\r\n* Status version: Reproduced in develop build 0.9.10-576-g7e2ef2ea+ (0.9.11d576 for iOS) AND latest release build (0.9.14d16)\r\n* Operating System: Android 7.0 (Samsung J7 real device), iOS 11.1.2 (iPhoneX), Android 6.0 (emulator) used for reproduction, but issue confirmed on much more devices.\r\n\r\nTF representing UserA from above steps: https://app.testfairy.com/projects/4803622-status/builds/7504970/sessions/26/?accessToken=HVK8GtHsHVZrIIcugie3z08d4Oo (Group chat behavior you may start to see from 02:00)\r\nTF representing UserB from above steps: https://app.testfairy.com/projects/4803590-status/builds/7512234/sessions/20/?accessToken=ZSJq3Pppw5hcW5n5R5RskRPvpio (Group chat starts from 02:35)\r\nTF representing UserC from above steps: https://app.testfairy.com/projects/4803622-status/builds/7504970/sessions/25/?accessToken=idtqRJqWsUex84CSpBx0-FuikcI (Group Chat starts from 02:50)",
  "closed_by": {
    "login": "janherich",
    "id": 1910609,
    "node_id": "MDQ6VXNlcjE5MTA2MDk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1910609?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/janherich",
    "html_url": "https://github.com/janherich",
    "followers_url": "https://api.github.com/users/janherich/followers",
    "following_url": "https://api.github.com/users/janherich/following{/other_user}",
    "gists_url": "https://api.github.com/users/janherich/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/janherich/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/janherich/subscriptions",
    "organizations_url": "https://api.github.com/users/janherich/orgs",
    "repos_url": "https://api.github.com/users/janherich/repos",
    "events_url": "https://api.github.com/users/janherich/events{/privacy}",
    "received_events_url": "https://api.github.com/users/janherich/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/3058/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-mobile/issues/3058/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[

]
