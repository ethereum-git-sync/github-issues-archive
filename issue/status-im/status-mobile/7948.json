{
  "url": "https://api.github.com/repos/status-im/status-mobile/issues/7948",
  "repository_url": "https://api.github.com/repos/status-im/status-mobile",
  "labels_url": "https://api.github.com/repos/status-im/status-mobile/issues/7948/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-mobile/issues/7948/comments",
  "events_url": "https://api.github.com/repos/status-im/status-mobile/issues/7948/events",
  "html_url": "https://github.com/status-im/status-mobile/issues/7948",
  "id": 431509360,
  "node_id": "MDU6SXNzdWU0MzE1MDkzNjA=",
  "number": 7948,
  "title": "Redirect to Chat screen when scan QR code within Dapp",
  "user": {
    "login": "Serhy",
    "id": 8749671,
    "node_id": "MDQ6VXNlcjg3NDk2NzE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/8749671?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Serhy",
    "html_url": "https://github.com/Serhy",
    "followers_url": "https://api.github.com/users/Serhy/followers",
    "following_url": "https://api.github.com/users/Serhy/following{/other_user}",
    "gists_url": "https://api.github.com/users/Serhy/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Serhy/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Serhy/subscriptions",
    "organizations_url": "https://api.github.com/users/Serhy/orgs",
    "repos_url": "https://api.github.com/users/Serhy/repos",
    "events_url": "https://api.github.com/users/Serhy/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Serhy/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 330296931,
      "node_id": "MDU6TGFiZWwzMzAyOTY5MzE=",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/bug",
      "name": "bug",
      "color": "fc2929",
      "default": true,
      "description": null
    },
    {
      "id": 956251551,
      "node_id": "MDU6TGFiZWw5NTYyNTE1NTE=",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/high-severity",
      "name": "high-severity",
      "color": "c91a34",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2019-04-10T13:39:03Z",
  "updated_at": "2019-07-23T10:53:27Z",
  "closed_at": "2019-05-02T16:27:37Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "**_Type_**: Bug\n\n**_Summary_**: User is redirected to Chats screen after QR code scanned within Dapp.\nOn iOS it ends up on a blank screen so only app restart can help.\n\n#### Expected behavior\nUser keep staying in Dapp after QR code scanned withing Dapp\n\n#### Actual behavior\nUser redirected to Chats screen after QR code scanned withing Dapp (Android)\n\n![ioscrahsStatusDapScansQR](https://user-images.githubusercontent.com/8749671/55883419-fbe47000-5bae-11e9-960f-bdc1ba22b0df.gif)\n\n### Reproduction\n**Scenario:**\n\n* Open Status and create new account\n* Switch to `Ropsten RPC` network\n* Open Simple Test Dapp\n* `Status API` -> `Scan QR` -> scan any QR code\n\n### Additional Information\n\n\n* Status version: Develop nighly 0.12.0 (2019041002)\n* Operating System: Android and iOS\n\n#### Logs\nStatus app logs when switch from Chats view to Dapp view -> tap Scan QR within already opened SimpleDapp -> appear on Chats view\n\n```\n\n04-10 16:29:08.787 22847 22898 D ReactNativeJS: DEBUG [status-im.utils.handlers:34] - Handling re-frame event: :browser/bridge-message-received\n04-10 16:29:08.800 22847 22898 D ReactNativeJS: DEBUG [status-im.utils.handlers:34] - Handling re-frame event: :navigate-to\n04-10 16:29:08.804 22847 22898 D ReactNativeJS: DEBUG [status-im.ui.screens.navigation:80] - :navigate-to :qr-scanner\n04-10 16:29:08.914 22847 22898 D ReactNativeJS: DEBUG [status-im.ui.screens.routing.core:30] - :on-will-focus :qr-scanner\n04-10 16:29:08.919 22847 22898 D ReactNativeJS: DEBUG [status-im.utils.handlers:34] - Handling re-frame event: :screens/on-will-focus\n04-10 16:29:08.924 22847 22898 D ReactNativeJS: DEBUG [status-im.ui.screens.views:72] - :main-component-did-update :qr-scanner\n04-10 16:29:08.940 22847 22847 D InputMethodManager: HSIFW - flag : 0 Pid : 22847\n04-10 16:29:09.046 22847 22847 D SensorManager: registerListener :: 0, K6DS3TR Accelerometer, 200000, 0,\n04-10 16:29:09.098 22847 22847 V Surface : sf_framedrop debug : 0x4f4c, game : false, logging : 0\n04-10 16:29:09.545 22847 22847 D ViewRootImpl@c6a4dff[MainActivity]: Relayout returned: old=[0,0][1080,1920] new=[0,0][1080,1920] result=0x1 surface={valid=true 3433400320} changed=false\n04-10 16:29:09.740 22847 22858 I zygote : Background concurrent copying GC freed 72636(7MB) AllocSpace objects, 12(30MB) LOS objects, 44% free, 30MB/54MB, paused 233us total 133.821ms\n04-10 16:29:10.103 22847 22858 I zygote : Background concurrent copying GC freed 8583(660KB) AllocSpace objects, 14(36MB) LOS objects, 46% free, 27MB/51MB, paused 314us total 117.216ms\n04-10 16:29:10.473 22847 22858 I zygote : Background concurrent copying GC freed 13524(1301KB) AllocSpace objects, 15(33MB) LOS objects, 44% free, 29MB/53MB, paused 238us total 133.914ms\n04-10 16:29:10.851 22847 22858 I zygote : Background concurrent copying GC freed 9038(705KB) AllocSpace objects, 12(35MB) LOS objects, 44% free, 29MB/53MB, paused 336us total 133.637ms\n04-10 16:29:10.927 22847 22898 D ReactNativeJS: DEBUG [status-im.utils.handlers:34] - Handling re-frame event: :qr-scanner.callback/scan-qr-code-success\n04-10 16:29:10.930 22847 22898 D ReactNativeJS: DEBUG [status-im.utils.handlers:34] - Handling re-frame event: :browser.bridge.callback/qr-code-scanned\n04-10 16:29:10.937 22847 22898 D ReactNativeJS: DEBUG [status-im.ui.screens.navigation:86] - :navigate-back\n04-10 16:29:10.980 22847 22898 D ReactNativeJS: DEBUG [status-im.ui.screens.routing.core:30] - :on-will-focus :home\n04-10 16:29:10.995 22847 22898 D ReactNativeJS: DEBUG [status-im.utils.handlers:34] - Handling re-frame event: :screens/on-will-focus\n04-10 16:29:11.002 22847 22898 D ReactNativeJS: DEBUG [status-im.ui.screens.views:72] - :main-component-did-update :home\n04-10 16:29:11.061 22847 22898 D ReactNativeJS: DEBUG [status-im.utils.handlers:34] - Handling re-frame event: :set-once\n04-10 16:29:11.122 22847 22898 D ReactNativeJS: DEBUG [status-im.utils.handlers:34] - Handling re-frame event: :qr-scanner.callback/scan-qr-code-success\n04-10 16:29:11.127 22847 22898 D ReactNativeJS: DEBUG [status-im.utils.handlers:34] - Handling re-frame event: :browser.bridge.callback/qr-code-scanned\n04-10 16:29:11.132 22847 22898 D ReactNativeJS: DEBUG [status-im.ui.screens.navigation:86] - :navigate-back\n04-10 16:29:11.195 22847 22898 D ReactNativeJS: DEBUG [status-im.ui.screens.routing.core:30] - :on-will-focus :open-dapp\n04-10 16:29:11.215 22847 22898 D ReactNativeJS: DEBUG [status-im.utils.handlers:34] - Handling re-frame event: :screens/on-will-focus\n04-10 16:29:11.234 22847 22898 D ReactNativeJS: DEBUG [status-im.ui.screens.views:72] - :main-component-did-update :open-dapp\n04-10 16:29:11.248 22847 22858 I zygote : Background concurrent copying GC freed 9573(722KB) AllocSpace objects, 16(36MB) LOS objects, 47% free, 26MB/50MB, paused 266us total 131.103ms\n04-10 16:29:11.874 22847 22898 D ReactNativeJS: DEBUG [status-im.utils.handlers:34] - Handling re-frame event: :set\n04-10 16:29:11.890 22847 22847 D InputMethodManager: HSIFW - flag : 0 Pid : 22847\n04-10 16:29:11.903 22847 22847 D ViewRootImpl@c6a4dff[MainActivity]: Relayout returned: old=[0,0][1080,1920] new=[0,0][1080,1920] result=0x1 surface={valid=true 3433400320} changed=false\n\n\n```\n\n",
  "closed_by": {
    "login": "jeluard",
    "id": 359723,
    "node_id": "MDQ6VXNlcjM1OTcyMw==",
    "avatar_url": "https://avatars.githubusercontent.com/u/359723?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jeluard",
    "html_url": "https://github.com/jeluard",
    "followers_url": "https://api.github.com/users/jeluard/followers",
    "following_url": "https://api.github.com/users/jeluard/following{/other_user}",
    "gists_url": "https://api.github.com/users/jeluard/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jeluard/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jeluard/subscriptions",
    "organizations_url": "https://api.github.com/users/jeluard/orgs",
    "repos_url": "https://api.github.com/users/jeluard/repos",
    "events_url": "https://api.github.com/users/jeluard/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jeluard/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/7948/reactions",
    "total_count": 1,
    "+1": 1,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-mobile/issues/7948/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/486677226",
    "html_url": "https://github.com/status-im/status-mobile/issues/7948#issuecomment-486677226",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/7948",
    "id": 486677226,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4NjY3NzIyNg==",
    "user": {
      "login": "jeluard",
      "id": 359723,
      "node_id": "MDQ6VXNlcjM1OTcyMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/359723?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jeluard",
      "html_url": "https://github.com/jeluard",
      "followers_url": "https://api.github.com/users/jeluard/followers",
      "following_url": "https://api.github.com/users/jeluard/following{/other_user}",
      "gists_url": "https://api.github.com/users/jeluard/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jeluard/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jeluard/subscriptions",
      "organizations_url": "https://api.github.com/users/jeluard/orgs",
      "repos_url": "https://api.github.com/users/jeluard/repos",
      "events_url": "https://api.github.com/users/jeluard/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jeluard/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-04-25T13:40:49Z",
    "updated_at": "2019-04-25T13:40:49Z",
    "author_association": "CONTRIBUTOR",
    "body": "@asemiankevich Actually you can see the behavior I describe in the gif",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/486677226/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/487037185",
    "html_url": "https://github.com/status-im/status-mobile/issues/7948#issuecomment-487037185",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/7948",
    "id": 487037185,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4NzAzNzE4NQ==",
    "user": {
      "login": "Serhy",
      "id": 8749671,
      "node_id": "MDQ6VXNlcjg3NDk2NzE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8749671?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Serhy",
      "html_url": "https://github.com/Serhy",
      "followers_url": "https://api.github.com/users/Serhy/followers",
      "following_url": "https://api.github.com/users/Serhy/following{/other_user}",
      "gists_url": "https://api.github.com/users/Serhy/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Serhy/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Serhy/subscriptions",
      "organizations_url": "https://api.github.com/users/Serhy/orgs",
      "repos_url": "https://api.github.com/users/Serhy/repos",
      "events_url": "https://api.github.com/users/Serhy/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Serhy/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-04-26T12:20:14Z",
    "updated_at": "2019-04-26T12:20:14Z",
    "author_association": "CONTRIBUTOR",
    "body": "Removed the 'release' label (mail server and bootnode parts, as the reason of this issue marked as 0.12.0 release blocker, were fixed separately)\r\nThis issue is about QR code scan in Dapps only.  ",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/487037185/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/487092378",
    "html_url": "https://github.com/status-im/status-mobile/issues/7948#issuecomment-487092378",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/7948",
    "id": 487092378,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4NzA5MjM3OA==",
    "user": {
      "login": "Swader",
      "id": 1430603,
      "node_id": "MDQ6VXNlcjE0MzA2MDM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1430603?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Swader",
      "html_url": "https://github.com/Swader",
      "followers_url": "https://api.github.com/users/Swader/followers",
      "following_url": "https://api.github.com/users/Swader/following{/other_user}",
      "gists_url": "https://api.github.com/users/Swader/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Swader/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Swader/subscriptions",
      "organizations_url": "https://api.github.com/users/Swader/orgs",
      "repos_url": "https://api.github.com/users/Swader/repos",
      "events_url": "https://api.github.com/users/Swader/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Swader/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-04-26T15:10:11Z",
    "updated_at": "2019-04-26T15:10:11Z",
    "author_association": "CONTRIBUTOR",
    "body": "+1",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/487092378/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/487092638",
    "html_url": "https://github.com/status-im/status-mobile/issues/7948#issuecomment-487092638",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/7948",
    "id": 487092638,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ4NzA5MjYzOA==",
    "user": {
      "login": "mpetrunic",
      "id": 8836210,
      "node_id": "MDQ6VXNlcjg4MzYyMTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8836210?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mpetrunic",
      "html_url": "https://github.com/mpetrunic",
      "followers_url": "https://api.github.com/users/mpetrunic/followers",
      "following_url": "https://api.github.com/users/mpetrunic/following{/other_user}",
      "gists_url": "https://api.github.com/users/mpetrunic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mpetrunic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mpetrunic/subscriptions",
      "organizations_url": "https://api.github.com/users/mpetrunic/orgs",
      "repos_url": "https://api.github.com/users/mpetrunic/repos",
      "events_url": "https://api.github.com/users/mpetrunic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mpetrunic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-04-26T15:10:57Z",
    "updated_at": "2019-04-26T15:10:57Z",
    "author_association": "NONE",
    "body": "+1",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/487092638/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/491163986",
    "html_url": "https://github.com/status-im/status-mobile/issues/7948#issuecomment-491163986",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/7948",
    "id": 491163986,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5MTE2Mzk4Ng==",
    "user": {
      "login": "oskarth",
      "id": 1552237,
      "node_id": "MDQ6VXNlcjE1NTIyMzc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1552237?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/oskarth",
      "html_url": "https://github.com/oskarth",
      "followers_url": "https://api.github.com/users/oskarth/followers",
      "following_url": "https://api.github.com/users/oskarth/following{/other_user}",
      "gists_url": "https://api.github.com/users/oskarth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/oskarth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/oskarth/subscriptions",
      "organizations_url": "https://api.github.com/users/oskarth/orgs",
      "repos_url": "https://api.github.com/users/oskarth/repos",
      "events_url": "https://api.github.com/users/oskarth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/oskarth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-10T05:44:12Z",
    "updated_at": "2019-05-10T05:44:12Z",
    "author_association": "CONTRIBUTOR",
    "body": "@Serhy @jeluard did we do some kind of post mortem of this regression (afaict?) and how it was introduced? Would be useful to find the root to ensure it doesn't happen in the future, as this had real world impact on e.g. https://discuss.status.im/t/other-ways-to-obtain-snt/1211/6?u=oskarth\r\n\r\nWe have a post mortem category on Discuss that'd be useful to use for this.\r\n\r\ncc @flexsurfer @rachelhamlin @annadanchenko ",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/491163986/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/491184728",
    "html_url": "https://github.com/status-im/status-mobile/issues/7948#issuecomment-491184728",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/7948",
    "id": 491184728,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5MTE4NDcyOA==",
    "user": {
      "login": "jeluard",
      "id": 359723,
      "node_id": "MDQ6VXNlcjM1OTcyMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/359723?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jeluard",
      "html_url": "https://github.com/jeluard",
      "followers_url": "https://api.github.com/users/jeluard/followers",
      "following_url": "https://api.github.com/users/jeluard/following{/other_user}",
      "gists_url": "https://api.github.com/users/jeluard/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jeluard/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jeluard/subscriptions",
      "organizations_url": "https://api.github.com/users/jeluard/orgs",
      "repos_url": "https://api.github.com/users/jeluard/repos",
      "events_url": "https://api.github.com/users/jeluard/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jeluard/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-10T07:16:09Z",
    "updated_at": "2019-05-10T07:16:09Z",
    "author_association": "CONTRIBUTOR",
    "body": "This is a regression introduced by recent transition related refactoring AFAIK.\r\n\r\nI let @flexsurfer and @annadanchenko dig more and come up with a discuss post ",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/491184728/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
