{
  "url": "https://api.github.com/repos/status-im/status-mobile/issues/16367",
  "repository_url": "https://api.github.com/repos/status-im/status-mobile",
  "labels_url": "https://api.github.com/repos/status-im/status-mobile/issues/16367/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-mobile/issues/16367/comments",
  "events_url": "https://api.github.com/repos/status-im/status-mobile/issues/16367/events",
  "html_url": "https://github.com/status-im/status-mobile/issues/16367",
  "id": 1770350865,
  "node_id": "I_kwDOAx4p2c5phWkR",
  "number": 16367,
  "title": "`make run-android` fails in rosetta terminal",
  "user": {
    "login": "smohamedjavid",
    "id": 19339952,
    "node_id": "MDQ6VXNlcjE5MzM5OTUy",
    "avatar_url": "https://avatars.githubusercontent.com/u/19339952?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/smohamedjavid",
    "html_url": "https://github.com/smohamedjavid",
    "followers_url": "https://api.github.com/users/smohamedjavid/followers",
    "following_url": "https://api.github.com/users/smohamedjavid/following{/other_user}",
    "gists_url": "https://api.github.com/users/smohamedjavid/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/smohamedjavid/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/smohamedjavid/subscriptions",
    "organizations_url": "https://api.github.com/users/smohamedjavid/orgs",
    "repos_url": "https://api.github.com/users/smohamedjavid/repos",
    "events_url": "https://api.github.com/users/smohamedjavid/events{/privacy}",
    "received_events_url": "https://api.github.com/users/smohamedjavid/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 330296931,
      "node_id": "MDU6TGFiZWwzMzAyOTY5MzE=",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/bug",
      "name": "bug",
      "color": "fc2929",
      "default": true,
      "description": null
    },
    {
      "id": 5244265545,
      "node_id": "LA_kwDOAx4p2c8AAAABOJUkSQ",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/infra",
      "name": "infra",
      "color": "22E4D7",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2023-06-22T20:29:58Z",
  "updated_at": "2023-06-23T07:02:52Z",
  "closed_at": null,
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "### Bug Report\r\n\r\n\r\n```\r\nerror: builder for '/nix/store/2ds858z14gp4wagj3nalcnf36qnf5lqv-drawee-2.2.0.aar.drv' failed with exit code 1;\r\n       last 9 log lines:\r\n       >\r\n       > trying https://plugins.gradle.org/m2/com/facebook/fresco/drawee/2.2.0/drawee-2.2.0.aar\r\n       >   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\r\n       >                                  Dload  Upload   Total   Spent    Left  Speed\r\n       >   0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0\r\n       > 100   162  100   162    0     0     78      0  0:00:02  0:00:02 --:--:--   589\r\n       >   0   554    0     0    0     0      0      0 --:--:--  0:00:03 --:--:--     0\r\n       > curl: (22) The requested URL returned error: 404\r\n       > error: cannot download drawee-2.2.0.aar from any mirror\r\n       For full logs, run 'nix log /nix/store/2ds858z14gp4wagj3nalcnf36qnf5lqv-drawee-2.2.0.aar.drv'.\r\n```\r\n\r\nThe error is due to a `404` response from `https://plugins.gradle.org/m2/com/facebook/fresco/drawee/2.2.0/drawee-2.2.0.aar`. \r\n\r\nCC: @jakubgs @siddarthkay \r\n\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/16367/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-mobile/issues/16367/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1603655310",
    "html_url": "https://github.com/status-im/status-mobile/issues/16367#issuecomment-1603655310",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/16367",
    "id": 1603655310,
    "node_id": "IC_kwDOAx4p2c5fldaO",
    "user": {
      "login": "siddarthkay",
      "id": 64726664,
      "node_id": "MDQ6VXNlcjY0NzI2NjY0",
      "avatar_url": "https://avatars.githubusercontent.com/u/64726664?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/siddarthkay",
      "html_url": "https://github.com/siddarthkay",
      "followers_url": "https://api.github.com/users/siddarthkay/followers",
      "following_url": "https://api.github.com/users/siddarthkay/following{/other_user}",
      "gists_url": "https://api.github.com/users/siddarthkay/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/siddarthkay/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/siddarthkay/subscriptions",
      "organizations_url": "https://api.github.com/users/siddarthkay/orgs",
      "repos_url": "https://api.github.com/users/siddarthkay/repos",
      "events_url": "https://api.github.com/users/siddarthkay/events{/privacy}",
      "received_events_url": "https://api.github.com/users/siddarthkay/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-23T04:08:42Z",
    "updated_at": "2023-06-23T04:08:42Z",
    "author_association": "CONTRIBUTOR",
    "body": "The error is reproducible on my end as well but does not seem to be a macOS or rosetta specific problem.\r\n\r\nThe url -> https://plugins.gradle.org/m2/com/facebook/fresco/drawee/2.2.0/drawee-2.2.0.aar is indeed a 404\r\n\r\n<img width=\"1020\" alt=\"Screenshot 2023-06-23 at 9 26 57 AM\" src=\"https://github.com/status-im/status-mobile/assets/64726664/b16e951a-7e3a-47f2-93f0-a213cab00c94\">\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1603655310/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1603658271",
    "html_url": "https://github.com/status-im/status-mobile/issues/16367#issuecomment-1603658271",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/16367",
    "id": 1603658271,
    "node_id": "IC_kwDOAx4p2c5fleIf",
    "user": {
      "login": "siddarthkay",
      "id": 64726664,
      "node_id": "MDQ6VXNlcjY0NzI2NjY0",
      "avatar_url": "https://avatars.githubusercontent.com/u/64726664?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/siddarthkay",
      "html_url": "https://github.com/siddarthkay",
      "followers_url": "https://api.github.com/users/siddarthkay/followers",
      "following_url": "https://api.github.com/users/siddarthkay/following{/other_user}",
      "gists_url": "https://api.github.com/users/siddarthkay/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/siddarthkay/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/siddarthkay/subscriptions",
      "organizations_url": "https://api.github.com/users/siddarthkay/orgs",
      "repos_url": "https://api.github.com/users/siddarthkay/repos",
      "events_url": "https://api.github.com/users/siddarthkay/events{/privacy}",
      "received_events_url": "https://api.github.com/users/siddarthkay/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-23T04:13:32Z",
    "updated_at": "2023-06-23T07:02:52Z",
    "author_association": "CONTRIBUTOR",
    "body": "I found this aar file over here : https://maven.scijava.org/content/repositories/public/com/facebook/fresco/drawee/2.2.0/drawee-2.2.0.aar",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1603658271/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1603704880",
    "html_url": "https://github.com/status-im/status-mobile/issues/16367#issuecomment-1603704880",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/16367",
    "id": 1603704880,
    "node_id": "IC_kwDOAx4p2c5flpgw",
    "user": {
      "login": "siddarthkay",
      "id": 64726664,
      "node_id": "MDQ6VXNlcjY0NzI2NjY0",
      "avatar_url": "https://avatars.githubusercontent.com/u/64726664?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/siddarthkay",
      "html_url": "https://github.com/siddarthkay",
      "followers_url": "https://api.github.com/users/siddarthkay/followers",
      "following_url": "https://api.github.com/users/siddarthkay/following{/other_user}",
      "gists_url": "https://api.github.com/users/siddarthkay/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/siddarthkay/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/siddarthkay/subscriptions",
      "organizations_url": "https://api.github.com/users/siddarthkay/orgs",
      "repos_url": "https://api.github.com/users/siddarthkay/repos",
      "events_url": "https://api.github.com/users/siddarthkay/events{/privacy}",
      "received_events_url": "https://api.github.com/users/siddarthkay/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-23T05:36:40Z",
    "updated_at": "2023-06-23T05:41:45Z",
    "author_association": "CONTRIBUTOR",
    "body": "On my linux box `make run-android` fails with the error below :\r\n( note : i retired 6 times but no luck )\r\n\r\n```log\r\nsiddarth@siddarth-ROG-Strix-GA35DX-G35DX:~/code/status-mobile$ make run-android\r\nnpx react-native run-android --appIdSuffix debug\r\nConfiguring Nix shell for target 'android'...\r\nthis derivation will be built:\r\n  /nix/store/3006mswjsygan8j37cyjqs9q4iim4p84-androidsdk-mod.drv\r\nthese 2 paths will be fetched (0.00 MiB download, 3768.82 MiB unpacked):\r\n  /nix/store/ijpabfww24qfcb6fbjkbm184p5pfhm45-android-sdk-ndk-bundle-22.1.7171670\r\n  /nix/store/rv8sqrqfs97c8rq18kx4isw63z7vxnc0-androidsdk\r\ncopying path '/nix/store/ijpabfww24qfcb6fbjkbm184p5pfhm45-android-sdk-ndk-bundle-22.1.7171670' from 'https://nix-cache.status.im/'...\r\nerror: NAR for '/nix/store/ijpabfww24qfcb6fbjkbm184p5pfhm45-android-sdk-ndk-bundle-22.1.7171670' fetched from 'https://nix-cache.status.im/' is incomplete\r\nerror: some substitutes for the outputs of derivation '/nix/store/7y0aphnygd0x04y32x3mqsg1aa7hqpzq-androidsdk.drv' failed (usually happens due to networking issues); try '--fallback' to build derivation from source\r\nerror: 1 dependencies of derivation '/nix/store/3006mswjsygan8j37cyjqs9q4iim4p84-androidsdk-mod.drv' failed to build\r\nmake: *** [Makefile:273: run-android] Error 1\r\n```\r\n\r\nIts probably the cache issue that we see here https://github.com/status-im/status-mobile/pull/16347#issuecomment-1602168846 and is unrelated to the above issue. ",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1603704880/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
