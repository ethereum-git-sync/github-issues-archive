{
  "url": "https://api.github.com/repos/status-im/status-mobile/issues/13444",
  "repository_url": "https://api.github.com/repos/status-im/status-mobile",
  "labels_url": "https://api.github.com/repos/status-im/status-mobile/issues/13444/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-mobile/issues/13444/comments",
  "events_url": "https://api.github.com/repos/status-im/status-mobile/issues/13444/events",
  "html_url": "https://github.com/status-im/status-mobile/issues/13444",
  "id": 1258211761,
  "node_id": "I_kwDOAx4p2c5K_smx",
  "number": 13444,
  "title": "No unread indicator for messages received after disabling flight mode (going back online)",
  "user": {
    "login": "pavloburykh",
    "id": 97245802,
    "node_id": "U_kgDOBcvaag",
    "avatar_url": "https://avatars.githubusercontent.com/u/97245802?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/pavloburykh",
    "html_url": "https://github.com/pavloburykh",
    "followers_url": "https://api.github.com/users/pavloburykh/followers",
    "following_url": "https://api.github.com/users/pavloburykh/following{/other_user}",
    "gists_url": "https://api.github.com/users/pavloburykh/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/pavloburykh/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/pavloburykh/subscriptions",
    "organizations_url": "https://api.github.com/users/pavloburykh/orgs",
    "repos_url": "https://api.github.com/users/pavloburykh/repos",
    "events_url": "https://api.github.com/users/pavloburykh/events{/privacy}",
    "received_events_url": "https://api.github.com/users/pavloburykh/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 330296931,
      "node_id": "MDU6TGFiZWwzMzAyOTY5MzE=",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/bug",
      "name": "bug",
      "color": "fc2929",
      "default": true,
      "description": null
    },
    {
      "id": 3990911030,
      "node_id": "LA_kwDOAx4p2c7t4Hg2",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/E:Bugfixes",
      "name": "E:Bugfixes",
      "color": "32BD0C",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "flexsurfer",
    "id": 11790366,
    "node_id": "MDQ6VXNlcjExNzkwMzY2",
    "avatar_url": "https://avatars.githubusercontent.com/u/11790366?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/flexsurfer",
    "html_url": "https://github.com/flexsurfer",
    "followers_url": "https://api.github.com/users/flexsurfer/followers",
    "following_url": "https://api.github.com/users/flexsurfer/following{/other_user}",
    "gists_url": "https://api.github.com/users/flexsurfer/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/flexsurfer/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/flexsurfer/subscriptions",
    "organizations_url": "https://api.github.com/users/flexsurfer/orgs",
    "repos_url": "https://api.github.com/users/flexsurfer/repos",
    "events_url": "https://api.github.com/users/flexsurfer/events{/privacy}",
    "received_events_url": "https://api.github.com/users/flexsurfer/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "flexsurfer",
      "id": 11790366,
      "node_id": "MDQ6VXNlcjExNzkwMzY2",
      "avatar_url": "https://avatars.githubusercontent.com/u/11790366?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/flexsurfer",
      "html_url": "https://github.com/flexsurfer",
      "followers_url": "https://api.github.com/users/flexsurfer/followers",
      "following_url": "https://api.github.com/users/flexsurfer/following{/other_user}",
      "gists_url": "https://api.github.com/users/flexsurfer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/flexsurfer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/flexsurfer/subscriptions",
      "organizations_url": "https://api.github.com/users/flexsurfer/orgs",
      "repos_url": "https://api.github.com/users/flexsurfer/repos",
      "events_url": "https://api.github.com/users/flexsurfer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/flexsurfer/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": {
    "url": "https://api.github.com/repos/status-im/status-mobile/milestones/59",
    "html_url": "https://github.com/status-im/status-mobile/milestone/59",
    "labels_url": "https://api.github.com/repos/status-im/status-mobile/milestones/59/labels",
    "id": 7721557,
    "node_id": "MI_kwDOAx4p2c4AddJV",
    "number": 59,
    "title": "Release 1.20",
    "description": "",
    "creator": {
      "login": "cammellos",
      "id": 1017008,
      "node_id": "MDQ6VXNlcjEwMTcwMDg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1017008?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cammellos",
      "html_url": "https://github.com/cammellos",
      "followers_url": "https://api.github.com/users/cammellos/followers",
      "following_url": "https://api.github.com/users/cammellos/following{/other_user}",
      "gists_url": "https://api.github.com/users/cammellos/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cammellos/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cammellos/subscriptions",
      "organizations_url": "https://api.github.com/users/cammellos/orgs",
      "repos_url": "https://api.github.com/users/cammellos/repos",
      "events_url": "https://api.github.com/users/cammellos/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cammellos/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 0,
    "closed_issues": 57,
    "state": "closed",
    "created_at": "2022-02-28T16:35:08Z",
    "updated_at": "2023-06-01T10:05:16Z",
    "due_on": null,
    "closed_at": "2022-12-02T16:06:03Z"
  },
  "comments": 6,
  "created_at": "2022-06-02T13:46:19Z",
  "updated_at": "2022-06-22T08:00:11Z",
  "closed_at": "2022-06-22T08:00:11Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "# Bug Report\r\nUnread indicator does not appear for messages which where send to receiver during period of his being offline and received after going back online. \r\n\r\n**Steps:** \r\n\r\n1. Start 1-1 chat between Device 1 and Device 2 \r\n2. Device 1 enables flight mode\r\n3. Device 2 sends message to Device 1\r\n4. Device 1 enters 1-1 chat and closes it while being offline\r\n5. Device 1 disables flight mode and comes back online\r\n6. On Device 1 pay attention if unread indicator appears for message received after disabling flight mode. \r\n\r\n**Actual result:** unread indicator does not appear. Message preview is presented. \r\n\r\n**Expected result:** unread indicator appears for message received after going back online. \r\n\r\n- Status version: nightly \r\n- Operating System: Android, iOS\r\n\r\n\r\nhttps://user-images.githubusercontent.com/97245802/171643126-32fdac9b-cdac-430a-8710-db2eba6d2f19.mp4\r\n\r\n[geth.log](https://github.com/status-im/status-react/files/8824461/geth.log)\r\n\r\n\r\n",
  "closed_by": {
    "login": "flexsurfer",
    "id": 11790366,
    "node_id": "MDQ6VXNlcjExNzkwMzY2",
    "avatar_url": "https://avatars.githubusercontent.com/u/11790366?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/flexsurfer",
    "html_url": "https://github.com/flexsurfer",
    "followers_url": "https://api.github.com/users/flexsurfer/followers",
    "following_url": "https://api.github.com/users/flexsurfer/following{/other_user}",
    "gists_url": "https://api.github.com/users/flexsurfer/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/flexsurfer/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/flexsurfer/subscriptions",
    "organizations_url": "https://api.github.com/users/flexsurfer/orgs",
    "repos_url": "https://api.github.com/users/flexsurfer/repos",
    "events_url": "https://api.github.com/users/flexsurfer/events{/privacy}",
    "received_events_url": "https://api.github.com/users/flexsurfer/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/13444/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-mobile/issues/13444/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1146024832",
    "html_url": "https://github.com/status-im/status-mobile/issues/13444#issuecomment-1146024832",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/13444",
    "id": 1146024832,
    "node_id": "IC_kwDOAx4p2c5ETvOA",
    "user": {
      "login": "pavloburykh",
      "id": 97245802,
      "node_id": "U_kgDOBcvaag",
      "avatar_url": "https://avatars.githubusercontent.com/u/97245802?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pavloburykh",
      "html_url": "https://github.com/pavloburykh",
      "followers_url": "https://api.github.com/users/pavloburykh/followers",
      "following_url": "https://api.github.com/users/pavloburykh/following{/other_user}",
      "gists_url": "https://api.github.com/users/pavloburykh/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pavloburykh/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pavloburykh/subscriptions",
      "organizations_url": "https://api.github.com/users/pavloburykh/orgs",
      "repos_url": "https://api.github.com/users/pavloburykh/repos",
      "events_url": "https://api.github.com/users/pavloburykh/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pavloburykh/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-03T14:31:43Z",
    "updated_at": "2022-06-03T14:31:43Z",
    "author_association": "CONTRIBUTOR",
    "body": "One more issue regarding unread indicator. Might be related to current issue although steps and actual behaviour differs little bit. Will leave it here for now. If this issue turns out to be not related then I will add separate bug for it. Just let me know.\r\n \r\n### ISSUE 2 Messages in group chat are automatically read (unread indicator appears for second and then disappears) if received from recently unblocked user\r\n\r\n**Steps:** \r\n\r\n1. User 1 and User 2 are in group chat\r\n2. User 1 blocks User 2 and stops receiving messages from User 2 (as expected)\r\n3. User 1 unblocks User 2 (but does not add User 2 in contact)\r\n4. User 1 opens screen with chat list (do not enter existing group chat)\r\n5. User 2 sends some messages in group chat\r\n6. User 1 - pay attention at indicator of unread messages of given group chat\r\n\r\n**Actual result:** unread indicator appears for second and then disappears. \r\n\r\n**Expected result:** unread indicator appears and remains until user reads messages in group chat (or marks all as read)\r\n\r\n\r\nhttps://user-images.githubusercontent.com/97245802/171874822-11574c6d-b4a1-4e79-81f4-de81037b233f.mp4\r\n\r\n[geth.log](https://github.com/status-im/status-react/files/8833037/geth.log)\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1146024832/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1149958413",
    "html_url": "https://github.com/status-im/status-mobile/issues/13444#issuecomment-1149958413",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/13444",
    "id": 1149958413,
    "node_id": "IC_kwDOAx4p2c5EivkN",
    "user": {
      "login": "flexsurfer",
      "id": 11790366,
      "node_id": "MDQ6VXNlcjExNzkwMzY2",
      "avatar_url": "https://avatars.githubusercontent.com/u/11790366?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/flexsurfer",
      "html_url": "https://github.com/flexsurfer",
      "followers_url": "https://api.github.com/users/flexsurfer/followers",
      "following_url": "https://api.github.com/users/flexsurfer/following{/other_user}",
      "gists_url": "https://api.github.com/users/flexsurfer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/flexsurfer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/flexsurfer/subscriptions",
      "organizations_url": "https://api.github.com/users/flexsurfer/orgs",
      "repos_url": "https://api.github.com/users/flexsurfer/repos",
      "events_url": "https://api.github.com/users/flexsurfer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/flexsurfer/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-08T14:00:22Z",
    "updated_at": "2022-06-08T14:00:30Z",
    "author_association": "MEMBER",
    "body": "ISSUE1 : \r\n```\r\nif chat.ReadMessagesAtClockValue > state.CurrentMessageState.WhisperTimestamp {\r\n        receivedMessage.Seen = true\r\n    }\r\n```\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1149958413/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1150891313",
    "html_url": "https://github.com/status-im/status-mobile/issues/13444#issuecomment-1150891313",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/13444",
    "id": 1150891313,
    "node_id": "IC_kwDOAx4p2c5EmTUx",
    "user": {
      "login": "flexsurfer",
      "id": 11790366,
      "node_id": "MDQ6VXNlcjExNzkwMzY2",
      "avatar_url": "https://avatars.githubusercontent.com/u/11790366?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/flexsurfer",
      "html_url": "https://github.com/flexsurfer",
      "followers_url": "https://api.github.com/users/flexsurfer/followers",
      "following_url": "https://api.github.com/users/flexsurfer/following{/other_user}",
      "gists_url": "https://api.github.com/users/flexsurfer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/flexsurfer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/flexsurfer/subscriptions",
      "organizations_url": "https://api.github.com/users/flexsurfer/orgs",
      "repos_url": "https://api.github.com/users/flexsurfer/repos",
      "events_url": "https://api.github.com/users/flexsurfer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/flexsurfer/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-09T09:29:35Z",
    "updated_at": "2022-06-09T09:29:35Z",
    "author_association": "MEMBER",
    "body": "thanks @pavloburykh , can't replicate issue 2, strange that when you press back from group info, the home screen is opened instead chat screen, for me chat screen is opened, might be the issue, are you trying in the latest develop (nighlty) ?",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1150891313/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1151150517",
    "html_url": "https://github.com/status-im/status-mobile/issues/13444#issuecomment-1151150517",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/13444",
    "id": 1151150517,
    "node_id": "IC_kwDOAx4p2c5EnSm1",
    "user": {
      "login": "pavloburykh",
      "id": 97245802,
      "node_id": "U_kgDOBcvaag",
      "avatar_url": "https://avatars.githubusercontent.com/u/97245802?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pavloburykh",
      "html_url": "https://github.com/pavloburykh",
      "followers_url": "https://api.github.com/users/pavloburykh/followers",
      "following_url": "https://api.github.com/users/pavloburykh/following{/other_user}",
      "gists_url": "https://api.github.com/users/pavloburykh/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pavloburykh/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pavloburykh/subscriptions",
      "organizations_url": "https://api.github.com/users/pavloburykh/orgs",
      "repos_url": "https://api.github.com/users/pavloburykh/repos",
      "events_url": "https://api.github.com/users/pavloburykh/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pavloburykh/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-09T13:53:13Z",
    "updated_at": "2022-06-09T13:53:13Z",
    "author_association": "CONTRIBUTOR",
    "body": "> thanks @pavloburykh , can't replicate issue 2, strange that when you press back from group info, the home screen is opened instead chat screen, for me chat screen is opened, might be the issue, are you trying in the latest develop (nighlty) ?\r\n\r\nHi @flexsurfer On given above video I press chat home button, not back. That's why I am redirected to chat screen. I am replicating the bug on latest nightly. ",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1151150517/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1152090243",
    "html_url": "https://github.com/status-im/status-mobile/issues/13444#issuecomment-1152090243",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/13444",
    "id": 1152090243,
    "node_id": "IC_kwDOAx4p2c5Eq4CD",
    "user": {
      "login": "flexsurfer",
      "id": 11790366,
      "node_id": "MDQ6VXNlcjExNzkwMzY2",
      "avatar_url": "https://avatars.githubusercontent.com/u/11790366?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/flexsurfer",
      "html_url": "https://github.com/flexsurfer",
      "followers_url": "https://api.github.com/users/flexsurfer/followers",
      "following_url": "https://api.github.com/users/flexsurfer/following{/other_user}",
      "gists_url": "https://api.github.com/users/flexsurfer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/flexsurfer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/flexsurfer/subscriptions",
      "organizations_url": "https://api.github.com/users/flexsurfer/orgs",
      "repos_url": "https://api.github.com/users/flexsurfer/repos",
      "events_url": "https://api.github.com/users/flexsurfer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/flexsurfer/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-10T08:05:52Z",
    "updated_at": "2022-06-10T08:05:52Z",
    "author_association": "MEMBER",
    "body": "hey @pavloburykh yes now i was able to reproduce, so the only thing you need is to use chat tab, could you create a separate issue pls",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1152090243/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1152168789",
    "html_url": "https://github.com/status-im/status-mobile/issues/13444#issuecomment-1152168789",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/13444",
    "id": 1152168789,
    "node_id": "IC_kwDOAx4p2c5ErLNV",
    "user": {
      "login": "pavloburykh",
      "id": 97245802,
      "node_id": "U_kgDOBcvaag",
      "avatar_url": "https://avatars.githubusercontent.com/u/97245802?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pavloburykh",
      "html_url": "https://github.com/pavloburykh",
      "followers_url": "https://api.github.com/users/pavloburykh/followers",
      "following_url": "https://api.github.com/users/pavloburykh/following{/other_user}",
      "gists_url": "https://api.github.com/users/pavloburykh/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pavloburykh/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pavloburykh/subscriptions",
      "organizations_url": "https://api.github.com/users/pavloburykh/orgs",
      "repos_url": "https://api.github.com/users/pavloburykh/repos",
      "events_url": "https://api.github.com/users/pavloburykh/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pavloburykh/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-10T09:33:26Z",
    "updated_at": "2022-06-10T09:33:26Z",
    "author_association": "CONTRIBUTOR",
    "body": "> hey @pavloburykh yes now i was able to reproduce, so the only thing you need is to use chat tab, could you create a separate issue pls\r\n\r\nThanx @flexsurfer Done https://github.com/status-im/status-react/issues/13473",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1152168789/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
