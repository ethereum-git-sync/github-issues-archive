{
  "url": "https://api.github.com/repos/status-im/status-mobile/issues/8217",
  "repository_url": "https://api.github.com/repos/status-im/status-mobile",
  "labels_url": "https://api.github.com/repos/status-im/status-mobile/issues/8217/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-mobile/issues/8217/comments",
  "events_url": "https://api.github.com/repos/status-im/status-mobile/issues/8217/events",
  "html_url": "https://github.com/status-im/status-mobile/issues/8217",
  "id": 444477759,
  "node_id": "MDU6SXNzdWU0NDQ0Nzc3NTk=",
  "number": 8217,
  "title": "Empty mailserver added after app opened from PN with account autologin enabled [Android]",
  "user": {
    "login": "Serhy",
    "id": 8749671,
    "node_id": "MDQ6VXNlcjg3NDk2NzE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/8749671?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Serhy",
    "html_url": "https://github.com/Serhy",
    "followers_url": "https://api.github.com/users/Serhy/followers",
    "following_url": "https://api.github.com/users/Serhy/following{/other_user}",
    "gists_url": "https://api.github.com/users/Serhy/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Serhy/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Serhy/subscriptions",
    "organizations_url": "https://api.github.com/users/Serhy/orgs",
    "repos_url": "https://api.github.com/users/Serhy/repos",
    "events_url": "https://api.github.com/users/Serhy/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Serhy/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 330296931,
      "node_id": "MDU6TGFiZWwzMzAyOTY5MzE=",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/bug",
      "name": "bug",
      "color": "fc2929",
      "default": true,
      "description": null
    },
    {
      "id": 448876669,
      "node_id": "MDU6TGFiZWw0NDg4NzY2Njk=",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/android",
      "name": "android",
      "color": "5319e7",
      "default": false,
      "description": null
    },
    {
      "id": 957413450,
      "node_id": "MDU6TGFiZWw5NTc0MTM0NTA=",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/low-severity",
      "name": "low-severity",
      "color": "3fdbce",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2019-05-15T14:39:19Z",
  "updated_at": "2019-10-29T14:04:19Z",
  "closed_at": "2019-10-29T14:04:19Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "\n*Type*: Bug\n\n*Summary*: When contact opens an app from PN with autologin enabled - in the list of mailservers there is an empty-value mailserver is added.\nIf to switch to this <no-value> mailserver then simultaneously 'Autoselection mailserver' setting is enabled -> connection to the <no-value> mailserver fails and contact switches to valid mailserver as expected.\n\nWith no autologin it's all fine (no empty mailserver in the list)\nIf open the app not from PN everything is OK as well  \n\nNo issues on iOS, but confirmed with Android\n\n#### Expected behavior\n\nNo unexpected mailserver values are added in the list after app opened from PN with account autologin enabled \n\n#### Actual behavior\n\nEmpty mailserver added after app opened from PN with account autologin enabled [Android]\n<img width=\"330\" alt=\"Screenshot 2019-05-15 at 17 36 24\" src=\"https://user-images.githubusercontent.com/8749671/57784085-fc38d380-7737-11e9-8c07-b47857597303.png\">\n\n\n### Reproduction\n\n- Open Status and create new account (`User1`)\n- `User1` re-logins with 'Autologin' setting enabled\n- `User1` receives contact request from `User2` and adds `User2` in contacts\n- `User1` closes Status app\n- `User2` sends a message to `User1` (`User1` should receive Push Notification after that)\n- `User1` taps Push Notification\n- `User1` navigated to `Profile` -> `Mailserver settings`\n\n### Additional Information\n\n- Status version: Develop 0.13.0, Release 0.12.1, Release 0.12.2\n- Operating System: Android\n\n#### Logs\nLogcat from `User1` above when user opened app from PN\n(note: errors after `05-15 17:32:43.304  1495  1529 E ReactNativeJS: ERROR [status-im.mailserver.core:113] - mailserver: add-peer error invalid URL scheme, want \"enode\"\n` are loged after I selected empty mailserver)\n[NoValueMailserverFromPN.log](https://github.com/status-im/status-react/files/3183017/NoValueMailserverFromPN.log)",
  "closed_by": {
    "login": "yenda",
    "id": 1181225,
    "node_id": "MDQ6VXNlcjExODEyMjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1181225?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/yenda",
    "html_url": "https://github.com/yenda",
    "followers_url": "https://api.github.com/users/yenda/followers",
    "following_url": "https://api.github.com/users/yenda/following{/other_user}",
    "gists_url": "https://api.github.com/users/yenda/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/yenda/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/yenda/subscriptions",
    "organizations_url": "https://api.github.com/users/yenda/orgs",
    "repos_url": "https://api.github.com/users/yenda/repos",
    "events_url": "https://api.github.com/users/yenda/events{/privacy}",
    "received_events_url": "https://api.github.com/users/yenda/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/8217/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-mobile/issues/8217/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/494744856",
    "html_url": "https://github.com/status-im/status-mobile/issues/8217#issuecomment-494744856",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/8217",
    "id": 494744856,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5NDc0NDg1Ng==",
    "user": {
      "login": "rachelhamlin",
      "id": 15470435,
      "node_id": "MDQ6VXNlcjE1NDcwNDM1",
      "avatar_url": "https://avatars.githubusercontent.com/u/15470435?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rachelhamlin",
      "html_url": "https://github.com/rachelhamlin",
      "followers_url": "https://api.github.com/users/rachelhamlin/followers",
      "following_url": "https://api.github.com/users/rachelhamlin/following{/other_user}",
      "gists_url": "https://api.github.com/users/rachelhamlin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rachelhamlin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rachelhamlin/subscriptions",
      "organizations_url": "https://api.github.com/users/rachelhamlin/orgs",
      "repos_url": "https://api.github.com/users/rachelhamlin/repos",
      "events_url": "https://api.github.com/users/rachelhamlin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rachelhamlin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-22T10:23:43Z",
    "updated_at": "2019-05-22T10:23:43Z",
    "author_association": "CONTRIBUTOR",
    "body": "Could someone investigate what's happening here? Is this just creating a UI list item? Wondering what the risk level is, if automatic selection might eventually switch user to a non-functioning/empty mail server and crash the app, for example. ",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/494744856/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
