{
  "url": "https://api.github.com/repos/status-im/status-mobile/issues/12523",
  "repository_url": "https://api.github.com/repos/status-im/status-mobile",
  "labels_url": "https://api.github.com/repos/status-im/status-mobile/issues/12523/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-mobile/issues/12523/comments",
  "events_url": "https://api.github.com/repos/status-im/status-mobile/issues/12523/events",
  "html_url": "https://github.com/status-im/status-mobile/issues/12523",
  "id": 982647471,
  "node_id": "MDU6SXNzdWU5ODI2NDc0NzE=",
  "number": 12523,
  "title": "Implement swap",
  "user": {
    "login": "cammellos",
    "id": 1017008,
    "node_id": "MDQ6VXNlcjEwMTcwMDg=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1017008?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/cammellos",
    "html_url": "https://github.com/cammellos",
    "followers_url": "https://api.github.com/users/cammellos/followers",
    "following_url": "https://api.github.com/users/cammellos/following{/other_user}",
    "gists_url": "https://api.github.com/users/cammellos/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/cammellos/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/cammellos/subscriptions",
    "organizations_url": "https://api.github.com/users/cammellos/orgs",
    "repos_url": "https://api.github.com/users/cammellos/repos",
    "events_url": "https://api.github.com/users/cammellos/events{/privacy}",
    "received_events_url": "https://api.github.com/users/cammellos/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 933023569,
      "node_id": "MDU6TGFiZWw5MzMwMjM1Njk=",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/feature",
      "name": "feature",
      "color": "172b9e",
      "default": false,
      "description": "feature requests"
    },
    {
      "id": 4052560706,
      "node_id": "LA_kwDOAx4p2c7xjStC",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/E:Swaps",
      "name": "E:Swaps",
      "color": "F767B7",
      "default": false,
      "description": ""
    },
    {
      "id": 4875568527,
      "node_id": "LA_kwDOAx4p2c8AAAABIptFjw",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/recheck",
      "name": "recheck",
      "color": "767FB8",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2021-08-30T10:34:01Z",
  "updated_at": "2022-12-05T17:41:44Z",
  "closed_at": "2022-12-05T17:41:43Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "As a user\r\n I want to be able to swap different tokens\r\nSo I can more easily manage my assets\r\n\r\n# Description\r\n\r\nThe goal of this feature is to integrate Paraswap for swapping assets in Status. \r\n\r\n## Design\r\n- The UI flow is at https://www.figma.com/file/UQSs6JFVpYRhpgCimvVDPl/Swaps%2C-WalletConnect-%F0%9F%94%926-Dec-21?node-id=69%3A13840\r\n- The design incorporates signing multiple transactions in the first attempt where the approval transaction has not been made. In this case we just need to sign two transactions, and broadcast them together. \r\n- Its understood that the status of the transactions (ie failed, pending, stuck) will not be visible for now. This status section will be added later.\r\n- The currently merged UI is slightly different from the design shown above. This is because the above design reduces scope, and tries to not break existing layout. The merged UI (with round action buttons) was how the feature entry point was envisioned, and will be soon.\r\n- Currently, the entry point is via the three dot menu on the wallet as per the design. This needs to be implemented in the UI.\r\n- The design system guidelines for this feature (and in general) are at https://www.figma.com/file/Qj5jhvbxby4DkbggSsYZHS/Design-System-%E2%8E%9C-Mobile?node-id=986%3A9641\r\n\r\n## Paraswap\r\n- The Paraswap integration includes two steps: getting data like liquidity pairs, liquidity volumes, slippage etc and then making actual transactions\r\n- There is a JS implementation here : https://github.com/paraswap/paraswap-widget that can act as a reference.\r\n- The Status app can directly interact with Paraswap contracts. As long as Status doesn't charge any commission on the swaps, Paraswap fee will be 0. But if Status chooses to charge a commission, Paraswap will take a cut in that commission. \r\n- The Paraswap website doesn't charge any commission (except for liquidity provider fee and gas).\r\n- Here's the Meta Mask implementation of the Swaps https://github.com/MetaMask/metamask-extension/blob/develop/app/scripts/controllers/swaps.js\r\n\r\n## Next steps overview\r\n- Get quotes https://github.com/paraswap/paraswap-sdk\r\n- Get associated metadata - like gas price, liquidity fee\r\n- Figure out if an approval txn is needed\r\n- If not, generate and sign a swap txn\r\n- If yes, generate an approve and swap txn, sign them both and broadcast at once",
  "closed_by": {
    "login": "churik",
    "id": 4557972,
    "node_id": "MDQ6VXNlcjQ1NTc5NzI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4557972?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/churik",
    "html_url": "https://github.com/churik",
    "followers_url": "https://api.github.com/users/churik/followers",
    "following_url": "https://api.github.com/users/churik/following{/other_user}",
    "gists_url": "https://api.github.com/users/churik/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/churik/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/churik/subscriptions",
    "organizations_url": "https://api.github.com/users/churik/orgs",
    "repos_url": "https://api.github.com/users/churik/repos",
    "events_url": "https://api.github.com/users/churik/events{/privacy}",
    "received_events_url": "https://api.github.com/users/churik/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/12523/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-mobile/issues/12523/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/908357615",
    "html_url": "https://github.com/status-im/status-mobile/issues/12523#issuecomment-908357615",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/12523",
    "id": 908357615,
    "node_id": "IC_kwDOAx4p2c42JG_v",
    "user": {
      "login": "cammellos",
      "id": 1017008,
      "node_id": "MDQ6VXNlcjEwMTcwMDg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1017008?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cammellos",
      "html_url": "https://github.com/cammellos",
      "followers_url": "https://api.github.com/users/cammellos/followers",
      "following_url": "https://api.github.com/users/cammellos/following{/other_user}",
      "gists_url": "https://api.github.com/users/cammellos/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cammellos/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cammellos/subscriptions",
      "organizations_url": "https://api.github.com/users/cammellos/orgs",
      "repos_url": "https://api.github.com/users/cammellos/repos",
      "events_url": "https://api.github.com/users/cammellos/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cammellos/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-08-30T13:47:41Z",
    "updated_at": "2021-08-30T13:47:41Z",
    "author_association": "MEMBER",
    "body": "There's still a question on which service we will be using underneath for the swap, I'll update the task as necessary, blocked for the time being.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/908357615/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1008674238",
    "html_url": "https://github.com/status-im/status-mobile/issues/12523#issuecomment-1008674238",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/12523",
    "id": 1008674238,
    "node_id": "IC_kwDOAx4p2c48HyW-",
    "user": {
      "login": "shivekkhurana",
      "id": 1925158,
      "node_id": "MDQ6VXNlcjE5MjUxNTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1925158?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/shivekkhurana",
      "html_url": "https://github.com/shivekkhurana",
      "followers_url": "https://api.github.com/users/shivekkhurana/followers",
      "following_url": "https://api.github.com/users/shivekkhurana/following{/other_user}",
      "gists_url": "https://api.github.com/users/shivekkhurana/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/shivekkhurana/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/shivekkhurana/subscriptions",
      "organizations_url": "https://api.github.com/users/shivekkhurana/orgs",
      "repos_url": "https://api.github.com/users/shivekkhurana/repos",
      "events_url": "https://api.github.com/users/shivekkhurana/events{/privacy}",
      "received_events_url": "https://api.github.com/users/shivekkhurana/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-10T09:15:03Z",
    "updated_at": "2022-01-10T10:59:24Z",
    "author_association": "CONTRIBUTOR",
    "body": "The goal of this feature is to integrate Paraswap for swapping assets in Status. \r\n\r\n## Design\r\n- The UI flow is at https://www.figma.com/file/UQSs6JFVpYRhpgCimvVDPl/Swaps%2C-WalletConnect-%F0%9F%94%926-Dec-21?node-id=69%3A13840\r\n- The design incorporates signing multiple transactions in the first attempt where the approval transaction has not been made. In this case we just need to sign two transactions, and broadcast them together. \r\n- Its understood that the status of the transactions (ie failed, pending, stuck) will not be visible for now. This status section will be added later.\r\n- The currently merged UI is slightly different from the design shown above. This is because the above design reduces scope, and tries to not break existing layout. The merged UI (with round action buttons) was how the feature entry point was envisioned, and will be soon.\r\n- Currently, the entry point is via the three dot menu on the wallet as per the design. This needs to be implemented in the UI.\r\n- The design system guidelines for this feature (and in general) are at https://www.figma.com/file/Qj5jhvbxby4DkbggSsYZHS/Design-System-%E2%8E%9C-Mobile?node-id=986%3A9641\r\n\r\n## Paraswap\r\n- The Paraswap integration includes two steps: getting data like liquidity pairs, liquidity volumes, slippage etc and then making actual transactions\r\n- There is a JS implementation here : https://github.com/paraswap/paraswap-widget that can act as a reference.\r\n- The Status app can directly interact with Paraswap contracts. As long as Status doesn't charge any commission on the swaps, Paraswap fee will be 0. But if Status chooses to charge a commission, Paraswap will take a cut in that commission. \r\n- The Paraswap website doesn't charge any commission (except for liquidity provider fee and gas).\r\n- Here's the Meta Mask implementation of the Swaps https://github.com/MetaMask/metamask-extension/blob/develop/app/scripts/controllers/swaps.js\r\n\r\n## Next steps overview\r\n- Get quotes https://github.com/paraswap/paraswap-sdk\r\n- Get associated metadata - like gas price, liquidity fee\r\n- Figure out if an approval txn is needed\r\n- If not, generate and sign a swap txn\r\n- If yes, generate an approve and swap txn, sign them both and broadcast at once",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1008674238/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1337826383",
    "html_url": "https://github.com/status-im/status-mobile/issues/12523#issuecomment-1337826383",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/12523",
    "id": 1337826383,
    "node_id": "IC_kwDOAx4p2c5PvZxP",
    "user": {
      "login": "churik",
      "id": 4557972,
      "node_id": "MDQ6VXNlcjQ1NTc5NzI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4557972?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/churik",
      "html_url": "https://github.com/churik",
      "followers_url": "https://api.github.com/users/churik/followers",
      "following_url": "https://api.github.com/users/churik/following{/other_user}",
      "gists_url": "https://api.github.com/users/churik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/churik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/churik/subscriptions",
      "organizations_url": "https://api.github.com/users/churik/orgs",
      "repos_url": "https://api.github.com/users/churik/repos",
      "events_url": "https://api.github.com/users/churik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/churik/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-12-05T17:41:43Z",
    "updated_at": "2022-12-05T17:41:43Z",
    "author_association": "MEMBER",
    "body": "closing due to re-design, label `recheck` added for future re-consideration",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1337826383/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
