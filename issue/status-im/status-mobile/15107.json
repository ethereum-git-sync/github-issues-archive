{
  "url": "https://api.github.com/repos/status-im/status-mobile/issues/15107",
  "repository_url": "https://api.github.com/repos/status-im/status-mobile",
  "labels_url": "https://api.github.com/repos/status-im/status-mobile/issues/15107/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-mobile/issues/15107/comments",
  "events_url": "https://api.github.com/repos/status-im/status-mobile/issues/15107/events",
  "html_url": "https://github.com/status-im/status-mobile/issues/15107",
  "id": 1588343853,
  "node_id": "I_kwDOAx4p2c5erDQt",
  "number": 15107,
  "title": "fix component tests",
  "user": {
    "login": "Parveshdhull",
    "id": 17097240,
    "node_id": "MDQ6VXNlcjE3MDk3MjQw",
    "avatar_url": "https://avatars.githubusercontent.com/u/17097240?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Parveshdhull",
    "html_url": "https://github.com/Parveshdhull",
    "followers_url": "https://api.github.com/users/Parveshdhull/followers",
    "following_url": "https://api.github.com/users/Parveshdhull/following{/other_user}",
    "gists_url": "https://api.github.com/users/Parveshdhull/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Parveshdhull/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Parveshdhull/subscriptions",
    "organizations_url": "https://api.github.com/users/Parveshdhull/orgs",
    "repos_url": "https://api.github.com/users/Parveshdhull/repos",
    "events_url": "https://api.github.com/users/Parveshdhull/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Parveshdhull/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 692308696,
      "node_id": "MDU6TGFiZWw2OTIzMDg2OTY=",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/tech-debt",
      "name": "tech-debt",
      "color": "e99695",
      "default": false,
      "description": null
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 7,
  "created_at": "2023-02-16T20:50:28Z",
  "updated_at": "2023-07-14T12:13:18Z",
  "closed_at": "2023-07-14T12:13:18Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "### Summary\r\n\r\nfollow up from https://github.com/status-im/status-mobile/pull/15071#issuecomment-1433526073\r\n\r\nfew tests are failing with error: `Cannot find module '@react-native-community/blur' from 'shadow.js.shim.module$$react_native_community$blur.js'`\r\n\r\nGuide for using ts-jest with react-native https://kulshekhar.github.io/ts-jest/docs/guides/react-native/\r\n\r\nTroubleshooting addresses similar error: https://github.com/kulshekhar/ts-jest/blob/main/TROUBLESHOOTING.md\r\n",
  "closed_by": {
    "login": "cammellos",
    "id": 1017008,
    "node_id": "MDQ6VXNlcjEwMTcwMDg=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1017008?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/cammellos",
    "html_url": "https://github.com/cammellos",
    "followers_url": "https://api.github.com/users/cammellos/followers",
    "following_url": "https://api.github.com/users/cammellos/following{/other_user}",
    "gists_url": "https://api.github.com/users/cammellos/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/cammellos/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/cammellos/subscriptions",
    "organizations_url": "https://api.github.com/users/cammellos/orgs",
    "repos_url": "https://api.github.com/users/cammellos/repos",
    "events_url": "https://api.github.com/users/cammellos/events{/privacy}",
    "received_events_url": "https://api.github.com/users/cammellos/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/15107/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-mobile/issues/15107/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1434380309",
    "html_url": "https://github.com/status-im/status-mobile/issues/15107#issuecomment-1434380309",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/15107",
    "id": 1434380309,
    "node_id": "IC_kwDOAx4p2c5VfugV",
    "user": {
      "login": "Parveshdhull",
      "id": 17097240,
      "node_id": "MDQ6VXNlcjE3MDk3MjQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/17097240?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Parveshdhull",
      "html_url": "https://github.com/Parveshdhull",
      "followers_url": "https://api.github.com/users/Parveshdhull/followers",
      "following_url": "https://api.github.com/users/Parveshdhull/following{/other_user}",
      "gists_url": "https://api.github.com/users/Parveshdhull/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Parveshdhull/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Parveshdhull/subscriptions",
      "organizations_url": "https://api.github.com/users/Parveshdhull/orgs",
      "repos_url": "https://api.github.com/users/Parveshdhull/repos",
      "events_url": "https://api.github.com/users/Parveshdhull/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Parveshdhull/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-17T09:36:44Z",
    "updated_at": "2023-02-17T09:36:44Z",
    "author_association": "MEMBER",
    "body": "Hi @yqrashawn, @J-Son89\r\nError is fixed in https://github.com/status-im/react-native-blur/pull/1, but should we keep this issue open?\r\nBecause manually adding lib folder don't look like a robust solution\r\n- We need to keep it updated when we rebase with parent\r\n- I think lib folder is copied from [npmjs](https://www.npmjs.com/package/@react-native-community/blur), compiled lib don't inlcude manual changes made in forked version, so might break at some time",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1434380309/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1434409506",
    "html_url": "https://github.com/status-im/status-mobile/issues/15107#issuecomment-1434409506",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/15107",
    "id": 1434409506,
    "node_id": "IC_kwDOAx4p2c5Vf1oi",
    "user": {
      "login": "J-Son89",
      "id": 22799766,
      "node_id": "MDQ6VXNlcjIyNzk5NzY2",
      "avatar_url": "https://avatars.githubusercontent.com/u/22799766?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/J-Son89",
      "html_url": "https://github.com/J-Son89",
      "followers_url": "https://api.github.com/users/J-Son89/followers",
      "following_url": "https://api.github.com/users/J-Son89/following{/other_user}",
      "gists_url": "https://api.github.com/users/J-Son89/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/J-Son89/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/J-Son89/subscriptions",
      "organizations_url": "https://api.github.com/users/J-Son89/orgs",
      "repos_url": "https://api.github.com/users/J-Son89/repos",
      "events_url": "https://api.github.com/users/J-Son89/events{/privacy}",
      "received_events_url": "https://api.github.com/users/J-Son89/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-17T10:01:40Z",
    "updated_at": "2023-02-17T10:01:40Z",
    "author_association": "MEMBER",
    "body": "hmm, what are some of the potential (long term) solutions for this? ðŸ¤” ",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1434409506/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1434507321",
    "html_url": "https://github.com/status-im/status-mobile/issues/15107#issuecomment-1434507321",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/15107",
    "id": 1434507321,
    "node_id": "IC_kwDOAx4p2c5VgNg5",
    "user": {
      "login": "yqrashawn",
      "id": 15090582,
      "node_id": "MDQ6VXNlcjE1MDkwNTgy",
      "avatar_url": "https://avatars.githubusercontent.com/u/15090582?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yqrashawn",
      "html_url": "https://github.com/yqrashawn",
      "followers_url": "https://api.github.com/users/yqrashawn/followers",
      "following_url": "https://api.github.com/users/yqrashawn/following{/other_user}",
      "gists_url": "https://api.github.com/users/yqrashawn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yqrashawn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yqrashawn/subscriptions",
      "organizations_url": "https://api.github.com/users/yqrashawn/orgs",
      "repos_url": "https://api.github.com/users/yqrashawn/repos",
      "events_url": "https://api.github.com/users/yqrashawn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yqrashawn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-17T11:26:53Z",
    "updated_at": "2023-02-17T11:26:53Z",
    "author_association": "MEMBER",
    "body": "The compiled lib is built from my local machine with the `bob` command\r\n\r\nOne simple solution is to use GitHub action to automatically publish patched package, for example https://github.com/marketplace/actions/npm-publish\r\nThis requires the package got patched to have proper `prepare`, `prepublish` or relevant hooks config or at least a build command\r\nAnd we need a NPM token and need to manually config the repo to run actions (not by default in forked repo)\r\n\r\nOne thing I'm not sure about this is there might still be things that required to be compiled locally which requires to be triggered by `yarn install`.\r\n`react-native-status` Node.js binding is one of this and that's why there's `yanr install` in `make test`(tried to call `node-gyp` directly with no luck)\r\n\r\nAnother one is we can just add `yarn install` to various affected make target, although this may slow things down and there's conflict when running multiple `yarn install` in parallel\r\n\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1434507321/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1435258604",
    "html_url": "https://github.com/status-im/status-mobile/issues/15107#issuecomment-1435258604",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/15107",
    "id": 1435258604,
    "node_id": "IC_kwDOAx4p2c5VjE7s",
    "user": {
      "login": "J-Son89",
      "id": 22799766,
      "node_id": "MDQ6VXNlcjIyNzk5NzY2",
      "avatar_url": "https://avatars.githubusercontent.com/u/22799766?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/J-Son89",
      "html_url": "https://github.com/J-Son89",
      "followers_url": "https://api.github.com/users/J-Son89/followers",
      "following_url": "https://api.github.com/users/J-Son89/following{/other_user}",
      "gists_url": "https://api.github.com/users/J-Son89/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/J-Son89/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/J-Son89/subscriptions",
      "organizations_url": "https://api.github.com/users/J-Son89/orgs",
      "repos_url": "https://api.github.com/users/J-Son89/repos",
      "events_url": "https://api.github.com/users/J-Son89/events{/privacy}",
      "received_events_url": "https://api.github.com/users/J-Son89/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-17T20:56:44Z",
    "updated_at": "2023-02-17T20:56:44Z",
    "author_association": "MEMBER",
    "body": "@yqrashawn, curious if you have ever seen/used this package? https://www.npmjs.com/package/patch-package\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1435258604/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1436367260",
    "html_url": "https://github.com/status-im/status-mobile/issues/15107#issuecomment-1436367260",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/15107",
    "id": 1436367260,
    "node_id": "IC_kwDOAx4p2c5VnTmc",
    "user": {
      "login": "yqrashawn",
      "id": 15090582,
      "node_id": "MDQ6VXNlcjE1MDkwNTgy",
      "avatar_url": "https://avatars.githubusercontent.com/u/15090582?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yqrashawn",
      "html_url": "https://github.com/yqrashawn",
      "followers_url": "https://api.github.com/users/yqrashawn/followers",
      "following_url": "https://api.github.com/users/yqrashawn/following{/other_user}",
      "gists_url": "https://api.github.com/users/yqrashawn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yqrashawn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yqrashawn/subscriptions",
      "organizations_url": "https://api.github.com/users/yqrashawn/orgs",
      "repos_url": "https://api.github.com/users/yqrashawn/repos",
      "events_url": "https://api.github.com/users/yqrashawn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yqrashawn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-20T05:45:25Z",
    "updated_at": "2023-02-20T05:45:25Z",
    "author_association": "MEMBER",
    "body": "> @yqrashawn, curious if you have ever seen/used this package? https://www.npmjs.com/package/patch-package\n> \n> \n\nThe lib folder is generated by `bob build`, so we still need to compile things after we apply the patch (I believe we don't want to have `.min.js` or `.map` in patch)\n\nWhat's more, this package relies on hooks as well. So we need still need `yarn install`",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1436367260/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1436547328",
    "html_url": "https://github.com/status-im/status-mobile/issues/15107#issuecomment-1436547328",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/15107",
    "id": 1436547328,
    "node_id": "IC_kwDOAx4p2c5Vn_kA",
    "user": {
      "login": "yqrashawn",
      "id": 15090582,
      "node_id": "MDQ6VXNlcjE1MDkwNTgy",
      "avatar_url": "https://avatars.githubusercontent.com/u/15090582?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yqrashawn",
      "html_url": "https://github.com/yqrashawn",
      "followers_url": "https://api.github.com/users/yqrashawn/followers",
      "following_url": "https://api.github.com/users/yqrashawn/following{/other_user}",
      "gists_url": "https://api.github.com/users/yqrashawn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yqrashawn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yqrashawn/subscriptions",
      "organizations_url": "https://api.github.com/users/yqrashawn/orgs",
      "repos_url": "https://api.github.com/users/yqrashawn/repos",
      "events_url": "https://api.github.com/users/yqrashawn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yqrashawn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-20T08:35:13Z",
    "updated_at": "2023-02-20T08:35:13Z",
    "author_association": "MEMBER",
    "body": "```diff\r\ndiff --git a/src/status_im2/contexts/shell/bottom_tabs.cljs b/src/status_im2/contexts/shell/bottom_tabs.cljs\r\nindex fcbd24bb0..9da51459b 100644\r\n--- a/src/status_im2/contexts/shell/bottom_tabs.cljs\r\n+++ b/src/status_im2/contexts/shell/bottom_tabs.cljs\r\n@@ -42,7 +42,7 @@\r\n        (animation/load-stack @animation/selected-stack-id)\r\n        (reanimated/set-shared-value (:pass-through? shared-values) pass-through?)\r\n        [reanimated/view {:style animated-style}\r\n-        (when pass-through?\r\n+        (when true\r\n           [blur/view (blur-overlay-params style/bottom-tabs-blur-overlay)])\r\n         [rn/view {:style (style/bottom-tabs)}\r\n          [bottom-tab :i/communities :communities-stack shared-values notifications-data]\r\n```\r\n\r\n`run-clojure` do work (no crash/error/warning, bottom tab renders, don't know if the blur view rendered correctly) with above change when there's no `node_modules/@react-native-community/blur/lib`\r\n`shadow-cljs release mobile` no error as well",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1436547328/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1635776106",
    "html_url": "https://github.com/status-im/status-mobile/issues/15107#issuecomment-1635776106",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/15107",
    "id": 1635776106,
    "node_id": "IC_kwDOAx4p2c5hf_Zq",
    "user": {
      "login": "cammellos",
      "id": 1017008,
      "node_id": "MDQ6VXNlcjEwMTcwMDg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1017008?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cammellos",
      "html_url": "https://github.com/cammellos",
      "followers_url": "https://api.github.com/users/cammellos/followers",
      "following_url": "https://api.github.com/users/cammellos/following{/other_user}",
      "gists_url": "https://api.github.com/users/cammellos/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cammellos/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cammellos/subscriptions",
      "organizations_url": "https://api.github.com/users/cammellos/orgs",
      "repos_url": "https://api.github.com/users/cammellos/repos",
      "events_url": "https://api.github.com/users/cammellos/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cammellos/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-14T12:13:18Z",
    "updated_at": "2023-07-14T12:13:18Z",
    "author_association": "MEMBER",
    "body": "looks like this has been fixed",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1635776106/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
