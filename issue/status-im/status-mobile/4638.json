{
  "url": "https://api.github.com/repos/status-im/status-mobile/issues/4638",
  "repository_url": "https://api.github.com/repos/status-im/status-mobile",
  "labels_url": "https://api.github.com/repos/status-im/status-mobile/issues/4638/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-mobile/issues/4638/comments",
  "events_url": "https://api.github.com/repos/status-im/status-mobile/issues/4638/events",
  "html_url": "https://github.com/status-im/status-mobile/issues/4638",
  "id": 329450466,
  "node_id": "MDU6SXNzdWUzMjk0NTA0NjY=",
  "number": 4638,
  "title": "App has stopped after sending and receiving ~930 messages in 1-1 chat",
  "user": {
    "login": "yevh-berdnyk",
    "id": 29711298,
    "node_id": "MDQ6VXNlcjI5NzExMjk4",
    "avatar_url": "https://avatars.githubusercontent.com/u/29711298?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/yevh-berdnyk",
    "html_url": "https://github.com/yevh-berdnyk",
    "followers_url": "https://api.github.com/users/yevh-berdnyk/followers",
    "following_url": "https://api.github.com/users/yevh-berdnyk/following{/other_user}",
    "gists_url": "https://api.github.com/users/yevh-berdnyk/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/yevh-berdnyk/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/yevh-berdnyk/subscriptions",
    "organizations_url": "https://api.github.com/users/yevh-berdnyk/orgs",
    "repos_url": "https://api.github.com/users/yevh-berdnyk/repos",
    "events_url": "https://api.github.com/users/yevh-berdnyk/events{/privacy}",
    "received_events_url": "https://api.github.com/users/yevh-berdnyk/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 330296931,
      "node_id": "MDU6TGFiZWwzMzAyOTY5MzE=",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/bug",
      "name": "bug",
      "color": "fc2929",
      "default": true,
      "description": null
    },
    {
      "id": 795655580,
      "node_id": "MDU6TGFiZWw3OTU2NTU1ODA=",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/chat",
      "name": "chat",
      "color": "f70cb0",
      "default": false,
      "description": null
    },
    {
      "id": 1067655928,
      "node_id": "MDU6TGFiZWwxMDY3NjU1OTI4",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/stale",
      "name": "stale",
      "color": "ffffff",
      "default": false,
      "description": null
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2018-06-05T13:13:08Z",
  "updated_at": "2018-10-01T16:03:23Z",
  "closed_at": "2018-10-01T16:03:23Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "[comment]: # (Please replace ... with your information. Remove < and >)\r\n\r\n### User Story\r\n\r\nAs a user, I want to send and receive big amount of messages\r\n\r\n### Description\r\n\r\n[comment]: # (Feature or Bug? i.e Type: Bug)\r\n*Type*: Bug\r\n\r\n[comment]: # (Describe the feature you would like, or briefly summarise the bug and what you did, what you expected to happen, and what actually happens. Sections below)\r\n*Summary*: App used all the memory after sending and receiving big quantity of messages on Android emulator with 2GB memory \r\n\r\n#### Expected behavior\r\nApp continues working\r\n\r\n#### Actual behavior\r\nApp has stopped, memory limit exceeded \r\n![image](https://user-images.githubusercontent.com/29711298/40978694-332480b0-68d4-11e8-87d4-d85643cbcb11.png)\r\n\r\n\r\n### Reproduction\r\n[comment]: # (Describe how we can replicate the bug step by step.)\r\n\r\n- Open Status\r\n- Add a contact and start 1-1 chat\r\n- Send and receive about 930 messages in 1-1 chat\r\n\r\n\r\n### Additional Information\r\n* Status version: 098053f, June 5 nightly build \r\n* Operating System: Android emulator, OS version 7.1\r\n\r\n#### Logs\r\n\r\nhttps://pastebin.com/4x4T4d2b\r\n\r\n<blockquote><img src=\"https://pastebin.com/i/facebook.png\" width=\"48\" align=\"right\"><div>Pastebin</div><div><strong><a href=\"https://pastebin.com/4x4T4d2b\">logcat.log - Pastebin.com</a></strong></div></blockquote>",
  "closed_by": {
    "login": "status-github-bot[bot]",
    "id": 35452227,
    "node_id": "MDM6Qm90MzU0NTIyMjc=",
    "avatar_url": "https://avatars.githubusercontent.com/in/8157?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/status-github-bot%5Bbot%5D",
    "html_url": "https://github.com/apps/status-github-bot",
    "followers_url": "https://api.github.com/users/status-github-bot%5Bbot%5D/followers",
    "following_url": "https://api.github.com/users/status-github-bot%5Bbot%5D/following{/other_user}",
    "gists_url": "https://api.github.com/users/status-github-bot%5Bbot%5D/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/status-github-bot%5Bbot%5D/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/status-github-bot%5Bbot%5D/subscriptions",
    "organizations_url": "https://api.github.com/users/status-github-bot%5Bbot%5D/orgs",
    "repos_url": "https://api.github.com/users/status-github-bot%5Bbot%5D/repos",
    "events_url": "https://api.github.com/users/status-github-bot%5Bbot%5D/events{/privacy}",
    "received_events_url": "https://api.github.com/users/status-github-bot%5Bbot%5D/received_events",
    "type": "Bot",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/4638/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-mobile/issues/4638/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/395735367",
    "html_url": "https://github.com/status-im/status-mobile/issues/4638#issuecomment-395735367",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/4638",
    "id": 395735367,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NTczNTM2Nw==",
    "user": {
      "login": "pedropombeiro",
      "id": 138074,
      "node_id": "MDQ6VXNlcjEzODA3NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/138074?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pedropombeiro",
      "html_url": "https://github.com/pedropombeiro",
      "followers_url": "https://api.github.com/users/pedropombeiro/followers",
      "following_url": "https://api.github.com/users/pedropombeiro/following{/other_user}",
      "gists_url": "https://api.github.com/users/pedropombeiro/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pedropombeiro/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pedropombeiro/subscriptions",
      "organizations_url": "https://api.github.com/users/pedropombeiro/orgs",
      "repos_url": "https://api.github.com/users/pedropombeiro/repos",
      "events_url": "https://api.github.com/users/pedropombeiro/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pedropombeiro/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-08T11:40:05Z",
    "updated_at": "2018-06-08T11:40:05Z",
    "author_association": "CONTRIBUTOR",
    "body": "@yevh-berdnyk how do we know the problem was that it ran out of memory? Was there a message somewhere saying this? I tried to find it in the log but didn't see anything conclusive.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/395735367/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/395749630",
    "html_url": "https://github.com/status-im/status-mobile/issues/4638#issuecomment-395749630",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/4638",
    "id": 395749630,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NTc0OTYzMA==",
    "user": {
      "login": "yevh-berdnyk",
      "id": 29711298,
      "node_id": "MDQ6VXNlcjI5NzExMjk4",
      "avatar_url": "https://avatars.githubusercontent.com/u/29711298?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yevh-berdnyk",
      "html_url": "https://github.com/yevh-berdnyk",
      "followers_url": "https://api.github.com/users/yevh-berdnyk/followers",
      "following_url": "https://api.github.com/users/yevh-berdnyk/following{/other_user}",
      "gists_url": "https://api.github.com/users/yevh-berdnyk/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yevh-berdnyk/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yevh-berdnyk/subscriptions",
      "organizations_url": "https://api.github.com/users/yevh-berdnyk/orgs",
      "repos_url": "https://api.github.com/users/yevh-berdnyk/repos",
      "events_url": "https://api.github.com/users/yevh-berdnyk/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yevh-berdnyk/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-08T12:44:16Z",
    "updated_at": "2018-06-08T12:44:16Z",
    "author_association": "CONTRIBUTOR",
    "body": "@PombeirP looks like the log was cut or I lost a part. Here is an error:\r\n\r\n`06-05 12:15:34.029  1362  4448 E AudioFlinger: createRecordTrack_l() initCheck failed -12; no control block?\r\n06-05 12:15:34.029  2287 15043 E AudioRecord: AudioFlinger could not create record track, status: -12\r\n06-05 12:15:34.031  2287 15043 E AudioRecord-JNI: Error creating AudioRecord instance: initialization check failed with status -12.\r\n06-05 12:15:34.031  2287 15043 E android.media.AudioRecord: Error code -20 when initializing native AudioRecord object.\r\n06-05 12:15:34.031  2287 15043 I MicrophoneInputStream: mic_started com.google.android.apps.gsa.staticplugins.z.c@f370d56\r\n06-05 12:15:34.031  2287 15043 E ActivityThread: Failed to find provider info for com.google.android.apps.gsa.testing.ui.audio.recorded\r\n06-05 12:15:34.031  2287  2287 I MicroDetectionWorker: onReady\r\n06-05 12:15:34.042  2287 15043 I MicrophoneInputStream: mic_close com.google.android.apps.gsa.staticplugins.z.c@f370d56\r\n06-05 12:15:34.043  2287 15348 I MicroRecognitionRunner: Detection finished\r\n06-05 12:15:34.043  2287 15348 W ErrorReporter: reportError [type: 211, code: 524300]: Error reading from input stream\r\n06-05 12:15:34.043  2287  2553 I MicroRecognitionRunner: Stopping hotword detection.\r\n06-05 12:15:34.044  2287 15348 W ErrorProcessor: onFatalError, processing error from engine(4)\r\n06-05 12:15:34.044  2287 15348 W ErrorProcessor: com.google.android.apps.gsa.shared.speech.a.g: Error reading from input stream\r\n06-05 12:15:34.044  2287 15348 W ErrorProcessor: \tat com.google.android.apps.gsa.staticplugins.recognizer.i.a.a(SourceFile:342)\r\n06-05 12:15:34.044  2287 15348 W ErrorProcessor: \tat com.google.android.apps.gsa.staticplugins.recognizer.i.a$1.run(SourceFile:1367)\r\n06-05 12:15:34.044  2287 15348 W ErrorProcessor: \tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:428)\r\n06-05 12:15:34.044  2287 15348 W ErrorProcessor: \tat java.util.concurrent.FutureTask.run(FutureTask.java:237)\r\n06-05 12:15:34.044  2287 15348 W ErrorProcessor: \tat com.google.android.apps.gsa.shared.util.concurrent.a.ak.run(SourceFile:66)\r\n06-05 12:15:34.044  2287 15348 W ErrorProcessor: \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1133)\r\n06-05 12:15:34.044  2287 15348 W ErrorProcessor: \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:607)\r\n06-05 12:15:34.044  2287 15348 W ErrorProcessor: \tat java.lang.Thread.run(Thread.java:761)\r\n06-05 12:15:34.044  2287 15348 W ErrorProcessor: \tat com.google.android.apps.gsa.shared.util.concurrent.a.ad$1.run(SourceFile:85)\r\n06-05 12:15:34.044  2287 15348 W ErrorProcessor: Caused by: com.google.android.apps.gsa.shared.exception.GsaIOException: Error code: 393238 | Buffer overflow, no available space.\r\n06-05 12:15:34.044  2287 15348 W ErrorProcessor: \tat com.google.android.apps.gsa.speech.audio.Tee.g(SourceFile:2531)\r\n06-05 12:15:34.044  2287 15348 W ErrorProcessor: \tat com.google.android.apps.gsa.speech.audio.ap.read(SourceFile:555)\r\n06-05 12:15:34.044  2287 15348 W ErrorProcessor: \tat java.io.InputStream.read(InputStream.java:101)\r\n06-05 12:15:34.044  2287 15348 W ErrorProcessor: \tat com.google.android.apps.gsa.speech.audio.al.run(SourceFile:362)\r\n06-05 12:15:34.044  2287 15348 W ErrorProcessor: \tat com.google.android.apps.gsa.speech.audio.ak$1.run(SourceFile:471)\r\n06-05 12:15:34.044  2287 15348 W ErrorProcessor: \tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:428)\r\n06-05 12:15:34.044  2287 15348 W ErrorProcessor: \tat java.util.concurrent.FutureTask.run(FutureTask.java:237)\r\n06-05 12:15:34.044  2287 15348 W ErrorProcessor: \tat com.google.android.apps.gsa.shared.util.concurrent.a.ak.run(SourceFile:66)\r\n06-05 12:15:34.044  2287 15348 W ErrorProcessor: \tat com.google.android.apps.gsa.shared.util.concurrent.a.ax.run(SourceFile:139)\r\n06-05 12:15:34.044  2287 15348 W ErrorProcessor: \tat com.google.android.apps.gsa.shared.util.concurrent.a.ax.run(SourceFile:139)\r\n06-05 12:15:34.044  2287 15348 W ErrorProcessor: \t... 4 more\r\n06-05 12:15:34.044  2287 15348 I AudioController: internalShutdown\r\n06-05 12:15:34.045  2287  2287 I MicroDetector: Keeping mic open: false\r\n06-05 12:15:34.045  2287  2287 I MicroDetectionWorker: #onError(false)\r\n06-05 12:15:34.045  2287 15347 I DeviceStateChecker: DeviceStateChecker cancelled\r\n06-05 12:15:34.072  2134 15346 I c2dm    : [3,,1,1]\r\n06-05 12:15:34.074  2134 15346 I gtalk_heartbeat_reset: [65646,74.125.142.188:5228]\r\n06-05 12:15:34.074  2134 15346 E WakeLock: release without a matched acquire!\r\n06-05 12:15:34.075  2134 15346 I gtalk_connection: 0\r\n06-05 12:15:34.076  2134 15346 I c2dm    : [7,,1,1]`",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/395749630/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/424027919",
    "html_url": "https://github.com/status-im/status-mobile/issues/4638#issuecomment-424027919",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/4638",
    "id": 424027919,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyNDAyNzkxOQ==",
    "user": {
      "login": "status-github-bot[bot]",
      "id": 35452227,
      "node_id": "MDM6Qm90MzU0NTIyMjc=",
      "avatar_url": "https://avatars.githubusercontent.com/in/8157?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/status-github-bot%5Bbot%5D",
      "html_url": "https://github.com/apps/status-github-bot",
      "followers_url": "https://api.github.com/users/status-github-bot%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/status-github-bot%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/status-github-bot%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/status-github-bot%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/status-github-bot%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/status-github-bot%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/status-github-bot%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/status-github-bot%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/status-github-bot%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2018-09-24T15:59:06Z",
    "updated_at": "2018-09-24T15:59:06Z",
    "author_association": "NONE",
    "body": "This issue has been automatically marked as stale because it has not had recent activity. It will be closed if no further activity occurs. Thank you for your contributions.\n",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/424027919/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/425963308",
    "html_url": "https://github.com/status-im/status-mobile/issues/4638#issuecomment-425963308",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/4638",
    "id": 425963308,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyNTk2MzMwOA==",
    "user": {
      "login": "status-github-bot[bot]",
      "id": 35452227,
      "node_id": "MDM6Qm90MzU0NTIyMjc=",
      "avatar_url": "https://avatars.githubusercontent.com/in/8157?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/status-github-bot%5Bbot%5D",
      "html_url": "https://github.com/apps/status-github-bot",
      "followers_url": "https://api.github.com/users/status-github-bot%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/status-github-bot%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/status-github-bot%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/status-github-bot%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/status-github-bot%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/status-github-bot%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/status-github-bot%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/status-github-bot%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/status-github-bot%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2018-10-01T16:02:54Z",
    "updated_at": "2018-10-01T16:02:54Z",
    "author_association": "NONE",
    "body": "This issue has been automatically closed. Please re-open if this issue is important to you.\n",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/425963308/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
