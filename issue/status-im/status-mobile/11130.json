{
  "url": "https://api.github.com/repos/status-im/status-mobile/issues/11130",
  "repository_url": "https://api.github.com/repos/status-im/status-mobile",
  "labels_url": "https://api.github.com/repos/status-im/status-mobile/issues/11130/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-mobile/issues/11130/comments",
  "events_url": "https://api.github.com/repos/status-im/status-mobile/issues/11130/events",
  "html_url": "https://github.com/status-im/status-mobile/issues/11130",
  "id": 690210581,
  "node_id": "MDU6SXNzdWU2OTAyMTA1ODE=",
  "number": 11130,
  "title": "Sometimes user can get group chat history prior joining",
  "user": {
    "login": "churik",
    "id": 4557972,
    "node_id": "MDQ6VXNlcjQ1NTc5NzI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4557972?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/churik",
    "html_url": "https://github.com/churik",
    "followers_url": "https://api.github.com/users/churik/followers",
    "following_url": "https://api.github.com/users/churik/following{/other_user}",
    "gists_url": "https://api.github.com/users/churik/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/churik/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/churik/subscriptions",
    "organizations_url": "https://api.github.com/users/churik/orgs",
    "repos_url": "https://api.github.com/users/churik/repos",
    "events_url": "https://api.github.com/users/churik/events{/privacy}",
    "received_events_url": "https://api.github.com/users/churik/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 330296931,
      "node_id": "MDU6TGFiZWwzMzAyOTY5MzE=",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/bug",
      "name": "bug",
      "color": "fc2929",
      "default": true,
      "description": null
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2020-09-01T14:51:39Z",
  "updated_at": "2020-09-15T06:21:20Z",
  "closed_at": "2020-09-15T06:21:19Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "# Bug Report\r\n\r\n## Problem\r\nIn some cases messages sent after user was invited but before he joined are visible to invited user.\r\nFrom core discussion:\r\n> The behavior is that you should not see any message sent before you were invited (that should always be the case, otherwise is a bug)\r\nYou should see messages after you joined, if you don't is a bug\r\nWhile you are invited and not joined, the behavior is not well defined. For compatibility issues, those messages are sent, but we don't necessarily retrieve them from the mailserver. We can drop compatibility (it was a pre v1 thing anyway, so it should not matter), so that the behavior is that you should see messages since you joined.\r\n\r\n\r\n#### Expected behavior\r\nMessages are not visible until user joined group chat\r\n\r\n#### Actual behavior\r\nsometimes messages are fetched\r\n\r\n\r\n### Reproduction\r\n\r\n[comment]: # (Describe how we can replicate the bug step by step.)\r\n\r\n- Open Status\r\n- Invite user A\r\n- Send messages to group chat\r\n- as user A: wait for messages (not join)\r\n\r\n### Additional Information\r\n\r\n- Status version: nightly 01/09/20\r\n- Operating System: Android, iOS\r\n\r\n",
  "closed_by": {
    "login": "cammellos",
    "id": 1017008,
    "node_id": "MDQ6VXNlcjEwMTcwMDg=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1017008?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/cammellos",
    "html_url": "https://github.com/cammellos",
    "followers_url": "https://api.github.com/users/cammellos/followers",
    "following_url": "https://api.github.com/users/cammellos/following{/other_user}",
    "gists_url": "https://api.github.com/users/cammellos/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/cammellos/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/cammellos/subscriptions",
    "organizations_url": "https://api.github.com/users/cammellos/orgs",
    "repos_url": "https://api.github.com/users/cammellos/repos",
    "events_url": "https://api.github.com/users/cammellos/events{/privacy}",
    "received_events_url": "https://api.github.com/users/cammellos/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/11130/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-mobile/issues/11130/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/684912691",
    "html_url": "https://github.com/status-im/status-mobile/issues/11130#issuecomment-684912691",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/11130",
    "id": 684912691,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4NDkxMjY5MQ==",
    "user": {
      "login": "churik",
      "id": 4557972,
      "node_id": "MDQ6VXNlcjQ1NTc5NzI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4557972?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/churik",
      "html_url": "https://github.com/churik",
      "followers_url": "https://api.github.com/users/churik/followers",
      "following_url": "https://api.github.com/users/churik/following{/other_user}",
      "gists_url": "https://api.github.com/users/churik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/churik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/churik/subscriptions",
      "organizations_url": "https://api.github.com/users/churik/orgs",
      "repos_url": "https://api.github.com/users/churik/repos",
      "events_url": "https://api.github.com/users/churik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/churik/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-09-01T14:52:00Z",
    "updated_at": "2020-09-01T14:52:08Z",
    "author_association": "MEMBER",
    "body": "cc @cammellos @hesterbruikman ",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/684912691/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/692492916",
    "html_url": "https://github.com/status-im/status-mobile/issues/11130#issuecomment-692492916",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/11130",
    "id": 692492916,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5MjQ5MjkxNg==",
    "user": {
      "login": "cammellos",
      "id": 1017008,
      "node_id": "MDQ6VXNlcjEwMTcwMDg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1017008?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cammellos",
      "html_url": "https://github.com/cammellos",
      "followers_url": "https://api.github.com/users/cammellos/followers",
      "following_url": "https://api.github.com/users/cammellos/following{/other_user}",
      "gists_url": "https://api.github.com/users/cammellos/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cammellos/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cammellos/subscriptions",
      "organizations_url": "https://api.github.com/users/cammellos/orgs",
      "repos_url": "https://api.github.com/users/cammellos/repos",
      "events_url": "https://api.github.com/users/cammellos/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cammellos/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-09-15T06:21:19Z",
    "updated_at": "2020-09-15T06:21:19Z",
    "author_association": "MEMBER",
    "body": "This should be fixed, closing for now, feel free to re-open",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/692492916/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
