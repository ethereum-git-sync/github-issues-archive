{
  "url": "https://api.github.com/repos/status-im/status-mobile/issues/10434",
  "repository_url": "https://api.github.com/repos/status-im/status-mobile",
  "labels_url": "https://api.github.com/repos/status-im/status-mobile/issues/10434/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-mobile/issues/10434/comments",
  "events_url": "https://api.github.com/repos/status-im/status-mobile/issues/10434/events",
  "html_url": "https://github.com/status-im/status-mobile/issues/10434",
  "id": 606396271,
  "node_id": "MDU6SXNzdWU2MDYzOTYyNzE=",
  "number": 10434,
  "title": "Account is freezing with endless spinner if tap on account from list  during sign in when autologin is enabled",
  "user": {
    "login": "churik",
    "id": 4557972,
    "node_id": "MDQ6VXNlcjQ1NTc5NzI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4557972?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/churik",
    "html_url": "https://github.com/churik",
    "followers_url": "https://api.github.com/users/churik/followers",
    "following_url": "https://api.github.com/users/churik/following{/other_user}",
    "gists_url": "https://api.github.com/users/churik/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/churik/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/churik/subscriptions",
    "organizations_url": "https://api.github.com/users/churik/orgs",
    "repos_url": "https://api.github.com/users/churik/repos",
    "events_url": "https://api.github.com/users/churik/events{/privacy}",
    "received_events_url": "https://api.github.com/users/churik/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 330296931,
      "node_id": "MDU6TGFiZWwzMzAyOTY5MzE=",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/bug",
      "name": "bug",
      "color": "fc2929",
      "default": true,
      "description": null
    },
    {
      "id": 1055506461,
      "node_id": "MDU6TGFiZWwxMDU1NTA2NDYx",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/keycard",
      "name": "keycard",
      "color": "4360df",
      "default": false,
      "description": ""
    },
    {
      "id": 2019373013,
      "node_id": "MDU6TGFiZWwyMDE5MzczMDEz",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/kk-release",
      "name": "kk-release",
      "color": "e29e56",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "rasom",
    "id": 2364994,
    "node_id": "MDQ6VXNlcjIzNjQ5OTQ=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2364994?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/rasom",
    "html_url": "https://github.com/rasom",
    "followers_url": "https://api.github.com/users/rasom/followers",
    "following_url": "https://api.github.com/users/rasom/following{/other_user}",
    "gists_url": "https://api.github.com/users/rasom/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/rasom/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/rasom/subscriptions",
    "organizations_url": "https://api.github.com/users/rasom/orgs",
    "repos_url": "https://api.github.com/users/rasom/repos",
    "events_url": "https://api.github.com/users/rasom/events{/privacy}",
    "received_events_url": "https://api.github.com/users/rasom/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "rasom",
      "id": 2364994,
      "node_id": "MDQ6VXNlcjIzNjQ5OTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2364994?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rasom",
      "html_url": "https://github.com/rasom",
      "followers_url": "https://api.github.com/users/rasom/followers",
      "following_url": "https://api.github.com/users/rasom/following{/other_user}",
      "gists_url": "https://api.github.com/users/rasom/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rasom/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rasom/subscriptions",
      "organizations_url": "https://api.github.com/users/rasom/orgs",
      "repos_url": "https://api.github.com/users/rasom/repos",
      "events_url": "https://api.github.com/users/rasom/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rasom/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2020-04-24T15:25:36Z",
  "updated_at": "2020-05-15T09:34:48Z",
  "closed_at": "2020-05-15T09:34:48Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "# Bug Report\r\n\r\n## Problem\r\nDuring autologin before home view is shown, app redirects to list of accounts for several moments.\r\nIf during this time user click on this account from list - in case of keycard account is freezing (public chats history is not loaded, instead of + endless spinner is shown)\r\n\r\n#### Expected behavior\r\nRedirect to home view, no errors\r\n\r\n#### Actual behavior\r\n**Ordinary account:**\r\n`Cannot Read property 'ToLowerCase' error` error, can close it and continue work with app\r\n**Keycard account:**\r\n- history of public chats is not loaded\r\n- endless spinner is shown instead of +\r\n\r\n#### Notes\r\n\r\nIssue is not only about keycard, it can be reproduced with the ordinary account as well, but in case of ordinary account\r\n1) It is difficult to reproduce (autologin is faster)\r\n2) error is shown, but after that account is working as expected\r\nIn the case of keycard account history for public chats are not shown and the endless spinner is displayed instead of + button on Home view\r\n![ezgif com-video-to-gif (4)](https://user-images.githubusercontent.com/4557972/80228102-e5d90e80-864e-11ea-9442-1521bc29bcb7.gif)\r\n\r\n### Reproduction\r\n\r\nThe easiest way to reproduce:\r\n- Open Status\r\n- Create account with keycard\r\n- Enable \"Don't use keycard to sign in\"\r\n- Close app\r\n- Open app and when account list is shown, tap on keycard account\r\n\r\n### Additional Information\r\n\r\n- Status version: nightly 24/04/2020\r\n- Operating System: Android\r\n\r\n#### Logs\r\n\r\nOrdinary account: \r\n[Status-debug-logs.zip](https://github.com/status-im/status-react/files/4529821/Status-debug-logs.zip)\r\n\r\nKeycard account:\r\n[double_login.log](https://github.com/status-im/status-react/files/4529832/double_login.log)\r\n\r\n\r\nWould love to have feedback from @hesterbruikman - how better to improve autologin process (i.e. spinner) to avoid this issue",
  "closed_by": {
    "login": "rasom",
    "id": 2364994,
    "node_id": "MDQ6VXNlcjIzNjQ5OTQ=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2364994?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/rasom",
    "html_url": "https://github.com/rasom",
    "followers_url": "https://api.github.com/users/rasom/followers",
    "following_url": "https://api.github.com/users/rasom/following{/other_user}",
    "gists_url": "https://api.github.com/users/rasom/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/rasom/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/rasom/subscriptions",
    "organizations_url": "https://api.github.com/users/rasom/orgs",
    "repos_url": "https://api.github.com/users/rasom/repos",
    "events_url": "https://api.github.com/users/rasom/events{/privacy}",
    "received_events_url": "https://api.github.com/users/rasom/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/10434/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-mobile/issues/10434/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/619871499",
    "html_url": "https://github.com/status-im/status-mobile/issues/10434#issuecomment-619871499",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/10434",
    "id": 619871499,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxOTg3MTQ5OQ==",
    "user": {
      "login": "churik",
      "id": 4557972,
      "node_id": "MDQ6VXNlcjQ1NTc5NzI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4557972?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/churik",
      "html_url": "https://github.com/churik",
      "followers_url": "https://api.github.com/users/churik/followers",
      "following_url": "https://api.github.com/users/churik/following{/other_user}",
      "gists_url": "https://api.github.com/users/churik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/churik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/churik/subscriptions",
      "organizations_url": "https://api.github.com/users/churik/orgs",
      "repos_url": "https://api.github.com/users/churik/repos",
      "events_url": "https://api.github.com/users/churik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/churik/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-27T09:56:16Z",
    "updated_at": "2020-04-27T09:56:16Z",
    "author_association": "MEMBER",
    "body": "cc @guylouis ",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/619871499/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
