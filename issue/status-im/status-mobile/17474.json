{
  "url": "https://api.github.com/repos/status-im/status-mobile/issues/17474",
  "repository_url": "https://api.github.com/repos/status-im/status-mobile",
  "labels_url": "https://api.github.com/repos/status-im/status-mobile/issues/17474/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-mobile/issues/17474/comments",
  "events_url": "https://api.github.com/repos/status-im/status-mobile/issues/17474/events",
  "html_url": "https://github.com/status-im/status-mobile/issues/17474",
  "id": 1921941577,
  "node_id": "I_kwDOAx4p2c5yjoBJ",
  "number": 17474,
  "title": "Syncing - Scanning QR code to set up secondary device does nothing",
  "user": {
    "login": "ilmotta",
    "id": 46027,
    "node_id": "MDQ6VXNlcjQ2MDI3",
    "avatar_url": "https://avatars.githubusercontent.com/u/46027?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ilmotta",
    "html_url": "https://github.com/ilmotta",
    "followers_url": "https://api.github.com/users/ilmotta/followers",
    "following_url": "https://api.github.com/users/ilmotta/following{/other_user}",
    "gists_url": "https://api.github.com/users/ilmotta/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ilmotta/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ilmotta/subscriptions",
    "organizations_url": "https://api.github.com/users/ilmotta/orgs",
    "repos_url": "https://api.github.com/users/ilmotta/repos",
    "events_url": "https://api.github.com/users/ilmotta/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ilmotta/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 448876669,
      "node_id": "MDU6TGFiZWw0NDg4NzY2Njk=",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/android",
      "name": "android",
      "color": "5319e7",
      "default": false,
      "description": null
    },
    {
      "id": 517247123,
      "node_id": "MDU6TGFiZWw1MTcyNDcxMjM=",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/medium-priority",
      "name": "medium-priority",
      "color": "c5c5c5",
      "default": false,
      "description": null
    },
    {
      "id": 3990911030,
      "node_id": "LA_kwDOAx4p2c7t4Hg2",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/E:Mobile%20Bug%20MVP",
      "name": "E:Mobile Bug MVP",
      "color": "B60205",
      "default": false,
      "description": ""
    },
    {
      "id": 3990919470,
      "node_id": "LA_kwDOAx4p2c7t4Jku",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/E:Mobile%20Syncing%20MVP",
      "name": "E:Mobile Syncing MVP",
      "color": "303365",
      "default": false,
      "description": ""
    },
    {
      "id": 6104979722,
      "node_id": "LA_kwDOAx4p2c8AAAABa-KZCg",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/E:Mobile%20Release%201.27",
      "name": "E:Mobile Release 1.27",
      "color": "140C7F",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": {
    "url": "https://api.github.com/repos/status-im/status-mobile/milestones/70",
    "html_url": "https://github.com/status-im/status-mobile/milestone/70",
    "labels_url": "https://api.github.com/repos/status-im/status-mobile/milestones/70/labels",
    "id": 9699572,
    "node_id": "MI_kwDOAx4p2c4AlAD0",
    "number": 70,
    "title": "1.27.0 - Alpha",
    "description": "### This release will be used for wide internal dogfooding \r\n\r\nMobile dev team priorities In priority order:\r\n\r\n**1. Finish anything that wasn't completed in the previous 1.26 cycle**\r\n\r\n**2. Select which accounts to share with each Community's control node**\r\n- Designs should be ready for review and dev feedback by 18th September\r\n\r\n**3. Settings home screen**\r\n- the settings home screen only\r\n\r\n**4. Fix bugs, both functional and UX fit-and-finish defects.**  \r\n\r\n- specifically focus on bugs related to the Communities functionality, when a community is utilizing all the community admin functionality available in Status Desktop\r\n\r\n- any remaining UX quality defects\r\n\r\n- ensure all community token gating related functionality is working\r\n\r\n\r\n\r\n",
    "creator": {
      "login": "John-44",
      "id": 22846356,
      "node_id": "MDQ6VXNlcjIyODQ2MzU2",
      "avatar_url": "https://avatars.githubusercontent.com/u/22846356?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/John-44",
      "html_url": "https://github.com/John-44",
      "followers_url": "https://api.github.com/users/John-44/followers",
      "following_url": "https://api.github.com/users/John-44/following{/other_user}",
      "gists_url": "https://api.github.com/users/John-44/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/John-44/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/John-44/subscriptions",
      "organizations_url": "https://api.github.com/users/John-44/orgs",
      "repos_url": "https://api.github.com/users/John-44/repos",
      "events_url": "https://api.github.com/users/John-44/events{/privacy}",
      "received_events_url": "https://api.github.com/users/John-44/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 101,
    "closed_issues": 42,
    "state": "open",
    "created_at": "2023-07-26T12:50:42Z",
    "updated_at": "2023-12-08T20:44:21Z",
    "due_on": "2024-01-31T08:00:00Z",
    "closed_at": null
  },
  "comments": 5,
  "created_at": "2023-10-02T13:38:13Z",
  "updated_at": "2023-12-08T20:44:21Z",
  "closed_at": "2023-12-08T20:44:21Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "# Bug Report\r\n\r\nWhen the user tries to set up a secondary device by scanning the QR code on their current primary device during the onboarding phase, nothing is shown, and nothing is logged as well. It's as if literally nothing is happening.\r\n\r\n#### Expected behavior\r\n\r\nThe user can proceed with syncing after scanning the QR code.\r\n\r\n### Reproduction\r\n\r\n1. Install the desktop client from from https://ci.infra.status.im/job/status-desktop/job/master/3438/, commit `9c1bd1`\r\n2. Install the mobile client on Android, revision fe404ab005f9de2d6c550aa3e7be1900335408fa (I used `make release-android` to do a fresh install on the real device).\r\n3. Create an account `A` on the desktop client, go to Syncing and generate a sync QR code.\r\n4. In the mobile client, in a fresh install, tries to scan the QR code. Then nothing happens on screen.\r\n\r\nAndroid 13, Samsung Galaxy A71\r\n\r\n### Logs\r\n\r\nThese logs are generated from a fresh install on the mobile device, pressing \"Sign in\" in the onboarding screen, accepting the camera permission and scanning the QR code in the desktop client.\r\n\r\n```\r\nt=2023-10-02T13:47:01+0000 lvl=info msg=\"logging initialised\" logSettings=\"{\\\"Enabled\\\":true,\\\"MobileSystem\\\":false,\\\"Level\\\":\\\"INFO\\\",\\\"File\\\":\\\"\\\\/storage\\\\/emulated\\\\/0\\\\/Android\\\\/data\\\\/im.status.ethereum\\\\/files\\\\/Download\\\\/geth.log\\\"}\"\r\nt=2023-10-02T13:47:01+0000 lvl=warn msg=\"messenger nil, not reporting app state change\"\r\nt=2023-10-02T13:47:01+0000 lvl=info msg=\"Network state change\" package=status-go/api.GethStatusBackend old=unknown new=wifi\r\nt=2023-10-02T13:47:29+0000 lvl=warn msg=\"messenger nil, not reporting app state change\"\r\nt=2023-10-02T13:47:30+0000 lvl=warn msg=\"messenger nil, not reporting app state change\"\r\nt=2023-10-02T13:47:46+0000 lvl=warn msg=\"messenger nil, not reporting app state change\"\r\nt=2023-10-02T13:47:47+0000 lvl=warn msg=\"messenger nil, not reporting app state change\"\r\n```\r\n\r\n### Notes\r\n\r\nIn the mobile device, I created a separate account `B` (not synced), and made it friends with `A` (in the desktop client), just to see if both clients can exchange messages, and they did, so everything is working normally as far as I tested.\r\n",
  "closed_by": {
    "login": "ilmotta",
    "id": 46027,
    "node_id": "MDQ6VXNlcjQ2MDI3",
    "avatar_url": "https://avatars.githubusercontent.com/u/46027?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ilmotta",
    "html_url": "https://github.com/ilmotta",
    "followers_url": "https://api.github.com/users/ilmotta/followers",
    "following_url": "https://api.github.com/users/ilmotta/following{/other_user}",
    "gists_url": "https://api.github.com/users/ilmotta/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ilmotta/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ilmotta/subscriptions",
    "organizations_url": "https://api.github.com/users/ilmotta/orgs",
    "repos_url": "https://api.github.com/users/ilmotta/repos",
    "events_url": "https://api.github.com/users/ilmotta/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ilmotta/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/17474/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-mobile/issues/17474/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1743039014",
    "html_url": "https://github.com/status-im/status-mobile/issues/17474#issuecomment-1743039014",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/17474",
    "id": 1743039014,
    "node_id": "IC_kwDOAx4p2c5n5Kom",
    "user": {
      "login": "churik",
      "id": 4557972,
      "node_id": "MDQ6VXNlcjQ1NTc5NzI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4557972?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/churik",
      "html_url": "https://github.com/churik",
      "followers_url": "https://api.github.com/users/churik/followers",
      "following_url": "https://api.github.com/users/churik/following{/other_user}",
      "gists_url": "https://api.github.com/users/churik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/churik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/churik/subscriptions",
      "organizations_url": "https://api.github.com/users/churik/orgs",
      "repos_url": "https://api.github.com/users/churik/repos",
      "events_url": "https://api.github.com/users/churik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/churik/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-10-02T13:40:39Z",
    "updated_at": "2023-10-02T13:44:48Z",
    "author_association": "MEMBER",
    "body": "@ilmotta would you mind to add logs? `adb logcat` ?\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1743039014/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1743044872",
    "html_url": "https://github.com/status-im/status-mobile/issues/17474#issuecomment-1743044872",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/17474",
    "id": 1743044872,
    "node_id": "IC_kwDOAx4p2c5n5MEI",
    "user": {
      "login": "ilmotta",
      "id": 46027,
      "node_id": "MDQ6VXNlcjQ2MDI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/46027?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ilmotta",
      "html_url": "https://github.com/ilmotta",
      "followers_url": "https://api.github.com/users/ilmotta/followers",
      "following_url": "https://api.github.com/users/ilmotta/following{/other_user}",
      "gists_url": "https://api.github.com/users/ilmotta/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ilmotta/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ilmotta/subscriptions",
      "organizations_url": "https://api.github.com/users/ilmotta/orgs",
      "repos_url": "https://api.github.com/users/ilmotta/repos",
      "events_url": "https://api.github.com/users/ilmotta/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ilmotta/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-10-02T13:44:07Z",
    "updated_at": "2023-10-02T13:44:07Z",
    "author_association": "CONTRIBUTOR",
    "body": "Will do @churik",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1743044872/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1828126606",
    "html_url": "https://github.com/status-im/status-mobile/issues/17474#issuecomment-1828126606",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/17474",
    "id": 1828126606,
    "node_id": "IC_kwDOAx4p2c5s9v-O",
    "user": {
      "login": "churik",
      "id": 4557972,
      "node_id": "MDQ6VXNlcjQ1NTc5NzI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4557972?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/churik",
      "html_url": "https://github.com/churik",
      "followers_url": "https://api.github.com/users/churik/followers",
      "following_url": "https://api.github.com/users/churik/following{/other_user}",
      "gists_url": "https://api.github.com/users/churik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/churik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/churik/subscriptions",
      "organizations_url": "https://api.github.com/users/churik/orgs",
      "repos_url": "https://api.github.com/users/churik/repos",
      "events_url": "https://api.github.com/users/churik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/churik/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-11-27T16:00:16Z",
    "updated_at": "2023-11-27T16:00:16Z",
    "author_association": "MEMBER",
    "body": "I believe it should be improved in 1.26 significantly - the error has to be shown or the issue itself should be fixed. \r\nWhen you have capacity @ilmotta would be awesome to try to reproduce this - if it is not reproducible, we can close the issue, thank you!",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1828126606/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1828424248",
    "html_url": "https://github.com/status-im/status-mobile/issues/17474#issuecomment-1828424248",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/17474",
    "id": 1828424248,
    "node_id": "IC_kwDOAx4p2c5s-4o4",
    "user": {
      "login": "ilmotta",
      "id": 46027,
      "node_id": "MDQ6VXNlcjQ2MDI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/46027?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ilmotta",
      "html_url": "https://github.com/ilmotta",
      "followers_url": "https://api.github.com/users/ilmotta/followers",
      "following_url": "https://api.github.com/users/ilmotta/following{/other_user}",
      "gists_url": "https://api.github.com/users/ilmotta/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ilmotta/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ilmotta/subscriptions",
      "organizations_url": "https://api.github.com/users/ilmotta/orgs",
      "repos_url": "https://api.github.com/users/ilmotta/repos",
      "events_url": "https://api.github.com/users/ilmotta/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ilmotta/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-11-27T18:49:07Z",
    "updated_at": "2023-11-27T18:49:07Z",
    "author_association": "CONTRIBUTOR",
    "body": "@churik, I believe the original problem has been significantly improved after @qfrank made a few improvements some weeks ago (I can't pinpoint exactly when). I will try to reproduce this issue again this week to see if we can close it.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1828424248/reactions",
      "total_count": 2,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 1,
      "rocket": 0,
      "eyes": 1
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1847822330",
    "html_url": "https://github.com/status-im/status-mobile/issues/17474#issuecomment-1847822330",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/17474",
    "id": 1847822330,
    "node_id": "IC_kwDOAx4p2c5uI4f6",
    "user": {
      "login": "ilmotta",
      "id": 46027,
      "node_id": "MDQ6VXNlcjQ2MDI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/46027?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ilmotta",
      "html_url": "https://github.com/ilmotta",
      "followers_url": "https://api.github.com/users/ilmotta/followers",
      "following_url": "https://api.github.com/users/ilmotta/following{/other_user}",
      "gists_url": "https://api.github.com/users/ilmotta/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ilmotta/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ilmotta/subscriptions",
      "organizations_url": "https://api.github.com/users/ilmotta/orgs",
      "repos_url": "https://api.github.com/users/ilmotta/repos",
      "events_url": "https://api.github.com/users/ilmotta/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ilmotta/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-12-08T20:44:21Z",
    "updated_at": "2023-12-08T20:44:21Z",
    "author_association": "CONTRIBUTOR",
    "body": "@churik, I'm closing this issue because I just verified it's not reproducible anymore due to sync improvements made in the last month by @qfrank. \r\n\r\n------\r\n\r\nI just found a small bug while testing this issue, but it's unrelated. Reproduction steps on Android 13:\r\n\r\nBug: **Camera is not shown after pressing \"Try again\" after sync failure. User is forced to go back to first screen and press \"Sign in\" again to arrive at \"Scan QR code\" tab.**\r\n\r\n1. Enable firewall, blocking all ports in the high range on the primary device or some other way to force sync to fail.\r\n2. Try to sync from the \"Scan QR code\" screen.\r\n3. Once the QR code is scanned, you should see a screen similar to what's shown below, but probably with a different error message than mine.\r\n4. Press \"Try again\" to go back.\r\n5. You'll now arrive at the previous screen, but the camera won't be shown anymore, you will need to go back one more screen and press \"Sign in\" again.\r\n\r\nNote: I think ideally the user shouldn't see low-level error messages, especially in the in-app notification like in the screenshot.\r\n\r\n<img src=\"https://github.com/status-im/status-mobile/assets/46027/07b3ce74-786e-42d6-ab94-244cf0a3a214\" width=\"375\" />\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1847822330/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
