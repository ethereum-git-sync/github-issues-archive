{
  "url": "https://api.github.com/repos/status-im/status-mobile/issues/13176",
  "repository_url": "https://api.github.com/repos/status-im/status-mobile",
  "labels_url": "https://api.github.com/repos/status-im/status-mobile/issues/13176/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-mobile/issues/13176/comments",
  "events_url": "https://api.github.com/repos/status-im/status-mobile/issues/13176/events",
  "html_url": "https://github.com/status-im/status-mobile/issues/13176",
  "id": 1170864592,
  "node_id": "I_kwDOAx4p2c5FyfnQ",
  "number": 13176,
  "title": "Notifications in Activity Center and unread messages are not synced if they were received before syncing and while the secondary device was offline",
  "user": {
    "login": "qoqobolo",
    "id": 67952253,
    "node_id": "MDQ6VXNlcjY3OTUyMjUz",
    "avatar_url": "https://avatars.githubusercontent.com/u/67952253?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/qoqobolo",
    "html_url": "https://github.com/qoqobolo",
    "followers_url": "https://api.github.com/users/qoqobolo/followers",
    "following_url": "https://api.github.com/users/qoqobolo/following{/other_user}",
    "gists_url": "https://api.github.com/users/qoqobolo/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/qoqobolo/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/qoqobolo/subscriptions",
    "organizations_url": "https://api.github.com/users/qoqobolo/orgs",
    "repos_url": "https://api.github.com/users/qoqobolo/repos",
    "events_url": "https://api.github.com/users/qoqobolo/events{/privacy}",
    "received_events_url": "https://api.github.com/users/qoqobolo/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 330296931,
      "node_id": "MDU6TGFiZWwzMzAyOTY5MzE=",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/bug",
      "name": "bug",
      "color": "fc2929",
      "default": true,
      "description": null
    },
    {
      "id": 1141700277,
      "node_id": "MDU6TGFiZWwxMTQxNzAwMjc3",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/pairing",
      "name": "pairing",
      "color": "e8a084",
      "default": false,
      "description": ""
    },
    {
      "id": 2948932638,
      "node_id": "MDU6TGFiZWwyOTQ4OTMyNjM4",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/Activity%20center",
      "name": "Activity center",
      "color": "d4c5f9",
      "default": false,
      "description": ""
    },
    {
      "id": 3990911030,
      "node_id": "LA_kwDOAx4p2c7t4Hg2",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/E:Bugfixes",
      "name": "E:Bugfixes",
      "color": "32BD0C",
      "default": false,
      "description": ""
    },
    {
      "id": 3990919470,
      "node_id": "LA_kwDOAx4p2c7t4Jku",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/E:Syncing",
      "name": "E:Syncing",
      "color": "303365",
      "default": false,
      "description": ""
    },
    {
      "id": 4163338225,
      "node_id": "LA_kwDOAx4p2c74J3_x",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/S:8",
      "name": "S:8",
      "color": "A1CC2D",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": {
    "url": "https://api.github.com/repos/status-im/status-mobile/milestones/59",
    "html_url": "https://github.com/status-im/status-mobile/milestone/59",
    "labels_url": "https://api.github.com/repos/status-im/status-mobile/milestones/59/labels",
    "id": 7721557,
    "node_id": "MI_kwDOAx4p2c4AddJV",
    "number": 59,
    "title": "Release 1.20",
    "description": "",
    "creator": {
      "login": "cammellos",
      "id": 1017008,
      "node_id": "MDQ6VXNlcjEwMTcwMDg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1017008?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cammellos",
      "html_url": "https://github.com/cammellos",
      "followers_url": "https://api.github.com/users/cammellos/followers",
      "following_url": "https://api.github.com/users/cammellos/following{/other_user}",
      "gists_url": "https://api.github.com/users/cammellos/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cammellos/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cammellos/subscriptions",
      "organizations_url": "https://api.github.com/users/cammellos/orgs",
      "repos_url": "https://api.github.com/users/cammellos/repos",
      "events_url": "https://api.github.com/users/cammellos/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cammellos/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 4,
    "closed_issues": 54,
    "state": "closed",
    "created_at": "2022-02-28T16:35:08Z",
    "updated_at": "2022-12-02T16:06:03Z",
    "due_on": null,
    "closed_at": "2022-12-02T16:06:03Z"
  },
  "comments": 6,
  "created_at": "2022-03-16T11:01:44Z",
  "updated_at": "2022-07-15T09:39:59Z",
  "closed_at": "2022-07-15T09:39:59Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "# Bug Report\r\n\r\n\r\n## Problem \r\nIf a User received new notifications in the Activity center before pairing, and the secondary device was offline at that time (or the account has not yet been restored on it), then after returning online and syncing, the notifications will not appear in the Activity center on the secondary device.\r\n\r\n\r\n#### Expected behavior\r\nNotifications received while the secondary device was offline and before syncing, are synced in the same way as other data, i.e. public chats, contacts, etc. \r\n\r\n#### Actual behavior\r\nNo notifications after syncing\r\n\r\n### Reproduction\r\n\r\n1. Create an account on device1\r\n2. Recover the same account on device2, close the app\r\n3. Create another account on device3 and start a new 1-1 chat with device1 / invite device1 to a new group chat (_device1 has a new notification in the Activity center_)\r\n4. Open the app on device2, sync device1 with device2\r\n5. Check the Activity center on device2\r\n\r\n### Additional Information\r\n\r\n- Status version: nightly 16/03\r\n- Operating System: Android, iOS\r\n\r\n\r\n[comment]: # (Please, add logs/notes if necessary)\r\n\r\n",
  "closed_by": {
    "login": "cammellos",
    "id": 1017008,
    "node_id": "MDQ6VXNlcjEwMTcwMDg=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1017008?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/cammellos",
    "html_url": "https://github.com/cammellos",
    "followers_url": "https://api.github.com/users/cammellos/followers",
    "following_url": "https://api.github.com/users/cammellos/following{/other_user}",
    "gists_url": "https://api.github.com/users/cammellos/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/cammellos/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/cammellos/subscriptions",
    "organizations_url": "https://api.github.com/users/cammellos/orgs",
    "repos_url": "https://api.github.com/users/cammellos/repos",
    "events_url": "https://api.github.com/users/cammellos/events{/privacy}",
    "received_events_url": "https://api.github.com/users/cammellos/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/13176/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-mobile/issues/13176/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1091476499",
    "html_url": "https://github.com/status-im/status-mobile/issues/13176#issuecomment-1091476499",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/13176",
    "id": 1091476499,
    "node_id": "IC_kwDOAx4p2c5BDpwT",
    "user": {
      "login": "churik",
      "id": 4557972,
      "node_id": "MDQ6VXNlcjQ1NTc5NzI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4557972?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/churik",
      "html_url": "https://github.com/churik",
      "followers_url": "https://api.github.com/users/churik/followers",
      "following_url": "https://api.github.com/users/churik/following{/other_user}",
      "gists_url": "https://api.github.com/users/churik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/churik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/churik/subscriptions",
      "organizations_url": "https://api.github.com/users/churik/orgs",
      "repos_url": "https://api.github.com/users/churik/repos",
      "events_url": "https://api.github.com/users/churik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/churik/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-04-07T10:05:05Z",
    "updated_at": "2022-04-07T10:05:05Z",
    "author_association": "MEMBER",
    "body": "The same for unread messages: if they appeared before sync, there are no unread messages after initial sync.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1091476499/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1161554457",
    "html_url": "https://github.com/status-im/status-mobile/issues/13176#issuecomment-1161554457",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/13176",
    "id": 1161554457,
    "node_id": "IC_kwDOAx4p2c5FO-oZ",
    "user": {
      "login": "audriu",
      "id": 41568862,
      "node_id": "MDQ6VXNlcjQxNTY4ODYy",
      "avatar_url": "https://avatars.githubusercontent.com/u/41568862?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/audriu",
      "html_url": "https://github.com/audriu",
      "followers_url": "https://api.github.com/users/audriu/followers",
      "following_url": "https://api.github.com/users/audriu/following{/other_user}",
      "gists_url": "https://api.github.com/users/audriu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/audriu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/audriu/subscriptions",
      "organizations_url": "https://api.github.com/users/audriu/orgs",
      "repos_url": "https://api.github.com/users/audriu/repos",
      "events_url": "https://api.github.com/users/audriu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/audriu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-21T10:21:46Z",
    "updated_at": "2022-06-21T10:21:58Z",
    "author_association": "CONTRIBUTOR",
    "body": "I can not reproduce it with the current `develop` branch.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1161554457/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1161562383",
    "html_url": "https://github.com/status-im/status-mobile/issues/13176#issuecomment-1161562383",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/13176",
    "id": 1161562383,
    "node_id": "IC_kwDOAx4p2c5FPAkP",
    "user": {
      "login": "pavloburykh",
      "id": 97245802,
      "node_id": "U_kgDOBcvaag",
      "avatar_url": "https://avatars.githubusercontent.com/u/97245802?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pavloburykh",
      "html_url": "https://github.com/pavloburykh",
      "followers_url": "https://api.github.com/users/pavloburykh/followers",
      "following_url": "https://api.github.com/users/pavloburykh/following{/other_user}",
      "gists_url": "https://api.github.com/users/pavloburykh/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pavloburykh/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pavloburykh/subscriptions",
      "organizations_url": "https://api.github.com/users/pavloburykh/orgs",
      "repos_url": "https://api.github.com/users/pavloburykh/repos",
      "events_url": "https://api.github.com/users/pavloburykh/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pavloburykh/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-21T10:29:51Z",
    "updated_at": "2022-06-21T10:31:26Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hey @audriu! Bug is being replicated when notifications in activity center are received by Device 1 before restoring the same account on Device 2. \r\n\r\n**Steps:** \r\n\r\n1. Create an account on Device1\r\n2. Create another account on Device 3 and start a new 1-1 chat with Device1 / invite device1 to a new group chat (Device1 has a new notification in the Activity center)\r\n3. Recover the same account (as on device 1) on Device 2\r\n4. Sync Device 1 with Device 2\r\n5. Pay attention if notifications appeared on Device 2 \r\n\r\n**Actual result:** notifications are not synced. Reproduced on latest nightly 21/06\r\n\r\n**Expected result:** notifications are synced\r\n\r\n\r\nhttps://user-images.githubusercontent.com/97245802/174778763-35c26a2a-eb8a-42d2-ac3a-df32437367ba.mp4\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1161562383/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1162824637",
    "html_url": "https://github.com/status-im/status-mobile/issues/13176#issuecomment-1162824637",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/13176",
    "id": 1162824637,
    "node_id": "IC_kwDOAx4p2c5FT0u9",
    "user": {
      "login": "audriu",
      "id": 41568862,
      "node_id": "MDQ6VXNlcjQxNTY4ODYy",
      "avatar_url": "https://avatars.githubusercontent.com/u/41568862?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/audriu",
      "html_url": "https://github.com/audriu",
      "followers_url": "https://api.github.com/users/audriu/followers",
      "following_url": "https://api.github.com/users/audriu/following{/other_user}",
      "gists_url": "https://api.github.com/users/audriu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/audriu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/audriu/subscriptions",
      "organizations_url": "https://api.github.com/users/audriu/orgs",
      "repos_url": "https://api.github.com/users/audriu/repos",
      "events_url": "https://api.github.com/users/audriu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/audriu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-22T08:45:47Z",
    "updated_at": "2022-06-22T08:45:47Z",
    "author_association": "CONTRIBUTOR",
    "body": "these stems and steps in the ticket's reproduction description are different. Steps 2 and 3 were swapped and therefore work differently.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1162824637/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1162826453",
    "html_url": "https://github.com/status-im/status-mobile/issues/13176#issuecomment-1162826453",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/13176",
    "id": 1162826453,
    "node_id": "IC_kwDOAx4p2c5FT1LV",
    "user": {
      "login": "pavloburykh",
      "id": 97245802,
      "node_id": "U_kgDOBcvaag",
      "avatar_url": "https://avatars.githubusercontent.com/u/97245802?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pavloburykh",
      "html_url": "https://github.com/pavloburykh",
      "followers_url": "https://api.github.com/users/pavloburykh/followers",
      "following_url": "https://api.github.com/users/pavloburykh/following{/other_user}",
      "gists_url": "https://api.github.com/users/pavloburykh/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pavloburykh/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pavloburykh/subscriptions",
      "organizations_url": "https://api.github.com/users/pavloburykh/orgs",
      "repos_url": "https://api.github.com/users/pavloburykh/repos",
      "events_url": "https://api.github.com/users/pavloburykh/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pavloburykh/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-22T08:47:30Z",
    "updated_at": "2022-06-22T09:05:00Z",
    "author_association": "CONTRIBUTOR",
    "body": "> these stems and steps in the ticket's reproduction description are different. Steps 2 and 3 were swapped and therefore work differently.\r\n\r\nok, so did you mange to reproduce the bug with these steps https://github.com/status-im/status-react/issues/13176#issuecomment-1161562383 ?\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1162826453/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1185368080",
    "html_url": "https://github.com/status-im/status-mobile/issues/13176#issuecomment-1185368080",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/13176",
    "id": 1185368080,
    "node_id": "IC_kwDOAx4p2c5Gp0gQ",
    "user": {
      "login": "cammellos",
      "id": 1017008,
      "node_id": "MDQ6VXNlcjEwMTcwMDg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1017008?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cammellos",
      "html_url": "https://github.com/cammellos",
      "followers_url": "https://api.github.com/users/cammellos/followers",
      "following_url": "https://api.github.com/users/cammellos/following{/other_user}",
      "gists_url": "https://api.github.com/users/cammellos/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cammellos/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cammellos/subscriptions",
      "organizations_url": "https://api.github.com/users/cammellos/orgs",
      "repos_url": "https://api.github.com/users/cammellos/repos",
      "events_url": "https://api.github.com/users/cammellos/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cammellos/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-15T09:39:59Z",
    "updated_at": "2022-07-15T09:39:59Z",
    "author_association": "MEMBER",
    "body": "Closing this for now, the case from @pavloburykh is expected, since we don't sync messages on new devices, we have to dig a bit deeper as some notifications might need syncing, but we can probably open issue for those specifically, feel free to re-open if disagree or I have missed something.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1185368080/reactions",
      "total_count": 3,
      "+1": 3,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
