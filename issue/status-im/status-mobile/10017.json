{
  "url": "https://api.github.com/repos/status-im/status-mobile/issues/10017",
  "repository_url": "https://api.github.com/repos/status-im/status-mobile",
  "labels_url": "https://api.github.com/repos/status-im/status-mobile/issues/10017/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-mobile/issues/10017/comments",
  "events_url": "https://api.github.com/repos/status-im/status-mobile/issues/10017/events",
  "html_url": "https://github.com/status-im/status-mobile/issues/10017",
  "id": 562780115,
  "node_id": "MDU6SXNzdWU1NjI3ODAxMTU=",
  "number": 10017,
  "title": "QR codes don't work for ENS names",
  "user": {
    "login": "jakubgs",
    "id": 2212681,
    "node_id": "MDQ6VXNlcjIyMTI2ODE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jakubgs",
    "html_url": "https://github.com/jakubgs",
    "followers_url": "https://api.github.com/users/jakubgs/followers",
    "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
    "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
    "organizations_url": "https://api.github.com/users/jakubgs/orgs",
    "repos_url": "https://api.github.com/users/jakubgs/repos",
    "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jakubgs/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 330296931,
      "node_id": "MDU6TGFiZWwzMzAyOTY5MzE=",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/bug",
      "name": "bug",
      "color": "fc2929",
      "default": true,
      "description": null
    },
    {
      "id": 1745762236,
      "node_id": "MDU6TGFiZWwxNzQ1NzYyMjM2",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/ENS%20names",
      "name": "ENS names",
      "color": "e097ef",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2020-02-10T19:35:44Z",
  "updated_at": "2020-04-29T20:28:16Z",
  "closed_at": "2020-04-20T14:37:42Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "While working on updates to https://get.status.im/ in https://github.com/status-im/universal-links-handler/issues/17 we discovered that opening of ENS names like `jakubgs`, `jakubgs.eth`, or `jakubgs.stateofus.eth` does not work via QR code, only for chat keys, like so:\nhttps://get.status.im/user/0x0461f576da67dc0bca9888cdb4cb28c80285b756b324109da94a081585ed6f007cf00afede6b3ee5638593674fee100b590318fc7bdb0054b8dd9445acea216ad2\n\nFor anything else it responds with:\n```\nUnable to read this code\nPlease enter or scan a valid chat key or username\n```\n\nThis feature was apparently introduced in https://github.com/status-im/status-react/pull/9811 and based on my tests with [the PR build](https://status-im-prs.ams3.digitaloceanspaces.com/StatusIm-200128-122134-028543-pr-universal.apk) it did work then, but only for bare usernames, ENS names, and chat keys. By \"bare\" I mean without the `status-im://user/` prefix. Not sure if that's intended but that's how it was done.\n\nRight now it appears the only method working is a bare chat key.",
  "closed_by": {
    "login": "andremedeiros",
    "id": 9689,
    "node_id": "MDQ6VXNlcjk2ODk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/9689?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/andremedeiros",
    "html_url": "https://github.com/andremedeiros",
    "followers_url": "https://api.github.com/users/andremedeiros/followers",
    "following_url": "https://api.github.com/users/andremedeiros/following{/other_user}",
    "gists_url": "https://api.github.com/users/andremedeiros/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/andremedeiros/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/andremedeiros/subscriptions",
    "organizations_url": "https://api.github.com/users/andremedeiros/orgs",
    "repos_url": "https://api.github.com/users/andremedeiros/repos",
    "events_url": "https://api.github.com/users/andremedeiros/events{/privacy}",
    "received_events_url": "https://api.github.com/users/andremedeiros/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/10017/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-mobile/issues/10017/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/584553456",
    "html_url": "https://github.com/status-im/status-mobile/issues/10017#issuecomment-584553456",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/10017",
    "id": 584553456,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU4NDU1MzQ1Ng==",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-02-11T09:52:10Z",
    "updated_at": "2020-02-11T09:52:10Z",
    "author_association": "MEMBER",
    "body": "According to @Serhy this works in the Nightly, so it looks like we didn't include the changes in `release/1.0.x` branch. @flexsurfer is that intentional?\r\n\r\nEven so, I think QR code scanning should also accept the `status-im://user/{NAME}` form as well.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/584553456/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/584554355",
    "html_url": "https://github.com/status-im/status-mobile/issues/10017#issuecomment-584554355",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/10017",
    "id": 584554355,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU4NDU1NDM1NQ==",
    "user": {
      "login": "flexsurfer",
      "id": 11790366,
      "node_id": "MDQ6VXNlcjExNzkwMzY2",
      "avatar_url": "https://avatars.githubusercontent.com/u/11790366?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/flexsurfer",
      "html_url": "https://github.com/flexsurfer",
      "followers_url": "https://api.github.com/users/flexsurfer/followers",
      "following_url": "https://api.github.com/users/flexsurfer/following{/other_user}",
      "gists_url": "https://api.github.com/users/flexsurfer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/flexsurfer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/flexsurfer/subscriptions",
      "organizations_url": "https://api.github.com/users/flexsurfer/orgs",
      "repos_url": "https://api.github.com/users/flexsurfer/repos",
      "events_url": "https://api.github.com/users/flexsurfer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/flexsurfer/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-02-11T09:54:23Z",
    "updated_at": "2020-02-11T09:54:23Z",
    "author_association": "MEMBER",
    "body": "intentional, yes",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/584554355/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/585363060",
    "html_url": "https://github.com/status-im/status-mobile/issues/10017#issuecomment-585363060",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/10017",
    "id": 585363060,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU4NTM2MzA2MA==",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-02-12T18:57:16Z",
    "updated_at": "2020-02-12T18:57:16Z",
    "author_association": "MEMBER",
    "body": "In relation to https://github.com/status-im/universal-links-handler/issues/25 I think we need to decide on a standard way for handling QR codes. Otherwise if the QR code contains `whatever` then the App can't know if it's `#whatever` channel or it's `whatever.stateofus.eth` user. I propose 2 ways:\r\n\r\n1. Use the `status-im://` format in QR codes so it's contents are:\r\n  - `status-im://chat/public/whatever` or\r\n  - `status-im://user/whatever`\r\n2. Always provide full ENS name, and always prefix chat names with `#`:\r\n  - `whatever.stateofus.eth`\r\n  - `#whatever`\r\n\r\nThe former is easier to handle, but the latter is more concise and gives smaller QR codes.\r\nIn theory we could handle both cases, but consider the former one more canonical.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/585363060/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/591329427",
    "html_url": "https://github.com/status-im/status-mobile/issues/10017#issuecomment-591329427",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/10017",
    "id": 591329427,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU5MTMyOTQyNw==",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-02-26T09:32:49Z",
    "updated_at": "2020-02-26T09:32:49Z",
    "author_association": "MEMBER",
    "body": "Update: With https://github.com/status-im/universal-links-handler/pull/29 merged the new forms are:\r\n\r\n* https://join.status.im/0x04abcXYZ123... in favour of https://join.status.im/user/0x04abcXYZ123...\r\n* https://join.status.im/@jakubgs in favour of https://join.status.im/user/jakubgs\r\n* https://join.status.im/@jakubgs.eth in favour of https://join.status.im/user/jakubgs.eth\r\n* https://join.status.im/markets in favour of https://join.status.im/chat/public/markets\r\n* https://join.status.im/b/ens.domains in favour of https://join.status.im/browse/ens.domains\r\n\r\nI've created a separate issue to add support for those: https://github.com/status-im/status-react/issues/10083",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/591329427/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/616595908",
    "html_url": "https://github.com/status-im/status-mobile/issues/10017#issuecomment-616595908",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/10017",
    "id": 616595908,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYxNjU5NTkwOA==",
    "user": {
      "login": "andremedeiros",
      "id": 9689,
      "node_id": "MDQ6VXNlcjk2ODk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9689?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/andremedeiros",
      "html_url": "https://github.com/andremedeiros",
      "followers_url": "https://api.github.com/users/andremedeiros/followers",
      "following_url": "https://api.github.com/users/andremedeiros/following{/other_user}",
      "gists_url": "https://api.github.com/users/andremedeiros/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/andremedeiros/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/andremedeiros/subscriptions",
      "organizations_url": "https://api.github.com/users/andremedeiros/orgs",
      "repos_url": "https://api.github.com/users/andremedeiros/repos",
      "events_url": "https://api.github.com/users/andremedeiros/events{/privacy}",
      "received_events_url": "https://api.github.com/users/andremedeiros/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-20T14:37:42Z",
    "updated_at": "2020-04-20T14:37:42Z",
    "author_association": "CONTRIBUTOR",
    "body": "Closing this as the related issue has been implemented/fixed.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/616595908/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
