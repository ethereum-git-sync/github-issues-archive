{
  "url": "https://api.github.com/repos/status-im/status-mobile/issues/11836",
  "repository_url": "https://api.github.com/repos/status-im/status-mobile",
  "labels_url": "https://api.github.com/repos/status-im/status-mobile/issues/11836/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-mobile/issues/11836/comments",
  "events_url": "https://api.github.com/repos/status-im/status-mobile/issues/11836/events",
  "html_url": "https://github.com/status-im/status-mobile/issues/11836",
  "id": 822106537,
  "node_id": "MDU6SXNzdWU4MjIxMDY1Mzc=",
  "number": 11836,
  "title": "java.lang.numberFormatException when receive TX in 1-1 chat. Can't proceed use Status after, - until Force Stop",
  "user": {
    "login": "Serhy",
    "id": 8749671,
    "node_id": "MDQ6VXNlcjg3NDk2NzE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/8749671?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Serhy",
    "html_url": "https://github.com/Serhy",
    "followers_url": "https://api.github.com/users/Serhy/followers",
    "following_url": "https://api.github.com/users/Serhy/following{/other_user}",
    "gists_url": "https://api.github.com/users/Serhy/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Serhy/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Serhy/subscriptions",
    "organizations_url": "https://api.github.com/users/Serhy/orgs",
    "repos_url": "https://api.github.com/users/Serhy/repos",
    "events_url": "https://api.github.com/users/Serhy/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Serhy/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 330296931,
      "node_id": "MDU6TGFiZWwzMzAyOTY5MzE=",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/bug",
      "name": "bug",
      "color": "fc2929",
      "default": true,
      "description": null
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "cammellos",
    "id": 1017008,
    "node_id": "MDQ6VXNlcjEwMTcwMDg=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1017008?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/cammellos",
    "html_url": "https://github.com/cammellos",
    "followers_url": "https://api.github.com/users/cammellos/followers",
    "following_url": "https://api.github.com/users/cammellos/following{/other_user}",
    "gists_url": "https://api.github.com/users/cammellos/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/cammellos/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/cammellos/subscriptions",
    "organizations_url": "https://api.github.com/users/cammellos/orgs",
    "repos_url": "https://api.github.com/users/cammellos/repos",
    "events_url": "https://api.github.com/users/cammellos/events{/privacy}",
    "received_events_url": "https://api.github.com/users/cammellos/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "cammellos",
      "id": 1017008,
      "node_id": "MDQ6VXNlcjEwMTcwMDg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1017008?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cammellos",
      "html_url": "https://github.com/cammellos",
      "followers_url": "https://api.github.com/users/cammellos/followers",
      "following_url": "https://api.github.com/users/cammellos/following{/other_user}",
      "gists_url": "https://api.github.com/users/cammellos/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cammellos/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cammellos/subscriptions",
      "organizations_url": "https://api.github.com/users/cammellos/orgs",
      "repos_url": "https://api.github.com/users/cammellos/repos",
      "events_url": "https://api.github.com/users/cammellos/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cammellos/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": {
    "url": "https://api.github.com/repos/status-im/status-mobile/milestones/51",
    "html_url": "https://github.com/status-im/status-mobile/milestone/51",
    "labels_url": "https://api.github.com/repos/status-im/status-mobile/milestones/51/labels",
    "id": 6335788,
    "node_id": "MDk6TWlsZXN0b25lNjMzNTc4OA==",
    "number": 51,
    "title": "Release 1.12",
    "description": "",
    "creator": {
      "login": "cammellos",
      "id": 1017008,
      "node_id": "MDQ6VXNlcjEwMTcwMDg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1017008?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cammellos",
      "html_url": "https://github.com/cammellos",
      "followers_url": "https://api.github.com/users/cammellos/followers",
      "following_url": "https://api.github.com/users/cammellos/following{/other_user}",
      "gists_url": "https://api.github.com/users/cammellos/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cammellos/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cammellos/subscriptions",
      "organizations_url": "https://api.github.com/users/cammellos/orgs",
      "repos_url": "https://api.github.com/users/cammellos/repos",
      "events_url": "https://api.github.com/users/cammellos/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cammellos/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 0,
    "closed_issues": 24,
    "state": "closed",
    "created_at": "2021-01-21T10:21:13Z",
    "updated_at": "2021-03-31T19:45:54Z",
    "due_on": null,
    "closed_at": "2021-03-12T16:27:49Z"
  },
  "comments": 1,
  "created_at": "2021-03-04T12:55:11Z",
  "updated_at": "2021-03-05T15:10:40Z",
  "closed_at": "2021-03-05T15:10:40Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "# Bug Report\r\n\r\n## Problem\r\n\r\n`java.lang.numberFormatException for input string \"\"` error appears when received transaction in 1-1 chat.\r\nAfter tap on 'Exit' - can't proceed to use Status. It's frozen. When re-opening Status was stuck on logo screen (apparently it's enabled Notifications settings which plays role here of app stuck on  Status logo view because we keep running Status when Notification ON)\r\n\r\n#### Expected behavior\r\n\r\nNo error appears\r\n\r\n#### Actual behavior\r\n\r\n<img width=\"191\" alt=\"Screenshot 2021-03-04 at 14 25 37\" src=\"https://user-images.githubusercontent.com/8749671/109965163-40270f00-7cf7-11eb-9f35-8cf0c91d4cd7.png\">\r\n\r\n### Reproduction\r\n\r\n- Open Status on Device1 and Device2\r\n- Device1 sends to Device2 'Request transaction' message in 1-1 chat\r\n- Device2 signs with PIN and sends transaction \r\n- Device2 goes offline (Airplane mode)\r\n- After Device1 receives transaction, - Device2 returns back online\r\n- Device2 receives 'Confirmed' status in 1-1 chat transaction but error also appears (see **Actual result** above) \r\n\r\n### Additional Information\r\n\r\n- Status version: `Release 1.12`/ develop\r\n- Operating System: Android\r\n\r\n#### Logs\r\n\r\nFull logcat log (from emulator): \r\n[logcat.log](https://github.com/status-im/status-react/files/6083738/logcat.20.log)\r\n\r\n\r\n\r\n```\r\n\r\n--------- beginning of crash\r\n03-03 07:14:40.588  5754  5850 E AndroidRuntime: FATAL EXCEPTION: mqt_native_modules\r\n03-03 07:14:40.588  5754  5850 E AndroidRuntime: Process: im.status.ethereum, PID: 5754\r\n03-03 07:14:40.588  5754  5850 E AndroidRuntime: java.lang.NumberFormatException: For input string: \"\"\r\n03-03 07:14:40.588  5754  5850 E AndroidRuntime: \tat java.lang.Integer.parseInt(Integer.java:627)\r\n03-03 07:14:40.588  5754  5850 E AndroidRuntime: \tat java.lang.Integer.parseInt(Integer.java:650)\r\n03-03 07:14:40.588  5754  5850 E AndroidRuntime: \tat im.status.ethereum.pushnotifications.NewMessageSignalHandler.upsertChat(NewMessageSignalHandler.java:268)\r\n03-03 07:14:40.588  5754  5850 E AndroidRuntime: \tat im.status.ethereum.pushnotifications.NewMessageSignalHandler.handleNewMessage(NewMessageSignalHandler.java:241)\r\n03-03 07:14:40.588  5754  5850 E AndroidRuntime: \tat im.status.ethereum.pushnotifications.PushNotification.presentLocalNotification(PushNotification.java:116)\r\n03-03 07:14:40.588  5754  5850 E AndroidRuntime: \tat java.lang.reflect.Method.invoke(Native Method)\r\n03-03 07:14:40.588  5754  5850 E AndroidRuntime: \tat com.facebook.react.bridge.JavaMethodWrapper.invoke(JavaMethodWrapper.java:372)\r\n03-03 07:14:40.588  5754  5850 E AndroidRuntime: \tat com.facebook.react.bridge.JavaModuleWrapper.invoke(JavaModuleWrapper.java:151)\r\n03-03 07:14:40.588  5754  5850 E AndroidRuntime: \tat com.facebook.react.bridge.queue.NativeRunnable.run(Native Method)\r\n03-03 07:14:40.588  5754  5850 E AndroidRuntime: \tat android.os.Handler.handleCallback(Handler.java:883)\r\n03-03 07:14:40.588  5754  5850 E AndroidRuntime: \tat android.os.Handler.dispatchMessage(Handler.java:100)\r\n03-03 07:14:40.588  5754  5850 E AndroidRuntime: \tat com.facebook.react.bridge.queue.MessageQueueThreadHandler.dispatchMessage(MessageQueueThreadHandler.java:27)\r\n03-03 07:14:40.588  5754  5850 E AndroidRuntime: \tat android.os.Looper.loop(Looper.java:214)\r\n03-03 07:14:40.588  5754  5850 E AndroidRuntime: \tat com.facebook.react.bridge.queue.MessageQueueThreadImpl$4.run(MessageQueueThreadImpl.java:226)\r\n03-03 07:14:40.588  5754  5850 E AndroidRuntime: \tat java.lang.Thread.run(Thread.java:919)\r\n03-03 07:14:40.612  5754  6759 D StatusModule: Signal event\r\n03-03 07:14:40.615  1749  1825 D gralloc_ranchu: gralloc_alloc: Creating ashmem region of size 1736704\r\n03-03 07:14:40.619  1749  1825 I chatty  : uid=1000(system) HwBinder:1749_3 identical 1 line\r\n03-03 07:14:40.622  1749  1825 D gralloc_ranchu: gralloc_alloc: Creating ashmem region of size 1736704\r\n03-03 07:14:40.629  5754  5833 D EGL_emulation: eglMakeCurrent: 0xc00b74a0: ver 2 0 (tinfo 0xc00dc3a0)\r\n```",
  "closed_by": {
    "login": "flexsurfer",
    "id": 11790366,
    "node_id": "MDQ6VXNlcjExNzkwMzY2",
    "avatar_url": "https://avatars.githubusercontent.com/u/11790366?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/flexsurfer",
    "html_url": "https://github.com/flexsurfer",
    "followers_url": "https://api.github.com/users/flexsurfer/followers",
    "following_url": "https://api.github.com/users/flexsurfer/following{/other_user}",
    "gists_url": "https://api.github.com/users/flexsurfer/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/flexsurfer/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/flexsurfer/subscriptions",
    "organizations_url": "https://api.github.com/users/flexsurfer/orgs",
    "repos_url": "https://api.github.com/users/flexsurfer/repos",
    "events_url": "https://api.github.com/users/flexsurfer/events{/privacy}",
    "received_events_url": "https://api.github.com/users/flexsurfer/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/11836/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-mobile/issues/11836/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/790617856",
    "html_url": "https://github.com/status-im/status-mobile/issues/11836#issuecomment-790617856",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/11836",
    "id": 790617856,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc5MDYxNzg1Ng==",
    "user": {
      "login": "churik",
      "id": 4557972,
      "node_id": "MDQ6VXNlcjQ1NTc5NzI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4557972?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/churik",
      "html_url": "https://github.com/churik",
      "followers_url": "https://api.github.com/users/churik/followers",
      "following_url": "https://api.github.com/users/churik/following{/other_user}",
      "gists_url": "https://api.github.com/users/churik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/churik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/churik/subscriptions",
      "organizations_url": "https://api.github.com/users/churik/orgs",
      "repos_url": "https://api.github.com/users/churik/repos",
      "events_url": "https://api.github.com/users/churik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/churik/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-04T13:28:32Z",
    "updated_at": "2021-03-04T13:28:32Z",
    "author_association": "MEMBER",
    "body": "added to 1.12 as IMO it is really dreadful issue",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/790617856/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
