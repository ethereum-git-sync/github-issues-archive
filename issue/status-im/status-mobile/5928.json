{
  "url": "https://api.github.com/repos/status-im/status-mobile/issues/5928",
  "repository_url": "https://api.github.com/repos/status-im/status-mobile",
  "labels_url": "https://api.github.com/repos/status-im/status-mobile/issues/5928/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-mobile/issues/5928/comments",
  "events_url": "https://api.github.com/repos/status-im/status-mobile/issues/5928/events",
  "html_url": "https://github.com/status-im/status-mobile/issues/5928",
  "id": 362312098,
  "node_id": "MDU6SXNzdWUzNjIzMTIwOTg=",
  "number": 5928,
  "title": "Makefile nitpicks for first-time compile on fedora28",
  "user": {
    "login": "arnetheduck",
    "id": 1382986,
    "node_id": "MDQ6VXNlcjEzODI5ODY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1382986?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/arnetheduck",
    "html_url": "https://github.com/arnetheduck",
    "followers_url": "https://api.github.com/users/arnetheduck/followers",
    "following_url": "https://api.github.com/users/arnetheduck/following{/other_user}",
    "gists_url": "https://api.github.com/users/arnetheduck/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/arnetheduck/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/arnetheduck/subscriptions",
    "organizations_url": "https://api.github.com/users/arnetheduck/orgs",
    "repos_url": "https://api.github.com/users/arnetheduck/repos",
    "events_url": "https://api.github.com/users/arnetheduck/events{/privacy}",
    "received_events_url": "https://api.github.com/users/arnetheduck/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2018-09-20T18:38:50Z",
  "updated_at": "2020-11-09T13:37:12Z",
  "closed_at": "2020-11-09T11:55:42Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "on 08c132c8a6f9209fae2fc08dac7cffe29c01e097, fedora 28, tried the makefile - here's an experience report:\n\n* `make setup` missing fedora support - mostly works with below patch (except a few package names being different that get skipped):\n\n```\ndiff --git a/scripts/lib/setup/packages.sh b/scripts/lib/setup/packages.sh\nindex 896068773..35e1b1342 100755\n--- a/scripts/lib/setup/packages.sh\n+++ b/scripts/lib/setup/packages.sh\n@@ -66,6 +66,8 @@ function linux_update() {\napt_update\nelif program_exists \"pacman\"; then\npacman_update\n+ elif program_exists \"dnf\"; then\n+ dnf_update\nelse\necho \"Unsupported Linux distro.\"\nexit 1;\n@@ -79,6 +81,8 @@ function linux_is_installed() {\napt_is_installed \"$@\"\nelif program_exists \"pacman\"; then\npacman_is_installed \"$@\"\n+ elif program_exists \"dnf\"; then\n+ dnf_is_installed \"$@\"\nelse\necho \"Unsupported Linux distro.\"\nexit 1;\n@@ -95,6 +99,8 @@ function linux_install() {\napt_install \"$@\"\nelif program_exists \"pacman\"; then\npacman_install \"$@\"\n+ elif program_exists \"dnf\"; then\n+ dnf_install \"$@\"\nelse\necho \"Unsupported Linux distro.\"\n\n\n+###############\n+# DNF\n+###############\n+\n+function dnf_update() {\n+ sudo dnf update\n+}\n+\n+function dnf_is_installed() {\n+ local package=$1\n+ dnf list --installed $package >/dev/null 2>&1\n+}\n+\n+function dnf_install() {\n+ local package=$1\n+\n+ if dnf_is_installed \"$package\"; then\n+ cecho \"+ $package already installed... skipping.\"\n+ else\n+ sudo dnf -y install \"$package\"\n+ fi\n+}\n+\n###############\n# RVM\n###############\n```\n\n* `make run-android` fails with cryptic message when `ANDROID_NDK_HOME` is different from `android/local.properties` - during the build process, it seems both are used without one overriding the other\n* `make run-android` fails when `make prepare-android` has not been run (dependency issue)\n* `make` prints a helpful message as to what the useful make targets are. these do not coincide with anything that https://docs.status.im/docs/build_status.html says. \"checkout-and-make\" is the norm for building stuff that has a makefile, so I'd say the docs printed are more useful than whatever docs.status.im has to say\n* bash tab completion is able to pick up `run-android` and a bunch of other useful targets - it doesn't find the targets mentioned in docs.status.im (`startdev-*` for example) - this makes it more difficult to use quickly\n\n```\n[arnetheduck@fugit status-react]$ make\nandroid-ports geth-connect prepare-android prod-build-android release run-android test watch-android-genymotion watch-ios-simulator\nclean help prepare-ios prod-build-ios release-android run-ios test-auto watch-android-real\nfull-prod-build prepare prod-build react-native release-ios setup watch-android-avd watch-ios-real\n```\n\nkudos @mandrigin and @yenda for helping out with wrinkles ;)\n\n<blockquote>![](https://status.im/img/og_logo.png)<div><strong>[Quick Start Â· Status Technikon](https://status.im/index.html)</strong></div><div>## The easiest way</div></blockquote>\n\n",
  "closed_by": {
    "login": "cammellos",
    "id": 1017008,
    "node_id": "MDQ6VXNlcjEwMTcwMDg=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1017008?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/cammellos",
    "html_url": "https://github.com/cammellos",
    "followers_url": "https://api.github.com/users/cammellos/followers",
    "following_url": "https://api.github.com/users/cammellos/following{/other_user}",
    "gists_url": "https://api.github.com/users/cammellos/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/cammellos/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/cammellos/subscriptions",
    "organizations_url": "https://api.github.com/users/cammellos/orgs",
    "repos_url": "https://api.github.com/users/cammellos/repos",
    "events_url": "https://api.github.com/users/cammellos/events{/privacy}",
    "received_events_url": "https://api.github.com/users/cammellos/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/5928/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-mobile/issues/5928/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/423315050",
    "html_url": "https://github.com/status-im/status-mobile/issues/5928#issuecomment-423315050",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/5928",
    "id": 423315050,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyMzMxNTA1MA==",
    "user": {
      "login": "yenda",
      "id": 1181225,
      "node_id": "MDQ6VXNlcjExODEyMjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1181225?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yenda",
      "html_url": "https://github.com/yenda",
      "followers_url": "https://api.github.com/users/yenda/followers",
      "following_url": "https://api.github.com/users/yenda/following{/other_user}",
      "gists_url": "https://api.github.com/users/yenda/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yenda/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yenda/subscriptions",
      "organizations_url": "https://api.github.com/users/yenda/orgs",
      "repos_url": "https://api.github.com/users/yenda/repos",
      "events_url": "https://api.github.com/users/yenda/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yenda/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-20T20:05:13Z",
    "updated_at": "2018-09-20T20:05:13Z",
    "author_association": "CONTRIBUTOR",
    "body": "I think it doesn't find the start-dev-* because they are not explicitly written in the file",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/423315050/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/448728271",
    "html_url": "https://github.com/status-im/status-mobile/issues/5928#issuecomment-448728271",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/5928",
    "id": 448728271,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0ODcyODI3MQ==",
    "user": {
      "login": "status-github-bot[bot]",
      "id": 35452227,
      "node_id": "MDM6Qm90MzU0NTIyMjc=",
      "avatar_url": "https://avatars.githubusercontent.com/in/8157?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/status-github-bot%5Bbot%5D",
      "html_url": "https://github.com/apps/status-github-bot",
      "followers_url": "https://api.github.com/users/status-github-bot%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/status-github-bot%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/status-github-bot%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/status-github-bot%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/status-github-bot%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/status-github-bot%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/status-github-bot%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/status-github-bot%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/status-github-bot%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2018-12-19T20:11:11Z",
    "updated_at": "2018-12-19T20:11:11Z",
    "author_association": "NONE",
    "body": "This issue has been automatically marked as stale because it has not had recent activity. It will be closed if no further activity occurs. Thank you for your contributions.\n",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/448728271/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/449541806",
    "html_url": "https://github.com/status-im/status-mobile/issues/5928#issuecomment-449541806",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/5928",
    "id": 449541806,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0OTU0MTgwNg==",
    "user": {
      "login": "oskarth",
      "id": 1552237,
      "node_id": "MDQ6VXNlcjE1NTIyMzc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1552237?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/oskarth",
      "html_url": "https://github.com/oskarth",
      "followers_url": "https://api.github.com/users/oskarth/followers",
      "following_url": "https://api.github.com/users/oskarth/following{/other_user}",
      "gists_url": "https://api.github.com/users/oskarth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/oskarth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/oskarth/subscriptions",
      "organizations_url": "https://api.github.com/users/oskarth/orgs",
      "repos_url": "https://api.github.com/users/oskarth/repos",
      "events_url": "https://api.github.com/users/oskarth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/oskarth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-12-22T03:29:02Z",
    "updated_at": "2018-12-22T03:29:02Z",
    "author_association": "CONTRIBUTOR",
    "body": "Still relevant probably. Candidate for bounty? At least blocking subset",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/449541806/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/472835018",
    "html_url": "https://github.com/status-im/status-mobile/issues/5928#issuecomment-472835018",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/5928",
    "id": 472835018,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3MjgzNTAxOA==",
    "user": {
      "login": "pedropombeiro",
      "id": 138074,
      "node_id": "MDQ6VXNlcjEzODA3NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/138074?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pedropombeiro",
      "html_url": "https://github.com/pedropombeiro",
      "followers_url": "https://api.github.com/users/pedropombeiro/followers",
      "following_url": "https://api.github.com/users/pedropombeiro/following{/other_user}",
      "gists_url": "https://api.github.com/users/pedropombeiro/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pedropombeiro/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pedropombeiro/subscriptions",
      "organizations_url": "https://api.github.com/users/pedropombeiro/orgs",
      "repos_url": "https://api.github.com/users/pedropombeiro/repos",
      "events_url": "https://api.github.com/users/pedropombeiro/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pedropombeiro/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-14T12:38:35Z",
    "updated_at": "2019-03-14T12:38:35Z",
    "author_association": "CONTRIBUTOR",
    "body": "@arnetheduck have you tried the feature/nix branch yet? Hopefully, we can close this after the branch is merged.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/472835018/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/472835305",
    "html_url": "https://github.com/status-im/status-mobile/issues/5928#issuecomment-472835305",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/5928",
    "id": 472835305,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3MjgzNTMwNQ==",
    "user": {
      "login": "pedropombeiro",
      "id": 138074,
      "node_id": "MDQ6VXNlcjEzODA3NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/138074?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pedropombeiro",
      "html_url": "https://github.com/pedropombeiro",
      "followers_url": "https://api.github.com/users/pedropombeiro/followers",
      "following_url": "https://api.github.com/users/pedropombeiro/following{/other_user}",
      "gists_url": "https://api.github.com/users/pedropombeiro/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pedropombeiro/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pedropombeiro/subscriptions",
      "organizations_url": "https://api.github.com/users/pedropombeiro/orgs",
      "repos_url": "https://api.github.com/users/pedropombeiro/repos",
      "events_url": "https://api.github.com/users/pedropombeiro/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pedropombeiro/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-14T12:39:33Z",
    "updated_at": "2019-03-14T12:39:33Z",
    "author_association": "CONTRIBUTOR",
    "body": "Regarding bash tab completion I had already fixed that maybe a couple months back.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/472835305/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
