{
  "url": "https://api.github.com/repos/status-im/status-mobile/issues/7133",
  "repository_url": "https://api.github.com/repos/status-im/status-mobile",
  "labels_url": "https://api.github.com/repos/status-im/status-mobile/issues/7133/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-mobile/issues/7133/comments",
  "events_url": "https://api.github.com/repos/status-im/status-mobile/issues/7133/events",
  "html_url": "https://github.com/status-im/status-mobile/issues/7133",
  "id": 392171260,
  "node_id": "MDU6SXNzdWUzOTIxNzEyNjA=",
  "number": 7133,
  "title": "Sign transaction with Keycard",
  "user": {
    "login": "dmitryn",
    "id": 23836,
    "node_id": "MDQ6VXNlcjIzODM2",
    "avatar_url": "https://avatars.githubusercontent.com/u/23836?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/dmitryn",
    "html_url": "https://github.com/dmitryn",
    "followers_url": "https://api.github.com/users/dmitryn/followers",
    "following_url": "https://api.github.com/users/dmitryn/following{/other_user}",
    "gists_url": "https://api.github.com/users/dmitryn/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/dmitryn/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/dmitryn/subscriptions",
    "organizations_url": "https://api.github.com/users/dmitryn/orgs",
    "repos_url": "https://api.github.com/users/dmitryn/repos",
    "events_url": "https://api.github.com/users/dmitryn/events{/privacy}",
    "received_events_url": "https://api.github.com/users/dmitryn/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 691030971,
      "node_id": "MDU6TGFiZWw2OTEwMzA5NzE=",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/wallet",
      "name": "wallet",
      "color": "1d76db",
      "default": false,
      "description": null
    },
    {
      "id": 1055506461,
      "node_id": "MDU6TGFiZWwxMDU1NTA2NDYx",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/keycard",
      "name": "keycard",
      "color": "4360df",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2018-12-18T14:05:22Z",
  "updated_at": "2019-05-20T19:49:47Z",
  "closed_at": "2019-04-02T15:08:01Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "# Problem\n\nIt's not possible to sign transaction with Keycard\n\n# Implementation\n\nTBD\n\nScreens https://www.figma.com/file/UfQjpWl1hmRchHIyY3Wvu2nW/Hardwallet-light-flows?node-id=0%3A1\n\n# Acceptance Criteria\n\nIt should be possible to sign wallet transaction with Keycard \n\n<img width=\"995\" alt=\"screenshot 2018-12-18 17 05 11\" src=\"https://user-images.githubusercontent.com/23836/50159170-17b5c480-02e7-11e9-918c-abd0fa56b6ba.png\">\n\n\n\n<blockquote><img src=\"/file/UfQjpWl1hmRchHIyY3Wvu2nW/thumbnail?ver=thumbnails/e59ee715-babe-4094-b5cd-6967dc112d3a\" width=\"48\" align=\"right\"><div><img src=\"https://static.figma.com/app/icon/1/favicon.svg\" height=\"14\"> Figma</div><div><strong><a href=\"https://www.figma.com/file/UfQjpWl1hmRchHIyY3Wvu2nW/Hardwallet-light-flows\">Figma</a></strong></div><div>Created with Figma</div></blockquote>",
  "closed_by": {
    "login": "dmitryn",
    "id": 23836,
    "node_id": "MDQ6VXNlcjIzODM2",
    "avatar_url": "https://avatars.githubusercontent.com/u/23836?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/dmitryn",
    "html_url": "https://github.com/dmitryn",
    "followers_url": "https://api.github.com/users/dmitryn/followers",
    "following_url": "https://api.github.com/users/dmitryn/following{/other_user}",
    "gists_url": "https://api.github.com/users/dmitryn/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/dmitryn/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/dmitryn/subscriptions",
    "organizations_url": "https://api.github.com/users/dmitryn/orgs",
    "repos_url": "https://api.github.com/users/dmitryn/repos",
    "events_url": "https://api.github.com/users/dmitryn/events{/privacy}",
    "received_events_url": "https://api.github.com/users/dmitryn/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/7133/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-mobile/issues/7133/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/458163995",
    "html_url": "https://github.com/status-im/status-mobile/issues/7133#issuecomment-458163995",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/7133",
    "id": 458163995,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1ODE2Mzk5NQ==",
    "user": {
      "login": "dmitryn",
      "id": 23836,
      "node_id": "MDQ6VXNlcjIzODM2",
      "avatar_url": "https://avatars.githubusercontent.com/u/23836?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dmitryn",
      "html_url": "https://github.com/dmitryn",
      "followers_url": "https://api.github.com/users/dmitryn/followers",
      "following_url": "https://api.github.com/users/dmitryn/following{/other_user}",
      "gists_url": "https://api.github.com/users/dmitryn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dmitryn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dmitryn/subscriptions",
      "organizations_url": "https://api.github.com/users/dmitryn/orgs",
      "repos_url": "https://api.github.com/users/dmitryn/repos",
      "events_url": "https://api.github.com/users/dmitryn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dmitryn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-28T14:58:25Z",
    "updated_at": "2019-01-28T14:58:33Z",
    "author_association": "CONTRIBUTOR",
    "body": "@goranjovic \r\n\r\nCurrent version of react-native-status-keycard is 2.3.2.\r\nYou could see how other keycard SDK methods are implemented here: \r\nhttps://github.com/status-im/react-native-status-keycard/blob/v2.3.2/android/src/main/java/im/status/ethereum/keycard/RNStatusKeycardModule.java\r\n\r\nSDK docs: https://status-im.github.io/keycard.status.im/api/sdk_derivation_sign.html#Signing\r\n\r\nPIN screen is already implemented: https://github.com/status-im/status-react/blob/develop/src/status_im/ui/screens/hardwallet/pin/views.cljs#L70\r\n\r\nHold card animation is here: https://github.com/status-im/status-react/blob/develop/src/status_im/react_native/resources.cljs#L72\r\n\r\nYou also need to HARDWALLET_ENABLED to 1 in `.env` to start working with keycard.\r\n\r\nUntil keycard login is ready, you need to create 2 accounts: keycard account and regular account with password. Then you need to login with regular account.\n\n<blockquote><img src=\"https://avatars3.githubusercontent.com/u/11767950?s=400&v=4\" width=\"48\" align=\"right\"><div><img src=\"https://github.githubassets.com/favicon.ico\" height=\"14\"> GitHub</div><div><strong><a href=\"https://github.com/status-im/react-native-status-keycard\">status-im/react-native-status-keycard</a></strong></div><div>React Native library to interact with Status Keycard using NFC connection (Android only) - status-im/react-native-status-keycard</div></blockquote>\n<blockquote><div><strong><a href=\"https://status-im.github.io/keycard.status.im/api/sdk_derivation_sign.html#Signing\">Status Incubate: helping #buidl web3</a></strong></div></blockquote>\n<blockquote><img src=\"https://avatars3.githubusercontent.com/u/11767950?s=400&v=4\" width=\"48\" align=\"right\"><div><img src=\"https://github.githubassets.com/favicon.ico\" height=\"14\"> GitHub</div><div><strong><a href=\"https://github.com/status-im/status-react\">status-im/status-react</a></strong></div><div>a free (libre) open source, mobile OS for Ethereum - status-im/status-react</div></blockquote>\n<blockquote><img src=\"https://avatars3.githubusercontent.com/u/11767950?s=400&v=4\" width=\"48\" align=\"right\"><div><img src=\"https://github.githubassets.com/favicon.ico\" height=\"14\"> GitHub</div><div><strong><a href=\"https://github.com/status-im/status-react\">status-im/status-react</a></strong></div><div>a free (libre) open source, mobile OS for Ethereum - status-im/status-react</div></blockquote>",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/458163995/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/458239536",
    "html_url": "https://github.com/status-im/status-mobile/issues/7133#issuecomment-458239536",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/7133",
    "id": 458239536,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1ODIzOTUzNg==",
    "user": {
      "login": "dmitryn",
      "id": 23836,
      "node_id": "MDQ6VXNlcjIzODM2",
      "avatar_url": "https://avatars.githubusercontent.com/u/23836?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dmitryn",
      "html_url": "https://github.com/dmitryn",
      "followers_url": "https://api.github.com/users/dmitryn/followers",
      "following_url": "https://api.github.com/users/dmitryn/following{/other_user}",
      "gists_url": "https://api.github.com/users/dmitryn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dmitryn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dmitryn/subscriptions",
      "organizations_url": "https://api.github.com/users/dmitryn/orgs",
      "repos_url": "https://api.github.com/users/dmitryn/repos",
      "events_url": "https://api.github.com/users/dmitryn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dmitryn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-28T18:09:22Z",
    "updated_at": "2019-01-28T18:09:23Z",
    "author_association": "CONTRIBUTOR",
    "body": "@goranjovic Also, it might be useful to read these guides\r\nhttps://github.com/status-im/status-keycard/blob/master/UX_NOTES.md\r\nhttps://github.com/status-im/status-keycard/blob/master/CLIENT_NOTES.md\n\n<blockquote><img src=\"https://avatars3.githubusercontent.com/u/11767950?s=400&v=4\" width=\"48\" align=\"right\"><div><img src=\"https://github.githubassets.com/favicon.ico\" height=\"14\"> GitHub</div><div><strong><a href=\"https://github.com/status-im/status-keycard\">status-im/status-keycard</a></strong></div><div>Our Javacard Implementation for making secure transactions within Status and Ethereum - status-im/status-keycard</div></blockquote>\n<blockquote><img src=\"https://avatars3.githubusercontent.com/u/11767950?s=400&v=4\" width=\"48\" align=\"right\"><div><img src=\"https://github.githubassets.com/favicon.ico\" height=\"14\"> GitHub</div><div><strong><a href=\"https://github.com/status-im/status-keycard\">status-im/status-keycard</a></strong></div><div>Our Javacard Implementation for making secure transactions within Status and Ethereum - status-im/status-keycard</div></blockquote>",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/458239536/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/465996565",
    "html_url": "https://github.com/status-im/status-mobile/issues/7133#issuecomment-465996565",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/7133",
    "id": 465996565,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2NTk5NjU2NQ==",
    "user": {
      "login": "gravityblast",
      "id": 1059,
      "node_id": "MDQ6VXNlcjEwNTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1059?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/gravityblast",
      "html_url": "https://github.com/gravityblast",
      "followers_url": "https://api.github.com/users/gravityblast/followers",
      "following_url": "https://api.github.com/users/gravityblast/following{/other_user}",
      "gists_url": "https://api.github.com/users/gravityblast/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/gravityblast/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/gravityblast/subscriptions",
      "organizations_url": "https://api.github.com/users/gravityblast/orgs",
      "repos_url": "https://api.github.com/users/gravityblast/repos",
      "events_url": "https://api.github.com/users/gravityblast/events{/privacy}",
      "received_events_url": "https://api.github.com/users/gravityblast/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-21T13:19:42Z",
    "updated_at": "2019-02-21T13:19:42Z",
    "author_association": "MEMBER",
    "body": "@dmitryn @goranjovic \r\n\r\nI'm adding here some documentation on how to interact with `status-go`.\r\n\r\n`status-react` should:\r\n\r\n1 - build the transaction \"object\" that usually sends to `sendTransaction`\r\n\r\n2 - call `HashTransaction` in `status-go` [(code)](https://github.com/status-im/status-go/blob/develop/lib/library.go#L431). This function will return:\r\n```\r\n{\r\n  \"transaction\": {\r\n    ...\r\n  }, \r\n  \"hash\": \"0x...\"\r\n}\r\n```\r\n\r\nThe `transaction` in the response contains the transaction sent at step 1 with the right nonce, gasPrice, and gas.\r\n`hash` is the tx hash that we need to send to the keycard.\r\n\r\n3 - send the transaction hash to the keycard. The keycard will return the signature.\r\n\r\n4 - call `SendTransactionWithSignature ` [(code)](https://github.com/status-im/status-go/blob/develop/lib/library.go#L409) passing the tx received at step 2 and the hash received at step 3.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/465996565/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
