{
  "url": "https://api.github.com/repos/status-im/status-mobile/issues/8264",
  "repository_url": "https://api.github.com/repos/status-im/status-mobile",
  "labels_url": "https://api.github.com/repos/status-im/status-mobile/issues/8264/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-mobile/issues/8264/comments",
  "events_url": "https://api.github.com/repos/status-im/status-mobile/issues/8264/events",
  "html_url": "https://github.com/status-im/status-mobile/issues/8264",
  "id": 447211439,
  "node_id": "MDU6SXNzdWU0NDcyMTE0Mzk=",
  "number": 8264,
  "title": "Migrate stateofus.eth to new ENS registrar",
  "user": {
    "login": "rachelhamlin",
    "id": 15470435,
    "node_id": "MDQ6VXNlcjE1NDcwNDM1",
    "avatar_url": "https://avatars.githubusercontent.com/u/15470435?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/rachelhamlin",
    "html_url": "https://github.com/rachelhamlin",
    "followers_url": "https://api.github.com/users/rachelhamlin/followers",
    "following_url": "https://api.github.com/users/rachelhamlin/following{/other_user}",
    "gists_url": "https://api.github.com/users/rachelhamlin/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/rachelhamlin/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/rachelhamlin/subscriptions",
    "organizations_url": "https://api.github.com/users/rachelhamlin/orgs",
    "repos_url": "https://api.github.com/users/rachelhamlin/repos",
    "events_url": "https://api.github.com/users/rachelhamlin/events{/privacy}",
    "received_events_url": "https://api.github.com/users/rachelhamlin/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 12,
  "created_at": "2019-05-22T15:43:12Z",
  "updated_at": "2020-09-28T09:44:08Z",
  "closed_at": "2020-09-28T09:44:08Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "### Description\n*Summary*: `stateofus.eth` must be [migrated to the new ENS registrar](https://medium.com/the-ethereum-name-service/step-by-step-guide-to-migrating-your-eth-name-to-the-new-ens-registrar-5314431e22f2). \n\nSkeleton issue for now; we should be able to use the [ENS manager](https://manager.ens.domains/) interface to migrate.",
  "closed_by": {
    "login": "cammellos",
    "id": 1017008,
    "node_id": "MDQ6VXNlcjEwMTcwMDg=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1017008?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/cammellos",
    "html_url": "https://github.com/cammellos",
    "followers_url": "https://api.github.com/users/cammellos/followers",
    "following_url": "https://api.github.com/users/cammellos/following{/other_user}",
    "gists_url": "https://api.github.com/users/cammellos/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/cammellos/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/cammellos/subscriptions",
    "organizations_url": "https://api.github.com/users/cammellos/orgs",
    "repos_url": "https://api.github.com/users/cammellos/repos",
    "events_url": "https://api.github.com/users/cammellos/events{/privacy}",
    "received_events_url": "https://api.github.com/users/cammellos/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/8264/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-mobile/issues/8264/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/495015795",
    "html_url": "https://github.com/status-im/status-mobile/issues/8264#issuecomment-495015795",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/8264",
    "id": 495015795,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5NTAxNTc5NQ==",
    "user": {
      "login": "3esmit",
      "id": 224810,
      "node_id": "MDQ6VXNlcjIyNDgxMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/224810?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/3esmit",
      "html_url": "https://github.com/3esmit",
      "followers_url": "https://api.github.com/users/3esmit/followers",
      "following_url": "https://api.github.com/users/3esmit/following{/other_user}",
      "gists_url": "https://api.github.com/users/3esmit/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/3esmit/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/3esmit/subscriptions",
      "organizations_url": "https://api.github.com/users/3esmit/orgs",
      "repos_url": "https://api.github.com/users/3esmit/repos",
      "events_url": "https://api.github.com/users/3esmit/events{/privacy}",
      "received_events_url": "https://api.github.com/users/3esmit/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-22T23:50:37Z",
    "updated_at": "2019-05-22T23:50:37Z",
    "author_association": "MEMBER",
    "body": "This is a very delicated process, because the domain is held by a contract which dont knows anything about new ENS registrar, and also dont have a default function (needed for migration).\r\nThe good news is that ENSUsernames allow migration, and therefore the transfer of the ownership of stateofus.eth to a new address. \r\n\r\nRegarding suggestions from ENS Team, they suggest the ENS domain to be transferred to an EOA to perform safely the migration.\r\nTo do that, we will need to execute the migration of the contract to an intermediary disposable contract which only role is to give up ENS Username to an EOA. The EOA would make the necessary transactions and deploy a new ENS Username Registry.\r\n\r\nWhile old users will not be affected, while this migration is happening the service will be unavailable.\r\n\r\nOld users will remain under older smart contract terms, where in case of migration, if user wants, funds can be withdrawn by releasing the username without having to wait 1 year.\r\n\r\nNew registrations will take place in the new deployed contract. \r\n\r\nThe deploy of a new smart contract might open possibilities of  new functionalities, updated usernames reserved list, or a completly new contract. \r\n\r\n@corpetty You might be interested in this issue.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/495015795/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/495117173",
    "html_url": "https://github.com/status-im/status-mobile/issues/8264#issuecomment-495117173",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/8264",
    "id": 495117173,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5NTExNzE3Mw==",
    "user": {
      "login": "rachelhamlin",
      "id": 15470435,
      "node_id": "MDQ6VXNlcjE1NDcwNDM1",
      "avatar_url": "https://avatars.githubusercontent.com/u/15470435?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rachelhamlin",
      "html_url": "https://github.com/rachelhamlin",
      "followers_url": "https://api.github.com/users/rachelhamlin/followers",
      "following_url": "https://api.github.com/users/rachelhamlin/following{/other_user}",
      "gists_url": "https://api.github.com/users/rachelhamlin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rachelhamlin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rachelhamlin/subscriptions",
      "organizations_url": "https://api.github.com/users/rachelhamlin/orgs",
      "repos_url": "https://api.github.com/users/rachelhamlin/repos",
      "events_url": "https://api.github.com/users/rachelhamlin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rachelhamlin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-23T08:20:49Z",
    "updated_at": "2019-05-23T08:20:49Z",
    "author_association": "CONTRIBUTOR",
    "body": "Thanks for the information @3esmit.\r\n\r\nA few questions so I understand properly:\r\n\r\n- Who will own or control the EOA?\r\n- How long might the migration from current contract to disposable to EOA might take, once initiated?\r\n- By `the service will be unavailable`, do you mean no new registration will be possible?\r\n\r\nWe do not currently have a flow designed for releasing a username. \r\n\r\nThis is mandatory under our contract terms, and in my opinion, must then be available before our security audit code freeze. We might have to reprioritise some of our current work to accommodate it.\r\n\r\ncc @hesterbruikman @oskarth - I'll set up a call to discuss, would you like to participate?",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/495117173/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/495118440",
    "html_url": "https://github.com/status-im/status-mobile/issues/8264#issuecomment-495118440",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/8264",
    "id": 495118440,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5NTExODQ0MA==",
    "user": {
      "login": "hesterbruikman",
      "id": 35233054,
      "node_id": "MDQ6VXNlcjM1MjMzMDU0",
      "avatar_url": "https://avatars.githubusercontent.com/u/35233054?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hesterbruikman",
      "html_url": "https://github.com/hesterbruikman",
      "followers_url": "https://api.github.com/users/hesterbruikman/followers",
      "following_url": "https://api.github.com/users/hesterbruikman/following{/other_user}",
      "gists_url": "https://api.github.com/users/hesterbruikman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hesterbruikman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hesterbruikman/subscriptions",
      "organizations_url": "https://api.github.com/users/hesterbruikman/orgs",
      "repos_url": "https://api.github.com/users/hesterbruikman/repos",
      "events_url": "https://api.github.com/users/hesterbruikman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hesterbruikman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-23T08:24:32Z",
    "updated_at": "2019-05-23T08:24:32Z",
    "author_association": "COLLABORATOR",
    "body": "> cc @hesterbruikman @oskarth - I'll set up a call to discuss, would you like to participate?\r\n\r\nYes, but don't wait on my account. Have a few days off next week and wouldn't want to delay scheduling.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/495118440/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/495165343",
    "html_url": "https://github.com/status-im/status-mobile/issues/8264#issuecomment-495165343",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/8264",
    "id": 495165343,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5NTE2NTM0Mw==",
    "user": {
      "login": "oskarth",
      "id": 1552237,
      "node_id": "MDQ6VXNlcjE1NTIyMzc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1552237?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/oskarth",
      "html_url": "https://github.com/oskarth",
      "followers_url": "https://api.github.com/users/oskarth/followers",
      "following_url": "https://api.github.com/users/oskarth/following{/other_user}",
      "gists_url": "https://api.github.com/users/oskarth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/oskarth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/oskarth/subscriptions",
      "organizations_url": "https://api.github.com/users/oskarth/orgs",
      "repos_url": "https://api.github.com/users/oskarth/repos",
      "events_url": "https://api.github.com/users/oskarth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/oskarth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-23T10:36:58Z",
    "updated_at": "2019-05-23T10:36:58Z",
    "author_association": "CONTRIBUTOR",
    "body": "Ditto what Hester said, I'm busy his tweek and next with Swarm summit etc.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/495165343/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/495651362",
    "html_url": "https://github.com/status-im/status-mobile/issues/8264#issuecomment-495651362",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/8264",
    "id": 495651362,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5NTY1MTM2Mg==",
    "user": {
      "login": "rachelhamlin",
      "id": 15470435,
      "node_id": "MDQ6VXNlcjE1NDcwNDM1",
      "avatar_url": "https://avatars.githubusercontent.com/u/15470435?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rachelhamlin",
      "html_url": "https://github.com/rachelhamlin",
      "followers_url": "https://api.github.com/users/rachelhamlin/followers",
      "following_url": "https://api.github.com/users/rachelhamlin/following{/other_user}",
      "gists_url": "https://api.github.com/users/rachelhamlin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rachelhamlin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rachelhamlin/subscriptions",
      "organizations_url": "https://api.github.com/users/rachelhamlin/orgs",
      "repos_url": "https://api.github.com/users/rachelhamlin/repos",
      "events_url": "https://api.github.com/users/rachelhamlin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rachelhamlin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-24T14:22:19Z",
    "updated_at": "2019-05-24T14:22:41Z",
    "author_association": "CONTRIBUTOR",
    "body": "Top line from the call we just had:\r\n\r\nThis is a relatively non-invasive change. With participation from the multisig holders, Ricardo can make the migration happen within 1 week. \r\n\r\nWe just need to figure out the security process around it. How extensive of a review will the migrated contract need to undergo? \r\n\r\nRelease readiness depends on three things:\r\n- Security process completed\r\n- Contract address changed where referenced in status-react (e.g. new registration flow)\r\n- Simple web DApp available for registrants of the old contract, enabling them to release their name as per the terms & conditions + comms plan about this\r\n\r\n@corpetty can you weigh in on the audit process for a change like this one? ",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/495651362/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/496702745",
    "html_url": "https://github.com/status-im/status-mobile/issues/8264#issuecomment-496702745",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/8264",
    "id": 496702745,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5NjcwMjc0NQ==",
    "user": {
      "login": "corpetty",
      "id": 2460145,
      "node_id": "MDQ6VXNlcjI0NjAxNDU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2460145?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/corpetty",
      "html_url": "https://github.com/corpetty",
      "followers_url": "https://api.github.com/users/corpetty/followers",
      "following_url": "https://api.github.com/users/corpetty/following{/other_user}",
      "gists_url": "https://api.github.com/users/corpetty/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/corpetty/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/corpetty/subscriptions",
      "organizations_url": "https://api.github.com/users/corpetty/orgs",
      "repos_url": "https://api.github.com/users/corpetty/repos",
      "events_url": "https://api.github.com/users/corpetty/events{/privacy}",
      "received_events_url": "https://api.github.com/users/corpetty/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-28T21:48:12Z",
    "updated_at": "2019-05-28T21:48:12Z",
    "author_association": "CONTRIBUTOR",
    "body": "audit process is dependent upon the extent of the changes.  @3esmit I need to know exactly how extensive the changes are, and what they are.  If it is more than a little above trivial, it would be worth contracting Sigma Prime to overview the contract changes as they did the original audit. \r\n\r\nIf it isn't that much, then we can get ToB to look the changes over once done to sign off on deployment barring any obvious issues. ",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/496702745/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/497516030",
    "html_url": "https://github.com/status-im/status-mobile/issues/8264#issuecomment-497516030",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/8264",
    "id": 497516030,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5NzUxNjAzMA==",
    "user": {
      "login": "3esmit",
      "id": 224810,
      "node_id": "MDQ6VXNlcjIyNDgxMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/224810?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/3esmit",
      "html_url": "https://github.com/3esmit",
      "followers_url": "https://api.github.com/users/3esmit/followers",
      "following_url": "https://api.github.com/users/3esmit/following{/other_user}",
      "gists_url": "https://api.github.com/users/3esmit/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/3esmit/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/3esmit/subscriptions",
      "organizations_url": "https://api.github.com/users/3esmit/orgs",
      "repos_url": "https://api.github.com/users/3esmit/repos",
      "events_url": "https://api.github.com/users/3esmit/events{/privacy}",
      "received_events_url": "https://api.github.com/users/3esmit/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-30T23:03:54Z",
    "updated_at": "2019-05-30T23:03:54Z",
    "author_association": "MEMBER",
    "body": "I created the contract for migration:\r\nhttps://github.com/status-im/ens-usernames/blob/new-ens-migrate/contracts/registry/RegistrarMigration.sol\r\n\r\nand its test spec:\r\nhttps://github.com/status-im/ens-usernames/blob/new-ens-migrate/test/registrarmigration.spec.js\r\n\r\nThe RegistrarMigration.sol is very simple, when it receives the ENS Node from UsernameRegistrar it automatically transfers it to the controller of the domain. \r\nAfter this is done, the controller manually calls the migration and sends the ENS domain to a new ENS Usernames contract.\r\n\r\nI could handle the process more trustless by instead of transferrign to controller, calling the migration of the ens node, and then automatically migrating and activating the new registry.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/497516030/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/497546363",
    "html_url": "https://github.com/status-im/status-mobile/issues/8264#issuecomment-497546363",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/8264",
    "id": 497546363,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5NzU0NjM2Mw==",
    "user": {
      "login": "3esmit",
      "id": 224810,
      "node_id": "MDQ6VXNlcjIyNDgxMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/224810?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/3esmit",
      "html_url": "https://github.com/3esmit",
      "followers_url": "https://api.github.com/users/3esmit/followers",
      "following_url": "https://api.github.com/users/3esmit/following{/other_user}",
      "gists_url": "https://api.github.com/users/3esmit/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/3esmit/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/3esmit/subscriptions",
      "organizations_url": "https://api.github.com/users/3esmit/orgs",
      "repos_url": "https://api.github.com/users/3esmit/repos",
      "events_url": "https://api.github.com/users/3esmit/events{/privacy}",
      "received_events_url": "https://api.github.com/users/3esmit/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-31T01:52:56Z",
    "updated_at": "2019-05-31T01:53:44Z",
    "author_association": "MEMBER",
    "body": "@corpetty\r\n\r\nThe Migration contract don't require extensive audit https://github.com/status-im/ens-usernames/blob/new-ens-migrate/contracts/registry/RegistrarMigration.sol because it wont hold any assets. Also, the contract is too dumb to be unsafe, it simply does one thing, that is transfer to controller the ens node coming from a specific contract, in this case, the ENS Username Registrar. It also contains a escape hatch `execute function` that allows controller to execute anything in behalf of that contract.\r\n\r\nThe UsernameRegistrar.sol will use an updated solidity compiler. This changes can be reviewed in this commit https://github.com/status-im/ens-usernames/pull/99/commits/ead468714efa2adf7bebef5ba26b7954f04a18cd#diff-dbff1e6b987cbb9a6b87ea8180c41e72\r\nNotice that all changes in this commit are done to update to the new solidity version. \r\nAnd also other small fixes about using new features, such as `.selector`, when possible:\r\nhttps://github.com/status-im/ens-usernames/commit/6369b587c14a0b8398ccfebff172d23fe85f0c90#diff-dbff1e6b987cbb9a6b87ea8180c41e72\r\nKeep track of the full history here https://github.com/status-im/ens-usernames/commits/new-ens-migrate/contracts/registry/UsernameRegistrar.sol\r\n\r\nIf we have time to do this change, we can think better what to change, if there is something to. \r\nThe migration process of UsernameRegistrar is the only condition where usernames can be removed/overtaken, this process looks like a \"Hard Fork\", however we are conducting it behind trust of Status Contributors, trough a Multisig Wallet, which currently controls UsernameRegistrar. The process will look more like a hardfork once a DAO controls the UsernameRegistrar. \r\n\r\nThis are the detailed steps to be taken, in case we use a manual migration:\r\n\r\n1. Deploy RegistrarMigration.sol init with ENS address, stateofus.eth ensNode and parentRegistry address from a EOA owned by me;\r\n2. Submit a `MultiSigWallet.methods.sendTransaction(UsernameRegistar.address,0, UsernameRegistrar.methods.moveRegistry(RegistrarMigration.address).encodeAbi())`;\r\n3. Wait for approval from more 2 signers of MultiSigWallet;\r\n4. Navigate to https://manager.ens.domains/ and press the button;\r\n5. Deploy new UsernameRegistar.sol and set controller to MultiSigWallet;\r\n6. Transfer ENS domain to new UsernameRegistrar;\r\n7. Submit a `MultiSigWallet.methods.sendTransaction(NewUsernameRegistar.address,0, NewUsernameRegistrar.methods.activate('10000000000000000000').encodeAbi())`;\r\n8. Wait for approval from more 2 signers of MultiSigWallet.\r\n\r\nIf thats the case I will take over the domain, conduct the migration from my personal EOA and deploy a new UsernameRegistrar.sol.\r\n\r\n\r\nThere is also the option of automating the migration in the Migration contract. This will make a more complex contract to audit, but will be more trustless. I'm working in this version of the contract as well.\r\n1. Deploy the new UsernameRegistrar setting controller as MultiSigWallet;\r\n2. Deploy a RegistrarMigration defining the ENS address, stateofus.eth node hash, oldUsernameRegistrar address, newUsernameRegistrar address;\r\n3. Submit a `MultiSigWallet.methods.sendTransaction(UsernameRegistar.address,0, UsernameRegistrar.methods.moveRegistry(RegistrarMigration.address).encodeAbi())`;\r\n4. Wait for approval from more 2 signers of MultiSigWallet;\r\n5. Submit a `MultiSigWallet.methods.sendTransaction(NewUsernameRegistar.address,0, NewUsernameRegistrar.methods.activate('10000000000000000000').encodeAbi())`;\r\n6. Wait for approval from more 2 signers of MultiSigWallet.\r\n\r\n\r\nIf \r\na) the new contract is changed to already have encoded the 10 SNT price, or pass it in constructor, \r\nb) and assume the contract is live as long it owns the ens node stateofus.eth\r\n= then step ` Submit a MultiSigWallet.methods.sendTransaction(NewUsernameRegistar.address,0, NewUsernameRegistrar.methods.activate('10000000000000000000').encodeAbi())` and its subsequent approval can be removed from the steps.\r\n\r\nThis all can be tested in Ropsten aswell, before going mainnet.\r\nRopsten UsernameRegistrar https://ropsten.etherscan.io/address/0x11d9F481effd20D76cEE832559bd9Aca25405841#contracts \r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/497546363/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/577608039",
    "html_url": "https://github.com/status-im/status-mobile/issues/8264#issuecomment-577608039",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/8264",
    "id": 577608039,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3NzYwODAzOQ==",
    "user": {
      "login": "rachelhamlin",
      "id": 15470435,
      "node_id": "MDQ6VXNlcjE1NDcwNDM1",
      "avatar_url": "https://avatars.githubusercontent.com/u/15470435?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rachelhamlin",
      "html_url": "https://github.com/rachelhamlin",
      "followers_url": "https://api.github.com/users/rachelhamlin/followers",
      "following_url": "https://api.github.com/users/rachelhamlin/following{/other_user}",
      "gists_url": "https://api.github.com/users/rachelhamlin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rachelhamlin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rachelhamlin/subscriptions",
      "organizations_url": "https://api.github.com/users/rachelhamlin/orgs",
      "repos_url": "https://api.github.com/users/rachelhamlin/repos",
      "events_url": "https://api.github.com/users/rachelhamlin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rachelhamlin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-01-23T09:55:18Z",
    "updated_at": "2020-01-23T09:55:18Z",
    "author_association": "CONTRIBUTOR",
    "body": "Discussed with @3esmit. We are going to make one change to the contract, which is to allow for the list of reserved usernames to be changed only by an operator address. This operator address can be democratically controlled by SNT holders. \r\n\r\nPresently, Status has free reign to alter reserved names at any point.\r\n\r\nWe need to 1) sort out the level of scrutiny this requires with @corpetty, and 2) determine what is required to switch to the new contract in status-react, and if users require heads up of any down time.\r\n\r\nWe have until May 4, 2020 to be compliant with ENS' changes.\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/577608039/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/668717915",
    "html_url": "https://github.com/status-im/status-mobile/issues/8264#issuecomment-668717915",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/8264",
    "id": 668717915,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2ODcxNzkxNQ==",
    "user": {
      "login": "hesterbruikman",
      "id": 35233054,
      "node_id": "MDQ6VXNlcjM1MjMzMDU0",
      "avatar_url": "https://avatars.githubusercontent.com/u/35233054?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hesterbruikman",
      "html_url": "https://github.com/hesterbruikman",
      "followers_url": "https://api.github.com/users/hesterbruikman/followers",
      "following_url": "https://api.github.com/users/hesterbruikman/following{/other_user}",
      "gists_url": "https://api.github.com/users/hesterbruikman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hesterbruikman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hesterbruikman/subscriptions",
      "organizations_url": "https://api.github.com/users/hesterbruikman/orgs",
      "repos_url": "https://api.github.com/users/hesterbruikman/repos",
      "events_url": "https://api.github.com/users/hesterbruikman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hesterbruikman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-04T17:10:12Z",
    "updated_at": "2020-08-04T17:10:12Z",
    "author_association": "COLLABORATOR",
    "body": "How is this going @3esmit? I believe @0kok0 was working on a review of the contract changes. Are any updates required as a result of that review?",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/668717915/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/668719783",
    "html_url": "https://github.com/status-im/status-mobile/issues/8264#issuecomment-668719783",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/8264",
    "id": 668719783,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2ODcxOTc4Mw==",
    "user": {
      "login": "3esmit",
      "id": 224810,
      "node_id": "MDQ6VXNlcjIyNDgxMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/224810?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/3esmit",
      "html_url": "https://github.com/3esmit",
      "followers_url": "https://api.github.com/users/3esmit/followers",
      "following_url": "https://api.github.com/users/3esmit/following{/other_user}",
      "gists_url": "https://api.github.com/users/3esmit/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/3esmit/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/3esmit/subscriptions",
      "organizations_url": "https://api.github.com/users/3esmit/orgs",
      "repos_url": "https://api.github.com/users/3esmit/repos",
      "events_url": "https://api.github.com/users/3esmit/events{/privacy}",
      "received_events_url": "https://api.github.com/users/3esmit/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-04T17:14:08Z",
    "updated_at": "2020-08-04T17:14:08Z",
    "author_association": "MEMBER",
    "body": "We are auditing changes to upgrade the smart contract to a more versatile version, then this migration will happen together with the deploy of new registrar. ",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/668719783/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/699900576",
    "html_url": "https://github.com/status-im/status-mobile/issues/8264#issuecomment-699900576",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/8264",
    "id": 699900576,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY5OTkwMDU3Ng==",
    "user": {
      "login": "cammellos",
      "id": 1017008,
      "node_id": "MDQ6VXNlcjEwMTcwMDg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1017008?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cammellos",
      "html_url": "https://github.com/cammellos",
      "followers_url": "https://api.github.com/users/cammellos/followers",
      "following_url": "https://api.github.com/users/cammellos/following{/other_user}",
      "gists_url": "https://api.github.com/users/cammellos/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cammellos/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cammellos/subscriptions",
      "organizations_url": "https://api.github.com/users/cammellos/orgs",
      "repos_url": "https://api.github.com/users/cammellos/repos",
      "events_url": "https://api.github.com/users/cammellos/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cammellos/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-09-28T09:44:08Z",
    "updated_at": "2020-09-28T09:44:08Z",
    "author_association": "MEMBER",
    "body": "Closing this in favor of #11189",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/699900576/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
