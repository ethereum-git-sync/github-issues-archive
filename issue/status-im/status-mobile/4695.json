{
  "url": "https://api.github.com/repos/status-im/status-mobile/issues/4695",
  "repository_url": "https://api.github.com/repos/status-im/status-mobile",
  "labels_url": "https://api.github.com/repos/status-im/status-mobile/issues/4695/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-mobile/issues/4695/comments",
  "events_url": "https://api.github.com/repos/status-im/status-mobile/issues/4695/events",
  "html_url": "https://github.com/status-im/status-mobile/issues/4695",
  "id": 330719180,
  "node_id": "MDU6SXNzdWUzMzA3MTkxODA=",
  "number": 4695,
  "title": "Hide shh and shhext namespaces from DApps",
  "user": {
    "login": "pedropombeiro",
    "id": 138074,
    "node_id": "MDQ6VXNlcjEzODA3NA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/138074?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/pedropombeiro",
    "html_url": "https://github.com/pedropombeiro",
    "followers_url": "https://api.github.com/users/pedropombeiro/followers",
    "following_url": "https://api.github.com/users/pedropombeiro/following{/other_user}",
    "gists_url": "https://api.github.com/users/pedropombeiro/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/pedropombeiro/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/pedropombeiro/subscriptions",
    "organizations_url": "https://api.github.com/users/pedropombeiro/orgs",
    "repos_url": "https://api.github.com/users/pedropombeiro/repos",
    "events_url": "https://api.github.com/users/pedropombeiro/events{/privacy}",
    "received_events_url": "https://api.github.com/users/pedropombeiro/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 691030971,
      "node_id": "MDU6TGFiZWw2OTEwMzA5NzE=",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/wallet",
      "name": "wallet",
      "color": "1d76db",
      "default": false,
      "description": null
    },
    {
      "id": 883447811,
      "node_id": "MDU6TGFiZWw4ODM0NDc4MTE=",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/status-go",
      "name": "status-go",
      "color": "59bee0",
      "default": false,
      "description": ""
    },
    {
      "id": 1067655928,
      "node_id": "MDU6TGFiZWwxMDY3NjU1OTI4",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/stale",
      "name": "stale",
      "color": "ffffff",
      "default": false,
      "description": null
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2018-06-08T16:12:06Z",
  "updated_at": "2018-10-01T16:03:25Z",
  "closed_at": "2018-10-01T16:03:25Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "# Problem\r\n\r\nFor example currently we allow dapps to use all `shh_` methods, but the use of some of those methods can be bad. For example dapps can set the min PoW with `web3.shh.setMinPoW(1)` and users no longer receive messages.\r\n\r\n# Implementation\r\n\r\nThis issue's goal is to add back the reverted https://github.com/status-im/status-go/pull/993 PR, but making sure that we test with status-react before merging the resulting PR. Changes in status-react will be required, since once https://github.com/status-im/status-go/pull/993 is integrated into status-react as-is, the following happens:\r\n\r\n```\r\n06-06 23:51:50.734 27094 27184 E ReactNativeJS: ERROR [status-im.transport.shh:124] - :shh/get-new-sym-key-error Error: The method shh_addSymKey does not exist/is not available\r\n06-06 23:51:50.750 27094 27184 E ReactNativeJS: ERROR [status-im.transport.shh:124] - :shh/get-new-sym-key-error Error: The method shh_addSymKey does not exist/is not available\r\n06-06 23:51:50.755 27094 27184 W ReactNativeJS: WARN [status-im.transport.filters:20] - :add-filter-error {\"topics\":[\"0xf8946aac\"],\"privateKeyID\":\"0x04325367620ae20dd878dbb39f69f02c567d789dd21af8a88623dc5b529827c2812571c380a2cd8236a2851b8843d6486481166c39debf60a5d30b9099c66213e4\",\"allowP2P\":true} Error: The method shh_newMessageFilter does not exist/is not available\r\n06-06 23:51:50.758 27094 27184 E ReactNativeJS: ERROR [status-im.transport.shh:124] - :shh/get-new-sym-key-error Error: The method shh_addSymKey does not exist/is not available\r\n06-06 23:51:50.761 27094 27184 E ReactNativeJS: ERROR [status-im.transport.shh:124] - :shh/get-new-sym-key-error Error: The method shh_addSymKey does not exist/is not available\r\n06-06 23:51:50.765 27094 27184 E ReactNativeJS: ERROR [status-im.transport.shh:124] - :shh/get-new-sym-key-error Error: The method shh_addSymKey does not exist/is not available\r\n06-06 23:51:50.786 27094 27184 E ReactNativeJS: ERROR [status-im.transport.shh:124] - :shh/get-new-sym-key-error Error: The method shh_addSymKey does not exist/is not available\r\n```\r\n\r\nI tried to change the code in status-react to use the private RPC endpoint, but this broken in-chat wallet transactions. I.e. if you try to send funds in a chat conversation, you won't be able to sign the transaction (app does nothing).\r\n\r\n# Acceptance Criteria\r\n\r\n- No additional automation tests are broken when compared with `develop`.\r\n- Transactions can be signed.",
  "closed_by": {
    "login": "status-github-bot[bot]",
    "id": 35452227,
    "node_id": "MDM6Qm90MzU0NTIyMjc=",
    "avatar_url": "https://avatars.githubusercontent.com/in/8157?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/status-github-bot%5Bbot%5D",
    "html_url": "https://github.com/apps/status-github-bot",
    "followers_url": "https://api.github.com/users/status-github-bot%5Bbot%5D/followers",
    "following_url": "https://api.github.com/users/status-github-bot%5Bbot%5D/following{/other_user}",
    "gists_url": "https://api.github.com/users/status-github-bot%5Bbot%5D/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/status-github-bot%5Bbot%5D/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/status-github-bot%5Bbot%5D/subscriptions",
    "organizations_url": "https://api.github.com/users/status-github-bot%5Bbot%5D/orgs",
    "repos_url": "https://api.github.com/users/status-github-bot%5Bbot%5D/repos",
    "events_url": "https://api.github.com/users/status-github-bot%5Bbot%5D/events{/privacy}",
    "received_events_url": "https://api.github.com/users/status-github-bot%5Bbot%5D/received_events",
    "type": "Bot",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/4695/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-mobile/issues/4695/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/424027909",
    "html_url": "https://github.com/status-im/status-mobile/issues/4695#issuecomment-424027909",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/4695",
    "id": 424027909,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyNDAyNzkwOQ==",
    "user": {
      "login": "status-github-bot[bot]",
      "id": 35452227,
      "node_id": "MDM6Qm90MzU0NTIyMjc=",
      "avatar_url": "https://avatars.githubusercontent.com/in/8157?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/status-github-bot%5Bbot%5D",
      "html_url": "https://github.com/apps/status-github-bot",
      "followers_url": "https://api.github.com/users/status-github-bot%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/status-github-bot%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/status-github-bot%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/status-github-bot%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/status-github-bot%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/status-github-bot%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/status-github-bot%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/status-github-bot%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/status-github-bot%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2018-09-24T15:59:04Z",
    "updated_at": "2018-09-24T15:59:04Z",
    "author_association": "NONE",
    "body": "This issue has been automatically marked as stale because it has not had recent activity. It will be closed if no further activity occurs. Thank you for your contributions.\n",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/424027909/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/425963320",
    "html_url": "https://github.com/status-im/status-mobile/issues/4695#issuecomment-425963320",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/4695",
    "id": 425963320,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyNTk2MzMyMA==",
    "user": {
      "login": "status-github-bot[bot]",
      "id": 35452227,
      "node_id": "MDM6Qm90MzU0NTIyMjc=",
      "avatar_url": "https://avatars.githubusercontent.com/in/8157?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/status-github-bot%5Bbot%5D",
      "html_url": "https://github.com/apps/status-github-bot",
      "followers_url": "https://api.github.com/users/status-github-bot%5Bbot%5D/followers",
      "following_url": "https://api.github.com/users/status-github-bot%5Bbot%5D/following{/other_user}",
      "gists_url": "https://api.github.com/users/status-github-bot%5Bbot%5D/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/status-github-bot%5Bbot%5D/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/status-github-bot%5Bbot%5D/subscriptions",
      "organizations_url": "https://api.github.com/users/status-github-bot%5Bbot%5D/orgs",
      "repos_url": "https://api.github.com/users/status-github-bot%5Bbot%5D/repos",
      "events_url": "https://api.github.com/users/status-github-bot%5Bbot%5D/events{/privacy}",
      "received_events_url": "https://api.github.com/users/status-github-bot%5Bbot%5D/received_events",
      "type": "Bot",
      "site_admin": false
    },
    "created_at": "2018-10-01T16:02:56Z",
    "updated_at": "2018-10-01T16:02:56Z",
    "author_association": "NONE",
    "body": "This issue has been automatically closed. Please re-open if this issue is important to you.\n",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/425963320/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
