{
  "url": "https://api.github.com/repos/status-im/status-mobile/issues/17801",
  "repository_url": "https://api.github.com/repos/status-im/status-mobile",
  "labels_url": "https://api.github.com/repos/status-im/status-mobile/issues/17801/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-mobile/issues/17801/comments",
  "events_url": "https://api.github.com/repos/status-im/status-mobile/issues/17801/events",
  "html_url": "https://github.com/status-im/status-mobile/issues/17801",
  "id": 1976005674,
  "node_id": "I_kwDOAx4p2c51x3Qq",
  "number": 17801,
  "title": "Sometimes channel is not fetched if opened after joining community (E2E blocker)",
  "user": {
    "login": "pavloburykh",
    "id": 97245802,
    "node_id": "U_kgDOBcvaag",
    "avatar_url": "https://avatars.githubusercontent.com/u/97245802?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/pavloburykh",
    "html_url": "https://github.com/pavloburykh",
    "followers_url": "https://api.github.com/users/pavloburykh/followers",
    "following_url": "https://api.github.com/users/pavloburykh/following{/other_user}",
    "gists_url": "https://api.github.com/users/pavloburykh/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/pavloburykh/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/pavloburykh/subscriptions",
    "organizations_url": "https://api.github.com/users/pavloburykh/orgs",
    "repos_url": "https://api.github.com/users/pavloburykh/repos",
    "events_url": "https://api.github.com/users/pavloburykh/events{/privacy}",
    "received_events_url": "https://api.github.com/users/pavloburykh/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 916015974,
      "node_id": "MDU6TGFiZWw5MTYwMTU5NzQ=",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/e2e%20test%20blocker",
      "name": "e2e test blocker",
      "color": "bc0753",
      "default": false,
      "description": ""
    },
    {
      "id": 3990911030,
      "node_id": "LA_kwDOAx4p2c7t4Hg2",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/E:Mobile%20Bug%20MVP",
      "name": "E:Mobile Bug MVP",
      "color": "B60205",
      "default": false,
      "description": ""
    },
    {
      "id": 3990935220,
      "node_id": "LA_kwDOAx4p2c7t4Na0",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/E:Mobile%20Communities%20MVP",
      "name": "E:Mobile Communities MVP",
      "color": "0992A8",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": {
    "url": "https://api.github.com/repos/status-im/status-mobile/milestones/70",
    "html_url": "https://github.com/status-im/status-mobile/milestone/70",
    "labels_url": "https://api.github.com/repos/status-im/status-mobile/milestones/70/labels",
    "id": 9699572,
    "node_id": "MI_kwDOAx4p2c4AlAD0",
    "number": 70,
    "title": "1.27.0 - Alpha",
    "description": "### This release will be used for wide internal dogfooding \r\n\r\nMobile dev team priorities In priority order:\r\n\r\n**1. Finish anything that wasn't completed in the previous 1.26 cycle**\r\n\r\n**2. Select which accounts to share with each Community's control node**\r\n- Designs should be ready for review and dev feedback by 18th September\r\n\r\n**3. Settings home screen**\r\n- the settings home screen only\r\n\r\n**4. Fix bugs, both functional and UX fit-and-finish defects.**  \r\n\r\n- specifically focus on bugs related to the Communities functionality, when a community is utilizing all the community admin functionality available in Status Desktop\r\n\r\n- any remaining UX quality defects\r\n\r\n- ensure all community token gating related functionality is working\r\n\r\n\r\n\r\n",
    "creator": {
      "login": "John-44",
      "id": 22846356,
      "node_id": "MDQ6VXNlcjIyODQ2MzU2",
      "avatar_url": "https://avatars.githubusercontent.com/u/22846356?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/John-44",
      "html_url": "https://github.com/John-44",
      "followers_url": "https://api.github.com/users/John-44/followers",
      "following_url": "https://api.github.com/users/John-44/following{/other_user}",
      "gists_url": "https://api.github.com/users/John-44/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/John-44/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/John-44/subscriptions",
      "organizations_url": "https://api.github.com/users/John-44/orgs",
      "repos_url": "https://api.github.com/users/John-44/repos",
      "events_url": "https://api.github.com/users/John-44/events{/privacy}",
      "received_events_url": "https://api.github.com/users/John-44/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 46,
    "closed_issues": 4,
    "state": "open",
    "created_at": "2023-07-26T12:50:42Z",
    "updated_at": "2023-11-16T12:51:55Z",
    "due_on": "2024-01-31T08:00:00Z",
    "closed_at": null
  },
  "comments": 6,
  "created_at": "2023-11-03T11:43:06Z",
  "updated_at": "2023-11-16T12:50:00Z",
  "closed_at": null,
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "According to @Parveshdhull [comment](https://github.com/status-im/status-mobile/pull/17704#issuecomment-1778973906) this issue might require fix on status-go side.\r\n\r\nThis issues is often caught by our e2e causing the whole group of tests to fail. So it can be considered as test blocker. \r\n\r\nSometimes this bug is also reproducible manually.\r\n\r\n**Steps:** \r\n\r\n1. User A creates community which does not require admin manual approval. Use PR build to create community from mobile. \r\n2. User A sends community invite to User B\r\n3. User B sends Request to join the community\r\n4. Wait until community status is changed to Joined for User B\r\n5. User B opens community channel\r\n6. See if channel is fetched\r\n\r\n\r\n**Actual result:** sometimes channel is not fetched\r\n\r\n[logs (11).zip](https://github.com/status-im/status-mobile/files/13068070/logs.11.zip)\r\n\r\nhttps://github.com/status-im/status-mobile/assets/97245802/162146e5-2e12-4589-ae82-7f0e1dc9a318\r\n\r\n**Expected result:** channel is fetched\r\n\r\n### Additional Information\r\n\r\n- Status version: nightly \r\n- Operating System: Android, iOS\r\n\r\n\r\n\r\n\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/17801/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-mobile/issues/17801/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1801269649",
    "html_url": "https://github.com/status-im/status-mobile/issues/17801#issuecomment-1801269649",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/17801",
    "id": 1801269649,
    "node_id": "IC_kwDOAx4p2c5rXTGR",
    "user": {
      "login": "mohsen-ghafouri",
      "id": 71308738,
      "node_id": "MDQ6VXNlcjcxMzA4NzM4",
      "avatar_url": "https://avatars.githubusercontent.com/u/71308738?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mohsen-ghafouri",
      "html_url": "https://github.com/mohsen-ghafouri",
      "followers_url": "https://api.github.com/users/mohsen-ghafouri/followers",
      "following_url": "https://api.github.com/users/mohsen-ghafouri/following{/other_user}",
      "gists_url": "https://api.github.com/users/mohsen-ghafouri/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mohsen-ghafouri/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mohsen-ghafouri/subscriptions",
      "organizations_url": "https://api.github.com/users/mohsen-ghafouri/orgs",
      "repos_url": "https://api.github.com/users/mohsen-ghafouri/repos",
      "events_url": "https://api.github.com/users/mohsen-ghafouri/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mohsen-ghafouri/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-11-08T07:59:37Z",
    "updated_at": "2023-11-08T07:59:37Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hi @pavloburykh , I attempted to reproduce the issue within the `develop` branch but wasn't able to encounter it when testing on an iOS simulator. Do you have any suggestions on how I might increase the likelihood of observing this issue?",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1801269649/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1801557006",
    "html_url": "https://github.com/status-im/status-mobile/issues/17801#issuecomment-1801557006",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/17801",
    "id": 1801557006,
    "node_id": "IC_kwDOAx4p2c5rYZQO",
    "user": {
      "login": "VolodLytvynenko",
      "id": 52490791,
      "node_id": "MDQ6VXNlcjUyNDkwNzkx",
      "avatar_url": "https://avatars.githubusercontent.com/u/52490791?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/VolodLytvynenko",
      "html_url": "https://github.com/VolodLytvynenko",
      "followers_url": "https://api.github.com/users/VolodLytvynenko/followers",
      "following_url": "https://api.github.com/users/VolodLytvynenko/following{/other_user}",
      "gists_url": "https://api.github.com/users/VolodLytvynenko/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/VolodLytvynenko/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/VolodLytvynenko/subscriptions",
      "organizations_url": "https://api.github.com/users/VolodLytvynenko/orgs",
      "repos_url": "https://api.github.com/users/VolodLytvynenko/repos",
      "events_url": "https://api.github.com/users/VolodLytvynenko/events{/privacy}",
      "received_events_url": "https://api.github.com/users/VolodLytvynenko/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-11-08T10:25:31Z",
    "updated_at": "2023-11-08T10:25:31Z",
    "author_association": "NONE",
    "body": "> Hi @pavloburykh , I attempted to reproduce the issue within the `develop` branch but wasn't able to encounter it when testing on an iOS simulator. Do you have any suggestions on how I might increase the likelihood of observing this issue?\r\n\r\n@mohsen-ghafouri Unfortunately, the issue occurs infrequently. I was able to reproduce it once today, but since then, I haven't been able to replicate it.\r\n\r\n I've attached the logs, hopefully, they can provide some details.\r\n[Status-debug-logs.zip](https://github.com/status-im/status-mobile/files/13295430/Status-debug-logs.zip)\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1801557006/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1801563429",
    "html_url": "https://github.com/status-im/status-mobile/issues/17801#issuecomment-1801563429",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/17801",
    "id": 1801563429,
    "node_id": "IC_kwDOAx4p2c5rYa0l",
    "user": {
      "login": "pavloburykh",
      "id": 97245802,
      "node_id": "U_kgDOBcvaag",
      "avatar_url": "https://avatars.githubusercontent.com/u/97245802?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pavloburykh",
      "html_url": "https://github.com/pavloburykh",
      "followers_url": "https://api.github.com/users/pavloburykh/followers",
      "following_url": "https://api.github.com/users/pavloburykh/following{/other_user}",
      "gists_url": "https://api.github.com/users/pavloburykh/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pavloburykh/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pavloburykh/subscriptions",
      "organizations_url": "https://api.github.com/users/pavloburykh/orgs",
      "repos_url": "https://api.github.com/users/pavloburykh/repos",
      "events_url": "https://api.github.com/users/pavloburykh/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pavloburykh/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-11-08T10:27:52Z",
    "updated_at": "2023-11-08T10:29:25Z",
    "author_association": "CONTRIBUTOR",
    "body": "> Hi @pavloburykh , I attempted to reproduce the issue within the `develop` branch but wasn't able to encounter it when testing on an iOS simulator. Do you have any suggestions on how I might increase the likelihood of observing this issue?\r\n\r\nHey @mohsen-ghafouri! Thank you for looking at the issue. It is really hard to reproduce. \r\n\r\nBTW, are you creating community from mobile? As for now we have faced this issue in the flow when we are creating community from mobile PR builds (not from Desktop). Try to follow the steps below (though they do not guarantee reproduction) \r\n\r\n**Steps:** \r\n\r\n1. Create new mobile users A and B. \r\n2. Create 'open community' by User B\r\n3. User B shares community to User A \r\n4. Stay online by User B admin node\r\n5. User A opens shared community card from 1-1 chat\r\n6. User A sends community join request\r\n7. Wait until community status is changed to Joined for User A. \r\n8. User A opens community channel \r\n9. See if channel is fetched. \r\n\r\n**Actual result:** sometimes channel is not fetched after joining the community. But indeed, this issue is kind a random. It is hard to reproduce. ",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1801563429/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1801842868",
    "html_url": "https://github.com/status-im/status-mobile/issues/17801#issuecomment-1801842868",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/17801",
    "id": 1801842868,
    "node_id": "IC_kwDOAx4p2c5rZfC0",
    "user": {
      "login": "mohsen-ghafouri",
      "id": 71308738,
      "node_id": "MDQ6VXNlcjcxMzA4NzM4",
      "avatar_url": "https://avatars.githubusercontent.com/u/71308738?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mohsen-ghafouri",
      "html_url": "https://github.com/mohsen-ghafouri",
      "followers_url": "https://api.github.com/users/mohsen-ghafouri/followers",
      "following_url": "https://api.github.com/users/mohsen-ghafouri/following{/other_user}",
      "gists_url": "https://api.github.com/users/mohsen-ghafouri/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mohsen-ghafouri/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mohsen-ghafouri/subscriptions",
      "organizations_url": "https://api.github.com/users/mohsen-ghafouri/orgs",
      "repos_url": "https://api.github.com/users/mohsen-ghafouri/repos",
      "events_url": "https://api.github.com/users/mohsen-ghafouri/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mohsen-ghafouri/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-11-08T12:57:26Z",
    "updated_at": "2023-11-08T12:57:26Z",
    "author_association": "CONTRIBUTOR",
    "body": "Yes i did it from mobile and exactly these steps but couldn't reproduce it , will try some more and if i could reproduce it will assign the issue to my self \r\n@pavloburykh ",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1801842868/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 1,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1814367073",
    "html_url": "https://github.com/status-im/status-mobile/issues/17801#issuecomment-1814367073",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/17801",
    "id": 1814367073,
    "node_id": "IC_kwDOAx4p2c5sJQth",
    "user": {
      "login": "ilmotta",
      "id": 46027,
      "node_id": "MDQ6VXNlcjQ2MDI3",
      "avatar_url": "https://avatars.githubusercontent.com/u/46027?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ilmotta",
      "html_url": "https://github.com/ilmotta",
      "followers_url": "https://api.github.com/users/ilmotta/followers",
      "following_url": "https://api.github.com/users/ilmotta/following{/other_user}",
      "gists_url": "https://api.github.com/users/ilmotta/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ilmotta/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ilmotta/subscriptions",
      "organizations_url": "https://api.github.com/users/ilmotta/orgs",
      "repos_url": "https://api.github.com/users/ilmotta/repos",
      "events_url": "https://api.github.com/users/ilmotta/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ilmotta/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-11-16T12:42:35Z",
    "updated_at": "2023-11-16T12:42:51Z",
    "author_association": "CONTRIBUTOR",
    "body": "@mohsen-ghafouri \r\n\r\nSince the community is created on the Mobile client we might be doing this incorrectly, which means the issue could be in how we create the community.\r\n\r\nIf the issue can never be reproduced when creating the community from the Desktop client, it's a strong indicator that there's no problem in status-go, and we might just need to fix our test-only code that creates communities.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1814367073/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1814377781",
    "html_url": "https://github.com/status-im/status-mobile/issues/17801#issuecomment-1814377781",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/17801",
    "id": 1814377781,
    "node_id": "IC_kwDOAx4p2c5sJTU1",
    "user": {
      "login": "mohsen-ghafouri",
      "id": 71308738,
      "node_id": "MDQ6VXNlcjcxMzA4NzM4",
      "avatar_url": "https://avatars.githubusercontent.com/u/71308738?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mohsen-ghafouri",
      "html_url": "https://github.com/mohsen-ghafouri",
      "followers_url": "https://api.github.com/users/mohsen-ghafouri/followers",
      "following_url": "https://api.github.com/users/mohsen-ghafouri/following{/other_user}",
      "gists_url": "https://api.github.com/users/mohsen-ghafouri/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mohsen-ghafouri/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mohsen-ghafouri/subscriptions",
      "organizations_url": "https://api.github.com/users/mohsen-ghafouri/orgs",
      "repos_url": "https://api.github.com/users/mohsen-ghafouri/repos",
      "events_url": "https://api.github.com/users/mohsen-ghafouri/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mohsen-ghafouri/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-11-16T12:50:00Z",
    "updated_at": "2023-11-16T12:50:00Z",
    "author_association": "CONTRIBUTOR",
    "body": "@ilmotta yes but the issue is i couldn't reproduce the issue with mobile community either. i created many communities with mobile and didn't see this kind of issue. ",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1814377781/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
