{
  "url": "https://api.github.com/repos/status-im/status-mobile/issues/2930",
  "repository_url": "https://api.github.com/repos/status-im/status-mobile",
  "labels_url": "https://api.github.com/repos/status-im/status-mobile/issues/2930/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-mobile/issues/2930/comments",
  "events_url": "https://api.github.com/repos/status-im/status-mobile/issues/2930/events",
  "html_url": "https://github.com/status-im/status-mobile/issues/2930",
  "id": 286331588,
  "node_id": "MDU6SXNzdWUyODYzMzE1ODg=",
  "number": 2930,
  "title": "App crashes when switching users during network syncing",
  "user": {
    "login": "yevh-berdnyk",
    "id": 29711298,
    "node_id": "MDQ6VXNlcjI5NzExMjk4",
    "avatar_url": "https://avatars.githubusercontent.com/u/29711298?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/yevh-berdnyk",
    "html_url": "https://github.com/yevh-berdnyk",
    "followers_url": "https://api.github.com/users/yevh-berdnyk/followers",
    "following_url": "https://api.github.com/users/yevh-berdnyk/following{/other_user}",
    "gists_url": "https://api.github.com/users/yevh-berdnyk/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/yevh-berdnyk/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/yevh-berdnyk/subscriptions",
    "organizations_url": "https://api.github.com/users/yevh-berdnyk/orgs",
    "repos_url": "https://api.github.com/users/yevh-berdnyk/repos",
    "events_url": "https://api.github.com/users/yevh-berdnyk/events{/privacy}",
    "received_events_url": "https://api.github.com/users/yevh-berdnyk/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 330296931,
      "node_id": "MDU6TGFiZWwzMzAyOTY5MzE=",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/bug",
      "name": "bug",
      "color": "fc2929",
      "default": true,
      "description": null
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 0,
  "created_at": "2018-01-05T16:09:17Z",
  "updated_at": "2018-07-06T20:46:16Z",
  "closed_at": "2018-07-06T20:46:16Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "### Description\r\n\r\n*Type*: Bug\r\n\r\n*Summary*: App crashes on users switch right after changing network and while syncing is in progress\r\n\r\n#### Expected behavior\r\nUser B should be logged in \r\n\r\n#### Actual behavior\r\nApp crashes\r\n\r\n#### Precondition\r\nThere are 2 users on the device\r\n\r\n### Reproduction\r\n1. Open Status app\r\n2. Login as user A\r\n3. Open Profile\r\n4. Click Network Settings\r\n5. Choose Ropsten network\r\n6. Click Connect\r\n7. Confirm and reopen the app\r\n8. Login again as user A\r\n9. Open any chat to ensure that syncing is started\r\n10. Click Profile icon\r\n11. Click Switch Users\r\n12. Select user B name\r\n13. Input password \r\n14. Click Sign in\r\n\r\n\r\n### Additional Information\r\nStatus version: 0.9.12+\r\nOperating System: Real device OnePlus A5000, Android 7.1.1\r\n\r\n#### Logs\r\n\r\n\r\n```\r\n23199-23199/? D/StatusService: Received service message.{ when=-1ms what=0 target=im.status.ethereum.module.StatusService$IncomingHandler }\r\n23199-23232/? D/StatusNativeLogs:  [32mINFO  [0m[01-05|15:49:56] Disk storage enabled for ethash caches    [32mdir [0m=/data/user/0/im.status.ethereum/ethereum/t\r\n23199-23268/? D/StatusModule: Received message: { when=0 what=0 target=im.status.ethereum.module.ServiceConnector$IncomingHandler }\r\n23199-23268/? D/StatusModule: Received message: { when=0 what=0 target=im.status.ethereum.module.ServiceConnector$IncomingHandler }\r\n23199-23243/? D/ReactNativeJS: DEBUG [status-im.data-store.realm.core:63] - closing account realm:  /data/data/im.status.ethereum/files/new-account\r\n23199-23235/? W/cr_CrashFileManager: /data/user/0/im.status.ethereum/cache/WebView/Crash Reports does not exist or is not a directory\r\n23199-23232/? D/StatusNativeLogs:  [32mINFO  [0m[01-05|15:50:10] Database closed                           [32mdatabase [0m=/data/user/0/im.status.ethereum/ether\r\n23199-23268/? D/StatusModule: Received message: { when=0 what=0 target=im.status.ethereum.module.ServiceConnector$IncomingHandler }\r\n1389-2050/? W/InputDispatcher: channel 'df1bb3d im.status.ethereum/im.status.ethereum.MainActivity (server)' ~ Consumer closed input channel or an error occurred.  events=0x9\r\n1389-2050/? E/InputDispatcher: channel 'df1bb3d im.status.ethereum/im.status.ethereum.MainActivity (server)' ~ Channel is unrecoverably broken and will be disposed!\r\n1389-3460/? I/WindowManager: WIN DEATH: Window{df1bb3d u0 im.status.ethereum/im.status.ethereum.MainActivity}\r\n1389-3460/? W/InputDispatcher: Attempted to unregister already unregistered input channel 'df1bb3d im.status.ethereum/im.status.ethereum.MainActivity (server)'\r\n1389-10007/? D/EmbryoManager: prepare im.status.ethereum\r\n1389-10007/? I/ActivityManager: Process im.status.ethereum (pid 23199) has died\r\n1389-10007/? D/ActivityManager: get process top duration : im.status.ethereum, duration : 169959\r\n1389-10007/? W/ActivityManager: Scheduling restart of crashed service im.status.ethereum/.module.StatusService in 1000ms\r\n1389-10007/? W/ActivityManager: Scheduling restart of crashed service im.status.ethereum/com.mapbox.mapboxsdk.telemetry.TelemetryService in 10999ms\r\n1389-10007/? W/ActivityManager: Force removing ActivityRecord{db6f091 u0 im.status.ethereum/.MainActivity t781}: app died, no saved state\r\n1389-1444/? I/ActivityManager: Start proc 23568:im.status.ethereum/u0a125 for service for null to im.status.ethereum/.module.StatusService\r\n23568-23568/? I/FA: To enable faster debug mode event logging run:\r\n                      adb shell setprop debug.firebase.analytics.app im.status.ethereum\r\n```",
  "closed_by": {
    "login": "yevh-berdnyk",
    "id": 29711298,
    "node_id": "MDQ6VXNlcjI5NzExMjk4",
    "avatar_url": "https://avatars.githubusercontent.com/u/29711298?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/yevh-berdnyk",
    "html_url": "https://github.com/yevh-berdnyk",
    "followers_url": "https://api.github.com/users/yevh-berdnyk/followers",
    "following_url": "https://api.github.com/users/yevh-berdnyk/following{/other_user}",
    "gists_url": "https://api.github.com/users/yevh-berdnyk/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/yevh-berdnyk/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/yevh-berdnyk/subscriptions",
    "organizations_url": "https://api.github.com/users/yevh-berdnyk/orgs",
    "repos_url": "https://api.github.com/users/yevh-berdnyk/repos",
    "events_url": "https://api.github.com/users/yevh-berdnyk/events{/privacy}",
    "received_events_url": "https://api.github.com/users/yevh-berdnyk/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/2930/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-mobile/issues/2930/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[

]
