{
  "url": "https://api.github.com/repos/status-im/status-mobile/issues/10192",
  "repository_url": "https://api.github.com/repos/status-im/status-mobile",
  "labels_url": "https://api.github.com/repos/status-im/status-mobile/issues/10192/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-mobile/issues/10192/comments",
  "events_url": "https://api.github.com/repos/status-im/status-mobile/issues/10192/events",
  "html_url": "https://github.com/status-im/status-mobile/issues/10192",
  "id": 585025652,
  "node_id": "MDU6SXNzdWU1ODUwMjU2NTI=",
  "number": 10192,
  "title": "Make Status support new and old deep link format ",
  "user": {
    "login": "Serhy",
    "id": 8749671,
    "node_id": "MDQ6VXNlcjg3NDk2NzE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/8749671?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Serhy",
    "html_url": "https://github.com/Serhy",
    "followers_url": "https://api.github.com/users/Serhy/followers",
    "following_url": "https://api.github.com/users/Serhy/following{/other_user}",
    "gists_url": "https://api.github.com/users/Serhy/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Serhy/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Serhy/subscriptions",
    "organizations_url": "https://api.github.com/users/Serhy/orgs",
    "repos_url": "https://api.github.com/users/Serhy/repos",
    "events_url": "https://api.github.com/users/Serhy/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Serhy/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 330296931,
      "node_id": "MDU6TGFiZWwzMzAyOTY5MzE=",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/bug",
      "name": "bug",
      "color": "fc2929",
      "default": true,
      "description": null
    },
    {
      "id": 916015974,
      "node_id": "MDU6TGFiZWw5MTYwMTU5NzQ=",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/e2e%20test%20blocker",
      "name": "e2e test blocker",
      "color": "bc0753",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2020-03-20T12:05:33Z",
  "updated_at": "2020-06-03T15:37:08Z",
  "closed_at": "2020-04-01T19:51:36Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "# Bug Report\r\n\r\n## Problem\r\n\r\nIn the https://github.com/status-im/universal-links-handler/pull/29 we've implemented new shorter URLs for deep links\r\nThe app needs to be modified to support both for at least one release and then we can retire the old ones and use HTTP redirects to new ones\r\n\r\nThis issue should also cover opening of the deep link while Status is closed (it doesn't work now)\r\nAnd also deep links should work on emulators.\r\n\r\n#### Expected behavior\r\n\r\nOpening both and new deep link while Status is closed and tap upon `Open in Status` button should open Status and after login inn to account it should redirect to appropriate view deep link suppose to do. See steps to reproduce per each URL what it should make:\r\n\r\n#### Actual behavior\r\n\r\nSee steps to reproduce\r\n\r\n#### Notes\r\n\r\nFor the developer who will be investigating. Is it related to another PR? Tips on where to start? \r\n\r\n#### Acceptance Criteria\r\n\r\ne2e tests pass\r\n\r\n### Precondition\r\nStatus installed and closed. \r\n\r\n### Reproduction\r\n\r\nHere is the list of deep links and their behavior: https://docs.google.com/spreadsheets/d/1JiTBNVdmoYt0BN15EKo3RRO4rlIZAggK32Ye7pRCr6o/edit?usp=sharing\r\n\r\nWhen user opens OLD/NEW deep link from the list then after login in user ends up on what described in BEHAVIOR section\r\n\r\n\r\nDeep link | OLD DEEP LINK | NEW DEEP LINK |              BEHAVIOR              \r\n-- | -- | -- | --\r\nUser Profile Public Key | https://join.status.im/user/0x04286c5fc..... |  https://join.status.im/0x04286c5fc...... (updated https://join.status.im/u/0x04286c5fc.....)| Opens user profile view\r\nYour own Profile Public Key | https://join.status.im/user/[your_own_public_key] | https://join.status.im/[your_own_public_key] (update https://join.status.im/u/[your_own_public_key]) | Opens your own profile view (the Profile tab)\r\nYour own ENS name | https://join.status.im/user/[your_own_ens] | https://join.status.im/[your_own_ens] (updated: https://join.status.im/u/[your_own_ens]) | Opens your own profile view (the Profile tab)\r\nUser Profile ENS name (stateofus.eth) | https://join.status.im/user/statuse2e | https://join.status.im/@statuse2e (updated: https://join.status.im/u/statuse2e) | Opens user profile view\r\nUser Profile external ENS (.eth) | https://join.status.im/user/statuse2e.eth | https://join.status.im/@statuse2e.eth (updated to: https://join.status.im/u/statuse2e.eth)  | Opens user profile view\r\nPublic chat | https://join.status.im/chat/public/markets | https://join.status.im/markets | Opens respective public chat\r\nDapp URL | https://join.status.im/browse/ens.domains | https://join.status.im/b/ens.domains | Opens pop-up with two options: Open in Status and Open in [Android/iOS]\r\n\r\n\r\n### Additional Information\r\n\r\n- Status version: develop / release 1.1\r\n- Operating System: Android and iOS\r\n",
  "closed_by": {
    "login": "cammellos",
    "id": 1017008,
    "node_id": "MDQ6VXNlcjEwMTcwMDg=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1017008?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/cammellos",
    "html_url": "https://github.com/cammellos",
    "followers_url": "https://api.github.com/users/cammellos/followers",
    "following_url": "https://api.github.com/users/cammellos/following{/other_user}",
    "gists_url": "https://api.github.com/users/cammellos/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/cammellos/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/cammellos/subscriptions",
    "organizations_url": "https://api.github.com/users/cammellos/orgs",
    "repos_url": "https://api.github.com/users/cammellos/repos",
    "events_url": "https://api.github.com/users/cammellos/events{/privacy}",
    "received_events_url": "https://api.github.com/users/cammellos/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/10192/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-mobile/issues/10192/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/602676901",
    "html_url": "https://github.com/status-im/status-mobile/issues/10192#issuecomment-602676901",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/10192",
    "id": 602676901,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwMjY3NjkwMQ==",
    "user": {
      "login": "churik",
      "id": 4557972,
      "node_id": "MDQ6VXNlcjQ1NTc5NzI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4557972?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/churik",
      "html_url": "https://github.com/churik",
      "followers_url": "https://api.github.com/users/churik/followers",
      "following_url": "https://api.github.com/users/churik/following{/other_user}",
      "gists_url": "https://api.github.com/users/churik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/churik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/churik/subscriptions",
      "organizations_url": "https://api.github.com/users/churik/orgs",
      "repos_url": "https://api.github.com/users/churik/repos",
      "events_url": "https://api.github.com/users/churik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/churik/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-23T15:32:23Z",
    "updated_at": "2020-03-23T15:32:23Z",
    "author_association": "MEMBER",
    "body": "review `TestDeepLinks` after fix",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/602676901/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/603129048",
    "html_url": "https://github.com/status-im/status-mobile/issues/10192#issuecomment-603129048",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/10192",
    "id": 603129048,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwMzEyOTA0OA==",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-24T09:30:31Z",
    "updated_at": "2020-03-24T09:30:31Z",
    "author_association": "MEMBER",
    "body": "This already has an issue: https://github.com/status-im/status-react/issues/10083",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/603129048/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/606610974",
    "html_url": "https://github.com/status-im/status-mobile/issues/10192#issuecomment-606610974",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/10192",
    "id": 606610974,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwNjYxMDk3NA==",
    "user": {
      "login": "Serhy",
      "id": 8749671,
      "node_id": "MDQ6VXNlcjg3NDk2NzE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8749671?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Serhy",
      "html_url": "https://github.com/Serhy",
      "followers_url": "https://api.github.com/users/Serhy/followers",
      "following_url": "https://api.github.com/users/Serhy/following{/other_user}",
      "gists_url": "https://api.github.com/users/Serhy/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Serhy/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Serhy/subscriptions",
      "organizations_url": "https://api.github.com/users/Serhy/orgs",
      "repos_url": "https://api.github.com/users/Serhy/repos",
      "events_url": "https://api.github.com/users/Serhy/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Serhy/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-31T12:59:35Z",
    "updated_at": "2020-03-31T12:59:35Z",
    "author_association": "CONTRIBUTOR",
    "body": "> This already has an issue: #10083\r\n\r\nYes, they are related but current issue describes behavior per links and what should it do because currently we have bugs with how universal links are working in general (like if I open public chat universal link while app is closed - then after login I see public chat joined but on Chats main view instead of me automatically navigated to public chat view after login)",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/606610974/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/606669834",
    "html_url": "https://github.com/status-im/status-mobile/issues/10192#issuecomment-606669834",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/10192",
    "id": 606669834,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwNjY2OTgzNA==",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-03-31T14:40:19Z",
    "updated_at": "2020-03-31T14:40:19Z",
    "author_association": "MEMBER",
    "body": "So is there something the #10222 does not cover here?",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/606669834/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/607280637",
    "html_url": "https://github.com/status-im/status-mobile/issues/10192#issuecomment-607280637",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/10192",
    "id": 607280637,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwNzI4MDYzNw==",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-01T14:24:22Z",
    "updated_at": "2020-04-01T14:24:22Z",
    "author_association": "MEMBER",
    "body": "Because of issues found in #10222 I had to drop the `/@` format for user links and replace it with `/u/`.\r\n\r\nChange: https://github.com/status-im/universal-links-handler/pull/35",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/607280637/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/607317189",
    "html_url": "https://github.com/status-im/status-mobile/issues/10192#issuecomment-607317189",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/10192",
    "id": 607317189,
    "node_id": "MDEyOklzc3VlQ29tbWVudDYwNzMxNzE4OQ==",
    "user": {
      "login": "Serhy",
      "id": 8749671,
      "node_id": "MDQ6VXNlcjg3NDk2NzE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8749671?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Serhy",
      "html_url": "https://github.com/Serhy",
      "followers_url": "https://api.github.com/users/Serhy/followers",
      "following_url": "https://api.github.com/users/Serhy/following{/other_user}",
      "gists_url": "https://api.github.com/users/Serhy/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Serhy/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Serhy/subscriptions",
      "organizations_url": "https://api.github.com/users/Serhy/orgs",
      "repos_url": "https://api.github.com/users/Serhy/repos",
      "events_url": "https://api.github.com/users/Serhy/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Serhy/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-04-01T15:27:01Z",
    "updated_at": "2020-04-01T15:27:01Z",
    "author_association": "CONTRIBUTOR",
    "body": "Thank you @jakubgs \r\nEverything (including /u/ links for user unniversal links) works fine for me now in iOS and Android in https://github.com/status-im/status-react/pull/10222\r\n\r\nAll items and scenarios mentioned in description of this issue works as expected.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/607317189/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
