{
  "url": "https://api.github.com/repos/status-im/status-mobile/issues/3818",
  "repository_url": "https://api.github.com/repos/status-im/status-mobile",
  "labels_url": "https://api.github.com/repos/status-im/status-mobile/issues/3818/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-mobile/issues/3818/comments",
  "events_url": "https://api.github.com/repos/status-im/status-mobile/issues/3818/events",
  "html_url": "https://github.com/status-im/status-mobile/issues/3818",
  "id": 312803391,
  "node_id": "MDU6SXNzdWUzMTI4MDMzOTE=",
  "number": 3818,
  "title": "If a message contains only an emoji, show it without chat bubble",
  "user": {
    "login": "denis-sharypin",
    "id": 6559881,
    "node_id": "MDQ6VXNlcjY1NTk4ODE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6559881?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/denis-sharypin",
    "html_url": "https://github.com/denis-sharypin",
    "followers_url": "https://api.github.com/users/denis-sharypin/followers",
    "following_url": "https://api.github.com/users/denis-sharypin/following{/other_user}",
    "gists_url": "https://api.github.com/users/denis-sharypin/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/denis-sharypin/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/denis-sharypin/subscriptions",
    "organizations_url": "https://api.github.com/users/denis-sharypin/orgs",
    "repos_url": "https://api.github.com/users/denis-sharypin/repos",
    "events_url": "https://api.github.com/users/denis-sharypin/events{/privacy}",
    "received_events_url": "https://api.github.com/users/denis-sharypin/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 523025415,
      "node_id": "MDU6TGFiZWw1MjMwMjU0MTU=",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/bounty",
      "name": "bounty",
      "color": "FAFAD2",
      "default": false,
      "description": null
    },
    {
      "id": 755561276,
      "node_id": "MDU6TGFiZWw3NTU1NjEyNzY=",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/bounty-m",
      "name": "bounty-m",
      "color": "89cbe5",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 18,
  "created_at": "2018-04-10T07:29:14Z",
  "updated_at": "2018-04-19T17:59:47Z",
  "closed_at": "2018-04-17T08:02:37Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "### User Story\r\n\r\nAs a user, I want to see a big emoji and don't want to have them in the 'chat bubble jail' so that I will get more fun.\r\n\r\n### Description\r\n\r\n*Type*: Feature\r\n\r\n*Summary*: Currently when you send emoji in a chat it appears in a chat bubble that makes it really small to recognize. We would like to remove this bubble for messages that contain only emojis. \r\n\r\n#### Expected behavior\r\n![emoji free](https://user-images.githubusercontent.com/6559881/38541433-5b902f88-3c9f-11e8-8ee8-8a41d7d33601.jpg)\r\n\r\n\r\n#### Actual behavior\r\n![emoji jail01](https://user-images.githubusercontent.com/6559881/38541441-61457c12-3c9f-11e8-9571-5c3021b82862.jpg)\r\n\r\n\r\n### Solution\r\n\r\n- use fontSize:40, lineHeight: 45 for emoji\r\n- you need to render an emoji without a chat bubble right after it's sent to a chat\r\n- this should work not only for one emoji also for multiple emojis  \r\n\r\n### Additional Information\r\n\r\n* Operating System: Android|iOS\r\n",
  "closed_by": {
    "login": "rasom",
    "id": 2364994,
    "node_id": "MDQ6VXNlcjIzNjQ5OTQ=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2364994?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/rasom",
    "html_url": "https://github.com/rasom",
    "followers_url": "https://api.github.com/users/rasom/followers",
    "following_url": "https://api.github.com/users/rasom/following{/other_user}",
    "gists_url": "https://api.github.com/users/rasom/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/rasom/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/rasom/subscriptions",
    "organizations_url": "https://api.github.com/users/rasom/orgs",
    "repos_url": "https://api.github.com/users/rasom/repos",
    "events_url": "https://api.github.com/users/rasom/events{/privacy}",
    "received_events_url": "https://api.github.com/users/rasom/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/3818/reactions",
    "total_count": 4,
    "+1": 4,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-mobile/issues/3818/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/380031694",
    "html_url": "https://github.com/status-im/status-mobile/issues/3818#issuecomment-380031694",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/3818",
    "id": 380031694,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MDAzMTY5NA==",
    "user": {
      "login": "status-open-bounty",
      "id": 33065743,
      "node_id": "MDQ6VXNlcjMzMDY1NzQz",
      "avatar_url": "https://avatars.githubusercontent.com/u/33065743?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/status-open-bounty",
      "html_url": "https://github.com/status-open-bounty",
      "followers_url": "https://api.github.com/users/status-open-bounty/followers",
      "following_url": "https://api.github.com/users/status-open-bounty/following{/other_user}",
      "gists_url": "https://api.github.com/users/status-open-bounty/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/status-open-bounty/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/status-open-bounty/subscriptions",
      "organizations_url": "https://api.github.com/users/status-open-bounty/orgs",
      "repos_url": "https://api.github.com/users/status-open-bounty/repos",
      "events_url": "https://api.github.com/users/status-open-bounty/events{/privacy}",
      "received_events_url": "https://api.github.com/users/status-open-bounty/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-10T09:16:56Z",
    "updated_at": "2018-04-19T17:59:47Z",
    "author_association": "NONE",
    "body": "Balance: 0.000000 ETH\nTokens: SNT: 2800.00\nContract address: [0xceebb14acc54511a4bcd68691f18d68401e900ba](https://etherscan.io/address/0xceebb14acc54511a4bcd68691f18d68401e900ba)\nNetwork: Mainnet\nPaid to: endenwer\nVisit [https://openbounty.status.im](https://openbounty.status.im) to learn more.\n",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/380031694/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/380345105",
    "html_url": "https://github.com/status-im/status-mobile/issues/3818#issuecomment-380345105",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/3818",
    "id": 380345105,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MDM0NTEwNQ==",
    "user": {
      "login": "ovx",
      "id": 536331,
      "node_id": "MDQ6VXNlcjUzNjMzMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/536331?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ovx",
      "html_url": "https://github.com/ovx",
      "followers_url": "https://api.github.com/users/ovx/followers",
      "following_url": "https://api.github.com/users/ovx/following{/other_user}",
      "gists_url": "https://api.github.com/users/ovx/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ovx/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ovx/subscriptions",
      "organizations_url": "https://api.github.com/users/ovx/orgs",
      "repos_url": "https://api.github.com/users/ovx/repos",
      "events_url": "https://api.github.com/users/ovx/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ovx/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-11T06:45:04Z",
    "updated_at": "2018-04-11T07:52:05Z",
    "author_association": "CONTRIBUTOR",
    "body": "I have a commit which fixes this issues here https://github.com/ovx/status-react/commit/7a4d1adea8165e379f059e4171b5fb6941755d30 but the problem with emoji is that this simple regex doesn't necessarily match all of them.\r\n\r\nI ES6 there is a unicode mode for regex (https://github.com/tc39/proposal-regexp-unicode-property-escapes#matching-emoji) which should work better but this mode doesn't currently work in react native (not sure whether this is a problem with react-native or clojurescript transpiler).\r\n\r\nIf anyone has an idea how to make the regex more reliable or how to enable the unicode mode, please let me know.\r\n\r\n![screenshot_1523428840](https://user-images.githubusercontent.com/536331/38600327-5fb58c82-3d96-11e8-8931-b21f087b0089.png)\r\n![screenshot_1523428847](https://user-images.githubusercontent.com/536331/38600329-5fece6a0-3d96-11e8-9522-f06b636a5f3d.png)\r\n![screenshot_1523428855](https://user-images.githubusercontent.com/536331/38600330-60225f2e-3d96-11e8-86aa-2615c6cca86b.png)\r\n\r\n\r\n\r\n\r\n<blockquote><img src=\"https://avatars3.githubusercontent.com/u/1725583?s=400&v=4\" width=\"48\" align=\"right\"><div><img src=\"https://assets-cdn.github.com/favicon.ico\" height=\"14\"> GitHub</div><div><strong><a href=\"https://github.com/tc39/proposal-regexp-unicode-property-escapes\">tc39/proposal-regexp-unicode-property-escapes</a></strong></div><div>proposal-regexp-unicode-property-escapes - Proposal to add Unicode property escapes `\\p{…}` and `\\P{…}` to regular expressions in ECMAScript.</div></blockquote>",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/380345105/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/380347951",
    "html_url": "https://github.com/status-im/status-mobile/issues/3818#issuecomment-380347951",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/3818",
    "id": 380347951,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MDM0Nzk1MQ==",
    "user": {
      "login": "denis-sharypin",
      "id": 6559881,
      "node_id": "MDQ6VXNlcjY1NTk4ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6559881?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/denis-sharypin",
      "html_url": "https://github.com/denis-sharypin",
      "followers_url": "https://api.github.com/users/denis-sharypin/followers",
      "following_url": "https://api.github.com/users/denis-sharypin/following{/other_user}",
      "gists_url": "https://api.github.com/users/denis-sharypin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/denis-sharypin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/denis-sharypin/subscriptions",
      "organizations_url": "https://api.github.com/users/denis-sharypin/orgs",
      "repos_url": "https://api.github.com/users/denis-sharypin/repos",
      "events_url": "https://api.github.com/users/denis-sharypin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/denis-sharypin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-11T06:59:13Z",
    "updated_at": "2018-04-11T07:00:09Z",
    "author_association": "NONE",
    "body": "@goranjovic  @jeluard  @flexsurfer  Could you assist guys? ↑",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/380347951/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/380348532",
    "html_url": "https://github.com/status-im/status-mobile/issues/3818#issuecomment-380348532",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/3818",
    "id": 380348532,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MDM0ODUzMg==",
    "user": {
      "login": "jeluard",
      "id": 359723,
      "node_id": "MDQ6VXNlcjM1OTcyMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/359723?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jeluard",
      "html_url": "https://github.com/jeluard",
      "followers_url": "https://api.github.com/users/jeluard/followers",
      "following_url": "https://api.github.com/users/jeluard/following{/other_user}",
      "gists_url": "https://api.github.com/users/jeluard/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jeluard/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jeluard/subscriptions",
      "organizations_url": "https://api.github.com/users/jeluard/orgs",
      "repos_url": "https://api.github.com/users/jeluard/repos",
      "events_url": "https://api.github.com/users/jeluard/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jeluard/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-11T07:01:55Z",
    "updated_at": "2018-04-11T07:01:55Z",
    "author_association": "CONTRIBUTOR",
    "body": "@ovx This [article](https://medium.com/reactnative/emojis-in-javascript-f693d0eb79fb) might help. Specifically it mentions a regexp used by lodash we could use.\r\nPlease also consider the performance impact of this.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/380348532/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/380360567",
    "html_url": "https://github.com/status-im/status-mobile/issues/3818#issuecomment-380360567",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/3818",
    "id": 380360567,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MDM2MDU2Nw==",
    "user": {
      "login": "ovx",
      "id": 536331,
      "node_id": "MDQ6VXNlcjUzNjMzMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/536331?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ovx",
      "html_url": "https://github.com/ovx",
      "followers_url": "https://api.github.com/users/ovx/followers",
      "following_url": "https://api.github.com/users/ovx/following{/other_user}",
      "gists_url": "https://api.github.com/users/ovx/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ovx/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ovx/subscriptions",
      "organizations_url": "https://api.github.com/users/ovx/orgs",
      "repos_url": "https://api.github.com/users/ovx/repos",
      "events_url": "https://api.github.com/users/ovx/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ovx/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-11T07:49:01Z",
    "updated_at": "2018-04-11T07:54:32Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jeluard Thanks! lodash's regex helps a lot, with some additional tweaking for this guy (☺️) it handles all emoji in my test screen, but there probably will be more codes which are not handled by this regex.\r\n\r\nIt has, of course, some performance impact, but I don't see any other solution for detection of emoji. (Except for the unicode mode which should be fast I assume)",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/380360567/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/380363302",
    "html_url": "https://github.com/status-im/status-mobile/issues/3818#issuecomment-380363302",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/3818",
    "id": 380363302,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MDM2MzMwMg==",
    "user": {
      "login": "janherich",
      "id": 1910609,
      "node_id": "MDQ6VXNlcjE5MTA2MDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1910609?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/janherich",
      "html_url": "https://github.com/janherich",
      "followers_url": "https://api.github.com/users/janherich/followers",
      "following_url": "https://api.github.com/users/janherich/following{/other_user}",
      "gists_url": "https://api.github.com/users/janherich/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/janherich/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/janherich/subscriptions",
      "organizations_url": "https://api.github.com/users/janherich/orgs",
      "repos_url": "https://api.github.com/users/janherich/repos",
      "events_url": "https://api.github.com/users/janherich/events{/privacy}",
      "received_events_url": "https://api.github.com/users/janherich/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-11T07:59:39Z",
    "updated_at": "2018-04-11T07:59:39Z",
    "author_association": "CONTRIBUTOR",
    "body": "@ovx The thing is, regex lookups are expensive, so we should probably think about caching them (have a look at the private `parse-text` function in the namespace, and how is used), because view functions by default are NOT cached and will be run each time something in subscription changes (react VDOM diffing will make sure that even when those functions are run and producing output multiple times, actual expensive DOM changes will be performed only when necessary).\r\n\r\nThat's the reason why view functions must be:\r\n1. side effect free\r\n2. as lightweight and fast as possible\r\n\r\nPoint 2. is of the particular concern here :)",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/380363302/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/380363512",
    "html_url": "https://github.com/status-im/status-mobile/issues/3818#issuecomment-380363512",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/3818",
    "id": 380363512,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MDM2MzUxMg==",
    "user": {
      "login": "endenwer",
      "id": 5045098,
      "node_id": "MDQ6VXNlcjUwNDUwOTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5045098?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/endenwer",
      "html_url": "https://github.com/endenwer",
      "followers_url": "https://api.github.com/users/endenwer/followers",
      "following_url": "https://api.github.com/users/endenwer/following{/other_user}",
      "gists_url": "https://api.github.com/users/endenwer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/endenwer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/endenwer/subscriptions",
      "organizations_url": "https://api.github.com/users/endenwer/orgs",
      "repos_url": "https://api.github.com/users/endenwer/repos",
      "events_url": "https://api.github.com/users/endenwer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/endenwer/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-11T08:00:23Z",
    "updated_at": "2018-04-11T08:00:23Z",
    "author_association": "CONTRIBUTOR",
    "body": "I also wanted to do this. But I thought to add flag `emoji-only?` to message and set that flag when saving message to data store. It would be more performant but wont work for messages what already in the store.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/380363512/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/380365173",
    "html_url": "https://github.com/status-im/status-mobile/issues/3818#issuecomment-380365173",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/3818",
    "id": 380365173,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MDM2NTE3Mw==",
    "user": {
      "login": "ovx",
      "id": 536331,
      "node_id": "MDQ6VXNlcjUzNjMzMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/536331?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ovx",
      "html_url": "https://github.com/ovx",
      "followers_url": "https://api.github.com/users/ovx/followers",
      "following_url": "https://api.github.com/users/ovx/following{/other_user}",
      "gists_url": "https://api.github.com/users/ovx/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ovx/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ovx/subscriptions",
      "organizations_url": "https://api.github.com/users/ovx/orgs",
      "repos_url": "https://api.github.com/users/ovx/repos",
      "events_url": "https://api.github.com/users/ovx/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ovx/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-11T08:06:35Z",
    "updated_at": "2018-04-11T08:06:35Z",
    "author_association": "CONTRIBUTOR",
    "body": "@janherich I understand that, but you have any other idea how to detect emoji? Ad `memoize`, does it actually have some sort of upper limit for memory usage and garbage collection or does the memory consumption grow into infinity? I didn't find any documentation for that.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/380365173/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/380365686",
    "html_url": "https://github.com/status-im/status-mobile/issues/3818#issuecomment-380365686",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/3818",
    "id": 380365686,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MDM2NTY4Ng==",
    "user": {
      "login": "janherich",
      "id": 1910609,
      "node_id": "MDQ6VXNlcjE5MTA2MDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1910609?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/janherich",
      "html_url": "https://github.com/janherich",
      "followers_url": "https://api.github.com/users/janherich/followers",
      "following_url": "https://api.github.com/users/janherich/following{/other_user}",
      "gists_url": "https://api.github.com/users/janherich/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/janherich/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/janherich/subscriptions",
      "organizations_url": "https://api.github.com/users/janherich/orgs",
      "repos_url": "https://api.github.com/users/janherich/repos",
      "events_url": "https://api.github.com/users/janherich/events{/privacy}",
      "received_events_url": "https://api.github.com/users/janherich/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-11T08:08:36Z",
    "updated_at": "2018-04-11T08:08:36Z",
    "author_association": "CONTRIBUTOR",
    "body": "The performance of running regex once when new message is being rendered is most probably super negligible (we already have more complicated regexes which are also run each time message is being rendered to transform url's in message text into clickable actions), it will be overshadowed by actual rendering.\r\nThe problem is naive implementation when we just call the regex in view function without any caching.\r\nThe cleanest solution would be to push all those expensive regex stuff (existing + this new one) into subscriptions, because those are cached by default. ",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/380365686/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/380366217",
    "html_url": "https://github.com/status-im/status-mobile/issues/3818#issuecomment-380366217",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/3818",
    "id": 380366217,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MDM2NjIxNw==",
    "user": {
      "login": "jeluard",
      "id": 359723,
      "node_id": "MDQ6VXNlcjM1OTcyMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/359723?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jeluard",
      "html_url": "https://github.com/jeluard",
      "followers_url": "https://api.github.com/users/jeluard/followers",
      "following_url": "https://api.github.com/users/jeluard/following{/other_user}",
      "gists_url": "https://api.github.com/users/jeluard/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jeluard/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jeluard/subscriptions",
      "organizations_url": "https://api.github.com/users/jeluard/orgs",
      "repos_url": "https://api.github.com/users/jeluard/repos",
      "events_url": "https://api.github.com/users/jeluard/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jeluard/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-11T08:10:26Z",
    "updated_at": "2018-04-11T08:10:26Z",
    "author_association": "CONTRIBUTOR",
    "body": "@ovx Do you mind running some basic bench on long lines on real hardware? To get some ballpark figure.\r\nAlso no, `memoize` is not bound, you control when you don' want to call it.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/380366217/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/380367659",
    "html_url": "https://github.com/status-im/status-mobile/issues/3818#issuecomment-380367659",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/3818",
    "id": 380367659,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MDM2NzY1OQ==",
    "user": {
      "login": "janherich",
      "id": 1910609,
      "node_id": "MDQ6VXNlcjE5MTA2MDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1910609?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/janherich",
      "html_url": "https://github.com/janherich",
      "followers_url": "https://api.github.com/users/janherich/followers",
      "following_url": "https://api.github.com/users/janherich/following{/other_user}",
      "gists_url": "https://api.github.com/users/janherich/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/janherich/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/janherich/subscriptions",
      "organizations_url": "https://api.github.com/users/janherich/orgs",
      "repos_url": "https://api.github.com/users/janherich/repos",
      "events_url": "https://api.github.com/users/janherich/events{/privacy}",
      "received_events_url": "https://api.github.com/users/janherich/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-11T08:16:05Z",
    "updated_at": "2018-04-11T08:16:05Z",
    "author_association": "CONTRIBUTOR",
    "body": "@ovx Detecting via regex is fine, we just have to make sure that this detection happens only when necessary. Memoize not having upper bound is not a problem, we have lazy loading and don't render every message in chat when it's opened + it will be just minor (constant) increase of memory for each message rendered (we will still have way more messages in app-db then that, unless you open all the chats and scroll to the very top in each of them, in which case it will be the same :) ) ",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/380367659/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/380369605",
    "html_url": "https://github.com/status-im/status-mobile/issues/3818#issuecomment-380369605",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/3818",
    "id": 380369605,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MDM2OTYwNQ==",
    "user": {
      "login": "ovx",
      "id": 536331,
      "node_id": "MDQ6VXNlcjUzNjMzMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/536331?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ovx",
      "html_url": "https://github.com/ovx",
      "followers_url": "https://api.github.com/users/ovx/followers",
      "following_url": "https://api.github.com/users/ovx/following{/other_user}",
      "gists_url": "https://api.github.com/users/ovx/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ovx/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ovx/subscriptions",
      "organizations_url": "https://api.github.com/users/ovx/orgs",
      "repos_url": "https://api.github.com/users/ovx/repos",
      "events_url": "https://api.github.com/users/ovx/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ovx/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-11T08:23:20Z",
    "updated_at": "2018-04-11T08:23:20Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jeluard @janherich I will implement `memoize` and also apply regex match only on very short messages (let's say <= 20 chars, which would allow 10 emoji and if there's more it will simply have a bubble). I'll also try to get some benchmarks with and without matching.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/380369605/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/380370033",
    "html_url": "https://github.com/status-im/status-mobile/issues/3818#issuecomment-380370033",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/3818",
    "id": 380370033,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MDM3MDAzMw==",
    "user": {
      "login": "cammellos",
      "id": 1017008,
      "node_id": "MDQ6VXNlcjEwMTcwMDg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1017008?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cammellos",
      "html_url": "https://github.com/cammellos",
      "followers_url": "https://api.github.com/users/cammellos/followers",
      "following_url": "https://api.github.com/users/cammellos/following{/other_user}",
      "gists_url": "https://api.github.com/users/cammellos/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cammellos/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cammellos/subscriptions",
      "organizations_url": "https://api.github.com/users/cammellos/orgs",
      "repos_url": "https://api.github.com/users/cammellos/repos",
      "events_url": "https://api.github.com/users/cammellos/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cammellos/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-11T08:24:55Z",
    "updated_at": "2018-04-11T08:24:55Z",
    "author_association": "MEMBER",
    "body": "Another option is to just store that in the database, at the expenses of storage, you only check on receive if the message contains an emojii ( say you have a message-type of :emoji), not sure whether is worth considering for this though.\r\n\r\n@janherich while I agree that will likely never be a problem using an unbound memory structure, I would avoid it if not necessary (`clojure.core.memoize` has a few cache eviction policies and it's already pulled in by core.async I believe).\r\n\r\nI feel that makes it much simpler to track down memory leaks, which are already hard to deal with ( If I know this code does not leak, I don't have to worry about it when debugging a memory leak).",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/380370033/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/380370991",
    "html_url": "https://github.com/status-im/status-mobile/issues/3818#issuecomment-380370991",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/3818",
    "id": 380370991,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MDM3MDk5MQ==",
    "user": {
      "login": "janherich",
      "id": 1910609,
      "node_id": "MDQ6VXNlcjE5MTA2MDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1910609?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/janherich",
      "html_url": "https://github.com/janherich",
      "followers_url": "https://api.github.com/users/janherich/followers",
      "following_url": "https://api.github.com/users/janherich/following{/other_user}",
      "gists_url": "https://api.github.com/users/janherich/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/janherich/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/janherich/subscriptions",
      "organizations_url": "https://api.github.com/users/janherich/orgs",
      "repos_url": "https://api.github.com/users/janherich/repos",
      "events_url": "https://api.github.com/users/janherich/events{/privacy}",
      "received_events_url": "https://api.github.com/users/janherich/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-11T08:28:16Z",
    "updated_at": "2018-04-11T08:28:16Z",
    "author_association": "CONTRIBUTOR",
    "body": "@cammellos Sure, that's why I said the cleanest solution would be to pull all those more expensive things into `re-frame` subscriptions, which do \"proper caching\" :)\r\nAdditional benefit would be logic free uncluttered view functions, more portable to desktop project, etc.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/380370991/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/380371179",
    "html_url": "https://github.com/status-im/status-mobile/issues/3818#issuecomment-380371179",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/3818",
    "id": 380371179,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MDM3MTE3OQ==",
    "user": {
      "login": "cammellos",
      "id": 1017008,
      "node_id": "MDQ6VXNlcjEwMTcwMDg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1017008?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cammellos",
      "html_url": "https://github.com/cammellos",
      "followers_url": "https://api.github.com/users/cammellos/followers",
      "following_url": "https://api.github.com/users/cammellos/following{/other_user}",
      "gists_url": "https://api.github.com/users/cammellos/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cammellos/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cammellos/subscriptions",
      "organizations_url": "https://api.github.com/users/cammellos/orgs",
      "repos_url": "https://api.github.com/users/cammellos/repos",
      "events_url": "https://api.github.com/users/cammellos/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cammellos/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-11T08:28:54Z",
    "updated_at": "2018-04-11T08:28:54Z",
    "author_association": "MEMBER",
    "body": "@janherich yes, agree with you",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/380371179/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/380401276",
    "html_url": "https://github.com/status-im/status-mobile/issues/3818#issuecomment-380401276",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/3818",
    "id": 380401276,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MDQwMTI3Ng==",
    "user": {
      "login": "ovx",
      "id": 536331,
      "node_id": "MDQ6VXNlcjUzNjMzMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/536331?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ovx",
      "html_url": "https://github.com/ovx",
      "followers_url": "https://api.github.com/users/ovx/followers",
      "following_url": "https://api.github.com/users/ovx/following{/other_user}",
      "gists_url": "https://api.github.com/users/ovx/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ovx/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ovx/subscriptions",
      "organizations_url": "https://api.github.com/users/ovx/orgs",
      "repos_url": "https://api.github.com/users/ovx/repos",
      "events_url": "https://api.github.com/users/ovx/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ovx/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-11T10:14:08Z",
    "updated_at": "2018-04-11T10:14:08Z",
    "author_association": "CONTRIBUTOR",
    "body": "@janherich thanks, re-frame subs sound like a good solution, I'll check them out.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/380401276/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/380476938",
    "html_url": "https://github.com/status-im/status-mobile/issues/3818#issuecomment-380476938",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/3818",
    "id": 380476938,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MDQ3NjkzOA==",
    "user": {
      "login": "ovx",
      "id": 536331,
      "node_id": "MDQ6VXNlcjUzNjMzMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/536331?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ovx",
      "html_url": "https://github.com/ovx",
      "followers_url": "https://api.github.com/users/ovx/followers",
      "following_url": "https://api.github.com/users/ovx/following{/other_user}",
      "gists_url": "https://api.github.com/users/ovx/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ovx/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ovx/subscriptions",
      "organizations_url": "https://api.github.com/users/ovx/orgs",
      "repos_url": "https://api.github.com/users/ovx/repos",
      "events_url": "https://api.github.com/users/ovx/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ovx/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-11T14:40:33Z",
    "updated_at": "2018-04-11T14:40:33Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jeluard ad benchmarks: both versions, with and w/out the change, report the same UI frame rate when opening and scrolling (59 FPS on my device which is the maximum it reports when idle). Everything feels just about the same in both versions, smooth and responsive. Tested with about 150 messages, mostly emoji-only messages mixed with short and long text.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/380476938/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/380486867",
    "html_url": "https://github.com/status-im/status-mobile/issues/3818#issuecomment-380486867",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/3818",
    "id": 380486867,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4MDQ4Njg2Nw==",
    "user": {
      "login": "endenwer",
      "id": 5045098,
      "node_id": "MDQ6VXNlcjUwNDUwOTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5045098?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/endenwer",
      "html_url": "https://github.com/endenwer",
      "followers_url": "https://api.github.com/users/endenwer/followers",
      "following_url": "https://api.github.com/users/endenwer/following{/other_user}",
      "gists_url": "https://api.github.com/users/endenwer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/endenwer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/endenwer/subscriptions",
      "organizations_url": "https://api.github.com/users/endenwer/orgs",
      "repos_url": "https://api.github.com/users/endenwer/repos",
      "events_url": "https://api.github.com/users/endenwer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/endenwer/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-04-11T15:08:17Z",
    "updated_at": "2018-04-11T15:44:33Z",
    "author_association": "CONTRIBUTOR",
    "body": "My implementation  endenwer/status-react@c97678d20db0f1e940f2c4cd97df6ce69d83230b. I don't know if I can submit it or not cause I am not first.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/380486867/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
