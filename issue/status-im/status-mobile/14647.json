{
  "url": "https://api.github.com/repos/status-im/status-mobile/issues/14647",
  "repository_url": "https://api.github.com/repos/status-im/status-mobile",
  "labels_url": "https://api.github.com/repos/status-im/status-mobile/issues/14647/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-mobile/issues/14647/comments",
  "events_url": "https://api.github.com/repos/status-im/status-mobile/issues/14647/events",
  "html_url": "https://github.com/status-im/status-mobile/issues/14647",
  "id": 1511850268,
  "node_id": "I_kwDOAx4p2c5aHQEc",
  "number": 14647,
  "title": "Sometimes messages are delivered with delay of up to 10 minutes on status.prod fleet",
  "user": {
    "login": "pavloburykh",
    "id": 97245802,
    "node_id": "U_kgDOBcvaag",
    "avatar_url": "https://avatars.githubusercontent.com/u/97245802?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/pavloburykh",
    "html_url": "https://github.com/pavloburykh",
    "followers_url": "https://api.github.com/users/pavloburykh/followers",
    "following_url": "https://api.github.com/users/pavloburykh/following{/other_user}",
    "gists_url": "https://api.github.com/users/pavloburykh/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/pavloburykh/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/pavloburykh/subscriptions",
    "organizations_url": "https://api.github.com/users/pavloburykh/orgs",
    "repos_url": "https://api.github.com/users/pavloburykh/repos",
    "events_url": "https://api.github.com/users/pavloburykh/events{/privacy}",
    "received_events_url": "https://api.github.com/users/pavloburykh/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 330296931,
      "node_id": "MDU6TGFiZWwzMzAyOTY5MzE=",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/bug",
      "name": "bug",
      "color": "fc2929",
      "default": true,
      "description": null
    },
    {
      "id": 4011385439,
      "node_id": "LA_kwDOAx4p2c7vGOJf",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/E:MobileMessagingRD",
      "name": "E:MobileMessagingRD",
      "color": "DC23F8",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": {
    "url": "https://api.github.com/repos/status-im/status-mobile/milestones/62",
    "html_url": "https://github.com/status-im/status-mobile/milestone/62",
    "labels_url": "https://api.github.com/repos/status-im/status-mobile/milestones/62/labels",
    "id": 8714443,
    "node_id": "MI_kwDOAx4p2c4AhPjL",
    "number": 62,
    "title": "1.21.0-rc.1",
    "description": "",
    "creator": {
      "login": "cammellos",
      "id": 1017008,
      "node_id": "MDQ6VXNlcjEwMTcwMDg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1017008?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cammellos",
      "html_url": "https://github.com/cammellos",
      "followers_url": "https://api.github.com/users/cammellos/followers",
      "following_url": "https://api.github.com/users/cammellos/following{/other_user}",
      "gists_url": "https://api.github.com/users/cammellos/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cammellos/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cammellos/subscriptions",
      "organizations_url": "https://api.github.com/users/cammellos/orgs",
      "repos_url": "https://api.github.com/users/cammellos/repos",
      "events_url": "https://api.github.com/users/cammellos/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cammellos/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 0,
    "closed_issues": 114,
    "state": "closed",
    "created_at": "2022-12-02T16:12:04Z",
    "updated_at": "2023-02-27T11:06:34Z",
    "due_on": null,
    "closed_at": "2023-02-27T11:06:34Z"
  },
  "comments": 3,
  "created_at": "2022-12-27T14:23:39Z",
  "updated_at": "2023-01-13T16:00:11Z",
  "closed_at": "2023-01-13T16:00:11Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "Currently, there are no specific steps of how to reproduce the bug.  Will keep on investigation and update this issue when more details will be found out. \r\n\r\nSometimes messages stop being delivered on status.prod fleet (Relogin/clearing chat history doesn't help). After some period of time (up to 10 minutes) the sent messages are delivered to receiver. \r\n\r\nhttps://user-images.githubusercontent.com/97245802/209679417-dbea3c6f-0fa3-4edf-ad3a-54079abc2423.mp4\r\n\r\n[sender_logs.log](https://github.com/status-im/status-mobile/files/10308647/sender_logs.log)\r\n\r\nAttaching sender device logs, maybe they might be helpful in finding the root cause. \r\n\r\n[sender_geth.log](https://github.com/status-im/status-mobile/files/10308659/sender_geth.log)\r\n[sender_status.log](https://github.com/status-im/status-mobile/files/10308660/sender_status.log)\r\n\r\n\r\n### Additional Information\r\n\r\n- Status version: nightly \r\n- Operating System: Android, iOS\r\n\r\n\r\n[comment]: # (Please, add logs/notes if necessary)\r\n\r\n",
  "closed_by": {
    "login": "pavloburykh",
    "id": 97245802,
    "node_id": "U_kgDOBcvaag",
    "avatar_url": "https://avatars.githubusercontent.com/u/97245802?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/pavloburykh",
    "html_url": "https://github.com/pavloburykh",
    "followers_url": "https://api.github.com/users/pavloburykh/followers",
    "following_url": "https://api.github.com/users/pavloburykh/following{/other_user}",
    "gists_url": "https://api.github.com/users/pavloburykh/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/pavloburykh/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/pavloburykh/subscriptions",
    "organizations_url": "https://api.github.com/users/pavloburykh/orgs",
    "repos_url": "https://api.github.com/users/pavloburykh/repos",
    "events_url": "https://api.github.com/users/pavloburykh/events{/privacy}",
    "received_events_url": "https://api.github.com/users/pavloburykh/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/14647/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-mobile/issues/14647/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1372344872",
    "html_url": "https://github.com/status-im/status-mobile/issues/14647#issuecomment-1372344872",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/14647",
    "id": 1372344872,
    "node_id": "IC_kwDOAx4p2c5RzFIo",
    "user": {
      "login": "pavloburykh",
      "id": 97245802,
      "node_id": "U_kgDOBcvaag",
      "avatar_url": "https://avatars.githubusercontent.com/u/97245802?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pavloburykh",
      "html_url": "https://github.com/pavloburykh",
      "followers_url": "https://api.github.com/users/pavloburykh/followers",
      "following_url": "https://api.github.com/users/pavloburykh/following{/other_user}",
      "gists_url": "https://api.github.com/users/pavloburykh/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pavloburykh/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pavloburykh/subscriptions",
      "organizations_url": "https://api.github.com/users/pavloburykh/orgs",
      "repos_url": "https://api.github.com/users/pavloburykh/repos",
      "events_url": "https://api.github.com/users/pavloburykh/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pavloburykh/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-05T15:13:08Z",
    "updated_at": "2023-01-13T10:28:36Z",
    "author_association": "CONTRIBUTOR",
    "body": "### UPDATE\r\n\r\nWe had a call session with @qfrank. During the call we tested interaction between our users, e.g. sending contact requests, creating group chats, adding each other as members of group, messaging etc. \r\n\r\nWe figured out that most of the time @qfrank had experienced following issues:\r\n\r\n1. Contact requests that I've been sending to him appeared only after app relaunch. Before relaunch AC remained empty. \r\n2. Adding @qfrank as a member of a newly created group did not result in group to appear in his list on Messages screen.\r\n\r\nThough, sometimes everything was okay and requests were delivered once they have been sent.\r\n\r\nWe had an assumption that it could be the result of great fire wall in Chine (@qfrank is currently located there) which might block some traffic and resources. So we tried to test Status app release version 1.20.2 and it worked fine, without any issues with delivery of contacts requests, groups, messages etc. \r\n\r\nIt worth mentioning that @qfrank faces same issues on Status desktop. \r\n\r\nBelow I attached logs from @qfrank iPhone and from my device, maybe it might help somehow. \r\n\r\npavlo_logs.zip - are mine logs as contact request sender\r\nqfrank_logs.zip - are @qfrank logs as contacts request receiver\r\n\r\n[pavlo_logs.zip](https://github.com/status-im/status-mobile/files/10353218/pavlo_logs.zip)\r\n[qfarnk_logs.zip](https://github.com/status-im/status-mobile/files/10353219/qfarnk_logs.zip)\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1372344872/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1381622945",
    "html_url": "https://github.com/status-im/status-mobile/issues/14647#issuecomment-1381622945",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/14647",
    "id": 1381622945,
    "node_id": "IC_kwDOAx4p2c5SWeSh",
    "user": {
      "login": "pavloburykh",
      "id": 97245802,
      "node_id": "U_kgDOBcvaag",
      "avatar_url": "https://avatars.githubusercontent.com/u/97245802?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pavloburykh",
      "html_url": "https://github.com/pavloburykh",
      "followers_url": "https://api.github.com/users/pavloburykh/followers",
      "following_url": "https://api.github.com/users/pavloburykh/following{/other_user}",
      "gists_url": "https://api.github.com/users/pavloburykh/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pavloburykh/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pavloburykh/subscriptions",
      "organizations_url": "https://api.github.com/users/pavloburykh/orgs",
      "repos_url": "https://api.github.com/users/pavloburykh/repos",
      "events_url": "https://api.github.com/users/pavloburykh/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pavloburykh/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-13T10:26:20Z",
    "updated_at": "2023-01-13T10:26:20Z",
    "author_association": "CONTRIBUTOR",
    "body": "Recent example of messages delivery delay in community channel. Captured on PR build https://github.com/status-im/status-mobile/pull/14700\r\n\r\nhttps://user-images.githubusercontent.com/97245802/212297179-02a858cf-f8de-4206-87dc-ca699be97820.mp4\r\n\r\n[receiver_logs.zip](https://github.com/status-im/status-mobile/files/10410565/receiver_logs.zip)\r\n[sender_logs.zip](https://github.com/status-im/status-mobile/files/10410566/sender_logs.zip)\r\n\r\nAlso, we are often facing issue of delay in delivery of contact requests. User A adds User B to contact list. Actual result: User B receives User's A CR after couple of minutes.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1381622945/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1382054793",
    "html_url": "https://github.com/status-im/status-mobile/issues/14647#issuecomment-1382054793",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/14647",
    "id": 1382054793,
    "node_id": "IC_kwDOAx4p2c5SYHuJ",
    "user": {
      "login": "pavloburykh",
      "id": 97245802,
      "node_id": "U_kgDOBcvaag",
      "avatar_url": "https://avatars.githubusercontent.com/u/97245802?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pavloburykh",
      "html_url": "https://github.com/pavloburykh",
      "followers_url": "https://api.github.com/users/pavloburykh/followers",
      "following_url": "https://api.github.com/users/pavloburykh/following{/other_user}",
      "gists_url": "https://api.github.com/users/pavloburykh/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pavloburykh/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pavloburykh/subscriptions",
      "organizations_url": "https://api.github.com/users/pavloburykh/orgs",
      "repos_url": "https://api.github.com/users/pavloburykh/repos",
      "events_url": "https://api.github.com/users/pavloburykh/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pavloburykh/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-13T16:00:11Z",
    "updated_at": "2023-01-13T16:00:11Z",
    "author_association": "CONTRIBUTOR",
    "body": "Updated cases in new issue https://github.com/status-im/status-mobile/issues/14777 Closing this one as duplicate. ",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1382054793/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
