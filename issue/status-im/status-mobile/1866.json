{
  "url": "https://api.github.com/repos/status-im/status-mobile/issues/1866",
  "repository_url": "https://api.github.com/repos/status-im/status-mobile",
  "labels_url": "https://api.github.com/repos/status-im/status-mobile/issues/1866/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-mobile/issues/1866/comments",
  "events_url": "https://api.github.com/repos/status-im/status-mobile/issues/1866/events",
  "html_url": "https://github.com/status-im/status-mobile/issues/1866",
  "id": 258042965,
  "node_id": "MDU6SXNzdWUyNTgwNDI5NjU=",
  "number": 1866,
  "title": "Push notifications end to end v1",
  "user": {
    "login": "oskarth",
    "id": 1552237,
    "node_id": "MDQ6VXNlcjE1NTIyMzc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1552237?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/oskarth",
    "html_url": "https://github.com/oskarth",
    "followers_url": "https://api.github.com/users/oskarth/followers",
    "following_url": "https://api.github.com/users/oskarth/following{/other_user}",
    "gists_url": "https://api.github.com/users/oskarth/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/oskarth/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/oskarth/subscriptions",
    "organizations_url": "https://api.github.com/users/oskarth/orgs",
    "repos_url": "https://api.github.com/users/oskarth/repos",
    "events_url": "https://api.github.com/users/oskarth/events{/privacy}",
    "received_events_url": "https://api.github.com/users/oskarth/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "oskarth",
    "id": 1552237,
    "node_id": "MDQ6VXNlcjE1NTIyMzc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1552237?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/oskarth",
    "html_url": "https://github.com/oskarth",
    "followers_url": "https://api.github.com/users/oskarth/followers",
    "following_url": "https://api.github.com/users/oskarth/following{/other_user}",
    "gists_url": "https://api.github.com/users/oskarth/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/oskarth/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/oskarth/subscriptions",
    "organizations_url": "https://api.github.com/users/oskarth/orgs",
    "repos_url": "https://api.github.com/users/oskarth/repos",
    "events_url": "https://api.github.com/users/oskarth/events{/privacy}",
    "received_events_url": "https://api.github.com/users/oskarth/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "oskarth",
      "id": 1552237,
      "node_id": "MDQ6VXNlcjE1NTIyMzc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1552237?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/oskarth",
      "html_url": "https://github.com/oskarth",
      "followers_url": "https://api.github.com/users/oskarth/followers",
      "following_url": "https://api.github.com/users/oskarth/following{/other_user}",
      "gists_url": "https://api.github.com/users/oskarth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/oskarth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/oskarth/subscriptions",
      "organizations_url": "https://api.github.com/users/oskarth/orgs",
      "repos_url": "https://api.github.com/users/oskarth/repos",
      "events_url": "https://api.github.com/users/oskarth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/oskarth/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": {
    "url": "https://api.github.com/repos/status-im/status-mobile/milestones/15",
    "html_url": "https://github.com/status-im/status-mobile/milestone/15",
    "labels_url": "https://api.github.com/repos/status-im/status-mobile/milestones/15/labels",
    "id": 2735233,
    "node_id": "MDk6TWlsZXN0b25lMjczNTIzMw==",
    "number": 15,
    "title": "0.9.12",
    "description": "Finalize Wallet, introduce updated Discover, Network Switching, and MVP of Push Notifications",
    "creator": {
      "login": "sla-shi",
      "id": 1944596,
      "node_id": "MDQ6VXNlcjE5NDQ1OTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1944596?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/sla-shi",
      "html_url": "https://github.com/sla-shi",
      "followers_url": "https://api.github.com/users/sla-shi/followers",
      "following_url": "https://api.github.com/users/sla-shi/following{/other_user}",
      "gists_url": "https://api.github.com/users/sla-shi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/sla-shi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/sla-shi/subscriptions",
      "organizations_url": "https://api.github.com/users/sla-shi/orgs",
      "repos_url": "https://api.github.com/users/sla-shi/repos",
      "events_url": "https://api.github.com/users/sla-shi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/sla-shi/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 0,
    "closed_issues": 221,
    "state": "closed",
    "created_at": "2017-08-31T08:33:27Z",
    "updated_at": "2017-11-08T12:43:09Z",
    "due_on": "2017-10-23T07:00:00Z",
    "closed_at": "2017-11-08T12:43:09Z"
  },
  "comments": 4,
  "created_at": "2017-09-15T13:38:43Z",
  "updated_at": "2017-10-13T13:29:32Z",
  "closed_at": "2017-10-13T13:29:32Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "### User Story\r\n\r\nAs a user, I want to receive a push notification when a person in my contacts messages me and I have the app in background, so that I don't have to have the app in the foreground all the time.\r\n\r\n### Description\r\n\r\n*Type*: Feature\r\n\r\n*Summary*:  If A has B as a contact, send a push notification to B.\r\n\r\nBelongs with https://github.com/status-im/status-go/pull/327. No payload in notifications. Bindings only with iOS. Update: now it comes with Android bindings too.\r\n\r\n### Notes to reviewers\r\n\r\nMinimal v1 end to end. It will be expanded and cleaned up in future PRs.\r\n\r\n- `fcm-token` is exchanged upon contact request and persisted in memory, just like name/status etc. To know a person is to have an address to them. In later iterations this might be replaced.\r\n- Bindings for iOS. Signature will change in future iterations for status-go. Bindings for Android to trigger notifications will come later.\r\n- Notifications trigger will be sent alongside a normal 1on1 message if `fcm-token` is present in 1on1 chats.\r\n\r\n### Notes to testers\r\n\r\n- Account A: Use iOS simulator or real iOS device.\r\n- Account B: Use a notification-enabled device (Android real device, iOS real device, or Android genymotion with google-play services).\r\n- A adds B as a contact. This way A gets B's `fcm-token` (like an address to someone's device).\r\n- B backgrounds app.\r\n- A sends message to B.\r\n- B should now see a push notification that says they got a message.",
  "closed_by": {
    "login": "oskarth",
    "id": 1552237,
    "node_id": "MDQ6VXNlcjE1NTIyMzc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1552237?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/oskarth",
    "html_url": "https://github.com/oskarth",
    "followers_url": "https://api.github.com/users/oskarth/followers",
    "following_url": "https://api.github.com/users/oskarth/following{/other_user}",
    "gists_url": "https://api.github.com/users/oskarth/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/oskarth/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/oskarth/subscriptions",
    "organizations_url": "https://api.github.com/users/oskarth/orgs",
    "repos_url": "https://api.github.com/users/oskarth/repos",
    "events_url": "https://api.github.com/users/oskarth/events{/privacy}",
    "received_events_url": "https://api.github.com/users/oskarth/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/1866/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-mobile/issues/1866/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/330173603",
    "html_url": "https://github.com/status-im/status-mobile/issues/1866#issuecomment-330173603",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/1866",
    "id": 330173603,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMDE3MzYwMw==",
    "user": {
      "login": "oskarth",
      "id": 1552237,
      "node_id": "MDQ6VXNlcjE1NTIyMzc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1552237?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/oskarth",
      "html_url": "https://github.com/oskarth",
      "followers_url": "https://api.github.com/users/oskarth/followers",
      "following_url": "https://api.github.com/users/oskarth/following{/other_user}",
      "gists_url": "https://api.github.com/users/oskarth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/oskarth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/oskarth/subscriptions",
      "organizations_url": "https://api.github.com/users/oskarth/orgs",
      "repos_url": "https://api.github.com/users/oskarth/repos",
      "events_url": "https://api.github.com/users/oskarth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/oskarth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-18T09:49:50Z",
    "updated_at": "2017-09-18T12:17:37Z",
    "author_association": "CONTRIBUTOR",
    "body": "Did some QA and here's the current state as of latest build.\r\n\r\nAll new accounts, all have each other as contacts (some added via public key, some added with 'add to contact').\r\n\r\n| Name      | Device  | Type           | Receive | Trigger | Regressions |\r\n| ----------| ------- | -------------- | --------| ------- | ----------- |\r\n| Gripping  | iOS     | Real 6s        | YES     | YES     | R2          |\r\n| Timely    | iOS     | Simulator      | N/A     | YES     | R2          |\r\n| Buttery   | Android | Real Honor 8   | NO*     | NO(R1)      | R1, R2      |\r\n| Plastic   | Android | Simulator Geny | YES     | NO(R1)     | R1, R2      |\r\n\r\nR1: Android NoSuchMethod FFI when trying to trigger PN, known issue and debugged with @roman - seems like it is because we have to versions of status-go in app (react-native-webview). UPDATE: New build triggered after noon CET time hopefully solves this.\r\n\r\nR2: Trying to grok exactly what this is, but even if notifications appear messages can be lost. Even if in foreground. Will update table as I investigated more.\r\n\r\nUPDATE: It appears R2 is just something with my Honor 8 setup and has been captured in other issues. R1 has been solved by latest build.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/330173603/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/330184250",
    "html_url": "https://github.com/status-im/status-mobile/issues/1866#issuecomment-330184250",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/1866",
    "id": 330184250,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMDE4NDI1MA==",
    "user": {
      "login": "asemiankevich",
      "id": 28752642,
      "node_id": "MDQ6VXNlcjI4NzUyNjQy",
      "avatar_url": "https://avatars.githubusercontent.com/u/28752642?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/asemiankevich",
      "html_url": "https://github.com/asemiankevich",
      "followers_url": "https://api.github.com/users/asemiankevich/followers",
      "following_url": "https://api.github.com/users/asemiankevich/following{/other_user}",
      "gists_url": "https://api.github.com/users/asemiankevich/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/asemiankevich/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/asemiankevich/subscriptions",
      "organizations_url": "https://api.github.com/users/asemiankevich/orgs",
      "repos_url": "https://api.github.com/users/asemiankevich/repos",
      "events_url": "https://api.github.com/users/asemiankevich/events{/privacy}",
      "received_events_url": "https://api.github.com/users/asemiankevich/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-18T10:44:05Z",
    "updated_at": "2017-09-18T10:44:05Z",
    "author_association": "CONTRIBUTOR",
    "body": "What i have found so far: \r\n\r\n1. Android NoSuchMethod FFI\r\n![image](https://user-images.githubusercontent.com/28752642/30538522-12379114-9c77-11e7-893f-c6f0e1a86ed1.png)\r\n\r\n2. Send message from Android to iOS -> Receive Android NoSuchMethod FFI -> Send any message from iPhone to Android: message is not shown for Android in 1x1 chat. However the Huawei to iPhone messaging works still\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/330184250/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/330201615",
    "html_url": "https://github.com/status-im/status-mobile/issues/1866#issuecomment-330201615",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/1866",
    "id": 330201615,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzMDIwMTYxNQ==",
    "user": {
      "login": "asemiankevich",
      "id": 28752642,
      "node_id": "MDQ6VXNlcjI4NzUyNjQy",
      "avatar_url": "https://avatars.githubusercontent.com/u/28752642?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/asemiankevich",
      "html_url": "https://github.com/asemiankevich",
      "followers_url": "https://api.github.com/users/asemiankevich/followers",
      "following_url": "https://api.github.com/users/asemiankevich/following{/other_user}",
      "gists_url": "https://api.github.com/users/asemiankevich/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/asemiankevich/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/asemiankevich/subscriptions",
      "organizations_url": "https://api.github.com/users/asemiankevich/orgs",
      "repos_url": "https://api.github.com/users/asemiankevich/repos",
      "events_url": "https://api.github.com/users/asemiankevich/events{/privacy}",
      "received_events_url": "https://api.github.com/users/asemiankevich/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-18T12:14:56Z",
    "updated_at": "2017-09-18T12:14:56Z",
    "author_association": "CONTRIBUTOR",
    "body": "NOTE: the Android NoSuchMethod FFI is not reproducible in latest build https://i.diawi.com/cZHGBb",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/330201615/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/336452638",
    "html_url": "https://github.com/status-im/status-mobile/issues/1866#issuecomment-336452638",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/1866",
    "id": 336452638,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMzNjQ1MjYzOA==",
    "user": {
      "login": "oskarth",
      "id": 1552237,
      "node_id": "MDQ6VXNlcjE1NTIyMzc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1552237?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/oskarth",
      "html_url": "https://github.com/oskarth",
      "followers_url": "https://api.github.com/users/oskarth/followers",
      "following_url": "https://api.github.com/users/oskarth/following{/other_user}",
      "gists_url": "https://api.github.com/users/oskarth/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/oskarth/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/oskarth/subscriptions",
      "organizations_url": "https://api.github.com/users/oskarth/orgs",
      "repos_url": "https://api.github.com/users/oskarth/repos",
      "events_url": "https://api.github.com/users/oskarth/events{/privacy}",
      "received_events_url": "https://api.github.com/users/oskarth/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-10-13T13:29:32Z",
    "updated_at": "2017-10-13T13:29:32Z",
    "author_association": "CONTRIBUTOR",
    "body": "Fixed in develop since a few weeks back, will be in 0.9.12",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/336452638/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
