{
  "url": "https://api.github.com/repos/status-im/status-mobile/issues/16786",
  "repository_url": "https://api.github.com/repos/status-im/status-mobile",
  "labels_url": "https://api.github.com/repos/status-im/status-mobile/issues/16786/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-mobile/issues/16786/comments",
  "events_url": "https://api.github.com/repos/status-im/status-mobile/issues/16786/events",
  "html_url": "https://github.com/status-im/status-mobile/issues/16786",
  "id": 1822582026,
  "node_id": "I_kwDOAx4p2c5somUK",
  "number": 16786,
  "title": "Messages in synced device can be lost (reproduced on group chats)",
  "user": {
    "login": "churik",
    "id": 4557972,
    "node_id": "MDQ6VXNlcjQ1NTc5NzI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4557972?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/churik",
    "html_url": "https://github.com/churik",
    "followers_url": "https://api.github.com/users/churik/followers",
    "following_url": "https://api.github.com/users/churik/following{/other_user}",
    "gists_url": "https://api.github.com/users/churik/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/churik/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/churik/subscriptions",
    "organizations_url": "https://api.github.com/users/churik/orgs",
    "repos_url": "https://api.github.com/users/churik/repos",
    "events_url": "https://api.github.com/users/churik/events{/privacy}",
    "received_events_url": "https://api.github.com/users/churik/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 3990911030,
      "node_id": "LA_kwDOAx4p2c7t4Hg2",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/E:Mobile%20Bugfixes%20MVP",
      "name": "E:Mobile Bugfixes MVP",
      "color": "32BD0C",
      "default": false,
      "description": ""
    },
    {
      "id": 3990919470,
      "node_id": "LA_kwDOAx4p2c7t4Jku",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/E:Mobile%20Syncing%20MVP",
      "name": "E:Mobile Syncing MVP",
      "color": "303365",
      "default": false,
      "description": ""
    },
    {
      "id": 4011385439,
      "node_id": "LA_kwDOAx4p2c7vGOJf",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/E:Mobile%20Messaging%20MVP",
      "name": "E:Mobile Messaging MVP",
      "color": "DC23F8",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2023-07-26T14:44:32Z",
  "updated_at": "2023-07-27T13:27:22Z",
  "closed_at": null,
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "# Bug Report\r\n\r\n\r\n## Problem \r\nCurrently when taking the synced app back from the background may cause or significant delay or loss of messages on one of the devices.\r\n\r\nIt is reproducible in group chats (not 100%). I reproduced it a couple of times but then couldn't - messages arrived quickly. \r\nThe initial messages that were lost did not get delivered whatsoever.\r\n\r\n#### Expected behavior\r\nmessages are coming to both devices\r\n\r\n#### Actual behavior\r\nDevice B(mobile): received all the PNs, but only part of the messages (>50% were missing)\r\nOn the photo it is an example of the part which is missing:\r\n<img width=\"816\" alt=\"Status Desktop 2023-07-26 16-33-39\" src=\"https://github.com/status-im/status-mobile/assets/4557972/b9a5ca8f-0702-40e2-b7a9-785bda441907\">\r\n\r\nThe video is about real-time messages fetching on synced device (only 14 of 40, re-login didn't help)\r\n\r\nhttps://github.com/status-im/status-mobile/assets/4557972/1cd8f04a-0069-4aa2-ab8e-9a000370fb7c\r\n\r\nThe state of these messages is \"Delivered\" on the sender side.\r\n\r\n\r\n### Reproduction\r\n\r\n**Three devices: Device A (desktop) and B(mobile) with synced User1, Device C with User2**'\r\n\r\n1. **User2**: start four group chats including User1 \r\n2. **Device B(mobile)**: put the app to background\r\n3. **Device A(desktop)**:  minimize desktop app\r\n4. **User2**: send 10 messages to each chat\r\n5. **Device B(mobile)**: check new messages\r\n6. **Device A(desktop)**: check new messages\r\n\r\n### Additional Information\r\n\r\n- Status version: nightly 26/07/2023\r\n- Operating System: Android, iOS\r\n\r\nLogs from device B(mobile), receiver on synced device:  [logs (53).zip](https://github.com/status-im/status-mobile/files/12173826/logs.53.zip)\r\nLogs from sender:  [Status-debug-logs.zip](https://github.com/status-im/status-mobile/files/12173836/Status-debug-logs.zip)\r\n\r\nAn example of bunch of not-received 10 messages is on the screenshot: from 12:43 to 14:28 (Madrid time) in `gr ch1` group chat\r\n\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/16786/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-mobile/issues/16786/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1651966050",
    "html_url": "https://github.com/status-im/status-mobile/issues/16786#issuecomment-1651966050",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/16786",
    "id": 1651966050,
    "node_id": "IC_kwDOAx4p2c5idwBi",
    "user": {
      "login": "churik",
      "id": 4557972,
      "node_id": "MDQ6VXNlcjQ1NTc5NzI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4557972?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/churik",
      "html_url": "https://github.com/churik",
      "followers_url": "https://api.github.com/users/churik/followers",
      "following_url": "https://api.github.com/users/churik/following{/other_user}",
      "gists_url": "https://api.github.com/users/churik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/churik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/churik/subscriptions",
      "organizations_url": "https://api.github.com/users/churik/orgs",
      "repos_url": "https://api.github.com/users/churik/repos",
      "events_url": "https://api.github.com/users/churik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/churik/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-26T14:48:37Z",
    "updated_at": "2023-07-26T14:48:37Z",
    "author_association": "MEMBER",
    "body": "cc @Samyoul \r\n",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1651966050/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1653629882",
    "html_url": "https://github.com/status-im/status-mobile/issues/16786#issuecomment-1653629882",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/16786",
    "id": 1653629882,
    "node_id": "IC_kwDOAx4p2c5ikGO6",
    "user": {
      "login": "churik",
      "id": 4557972,
      "node_id": "MDQ6VXNlcjQ1NTc5NzI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4557972?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/churik",
      "html_url": "https://github.com/churik",
      "followers_url": "https://api.github.com/users/churik/followers",
      "following_url": "https://api.github.com/users/churik/following{/other_user}",
      "gists_url": "https://api.github.com/users/churik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/churik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/churik/subscriptions",
      "organizations_url": "https://api.github.com/users/churik/orgs",
      "repos_url": "https://api.github.com/users/churik/repos",
      "events_url": "https://api.github.com/users/churik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/churik/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-27T13:27:22Z",
    "updated_at": "2023-07-27T13:27:22Z",
    "author_association": "MEMBER",
    "body": "сс @siphiuel ",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1653629882/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
