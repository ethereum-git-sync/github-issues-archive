{
  "url": "https://api.github.com/repos/status-im/status-mobile/issues/10841",
  "repository_url": "https://api.github.com/repos/status-im/status-mobile",
  "labels_url": "https://api.github.com/repos/status-im/status-mobile/issues/10841/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-mobile/issues/10841/comments",
  "events_url": "https://api.github.com/repos/status-im/status-mobile/issues/10841/events",
  "html_url": "https://github.com/status-im/status-mobile/issues/10841",
  "id": 640781466,
  "node_id": "MDU6SXNzdWU2NDA3ODE0NjY=",
  "number": 10841,
  "title": "Status is giving notifications when there is nothing new",
  "user": {
    "login": "3esmit",
    "id": 224810,
    "node_id": "MDQ6VXNlcjIyNDgxMA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/224810?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/3esmit",
    "html_url": "https://github.com/3esmit",
    "followers_url": "https://api.github.com/users/3esmit/followers",
    "following_url": "https://api.github.com/users/3esmit/following{/other_user}",
    "gists_url": "https://api.github.com/users/3esmit/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/3esmit/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/3esmit/subscriptions",
    "organizations_url": "https://api.github.com/users/3esmit/orgs",
    "repos_url": "https://api.github.com/users/3esmit/repos",
    "events_url": "https://api.github.com/users/3esmit/events{/privacy}",
    "received_events_url": "https://api.github.com/users/3esmit/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 330296931,
      "node_id": "MDU6TGFiZWwzMzAyOTY5MzE=",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/bug",
      "name": "bug",
      "color": "fc2929",
      "default": true,
      "description": null
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 8,
  "created_at": "2020-06-17T22:28:57Z",
  "updated_at": "2020-08-20T17:43:47Z",
  "closed_at": "2020-08-20T17:43:46Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "# Bug Report\n## Problem\nI created a new account to review a translation, using Status PR, which only had that account on it. \nI enabled notifications, looked around the texts, and turned off the screen. Randomly I get a notification, when I unlock the device to see the notifications, the only thing that's changed is the age of the background service notification.\n\n#### Expected behavior\nBe notified only on new messages (of my contacts).\n\n#### Actual behavior\nNotification happens even if I am not in any room, or have any contacts. Seems like the background service is restarted and it notifies again. \n\n#### Notes\nMight be related to #10840\n\nTested with this build https://status-im-prs.ams3.digitaloceanspaces.com/StatusIm-200608-161609-c10166-universal.apk\n\n#### Acceptance Criteria\n\n\n* [ ] Background service don't make a notification.\n* [ ] Notification only happens on new messages.\n\n#### Additional information\nBuild StatusIm-200616-155619-798c46-pr-universal.apk\n\n",
  "closed_by": {
    "login": "3esmit",
    "id": 224810,
    "node_id": "MDQ6VXNlcjIyNDgxMA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/224810?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/3esmit",
    "html_url": "https://github.com/3esmit",
    "followers_url": "https://api.github.com/users/3esmit/followers",
    "following_url": "https://api.github.com/users/3esmit/following{/other_user}",
    "gists_url": "https://api.github.com/users/3esmit/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/3esmit/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/3esmit/subscriptions",
    "organizations_url": "https://api.github.com/users/3esmit/orgs",
    "repos_url": "https://api.github.com/users/3esmit/repos",
    "events_url": "https://api.github.com/users/3esmit/events{/privacy}",
    "received_events_url": "https://api.github.com/users/3esmit/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/10841/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-mobile/issues/10841/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/645850120",
    "html_url": "https://github.com/status-im/status-mobile/issues/10841#issuecomment-645850120",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/10841",
    "id": 645850120,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0NTg1MDEyMA==",
    "user": {
      "login": "churik",
      "id": 4557972,
      "node_id": "MDQ6VXNlcjQ1NTc5NzI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4557972?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/churik",
      "html_url": "https://github.com/churik",
      "followers_url": "https://api.github.com/users/churik/followers",
      "following_url": "https://api.github.com/users/churik/following{/other_user}",
      "gists_url": "https://api.github.com/users/churik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/churik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/churik/subscriptions",
      "organizations_url": "https://api.github.com/users/churik/orgs",
      "repos_url": "https://api.github.com/users/churik/repos",
      "events_url": "https://api.github.com/users/churik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/churik/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-18T07:58:52Z",
    "updated_at": "2020-06-18T08:34:01Z",
    "author_association": "MEMBER",
    "body": "@3esmit can you please specify Android version and device?\r\nafter what time approximately notifications are starting to appear?\r\nThank you for reporting, we are investigating it.\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/645850120/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/645985226",
    "html_url": "https://github.com/status-im/status-mobile/issues/10841#issuecomment-645985226",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/10841",
    "id": 645985226,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0NTk4NTIyNg==",
    "user": {
      "login": "3esmit",
      "id": 224810,
      "node_id": "MDQ6VXNlcjIyNDgxMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/224810?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/3esmit",
      "html_url": "https://github.com/3esmit",
      "followers_url": "https://api.github.com/users/3esmit/followers",
      "following_url": "https://api.github.com/users/3esmit/following{/other_user}",
      "gists_url": "https://api.github.com/users/3esmit/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/3esmit/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/3esmit/subscriptions",
      "organizations_url": "https://api.github.com/users/3esmit/orgs",
      "repos_url": "https://api.github.com/users/3esmit/repos",
      "events_url": "https://api.github.com/users/3esmit/events{/privacy}",
      "received_events_url": "https://api.github.com/users/3esmit/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-18T12:26:37Z",
    "updated_at": "2020-06-18T12:26:37Z",
    "author_association": "MEMBER",
    "body": "Android 8.1.0\r\n\r\nTakes about 1 hour to happen. Open Status and turn off screen. Sometime later it will happen. Is randomly happening, seems like that the background service is killed and restarted, causing the problem.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/645985226/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/646027604",
    "html_url": "https://github.com/status-im/status-mobile/issues/10841#issuecomment-646027604",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/10841",
    "id": 646027604,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0NjAyNzYwNA==",
    "user": {
      "login": "yenda",
      "id": 1181225,
      "node_id": "MDQ6VXNlcjExODEyMjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1181225?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yenda",
      "html_url": "https://github.com/yenda",
      "followers_url": "https://api.github.com/users/yenda/followers",
      "following_url": "https://api.github.com/users/yenda/following{/other_user}",
      "gists_url": "https://api.github.com/users/yenda/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yenda/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yenda/subscriptions",
      "organizations_url": "https://api.github.com/users/yenda/orgs",
      "repos_url": "https://api.github.com/users/yenda/repos",
      "events_url": "https://api.github.com/users/yenda/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yenda/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-18T13:47:01Z",
    "updated_at": "2020-06-18T13:47:01Z",
    "author_association": "CONTRIBUTOR",
    "body": "What is the device",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/646027604/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/646028245",
    "html_url": "https://github.com/status-im/status-mobile/issues/10841#issuecomment-646028245",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/10841",
    "id": 646028245,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0NjAyODI0NQ==",
    "user": {
      "login": "churik",
      "id": 4557972,
      "node_id": "MDQ6VXNlcjQ1NTc5NzI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4557972?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/churik",
      "html_url": "https://github.com/churik",
      "followers_url": "https://api.github.com/users/churik/followers",
      "following_url": "https://api.github.com/users/churik/following{/other_user}",
      "gists_url": "https://api.github.com/users/churik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/churik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/churik/subscriptions",
      "organizations_url": "https://api.github.com/users/churik/orgs",
      "repos_url": "https://api.github.com/users/churik/repos",
      "events_url": "https://api.github.com/users/churik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/churik/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-18T13:48:11Z",
    "updated_at": "2020-06-18T13:48:11Z",
    "author_association": "MEMBER",
    "body": "Didn't happen to me on Android 10 / Xiaomi Mi Note 9",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/646028245/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/646344849",
    "html_url": "https://github.com/status-im/status-mobile/issues/10841#issuecomment-646344849",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/10841",
    "id": 646344849,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0NjM0NDg0OQ==",
    "user": {
      "login": "3esmit",
      "id": 224810,
      "node_id": "MDQ6VXNlcjIyNDgxMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/224810?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/3esmit",
      "html_url": "https://github.com/3esmit",
      "followers_url": "https://api.github.com/users/3esmit/followers",
      "following_url": "https://api.github.com/users/3esmit/following{/other_user}",
      "gists_url": "https://api.github.com/users/3esmit/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/3esmit/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/3esmit/subscriptions",
      "organizations_url": "https://api.github.com/users/3esmit/orgs",
      "repos_url": "https://api.github.com/users/3esmit/repos",
      "events_url": "https://api.github.com/users/3esmit/events{/privacy}",
      "received_events_url": "https://api.github.com/users/3esmit/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-18T22:54:40Z",
    "updated_at": "2020-06-18T22:54:40Z",
    "author_association": "MEMBER",
    "body": "> What is the device\r\n\r\nOne Plus 5T",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/646344849/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/646505573",
    "html_url": "https://github.com/status-im/status-mobile/issues/10841#issuecomment-646505573",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/10841",
    "id": 646505573,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0NjUwNTU3Mw==",
    "user": {
      "login": "yenda",
      "id": 1181225,
      "node_id": "MDQ6VXNlcjExODEyMjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1181225?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yenda",
      "html_url": "https://github.com/yenda",
      "followers_url": "https://api.github.com/users/yenda/followers",
      "following_url": "https://api.github.com/users/yenda/following{/other_user}",
      "gists_url": "https://api.github.com/users/yenda/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yenda/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yenda/subscriptions",
      "organizations_url": "https://api.github.com/users/yenda/orgs",
      "repos_url": "https://api.github.com/users/yenda/repos",
      "events_url": "https://api.github.com/users/yenda/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yenda/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-19T08:15:02Z",
    "updated_at": "2020-06-19T08:15:37Z",
    "author_association": "CONTRIBUTOR",
    "body": "@3esmit yeah that is what I suspected, I have a OnePlus too, afaik it's the only Android flavor that doesn't respect the guideline. They have a very aggressive battery saving algorithm that ends up killing anything that isn't on their whitelist, which is just a bunch of Fitness apps such as Google Fit. The solution that seems to work is:\r\n\r\n\r\n> - In the app switcher (bottom right square button of your phone screen) press the 3 dots on the top right corner above status app\r\n> - tap on Lock\r\n> - press the 3 dots again and go to App Info, tap advanced at the bottom then Battery optimization\r\n> - select Don't optimize and you are set",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/646505573/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/669135384",
    "html_url": "https://github.com/status-im/status-mobile/issues/10841#issuecomment-669135384",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/10841",
    "id": 669135384,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2OTEzNTM4NA==",
    "user": {
      "login": "hesterbruikman",
      "id": 35233054,
      "node_id": "MDQ6VXNlcjM1MjMzMDU0",
      "avatar_url": "https://avatars.githubusercontent.com/u/35233054?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hesterbruikman",
      "html_url": "https://github.com/hesterbruikman",
      "followers_url": "https://api.github.com/users/hesterbruikman/followers",
      "following_url": "https://api.github.com/users/hesterbruikman/following{/other_user}",
      "gists_url": "https://api.github.com/users/hesterbruikman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hesterbruikman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hesterbruikman/subscriptions",
      "organizations_url": "https://api.github.com/users/hesterbruikman/orgs",
      "repos_url": "https://api.github.com/users/hesterbruikman/repos",
      "events_url": "https://api.github.com/users/hesterbruikman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hesterbruikman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-05T11:17:26Z",
    "updated_at": "2020-08-05T11:17:26Z",
    "author_association": "COLLABORATOR",
    "body": "@3esmit did the solution suggested by Yenda work for you? If it did I suggest closing the issue as there's not much more we can do other than work on an alternative (less privacy focused) implementation that friendlier on battery life",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/669135384/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/677805799",
    "html_url": "https://github.com/status-im/status-mobile/issues/10841#issuecomment-677805799",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/10841",
    "id": 677805799,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY3NzgwNTc5OQ==",
    "user": {
      "login": "3esmit",
      "id": 224810,
      "node_id": "MDQ6VXNlcjIyNDgxMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/224810?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/3esmit",
      "html_url": "https://github.com/3esmit",
      "followers_url": "https://api.github.com/users/3esmit/followers",
      "following_url": "https://api.github.com/users/3esmit/following{/other_user}",
      "gists_url": "https://api.github.com/users/3esmit/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/3esmit/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/3esmit/subscriptions",
      "organizations_url": "https://api.github.com/users/3esmit/orgs",
      "repos_url": "https://api.github.com/users/3esmit/repos",
      "events_url": "https://api.github.com/users/3esmit/events{/privacy}",
      "received_events_url": "https://api.github.com/users/3esmit/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-20T17:43:46Z",
    "updated_at": "2020-08-20T17:43:46Z",
    "author_association": "MEMBER",
    "body": "Yes, it helped, however Android keeps killing the background service after some time.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/677805799/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
