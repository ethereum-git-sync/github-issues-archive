{
  "url": "https://api.github.com/repos/status-im/status-mobile/issues/16873",
  "repository_url": "https://api.github.com/repos/status-im/status-mobile",
  "labels_url": "https://api.github.com/repos/status-im/status-mobile/issues/16873/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-mobile/issues/16873/comments",
  "events_url": "https://api.github.com/repos/status-im/status-mobile/issues/16873/events",
  "html_url": "https://github.com/status-im/status-mobile/issues/16873",
  "id": 1835267779,
  "node_id": "I_kwDOAx4p2c5tY_bD",
  "number": 16873,
  "title": "Data delivery issues ",
  "user": {
    "login": "qoqobolo",
    "id": 67952253,
    "node_id": "MDQ6VXNlcjY3OTUyMjUz",
    "avatar_url": "https://avatars.githubusercontent.com/u/67952253?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/qoqobolo",
    "html_url": "https://github.com/qoqobolo",
    "followers_url": "https://api.github.com/users/qoqobolo/followers",
    "following_url": "https://api.github.com/users/qoqobolo/following{/other_user}",
    "gists_url": "https://api.github.com/users/qoqobolo/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/qoqobolo/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/qoqobolo/subscriptions",
    "organizations_url": "https://api.github.com/users/qoqobolo/orgs",
    "repos_url": "https://api.github.com/users/qoqobolo/repos",
    "events_url": "https://api.github.com/users/qoqobolo/events{/privacy}",
    "received_events_url": "https://api.github.com/users/qoqobolo/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 4011385439,
      "node_id": "LA_kwDOAx4p2c7vGOJf",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/E:Mobile%20Messaging%20MVP",
      "name": "E:Mobile Messaging MVP",
      "color": "DC23F8",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2023-08-03T15:17:37Z",
  "updated_at": "2023-08-28T16:14:54Z",
  "closed_at": null,
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "# Bug Report\r\n\r\nThere are three most obvious data delivery issues that don't have exact steps to reproduce but that we encounter quite often. \r\nAs discussed, describing them here for further investigation (cc @siphiuel )\r\nLogs and other details will be added as any of these are encountered.\r\n\r\n**1. Data loss on a synced device**\r\nMost often this can be observed in group chats (as described in https://github.com/status-im/status-mobile/issues/16786 with more details) or in Status Community.\r\n\r\n**2. After background on iOS**\r\nSometimes we face the situation when data (messages/contact or membership requests/etc) stops being sent/received on iOS device after some time in background.\r\nTo start receiving/sending data again, you need to reopen the app and/or relogin.\r\n\r\n**3. Significant delivery delays in the late afternoon (for European users)**\r\nSometimes the delivery of messages/requests becomes especially long in the afternoon compared to the morning for time zones such as UTC+2, UTC +3.\r\n\r\n**4. Some particular kind of data stops being delivered for no apparent reason**\r\nFor example, you still can receive messages and contact requests, but stop getting approved to join the community.\r\nOr you can receive messages but can't receive contact requests.\r\nSometimes relogin works, sometimes it doesn't. \r\n\r\n#### _Note_\r\nSome of these scenarios may actually be the same thing. Unfortunately, it is not always possible to distinguish between a delay in delivery and a complete loss of data.",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/16873/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-mobile/issues/16873/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1664237188",
    "html_url": "https://github.com/status-im/status-mobile/issues/16873#issuecomment-1664237188",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/16873",
    "id": 1664237188,
    "node_id": "IC_kwDOAx4p2c5jMj6E",
    "user": {
      "login": "qoqobolo",
      "id": 67952253,
      "node_id": "MDQ6VXNlcjY3OTUyMjUz",
      "avatar_url": "https://avatars.githubusercontent.com/u/67952253?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/qoqobolo",
      "html_url": "https://github.com/qoqobolo",
      "followers_url": "https://api.github.com/users/qoqobolo/followers",
      "following_url": "https://api.github.com/users/qoqobolo/following{/other_user}",
      "gists_url": "https://api.github.com/users/qoqobolo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/qoqobolo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/qoqobolo/subscriptions",
      "organizations_url": "https://api.github.com/users/qoqobolo/orgs",
      "repos_url": "https://api.github.com/users/qoqobolo/repos",
      "events_url": "https://api.github.com/users/qoqobolo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/qoqobolo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-08-03T15:54:14Z",
    "updated_at": "2023-08-03T15:54:14Z",
    "author_association": "CONTRIBUTOR",
    "body": "Example with a contact request from e2e tests:\r\n1. UserA sends CR to UserB\r\n2. UserB accepts CR\r\n\r\n**Actual result:** \r\nUserB does not appear in UserA's contacts\r\n\r\n[cr_sender_admin.log](https://github.com/status-im/status-mobile/files/12252665/cr_sender_admin.log)\r\n[cr_receiver_member_2.log](https://github.com/status-im/status-mobile/files/12252667/cr_receiver_member_2.log)\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1664237188/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1667925283",
    "html_url": "https://github.com/status-im/status-mobile/issues/16873#issuecomment-1667925283",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/16873",
    "id": 1667925283,
    "node_id": "IC_kwDOAx4p2c5jaoUj",
    "user": {
      "login": "pavloburykh",
      "id": 97245802,
      "node_id": "U_kgDOBcvaag",
      "avatar_url": "https://avatars.githubusercontent.com/u/97245802?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pavloburykh",
      "html_url": "https://github.com/pavloburykh",
      "followers_url": "https://api.github.com/users/pavloburykh/followers",
      "following_url": "https://api.github.com/users/pavloburykh/following{/other_user}",
      "gists_url": "https://api.github.com/users/pavloburykh/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pavloburykh/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pavloburykh/subscriptions",
      "organizations_url": "https://api.github.com/users/pavloburykh/orgs",
      "repos_url": "https://api.github.com/users/pavloburykh/repos",
      "events_url": "https://api.github.com/users/pavloburykh/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pavloburykh/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-08-07T14:05:21Z",
    "updated_at": "2023-08-07T14:21:22Z",
    "author_association": "CONTRIBUTOR",
    "body": "> \r\n\r\nAnother example of CR not delivered. Currently it is causing the whole e2e group of tests to fail. \r\n\r\n[CR_receiver_logcut.log](https://github.com/status-im/status-mobile/files/12280689/CR_receiver_logcut.log)\r\n[CR_sender_logcat.log](https://github.com/status-im/status-mobile/files/12280690/CR_sender_logcat.log)\r\n\r\nHere is a video from saucelab\r\n\r\nDevice 1 sends CR to Device 2 https://app.eu-central-1.saucelabs.com/tests/70c14d8c67c94b509409174a9d107f85?auth=5b7b8a386f5c29002365977c4ac0bb1f#52\r\n\r\nDevice 2 does not receive CR https://app.eu-central-1.saucelabs.com/tests/b71969cb18bd4787866cac6a1068d9b5?auth=ec1bb0869ff82b5b6049c79f280834b0#55\r\n\r\nwaiting time: 60 sec",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1667925283/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1668003964",
    "html_url": "https://github.com/status-im/status-mobile/issues/16873#issuecomment-1668003964",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/16873",
    "id": 1668003964,
    "node_id": "IC_kwDOAx4p2c5ja7h8",
    "user": {
      "login": "cammellos",
      "id": 1017008,
      "node_id": "MDQ6VXNlcjEwMTcwMDg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1017008?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cammellos",
      "html_url": "https://github.com/cammellos",
      "followers_url": "https://api.github.com/users/cammellos/followers",
      "following_url": "https://api.github.com/users/cammellos/following{/other_user}",
      "gists_url": "https://api.github.com/users/cammellos/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cammellos/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cammellos/subscriptions",
      "organizations_url": "https://api.github.com/users/cammellos/orgs",
      "repos_url": "https://api.github.com/users/cammellos/repos",
      "events_url": "https://api.github.com/users/cammellos/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cammellos/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-08-07T14:43:44Z",
    "updated_at": "2023-08-07T14:43:44Z",
    "author_association": "MEMBER",
    "body": "@pavloburykh do you have the geth.log for both sender/receiver please?",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1668003964/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1668012315",
    "html_url": "https://github.com/status-im/status-mobile/issues/16873#issuecomment-1668012315",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/16873",
    "id": 1668012315,
    "node_id": "IC_kwDOAx4p2c5ja9kb",
    "user": {
      "login": "pavloburykh",
      "id": 97245802,
      "node_id": "U_kgDOBcvaag",
      "avatar_url": "https://avatars.githubusercontent.com/u/97245802?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pavloburykh",
      "html_url": "https://github.com/pavloburykh",
      "followers_url": "https://api.github.com/users/pavloburykh/followers",
      "following_url": "https://api.github.com/users/pavloburykh/following{/other_user}",
      "gists_url": "https://api.github.com/users/pavloburykh/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pavloburykh/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pavloburykh/subscriptions",
      "organizations_url": "https://api.github.com/users/pavloburykh/orgs",
      "repos_url": "https://api.github.com/users/pavloburykh/repos",
      "events_url": "https://api.github.com/users/pavloburykh/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pavloburykh/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-08-07T14:48:44Z",
    "updated_at": "2023-08-07T14:49:06Z",
    "author_association": "CONTRIBUTOR",
    "body": "> @pavloburykh do you have the geth.log for both sender/receiver please?\r\n\r\nhi @cammellos! Unfortunately all we have are the above attached logcat files. ",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1668012315/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1695968577",
    "html_url": "https://github.com/status-im/status-mobile/issues/16873#issuecomment-1695968577",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/16873",
    "id": 1695968577,
    "node_id": "IC_kwDOAx4p2c5lFm1B",
    "user": {
      "login": "churik",
      "id": 4557972,
      "node_id": "MDQ6VXNlcjQ1NTc5NzI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4557972?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/churik",
      "html_url": "https://github.com/churik",
      "followers_url": "https://api.github.com/users/churik/followers",
      "following_url": "https://api.github.com/users/churik/following{/other_user}",
      "gists_url": "https://api.github.com/users/churik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/churik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/churik/subscriptions",
      "organizations_url": "https://api.github.com/users/churik/orgs",
      "repos_url": "https://api.github.com/users/churik/repos",
      "events_url": "https://api.github.com/users/churik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/churik/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-08-28T16:14:23Z",
    "updated_at": "2023-08-28T16:14:54Z",
    "author_association": "MEMBER",
    "body": "One more issue with data delivery which was found and investigated during PR testing - more context is here: https://github.com/status-im/status-mobile/pull/17091#issuecomment-1693280668 ",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1695968577/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
