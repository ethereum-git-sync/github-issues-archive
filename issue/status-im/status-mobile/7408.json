{
  "url": "https://api.github.com/repos/status-im/status-mobile/issues/7408",
  "repository_url": "https://api.github.com/repos/status-im/status-mobile",
  "labels_url": "https://api.github.com/repos/status-im/status-mobile/issues/7408/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-mobile/issues/7408/comments",
  "events_url": "https://api.github.com/repos/status-im/status-mobile/issues/7408/events",
  "html_url": "https://github.com/status-im/status-mobile/issues/7408",
  "id": 406251229,
  "node_id": "MDU6SXNzdWU0MDYyNTEyMjk=",
  "number": 7408,
  "title": "No offline messages received and endless 'Connecting...' spinner at top of Home/Chat views",
  "user": {
    "login": "Serhy",
    "id": 8749671,
    "node_id": "MDQ6VXNlcjg3NDk2NzE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/8749671?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Serhy",
    "html_url": "https://github.com/Serhy",
    "followers_url": "https://api.github.com/users/Serhy/followers",
    "following_url": "https://api.github.com/users/Serhy/following{/other_user}",
    "gists_url": "https://api.github.com/users/Serhy/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Serhy/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Serhy/subscriptions",
    "organizations_url": "https://api.github.com/users/Serhy/orgs",
    "repos_url": "https://api.github.com/users/Serhy/repos",
    "events_url": "https://api.github.com/users/Serhy/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Serhy/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 330296931,
      "node_id": "MDU6TGFiZWwzMzAyOTY5MzE=",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/bug",
      "name": "bug",
      "color": "fc2929",
      "default": true,
      "description": null
    },
    {
      "id": 794860412,
      "node_id": "MDU6TGFiZWw3OTQ4NjA0MTI=",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/release",
      "name": "release",
      "color": "30dcff",
      "default": false,
      "description": null
    },
    {
      "id": 1143032367,
      "node_id": "MDU6TGFiZWwxMTQzMDMyMzY3",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/core",
      "name": "core",
      "color": "8befdd",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 10,
  "created_at": "2019-02-04T09:52:47Z",
  "updated_at": "2019-02-06T09:15:39Z",
  "closed_at": "2019-02-06T09:15:39Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "***Type***: Bug\r\n\r\n***Summary***: Some of mailservers doesn't work. No message history retrieved and endless `Connecting...` label at of the chat/home views if contact connected to any of:\r\n\r\n`mail-03.do-ams.eth.beta`\r\n`mail-02.gc-us-central1-a.eth.beta`\r\n`mail-02.ac-cn-hongkong-c.eth.beta`\r\n`mail-01.gc-us-central1-a.eth.beta`\r\n\r\n#### Expected behavior\r\nMessage history retrieved for the last 24h. No endless 'Connecting...' or spinning bar at the top of the Home/chat screens once connection established and history retrieved\r\n\r\n#### Actual behavior\r\nNo offline messages received and endless 'Connecting...' spinner at top of Home/Chat views\r\n\r\n### Reproduction\r\n\r\n- Open Status and create new account\r\n- Set in Profile -> Mailservers -> 'mail-01.gc-us-central1-a.eth.beta' and mailserver\r\n- Join `#status` public chat\r\n\r\n### Solution\r\n\r\n\r\n### Additional Information\r\n* Status version: Release 0.9.32 / Release 0.9.33 / \r\n* Operating System: Android and iOS\r\n\r\n\r\n### Logs\r\n[geth.log](https://github.com/status-im/status-react/files/2827320/geth.47.log)\r\n with DEBUG level after Status app opened with affected by issue mailserver\r\n",
  "closed_by": {
    "login": "Serhy",
    "id": 8749671,
    "node_id": "MDQ6VXNlcjg3NDk2NzE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/8749671?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Serhy",
    "html_url": "https://github.com/Serhy",
    "followers_url": "https://api.github.com/users/Serhy/followers",
    "following_url": "https://api.github.com/users/Serhy/following{/other_user}",
    "gists_url": "https://api.github.com/users/Serhy/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Serhy/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Serhy/subscriptions",
    "organizations_url": "https://api.github.com/users/Serhy/orgs",
    "repos_url": "https://api.github.com/users/Serhy/repos",
    "events_url": "https://api.github.com/users/Serhy/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Serhy/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/7408/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-mobile/issues/7408/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/460210418",
    "html_url": "https://github.com/status-im/status-mobile/issues/7408#issuecomment-460210418",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/7408",
    "id": 460210418,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MDIxMDQxOA==",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-04T11:13:07Z",
    "updated_at": "2019-02-04T11:13:07Z",
    "author_association": "MEMBER",
    "body": "Let me investigate those hosts.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/460210418/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/460213712",
    "html_url": "https://github.com/status-im/status-mobile/issues/7408#issuecomment-460213712",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/7408",
    "id": 460213712,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MDIxMzcxMg==",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-04T11:23:10Z",
    "updated_at": "2019-02-04T11:24:45Z",
    "author_association": "MEMBER",
    "body": "I see no red canaries for mailservers, for example:\r\nhttps://canary.status.im/icingaweb2/dashboard#!/icingaweb2/monitoring/service/show?host=mail-03.do-ams3.eth.beta&service=statusd-mail\r\n\r\nThe RPC healthcheck for `statusd-mail` instance on `mail-03.do-ams3.eth.beta` is green:\r\nhttps://consul.status.im/ui/do-ams3/nodes/mail-03.do-ams3.eth.beta\r\n\r\nBut the logs show it working just fine:\r\n```log\r\nINFO [02-04|11:16:41.892] Delivering mail                          peerID=7ed675311fd3755da866ab3601b92bad2a3117dfd72c0778eee0cf6119fb380b\r\nINFO [02-04|11:16:43.716] Delivering mail                          peerID=7ed675311fd3755da866ab3601b92bad2a3117dfd72c0778eee0cf6119fb380b\r\nINFO [02-04|11:16:44.230] Delivering mail                          peerID=7ed675311fd3755da866ab3601b92bad2a3117dfd72c0778eee0cf6119fb380b\r\nINFO [02-04|11:16:44.483] Delivering mail                          peerID=7ed675311fd3755da866ab3601b92bad2a3117dfd72c0778eee0cf6119fb380b\r\nINFO [02-04|11:16:44.928] Delivering mail                          peerID=7ed675311fd3755da866ab3601b92bad2a3117dfd72c0778eee0cf6119fb380b\r\nINFO [02-04|11:16:45.376] Delivering mail                          peerID=7ed675311fd3755da866ab3601b92bad2a3117dfd72c0778eee0cf6119fb380b\r\nINFO [02-04|11:16:45.506] Delivering mail                          peerID=7ed675311fd3755da866ab3601b92bad2a3117dfd72c0778eee0cf6119fb380b\r\nINFO [02-04|11:16:45.687] Delivering mail                          peerID=7ed675311fd3755da866ab3601b92bad2a3117dfd72c0778eee0cf6119fb380b\r\nINFO [02-04|11:16:47.486] Delivering mail                          peerID=7ed675311fd3755da866ab3601b92bad2a3117dfd72c0778eee0cf6119fb380b\r\nINFO [02-04|11:16:50.877] message loop                             peer=7ed675311fd3755d                                                                                           err=EOF\r\nWARN [02-04|11:17:11.048] confirmations are disabled               peer=\"[190 108 6 112 39 39 1 220 6 156 69 74 1 56 26 3 44 178 44 124 19 14 171 80 73 35 147 153 169 177 30 24]\"\r\nINFO [02-04|11:17:11.214] Delivering mail                          peerID=be6c0670272701dc069c454a01381a032cb22c7c130eab5049239399a9b11e18\r\nINFO [02-04|11:17:11.239] message loop                             peer=be6c0670272701dc                                                                                           err=EOF\r\nWARN [02-04|11:17:16.899] confirmations are disabled               peer=\"[190 108 6 112 39 39 1 220 6 156 69 74 1 56 26 3 44 178 44 124 19 14 171 80 73 35 147 153 169 177 30 24]\"\r\nINFO [02-04|11:17:17.040] Delivering mail                          peerID=be6c0670272701dc069c454a01381a032cb22c7c130eab5049239399a9b11e18\r\nINFO [02-04|11:17:17.056] message loop                             peer=be6c0670272701dc                                                                                           err=EOF\r\nINFO [02-04|11:17:20.674] message loop                             peer=e1c67be889fa6689                                                                                           err=EOF\r\n```\r\n\r\nManual Healthcheck works just fine:\r\n```bash\r\nadmin@mail-03.do-ams3.eth.beta:/ % curl -s -XPOST -H \"Content-type:application/json\" --data \"{\\\"jsonrpc\\\":\\\"2.0\\\",\\\"method\\\":\\\"admin_nodeInfo\\\",\\\"params\\\":[],\\\"id\\\":1}\" http://localhost:8545/ | jq\r\n{\r\n  \"jsonrpc\": \"2.0\",\r\n  \"id\": 1,\r\n  \"result\": {\r\n    \"id\": \"2721ca3e5c87d73ce892bd0710f9a78eef4c800f92aeaa7feec8b9b86b62c131\",\r\n    \"name\": \"Statusd/v0.19.0-beta.8/linux-amd64/go1.10.2\",\r\n    \"enode\": \"enode://8a64b3c349a2e0ef4a32ea49609ed6eb3364be1110253c20adc17a3cebbc39a219e5d3e13b151c0eee5d8e0f9a8ba2cd026014e67b41a4ab7d1d5dd67ca27427@127.0.0.1:30504?discport=0\",\r\n    \"enr\": \"0xf88fb8409f8908be3735c717463081b340377138dff28672809eac7befb792e0f826c609532f0e80ce34e52f4d42f656154d1829da7d0ce6aa7d1c2eaf973b20d76d0df70683636170c6c58373686806826964827634826970847f00000189736563703235366b31a1038a64b3c349a2e0ef4a32ea49609ed6eb3364be1110253c20adc17a3cebbc39a283746370827728\",\r\n    \"ip\": \"127.0.0.1\",\r\n    \"ports\": {\r\n      \"discovery\": 0,\r\n      \"listener\": 30504\r\n    },\r\n    \"listenAddr\": \"[::]:30504\",\r\n    \"protocols\": {\r\n      \"shh\": {\r\n        \"maxMessageSize\": 1048576,\r\n        \"minimumPoW\": 0.001,\r\n        \"version\": \"6.0\"\r\n      }\r\n    }\r\n  }\r\n```\r\nI don't see anything wrong with this host. But I'll check the other ones too.\r\n\r\n<blockquote><div><strong><a href=\"https://consul.status.im/ui/do-ams3/nodes/mail-03.do-ams3.eth.beta\">Sign In</a></strong></div></blockquote>",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/460213712/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/460213975",
    "html_url": "https://github.com/status-im/status-mobile/issues/7408#issuecomment-460213975",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/7408",
    "id": 460213975,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MDIxMzk3NQ==",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-04T11:23:54Z",
    "updated_at": "2019-02-04T11:23:54Z",
    "author_association": "MEMBER",
    "body": "Oh, btw, you mention only hostname(`mail-03.do-ams3.eth.beta`) but you don't say which port. Can you check that for me?",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/460213975/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/460220704",
    "html_url": "https://github.com/status-im/status-mobile/issues/7408#issuecomment-460220704",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/7408",
    "id": 460220704,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MDIyMDcwNA==",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-04T11:49:27Z",
    "updated_at": "2019-02-04T11:49:27Z",
    "author_association": "MEMBER",
    "body": "There is a recent change that is related to wifi issues that hasn't been merged yet.\r\nIssue: https://github.com/status-im/status-react/issues/6645 https://github.com/status-im/status-react/issues/6351\r\nPR: https://github.com/status-im/status-react/pull/7382\r\nAs part of that change we've dropped secondary whisper containers from our hosts(though mailservers should be unaffected) and now boot/mail/whisper nodes are available on their old port and `443`.\r\nI'd say including this PR in release might solve the issues you've mentioned.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/460220704/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/460225404",
    "html_url": "https://github.com/status-im/status-mobile/issues/7408#issuecomment-460225404",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/7408",
    "id": 460225404,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MDIyNTQwNA==",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-04T12:05:27Z",
    "updated_at": "2019-02-04T12:05:27Z",
    "author_association": "MEMBER",
    "body": "I'm looking at the other hosts and they work just fine, for example `mail-01.gc-us-central1-a.eth.beta`:\r\n```\r\nadmin@mail-01.gc-us-central1-a.eth.beta:~ % curl -s -XPOST -H \"Content-type:application/json\" --data \"{\\\"jsonrpc\\\":\\\"2.0\\\",\\\"method\\\":\\\"admin_nodeInfo\\\",\\\"params\\\":[],\\\"id\\\":1}\" http://localhost:8545/ | jq\r\n{\r\n  \"jsonrpc\": \"2.0\",\r\n  \"id\": 1,\r\n  \"result\": {\r\n    \"id\": \"57c24fba33c136422deeb60272d2e0b94045f9613ca0561e66dd9d45b48caf87\",\r\n    \"name\": \"Statusd/v0.19.0-beta.8/linux-amd64/go1.10.2\",\r\n    \"enode\": \"enode://7de99e4cb1b3523bd26ca212369540646607c721ad4f3e5c821ed9148150ce6ce2e72631723002210fac1fd52dfa8bbdf3555e05379af79515e1179da37cc3db@127.0.0.1:30504?discport=0\",\r\n    \"enr\": \"0xf88fb8409eda1d44e75112e8a005967bb8f59d0e3cbe06f9776d309cb22f09a5be3316cd35e1fbf8ab3342f70aa31fd7715ec227df601cae935f7b4029ab9e092dd8bfe60283636170c6c58373686806826964827634826970847f00000189736563703235366b31a1037de99e4cb1b3523bd26ca212369540646607c721ad4f3e5c821ed9148150ce6c83746370827728\",\r\n    \"ip\": \"127.0.0.1\",\r\n    \"ports\": {\r\n      \"discovery\": 0,\r\n      \"listener\": 30504\r\n    },\r\n    \"listenAddr\": \"[::]:30504\",\r\n    \"protocols\": {\r\n      \"shh\": {\r\n        \"maxMessageSize\": 1048576,\r\n        \"minimumPoW\": 0.001,\r\n        \"version\": \"6.0\"\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\nThe canary returns fine on both old `30504` and `443`:\r\n```bash\r\n caspair > ./build/bin/node-canary -log INFO -staticnode enode://7de99e4cb1b3523bd26ca212369540646607c721ad4f3e5c821ed9148150ce6ce2e72631723002210fac1fd52dfa8bbdf3555e05379af79515e1179da37cc3db@35.188.19.210:30504\r\n                                                      \r\nINFO [02-04|13:04:28.892] Status backend initialized               version=0.21.0g-beta.0 commit=1fa91031\r\nINFO [02-04|13:04:28.899] LES protocol is disabled                 package=status-go/node\r\nINFO [02-04|13:04:28.899] Status service api is disabled           package=status-go/node\r\nINFO [02-04|13:04:28.900] Starting peer-to-peer node               instance=node-canary/v0.21.0g-beta.0/linux-amd64/go1.11.5\r\nINFO [02-04|13:04:28.909] started whisper v.6.0 \r\nINFO [02-04|13:04:28.910] Handlers registered                      package=status-go/api.StatusBackend\r\nINFO [02-04|13:04:28.910] Account reselected                       package=status-go/api.StatusBackend\r\nINFO [02-04|13:04:28.911] New local node record                    seq=2 id=283839b46acc59d6 ip=127.0.0.1 udp=0 tcp=0\r\nINFO [02-04|13:04:28.911] Started P2P networking                   self=enode://c0248c11d60c8e5ba38ff7eb296e34ab00392e756726d9498679914b449f5d41af6f6cf012fc0e8eb7e0237c92ce5b1db15b3c0362fed862240fde20f145c502@127.0.0.1:0\r\nINFO [02-04|13:04:28.947] Difference with ntp servers              offset=-17.519725ms\r\nINFO [02-04|13:04:34.170] whisper stopped \r\nINFO [02-04|13:04:34.170] message loop                             peer=57c24fba33c13642 err=EOF\r\nINFO [02-04|13:04:34.171] Connected to static node correctly       package=status-go/cmd/node-canary   address=enode://7de99e4cb1b3523bd26ca212369540646607c721ad4f3e5c821ed9148150ce6ce2e72631723002210fac1fd52dfa8bbdf3555e05379af79515e1179da37cc3db@35.188.19.210:30504\r\n```\r\n```bash\r\n caspair > ./build/bin/node-canary -log INFO -staticnode enode://7de99e4cb1b3523bd26ca212369540646607c721ad4f3e5c821ed9148150ce6ce2e72631723002210fac1fd52dfa8bbdf3555e05379af79515e1179da37cc3db@35.188.19.210:443 \r\n                                                    \r\nINFO [02-04|13:03:37.283] Status backend initialized               version=0.21.0g-beta.0 commit=1fa91031\r\nINFO [02-04|13:03:37.292] LES protocol is disabled                 package=status-go/node\r\nINFO [02-04|13:03:37.292] Status service api is disabled           package=status-go/node\r\nINFO [02-04|13:03:37.293] Starting peer-to-peer node               instance=node-canary/v0.21.0g-beta.0/linux-amd64/go1.11.5\r\nINFO [02-04|13:03:37.300] started whisper v.6.0 \r\nINFO [02-04|13:03:37.301] New local node record                    seq=1 id=283839b46acc59d6 ip=127.0.0.1 udp=0 tcp=0\r\nINFO [02-04|13:03:37.302] Started P2P networking                   self=enode://c0248c11d60c8e5ba38ff7eb296e34ab00392e756726d9498679914b449f5d41af6f6cf012fc0e8eb7e0237c92ce5b1db15b3c0362fed862240fde20f145c502@127.0.0.1:0\r\nINFO [02-04|13:03:37.305] Handlers registered                      package=status-go/api.StatusBackend\r\nINFO [02-04|13:03:37.305] Account reselected                       package=status-go/api.StatusBackend\r\nINFO [02-04|13:03:37.343] Difference with ntp servers              offset=-20.569549ms\r\nINFO [02-04|13:03:42.564] whisper stopped \r\nINFO [02-04|13:03:42.565] message loop                             peer=57c24fba33c13642 err=EOF\r\nINFO [02-04|13:03:42.565] Connected to static node correctly       package=status-go/cmd/node-canary   address=enode://7de99e4cb1b3523bd26ca212369540646607c721ad4f3e5c821ed9148150ce6ce2e72631723002210fac1fd52dfa8bbdf3555e05379af79515e1179da37cc3db@35.188.19.210:443\r\n```\r\nThe mailserver is just fine as far as I can tell.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/460225404/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/460258546",
    "html_url": "https://github.com/status-im/status-mobile/issues/7408#issuecomment-460258546",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/7408",
    "id": 460258546,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MDI1ODU0Ng==",
    "user": {
      "login": "Serhy",
      "id": 8749671,
      "node_id": "MDQ6VXNlcjg3NDk2NzE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8749671?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Serhy",
      "html_url": "https://github.com/Serhy",
      "followers_url": "https://api.github.com/users/Serhy/followers",
      "following_url": "https://api.github.com/users/Serhy/following{/other_user}",
      "gists_url": "https://api.github.com/users/Serhy/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Serhy/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Serhy/subscriptions",
      "organizations_url": "https://api.github.com/users/Serhy/orgs",
      "repos_url": "https://api.github.com/users/Serhy/repos",
      "events_url": "https://api.github.com/users/Serhy/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Serhy/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-04T13:57:52Z",
    "updated_at": "2019-02-04T13:57:52Z",
    "author_association": "CONTRIBUTOR",
    "body": "@mandrigin \r\nOn Develop 0.9.33 build with the next scenario:\r\n1) Open Status\r\n2) Create new account\r\n3) Switch to `mail-02.ac-cn-hongkong-c.eth.beta` mailserver\r\n4) Join #status public channel\r\n5) Wait untill message history is fetched (for ~20 messages it took 4-5 minutes to appear in chat)\r\nActual result: During above scenario execution i've gathered 46MB logcat (logcat filtered by status PID). There are ~7600 errors `ERROR [status-im.transport.message.core:46] - Something went wrong Error: filter not found nil` \r\n\r\nThis is logcat filtered by 'mailserver' word mentions in lines:\r\n[LogcatfilteredByMailserver.log](https://github.com/status-im/status-react/files/2828290/filteredByMailserver.log)\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/460258546/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/460320387",
    "html_url": "https://github.com/status-im/status-mobile/issues/7408#issuecomment-460320387",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/7408",
    "id": 460320387,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MDMyMDM4Nw==",
    "user": {
      "login": "Serhy",
      "id": 8749671,
      "node_id": "MDQ6VXNlcjg3NDk2NzE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8749671?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Serhy",
      "html_url": "https://github.com/Serhy",
      "followers_url": "https://api.github.com/users/Serhy/followers",
      "following_url": "https://api.github.com/users/Serhy/following{/other_user}",
      "gists_url": "https://api.github.com/users/Serhy/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Serhy/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Serhy/subscriptions",
      "organizations_url": "https://api.github.com/users/Serhy/orgs",
      "repos_url": "https://api.github.com/users/Serhy/repos",
      "events_url": "https://api.github.com/users/Serhy/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Serhy/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-04T16:44:56Z",
    "updated_at": "2019-02-04T16:44:56Z",
    "author_association": "CONTRIBUTOR",
    "body": "While testing https://github.com/status-im/status-react/pull/7415 I faced constant 'Connecting...' issue on each mailserver. \r\nHaving offline inboxed message history (in 1-1 chat with 100 message and contact joined to public chats too), I switched to each mailserver, waited ~10 sec to confirm 'Connecting...' didn't disappear. Each mailserver confirmed on iOS and Android.\r\n\r\n[logcatNoConnection.log](https://github.com/status-im/status-react/files/2828958/logcatNoCnnnection.log)\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/460320387/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/460571881",
    "html_url": "https://github.com/status-im/status-mobile/issues/7408#issuecomment-460571881",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/7408",
    "id": 460571881,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MDU3MTg4MQ==",
    "user": {
      "login": "mandrigin",
      "id": 466427,
      "node_id": "MDQ6VXNlcjQ2NjQyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/466427?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mandrigin",
      "html_url": "https://github.com/mandrigin",
      "followers_url": "https://api.github.com/users/mandrigin/followers",
      "following_url": "https://api.github.com/users/mandrigin/following{/other_user}",
      "gists_url": "https://api.github.com/users/mandrigin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mandrigin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mandrigin/subscriptions",
      "organizations_url": "https://api.github.com/users/mandrigin/orgs",
      "repos_url": "https://api.github.com/users/mandrigin/repos",
      "events_url": "https://api.github.com/users/mandrigin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mandrigin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-05T09:38:57Z",
    "updated_at": "2019-02-05T09:38:57Z",
    "author_association": "CONTRIBUTOR",
    "body": "@Serhy isn't that the issue when you receive messages, but it takes forever to do that?",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/460571881/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/460791521",
    "html_url": "https://github.com/status-im/status-mobile/issues/7408#issuecomment-460791521",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/7408",
    "id": 460791521,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MDc5MTUyMQ==",
    "user": {
      "login": "mandrigin",
      "id": 466427,
      "node_id": "MDQ6VXNlcjQ2NjQyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/466427?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mandrigin",
      "html_url": "https://github.com/mandrigin",
      "followers_url": "https://api.github.com/users/mandrigin/followers",
      "following_url": "https://api.github.com/users/mandrigin/following{/other_user}",
      "gists_url": "https://api.github.com/users/mandrigin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mandrigin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mandrigin/subscriptions",
      "organizations_url": "https://api.github.com/users/mandrigin/orgs",
      "repos_url": "https://api.github.com/users/mandrigin/repos",
      "events_url": "https://api.github.com/users/mandrigin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mandrigin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-05T20:29:43Z",
    "updated_at": "2019-02-05T20:29:43Z",
    "author_association": "CONTRIBUTOR",
    "body": "@Serhy it should also be fixed server-side",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/460791521/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/460951431",
    "html_url": "https://github.com/status-im/status-mobile/issues/7408#issuecomment-460951431",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/7408",
    "id": 460951431,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ2MDk1MTQzMQ==",
    "user": {
      "login": "Serhy",
      "id": 8749671,
      "node_id": "MDQ6VXNlcjg3NDk2NzE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8749671?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Serhy",
      "html_url": "https://github.com/Serhy",
      "followers_url": "https://api.github.com/users/Serhy/followers",
      "following_url": "https://api.github.com/users/Serhy/following{/other_user}",
      "gists_url": "https://api.github.com/users/Serhy/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Serhy/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Serhy/subscriptions",
      "organizations_url": "https://api.github.com/users/Serhy/orgs",
      "repos_url": "https://api.github.com/users/Serhy/repos",
      "events_url": "https://api.github.com/users/Serhy/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Serhy/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-02-06T09:14:51Z",
    "updated_at": "2019-02-06T09:15:32Z",
    "author_association": "CONTRIBUTOR",
    "body": "I can confirm it. Android and iOS switched to each mailserver and received message history (message history from each mailsever in public chat).",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/460951431/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
