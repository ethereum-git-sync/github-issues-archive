{
  "url": "https://api.github.com/repos/status-im/status-mobile/issues/14729",
  "repository_url": "https://api.github.com/repos/status-im/status-mobile",
  "labels_url": "https://api.github.com/repos/status-im/status-mobile/issues/14729/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-mobile/issues/14729/comments",
  "events_url": "https://api.github.com/repos/status-im/status-mobile/issues/14729/events",
  "html_url": "https://github.com/status-im/status-mobile/issues/14729",
  "id": 1525190932,
  "node_id": "I_kwDOAx4p2c5a6JEU",
  "number": 14729,
  "title": "It is possible to pin already pinned message",
  "user": {
    "login": "pavloburykh",
    "id": 97245802,
    "node_id": "U_kgDOBcvaag",
    "avatar_url": "https://avatars.githubusercontent.com/u/97245802?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/pavloburykh",
    "html_url": "https://github.com/pavloburykh",
    "followers_url": "https://api.github.com/users/pavloburykh/followers",
    "following_url": "https://api.github.com/users/pavloburykh/following{/other_user}",
    "gists_url": "https://api.github.com/users/pavloburykh/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/pavloburykh/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/pavloburykh/subscriptions",
    "organizations_url": "https://api.github.com/users/pavloburykh/orgs",
    "repos_url": "https://api.github.com/users/pavloburykh/repos",
    "events_url": "https://api.github.com/users/pavloburykh/events{/privacy}",
    "received_events_url": "https://api.github.com/users/pavloburykh/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 330296931,
      "node_id": "MDU6TGFiZWwzMzAyOTY5MzE=",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/bug",
      "name": "bug",
      "color": "fc2929",
      "default": true,
      "description": null
    },
    {
      "id": 4011385439,
      "node_id": "LA_kwDOAx4p2c7vGOJf",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/E:MobileMessagingRD",
      "name": "E:MobileMessagingRD",
      "color": "DC23F8",
      "default": false,
      "description": ""
    },
    {
      "id": 5073983700,
      "node_id": "LA_kwDOAx4p2c8AAAABLm7Y1A",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/pinned%20messages",
      "name": "pinned messages",
      "color": "15CAC8",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "ibrkhalil",
    "id": 33176106,
    "node_id": "MDQ6VXNlcjMzMTc2MTA2",
    "avatar_url": "https://avatars.githubusercontent.com/u/33176106?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ibrkhalil",
    "html_url": "https://github.com/ibrkhalil",
    "followers_url": "https://api.github.com/users/ibrkhalil/followers",
    "following_url": "https://api.github.com/users/ibrkhalil/following{/other_user}",
    "gists_url": "https://api.github.com/users/ibrkhalil/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ibrkhalil/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ibrkhalil/subscriptions",
    "organizations_url": "https://api.github.com/users/ibrkhalil/orgs",
    "repos_url": "https://api.github.com/users/ibrkhalil/repos",
    "events_url": "https://api.github.com/users/ibrkhalil/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ibrkhalil/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "ibrkhalil",
      "id": 33176106,
      "node_id": "MDQ6VXNlcjMzMTc2MTA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/33176106?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ibrkhalil",
      "html_url": "https://github.com/ibrkhalil",
      "followers_url": "https://api.github.com/users/ibrkhalil/followers",
      "following_url": "https://api.github.com/users/ibrkhalil/following{/other_user}",
      "gists_url": "https://api.github.com/users/ibrkhalil/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ibrkhalil/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ibrkhalil/subscriptions",
      "organizations_url": "https://api.github.com/users/ibrkhalil/orgs",
      "repos_url": "https://api.github.com/users/ibrkhalil/repos",
      "events_url": "https://api.github.com/users/ibrkhalil/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ibrkhalil/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": {
    "url": "https://api.github.com/repos/status-im/status-mobile/milestones/63",
    "html_url": "https://github.com/status-im/status-mobile/milestone/63",
    "labels_url": "https://api.github.com/repos/status-im/status-mobile/milestones/63/labels",
    "id": 8714463,
    "node_id": "MI_kwDOAx4p2c4AhPjf",
    "number": 63,
    "title": "1.22.0",
    "description": "",
    "creator": {
      "login": "cammellos",
      "id": 1017008,
      "node_id": "MDQ6VXNlcjEwMTcwMDg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1017008?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cammellos",
      "html_url": "https://github.com/cammellos",
      "followers_url": "https://api.github.com/users/cammellos/followers",
      "following_url": "https://api.github.com/users/cammellos/following{/other_user}",
      "gists_url": "https://api.github.com/users/cammellos/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cammellos/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cammellos/subscriptions",
      "organizations_url": "https://api.github.com/users/cammellos/orgs",
      "repos_url": "https://api.github.com/users/cammellos/repos",
      "events_url": "https://api.github.com/users/cammellos/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cammellos/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 1,
    "closed_issues": 84,
    "state": "closed",
    "created_at": "2022-12-02T16:23:40Z",
    "updated_at": "2023-05-31T14:18:16Z",
    "due_on": null,
    "closed_at": "2023-04-14T08:15:05Z"
  },
  "comments": 5,
  "created_at": "2023-01-09T09:07:43Z",
  "updated_at": "2023-02-14T08:50:12Z",
  "closed_at": "2023-02-14T08:50:11Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "**Steps:**\r\n\r\n1. Open any chat\r\n2. Send a message\r\n3. Pin that message\r\n4. Close chat\r\n5. Re enter the chat\r\n6. Open list of pinned messages by tapping on pinned banner\r\n7. Longtap on pinned message\r\n8. See if unpin option is displayed for that message\r\n\r\n**Actual result:** pin instead of unpin option is shown. It is possible perform pin action for already pinned message\r\n\r\n**Expected result:** unpin option is displayed\r\n\r\n\r\nhttps://user-images.githubusercontent.com/97245802/211273075-cb94c1d8-7d3c-47b0-8506-1e0bc64d00ca.mp4\r\n\r\n\r\n\r\n### Additional Information\r\n\r\n- Status version: nightly \r\n- Operating System: Android, iOS\r\n\r\n\r\n[comment]: # (Please, add logs/notes if necessary)\r\n\r\n",
  "closed_by": {
    "login": "ibrkhalil",
    "id": 33176106,
    "node_id": "MDQ6VXNlcjMzMTc2MTA2",
    "avatar_url": "https://avatars.githubusercontent.com/u/33176106?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ibrkhalil",
    "html_url": "https://github.com/ibrkhalil",
    "followers_url": "https://api.github.com/users/ibrkhalil/followers",
    "following_url": "https://api.github.com/users/ibrkhalil/following{/other_user}",
    "gists_url": "https://api.github.com/users/ibrkhalil/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ibrkhalil/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ibrkhalil/subscriptions",
    "organizations_url": "https://api.github.com/users/ibrkhalil/orgs",
    "repos_url": "https://api.github.com/users/ibrkhalil/repos",
    "events_url": "https://api.github.com/users/ibrkhalil/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ibrkhalil/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/14729/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-mobile/issues/14729/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1415377077",
    "html_url": "https://github.com/status-im/status-mobile/issues/14729#issuecomment-1415377077",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/14729",
    "id": 1415377077,
    "node_id": "IC_kwDOAx4p2c5UXPC1",
    "user": {
      "login": "pavloburykh",
      "id": 97245802,
      "node_id": "U_kgDOBcvaag",
      "avatar_url": "https://avatars.githubusercontent.com/u/97245802?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pavloburykh",
      "html_url": "https://github.com/pavloburykh",
      "followers_url": "https://api.github.com/users/pavloburykh/followers",
      "following_url": "https://api.github.com/users/pavloburykh/following{/other_user}",
      "gists_url": "https://api.github.com/users/pavloburykh/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pavloburykh/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pavloburykh/subscriptions",
      "organizations_url": "https://api.github.com/users/pavloburykh/orgs",
      "repos_url": "https://api.github.com/users/pavloburykh/repos",
      "events_url": "https://api.github.com/users/pavloburykh/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pavloburykh/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-03T08:48:48Z",
    "updated_at": "2023-02-03T08:48:48Z",
    "author_association": "CONTRIBUTOR",
    "body": "@cammellos maybe we still can think about including this issue into rc-1? The problem is that after re-entering chat it is impossible to unpin message from \"pinned list\" as there no option unpin (only pin). Overall pinned messages are broken in pinned list after chat reopening as they miss profile icon of the author, name, timestamp, chat key etc.). Only text of pinned message is shown. \r\n\r\nIt is still possible to unpin message directly from chat, but it will be hard to find message in long chat history in order to unpin it. \r\n\r\n\r\nhttps://user-images.githubusercontent.com/97245802/216553973-2a95f821-a748-4f76-b7d2-33fe66c9be34.mp4\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1415377077/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1415438288",
    "html_url": "https://github.com/status-im/status-mobile/issues/14729#issuecomment-1415438288",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/14729",
    "id": 1415438288,
    "node_id": "IC_kwDOAx4p2c5UXd_Q",
    "user": {
      "login": "cammellos",
      "id": 1017008,
      "node_id": "MDQ6VXNlcjEwMTcwMDg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1017008?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cammellos",
      "html_url": "https://github.com/cammellos",
      "followers_url": "https://api.github.com/users/cammellos/followers",
      "following_url": "https://api.github.com/users/cammellos/following{/other_user}",
      "gists_url": "https://api.github.com/users/cammellos/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cammellos/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cammellos/subscriptions",
      "organizations_url": "https://api.github.com/users/cammellos/orgs",
      "repos_url": "https://api.github.com/users/cammellos/repos",
      "events_url": "https://api.github.com/users/cammellos/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cammellos/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-03T09:17:28Z",
    "updated_at": "2023-02-03T09:17:28Z",
    "author_association": "MEMBER",
    "body": "> @cammellos maybe we still can think about including this issue into rc-1? The problem is that after re-entering chat it is impossible to unpin message from \"pinned list\" as there no option unpin (only pin). Overall pinned messages are broken in pinned list after chat reopening as they miss profile icon of the author, name, timestamp, chat key etc.). Only text of pinned message is shown.\r\n> \r\n> It is still possible to unpin message directly from chat, but it will be hard to find message in long chat history in order to unpin it.\r\n> \r\n>  telegram-cloud-document-2-5395514758218655662.mp4\r\n\r\n @ibrkhalil had a fix we worked on a couple of days ago, it's a small change, @ibrkhalil did you push the PR?\r\n\r\nThough this only fixes \"he problem is that after re-entering chat it is impossible to unpin message from \"pinned list\" as there no option unpin (only pin). \"\r\n\r\n> Overall pinned messages are broken in pinned list after chat reopening as they miss profile icon of the author, name, timestamp, chat key etc.). \r\n\r\nThis is I believe a separate issue, and seems like worth fixing",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1415438288/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1415451830",
    "html_url": "https://github.com/status-im/status-mobile/issues/14729#issuecomment-1415451830",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/14729",
    "id": 1415451830,
    "node_id": "IC_kwDOAx4p2c5UXhS2",
    "user": {
      "login": "ibrkhalil",
      "id": 33176106,
      "node_id": "MDQ6VXNlcjMzMTc2MTA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/33176106?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ibrkhalil",
      "html_url": "https://github.com/ibrkhalil",
      "followers_url": "https://api.github.com/users/ibrkhalil/followers",
      "following_url": "https://api.github.com/users/ibrkhalil/following{/other_user}",
      "gists_url": "https://api.github.com/users/ibrkhalil/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ibrkhalil/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ibrkhalil/subscriptions",
      "organizations_url": "https://api.github.com/users/ibrkhalil/orgs",
      "repos_url": "https://api.github.com/users/ibrkhalil/repos",
      "events_url": "https://api.github.com/users/ibrkhalil/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ibrkhalil/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-03T09:22:58Z",
    "updated_at": "2023-02-03T09:22:58Z",
    "author_association": "CONTRIBUTOR",
    "body": "> > @cammellos maybe we still can think about including this issue into rc-1? The problem is that after re-entering chat it is impossible to unpin message from \"pinned list\" as there no option unpin (only pin). Overall pinned messages are broken in pinned list after chat reopening as they miss profile icon of the author, name, timestamp, chat key etc.). Only text of pinned message is shown.\n> \n> > \n> \n> > It is still possible to unpin message directly from chat, but it will be hard to find message in long chat history in order to unpin it.\n> \n> > \n> \n> >  telegram-cloud-document-2-5395514758218655662.mp4\n> \n> \n> \n>  @ibrkhalil had a fix we worked on a couple of days ago, it's a small change, @ibrkhalil did you push the PR?\n> \n> \n> \n> Though this only fixes \"he problem is that after re-entering chat it is impossible to unpin message from \"pinned list\" as there no option unpin (only pin). \"\n> \n> \n> \n> > Overall pinned messages are broken in pinned list after chat reopening as they miss profile icon of the author, name, timestamp, chat key etc.). \n> \n> \n> \n> This is I believe a separate issue, and seems like worth fixing\n\nYes Andrea, I pushed our latest changes to the PR referencing this issue",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1415451830/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1415458631",
    "html_url": "https://github.com/status-im/status-mobile/issues/14729#issuecomment-1415458631",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/14729",
    "id": 1415458631,
    "node_id": "IC_kwDOAx4p2c5UXi9H",
    "user": {
      "login": "cammellos",
      "id": 1017008,
      "node_id": "MDQ6VXNlcjEwMTcwMDg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1017008?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cammellos",
      "html_url": "https://github.com/cammellos",
      "followers_url": "https://api.github.com/users/cammellos/followers",
      "following_url": "https://api.github.com/users/cammellos/following{/other_user}",
      "gists_url": "https://api.github.com/users/cammellos/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cammellos/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cammellos/subscriptions",
      "organizations_url": "https://api.github.com/users/cammellos/orgs",
      "repos_url": "https://api.github.com/users/cammellos/repos",
      "events_url": "https://api.github.com/users/cammellos/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cammellos/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-03T09:26:20Z",
    "updated_at": "2023-02-03T09:26:20Z",
    "author_association": "MEMBER",
    "body": "@pavloburykh this should be ready to be tested then https://github.com/status-im/status-mobile/pull/14787 , it's a small change and should address the issue with `pin` showed instead of `unpin`, thanks @ibrkhalil \r\nThe other issue I believe is still present (pinned messages not showing picture etc), but maybe we can open a separate issue for that?",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1415458631/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1415838805",
    "html_url": "https://github.com/status-im/status-mobile/issues/14729#issuecomment-1415838805",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/14729",
    "id": 1415838805,
    "node_id": "IC_kwDOAx4p2c5UY_xV",
    "user": {
      "login": "pavloburykh",
      "id": 97245802,
      "node_id": "U_kgDOBcvaag",
      "avatar_url": "https://avatars.githubusercontent.com/u/97245802?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/pavloburykh",
      "html_url": "https://github.com/pavloburykh",
      "followers_url": "https://api.github.com/users/pavloburykh/followers",
      "following_url": "https://api.github.com/users/pavloburykh/following{/other_user}",
      "gists_url": "https://api.github.com/users/pavloburykh/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/pavloburykh/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/pavloburykh/subscriptions",
      "organizations_url": "https://api.github.com/users/pavloburykh/orgs",
      "repos_url": "https://api.github.com/users/pavloburykh/repos",
      "events_url": "https://api.github.com/users/pavloburykh/events{/privacy}",
      "received_events_url": "https://api.github.com/users/pavloburykh/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-03T13:00:05Z",
    "updated_at": "2023-02-03T13:00:05Z",
    "author_association": "CONTRIBUTOR",
    "body": "\r\n\r\n\r\n\r\n> @pavloburykh this should be ready to be tested then #14787 , it's a small change and should address the issue with `pin` showed instead of `unpin`, thanks @ibrkhalil The other issue I believe is still present (pinned messages not showing picture etc), but maybe we can open a separate issue for that?\r\n\r\ngot! Thanx @cammellos will log separate issue for missing elements for pinned. ",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1415838805/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
