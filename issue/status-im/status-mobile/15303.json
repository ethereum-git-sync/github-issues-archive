{
  "url": "https://api.github.com/repos/status-im/status-mobile/issues/15303",
  "repository_url": "https://api.github.com/repos/status-im/status-mobile",
  "labels_url": "https://api.github.com/repos/status-im/status-mobile/issues/15303/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-mobile/issues/15303/comments",
  "events_url": "https://api.github.com/repos/status-im/status-mobile/issues/15303/events",
  "html_url": "https://github.com/status-im/status-mobile/issues/15303",
  "id": 1618719166,
  "node_id": "I_kwDOAx4p2c5ge7G-",
  "number": 15303,
  "title": "Refactor some of the animations in lightbox rotation to use derived values",
  "user": {
    "login": "OmarBasem",
    "id": 29354102,
    "node_id": "MDQ6VXNlcjI5MzU0MTAy",
    "avatar_url": "https://avatars.githubusercontent.com/u/29354102?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/OmarBasem",
    "html_url": "https://github.com/OmarBasem",
    "followers_url": "https://api.github.com/users/OmarBasem/followers",
    "following_url": "https://api.github.com/users/OmarBasem/following{/other_user}",
    "gists_url": "https://api.github.com/users/OmarBasem/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/OmarBasem/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/OmarBasem/subscriptions",
    "organizations_url": "https://api.github.com/users/OmarBasem/orgs",
    "repos_url": "https://api.github.com/users/OmarBasem/repos",
    "events_url": "https://api.github.com/users/OmarBasem/events{/privacy}",
    "received_events_url": "https://api.github.com/users/OmarBasem/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 668403590,
      "node_id": "MDU6TGFiZWw2Njg0MDM1OTA=",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/blocked",
      "name": "blocked",
      "color": "b60205",
      "default": false,
      "description": null
    },
    {
      "id": 1071170889,
      "node_id": "MDU6TGFiZWwxMDcxMTcwODg5",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/refactoring",
      "name": "refactoring",
      "color": "c19c05",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": true,
  "assignee": {
    "login": "OmarBasem",
    "id": 29354102,
    "node_id": "MDQ6VXNlcjI5MzU0MTAy",
    "avatar_url": "https://avatars.githubusercontent.com/u/29354102?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/OmarBasem",
    "html_url": "https://github.com/OmarBasem",
    "followers_url": "https://api.github.com/users/OmarBasem/followers",
    "following_url": "https://api.github.com/users/OmarBasem/following{/other_user}",
    "gists_url": "https://api.github.com/users/OmarBasem/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/OmarBasem/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/OmarBasem/subscriptions",
    "organizations_url": "https://api.github.com/users/OmarBasem/orgs",
    "repos_url": "https://api.github.com/users/OmarBasem/repos",
    "events_url": "https://api.github.com/users/OmarBasem/events{/privacy}",
    "received_events_url": "https://api.github.com/users/OmarBasem/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "OmarBasem",
      "id": 29354102,
      "node_id": "MDQ6VXNlcjI5MzU0MTAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/29354102?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/OmarBasem",
      "html_url": "https://github.com/OmarBasem",
      "followers_url": "https://api.github.com/users/OmarBasem/followers",
      "following_url": "https://api.github.com/users/OmarBasem/following{/other_user}",
      "gists_url": "https://api.github.com/users/OmarBasem/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/OmarBasem/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/OmarBasem/subscriptions",
      "organizations_url": "https://api.github.com/users/OmarBasem/orgs",
      "repos_url": "https://api.github.com/users/OmarBasem/repos",
      "events_url": "https://api.github.com/users/OmarBasem/events{/privacy}",
      "received_events_url": "https://api.github.com/users/OmarBasem/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2023-03-10T10:20:51Z",
  "updated_at": "2023-07-14T12:55:43Z",
  "closed_at": "2023-07-14T12:55:43Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": null,
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/15303/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-mobile/issues/15303/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1467494942",
    "html_url": "https://github.com/status-im/status-mobile/issues/15303#issuecomment-1467494942",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/15303",
    "id": 1467494942,
    "node_id": "IC_kwDOAx4p2c5XeDIe",
    "user": {
      "login": "OmarBasem",
      "id": 29354102,
      "node_id": "MDQ6VXNlcjI5MzU0MTAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/29354102?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/OmarBasem",
      "html_url": "https://github.com/OmarBasem",
      "followers_url": "https://api.github.com/users/OmarBasem/followers",
      "following_url": "https://api.github.com/users/OmarBasem/following{/other_user}",
      "gists_url": "https://api.github.com/users/OmarBasem/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/OmarBasem/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/OmarBasem/subscriptions",
      "organizations_url": "https://api.github.com/users/OmarBasem/orgs",
      "repos_url": "https://api.github.com/users/OmarBasem/repos",
      "events_url": "https://api.github.com/users/OmarBasem/events{/privacy}",
      "received_events_url": "https://api.github.com/users/OmarBasem/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-03-14T07:08:15Z",
    "updated_at": "2023-03-14T07:08:15Z",
    "author_association": "MEMBER",
    "body": "Hi @Parveshdhull,\r\n\r\nI have been trying to think about how to reimplement the [zoomable-image file](https://github.com/status-im/status-mobile/blob/develop/src/status_im2/contexts/chat/lightbox/zoomable_image/view.cljs) using `useDerivedValue`. \r\n\r\nAFAIK we can use derive values to animate values that depend on each other, and that would always animate together (like a bar's width, and maybe also bg-color, can always depends on the progress).\r\n\r\nHere in this file the main animations we have are: `scale`, `pan-x`, `pan-y`, `pinch-x`, `pinch-y`. They are all independent. It is possible to animate the image to the maximum scale, while all other values are 0. We can `pan-x` to the maximum possible offset, while `pan-y`, `pinch-x` and `pinch-y` are zero. And the scale can be anything. Updating these animations use different gesture events (focalX, focalY, translationX, translationY, scale, velocityX, velocityY). So I am not sure how can derived values be used here. Please let me know if you have any thoughts.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1467494942/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1467824684",
    "html_url": "https://github.com/status-im/status-mobile/issues/15303#issuecomment-1467824684",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/15303",
    "id": 1467824684,
    "node_id": "IC_kwDOAx4p2c5XfTos",
    "user": {
      "login": "Parveshdhull",
      "id": 17097240,
      "node_id": "MDQ6VXNlcjE3MDk3MjQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/17097240?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Parveshdhull",
      "html_url": "https://github.com/Parveshdhull",
      "followers_url": "https://api.github.com/users/Parveshdhull/followers",
      "following_url": "https://api.github.com/users/Parveshdhull/following{/other_user}",
      "gists_url": "https://api.github.com/users/Parveshdhull/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Parveshdhull/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Parveshdhull/subscriptions",
      "organizations_url": "https://api.github.com/users/Parveshdhull/orgs",
      "repos_url": "https://api.github.com/users/Parveshdhull/repos",
      "events_url": "https://api.github.com/users/Parveshdhull/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Parveshdhull/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-03-14T10:28:56Z",
    "updated_at": "2023-03-14T10:28:56Z",
    "author_association": "MEMBER",
    "body": "Hi @OmarBasem,\r\nThank you very much for looking into this.\r\n\r\nSo, first, let me give you some detail on how I understand the use of derived value. I think of them as action-reaction based.\r\nIf some particular action creates a reaction and always affects a few shared values in a specific way then we can just have a single shared value and all values can be derived from that.\r\n\r\nFor example, in the [original comment](https://github.com/status-im/status-mobile/pull/15175/files#r1119881215), there was clearly a single action (changing of orientation) and it was always affecting all those shared values in the same way. So we can just use their orientation shared value and others as derived value.\r\n\r\nAbout the zoomable-image file, I didn't quite look into how `PanResponder` and `gesture` etc. work. But you can apply the same concept there too.\r\n\r\nIf it is clear that the same concept doesn't work here, then feel free to skip refactoring for this file and we can only refactor `src/status_im2/contexts/chat/lightbox/top_view.cljs`. wdyt?",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1467824684/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1468005997",
    "html_url": "https://github.com/status-im/status-mobile/issues/15303#issuecomment-1468005997",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/15303",
    "id": 1468005997,
    "node_id": "IC_kwDOAx4p2c5Xf_5t",
    "user": {
      "login": "OmarBasem",
      "id": 29354102,
      "node_id": "MDQ6VXNlcjI5MzU0MTAy",
      "avatar_url": "https://avatars.githubusercontent.com/u/29354102?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/OmarBasem",
      "html_url": "https://github.com/OmarBasem",
      "followers_url": "https://api.github.com/users/OmarBasem/followers",
      "following_url": "https://api.github.com/users/OmarBasem/following{/other_user}",
      "gists_url": "https://api.github.com/users/OmarBasem/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/OmarBasem/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/OmarBasem/subscriptions",
      "organizations_url": "https://api.github.com/users/OmarBasem/orgs",
      "repos_url": "https://api.github.com/users/OmarBasem/repos",
      "events_url": "https://api.github.com/users/OmarBasem/events{/privacy}",
      "received_events_url": "https://api.github.com/users/OmarBasem/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-03-14T12:20:55Z",
    "updated_at": "2023-03-14T12:24:11Z",
    "author_association": "MEMBER",
    "body": "> I think of them as action-reaction based.\r\n\r\n@Parveshdhull that's right, I think of them the same way. In the case of zooming and panning, it is a series of different actions, happening over a period of time, outputting unrelated events, so I believe that does not apply here. \r\n\r\nAs for the `top_view` I think deriveValues can work. The bottom_view and top_view designs in landscape mode will be finalized post MVP, so will refactor them when the designs are ready.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1468005997/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
