{
  "url": "https://api.github.com/repos/status-im/status-mobile/issues/5542",
  "repository_url": "https://api.github.com/repos/status-im/status-mobile",
  "labels_url": "https://api.github.com/repos/status-im/status-mobile/issues/5542/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-mobile/issues/5542/comments",
  "events_url": "https://api.github.com/repos/status-im/status-mobile/issues/5542/events",
  "html_url": "https://github.com/status-im/status-mobile/issues/5542",
  "id": 351536083,
  "node_id": "MDU6SXNzdWUzNTE1MzYwODM=",
  "number": 5542,
  "title": "`Error: Does not support name` sending a transaction while no currency is set for account",
  "user": {
    "login": "Serhy",
    "id": 8749671,
    "node_id": "MDQ6VXNlcjg3NDk2NzE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/8749671?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Serhy",
    "html_url": "https://github.com/Serhy",
    "followers_url": "https://api.github.com/users/Serhy/followers",
    "following_url": "https://api.github.com/users/Serhy/following{/other_user}",
    "gists_url": "https://api.github.com/users/Serhy/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Serhy/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Serhy/subscriptions",
    "organizations_url": "https://api.github.com/users/Serhy/orgs",
    "repos_url": "https://api.github.com/users/Serhy/repos",
    "events_url": "https://api.github.com/users/Serhy/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Serhy/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 330296931,
      "node_id": "MDU6TGFiZWwzMzAyOTY5MzE=",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/bug",
      "name": "bug",
      "color": "fc2929",
      "default": true,
      "description": null
    },
    {
      "id": 691030971,
      "node_id": "MDU6TGFiZWw2OTEwMzA5NzE=",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/wallet",
      "name": "wallet",
      "color": "1d76db",
      "default": false,
      "description": null
    },
    {
      "id": 955294273,
      "node_id": "MDU6TGFiZWw5NTUyOTQyNzM=",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/medium-severity",
      "name": "medium-severity",
      "color": "e884a7",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "goranjovic",
    "id": 711764,
    "node_id": "MDQ6VXNlcjcxMTc2NA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/711764?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/goranjovic",
    "html_url": "https://github.com/goranjovic",
    "followers_url": "https://api.github.com/users/goranjovic/followers",
    "following_url": "https://api.github.com/users/goranjovic/following{/other_user}",
    "gists_url": "https://api.github.com/users/goranjovic/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/goranjovic/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/goranjovic/subscriptions",
    "organizations_url": "https://api.github.com/users/goranjovic/orgs",
    "repos_url": "https://api.github.com/users/goranjovic/repos",
    "events_url": "https://api.github.com/users/goranjovic/events{/privacy}",
    "received_events_url": "https://api.github.com/users/goranjovic/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "goranjovic",
      "id": 711764,
      "node_id": "MDQ6VXNlcjcxMTc2NA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/711764?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/goranjovic",
      "html_url": "https://github.com/goranjovic",
      "followers_url": "https://api.github.com/users/goranjovic/followers",
      "following_url": "https://api.github.com/users/goranjovic/following{/other_user}",
      "gists_url": "https://api.github.com/users/goranjovic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/goranjovic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/goranjovic/subscriptions",
      "organizations_url": "https://api.github.com/users/goranjovic/orgs",
      "repos_url": "https://api.github.com/users/goranjovic/repos",
      "events_url": "https://api.github.com/users/goranjovic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/goranjovic/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 0,
  "created_at": "2018-08-17T10:09:14Z",
  "updated_at": "2018-09-03T08:49:14Z",
  "closed_at": "2018-09-03T08:49:14Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "***Type***: Bug\r\n\r\n***Summary***: It was noticed that currency set in the account could be not set at all. In that case there, apart from that total fiat value on Wallet screen could be converted, all transactions end up with the `Error: Does not support name`. \r\n\r\n#### Expected behavior\r\nCurrency always present in the account. The default value is USD.\r\n\r\n#### Actual behavior\r\n<img width=\"812\" alt=\"screen shot 2018-08-17 at 12 48 12\" src=\"https://user-images.githubusercontent.com/8749671/44260006-d66bb600-a21b-11e8-90dd-a5b7086c5020.png\">\r\n\r\n\r\n### Reproduction\r\n- Open Status and log in to account with no currency set (for testing we may simulate it in the code probably with set account to fake currency)\r\n- Navigate to Account and check there is USD set as currency value\r\n- Navigate to Wallet and verify USD is set\r\n- Send a transaction to contact from 1-1 chat and from `Wallet` -> `Send transaction`\r\n\r\n### Solution\r\nWe need to default currency to USD (same like it's set with new account creation/recover) if the currency for the account is not set.\r\n\r\n### Additional Information\r\n* Status version: Develop 0.9.26 (6401), relase 0.9.25\r\n* Operating System: Android and iOS\r\n\r\n#### Logs\r\n\r\nTF session: \r\n- `Error: Does not support name` at 06:08 \r\n- No currency set for account could be seen at 10:25 \r\nhttps://app.testfairy.com/projects/4803590-status/builds/8558753/sessions/4398751862/?accessToken=9DWD42R828MoKQwn7asGhFXY5kY\n\n<blockquote><div><strong><a href=\"https://app.testfairy.com/projects/4803590-status/builds/8558753/sessions/4398751862/?accessToken=9DWD42R828MoKQwn7asGhFXY5kY\">TestFairy: Status 0.9.26 (6396) @2018</a></strong></div></blockquote>",
  "closed_by": {
    "login": "flexsurfer",
    "id": 11790366,
    "node_id": "MDQ6VXNlcjExNzkwMzY2",
    "avatar_url": "https://avatars.githubusercontent.com/u/11790366?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/flexsurfer",
    "html_url": "https://github.com/flexsurfer",
    "followers_url": "https://api.github.com/users/flexsurfer/followers",
    "following_url": "https://api.github.com/users/flexsurfer/following{/other_user}",
    "gists_url": "https://api.github.com/users/flexsurfer/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/flexsurfer/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/flexsurfer/subscriptions",
    "organizations_url": "https://api.github.com/users/flexsurfer/orgs",
    "repos_url": "https://api.github.com/users/flexsurfer/repos",
    "events_url": "https://api.github.com/users/flexsurfer/events{/privacy}",
    "received_events_url": "https://api.github.com/users/flexsurfer/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/5542/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-mobile/issues/5542/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[

]
