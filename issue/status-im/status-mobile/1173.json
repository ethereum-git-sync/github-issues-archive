{
  "url": "https://api.github.com/repos/status-im/status-mobile/issues/1173",
  "repository_url": "https://api.github.com/repos/status-im/status-mobile",
  "labels_url": "https://api.github.com/repos/status-im/status-mobile/issues/1173/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-mobile/issues/1173/comments",
  "events_url": "https://api.github.com/repos/status-im/status-mobile/issues/1173/events",
  "html_url": "https://github.com/status-im/status-mobile/issues/1173",
  "id": 226565681,
  "node_id": "MDU6SXNzdWUyMjY1NjU2ODE=",
  "number": 1173,
  "title": "Commands are not usable after tap on \"Add to contacts\" in 1-1 chat ",
  "user": {
    "login": "annadanchenko",
    "id": 6584810,
    "node_id": "MDQ6VXNlcjY1ODQ4MTA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6584810?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/annadanchenko",
    "html_url": "https://github.com/annadanchenko",
    "followers_url": "https://api.github.com/users/annadanchenko/followers",
    "following_url": "https://api.github.com/users/annadanchenko/following{/other_user}",
    "gists_url": "https://api.github.com/users/annadanchenko/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/annadanchenko/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/annadanchenko/subscriptions",
    "organizations_url": "https://api.github.com/users/annadanchenko/orgs",
    "repos_url": "https://api.github.com/users/annadanchenko/repos",
    "events_url": "https://api.github.com/users/annadanchenko/events{/privacy}",
    "received_events_url": "https://api.github.com/users/annadanchenko/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "rasom",
    "id": 2364994,
    "node_id": "MDQ6VXNlcjIzNjQ5OTQ=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2364994?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/rasom",
    "html_url": "https://github.com/rasom",
    "followers_url": "https://api.github.com/users/rasom/followers",
    "following_url": "https://api.github.com/users/rasom/following{/other_user}",
    "gists_url": "https://api.github.com/users/rasom/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/rasom/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/rasom/subscriptions",
    "organizations_url": "https://api.github.com/users/rasom/orgs",
    "repos_url": "https://api.github.com/users/rasom/repos",
    "events_url": "https://api.github.com/users/rasom/events{/privacy}",
    "received_events_url": "https://api.github.com/users/rasom/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "rasom",
      "id": 2364994,
      "node_id": "MDQ6VXNlcjIzNjQ5OTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2364994?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rasom",
      "html_url": "https://github.com/rasom",
      "followers_url": "https://api.github.com/users/rasom/followers",
      "following_url": "https://api.github.com/users/rasom/following{/other_user}",
      "gists_url": "https://api.github.com/users/rasom/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rasom/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rasom/subscriptions",
      "organizations_url": "https://api.github.com/users/rasom/orgs",
      "repos_url": "https://api.github.com/users/rasom/repos",
      "events_url": "https://api.github.com/users/rasom/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rasom/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 0,
  "created_at": "2017-05-05T13:00:48Z",
  "updated_at": "2017-05-05T13:05:34Z",
  "closed_at": "2017-05-05T13:05:34Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "### Description\r\n\r\n[comment]: # (Feature or Bug? i.e Type: Bug)\r\n*Type*: Bug\r\n\r\n[comment]: # (Describe the feature you would like, or briefly summarise the bug and what you did, what you expected to happen, and what actually happens. Sections below)\r\n*Summary*: In new 1-1 chat user taps on \"Add to contacts\". This results in several issues:\r\n1. If try to use any command except browse, e.g. tap on /send or /request then they are treated like a text. So, sending /send 3 will send it as a text to chat\r\n2. If open commands menu then it contains only @browse command, after this other commands disappear from command line. \r\n3. If there are any requests sent to the user before \"Add to contacts\" was taped then no blinking green icon is shown on requesting messages.\r\nWhen user goes back to Chats and returns to this chat then all commands and requests are shown and work fine. So, this happens only after \"Add to contacts\" action.\r\n\r\n#### Expected behavior\r\n[comment]: # (Describe what you expected to happen.)\r\nAfter user taps on Add to contact, he can use commands from commands menu and line about input field. Use means send this command to chat and get expected action\r\n\r\n#### Actual behavior\r\n[comment]: # (Describe what actually happened.)\r\nsee description\r\n### Reproduction\r\n[comment]: # (Describe how we can replicate the bug step by step.)\r\nvideo: https://drive.google.com/open?id=0Bz3t9zSg1wb7bmpMM2ZiQTZzSkE\r\nYou need to have new 1-1 chat with a contact who is not yet in your Contacts list. This contact should send you /request X eth, so there is message Requesting X in your chat\r\n- Open Status\r\n- Open new 1-1 chat\r\n- Tap on Add to Contacts\r\n- Tap on commands menu and check commands shown there\r\nor\r\n- Tap on /send in command line, type sum and send\r\nor \r\n-  check how Requesting message is shown (if it has icon)\r\n\r\n### Additional Information\r\n[comment]: # (Please do your best to fill this out.)\r\n* Status version: 0.9.7d62\r\n* Operating System: iOS and Android\r\n",
  "closed_by": {
    "login": "rasom",
    "id": 2364994,
    "node_id": "MDQ6VXNlcjIzNjQ5OTQ=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2364994?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/rasom",
    "html_url": "https://github.com/rasom",
    "followers_url": "https://api.github.com/users/rasom/followers",
    "following_url": "https://api.github.com/users/rasom/following{/other_user}",
    "gists_url": "https://api.github.com/users/rasom/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/rasom/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/rasom/subscriptions",
    "organizations_url": "https://api.github.com/users/rasom/orgs",
    "repos_url": "https://api.github.com/users/rasom/repos",
    "events_url": "https://api.github.com/users/rasom/events{/privacy}",
    "received_events_url": "https://api.github.com/users/rasom/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/1173/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-mobile/issues/1173/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[

]
