{
  "url": "https://api.github.com/repos/status-im/status-mobile/issues/2727",
  "repository_url": "https://api.github.com/repos/status-im/status-mobile",
  "labels_url": "https://api.github.com/repos/status-im/status-mobile/issues/2727/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-mobile/issues/2727/comments",
  "events_url": "https://api.github.com/repos/status-im/status-mobile/issues/2727/events",
  "html_url": "https://github.com/status-im/status-mobile/issues/2727",
  "id": 282384278,
  "node_id": "MDU6SXNzdWUyODIzODQyNzg=",
  "number": 2727,
  "title": "Error \"message.chat-id must be type of ‘string’ got null (null)\" if member of group chat leaves the chat",
  "user": {
    "login": "Serhy",
    "id": 8749671,
    "node_id": "MDQ6VXNlcjg3NDk2NzE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/8749671?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Serhy",
    "html_url": "https://github.com/Serhy",
    "followers_url": "https://api.github.com/users/Serhy/followers",
    "following_url": "https://api.github.com/users/Serhy/following{/other_user}",
    "gists_url": "https://api.github.com/users/Serhy/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Serhy/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Serhy/subscriptions",
    "organizations_url": "https://api.github.com/users/Serhy/orgs",
    "repos_url": "https://api.github.com/users/Serhy/repos",
    "events_url": "https://api.github.com/users/Serhy/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Serhy/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "janherich",
    "id": 1910609,
    "node_id": "MDQ6VXNlcjE5MTA2MDk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1910609?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/janherich",
    "html_url": "https://github.com/janherich",
    "followers_url": "https://api.github.com/users/janherich/followers",
    "following_url": "https://api.github.com/users/janherich/following{/other_user}",
    "gists_url": "https://api.github.com/users/janherich/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/janherich/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/janherich/subscriptions",
    "organizations_url": "https://api.github.com/users/janherich/orgs",
    "repos_url": "https://api.github.com/users/janherich/repos",
    "events_url": "https://api.github.com/users/janherich/events{/privacy}",
    "received_events_url": "https://api.github.com/users/janherich/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "janherich",
      "id": 1910609,
      "node_id": "MDQ6VXNlcjE5MTA2MDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1910609?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/janherich",
      "html_url": "https://github.com/janherich",
      "followers_url": "https://api.github.com/users/janherich/followers",
      "following_url": "https://api.github.com/users/janherich/following{/other_user}",
      "gists_url": "https://api.github.com/users/janherich/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/janherich/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/janherich/subscriptions",
      "organizations_url": "https://api.github.com/users/janherich/orgs",
      "repos_url": "https://api.github.com/users/janherich/repos",
      "events_url": "https://api.github.com/users/janherich/events{/privacy}",
      "received_events_url": "https://api.github.com/users/janherich/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2017-12-15T10:31:46Z",
  "updated_at": "2018-01-21T22:51:24Z",
  "closed_at": "2018-01-21T22:51:24Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "***Type***: Bug\r\n\r\n***Summary***: When participant of group chat leaves the chat - all members receives an error \" message.chat-id must be type of ‘string’ got null (null)\" message. Doesn't matter if it's chat owner or joined members leaves the chat. \r\nIt's also doesn't matter if the chat member who receives the error message - been on chat screen or any other screen (e.g. the list of chats or wallet page)\r\n\r\n**Expected behavior**\r\nNo error messages on chat member side who keep stay in the group chat.\r\n**Actual behavior**\r\nError \" message.chat-id must be type of ‘string’ got null (null)\" message appears on side of chat members who kept in the created chat.\r\n\r\n**Reproduction**\r\n1) Open Status on device A\r\n2) Open Status on device B\r\n3) Create new user on device A and submit valid password (this will be UserA from this moment)\r\n4) Create new user on device B and submit valid password (this will be UserB from this moment)\r\n5) On UserB side navigate to 'Chats' -> Account details -> Show QR code\r\n6) Navigate to 'Add new contact' on UserA side.\r\n7) UserA scan QR code of UserB and adds in contact list\r\n8) Navigate on UserA side to 'Start new chat' screen and create 'New group chat'.\r\n9) Add UserB and enter valid name (I user 'newgroupchat' value) of new group chat.\r\n10) On UserB side - navigate to 'Chats' screen. Find new group chat ('newgroupchat' in my case) created by UserA.\r\n11) Tap on chat logo at top-right to get to 'Chat settings'.\r\n12) Tap on 'Leave chat' option.\r\n13) Check UserA screen.\r\n\r\n\r\n**Additional Information**\r\nFrom 10th-13th step above you can interchange users (so instead UserA use UserB and vice versa)  - so it doesn't matter who leaves the chat: chat owner or added participant -> in any case participant who kept in group chat - will receive the error message.\r\n\r\n**Status version:** 0.9.10-443-g460fa38+ nightly develop build (https://jenkins.status.im/job/status-react/job/nightly/108/) (links to .apk - http://artifacts.status.im:8081/artifactory/nightlies-local/im.status.ethereum-460f6a.apk)\r\n\r\n**Operating System:** \r\nAndroid 7.0 Samsung J7 2017 (real device)\r\nAndroid 6.0 Samsung Galaxy S6 (Genymotion emulator)\r\n\r\nScreenshot of error: \r\n![screenshot-2017-12-15_12 16 49 150](https://user-images.githubusercontent.com/8749671/34037588-031f9c34-e192-11e7-8c30-10450558ca79.png)\r\n",
  "closed_by": {
    "login": "annadanchenko",
    "id": 6584810,
    "node_id": "MDQ6VXNlcjY1ODQ4MTA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6584810?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/annadanchenko",
    "html_url": "https://github.com/annadanchenko",
    "followers_url": "https://api.github.com/users/annadanchenko/followers",
    "following_url": "https://api.github.com/users/annadanchenko/following{/other_user}",
    "gists_url": "https://api.github.com/users/annadanchenko/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/annadanchenko/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/annadanchenko/subscriptions",
    "organizations_url": "https://api.github.com/users/annadanchenko/orgs",
    "repos_url": "https://api.github.com/users/annadanchenko/repos",
    "events_url": "https://api.github.com/users/annadanchenko/events{/privacy}",
    "received_events_url": "https://api.github.com/users/annadanchenko/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/2727/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-mobile/issues/2727/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/359288818",
    "html_url": "https://github.com/status-im/status-mobile/issues/2727#issuecomment-359288818",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/2727",
    "id": 359288818,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1OTI4ODgxOA==",
    "user": {
      "login": "annadanchenko",
      "id": 6584810,
      "node_id": "MDQ6VXNlcjY1ODQ4MTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6584810?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/annadanchenko",
      "html_url": "https://github.com/annadanchenko",
      "followers_url": "https://api.github.com/users/annadanchenko/followers",
      "following_url": "https://api.github.com/users/annadanchenko/following{/other_user}",
      "gists_url": "https://api.github.com/users/annadanchenko/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/annadanchenko/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/annadanchenko/subscriptions",
      "organizations_url": "https://api.github.com/users/annadanchenko/orgs",
      "repos_url": "https://api.github.com/users/annadanchenko/repos",
      "events_url": "https://api.github.com/users/annadanchenko/events{/privacy}",
      "received_events_url": "https://api.github.com/users/annadanchenko/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-21T22:51:24Z",
    "updated_at": "2018-01-21T22:51:24Z",
    "author_association": "NONE",
    "body": "works ok on nightly build (from january 21)",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/359288818/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
