{
  "url": "https://api.github.com/repos/status-im/status-mobile/issues/9037",
  "repository_url": "https://api.github.com/repos/status-im/status-mobile",
  "labels_url": "https://api.github.com/repos/status-im/status-mobile/issues/9037/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-mobile/issues/9037/comments",
  "events_url": "https://api.github.com/repos/status-im/status-mobile/issues/9037/events",
  "html_url": "https://github.com/status-im/status-mobile/issues/9037",
  "id": 498237041,
  "node_id": "MDU6SXNzdWU0OTgyMzcwNDE=",
  "number": 9037,
  "title": "Error states for new Tx overview: contract & network fees",
  "user": {
    "login": "rachelhamlin",
    "id": 15470435,
    "node_id": "MDQ6VXNlcjE1NDcwNDM1",
    "avatar_url": "https://avatars.githubusercontent.com/u/15470435?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/rachelhamlin",
    "html_url": "https://github.com/rachelhamlin",
    "followers_url": "https://api.github.com/users/rachelhamlin/followers",
    "following_url": "https://api.github.com/users/rachelhamlin/following{/other_user}",
    "gists_url": "https://api.github.com/users/rachelhamlin/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/rachelhamlin/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/rachelhamlin/subscriptions",
    "organizations_url": "https://api.github.com/users/rachelhamlin/orgs",
    "repos_url": "https://api.github.com/users/rachelhamlin/repos",
    "events_url": "https://api.github.com/users/rachelhamlin/events{/privacy}",
    "received_events_url": "https://api.github.com/users/rachelhamlin/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 933023569,
      "node_id": "MDU6TGFiZWw5MzMwMjM1Njk=",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/feature",
      "name": "feature",
      "color": "172b9e",
      "default": false,
      "description": "feature requests"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "flexsurfer",
    "id": 11790366,
    "node_id": "MDQ6VXNlcjExNzkwMzY2",
    "avatar_url": "https://avatars.githubusercontent.com/u/11790366?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/flexsurfer",
    "html_url": "https://github.com/flexsurfer",
    "followers_url": "https://api.github.com/users/flexsurfer/followers",
    "following_url": "https://api.github.com/users/flexsurfer/following{/other_user}",
    "gists_url": "https://api.github.com/users/flexsurfer/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/flexsurfer/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/flexsurfer/subscriptions",
    "organizations_url": "https://api.github.com/users/flexsurfer/orgs",
    "repos_url": "https://api.github.com/users/flexsurfer/repos",
    "events_url": "https://api.github.com/users/flexsurfer/events{/privacy}",
    "received_events_url": "https://api.github.com/users/flexsurfer/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "flexsurfer",
      "id": 11790366,
      "node_id": "MDQ6VXNlcjExNzkwMzY2",
      "avatar_url": "https://avatars.githubusercontent.com/u/11790366?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/flexsurfer",
      "html_url": "https://github.com/flexsurfer",
      "followers_url": "https://api.github.com/users/flexsurfer/followers",
      "following_url": "https://api.github.com/users/flexsurfer/following{/other_user}",
      "gists_url": "https://api.github.com/users/flexsurfer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/flexsurfer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/flexsurfer/subscriptions",
      "organizations_url": "https://api.github.com/users/flexsurfer/orgs",
      "repos_url": "https://api.github.com/users/flexsurfer/repos",
      "events_url": "https://api.github.com/users/flexsurfer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/flexsurfer/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 7,
  "created_at": "2019-09-25T11:56:15Z",
  "updated_at": "2020-06-23T13:00:32Z",
  "closed_at": "2020-06-23T13:00:32Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "# Problem\n\nWe redesigned the transaction overview screen in #8026, but error states have not been updated to match.\n\nThere are two key error states we need to cover:\n(1) When the user does not have enough ETH to pay for network fees (gas).\n(2) Contract-related errors that are special cases arising from an inability of the contract to accurately calculate gas.\n\nInitially we spec'd out these error states in #8026 and #8691, respectively—but as there is overlap between them, this issue merges them into one.\n\n## Implementation\n\n[Figma screens for insufficient network fee](https://www.figma.com/file/XUehMnhyD1FGcWzvGz6SXqvh/Mobile-wallet?node-id=3864%3A33253)\n![image](https://user-images.githubusercontent.com/15470435/65598568-a4d32b80-df93-11e9-9c49-7076400b24a7.png)\n\n[Figma screens for contract errors](https://www.figma.com/file/XUehMnhyD1FGcWzvGz6SXqvh/Mobile-wallet?node-id=3864%3A33253)\n![image](https://user-images.githubusercontent.com/15470435/65598544-9b49c380-df93-11e9-854e-ff3065fe5320.png)\n\n## Acceptance Criteria\n\nThe terminology to be used in app is now `network fee` rather than `gas`. \n\nThere is a loading state utilizing spinner animation as the network fee is being calculated.\n\n#### For the network fee error\nWhen the **user** is initiating the transaction (from wallet, or in future, chat): \n- They will not make it past [this screen](https://prnt.sc/pardu1) if they have an insufficient number of tokens for the transaction. They will never see both errors at once on the final overview.\n- They can, however, bump into the insufficient network fee error, if they are low on ETH.\n\nWhen a **DApp** initiates the transaction:\n- Either or BOTH errors can occur at once:\n- The user may have enough tokens, but not enough ETH for gas;\n- Or the user may have enough ETH for gas, but not enough tokens;\n- Or the user may be lacking in both. \n\nThe error states should accurately reflect this.  \n\nNote that if both error states are displayed, tapping on either `info` bubble should display the `Not enough [token]` (_do not hard code ETH!_) or `Not enough ETH` tool tip. If one is open already and the other is tapped, the first tool tip is minimized, and the second is opened. \n\n#### For the contract error\nThe user is gated from signing the Tx unless they manually `Set custom fee`. Then they may continue with an additional warning about the likelihood of failure.",
  "closed_by": {
    "login": "flexsurfer",
    "id": 11790366,
    "node_id": "MDQ6VXNlcjExNzkwMzY2",
    "avatar_url": "https://avatars.githubusercontent.com/u/11790366?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/flexsurfer",
    "html_url": "https://github.com/flexsurfer",
    "followers_url": "https://api.github.com/users/flexsurfer/followers",
    "following_url": "https://api.github.com/users/flexsurfer/following{/other_user}",
    "gists_url": "https://api.github.com/users/flexsurfer/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/flexsurfer/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/flexsurfer/subscriptions",
    "organizations_url": "https://api.github.com/users/flexsurfer/orgs",
    "repos_url": "https://api.github.com/users/flexsurfer/repos",
    "events_url": "https://api.github.com/users/flexsurfer/events{/privacy}",
    "received_events_url": "https://api.github.com/users/flexsurfer/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/9037/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-mobile/issues/9037/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/534986779",
    "html_url": "https://github.com/status-im/status-mobile/issues/9037#issuecomment-534986779",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/9037",
    "id": 534986779,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzNDk4Njc3OQ==",
    "user": {
      "login": "rachelhamlin",
      "id": 15470435,
      "node_id": "MDQ6VXNlcjE1NDcwNDM1",
      "avatar_url": "https://avatars.githubusercontent.com/u/15470435?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rachelhamlin",
      "html_url": "https://github.com/rachelhamlin",
      "followers_url": "https://api.github.com/users/rachelhamlin/followers",
      "following_url": "https://api.github.com/users/rachelhamlin/following{/other_user}",
      "gists_url": "https://api.github.com/users/rachelhamlin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rachelhamlin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rachelhamlin/subscriptions",
      "organizations_url": "https://api.github.com/users/rachelhamlin/orgs",
      "repos_url": "https://api.github.com/users/rachelhamlin/repos",
      "events_url": "https://api.github.com/users/rachelhamlin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rachelhamlin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-09-25T11:57:12Z",
    "updated_at": "2019-09-25T12:08:11Z",
    "author_association": "CONTRIBUTOR",
    "body": "cc @andmironov for your review and also @flexsurfer - do you know if this bottom sheet is implemented yet? If not, I will create a separate issue for it.\r\n\r\nEDIT: [the old version of the screen](https://github.com/status-im/status-react/issues/8485#issuecomment-534986846) exists. We can continue to use that for this PR, with added error state for insufficient network fee. To be updated on Figma, please, Andrei 🙏\r\n\r\nI will create a separate issue for this future version, post v1 - \r\n![image](https://user-images.githubusercontent.com/15470435/65598709-f7144c80-df93-11e9-8a8d-68b0c171c6bd.png)\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/534986779/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/535308224",
    "html_url": "https://github.com/status-im/status-mobile/issues/9037#issuecomment-535308224",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/9037",
    "id": 535308224,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzNTMwODIyNA==",
    "user": {
      "login": "3esmit",
      "id": 224810,
      "node_id": "MDQ6VXNlcjIyNDgxMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/224810?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/3esmit",
      "html_url": "https://github.com/3esmit",
      "followers_url": "https://api.github.com/users/3esmit/followers",
      "following_url": "https://api.github.com/users/3esmit/following{/other_user}",
      "gists_url": "https://api.github.com/users/3esmit/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/3esmit/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/3esmit/subscriptions",
      "organizations_url": "https://api.github.com/users/3esmit/orgs",
      "repos_url": "https://api.github.com/users/3esmit/repos",
      "events_url": "https://api.github.com/users/3esmit/events{/privacy}",
      "received_events_url": "https://api.github.com/users/3esmit/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-09-26T02:48:37Z",
    "updated_at": "2019-09-26T02:48:37Z",
    "author_association": "MEMBER",
    "body": "Please, don't totally hide 'data' field from contract calls.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/535308224/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/543651796",
    "html_url": "https://github.com/status-im/status-mobile/issues/9037#issuecomment-543651796",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/9037",
    "id": 543651796,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU0MzY1MTc5Ng==",
    "user": {
      "login": "flexsurfer",
      "id": 11790366,
      "node_id": "MDQ6VXNlcjExNzkwMzY2",
      "avatar_url": "https://avatars.githubusercontent.com/u/11790366?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/flexsurfer",
      "html_url": "https://github.com/flexsurfer",
      "followers_url": "https://api.github.com/users/flexsurfer/followers",
      "following_url": "https://api.github.com/users/flexsurfer/following{/other_user}",
      "gists_url": "https://api.github.com/users/flexsurfer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/flexsurfer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/flexsurfer/subscriptions",
      "organizations_url": "https://api.github.com/users/flexsurfer/orgs",
      "repos_url": "https://api.github.com/users/flexsurfer/repos",
      "events_url": "https://api.github.com/users/flexsurfer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/flexsurfer/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-10-18T10:11:47Z",
    "updated_at": "2019-10-18T10:11:47Z",
    "author_association": "MEMBER",
    "body": "WIP https://github.com/status-im/status-react/pull/9236",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/543651796/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 1,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/547834961",
    "html_url": "https://github.com/status-im/status-mobile/issues/9037#issuecomment-547834961",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/9037",
    "id": 547834961,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU0NzgzNDk2MQ==",
    "user": {
      "login": "rachelhamlin",
      "id": 15470435,
      "node_id": "MDQ6VXNlcjE1NDcwNDM1",
      "avatar_url": "https://avatars.githubusercontent.com/u/15470435?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rachelhamlin",
      "html_url": "https://github.com/rachelhamlin",
      "followers_url": "https://api.github.com/users/rachelhamlin/followers",
      "following_url": "https://api.github.com/users/rachelhamlin/following{/other_user}",
      "gists_url": "https://api.github.com/users/rachelhamlin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rachelhamlin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rachelhamlin/subscriptions",
      "organizations_url": "https://api.github.com/users/rachelhamlin/orgs",
      "repos_url": "https://api.github.com/users/rachelhamlin/repos",
      "events_url": "https://api.github.com/users/rachelhamlin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rachelhamlin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-10-30T10:29:28Z",
    "updated_at": "2019-10-30T10:29:28Z",
    "author_association": "CONTRIBUTOR",
    "body": "Reviewing this issue again and I'm no longer thinking that it's strictly required for v1. I'm happy to finish the WIP PR, but want to comment that some of the open issues in [keycard](https://github.com/status-im/status-react/issues/8135) are probably more urgent to fix for launch.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/547834961/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/586128895",
    "html_url": "https://github.com/status-im/status-mobile/issues/9037#issuecomment-586128895",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/9037",
    "id": 586128895,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU4NjEyODg5NQ==",
    "user": {
      "login": "flexsurfer",
      "id": 11790366,
      "node_id": "MDQ6VXNlcjExNzkwMzY2",
      "avatar_url": "https://avatars.githubusercontent.com/u/11790366?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/flexsurfer",
      "html_url": "https://github.com/flexsurfer",
      "followers_url": "https://api.github.com/users/flexsurfer/followers",
      "following_url": "https://api.github.com/users/flexsurfer/following{/other_user}",
      "gists_url": "https://api.github.com/users/flexsurfer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/flexsurfer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/flexsurfer/subscriptions",
      "organizations_url": "https://api.github.com/users/flexsurfer/orgs",
      "repos_url": "https://api.github.com/users/flexsurfer/repos",
      "events_url": "https://api.github.com/users/flexsurfer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/flexsurfer/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-02-14T07:12:45Z",
    "updated_at": "2020-02-14T07:12:45Z",
    "author_association": "MEMBER",
    "body": "moved to P0 because currently users think there is an error with gas and set gas manually and spent their funds but tx fails",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/586128895/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/586293305",
    "html_url": "https://github.com/status-im/status-mobile/issues/9037#issuecomment-586293305",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/9037",
    "id": 586293305,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU4NjI5MzMwNQ==",
    "user": {
      "login": "rachelhamlin",
      "id": 15470435,
      "node_id": "MDQ6VXNlcjE1NDcwNDM1",
      "avatar_url": "https://avatars.githubusercontent.com/u/15470435?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rachelhamlin",
      "html_url": "https://github.com/rachelhamlin",
      "followers_url": "https://api.github.com/users/rachelhamlin/followers",
      "following_url": "https://api.github.com/users/rachelhamlin/following{/other_user}",
      "gists_url": "https://api.github.com/users/rachelhamlin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rachelhamlin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rachelhamlin/subscriptions",
      "organizations_url": "https://api.github.com/users/rachelhamlin/orgs",
      "repos_url": "https://api.github.com/users/rachelhamlin/repos",
      "events_url": "https://api.github.com/users/rachelhamlin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rachelhamlin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-02-14T13:45:06Z",
    "updated_at": "2020-02-14T13:45:06Z",
    "author_association": "CONTRIBUTOR",
    "body": "@flexsurfer you mean when they don't have any tokens for an ENS name? ",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/586293305/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/586300815",
    "html_url": "https://github.com/status-im/status-mobile/issues/9037#issuecomment-586300815",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/9037",
    "id": 586300815,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU4NjMwMDgxNQ==",
    "user": {
      "login": "flexsurfer",
      "id": 11790366,
      "node_id": "MDQ6VXNlcjExNzkwMzY2",
      "avatar_url": "https://avatars.githubusercontent.com/u/11790366?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/flexsurfer",
      "html_url": "https://github.com/flexsurfer",
      "followers_url": "https://api.github.com/users/flexsurfer/followers",
      "following_url": "https://api.github.com/users/flexsurfer/following{/other_user}",
      "gists_url": "https://api.github.com/users/flexsurfer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/flexsurfer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/flexsurfer/subscriptions",
      "organizations_url": "https://api.github.com/users/flexsurfer/orgs",
      "repos_url": "https://api.github.com/users/flexsurfer/repos",
      "events_url": "https://api.github.com/users/flexsurfer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/flexsurfer/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-02-14T14:02:05Z",
    "updated_at": "2020-02-14T14:02:05Z",
    "author_association": "MEMBER",
    "body": "it can be any contract interaction but ens name as well yes ",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/586300815/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
