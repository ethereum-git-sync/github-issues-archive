{
  "url": "https://api.github.com/repos/status-im/status-mobile/issues/7098",
  "repository_url": "https://api.github.com/repos/status-im/status-mobile",
  "labels_url": "https://api.github.com/repos/status-im/status-mobile/issues/7098/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-mobile/issues/7098/comments",
  "events_url": "https://api.github.com/repos/status-im/status-mobile/issues/7098/events",
  "html_url": "https://github.com/status-im/status-mobile/issues/7098",
  "id": 391070847,
  "node_id": "MDU6SXNzdWUzOTEwNzA4NDc=",
  "number": 7098,
  "title": "Messages aren't fetched from offline mode if mailserver is mail-02.ac-cn-hongkong-c.eth.beta ",
  "user": {
    "login": "churik",
    "id": 4557972,
    "node_id": "MDQ6VXNlcjQ1NTc5NzI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4557972?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/churik",
    "html_url": "https://github.com/churik",
    "followers_url": "https://api.github.com/users/churik/followers",
    "following_url": "https://api.github.com/users/churik/following{/other_user}",
    "gists_url": "https://api.github.com/users/churik/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/churik/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/churik/subscriptions",
    "organizations_url": "https://api.github.com/users/churik/orgs",
    "repos_url": "https://api.github.com/users/churik/repos",
    "events_url": "https://api.github.com/users/churik/events{/privacy}",
    "received_events_url": "https://api.github.com/users/churik/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 330296931,
      "node_id": "MDU6TGFiZWwzMzAyOTY5MzE=",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/bug",
      "name": "bug",
      "color": "fc2929",
      "default": true,
      "description": null
    },
    {
      "id": 956251551,
      "node_id": "MDU6TGFiZWw5NTYyNTE1NTE=",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/high-severity",
      "name": "high-severity",
      "color": "c91a34",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2018-12-14T11:19:52Z",
  "updated_at": "2019-01-30T14:19:56Z",
  "closed_at": "2019-01-30T14:19:56Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "### Description\r\n\r\n*Type*: Bug\r\n\r\n*Summary*: for one mailserver `mail-02.ac-cn-hongkong-c.eth.beta ` history is not fetched from offline mode.\r\nIf you change it to other manually - history is fetching successfully.\r\n\r\n*Prerequisites:* user has build installed on desktop platform (in my case it is Mac OSx) and mail server is `mail-02.ac-cn-hongkong-c.eth.beta`\r\n\r\n\r\nAfter this history is finally fetched.\r\n**Reproducible only on for my setup.** (feel free to request `Status` folder to debug it)\r\n#### Expected behavior\r\nall sent messages are fetched \r\n\r\n#### Actual behavior\r\nno new history fetched or only last sent message is fetched. If you go to settings and change mailserver (in my case I changed to `mail-01.do-ams3.eth.beta`) - all history will be fetched.\r\n\r\n### Reproduction\r\n- join any public chat (i.e. #12345test)\r\n- log out \r\n- sent some messages to the same chat from another device (several messages)\r\n- log in on desktop\r\n- check this chat \r\n\r\n\r\n### Additional Information\r\n[comment]: # (Please do your best to fill this out.)\r\n* Status version: nightly 14/12/2018\r\n* Operating System: Mac OS\r\n* NOTE: reproducible only for my current setup on desktop, for all types of chat (1-1, group, public) and only for this mailsever.\r\n\r\n#### Logs\r\nVideo: http://take.ms/ERSKV\r\n[geth.log](https://github.com/status-im/status-react/files/2679490/geth.log)\r\n[Status.log](https://github.com/status-im/status-react/files/2679459/Status.log)\r\n\r\n",
  "closed_by": {
    "login": "churik",
    "id": 4557972,
    "node_id": "MDQ6VXNlcjQ1NTc5NzI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4557972?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/churik",
    "html_url": "https://github.com/churik",
    "followers_url": "https://api.github.com/users/churik/followers",
    "following_url": "https://api.github.com/users/churik/following{/other_user}",
    "gists_url": "https://api.github.com/users/churik/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/churik/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/churik/subscriptions",
    "organizations_url": "https://api.github.com/users/churik/orgs",
    "repos_url": "https://api.github.com/users/churik/repos",
    "events_url": "https://api.github.com/users/churik/events{/privacy}",
    "received_events_url": "https://api.github.com/users/churik/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/7098/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-mobile/issues/7098/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/447297288",
    "html_url": "https://github.com/status-im/status-mobile/issues/7098#issuecomment-447297288",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/7098",
    "id": 447297288,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0NzI5NzI4OA==",
    "user": {
      "login": "vkjr",
      "id": 5786310,
      "node_id": "MDQ6VXNlcjU3ODYzMTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5786310?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vkjr",
      "html_url": "https://github.com/vkjr",
      "followers_url": "https://api.github.com/users/vkjr/followers",
      "following_url": "https://api.github.com/users/vkjr/following{/other_user}",
      "gists_url": "https://api.github.com/users/vkjr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vkjr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vkjr/subscriptions",
      "organizations_url": "https://api.github.com/users/vkjr/orgs",
      "repos_url": "https://api.github.com/users/vkjr/repos",
      "events_url": "https://api.github.com/users/vkjr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vkjr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-12-14T11:25:45Z",
    "updated_at": "2018-12-14T11:25:45Z",
    "author_association": "CONTRIBUTOR",
    "body": "@churik, when you reproduce this on mobile, are you connected to the same network provider?\r\nIt is strange for me that it is desktop-only. I can suspect that you can't connect from mobile and can't connect from desktop because of different networks? If you connect mobile to the same network and issue reproducible, then probably something is with the provider.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/447297288/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/447297875",
    "html_url": "https://github.com/status-im/status-mobile/issues/7098#issuecomment-447297875",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/7098",
    "id": 447297875,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0NzI5Nzg3NQ==",
    "user": {
      "login": "churik",
      "id": 4557972,
      "node_id": "MDQ6VXNlcjQ1NTc5NzI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4557972?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/churik",
      "html_url": "https://github.com/churik",
      "followers_url": "https://api.github.com/users/churik/followers",
      "following_url": "https://api.github.com/users/churik/following{/other_user}",
      "gists_url": "https://api.github.com/users/churik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/churik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/churik/subscriptions",
      "organizations_url": "https://api.github.com/users/churik/orgs",
      "repos_url": "https://api.github.com/users/churik/repos",
      "events_url": "https://api.github.com/users/churik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/churik/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-12-14T11:28:06Z",
    "updated_at": "2018-12-14T11:29:01Z",
    "author_association": "MEMBER",
    "body": "@vkjr I agree that's strange. I have the same wifi network on both devices.\r\nAlso I retested it on different accounts with different number of chats - the same.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/447297875/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/447299354",
    "html_url": "https://github.com/status-im/status-mobile/issues/7098#issuecomment-447299354",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/7098",
    "id": 447299354,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0NzI5OTM1NA==",
    "user": {
      "login": "churik",
      "id": 4557972,
      "node_id": "MDQ6VXNlcjQ1NTc5NzI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4557972?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/churik",
      "html_url": "https://github.com/churik",
      "followers_url": "https://api.github.com/users/churik/followers",
      "following_url": "https://api.github.com/users/churik/following{/other_user}",
      "gists_url": "https://api.github.com/users/churik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/churik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/churik/subscriptions",
      "organizations_url": "https://api.github.com/users/churik/orgs",
      "repos_url": "https://api.github.com/users/churik/repos",
      "events_url": "https://api.github.com/users/churik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/churik/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-12-14T11:35:01Z",
    "updated_at": "2018-12-14T11:35:01Z",
    "author_association": "MEMBER",
    "body": "OK, found out. Specific for my setup, which is only on desktop - so if I clean up the data fully, I couldn't reproduce it.\r\nOn current setup I can reproduce it for all accounts - new and recovered.\r\nI'll save my setup for anyone who can debug an issue.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/447299354/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
