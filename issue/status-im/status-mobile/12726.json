{
  "url": "https://api.github.com/repos/status-im/status-mobile/issues/12726",
  "repository_url": "https://api.github.com/repos/status-im/status-mobile",
  "labels_url": "https://api.github.com/repos/status-im/status-mobile/issues/12726/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-mobile/issues/12726/comments",
  "events_url": "https://api.github.com/repos/status-im/status-mobile/issues/12726/events",
  "html_url": "https://github.com/status-im/status-mobile/issues/12726",
  "id": 1031189912,
  "node_id": "I_kwDOAx4p2c49drWY",
  "number": 12726,
  "title": "ReactNativeWebView.onMessage is not a function",
  "user": {
    "login": "qfrank",
    "id": 12406719,
    "node_id": "MDQ6VXNlcjEyNDA2NzE5",
    "avatar_url": "https://avatars.githubusercontent.com/u/12406719?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/qfrank",
    "html_url": "https://github.com/qfrank",
    "followers_url": "https://api.github.com/users/qfrank/followers",
    "following_url": "https://api.github.com/users/qfrank/following{/other_user}",
    "gists_url": "https://api.github.com/users/qfrank/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/qfrank/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/qfrank/subscriptions",
    "organizations_url": "https://api.github.com/users/qfrank/orgs",
    "repos_url": "https://api.github.com/users/qfrank/repos",
    "events_url": "https://api.github.com/users/qfrank/events{/privacy}",
    "received_events_url": "https://api.github.com/users/qfrank/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 330296931,
      "node_id": "MDU6TGFiZWwzMzAyOTY5MzE=",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/bug",
      "name": "bug",
      "color": "fc2929",
      "default": true,
      "description": null
    },
    {
      "id": 592301888,
      "node_id": "MDU6TGFiZWw1OTIzMDE4ODg=",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/help%20to%20reproduce",
      "name": "help to reproduce",
      "color": "0e8a16",
      "default": false,
      "description": null
    },
    {
      "id": 3313250661,
      "node_id": "MDU6TGFiZWwzMzEzMjUwNjYx",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/dapp",
      "name": "dapp",
      "color": "DE53FE",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2021-10-20T09:33:32Z",
  "updated_at": "2022-01-14T10:49:17Z",
  "closed_at": "2022-01-14T10:49:17Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "# Bug Report\r\nWhen browsing dapp `swap.eros.fund` with android 10+, everything works fine, but with android 8.1, you encounter the problem shown in the title\r\n\r\n### Reproduction\r\n\r\n1) using Android Studio -> AVD Manager to create a virtual device, when creating, select \"Phone\" from Category, select \"Pixel XL\" from name list, click \"next\", select \"Oreo\" which api level is 27, ABI is x86, and most important the target should use Android 8.1(Google APIs)\r\n2) install status app(version 1.16) into the newly created device above\r\n3) open status login and navigate to browser tab, type `swap.eros.fund` in the address bar and go\r\n4) you will see a screenshot like this one \r\n![1](https://user-images.githubusercontent.com/12406719/138064195-0e0683bc-a0d0-4740-a747-6921fc7435b1.png)\r\n5) open chrome, type `chrome://inspect`, u will see like this\r\n![2](https://user-images.githubusercontent.com/12406719/138064747-3dd40db6-b80b-4557-85b0-022467ce7edf.png)\r\n6) click inspect and navigate to `Console`\r\n7) click the button in the red box as shown in the picture `... `\r\n![3](https://user-images.githubusercontent.com/12406719/138065383-74f9d1ff-ddb5-4450-91eb-52fdf0ced9c8.png)\r\n8) Connect wallet ![4](https://user-images.githubusercontent.com/12406719/138065696-f6ef779b-d918-4766-80b4-35caea5fb5ab.png)\r\n9) choose Allow  \r\n![5](https://user-images.githubusercontent.com/12406719/138066049-4b7cfc61-0b59-406b-b05a-18aa183f0217.png)\r\n10) back to DevTools\r\n![6](https://user-images.githubusercontent.com/12406719/138066204-0a609305-f983-4a76-a741-ad20dc952b3b.png)\r\n\r\n\r\n### Additional Information\r\na work solution is: edit package.json, and change dependency \"react-native-webview\" to \"git+https://github.com/status-im/react-native-webview.git#js_injection_before_load\", then won't have this issue on android 8.1 , i have checked `https://github.com/status-im/react-native-webview` , looks like the latest tag or branch master didn't merge branch `js_injection_before_load`, why?\r\n\r\n\r\n- Status version: 1.16 \r\n- Operating System: Android\r\n\r\n\r\n\r\n",
  "closed_by": {
    "login": "bitgamma",
    "id": 12899729,
    "node_id": "MDQ6VXNlcjEyODk5NzI5",
    "avatar_url": "https://avatars.githubusercontent.com/u/12899729?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/bitgamma",
    "html_url": "https://github.com/bitgamma",
    "followers_url": "https://api.github.com/users/bitgamma/followers",
    "following_url": "https://api.github.com/users/bitgamma/following{/other_user}",
    "gists_url": "https://api.github.com/users/bitgamma/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/bitgamma/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/bitgamma/subscriptions",
    "organizations_url": "https://api.github.com/users/bitgamma/orgs",
    "repos_url": "https://api.github.com/users/bitgamma/repos",
    "events_url": "https://api.github.com/users/bitgamma/events{/privacy}",
    "received_events_url": "https://api.github.com/users/bitgamma/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/12726/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-mobile/issues/12726/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/948514509",
    "html_url": "https://github.com/status-im/status-mobile/issues/12726#issuecomment-948514509",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/12726",
    "id": 948514509,
    "node_id": "IC_kwDOAx4p2c44iS7N",
    "user": {
      "login": "churik",
      "id": 4557972,
      "node_id": "MDQ6VXNlcjQ1NTc5NzI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4557972?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/churik",
      "html_url": "https://github.com/churik",
      "followers_url": "https://api.github.com/users/churik/followers",
      "following_url": "https://api.github.com/users/churik/following{/other_user}",
      "gists_url": "https://api.github.com/users/churik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/churik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/churik/subscriptions",
      "organizations_url": "https://api.github.com/users/churik/orgs",
      "repos_url": "https://api.github.com/users/churik/repos",
      "events_url": "https://api.github.com/users/churik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/churik/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-21T11:23:51Z",
    "updated_at": "2021-10-21T11:23:51Z",
    "author_association": "MEMBER",
    "body": "Could noramally connect wallet on Pixel 2, Android8 (real remote device)\r\n\r\nhttps://user-images.githubusercontent.com/4557972/138267559-630a3d00-be80-4fe5-bcf5-203f635023c4.mp4\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/948514509/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/949244061",
    "html_url": "https://github.com/status-im/status-mobile/issues/12726#issuecomment-949244061",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/12726",
    "id": 949244061,
    "node_id": "IC_kwDOAx4p2c44lFCd",
    "user": {
      "login": "qfrank",
      "id": 12406719,
      "node_id": "MDQ6VXNlcjEyNDA2NzE5",
      "avatar_url": "https://avatars.githubusercontent.com/u/12406719?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/qfrank",
      "html_url": "https://github.com/qfrank",
      "followers_url": "https://api.github.com/users/qfrank/followers",
      "following_url": "https://api.github.com/users/qfrank/following{/other_user}",
      "gists_url": "https://api.github.com/users/qfrank/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/qfrank/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/qfrank/subscriptions",
      "organizations_url": "https://api.github.com/users/qfrank/orgs",
      "repos_url": "https://api.github.com/users/qfrank/repos",
      "events_url": "https://api.github.com/users/qfrank/events{/privacy}",
      "received_events_url": "https://api.github.com/users/qfrank/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-22T02:52:21Z",
    "updated_at": "2021-10-22T02:52:21Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hi @churik , have u tried this type of simulator: Pixel XL, Oreo, api level 27, x86 Android 8.1(Google APIs)?",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/949244061/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/950779979",
    "html_url": "https://github.com/status-im/status-mobile/issues/12726#issuecomment-950779979",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/12726",
    "id": 950779979,
    "node_id": "IC_kwDOAx4p2c44q8BL",
    "user": {
      "login": "flexsurfer",
      "id": 11790366,
      "node_id": "MDQ6VXNlcjExNzkwMzY2",
      "avatar_url": "https://avatars.githubusercontent.com/u/11790366?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/flexsurfer",
      "html_url": "https://github.com/flexsurfer",
      "followers_url": "https://api.github.com/users/flexsurfer/followers",
      "following_url": "https://api.github.com/users/flexsurfer/following{/other_user}",
      "gists_url": "https://api.github.com/users/flexsurfer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/flexsurfer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/flexsurfer/subscriptions",
      "organizations_url": "https://api.github.com/users/flexsurfer/orgs",
      "repos_url": "https://api.github.com/users/flexsurfer/repos",
      "events_url": "https://api.github.com/users/flexsurfer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/flexsurfer/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-25T10:36:16Z",
    "updated_at": "2021-10-25T10:36:23Z",
    "author_association": "MEMBER",
    "body": ">  looks like the latest tag or branch master didn't merge branch js_injection_before_load, why?\r\n\r\ncc @bitgamma ",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/950779979/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/950820763",
    "html_url": "https://github.com/status-im/status-mobile/issues/12726#issuecomment-950820763",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/12726",
    "id": 950820763,
    "node_id": "IC_kwDOAx4p2c44rF-b",
    "user": {
      "login": "bitgamma",
      "id": 12899729,
      "node_id": "MDQ6VXNlcjEyODk5NzI5",
      "avatar_url": "https://avatars.githubusercontent.com/u/12899729?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bitgamma",
      "html_url": "https://github.com/bitgamma",
      "followers_url": "https://api.github.com/users/bitgamma/followers",
      "following_url": "https://api.github.com/users/bitgamma/following{/other_user}",
      "gists_url": "https://api.github.com/users/bitgamma/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bitgamma/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bitgamma/subscriptions",
      "organizations_url": "https://api.github.com/users/bitgamma/orgs",
      "repos_url": "https://api.github.com/users/bitgamma/repos",
      "events_url": "https://api.github.com/users/bitgamma/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bitgamma/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-25T11:22:45Z",
    "updated_at": "2021-10-25T11:39:17Z",
    "author_association": "MEMBER",
    "body": "when I updated the dependency, I based off https://github.com/status-im/react-native-webview/tree/v10.9.2 (the version we were using before) which also didn't include the commits from `js_injection_before_load`. I'll see if those commits can be applied as-is to the new version",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/950820763/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/950834050",
    "html_url": "https://github.com/status-im/status-mobile/issues/12726#issuecomment-950834050",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/12726",
    "id": 950834050,
    "node_id": "IC_kwDOAx4p2c44rJOC",
    "user": {
      "login": "bitgamma",
      "id": 12899729,
      "node_id": "MDQ6VXNlcjEyODk5NzI5",
      "avatar_url": "https://avatars.githubusercontent.com/u/12899729?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bitgamma",
      "html_url": "https://github.com/bitgamma",
      "followers_url": "https://api.github.com/users/bitgamma/followers",
      "following_url": "https://api.github.com/users/bitgamma/following{/other_user}",
      "gists_url": "https://api.github.com/users/bitgamma/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bitgamma/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bitgamma/subscriptions",
      "organizations_url": "https://api.github.com/users/bitgamma/orgs",
      "repos_url": "https://api.github.com/users/bitgamma/repos",
      "events_url": "https://api.github.com/users/bitgamma/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bitgamma/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-25T11:38:38Z",
    "updated_at": "2021-10-25T11:38:38Z",
    "author_association": "MEMBER",
    "body": "the commits cannot be applied as is and also it looks like at least part of that code is already part of upstream so further analysis of the underlying error is needed to apply a fix",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/950834050/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 1,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/950835052",
    "html_url": "https://github.com/status-im/status-mobile/issues/12726#issuecomment-950835052",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/12726",
    "id": 950835052,
    "node_id": "IC_kwDOAx4p2c44rJds",
    "user": {
      "login": "flexsurfer",
      "id": 11790366,
      "node_id": "MDQ6VXNlcjExNzkwMzY2",
      "avatar_url": "https://avatars.githubusercontent.com/u/11790366?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/flexsurfer",
      "html_url": "https://github.com/flexsurfer",
      "followers_url": "https://api.github.com/users/flexsurfer/followers",
      "following_url": "https://api.github.com/users/flexsurfer/following{/other_user}",
      "gists_url": "https://api.github.com/users/flexsurfer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/flexsurfer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/flexsurfer/subscriptions",
      "organizations_url": "https://api.github.com/users/flexsurfer/orgs",
      "repos_url": "https://api.github.com/users/flexsurfer/repos",
      "events_url": "https://api.github.com/users/flexsurfer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/flexsurfer/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-25T11:39:54Z",
    "updated_at": "2021-10-25T11:39:54Z",
    "author_association": "MEMBER",
    "body": "thanks @bitgamma ",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/950835052/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
