{
  "url": "https://api.github.com/repos/status-im/status-mobile/issues/8765",
  "repository_url": "https://api.github.com/repos/status-im/status-mobile",
  "labels_url": "https://api.github.com/repos/status-im/status-mobile/issues/8765/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-mobile/issues/8765/comments",
  "events_url": "https://api.github.com/repos/status-im/status-mobile/issues/8765/events",
  "html_url": "https://github.com/status-im/status-mobile/issues/8765",
  "id": 481294191,
  "node_id": "MDU6SXNzdWU0ODEyOTQxOTE=",
  "number": 8765,
  "title": "Inconsistencies in \"Show my ENS name in chat\" setting in user profile",
  "user": {
    "login": "churik",
    "id": 4557972,
    "node_id": "MDQ6VXNlcjQ1NTc5NzI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4557972?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/churik",
    "html_url": "https://github.com/churik",
    "followers_url": "https://api.github.com/users/churik/followers",
    "following_url": "https://api.github.com/users/churik/following{/other_user}",
    "gists_url": "https://api.github.com/users/churik/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/churik/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/churik/subscriptions",
    "organizations_url": "https://api.github.com/users/churik/orgs",
    "repos_url": "https://api.github.com/users/churik/repos",
    "events_url": "https://api.github.com/users/churik/events{/privacy}",
    "received_events_url": "https://api.github.com/users/churik/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 795655580,
      "node_id": "MDU6TGFiZWw3OTU2NTU1ODA=",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/chat",
      "name": "chat",
      "color": "f70cb0",
      "default": false,
      "description": null
    },
    {
      "id": 928824756,
      "node_id": "MDU6TGFiZWw5Mjg4MjQ3NTY=",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/profile",
      "name": "profile",
      "color": "bc2042",
      "default": false,
      "description": "User account and identity"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2019-08-15T19:09:01Z",
  "updated_at": "2019-08-28T14:12:16Z",
  "closed_at": "2019-08-28T14:12:16Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "# Problem\r\nAfter https://github.com/status-im/status-react/pull/8722 will be merged, setting \"Show my ENS name in chat\" will be used and chat name will be resolved according to [figma design](https://www.figma.com/file/TNCyHKtR3sx5EL6YznFWUa4O/Profile?)\r\nBut there are some issues \\ unexpected behavior IMO, which should be addressed before this feature will be released.\r\nSo I'll put which inconsistencies (from my POV) I've already seen one by one in this issue to keep track on decisions about all of them.\r\n\r\n\r\n### 1. \"Show my ENS name in chat\" doesn't affect 1-1 chat and partially group chat\r\n\r\nI think that if it affects public chat only, setting should be renamed to \"Show my ENS name in public chat\". Besides, there is some unexpected behavior for system messages in group chats: when setting is off \"name.stateofus.eth\" is shown.\r\n\r\n**Steps:**\r\n- user A: restore account with ENS name, bind it\r\n- user B: add user A to contacts\r\n- user A: turn off \"Show my ENS name in chat\"\r\n- user B: start chat with user A\r\n- user B: start froup chat with user A\r\n\r\n**Expected result:** \r\n1. setting is renamed to \"Show my ENS name in public chat\" and  ENS username for all messages in group chat \r\nor\r\n2. default username in 1-1 chat, group chat\r\n\r\n**Actual result:** \r\n- for 1-1 chat still see ENS username as a chat name;\r\n- for group chat for system messages full ens name is shown\r\n<img width=\"475\" alt=\"photo_2019-08-15 20 08 18 jpeg 2019-08-15 20-09-00\" src=\"https://user-images.githubusercontent.com/4557972/63115974-cc000b80-bf98-11e9-864e-e69b069f62ed.png\">\r\n\r\n### 2. Turning off \"Show my ENS name in chat\" or set new name as primary affects only new messages in chats\r\n\r\nThat leads to a situation when the same user has several names in the same chat.\r\n\r\n**Steps:**\r\n- user A: restore account with ENS name, bind it\r\n- user B: add user A to contacts\r\n- user A: turn on \"Show my ENS name in chat\"\r\n- user A: send message to public chat\r\n- user A: turn off \"Show my ENS name in chat\"\r\n- user A: send message to public chat\r\n\r\n**Expected result:**  username is updated for all previous messages in the chat\r\n\r\n**Actual result:** \r\n<img width=\"199\" alt=\"12345\" src=\"https://user-images.githubusercontent.com/4557972/63116526-264d9c00-bf9a-11e9-90b3-fbb4c751b503.png\">\r\n\r\n### 3. No consistency for user profile views \r\n\r\n#### 3.1 User A: \"Show my ENS name in chat\" is on, `User A` is not added as the contact of `User B`\r\n![screencast 2019-08-15 20-34-03](https://user-images.githubusercontent.com/4557972/63117723-a6750100-bf9c-11e9-9213-7c143f75d90a.gif)\r\nIn this case, you see ENS name in chat, tap on it -> and no  ENS name is shown in the user profile.\r\nExpected from my POV: both ENS name and default username are visible.\r\n\r\n\r\n#### 3.2 User A: \"Show my ENS name in chat\" is on, `User A` is added as contact of `User B`\r\n![screencast 2019-08-15 20-44-17](https://user-images.githubusercontent.com/4557972/63118607-80e8f700-bf9e-11e9-9871-81245d90ae62.gif)\r\n\r\nIn this case, you see ENS name in chat, tap on it -> and only ENS name is shown in the user profile\r\nExpected from my POV: both ENS name and default username are visible.\r\n\r\n#### 3.3 User A: \"Show my ENS name in chat\" is off, `User A` is added as a contact of `User B`\r\n\r\nIn this case, you see default username in chat, tap on it -> and only ENS name is shown in the user profile\r\nExpected from my POV: both ENS name and default username are visible.\r\n\r\n### 4. No ENS name is shown on Sign-in screen \r\n\r\n**Steps:**\r\n- user A: restore account with ENS name, bind it\r\n- user A: log out\r\n\r\n\r\n**Expected result:**  can see ENS username on the sign-in screen \r\n\r\n**Actual result:** \r\nonly default name is shown\r\n<img width=\"198\" alt=\"photo_2019-08-15 20 59 25 jpeg 2019-08-15 20-59-37\" src=\"https://user-images.githubusercontent.com/4557972/63119119-a6c2cb80-bf9f-11e9-84f3-21ab19f25b29.png\">\r\n\r\n# Summary:\r\n\r\n- [ ] 1. \"Show my ENS name in chat\" doesn't affect 1-1 chat and partially group chat\r\n- [ ] 2. Turning off \"Show my ENS name in chat\" or set new name as primary affects only new messages in chats\r\n- [ ] 3. No consistency for user profile views \r\n- [ ] 4. No ENS name is shown on Sign-in screen\r\n \r\nIMO 2 for sure should be added as `v1-release`, other depending on decisions, so after discussion will create separate issues.\r\n \r\nNeed help of @hesterbruikman @annadanchenko @rachelhamlin to define priority and expected results in each case.",
  "closed_by": {
    "login": "churik",
    "id": 4557972,
    "node_id": "MDQ6VXNlcjQ1NTc5NzI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4557972?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/churik",
    "html_url": "https://github.com/churik",
    "followers_url": "https://api.github.com/users/churik/followers",
    "following_url": "https://api.github.com/users/churik/following{/other_user}",
    "gists_url": "https://api.github.com/users/churik/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/churik/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/churik/subscriptions",
    "organizations_url": "https://api.github.com/users/churik/orgs",
    "repos_url": "https://api.github.com/users/churik/repos",
    "events_url": "https://api.github.com/users/churik/events{/privacy}",
    "received_events_url": "https://api.github.com/users/churik/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/8765/reactions",
    "total_count": 1,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 1
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-mobile/issues/8765/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/523408208",
    "html_url": "https://github.com/status-im/status-mobile/issues/8765#issuecomment-523408208",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/8765",
    "id": 523408208,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyMzQwODIwOA==",
    "user": {
      "login": "hesterbruikman",
      "id": 35233054,
      "node_id": "MDQ6VXNlcjM1MjMzMDU0",
      "avatar_url": "https://avatars.githubusercontent.com/u/35233054?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hesterbruikman",
      "html_url": "https://github.com/hesterbruikman",
      "followers_url": "https://api.github.com/users/hesterbruikman/followers",
      "following_url": "https://api.github.com/users/hesterbruikman/following{/other_user}",
      "gists_url": "https://api.github.com/users/hesterbruikman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hesterbruikman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hesterbruikman/subscriptions",
      "organizations_url": "https://api.github.com/users/hesterbruikman/orgs",
      "repos_url": "https://api.github.com/users/hesterbruikman/repos",
      "events_url": "https://api.github.com/users/hesterbruikman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hesterbruikman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-08-21T11:01:54Z",
    "updated_at": "2019-08-21T11:01:54Z",
    "author_association": "COLLABORATOR",
    "body": "@errorists can you also take a look please?\r\n\r\n1. I need some help retracing our decision here. I believe we opted for an 'all or nothing' ENS name toggle, incl 1:1 and group chat, irrespective of contact status, but may have missed conversations along the way.\r\n2. Afaik is expected behavior. Agree it's not great. Believe there was no technical solution for this. Could be a blessing in disguise, I'd love to hear more thoughts on. On the one hand you can see who might know you by your anonymous name, on the other hand, newcomers to a chat might be able to tie your pseudo-anonymous name and ENS name together.\r\n3. Could inconsistency in other user profile be taken along in #8776 @rachel @flexsurfer?\r\n4. Indeed is inconsistent, but the safest bet as long as we don't have a chat agnostic unlock screen. Showing ENS name before password entry on Unlock screen introduces a privacy weakness (cc @yenda)\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/523408208/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/523415412",
    "html_url": "https://github.com/status-im/status-mobile/issues/8765#issuecomment-523415412",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/8765",
    "id": 523415412,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyMzQxNTQxMg==",
    "user": {
      "login": "errorists",
      "id": 4932774,
      "node_id": "MDQ6VXNlcjQ5MzI3NzQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4932774?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/errorists",
      "html_url": "https://github.com/errorists",
      "followers_url": "https://api.github.com/users/errorists/followers",
      "following_url": "https://api.github.com/users/errorists/following{/other_user}",
      "gists_url": "https://api.github.com/users/errorists/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/errorists/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/errorists/subscriptions",
      "organizations_url": "https://api.github.com/users/errorists/orgs",
      "repos_url": "https://api.github.com/users/errorists/repos",
      "events_url": "https://api.github.com/users/errorists/events{/privacy}",
      "received_events_url": "https://api.github.com/users/errorists/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-08-21T11:26:56Z",
    "updated_at": "2019-08-21T11:26:56Z",
    "author_association": "CONTRIBUTOR",
    "body": "1. it's all or nothing, you switch ENS to broadcast it publicly including 1:1 and group chats\r\n2. that's a technical limitation, we have to accept it for what it is and file under quirks of our current messaging protocol. at least it's consistent and predictable. \r\n3. that's a bug, it should be persistent",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/523415412/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/525763891",
    "html_url": "https://github.com/status-im/status-mobile/issues/8765#issuecomment-525763891",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/8765",
    "id": 525763891,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUyNTc2Mzg5MQ==",
    "user": {
      "login": "churik",
      "id": 4557972,
      "node_id": "MDQ6VXNlcjQ1NTc5NzI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4557972?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/churik",
      "html_url": "https://github.com/churik",
      "followers_url": "https://api.github.com/users/churik/followers",
      "following_url": "https://api.github.com/users/churik/following{/other_user}",
      "gists_url": "https://api.github.com/users/churik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/churik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/churik/subscriptions",
      "organizations_url": "https://api.github.com/users/churik/orgs",
      "repos_url": "https://api.github.com/users/churik/repos",
      "events_url": "https://api.github.com/users/churik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/churik/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-08-28T14:12:13Z",
    "updated_at": "2019-08-28T14:12:13Z",
    "author_association": "MEMBER",
    "body": "closing this one and open https://github.com/status-im/status-react/issues/8854",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/525763891/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
