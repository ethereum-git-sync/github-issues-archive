{
  "url": "https://api.github.com/repos/status-im/status-mobile/issues/12842",
  "repository_url": "https://api.github.com/repos/status-im/status-mobile",
  "labels_url": "https://api.github.com/repos/status-im/status-mobile/issues/12842/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-mobile/issues/12842/comments",
  "events_url": "https://api.github.com/repos/status-im/status-mobile/issues/12842/events",
  "html_url": "https://github.com/status-im/status-mobile/issues/12842",
  "id": 1062243277,
  "node_id": "I_kwDOAx4p2c4_UIvN",
  "number": 12842,
  "title": "Link to message",
  "user": {
    "login": "cammellos",
    "id": 1017008,
    "node_id": "MDQ6VXNlcjEwMTcwMDg=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1017008?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/cammellos",
    "html_url": "https://github.com/cammellos",
    "followers_url": "https://api.github.com/users/cammellos/followers",
    "following_url": "https://api.github.com/users/cammellos/following{/other_user}",
    "gists_url": "https://api.github.com/users/cammellos/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/cammellos/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/cammellos/subscriptions",
    "organizations_url": "https://api.github.com/users/cammellos/orgs",
    "repos_url": "https://api.github.com/users/cammellos/repos",
    "events_url": "https://api.github.com/users/cammellos/events{/privacy}",
    "received_events_url": "https://api.github.com/users/cammellos/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 668403590,
      "node_id": "MDU6TGFiZWw2Njg0MDM1OTA=",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/blocked",
      "name": "blocked",
      "color": "b60205",
      "default": false,
      "description": null
    },
    {
      "id": 933023569,
      "node_id": "MDU6TGFiZWw5MzMwMjM1Njk=",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/feature",
      "name": "feature",
      "color": "172b9e",
      "default": false,
      "description": "feature requests"
    },
    {
      "id": 4011372929,
      "node_id": "LA_kwDOAx4p2c7vGLGB",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/E:ChatFeatures",
      "name": "E:ChatFeatures",
      "color": "35103C",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2021-11-24T10:20:57Z",
  "updated_at": "2023-07-14T09:55:56Z",
  "closed_at": "2023-07-14T09:55:55Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "As a user\r\nI want to be able to post links to messages \r\nSo that I can share them with other users\r\n\r\n### Description\r\n\r\nWe should add a way to link to messages by longpressing on them and have an option to copy the link message.\r\n\r\nIf a user would click on a message, it should be taken to that chat (if it exists) and load that message (if it's the database).\r\n\r\nIf either the chat nor the message is there no action should be taken for the time being, though we might revisit in the future.",
  "closed_by": {
    "login": "cammellos",
    "id": 1017008,
    "node_id": "MDQ6VXNlcjEwMTcwMDg=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1017008?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/cammellos",
    "html_url": "https://github.com/cammellos",
    "followers_url": "https://api.github.com/users/cammellos/followers",
    "following_url": "https://api.github.com/users/cammellos/following{/other_user}",
    "gists_url": "https://api.github.com/users/cammellos/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/cammellos/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/cammellos/subscriptions",
    "organizations_url": "https://api.github.com/users/cammellos/orgs",
    "repos_url": "https://api.github.com/users/cammellos/repos",
    "events_url": "https://api.github.com/users/cammellos/events{/privacy}",
    "received_events_url": "https://api.github.com/users/cammellos/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/12842/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-mobile/issues/12842/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/977735984",
    "html_url": "https://github.com/status-im/status-mobile/issues/12842#issuecomment-977735984",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/12842",
    "id": 977735984,
    "node_id": "IC_kwDOAx4p2c46RxEw",
    "user": {
      "login": "cammellos",
      "id": 1017008,
      "node_id": "MDQ6VXNlcjEwMTcwMDg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1017008?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cammellos",
      "html_url": "https://github.com/cammellos",
      "followers_url": "https://api.github.com/users/cammellos/followers",
      "following_url": "https://api.github.com/users/cammellos/following{/other_user}",
      "gists_url": "https://api.github.com/users/cammellos/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cammellos/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cammellos/subscriptions",
      "organizations_url": "https://api.github.com/users/cammellos/orgs",
      "repos_url": "https://api.github.com/users/cammellos/repos",
      "events_url": "https://api.github.com/users/cammellos/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cammellos/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-11-24T10:21:18Z",
    "updated_at": "2021-11-24T10:21:18Z",
    "author_association": "MEMBER",
    "body": "Initial implementation https://github.com/status-im/status-react/pull/12705",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/977735984/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/981289706",
    "html_url": "https://github.com/status-im/status-mobile/issues/12842#issuecomment-981289706",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/12842",
    "id": 981289706,
    "node_id": "IC_kwDOAx4p2c46fUrq",
    "user": {
      "login": "du82",
      "id": 65834069,
      "node_id": "MDQ6VXNlcjY1ODM0MDY5",
      "avatar_url": "https://avatars.githubusercontent.com/u/65834069?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/du82",
      "html_url": "https://github.com/du82",
      "followers_url": "https://api.github.com/users/du82/followers",
      "following_url": "https://api.github.com/users/du82/following{/other_user}",
      "gists_url": "https://api.github.com/users/du82/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/du82/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/du82/subscriptions",
      "organizations_url": "https://api.github.com/users/du82/orgs",
      "repos_url": "https://api.github.com/users/du82/repos",
      "events_url": "https://api.github.com/users/du82/events{/privacy}",
      "received_events_url": "https://api.github.com/users/du82/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-11-29T04:49:59Z",
    "updated_at": "2021-11-29T04:49:59Z",
    "author_association": "CONTRIBUTOR",
    "body": "How about links to posts in the timeline too?",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/981289706/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1007406594",
    "html_url": "https://github.com/status-im/status-mobile/issues/12842#issuecomment-1007406594",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/12842",
    "id": 1007406594,
    "node_id": "IC_kwDOAx4p2c48C84C",
    "user": {
      "login": "flexsurfer",
      "id": 11790366,
      "node_id": "MDQ6VXNlcjExNzkwMzY2",
      "avatar_url": "https://avatars.githubusercontent.com/u/11790366?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/flexsurfer",
      "html_url": "https://github.com/flexsurfer",
      "followers_url": "https://api.github.com/users/flexsurfer/followers",
      "following_url": "https://api.github.com/users/flexsurfer/following{/other_user}",
      "gists_url": "https://api.github.com/users/flexsurfer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/flexsurfer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/flexsurfer/subscriptions",
      "organizations_url": "https://api.github.com/users/flexsurfer/orgs",
      "repos_url": "https://api.github.com/users/flexsurfer/repos",
      "events_url": "https://api.github.com/users/flexsurfer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/flexsurfer/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-07T13:26:52Z",
    "updated_at": "2022-01-07T13:26:52Z",
    "author_association": "MEMBER",
    "body": "implementation for this issue related to implementation for [[THE ISSUE] Add an unread messages indicator inside chats ] https://github.com/status-im/status-react/issues/6375\r\nwe've been trying to implement THE ISSUE, but no success, here I'll write a summary on what has been done and why it hasn't succeed \r\n\r\n### 1. What we want to achieve\r\n\r\nLet's say we have a chat with 1000 messages and we load chunks of 25 at a time\r\nLet's say we want to show message 500 to the user\r\n\r\nWe need to initialize list with messages from 475 to 525 and scroll to message 500, then when user is scrolling up or down we need to load more messages \r\n\r\nalso we need to maintain scroll position when adding new items to the list\r\n\r\n### 2. What we need from the list component\r\n a. onStartRached event to load more messages on scroll in one direction\r\n b. onEndReached event to load more messages on scroll in another direction\r\n c. maintainScrollPosition setting\r\n\r\n### 3. Why can't we use RN FlatList component\r\n\r\nFirstly because its developed and optimized only for one direction, adding messages in another direction is not optimized and not performant, as a result, it does not have onStartRached event\r\nAlso there is no  maintainScrollPosition setting for Android, there is open PR https://github.com/facebook/react-native/pull/29466#pullrequestreview-845019219 but it has issues so it can't be used , but because FlatList in anyway doesn't support opposite direction there is no sense trying to implement maintainScrollPosition also there is issue from 2009 https://github.com/facebook/react-native/issues/25239# still not resolved\r\n\r\nthere is component https://github.com/GetStream/react-native-bidirectional-infinite-scroll#readme \r\nwhich tryes to implement onStartRached and maintainScrollPosition in js on top on FlatList, and it has lots of issues, we even outsourced a team of RN devs to make it work in status app but no luck, still lots of issues https://github.com/status-im/status-react/pull/12705\r\n\r\n### 4. Other List implementations\r\na. https://github.com/Flipkart/recyclerlistview\r\n\r\nthis component optimized for items with the same constant height. Our second major problem is that our items in status has dynamic height, and its quite hard to calculate height before rendering, so its only way to calculate height is to render item but it doesn't make sense if we're speaking about performance , because all list implemented with RN Bridge\r\n\r\nhere is pretty interesting discussion and attempts to achieve same goal as ours https://github.com/Expensify/App/issues/2985 \r\n\r\nthe latest results of discussion is here  https://github.com/Flipkart/recyclerlistview/pull/647 \r\n\r\nbut still there are lots of questions: example shows items with the same height, its not clear how good component maintain position, and how good onEndReached and onStartReached events work when loading messages fast\r\nand latest action on this PR is from Oct 8, 2021\r\n\r\nthis component has same major issues as FlatList https://github.com/Flipkart/recyclerlistview/issues/44\r\n\r\nb. https://www.npmjs.com/package/react-native-vision-list\r\nimplementation of Native list on the new RN architecture, sounds promising , but sources are closed https://github.com/margelo/react-native-vision-list#readme , probably later will be published\r\n\r\n\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1007406594/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1018024621",
    "html_url": "https://github.com/status-im/status-mobile/issues/12842#issuecomment-1018024621",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/12842",
    "id": 1018024621,
    "node_id": "IC_kwDOAx4p2c48rdKt",
    "user": {
      "login": "roryabraham",
      "id": 47436092,
      "node_id": "MDQ6VXNlcjQ3NDM2MDky",
      "avatar_url": "https://avatars.githubusercontent.com/u/47436092?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/roryabraham",
      "html_url": "https://github.com/roryabraham",
      "followers_url": "https://api.github.com/users/roryabraham/followers",
      "following_url": "https://api.github.com/users/roryabraham/following{/other_user}",
      "gists_url": "https://api.github.com/users/roryabraham/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/roryabraham/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/roryabraham/subscriptions",
      "organizations_url": "https://api.github.com/users/roryabraham/orgs",
      "repos_url": "https://api.github.com/users/roryabraham/repos",
      "events_url": "https://api.github.com/users/roryabraham/events{/privacy}",
      "received_events_url": "https://api.github.com/users/roryabraham/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-20T23:43:18Z",
    "updated_at": "2022-01-21T00:07:57Z",
    "author_association": "NONE",
    "body": "Hi 👋 I've got a proof-of-concept with bidirectional pagination implemented in RecyclerListView – take a look at [this PR](https://github.com/Flipkart/recyclerlistview/pull/647). I'm currently working on implementing it in our application with non-deterministic item heights. If you want to try it out help test, feel free! If it works out for us at [Expensify](https://github.com/Expensify/App), we'll probably maintain it pretty actively.\r\n\r\nhttps://www.npmjs.com/package/react-native-vision-list does sound cool though 😏",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1018024621/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1635612845",
    "html_url": "https://github.com/status-im/status-mobile/issues/12842#issuecomment-1635612845",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/12842",
    "id": 1635612845,
    "node_id": "IC_kwDOAx4p2c5hfXit",
    "user": {
      "login": "cammellos",
      "id": 1017008,
      "node_id": "MDQ6VXNlcjEwMTcwMDg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1017008?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cammellos",
      "html_url": "https://github.com/cammellos",
      "followers_url": "https://api.github.com/users/cammellos/followers",
      "following_url": "https://api.github.com/users/cammellos/following{/other_user}",
      "gists_url": "https://api.github.com/users/cammellos/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cammellos/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cammellos/subscriptions",
      "organizations_url": "https://api.github.com/users/cammellos/orgs",
      "repos_url": "https://api.github.com/users/cammellos/repos",
      "events_url": "https://api.github.com/users/cammellos/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cammellos/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-14T09:55:55Z",
    "updated_at": "2023-07-14T09:55:55Z",
    "author_association": "MEMBER",
    "body": "Closing as this is currently blocked and will need design input",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1635612845/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
