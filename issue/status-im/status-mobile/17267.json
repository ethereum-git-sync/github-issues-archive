{
  "url": "https://api.github.com/repos/status-im/status-mobile/issues/17267",
  "repository_url": "https://api.github.com/repos/status-im/status-mobile",
  "labels_url": "https://api.github.com/repos/status-im/status-mobile/issues/17267/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-mobile/issues/17267/comments",
  "events_url": "https://api.github.com/repos/status-im/status-mobile/issues/17267/events",
  "html_url": "https://github.com/status-im/status-mobile/issues/17267",
  "id": 1892861955,
  "node_id": "I_kwDOAx4p2c5w0sgD",
  "number": 17267,
  "title": "Separate channel and community requirements ",
  "user": {
    "login": "churik",
    "id": 4557972,
    "node_id": "MDQ6VXNlcjQ1NTc5NzI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4557972?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/churik",
    "html_url": "https://github.com/churik",
    "followers_url": "https://api.github.com/users/churik/followers",
    "following_url": "https://api.github.com/users/churik/following{/other_user}",
    "gists_url": "https://api.github.com/users/churik/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/churik/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/churik/subscriptions",
    "organizations_url": "https://api.github.com/users/churik/orgs",
    "repos_url": "https://api.github.com/users/churik/repos",
    "events_url": "https://api.github.com/users/churik/events{/privacy}",
    "received_events_url": "https://api.github.com/users/churik/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 3990911030,
      "node_id": "LA_kwDOAx4p2c7t4Hg2",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/E:Mobile%20Bug%20MVP",
      "name": "E:Mobile Bug MVP",
      "color": "B60205",
      "default": false,
      "description": ""
    },
    {
      "id": 5818300473,
      "node_id": "LA_kwDOAx4p2c8AAAABWsw4OQ",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/E:Mobile%20Release%201.26",
      "name": "E:Mobile Release 1.26",
      "color": "B240A1",
      "default": false,
      "description": ""
    },
    {
      "id": 6136674080,
      "node_id": "LA_kwDOAx4p2c8AAAABbcY3IA",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/Release%20Blocker",
      "name": "Release Blocker",
      "color": "C53A1F",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": {
    "login": "FFFra",
    "id": 5999878,
    "node_id": "MDQ6VXNlcjU5OTk4Nzg=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5999878?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/FFFra",
    "html_url": "https://github.com/FFFra",
    "followers_url": "https://api.github.com/users/FFFra/followers",
    "following_url": "https://api.github.com/users/FFFra/following{/other_user}",
    "gists_url": "https://api.github.com/users/FFFra/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/FFFra/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/FFFra/subscriptions",
    "organizations_url": "https://api.github.com/users/FFFra/orgs",
    "repos_url": "https://api.github.com/users/FFFra/repos",
    "events_url": "https://api.github.com/users/FFFra/events{/privacy}",
    "received_events_url": "https://api.github.com/users/FFFra/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "FFFra",
      "id": 5999878,
      "node_id": "MDQ6VXNlcjU5OTk4Nzg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5999878?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/FFFra",
      "html_url": "https://github.com/FFFra",
      "followers_url": "https://api.github.com/users/FFFra/followers",
      "following_url": "https://api.github.com/users/FFFra/following{/other_user}",
      "gists_url": "https://api.github.com/users/FFFra/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/FFFra/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/FFFra/subscriptions",
      "organizations_url": "https://api.github.com/users/FFFra/orgs",
      "repos_url": "https://api.github.com/users/FFFra/repos",
      "events_url": "https://api.github.com/users/FFFra/events{/privacy}",
      "received_events_url": "https://api.github.com/users/FFFra/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": {
    "url": "https://api.github.com/repos/status-im/status-mobile/milestones/69",
    "html_url": "https://github.com/status-im/status-mobile/milestone/69",
    "labels_url": "https://api.github.com/repos/status-im/status-mobile/milestones/69/labels",
    "id": 9699548,
    "node_id": "MI_kwDOAx4p2c4AlADc",
    "number": 69,
    "title": "1.26.0 - Alpha",
    "description": "Mobile dev team priorities In priority order:\r\n\r\n**1. Finish anything that wasn't completed in the previous 1.25 cycle**\r\n\r\n**2. Select which accounts to share with each Community's control node**\r\n- Designs should be ready for review and dev feedback by 18th September\r\n\r\n**3. Fix bugs, both functional and UX fit-and-finish defects.**  \r\n\r\n- Great progress during 1.25 on fixing UX fit-and-finish defects :-)  Let's aim to close all issue tagged \"E:Design Feedback 1.24\" by the end of this cycle.\r\n\r\n- Test all Communities functionality using the Public Test Community that will feature all types of token gating that Iuri is going to set up.  \r\n\r\n- Test how Status Mobile responds to community admin changes are made in Status Desktop e.g. when a channel is added or deleted or renamed, is the correctly reflected in Status Mobile?  Are changes to Community meta info like name and banner image correctly reflected in Status Mobile?  Etc, etc...\r\n\r\n- We need to get our quality bar to where we want it to be, and then keep tech. debt at a roughly fixed level as we build out any additional functionality.\r\n\r\n- Going forward, as much as is sensible, all new functionality should meet the higher quality bar we are aiming for before landing.\r\n\r\n**4. Fix any remaining issues related to syncing with Desktop**\r\n\r\n**5. Implement the OOBE light/dark theme selector screen**\r\n- Only if the design for this is ready in time, otherwise it's ok if this happens next cycle\r\n\r\n**--- Things that should NOT be worked on this cycle ---**\r\n\r\n- We shouldn't start anything in Settings or Profile related\r\n\r\n\r\n------------------------\r\n\r\n**Mobile Wallet dev team priority:**\r\n\r\n- Continue building out Mobile wallet MVP\r\n",
    "creator": {
      "login": "John-44",
      "id": 22846356,
      "node_id": "MDQ6VXNlcjIyODQ2MzU2",
      "avatar_url": "https://avatars.githubusercontent.com/u/22846356?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/John-44",
      "html_url": "https://github.com/John-44",
      "followers_url": "https://api.github.com/users/John-44/followers",
      "following_url": "https://api.github.com/users/John-44/following{/other_user}",
      "gists_url": "https://api.github.com/users/John-44/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/John-44/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/John-44/subscriptions",
      "organizations_url": "https://api.github.com/users/John-44/orgs",
      "repos_url": "https://api.github.com/users/John-44/repos",
      "events_url": "https://api.github.com/users/John-44/events{/privacy}",
      "received_events_url": "https://api.github.com/users/John-44/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 27,
    "closed_issues": 57,
    "state": "open",
    "created_at": "2023-07-26T12:45:31Z",
    "updated_at": "2023-10-27T08:16:58Z",
    "due_on": "2023-11-02T07:00:00Z",
    "closed_at": null
  },
  "comments": 4,
  "created_at": "2023-09-12T16:25:46Z",
  "updated_at": "2023-10-27T12:38:54Z",
  "closed_at": null,
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "# Bug Report\r\n\r\n\r\n## Problem \r\nPotential members of token-gated communities can't see whether they can join a community or not, and they can join even if they don't meet the requirements.\r\n\r\n\r\n#### Expected behavior\r\n3. User1: can see that meets the requirement\r\n\r\n#### Actual behavior\r\n3. You hold 0 from 1.000000 SNT\r\n\r\nhttps://github.com/status-im/status-mobile/assets/4557972/211351d2-da92-4e52-a6e4-74f7e1473dfd\r\n\r\n5. User2 shouldn't be able to enter a channel\r\n7. Error in sending a message\r\n![IMAGE 2023-09-12 18:22:47](https://github.com/status-im/status-mobile/assets/4557972/9ffd94f6-fb1d-4d16-bbd5-5195b524a569)\r\n\r\n### Reproduction\r\n\r\n\r\n1. Desktop: create a token-gated community with the following permission:\r\n![image](https://github.com/status-im/status-mobile/assets/4557972/0f9cef0a-3092-40a3-a49f-675669e66759)\r\n2. Invite User1 (meets the requirement) and User2 (doesn't meet the requirement)\r\n3. User1: check the community invite and join the community\r\n5. User2: check the community invite and join community\r\n6. User1: send message \r\n7. User2: send message\r\n\r\n### Additional Information\r\n\r\n- Status version: nightly \r\n- Operating System: Android, iOS\r\n- Logs of user2: \r\n\r\n[comment]: # (Please, add logs/notes if necessary)\r\n\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/17267/reactions",
    "total_count": 2,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 2
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-mobile/issues/17267/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1779321937",
    "html_url": "https://github.com/status-im/status-mobile/issues/17267#issuecomment-1779321937",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/17267",
    "id": 1779321937,
    "node_id": "IC_kwDOAx4p2c5qDkxR",
    "user": {
      "login": "ajayesivan",
      "id": 19279756,
      "node_id": "MDQ6VXNlcjE5Mjc5NzU2",
      "avatar_url": "https://avatars.githubusercontent.com/u/19279756?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ajayesivan",
      "html_url": "https://github.com/ajayesivan",
      "followers_url": "https://api.github.com/users/ajayesivan/followers",
      "following_url": "https://api.github.com/users/ajayesivan/following{/other_user}",
      "gists_url": "https://api.github.com/users/ajayesivan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ajayesivan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ajayesivan/subscriptions",
      "organizations_url": "https://api.github.com/users/ajayesivan/orgs",
      "repos_url": "https://api.github.com/users/ajayesivan/repos",
      "events_url": "https://api.github.com/users/ajayesivan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ajayesivan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-10-25T13:50:07Z",
    "updated_at": "2023-10-25T13:50:07Z",
    "author_association": "CONTRIBUTOR",
    "body": "## Scenario 1\r\nPermission: Anyone who holds **1 SNT** is allowed to **Become a Member**\r\n<img width=\"592\" alt=\"Screenshot 2023-10-25 at 19 06 33\" src=\"https://github.com/status-im/status-mobile/assets/19279756/5beab387-7edf-4c91-a9cc-52ab18a1ea5f\">\r\n\r\n\r\nUser has: **1 SNT**\r\n<img src=\"https://github.com/status-im/status-mobile/assets/19279756/cccb190c-bc2a-478d-ae14-fdd8fd8958cd\" width=350/>\r\n\r\n## Scenario 2\r\nPermission: Anyone who holds **2 SNT** is allowed to **Become a Member**\r\n<img width=\"582\" alt=\"Screenshot 2023-10-25 at 19 09 01\" src=\"https://github.com/status-im/status-mobile/assets/19279756/3ba94fbb-80f3-447c-b54c-d15f0a5c3dd1\">\r\n\r\n\r\nUser has: **1 SNT**\r\n<img src=\"https://github.com/status-im/status-mobile/assets/19279756/b9456b18-abca-417b-b90e-781186b6f2b9\" width=350/>\r\n\r\n## Scenario 3\r\nPermission: Anyone who holds **10 SNT** is allowed to **View and Post** in #general\r\n<img width=\"585\" alt=\"Screenshot 2023-10-25 at 19 10 04\" src=\"https://github.com/status-im/status-mobile/assets/19279756/b485a7c0-2b32-4132-a605-1f04227a08db\">\r\n\r\nUser has: **1 SNT**\r\n<img src=\"https://github.com/status-im/status-mobile/assets/19279756/505bb616-63b5-4088-abb3-e01bbb2eb789\" width=350/>\r\n\r\n-----\r\n\r\nAs far as I can tell, Scenarios 1 and 2 are functioning as intended.\r\n\r\n@churik, I'd like to discuss Scenario 3 further. The eligibility card appears somewhat unclear to me. From what I understand, in this case, users should be allowed to join the community without being restricted by the tokens they hold. Is there a Figma design that illustrates this scenario when a community only has channel permissions in place?",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1779321937/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1779372283",
    "html_url": "https://github.com/status-im/status-mobile/issues/17267#issuecomment-1779372283",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/17267",
    "id": 1779372283,
    "node_id": "IC_kwDOAx4p2c5qDxD7",
    "user": {
      "login": "churik",
      "id": 4557972,
      "node_id": "MDQ6VXNlcjQ1NTc5NzI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4557972?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/churik",
      "html_url": "https://github.com/churik",
      "followers_url": "https://api.github.com/users/churik/followers",
      "following_url": "https://api.github.com/users/churik/following{/other_user}",
      "gists_url": "https://api.github.com/users/churik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/churik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/churik/subscriptions",
      "organizations_url": "https://api.github.com/users/churik/orgs",
      "repos_url": "https://api.github.com/users/churik/repos",
      "events_url": "https://api.github.com/users/churik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/churik/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-10-25T14:10:46Z",
    "updated_at": "2023-10-25T14:10:46Z",
    "author_association": "MEMBER",
    "body": "@ajayesivan my understanding is that if there are no permissions for `Become a member` but there are permissions to separate channels at least for now we can show \"show a lock if you don't have access, but that's all\" (copied from Discord)\r\nOthers should be unlocked (where there is no permission set).\r\n\r\nAnd these channel permissions definitely should not be displayed as they are for joining the community. \r\nThe task of handling token permissions will be handled separately as flows are still TBD and in the process of designing and depend on  \"Sharing the address\" feature.\r\nI'll create a follow-up feature issue after this release.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1779372283/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1779383852",
    "html_url": "https://github.com/status-im/status-mobile/issues/17267#issuecomment-1779383852",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/17267",
    "id": 1779383852,
    "node_id": "IC_kwDOAx4p2c5qDz4s",
    "user": {
      "login": "churik",
      "id": 4557972,
      "node_id": "MDQ6VXNlcjQ1NTc5NzI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4557972?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/churik",
      "html_url": "https://github.com/churik",
      "followers_url": "https://api.github.com/users/churik/followers",
      "following_url": "https://api.github.com/users/churik/following{/other_user}",
      "gists_url": "https://api.github.com/users/churik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/churik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/churik/subscriptions",
      "organizations_url": "https://api.github.com/users/churik/orgs",
      "repos_url": "https://api.github.com/users/churik/repos",
      "events_url": "https://api.github.com/users/churik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/churik/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-10-25T14:16:40Z",
    "updated_at": "2023-10-25T14:16:40Z",
    "author_association": "MEMBER",
    "body": "Also in [designs](https://www.figma.com/file/h9wo4GipgZURbqqr1vShFN/Communities-for-Mobile?type=design&node-id=7828-524581&mode=design&t=A0LRL3HS6RjQQVbM-4) would be nice to display decimals if they are there (I mean if the set permission is not integer). otherwise `.00000000000000` does not make a lot of sense from my POV\r\n![image](https://github.com/status-im/status-mobile/assets/4557972/08b51ccd-b23e-43f6-9226-52060046b020)\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1779383852/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1781058448",
    "html_url": "https://github.com/status-im/status-mobile/issues/17267#issuecomment-1781058448",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/17267",
    "id": 1781058448,
    "node_id": "IC_kwDOAx4p2c5qKMuQ",
    "user": {
      "login": "churik",
      "id": 4557972,
      "node_id": "MDQ6VXNlcjQ1NTc5NzI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4557972?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/churik",
      "html_url": "https://github.com/churik",
      "followers_url": "https://api.github.com/users/churik/followers",
      "following_url": "https://api.github.com/users/churik/following{/other_user}",
      "gists_url": "https://api.github.com/users/churik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/churik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/churik/subscriptions",
      "organizations_url": "https://api.github.com/users/churik/orgs",
      "repos_url": "https://api.github.com/users/churik/repos",
      "events_url": "https://api.github.com/users/churik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/churik/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-10-26T12:49:36Z",
    "updated_at": "2023-10-27T05:11:27Z",
    "author_association": "MEMBER",
    "body": "### Acceptance criteria: \r\n\r\n#### Channel permissions: \r\n\r\n- [ ] 1. Lock channel icon when the the channel is token-gated\r\nDesign: https://www.figma.com/file/h9wo4GipgZURbqqr1vShFN/Communities-for-Mobile?type=design&node-id=7898-523613&mode=design&t=yJBpgHu6fWdphPol-4 \r\n- [ ] 2. The channels that do not have token-gated permissions set, should not contain a lock icon \r\n- [ ] 3. Do not show channel requirements on the community page\r\n\r\nThe unlock mechanism for the channels will be implemented separately.\r\n\r\n#### Community permissions:\r\n\r\n- [ ] 1. Shown on the community page (permissions only `Become an Admin`, `Become a member`)\r\n- [ ] 2. Contains decimals only if it matches the amount (so should be an integer, if the amount is an integer) \r\n \r\n![image](https://github.com/status-im/status-mobile/assets/4557972/08b51ccd-b23e-43f6-9226-52060046b020)\r\n\r\n\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1781058448/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
