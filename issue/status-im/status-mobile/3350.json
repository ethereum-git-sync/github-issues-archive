{
  "url": "https://api.github.com/repos/status-im/status-mobile/issues/3350",
  "repository_url": "https://api.github.com/repos/status-im/status-mobile",
  "labels_url": "https://api.github.com/repos/status-im/status-mobile/issues/3350/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-mobile/issues/3350/comments",
  "events_url": "https://api.github.com/repos/status-im/status-mobile/issues/3350/events",
  "html_url": "https://github.com/status-im/status-mobile/issues/3350",
  "id": 297865576,
  "node_id": "MDU6SXNzdWUyOTc4NjU1NzY=",
  "number": 3350,
  "title": "2 send commands are shown if chat contains 1 or more request messages [3259]",
  "user": {
    "login": "annadanchenko",
    "id": 6584810,
    "node_id": "MDQ6VXNlcjY1ODQ4MTA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6584810?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/annadanchenko",
    "html_url": "https://github.com/annadanchenko",
    "followers_url": "https://api.github.com/users/annadanchenko/followers",
    "following_url": "https://api.github.com/users/annadanchenko/following{/other_user}",
    "gists_url": "https://api.github.com/users/annadanchenko/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/annadanchenko/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/annadanchenko/subscriptions",
    "organizations_url": "https://api.github.com/users/annadanchenko/orgs",
    "repos_url": "https://api.github.com/users/annadanchenko/repos",
    "events_url": "https://api.github.com/users/annadanchenko/events{/privacy}",
    "received_events_url": "https://api.github.com/users/annadanchenko/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 330296931,
      "node_id": "MDU6TGFiZWwzMzAyOTY5MzE=",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/bug",
      "name": "bug",
      "color": "fc2929",
      "default": true,
      "description": null
    },
    {
      "id": 794860412,
      "node_id": "MDU6TGFiZWw3OTQ4NjA0MTI=",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/release",
      "name": "release",
      "color": "30dcff",
      "default": false,
      "description": null
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "alwx",
    "id": 911127,
    "node_id": "MDQ6VXNlcjkxMTEyNw==",
    "avatar_url": "https://avatars.githubusercontent.com/u/911127?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/alwx",
    "html_url": "https://github.com/alwx",
    "followers_url": "https://api.github.com/users/alwx/followers",
    "following_url": "https://api.github.com/users/alwx/following{/other_user}",
    "gists_url": "https://api.github.com/users/alwx/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/alwx/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/alwx/subscriptions",
    "organizations_url": "https://api.github.com/users/alwx/orgs",
    "repos_url": "https://api.github.com/users/alwx/repos",
    "events_url": "https://api.github.com/users/alwx/events{/privacy}",
    "received_events_url": "https://api.github.com/users/alwx/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "alwx",
      "id": 911127,
      "node_id": "MDQ6VXNlcjkxMTEyNw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/911127?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alwx",
      "html_url": "https://github.com/alwx",
      "followers_url": "https://api.github.com/users/alwx/followers",
      "following_url": "https://api.github.com/users/alwx/following{/other_user}",
      "gists_url": "https://api.github.com/users/alwx/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alwx/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alwx/subscriptions",
      "organizations_url": "https://api.github.com/users/alwx/orgs",
      "repos_url": "https://api.github.com/users/alwx/repos",
      "events_url": "https://api.github.com/users/alwx/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alwx/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": {
    "url": "https://api.github.com/repos/status-im/status-mobile/milestones/20",
    "html_url": "https://github.com/status-im/status-mobile/milestone/20",
    "labels_url": "https://api.github.com/repos/status-im/status-mobile/milestones/20/labels",
    "id": 3030818,
    "node_id": "MDk6TWlsZXN0b25lMzAzMDgxOA==",
    "number": 20,
    "title": "idea61-iteration1",
    "description": "",
    "creator": {
      "login": "jeluard",
      "id": 359723,
      "node_id": "MDQ6VXNlcjM1OTcyMw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/359723?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jeluard",
      "html_url": "https://github.com/jeluard",
      "followers_url": "https://api.github.com/users/jeluard/followers",
      "following_url": "https://api.github.com/users/jeluard/following{/other_user}",
      "gists_url": "https://api.github.com/users/jeluard/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jeluard/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jeluard/subscriptions",
      "organizations_url": "https://api.github.com/users/jeluard/orgs",
      "repos_url": "https://api.github.com/users/jeluard/repos",
      "events_url": "https://api.github.com/users/jeluard/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jeluard/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 0,
    "closed_issues": 38,
    "state": "closed",
    "created_at": "2018-01-12T08:02:50Z",
    "updated_at": "2018-05-17T18:15:19Z",
    "due_on": null,
    "closed_at": "2018-05-17T18:15:19Z"
  },
  "comments": 4,
  "created_at": "2018-02-16T17:40:35Z",
  "updated_at": "2018-02-26T19:36:16Z",
  "closed_at": "2018-02-26T19:36:16Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "### Description\r\n\r\n*Type*: Bug\r\n\r\n*Summary*: \r\nSecond \"/send\" command is shown in commands list if chat contains 1 or more Request messages sent to this contact. \r\n\r\n\r\n![36313191-e249b814-1341-11e8-9416-248c025ac9ce](https://user-images.githubusercontent.com/6584810/36321000-544b2d1e-1359-11e8-862d-4b0421219f81.png)\r\n\r\n\r\n#### Expected behavior\r\nOnly one /send command is shown\r\n\r\n#### Actual behavior\r\n``` \r\n/send\r\n/request\r\n/send \r\n```\r\nare shown in the list\r\n\r\n### Reproduction\r\n\r\n- Open Status\r\n- in group or in 1:1 chat send 2 requests to contact B\r\n- as contact B: open the chat with 2 request messages and tap on \"command\" icon to open commands suggestions list. Check how many times \"/send\" command is shown.\r\n\r\n\r\n\r\n### Additional Information\r\n* Status version: PR 3259 build\r\n* Operating System: Android and iOS\r\n",
  "closed_by": {
    "login": "jeluard",
    "id": 359723,
    "node_id": "MDQ6VXNlcjM1OTcyMw==",
    "avatar_url": "https://avatars.githubusercontent.com/u/359723?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jeluard",
    "html_url": "https://github.com/jeluard",
    "followers_url": "https://api.github.com/users/jeluard/followers",
    "following_url": "https://api.github.com/users/jeluard/following{/other_user}",
    "gists_url": "https://api.github.com/users/jeluard/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jeluard/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jeluard/subscriptions",
    "organizations_url": "https://api.github.com/users/jeluard/orgs",
    "repos_url": "https://api.github.com/users/jeluard/repos",
    "events_url": "https://api.github.com/users/jeluard/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jeluard/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/3350/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-mobile/issues/3350/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/366651983",
    "html_url": "https://github.com/status-im/status-mobile/issues/3350#issuecomment-366651983",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/3350",
    "id": 366651983,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2NjY1MTk4Mw==",
    "user": {
      "login": "asemiankevich",
      "id": 28752642,
      "node_id": "MDQ6VXNlcjI4NzUyNjQy",
      "avatar_url": "https://avatars.githubusercontent.com/u/28752642?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/asemiankevich",
      "html_url": "https://github.com/asemiankevich",
      "followers_url": "https://api.github.com/users/asemiankevich/followers",
      "following_url": "https://api.github.com/users/asemiankevich/following{/other_user}",
      "gists_url": "https://api.github.com/users/asemiankevich/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/asemiankevich/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/asemiankevich/subscriptions",
      "organizations_url": "https://api.github.com/users/asemiankevich/orgs",
      "repos_url": "https://api.github.com/users/asemiankevich/repos",
      "events_url": "https://api.github.com/users/asemiankevich/events{/privacy}",
      "received_events_url": "https://api.github.com/users/asemiankevich/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-19T10:43:54Z",
    "updated_at": "2018-02-19T10:43:54Z",
    "author_association": "CONTRIBUTOR",
    "body": "reproduced in last nightly from 2/19/18\r\n![image](https://user-images.githubusercontent.com/28752642/36373988-e63b5c9e-157a-11e8-98af-4bff2b475675.png)\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/366651983/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/366660606",
    "html_url": "https://github.com/status-im/status-mobile/issues/3350#issuecomment-366660606",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/3350",
    "id": 366660606,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2NjY2MDYwNg==",
    "user": {
      "login": "janherich",
      "id": 1910609,
      "node_id": "MDQ6VXNlcjE5MTA2MDk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1910609?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/janherich",
      "html_url": "https://github.com/janherich",
      "followers_url": "https://api.github.com/users/janherich/followers",
      "following_url": "https://api.github.com/users/janherich/following{/other_user}",
      "gists_url": "https://api.github.com/users/janherich/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/janherich/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/janherich/subscriptions",
      "organizations_url": "https://api.github.com/users/janherich/orgs",
      "repos_url": "https://api.github.com/users/janherich/repos",
      "events_url": "https://api.github.com/users/janherich/events{/privacy}",
      "received_events_url": "https://api.github.com/users/janherich/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-19T11:21:05Z",
    "updated_at": "2018-02-19T11:22:10Z",
    "author_association": "CONTRIBUTOR",
    "body": "@annadanchenko This is actually not a bug, only bad UI - whenever command request is received, it's added to the \"open requests\" for you, and those are merged with standalone \"commands\" in the suggestion list.\r\nSo when somebody requests from you twice, let's say `/request 2` and `/request 1`, those are two different command request, with different parameters (2 ETH in first case, 1 ETH in second case), and when you click on any of the request pulsing bubbles, `/send` command is loaded with correct arguments.\r\nNow we also display command requests in the suggestions list, where we merge them with normal commands, we could de-duplicate them, but in that case, which parameters should be pre-filled for `/send` command if you have multiple `/requests` outstanding, parameters of the last request, or first request ?\r\nI see two ways how to solve it:\r\n1. Either only display commands and not command requests in the suggestions list, this is not optimal, because for command requests, you have to scroll in the chat to find the request message (but maybe that's the intention)\r\n2. Display both in suggestions list, but clearly differentiate between commands and command requests + display the latter with params as well",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/366660606/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/366718764",
    "html_url": "https://github.com/status-im/status-mobile/issues/3350#issuecomment-366718764",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/3350",
    "id": 366718764,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2NjcxODc2NA==",
    "user": {
      "login": "annadanchenko",
      "id": 6584810,
      "node_id": "MDQ6VXNlcjY1ODQ4MTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6584810?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/annadanchenko",
      "html_url": "https://github.com/annadanchenko",
      "followers_url": "https://api.github.com/users/annadanchenko/followers",
      "following_url": "https://api.github.com/users/annadanchenko/following{/other_user}",
      "gists_url": "https://api.github.com/users/annadanchenko/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/annadanchenko/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/annadanchenko/subscriptions",
      "organizations_url": "https://api.github.com/users/annadanchenko/orgs",
      "repos_url": "https://api.github.com/users/annadanchenko/repos",
      "events_url": "https://api.github.com/users/annadanchenko/events{/privacy}",
      "received_events_url": "https://api.github.com/users/annadanchenko/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-19T15:02:42Z",
    "updated_at": "2018-02-19T15:02:42Z",
    "author_association": "NONE",
    "body": "@janherich I would stick to option 1 (do not show command requests in the suggestions list) because current way is already broken, so users can't get any useful effects from using the second /send\r\n\r\nFor the future - we might need to implement option 2 based on UX/UI feedback and new designs. ",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/366718764/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/366739111",
    "html_url": "https://github.com/status-im/status-mobile/issues/3350#issuecomment-366739111",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/3350",
    "id": 366739111,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM2NjczOTExMQ==",
    "user": {
      "login": "denis-sharypin",
      "id": 6559881,
      "node_id": "MDQ6VXNlcjY1NTk4ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6559881?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/denis-sharypin",
      "html_url": "https://github.com/denis-sharypin",
      "followers_url": "https://api.github.com/users/denis-sharypin/followers",
      "following_url": "https://api.github.com/users/denis-sharypin/following{/other_user}",
      "gists_url": "https://api.github.com/users/denis-sharypin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/denis-sharypin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/denis-sharypin/subscriptions",
      "organizations_url": "https://api.github.com/users/denis-sharypin/orgs",
      "repos_url": "https://api.github.com/users/denis-sharypin/repos",
      "events_url": "https://api.github.com/users/denis-sharypin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/denis-sharypin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-02-19T16:15:15Z",
    "updated_at": "2018-02-19T16:15:15Z",
    "author_association": "NONE",
    "body": "I vote for option 1 as well",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/366739111/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
