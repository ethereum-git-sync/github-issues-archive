{
  "url": "https://api.github.com/repos/status-im/status-mobile/issues/8292",
  "repository_url": "https://api.github.com/repos/status-im/status-mobile",
  "labels_url": "https://api.github.com/repos/status-im/status-mobile/issues/8292/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-mobile/issues/8292/comments",
  "events_url": "https://api.github.com/repos/status-im/status-mobile/issues/8292/events",
  "html_url": "https://github.com/status-im/status-mobile/issues/8292",
  "id": 449245134,
  "node_id": "MDU6SXNzdWU0NDkyNDUxMzQ=",
  "number": 8292,
  "title": " Google Play 64-bit requirement to solve before August 1, 2019",
  "user": {
    "login": "annadanchenko",
    "id": 6584810,
    "node_id": "MDQ6VXNlcjY1ODQ4MTA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6584810?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/annadanchenko",
    "html_url": "https://github.com/annadanchenko",
    "followers_url": "https://api.github.com/users/annadanchenko/followers",
    "following_url": "https://api.github.com/users/annadanchenko/following{/other_user}",
    "gists_url": "https://api.github.com/users/annadanchenko/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/annadanchenko/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/annadanchenko/subscriptions",
    "organizations_url": "https://api.github.com/users/annadanchenko/orgs",
    "repos_url": "https://api.github.com/users/annadanchenko/repos",
    "events_url": "https://api.github.com/users/annadanchenko/events{/privacy}",
    "received_events_url": "https://api.github.com/users/annadanchenko/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 448876669,
      "node_id": "MDU6TGFiZWw0NDg4NzY2Njk=",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/android",
      "name": "android",
      "color": "5319e7",
      "default": false,
      "description": null
    },
    {
      "id": 517247123,
      "node_id": "MDU6TGFiZWw1MTcyNDcxMjM=",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/medium-priority",
      "name": "medium-priority",
      "color": "c5c5c5",
      "default": false,
      "description": null
    },
    {
      "id": 794860412,
      "node_id": "MDU6TGFiZWw3OTQ4NjA0MTI=",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/release",
      "name": "release",
      "color": "30dcff",
      "default": false,
      "description": null
    },
    {
      "id": 956251551,
      "node_id": "MDU6TGFiZWw5NTYyNTE1NTE=",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/high-severity",
      "name": "high-severity",
      "color": "c91a34",
      "default": false,
      "description": ""
    },
    {
      "id": 1143032367,
      "node_id": "MDU6TGFiZWwxMTQzMDMyMzY3",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/core",
      "name": "core",
      "color": "8befdd",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2019-05-28T12:38:19Z",
  "updated_at": "2020-04-29T19:12:28Z",
  "closed_at": "2019-10-04T09:18:09Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Warning from PlayStore:\n\nThis release is not compliant with the Google Play 64-bit requirement\n\nThe following APKs or App Bundles are available to 64-bit devices, but they only have 32-bit native code: 2019052417.\n\nFrom August 1, 2019 all releases must be compliant with the Google Play 64-bit requirement.\n\nInclude 64-bit and 32-bit native code in your app. Use the Android App Bundle publishing format to automatically ensure that each device architecture receives only the native code it needs. This avoids increasing the overall size of your app. [Learn More](https://developer.android.com/distribute/best-practices/develop/64-bit)\n\n\nExtra info in blog post: https://android-developers.googleblog.com/2019/01/get-your-apps-ready-for-64-bit.html\n<img width=\"1580\" alt=\"Screen Shot 2019-05-28 at 14 37 31\" src=\"https://user-images.githubusercontent.com/6584810/58478366-305bbd80-8156-11e9-8501-a3738c8bebf6.png\">",
  "closed_by": {
    "login": "jakubgs",
    "id": 2212681,
    "node_id": "MDQ6VXNlcjIyMTI2ODE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jakubgs",
    "html_url": "https://github.com/jakubgs",
    "followers_url": "https://api.github.com/users/jakubgs/followers",
    "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
    "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
    "organizations_url": "https://api.github.com/users/jakubgs/orgs",
    "repos_url": "https://api.github.com/users/jakubgs/repos",
    "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jakubgs/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/8292/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-mobile/issues/8292/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/497365016",
    "html_url": "https://github.com/status-im/status-mobile/issues/8292#issuecomment-497365016",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/8292",
    "id": 497365016,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5NzM2NTAxNg==",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-30T15:11:03Z",
    "updated_at": "2019-05-30T15:11:03Z",
    "author_association": "MEMBER",
    "body": "I'm researching the 64 bit support for Android builds and here is what I found:\r\n#### What we include\r\n```\r\n $ zipinfo -1 StatusIm-190524-171002-7f38c5-release.apk | grep \\.so$\r\nlib/armeabi-v7a/libc++_shared.so\r\nlib/armeabi-v7a/libconceal.so\r\n...(omitted)...\r\nlib/x86/libc++_shared.so\r\nlib/x86/libconceal.so\r\n...(omitted)...\r\n```\r\nSo we clearly do support `armeabi-v7a`, but we lack `arm64-v8a` libraries.\r\nAccording to our `build.gradle` we include it:\r\nhttps://github.com/status-im/status-react/blob/131b423a0acb92618192be17a92a9e51feda592e/android/app/build.gradle#L158\r\nbut then we exclude the `arm64-v8a`(as well as some others):\r\nhttps://github.com/status-im/status-react/blob/131b423a0acb92618192be17a92a9e51feda592e/android/app/build.gradle#L177\r\nNot sure why we build for it and then exclude it(as we do with `x86_64`), but it seems like just removing that `exclude` should fix things.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/497365016/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/497370318",
    "html_url": "https://github.com/status-im/status-mobile/issues/8292#issuecomment-497370318",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/8292",
    "id": 497370318,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5NzM3MDMxOA==",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-30T15:25:08Z",
    "updated_at": "2019-05-30T15:25:08Z",
    "author_association": "MEMBER",
    "body": "According to this:\r\nhttps://developer.android.com/distribute/best-practices/develop/64-bit#build_your_app_with_64-bit_libraries\r\n>Most Android Studio projects use Gradle as the underlying build system, so this section applies to both cases. Enabling builds for your native code is as simple as adding the arm64-v8a and/or x86_64, depending on the architecture(s) you wish to support, to the ndk.abiFilters setting in your app's 'build.gradle' file.\r\n\r\nI've ran a manual build with a branch(`enable-arm64-v8a`) that does that:\r\nhttps://ci.status.im/job/status-react/job/combined/job/mobile-android/10996/\r\nWhich resulted in this:\r\n```bash\r\n$  zipinfo -1 StatusIm-190530-150447-756b72-pr.apk | grep \\.so$ | awk -F'/' '{print $2}' | uniq\r\narm64-v8a\r\narmeabi-v7a\r\nx86\r\n```\r\nSo removing that `exclude` clearly works.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/497370318/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/497372907",
    "html_url": "https://github.com/status-im/status-mobile/issues/8292#issuecomment-497372907",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/8292",
    "id": 497372907,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ5NzM3MjkwNw==",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-05-30T15:32:09Z",
    "updated_at": "2019-05-30T15:32:09Z",
    "author_association": "MEMBER",
    "body": "This does increase the size of the APK from `51M` to `68M`.\r\nI'm not entirely sure why we need the `x86` libraries, or `x86-64` for that matter, since we remove them anyway.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/497372907/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/538320440",
    "html_url": "https://github.com/status-im/status-mobile/issues/8292#issuecomment-538320440",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/8292",
    "id": 538320440,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUzODMyMDQ0MA==",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-10-04T09:18:09Z",
    "updated_at": "2019-10-04T09:18:09Z",
    "author_association": "MEMBER",
    "body": "I think this can be solved as the Android builds now include the `arm64-v8a` architecture:\r\nhttps://github.com/status-im/status-react/blob/d2a51f9711f1c74c0327fcd076dc1bff5fa32d4f/android/gradle.properties#L44",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/538320440/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
