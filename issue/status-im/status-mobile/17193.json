{
  "url": "https://api.github.com/repos/status-im/status-mobile/issues/17193",
  "repository_url": "https://api.github.com/repos/status-im/status-mobile",
  "labels_url": "https://api.github.com/repos/status-im/status-mobile/issues/17193/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-mobile/issues/17193/comments",
  "events_url": "https://api.github.com/repos/status-im/status-mobile/issues/17193/events",
  "html_url": "https://github.com/status-im/status-mobile/issues/17193",
  "id": 1882222132,
  "node_id": "I_kwDOAx4p2c5wMG40",
  "number": 17193,
  "title": "Profile photo is not updated correctly in case of backup + restoring with seed phrase",
  "user": {
    "login": "VolodLytvynenko",
    "id": 52490791,
    "node_id": "MDQ6VXNlcjUyNDkwNzkx",
    "avatar_url": "https://avatars.githubusercontent.com/u/52490791?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/VolodLytvynenko",
    "html_url": "https://github.com/VolodLytvynenko",
    "followers_url": "https://api.github.com/users/VolodLytvynenko/followers",
    "following_url": "https://api.github.com/users/VolodLytvynenko/following{/other_user}",
    "gists_url": "https://api.github.com/users/VolodLytvynenko/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/VolodLytvynenko/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/VolodLytvynenko/subscriptions",
    "organizations_url": "https://api.github.com/users/VolodLytvynenko/orgs",
    "repos_url": "https://api.github.com/users/VolodLytvynenko/repos",
    "events_url": "https://api.github.com/users/VolodLytvynenko/events{/privacy}",
    "received_events_url": "https://api.github.com/users/VolodLytvynenko/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 964625199,
      "node_id": "MDU6TGFiZWw5NjQ2MjUxOTk=",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/E:Mobile%20Onboarding%20MVP",
      "name": "E:Mobile Onboarding MVP",
      "color": "b7a3ff",
      "default": false,
      "description": ""
    },
    {
      "id": 3990911030,
      "node_id": "LA_kwDOAx4p2c7t4Hg2",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/E:Mobile%20Bug%20MVP",
      "name": "E:Mobile Bug MVP",
      "color": "B60205",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": {
    "url": "https://api.github.com/repos/status-im/status-mobile/milestones/69",
    "html_url": "https://github.com/status-im/status-mobile/milestone/69",
    "labels_url": "https://api.github.com/repos/status-im/status-mobile/milestones/69/labels",
    "id": 9699548,
    "node_id": "MI_kwDOAx4p2c4AlADc",
    "number": 69,
    "title": "1.26.0 - Alpha",
    "description": "Mobile dev team priorities In priority order:\r\n\r\n**1. Finish anything that wasn't completed in the previous 1.25 cycle**\r\n\r\n**2. Select which accounts to share with each Community's control node**\r\n- Designs should be ready for review and dev feedback by 18th September\r\n\r\n**3. Fix bugs, both functional and UX fit-and-finish defects.**  \r\n\r\n- Great progress during 1.25 on fixing UX fit-and-finish defects :-)  Let's aim to close all issue tagged \"E:Design Feedback 1.24\" by the end of this cycle.\r\n\r\n- Test all Communities functionality using the Public Test Community that will feature all types of token gating that Iuri is going to set up.  \r\n\r\n- Test how Status Mobile responds to community admin changes are made in Status Desktop e.g. when a channel is added or deleted or renamed, is the correctly reflected in Status Mobile?  Are changes to Community meta info like name and banner image correctly reflected in Status Mobile?  Etc, etc...\r\n\r\n- We need to get our quality bar to where we want it to be, and then keep tech. debt at a roughly fixed level as we build out any additional functionality.\r\n\r\n- Going forward, as much as is sensible, all new functionality should meet the higher quality bar we are aiming for before landing.\r\n\r\n**4. Fix any remaining issues related to syncing with Desktop**\r\n\r\n**5. Implement the OOBE light/dark theme selector screen**\r\n- Only if the design for this is ready in time, otherwise it's ok if this happens next cycle\r\n\r\n**--- Things that should NOT be worked on this cycle ---**\r\n\r\n- We shouldn't start anything in Settings or Profile related\r\n\r\n\r\n------------------------\r\n\r\n**Mobile Wallet dev team priority:**\r\n\r\n- Continue building out Mobile wallet MVP\r\n",
    "creator": {
      "login": "John-44",
      "id": 22846356,
      "node_id": "MDQ6VXNlcjIyODQ2MzU2",
      "avatar_url": "https://avatars.githubusercontent.com/u/22846356?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/John-44",
      "html_url": "https://github.com/John-44",
      "followers_url": "https://api.github.com/users/John-44/followers",
      "following_url": "https://api.github.com/users/John-44/following{/other_user}",
      "gists_url": "https://api.github.com/users/John-44/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/John-44/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/John-44/subscriptions",
      "organizations_url": "https://api.github.com/users/John-44/orgs",
      "repos_url": "https://api.github.com/users/John-44/repos",
      "events_url": "https://api.github.com/users/John-44/events{/privacy}",
      "received_events_url": "https://api.github.com/users/John-44/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 42,
    "closed_issues": 6,
    "state": "open",
    "created_at": "2023-07-26T12:45:31Z",
    "updated_at": "2023-09-19T15:29:33Z",
    "due_on": "2023-10-19T07:00:00Z",
    "closed_at": null
  },
  "comments": 3,
  "created_at": "2023-09-05T15:37:31Z",
  "updated_at": "2023-09-19T15:19:30Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "There are several scenarios of this issue:\r\n\r\n## 1. Photo _is not_ set when creating a user > Backup > Recover > Photo is set during onboarding\r\n\r\n\r\n### Steps:\r\n1. Create a user **without** profile photo\r\n2. Go to Settings > Sync settings > Backup settings > Press `Perform backup`\r\n3. Save the seed phrase\r\n4. Reinstall the app\r\n5. Recover the user with the seed phrase\r\n6. Set a profile photo during onboarding\r\n7. Check your photo in profile\r\n\r\n### Actual result:\r\nThe photo is not fetched after onboarding \r\n\r\nhttps://github.com/status-im/status-mobile/assets/52490791/0009f2de-b01b-4279-b29e-d4abbe14993b\r\n\r\n### Expected result:\r\nThe photo is fetched\r\n\r\n### Logs:\r\n[Status.log](https://github.com/status-im/status-mobile/files/12525470/Status.log)\r\n[geth.log](https://github.com/status-im/status-mobile/files/12525471/geth.log)\r\n\r\n---\r\n## 2. Photo _is_ set when creating a user > Backup > Recover > _New_ photo is set during onboarding\r\n\r\n### Steps:\r\n1. Create a user, set a profile photo\r\n2. Perform backup\r\n3. Save the seed phrase\r\n4. Reinstall the app\r\n5. Restore your user using the recovery phrase\r\n6. On the `Create profile` step set **a new photo**\r\n9. Check your photo in profile\r\n\r\n### Actual result:\r\nThe old photo is restored\r\n\r\n### Expected result:\r\nThe photo is updated, the new photo added during onboarding is displayed\r\n\r\n---\r\n\r\n## 3. Photo _is_ set when creating a user > Backup > Recover > No photo is set during onboarding\r\n\r\nThis is the only case working as expected: no profile photo after recovering\r\n\r\n### Steps:\r\n1. Create a user, set a profile photo\r\n2. Perform backup\r\n3. Save the seed phrase\r\n4. Reinstall the app\r\n5. Restore your user using the recovery phrase\r\n6. **Do not add a photo** on the `Create profile` step\r\n9. Check your photo in profile\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/17193/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-mobile/issues/17193/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1717563206",
    "html_url": "https://github.com/status-im/status-mobile/issues/17193#issuecomment-1717563206",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/17193",
    "id": 1717563206,
    "node_id": "IC_kwDOAx4p2c5mX-9G",
    "user": {
      "login": "cammellos",
      "id": 1017008,
      "node_id": "MDQ6VXNlcjEwMTcwMDg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1017008?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cammellos",
      "html_url": "https://github.com/cammellos",
      "followers_url": "https://api.github.com/users/cammellos/followers",
      "following_url": "https://api.github.com/users/cammellos/following{/other_user}",
      "gists_url": "https://api.github.com/users/cammellos/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cammellos/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cammellos/subscriptions",
      "organizations_url": "https://api.github.com/users/cammellos/orgs",
      "repos_url": "https://api.github.com/users/cammellos/repos",
      "events_url": "https://api.github.com/users/cammellos/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cammellos/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-09-13T12:46:57Z",
    "updated_at": "2023-09-13T12:46:57Z",
    "author_association": "MEMBER",
    "body": "This has to do with status-go, you need to check whether the picture has been backed up. Most likely it wasn't backed up.\r\n@VolodLytvynenko does it happens all the times even on accounts that you have been using for a while, or only on new accounts?",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1717563206/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1720925942",
    "html_url": "https://github.com/status-im/status-mobile/issues/17193#issuecomment-1720925942",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/17193",
    "id": 1720925942,
    "node_id": "IC_kwDOAx4p2c5mkz72",
    "user": {
      "login": "VolodLytvynenko",
      "id": 52490791,
      "node_id": "MDQ6VXNlcjUyNDkwNzkx",
      "avatar_url": "https://avatars.githubusercontent.com/u/52490791?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/VolodLytvynenko",
      "html_url": "https://github.com/VolodLytvynenko",
      "followers_url": "https://api.github.com/users/VolodLytvynenko/followers",
      "following_url": "https://api.github.com/users/VolodLytvynenko/following{/other_user}",
      "gists_url": "https://api.github.com/users/VolodLytvynenko/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/VolodLytvynenko/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/VolodLytvynenko/subscriptions",
      "organizations_url": "https://api.github.com/users/VolodLytvynenko/orgs",
      "repos_url": "https://api.github.com/users/VolodLytvynenko/repos",
      "events_url": "https://api.github.com/users/VolodLytvynenko/events{/privacy}",
      "received_events_url": "https://api.github.com/users/VolodLytvynenko/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-09-15T08:59:32Z",
    "updated_at": "2023-09-15T08:59:46Z",
    "author_association": "NONE",
    "body": "> This has to do with status-go, you need to check whether the picture has been backed up. Most likely it wasn't backed up. \r\n\r\n@cammellos Sorry for the delayed reply. Yes, you are correct.  It happens if the image is not backed up.\r\n\r\n> @VolodLytvynenko does it happens all the times even on accounts that you have been using for a while, or only on new accounts?\r\n\r\nThis issue occurs for both non-backed-up image users with old accounts and new accounts. Thank you for helping to find the exact steps!\r\n\r\n### Steps:\r\n1. Create an account (don't set image during onboarding)\r\n2. Perform backup (or use existing user using seed phrase: catch salt eternal clever admit border mirror claw distance bring dwarf zebra)\r\n3. Set image for avatar\r\n4. Remove current account\r\n5. Recover current account\r\n6. Set image during onboarding\r\n7. Check the image showing after onboarding\r\n\r\n### Actual result:\r\nThe image is not fetched after onboarding\r\n\r\n\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1720925942/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1725831572",
    "html_url": "https://github.com/status-im/status-mobile/issues/17193#issuecomment-1725831572",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/17193",
    "id": 1725831572,
    "node_id": "IC_kwDOAx4p2c5m3hmU",
    "user": {
      "login": "qoqobolo",
      "id": 67952253,
      "node_id": "MDQ6VXNlcjY3OTUyMjUz",
      "avatar_url": "https://avatars.githubusercontent.com/u/67952253?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/qoqobolo",
      "html_url": "https://github.com/qoqobolo",
      "followers_url": "https://api.github.com/users/qoqobolo/followers",
      "following_url": "https://api.github.com/users/qoqobolo/following{/other_user}",
      "gists_url": "https://api.github.com/users/qoqobolo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/qoqobolo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/qoqobolo/subscriptions",
      "organizations_url": "https://api.github.com/users/qoqobolo/orgs",
      "repos_url": "https://api.github.com/users/qoqobolo/repos",
      "events_url": "https://api.github.com/users/qoqobolo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/qoqobolo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-09-19T15:04:56Z",
    "updated_at": "2023-09-19T15:19:30Z",
    "author_association": "CONTRIBUTOR",
    "body": "Digged into this issue a bit deeper and it turned out that there are several scenarios related to updating the photo after backup and account restoration. \r\nUpdated the description. \r\n\r\n> Most likely it wasn't backed up\r\n\r\nJudging by scenario 2, it looks like the photo was backed up, but not updated correctly. \r\n",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1725831572/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
