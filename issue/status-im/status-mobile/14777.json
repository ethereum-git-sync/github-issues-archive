{
  "url": "https://api.github.com/repos/status-im/status-mobile/issues/14777",
  "repository_url": "https://api.github.com/repos/status-im/status-mobile",
  "labels_url": "https://api.github.com/repos/status-im/status-mobile/issues/14777/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-mobile/issues/14777/comments",
  "events_url": "https://api.github.com/repos/status-im/status-mobile/issues/14777/events",
  "html_url": "https://github.com/status-im/status-mobile/issues/14777",
  "id": 1532509829,
  "node_id": "I_kwDOAx4p2c5bWD6F",
  "number": 14777,
  "title": "Data delivery issues",
  "user": {
    "login": "pavloburykh",
    "id": 97245802,
    "node_id": "U_kgDOBcvaag",
    "avatar_url": "https://avatars.githubusercontent.com/u/97245802?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/pavloburykh",
    "html_url": "https://github.com/pavloburykh",
    "followers_url": "https://api.github.com/users/pavloburykh/followers",
    "following_url": "https://api.github.com/users/pavloburykh/following{/other_user}",
    "gists_url": "https://api.github.com/users/pavloburykh/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/pavloburykh/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/pavloburykh/subscriptions",
    "organizations_url": "https://api.github.com/users/pavloburykh/orgs",
    "repos_url": "https://api.github.com/users/pavloburykh/repos",
    "events_url": "https://api.github.com/users/pavloburykh/events{/privacy}",
    "received_events_url": "https://api.github.com/users/pavloburykh/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 330296931,
      "node_id": "MDU6TGFiZWwzMzAyOTY5MzE=",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/bug",
      "name": "bug",
      "color": "fc2929",
      "default": true,
      "description": null
    },
    {
      "id": 916015974,
      "node_id": "MDU6TGFiZWw5MTYwMTU5NzQ=",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/e2e%20test%20blocker",
      "name": "e2e test blocker",
      "color": "bc0753",
      "default": false,
      "description": ""
    },
    {
      "id": 4011385439,
      "node_id": "LA_kwDOAx4p2c7vGOJf",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/E:MobileMessagingRD",
      "name": "E:MobileMessagingRD",
      "color": "DC23F8",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": {
    "url": "https://api.github.com/repos/status-im/status-mobile/milestones/62",
    "html_url": "https://github.com/status-im/status-mobile/milestone/62",
    "labels_url": "https://api.github.com/repos/status-im/status-mobile/milestones/62/labels",
    "id": 8714443,
    "node_id": "MI_kwDOAx4p2c4AhPjL",
    "number": 62,
    "title": "1.21.0-rc.1",
    "description": "",
    "creator": {
      "login": "cammellos",
      "id": 1017008,
      "node_id": "MDQ6VXNlcjEwMTcwMDg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1017008?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cammellos",
      "html_url": "https://github.com/cammellos",
      "followers_url": "https://api.github.com/users/cammellos/followers",
      "following_url": "https://api.github.com/users/cammellos/following{/other_user}",
      "gists_url": "https://api.github.com/users/cammellos/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cammellos/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cammellos/subscriptions",
      "organizations_url": "https://api.github.com/users/cammellos/orgs",
      "repos_url": "https://api.github.com/users/cammellos/repos",
      "events_url": "https://api.github.com/users/cammellos/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cammellos/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 0,
    "closed_issues": 114,
    "state": "closed",
    "created_at": "2022-12-02T16:12:04Z",
    "updated_at": "2023-02-27T11:06:34Z",
    "due_on": null,
    "closed_at": "2023-02-27T11:06:34Z"
  },
  "comments": 5,
  "created_at": "2023-01-13T15:42:24Z",
  "updated_at": "2023-01-17T09:23:07Z",
  "closed_at": "2023-01-17T09:23:06Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "All issues are reproducible in latest develop branch\r\n\r\n### ISSUE 1 Community link and messages are delivered to receiver with delay\r\n\r\n**Preconditions**: User A and User B are mutual contacts\r\n\r\n**Steps:**\r\n\r\n1. User A creates community\r\n2. User A sends invite to User B\r\n3. User A sends some messages in 1-1 chat to User B\r\n4. See if User B receives invite link and messages from User A in 1-1 chat right after it was sent\r\n\r\n**Actual result:** sometimes it takes minutes before User B receives community link and messages\r\n\r\n**Expected result:** community link is delivered to receiver without delay\r\n\r\nhttps://user-images.githubusercontent.com/97245802/212359535-e70c0a91-b2ec-4836-8953-72af71a0a8c2.mp4\r\n\r\n[receiver_logs.zip](https://github.com/status-im/status-mobile/files/10412983/receiver_logs.zip)\r\n[sender_logs.zip](https://github.com/status-im/status-mobile/files/10412984/sender_logs.zip)\r\n\r\nOne more recent example of messages not being delivered which I faced today in PR build https://github.com/status-im/status-mobile/pull/14700\r\n\r\nhttps://user-images.githubusercontent.com/97245802/212297179-02a858cf-f8de-4206-87dc-ca699be97820.mp4\r\n\r\n[receiver_logs.zip](https://github.com/status-im/status-mobile/files/10410565/receiver_logs.zip)\r\n[sender_logs.zip](https://github.com/status-im/status-mobile/files/10410566/sender_logs.zip)\r\n\r\n\r\n### ISSUE 2 Community channel is not shown for newly joined member\r\n\r\n**Preconditions**: User A and User B are mutual contacts\r\n\r\nBug is not reproducible every time. Sometimes up to 4 tries are needed for reproduction\r\n\r\n**Steps:**\r\n\r\n1. Create community by User A (I've been testing on open communities)\r\n2. Send invite to User B\r\n3. Create new community channel by User A \r\n5. Generate some message history in channel\r\n6. By User B open 1-1 chat with User A (link from User A should be displayed but keep in mind about ISSUE ???)\r\n7. Open community link by User B\r\n8. Tap Join community by User B\r\n9. See if community channel is displayed for User B\r\n\r\n**Actual result:** channel is not displayed. Sometimes channel is displayed but part of messages history is lost and never delivered later.\r\n\r\n**Expected result:** channel is displayed\r\n\r\n\r\nhttps://user-images.githubusercontent.com/97245802/212356668-59fcfb20-6b98-416f-832e-f8b75dc2cf18.mp4\r\n\r\n[community_owner_logs.zip](https://github.com/status-im/status-mobile/files/10412861/community_owner_logs.zip)\r\n\r\n[new_member_logs.zip](https://github.com/status-im/status-mobile/files/10412863/new_member_logs.zip)\r\n\r\n\r\n### Additional Information\r\n\r\n- Status version: nightly \r\n- Operating System: Android, iOS\r\n\r\n\r\n\r\n",
  "closed_by": {
    "login": "cammellos",
    "id": 1017008,
    "node_id": "MDQ6VXNlcjEwMTcwMDg=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1017008?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/cammellos",
    "html_url": "https://github.com/cammellos",
    "followers_url": "https://api.github.com/users/cammellos/followers",
    "following_url": "https://api.github.com/users/cammellos/following{/other_user}",
    "gists_url": "https://api.github.com/users/cammellos/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/cammellos/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/cammellos/subscriptions",
    "organizations_url": "https://api.github.com/users/cammellos/orgs",
    "repos_url": "https://api.github.com/users/cammellos/repos",
    "events_url": "https://api.github.com/users/cammellos/events{/privacy}",
    "received_events_url": "https://api.github.com/users/cammellos/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/14777/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-mobile/issues/14777/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1382070309",
    "html_url": "https://github.com/status-im/status-mobile/issues/14777#issuecomment-1382070309",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/14777",
    "id": 1382070309,
    "node_id": "IC_kwDOAx4p2c5SYLgl",
    "user": {
      "login": "churik",
      "id": 4557972,
      "node_id": "MDQ6VXNlcjQ1NTc5NzI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4557972?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/churik",
      "html_url": "https://github.com/churik",
      "followers_url": "https://api.github.com/users/churik/followers",
      "following_url": "https://api.github.com/users/churik/following{/other_user}",
      "gists_url": "https://api.github.com/users/churik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/churik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/churik/subscriptions",
      "organizations_url": "https://api.github.com/users/churik/orgs",
      "repos_url": "https://api.github.com/users/churik/repos",
      "events_url": "https://api.github.com/users/churik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/churik/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-13T16:12:45Z",
    "updated_at": "2023-01-13T16:16:35Z",
    "author_association": "MEMBER",
    "body": "The same happens with contact requests / appearing user in the contact list after accepting a contact request.\r\nIt may take up to 5 mins  until the contact appears in the contact list\r\nSee video (receiver): https://app.saucelabs.com/tests/f0d6d16f4c7043b6b019cbd1f1767590#73 (05:30) and chat appeared here https://app.saucelabs.com/tests/f0d6d16f4c7043b6b019cbd1f1767590#101 (08:23)\r\n\r\nIt is not the case when e2e may work stable.\r\n\r\nNOTE: all was fine on nightly 11/01/23\r\nSo this is the issue of one these commits:\r\n![image](https://user-images.githubusercontent.com/4557972/212367552-f3088a0b-c82f-4166-a01b-efb951265cab.png)\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1382070309/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1382074647",
    "html_url": "https://github.com/status-im/status-mobile/issues/14777#issuecomment-1382074647",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/14777",
    "id": 1382074647,
    "node_id": "IC_kwDOAx4p2c5SYMkX",
    "user": {
      "login": "churik",
      "id": 4557972,
      "node_id": "MDQ6VXNlcjQ1NTc5NzI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4557972?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/churik",
      "html_url": "https://github.com/churik",
      "followers_url": "https://api.github.com/users/churik/followers",
      "following_url": "https://api.github.com/users/churik/following{/other_user}",
      "gists_url": "https://api.github.com/users/churik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/churik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/churik/subscriptions",
      "organizations_url": "https://api.github.com/users/churik/orgs",
      "repos_url": "https://api.github.com/users/churik/repos",
      "events_url": "https://api.github.com/users/churik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/churik/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-13T16:16:45Z",
    "updated_at": "2023-01-13T16:16:45Z",
    "author_association": "MEMBER",
    "body": "cc @cammellos ",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1382074647/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1382076793",
    "html_url": "https://github.com/status-im/status-mobile/issues/14777#issuecomment-1382076793",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/14777",
    "id": 1382076793,
    "node_id": "IC_kwDOAx4p2c5SYNF5",
    "user": {
      "login": "cammellos",
      "id": 1017008,
      "node_id": "MDQ6VXNlcjEwMTcwMDg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1017008?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cammellos",
      "html_url": "https://github.com/cammellos",
      "followers_url": "https://api.github.com/users/cammellos/followers",
      "following_url": "https://api.github.com/users/cammellos/following{/other_user}",
      "gists_url": "https://api.github.com/users/cammellos/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cammellos/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cammellos/subscriptions",
      "organizations_url": "https://api.github.com/users/cammellos/orgs",
      "repos_url": "https://api.github.com/users/cammellos/repos",
      "events_url": "https://api.github.com/users/cammellos/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cammellos/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-13T16:18:36Z",
    "updated_at": "2023-01-13T16:18:36Z",
    "author_association": "MEMBER",
    "body": "@churik thanks, I'll take a look, it's most likely due to the changes in config in waku-v2",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1382076793/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1382078037",
    "html_url": "https://github.com/status-im/status-mobile/issues/14777#issuecomment-1382078037",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/14777",
    "id": 1382078037,
    "node_id": "IC_kwDOAx4p2c5SYNZV",
    "user": {
      "login": "cammellos",
      "id": 1017008,
      "node_id": "MDQ6VXNlcjEwMTcwMDg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1017008?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cammellos",
      "html_url": "https://github.com/cammellos",
      "followers_url": "https://api.github.com/users/cammellos/followers",
      "following_url": "https://api.github.com/users/cammellos/following{/other_user}",
      "gists_url": "https://api.github.com/users/cammellos/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cammellos/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cammellos/subscriptions",
      "organizations_url": "https://api.github.com/users/cammellos/orgs",
      "repos_url": "https://api.github.com/users/cammellos/repos",
      "events_url": "https://api.github.com/users/cammellos/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cammellos/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-13T16:19:43Z",
    "updated_at": "2023-01-13T16:19:43Z",
    "author_association": "MEMBER",
    "body": "I know what it is I think, we need to set new config, checking",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1382078037/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1382094000",
    "html_url": "https://github.com/status-im/status-mobile/issues/14777#issuecomment-1382094000",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/14777",
    "id": 1382094000,
    "node_id": "IC_kwDOAx4p2c5SYRSw",
    "user": {
      "login": "cammellos",
      "id": 1017008,
      "node_id": "MDQ6VXNlcjEwMTcwMDg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1017008?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cammellos",
      "html_url": "https://github.com/cammellos",
      "followers_url": "https://api.github.com/users/cammellos/followers",
      "following_url": "https://api.github.com/users/cammellos/following{/other_user}",
      "gists_url": "https://api.github.com/users/cammellos/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cammellos/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cammellos/subscriptions",
      "organizations_url": "https://api.github.com/users/cammellos/orgs",
      "repos_url": "https://api.github.com/users/cammellos/repos",
      "events_url": "https://api.github.com/users/cammellos/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cammellos/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-13T16:33:31Z",
    "updated_at": "2023-01-13T16:33:31Z",
    "author_association": "MEMBER",
    "body": "@pavloburykh @churik could you run e2e tests on https://github.com/status-im/status-mobile/pull/14779 when ready? it should fix the issue",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1382094000/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
