{
  "url": "https://api.github.com/repos/status-im/status-mobile/issues/12642",
  "repository_url": "https://api.github.com/repos/status-im/status-mobile",
  "labels_url": "https://api.github.com/repos/status-im/status-mobile/issues/12642/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-mobile/issues/12642/comments",
  "events_url": "https://api.github.com/repos/status-im/status-mobile/issues/12642/events",
  "html_url": "https://github.com/status-im/status-mobile/issues/12642",
  "id": 1005270008,
  "node_id": "I_kwDOAx4p2c476zP4",
  "number": 12642,
  "title": "Can't send funds to multisig - Out of gas",
  "user": {
    "login": "hesterbruikman",
    "id": 35233054,
    "node_id": "MDQ6VXNlcjM1MjMzMDU0",
    "avatar_url": "https://avatars.githubusercontent.com/u/35233054?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/hesterbruikman",
    "html_url": "https://github.com/hesterbruikman",
    "followers_url": "https://api.github.com/users/hesterbruikman/followers",
    "following_url": "https://api.github.com/users/hesterbruikman/following{/other_user}",
    "gists_url": "https://api.github.com/users/hesterbruikman/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/hesterbruikman/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/hesterbruikman/subscriptions",
    "organizations_url": "https://api.github.com/users/hesterbruikman/orgs",
    "repos_url": "https://api.github.com/users/hesterbruikman/repos",
    "events_url": "https://api.github.com/users/hesterbruikman/events{/privacy}",
    "received_events_url": "https://api.github.com/users/hesterbruikman/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 330296931,
      "node_id": "MDU6TGFiZWwzMzAyOTY5MzE=",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/bug",
      "name": "bug",
      "color": "fc2929",
      "default": true,
      "description": null
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "flexsurfer",
    "id": 11790366,
    "node_id": "MDQ6VXNlcjExNzkwMzY2",
    "avatar_url": "https://avatars.githubusercontent.com/u/11790366?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/flexsurfer",
    "html_url": "https://github.com/flexsurfer",
    "followers_url": "https://api.github.com/users/flexsurfer/followers",
    "following_url": "https://api.github.com/users/flexsurfer/following{/other_user}",
    "gists_url": "https://api.github.com/users/flexsurfer/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/flexsurfer/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/flexsurfer/subscriptions",
    "organizations_url": "https://api.github.com/users/flexsurfer/orgs",
    "repos_url": "https://api.github.com/users/flexsurfer/repos",
    "events_url": "https://api.github.com/users/flexsurfer/events{/privacy}",
    "received_events_url": "https://api.github.com/users/flexsurfer/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "flexsurfer",
      "id": 11790366,
      "node_id": "MDQ6VXNlcjExNzkwMzY2",
      "avatar_url": "https://avatars.githubusercontent.com/u/11790366?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/flexsurfer",
      "html_url": "https://github.com/flexsurfer",
      "followers_url": "https://api.github.com/users/flexsurfer/followers",
      "following_url": "https://api.github.com/users/flexsurfer/following{/other_user}",
      "gists_url": "https://api.github.com/users/flexsurfer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/flexsurfer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/flexsurfer/subscriptions",
      "organizations_url": "https://api.github.com/users/flexsurfer/orgs",
      "repos_url": "https://api.github.com/users/flexsurfer/repos",
      "events_url": "https://api.github.com/users/flexsurfer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/flexsurfer/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2021-09-23T10:33:11Z",
  "updated_at": "2021-09-27T13:58:49Z",
  "closed_at": "2021-09-27T13:58:49Z",
  "author_association": "COLLABORATOR",
  "active_lock_reason": null,
  "body": "# Bug Report\r\n\r\n\r\n## Problem \r\nWhen sending funds to a Gnosis multisig, the tx failed 4 times. Sending funds to 2 different addresses, both Gnosis multisig contract addresses. Error on Etherscan for transactions send using Status Wallet says `Warning! Error encountered during contract execution [Out of gas]`\r\n\r\nI was able to:\r\n- Send funds from the same account as used in Status using https://www.myetherwallet.com/wallet/send-tx in combination with Frame to sign.\r\n- Send funds from a different account through MetaMask \r\n- Sign contract interaction to exchange on Uniswap using Status wallet\r\n\r\nEtherscan shows succesful transaction signed with Frame to use a bit more gas, but not much:\r\n- Frame: 0.001414693564\r\n- Status: 0.001054394619 (highest amount of gas out of 3 failed transactions)\r\n\r\n\r\n#### Expected behavior\r\nWallet accurately estimates fees required to send funds to contract\r\n\r\n#### Actual behavior\r\nWallet does not accurately estimate fees required to send funds to contract in case of contract being a Gnosis multisig\r\n(Don't have an address to verify if the issue occurs only for Gnosis multisigs or also for other multisign contract addresses)\r\n\r\n### Reproduction\r\n\r\n1) Open Status\r\n2) Open Wallet\r\n3) Send\r\n4) Enter multisig address as recipient (ping @hesterbruikman for address if needed)\r\n5) Receive warning about interacting with contract > Tap OK\r\n6) Sign and send tx > View progress on Etherscan\r\n\r\n### Additional Information\r\n\r\n- Status version: Release 1.16\r\n- Operating System: Android\r\n\r\n\r\n[comment]: # (Please, add logs/notes if necessary)\r\n![Frame 1](https://user-images.githubusercontent.com/35233054/134492500-41093eef-5a64-4642-8419-d5c15ea333d7.png)\r\n\r\n\r\n",
  "closed_by": {
    "login": "flexsurfer",
    "id": 11790366,
    "node_id": "MDQ6VXNlcjExNzkwMzY2",
    "avatar_url": "https://avatars.githubusercontent.com/u/11790366?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/flexsurfer",
    "html_url": "https://github.com/flexsurfer",
    "followers_url": "https://api.github.com/users/flexsurfer/followers",
    "following_url": "https://api.github.com/users/flexsurfer/following{/other_user}",
    "gists_url": "https://api.github.com/users/flexsurfer/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/flexsurfer/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/flexsurfer/subscriptions",
    "organizations_url": "https://api.github.com/users/flexsurfer/orgs",
    "repos_url": "https://api.github.com/users/flexsurfer/repos",
    "events_url": "https://api.github.com/users/flexsurfer/events{/privacy}",
    "received_events_url": "https://api.github.com/users/flexsurfer/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/12642/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-mobile/issues/12642/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/925702415",
    "html_url": "https://github.com/status-im/status-mobile/issues/12642#issuecomment-925702415",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/12642",
    "id": 925702415,
    "node_id": "IC_kwDOAx4p2c43LRkP",
    "user": {
      "login": "carlfairclough",
      "id": 4670881,
      "node_id": "MDQ6VXNlcjQ2NzA4ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4670881?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/carlfairclough",
      "html_url": "https://github.com/carlfairclough",
      "followers_url": "https://api.github.com/users/carlfairclough/followers",
      "following_url": "https://api.github.com/users/carlfairclough/following{/other_user}",
      "gists_url": "https://api.github.com/users/carlfairclough/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/carlfairclough/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/carlfairclough/subscriptions",
      "organizations_url": "https://api.github.com/users/carlfairclough/orgs",
      "repos_url": "https://api.github.com/users/carlfairclough/repos",
      "events_url": "https://api.github.com/users/carlfairclough/events{/privacy}",
      "received_events_url": "https://api.github.com/users/carlfairclough/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-23T10:51:03Z",
    "updated_at": "2021-09-23T10:51:03Z",
    "author_association": "NONE",
    "body": "I wonder why this is using so much gas? 21000 should be sufficient for sends.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/925702415/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/925710705",
    "html_url": "https://github.com/status-im/status-mobile/issues/12642#issuecomment-925710705",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/12642",
    "id": 925710705,
    "node_id": "IC_kwDOAx4p2c43LTlx",
    "user": {
      "login": "flexsurfer",
      "id": 11790366,
      "node_id": "MDQ6VXNlcjExNzkwMzY2",
      "avatar_url": "https://avatars.githubusercontent.com/u/11790366?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/flexsurfer",
      "html_url": "https://github.com/flexsurfer",
      "followers_url": "https://api.github.com/users/flexsurfer/followers",
      "following_url": "https://api.github.com/users/flexsurfer/following{/other_user}",
      "gists_url": "https://api.github.com/users/flexsurfer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/flexsurfer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/flexsurfer/subscriptions",
      "organizations_url": "https://api.github.com/users/flexsurfer/orgs",
      "repos_url": "https://api.github.com/users/flexsurfer/repos",
      "events_url": "https://api.github.com/users/flexsurfer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/flexsurfer/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-23T11:04:05Z",
    "updated_at": "2021-09-23T11:05:41Z",
    "author_association": "MEMBER",
    "body": "> I wonder why this is using so much gas? 21000 should be sufficient for sends.\r\n\r\nyes, its an answer to why tx is failing, because 21000 is for sending ETH to non-contract addresses, so we have a condition in status-react, if tx has only ETH and no data (for a contract) we don't estimate gas, and set it to 21000, but in some cases, ETH may be sent without data to contract, and in that case, contract could do additional calculations and use more gas\r\n\r\nrelated issue https://github.com/status-im/status-react/issues/12583",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/925710705/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/925711197",
    "html_url": "https://github.com/status-im/status-mobile/issues/12642#issuecomment-925711197",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/12642",
    "id": 925711197,
    "node_id": "IC_kwDOAx4p2c43LTtd",
    "user": {
      "login": "flexsurfer",
      "id": 11790366,
      "node_id": "MDQ6VXNlcjExNzkwMzY2",
      "avatar_url": "https://avatars.githubusercontent.com/u/11790366?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/flexsurfer",
      "html_url": "https://github.com/flexsurfer",
      "followers_url": "https://api.github.com/users/flexsurfer/followers",
      "following_url": "https://api.github.com/users/flexsurfer/following{/other_user}",
      "gists_url": "https://api.github.com/users/flexsurfer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/flexsurfer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/flexsurfer/subscriptions",
      "organizations_url": "https://api.github.com/users/flexsurfer/orgs",
      "repos_url": "https://api.github.com/users/flexsurfer/repos",
      "events_url": "https://api.github.com/users/flexsurfer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/flexsurfer/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-23T11:04:52Z",
    "updated_at": "2021-09-23T11:04:52Z",
    "author_association": "MEMBER",
    "body": "i don't remember why we did this, at some point ETH estimation was wrong, and we hardcoded 21000, but its pretty easy to fix",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/925711197/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
