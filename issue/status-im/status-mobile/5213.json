{
  "url": "https://api.github.com/repos/status-im/status-mobile/issues/5213",
  "repository_url": "https://api.github.com/repos/status-im/status-mobile",
  "labels_url": "https://api.github.com/repos/status-im/status-mobile/issues/5213/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-mobile/issues/5213/comments",
  "events_url": "https://api.github.com/repos/status-im/status-mobile/issues/5213/events",
  "html_url": "https://github.com/status-im/status-mobile/issues/5213",
  "id": 342251892,
  "node_id": "MDU6SXNzdWUzNDIyNTE4OTI=",
  "number": 5213,
  "title": "Add way to select different fleets for use with the app",
  "user": {
    "login": "jakubgs",
    "id": 2212681,
    "node_id": "MDQ6VXNlcjIyMTI2ODE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jakubgs",
    "html_url": "https://github.com/jakubgs",
    "followers_url": "https://api.github.com/users/jakubgs/followers",
    "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
    "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
    "organizations_url": "https://api.github.com/users/jakubgs/orgs",
    "repos_url": "https://api.github.com/users/jakubgs/repos",
    "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jakubgs/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 793864892,
      "node_id": "MDU6TGFiZWw3OTM4NjQ4OTI=",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/devops",
      "name": "devops",
      "color": "71b503",
      "default": false,
      "description": null
    },
    {
      "id": 933023569,
      "node_id": "MDU6TGFiZWw5MzMwMjM1Njk=",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/feature",
      "name": "feature",
      "color": "172b9e",
      "default": false,
      "description": "feature requests"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "yenda",
    "id": 1181225,
    "node_id": "MDQ6VXNlcjExODEyMjU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1181225?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/yenda",
    "html_url": "https://github.com/yenda",
    "followers_url": "https://api.github.com/users/yenda/followers",
    "following_url": "https://api.github.com/users/yenda/following{/other_user}",
    "gists_url": "https://api.github.com/users/yenda/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/yenda/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/yenda/subscriptions",
    "organizations_url": "https://api.github.com/users/yenda/orgs",
    "repos_url": "https://api.github.com/users/yenda/repos",
    "events_url": "https://api.github.com/users/yenda/events{/privacy}",
    "received_events_url": "https://api.github.com/users/yenda/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "yenda",
      "id": 1181225,
      "node_id": "MDQ6VXNlcjExODEyMjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1181225?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yenda",
      "html_url": "https://github.com/yenda",
      "followers_url": "https://api.github.com/users/yenda/followers",
      "following_url": "https://api.github.com/users/yenda/following{/other_user}",
      "gists_url": "https://api.github.com/users/yenda/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yenda/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yenda/subscriptions",
      "organizations_url": "https://api.github.com/users/yenda/orgs",
      "repos_url": "https://api.github.com/users/yenda/repos",
      "events_url": "https://api.github.com/users/yenda/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yenda/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2018-07-18T09:39:59Z",
  "updated_at": "2018-09-07T13:34:09Z",
  "closed_at": "2018-09-07T13:34:09Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "### User Story\r\n\r\nAs a sysadmin(devops is a buzzword) I want the app to be able to switch between different `eth` fleets without having to re-build the whole application. This is necessary to test infrastructure changes and `statusd` version changes on a __staging__ fleet before it's deployed to the fleet used in the public release.\r\n\r\n### Description\r\n\r\nRight now we have 3 fleets:\r\n* [`eth.test`](https://consul.status.im/ui/do-ams3/nodes?s=eth.test) - Used by me for developing infra.\r\n* [`eth.staging`](https://consul.status.im/ui/do-ams3/nodes?s=eth.staging) - Intended for `statusd` CI and testing new versions.\r\n* [`eth.beta`](https://consul.status.im/ui/do-ams3/nodes?s=eth.beta) - The fleet currently used in the public releases.\r\n\r\nOnle one of them is used in the app currently, the `eth.beta`.\r\n\r\n#### Expected behavior\r\nIn order to test for example a new `statusd` version on `eth.staging` before deploying it to `eth.beta` we need to be able to select one of those in the App before logging in. This should be done in such a way that the node does not use any of the cached nodes.\r\n\r\n#### Actual behavior\r\nCurrently when you log in you default to using the `boot`, `whisper` and `mail` nodes defined in two files:\r\n* [`status-im/status-react/blob/develop/src/status_im/constants.cljs`](https://github.com/status-im/status-react/blob/develop/src/status_im/constants.cljs#L88)\r\n* [`status-im/status-go/blob/develop/params/cluster.go`](https://github.com/status-im/status-go/blob/develop/params/cluster.go#L37)\r\n\r\nThis is hard to maintain and far too static.\r\n\r\n### Additional Information\r\nThere was an issue cut for the `status-go` repo but it might be superfluous: https://github.com/status-im/status-go/issues/1100\r\n\r\nI'm not sure what is the best way to do this but my gut is telling me that the best way would be to have a JSON file that `status-react` loads, that can be edited by devs/testers by hand if need be, that is then used to inform `status-go` library used by `status-react` on what to connect to. This way configuration will be just in one palce(`status-react`) and will be editable without the need to rebuild anything.\r\n\r\nSomething like:\r\n```json\r\n{\r\n   \"mainnet\": {\r\n       \"default\": \"eth.beta\",\r\n       \"eth.beta\": {\r\n           \"boot\": {\r\n                \"boot-01.do-ams3.eth.beta\": \"enode://ABCxyz@174.138.105.243:30404\",\r\n                \"boot-02.do-ams3.eth.beta\": \"enode://XYZabc@206.189.243.57:30404\",\r\n                ...\r\n           },\r\n           \"whisper\": {\r\n                ...\r\n           },\r\n           \"mail\": {\r\n                ...\r\n           }\r\n       },\r\n       \"eth.staging\": {\r\n          ...\r\n       }\r\n   },\r\n   \"ropsten\": {\r\n      ...\r\n   }\r\n}\r\n```",
  "closed_by": {
    "login": "mandrigin",
    "id": 466427,
    "node_id": "MDQ6VXNlcjQ2NjQyNw==",
    "avatar_url": "https://avatars.githubusercontent.com/u/466427?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/mandrigin",
    "html_url": "https://github.com/mandrigin",
    "followers_url": "https://api.github.com/users/mandrigin/followers",
    "following_url": "https://api.github.com/users/mandrigin/following{/other_user}",
    "gists_url": "https://api.github.com/users/mandrigin/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/mandrigin/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mandrigin/subscriptions",
    "organizations_url": "https://api.github.com/users/mandrigin/orgs",
    "repos_url": "https://api.github.com/users/mandrigin/repos",
    "events_url": "https://api.github.com/users/mandrigin/events{/privacy}",
    "received_events_url": "https://api.github.com/users/mandrigin/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/5213/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-mobile/issues/5213/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/412831445",
    "html_url": "https://github.com/status-im/status-mobile/issues/5213#issuecomment-412831445",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/5213",
    "id": 412831445,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxMjgzMTQ0NQ==",
    "user": {
      "login": "adambabik",
      "id": 277870,
      "node_id": "MDQ6VXNlcjI3Nzg3MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/277870?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/adambabik",
      "html_url": "https://github.com/adambabik",
      "followers_url": "https://api.github.com/users/adambabik/followers",
      "following_url": "https://api.github.com/users/adambabik/following{/other_user}",
      "gists_url": "https://api.github.com/users/adambabik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/adambabik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/adambabik/subscriptions",
      "organizations_url": "https://api.github.com/users/adambabik/orgs",
      "repos_url": "https://api.github.com/users/adambabik/repos",
      "events_url": "https://api.github.com/users/adambabik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/adambabik/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-14T10:47:47Z",
    "updated_at": "2018-08-14T10:47:47Z",
    "author_association": "CONTRIBUTOR",
    "body": "Fleet can be selected in the configuration JSON. I propose to add an option in the settings to choose a fleet if \"Development Mode\" is turned on. That's the easiest.\r\n\r\nIf we don't want to expose that in the UI, we can have a build tag I believe. ",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/412831445/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/417360961",
    "html_url": "https://github.com/status-im/status-mobile/issues/5213#issuecomment-417360961",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/5213",
    "id": 417360961,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxNzM2MDk2MQ==",
    "user": {
      "login": "annadanchenko",
      "id": 6584810,
      "node_id": "MDQ6VXNlcjY1ODQ4MTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6584810?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/annadanchenko",
      "html_url": "https://github.com/annadanchenko",
      "followers_url": "https://api.github.com/users/annadanchenko/followers",
      "following_url": "https://api.github.com/users/annadanchenko/following{/other_user}",
      "gists_url": "https://api.github.com/users/annadanchenko/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/annadanchenko/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/annadanchenko/subscriptions",
      "organizations_url": "https://api.github.com/users/annadanchenko/orgs",
      "repos_url": "https://api.github.com/users/annadanchenko/repos",
      "events_url": "https://api.github.com/users/annadanchenko/events{/privacy}",
      "received_events_url": "https://api.github.com/users/annadanchenko/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-30T15:27:38Z",
    "updated_at": "2018-08-30T15:27:38Z",
    "author_association": "NONE",
    "body": "We also need UI option to be able to switch between test/staging/beta (default) in the app",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/417360961/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/417361325",
    "html_url": "https://github.com/status-im/status-mobile/issues/5213#issuecomment-417361325",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/5213",
    "id": 417361325,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxNzM2MTMyNQ==",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-30T15:28:45Z",
    "updated_at": "2018-08-30T15:29:22Z",
    "author_association": "MEMBER",
    "body": "I think the solution that requires rebuilding the app is not sufficient.\r\n* It complicates the build system, which is already complex, and we want to avoid using parameters\r\n* It makes it confusing for devs/testrs. How does one know which version of the app they are running?\r\n* It requires reinstalation of the app in order to check a different fleet.\r\n\r\nHaving UI selection of fleets will make it easier to test `statusd` versions and infra changes without adding yet another type of build for every single platform(of which there are 5).",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/417361325/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/417362987",
    "html_url": "https://github.com/status-im/status-mobile/issues/5213#issuecomment-417362987",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/5213",
    "id": 417362987,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxNzM2Mjk4Nw==",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-30T15:33:15Z",
    "updated_at": "2018-08-30T15:33:17Z",
    "author_association": "MEMBER",
    "body": "I might add that now we also have https://fleets.status.im/ to get current state of the fleet, which would be a better format for storing fleet configuration than JS or Go files.\n\n<blockquote></blockquote>",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/417362987/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
