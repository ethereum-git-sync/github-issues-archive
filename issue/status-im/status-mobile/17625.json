{
  "url": "https://api.github.com/repos/status-im/status-mobile/issues/17625",
  "repository_url": "https://api.github.com/repos/status-im/status-mobile",
  "labels_url": "https://api.github.com/repos/status-im/status-mobile/issues/17625/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-mobile/issues/17625/comments",
  "events_url": "https://api.github.com/repos/status-im/status-mobile/issues/17625/events",
  "html_url": "https://github.com/status-im/status-mobile/issues/17625",
  "id": 1939776190,
  "node_id": "I_kwDOAx4p2c5znqK-",
  "number": 17625,
  "title": "make shell TARGET=android fails on macOS 14.0 (Xcode 15) ",
  "user": {
    "login": "rasom",
    "id": 2364994,
    "node_id": "MDQ6VXNlcjIzNjQ5OTQ=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2364994?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/rasom",
    "html_url": "https://github.com/rasom",
    "followers_url": "https://api.github.com/users/rasom/followers",
    "following_url": "https://api.github.com/users/rasom/following{/other_user}",
    "gists_url": "https://api.github.com/users/rasom/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/rasom/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/rasom/subscriptions",
    "organizations_url": "https://api.github.com/users/rasom/orgs",
    "repos_url": "https://api.github.com/users/rasom/repos",
    "events_url": "https://api.github.com/users/rasom/events{/privacy}",
    "received_events_url": "https://api.github.com/users/rasom/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 4052544927,
      "node_id": "LA_kwDOAx4p2c7xjO2f",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/E:Mobile%20Developer%20XP",
      "name": "E:Mobile Developer XP",
      "color": "0F662F",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 23,
  "created_at": "2023-10-12T11:22:36Z",
  "updated_at": "2023-10-16T12:58:41Z",
  "closed_at": null,
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "```\r\nromanv@mac-mini-roman status-mobile % make shell TARGET=android \r\nConfiguring Nix shell for target 'android'...\r\ncopying path '/nix/store/c236624d06jb5981n90c72qix2flng02-rsync-3.2.7' from 'https://cache.nixos.org'...\r\ncopying path '/nix/store/4ayajhcnz8h2gi0w1y1lr210gks1w5an-aws-sdk-cpp-1.11.37' from 'https://cache.nixos.org'...\r\ncopying path '/nix/store/v38q8qlpb3rl980aljs6j27fa9rzkkcr-boost-1.79.0' from 'https://cache.nixos.org'...\r\ncopying path '/nix/store/y6yq712j6dyyxgzl3zk75cisjwd6pphf-libarchive-3.6.2-lib' from 'https://cache.nixos.org'...\r\ncopying path '/nix/store/7mck4jr7wwg9m230lhwaji4gklp21f94-cctools-binutils-darwin-wrapper-973.0.1' from 'https://cache.nixos.org'...\r\ncopying path '/nix/store/9h4mq9n4yys73f8x056ya49bi5857g4y-ruby3.1.4-Ascii85-1.1.0' from 'https://cache.nixos.org'...\r\ncopying path '/nix/store/scnq03wk1379d8i67rglj39rzhrd7pnw-ruby3.1.4-coderay-1.1.3' from 'https://cache.nixos.org'...\r\ncopying path '/nix/store/isgq21hbkdpya3ss4gk6xw1cigk852ic-ruby3.1.4-asciidoctor-2.0.18' from 'https://cache.nixos.org'...\r\ncopying path '/nix/store/7q62dfd7cfq8j64rnv6jmxkw32rv8wib-ruby3.1.4-pygments.rb-2.3.0' from 'https://cache.nixos.org'...\r\ncopying path '/nix/store/fzzw0ncz38y3d75dwj43pzfbr2bc3ljm-ruby3.1.4-public_suffix-5.0.0' from 'https://cache.nixos.org'...\r\ncopying path '/nix/store/98a0ill39b0mh1bwf60qc7vsf41j3y09-ruby3.1.4-rouge-4.0.0' from 'https://cache.nixos.org'...\r\ncopying path '/nix/store/r1jvfxzhb51mdbww68kk7nx7p48gbj4h-ruby3.1.4-ruby-rc4-0.1.5' from 'https://cache.nixos.org'...\r\ncopying path '/nix/store/zx3331x5pigzmnw23mqbpri5jmiyqczv-clang-wrapper-11.1.0' from 'https://cache.nixos.org'...\r\ncopying path '/nix/store/fg8agj15p796nc2jipxfdr899ahm59rf-ruby3.1.4-treetop-1.6.11' from 'https://cache.nixos.org'...\r\ncopying path '/nix/store/vcc1m6hhnifcd6hqk7iip4zig2pw2ks6-ruby3.1.4-addressable-2.8.1' from 'https://cache.nixos.org'...\r\nerror: a 'x86_64-darwin' with features {} is required to build '/nix/store/w4zfrwjgd450m6ap9h5qfiq85jyyd04c-builder.pl.drv', but I am a 'aarch64-darwin' with features {benchmark, big-parallel, nixos-test}\r\n```\r\n\r\n```\r\nromanv@mac-mini-roman status-mobile % file $(which nix)\r\n/nix/var/nix/profiles/default/bin/nix: Mach-O 64-bit executable arm64\r\n```\r\n\r\n\r\n```\r\nromanv@mac-mini-roman status-mobile % nix-shell -p nix-info --run \"nix-info -m\"  \r\n - system: `\"aarch64-darwin\"`\r\n - host os: `Darwin 23.0.0, macOS 14.0`\r\n - multi-user?: `yes`\r\n - sandbox: `no`\r\n - version: `nix-env (Nix) 2.13.4`\r\n - channels(root): `\"nixpkgs\"`\r\n - nixpkgs: `/nix/var/nix/profiles/per-user/root/channels/nixpkgs`\r\n```\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/17625/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-mobile/issues/17625/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1759442049",
    "html_url": "https://github.com/status-im/status-mobile/issues/17625#issuecomment-1759442049",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/17625",
    "id": 1759442049,
    "node_id": "IC_kwDOAx4p2c5o3vSB",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-10-12T11:38:41Z",
    "updated_at": "2023-10-12T11:38:59Z",
    "author_association": "MEMBER",
    "body": "All of our CI hosts are using `13.x` so indeed `14.0` might be the cause of the issue:\r\n```\r\n > a ci-slave-macos -o -a 'system_profiler SPSoftwareDataType | grep \"System Version\"' \r\nmacm2-01.ih-eu-mda1.ci.release | CHANGED | rc=0 | (stdout)       System Version: macOS 13.5.1 (22G90)\r\nmaci7-01.ms-eu-dublin.ci.devel | CHANGED | rc=0 | (stdout)       System Version: macOS 13.2 (22D49)\r\nmacm2-02.ih-eu-mda1.ci.devel | CHANGED | rc=0 | (stdout)       System Version: macOS 13.4 (22F66)\r\nmacm1-01.ih-eu-mda1.ci.devel | CHANGED | rc=0 | (stdout)       System Version: macOS 13.5.2 (22G91)\r\nmacm2-01.ih-eu-mda1.ci.devel | CHANGED | rc=0 | (stdout)       System Version: macOS 13.4 (22F66)\r\nmaci7-03.ms-eu-dublin.ci.devel | CHANGED | rc=0 | (stdout)       System Version: macOS 13.1 (22C65)\r\nmaci7-02.ms-eu-dublin.ci.devel | CHANGED | rc=0 | (stdout)       System Version: macOS 13.1 (22C65)\r\n```\r\nI wonder if any other devs are on OSX 14.0 and whether they have this issue.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1759442049/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1759451839",
    "html_url": "https://github.com/status-im/status-mobile/issues/17625#issuecomment-1759451839",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/17625",
    "id": 1759451839,
    "node_id": "IC_kwDOAx4p2c5o3xq_",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-10-12T11:46:11Z",
    "updated_at": "2023-10-12T11:46:11Z",
    "author_association": "MEMBER",
    "body": "Sid suggest this is related, I'm not so sure:\r\n\r\n* https://github.com/NixOS/nixpkgs/issues/257686",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1759451839/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1760045821",
    "html_url": "https://github.com/status-im/status-mobile/issues/17625#issuecomment-1760045821",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/17625",
    "id": 1760045821,
    "node_id": "IC_kwDOAx4p2c5o6Cr9",
    "user": {
      "login": "rasom",
      "id": 2364994,
      "node_id": "MDQ6VXNlcjIzNjQ5OTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2364994?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rasom",
      "html_url": "https://github.com/rasom",
      "followers_url": "https://api.github.com/users/rasom/followers",
      "following_url": "https://api.github.com/users/rasom/following{/other_user}",
      "gists_url": "https://api.github.com/users/rasom/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rasom/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rasom/subscriptions",
      "organizations_url": "https://api.github.com/users/rasom/orgs",
      "repos_url": "https://api.github.com/users/rasom/repos",
      "events_url": "https://api.github.com/users/rasom/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rasom/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-10-12T17:24:57Z",
    "updated_at": "2023-10-12T17:24:57Z",
    "author_association": "MEMBER",
    "body": "@jakubgs is fix for it included to some release? If so is there a way to run it locally to check? ",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1760045821/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1761011985",
    "html_url": "https://github.com/status-im/status-mobile/issues/17625#issuecomment-1761011985",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/17625",
    "id": 1761011985,
    "node_id": "IC_kwDOAx4p2c5o9ukR",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-10-13T07:05:02Z",
    "updated_at": "2023-10-13T07:05:02Z",
    "author_association": "MEMBER",
    "body": "@rasom you can try a different Nix interpreter by using these commands:\r\n```\r\nsource /nix/var/nix/profiles/default/etc/profile.d/nix-daemon.sh\r\nnix-channel --update\r\nnix-env --install --attr nixpkgs.nixVersions.nix_2_18\r\nlaunchctl unload /Library/LaunchDaemons/org.nixos.nix-daemon.plist\r\nlaunchctl load   /Library/LaunchDaemons/org.nixos.nix-daemon.plist\r\n```\r\nYou can find the releases here: https://github.com/NixOS/nix/tags\r\nThough upgrading might have unintended consequences.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1761011985/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1761017634",
    "html_url": "https://github.com/status-im/status-mobile/issues/17625#issuecomment-1761017634",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/17625",
    "id": 1761017634,
    "node_id": "IC_kwDOAx4p2c5o9v8i",
    "user": {
      "login": "rasom",
      "id": 2364994,
      "node_id": "MDQ6VXNlcjIzNjQ5OTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2364994?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rasom",
      "html_url": "https://github.com/rasom",
      "followers_url": "https://api.github.com/users/rasom/followers",
      "following_url": "https://api.github.com/users/rasom/following{/other_user}",
      "gists_url": "https://api.github.com/users/rasom/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rasom/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rasom/subscriptions",
      "organizations_url": "https://api.github.com/users/rasom/orgs",
      "repos_url": "https://api.github.com/users/rasom/repos",
      "events_url": "https://api.github.com/users/rasom/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rasom/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-10-13T07:10:00Z",
    "updated_at": "2023-10-13T07:10:00Z",
    "author_association": "MEMBER",
    "body": "Will try later today, thanks. Consequences... I think it is not a problem at the moment because I always can reset that mac.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1761017634/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1761099035",
    "html_url": "https://github.com/status-im/status-mobile/issues/17625#issuecomment-1761099035",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/17625",
    "id": 1761099035,
    "node_id": "IC_kwDOAx4p2c5o-D0b",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-10-13T08:15:55Z",
    "updated_at": "2023-10-13T08:15:55Z",
    "author_association": "MEMBER",
    "body": "I would avoid `nix_2_14` and `nix_2_15` as I recall issues with them.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1761099035/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1761105076",
    "html_url": "https://github.com/status-im/status-mobile/issues/17625#issuecomment-1761105076",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/17625",
    "id": 1761105076,
    "node_id": "IC_kwDOAx4p2c5o-FS0",
    "user": {
      "login": "yakimant",
      "id": 1529006,
      "node_id": "MDQ6VXNlcjE1MjkwMDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1529006?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yakimant",
      "html_url": "https://github.com/yakimant",
      "followers_url": "https://api.github.com/users/yakimant/followers",
      "following_url": "https://api.github.com/users/yakimant/following{/other_user}",
      "gists_url": "https://api.github.com/users/yakimant/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yakimant/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yakimant/subscriptions",
      "organizations_url": "https://api.github.com/users/yakimant/orgs",
      "repos_url": "https://api.github.com/users/yakimant/repos",
      "events_url": "https://api.github.com/users/yakimant/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yakimant/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-10-13T08:18:17Z",
    "updated_at": "2023-10-13T08:18:17Z",
    "author_association": "MEMBER",
    "body": "`make shell TARGET=android` works for me\r\n\r\n```\r\n❯ sw_vers\r\nProductName:            macOS\r\nProductVersion:         14.0\r\nBuildVersion:           23A344\r\n\r\n❯ file $(which nix)\r\n/nix/var/nix/profiles/default/bin/nix: Mach-O 64-bit executable arm64\r\n\r\n❯ nix-shell -p nix-info --run \"nix-info -m\"\r\n - system: `\"aarch64-darwin\"`\r\n - host os: `Darwin 23.0.0, macOS 14.0`\r\n - multi-user?: `yes`\r\n - sandbox: `no`\r\n - version: `nix-env (Nix) 2.13.3`\r\n - channels(root): `\"nixpkgs\"`\r\n - nixpkgs: `/nix/var/nix/profiles/per-user/root/channels/nixpkgs`\r\n ```",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1761105076/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1761572633",
    "html_url": "https://github.com/status-im/status-mobile/issues/17625#issuecomment-1761572633",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/17625",
    "id": 1761572633,
    "node_id": "IC_kwDOAx4p2c5o_3cZ",
    "user": {
      "login": "rasom",
      "id": 2364994,
      "node_id": "MDQ6VXNlcjIzNjQ5OTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2364994?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rasom",
      "html_url": "https://github.com/rasom",
      "followers_url": "https://api.github.com/users/rasom/followers",
      "following_url": "https://api.github.com/users/rasom/following{/other_user}",
      "gists_url": "https://api.github.com/users/rasom/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rasom/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rasom/subscriptions",
      "organizations_url": "https://api.github.com/users/rasom/orgs",
      "repos_url": "https://api.github.com/users/rasom/repos",
      "events_url": "https://api.github.com/users/rasom/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rasom/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-10-13T14:00:31Z",
    "updated_at": "2023-10-13T14:00:31Z",
    "author_association": "MEMBER",
    "body": ">  - version: `nix-env (Nix) 2.13.3`\r\n\r\nI have\r\n\r\n> - version: `nix-env (Nix) 2.13.4`\r\n \r\n the only difference I see ",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1761572633/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1762850842",
    "html_url": "https://github.com/status-im/status-mobile/issues/17625#issuecomment-1762850842",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/17625",
    "id": 1762850842,
    "node_id": "IC_kwDOAx4p2c5pEvga",
    "user": {
      "login": "rasom",
      "id": 2364994,
      "node_id": "MDQ6VXNlcjIzNjQ5OTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2364994?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rasom",
      "html_url": "https://github.com/rasom",
      "followers_url": "https://api.github.com/users/rasom/followers",
      "following_url": "https://api.github.com/users/rasom/following{/other_user}",
      "gists_url": "https://api.github.com/users/rasom/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rasom/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rasom/subscriptions",
      "organizations_url": "https://api.github.com/users/rasom/orgs",
      "repos_url": "https://api.github.com/users/rasom/repos",
      "events_url": "https://api.github.com/users/rasom/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rasom/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-10-14T11:47:56Z",
    "updated_at": "2023-10-14T11:57:23Z",
    "author_association": "MEMBER",
    "body": "upgraded to `2_18` and now error looks like this \r\n```\r\ncopying path '/nix/store/ly3wj661lbrgh5gj07kfx0y8cyqygrl0-zstd-1.5.5' from 'https://cache.nixos.org'...\r\nerror:\r\n       … while calling the 'derivationStrict' builtin\r\n\r\n         at /builtin/derivation.nix:9:12: (source not available)\r\n\r\n       … while evaluating derivation 'status-mobile-shell'\r\n         whose name attribute is located at /nix/store/vcj90ksw5vk6ia960b73vpncxa9pw826-source/pkgs/stdenv/generic/make-derivation.nix:303:7\r\n\r\n       … while evaluating attribute 'buildInputs' of derivation 'status-mobile-shell'\r\n\r\n         at /nix/store/vcj90ksw5vk6ia960b73vpncxa9pw826-source/pkgs/stdenv/generic/make-derivation.nix:350:7:\r\n\r\n          349|       depsHostHost                = lib.elemAt (lib.elemAt dependencies 1) 0;\r\n          350|       buildInputs                 = lib.elemAt (lib.elemAt dependencies 1) 1;\r\n             |       ^\r\n          351|       depsTargetTarget            = lib.elemAt (lib.elemAt dependencies 2) 0;\r\n\r\n       (stack trace truncated; use '--show-trace' to show the full trace)\r\n\r\n       error: a 'x86_64-darwin' with features {} is required to build '/nix/store/w4zfrwjgd450m6ap9h5qfiq85jyyd04c-builder.pl.drv', but I am a 'aarch64-darwin' with features {benchmark, big-parallel, nixos-test}\r\n ```",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1762850842/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1762890079",
    "html_url": "https://github.com/status-im/status-mobile/issues/17625#issuecomment-1762890079",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/17625",
    "id": 1762890079,
    "node_id": "IC_kwDOAx4p2c5pE5Ff",
    "user": {
      "login": "rasom",
      "id": 2364994,
      "node_id": "MDQ6VXNlcjIzNjQ5OTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2364994?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rasom",
      "html_url": "https://github.com/rasom",
      "followers_url": "https://api.github.com/users/rasom/followers",
      "following_url": "https://api.github.com/users/rasom/following{/other_user}",
      "gists_url": "https://api.github.com/users/rasom/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rasom/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rasom/subscriptions",
      "organizations_url": "https://api.github.com/users/rasom/orgs",
      "repos_url": "https://api.github.com/users/rasom/repos",
      "events_url": "https://api.github.com/users/rasom/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rasom/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-10-14T13:09:04Z",
    "updated_at": "2023-10-14T13:09:04Z",
    "author_association": "MEMBER",
    "body": "Previously I was mainly focused on trying to run iOS version of the app locally, so just to make sure no part of it had any affect on results of running `make shell TARGET=android` I reset device again and reproduced that error with those steps:\r\n\r\n0. clean Mac, macOS 14\r\n1. install Xcode 15\r\n2. install brew\r\n3. restart (just in case because on previous attempts there were some issues during nix installation which according to some gh issues are fixed with restart `¯\\_(ツ)_/¯`, and they are)\r\n4. `brew install git`\r\n5. `brew install coreutils`\r\n6. clone `status-mobile` repo\r\n7. `make shell TARGET=android`\r\n\r\nsame result\r\n```\r\nerror: a 'x86_64-darwin' with features {} is required to build '/nix/store/w4zfrwjgd450m6ap9h5qfiq85jyyd04c-builder.pl.drv', but I am a 'aarch64-darwin' with features {benchmark, big-parallel, nixos-test}\r\n(use '--show-trace' to show detailed location information)\r\n```\r\n\r\n@jakubgs I'm wondering also whether I can somehow pass `--show-trace` through `make shell TARGET=android` in order to get a full stack (if that would be helpful though).\r\n\r\n```\r\n% sw_vers\r\nProductName:\t\tmacOS\r\nProductVersion:\t\t14.0\r\nBuildVersion:\t\t23A344\r\n\r\n% file $(which nix)                                                                            \r\n/nix/var/nix/profiles/default/bin/nix: Mach-O 64-bit executable arm64\r\n\r\n% nix-shell -p nix-info --run \"nix-info -m\"\r\n - system: `\"aarch64-darwin\"`\r\n - host os: `Darwin 23.0.0, macOS 14.0`\r\n - multi-user?: `yes`\r\n - sandbox: `no`\r\n - version: `nix-env (Nix) 2.13.4`\r\n - channels(root): `\"nixpkgs\"`\r\n - nixpkgs: `/nix/var/nix/profiles/per-user/root/channels/nixpkgs`\r\n```\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1762890079/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1763039063",
    "html_url": "https://github.com/status-im/status-mobile/issues/17625#issuecomment-1763039063",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/17625",
    "id": 1763039063,
    "node_id": "IC_kwDOAx4p2c5pFddX",
    "user": {
      "login": "rasom",
      "id": 2364994,
      "node_id": "MDQ6VXNlcjIzNjQ5OTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2364994?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rasom",
      "html_url": "https://github.com/rasom",
      "followers_url": "https://api.github.com/users/rasom/followers",
      "following_url": "https://api.github.com/users/rasom/following{/other_user}",
      "gists_url": "https://api.github.com/users/rasom/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rasom/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rasom/subscriptions",
      "organizations_url": "https://api.github.com/users/rasom/orgs",
      "repos_url": "https://api.github.com/users/rasom/repos",
      "events_url": "https://api.github.com/users/rasom/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rasom/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-10-14T16:56:43Z",
    "updated_at": "2023-10-14T16:56:43Z",
    "author_association": "MEMBER",
    "body": "```\r\nerror:\r\n       … while evaluating the attribute 'buildInputs' of the derivation 'status-mobile-shell'\r\n\r\n       at /nix/store/vcj90ksw5vk6ia960b73vpncxa9pw826-source/pkgs/stdenv/generic/make-derivation.nix:303:7:\r\n\r\n          302|     // (lib.optionalAttrs (attrs ? name || (attrs ? pname && attrs ? version)) {\r\n          303|       name =\r\n             |       ^\r\n          304|         let\r\n\r\n       … while evaluating call site\r\n\r\n       at «none»:0: (source not available)\r\n\r\n       … while calling 'getOutput'\r\n\r\n       at /nix/store/vcj90ksw5vk6ia960b73vpncxa9pw826-source/lib/attrsets.nix:892:23:\r\n\r\n          891|   */\r\n          892|   getOutput = output: pkg:\r\n             |                       ^\r\n          893|     if ! pkg ? outputSpecified || ! pkg.outputSpecified\r\n\r\n       … while evaluating call site\r\n\r\n       at «none»:0: (source not available)\r\n\r\n       … while calling anonymous lambda\r\n\r\n       at /nix/store/vcj90ksw5vk6ia960b73vpncxa9pw826-source/pkgs/stdenv/generic/make-derivation.nix:249:13:\r\n\r\n          248|       (map (drv: drv.__spliced.hostHost or drv) (checkDependencyList \"depsHostHost\" depsHostHost))\r\n          249|       (map (drv: drv.__spliced.hostTarget or drv) (checkDependencyList \"buildInputs\" buildInputs'))\r\n             |             ^\r\n          250|     ]\r\n\r\n       … while evaluating call site\r\n\r\n       at «none»:0: (source not available)\r\n\r\n       … while calling anonymous lambda\r\n\r\n       at /nix/store/vcj90ksw5vk6ia960b73vpncxa9pw826-source/lib/lists.nix:117:29:\r\n\r\n          116|   */\r\n          117|   imap1 = f: list: genList (n: f (n + 1) (elemAt list n)) (length list);\r\n             |                             ^\r\n          118|\r\n\r\n       … while evaluating call site\r\n\r\n       at /nix/store/vcj90ksw5vk6ia960b73vpncxa9pw826-source/lib/lists.nix:117:32:\r\n\r\n          116|   */\r\n          117|   imap1 = f: list: genList (n: f (n + 1) (elemAt list n)) (length list);\r\n             |                                ^\r\n          118|\r\n\r\n       … while calling anonymous lambda\r\n\r\n       at /nix/store/vcj90ksw5vk6ia960b73vpncxa9pw826-source/pkgs/stdenv/generic/make-derivation.nix:216:81:\r\n\r\n          215|   checkDependencyList = checkDependencyList' [];\r\n          216|   checkDependencyList' = positions: name: deps: lib.flip lib.imap1 deps (index: dep:\r\n             |                                                                                 ^\r\n          217|     if lib.isDerivation dep || dep == null || builtins.typeOf dep == \"string\" || builtins.typeOf dep == \"path\" then dep\r\n\r\n       … while evaluating call site\r\n\r\n       at /nix/store/vcj90ksw5vk6ia960b73vpncxa9pw826-source/pkgs/stdenv/generic/make-derivation.nix:217:8:\r\n\r\n          216|   checkDependencyList' = positions: name: deps: lib.flip lib.imap1 deps (index: dep:\r\n          217|     if lib.isDerivation dep || dep == null || builtins.typeOf dep == \"string\" || builtins.typeOf dep == \"path\" then dep\r\n             |        ^\r\n          218|     else if lib.isList dep then checkDependencyList' ([index] ++ positions) name dep\r\n\r\n       … while calling 'isDerivation'\r\n\r\n       at /nix/store/vcj90ksw5vk6ia960b73vpncxa9pw826-source/lib/attrsets.nix:636:5:\r\n\r\n          635|     # Value to check.\r\n          636|     value: value.type or null == \"derivation\";\r\n             |     ^\r\n          637|\r\n\r\n       … while evaluating call site\r\n\r\n       at «none»:0: (source not available)\r\n\r\n       … while calling 'chooseDevOutputs'\r\n\r\n       at /nix/store/vcj90ksw5vk6ia960b73vpncxa9pw826-source/lib/attrsets.nix:955:5:\r\n\r\n          954|     # List of packages to pick `dev` outputs from\r\n          955|     drvs:\r\n             |     ^\r\n          956|     builtins.map getDev drvs;\r\n\r\n       … while evaluating call site\r\n\r\n       at /nix/store/vcj90ksw5vk6ia960b73vpncxa9pw826-source/pkgs/stdenv/generic/make-derivation.nix:249:52:\r\n\r\n          248|       (map (drv: drv.__spliced.hostHost or drv) (checkDependencyList \"depsHostHost\" depsHostHost))\r\n          249|       (map (drv: drv.__spliced.hostTarget or drv) (checkDependencyList \"buildInputs\" buildInputs'))\r\n             |                                                    ^\r\n          250|     ]\r\n\r\n       … while calling 'checkDependencyList''\r\n\r\n       at /nix/store/vcj90ksw5vk6ia960b73vpncxa9pw826-source/pkgs/stdenv/generic/make-derivation.nix:216:43:\r\n\r\n          215|   checkDependencyList = checkDependencyList' [];\r\n          216|   checkDependencyList' = positions: name: deps: lib.flip lib.imap1 deps (index: dep:\r\n             |                                           ^\r\n          217|     if lib.isDerivation dep || dep == null || builtins.typeOf dep == \"string\" || builtins.typeOf dep == \"path\" then dep\r\n\r\n       … while evaluating call site\r\n\r\n       at /nix/store/vcj90ksw5vk6ia960b73vpncxa9pw826-source/pkgs/stdenv/generic/make-derivation.nix:216:49:\r\n\r\n          215|   checkDependencyList = checkDependencyList' [];\r\n          216|   checkDependencyList' = positions: name: deps: lib.flip lib.imap1 deps (index: dep:\r\n             |                                                 ^\r\n          217|     if lib.isDerivation dep || dep == null || builtins.typeOf dep == \"string\" || builtins.typeOf dep == \"path\" then dep\r\n\r\n       … while calling 'flip'\r\n\r\n       at /nix/store/vcj90ksw5vk6ia960b73vpncxa9pw826-source/lib/trivial.nix:138:16:\r\n\r\n          137|   */\r\n          138|   flip = f: a: b: f b a;\r\n             |                ^\r\n          139|\r\n\r\n       … while evaluating call site\r\n\r\n       at /nix/store/vcj90ksw5vk6ia960b73vpncxa9pw826-source/lib/trivial.nix:138:19:\r\n\r\n          137|   */\r\n          138|   flip = f: a: b: f b a;\r\n             |                   ^\r\n          139|\r\n\r\n       … while calling 'imap1'\r\n\r\n       at /nix/store/vcj90ksw5vk6ia960b73vpncxa9pw826-source/lib/lists.nix:117:14:\r\n\r\n          116|   */\r\n          117|   imap1 = f: list: genList (n: f (n + 1) (elemAt list n)) (length list);\r\n             |              ^\r\n          118|\r\n\r\n       … while evaluating call site\r\n\r\n       at /nix/store/vcj90ksw5vk6ia960b73vpncxa9pw826-source/pkgs/build-support/mkshell/default.nix:36:17:\r\n\r\n           35|\r\n           36|   buildInputs = mergeInputs \"buildInputs\";\r\n             |                 ^\r\n           37|   nativeBuildInputs = packages ++ (mergeInputs \"nativeBuildInputs\");\r\n\r\n       … while calling 'mergeInputs'\r\n\r\n       at /nix/store/vcj90ksw5vk6ia960b73vpncxa9pw826-source/pkgs/build-support/mkshell/default.nix:17:17:\r\n\r\n           16| let\r\n           17|   mergeInputs = name:\r\n             |                 ^\r\n           18|     (attrs.${name} or [ ]) ++\r\n\r\n       … while evaluating call site\r\n\r\n       at «none»:0: (source not available)\r\n\r\n       … while calling anonymous lambda\r\n\r\n       at /nix/store/vcj90ksw5vk6ia960b73vpncxa9pw826-source/lib/lists.nix:674:30:\r\n\r\n          673|   */\r\n          674|   subtractLists = e: filter (x: !(elem x e));\r\n             |                              ^\r\n          675|\r\n\r\n       … while evaluating the attribute 'postUnpack' of the derivation 'status-mobile-build-release-android'\r\n\r\n       at /nix/store/vcj90ksw5vk6ia960b73vpncxa9pw826-source/pkgs/stdenv/generic/make-derivation.nix:303:7:\r\n\r\n          302|     // (lib.optionalAttrs (attrs ? name || (attrs ? pname && attrs ? version)) {\r\n          303|       name =\r\n             |       ^\r\n          304|         let\r\n\r\n       … while evaluating the attribute 'configurePhase' of the derivation 'status-mobile-jsbundle'\r\n\r\n       at /nix/store/vcj90ksw5vk6ia960b73vpncxa9pw826-source/pkgs/stdenv/generic/make-derivation.nix:303:7:\r\n\r\n          302|     // (lib.optionalAttrs (attrs ? name || (attrs ? pname && attrs ? version)) {\r\n          303|       name =\r\n             |       ^\r\n          304|         let\r\n\r\n       … while evaluating the attribute 'buildPhase' of the derivation 'status-mobile-node-deps-1.25.0'\r\n\r\n       at /nix/store/vcj90ksw5vk6ia960b73vpncxa9pw826-source/pkgs/stdenv/generic/make-derivation.nix:303:7:\r\n\r\n          302|     // (lib.optionalAttrs (attrs ? name || (attrs ? pname && attrs ? version)) {\r\n          303|       name =\r\n             |       ^\r\n          304|         let\r\n\r\n       … while evaluating call site\r\n\r\n       at /nix/store/vcj90ksw5vk6ia960b73vpncxa9pw826-source/pkgs/development/tools/yarn2nix-moretea/yarn2nix/default.nix:70:20:\r\n\r\n           69|     yarnNix ? mkYarnNix { inherit yarnLock; },\r\n           70|     offlineCache ? importOfflineCache yarnNix,\r\n             |                    ^\r\n           71|     yarnFlags ? [ ],\r\n\r\n       … while calling 'importOfflineCache'\r\n\r\n       at /nix/store/vcj90ksw5vk6ia960b73vpncxa9pw826-source/pkgs/development/tools/yarn2nix-moretea/yarn2nix/default.nix:51:24:\r\n\r\n           50|   # the package source.\r\n           51|   importOfflineCache = yarnNix:\r\n             |                        ^\r\n           52|     let\r\n\r\n       … while evaluating call site\r\n\r\n       at /nix/store/vcj90ksw5vk6ia960b73vpncxa9pw826-source/pkgs/development/tools/yarn2nix-moretea/yarn2nix/default.nix:53:13:\r\n\r\n           52|     let\r\n           53|       pkg = callPackage yarnNix { };\r\n             |             ^\r\n           54|     in\r\n\r\n       … while calling 'callPackageWith'\r\n\r\n       at /nix/store/vcj90ksw5vk6ia960b73vpncxa9pw826-source/lib/customisation.nix:128:35:\r\n\r\n          127|   */\r\n          128|   callPackageWith = autoArgs: fn: args:\r\n             |                                   ^\r\n          129|     let\r\n\r\n       … while evaluating call site\r\n\r\n       at /nix/store/vcj90ksw5vk6ia960b73vpncxa9pw826-source/lib/customisation.nix:141:10:\r\n\r\n          140|         # Filter out arguments that have a default value\r\n          141|         (lib.filterAttrs (name: value: ! value)\r\n             |          ^\r\n          142|         # Filter out arguments that would be passed\r\n\r\n       … while calling 'filterAttrs'\r\n\r\n       at /nix/store/vcj90ksw5vk6ia960b73vpncxa9pw826-source/lib/attrsets.nix:305:5:\r\n\r\n          304|     # The attribute set to filter\r\n          305|     set:\r\n             |     ^\r\n          306|     listToAttrs (concatMap (name: let v = set.${name}; in if pred name v then [(nameValuePair name v)] else []) (attrNames set));\r\n\r\n       … while evaluating call site\r\n\r\n       at /nix/store/vcj90ksw5vk6ia960b73vpncxa9pw826-source/lib/customisation.nix:131:15:\r\n\r\n          130|       f = if lib.isFunction fn then fn else import fn;\r\n          131|       fargs = lib.functionArgs f;\r\n             |               ^\r\n          132|\r\n\r\n       … while calling 'functionArgs'\r\n\r\n       at /nix/store/vcj90ksw5vk6ia960b73vpncxa9pw826-source/lib/trivial.nix:440:18:\r\n\r\n          439|   */\r\n          440|   functionArgs = f:\r\n             |                  ^\r\n          441|     if f ? __functor\r\n\r\n       … while realising the context of path '/nix/store/zz4y26bj54mikfc9kc3265kdfrj4s21l-yarn.nix'\r\n\r\n       at /nix/store/vcj90ksw5vk6ia960b73vpncxa9pw826-source/lib/customisation.nix:130:45:\r\n\r\n          129|     let\r\n          130|       f = if lib.isFunction fn then fn else import fn;\r\n             |                                             ^\r\n          131|       fargs = lib.functionArgs f;\r\n\r\n       error: a 'x86_64-darwin' with features {} is required to build '/nix/store/w4zfrwjgd450m6ap9h5qfiq85jyyd04c-builder.pl.drv', but I am a 'aarch64-darwin' with features {benchmark, big-parallel, nixos-test}\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1763039063/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1763059695",
    "html_url": "https://github.com/status-im/status-mobile/issues/17625#issuecomment-1763059695",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/17625",
    "id": 1763059695,
    "node_id": "IC_kwDOAx4p2c5pFifv",
    "user": {
      "login": "rasom",
      "id": 2364994,
      "node_id": "MDQ6VXNlcjIzNjQ5OTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2364994?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rasom",
      "html_url": "https://github.com/rasom",
      "followers_url": "https://api.github.com/users/rasom/followers",
      "following_url": "https://api.github.com/users/rasom/following{/other_user}",
      "gists_url": "https://api.github.com/users/rasom/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rasom/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rasom/subscriptions",
      "organizations_url": "https://api.github.com/users/rasom/orgs",
      "repos_url": "https://api.github.com/users/rasom/repos",
      "events_url": "https://api.github.com/users/rasom/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rasom/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-10-14T17:34:36Z",
    "updated_at": "2023-10-14T17:34:36Z",
    "author_association": "MEMBER",
    "body": "can it be related to this line?\r\nhttps://github.com/status-im/status-mobile/blob/9078c3b61bd34af3c6be6a5edf861bed6df9d8ca/nix/scripts/shell.sh#L59",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1763059695/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1763060703",
    "html_url": "https://github.com/status-im/status-mobile/issues/17625#issuecomment-1763060703",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/17625",
    "id": 1763060703,
    "node_id": "IC_kwDOAx4p2c5pFivf",
    "user": {
      "login": "rasom",
      "id": 2364994,
      "node_id": "MDQ6VXNlcjIzNjQ5OTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2364994?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rasom",
      "html_url": "https://github.com/rasom",
      "followers_url": "https://api.github.com/users/rasom/followers",
      "following_url": "https://api.github.com/users/rasom/following{/other_user}",
      "gists_url": "https://api.github.com/users/rasom/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rasom/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rasom/subscriptions",
      "organizations_url": "https://api.github.com/users/rasom/orgs",
      "repos_url": "https://api.github.com/users/rasom/repos",
      "events_url": "https://api.github.com/users/rasom/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rasom/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-10-14T17:39:21Z",
    "updated_at": "2023-10-14T17:39:21Z",
    "author_association": "MEMBER",
    "body": "as far as I can tell if I comment out that line I get that `builder.pl` built successfully \r\n```\r\nbuilding '/nix/store/aw21jyjlzhcf4c96f3gq70bfpaz2f2dc-builder.pl.drv'...\r\ncopying path '/nix/store/k171jrcdd64bjrvv12g8z5x74bb2g743-aws-sdk-cpp-1.11.37' from 'https://cache.nixos.org'...\r\ncopying path '/nix/store/wsb2l0f892jfry6inik9kj8swn2bpz00-ruby-3.1.4' from 'https://cache.nixos.org'...\r\ncopying path '/nix/store/y7x02g6mva3zi7y2lql40k2cdybyif4d-perl5.36.0-IO-Socket-SSL-2.068' from 'https://cache.nixos.org'...\r\ncopying path '/nix/store/1dc38w5wn3z19yjy3jal6s4grgv7rzba-nix-2.13.3' from 'https://cache.nixos.org'...\r\ncopying path '/nix/store/2ndhz2c9133gk6hhsa04m8dviqy6ir8r-perl5.36.0-Net-SMTP-SSL-1.04' from 'https://cache.nixos.org'...\r\ncopying path '/nix/store/nih4qpbwvasnz6syqicc8raa2kvfkqwm-clang-11.1.0-lib' from 'https://cache.nixos.org'...\r\ncopying path '/nix/store/ciwyda3802r4a27sb1xmrvv4v4rgdzvd-llvm-11.1.0' from 'https://cache.nixos.org'...\r\ncopying path '/nix/store/rzjqs0ffzicx35a5mynqarhbhkh5hirb-bundler-2.4.13' from 'https://cache.nixos.org'...\r\ncopying path '/nix/store/1lm8rn3v8gcwdmqmvrv35hnxa4766ph2-ruby3.1.4-Ascii85-1.1.0' from 'https://cache.nixos.org'...\r\ncopying path '/nix/store/4ygvmx9xg4z50z48jpkxjwbik0llv74z-ruby3.1.4-coderay-1.1.3' from 'https://cache.nixos.org'...\r\ncopying path '/nix/store/qld6z64irahca0davm5gj726z8h29c1k-ruby3.1.4-asciidoctor-2.0.18' from 'https://cache.nixos.org'...\r\ncopying path '/nix/store/w7fkphf4pghq3x11wskl6aprzx6ira3p-ruby3.1.4-public_suffix-5.0.0' from 'https://cache.nixos.org'...\r\ncopying path '/nix/store/zxc7c4agzv8k7b85q6q3a5kx4pxpbdqs-ruby3.1.4-rouge-4.0.0' from 'https://cache.nixos.org'...\r\ncopying path '/nix/store/z1rm3w4znw3n0d1y57qp0f7a9359p8bg-ruby3.1.4-ruby-rc4-0.1.5' from 'https://cache.nixos.org'...\r\ncopying path '/nix/store/qzn04mzcrjadqiw5irhhy3xpxfilwy6k-ruby3.1.4-treetop-1.6.11' from 'https://cache.nixos.org'...\r\ncopying path '/nix/store/qzgig56ill57xxxf98p9x4bpsmccgadw-git-2.40.1' from 'https://cache.nixos.org'...\r\ncopying path '/nix/store/mfrzb46340qzyzf0laa24y0xg06xsif9-nodejs-18.16.0' from 'https://cache.nixos.org'...\r\ncopying path '/nix/store/063y6fz7cvcxj537j4g4saq127hpml6n-ruby3.1.4-pygments.rb-2.3.0' from 'https://cache.nixos.org'...\r\ncopying path '/nix/store/ffxs8vg5v17ncvvcjad06ng0010nv8z7-ruby3.1.4-pdf-reader-2.10.0' from 'https://cache.nixos.org'...\r\ncopying path '/nix/store/lpjpcdchqdsv8lasksf4akryrchf2d4d-ruby3.1.4-addressable-2.8.1' from 'https://cache.nixos.org'...\r\ncopying path '/nix/store/ci57k1fzjr8yx2s9i25mrldz1vnh8xan-ruby3.1.4-css_parser-1.12.0' from 'https://cache.nixos.org'...\r\ncopying path '/nix/store/4f45nfz1as1807fyyc24pqg0lnwp0h2p-ruby3.1.4-prawn-templates-0.1.2' from 'https://cache.nixos.org'...\r\ncopying path '/nix/store/7kln4zar8cv0h7bxbw20crwai3mha9z7-clang-11.1.0' from 'https://cache.nixos.org'...\r\ncopying path '/nix/store/pjfmblr882zn9ap9hdbhr7a359l9nmcz-ruby3.1.4-prawn-svg-0.32.0' from 'https://cache.nixos.org'...\r\ncopying path '/nix/store/km52x5jkavknq1hj682pjw89qn2ml6kb-ruby3.1.4-asciidoctor-pdf-2.3.2' from 'https://cache.nixos.org'...\r\ncopying path '/nix/store/504j6b0jja97y5w2jfzwpgc4m35b6mm1-cctools-binutils-darwin-973.0.1' from 'https://cache.nixos.org'...\r\ncopying path '/nix/store/k2fals9vsbdpwbzhq28x156w5if3r3mm-cctools-binutils-darwin-wrapper-973.0.1' from 'https://cache.nixos.org'...\r\ncopying path '/nix/store/b0d5xkncz7jn72kkgzsaizpk9170mybf-clang-wrapper-11.1.0' from 'https://cache.nixos.org'...\r\nbuilding '/nix/store/1vvac5qfksxmhl2vrbmdm3zbj6sf6sz6-asciidoctor-2.0.18.drv'...\r\n```\r\n\r\nThen I get this though\r\n```\r\nyarn pack v1.22.19\r\nwarning Skipping preferred cache folder \"/homeless-shelter/Library/Caches/Yarn\" because it is not writable.\r\nwarning Selected the next writable cache folder in the list, will be \"/private/tmp/nix-build-yarn2nix-1.0.0.drv-0/.yarn-cache-301\".\r\nsuccess Wrote tarball to \"/nix/store/xhyp8p0vnx5a3kmr0hdflkbs8z99snr9-yarn2nix-1.0.0/tarballs/yarn2nix-1.0.0.tgz\".\r\n✨  Done in 0.03s.\r\nbuilding '/nix/store/mwd22qzxvmds9cxinfcyizb5b74flzi1-yarn.nix.drv'...\r\nerror: aarch64-darwin not supported for Android SDK. Use: NIXPKGS_SYSTEM_OVERRIDE=x86_64-darwin\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1763060703/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1763271834",
    "html_url": "https://github.com/status-im/status-mobile/issues/17625#issuecomment-1763271834",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/17625",
    "id": 1763271834,
    "node_id": "IC_kwDOAx4p2c5pGWSa",
    "user": {
      "login": "siddarthkay",
      "id": 64726664,
      "node_id": "MDQ6VXNlcjY0NzI2NjY0",
      "avatar_url": "https://avatars.githubusercontent.com/u/64726664?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/siddarthkay",
      "html_url": "https://github.com/siddarthkay",
      "followers_url": "https://api.github.com/users/siddarthkay/followers",
      "following_url": "https://api.github.com/users/siddarthkay/following{/other_user}",
      "gists_url": "https://api.github.com/users/siddarthkay/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/siddarthkay/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/siddarthkay/subscriptions",
      "organizations_url": "https://api.github.com/users/siddarthkay/orgs",
      "repos_url": "https://api.github.com/users/siddarthkay/repos",
      "events_url": "https://api.github.com/users/siddarthkay/events{/privacy}",
      "received_events_url": "https://api.github.com/users/siddarthkay/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-10-15T04:53:45Z",
    "updated_at": "2023-10-15T04:59:01Z",
    "author_association": "CONTRIBUTOR",
    "body": "The android shell worked for me as well after upgrading to OSX14 Sonoma.\r\nI initially assumed that my results could be different from @rasom's because his was a fresh install and I already had nix installed on this mac before I upgraded the OS.\r\nI purged nix from my system and did a couple of restarts and was still able to build the android app on react-native upgrade branch.\r\n\r\nBelow are relevant environment details \r\n\r\n```\r\n❯ sw_vers\r\nProductName:\t\tmacOS\r\nProductVersion:\t\t14.0\r\nBuildVersion:\t\t23A344\r\n\r\n❯ file $(which nix)\r\n/nix/var/nix/profiles/default/bin/nix: Mach-O 64-bit executable arm64\r\n\r\n❯ nix-shell -p nix-info --run \"nix-info -m\"\r\n - system: `\"aarch64-darwin\"`\r\n - host os: `Darwin 23.0.0, macOS 14.0`\r\n - multi-user?: `yes`\r\n - sandbox: `no`\r\n - version: `nix-env (Nix) 2.13.4`\r\n - channels(root): `\"nixpkgs\"`\r\n - nixpkgs: `/nix/var/nix/profiles/per-user/root/channels/nixpkgs`\r\n\r\n❯ uname -a\r\nDarwin Siddarths-MacBook-Pro-2.local 23.0.0 Darwin Kernel Version 23.0.0: Fri Sep 15 14:41:34 PDT 2023; \r\nroot:xnu-10002.1.13~1/RELEASE_ARM64_T8103 arm64\r\n\r\n```\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1763271834/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1763272354",
    "html_url": "https://github.com/status-im/status-mobile/issues/17625#issuecomment-1763272354",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/17625",
    "id": 1763272354,
    "node_id": "IC_kwDOAx4p2c5pGWai",
    "user": {
      "login": "siddarthkay",
      "id": 64726664,
      "node_id": "MDQ6VXNlcjY0NzI2NjY0",
      "avatar_url": "https://avatars.githubusercontent.com/u/64726664?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/siddarthkay",
      "html_url": "https://github.com/siddarthkay",
      "followers_url": "https://api.github.com/users/siddarthkay/followers",
      "following_url": "https://api.github.com/users/siddarthkay/following{/other_user}",
      "gists_url": "https://api.github.com/users/siddarthkay/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/siddarthkay/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/siddarthkay/subscriptions",
      "organizations_url": "https://api.github.com/users/siddarthkay/orgs",
      "repos_url": "https://api.github.com/users/siddarthkay/repos",
      "events_url": "https://api.github.com/users/siddarthkay/events{/privacy}",
      "received_events_url": "https://api.github.com/users/siddarthkay/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-10-15T04:58:08Z",
    "updated_at": "2023-10-15T04:58:08Z",
    "author_association": "CONTRIBUTOR",
    "body": "> can it be related to this line?\r\n> \r\n> https://github.com/status-im/status-mobile/blob/9078c3b61bd34af3c6be6a5edf861bed6df9d8ca/nix/scripts/shell.sh#L59\r\n\r\nthat was introduced by @yakimant so that devs could get rid of installing nix via rosetta terminal to build android on macos \r\nref : https://github.com/status-im/status-mobile/pull/16237\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1763272354/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1763301341",
    "html_url": "https://github.com/status-im/status-mobile/issues/17625#issuecomment-1763301341",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/17625",
    "id": 1763301341,
    "node_id": "IC_kwDOAx4p2c5pGdfd",
    "user": {
      "login": "rasom",
      "id": 2364994,
      "node_id": "MDQ6VXNlcjIzNjQ5OTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2364994?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rasom",
      "html_url": "https://github.com/rasom",
      "followers_url": "https://api.github.com/users/rasom/followers",
      "following_url": "https://api.github.com/users/rasom/following{/other_user}",
      "gists_url": "https://api.github.com/users/rasom/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rasom/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rasom/subscriptions",
      "organizations_url": "https://api.github.com/users/rasom/orgs",
      "repos_url": "https://api.github.com/users/rasom/repos",
      "events_url": "https://api.github.com/users/rasom/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rasom/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-10-15T07:13:42Z",
    "updated_at": "2023-10-15T07:13:42Z",
    "author_association": "MEMBER",
    "body": "@siddarthkay yep I read it yesterday, doesn't mean it is unrelated. Because as I mentioned that `build.pl.drw` gets built with no error if this is not applied. I also don't know whether this has ever been tested on a fresh new device with no previous setup of rosetta and x86_64 stuff on it, which might have had some side effects on results and which might be the reason that in my case it fails. Just guessing",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1763301341/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1763301765",
    "html_url": "https://github.com/status-im/status-mobile/issues/17625#issuecomment-1763301765",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/17625",
    "id": 1763301765,
    "node_id": "IC_kwDOAx4p2c5pGdmF",
    "user": {
      "login": "rasom",
      "id": 2364994,
      "node_id": "MDQ6VXNlcjIzNjQ5OTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2364994?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rasom",
      "html_url": "https://github.com/rasom",
      "followers_url": "https://api.github.com/users/rasom/followers",
      "following_url": "https://api.github.com/users/rasom/following{/other_user}",
      "gists_url": "https://api.github.com/users/rasom/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rasom/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rasom/subscriptions",
      "organizations_url": "https://api.github.com/users/rasom/orgs",
      "repos_url": "https://api.github.com/users/rasom/repos",
      "events_url": "https://api.github.com/users/rasom/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rasom/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-10-15T07:15:20Z",
    "updated_at": "2023-10-15T07:15:20Z",
    "author_association": "MEMBER",
    "body": "@siddarthkay \r\n> I initially assumed that my results could be different from @rasom's because his was a fresh install and I already had nix installed on this mac before I upgraded the OS.\r\n\r\nstill purging nix doesn't count as a fresh install, reset of macOS would count :D So we have different env anyway I guess ",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1763301765/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1763348217",
    "html_url": "https://github.com/status-im/status-mobile/issues/17625#issuecomment-1763348217",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/17625",
    "id": 1763348217,
    "node_id": "IC_kwDOAx4p2c5pGo75",
    "user": {
      "login": "rasom",
      "id": 2364994,
      "node_id": "MDQ6VXNlcjIzNjQ5OTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2364994?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rasom",
      "html_url": "https://github.com/rasom",
      "followers_url": "https://api.github.com/users/rasom/followers",
      "following_url": "https://api.github.com/users/rasom/following{/other_user}",
      "gists_url": "https://api.github.com/users/rasom/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rasom/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rasom/subscriptions",
      "organizations_url": "https://api.github.com/users/rasom/orgs",
      "repos_url": "https://api.github.com/users/rasom/repos",
      "events_url": "https://api.github.com/users/rasom/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rasom/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-10-15T10:33:59Z",
    "updated_at": "2023-10-15T10:33:59Z",
    "author_association": "MEMBER",
    "body": "@yakimant @jakubgs \r\n\r\nSo I tried to run everything under Rosetta. It worked. Then I removed x86_64 brew and the rest of it, removed nix, switched back to arm and now `make shell TARGET=android` works there as well.\r\n\r\nIt is not related to Xcode 15, nor to macOS 14. The thing is that if you are trying to set up everything under arm without running it under rosetta prior to that it won't work. But some leftovers of x86_64 stuff \"keep it alive\" even if you do not run shell under rosetta anymore. \r\n\r\nIt seems like we still have an issue (that depends on POV) which is it that setup is not going to work without rosetta, but well... it is relatively easy to bypass.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1763348217/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1764081712",
    "html_url": "https://github.com/status-im/status-mobile/issues/17625#issuecomment-1764081712",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/17625",
    "id": 1764081712,
    "node_id": "IC_kwDOAx4p2c5pJcAw",
    "user": {
      "login": "yakimant",
      "id": 1529006,
      "node_id": "MDQ6VXNlcjE1MjkwMDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1529006?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yakimant",
      "html_url": "https://github.com/yakimant",
      "followers_url": "https://api.github.com/users/yakimant/followers",
      "following_url": "https://api.github.com/users/yakimant/following{/other_user}",
      "gists_url": "https://api.github.com/users/yakimant/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yakimant/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yakimant/subscriptions",
      "organizations_url": "https://api.github.com/users/yakimant/orgs",
      "repos_url": "https://api.github.com/users/yakimant/repos",
      "events_url": "https://api.github.com/users/yakimant/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yakimant/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-10-16T09:29:46Z",
    "updated_at": "2023-10-16T09:29:46Z",
    "author_association": "MEMBER",
    "body": "As I understand the issue is one of the following:\r\n1. Rosetta run leftowers makes pure arm run failing. Need a cleanup solution.\r\n2. Arm run require prior Rosetta arm. This would be more tricky to fix.\r\n\r\nIn any case we need steps to reproduce.\r\n\r\nI suggest one of the following:\r\n1. @rasom, reproduces the environment with the issue\r\n2. we don't do anyghing until we see more cases\r\n\r\nI tried to reproduce the issue with nix purge and reinstall and could not.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1764081712/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1764163420",
    "html_url": "https://github.com/status-im/status-mobile/issues/17625#issuecomment-1764163420",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/17625",
    "id": 1764163420,
    "node_id": "IC_kwDOAx4p2c5pJv9c",
    "user": {
      "login": "rasom",
      "id": 2364994,
      "node_id": "MDQ6VXNlcjIzNjQ5OTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2364994?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rasom",
      "html_url": "https://github.com/rasom",
      "followers_url": "https://api.github.com/users/rasom/followers",
      "following_url": "https://api.github.com/users/rasom/following{/other_user}",
      "gists_url": "https://api.github.com/users/rasom/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rasom/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rasom/subscriptions",
      "organizations_url": "https://api.github.com/users/rasom/orgs",
      "repos_url": "https://api.github.com/users/rasom/repos",
      "events_url": "https://api.github.com/users/rasom/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rasom/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-10-16T10:19:28Z",
    "updated_at": "2023-10-16T10:50:44Z",
    "author_association": "MEMBER",
    "body": "@yakimant \r\n> Rosetta run leftowers makes pure arm run failing. Need a cleanup solution.\r\n\r\nNo, on contrary: rosetta leftovers actually make it work.\r\n\r\n> Arm run require prior Rosetta arm. This would be more tricky to fix.\r\n\r\narm run require prior Rosetta run. Yes, that's the case, at least it looks so.\r\n\r\n> @rasom, reproduces the environment with the issue\r\n\r\nI reproduced it multiple times. So I did not try to remove rosetta (it is not recommended and apparently tricky), what I did was resetting macOS on device (that effectively removes rosetta). The steps after reset were mentioned above\r\n\r\n0. clean Mac, macOS 14\r\n1. install Xcode 15\r\n2. install brew\r\n3. restart (just in case because on previous attempts there were some issues during nix installation which according to some 4. gh issues are fixed with restart `¯\\_(ツ)_/¯`, and they are)\r\n5. `brew install git`\r\n6. `brew install coreutils`\r\n7. clone status-mobile repo\r\n8. `make shell TARGET=android`\r\n\r\nI bet though macOS/Xcode versions here are irrelevant, but anyway. \r\n\r\n> I tried to reproduce the issue with nix purge and reinstall and could not.\r\n\r\nbecause it is unrelated to nix installation and it wouldn't help to reproduce it. I also tried this since I got it working after running `make shell TARGET=android` under rosetta, but it wouldn't revert state to point at which build fails. Again likely because rosetta is up and running already and is not affected by purging nix. \r\n",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1764163420/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1764206067",
    "html_url": "https://github.com/status-im/status-mobile/issues/17625#issuecomment-1764206067",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/17625",
    "id": 1764206067,
    "node_id": "IC_kwDOAx4p2c5pJ6Xz",
    "user": {
      "login": "rasom",
      "id": 2364994,
      "node_id": "MDQ6VXNlcjIzNjQ5OTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2364994?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rasom",
      "html_url": "https://github.com/rasom",
      "followers_url": "https://api.github.com/users/rasom/followers",
      "following_url": "https://api.github.com/users/rasom/following{/other_user}",
      "gists_url": "https://api.github.com/users/rasom/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rasom/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rasom/subscriptions",
      "organizations_url": "https://api.github.com/users/rasom/orgs",
      "repos_url": "https://api.github.com/users/rasom/repos",
      "events_url": "https://api.github.com/users/rasom/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rasom/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-10-16T10:47:26Z",
    "updated_at": "2023-10-16T10:47:26Z",
    "author_association": "MEMBER",
    "body": "@yakimant \r\nspeaking of possible workaround: it is obviously to run `make shell TARGET=android` (or well any other target from that list `if [[ \"${TARGET}\" =~ ^(android-sdk|android|gradle|keytool|status-go)$ ]]; then`) and then it will work from arm shell as well. ",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1764206067/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1764418722",
    "html_url": "https://github.com/status-im/status-mobile/issues/17625#issuecomment-1764418722",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/17625",
    "id": 1764418722,
    "node_id": "IC_kwDOAx4p2c5pKuSi",
    "user": {
      "login": "yakimant",
      "id": 1529006,
      "node_id": "MDQ6VXNlcjE1MjkwMDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1529006?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yakimant",
      "html_url": "https://github.com/yakimant",
      "followers_url": "https://api.github.com/users/yakimant/followers",
      "following_url": "https://api.github.com/users/yakimant/following{/other_user}",
      "gists_url": "https://api.github.com/users/yakimant/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yakimant/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yakimant/subscriptions",
      "organizations_url": "https://api.github.com/users/yakimant/orgs",
      "repos_url": "https://api.github.com/users/yakimant/repos",
      "events_url": "https://api.github.com/users/yakimant/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yakimant/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-10-16T12:50:22Z",
    "updated_at": "2023-10-16T12:50:22Z",
    "author_association": "MEMBER",
    "body": "> I also tried this since I got it working after running make shell TARGET=android under rosetta, but it wouldn't revert state to point at which build fails.\r\n\r\nSo in order to reproduce you need a clean macOS device?\r\nYou can't get back to failing state, when everything works?",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1764418722/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1764433217",
    "html_url": "https://github.com/status-im/status-mobile/issues/17625#issuecomment-1764433217",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/17625",
    "id": 1764433217,
    "node_id": "IC_kwDOAx4p2c5pKx1B",
    "user": {
      "login": "rasom",
      "id": 2364994,
      "node_id": "MDQ6VXNlcjIzNjQ5OTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2364994?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rasom",
      "html_url": "https://github.com/rasom",
      "followers_url": "https://api.github.com/users/rasom/followers",
      "following_url": "https://api.github.com/users/rasom/following{/other_user}",
      "gists_url": "https://api.github.com/users/rasom/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rasom/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rasom/subscriptions",
      "organizations_url": "https://api.github.com/users/rasom/orgs",
      "repos_url": "https://api.github.com/users/rasom/repos",
      "events_url": "https://api.github.com/users/rasom/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rasom/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-10-16T12:58:41Z",
    "updated_at": "2023-10-16T12:58:41Z",
    "author_association": "MEMBER",
    "body": "> You can't get back to failing state, when everything works?\r\n\r\nLikely removing rosetta would help but I didn't try that as there is no clear way to do this and this is not recommended. So almost likely only those who set up a new machine might be affected, otherwise it is difficult to get there. ",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1764433217/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
