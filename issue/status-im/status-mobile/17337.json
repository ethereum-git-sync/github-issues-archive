{
  "url": "https://api.github.com/repos/status-im/status-mobile/issues/17337",
  "repository_url": "https://api.github.com/repos/status-im/status-mobile",
  "labels_url": "https://api.github.com/repos/status-im/status-mobile/issues/17337/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-mobile/issues/17337/comments",
  "events_url": "https://api.github.com/repos/status-im/status-mobile/issues/17337/events",
  "html_url": "https://github.com/status-im/status-mobile/issues/17337",
  "id": 1903244791,
  "node_id": "I_kwDOAx4p2c5xcTX3",
  "number": 17337,
  "title": "The communities sorted randomly on the list of communities page.",
  "user": {
    "login": "VolodLytvynenko",
    "id": 52490791,
    "node_id": "MDQ6VXNlcjUyNDkwNzkx",
    "avatar_url": "https://avatars.githubusercontent.com/u/52490791?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/VolodLytvynenko",
    "html_url": "https://github.com/VolodLytvynenko",
    "followers_url": "https://api.github.com/users/VolodLytvynenko/followers",
    "following_url": "https://api.github.com/users/VolodLytvynenko/following{/other_user}",
    "gists_url": "https://api.github.com/users/VolodLytvynenko/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/VolodLytvynenko/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/VolodLytvynenko/subscriptions",
    "organizations_url": "https://api.github.com/users/VolodLytvynenko/orgs",
    "repos_url": "https://api.github.com/users/VolodLytvynenko/repos",
    "events_url": "https://api.github.com/users/VolodLytvynenko/events{/privacy}",
    "received_events_url": "https://api.github.com/users/VolodLytvynenko/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 517247123,
      "node_id": "MDU6TGFiZWw1MTcyNDcxMjM=",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/medium-priority",
      "name": "medium-priority",
      "color": "c5c5c5",
      "default": false,
      "description": null
    },
    {
      "id": 3990911030,
      "node_id": "LA_kwDOAx4p2c7t4Hg2",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/E:Mobile%20Bug%20MVP",
      "name": "E:Mobile Bug MVP",
      "color": "B60205",
      "default": false,
      "description": ""
    },
    {
      "id": 3990935220,
      "node_id": "LA_kwDOAx4p2c7t4Na0",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/E:Mobile%20Communities%20MVP",
      "name": "E:Mobile Communities MVP",
      "color": "0992A8",
      "default": false,
      "description": ""
    },
    {
      "id": 6104979722,
      "node_id": "LA_kwDOAx4p2c8AAAABa-KZCg",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/E:Mobile%20Release%201.27",
      "name": "E:Mobile Release 1.27",
      "color": "140C7F",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": {
    "login": "codemaster115",
    "id": 39961806,
    "node_id": "MDQ6VXNlcjM5OTYxODA2",
    "avatar_url": "https://avatars.githubusercontent.com/u/39961806?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/codemaster115",
    "html_url": "https://github.com/codemaster115",
    "followers_url": "https://api.github.com/users/codemaster115/followers",
    "following_url": "https://api.github.com/users/codemaster115/following{/other_user}",
    "gists_url": "https://api.github.com/users/codemaster115/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/codemaster115/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/codemaster115/subscriptions",
    "organizations_url": "https://api.github.com/users/codemaster115/orgs",
    "repos_url": "https://api.github.com/users/codemaster115/repos",
    "events_url": "https://api.github.com/users/codemaster115/events{/privacy}",
    "received_events_url": "https://api.github.com/users/codemaster115/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "codemaster115",
      "id": 39961806,
      "node_id": "MDQ6VXNlcjM5OTYxODA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/39961806?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/codemaster115",
      "html_url": "https://github.com/codemaster115",
      "followers_url": "https://api.github.com/users/codemaster115/followers",
      "following_url": "https://api.github.com/users/codemaster115/following{/other_user}",
      "gists_url": "https://api.github.com/users/codemaster115/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/codemaster115/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/codemaster115/subscriptions",
      "organizations_url": "https://api.github.com/users/codemaster115/orgs",
      "repos_url": "https://api.github.com/users/codemaster115/repos",
      "events_url": "https://api.github.com/users/codemaster115/events{/privacy}",
      "received_events_url": "https://api.github.com/users/codemaster115/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": {
    "url": "https://api.github.com/repos/status-im/status-mobile/milestones/70",
    "html_url": "https://github.com/status-im/status-mobile/milestone/70",
    "labels_url": "https://api.github.com/repos/status-im/status-mobile/milestones/70/labels",
    "id": 9699572,
    "node_id": "MI_kwDOAx4p2c4AlAD0",
    "number": 70,
    "title": "1.27.0 - Alpha",
    "description": "### This release will be used for wide internal dogfooding \r\n\r\nMobile dev team priorities In priority order:\r\n\r\n**1. Finish anything that wasn't completed in the previous 1.26 cycle**\r\n\r\n**2. Select which accounts to share with each Community's control node**\r\n- Designs should be ready for review and dev feedback by 18th September\r\n\r\n**3. Settings home screen**\r\n- the settings home screen only\r\n\r\n**4. Fix bugs, both functional and UX fit-and-finish defects.**  \r\n\r\n- specifically focus on bugs related to the Communities functionality, when a community is utilizing all the community admin functionality available in Status Desktop\r\n\r\n- any remaining UX quality defects\r\n\r\n- ensure all community token gating related functionality is working\r\n\r\n\r\n\r\n",
    "creator": {
      "login": "John-44",
      "id": 22846356,
      "node_id": "MDQ6VXNlcjIyODQ2MzU2",
      "avatar_url": "https://avatars.githubusercontent.com/u/22846356?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/John-44",
      "html_url": "https://github.com/John-44",
      "followers_url": "https://api.github.com/users/John-44/followers",
      "following_url": "https://api.github.com/users/John-44/following{/other_user}",
      "gists_url": "https://api.github.com/users/John-44/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/John-44/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/John-44/subscriptions",
      "organizations_url": "https://api.github.com/users/John-44/orgs",
      "repos_url": "https://api.github.com/users/John-44/repos",
      "events_url": "https://api.github.com/users/John-44/events{/privacy}",
      "received_events_url": "https://api.github.com/users/John-44/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 91,
    "closed_issues": 52,
    "state": "open",
    "created_at": "2023-07-26T12:50:42Z",
    "updated_at": "2023-12-12T12:46:03Z",
    "due_on": "2024-01-31T08:00:00Z",
    "closed_at": null
  },
  "comments": 5,
  "created_at": "2023-09-19T15:29:33Z",
  "updated_at": "2023-12-12T12:45:31Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "### Steps:\r\n1. User_A: Creates at least 3-4 communities -> share them to User_B\r\n2. User_B: Joins them\r\n3. User_B: Check the list of communities in the 'joined' tab\r\n\r\n### Actual result:\r\nThe communities are sorted randomly\r\n![image](https://github.com/status-im/status-mobile/assets/52490791/9527c03e-6132-4b99-8705-ed8c11b68f08)\r\n\r\n### Expected result:\r\n- The communities are sorted in order of joined\r\nhttps://discord.com/channels/624634427930312714/842696205213368331/1151526646675947651\r\n\r\n- In the 'pending' tab, the communities should be sorted in the order they were requested.\r\n- For 'opened' communities, they should be sorted based on the order they were shared.",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/17337/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-mobile/issues/17337/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1748661631",
    "html_url": "https://github.com/status-im/status-mobile/issues/17337#issuecomment-1748661631",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/17337",
    "id": 1748661631,
    "node_id": "IC_kwDOAx4p2c5oOnV_",
    "user": {
      "login": "clauxx",
      "id": 21865759,
      "node_id": "MDQ6VXNlcjIxODY1NzU5",
      "avatar_url": "https://avatars.githubusercontent.com/u/21865759?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/clauxx",
      "html_url": "https://github.com/clauxx",
      "followers_url": "https://api.github.com/users/clauxx/followers",
      "following_url": "https://api.github.com/users/clauxx/following{/other_user}",
      "gists_url": "https://api.github.com/users/clauxx/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/clauxx/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/clauxx/subscriptions",
      "organizations_url": "https://api.github.com/users/clauxx/orgs",
      "repos_url": "https://api.github.com/users/clauxx/repos",
      "events_url": "https://api.github.com/users/clauxx/events{/privacy}",
      "received_events_url": "https://api.github.com/users/clauxx/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-10-05T11:01:16Z",
    "updated_at": "2023-10-05T11:01:16Z",
    "author_association": "MEMBER",
    "body": "@VolodLytvynenko @cammellos one thing I noticed is that the \"opened\" tab in communities acts more like like an \"invited\" tab, because it shows communities that were shared with you, even if you didn't open them. Do we want to keep it this way or rather track communities that the user explicitly opened? \r\n\r\nGiven that the user can also discover communities, I think the \"opened\" tab should only show the communities that the user actually opened, in the order by which they were opened and not when they were shared. I guess this question would be relevant to the design team as well.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1748661631/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1750263344",
    "html_url": "https://github.com/status-im/status-mobile/issues/17337#issuecomment-1750263344",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/17337",
    "id": 1750263344,
    "node_id": "IC_kwDOAx4p2c5oUuYw",
    "user": {
      "login": "VolodLytvynenko",
      "id": 52490791,
      "node_id": "MDQ6VXNlcjUyNDkwNzkx",
      "avatar_url": "https://avatars.githubusercontent.com/u/52490791?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/VolodLytvynenko",
      "html_url": "https://github.com/VolodLytvynenko",
      "followers_url": "https://api.github.com/users/VolodLytvynenko/followers",
      "following_url": "https://api.github.com/users/VolodLytvynenko/following{/other_user}",
      "gists_url": "https://api.github.com/users/VolodLytvynenko/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/VolodLytvynenko/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/VolodLytvynenko/subscriptions",
      "organizations_url": "https://api.github.com/users/VolodLytvynenko/orgs",
      "repos_url": "https://api.github.com/users/VolodLytvynenko/repos",
      "events_url": "https://api.github.com/users/VolodLytvynenko/events{/privacy}",
      "received_events_url": "https://api.github.com/users/VolodLytvynenko/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-10-06T09:19:04Z",
    "updated_at": "2023-10-06T09:19:04Z",
    "author_association": "NONE",
    "body": "> @VolodLytvynenko @cammellos one thing I noticed is that the \"opened\" tab in communities acts more like like an \"invited\" tab, because it shows communities that were shared with you, even if you didn't open them. Do we want to keep it this way or rather track communities that the user explicitly opened?\r\n> \r\n> Given that the user can also discover communities, I think the \"opened\" tab should only show the communities that the user actually opened, in the order by which they were opened and not when they were shared. I guess this question would be relevant to the design team as well.\r\n\r\n@clauxx Thank you for your question. Yep, have approval from the design team. The recently opened community  should be at the top of 'opened' tab \r\nhttps://discord.com/channels/624634427930312714/842696205213368331/1159774794875686954\r\n![image](https://github.com/status-im/status-mobile/assets/52490791/f56ddde9-8213-4938-ac88-307aa55fe686)\r\n ",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1750263344/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1842839090",
    "html_url": "https://github.com/status-im/status-mobile/issues/17337#issuecomment-1842839090",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/17337",
    "id": 1842839090,
    "node_id": "IC_kwDOAx4p2c5t134y",
    "user": {
      "login": "cammellos",
      "id": 1017008,
      "node_id": "MDQ6VXNlcjEwMTcwMDg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1017008?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cammellos",
      "html_url": "https://github.com/cammellos",
      "followers_url": "https://api.github.com/users/cammellos/followers",
      "following_url": "https://api.github.com/users/cammellos/following{/other_user}",
      "gists_url": "https://api.github.com/users/cammellos/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cammellos/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cammellos/subscriptions",
      "organizations_url": "https://api.github.com/users/cammellos/orgs",
      "repos_url": "https://api.github.com/users/cammellos/repos",
      "events_url": "https://api.github.com/users/cammellos/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cammellos/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-12-06T13:03:17Z",
    "updated_at": "2023-12-06T13:03:17Z",
    "author_association": "MEMBER",
    "body": "```\n`joined-at`\n`requested-at`\n`spectated-at`\n```\ncan be used for sorting",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1842839090/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1851781348",
    "html_url": "https://github.com/status-im/status-mobile/issues/17337#issuecomment-1851781348",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/17337",
    "id": 1851781348,
    "node_id": "IC_kwDOAx4p2c5uX_Dk",
    "user": {
      "login": "Samyoul",
      "id": 5702426,
      "node_id": "MDQ6VXNlcjU3MDI0MjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5702426?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Samyoul",
      "html_url": "https://github.com/Samyoul",
      "followers_url": "https://api.github.com/users/Samyoul/followers",
      "following_url": "https://api.github.com/users/Samyoul/following{/other_user}",
      "gists_url": "https://api.github.com/users/Samyoul/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Samyoul/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Samyoul/subscriptions",
      "organizations_url": "https://api.github.com/users/Samyoul/orgs",
      "repos_url": "https://api.github.com/users/Samyoul/repos",
      "events_url": "https://api.github.com/users/Samyoul/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Samyoul/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-12-12T10:41:11Z",
    "updated_at": "2023-12-12T10:45:40Z",
    "author_association": "MEMBER",
    "body": "@cammellos / @VolodLytvynenko I notice that we have 2 states that we need to track:\r\n\r\nStates for when a user spectates, requests to join and joins a community:\r\n\r\n```\r\n`joined-at`\r\n`requested-at`\r\n`spectated-at`\r\n```\r\n\r\nBut according to Alisher's message we also just order opened pages:\r\n\r\n![image](https://github.com/status-im/status-mobile/assets/5702426/5418573c-0780-4fa9-8ef5-0659bd0a4c6a)\r\n\r\nSo does `spectated_at` mean the same as `recently opened`? And if so do we also need to add an API endpoint to update the `spectated_at` whenever a community has been visited to maintain the order of communities by the last visited time?\r\n\r\nOr does `spectated_at` mean that we order opened communities in the order we visited them (only setting the `spectated_at` value once)?\r\n\r\nOr does `opened` and `spectated` mean 2 different things? Is `spectate` a special type of joining state, and opened applies to all communities?",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1851781348/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1851952622",
    "html_url": "https://github.com/status-im/status-mobile/issues/17337#issuecomment-1851952622",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/17337",
    "id": 1851952622,
    "node_id": "IC_kwDOAx4p2c5uYo3u",
    "user": {
      "login": "Samyoul",
      "id": 5702426,
      "node_id": "MDQ6VXNlcjU3MDI0MjY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5702426?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Samyoul",
      "html_url": "https://github.com/Samyoul",
      "followers_url": "https://api.github.com/users/Samyoul/followers",
      "following_url": "https://api.github.com/users/Samyoul/following{/other_user}",
      "gists_url": "https://api.github.com/users/Samyoul/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Samyoul/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Samyoul/subscriptions",
      "organizations_url": "https://api.github.com/users/Samyoul/orgs",
      "repos_url": "https://api.github.com/users/Samyoul/repos",
      "events_url": "https://api.github.com/users/Samyoul/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Samyoul/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-12-12T12:35:07Z",
    "updated_at": "2023-12-12T12:45:31Z",
    "author_association": "MEMBER",
    "body": "**Answer:**\r\n\r\nWe will need to track when communities were last opened to maintain the order of communities by the last visited time.\r\n\r\nhttps://discord.com/channels/624634427930312714/842696205213368331/1184084706577354814\r\n<img width=\"878\" alt=\"Screenshot 2023-12-12 at 12 26 19\" src=\"https://github.com/status-im/status-mobile/assets/5702426/ece5d26b-8d43-498f-947f-b213109d7dc7\">\r\n<img width=\"891\" alt=\"Screenshot 2023-12-12 at 12 26 59\" src=\"https://github.com/status-im/status-mobile/assets/5702426/28442d02-3030-4168-a6e5-980e7e9614ed\">\r\n\r\n<details>\r\n<summary>Full conversation</summary>\r\n<pre>\r\nSamuel — Today at 10:49\r\nWhen should a community be considered \"opened\"?\r\nWhen should a community be considered \"spectated\"?\r\n\r\n---\r\n\r\nAlisher — Today at 11:37\r\nFrom UX POV it should work like this.\r\n\r\nCommunity goes to \"Joined\" tab  if :\r\nUser is a member of community.\r\nList sorted by order of joining. We'll add manual reordering post-MVP\r\n\r\nCommunity goes to \"Pending\" tab if:\r\nUser has pending request to join.\r\nList sorted by order of requests. Community with recent request is on top.\r\n\r\nCommunity goes to \"Opened\" tab  if : \r\nNot a member of community opened a community page / channel\r\nUser was kicked from community.\r\nRequest to join is timed out.\r\nList sorted by order of opening. Recent opened on top.\r\n\r\n@Samuel I don't know what is spectated-at \r\n\r\nCC @Pedro\r\n\r\n---\r\n\r\nSamuel — Today at 11:40\r\nThank you. Ok spectated must be an internal status-go state that presumably tracks communities that a user is not a member of.\r\nList sorted by order of opening. Recent opened on top.\r\n@Alisher do you know if this changes every time a user visits a community? Example:\r\n\r\nStarting state\r\nOpened\r\ncommunity B\r\ncommunity A\r\n\r\nOpens another community\r\nOpened\r\ncommunity C\r\ncommunity B\r\ncommunity A\r\n\r\nOpens a community previously opened (community A)\r\nOpened\r\ncommunity A\r\ncommunity C\r\ncommunity B\r\n\r\n---\r\n\r\nAlisher — Today at 11:44\r\nI will expect this behavior, but I don't aware of implementation details.\r\n\r\n---\r\n\r\nSamuel — Today at 11:45\r\nThank you. That's fine, I can handle the  implementation details.\r\n</pre>\r\n</details>",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1851952622/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
