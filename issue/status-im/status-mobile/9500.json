{
  "url": "https://api.github.com/repos/status-im/status-mobile/issues/9500",
  "repository_url": "https://api.github.com/repos/status-im/status-mobile",
  "labels_url": "https://api.github.com/repos/status-im/status-mobile/issues/9500/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-mobile/issues/9500/comments",
  "events_url": "https://api.github.com/repos/status-im/status-mobile/issues/9500/events",
  "html_url": "https://github.com/status-im/status-mobile/issues/9500",
  "id": 525769582,
  "node_id": "MDU6SXNzdWU1MjU3Njk1ODI=",
  "number": 9500,
  "title": "Upgrade nixpkgs to include Go 1.13",
  "user": {
    "login": "jakubgs",
    "id": 2212681,
    "node_id": "MDQ6VXNlcjIyMTI2ODE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jakubgs",
    "html_url": "https://github.com/jakubgs",
    "followers_url": "https://api.github.com/users/jakubgs/followers",
    "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
    "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
    "organizations_url": "https://api.github.com/users/jakubgs/orgs",
    "repos_url": "https://api.github.com/users/jakubgs/repos",
    "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jakubgs/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 883447811,
      "node_id": "MDU6TGFiZWw4ODM0NDc4MTE=",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/status-go",
      "name": "status-go",
      "color": "59bee0",
      "default": false,
      "description": ""
    },
    {
      "id": 1311328202,
      "node_id": "MDU6TGFiZWwxMzExMzI4MjAy",
      "url": "https://api.github.com/repos/status-im/status-mobile/labels/nix",
      "name": "nix",
      "color": "0052cc",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 13,
  "created_at": "2019-11-20T12:21:15Z",
  "updated_at": "2020-04-29T20:12:13Z",
  "closed_at": "2019-11-26T15:31:01Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "I was requested by @cammellos to upgrade the current Go version we are using:\nhttps://github.com/status-im/status-react/blob/5ecc7590d98fafd834a065dad82c01649b47c973/nix/derivation.nix#L20\nBut in order to do that I might have to do a full upgrade of our [`nixpkgs`](https://github.com/status-im/nixpkgs) fork.\n\nPrevious Go upgrade for reference: https://github.com/status-im/nixpkgs/commit/35e0ad9f6d83f431fe5a156793e44f095b8039ab",
  "closed_by": {
    "login": "jakubgs",
    "id": 2212681,
    "node_id": "MDQ6VXNlcjIyMTI2ODE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jakubgs",
    "html_url": "https://github.com/jakubgs",
    "followers_url": "https://api.github.com/users/jakubgs/followers",
    "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
    "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
    "organizations_url": "https://api.github.com/users/jakubgs/orgs",
    "repos_url": "https://api.github.com/users/jakubgs/repos",
    "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jakubgs/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/9500/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-mobile/issues/9500/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/556038788",
    "html_url": "https://github.com/status-im/status-mobile/issues/9500#issuecomment-556038788",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/9500",
    "id": 556038788,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1NjAzODc4OA==",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-11-20T14:56:04Z",
    "updated_at": "2019-11-20T14:56:04Z",
    "author_association": "MEMBER",
    "body": "It appears that the main issue with upgrading `nixpkgs` is that our `status-mods` branch in [our fork](https://github.com/status-im/nixpkgs/tree/status-mods) contains quite a few custom fixes to make old QT version work for MacOS desktop builds:\r\n\r\n* https://github.com/status-im/nixpkgs/commit/f9763e572651199117f4444de0df6783068fecde\r\n* https://github.com/status-im/nixpkgs/commit/e2ab4ad56aed99eca93cb5a45c4c8cedbba5e536\r\n* https://github.com/status-im/nixpkgs/commit/f23f949d533b513b5a991873cb841aefe93c8bd2\r\n* https://github.com/status-im/nixpkgs/commit/06e0997892cae4ffafed8e79cfdf422c10773391\r\n\r\nThose fixes might be quite a pain to port to an updated `nixpkgs` branch. Considering currently the work on the desktop app has been suspended it might make more sens to just disable desktop builds in CI and go back to fixing this when we resume work on desktop.\r\n\r\n@vkjr what do you think about this?",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/556038788/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/556039283",
    "html_url": "https://github.com/status-im/status-mobile/issues/9500#issuecomment-556039283",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/9500",
    "id": 556039283,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1NjAzOTI4Mw==",
    "user": {
      "login": "vkjr",
      "id": 5786310,
      "node_id": "MDQ6VXNlcjU3ODYzMTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5786310?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vkjr",
      "html_url": "https://github.com/vkjr",
      "followers_url": "https://api.github.com/users/vkjr/followers",
      "following_url": "https://api.github.com/users/vkjr/following{/other_user}",
      "gists_url": "https://api.github.com/users/vkjr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vkjr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vkjr/subscriptions",
      "organizations_url": "https://api.github.com/users/vkjr/orgs",
      "repos_url": "https://api.github.com/users/vkjr/repos",
      "events_url": "https://api.github.com/users/vkjr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vkjr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-11-20T14:57:13Z",
    "updated_at": "2019-11-20T14:57:13Z",
    "author_association": "CONTRIBUTOR",
    "body": "@vkjr, totally fine with that!",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/556039283/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/557122420",
    "html_url": "https://github.com/status-im/status-mobile/issues/9500#issuecomment-557122420",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/9500",
    "id": 557122420,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1NzEyMjQyMA==",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-11-21T14:59:23Z",
    "updated_at": "2019-11-21T14:59:23Z",
    "author_association": "MEMBER",
    "body": "I'm working on this in the `nixpkgs-upgrade` branch using the [`status-mods-upgrade`](https://github.com/status-im/nixpkgs/tree/status-mods-upgrade) branch of `nixpkgs` and currently I'm struggling with building `gomobile` correctly.\r\n\r\nWhen building `status-go` I was getting:\r\n```\r\nBuilding mobile library for android\r\n\r\ntype-checking package \"github.com/status-im/status-go/mobile\" failed (/build/go/src/github.com/status-im/status-go/mobile/multiaccount.go:4:2: could not import encoding/json (go/build: importGo encoding/json: exit status 2\r\ngo: cannot find GOROOT directory: /nix/store/eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee-go-1.13.4/share/go\r\n```\r\n\r\nSo I checked the strings and indeed the pats in `gomobile` have been changed:\r\n```\r\n $ strings /nix/store/c0y10k1v1ydnqgmnzyd14nffcv5n38sr-gomobile-20190719-d2bd2a2-bin/bin/.gomobile-wrapped | grep eeeee | head -n 5 \r\n/nix/store/eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee-go-1.13.4/share/go\r\n/nix/store/eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee-go-1.13.4/share/go/src/html/template/urlpart_string.go\r\n/nix/store/eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee-go-1.13.4/share/go/src/html/template/url.go\r\n/nix/store/eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee-go-1.13.4/share/go/src/html/template/transition.go\r\n/nix/store/eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee-go-1.13.4/share/go/src/html/template/template.go\r\n```\r\nWhich means it gets treated with the `remove-references-to` function like `status-go` is:\r\nhttps://github.com/status-im/status-react/blob/8bd2326369ac5424e55d397cdbee5455ac376f1b/nix/status-go/build-status-go.nix#L16-L17\r\nhttps://github.com/status-im/status-react/blob/8bd2326369ac5424e55d397cdbee5455ac376f1b/nix/status-go/build-status-go.nix#L55-L61",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/557122420/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/557123582",
    "html_url": "https://github.com/status-im/status-mobile/issues/9500#issuecomment-557123582",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/9500",
    "id": 557123582,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1NzEyMzU4Mg==",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-11-21T15:01:48Z",
    "updated_at": "2019-11-21T15:01:48Z",
    "author_association": "MEMBER",
    "body": "This same process is done in the `buildGoPackage` function from `nixpkgs`:\r\nhttps://github.com/status-im/nixpkgs/blob/dd5a7c9b/pkgs/development/go-packages/generic/default.nix#L46\r\nhttps://github.com/status-im/nixpkgs/blob/dd5a7c9b/pkgs/development/go-packages/generic/default.nix#L211-L213\r\nSo in theory this is standard practice for Go packages compiled via Nix. Why then does it cause problems with `gomobile`?",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/557123582/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/557496006",
    "html_url": "https://github.com/status-im/status-mobile/issues/9500#issuecomment-557496006",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/9500",
    "id": 557496006,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1NzQ5NjAwNg==",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-11-22T11:24:10Z",
    "updated_at": "2019-11-22T11:24:10Z",
    "author_association": "MEMBER",
    "body": "My guess is that for some reason the Go upgrade to 1.13 causes it to ignore modules available in the `vendor` folder of `status-go` repo.\r\n\r\nAccording to this page:\r\n\r\n>The -mod=vendor flag (e.g., go build -mod=vendor) instructs the go commands to use the main module's top-level vendor directory to satisfy dependencies.\r\n>https://github.com/golang/go/wiki/Modules\r\n\r\nBut I don't see us using this flag in `status-go` repo.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/557496006/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/557500972",
    "html_url": "https://github.com/status-im/status-mobile/issues/9500#issuecomment-557500972",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/9500",
    "id": 557500972,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1NzUwMDk3Mg==",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-11-22T11:42:27Z",
    "updated_at": "2019-11-22T11:42:27Z",
    "author_association": "MEMBER",
    "body": "Looks like setting `GO111MODULE=off` fixes the `status-go` build errors.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/557500972/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/557511871",
    "html_url": "https://github.com/status-im/status-mobile/issues/9500#issuecomment-557511871",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/9500",
    "id": 557511871,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1NzUxMTg3MQ==",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-11-22T12:20:54Z",
    "updated_at": "2019-11-22T12:20:54Z",
    "author_association": "MEMBER",
    "body": "Now my issue is the `STATUS_REACT_HOME` env variable which normally was set here:\r\nhttps://github.com/status-im/status-react/blob/b5038523879318dbb0fc081d0e898f71f71f4d69/nix/mobile/android/targets/release-android.nix#L112\r\nAnd this somehow magically propagated to all the other Nix modules like the `fastlane/default.nix` which uses it to find `fastlane/Fastfile` location:\r\nhttps://github.com/status-im/status-react/blob/b5038523879318dbb0fc081d0e898f71f71f4d69/fastlane/default.nix#L26-L28\r\nMy guess is something about upgrading to Nix `2.3.1` caused this to happen.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/557511871/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/557532158",
    "html_url": "https://github.com/status-im/status-mobile/issues/9500#issuecomment-557532158",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/9500",
    "id": 557532158,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1NzUzMjE1OA==",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-11-22T13:30:05Z",
    "updated_at": "2019-11-22T13:30:05Z",
    "author_association": "MEMBER",
    "body": "I found the Release notes for Nix 2.3, and this one sounds related:\r\n\r\n>The installer now enables sandboxing by default on Linux. The max-jobs setting now defaults to 1.\r\n>https://nixos.org/nix/manual/#ssec-relnotes-2.3\r\n\r\nWhich is:\r\n>`sandbox`\r\n>If set to true, builds will be performed in a sandboxed environment, i.e., they’re isolated from the normal file system hierarchy and will only see their dependencies in the Nix store, the temporary build directory, private versions of /proc, /dev, /dev/shm and /dev/pts (on Linux), and the paths configured with the sandbox-paths option. This is useful to prevent undeclared dependencies on files in directories such as /usr/bin. In addition, on Linux, builds run in private PID, mount, network, IPC and UTS namespaces to isolate them from other processes in the system (except that fixed-output derivations do not run in private network namespace to ensure they can access the network).\r\n\r\nSo I downgraded Nix to `2.2.1` and tried building again, and it failed the same way.\r\nI'm confused as to which change caused this.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/557532158/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/557557481",
    "html_url": "https://github.com/status-im/status-mobile/issues/9500#issuecomment-557557481",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/9500",
    "id": 557557481,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1NzU1NzQ4MQ==",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-11-22T14:43:25Z",
    "updated_at": "2019-11-22T14:43:25Z",
    "author_association": "MEMBER",
    "body": "Nope, still failing:\r\n```\r\nSTATUS_REACT_HOME is empty!\r\n```\r\nI can't tell how any of my changes other than a Nix upgrade could have cause this.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/557557481/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/558098055",
    "html_url": "https://github.com/status-im/status-mobile/issues/9500#issuecomment-558098055",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/9500",
    "id": 558098055,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1ODA5ODA1NQ==",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-11-25T10:44:24Z",
    "updated_at": "2019-11-25T10:44:24Z",
    "author_association": "MEMBER",
    "body": "I tried using:\r\n```\r\nexport GO111MODULE=on\r\nexport GOFLAGS=-mod=vendor\r\n```\r\nAs Adam suggested, but `gomobile` fails while trying to download dependencies, so it doesn't work.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/558098055/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/558185316",
    "html_url": "https://github.com/status-im/status-mobile/issues/9500#issuecomment-558185316",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/9500",
    "id": 558185316,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1ODE4NTMxNg==",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-11-25T14:41:07Z",
    "updated_at": "2019-11-25T14:41:07Z",
    "author_association": "MEMBER",
    "body": "Android builds seem to work, but iOS is failing when building `git`:\r\n```\r\nBuilding '/nix/store/s8mrfv3h6bsnkgl35bi394yhwsl13k24-git-2.24.0.drv'...\r\n...\r\n/private/var/folders/sn/6fj1hwmd11zdtjk4f5skyj2w0000gp/T/nix-build-git-2.24.0.drv-0/git-2.24.0/t/ \\\r\n  ../contrib/completion/git-completion.bash: \\\r\n  line 378: compgen: command not foun\r\n```\r\nBut hacks around that can be found in `nixpkgs`, which is setting `doCheck = false`:\r\nhttps://github.com/NixOS/nixpkgs/blob/9b67ea91/pkgs/os-specific/linux/openvswitch/default.nix#L45\r\nBut that is already done in our branch:\r\nhttps://github.com/status-im/nixpkgs/blob/dd5a7c9b/pkgs/applications/version-management/git-and-tools/git/default.nix#L250",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/558185316/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/558186981",
    "html_url": "https://github.com/status-im/status-mobile/issues/9500#issuecomment-558186981",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/9500",
    "id": 558186981,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1ODE4Njk4MQ==",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-11-25T14:45:12Z",
    "updated_at": "2019-11-25T14:45:12Z",
    "author_association": "MEMBER",
    "body": "Looks like this is a known issue: https://github.com/NixOS/nixpkgs/issues/73806\r\nAnd it seem to have been fixed 3 days ago in: https://github.com/NixOS/nixpkgs/pull/73826",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/558186981/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/558403909",
    "html_url": "https://github.com/status-im/status-mobile/issues/9500#issuecomment-558403909",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/9500",
    "id": 558403909,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1ODQwMzkwOQ==",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-11-26T00:29:44Z",
    "updated_at": "2019-11-26T00:29:44Z",
    "author_association": "MEMBER",
    "body": "PR: https://github.com/status-im/status-react/pull/9531",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/558403909/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
