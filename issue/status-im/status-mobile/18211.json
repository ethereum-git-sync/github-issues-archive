{
  "url": "https://api.github.com/repos/status-im/status-mobile/issues/18211",
  "repository_url": "https://api.github.com/repos/status-im/status-mobile",
  "labels_url": "https://api.github.com/repos/status-im/status-mobile/issues/18211/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-mobile/issues/18211/comments",
  "events_url": "https://api.github.com/repos/status-im/status-mobile/issues/18211/events",
  "html_url": "https://github.com/status-im/status-mobile/issues/18211",
  "id": 2044337657,
  "node_id": "I_kwDOAx4p2c552h35",
  "number": 18211,
  "title": "Metro crashes often on Linux",
  "user": {
    "login": "agazso",
    "id": 230163,
    "node_id": "MDQ6VXNlcjIzMDE2Mw==",
    "avatar_url": "https://avatars.githubusercontent.com/u/230163?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/agazso",
    "html_url": "https://github.com/agazso",
    "followers_url": "https://api.github.com/users/agazso/followers",
    "following_url": "https://api.github.com/users/agazso/following{/other_user}",
    "gists_url": "https://api.github.com/users/agazso/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/agazso/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/agazso/subscriptions",
    "organizations_url": "https://api.github.com/users/agazso/orgs",
    "repos_url": "https://api.github.com/users/agazso/repos",
    "events_url": "https://api.github.com/users/agazso/events{/privacy}",
    "received_events_url": "https://api.github.com/users/agazso/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "siddarthkay",
    "id": 64726664,
    "node_id": "MDQ6VXNlcjY0NzI2NjY0",
    "avatar_url": "https://avatars.githubusercontent.com/u/64726664?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/siddarthkay",
    "html_url": "https://github.com/siddarthkay",
    "followers_url": "https://api.github.com/users/siddarthkay/followers",
    "following_url": "https://api.github.com/users/siddarthkay/following{/other_user}",
    "gists_url": "https://api.github.com/users/siddarthkay/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/siddarthkay/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/siddarthkay/subscriptions",
    "organizations_url": "https://api.github.com/users/siddarthkay/orgs",
    "repos_url": "https://api.github.com/users/siddarthkay/repos",
    "events_url": "https://api.github.com/users/siddarthkay/events{/privacy}",
    "received_events_url": "https://api.github.com/users/siddarthkay/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "siddarthkay",
      "id": 64726664,
      "node_id": "MDQ6VXNlcjY0NzI2NjY0",
      "avatar_url": "https://avatars.githubusercontent.com/u/64726664?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/siddarthkay",
      "html_url": "https://github.com/siddarthkay",
      "followers_url": "https://api.github.com/users/siddarthkay/followers",
      "following_url": "https://api.github.com/users/siddarthkay/following{/other_user}",
      "gists_url": "https://api.github.com/users/siddarthkay/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/siddarthkay/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/siddarthkay/subscriptions",
      "organizations_url": "https://api.github.com/users/siddarthkay/orgs",
      "repos_url": "https://api.github.com/users/siddarthkay/repos",
      "events_url": "https://api.github.com/users/siddarthkay/events{/privacy}",
      "received_events_url": "https://api.github.com/users/siddarthkay/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2023-12-15T20:35:23Z",
  "updated_at": "2023-12-18T09:10:38Z",
  "closed_at": "2023-12-18T09:08:36Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "# Problem\r\n\r\nI am running `make run-metro` on Linux, but it crashes often:\r\n\r\n```\r\n/home/attila/Projects/LogosLab/status-mobile/node_modules/nullthrows/nullthrows.js:9\r\n  throw error;\r\n  ^\r\n\r\nError: Got unexpected null\r\n    at nullthrows (/home/attila/Projects/LogosLab/status-mobile/node_modules/nullthrows/nullthrows.js:7:15)\r\n    at Timeout.emitChange [as _onTimeout] (/home/attila/Projects/LogosLab/status-mobile/node_modules/metro-file-map/src/index.js:823:48)\r\n    at listOnTimeout (node:internal/timers:569:17)\r\n    at process.processTimers (node:internal/timers:512:7) {\r\n  framesToPop: 1\r\n}\r\n\r\nNode.js v18.16.0\r\n```",
  "closed_by": {
    "login": "siddarthkay",
    "id": 64726664,
    "node_id": "MDQ6VXNlcjY0NzI2NjY0",
    "avatar_url": "https://avatars.githubusercontent.com/u/64726664?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/siddarthkay",
    "html_url": "https://github.com/siddarthkay",
    "followers_url": "https://api.github.com/users/siddarthkay/followers",
    "following_url": "https://api.github.com/users/siddarthkay/following{/other_user}",
    "gists_url": "https://api.github.com/users/siddarthkay/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/siddarthkay/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/siddarthkay/subscriptions",
    "organizations_url": "https://api.github.com/users/siddarthkay/orgs",
    "repos_url": "https://api.github.com/users/siddarthkay/repos",
    "events_url": "https://api.github.com/users/siddarthkay/events{/privacy}",
    "received_events_url": "https://api.github.com/users/siddarthkay/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/18211/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-mobile/issues/18211/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1858513821",
    "html_url": "https://github.com/status-im/status-mobile/issues/18211#issuecomment-1858513821",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/18211",
    "id": 1858513821,
    "node_id": "IC_kwDOAx4p2c5uxqud",
    "user": {
      "login": "agazso",
      "id": 230163,
      "node_id": "MDQ6VXNlcjIzMDE2Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/230163?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/agazso",
      "html_url": "https://github.com/agazso",
      "followers_url": "https://api.github.com/users/agazso/followers",
      "following_url": "https://api.github.com/users/agazso/following{/other_user}",
      "gists_url": "https://api.github.com/users/agazso/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/agazso/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/agazso/subscriptions",
      "organizations_url": "https://api.github.com/users/agazso/orgs",
      "repos_url": "https://api.github.com/users/agazso/repos",
      "events_url": "https://api.github.com/users/agazso/events{/privacy}",
      "received_events_url": "https://api.github.com/users/agazso/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-12-15T21:31:48Z",
    "updated_at": "2023-12-15T21:31:48Z",
    "author_association": "NONE",
    "body": "Another case:\r\n\r\n```\r\nnode:internal/fs/watchers:255\r\n    throw error;\r\n    ^\r\n\r\nError: ENOENT: no such file or directory, watch '/home/attila/Projects/LogosLab/status-mobile/node_modules/react-native-gesture-handler/android/build/kotlin/compileDebugKotlin/cacheable/caches-jvm/jvm'\r\n    at FSWatcher.<computed> (node:internal/fs/watchers:247:19)\r\n    at Object.watch (node:fs:2343:34)\r\n    at NodeWatcher._watchdir (/home/attila/Projects/LogosLab/status-mobile/node_modules/metro-file-map/src/watchers/NodeWatcher.js:145:24)\r\n    at /home/attila/Projects/LogosLab/status-mobile/node_modules/metro-file-map/src/watchers/NodeWatcher.js:264:22\r\n    at Walker.<anonymous> (/home/attila/Projects/LogosLab/status-mobile/node_modules/metro-file-map/src/watchers/common.js:127:31)\r\n    at Walker.emit (node:events:513:28)\r\n    at /home/attila/Projects/LogosLab/status-mobile/node_modules/walker/lib/walker.js:69:16\r\n    at FSReqCallback.oncomplete (node:fs:198:23) {\r\n  errno: -2,\r\n  syscall: 'watch',\r\n  code: 'ENOENT',\r\n  path: '/home/attila/Projects/LogosLab/status-mobile/node_modules/react-native-gesture-handler/android/build/kotlin/compileDebugKotlin/cacheable/caches-jvm/jvm',\r\n  filename: '/home/attila/Projects/LogosLab/status-mobile/node_modules/react-native-gesture-handler/android/build/kotlin/compileDebugKotlin/cacheable/caches-jvm/jvm'\r\n}\r\n\r\nNode.js v18.16.0\r\nmake: *** [Makefile:268: run-metro] Error 1\r\n\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1858513821/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1858515389",
    "html_url": "https://github.com/status-im/status-mobile/issues/18211#issuecomment-1858515389",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/18211",
    "id": 1858515389,
    "node_id": "IC_kwDOAx4p2c5uxrG9",
    "user": {
      "login": "agazso",
      "id": 230163,
      "node_id": "MDQ6VXNlcjIzMDE2Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/230163?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/agazso",
      "html_url": "https://github.com/agazso",
      "followers_url": "https://api.github.com/users/agazso/followers",
      "following_url": "https://api.github.com/users/agazso/following{/other_user}",
      "gists_url": "https://api.github.com/users/agazso/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/agazso/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/agazso/subscriptions",
      "organizations_url": "https://api.github.com/users/agazso/orgs",
      "repos_url": "https://api.github.com/users/agazso/repos",
      "events_url": "https://api.github.com/users/agazso/events{/privacy}",
      "received_events_url": "https://api.github.com/users/agazso/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-12-15T21:33:36Z",
    "updated_at": "2023-12-15T21:33:36Z",
    "author_association": "NONE",
    "body": "After restart it asks for manual confirmation of deletion:\r\n\r\n```\r\nCopying node_modules from Nix store:\r\n - /nix/store/v279wdblqar1p8l2w1p8a3g847c21lh5-status-mobile-node-deps-1.25.0-patched\r\nrm: remove write-protected regular file '/home/attila/Projects/LogosLab/status-mobile/node_modules/react-native-reanimated/android/build/intermediates/cmake/debug/obj/x86_64/libc++_shared.so'? y\r\nrm: remove write-protected regular file '/home/attila/Projects/LogosLab/status-mobile/node_modules/react-native-reanimated/android/build/intermediates/cmake/debug/obj/arm64-v8a/libc++_shared.so'? y\r\nrm: remove write-protected regular file '/home/attila/Projects/LogosLab/status-mobile/node_modules/react-native-reanimated/android/build/intermediates/cmake/debug/obj/x86/libc++_shared.so'? y\r\nrm: remove write-protected regular file '/home/attila/Projects/LogosLab/status-mobile/node_modules/react-native-reanimated/android/build/intermediates/cxx/Debug/723c3r5j/obj/x86_64/libc++_shared.so'? y\r\nrm: remove write-protected regular file '/home/attila/Projects/LogosLab/status-mobile/node_modules/react-native-reanimated/android/build/intermediates/cxx/Debug/723c3r5j/obj/arm64-v8a/libc++_shared.so'? y\r\nrm: remove write-protected regular file '/home/attila/Projects/LogosLab/status-mobile/node_modules/react-native-reanimated/android/build/intermediates/cxx/Debug/723c3r5j/obj/x86/libc++_shared.so'? y\r\nDone in: 27.811s\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1858515389/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1858774370",
    "html_url": "https://github.com/status-im/status-mobile/issues/18211#issuecomment-1858774370",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/18211",
    "id": 1858774370,
    "node_id": "IC_kwDOAx4p2c5uyqVi",
    "user": {
      "login": "siddarthkay",
      "id": 64726664,
      "node_id": "MDQ6VXNlcjY0NzI2NjY0",
      "avatar_url": "https://avatars.githubusercontent.com/u/64726664?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/siddarthkay",
      "html_url": "https://github.com/siddarthkay",
      "followers_url": "https://api.github.com/users/siddarthkay/followers",
      "following_url": "https://api.github.com/users/siddarthkay/following{/other_user}",
      "gists_url": "https://api.github.com/users/siddarthkay/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/siddarthkay/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/siddarthkay/subscriptions",
      "organizations_url": "https://api.github.com/users/siddarthkay/orgs",
      "repos_url": "https://api.github.com/users/siddarthkay/repos",
      "events_url": "https://api.github.com/users/siddarthkay/events{/privacy}",
      "received_events_url": "https://api.github.com/users/siddarthkay/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-12-16T09:37:21Z",
    "updated_at": "2023-12-16T09:37:21Z",
    "author_association": "CONTRIBUTOR",
    "body": "There are 2 issues here,\r\n\r\n- 1st is the frequent crashes of the metro terminal :\r\nmetro crash is related to the version of metro we currently have and its directly coupled with our react-native version i.e `0.72.5`\r\nIssue in metro repository : https://github.com/facebook/metro/issues/1015 is fixed and we should get this fix soon as a patch version to `0.72.x`\r\n\r\nThis fix is already present in react-native `0.73.0` , however upgrading to that will take a while.\r\n\r\n- 2nd is these write protected files, which I will send out a PR for soon.\r\n\r\nThanks for reporting @agazso !\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1858774370/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 1,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1859857960",
    "html_url": "https://github.com/status-im/status-mobile/issues/18211#issuecomment-1859857960",
    "issue_url": "https://api.github.com/repos/status-im/status-mobile/issues/18211",
    "id": 1859857960,
    "node_id": "IC_kwDOAx4p2c5u2y4o",
    "user": {
      "login": "siddarthkay",
      "id": 64726664,
      "node_id": "MDQ6VXNlcjY0NzI2NjY0",
      "avatar_url": "https://avatars.githubusercontent.com/u/64726664?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/siddarthkay",
      "html_url": "https://github.com/siddarthkay",
      "followers_url": "https://api.github.com/users/siddarthkay/followers",
      "following_url": "https://api.github.com/users/siddarthkay/following{/other_user}",
      "gists_url": "https://api.github.com/users/siddarthkay/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/siddarthkay/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/siddarthkay/subscriptions",
      "organizations_url": "https://api.github.com/users/siddarthkay/orgs",
      "repos_url": "https://api.github.com/users/siddarthkay/repos",
      "events_url": "https://api.github.com/users/siddarthkay/events{/privacy}",
      "received_events_url": "https://api.github.com/users/siddarthkay/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-12-18T09:10:37Z",
    "updated_at": "2023-12-18T09:10:37Z",
    "author_association": "CONTRIBUTOR",
    "body": "issue 1 is also tracked here : https://github.com/status-im/status-mobile/issues/18166\r\nIssue 2 is fixed with https://github.com/status-im/status-mobile/pull/18214",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-mobile/issues/comments/1859857960/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
