{
  "url": "https://api.github.com/repos/status-im/status-desktop/issues/10095",
  "repository_url": "https://api.github.com/repos/status-im/status-desktop",
  "labels_url": "https://api.github.com/repos/status-im/status-desktop/issues/10095/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-desktop/issues/10095/comments",
  "events_url": "https://api.github.com/repos/status-im/status-desktop/issues/10095/events",
  "html_url": "https://github.com/status-im/status-desktop/issues/10095",
  "id": 1647991137,
  "node_id": "I_kwDOD5KrTM5iOllh",
  "number": 10095,
  "title": "[Community permission] User \"self-report\" when they no longer possess the required tokens",
  "user": {
    "login": "jrainville",
    "id": 11926403,
    "node_id": "MDQ6VXNlcjExOTI2NDAz",
    "avatar_url": "https://avatars.githubusercontent.com/u/11926403?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jrainville",
    "html_url": "https://github.com/jrainville",
    "followers_url": "https://api.github.com/users/jrainville/followers",
    "following_url": "https://api.github.com/users/jrainville/following{/other_user}",
    "gists_url": "https://api.github.com/users/jrainville/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jrainville/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jrainville/subscriptions",
    "organizations_url": "https://api.github.com/users/jrainville/orgs",
    "repos_url": "https://api.github.com/users/jrainville/repos",
    "events_url": "https://api.github.com/users/jrainville/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jrainville/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 3047427135,
      "node_id": "MDU6TGFiZWwzMDQ3NDI3MTM1",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/feature",
      "name": "feature",
      "color": "0E8A16",
      "default": false,
      "description": ""
    },
    {
      "id": 3205516704,
      "node_id": "MDU6TGFiZWwzMjA1NTE2NzA0",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/priority%20F3:%20nice%20to%20have",
      "name": "priority F3: nice to have",
      "color": "0E8A16",
      "default": false,
      "description": "a feature the app could have but is not critical"
    },
    {
      "id": 3955125927,
      "node_id": "LA_kwDOD5KrTM7rvm6n",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/E:Communities",
      "name": "E:Communities",
      "color": "E56631",
      "default": false,
      "description": ""
    },
    {
      "id": 4331092409,
      "node_id": "LA_kwDOD5KrTM8AAAABAic5uQ",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/S:4",
      "name": "S:4",
      "color": "b60205",
      "default": false,
      "description": ""
    },
    {
      "id": 4548141040,
      "node_id": "LA_kwDOD5KrTM8AAAABDxcf8A",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/messenger-team",
      "name": "messenger-team",
      "color": "232858",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 0,
  "created_at": "2023-03-30T17:02:36Z",
  "updated_at": "2023-03-30T21:39:58Z",
  "closed_at": null,
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "### Description\r\n\r\nWhen a user removes tokens from their wallet, we should re-check the community permissions that the user is in, and if they no longer fulfill those conditions, they should \"self-report\" to the owner node, ie leave the community.\r\n\r\nWe could add another api/signal that is specifically for that like `leaveTheCommunityBecauseINoLongerFulfillsThePermissions`, but if `leaveCommunity` does the job correctly, might as well reuse it.\r\n\r\nI propose to just do it when we do the actions from the wallet itself and not  do periodic checks on the balances.\r\nFirstly, because we don't want to do calls for no reason and secondly because the admin node already does those calls anyway.\r\nI'm open to change my mind on this point though.\r\n\r\nBonus points if we show a screen or notifications to tell them that they where removed from the community.\r\n\r\nIt would be even better if **before** doing the wallet action that would remove the fulfilled permission, we had a warning, but that's in Wallet territory cc @alaibe  ",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/10095/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-desktop/issues/10095/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[

]
