{
  "url": "https://api.github.com/repos/status-im/status-desktop/issues/10180",
  "repository_url": "https://api.github.com/repos/status-im/status-desktop",
  "labels_url": "https://api.github.com/repos/status-im/status-desktop/issues/10180/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-desktop/issues/10180/comments",
  "events_url": "https://api.github.com/repos/status-im/status-desktop/issues/10180/events",
  "html_url": "https://github.com/status-im/status-desktop/issues/10180",
  "id": 1655111173,
  "node_id": "I_kwDOD5KrTM5ipv4F",
  "number": 10180,
  "title": "Chat: Resend button and spinner are both displayed when being on cellular network (non-wifi)  ",
  "user": {
    "login": "anastasiyaig",
    "id": 82375995,
    "node_id": "MDQ6VXNlcjgyMzc1OTk1",
    "avatar_url": "https://avatars.githubusercontent.com/u/82375995?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/anastasiyaig",
    "html_url": "https://github.com/anastasiyaig",
    "followers_url": "https://api.github.com/users/anastasiyaig/followers",
    "following_url": "https://api.github.com/users/anastasiyaig/following{/other_user}",
    "gists_url": "https://api.github.com/users/anastasiyaig/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/anastasiyaig/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/anastasiyaig/subscriptions",
    "organizations_url": "https://api.github.com/users/anastasiyaig/orgs",
    "repos_url": "https://api.github.com/users/anastasiyaig/repos",
    "events_url": "https://api.github.com/users/anastasiyaig/events{/privacy}",
    "received_events_url": "https://api.github.com/users/anastasiyaig/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 2036563458,
      "node_id": "MDU6TGFiZWwyMDM2NTYzNDU4",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/bug",
      "name": "bug",
      "color": "d73a4a",
      "default": true,
      "description": "Something isn't working"
    },
    {
      "id": 3904302702,
      "node_id": "LA_kwDOD5KrTM7otu5u",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/E:Bugfixes",
      "name": "E:Bugfixes",
      "color": "11DEC5",
      "default": false,
      "description": ""
    },
    {
      "id": 4548141040,
      "node_id": "LA_kwDOD5KrTM8AAAABDxcf8A",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/messenger-team",
      "name": "messenger-team",
      "color": "232858",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": {
    "url": "https://api.github.com/repos/status-im/status-desktop/milestones/57",
    "html_url": "https://github.com/status-im/status-desktop/milestone/57",
    "labels_url": "https://api.github.com/repos/status-im/status-desktop/milestones/57/labels",
    "id": 8475715,
    "node_id": "MI_kwDOD5KrTM4AgVRD",
    "number": 57,
    "title": "0.14",
    "description": "**Main focus:**\r\n\r\n**1. finish anything that wasn't completed in 0.13**\r\n- Make sure all Community token functionality is very well tested, fix any issues found\r\n- Ensure accounts stored on Keycard are taken into consideration for community permissions\r\n\r\n**2. Performance**\r\n- Some folks should focus on trying to identify and DB perf. issues\r\n- Also try to identify and improve status-go perf. issues\r\n*improvements to DB and status-go perf. can benefit Status Mobile as well as Status Desktop*\r\n- UI layer perf. improvements.  Try to identify places where the app doesn't respond to user input immediately, and attempt to fix the worse offenders\r\n\r\n**3. fix bugs everywhere**\r\n\r\n**5. Graphs for Community Admin home screen**\r\n- this is a task for the UI team\r\n\r\n**6. QR scanner**\r\n\r\n**Other possible items (but that may be moved to a subsequent milestone)**\r\n- opt-in auto-update functionality\r\n- Integrate final transaction signing modal into community admin areas\r\n- Airdrop history screens\r\n- Live airdrop gas estimation when setting up airdrop\r\n- automatic bandwidth test on app startup, and use results to automatically configure the waku shard usage appropriately depending on the available bandwidth (at the 'user has tons of bandwidth' end of the spectrum all waku shards will use waku Relay mode, at the 'user has very little bandwidth' end of the spectrum all waku shards will use waku filter + light push mode, and in between these two ends of the spectrum the user will use a mix of waku relay mode and waku filter + light push mode for different shards).  Plus also use  the results of the bandwidth test to automatically set the bittorred throttling at an appropriate setting at the beginning of each new session.\r\n",
    "creator": {
      "login": "iurimatias",
      "id": 176720,
      "node_id": "MDQ6VXNlcjE3NjcyMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/176720?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/iurimatias",
      "html_url": "https://github.com/iurimatias",
      "followers_url": "https://api.github.com/users/iurimatias/followers",
      "following_url": "https://api.github.com/users/iurimatias/following{/other_user}",
      "gists_url": "https://api.github.com/users/iurimatias/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/iurimatias/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iurimatias/subscriptions",
      "organizations_url": "https://api.github.com/users/iurimatias/orgs",
      "repos_url": "https://api.github.com/users/iurimatias/repos",
      "events_url": "https://api.github.com/users/iurimatias/events{/privacy}",
      "received_events_url": "https://api.github.com/users/iurimatias/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 43,
    "closed_issues": 0,
    "state": "open",
    "created_at": "2022-09-28T20:32:56Z",
    "updated_at": "2023-05-10T17:40:19Z",
    "due_on": "2023-07-21T07:00:00Z",
    "closed_at": null
  },
  "comments": 3,
  "created_at": "2023-04-05T07:47:03Z",
  "updated_at": "2023-05-10T16:37:07Z",
  "closed_at": null,
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "### Description\r\n\r\n1. open status\r\n2. join some chats and communities\r\n3. switch to mobile internet\r\n\r\nSince mobile internet could blink more often, then as a result, I am seeing red banner saying I have to reconnect (even i am seeing connection established) , also all messages are being lead with `Resend` label and spinner at the top of chat. Clicking `Resend` does not make any effect. \r\n\r\n<img width=\"1532\" alt=\"Screenshot 2023-04-05 at 10 35 29\" src=\"https://user-images.githubusercontent.com/82375995/230015838-336cbbf5-ff4d-46b1-bac7-b1f39c7f2a22.png\">\r\n\r\n<img width=\"1532\" alt=\"Screenshot 2023-04-05 at 11 09 56\" src=\"https://user-images.githubusercontent.com/82375995/230021188-29ba298f-93da-472c-b5d3-043e870bc6b8.png\">\r\n\r\n\r\nNot sure if attached log is making any relation to the problem though but it looks suspicious \r\n\r\n```\r\nERR 2023-04-05 10:40:24.542+03:00 error:                                     topics=\"network-connection-service\" tid=11356780 file=service.nim:257 errDescription=\"index 6 not in 0 .. 5\"\r\n2023-04-05T10:40:26.101+0300\tWARN\tpeerstore\tpstoremem/addr_book.go:248\tWas passed p2p address with a different peerId. found: 16Uiu2HAm6oUeGeuyohFFm87UhFtG5p6yDo6YowubJRR8kSipWnqo, expected: 16Uiu2HAmF6EXQAsNPxgqLpDBXWCCxjVfbzv4bBuiyMF9MMSrNcwX\r\n2023-04-05T10:40:30.641+0300\tWARN\tpeerstore\tpstoremem/addr_book.go:248\tWas passed p2p address with a different peerId. found: 16Uiu2HAmSve7tR5YZugpskMv2dmJAsMUKmfWYEKRXNUxRaTCnsXV, expected: 16Uiu2HAm8nYqcuyF5uPJgEP7TJvP3k4WHp8TGqhEUoPmJpojeUCV\r\n2023-04-05T10:40:32.012+0300\tINFO\tnet/identify\tidentify/id.go:399\tfailed negotiate identify protocol with peer\t{\"peer\": \"16Uiu2HAm4RjvFHNZm93WcGbSA5XKeaCDQN8nX7Xq2eC4pMBfyESB\", \"error\": \"stream reset\"}\r\n2023-04-05T10:40:32.013+0300\tWARN\tnet/identify\tidentify/id.go:374\tfailed to identify 16Uiu2HAm4RjvFHNZm93WcGbSA5XKeaCDQN8nX7Xq2eC4pMBfyESB: stream reset\r\n2023-04-05T10:41:00.414+0300\tWARN\tpeerstore\tpstoremem/addr_book.go:248\tWas passed p2p address with a different peerId. found: 16Uiu2HAm4RjvFHNZm93WcGbSA5XKeaCDQN8nX7Xq2eC4pMBfyESB, expected: 16Uiu2HAmGwvBdgmg71JQ9kZAX7iKfSio8ShmjqdY36ZM7RnjCG1L\r\n2023-04-05T10:41:12.009+0300\tINFO\tnet/identify\tidentify/id.go:399\tfailed negotiate identify protocol with peer\t{\"peer\": \"16Uiu2HAm4RjvFHNZm93WcGbSA5XKeaCDQN8nX7Xq2eC4pMBfyESB\", \"error\": \"stream reset\"}\r\n2023-04-05T10:41:12.009+0300\tWARN\tnet/identify\tidentify/id.go:374\tfailed to identify 16Uiu2HAm4RjvFHNZm93WcGbSA5XKeaCDQN8nX7Xq2eC4pMBfyESB: stream reset\r\n2023-04-05T10:41:16.310+0300\tWARN\tpeerstore\tpstoremem/addr_book.go:248\tWas passed p2p address with a different peerId. found: 16Uiu2HAmSve7tR5YZugpskMv2dmJAsMUKmfWYEKRXNUxRaTCnsXV, expected: 16Uiu2HAm8nYqcuyF5uPJgEP7TJvP3k4WHp8TGqhEUoPmJpojeUCV\r\nERR 2023-04-05 10:41:24.552+03:00 error:                                     topics=\"network-connection-service\" tid=11356780 file=service.nim:257 errDescription=\"index 6 not in 0 .. 5\"\r\n2023-04-05T10:41:38.506+0300\tWARN\tpeerstore\tpstoremem/addr_book.go:248\tWas passed p2p address with a different peerId. found: 16Uiu2HAmUDYPdPeYordkSe4TxGzPYSEWqABurWhc2BP9Mtefr2bK, expected: 16Uiu2HAkwDqnaw48bxa44X91aRshzPAsvCE3dXrJgrwc91W6kabV\r\n2023-04-05T10:41:42.009+0300\tINFO\tnet/identify\tidentify/id.go:399\tfailed negotiate identify protocol with peer\t{\"peer\": \"16Uiu2HAm4RjvFHNZm93WcGbSA5XKeaCDQN8nX7Xq2eC4pMBfyESB\", \"error\": \"stream reset\"}\r\n```",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/10180/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-desktop/issues/10180/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1497166215",
    "html_url": "https://github.com/status-im/status-desktop/issues/10180#issuecomment-1497166215",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/10180",
    "id": 1497166215,
    "node_id": "IC_kwDOD5KrTM5ZPPGH",
    "user": {
      "login": "caybro",
      "id": 5377645,
      "node_id": "MDQ6VXNlcjUzNzc2NDU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5377645?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/caybro",
      "html_url": "https://github.com/caybro",
      "followers_url": "https://api.github.com/users/caybro/followers",
      "following_url": "https://api.github.com/users/caybro/following{/other_user}",
      "gists_url": "https://api.github.com/users/caybro/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/caybro/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/caybro/subscriptions",
      "organizations_url": "https://api.github.com/users/caybro/orgs",
      "repos_url": "https://api.github.com/users/caybro/repos",
      "events_url": "https://api.github.com/users/caybro/events{/privacy}",
      "received_events_url": "https://api.github.com/users/caybro/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-05T09:09:49Z",
    "updated_at": "2023-04-05T09:09:49Z",
    "author_association": "MEMBER",
    "body": "`ERR 2023-04-05 10:41:24.552+03:00 error:                                     topics=\"network-connection-service\" tid=11356780 file=service.nim:257 errDescription=\"index 6 not in 0 .. 5\"`\r\n\r\nThis indeed looks like the error... switch/case enum value not handled? ;)",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1497166215/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1497176141",
    "html_url": "https://github.com/status-im/status-desktop/issues/10180#issuecomment-1497176141",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/10180",
    "id": 1497176141,
    "node_id": "IC_kwDOD5KrTM5ZPRhN",
    "user": {
      "login": "caybro",
      "id": 5377645,
      "node_id": "MDQ6VXNlcjUzNzc2NDU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5377645?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/caybro",
      "html_url": "https://github.com/caybro",
      "followers_url": "https://api.github.com/users/caybro/followers",
      "following_url": "https://api.github.com/users/caybro/following{/other_user}",
      "gists_url": "https://api.github.com/users/caybro/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/caybro/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/caybro/subscriptions",
      "organizations_url": "https://api.github.com/users/caybro/orgs",
      "repos_url": "https://api.github.com/users/caybro/repos",
      "events_url": "https://api.github.com/users/caybro/events{/privacy}",
      "received_events_url": "https://api.github.com/users/caybro/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-05T09:17:34Z",
    "updated_at": "2023-04-05T09:17:34Z",
    "author_association": "MEMBER",
    "body": "Or not... those status-go errors look fishy too and I've been seeing them frequently as well lately",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1497176141/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1497559567",
    "html_url": "https://github.com/status-im/status-desktop/issues/10180#issuecomment-1497559567",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/10180",
    "id": 1497559567,
    "node_id": "IC_kwDOD5KrTM5ZQvIP",
    "user": {
      "login": "jrainville",
      "id": 11926403,
      "node_id": "MDQ6VXNlcjExOTI2NDAz",
      "avatar_url": "https://avatars.githubusercontent.com/u/11926403?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jrainville",
      "html_url": "https://github.com/jrainville",
      "followers_url": "https://api.github.com/users/jrainville/followers",
      "following_url": "https://api.github.com/users/jrainville/following{/other_user}",
      "gists_url": "https://api.github.com/users/jrainville/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jrainville/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jrainville/subscriptions",
      "organizations_url": "https://api.github.com/users/jrainville/orgs",
      "repos_url": "https://api.github.com/users/jrainville/repos",
      "events_url": "https://api.github.com/users/jrainville/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jrainville/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-05T14:11:15Z",
    "updated_at": "2023-04-05T14:11:15Z",
    "author_association": "MEMBER",
    "body": "I think if connection is lost, we drop all peers and try again, so maybe that's why on a jumpy connection, we get such erratic behaviour.\r\nThe index error seems like something we need to fix too of course.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1497559567/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
