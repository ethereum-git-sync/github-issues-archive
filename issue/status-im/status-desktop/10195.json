{
  "url": "https://api.github.com/repos/status-im/status-desktop/issues/10195",
  "repository_url": "https://api.github.com/repos/status-im/status-desktop",
  "labels_url": "https://api.github.com/repos/status-im/status-desktop/issues/10195/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-desktop/issues/10195/comments",
  "events_url": "https://api.github.com/repos/status-im/status-desktop/issues/10195/events",
  "html_url": "https://github.com/status-im/status-desktop/issues/10195",
  "id": 1655709658,
  "node_id": "I_kwDOD5KrTM5isB_a",
  "number": 10195,
  "title": "1on1 Message counts and notifications missing",
  "user": {
    "login": "imagiMary",
    "id": 124154641,
    "node_id": "U_kgDOB2ZzEQ",
    "avatar_url": "https://avatars.githubusercontent.com/u/124154641?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/imagiMary",
    "html_url": "https://github.com/imagiMary",
    "followers_url": "https://api.github.com/users/imagiMary/followers",
    "following_url": "https://api.github.com/users/imagiMary/following{/other_user}",
    "gists_url": "https://api.github.com/users/imagiMary/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/imagiMary/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/imagiMary/subscriptions",
    "organizations_url": "https://api.github.com/users/imagiMary/orgs",
    "repos_url": "https://api.github.com/users/imagiMary/repos",
    "events_url": "https://api.github.com/users/imagiMary/events{/privacy}",
    "received_events_url": "https://api.github.com/users/imagiMary/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 2036563458,
      "node_id": "MDU6TGFiZWwyMDM2NTYzNDU4",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/bug",
      "name": "bug",
      "color": "d73a4a",
      "default": true,
      "description": "Something isn't working"
    },
    {
      "id": 4548141040,
      "node_id": "LA_kwDOD5KrTM8AAAABDxcf8A",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/messenger-team",
      "name": "messenger-team",
      "color": "232858",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": {
    "url": "https://api.github.com/repos/status-im/status-desktop/milestones/65",
    "html_url": "https://github.com/status-im/status-desktop/milestone/65",
    "labels_url": "https://api.github.com/repos/status-im/status-desktop/milestones/65/labels",
    "id": 9039509,
    "node_id": "MI_kwDOD5KrTM4Aie6V",
    "number": 65,
    "title": "0.15",
    "description": "**1. Finish anything that wasn't completed in the previous 0.14 cycle**\r\n\r\n- And fix bugs as usual. We need to keep tech. debt at a roughly fixed level as we grow out functionality, can't let it accumulate! ;-)\r\n\r\n**2. Complete initial airdrop functionality**\r\n- Airdrop history screens\r\n- Ability to airdrop based on in-Community activity (No. of msg, No. msg in time range, joining a community, length of community membership)  Ability to combine multiple attributes into an airdrop\r\n- Ability to token gate airdrops\r\n- Live airdrop gas estimation when setting up airdrop\r\n\r\n**3. Token import functionality**\r\n- Ability for a community Owner to import ERC-20 and NFT tokens, to later be airdropped or retailed\r\n\r\n**4. Admin functionality enhancements**\r\n- Ability to mark a token gated channel as 'hidden', only visible to community members with the requisite tokens\r\n- optional service to once a month auto-kick all members who haven't been online for between 30 and 60 days (e.g. auto-kick members whose profile information like Name, Avatar, etc... can no longer be fetched)\r\n\r\n**5. QR scanner**\r\n- Needed for private key transfer\r\n- Ethereum key QRs (send modal triggered)\r\n- User Share URL in a QR (opens user profile dialogue) \r\n- Community and Channel inside Community URL in QRs (takes user to Community or Channel in Community)\r\n\r\n**6. Chat functionality enhancements**\r\n- Introduce @channel as a new type of global @ mention.  This @ mention only @ mention's everyone who has posted a message in a channel in the last 30 days \r\n\r\n**7. Binaries over Waku**\r\n- Improve transfer of binaries over waku via splitting into chunks https://github.com/status-im/status-desktop/issues/9923\r\n- Posting of small files (max size somewhere in the region of 1 to 2mb).  Requires above item before going live\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n",
    "creator": {
      "login": "iurimatias",
      "id": 176720,
      "node_id": "MDQ6VXNlcjE3NjcyMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/176720?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/iurimatias",
      "html_url": "https://github.com/iurimatias",
      "followers_url": "https://api.github.com/users/iurimatias/followers",
      "following_url": "https://api.github.com/users/iurimatias/following{/other_user}",
      "gists_url": "https://api.github.com/users/iurimatias/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/iurimatias/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iurimatias/subscriptions",
      "organizations_url": "https://api.github.com/users/iurimatias/orgs",
      "repos_url": "https://api.github.com/users/iurimatias/repos",
      "events_url": "https://api.github.com/users/iurimatias/events{/privacy}",
      "received_events_url": "https://api.github.com/users/iurimatias/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 87,
    "closed_issues": 0,
    "state": "open",
    "created_at": "2023-02-13T19:08:52Z",
    "updated_at": "2023-06-13T18:30:01Z",
    "due_on": "2023-09-29T07:00:00Z",
    "closed_at": null
  },
  "comments": 0,
  "created_at": "2023-04-05T14:15:09Z",
  "updated_at": "2023-06-13T16:36:35Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Version: 0.10\r\nOS: Ubuntu 22.10\r\n\r\n\r\nhttps://user-images.githubusercontent.com/124154641/230105505-2b85e3c5-ee4b-4cf0-9e7f-7b41d8047336.mp4 \r\n\r\n\r\n***\r\nPreconditions:\r\nTwo accounts - User A and User B. \r\n\r\n<ins>Steps to reproduce:</ins>\r\n1. User A messages User B in a 1on1 chat \r\n\r\n<ins>What currently incorrectly happens:</ins>\r\n\r\n2. Activity centre notifications are not displayed correctly in User B’s account and count emblems are not correctly incremented\r\n\r\n- A notification bubble is displayed (this is correct :-) )\r\n\r\n- No notification item is added to the Activity Centre (this is incorrect).  \r\n\r\n- The count emblems (on the notification centre bell icon, on the Messages icon in the primary nav, and to the right of the username in the messages section secondary nav) are not incremented (this is incorrect).  \r\n\r\nE.g. in the Messages secondary nav bar, no notification count emblem is displayed to the right of the User B’s name.  \r\n\r\n![03 11 no count embem 1on1 chat](https://user-images.githubusercontent.com/124154641/230105592-4059754a-842f-4cee-8ef4-06fd1378d1a2.png)\r\n\r\nHowever, when User A “@” tags User B in a 1on1 chat, the correct notification count emblems are displayed in both the primary and secondary nav bar. \r\n\r\n![03 11 at tag count embem 1on1 chat](https://user-images.githubusercontent.com/124154641/230105645-3c161da3-b066-4ff3-857c-39caa80dd737.png)\r\n\r\n<ins>What is supposed to happen:</ins>\r\n\r\n2. Messages in 1on1 chats should be treated like they are @ mentions, even if no actual @ mention is used. In User B’s account the following should happen; \r\n\r\n- A notification bubble informing the user of the new message is displayed\r\n\r\n- A notification of the new message should be added to the Activity Centre, categorised as a “Mentions” (e.g. it should be displayed along with the other @ mentions when the ‘Mentions’ tab is selected)\r\n\r\n- All the relevant count emblems (on the notification centre bell icon, on the Messages icon in the primary nav, and to the right of the username in the messages section secondary nav) should be incremented by 1. \r\n\r\n#### _NOTE_\r\n\r\n**Question:** What should count as a ‘new message’ in the context of a 1on1 chat?\r\n\r\n**Answer:** Only new 1on1 messages sent after a 5min gap since the previous message was received from the same user should count as a new message.\r\n\r\ne.g. If a user sends multiple 1on1 messages to the same user in a short space of time (less than a 5 min gap between each message), this should count (for the purpose of notifications) as **a single** message. After a gap of 5 min (from the last message sent), if a user writes another 1on1 message to the same user, this message should count (for the purpose of notifications) as a **second** message, etc, etc…\r\n\r\n<ins>Other information</ins>\r\n\r\nThere is a related issue with the ad-hoc group message notifications, that could be looked at the same time as fixing this issue, see #10194",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/10195/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-desktop/issues/10195/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[

]
