{
  "url": "https://api.github.com/repos/status-im/status-desktop/issues/335",
  "repository_url": "https://api.github.com/repos/status-im/status-desktop",
  "labels_url": "https://api.github.com/repos/status-im/status-desktop/issues/335/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-desktop/issues/335/comments",
  "events_url": "https://api.github.com/repos/status-im/status-desktop/issues/335/events",
  "html_url": "https://github.com/status-im/status-desktop/issues/335",
  "id": 639572153,
  "node_id": "MDU6SXNzdWU2Mzk1NzIxNTM=",
  "number": 335,
  "title": "Setup CI builds for Linux and MacOS apps",
  "user": {
    "login": "jakubgs",
    "id": 2212681,
    "node_id": "MDQ6VXNlcjIyMTI2ODE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jakubgs",
    "html_url": "https://github.com/jakubgs",
    "followers_url": "https://api.github.com/users/jakubgs/followers",
    "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
    "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
    "organizations_url": "https://api.github.com/users/jakubgs/orgs",
    "repos_url": "https://api.github.com/users/jakubgs/repos",
    "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jakubgs/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 2140496678,
      "node_id": "MDU6TGFiZWwyMTQwNDk2Njc4",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/macos",
      "name": "macos",
      "color": "167a78",
      "default": false,
      "description": ""
    },
    {
      "id": 2140496941,
      "node_id": "MDU6TGFiZWwyMTQwNDk2OTQx",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/ci",
      "name": "ci",
      "color": "ef9221",
      "default": false,
      "description": ""
    },
    {
      "id": 2211744906,
      "node_id": "MDU6TGFiZWwyMjExNzQ0OTA2",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/linux",
      "name": "linux",
      "color": "167a78",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "jakubgs",
    "id": 2212681,
    "node_id": "MDQ6VXNlcjIyMTI2ODE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jakubgs",
    "html_url": "https://github.com/jakubgs",
    "followers_url": "https://api.github.com/users/jakubgs/followers",
    "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
    "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
    "organizations_url": "https://api.github.com/users/jakubgs/orgs",
    "repos_url": "https://api.github.com/users/jakubgs/repos",
    "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jakubgs/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 43,
  "created_at": "2020-06-16T10:59:17Z",
  "updated_at": "2020-07-17T20:11:44Z",
  "closed_at": "2020-07-08T10:48:44Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "The branch that currently works is [`macos-packaging-refactor`](https://github.com/status-im/nim-status-client/tree/chore/macos-packaging-refactor).\r\nApparently calling `make macos` should Just Work™.\r\n\r\nWe'll also need a setup on Jenkins to securely sign the app using a Keychain.",
  "closed_by": {
    "login": "jakubgs",
    "id": 2212681,
    "node_id": "MDQ6VXNlcjIyMTI2ODE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jakubgs",
    "html_url": "https://github.com/jakubgs",
    "followers_url": "https://api.github.com/users/jakubgs/followers",
    "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
    "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
    "organizations_url": "https://api.github.com/users/jakubgs/orgs",
    "repos_url": "https://api.github.com/users/jakubgs/repos",
    "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jakubgs/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/335/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-desktop/issues/335/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/648432462",
    "html_url": "https://github.com/status-im/status-desktop/issues/335#issuecomment-648432462",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/335",
    "id": 648432462,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0ODQzMjQ2Mg==",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-23T21:15:55Z",
    "updated_at": "2020-06-23T21:15:55Z",
    "author_association": "MEMBER",
    "body": "I have a two jobs here:\r\n\r\n* https://ci.status.im/job/nim-status-client/job/linux/\r\n* https://ci.status.im/job/nim-status-client/job/macos/\r\n\r\nThe work is happening in the [`ci-setup`](https://github.com/status-im/nim-status-client/tree/ci-setup) branch.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/648432462/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/648435479",
    "html_url": "https://github.com/status-im/status-desktop/issues/335#issuecomment-648435479",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/335",
    "id": 648435479,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0ODQzNTQ3OQ==",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-23T21:22:50Z",
    "updated_at": "2020-06-23T21:22:50Z",
    "author_association": "MEMBER",
    "body": "### Linux Notes\r\n\r\n* Using Nix works, but getting the old `2.23` GLibc version would rebuild too much stuff to be feasible\r\n* `a12e/docker-qt:5.14-gcc_64` docker image used in [`build-linux.sh`](https://github.com/status-im/nim-status-client/blob/master/build-linux.sh) is a good starting point\r\n* With minimal adjustments I made a [`Dockerfile`](https://github.com/status-im/nim-status-client/blob/ci-setup/ci/Dockerfile) based off of it and pushed a [`nim-status-client-build`](https://hub.docker.com/r/statusteam/nim-status-client-build) image\r\n* Use of `linuxdeployqt` fails with `fuse: mount failed: Permission denied` because of Docker user remapping\r\n  - Adding of `--cap-add SYS_ADMIN --device /dev/fuse` fixes lack of `/dev/fuse` initially\r\n* A `jenkins` user has to exist in the image with UID/GID set to `1001` due to how our hosts are set up",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/648435479/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/648436240",
    "html_url": "https://github.com/status-im/status-desktop/issues/335#issuecomment-648436240",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/335",
    "id": 648436240,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0ODQzNjI0MA==",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-23T21:24:32Z",
    "updated_at": "2020-06-23T21:24:32Z",
    "author_association": "MEMBER",
    "body": "### MacOS Notes\r\n\r\n* The installer DMG file for Qt cannot be installed without UI, but it's possible to tarball the resulting installation for CI setup\r\n* I deployed a tarball like that in https://github.com/status-im/infra-ci/commit/314fc2d8 to all 3 CI hosts\r\n* The `pkg-config` and `wget` packages need to be installed via Homebrew",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/648436240/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/648703419",
    "html_url": "https://github.com/status-im/status-desktop/issues/335#issuecomment-648703419",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/335",
    "id": 648703419,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0ODcwMzQxOQ==",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-24T09:20:08Z",
    "updated_at": "2020-06-24T09:20:48Z",
    "author_association": "MEMBER",
    "body": "For posterity this is a minimal `shell.nix` I created when researching:\r\n```nix\r\n{ pkgs ? import <nixpkgs> { \r\n  overlays = [{\r\n    linuxdeployqt = super.callPackage ./nix/pkgs/linuxdeployqt { };\r\n  }];\r\n} }:\r\n\r\nlet\r\n  inherit (pkgs) qt5 mkShell;\r\n\r\n  # Custom collection of QT libraries for Status desktop App\r\n  qtCustom = qt5.env \"qt-custom-${qt5.qtbase.version}\" (with qt5; [\r\n    qtbase\r\n    qtsvg\r\n    qtdeclarative\r\n    qtquick1\r\n    qtquickcontrols2\r\n  ]);\r\n\r\nin mkShell {\r\n  name = \"nim-status-client-shell\";\r\n  buildInputs = with pkgs; [\r\n    cmake pkg-config qtCustom linuxdeployqt\r\n    # libraries\r\n    pcre openssl mesa_glu\r\n  ];\r\n\r\n  QTDIR = qtCustom;\r\n  QT5_PCFILEDIR = \"${qtCustom}/lib/pkgconfig\";\r\n  QT5_LIBDIR = \"${qtCustom}/lib\";\r\n}\r\n```\r\nI copied the derivation for `linuxdeployqt` from [status-react](https://github.com/status-im/status-react/tree/develop/nix/pkgs/linuxdeployqt).",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/648703419/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/648718968",
    "html_url": "https://github.com/status-im/status-desktop/issues/335#issuecomment-648718968",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/335",
    "id": 648718968,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0ODcxODk2OA==",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-24T09:50:23Z",
    "updated_at": "2020-06-24T09:50:23Z",
    "author_association": "MEMBER",
    "body": "I'm having a weird warnings on MacOS during build:\r\n```\r\n11:35:50  Package Qt5Core was not found in the pkg-config search path.\r\n11:35:50  Perhaps you should add the directory containing `Qt5Core.pc'\r\n11:35:50  to the PKG_CONFIG_PATH environment variable\r\n11:35:50  No package 'Qt5Core' found\r\n11:35:50  Package Qt5Qml was not found in the pkg-config search path.\r\n11:35:50  Perhaps you should add the directory containing `Qt5Qml.pc'\r\n11:35:50  to the PKG_CONFIG_PATH environment variable\r\n11:35:50  No package 'Qt5Qml' found\r\n11:35:50  Package Qt5Gui was not found in the pkg-config search path.\r\n11:35:50  Perhaps you should add the directory containing `Qt5Gui.pc'\r\n11:35:50  to the PKG_CONFIG_PATH environment variable\r\n11:35:50  No package 'Qt5Gui' found\r\n...\r\n```\r\nAlthough as far as I can tell I have a valid Qt installation.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/648718968/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/648749589",
    "html_url": "https://github.com/status-im/status-desktop/issues/335#issuecomment-648749589",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/335",
    "id": 648749589,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0ODc0OTU4OQ==",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-24T10:55:36Z",
    "updated_at": "2020-06-24T10:55:36Z",
    "author_association": "MEMBER",
    "body": "Looks like using the [online Qt installer](http://download.qt.io/official_releases/online_installers/qt-unified-mac-x64-online.dmg) gives a more complete installation for some reason...",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/648749589/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/648749872",
    "html_url": "https://github.com/status-im/status-desktop/issues/335#issuecomment-648749872",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/335",
    "id": 648749872,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0ODc0OTg3Mg==",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-24T10:56:08Z",
    "updated_at": "2020-06-24T10:56:08Z",
    "author_association": "MEMBER",
    "body": "Also, the `QTDIR` needs to be set so that at it's root there's the architecture folder, like `gcc_64` or `clang_64`.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/648749872/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/648754211",
    "html_url": "https://github.com/status-im/status-desktop/issues/335#issuecomment-648754211",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/335",
    "id": 648754211,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0ODc1NDIxMQ==",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-24T11:06:18Z",
    "updated_at": "2020-06-24T11:06:18Z",
    "author_association": "MEMBER",
    "body": "In order to fix the issues with Fuse permissions for Linux builds I might have to disable  [user remapping](https://docs.docker.com/engine/security/userns-remap/) for Docker on our hosts:\r\n```\r\n12:54:53  linuxdeployqt tmp/linux/dist/nim-status.desktop -no-translations -no-copy-copyright-files -qmldir=tmp/linux/dist/usr/ui -qmlimport=/opt/qt/5.14.0/gcc_64/qml -bundle-non-qt-libs\r\n12:54:53  fuse: mount failed: Permission denied\r\n12:54:53  open dir error: No such file or directory\r\n12:54:53  Makefile:170: recipe for target 'pkg/NimStatusClient-x86_64.AppImage' failed\r\n```\r\nWhich might be a pain because other jobs that use Docker might take that into account.\r\nAlthough the only ones I can think of right now are [`status-go`](https://ci.status.im/job/status-go/job/platforms/job/xgo/) and [`keycard-cli`](https://ci.status.im/job/status-keycard/job/keycard-cli/) ones.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/648754211/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/648755825",
    "html_url": "https://github.com/status-im/status-desktop/issues/335#issuecomment-648755825",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/335",
    "id": 648755825,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0ODc1NTgyNQ==",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-24T11:09:56Z",
    "updated_at": "2020-06-24T11:09:56Z",
    "author_association": "MEMBER",
    "body": "And it appears that `QT5_PCFILEDIR` and `QT5_LIBDIR` have to be set for `cmake` to detect Qt correctly:\r\n```\r\n13:06:07  CMake Warning at lib/CMakeLists.txt:7 (find_package):\r\n13:06:07    By not providing \"FindQt5.cmake\" in CMAKE_MODULE_PATH this project has\r\n13:06:07    asked CMake to find a package configuration file provided by \"Qt5\", but\r\n13:06:07    CMake did not find one.\r\n13:06:07  \r\n13:06:07    Could not find a package configuration file provided by \"Qt5\" with any of\r\n13:06:07    the following names:\r\n13:06:07  \r\n13:06:07      Qt5Config.cmake\r\n13:06:07      qt5-config.cmake\r\n13:06:07  \r\n13:06:07    Add the installation prefix of \"Qt5\" to CMAKE_PREFIX_PATH or set \"Qt5_DIR\"\r\n13:06:07    to a directory containing one of the above files.  If \"Qt5\" provides a\r\n13:06:07    separate development package or SDK, be sure it has been installed.\r\n13:06:07  Call Stack (most recent call first):\r\n13:06:07    lib/CMakeLists.txt:71 (add_target)\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/648755825/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/648853644",
    "html_url": "https://github.com/status-im/status-desktop/issues/335#issuecomment-648853644",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/335",
    "id": 648853644,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0ODg1MzY0NA==",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-24T14:25:13Z",
    "updated_at": "2020-06-24T14:25:13Z",
    "author_association": "MEMBER",
    "body": "I'm really confused by behavior of 2 MacOS hosts.\r\nOn `macos-03.ms-eu-dublin.ci.misc` setting `QTDIR=/usr/local/qt` is enough to `make nim_status_client`.\r\nBut on `macos-01.ms-eu-dublin.ci.misc` using the same `QTDIR=/usr/local/qt` results in a failure, sometimes. But setting it to `QTDIR=/usr/local/qt/clang_64` unblocks that failure for no good reason.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/648853644/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/648855125",
    "html_url": "https://github.com/status-im/status-desktop/issues/335#issuecomment-648855125",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/335",
    "id": 648855125,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0ODg1NTEyNQ==",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-24T14:27:46Z",
    "updated_at": "2020-06-24T14:27:46Z",
    "author_association": "MEMBER",
    "body": "First successful MacOS build: https://ci.status.im/job/nim-status-client/job/macos/25\r\nExcept it's not actually successful, just that the failure is not registered:\r\n```\r\n16:26:12  ✖ Code signing failed. The DMG is fine, just not code signed.\r\n16:26:12  No suitable code signing identity found\r\n```\r\nNo next step is to get the keystore into Jenkins.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/648855125/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/648857959",
    "html_url": "https://github.com/status-im/status-desktop/issues/335#issuecomment-648857959",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/335",
    "id": 648857959,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0ODg1Nzk1OQ==",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-24T14:32:26Z",
    "updated_at": "2020-06-24T14:32:26Z",
    "author_association": "MEMBER",
    "body": "It might be possible to create a keychain with the certificate using CLI:\r\n```\r\nsudo security add-trusted-cert -d -r trustRoot -k /Library/Keychains/System.keychain <certificate>\r\n```\r\nhttps://apple.stackexchange.com/questions/80623/import-certificates-into-the-system-keychain-via-the-command-line",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/648857959/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/648909124",
    "html_url": "https://github.com/status-im/status-desktop/issues/335#issuecomment-648909124",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/335",
    "id": 648909124,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0ODkwOTEyNA==",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-24T15:57:55Z",
    "updated_at": "2020-06-24T15:57:55Z",
    "author_association": "MEMBER",
    "body": "Almost there:\r\n```\r\n17:57:04  ERROR: Could not parse otool output line: \"\\t/System/Library/Frameworks/MediaPlayer.framework/Versions/A/MediaPlayer (compatibility version 1.0.0, current version 1.0.0, weak)\"\r\n17:57:05  ERROR: Could not parse otool output line: \"\\t/System/Library/Frameworks/MediaPlayer.framework/Versions/A/MediaPlayer (compatibility version 1.0.0, current version 1.0.0, weak)\"\r\n17:57:05  ERROR: Could not parse otool output line: \"\\t/System/Library/Frameworks/MediaPlayer.framework/Versions/A/MediaPlayer (compatibility version 1.0.0, current version 1.0.0, weak)\"\r\n17:57:07  ERROR: Could not parse otool output line: \"\\t/System/Library/Frameworks/MediaPlayer.framework/Versions/A/MediaPlayer (compatibility version 1.0.0, current version 1.0.0, weak)\"\r\n17:57:12  ****: no identity found\r\n17:57:12  make: *** [pkg/Status.dmg] Error 1\r\n```\r\nIt appears I might need both the private key and the cert in the keychain to make it work.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/648909124/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/648965921",
    "html_url": "https://github.com/status-im/status-desktop/issues/335#issuecomment-648965921",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/335",
    "id": 648965921,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0ODk2NTkyMQ==",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-24T17:41:35Z",
    "updated_at": "2020-06-24T17:41:35Z",
    "author_association": "MEMBER",
    "body": "Yes, it looks like the best bet would be to:\r\n\r\n1. Create a new Keychain\r\n2. Create a new private key in that Keychain\r\n3. Generate a CSR from that private key\r\n4. Issue a new MacOS app signing certificate\r\n5. Add that certificate to the Keychain\r\n\r\nAnd then upload that Keychain to our CI credentials.\r\nI'll do that tomorrow. I'll need to document the process too.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/648965921/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/649719100",
    "html_url": "https://github.com/status-im/status-desktop/issues/335#issuecomment-649719100",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/335",
    "id": 649719100,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0OTcxOTEwMA==",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-25T17:31:14Z",
    "updated_at": "2020-06-25T17:31:14Z",
    "author_association": "MEMBER",
    "body": "I created a new keychain and uploaded it to CI master, even made instructions on how I did it:\r\nhttps://github.com/status-im/infra-docs/blob/master/articles/macos_signing_keychain.md\r\nBut for some reason I'm still getting:\r\n```\r\n > codesign --sign \"${IDENTITY_NAME}\" \\\r\n      --keychain ~/nim-status-client.keychain-db \\\r\n      --options runtime --deep --force --verbose=4 \\\r\n      tmp/macos/dist/Status.app\r\nDeveloper ID Application: STATUS HOLDINGS PTE. LTD. (DTX7Z4U3YA): no identity found\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/649719100/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/649729544",
    "html_url": "https://github.com/status-im/status-desktop/issues/335#issuecomment-649729544",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/335",
    "id": 649729544,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0OTcyOTU0NA==",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-25T17:52:20Z",
    "updated_at": "2020-06-25T17:52:20Z",
    "author_association": "MEMBER",
    "body": "Okay, I see what was missing. I need to add the keychain to the search list too:\r\n```\r\nsecurity list-keychains -s ${MACOS_KEYCHAIN_FILE}\r\n```\r\nBut now it fails with:\r\n```\r\nfatal error: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/codesign_allocate: can't allocate code signature data for: /Users/jenkins/workspace/nim-status-client/macos/tmp/macos/dist/Status.app/Contents/MacOS/nim_status_client (for architecture x86_64) because larger updated load commands do not fit (the program must be relinked using a larger -headerpad value)\r\ntmp/macos/dist/Status.app: the codesign_allocate helper tool cannot be found or used\r\nIn subcomponent: /Users/jenkins/workspace/nim-status-client/macos/tmp/macos/dist/Status.app/Contents/MacOS/nim_status_client\r\n```\r\nWhich is progress of a kind.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/649729544/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/649746081",
    "html_url": "https://github.com/status-im/status-desktop/issues/335#issuecomment-649746081",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/335",
    "id": 649746081,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0OTc0NjA4MQ==",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-25T18:28:25Z",
    "updated_at": "2020-06-25T18:30:39Z",
    "author_association": "MEMBER",
    "body": "Not to self, `linuxdeployqt` has a `-unsupported-bundle-everything` flag which could let use use newer `glibc` while we work.\r\n\r\n* https://github.com/probonopd/linuxdeployqt/issues/423\r\n* https://github.com/probonopd/linuxdeployqt/issues/417\r\n\r\nAlso this is a possibility: https://github.com/wheybags/glibc_version_header",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/649746081/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/649778219",
    "html_url": "https://github.com/status-im/status-desktop/issues/335#issuecomment-649778219",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/335",
    "id": 649778219,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0OTc3ODIxOQ==",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-25T19:39:00Z",
    "updated_at": "2020-06-25T19:39:00Z",
    "author_association": "MEMBER",
    "body": "I tried setting `LDFLAGS=\"\"` to fix the error:\r\n```\r\ncodesign_allocate: can't allocate code signature data for: nim_status_client (for architecture x86_64) because larger updated load commands do not fit (the program must be relinked using a larger -headerpad value)\r\n```\r\nBut it didn't seem to work, but I found this:\r\n>Will only be used by CMake on the first configuration to determine the default linker flags, after which the value for LDFLAGS is stored in the cache\r\nhttps://cmake.org/cmake/help/v3.10/envvar/LDFLAGS.html",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/649778219/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/649785502",
    "html_url": "https://github.com/status-im/status-desktop/issues/335#issuecomment-649785502",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/335",
    "id": 649785502,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY0OTc4NTUwMg==",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-25T19:55:38Z",
    "updated_at": "2020-06-25T19:55:38Z",
    "author_association": "MEMBER",
    "body": "It might make sense to upgrade XCode from `11.4.1` to `11.5` just to make sure that's not the issue. I'll do that tomorrow.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/649785502/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/650283323",
    "html_url": "https://github.com/status-im/status-desktop/issues/335#issuecomment-650283323",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/335",
    "id": 650283323,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1MDI4MzMyMw==",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-26T16:51:13Z",
    "updated_at": "2020-06-26T19:49:13Z",
    "author_association": "MEMBER",
    "body": "Here's an interesting issues that go more in-depth about the `can't allocate code signature data for` error:\r\n* https://trac.macports.org/ticket/39221\r\n* https://trac.sagemath.org/ticket/19698\r\n* https://trac.sagemath.org/ticket/22228",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/650283323/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/650377822",
    "html_url": "https://github.com/status-im/status-desktop/issues/335#issuecomment-650377822",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/335",
    "id": 650377822,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1MDM3NzgyMg==",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-26T20:11:39Z",
    "updated_at": "2020-06-26T20:11:39Z",
    "author_association": "MEMBER",
    "body": "I ran the build on the one `macos-01` I upgraded to XCode `11.5` and the same error happens.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/650377822/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/650391280",
    "html_url": "https://github.com/status-im/status-desktop/issues/335#issuecomment-650391280",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/335",
    "id": 650391280,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1MDM5MTI4MA==",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-26T20:42:05Z",
    "updated_at": "2020-06-26T20:42:05Z",
    "author_association": "MEMBER",
    "body": "Another thing to try is instead of using `LDFLAGS` I could use `--passL:\"-headerpad_max_install_names\"` to try to give the suggested linker flag directly to `nim` compiler.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/650391280/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/650429743",
    "html_url": "https://github.com/status-im/status-desktop/issues/335#issuecomment-650429743",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/335",
    "id": 650429743,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1MDQyOTc0Mw==",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-26T22:22:42Z",
    "updated_at": "2020-06-26T22:24:44Z",
    "author_association": "MEMBER",
    "body": "So I've confirmed the flag actually work by setting it directly in the makefile:\r\n```Makefile\r\nNIM_PARAMS += --passL:\"-headerpad_max_install_names\"\r\n```\r\nAnd it worked in: https://ci.status.im/job/nim-status-client/job/macos/74/console\r\nNow we have our good old friend `errSecInternalComponent`:\r\n```\r\n### Signing target...\r\ntmp/macos/dist/Status.app: errSecInternalComponent\r\nIn subcomponent: /Users/jenkins/workspace/nim-status-client/macos/tmp/macos/dist/Status.app/Contents/MacOS/nim_status_client\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/650429743/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/650430365",
    "html_url": "https://github.com/status-im/status-desktop/issues/335#issuecomment-650430365",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/335",
    "id": 650430365,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1MDQzMDM2NQ==",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-26T22:24:38Z",
    "updated_at": "2020-06-26T22:24:38Z",
    "author_association": "MEMBER",
    "body": "I think this line is the issue:\r\nhttps://github.com/status-im/nim-status-client/blob/7489a2ae0036aeaf4452ace44a81ebb65f7e29eb/Makefile#L97-L99\r\nWhat it should look like is:\r\n```Makefile\r\nifeq ($(detected_OS), Darwin)\r\nNIM_PARAMS += -L:\"-framework Foundation -framework Security -framework IOKit -framework CoreServices\"\r\nendif\r\n```\r\nOtherwise the value from the environment is not inherited properly.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/650430365/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/650468391",
    "html_url": "https://github.com/status-im/status-desktop/issues/335#issuecomment-650468391",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/335",
    "id": 650468391,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1MDQ2ODM5MQ==",
    "user": {
      "login": "stefantalpalaru",
      "id": 495550,
      "node_id": "MDQ6VXNlcjQ5NTU1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/495550?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stefantalpalaru",
      "html_url": "https://github.com/stefantalpalaru",
      "followers_url": "https://api.github.com/users/stefantalpalaru/followers",
      "following_url": "https://api.github.com/users/stefantalpalaru/following{/other_user}",
      "gists_url": "https://api.github.com/users/stefantalpalaru/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stefantalpalaru/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stefantalpalaru/subscriptions",
      "organizations_url": "https://api.github.com/users/stefantalpalaru/orgs",
      "repos_url": "https://api.github.com/users/stefantalpalaru/repos",
      "events_url": "https://api.github.com/users/stefantalpalaru/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stefantalpalaru/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-27T01:15:00Z",
    "updated_at": "2020-06-27T01:15:42Z",
    "author_association": "CONTRIBUTOR",
    "body": "NIM_PARAMS should not be in the environment. That's NIMFLAGS territory.\r\n\r\nThe former is just a set of hidden-from-the-user options that the latter can add to: https://github.com/status-im/nimbus-build-system#nimflags",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/650468391/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/650529917",
    "html_url": "https://github.com/status-im/status-desktop/issues/335#issuecomment-650529917",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/335",
    "id": 650529917,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1MDUyOTkxNw==",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-27T09:22:50Z",
    "updated_at": "2020-06-27T09:22:50Z",
    "author_association": "MEMBER",
    "body": "Why would you split those? What's the point? In a `Makefile` you can just append to an existing env variable using `+=`.\r\nBy splitting this variable into two variables you're making things more obscure and harder to follow while gaining nothing.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/650529917/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/650543480",
    "html_url": "https://github.com/status-im/status-desktop/issues/335#issuecomment-650543480",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/335",
    "id": 650543480,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1MDU0MzQ4MA==",
    "user": {
      "login": "stefantalpalaru",
      "id": 495550,
      "node_id": "MDQ6VXNlcjQ5NTU1MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/495550?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stefantalpalaru",
      "html_url": "https://github.com/stefantalpalaru",
      "followers_url": "https://api.github.com/users/stefantalpalaru/followers",
      "following_url": "https://api.github.com/users/stefantalpalaru/following{/other_user}",
      "gists_url": "https://api.github.com/users/stefantalpalaru/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stefantalpalaru/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stefantalpalaru/subscriptions",
      "organizations_url": "https://api.github.com/users/stefantalpalaru/orgs",
      "repos_url": "https://api.github.com/users/stefantalpalaru/repos",
      "events_url": "https://api.github.com/users/stefantalpalaru/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stefantalpalaru/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-27T11:00:14Z",
    "updated_at": "2020-06-27T11:00:14Z",
    "author_association": "CONTRIBUTOR",
    "body": "Yes, it can use some refactoring, but it's high-cost and low-gain. Something for rainy days with nothing serious to fix/set up.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/650543480/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/650544462",
    "html_url": "https://github.com/status-im/status-desktop/issues/335#issuecomment-650544462",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/335",
    "id": 650544462,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1MDU0NDQ2Mg==",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-27T11:07:44Z",
    "updated_at": "2020-06-27T11:07:44Z",
    "author_association": "MEMBER",
    "body": "Fair.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/650544462/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/651035114",
    "html_url": "https://github.com/status-im/status-desktop/issues/335#issuecomment-651035114",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/335",
    "id": 651035114,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1MTAzNTExNA==",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-29T09:46:45Z",
    "updated_at": "2020-06-29T09:46:45Z",
    "author_association": "MEMBER",
    "body": "So the issue is clear: `errSecInternalComponent` is caused by `codesign` trying to open a UI prompt to unlock the keychain and being unable to due to CI job running headless, without UI.\r\n\r\nBased on [a comment](https://github.com/fastlane/fastlane/issues/15185#issuecomment-577876643) in an issue I opened for fastlane I found this command:\r\n```\r\nsecurity set-key-partition-list -S apple-tool:,apple: -s -k keychainPass keychainName\r\n```\r\nSource: https://stackoverflow.com/a/40039594\r\n\r\nThis is worth a try.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/651035114/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/651186818",
    "html_url": "https://github.com/status-im/status-desktop/issues/335#issuecomment-651186818",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/335",
    "id": 651186818,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY1MTE4NjgxOA==",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-06-29T15:16:06Z",
    "updated_at": "2020-06-29T15:16:06Z",
    "author_association": "MEMBER",
    "body": "I tried it on our keychain and didn't change the `md5` hash of the keychain:\r\n```sh\r\nadministrator@macos-03.ms-eu-dublin.ci.misc:~ % md5 nim-status-client.keychain-db    \r\nMD5 (nim-status-client.keychain-db) = 3bd9d4c85e4702236317a7535abb41bd\r\n\r\nadministrator@macos-03.ms-eu-dublin.ci.misc:~ % security set-key-partition-list -S apple-tool:,apple: -s -k ${KEYCHAIN_PASS} nim-status-client.keychain-db\r\n...\r\n\r\nadministrator@macos-03.ms-eu-dublin.ci.misc:~ % md5 nim-status-client.keychain-db                                                                         \r\nMD5 (nim-status-client.keychain-db) = 3bd9d4c85e4702236317a7535abb41bd\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/651186818/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
