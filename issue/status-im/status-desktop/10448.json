{
  "url": "https://api.github.com/repos/status-im/status-desktop/issues/10448",
  "repository_url": "https://api.github.com/repos/status-im/status-desktop",
  "labels_url": "https://api.github.com/repos/status-im/status-desktop/issues/10448/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-desktop/issues/10448/comments",
  "events_url": "https://api.github.com/repos/status-im/status-desktop/issues/10448/events",
  "html_url": "https://github.com/status-im/status-desktop/issues/10448",
  "id": 1685363088,
  "node_id": "I_kwDOD5KrTM5kdJmQ",
  "number": 10448,
  "title": "[tests] Add squish tests to catch RAM usage regressions",
  "user": {
    "login": "alexjba",
    "id": 47811206,
    "node_id": "MDQ6VXNlcjQ3ODExMjA2",
    "avatar_url": "https://avatars.githubusercontent.com/u/47811206?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/alexjba",
    "html_url": "https://github.com/alexjba",
    "followers_url": "https://api.github.com/users/alexjba/followers",
    "following_url": "https://api.github.com/users/alexjba/following{/other_user}",
    "gists_url": "https://api.github.com/users/alexjba/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/alexjba/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/alexjba/subscriptions",
    "organizations_url": "https://api.github.com/users/alexjba/orgs",
    "repos_url": "https://api.github.com/users/alexjba/repos",
    "events_url": "https://api.github.com/users/alexjba/events{/privacy}",
    "received_events_url": "https://api.github.com/users/alexjba/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 4124403457,
      "node_id": "LA_kwDOD5KrTM711WcB",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/squish",
      "name": "squish",
      "color": "29F655",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2023-04-26T16:37:07Z",
  "updated_at": "2023-04-27T07:30:19Z",
  "closed_at": null,
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "### Description\r\n\r\nAdding squish tests to verify the RAM usage in different scenarios will help in catching and fixing regressions early and we can keep the RAM usage under control with future development.\r\n\r\nThe purpose of this task is to create a new squish test suite used for performance checks and add a minimal test that will open a `heavy` account (Status Community member with all the history available in the DB), go through different channels and assess the memory usage at 3 different stages:\r\n1. Pre-login\r\n2. Post-login\r\n3. At test end\r\n\r\nPrerequisites:\r\n- [ ] Define the acceptable RAM usage for each step\r\n- [ ] Create a \"heavy\" DB to be used by CI tests. For this we need a new account, member of Status Community, with all the message history. Here we could also make sure all the currently implemented features are active. The `shared-desktop-account` is one option, but might not be reliable because it can be used by the entire dev team and actions like joining new communities, leaving communities will be reflected in the test DB. The `shared-desktop-account` DB can be found [here](https://drive.google.com/file/d/1rtB8Dv9Oy-r2xfjZt0PgC95ndR_ge8Pf/view?usp=sharing)\r\n\r\nTo analyse:\r\n- [ ] How can we use the DB in the CI? \r\nOne option is to download the DB on each test run by using the test framework (This will probably make the tests unusable for PR checks and the test running time will probably grow in time due to migrations and lots of missed messages being fetched. Probably a nightly run is appropriate for this).\r\nAnother option would be to have the DB on the CI machine. This will make failing tests hard to debug, fixing unstable tests will be out of devs hands because CI machine access will be needed to update the DB. Adding different DB versions for different tests is hard to do in this case.",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/10448/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-desktop/issues/10448/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1524974726",
    "html_url": "https://github.com/status-im/status-desktop/issues/10448#issuecomment-1524974726",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/10448",
    "id": 1524974726,
    "node_id": "IC_kwDOD5KrTM5a5USG",
    "user": {
      "login": "anastasiyaig",
      "id": 82375995,
      "node_id": "MDQ6VXNlcjgyMzc1OTk1",
      "avatar_url": "https://avatars.githubusercontent.com/u/82375995?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/anastasiyaig",
      "html_url": "https://github.com/anastasiyaig",
      "followers_url": "https://api.github.com/users/anastasiyaig/followers",
      "following_url": "https://api.github.com/users/anastasiyaig/following{/other_user}",
      "gists_url": "https://api.github.com/users/anastasiyaig/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/anastasiyaig/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/anastasiyaig/subscriptions",
      "organizations_url": "https://api.github.com/users/anastasiyaig/orgs",
      "repos_url": "https://api.github.com/users/anastasiyaig/repos",
      "events_url": "https://api.github.com/users/anastasiyaig/events{/privacy}",
      "received_events_url": "https://api.github.com/users/anastasiyaig/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-27T07:30:19Z",
    "updated_at": "2023-04-27T07:30:19Z",
    "author_association": "CONTRIBUTOR",
    "body": "@StateOf-Vlado @glitchminer adding u for transparency",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1524974726/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
