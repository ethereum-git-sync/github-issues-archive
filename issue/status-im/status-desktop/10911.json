{
  "url": "https://api.github.com/repos/status-im/status-desktop/issues/10911",
  "repository_url": "https://api.github.com/repos/status-im/status-desktop",
  "labels_url": "https://api.github.com/repos/status-im/status-desktop/issues/10911/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-desktop/issues/10911/comments",
  "events_url": "https://api.github.com/repos/status-im/status-desktop/issues/10911/events",
  "html_url": "https://github.com/status-im/status-desktop/issues/10911",
  "id": 1738696312,
  "node_id": "I_kwDOD5KrTM5nomZ4",
  "number": 10911,
  "title": "Make it possible to load a specific page of messages in the context of navigating to a message",
  "user": {
    "login": "jrainville",
    "id": 11926403,
    "node_id": "MDQ6VXNlcjExOTI2NDAz",
    "avatar_url": "https://avatars.githubusercontent.com/u/11926403?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jrainville",
    "html_url": "https://github.com/jrainville",
    "followers_url": "https://api.github.com/users/jrainville/followers",
    "following_url": "https://api.github.com/users/jrainville/following{/other_user}",
    "gists_url": "https://api.github.com/users/jrainville/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jrainville/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jrainville/subscriptions",
    "organizations_url": "https://api.github.com/users/jrainville/orgs",
    "repos_url": "https://api.github.com/users/jrainville/repos",
    "events_url": "https://api.github.com/users/jrainville/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jrainville/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 3047427135,
      "node_id": "MDU6TGFiZWwzMDQ3NDI3MTM1",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/feature",
      "name": "feature",
      "color": "0E8A16",
      "default": false,
      "description": ""
    },
    {
      "id": 4548141040,
      "node_id": "LA_kwDOD5KrTM8AAAABDxcf8A",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/messenger-team",
      "name": "messenger-team",
      "color": "232858",
      "default": false,
      "description": ""
    },
    {
      "id": 5745649251,
      "node_id": "LA_kwDOD5KrTM8AAAABVnemYw",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/E:Desktop%20Scalability%20For%20Mass%20Market",
      "name": "E:Desktop Scalability For Mass Market",
      "color": "20FD3C",
      "default": false,
      "description": "Issues related to make the app scalable for thousands of user at the same time"
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": {
    "url": "https://api.github.com/repos/status-im/status-desktop/milestones/77",
    "html_url": "https://github.com/status-im/status-desktop/milestone/77",
    "labels_url": "https://api.github.com/repos/status-im/status-desktop/milestones/77/labels",
    "id": 9909318,
    "node_id": "MI_kwDOD5KrTM4AlzRG",
    "number": 77,
    "title": "0.15.5 - Stabilizing release",
    "description": "A point milestone where we focus 100% on bug fixing, stabilisation and finishing any unfinished items from 0.15  \r\n\r\nZero new messaging and community features.\r\n\r\n--- Wallet ---\r\n\r\n- Community Asset and NFT designs for Asset screens\r\n- Community token visibility\r\n- Minor updates to Asset screens",
    "creator": {
      "login": "John-44",
      "id": 22846356,
      "node_id": "MDQ6VXNlcjIyODQ2MzU2",
      "avatar_url": "https://avatars.githubusercontent.com/u/22846356?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/John-44",
      "html_url": "https://github.com/John-44",
      "followers_url": "https://api.github.com/users/John-44/followers",
      "following_url": "https://api.github.com/users/John-44/following{/other_user}",
      "gists_url": "https://api.github.com/users/John-44/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/John-44/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/John-44/subscriptions",
      "organizations_url": "https://api.github.com/users/John-44/orgs",
      "repos_url": "https://api.github.com/users/John-44/repos",
      "events_url": "https://api.github.com/users/John-44/events{/privacy}",
      "received_events_url": "https://api.github.com/users/John-44/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 52,
    "closed_issues": 1,
    "state": "open",
    "created_at": "2023-09-11T16:40:59Z",
    "updated_at": "2023-09-18T17:32:06Z",
    "due_on": "2023-11-03T07:00:00Z",
    "closed_at": null
  },
  "comments": 0,
  "created_at": "2023-06-02T19:24:25Z",
  "updated_at": "2023-09-18T17:38:28Z",
  "closed_at": null,
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "### Description\r\n\r\nRight now, when navigating to a message either from search, from a pinned or reply message or later from a link, we get messages from the DB in order from newest to oldest until we reach the right message.\r\n\r\nHowever, this can be pretty slow and also not great for memory, as we have to load a lot of useless messages.\r\n\r\nThe solution would be to instead have a new status-go function that loads a page of messages with the specific message we want in the middle.\r\n\r\nThen we can update the chat view with those messages and we wouldn't have to get all those in between messages.\r\n\r\nThere are a couple of important details however:\r\n- we'd need to show the loading screen when doing that get, since it might take time\r\n- once we show the retrieved messages, we need to highlight the clicked message (might already be the case)\r\n- we need to still support scrolling up to load more old messages, but this is not the same cursor as the one from the \"normal\" chat list, since we are way higher. That means status-go, when returning the page of messages, also needs to tell us what was that cursor\r\n- we would now need a new scroll behavior where scrolling down loads newer messages. This also requires a new cursor\r\n- we need to show the \"go down button\" to go back to recent messages, but without triggering the message load for newer messages from the line above\r\n\r\nI'm not exactly sure what is the best way to achieve the UI part of it. It might require new components that create a gap between the most recent messages (the normal chat list), and the navigated messages, since there would be lots of missing messages between them.\r\n\r\nMaybe that \"gap\" (let's find a new word for that since we already use gap for store node gaps) component would be the one to store which cursor it is using, that was we know which page to load when scrolling.\r\n\r\n### Acceptance Criteria\r\n\r\n- Navigating to a message, whatever the way, goes to it directly without just scrolling up and  up like right now (so it is faster)\r\n- There is a loading screen/state when loading the messages\r\n- The clicked message is highlighted for a short time (the already implemented highlight feature)\r\n- Scrolling up still works and loads older message from that subset of messages, ie if the page of message is from february, then scrolling up gets messages from february, than january, etc\r\n- Scrolling down loads newer messages, again with the same logic as above\r\n- There is a \"go back down\" button. When it is clicked, it should be instant and there should **not** be any message loading. We just go down to the most recent messages that were already loaded\r\n- Clicking again on the same message link/pin, it should be instant since we already loaded the message (it doesn't load again)\r\n\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/10911/reactions",
    "total_count": 1,
    "+1": 1,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-desktop/issues/10911/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[

]
