{
  "url": "https://api.github.com/repos/status-im/status-desktop/issues/12114",
  "repository_url": "https://api.github.com/repos/status-im/status-desktop",
  "labels_url": "https://api.github.com/repos/status-im/status-desktop/issues/12114/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-desktop/issues/12114/comments",
  "events_url": "https://api.github.com/repos/status-im/status-desktop/issues/12114/events",
  "html_url": "https://github.com/status-im/status-desktop/issues/12114",
  "id": 1890025241,
  "node_id": "I_kwDOD5KrTM5wp38Z",
  "number": 12114,
  "title": "Community channels member list issue ",
  "user": {
    "login": "MishkaRogachev",
    "id": 2522130,
    "node_id": "MDQ6VXNlcjI1MjIxMzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2522130?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/MishkaRogachev",
    "html_url": "https://github.com/MishkaRogachev",
    "followers_url": "https://api.github.com/users/MishkaRogachev/followers",
    "following_url": "https://api.github.com/users/MishkaRogachev/following{/other_user}",
    "gists_url": "https://api.github.com/users/MishkaRogachev/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/MishkaRogachev/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/MishkaRogachev/subscriptions",
    "organizations_url": "https://api.github.com/users/MishkaRogachev/orgs",
    "repos_url": "https://api.github.com/users/MishkaRogachev/repos",
    "events_url": "https://api.github.com/users/MishkaRogachev/events{/privacy}",
    "received_events_url": "https://api.github.com/users/MishkaRogachev/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 2036563458,
      "node_id": "MDU6TGFiZWwyMDM2NTYzNDU4",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/bug",
      "name": "bug",
      "color": "d73a4a",
      "default": true,
      "description": "Something isn't working"
    },
    {
      "id": 4548141040,
      "node_id": "LA_kwDOD5KrTM8AAAABDxcf8A",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/messenger-team",
      "name": "messenger-team",
      "color": "232858",
      "default": false,
      "description": ""
    },
    {
      "id": 5745637395,
      "node_id": "LA_kwDOD5KrTM8AAAABVnd4Ew",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/E:Desktop%20Community%20Bugfixes%20MVP",
      "name": "E:Desktop Community Bugfixes MVP",
      "color": "01CE46",
      "default": false,
      "description": "Misc bug fixes about communities that are due for the MVP"
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": {
    "url": "https://api.github.com/repos/status-im/status-desktop/milestones/76",
    "html_url": "https://github.com/status-im/status-desktop/milestone/76",
    "labels_url": "https://api.github.com/repos/status-im/status-desktop/milestones/76/labels",
    "id": 9826175,
    "node_id": "MI_kwDOD5KrTM4Ale9_",
    "number": 76,
    "title": "0.14.0 RC",
    "description": "",
    "creator": {
      "login": "jrainville",
      "id": 11926403,
      "node_id": "MDQ6VXNlcjExOTI2NDAz",
      "avatar_url": "https://avatars.githubusercontent.com/u/11926403?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jrainville",
      "html_url": "https://github.com/jrainville",
      "followers_url": "https://api.github.com/users/jrainville/followers",
      "following_url": "https://api.github.com/users/jrainville/following{/other_user}",
      "gists_url": "https://api.github.com/users/jrainville/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jrainville/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jrainville/subscriptions",
      "organizations_url": "https://api.github.com/users/jrainville/orgs",
      "repos_url": "https://api.github.com/users/jrainville/repos",
      "events_url": "https://api.github.com/users/jrainville/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jrainville/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 7,
    "closed_issues": 11,
    "state": "open",
    "created_at": "2023-08-22T18:32:10Z",
    "updated_at": "2023-09-13T11:31:19Z",
    "due_on": "2023-09-01T07:00:00Z",
    "closed_at": null
  },
  "comments": 6,
  "created_at": "2023-09-11T09:03:34Z",
  "updated_at": "2023-09-14T16:35:39Z",
  "closed_at": null,
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "# Bug Report\r\n\r\n## Description\r\n\r\n<img width=\"1325\" alt=\"Screenshot 2023-09-11 at 12 52 29\" src=\"https://github.com/status-im/status-desktop/assets/2522130/890f78f7-4b23-452f-83d5-569624e41cc1\">\r\n\r\nThe problem is reproduced periodically in the `Status CCs` community when performing the following actions on the control node:\r\n- Adding new community members\r\n- Kicking/Banning community members\r\n\r\nInstead of displaying all members of the community in the channel, only some (last?) members of the community appear there. All channels break at once.\r\n\r\nThe problem was found while working on https://github.com/status-im/status-desktop/issues/12046, but it was found that when the control node is updated to 0.14, the list of community members is restored normally. See comment [here](https://github.com/status-im/status-go/pull/3996#issuecomment-1708908041).\r\n\r\nAdding a new community member sometimes restores the correct list of community channel members, but after a while the problem may reappear.\r\n\r\nAlso note: \r\n- The community member sheet looks normal, only the channel member list is broken\r\n- I did not succeed to reproduce this issue with status-go tests and fresh communities. It's most likely that this only appears in older communities",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/12114/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-desktop/issues/12114/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1713961412",
    "html_url": "https://github.com/status-im/status-desktop/issues/12114#issuecomment-1713961412",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/12114",
    "id": 1713961412,
    "node_id": "IC_kwDOD5KrTM5mKPnE",
    "user": {
      "login": "iurimatias",
      "id": 176720,
      "node_id": "MDQ6VXNlcjE3NjcyMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/176720?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/iurimatias",
      "html_url": "https://github.com/iurimatias",
      "followers_url": "https://api.github.com/users/iurimatias/followers",
      "following_url": "https://api.github.com/users/iurimatias/following{/other_user}",
      "gists_url": "https://api.github.com/users/iurimatias/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/iurimatias/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iurimatias/subscriptions",
      "organizations_url": "https://api.github.com/users/iurimatias/orgs",
      "repos_url": "https://api.github.com/users/iurimatias/repos",
      "events_url": "https://api.github.com/users/iurimatias/events{/privacy}",
      "received_events_url": "https://api.github.com/users/iurimatias/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-09-11T14:06:13Z",
    "updated_at": "2023-09-11T14:06:13Z",
    "author_association": "MEMBER",
    "body": "This happened just now, I invited someoen to the CC community, and upon approval the member list shows up again, while before this it was just 4 members. However later it's quite possible it will revert back to 4 members since that what has happened before. so to summarize:\r\n\r\n- Member list on the sidebar eventually shows up just a few members, and these are all members that have been accepted recently, since the update, so ti seems the two are related\r\n- After accepting a new member, the sidebar shows the correct member list again, but reverting again.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1713961412/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1714073394",
    "html_url": "https://github.com/status-im/status-desktop/issues/12114#issuecomment-1714073394",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/12114",
    "id": 1714073394,
    "node_id": "IC_kwDOD5KrTM5mKq8y",
    "user": {
      "login": "caybro",
      "id": 5377645,
      "node_id": "MDQ6VXNlcjUzNzc2NDU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5377645?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/caybro",
      "html_url": "https://github.com/caybro",
      "followers_url": "https://api.github.com/users/caybro/followers",
      "following_url": "https://api.github.com/users/caybro/following{/other_user}",
      "gists_url": "https://api.github.com/users/caybro/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/caybro/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/caybro/subscriptions",
      "organizations_url": "https://api.github.com/users/caybro/orgs",
      "repos_url": "https://api.github.com/users/caybro/repos",
      "events_url": "https://api.github.com/users/caybro/events{/privacy}",
      "received_events_url": "https://api.github.com/users/caybro/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-09-11T15:04:01Z",
    "updated_at": "2023-09-11T15:04:01Z",
    "author_association": "MEMBER",
    "body": "> This happened just now, I invited someoen to the CC community, and upon approval the member list shows up again, while before this it was just 4 members. However later it's quite possible it will revert back to 4 members since that what has happened before. so to summarize:\r\n> \r\n> * Member list on the sidebar eventually shows up just a few members, and these are all members that have been accepted recently, since the update, so ti seems the two are related\r\n> * After accepting a new member, the sidebar shows the correct member list again, but reverting again.\r\n\r\nYup, I can see the full member list at this very moment; will report back what happens later/tomorrow when I've restarted the app :)",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1714073394/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1714124483",
    "html_url": "https://github.com/status-im/status-desktop/issues/12114#issuecomment-1714124483",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/12114",
    "id": 1714124483,
    "node_id": "IC_kwDOD5KrTM5mK3bD",
    "user": {
      "login": "iurimatias",
      "id": 176720,
      "node_id": "MDQ6VXNlcjE3NjcyMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/176720?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/iurimatias",
      "html_url": "https://github.com/iurimatias",
      "followers_url": "https://api.github.com/users/iurimatias/followers",
      "following_url": "https://api.github.com/users/iurimatias/following{/other_user}",
      "gists_url": "https://api.github.com/users/iurimatias/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/iurimatias/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iurimatias/subscriptions",
      "organizations_url": "https://api.github.com/users/iurimatias/orgs",
      "repos_url": "https://api.github.com/users/iurimatias/repos",
      "events_url": "https://api.github.com/users/iurimatias/events{/privacy}",
      "received_events_url": "https://api.github.com/users/iurimatias/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-09-11T15:31:37Z",
    "updated_at": "2023-09-11T15:31:37Z",
    "author_association": "MEMBER",
    "body": "After restarting just now, it's back to only a few members",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1714124483/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1717393309",
    "html_url": "https://github.com/status-im/status-desktop/issues/12114#issuecomment-1717393309",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/12114",
    "id": 1717393309,
    "node_id": "IC_kwDOD5KrTM5mXVed",
    "user": {
      "login": "MishkaRogachev",
      "id": 2522130,
      "node_id": "MDQ6VXNlcjI1MjIxMzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2522130?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MishkaRogachev",
      "html_url": "https://github.com/MishkaRogachev",
      "followers_url": "https://api.github.com/users/MishkaRogachev/followers",
      "following_url": "https://api.github.com/users/MishkaRogachev/following{/other_user}",
      "gists_url": "https://api.github.com/users/MishkaRogachev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MishkaRogachev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MishkaRogachev/subscriptions",
      "organizations_url": "https://api.github.com/users/MishkaRogachev/orgs",
      "repos_url": "https://api.github.com/users/MishkaRogachev/repos",
      "events_url": "https://api.github.com/users/MishkaRogachev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MishkaRogachev/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-09-13T10:48:24Z",
    "updated_at": "2023-09-13T10:48:24Z",
    "author_association": "CONTRIBUTOR",
    "body": "Short update: At the moment, the community channel members list still shows the same members, but there is an interesting point:\r\n\r\n<img width=\"1308\" alt=\"Screenshot 2023-09-13 at 01 32 48\" src=\"https://github.com/status-im/status-desktop/assets/2522130/794215c5-2037-4c2a-84bc-ce61d5634561\">\r\n\r\n\r\nSince the latest status-desktop releases of 0.14 use the develop status-go branch, [Patrick's fix](https://github.com/status-im/status-go/pull/3942) was not present in them. And now there is no way to revert status-desktop the status-go branch 0.14, since we don't have downward migrations.\r\n\r\nSo I made a [PR](https://github.com/status-im/status-go/pull/4019) with this fix and additional logs here. @iurimatias built it yesterday and ran it on the Status CCs community control node. The list of community channel members is working and the logs show the correct number of users when adding and removing community members, but now the clients don't get this information: I can see old number of community members (200) and only a few members in the community channel members list.\r\n\r\nUsing the same version with logs, I can observe that I do NOT get the message (do not see logs) in handleCommunityDescription, although in previous versions I definitely saw this message with the wrong number of channel members but the correct number of community members",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1717393309/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1719566373",
    "html_url": "https://github.com/status-im/status-desktop/issues/12114#issuecomment-1719566373",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/12114",
    "id": 1719566373,
    "node_id": "IC_kwDOD5KrTM5mfoAl",
    "user": {
      "login": "jrainville",
      "id": 11926403,
      "node_id": "MDQ6VXNlcjExOTI2NDAz",
      "avatar_url": "https://avatars.githubusercontent.com/u/11926403?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jrainville",
      "html_url": "https://github.com/jrainville",
      "followers_url": "https://api.github.com/users/jrainville/followers",
      "following_url": "https://api.github.com/users/jrainville/following{/other_user}",
      "gists_url": "https://api.github.com/users/jrainville/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jrainville/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jrainville/subscriptions",
      "organizations_url": "https://api.github.com/users/jrainville/orgs",
      "repos_url": "https://api.github.com/users/jrainville/repos",
      "events_url": "https://api.github.com/users/jrainville/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jrainville/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-09-14T14:29:25Z",
    "updated_at": "2023-09-14T14:29:25Z",
    "author_association": "MEMBER",
    "body": "> Since the latest status-desktop releases of 0.14 use the develop status-go branch, https://github.com/status-im/status-go/pull/3942 was not present in them. And now there is no way to revert status-desktop the status-go branch 0.14, since we don't have downward migrations.\r\n\r\nThe goal was for that fix to be cherry-picked in the release branch once Iuri updated the control node. Have you done that? Maybe it fixes the issue?",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1719566373/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1719783877",
    "html_url": "https://github.com/status-im/status-desktop/issues/12114#issuecomment-1719783877",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/12114",
    "id": 1719783877,
    "node_id": "IC_kwDOD5KrTM5mgdHF",
    "user": {
      "login": "MishkaRogachev",
      "id": 2522130,
      "node_id": "MDQ6VXNlcjI1MjIxMzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2522130?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MishkaRogachev",
      "html_url": "https://github.com/MishkaRogachev",
      "followers_url": "https://api.github.com/users/MishkaRogachev/followers",
      "following_url": "https://api.github.com/users/MishkaRogachev/following{/other_user}",
      "gists_url": "https://api.github.com/users/MishkaRogachev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MishkaRogachev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MishkaRogachev/subscriptions",
      "organizations_url": "https://api.github.com/users/MishkaRogachev/orgs",
      "repos_url": "https://api.github.com/users/MishkaRogachev/repos",
      "events_url": "https://api.github.com/users/MishkaRogachev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MishkaRogachev/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-09-14T16:35:39Z",
    "updated_at": "2023-09-14T16:35:39Z",
    "author_association": "CONTRIBUTOR",
    "body": "> The goal was for that fix to be cherry-picked in the release branch once Iuri updated the control node. Have you done that? Maybe it fixes the issue?\r\n\r\nI want to believe it is, but until we fix the CommunityDescription, it can't be confirmed.\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1719783877/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
