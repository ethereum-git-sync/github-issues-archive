{
  "url": "https://api.github.com/repos/status-im/status-desktop/issues/10218",
  "repository_url": "https://api.github.com/repos/status-im/status-desktop",
  "labels_url": "https://api.github.com/repos/status-im/status-desktop/issues/10218/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-desktop/issues/10218/comments",
  "events_url": "https://api.github.com/repos/status-im/status-desktop/issues/10218/events",
  "html_url": "https://github.com/status-im/status-desktop/issues/10218",
  "id": 1657577387,
  "node_id": "I_kwDOD5KrTM5izJ-r",
  "number": 10218,
  "title": "StatusQ modules separation",
  "user": {
    "login": "igor-sirotin",
    "id": 25482501,
    "node_id": "MDQ6VXNlcjI1NDgyNTAx",
    "avatar_url": "https://avatars.githubusercontent.com/u/25482501?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/igor-sirotin",
    "html_url": "https://github.com/igor-sirotin",
    "followers_url": "https://api.github.com/users/igor-sirotin/followers",
    "following_url": "https://api.github.com/users/igor-sirotin/following{/other_user}",
    "gists_url": "https://api.github.com/users/igor-sirotin/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/igor-sirotin/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/igor-sirotin/subscriptions",
    "organizations_url": "https://api.github.com/users/igor-sirotin/orgs",
    "repos_url": "https://api.github.com/users/igor-sirotin/repos",
    "events_url": "https://api.github.com/users/igor-sirotin/events{/privacy}",
    "received_events_url": "https://api.github.com/users/igor-sirotin/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 3143640900,
      "node_id": "MDU6TGFiZWwzMTQzNjQwOTAw",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/chore",
      "name": "chore",
      "color": "5AD5E4",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2023-04-06T14:52:23Z",
  "updated_at": "2023-11-06T16:50:06Z",
  "closed_at": "2023-11-06T16:50:06Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "This is a problem I came to in https://github.com/status-im/status-desktop/pull/10207\r\n\r\n## Problem\r\n\r\n`StatusQ.Core.Theme` (or any other \"qml sub-module\") is compiled as resources in StatusQ plugin  `libStatusQ.dylib`.\r\nBecause of this, to access `StatusQ.Core.Theme` we should first load the plugin resources.\r\n\r\nTo do this, I currently added `import StatusQ 0.1` in each root QML file of all applications (desktop, sandbox, storybook, qml tests).\r\n\r\n## Solution\r\n\r\nIn fact, `StatusQ`, `StatusQ.Core` and `StatusQ.Core.Theme` are 3 different QML modules.\r\n\r\nQML files of `StatusQ.Core.Theme` should be self-contained. If compiled into a plugin, than it should be compiled into a separate `StatusQ/Core/Theme/libStatusQCoreTheme.dylib`. \r\n\r\nThis is the key to fix all dependency problems. But itâ€™s quite hard to achieve with pure CMake without [qt_add_qml_module](https://doc.qt.io/qt-6/qt-add-qml-module.html).\r\n\r\n## Note\r\n\r\nI don't think we should put effort to fix this before switching to Qt6.\r\nThe workaround works fine and doesn't hurt.\r\n\r\nBut I'd leave this task here, because I've left links in the code to this issue.",
  "closed_by": {
    "login": "jrainville",
    "id": 11926403,
    "node_id": "MDQ6VXNlcjExOTI2NDAz",
    "avatar_url": "https://avatars.githubusercontent.com/u/11926403?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jrainville",
    "html_url": "https://github.com/jrainville",
    "followers_url": "https://api.github.com/users/jrainville/followers",
    "following_url": "https://api.github.com/users/jrainville/following{/other_user}",
    "gists_url": "https://api.github.com/users/jrainville/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jrainville/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jrainville/subscriptions",
    "organizations_url": "https://api.github.com/users/jrainville/orgs",
    "repos_url": "https://api.github.com/users/jrainville/repos",
    "events_url": "https://api.github.com/users/jrainville/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jrainville/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/10218/reactions",
    "total_count": 1,
    "+1": 1,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-desktop/issues/10218/timeline",
  "performed_via_github_app": null,
  "state_reason": "not_planned"
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1500561828",
    "html_url": "https://github.com/status-im/status-desktop/issues/10218#issuecomment-1500561828",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/10218",
    "id": 1500561828,
    "node_id": "IC_kwDOD5KrTM5ZcMGk",
    "user": {
      "login": "caybro",
      "id": 5377645,
      "node_id": "MDQ6VXNlcjUzNzc2NDU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5377645?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/caybro",
      "html_url": "https://github.com/caybro",
      "followers_url": "https://api.github.com/users/caybro/followers",
      "following_url": "https://api.github.com/users/caybro/following{/other_user}",
      "gists_url": "https://api.github.com/users/caybro/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/caybro/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/caybro/subscriptions",
      "organizations_url": "https://api.github.com/users/caybro/orgs",
      "repos_url": "https://api.github.com/users/caybro/repos",
      "events_url": "https://api.github.com/users/caybro/events{/privacy}",
      "received_events_url": "https://api.github.com/users/caybro/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-07T19:12:19Z",
    "updated_at": "2023-04-07T19:12:19Z",
    "author_association": "MEMBER",
    "body": "Just got an idea how to fix this workaround: we could compile the resources into an external file (like we do currently in status_desktop) and then from the StatusQ plugin.cpp load it via [QResource::registerResource](https://doc.qt.io/qt-5/qresource.html#registerResource)",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1500561828/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1501688863",
    "html_url": "https://github.com/status-im/status-desktop/issues/10218#issuecomment-1501688863",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/10218",
    "id": 1501688863,
    "node_id": "IC_kwDOD5KrTM5ZgfQf",
    "user": {
      "login": "igor-sirotin",
      "id": 25482501,
      "node_id": "MDQ6VXNlcjI1NDgyNTAx",
      "avatar_url": "https://avatars.githubusercontent.com/u/25482501?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/igor-sirotin",
      "html_url": "https://github.com/igor-sirotin",
      "followers_url": "https://api.github.com/users/igor-sirotin/followers",
      "following_url": "https://api.github.com/users/igor-sirotin/following{/other_user}",
      "gists_url": "https://api.github.com/users/igor-sirotin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/igor-sirotin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/igor-sirotin/subscriptions",
      "organizations_url": "https://api.github.com/users/igor-sirotin/orgs",
      "repos_url": "https://api.github.com/users/igor-sirotin/repos",
      "events_url": "https://api.github.com/users/igor-sirotin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/igor-sirotin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-10T11:09:39Z",
    "updated_at": "2023-04-10T11:09:39Z",
    "author_association": "CONTRIBUTOR",
    "body": "I don't think it would work. Or at least it wouldn't work properly.\r\n\r\nStatusQ `plugin.cpp` will only be loaded when `import StatusQ` is found. So the `registerResource` would be only called at that point. And just as before, the resources wouldn't be found earlier with `import StatusQ.Core.Theme`. \r\n\r\nAs I understand, there's no difference if the resources are in compiled in external file or right with `StatusQ.dll`. \r\n\r\nOr I might be missing something from your point here.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1501688863/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1568187289",
    "html_url": "https://github.com/status-im/status-desktop/issues/10218#issuecomment-1568187289",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/10218",
    "id": 1568187289,
    "node_id": "IC_kwDOD5KrTM5deKOZ",
    "user": {
      "login": "igor-sirotin",
      "id": 25482501,
      "node_id": "MDQ6VXNlcjI1NDgyNTAx",
      "avatar_url": "https://avatars.githubusercontent.com/u/25482501?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/igor-sirotin",
      "html_url": "https://github.com/igor-sirotin",
      "followers_url": "https://api.github.com/users/igor-sirotin/followers",
      "following_url": "https://api.github.com/users/igor-sirotin/following{/other_user}",
      "gists_url": "https://api.github.com/users/igor-sirotin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/igor-sirotin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/igor-sirotin/subscriptions",
      "organizations_url": "https://api.github.com/users/igor-sirotin/orgs",
      "repos_url": "https://api.github.com/users/igor-sirotin/repos",
      "events_url": "https://api.github.com/users/igor-sirotin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/igor-sirotin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-30T10:26:18Z",
    "updated_at": "2023-05-30T10:26:18Z",
    "author_association": "CONTRIBUTOR",
    "body": "@iurimatias I don't think we are going to implement this in near future, so it might make sense to close this issue.\r\nThis is pure refactoring to remove several workarounds made in the code. \r\n\r\nThough this is good reference for C++ implementation modules architecture.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1568187289/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1795474764",
    "html_url": "https://github.com/status-im/status-desktop/issues/10218#issuecomment-1795474764",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/10218",
    "id": 1795474764,
    "node_id": "IC_kwDOD5KrTM5rBMVM",
    "user": {
      "login": "jrainville",
      "id": 11926403,
      "node_id": "MDQ6VXNlcjExOTI2NDAz",
      "avatar_url": "https://avatars.githubusercontent.com/u/11926403?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jrainville",
      "html_url": "https://github.com/jrainville",
      "followers_url": "https://api.github.com/users/jrainville/followers",
      "following_url": "https://api.github.com/users/jrainville/following{/other_user}",
      "gists_url": "https://api.github.com/users/jrainville/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jrainville/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jrainville/subscriptions",
      "organizations_url": "https://api.github.com/users/jrainville/orgs",
      "repos_url": "https://api.github.com/users/jrainville/repos",
      "events_url": "https://api.github.com/users/jrainville/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jrainville/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-11-06T16:50:06Z",
    "updated_at": "2023-11-06T16:50:06Z",
    "author_association": "MEMBER",
    "body": "Closing as we won't be doing this before the move to C++",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1795474764/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
