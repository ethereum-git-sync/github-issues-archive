{
  "url": "https://api.github.com/repos/status-im/status-desktop/issues/13355",
  "repository_url": "https://api.github.com/repos/status-im/status-desktop",
  "labels_url": "https://api.github.com/repos/status-im/status-desktop/issues/13355/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-desktop/issues/13355/comments",
  "events_url": "https://api.github.com/repos/status-im/status-desktop/issues/13355/events",
  "html_url": "https://github.com/status-im/status-desktop/issues/13355",
  "id": 2107145902,
  "node_id": "I_kwDOD5KrTM59mH6u",
  "number": 13355,
  "title": "Connection to store node is lost",
  "user": {
    "login": "anastasiyaig",
    "id": 82375995,
    "node_id": "MDQ6VXNlcjgyMzc1OTk1",
    "avatar_url": "https://avatars.githubusercontent.com/u/82375995?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/anastasiyaig",
    "html_url": "https://github.com/anastasiyaig",
    "followers_url": "https://api.github.com/users/anastasiyaig/followers",
    "following_url": "https://api.github.com/users/anastasiyaig/following{/other_user}",
    "gists_url": "https://api.github.com/users/anastasiyaig/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/anastasiyaig/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/anastasiyaig/subscriptions",
    "organizations_url": "https://api.github.com/users/anastasiyaig/orgs",
    "repos_url": "https://api.github.com/users/anastasiyaig/repos",
    "events_url": "https://api.github.com/users/anastasiyaig/events{/privacy}",
    "received_events_url": "https://api.github.com/users/anastasiyaig/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 2036563458,
      "node_id": "MDU6TGFiZWwyMDM2NTYzNDU4",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/bug",
      "name": "bug",
      "color": "d73a4a",
      "default": true,
      "description": "Something isn't working"
    },
    {
      "id": 5886643551,
      "node_id": "LA_kwDOD5KrTM8AAAABXt8NXw",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/E:Community%20Sharding",
      "name": "E:Community Sharding",
      "color": "bfdadc",
      "default": false,
      "description": "Tasks to get sharding working on communities"
    },
    {
      "id": 6340869619,
      "node_id": "LA_kwDOD5KrTM8AAAABefH98w",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/status-waku-integ",
      "name": "status-waku-integ",
      "color": "13BDF1",
      "default": false,
      "description": "All issues relating to the Status Waku integration."
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": {
    "url": "https://api.github.com/repos/status-im/status-desktop/milestones/61",
    "html_url": "https://github.com/status-im/status-desktop/milestone/61",
    "labels_url": "https://api.github.com/repos/status-im/status-desktop/milestones/61/labels",
    "id": 8739485,
    "node_id": "MI_kwDOD5KrTM4AhVqd",
    "number": 61,
    "title": "2.27.0 Alpha",
    "description": "## Messaging & Communities team\r\n\r\n**1.  Fix bug and stabilise Communities and Messaging functionality** \r\n\r\n**2.  Reduce size of community description metadata**\r\n- better compressions, less duplication\r\n\r\n**3. Use data sync layer (or other mechanism) to improve community description reliability**\r\n- Every time a new user joins the community, the Control Node updates and signs the description.\r\n- Random back off to stop it being too chatty \r\n\r\n**4. Continue work on profile showcase**\r\n\r\n&nbsp;\r\n\r\n## Wallet Team\r\n\r\n**1. Complete support for Community minted assets**\r\n\r\n**2. Complete token visibility management screens**\r\n\r\n**3. Continue working on WalletConnect support**\r\n\r\n**4. Minor updates to Asset screens**\r\n\r\n**5. Continue fixing bugs, making optimisations and keeping tech debt low**\r\n\r\n\r\n\r\n\r\n",
    "creator": {
      "login": "iurimatias",
      "id": 176720,
      "node_id": "MDQ6VXNlcjE3NjcyMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/176720?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/iurimatias",
      "html_url": "https://github.com/iurimatias",
      "followers_url": "https://api.github.com/users/iurimatias/followers",
      "following_url": "https://api.github.com/users/iurimatias/following{/other_user}",
      "gists_url": "https://api.github.com/users/iurimatias/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/iurimatias/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iurimatias/subscriptions",
      "organizations_url": "https://api.github.com/users/iurimatias/orgs",
      "repos_url": "https://api.github.com/users/iurimatias/repos",
      "events_url": "https://api.github.com/users/iurimatias/events{/privacy}",
      "received_events_url": "https://api.github.com/users/iurimatias/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 27,
    "closed_issues": 281,
    "state": "open",
    "created_at": "2022-12-09T15:06:43Z",
    "updated_at": "2024-01-30T12:08:59Z",
    "due_on": "2024-01-31T08:00:00Z",
    "closed_at": null
  },
  "comments": 4,
  "created_at": "2024-01-30T07:36:07Z",
  "updated_at": "2024-01-30T12:04:17Z",
  "closed_at": null,
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "### Description\r\n\r\n**Build:** master build, macOS, commit c8d17f48e5c4e1d618e3b04d5c5dea6f6bdc8728 (30-jan-2024). It is local build (dev)\r\n\r\n**Logs:** \r\n[geth.log](https://github.com/status-im/status-desktop/files/14094285/geth.log)\r\n\r\n**Steps**\r\n\r\nNo specific steps.\r\nI did git pull , make clean and make update , then make run.\r\nI logged in to an account i created before (last week)\r\nI created community and then this banner appeared\r\nI restarted app\r\nI opened community and then sent an invitation to join the community\r\nThen the banner appeared again\r\n\r\nI am constantly on WiFi, it is stable (or it looks like it)\r\n\r\n<img width=\"1420\" alt=\"Screenshot 2024-01-30 at 10 27 10\" src=\"https://github.com/status-im/status-desktop/assets/82375995/37390bb3-905d-4d1f-9456-b051ca2ce649\">\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/13355/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-desktop/issues/13355/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1916239078",
    "html_url": "https://github.com/status-im/status-desktop/issues/13355#issuecomment-1916239078",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/13355",
    "id": 1916239078,
    "node_id": "IC_kwDOD5KrTM5yN3zm",
    "user": {
      "login": "anastasiyaig",
      "id": 82375995,
      "node_id": "MDQ6VXNlcjgyMzc1OTk1",
      "avatar_url": "https://avatars.githubusercontent.com/u/82375995?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/anastasiyaig",
      "html_url": "https://github.com/anastasiyaig",
      "followers_url": "https://api.github.com/users/anastasiyaig/followers",
      "following_url": "https://api.github.com/users/anastasiyaig/following{/other_user}",
      "gists_url": "https://api.github.com/users/anastasiyaig/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/anastasiyaig/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/anastasiyaig/subscriptions",
      "organizations_url": "https://api.github.com/users/anastasiyaig/orgs",
      "repos_url": "https://api.github.com/users/anastasiyaig/repos",
      "events_url": "https://api.github.com/users/anastasiyaig/events{/privacy}",
      "received_events_url": "https://api.github.com/users/anastasiyaig/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2024-01-30T07:37:24Z",
    "updated_at": "2024-01-30T07:37:24Z",
    "author_association": "CONTRIBUTOR",
    "body": "@igor-sirotin maybe you saw this as well? \r\n@chaitanyaprem @richard-ramos can you please take a look what is going on? ",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1916239078/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1916329960",
    "html_url": "https://github.com/status-im/status-desktop/issues/13355#issuecomment-1916329960",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/13355",
    "id": 1916329960,
    "node_id": "IC_kwDOD5KrTM5yON_o",
    "user": {
      "login": "chaitanyaprem",
      "id": 20137744,
      "node_id": "MDQ6VXNlcjIwMTM3NzQ0",
      "avatar_url": "https://avatars.githubusercontent.com/u/20137744?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/chaitanyaprem",
      "html_url": "https://github.com/chaitanyaprem",
      "followers_url": "https://api.github.com/users/chaitanyaprem/followers",
      "following_url": "https://api.github.com/users/chaitanyaprem/following{/other_user}",
      "gists_url": "https://api.github.com/users/chaitanyaprem/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/chaitanyaprem/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/chaitanyaprem/subscriptions",
      "organizations_url": "https://api.github.com/users/chaitanyaprem/orgs",
      "repos_url": "https://api.github.com/users/chaitanyaprem/repos",
      "events_url": "https://api.github.com/users/chaitanyaprem/events{/privacy}",
      "received_events_url": "https://api.github.com/users/chaitanyaprem/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2024-01-30T08:39:56Z",
    "updated_at": "2024-01-30T08:39:56Z",
    "author_association": "COLLABORATOR",
    "body": "Taking a look at fleet logs from the fleet, it looks as though your app is running with some older code \r\n\r\n\r\nI saw that node started with clusterID as 0 which cannot be used with shards.test fleet which uses clusterID 16. Hence store nodes were disconnecting connections from your node.\r\n\r\n`INFO [01-30|10:29:32.410|github.com/status-im/status-go/wakuv2/waku.go:192]                                 starting wakuv2 with config              config=\"&{MaxMess      ageSize:1048576 Host:0.0.0.0 Port:0 PeerExchange:true KeepAliveInterval:10 MinPeersForRelay:1 MinPeersForFilter:2 LightClient:false WakuNodes:[enrtree://AMOJVZX4V6EXP      7NTJPMAYJYST2QP6AJXYW76IU6VGJS7UVSNDYZG4@boot.test.shards.nodes.status.im] Rendezvous:false DiscV5BootstrapNodes:[enr:-Ni4QAG-O7ryJQg1P-CDwE7nBoSx-pScZsRRq6tvBF0tRsCG      Ftbs2ag1bqsv7GpTD_2rTvwIT7PsOVNG_ytFZdfwT3cBgmlkgnY0gmlwhKdjEy-KbXVsdGlhZGRyc68ALTYoYm9vdC0wMS5kby1hbXMzLnNoYXJkcy50ZXN0LnN0YXR1c2ltLm5ldAZ2X4Jyc4cAEAIAgAEAiXNlY3AyNT      ZrMaEC3rRtFQSgc24uWewzXaxTY8hDAHB8sgnxr9k8Rjb5GeSDdGNwgnZfg3VkcIIjKIV3YWt1Mg0 enr:-OK4QFH-vPVmsKjlEd3jjS8heib42DO5ZGNVUYM-lbJkPL2QSP0Ye8VZV-WycXk8jVjv9LcQpuwlaBJ3xN1t      tPMy07wBgmlkgnY0gmlwhAjaF0yKbXVsdGlhZGRyc7g4ADY2MWJvb3QtMDEuYWMtY24taG9uZ2tvbmctYy5zaGFyZHMudGVzdC5zdGF0dXNpbS5uZXQGdl-CcnOHABACAIABAIlzZWNwMjU2azGhAz-wm0ZPmCicDhRTOG      fZ3stBj3O1jyWgsBpKTUcpWu5gg3RjcIJ2X4N1ZHCCIyiFd2FrdTIN enr:-OK4QFWlB2csVi4NhszuVmzOWd1q1Moy1DFTmq1Bt4_AWKh7U-eCRHTj3m9TOma53DLXN318cS7LapchI01ZxnEwLXEBgmlkgnY0gmlwhCK      HDVeKbXVsdGlhZGRyc7g4ADY2MWJvb3QtMDEuZ2MtdXMtY2VudHJhbDEtYS5zaGFyZHMudGVzdC5zdGF0dXNpbS5uZXQGdl-CcnOHABACAIABAIlzZWNwMjU2azGhAsY6oA0NFskUjopWFN9gwOZP1zZQ4rN5tVXV5CvcT      OpDg3RjcIJ2X4N1ZHCCIyiFd2FrdTIN enrtree://AMOJVZX4V6EXP7NTJPMAYJYST2QP6AJXYW76IU6VGJS7UVSNDYZG4@boot.test.shards.nodes.status.im] Nameserver: Resolver:<nil> EnableDis      cV5:true DiscoveryLimit:20 AutoUpdate:true UDPPort:0 EnableStore:false StoreCapacity:0 StoreSeconds:0 TelemetryServerURL:https://telemetry.status.im EnableFilterFullN      ode:false DefaultShardPubsubTopic:/waku/2/rs/16/32 UseShardAsDefaultTopic:true ClusterID:0}`\r\n\r\nOddly though the previous start was showing clusterID 16 \r\n\r\n`INFO [01-30|10:28:54.608|github.com/status-im/status-go/wakuv2/waku.go:192]                                 starting wakuv2 with config              config=\"&{MaxMess      ageSize:1048576 Host:0.0.0.0 Port:0 PeerExchange:true KeepAliveInterval:10 MinPeersForRelay:1 MinPeersForFilter:2 LightClient:false WakuNodes:[enrtree://AMOJVZX4V6EXP      7NTJPMAYJYST2QP6AJXYW76IU6VGJS7UVSNDYZG4@boot.test.shards.nodes.status.im] Rendezvous:false DiscV5BootstrapNodes:[enr:-Ni4QAG-O7ryJQg1P-CDwE7nBoSx-pScZsRRq6tvBF0tRsCG      Ftbs2ag1bqsv7GpTD_2rTvwIT7PsOVNG_ytFZdfwT3cBgmlkgnY0gmlwhKdjEy-KbXVsdGlhZGRyc68ALTYoYm9vdC0wMS5kby1hbXMzLnNoYXJkcy50ZXN0LnN0YXR1c2ltLm5ldAZ2X4Jyc4cAEAIAgAEAiXNlY3AyNT      ZrMaEC3rRtFQSgc24uWewzXaxTY8hDAHB8sgnxr9k8Rjb5GeSDdGNwgnZfg3VkcIIjKIV3YWt1Mg0 enr:-OK4QFH-vPVmsKjlEd3jjS8heib42DO5ZGNVUYM-lbJkPL2QSP0Ye8VZV-WycXk8jVjv9LcQpuwlaBJ3xN1t      tPMy07wBgmlkgnY0gmlwhAjaF0yKbXVsdGlhZGRyc7g4ADY2MWJvb3QtMDEuYWMtY24taG9uZ2tvbmctYy5zaGFyZHMudGVzdC5zdGF0dXNpbS5uZXQGdl-CcnOHABACAIABAIlzZWNwMjU2azGhAz-wm0ZPmCicDhRTOG      fZ3stBj3O1jyWgsBpKTUcpWu5gg3RjcIJ2X4N1ZHCCIyiFd2FrdTIN enr:-OK4QFWlB2csVi4NhszuVmzOWd1q1Moy1DFTmq1Bt4_AWKh7U-eCRHTj3m9TOma53DLXN318cS7LapchI01ZxnEwLXEBgmlkgnY0gmlwhCK      HDVeKbXVsdGlhZGRyc7g4ADY2MWJvb3QtMDEuZ2MtdXMtY2VudHJhbDEtYS5zaGFyZHMudGVzdC5zdGF0dXNpbS5uZXQGdl-CcnOHABACAIABAIlzZWNwMjU2azGhAsY6oA0NFskUjopWFN9gwOZP1zZQ4rN5tVXV5CvcT      OpDg3RjcIJ2X4N1ZHCCIyiFd2FrdTIN enrtree://AMOJVZX4V6EXP7NTJPMAYJYST2QP6AJXYW76IU6VGJS7UVSNDYZG4@boot.test.shards.nodes.status.im] Nameserver: Resolver:<nil> EnableDis      cV5:true DiscoveryLimit:20 AutoUpdate:true UDPPort:0 EnableStore:false StoreCapacity:0 StoreSeconds:0 TelemetryServerURL: EnableFilterFullNode:false DefaultShardPubsu      bTopic:/waku/2/rs/16/32 UseShardAsDefaultTopic:true ClusterID:16}\"`\r\n\r\n\r\nLooks like some config issue, ideally ClusterID should be saved locally and reused. \r\nNot sure what else could be reason though.\r\n@igor-sirotin @richard-ramos may have some idea, as this is related to how the config in desktop is stored and reapplied on restart.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1916329960/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1916691691",
    "html_url": "https://github.com/status-im/status-desktop/issues/13355#issuecomment-1916691691",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/13355",
    "id": 1916691691,
    "node_id": "IC_kwDOD5KrTM5yPmTr",
    "user": {
      "login": "richard-ramos",
      "id": 1106587,
      "node_id": "MDQ6VXNlcjExMDY1ODc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1106587?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/richard-ramos",
      "html_url": "https://github.com/richard-ramos",
      "followers_url": "https://api.github.com/users/richard-ramos/followers",
      "following_url": "https://api.github.com/users/richard-ramos/following{/other_user}",
      "gists_url": "https://api.github.com/users/richard-ramos/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/richard-ramos/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/richard-ramos/subscriptions",
      "organizations_url": "https://api.github.com/users/richard-ramos/orgs",
      "repos_url": "https://api.github.com/users/richard-ramos/repos",
      "events_url": "https://api.github.com/users/richard-ramos/events{/privacy}",
      "received_events_url": "https://api.github.com/users/richard-ramos/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2024-01-30T12:01:32Z",
    "updated_at": "2024-01-30T12:01:46Z",
    "author_association": "MEMBER",
    "body": "Oh man, this is the missing clusterID issue! for some reason sometimes the clusterID just go away on its own!\r\n\r\n>  I logged in to an account i created before (last week)\r\n\r\nI gotta try to reproduce with this specific step. I'm thinking it has something to do with a migration being applied incorrectly.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1916691691/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1916696272",
    "html_url": "https://github.com/status-im/status-desktop/issues/13355#issuecomment-1916696272",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/13355",
    "id": 1916696272,
    "node_id": "IC_kwDOD5KrTM5yPnbQ",
    "user": {
      "login": "anastasiyaig",
      "id": 82375995,
      "node_id": "MDQ6VXNlcjgyMzc1OTk1",
      "avatar_url": "https://avatars.githubusercontent.com/u/82375995?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/anastasiyaig",
      "html_url": "https://github.com/anastasiyaig",
      "followers_url": "https://api.github.com/users/anastasiyaig/followers",
      "following_url": "https://api.github.com/users/anastasiyaig/following{/other_user}",
      "gists_url": "https://api.github.com/users/anastasiyaig/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/anastasiyaig/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/anastasiyaig/subscriptions",
      "organizations_url": "https://api.github.com/users/anastasiyaig/orgs",
      "repos_url": "https://api.github.com/users/anastasiyaig/repos",
      "events_url": "https://api.github.com/users/anastasiyaig/events{/privacy}",
      "received_events_url": "https://api.github.com/users/anastasiyaig/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2024-01-30T12:04:16Z",
    "updated_at": "2024-01-30T12:04:16Z",
    "author_association": "CONTRIBUTOR",
    "body": "@richard-ramos enable debug flag in app ui and you will see it without migrations, with brand new acc\nhappening to me constantly now\ncc @chaitanyaprem ",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1916696272/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 1,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
