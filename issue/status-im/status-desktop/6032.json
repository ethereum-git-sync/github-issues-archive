{
  "url": "https://api.github.com/repos/status-im/status-desktop/issues/6032",
  "repository_url": "https://api.github.com/repos/status-im/status-desktop",
  "labels_url": "https://api.github.com/repos/status-im/status-desktop/issues/6032/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-desktop/issues/6032/comments",
  "events_url": "https://api.github.com/repos/status-im/status-desktop/issues/6032/events",
  "html_url": "https://github.com/status-im/status-desktop/issues/6032",
  "id": 1264977419,
  "node_id": "I_kwDOD5KrTM5LZgYL",
  "number": 6032,
  "title": "Community creation fails when `ñ` char is present in the title and the length is 30 chars",
  "user": {
    "login": "noeliaSD",
    "id": 97019400,
    "node_id": "U_kgDOBchmCA",
    "avatar_url": "https://avatars.githubusercontent.com/u/97019400?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/noeliaSD",
    "html_url": "https://github.com/noeliaSD",
    "followers_url": "https://api.github.com/users/noeliaSD/followers",
    "following_url": "https://api.github.com/users/noeliaSD/following{/other_user}",
    "gists_url": "https://api.github.com/users/noeliaSD/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/noeliaSD/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/noeliaSD/subscriptions",
    "organizations_url": "https://api.github.com/users/noeliaSD/orgs",
    "repos_url": "https://api.github.com/users/noeliaSD/repos",
    "events_url": "https://api.github.com/users/noeliaSD/events{/privacy}",
    "received_events_url": "https://api.github.com/users/noeliaSD/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 2987757762,
      "node_id": "MDU6TGFiZWwyOTg3NzU3NzYy",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/to%20analyze",
      "name": "to analyze",
      "color": "5CC421",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2022-06-08T16:04:06Z",
  "updated_at": "2023-02-23T09:18:20Z",
  "closed_at": "2023-01-16T17:24:28Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "### Description\r\n`ñ` char is considered as len 2 in some point and then the length of the community title exceeds the allowed one and it is not created.\r\n\r\nError logged:\r\n`````\r\nDBG 2022-06-08 17:44:38.028+02:00 NewBE_callPrivateRPC                       topics=\"rpc\" tid=849155 file=core.nim:20 rpc_method=wakuext_createCommunity\r\nERR 2022-06-08 17:44:38.030+02:00 rpc response error                         topics=\"rpc\" tid=849155 file=core.nim:29 err=\"\\nstatus-go error [methodName:wakuext_createCommunity, code:-32000, message:create-community: invalid name ]\\n\"\r\nERR 2022-06-08 17:44:38.030+02:00 Error creating community                   topics=\"community-service\" tid=849155 file=service.nim:602 msg=\"\\nstatus-go error [methodName:wakuext_createCommunity, code:-32000, message:create-community: invalid name ]\\n\"\r\n``````",
  "closed_by": {
    "login": "iurimatias",
    "id": 176720,
    "node_id": "MDQ6VXNlcjE3NjcyMA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/176720?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/iurimatias",
    "html_url": "https://github.com/iurimatias",
    "followers_url": "https://api.github.com/users/iurimatias/followers",
    "following_url": "https://api.github.com/users/iurimatias/following{/other_user}",
    "gists_url": "https://api.github.com/users/iurimatias/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/iurimatias/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/iurimatias/subscriptions",
    "organizations_url": "https://api.github.com/users/iurimatias/orgs",
    "repos_url": "https://api.github.com/users/iurimatias/repos",
    "events_url": "https://api.github.com/users/iurimatias/events{/privacy}",
    "received_events_url": "https://api.github.com/users/iurimatias/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/6032/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-desktop/issues/6032/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1150119690",
    "html_url": "https://github.com/status-im/status-desktop/issues/6032#issuecomment-1150119690",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/6032",
    "id": 1150119690,
    "node_id": "IC_kwDOD5KrTM5EjW8K",
    "user": {
      "login": "richard-ramos",
      "id": 1106587,
      "node_id": "MDQ6VXNlcjExMDY1ODc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1106587?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/richard-ramos",
      "html_url": "https://github.com/richard-ramos",
      "followers_url": "https://api.github.com/users/richard-ramos/followers",
      "following_url": "https://api.github.com/users/richard-ramos/following{/other_user}",
      "gists_url": "https://api.github.com/users/richard-ramos/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/richard-ramos/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/richard-ramos/subscriptions",
      "organizations_url": "https://api.github.com/users/richard-ramos/orgs",
      "repos_url": "https://api.github.com/users/richard-ramos/repos",
      "events_url": "https://api.github.com/users/richard-ramos/events{/privacy}",
      "received_events_url": "https://api.github.com/users/richard-ramos/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-08T16:12:20Z",
    "updated_at": "2022-06-08T16:12:20Z",
    "author_association": "MEMBER",
    "body": "This is because when dealing with utf8 characters we need to count runes instead of using length.\r\nfor example:\r\n\r\n```go\r\nimport \"fmt\"\r\nimport \"unicode/utf8\"\r\nfmt.Println(\"ñ\", len(\"ñ\"), utf8.RuneCountInString(\"ñ\"))  // ñ,  2, 1\r\nfmt.Println(\"世界\", len(\"世界\"), utf8.RuneCountInString(\"世界\"))  // 世界,  6, 2\r\n```\r\n\r\n```nim\r\nimport std/unicode\r\necho \"ñ \", \"ñ\".len, \",\", \"ñ\".runeLen # ñ 2,1\r\necho \"世界 \", \"世界\".len, \",\", \"世界\".runeLen # 世界 6,2\r\n```\r\n\r\nWe need to fix status-go and/or desktop to validate the length of a string with rune count functions in any place we use normal string lengths",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1150119690/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1184676864",
    "html_url": "https://github.com/status-im/status-desktop/issues/6032#issuecomment-1184676864",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/6032",
    "id": 1184676864,
    "node_id": "IC_kwDOD5KrTM5GnLwA",
    "user": {
      "login": "iurimatias",
      "id": 176720,
      "node_id": "MDQ6VXNlcjE3NjcyMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/176720?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/iurimatias",
      "html_url": "https://github.com/iurimatias",
      "followers_url": "https://api.github.com/users/iurimatias/followers",
      "following_url": "https://api.github.com/users/iurimatias/following{/other_user}",
      "gists_url": "https://api.github.com/users/iurimatias/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/iurimatias/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iurimatias/subscriptions",
      "organizations_url": "https://api.github.com/users/iurimatias/orgs",
      "repos_url": "https://api.github.com/users/iurimatias/repos",
      "events_url": "https://api.github.com/users/iurimatias/events{/privacy}",
      "received_events_url": "https://api.github.com/users/iurimatias/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-14T16:59:39Z",
    "updated_at": "2022-07-14T16:59:39Z",
    "author_association": "MEMBER",
    "body": "the specs specify that it needs to be alpha numeric and can't support encodings for security reasons or at least that was the case for public channels, need to analyze this",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1184676864/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1384361104",
    "html_url": "https://github.com/status-im/status-desktop/issues/6032#issuecomment-1384361104",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/6032",
    "id": 1384361104,
    "node_id": "IC_kwDOD5KrTM5Sg6yQ",
    "user": {
      "login": "iurimatias",
      "id": 176720,
      "node_id": "MDQ6VXNlcjE3NjcyMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/176720?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/iurimatias",
      "html_url": "https://github.com/iurimatias",
      "followers_url": "https://api.github.com/users/iurimatias/followers",
      "following_url": "https://api.github.com/users/iurimatias/following{/other_user}",
      "gists_url": "https://api.github.com/users/iurimatias/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/iurimatias/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iurimatias/subscriptions",
      "organizations_url": "https://api.github.com/users/iurimatias/orgs",
      "repos_url": "https://api.github.com/users/iurimatias/repos",
      "events_url": "https://api.github.com/users/iurimatias/events{/privacy}",
      "received_events_url": "https://api.github.com/users/iurimatias/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-16T17:24:28Z",
    "updated_at": "2023-01-16T17:24:28Z",
    "author_association": "MEMBER",
    "body": "confirmed: we wouldn't be supporting this due to impersonation risks",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1384361104/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1406614163",
    "html_url": "https://github.com/status-im/status-desktop/issues/6032#issuecomment-1406614163",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/6032",
    "id": 1406614163,
    "node_id": "IC_kwDOD5KrTM5T1zqT",
    "user": {
      "login": "felicio",
      "id": 13265126,
      "node_id": "MDQ6VXNlcjEzMjY1MTI2",
      "avatar_url": "https://avatars.githubusercontent.com/u/13265126?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/felicio",
      "html_url": "https://github.com/felicio",
      "followers_url": "https://api.github.com/users/felicio/followers",
      "following_url": "https://api.github.com/users/felicio/following{/other_user}",
      "gists_url": "https://api.github.com/users/felicio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/felicio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/felicio/subscriptions",
      "organizations_url": "https://api.github.com/users/felicio/orgs",
      "repos_url": "https://api.github.com/users/felicio/repos",
      "events_url": "https://api.github.com/users/felicio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/felicio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-27T14:53:34Z",
    "updated_at": "2023-02-23T09:18:20Z",
    "author_association": "NONE",
    "body": "@iurimatias, please\r\n\r\n> the specs specify\r\n\r\nAre you referring to https://github.com/status-im/feature-specs/pull/42?\r\n\r\n> we wouldn't be supporting this due to impersonation risks\r\n\r\nHow do characters like these enable that and alphanumeric ones alone don't? For those risks I understood we're implementing the mechanisms mentioned in https://github.com/status-im/feature-specs/pull/42#discussion_r764177845.\r\n\r\nFinally, will this limitation apply to display names of other entities like the community or channel, and to description as mentioned on the meeting about link sharing? If so, are you tracking it somewhere to address that?",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1406614163/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
