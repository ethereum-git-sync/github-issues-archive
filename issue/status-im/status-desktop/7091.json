{
  "url": "https://api.github.com/repos/status-im/status-desktop/issues/7091",
  "repository_url": "https://api.github.com/repos/status-im/status-desktop",
  "labels_url": "https://api.github.com/repos/status-im/status-desktop/issues/7091/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-desktop/issues/7091/comments",
  "events_url": "https://api.github.com/repos/status-im/status-desktop/issues/7091/events",
  "html_url": "https://github.com/status-im/status-desktop/issues/7091",
  "id": 1344217075,
  "node_id": "I_kwDOD5KrTM5QHx_z",
  "number": 7091,
  "title": "Inconsistent formatting of copy/pasted mentions",
  "user": {
    "login": "micieslak",
    "id": 20650004,
    "node_id": "MDQ6VXNlcjIwNjUwMDA0",
    "avatar_url": "https://avatars.githubusercontent.com/u/20650004?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/micieslak",
    "html_url": "https://github.com/micieslak",
    "followers_url": "https://api.github.com/users/micieslak/followers",
    "following_url": "https://api.github.com/users/micieslak/following{/other_user}",
    "gists_url": "https://api.github.com/users/micieslak/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/micieslak/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/micieslak/subscriptions",
    "organizations_url": "https://api.github.com/users/micieslak/orgs",
    "repos_url": "https://api.github.com/users/micieslak/repos",
    "events_url": "https://api.github.com/users/micieslak/events{/privacy}",
    "received_events_url": "https://api.github.com/users/micieslak/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 2036563458,
      "node_id": "MDU6TGFiZWwyMDM2NTYzNDU4",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/bug",
      "name": "bug",
      "color": "d73a4a",
      "default": true,
      "description": "Something isn't working"
    },
    {
      "id": 2087353959,
      "node_id": "MDU6TGFiZWwyMDg3MzUzOTU5",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/ui-team",
      "name": "ui-team",
      "color": "1111ff",
      "default": false,
      "description": ""
    },
    {
      "id": 2917040258,
      "node_id": "MDU6TGFiZWwyOTE3MDQwMjU4",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/tested",
      "name": "tested",
      "color": "B3DA2E",
      "default": false,
      "description": ""
    },
    {
      "id": 3205512973,
      "node_id": "MDU6TGFiZWwzMjA1NTEyOTcz",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/priority%204:%20minor",
      "name": "priority 4: minor",
      "color": "006B75",
      "default": false,
      "description": "an issue that is barely noticeable and has little impact for most users, an issue that is hard to re"
    },
    {
      "id": 3904302702,
      "node_id": "LA_kwDOD5KrTM7otu5u",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/E:Bugfixes",
      "name": "E:Bugfixes",
      "color": "11DEC5",
      "default": false,
      "description": ""
    },
    {
      "id": 4220546839,
      "node_id": "LA_kwDOD5KrTM77kG8X",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/pixel-perfect-issues",
      "name": "pixel-perfect-issues",
      "color": "FBCA04",
      "default": false,
      "description": "The implementation differs from design"
    },
    {
      "id": 4887814632,
      "node_id": "LA_kwDOD5KrTM8AAAABI1Yh6A",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/StatusChatInput",
      "name": "StatusChatInput",
      "color": "331025",
      "default": false,
      "description": "Issues related to chat input component"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2022-08-19T09:53:22Z",
  "updated_at": "2023-04-21T14:03:19Z",
  "closed_at": "2023-04-21T14:03:18Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "# Bug Report\r\n\r\n## Description\r\n\r\nMentions change formatting when copied and pasted.\r\n\r\nDepends on [#7076](https://github.com/status-im/status-desktop/issues/7076) (but still can be reproduced without having #7076 fixed).\r\n\r\n## Steps to reproduce\r\n\r\n1. Write a mention in the chat input field\r\n2. Add new line (shift + enter)\r\n3. Select all (ctrl + A)\r\n4. Copy (ctrl + C)\r\n5. Unselect, position cursor at the end of the input\r\n6. Paste (ctrl + V)\r\n\r\n#### Expected behavior\r\nPasted mention(s) should be formatted as the original one(s).\r\n\r\n#### Actual behavior\r\nPasted mention(s) has/have different formatting.\r\n\r\n### Additional Information\r\n\r\nhttps://user-images.githubusercontent.com/20650004/185593512-269dcadc-ee79-4c48-bfef-f80250c04b81.mp4\r\n\r\n- Status desktop version:\r\n- Operating System: Ubuntu\r\n\r\nImplement as per Figma (pending confirmation by design): https://www.figma.com/file/Mr3rqxxgKJ2zMQ06UAKiWL/%F0%9F%92%AC-Chat%E2%8E%9CDesktop?node-id=20828%3A507322\r\n\r\n",
  "closed_by": {
    "login": "iurimatias",
    "id": 176720,
    "node_id": "MDQ6VXNlcjE3NjcyMA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/176720?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/iurimatias",
    "html_url": "https://github.com/iurimatias",
    "followers_url": "https://api.github.com/users/iurimatias/followers",
    "following_url": "https://api.github.com/users/iurimatias/following{/other_user}",
    "gists_url": "https://api.github.com/users/iurimatias/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/iurimatias/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/iurimatias/subscriptions",
    "organizations_url": "https://api.github.com/users/iurimatias/orgs",
    "repos_url": "https://api.github.com/users/iurimatias/repos",
    "events_url": "https://api.github.com/users/iurimatias/events{/privacy}",
    "received_events_url": "https://api.github.com/users/iurimatias/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/7091/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-desktop/issues/7091/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1268605035",
    "html_url": "https://github.com/status-im/status-desktop/issues/7091#issuecomment-1268605035",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/7091",
    "id": 1268605035,
    "node_id": "IC_kwDOD5KrTM5LnWBr",
    "user": {
      "login": "faust4exe",
      "id": 6445843,
      "node_id": "MDQ6VXNlcjY0NDU4NDM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6445843?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/faust4exe",
      "html_url": "https://github.com/faust4exe",
      "followers_url": "https://api.github.com/users/faust4exe/followers",
      "following_url": "https://api.github.com/users/faust4exe/following{/other_user}",
      "gists_url": "https://api.github.com/users/faust4exe/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/faust4exe/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/faust4exe/subscriptions",
      "organizations_url": "https://api.github.com/users/faust4exe/orgs",
      "repos_url": "https://api.github.com/users/faust4exe/repos",
      "events_url": "https://api.github.com/users/faust4exe/events{/privacy}",
      "received_events_url": "https://api.github.com/users/faust4exe/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-05T15:36:30Z",
    "updated_at": "2022-10-05T15:37:02Z",
    "author_association": "CONTRIBUTOR",
    "body": "This issue is related to rendering of text between underlines, which is a markdown notation, _likethisone_\r\nProbably there is no easy way to ignore just this type of rendering while leaving all other.\r\n\r\n![image](https://user-images.githubusercontent.com/6445843/194101825-498f4141-24bd-44c8-9df6-983429167bb1.png)\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1268605035/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1347056166",
    "html_url": "https://github.com/status-im/status-desktop/issues/7091#issuecomment-1347056166",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/7091",
    "id": 1347056166,
    "node_id": "IC_kwDOD5KrTM5QSnIm",
    "user": {
      "login": "benjthayer",
      "id": 110033914,
      "node_id": "U_kgDOBo77-g",
      "avatar_url": "https://avatars.githubusercontent.com/u/110033914?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/benjthayer",
      "html_url": "https://github.com/benjthayer",
      "followers_url": "https://api.github.com/users/benjthayer/followers",
      "following_url": "https://api.github.com/users/benjthayer/following{/other_user}",
      "gists_url": "https://api.github.com/users/benjthayer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/benjthayer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/benjthayer/subscriptions",
      "organizations_url": "https://api.github.com/users/benjthayer/orgs",
      "repos_url": "https://api.github.com/users/benjthayer/repos",
      "events_url": "https://api.github.com/users/benjthayer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/benjthayer/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-12-12T18:41:50Z",
    "updated_at": "2022-12-12T18:41:50Z",
    "author_association": "NONE",
    "body": "Chatting through formatting more broadly with @alexandraB99, for this issue I don't think there is much design can input on. Obviously from a design and UX perspective it would be ideal if there is no unintended variance in formatting when copy and pasting a mention.\r\n\r\nMore broadly (and this may warrant the creation of another issue) we may need to design for how formatting impacts @mentions. As a baseline for MVP we could emulate Discord:\r\n\r\n<img width=\"727\" alt=\"Screenshot 2022-12-12 at 18 37 08\" src=\"https://user-images.githubusercontent.com/110033914/207126979-65923d31-bee6-4747-b995-7cc3b55cd5f0.png\">\r\n\r\nOne thing to note in Discord is that the original formatting from the message is lost when you copy a sent message, paste it into the input and send it again. We could look to enhance this and retain the formatting when copied, pasted and resent but that feels like an enhancement and there are possibly more critical items to focus on.\r\n\r\n<img width=\"435\" alt=\"Screenshot 2022-12-12 at 18 39 00\" src=\"https://user-images.githubusercontent.com/110033914/207127587-a843450f-4a8f-48aa-b3bf-ce7ad311037a.png\">\r\n\r\ncc @John-44 \r\n\r\nI'd be happy to provide mockups of the Discord mention formatting if necessary - just let me know.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1347056166/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1353362357",
    "html_url": "https://github.com/status-im/status-desktop/issues/7091#issuecomment-1353362357",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/7091",
    "id": 1353362357,
    "node_id": "IC_kwDOD5KrTM5Qqqu1",
    "user": {
      "login": "alexandraB99",
      "id": 31625338,
      "node_id": "MDQ6VXNlcjMxNjI1MzM4",
      "avatar_url": "https://avatars.githubusercontent.com/u/31625338?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexandraB99",
      "html_url": "https://github.com/alexandraB99",
      "followers_url": "https://api.github.com/users/alexandraB99/followers",
      "following_url": "https://api.github.com/users/alexandraB99/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexandraB99/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexandraB99/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexandraB99/subscriptions",
      "organizations_url": "https://api.github.com/users/alexandraB99/orgs",
      "repos_url": "https://api.github.com/users/alexandraB99/repos",
      "events_url": "https://api.github.com/users/alexandraB99/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexandraB99/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-12-15T16:30:56Z",
    "updated_at": "2022-12-15T16:30:56Z",
    "author_association": "COLLABORATOR",
    "body": "@benjthayer should the same behavior apply also in the text input before sending the message?",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1353362357/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1382015184",
    "html_url": "https://github.com/status-im/status-desktop/issues/7091#issuecomment-1382015184",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/7091",
    "id": 1382015184,
    "node_id": "IC_kwDOD5KrTM5SX-DQ",
    "user": {
      "login": "alexandraB99",
      "id": 31625338,
      "node_id": "MDQ6VXNlcjMxNjI1MzM4",
      "avatar_url": "https://avatars.githubusercontent.com/u/31625338?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexandraB99",
      "html_url": "https://github.com/alexandraB99",
      "followers_url": "https://api.github.com/users/alexandraB99/followers",
      "following_url": "https://api.github.com/users/alexandraB99/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexandraB99/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexandraB99/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexandraB99/subscriptions",
      "organizations_url": "https://api.github.com/users/alexandraB99/orgs",
      "repos_url": "https://api.github.com/users/alexandraB99/repos",
      "events_url": "https://api.github.com/users/alexandraB99/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexandraB99/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-13T15:26:01Z",
    "updated_at": "2023-01-13T15:26:01Z",
    "author_association": "COLLABORATOR",
    "body": "Design spec provided and will be implemented here https://github.com/status-im/status-desktop/issues/8464",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1382015184/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1383747739",
    "html_url": "https://github.com/status-im/status-desktop/issues/7091#issuecomment-1383747739",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/7091",
    "id": 1383747739,
    "node_id": "IC_kwDOD5KrTM5SelCb",
    "user": {
      "login": "benjthayer",
      "id": 110033914,
      "node_id": "U_kgDOBo77-g",
      "avatar_url": "https://avatars.githubusercontent.com/u/110033914?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/benjthayer",
      "html_url": "https://github.com/benjthayer",
      "followers_url": "https://api.github.com/users/benjthayer/followers",
      "following_url": "https://api.github.com/users/benjthayer/following{/other_user}",
      "gists_url": "https://api.github.com/users/benjthayer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/benjthayer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/benjthayer/subscriptions",
      "organizations_url": "https://api.github.com/users/benjthayer/orgs",
      "repos_url": "https://api.github.com/users/benjthayer/repos",
      "events_url": "https://api.github.com/users/benjthayer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/benjthayer/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-16T09:33:09Z",
    "updated_at": "2023-01-16T09:33:09Z",
    "author_association": "NONE",
    "body": "Hi @alexandraB99 all of the formatting relating behaviours (including how they apply to mentions) are covered here:\r\nhttps://www.figma.com/file/Mr3rqxxgKJ2zMQ06UAKiWL/%F0%9F%92%AC-Chat%E2%8E%9CDesktop?node-id=21104%3A500080&t=mwtupLfn99uaQFQJ-4\r\n\r\nIf I understand your question correctly, yes - when formatting text is copied from a sent message and pasted into the input, the formatting should be retained and shown alongside the relevant markdown in the input. That is shown here:\r\n\r\nhttps://www.figma.com/file/Mr3rqxxgKJ2zMQ06UAKiWL/%F0%9F%92%AC-Chat%E2%8E%9CDesktop?node-id=20828%3A508271&t=mwtupLfn99uaQFQJ-4\r\n\r\nHope that answers your question - just shout if not.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1383747739/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1517885323",
    "html_url": "https://github.com/status-im/status-desktop/issues/7091#issuecomment-1517885323",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/7091",
    "id": 1517885323,
    "node_id": "IC_kwDOD5KrTM5aeReL",
    "user": {
      "login": "iurimatias",
      "id": 176720,
      "node_id": "MDQ6VXNlcjE3NjcyMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/176720?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/iurimatias",
      "html_url": "https://github.com/iurimatias",
      "followers_url": "https://api.github.com/users/iurimatias/followers",
      "following_url": "https://api.github.com/users/iurimatias/following{/other_user}",
      "gists_url": "https://api.github.com/users/iurimatias/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/iurimatias/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iurimatias/subscriptions",
      "organizations_url": "https://api.github.com/users/iurimatias/orgs",
      "repos_url": "https://api.github.com/users/iurimatias/repos",
      "events_url": "https://api.github.com/users/iurimatias/events{/privacy}",
      "received_events_url": "https://api.github.com/users/iurimatias/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-21T14:03:18Z",
    "updated_at": "2023-04-21T14:03:18Z",
    "author_association": "MEMBER",
    "body": "cannot reproduce this anymore",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1517885323/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
