{
  "url": "https://api.github.com/repos/status-im/status-desktop/issues/12816",
  "repository_url": "https://api.github.com/repos/status-im/status-desktop",
  "labels_url": "https://api.github.com/repos/status-im/status-desktop/issues/12816/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-desktop/issues/12816/comments",
  "events_url": "https://api.github.com/repos/status-im/status-desktop/issues/12816/events",
  "html_url": "https://github.com/status-im/status-desktop/issues/12816",
  "id": 2004624317,
  "node_id": "I_kwDOD5KrTM53fCO9",
  "number": 12816,
  "title": "App segmentation faults on CI hosts",
  "user": {
    "login": "jakubgs",
    "id": 2212681,
    "node_id": "MDQ6VXNlcjIyMTI2ODE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jakubgs",
    "html_url": "https://github.com/jakubgs",
    "followers_url": "https://api.github.com/users/jakubgs/followers",
    "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
    "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
    "organizations_url": "https://api.github.com/users/jakubgs/orgs",
    "repos_url": "https://api.github.com/users/jakubgs/repos",
    "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jakubgs/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 2036563458,
      "node_id": "MDU6TGFiZWwyMDM2NTYzNDU4",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/bug",
      "name": "bug",
      "color": "d73a4a",
      "default": true,
      "description": "Something isn't working"
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2023-11-21T15:57:35Z",
  "updated_at": "2023-11-21T16:06:34Z",
  "closed_at": null,
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "# Bug Report\r\n\r\n## Description\r\n\r\nCurrently all CI hosts show frequently [segmentation faults](https://en.wikipedia.org/wiki/Segmentation_fault) for two processes: `nim_status_client` and `QQmlThread`\r\n```\r\nadmin@linux-04.he-eu-hel1.ci.devel:~ % sudo dmesg | grep segfault | tail\r\n[2804131.159498] QQmlThread[638530]: segfault at 15 ip 00007fd3a3e92c30 sp 00007fd1727f6f20 error 4 in libQt5Qml.so.5[7fd3a3c00000+45e000]\r\n[2804472.224156] QQmlThread[641553]: segfault at 15 ip 00007ff13c692c30 sp 00007fef0a7f6f20 error 4 in libQt5Qml.so.5[7ff13c400000+45e000]\r\n[2805466.093454] nim_status_clie[687484]: segfault at 8 ip 00007f554fa62250 sp 00007ffebb1ee038 error 4 in libQt5Qml.so.5[7f554f800000+45e000]\r\n[2813930.448108] nim_status_clie[779010]: segfault at 8 ip 00007f7befa62250 sp 00007fff36e49458 error 4 in libQt5Qml.so.5[7f7bef800000+45e000]\r\n[2835137.051823] QQmlThread[1403420]: segfault at 13 ip 00007febc9892c30 sp 00007fe9a5ff5f20 error 4 in libQt5Qml.so.5[7febc9600000+45e000]\r\n[2842776.720349] nim_status_clie[1694567]: segfault at 8 ip 00007f6ed2c62250 sp 00007ffff3456488 error 4 in libQt5Qml.so.5[7f6ed2a00000+45e000]\r\n[2845712.707703] nim_status_clie[1734920]: segfault at 8 ip 00007fd7cf662250 sp 00007ffc1b58b808 error 4 in libQt5Qml.so.5[7fd7cf400000+45e000]\r\n[2848523.822515] nim_status_clie[2088903]: segfault at 8 ip 00007f878e462250 sp 00007ffda6290988 error 4 in libQt5Qml.so.5[7f878e200000+45e000]\r\n[2850619.291393] nim_status_clie[2372416]: segfault at 8 ip 00007f5883a62250 sp 00007ffcc84bfd78 error 4 in libQt5Qml.so.5[7f5883800000+45e000]\r\n[2851205.983205] QQmlThread[2411192]: segfault at 15 ip 00007f2680892c30 sp 00007f24fdff5f20 error 4 in libQt5Qml.so.5[7f2680600000+45e000]\r\n```\r\n\r\n## Steps to reproduce\r\n\r\nUnknown, but my best guess is that this is a result of E2E test runs.",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/12816/reactions",
    "total_count": 1,
    "+1": 1,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-desktop/issues/12816/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1821205990",
    "html_url": "https://github.com/status-im/status-desktop/issues/12816#issuecomment-1821205990",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/12816",
    "id": 1821205990,
    "node_id": "IC_kwDOD5KrTM5sjWXm",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-11-21T16:00:41Z",
    "updated_at": "2023-11-21T16:00:41Z",
    "author_association": "MEMBER",
    "body": "This has been going on for a while - at least since June - as I've seen these when debugging linux builds being killed:\r\n\r\n* https://github.com/status-im/infra-ci/issues/88#issuecomment-1581087146",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1821205990/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1821208767",
    "html_url": "https://github.com/status-im/status-desktop/issues/12816#issuecomment-1821208767",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/12816",
    "id": 1821208767,
    "node_id": "IC_kwDOD5KrTM5sjXC_",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-11-21T16:02:14Z",
    "updated_at": "2023-11-21T16:02:14Z",
    "author_association": "MEMBER",
    "body": "There's also `general protection fault` errors, but less frequent:\r\n```\r\nadmin@linux-01.he-eu-hel1.ci.devel:~ % sudo dmesg | grep 'general protection fault'\r\n[11549645.775740] traps: QQmlThread[1141503] general protection fault ip:7f7fbe492c30 sp:7f7fb3ffde90 error:0 in libQt5Qml.so.5.15.2[7f7fbe200000+45e000]\r\n[11601779.978722] traps: QQmlThread[3166153] general protection fault ip:7fb21fa92c30 sp:7fb0337f8f20 error:0 in libQt5Qml.so.5.15.2[7fb21f800000+45e000]\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1821208767/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1821211148",
    "html_url": "https://github.com/status-im/status-desktop/issues/12816#issuecomment-1821211148",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/12816",
    "id": 1821211148,
    "node_id": "IC_kwDOD5KrTM5sjXoM",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-11-21T16:03:32Z",
    "updated_at": "2023-11-21T16:03:32Z",
    "author_association": "MEMBER",
    "body": "I will attempt to audit the processes to find exactly what spawns them to confirm it's E2E tests.\r\n\r\nMost probably using `auditd` or [`bpfcc-tools`](https://packages.ubuntu.com/focal/bpfcc-tools).",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1821211148/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
