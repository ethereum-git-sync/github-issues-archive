{
  "url": "https://api.github.com/repos/status-im/status-desktop/issues/2170",
  "repository_url": "https://api.github.com/repos/status-im/status-desktop",
  "labels_url": "https://api.github.com/repos/status-im/status-desktop/issues/2170/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-desktop/issues/2170/comments",
  "events_url": "https://api.github.com/repos/status-im/status-desktop/issues/2170/events",
  "html_url": "https://github.com/status-im/status-desktop/issues/2170",
  "id": 848666249,
  "node_id": "MDU6SXNzdWU4NDg2NjYyNDk=",
  "number": 2170,
  "title": "Codesign windows desktop app",
  "user": {
    "login": "iurimatias",
    "id": 176720,
    "node_id": "MDQ6VXNlcjE3NjcyMA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/176720?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/iurimatias",
    "html_url": "https://github.com/iurimatias",
    "followers_url": "https://api.github.com/users/iurimatias/followers",
    "following_url": "https://api.github.com/users/iurimatias/following{/other_user}",
    "gists_url": "https://api.github.com/users/iurimatias/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/iurimatias/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/iurimatias/subscriptions",
    "organizations_url": "https://api.github.com/users/iurimatias/orgs",
    "repos_url": "https://api.github.com/users/iurimatias/repos",
    "events_url": "https://api.github.com/users/iurimatias/events{/privacy}",
    "received_events_url": "https://api.github.com/users/iurimatias/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "jakubgs",
    "id": 2212681,
    "node_id": "MDQ6VXNlcjIyMTI2ODE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jakubgs",
    "html_url": "https://github.com/jakubgs",
    "followers_url": "https://api.github.com/users/jakubgs/followers",
    "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
    "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
    "organizations_url": "https://api.github.com/users/jakubgs/orgs",
    "repos_url": "https://api.github.com/users/jakubgs/repos",
    "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jakubgs/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 69,
  "created_at": "2021-04-01T17:47:43Z",
  "updated_at": "2021-04-28T16:19:17Z",
  "closed_at": "2021-04-28T16:19:17Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "Now we have the certificate and can proceed with this",
  "closed_by": {
    "login": "jakubgs",
    "id": 2212681,
    "node_id": "MDQ6VXNlcjIyMTI2ODE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jakubgs",
    "html_url": "https://github.com/jakubgs",
    "followers_url": "https://api.github.com/users/jakubgs/followers",
    "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
    "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
    "organizations_url": "https://api.github.com/users/jakubgs/orgs",
    "repos_url": "https://api.github.com/users/jakubgs/repos",
    "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jakubgs/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/2170/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-desktop/issues/2170/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/822402873",
    "html_url": "https://github.com/status-im/status-desktop/issues/2170#issuecomment-822402873",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/2170",
    "id": 822402873,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyMjQwMjg3Mw==",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-19T11:43:55Z",
    "updated_at": "2021-04-19T11:43:55Z",
    "author_association": "MEMBER",
    "body": "Not sure if another issue was necessary: https://github.com/status-im/infra-ci/issues/28",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/822402873/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/822405008",
    "html_url": "https://github.com/status-im/status-desktop/issues/2170#issuecomment-822405008",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/2170",
    "id": 822405008,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyMjQwNTAwOA==",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-19T11:47:52Z",
    "updated_at": "2021-04-19T11:47:52Z",
    "author_association": "MEMBER",
    "body": "For windows there's already this:\r\nhttps://github.com/status-im/status-desktop/blob/7eda54a14194622dcea2f068d61ed1044b8ef9d2/Makefile#L390-L402\r\nBut it would probably be most sensible to refactor this out of the `Makefile` into a separate script, like MacOS does:\r\nhttps://github.com/status-im/status-desktop/blob/7eda54a14194622dcea2f068d61ed1044b8ef9d2/Makefile#L309-L313\r\nThe `Makefile` is already far too big for it's own good.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/822405008/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/822429779",
    "html_url": "https://github.com/status-im/status-desktop/issues/2170#issuecomment-822429779",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/2170",
    "id": 822429779,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyMjQyOTc3OQ==",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-19T12:31:52Z",
    "updated_at": "2021-04-19T12:31:52Z",
    "author_association": "MEMBER",
    "body": "Our CI hosts already have `signtool.exe` installed:\r\n```\r\nadmin@windows-01 MINGW64 ~\r\n$ find /c/ -iname 'signtool.exe'                                                                                           \r\n/c/Program Files (x86)/Windows Kits/8.1/bin/arm/signtool.exe\r\n/c/Program Files (x86)/Windows Kits/8.1/bin/x64/signtool.exe\r\n/c/Program Files (x86)/Windows Kits/8.1/bin/x86/signtool.exe\r\n```\r\nThough the way of providing a path to it needs to be devised.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/822429779/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/822431940",
    "html_url": "https://github.com/status-im/status-desktop/issues/2170#issuecomment-822431940",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/2170",
    "id": 822431940,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyMjQzMTk0MA==",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-19T12:35:36Z",
    "updated_at": "2021-04-19T12:35:45Z",
    "author_association": "MEMBER",
    "body": "I see the `Makefile` uses `signtool verify -pa`:\r\n```\r\nadmin@windows-01 MINGW64 ~\r\n$ '/c/Program Files (x86)/Windows Kits/8.1/bin/x64/signtool.exe' --help 2>&1 | grep verify\r\n                verify     --  Verify embedded or catalog signatures.\r\n```\r\nThere are some more docs here: https://docs.microsoft.com/en-us/dotnet/framework/tools/signtool-exe\r\n\r\n>#### `verify`\r\n>Verifies the digital signature of files by determining whether the signing certificate was issued by a trusted authority, whether the signing certificate has been revoked, and, optionally, whether the signing certificate is valid for a specific policy. For a list of the options supported by the Verify command, see [Verify Command Options](https://docs.microsoft.com/en-us/dotnet/framework/tools/signtool-exe#Verify).",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/822431940/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/822438973",
    "html_url": "https://github.com/status-im/status-desktop/issues/2170#issuecomment-822438973",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/2170",
    "id": 822438973,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyMjQzODk3Mw==",
    "user": {
      "login": "michaelsbradleyjr",
      "id": 194260,
      "node_id": "MDQ6VXNlcjE5NDI2MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/194260?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/michaelsbradleyjr",
      "html_url": "https://github.com/michaelsbradleyjr",
      "followers_url": "https://api.github.com/users/michaelsbradleyjr/followers",
      "following_url": "https://api.github.com/users/michaelsbradleyjr/following{/other_user}",
      "gists_url": "https://api.github.com/users/michaelsbradleyjr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/michaelsbradleyjr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/michaelsbradleyjr/subscriptions",
      "organizations_url": "https://api.github.com/users/michaelsbradleyjr/orgs",
      "repos_url": "https://api.github.com/users/michaelsbradleyjr/repos",
      "events_url": "https://api.github.com/users/michaelsbradleyjr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/michaelsbradleyjr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-19T12:47:11Z",
    "updated_at": "2021-04-19T12:47:11Z",
    "author_association": "CONTRIBUTOR",
    "body": "> I see the `Makefile` uses `signtool verify -pa`:\r\n\r\nFrom bash that translates to `/pa`. The idea with L395 is to filter out DLLs and EXEs that are already validly signed, e.g. the Qt libs.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/822438973/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/822440084",
    "html_url": "https://github.com/status-im/status-desktop/issues/2170#issuecomment-822440084",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/2170",
    "id": 822440084,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyMjQ0MDA4NA==",
    "user": {
      "login": "michaelsbradleyjr",
      "id": 194260,
      "node_id": "MDQ6VXNlcjE5NDI2MA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/194260?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/michaelsbradleyjr",
      "html_url": "https://github.com/michaelsbradleyjr",
      "followers_url": "https://api.github.com/users/michaelsbradleyjr/followers",
      "following_url": "https://api.github.com/users/michaelsbradleyjr/following{/other_user}",
      "gists_url": "https://api.github.com/users/michaelsbradleyjr/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/michaelsbradleyjr/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/michaelsbradleyjr/subscriptions",
      "organizations_url": "https://api.github.com/users/michaelsbradleyjr/orgs",
      "repos_url": "https://api.github.com/users/michaelsbradleyjr/repos",
      "events_url": "https://api.github.com/users/michaelsbradleyjr/events{/privacy}",
      "received_events_url": "https://api.github.com/users/michaelsbradleyjr/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-19T12:49:01Z",
    "updated_at": "2021-04-19T12:49:01Z",
    "author_association": "CONTRIBUTOR",
    "body": "> Our CI hosts already have `signtool.exe` installed:\r\n> \r\n> ```\r\n> admin@windows-01 MINGW64 ~\r\n> $ find /c/ -iname 'signtool.exe'                                                                                           \r\n> /c/Program Files (x86)/Windows Kits/8.1/bin/arm/signtool.exe\r\n> /c/Program Files (x86)/Windows Kits/8.1/bin/x64/signtool.exe\r\n> /c/Program Files (x86)/Windows Kits/8.1/bin/x86/signtool.exe\r\n> ```\r\n> \r\n> Though the way of providing a path to it needs to be devised.\r\n\r\nIt should be able to be specified with the `SIGNTOOL` make variable: https://github.com/status-im/status-desktop/blob/master/Makefile#L81.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/822440084/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/822442304",
    "html_url": "https://github.com/status-im/status-desktop/issues/2170#issuecomment-822442304",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/2170",
    "id": 822442304,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyMjQ0MjMwNA==",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-19T12:52:26Z",
    "updated_at": "2021-04-19T12:52:26Z",
    "author_association": "MEMBER",
    "body": "Yeah, I see the `SIGNTOOL` variable and I don't think I like it. I'd prefer to implement some kind of detection instead.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/822442304/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/822498035",
    "html_url": "https://github.com/status-im/status-desktop/issues/2170#issuecomment-822498035",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/2170",
    "id": 822498035,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyMjQ5ODAzNQ==",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-19T14:11:04Z",
    "updated_at": "2021-04-19T14:11:04Z",
    "author_association": "MEMBER",
    "body": "This StackOverflow post shows several locations where it can be found:\r\nhttps://stackoverflow.com/questions/31869552/how-to-install-signtool-exe-for-windows-10\r\n\r\nBut it's normally in either of:\r\n* `C:\\Program Files (x86)\\Windows Kits\\8.0\\bin\\x64\\signtool.exe`\r\n* `C:\\Program Files (x86)\\Windows Kits\\8.1\\bin\\x64\\signtool.exe`\r\n* `C:\\Program Files (x86)\\Windows Kits\\10\\bin\\x64\\signtool.exe`\r\n\r\nAnd probably some other versions, but this makes it easy to find.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/822498035/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/822507610",
    "html_url": "https://github.com/status-im/status-desktop/issues/2170#issuecomment-822507610",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/2170",
    "id": 822507610,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyMjUwNzYxMA==",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-19T14:24:03Z",
    "updated_at": "2021-04-19T14:24:03Z",
    "author_association": "MEMBER",
    "body": "According to DigitCert docs:\r\nhttps://knowledge.digicert.com/solution/SO912.html\r\nThe URL for timestamping signed files is:\r\nhttp://timestamp.digicert.com\r\nAnd according to their docs this is a `RFC 3161` server, so the flag needs to be `/tr`, and not just `/t`.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/822507610/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/823044478",
    "html_url": "https://github.com/status-im/status-desktop/issues/2170#issuecomment-823044478",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/2170",
    "id": 823044478,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyMzA0NDQ3OA==",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-20T07:27:20Z",
    "updated_at": "2021-04-20T07:27:20Z",
    "author_association": "MEMBER",
    "body": "Well, I've encountered my first issue:\r\n```\r\n23:27:02  Signing: ./tmp/windows/dist/Status/bin/audio/qtaudio_wasapi.dll\r\n23:27:02  Error information: \"Error: Store::ImportCertObject() failed.\" (-2146893808/0x80090010)\r\n23:27:02  SignTool Error: An unexpected internal error has occurred.\r\n```\r\nWonder what that's about...",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/823044478/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/823128745",
    "html_url": "https://github.com/status-im/status-desktop/issues/2170#issuecomment-823128745",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/2170",
    "id": 823128745,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyMzEyODc0NQ==",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-20T09:29:13Z",
    "updated_at": "2021-04-20T09:29:13Z",
    "author_association": "MEMBER",
    "body": "According to this issue:\r\n\r\n>We were experiencing the exact same problem and I found the possible cause and a better solution than signing multiple times until it succeeds.\r\n>\r\n>When exporting the certificate as a pfx file, a \"new\" option was added in Windows 10, \"Enable certificate privacy\". This option is checked by default.\r\n>\r\n>This option did not exist when we exported our old certificate that works fine. We exported the new certificate again but unchecked this option and now everything works!\r\n>\r\n>IMO, this is a bug in Microsoft's signtool.exe.\r\n\r\nhttps://social.msdn.microsoft.com/Forums/sqlserver/en-US/e382c2ac-08e0-42d7-95fd-1ba97c095010/signing-signtoolexe-exec-error-information-quoterror-storeimportcertobject?forum=winformssetup",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/823128745/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/823129555",
    "html_url": "https://github.com/status-im/status-desktop/issues/2170#issuecomment-823129555",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/2170",
    "id": 823129555,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyMzEyOTU1NQ==",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-20T09:30:28Z",
    "updated_at": "2021-04-20T09:30:28Z",
    "author_association": "MEMBER",
    "body": "This ServerFault suggests the error code means a permissions error:\r\n\r\n>I looked for the code and found out what it means, i.e.\r\n>```\r\n>NTE_PERM\r\n>0x80090010\r\n>Access denied.\r\n>```\r\n\r\nhttps://serverfault.com/questions/673212/how-to-give-a-user-access-to-the-certificate-store-on-windows-server-2012",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/823129555/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/823130147",
    "html_url": "https://github.com/status-im/status-desktop/issues/2170#issuecomment-823130147",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/2170",
    "id": 823130147,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyMzEzMDE0Nw==",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-20T09:31:23Z",
    "updated_at": "2021-04-20T09:31:23Z",
    "author_association": "MEMBER",
    "body": "This suggests this is related to the user running the command being \"non-standard\":\r\n\r\n>CircleCI's Windows user account does not give access to importing certificates into the Current User store. Thus, they must be imported to Local Machine (which ironically, requires elevated priviledges, but still works).\r\n\r\nhttps://github.com/shabados/presenter/issues/265#issuecomment-549166320",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/823130147/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/823162385",
    "html_url": "https://github.com/status-im/status-desktop/issues/2170#issuecomment-823162385",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/2170",
    "id": 823162385,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyMzE2MjM4NQ==",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-20T10:23:00Z",
    "updated_at": "2021-04-20T10:23:00Z",
    "author_association": "MEMBER",
    "body": "I'm seeing a few options:\r\n\r\n* Try using `signtool.exe` from `Windows Kits` version `10` instead of `8.1`\r\n* Try signing the binary as `admin` instead of `jenkins` to verify user is the issue\r\n* Try adjusting permissions of the certificate file before signing the binary\r\n\r\nSimplest thing to try first is newer version of `Windows Kits`.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/823162385/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/823170402",
    "html_url": "https://github.com/status-im/status-desktop/issues/2170#issuecomment-823170402",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/2170",
    "id": 823170402,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyMzE3MDQwMg==",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-20T10:37:33Z",
    "updated_at": "2021-04-20T10:39:48Z",
    "author_association": "MEMBER",
    "body": "Looks like users of Travis CI have experienced this issue too:\r\nhttps://travis-ci.community/t/codesigning-on-windows/1385\r\nAnd according to [this comment](https://travis-ci.community/t/codesigning-on-windows/1385/2) they solved it by using Windows SDK 10.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/823170402/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/823174885",
    "html_url": "https://github.com/status-im/status-desktop/issues/2170#issuecomment-823174885",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/2170",
    "id": 823174885,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyMzE3NDg4NQ==",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-20T10:45:53Z",
    "updated_at": "2021-04-20T10:45:53Z",
    "author_association": "MEMBER",
    "body": "I'm also thinking trying to import the cert first might be a good idea:\r\nhttps://itluke.online/2017/09/24/how-to-import-a-certificate-into-the-local-computers-store/",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/823174885/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/823182142",
    "html_url": "https://github.com/status-im/status-desktop/issues/2170#issuecomment-823182142",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/2170",
    "id": 823182142,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyMzE4MjE0Mg==",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-20T10:59:13Z",
    "updated_at": "2021-04-20T10:59:13Z",
    "author_association": "MEMBER",
    "body": "Interesting, I tried importing the certificate with:\r\n```\r\ncertutil -addstore -f \"StatusDigiCert\" \"${WINDOWS_CODESIGN_PFX_PATH}\"\r\n```\r\nBut it failed with:\r\n```\r\n12:58:05  Administrator permissions are needed to use the selected options.  Use an administrator command prompt to complete these tasks.\r\n12:58:05  StatusDigiCert\r\n12:58:05  Cannot open Cert store.\r\n12:58:05  CertUtil: -addstore command FAILED: 0x80070005 (WIN32: 5 ERROR_ACCESS_DENIED)\r\n12:58:05  CertUtil: Access is denied.\r\n```\r\nWhich narrows down the cause as being permissions related to certificate store.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/823182142/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/823185195",
    "html_url": "https://github.com/status-im/status-desktop/issues/2170#issuecomment-823185195",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/2170",
    "id": 823185195,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyMzE4NTE5NQ==",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-20T11:04:42Z",
    "updated_at": "2021-04-20T11:04:42Z",
    "author_association": "MEMBER",
    "body": "Interesting, I run `singtool verify` on the library that caused error and it does appear signed:\r\n```\r\njenkins@windows-02 MINGW64 ~/workspace/status-desktop/platforms/windows ((4ae15506...))\r\n$ \"$SIGNTOOL\" verify -pa tmp/windows/dist/Status/bin/audio/qtaudio_wasapi.dll\r\nFile: tmp/windows/dist/Status/bin/audio/qtaudio_wasapi.dll\r\nIndex  Algorithm  Timestamp    \r\n========================================\r\n0      sha1       Authenticode \r\n\r\nSuccessfully verified: tmp/windows/dist/Status/bin/audio/qtaudio_wasapi.dll\r\n```\r\nSo the check in the script must be incorrect.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/823185195/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/823186100",
    "html_url": "https://github.com/status-im/status-desktop/issues/2170#issuecomment-823186100",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/2170",
    "id": 823186100,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyMzE4NjEwMA==",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-20T11:06:09Z",
    "updated_at": "2021-04-20T11:06:09Z",
    "author_association": "MEMBER",
    "body": "Checking the build Status binary does correctly return a non-zero code:\r\n```\r\njenkins@windows-02 MINGW64 ~/workspace/status-desktop/platforms/windows ((4ae15506...))\r\n$ \"$SIGNTOOL\" verify -pa bin/nim_status_client.exe \r\nFile: bin/nim_status_client.exe\r\nIndex  Algorithm  Timestamp    \r\n========================================\r\nSignTool Error: No signature found.\r\n\r\nNumber of errors: 1\r\n\r\njenkins@windows-02 MINGW64 ~/workspace/status-desktop/platforms/windows ((4ae15506...))\r\n$ echo $?\r\n1\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/823186100/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/823190349",
    "html_url": "https://github.com/status-im/status-desktop/issues/2170#issuecomment-823190349",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/2170",
    "id": 823190349,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyMzE5MDM0OQ==",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-20T11:13:36Z",
    "updated_at": "2021-04-20T11:13:36Z",
    "author_association": "MEMBER",
    "body": "Okay, fixing the conditional did help:\r\nhttps://github.com/status-im/status-desktop/blob/bef698649806280a0a306964fc11c8e47998e560/scripts/sign-windows-bin.sh#L34-L38\r\nBut it still fails\r\n```\r\n13:10:15  Already signed: ./tmp/windows/dist/Status/bin/audio/qtaudio_wasapi.dll\r\n13:10:15  Already signed: ./tmp/windows/dist/Status/bin/audio/qtaudio_windows.dll\r\n13:10:15  Already signed: ./tmp/windows/dist/Status/bin/bearer/qgenericbearer.dll\r\n13:10:15  Already signed: ./tmp/windows/dist/Status/bin/D3Dcompiler_47.dll\r\n13:10:15  Signing: ./tmp/windows/dist/Status/bin/DOtherSide.dll\r\n13:10:15  Error information: \"Error: Store::ImportCertObject() failed.\" (-2146893808/0x80090010)\r\n13:10:15  SignTool Error: An unexpected internal error has occurred.\r\n```\r\nBut at least now on a correctly unsigned binary.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/823190349/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/823248949",
    "html_url": "https://github.com/status-im/status-desktop/issues/2170#issuecomment-823248949",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/2170",
    "id": 823248949,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyMzI0ODk0OQ==",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-20T12:52:58Z",
    "updated_at": "2021-04-20T12:52:58Z",
    "author_association": "MEMBER",
    "body": "This might be a useful utility, courtesy of @cheatfate: \r\nhttps://docs.microsoft.com/en-us/sysinternals/downloads/sigcheck",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/823248949/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/823302250",
    "html_url": "https://github.com/status-im/status-desktop/issues/2170#issuecomment-823302250",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/2170",
    "id": 823302250,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyMzMwMjI1MA==",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-20T14:05:29Z",
    "updated_at": "2021-04-20T14:40:16Z",
    "author_association": "MEMBER",
    "body": "I'm also thinking I should create a self-signed certificate. For two reasons:\r\n\r\n1. To use it to sign develpment/PR builds, so an external contributor can't create a malicious client\r\n2. So I can compare its behavior to the DigiCert certificate we will use for releaes\r\n\r\nSome links:\r\n\r\n* https://medium.com/the-new-control-plane/generating-self-signed-certificates-on-windows-7812a600c2d8\r\n* https://www.ssl.com/how-to/create-a-pfx-p12-certificate-file-using-openssl/\r\n* https://improveandrepeat.com/2019/03/create-self-signed-certificates-using-openssl-on-windows/\r\n* https://gist.github.com/princeppy/d00bad66d9caac86d9b7d3ce9e35fc12\r\n* https://windowsreport.com/create-self-signed-certificate/",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/823302250/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/823313537",
    "html_url": "https://github.com/status-im/status-desktop/issues/2170#issuecomment-823313537",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/2170",
    "id": 823313537,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyMzMxMzUzNw==",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-20T14:19:40Z",
    "updated_at": "2021-04-23T11:16:43Z",
    "author_association": "MEMBER",
    "body": "I copied the certificate to `windows-02.gc-europe-west4-a.ci.misc` and adjusted the permissions:\r\n```powershell\r\n$Cert = Get-Item Desktop-DigiCert.pfx\r\n$Jenkins = New-Object -TypeName System.Security.Principal.NTAccount -ArgumentList 'jenkins';\r\n$Acl = Get-Acl -Path $Cert.FullName\r\n$Acl.SetOwner($Jenkins)\r\n```\r\nAnd ran the signing command by hand as `jenkins` user in the workspace:\r\n```\r\njenkins@windows-02 MINGW64 ~/workspace/status-desktop/platforms/windows ((bef69864...))\r\n$ \"$SIGNTOOL\" sign -v -fd SHA256 -p \"$CERT_PASS\" -f ~/Desktop-DigiCert.pfx -tr http://timestamp.digicert.com tmp/windows/dist/Status/bin/DOtherSide.dll\r\nThe following certificate was selected:\r\n    Issued to: Status Research and Development GmbH\r\n    Issued by: DigiCert SHA2 Assured ID Code Signing CA\r\n    Expires:   Sun Apr 03 23:59:59 2022\r\n    SHA1 hash: C0568E2366D4B43659ED5B668F7DE245660980B3\r\n\r\nDone Adding Additional Store\r\nSuccessfully signed: tmp/windows/dist/Status/bin/DOtherSide.dll\r\n\r\nNumber of files successfully Signed: 1\r\nNumber of warnings: 0\r\nNumber of errors: 0\r\n```\r\nAnd it worked:\r\n```\r\njenkins@windows-02 MINGW64 ~/workspace/status-desktop/platforms/windows ((bef69864...))\r\n$ \"$SIGNTOOL\" verify -pa tmp/windows/dist/Status/bin/DOtherSide.dll\r\nFile: tmp/windows/dist/Status/bin/DOtherSide.dll\r\nIndex  Algorithm  Timestamp    \r\n========================================\r\n0      sha256     RFC3161      \r\n\r\nSuccessfully verified: tmp/windows/dist/Status/bin/DOtherSide.dll\r\n```\r\nSo it's possible the issue is actually ownership of the certificate file after Jenkins creates it from the credential.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/823313537/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/823315212",
    "html_url": "https://github.com/status-im/status-desktop/issues/2170#issuecomment-823315212",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/2170",
    "id": 823315212,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyMzMxNTIxMg==",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-20T14:21:48Z",
    "updated_at": "2021-04-20T14:33:10Z",
    "author_association": "MEMBER",
    "body": "What the actual fuck, it worked:\r\n![image](https://user-images.githubusercontent.com/2212681/115414065-07cf8780-a1f6-11eb-8a36-94b604898d52.png)\r\n\r\nhttps://ci.status.im/job/status-desktop/job/release/job/ci-windows-signing/19/\r\nhttps://ci.status.im/job/status-desktop/job/platforms/job/windows/34/\r\n\r\nBut I didn't change anything... except I commented out `cleanWs()` so I can debug stuff.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/823315212/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/823327579",
    "html_url": "https://github.com/status-im/status-desktop/issues/2170#issuecomment-823327579",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/2170",
    "id": 823327579,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyMzMyNzU3OQ==",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-20T14:37:45Z",
    "updated_at": "2021-04-20T14:37:45Z",
    "author_association": "MEMBER",
    "body": "It appears to work for multiple files well too:\r\n```\r\n16:34:12  The following certificate was selected:\r\n16:34:12      Issued to: Status Research and Development GmbH\r\n16:34:12      Issued by: DigiCert SHA2 Assured ID Code Signing CA\r\n16:34:12      Expires:   Sun Apr 03 23:59:59 2022\r\n16:34:12      SHA1 hash: C0568E2366D4B43659ED5B668F7DE245660980B3\r\n16:34:12  \r\n16:34:12  Done Adding Additional Store\r\n16:34:17  Successfully signed: ./tmp/windows/dist/Status/bin/DOtherSide.dll\r\n16:34:17  Successfully signed: ./tmp/windows/dist/Status/bin/libcrypto-1_1-x64.dll\r\n16:34:17  Successfully signed: ./tmp/windows/dist/Status/bin/libcrypto-1_1.dll\r\n16:34:17  Successfully signed: ./tmp/windows/dist/Status/bin/libcurl.dll\r\n16:34:17  Successfully signed: ./tmp/windows/dist/Status/bin/libgcc_s_seh-1.dll\r\n16:34:17  Successfully signed: ./tmp/windows/dist/Status/bin/libssl-1_1-x64.dll\r\n16:34:17  Successfully signed: ./tmp/windows/dist/Status/bin/libssl-1_1.dll\r\n16:34:17  Successfully signed: ./tmp/windows/dist/Status/bin/libstatus.dll\r\n16:34:17  Successfully signed: ./tmp/windows/dist/Status/bin/libwinpthread-1.dll\r\n16:34:17  Successfully signed: ./tmp/windows/dist/Status/bin/opengl32sw.dll\r\n16:34:17  Successfully signed: ./tmp/windows/dist/Status/bin/pcre.dll\r\n16:34:17  Successfully signed: ./tmp/windows/dist/Status/bin/pcre32.dll\r\n16:34:17  Successfully signed: ./tmp/windows/dist/Status/bin/pcre64.dll\r\n16:34:17  Successfully signed: ./tmp/windows/dist/Status/bin/pdcurses.dll\r\n16:34:17  Successfully signed: ./tmp/windows/dist/Status/bin/pdcurses32.dll\r\n16:34:17  Successfully signed: ./tmp/windows/dist/Status/bin/pdcurses64.dll\r\n16:34:17  Successfully signed: ./tmp/windows/dist/Status/bin/sqlite3_32.dll\r\n16:34:17  Successfully signed: ./tmp/windows/dist/Status/bin/sqlite3_64.dll\r\n16:34:17  Successfully signed: ./tmp/windows/dist/Status/bin/Status.exe\r\n16:34:17  Successfully signed: ./tmp/windows/dist/Status/Status.exe\r\n16:34:17  \r\n16:34:17  Number of files successfully Signed: 20\r\n16:34:17  Number of warnings: 0\r\n16:34:17  Number of errors: 0\r\n```\r\nBut I'm thinking something is not right, so I'll clear the workspaces and try again.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/823327579/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/823359164",
    "html_url": "https://github.com/status-im/status-desktop/issues/2170#issuecomment-823359164",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/2170",
    "id": 823359164,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyMzM1OTE2NA==",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-20T15:17:36Z",
    "updated_at": "2021-04-20T15:17:36Z",
    "author_association": "MEMBER",
    "body": "Now it seems to work, even though I've re-added clearing workspaces after the build:\r\nhttps://ci.status.im/job/status-desktop/job/platforms/job/windows/37/\r\n\r\nSo I'm not sure what was causing the error before... I'll try restarting the host, see if I can reproduce the error again.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/823359164/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/823521663",
    "html_url": "https://github.com/status-im/status-desktop/issues/2170#issuecomment-823521663",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/2170",
    "id": 823521663,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyMzUyMTY2Mw==",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-20T18:53:00Z",
    "updated_at": "2021-04-20T18:53:00Z",
    "author_association": "MEMBER",
    "body": "And there we have it:\r\n```\r\n20:49:00  SignTool Error: An unexpected internal error has occurred.\r\n20:49:00  Error information: \"Error: Store::ImportCertObject() failed.\" (-2146893808/0x80090010)\r\n20:49:00  make: *** [Makefile:364: pkg/StatusIm-210420-183758-04b656.zip] Error 1\r\n```\r\nhttps://ci.status.im/job/status-desktop/job/platforms/job/windows/40/consoleFull\r\n\r\nLooks like rebooting `window-02` cause the issue to appear again. Interesting.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/823521663/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/823894975",
    "html_url": "https://github.com/status-im/status-desktop/issues/2170#issuecomment-823894975",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/2170",
    "id": 823894975,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyMzg5NDk3NQ==",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-21T08:49:13Z",
    "updated_at": "2021-04-23T11:09:45Z",
    "author_association": "MEMBER",
    "body": "And I tried a build after logging in as `jenkins` and it failed, but when I tried building by hand it worked:\r\n```\r\njenkins@windows-02 MINGW64 ~/workspace/status-desktop/platforms/windows ((04b656ee...))\r\n$ \"$SIGNTOOL\" sign -v -fd SHA256 -p \"$CERT_PASS\"  -f ~/Desktop-DigiCert.pfx -tr http://timestamp.digicert.com tmp/windows/dist/Status/bin/DOtherSide.dll\r\nThe following certificate was selected:\r\n    Issued to: Status Research and Development GmbH\r\n    Issued by: DigiCert SHA2 Assured ID Code Signing CA\r\n    Expires:   Sun Apr 03 23:59:59 2022\r\n    SHA1 hash: C0568E2366D4B43659ED5B668F7DE245660980B3\r\n\r\nDone Adding Additional Store\r\nSuccessfully signed: tmp/windows/dist/Status/bin/DOtherSide.dll\r\n\r\nNumber of files successfully Signed: 1\r\nNumber of warnings: 0\r\nNumber of errors: 0\r\n```\r\nBut this was as before done with a cert I coped manually onto the host and adjusted permissions.\r\nSo next step is to look at how the certificate permissions look when Jenkins creates it from the credential.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/823894975/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/823904716",
    "html_url": "https://github.com/status-im/status-desktop/issues/2170#issuecomment-823904716",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/2170",
    "id": 823904716,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyMzkwNDcxNg==",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-21T09:04:49Z",
    "updated_at": "2021-04-21T09:04:49Z",
    "author_association": "MEMBER",
    "body": "I checked permissions of the certificate created by Jenkins and they look correct:\r\n```\r\n11:01:15  Permissions of: ****\r\n11:01:15  **** NT AUTHORITY\\SYSTEM:(I)(F)\r\n11:01:15       BUILTIN\\Administrators:(I)(F)\r\n11:01:15       WINDOWS-02\\jenkins:(I)(F)\r\n```\r\nCorrectly owned by local `jenkins` user.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/823904716/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/823929912",
    "html_url": "https://github.com/status-im/status-desktop/issues/2170#issuecomment-823929912",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/2170",
    "id": 823929912,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgyMzkyOTkxMg==",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-04-21T09:44:34Z",
    "updated_at": "2021-04-21T09:44:34Z",
    "author_association": "MEMBER",
    "body": "I've identified the Visual Studio component that installs the `Windows Kits` version `10` with `signtool.exe`:\r\n```\r\nMicrosoft.VisualStudio.Component.Windows10SDK\r\n```\r\nI modified the [installation script]() and it works:\r\n```\r\njenkins@windows-02 MINGW64 ~\r\n$ ls -l /c/Program\\ Files\\ \\(x86\\)/Windows\\ Kits/10/bin/x64/signtool.exe /c/Program\\ Files\\ \\(x86\\)/Windows\\ Kits/8.1/bin/x64/signtool.exe\r\n-rwxr-xr-x 1 jenkins 197121 431296 Jan  6  2017 '/c/Program Files (x86)/Windows Kits/10/bin/x64/signtool.exe'\r\n-rwxr-xr-x 1 jenkins 197121 363160 Oct 24  2014 '/c/Program Files (x86)/Windows Kits/8.1/bin/x64/signtool.exe'\r\n```\r\nBut only __during__ the installation, once it finishes the version 10 is gone:\r\n```\r\njenkins@windows-02 MINGW64 ~\r\n$ ls -l /c/Program\\ Files\\ \\(x86\\)/Windows\\ Kits/10/bin/x64/signtool.exe /c/Program\\ Files\\ \\(x86\\)/Windows\\ Kits/8.1/bin/x64/signtool.exe\r\nls: cannot access '/c/Program Files (x86)/Windows Kits/10/bin/x64/signtool.exe': No such file or directory\r\n-rwxr-xr-x 1 jenkins 197121 363160 Oct 24  2014 '/c/Program Files (x86)/Windows Kits/8.1/bin/x64/signtool.exe'\r\n```\r\nSource:\r\nhttps://github.com/MicrosoftDocs/visualstudio-docs/blob/master/docs/install/includes/vs-2017/workload-component-id-vs-community.md#components-included-by-this-workload-3",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/823929912/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
