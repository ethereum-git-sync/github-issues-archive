{
  "url": "https://api.github.com/repos/status-im/status-desktop/issues/5618",
  "repository_url": "https://api.github.com/repos/status-im/status-desktop",
  "labels_url": "https://api.github.com/repos/status-im/status-desktop/issues/5618/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-desktop/issues/5618/comments",
  "events_url": "https://api.github.com/repos/status-im/status-desktop/issues/5618/events",
  "html_url": "https://github.com/status-im/status-desktop/issues/5618",
  "id": 1225049693,
  "node_id": "I_kwDOD5KrTM5JBMZd",
  "number": 5618,
  "title": "Self-Signed Windows Certificate Expired",
  "user": {
    "login": "jakubgs",
    "id": 2212681,
    "node_id": "MDQ6VXNlcjIyMTI2ODE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jakubgs",
    "html_url": "https://github.com/jakubgs",
    "followers_url": "https://api.github.com/users/jakubgs/followers",
    "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
    "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
    "organizations_url": "https://api.github.com/users/jakubgs/orgs",
    "repos_url": "https://api.github.com/users/jakubgs/repos",
    "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jakubgs/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 2211665815,
      "node_id": "MDU6TGFiZWwyMjExNjY1ODE1",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/windows",
      "name": "windows",
      "color": "167a78",
      "default": false,
      "description": ""
    },
    {
      "id": 3047463952,
      "node_id": "MDU6TGFiZWwzMDQ3NDYzOTUy",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/security",
      "name": "security",
      "color": "0052CC",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "jakubgs",
    "id": 2212681,
    "node_id": "MDQ6VXNlcjIyMTI2ODE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jakubgs",
    "html_url": "https://github.com/jakubgs",
    "followers_url": "https://api.github.com/users/jakubgs/followers",
    "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
    "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
    "organizations_url": "https://api.github.com/users/jakubgs/orgs",
    "repos_url": "https://api.github.com/users/jakubgs/repos",
    "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jakubgs/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2022-05-04T08:12:16Z",
  "updated_at": "2022-05-04T10:17:57Z",
  "closed_at": "2022-05-04T10:17:57Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "It appears app PR builds for Windows on Jenkins are failing with:\r\n```\r\nSignTool Error: No certificates were found that met all the given criteria.\r\n```\r\nhttps://ci.status.im/job/status-desktop/job/branches/job/windows/view/change-requests/job/PR-5597/1/\r\n\r\nAnd this appears to have started [around the same time](https://ci.status.im/job/status-desktop/job/branches/job/windows/view/change-requests/job/PR-5592/1/) as when I generated the self-signed certificate for Windows PR builds:\r\n\r\n* https://github.com/status-im/status-desktop/issues/2170#issuecomment-827067476",
  "closed_by": {
    "login": "jakubgs",
    "id": 2212681,
    "node_id": "MDQ6VXNlcjIyMTI2ODE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jakubgs",
    "html_url": "https://github.com/jakubgs",
    "followers_url": "https://api.github.com/users/jakubgs/followers",
    "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
    "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
    "organizations_url": "https://api.github.com/users/jakubgs/orgs",
    "repos_url": "https://api.github.com/users/jakubgs/repos",
    "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jakubgs/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/5618/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-desktop/issues/5618/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1117040377",
    "html_url": "https://github.com/status-im/status-desktop/issues/5618#issuecomment-1117040377",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/5618",
    "id": 1117040377,
    "node_id": "IC_kwDOD5KrTM5ClK75",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-04T08:13:34Z",
    "updated_at": "2022-05-04T08:13:34Z",
    "author_association": "MEMBER",
    "body": "And this matches with the docs for [`New-SelfSignedCertificate`](https://docs.microsoft.com/en-us/powershell/module/pki/new-selfsignedcertificate):\r\n\r\n![image](https://user-images.githubusercontent.com/2212681/166644499-630acc5d-3c93-40cc-a936-f741a91640e0.png)\r\n\r\nSo it looks like I will need to create a new self-signed cert for development builds with a longer expiry date using `-NotAfter`.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1117040377/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1117059786",
    "html_url": "https://github.com/status-im/status-desktop/issues/5618#issuecomment-1117059786",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/5618",
    "id": 1117059786,
    "node_id": "IC_kwDOD5KrTM5ClPrK",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-04T08:37:42Z",
    "updated_at": "2022-05-04T08:42:56Z",
    "author_association": "MEMBER",
    "body": "I've created a new self-signed certificate with an expiry date 100 years in the future:\r\n```ps\r\nPS C:\\Users\\admin> $cert = New-SelfSignedCertificate -FriendlyName \"dev.desktop.status.im\" -certstorelocation cert:\\localmachine\\my -dnsname status.im -type CodeSigning -NotAfter (Get-Date).AddYears(100)\r\nPS C:\\Users\\admin> $cert\r\n\r\n   PSParentPath: Microsoft.PowerShell.Security\\Certificate::LocalMachine\\my\r\n\r\nThumbprint                                Subject\r\n----------                                -------\r\n4BE16A13BE2CB4282D0C70BA61FE0BA3B7D0CFFE  CN=status.im\r\n\r\nPS C:\\Users\\admin> Get-ChildItem -path $cert | Select-Object NotAfter                                                              \r\n                                                                                      \r\nNotAfter                                                                                                                                           \r\n--------                                                                                                                                           \r\n5/4/2122 10:34:53 AM \r\n```\r\nThen exported it as PFX:\r\n```ps\r\nPS C:\\Users\\admin> $certPass = ConvertTo-SecureString -String \"SUPER_SECRET\" -Force -AsPlainText\r\nPS C:\\Users\\admin> Export-PfxCertificate -cert $cert -FilePath self-signed.pfx -Password $certPass\r\n\r\n    Directory: C:\\Users\\admin\r\n\r\n\r\nMode                LastWriteTime         Length Name\r\n----                -------------         ------ ----\r\n-a----         5/4/2022  10:35 AM           2693 self-signed.pf\r\n```\r\nLets see if this works.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1117059786/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1117147718",
    "html_url": "https://github.com/status-im/status-desktop/issues/5618#issuecomment-1117147718",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/5618",
    "id": 1117147718,
    "node_id": "IC_kwDOD5KrTM5CllJG",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-04T10:17:40Z",
    "updated_at": "2022-05-04T10:17:40Z",
    "author_association": "MEMBER",
    "body": "Looks like it worked:\r\n```\r\n10:55:40  The following certificate was selected:\r\n10:55:40      Issued to: status.im\r\n10:55:40      Issued by: status.im\r\n10:55:40      Expires:   Mon May 04 10:34:53 2122\r\n10:55:40      SHA1 hash: 4BE16A13BE2CB4282D0C70BA61FE0BA3B7D0CFFE\r\n10:55:40  \r\n10:55:40  Done Adding Additional Store\r\n10:55:40  Successfully signed: pkg/StatusIm-Desktop-220504-083921-952f39.exe\r\n10:55:40  \r\n10:55:40  Number of files successfully Signed: 1\r\n10:55:40  Number of warnings: 0\r\n10:55:40  Number of errors: 0\r\n10:55:40  Signed successfully!\r\n```\r\nhttps://ci.status.im/job/status-desktop/job/branches/job/windows/job/master/1697/console",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1117147718/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1117147913",
    "html_url": "https://github.com/status-im/status-desktop/issues/5618#issuecomment-1117147913",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/5618",
    "id": 1117147913,
    "node_id": "IC_kwDOD5KrTM5CllMJ",
    "user": {
      "login": "jakubgs",
      "id": 2212681,
      "node_id": "MDQ6VXNlcjIyMTI2ODE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2212681?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jakubgs",
      "html_url": "https://github.com/jakubgs",
      "followers_url": "https://api.github.com/users/jakubgs/followers",
      "following_url": "https://api.github.com/users/jakubgs/following{/other_user}",
      "gists_url": "https://api.github.com/users/jakubgs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jakubgs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jakubgs/subscriptions",
      "organizations_url": "https://api.github.com/users/jakubgs/orgs",
      "repos_url": "https://api.github.com/users/jakubgs/repos",
      "events_url": "https://api.github.com/users/jakubgs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jakubgs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-04T10:17:57Z",
    "updated_at": "2022-05-04T10:17:57Z",
    "author_association": "MEMBER",
    "body": "I consider this resolved.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1117147913/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
