{
  "url": "https://api.github.com/repos/status-im/status-desktop/issues/10437",
  "repository_url": "https://api.github.com/repos/status-im/status-desktop",
  "labels_url": "https://api.github.com/repos/status-im/status-desktop/issues/10437/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-desktop/issues/10437/comments",
  "events_url": "https://api.github.com/repos/status-im/status-desktop/issues/10437/events",
  "html_url": "https://github.com/status-im/status-desktop/issues/10437",
  "id": 1684854863,
  "node_id": "I_kwDOD5KrTM5kbNhP",
  "number": 10437,
  "title": "MessageContextMenuView consumes a lot of memory",
  "user": {
    "login": "osmaczko",
    "id": 33099791,
    "node_id": "MDQ6VXNlcjMzMDk5Nzkx",
    "avatar_url": "https://avatars.githubusercontent.com/u/33099791?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/osmaczko",
    "html_url": "https://github.com/osmaczko",
    "followers_url": "https://api.github.com/users/osmaczko/followers",
    "following_url": "https://api.github.com/users/osmaczko/following{/other_user}",
    "gists_url": "https://api.github.com/users/osmaczko/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/osmaczko/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/osmaczko/subscriptions",
    "organizations_url": "https://api.github.com/users/osmaczko/orgs",
    "repos_url": "https://api.github.com/users/osmaczko/repos",
    "events_url": "https://api.github.com/users/osmaczko/events{/privacy}",
    "received_events_url": "https://api.github.com/users/osmaczko/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 2347610790,
      "node_id": "MDU6TGFiZWwyMzQ3NjEwNzkw",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/Chat",
      "name": "Chat",
      "color": "9279e0",
      "default": false,
      "description": ""
    },
    {
      "id": 3166254951,
      "node_id": "MDU6TGFiZWwzMTY2MjU0OTUx",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/performance",
      "name": "performance",
      "color": "7F1B66",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "igor-sirotin",
    "id": 25482501,
    "node_id": "MDQ6VXNlcjI1NDgyNTAx",
    "avatar_url": "https://avatars.githubusercontent.com/u/25482501?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/igor-sirotin",
    "html_url": "https://github.com/igor-sirotin",
    "followers_url": "https://api.github.com/users/igor-sirotin/followers",
    "following_url": "https://api.github.com/users/igor-sirotin/following{/other_user}",
    "gists_url": "https://api.github.com/users/igor-sirotin/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/igor-sirotin/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/igor-sirotin/subscriptions",
    "organizations_url": "https://api.github.com/users/igor-sirotin/orgs",
    "repos_url": "https://api.github.com/users/igor-sirotin/repos",
    "events_url": "https://api.github.com/users/igor-sirotin/events{/privacy}",
    "received_events_url": "https://api.github.com/users/igor-sirotin/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "igor-sirotin",
      "id": 25482501,
      "node_id": "MDQ6VXNlcjI1NDgyNTAx",
      "avatar_url": "https://avatars.githubusercontent.com/u/25482501?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/igor-sirotin",
      "html_url": "https://github.com/igor-sirotin",
      "followers_url": "https://api.github.com/users/igor-sirotin/followers",
      "following_url": "https://api.github.com/users/igor-sirotin/following{/other_user}",
      "gists_url": "https://api.github.com/users/igor-sirotin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/igor-sirotin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/igor-sirotin/subscriptions",
      "organizations_url": "https://api.github.com/users/igor-sirotin/orgs",
      "repos_url": "https://api.github.com/users/igor-sirotin/repos",
      "events_url": "https://api.github.com/users/igor-sirotin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/igor-sirotin/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": {
    "url": "https://api.github.com/repos/status-im/status-desktop/milestones/64",
    "html_url": "https://github.com/status-im/status-desktop/milestone/64",
    "labels_url": "https://api.github.com/repos/status-im/status-desktop/milestones/64/labels",
    "id": 9039503,
    "node_id": "MI_kwDOD5KrTM4Aie6P",
    "number": 64,
    "title": "0.13",
    "description": "Priorities **in priority order** for the 0.13 milestone:\r\n\r\n**1. Finish items started in 0.12**\r\n- Complete any outstanding issues related to pairing (for syncing) - Igor\r\n- Implement the 'Admin' role (issue #10114) - Mykhailo\r\n- Any remaining work to pay off tech. debt related to mutual contacts - Mishka\r\n- When creating/editing token based permission, ability to search for and selecting Collectables from OpenSea - MichaelC\r\n\r\n**2. Channel token permissions**\r\n- Create, edit and delete channel token permissions in the permissions admin screens\r\n- This includes the \"no tokens required to view this channel\" permission\r\n- All user facing channel token permissions functionality e.g. what happens when a user tries to access a token gated channel they don't have the required tokens to access, what happens when a user only has permissions to view a channel, etc...\r\n- If a community is an open (not token gated at the community level) community, if a channel is token gated AND if **no** \"no tokens required to view this channel\" permission for that channel exists, then the channel should be automatically encrypted.  If token gating is removed from a channel, the channel should become unencrypted.\r\n\r\n**3. DB perf improvements**\r\n- https://www.notion.so/Database-related-performance-1dbaa7ea894c461d885e55676683be07\r\n- Alex and Patryk to work on this, with help from LukÃ¡Å¡\r\n\r\n**4. Update app to use new 'Share URL' formats**\r\n- add functionality to status-go to generate the new 'Share URL' formats for sharing links to: User Profiles, Communities, Channel inside a Community (issue https://github.com/status-im/status-desktop/issues/10851)\r\n- Update everywhere a user can share a URL from to use the new URL format (issue https://github.com/status-im/status-desktop/issues/10852)\r\n- New/updated URL unroll designs for inside chat, including specific unrolls for the new User Profile, Community and Channel inside a Community URLs (issue https://github.com/status-im/status-desktop/issues/10585)\r\n- Ability to share a URL that points to a specific channel in a community (issue #10160)\r\n- Update all address inputs to accept a user pasting a 'share URL' into the input (in addition to being able to input the raw address).  This includes: Start new chat input, send contact request input in Settings, the import community key input, etc...\r\n- Update Status Desktops URL handler so that if Status is installed on a computer, when a user clicks on a Status 'Share URL' the app is launched (if not already running) and after signing in the user is automatically taken to the entity the Share URL represented inside the app.  e.g. if a user clicks on a URL for a Status Community, the user should be taken to the home screen for that community inside the Status App\r\n\r\n**5. Mint Assets functionality**\r\n- Also includes some small improvements to the mint Collectables functionality\r\n- Noelia, GravityBlast\r\n\r\n**6. Profile showcase backend**\r\n\r\n\r\n**--- For the Wallet team ---**\r\ntldr; continue building out Ben's wallet designs\r\n\r\n1. Complete any outstanding development related to the activity screens\r\n2. All accounts overview screens\r\n3. New settings screens\r\n4. Implement 'imported key and account' syncing and transfer between devices\r\n\r\n\r\n",
    "creator": {
      "login": "iurimatias",
      "id": 176720,
      "node_id": "MDQ6VXNlcjE3NjcyMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/176720?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/iurimatias",
      "html_url": "https://github.com/iurimatias",
      "followers_url": "https://api.github.com/users/iurimatias/followers",
      "following_url": "https://api.github.com/users/iurimatias/following{/other_user}",
      "gists_url": "https://api.github.com/users/iurimatias/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/iurimatias/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iurimatias/subscriptions",
      "organizations_url": "https://api.github.com/users/iurimatias/orgs",
      "repos_url": "https://api.github.com/users/iurimatias/repos",
      "events_url": "https://api.github.com/users/iurimatias/events{/privacy}",
      "received_events_url": "https://api.github.com/users/iurimatias/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 108,
    "closed_issues": 139,
    "state": "open",
    "created_at": "2023-02-13T19:04:13Z",
    "updated_at": "2023-05-31T14:55:47Z",
    "due_on": "2023-06-16T07:00:00Z",
    "closed_at": null
  },
  "comments": 12,
  "created_at": "2023-04-26T11:37:37Z",
  "updated_at": "2023-05-23T17:19:54Z",
  "closed_at": "2023-05-19T16:07:51Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "`MessageContextMenuView` consumes a lot of memory, see the following:\r\n\r\n2.3 GB is the starting usage.\r\n|condition|memory [GB]|memory delta [GB]|\r\n|-|-|-|\r\n|removed ChatContentView::contextmenu|1.6|0.7|\r\n\r\n_Originally posted by @osmaczko in https://github.com/status-im/status-desktop/issues/10343#issuecomment-1515103756_\r\n\r\nworkaround: https://github.com/status-im/status-desktop/pull/10379#issuecomment-1515218331            ",
  "closed_by": {
    "login": "igor-sirotin",
    "id": 25482501,
    "node_id": "MDQ6VXNlcjI1NDgyNTAx",
    "avatar_url": "https://avatars.githubusercontent.com/u/25482501?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/igor-sirotin",
    "html_url": "https://github.com/igor-sirotin",
    "followers_url": "https://api.github.com/users/igor-sirotin/followers",
    "following_url": "https://api.github.com/users/igor-sirotin/following{/other_user}",
    "gists_url": "https://api.github.com/users/igor-sirotin/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/igor-sirotin/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/igor-sirotin/subscriptions",
    "organizations_url": "https://api.github.com/users/igor-sirotin/orgs",
    "repos_url": "https://api.github.com/users/igor-sirotin/repos",
    "events_url": "https://api.github.com/users/igor-sirotin/events{/privacy}",
    "received_events_url": "https://api.github.com/users/igor-sirotin/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/10437/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-desktop/issues/10437/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1523557881",
    "html_url": "https://github.com/status-im/status-desktop/issues/10437#issuecomment-1523557881",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/10437",
    "id": 1523557881,
    "node_id": "IC_kwDOD5KrTM5az6X5",
    "user": {
      "login": "caybro",
      "id": 5377645,
      "node_id": "MDQ6VXNlcjUzNzc2NDU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5377645?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/caybro",
      "html_url": "https://github.com/caybro",
      "followers_url": "https://api.github.com/users/caybro/followers",
      "following_url": "https://api.github.com/users/caybro/following{/other_user}",
      "gists_url": "https://api.github.com/users/caybro/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/caybro/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/caybro/subscriptions",
      "organizations_url": "https://api.github.com/users/caybro/orgs",
      "repos_url": "https://api.github.com/users/caybro/repos",
      "events_url": "https://api.github.com/users/caybro/events{/privacy}",
      "received_events_url": "https://api.github.com/users/caybro/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-26T14:52:09Z",
    "updated_at": "2023-04-26T14:52:09Z",
    "author_association": "MEMBER",
    "body": "I wonder where the high memory usage comes from... it's just a context menu (albeit complex) with a couple of icons/menu items",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1523557881/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1523603818",
    "html_url": "https://github.com/status-im/status-desktop/issues/10437#issuecomment-1523603818",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/10437",
    "id": 1523603818,
    "node_id": "IC_kwDOD5KrTM5a0Flq",
    "user": {
      "login": "osmaczko",
      "id": 33099791,
      "node_id": "MDQ6VXNlcjMzMDk5Nzkx",
      "avatar_url": "https://avatars.githubusercontent.com/u/33099791?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/osmaczko",
      "html_url": "https://github.com/osmaczko",
      "followers_url": "https://api.github.com/users/osmaczko/followers",
      "following_url": "https://api.github.com/users/osmaczko/following{/other_user}",
      "gists_url": "https://api.github.com/users/osmaczko/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/osmaczko/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/osmaczko/subscriptions",
      "organizations_url": "https://api.github.com/users/osmaczko/orgs",
      "repos_url": "https://api.github.com/users/osmaczko/repos",
      "events_url": "https://api.github.com/users/osmaczko/events{/privacy}",
      "received_events_url": "https://api.github.com/users/osmaczko/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-26T15:19:37Z",
    "updated_at": "2023-04-26T15:26:17Z",
    "author_association": "CONTRIBUTOR",
    "body": "Have no idea, tried to profile it with qml profiler but wasn't able to find the culprit. It needs deeper investigation.\r\n\r\nWhat I have noticed is that `StatusMenu` takes a lot of time to instantiate.\r\n\r\nThese are profiling results when switching to community with 7 channels:\r\n\r\n1) You can see 7 `ChatContentView`s are instantiated here\r\n![image](https://user-images.githubusercontent.com/33099791/234617346-2fd5725b-1a36-4f63-aa51-ac8438d38661.png)\r\n\r\n2) The majority of creating time is occupied by `MessageContextMenuView` which is basically `StatusMenu`. On average it takes 70ms to load one `MessageContextMenuView`, for 50 chats it is 3.5s :eyes: \r\n\r\n![image](https://user-images.githubusercontent.com/33099791/234617923-22385846-5263-4a1b-a154-7892096a196c.png)\r\n\r\n3) And that's how long it takes to load one `ChatContentView` before the [workaround](https://github.com/status-im/status-desktop/pull/10379)\r\n\r\n![image](https://user-images.githubusercontent.com/33099791/234621930-4ffae1b0-7127-49c9-87cb-396fae1141aa.png)\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1523603818/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 1
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1542736274",
    "html_url": "https://github.com/status-im/status-desktop/issues/10437#issuecomment-1542736274",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/10437",
    "id": 1542736274,
    "node_id": "IC_kwDOD5KrTM5b9EmS",
    "user": {
      "login": "igor-sirotin",
      "id": 25482501,
      "node_id": "MDQ6VXNlcjI1NDgyNTAx",
      "avatar_url": "https://avatars.githubusercontent.com/u/25482501?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/igor-sirotin",
      "html_url": "https://github.com/igor-sirotin",
      "followers_url": "https://api.github.com/users/igor-sirotin/followers",
      "following_url": "https://api.github.com/users/igor-sirotin/following{/other_user}",
      "gists_url": "https://api.github.com/users/igor-sirotin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/igor-sirotin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/igor-sirotin/subscriptions",
      "organizations_url": "https://api.github.com/users/igor-sirotin/orgs",
      "repos_url": "https://api.github.com/users/igor-sirotin/repos",
      "events_url": "https://api.github.com/users/igor-sirotin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/igor-sirotin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-10T20:02:45Z",
    "updated_at": "2023-05-11T09:42:27Z",
    "author_association": "CONTRIBUTOR",
    "body": "After first look, here's the plan:\r\n\r\n1. Check the component for unused items\r\n2. Try to use `Loader` for `StatusMenu.delegate`. \r\nThis should improve performance significantly, because we usually only see 20-30% of all possible actions.\r\n3. Move `deleteMessageConfirmationDialogComponent` to `Popups`\r\n4. Move `FileDialog` to `Popups`\r\nAccording to profiler, this one seems to be one of the heaviest parts.\r\n5. Create a single instance of `Menu` for the app.\r\nAdd `messageStore` property and access the menu through `Global`\r\n6. Remove `Utils.getContactDetailsAsJson`. \r\nThis data is probably already available at component creation.\r\nAlso check for any other \"backend\" access.\r\n7. Separate `ProfileContextMenu`\r\n8. Separate `ImageContextMenu`",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1542736274/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1542889545",
    "html_url": "https://github.com/status-im/status-desktop/issues/10437#issuecomment-1542889545",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/10437",
    "id": 1542889545,
    "node_id": "IC_kwDOD5KrTM5b9qBJ",
    "user": {
      "login": "caybro",
      "id": 5377645,
      "node_id": "MDQ6VXNlcjUzNzc2NDU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5377645?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/caybro",
      "html_url": "https://github.com/caybro",
      "followers_url": "https://api.github.com/users/caybro/followers",
      "following_url": "https://api.github.com/users/caybro/following{/other_user}",
      "gists_url": "https://api.github.com/users/caybro/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/caybro/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/caybro/subscriptions",
      "organizations_url": "https://api.github.com/users/caybro/orgs",
      "repos_url": "https://api.github.com/users/caybro/repos",
      "events_url": "https://api.github.com/users/caybro/events{/privacy}",
      "received_events_url": "https://api.github.com/users/caybro/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-10T22:27:38Z",
    "updated_at": "2023-05-10T22:27:38Z",
    "author_association": "MEMBER",
    "body": "> * Move `deleteMessageConfirmationDialogComponent` to `Popups`\r\n> * Move `FileDialog` to `Popups`\r\n>   According to profiler, this one seems to be one of the heaviest parts.\r\n\r\nGood plan, this ^^ is where I'd start :)",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1542889545/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1543571603",
    "html_url": "https://github.com/status-im/status-desktop/issues/10437#issuecomment-1543571603",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/10437",
    "id": 1543571603,
    "node_id": "IC_kwDOD5KrTM5cAQiT",
    "user": {
      "login": "igor-sirotin",
      "id": 25482501,
      "node_id": "MDQ6VXNlcjI1NDgyNTAx",
      "avatar_url": "https://avatars.githubusercontent.com/u/25482501?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/igor-sirotin",
      "html_url": "https://github.com/igor-sirotin",
      "followers_url": "https://api.github.com/users/igor-sirotin/followers",
      "following_url": "https://api.github.com/users/igor-sirotin/following{/other_user}",
      "gists_url": "https://api.github.com/users/igor-sirotin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/igor-sirotin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/igor-sirotin/subscriptions",
      "organizations_url": "https://api.github.com/users/igor-sirotin/orgs",
      "repos_url": "https://api.github.com/users/igor-sirotin/repos",
      "events_url": "https://api.github.com/users/igor-sirotin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/igor-sirotin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-11T08:33:10Z",
    "updated_at": "2023-05-11T08:33:10Z",
    "author_association": "CONTRIBUTOR",
    "body": "Logging this here for comparison after fixes.\r\n\r\nFor me `MessageContextMenuView` loads in ~22ms.\r\n* `ProfileHeader`  - 5ms (btw, it has another `StatusMenu` inside ðŸ‘€, which takes 80% of loading time) \r\n* `FileDialog` - 6ms\r\n* 19x `MenuItem`, each 1ms\r\n\r\n<img width=\"1142\" alt=\"image\" src=\"https://github.com/status-im/status-desktop/assets/25482501/844a3665-3b8b-4c8d-acb6-7bf1884364b8\">\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1543571603/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 1,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1549920538",
    "html_url": "https://github.com/status-im/status-desktop/issues/10437#issuecomment-1549920538",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/10437",
    "id": 1549920538,
    "node_id": "IC_kwDOD5KrTM5cYeka",
    "user": {
      "login": "igor-sirotin",
      "id": 25482501,
      "node_id": "MDQ6VXNlcjI1NDgyNTAx",
      "avatar_url": "https://avatars.githubusercontent.com/u/25482501?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/igor-sirotin",
      "html_url": "https://github.com/igor-sirotin",
      "followers_url": "https://api.github.com/users/igor-sirotin/followers",
      "following_url": "https://api.github.com/users/igor-sirotin/following{/other_user}",
      "gists_url": "https://api.github.com/users/igor-sirotin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/igor-sirotin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/igor-sirotin/subscriptions",
      "organizations_url": "https://api.github.com/users/igor-sirotin/orgs",
      "repos_url": "https://api.github.com/users/igor-sirotin/repos",
      "events_url": "https://api.github.com/users/igor-sirotin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/igor-sirotin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-16T15:42:36Z",
    "updated_at": "2023-05-16T15:42:36Z",
    "author_association": "CONTRIBUTOR",
    "body": "Some WIP beautiful images:\r\n\r\n<img width=\"1118\" alt=\"image\" src=\"https://github.com/status-im/status-desktop/assets/25482501/7d672974-2383-40fb-aab4-41766fc18c61\">\r\n\r\n<img width=\"1061\" alt=\"image\" src=\"https://github.com/status-im/status-desktop/assets/25482501/f395b661-38ce-454a-9c08-8fd69210ca26\">\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1549920538/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1554720515",
    "html_url": "https://github.com/status-im/status-desktop/issues/10437#issuecomment-1554720515",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/10437",
    "id": 1554720515,
    "node_id": "IC_kwDOD5KrTM5cqycD",
    "user": {
      "login": "glitchminer",
      "id": 50769329,
      "node_id": "MDQ6VXNlcjUwNzY5MzI5",
      "avatar_url": "https://avatars.githubusercontent.com/u/50769329?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/glitchminer",
      "html_url": "https://github.com/glitchminer",
      "followers_url": "https://api.github.com/users/glitchminer/followers",
      "following_url": "https://api.github.com/users/glitchminer/following{/other_user}",
      "gists_url": "https://api.github.com/users/glitchminer/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/glitchminer/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/glitchminer/subscriptions",
      "organizations_url": "https://api.github.com/users/glitchminer/orgs",
      "repos_url": "https://api.github.com/users/glitchminer/repos",
      "events_url": "https://api.github.com/users/glitchminer/events{/privacy}",
      "received_events_url": "https://api.github.com/users/glitchminer/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-19T15:00:25Z",
    "updated_at": "2023-05-19T15:00:25Z",
    "author_association": "CONTRIBUTOR",
    "body": "@osmaczko , I've set this ready to merge after testing but have only checked functional points of the PR, not addressing this  performance issue specifically. Please can you retry with the same method?",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1554720515/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1557775596",
    "html_url": "https://github.com/status-im/status-desktop/issues/10437#issuecomment-1557775596",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/10437",
    "id": 1557775596,
    "node_id": "IC_kwDOD5KrTM5c2cTs",
    "user": {
      "login": "osmaczko",
      "id": 33099791,
      "node_id": "MDQ6VXNlcjMzMDk5Nzkx",
      "avatar_url": "https://avatars.githubusercontent.com/u/33099791?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/osmaczko",
      "html_url": "https://github.com/osmaczko",
      "followers_url": "https://api.github.com/users/osmaczko/followers",
      "following_url": "https://api.github.com/users/osmaczko/following{/other_user}",
      "gists_url": "https://api.github.com/users/osmaczko/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/osmaczko/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/osmaczko/subscriptions",
      "organizations_url": "https://api.github.com/users/osmaczko/orgs",
      "repos_url": "https://api.github.com/users/osmaczko/repos",
      "events_url": "https://api.github.com/users/osmaczko/events{/privacy}",
      "received_events_url": "https://api.github.com/users/osmaczko/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-22T19:07:36Z",
    "updated_at": "2023-05-22T19:07:36Z",
    "author_association": "CONTRIBUTOR",
    "body": "> @osmaczko , I've set this ready to merge after testing but have only checked functional points of the PR, not addressing this performance issue specifically. Please can you retry with the same method?\r\n\r\nSure, I will give it a try, have it on my todo list. @igor-sirotin, I'm curious to know if you had a chance to look at the memory footprint after your recent adjustments?",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1557775596/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1557904759",
    "html_url": "https://github.com/status-im/status-desktop/issues/10437#issuecomment-1557904759",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/10437",
    "id": 1557904759,
    "node_id": "IC_kwDOD5KrTM5c2713",
    "user": {
      "login": "igor-sirotin",
      "id": 25482501,
      "node_id": "MDQ6VXNlcjI1NDgyNTAx",
      "avatar_url": "https://avatars.githubusercontent.com/u/25482501?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/igor-sirotin",
      "html_url": "https://github.com/igor-sirotin",
      "followers_url": "https://api.github.com/users/igor-sirotin/followers",
      "following_url": "https://api.github.com/users/igor-sirotin/following{/other_user}",
      "gists_url": "https://api.github.com/users/igor-sirotin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/igor-sirotin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/igor-sirotin/subscriptions",
      "organizations_url": "https://api.github.com/users/igor-sirotin/orgs",
      "repos_url": "https://api.github.com/users/igor-sirotin/repos",
      "events_url": "https://api.github.com/users/igor-sirotin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/igor-sirotin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-22T20:13:47Z",
    "updated_at": "2023-05-22T20:13:47Z",
    "author_association": "CONTRIBUTOR",
    "body": "@osmaczko good point actually ðŸ˜„ \r\n\r\nI did test the memory consumption, but actually didn't get any big values even before the changes. So I just went with \"obviously required\" improvements and focus on dynamic creation/destruction, using QML creation time as measurement.\r\n\r\nIt was `~580 Mb` of RAM (with the workaround applied), and `~540 Mb` with the fixes.\r\n\r\nThough now I think that I could have test it with the \"big testing account\". Will do that first thing tomorrow ðŸ‘Œ ",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1557904759/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1559473793",
    "html_url": "https://github.com/status-im/status-desktop/issues/10437#issuecomment-1559473793",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/10437",
    "id": 1559473793,
    "node_id": "IC_kwDOD5KrTM5c866B",
    "user": {
      "login": "igor-sirotin",
      "id": 25482501,
      "node_id": "MDQ6VXNlcjI1NDgyNTAx",
      "avatar_url": "https://avatars.githubusercontent.com/u/25482501?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/igor-sirotin",
      "html_url": "https://github.com/igor-sirotin",
      "followers_url": "https://api.github.com/users/igor-sirotin/followers",
      "following_url": "https://api.github.com/users/igor-sirotin/following{/other_user}",
      "gists_url": "https://api.github.com/users/igor-sirotin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/igor-sirotin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/igor-sirotin/subscriptions",
      "organizations_url": "https://api.github.com/users/igor-sirotin/orgs",
      "repos_url": "https://api.github.com/users/igor-sirotin/repos",
      "events_url": "https://api.github.com/users/igor-sirotin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/igor-sirotin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-23T14:09:18Z",
    "updated_at": "2023-05-23T14:10:27Z",
    "author_association": "CONTRIBUTOR",
    "body": "Testing with big shared account:\r\n\r\n| Test stage | 9cc7d10854e0d4718970e280691d2d19fc65fce9 Memory, Gb | 5ff4b5a4351453d95cc501ef005f289e71a9ab7e Memory, Gb |\r\n|---------|---------------|---------------|\r\n| Launch & login | 0.95 | 0.64 |\r\n| + opened Status Community | 1.65 | 0.82 |\r\n| + opened shared-test-community | 1.81 | 0.88 |\r\n\r\nNOTE: 9cc7d10854e0d4718970e280691d2d19fc65fce9 is a temporary branch, which starts from one commit behind my fixes, but I removed the `Loader`-hotfix for `StatusMessageContetMenuView`\r\n\r\n@osmaczko These numbers correlate quite well with posted by you originally. \r\nSo unless you tested it in some other way, I suppose this test is enough ðŸ™‚ ",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1559473793/reactions",
      "total_count": 3,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 2,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1559627484",
    "html_url": "https://github.com/status-im/status-desktop/issues/10437#issuecomment-1559627484",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/10437",
    "id": 1559627484,
    "node_id": "IC_kwDOD5KrTM5c9gbc",
    "user": {
      "login": "osmaczko",
      "id": 33099791,
      "node_id": "MDQ6VXNlcjMzMDk5Nzkx",
      "avatar_url": "https://avatars.githubusercontent.com/u/33099791?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/osmaczko",
      "html_url": "https://github.com/osmaczko",
      "followers_url": "https://api.github.com/users/osmaczko/followers",
      "following_url": "https://api.github.com/users/osmaczko/following{/other_user}",
      "gists_url": "https://api.github.com/users/osmaczko/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/osmaczko/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/osmaczko/subscriptions",
      "organizations_url": "https://api.github.com/users/osmaczko/orgs",
      "repos_url": "https://api.github.com/users/osmaczko/repos",
      "events_url": "https://api.github.com/users/osmaczko/events{/privacy}",
      "received_events_url": "https://api.github.com/users/osmaczko/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-23T15:04:19Z",
    "updated_at": "2023-05-23T15:04:19Z",
    "author_association": "CONTRIBUTOR",
    "body": "> @osmaczko These numbers correlate quite well with posted by you originally.\r\n> So unless you tested it in some other way, I suppose this test is enough\r\n\r\nNiice!! \r\n\r\n> but I removed the Loader-hotfix for StatusMessageContetMenuView\r\n\r\nI think we can revert this change for good then :muscle: ",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1559627484/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1559853706",
    "html_url": "https://github.com/status-im/status-desktop/issues/10437#issuecomment-1559853706",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/10437",
    "id": 1559853706,
    "node_id": "IC_kwDOD5KrTM5c-XqK",
    "user": {
      "login": "igor-sirotin",
      "id": 25482501,
      "node_id": "MDQ6VXNlcjI1NDgyNTAx",
      "avatar_url": "https://avatars.githubusercontent.com/u/25482501?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/igor-sirotin",
      "html_url": "https://github.com/igor-sirotin",
      "followers_url": "https://api.github.com/users/igor-sirotin/followers",
      "following_url": "https://api.github.com/users/igor-sirotin/following{/other_user}",
      "gists_url": "https://api.github.com/users/igor-sirotin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/igor-sirotin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/igor-sirotin/subscriptions",
      "organizations_url": "https://api.github.com/users/igor-sirotin/orgs",
      "repos_url": "https://api.github.com/users/igor-sirotin/repos",
      "events_url": "https://api.github.com/users/igor-sirotin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/igor-sirotin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-23T17:19:53Z",
    "updated_at": "2023-05-23T17:19:53Z",
    "author_association": "CONTRIBUTOR",
    "body": "> I think we can revert this change for good then ðŸ’ª\r\n\r\nSure, it's already dropped ðŸ™‚ ",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1559853706/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
