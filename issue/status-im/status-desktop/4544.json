{
  "url": "https://api.github.com/repos/status-im/status-desktop/issues/4544",
  "repository_url": "https://api.github.com/repos/status-im/status-desktop",
  "labels_url": "https://api.github.com/repos/status-im/status-desktop/issues/4544/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-desktop/issues/4544/comments",
  "events_url": "https://api.github.com/repos/status-im/status-desktop/issues/4544/events",
  "html_url": "https://github.com/status-im/status-desktop/issues/4544",
  "id": 1112669184,
  "node_id": "I_kwDOD5KrTM5CUfwA",
  "number": 4544,
  "title": "Improve translation process (don't use qsTrId)",
  "user": {
    "login": "osmaczko",
    "id": 33099791,
    "node_id": "MDQ6VXNlcjMzMDk5Nzkx",
    "avatar_url": "https://avatars.githubusercontent.com/u/33099791?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/osmaczko",
    "html_url": "https://github.com/osmaczko",
    "followers_url": "https://api.github.com/users/osmaczko/followers",
    "following_url": "https://api.github.com/users/osmaczko/following{/other_user}",
    "gists_url": "https://api.github.com/users/osmaczko/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/osmaczko/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/osmaczko/subscriptions",
    "organizations_url": "https://api.github.com/users/osmaczko/orgs",
    "repos_url": "https://api.github.com/users/osmaczko/repos",
    "events_url": "https://api.github.com/users/osmaczko/events{/privacy}",
    "received_events_url": "https://api.github.com/users/osmaczko/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 3047427135,
      "node_id": "MDU6TGFiZWwzMDQ3NDI3MTM1",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/feature",
      "name": "feature",
      "color": "0E8A16",
      "default": false,
      "description": ""
    },
    {
      "id": 3166424543,
      "node_id": "MDU6TGFiZWwzMTY2NDI0NTQz",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/general",
      "name": "general",
      "color": "427672",
      "default": false,
      "description": ""
    },
    {
      "id": 3205516704,
      "node_id": "MDU6TGFiZWwzMjA1NTE2NzA0",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/priority%20F3:%20nice%20to%20have",
      "name": "priority F3: nice to have",
      "color": "0E8A16",
      "default": false,
      "description": "a feature the app could have but is not critical"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "osmaczko",
    "id": 33099791,
    "node_id": "MDQ6VXNlcjMzMDk5Nzkx",
    "avatar_url": "https://avatars.githubusercontent.com/u/33099791?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/osmaczko",
    "html_url": "https://github.com/osmaczko",
    "followers_url": "https://api.github.com/users/osmaczko/followers",
    "following_url": "https://api.github.com/users/osmaczko/following{/other_user}",
    "gists_url": "https://api.github.com/users/osmaczko/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/osmaczko/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/osmaczko/subscriptions",
    "organizations_url": "https://api.github.com/users/osmaczko/orgs",
    "repos_url": "https://api.github.com/users/osmaczko/repos",
    "events_url": "https://api.github.com/users/osmaczko/events{/privacy}",
    "received_events_url": "https://api.github.com/users/osmaczko/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "osmaczko",
      "id": 33099791,
      "node_id": "MDQ6VXNlcjMzMDk5Nzkx",
      "avatar_url": "https://avatars.githubusercontent.com/u/33099791?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/osmaczko",
      "html_url": "https://github.com/osmaczko",
      "followers_url": "https://api.github.com/users/osmaczko/followers",
      "following_url": "https://api.github.com/users/osmaczko/following{/other_user}",
      "gists_url": "https://api.github.com/users/osmaczko/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/osmaczko/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/osmaczko/subscriptions",
      "organizations_url": "https://api.github.com/users/osmaczko/orgs",
      "repos_url": "https://api.github.com/users/osmaczko/repos",
      "events_url": "https://api.github.com/users/osmaczko/events{/privacy}",
      "received_events_url": "https://api.github.com/users/osmaczko/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2022-01-24T13:44:46Z",
  "updated_at": "2022-07-06T17:09:50Z",
  "closed_at": "2022-07-06T17:09:50Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "### Description\r\n\r\nThe current process of i18n requires changes to the source code, which should not be the case. Currently, with the use of `qstrConvert.js`, each `qsTr()` is substituted with `qsTrId()` in order to make strings aligned with id-based status-react translations (see reasoning [here](https://hackmd.io/@status-desktop/r1ytYSzn_)).\r\n\r\nThis approach leads to problems when it comes to using a separate Qml Components library, such as StatusQ:\r\n\r\n> So far we have avoided putting qsTr() calls in StatusQ. The reason being that status desktop will replace all occurances of qsTr() with qsTrId().\r\nSo essentially, it will change the source of StatusQ when it performs i18n.\r\nHence, we rather expose text properties (with a decent default) so apps like Status Desktop can then assign a qsTr from the outside.\r\n\r\n[source](https://github.com/status-im/StatusQ/pull/535#discussion_r787663277)\r\n\r\nIn short: all strings used in StatusQ are not translated. The client needs to remember that and usually do the boilerplate in the application source code, that is:\r\n\r\nStatusQComponent.qml:\r\n```\r\nproperty string labelStrong: \"some default strong label description here\"\r\n...\r\n```\r\n\r\nClientApp.qml\r\n```\r\nStatusQComponent {\r\n    labelStrong: qsTr(\"some default strong label description here\")\r\n    // that will be changed by the script to qsTrId(\"label-strong\")\r\n}\r\n```\r\n\r\n### What should be done\r\n\r\nThis could be avoided/improved by not using `qstrConvert.js` as an intermediate step that alters the source code. Instead, `xmlTranslator.js` logic should be enhanced to look for appropriate translations based on strings used in the app (not the ids), in other words: `qstrConvert.js` should be partially merged with `xmlTranslator.js` (more about these scripts [here](https://hackmd.io/@status-desktop/r1ytYSzn_)).\r\n\r\n### Acceptance criteria\r\n\r\n- enhance `xmlTranslator.js` logic to do translations based on strings rather than ids\r\n- change all `qsTrId()` back to `qsTr()`\r\n- add `qsTr()` for all the strings in StatusQ\r\n- remove duplication of default StatusQ string values in status-desktop\r\n- update [wiki](https://hackmd.io/@status-desktop/r1ytYSzn_) description\r\n- update binary translation files (translate the app)",
  "closed_by": {
    "login": "osmaczko",
    "id": 33099791,
    "node_id": "MDQ6VXNlcjMzMDk5Nzkx",
    "avatar_url": "https://avatars.githubusercontent.com/u/33099791?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/osmaczko",
    "html_url": "https://github.com/osmaczko",
    "followers_url": "https://api.github.com/users/osmaczko/followers",
    "following_url": "https://api.github.com/users/osmaczko/following{/other_user}",
    "gists_url": "https://api.github.com/users/osmaczko/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/osmaczko/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/osmaczko/subscriptions",
    "organizations_url": "https://api.github.com/users/osmaczko/orgs",
    "repos_url": "https://api.github.com/users/osmaczko/repos",
    "events_url": "https://api.github.com/users/osmaczko/events{/privacy}",
    "received_events_url": "https://api.github.com/users/osmaczko/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/4544/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-desktop/issues/4544/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1132597987",
    "html_url": "https://github.com/status-im/status-desktop/issues/4544#issuecomment-1132597987",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/4544",
    "id": 1132597987,
    "node_id": "IC_kwDOD5KrTM5DghLj",
    "user": {
      "login": "anastasiyaig",
      "id": 82375995,
      "node_id": "MDQ6VXNlcjgyMzc1OTk1",
      "avatar_url": "https://avatars.githubusercontent.com/u/82375995?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/anastasiyaig",
      "html_url": "https://github.com/anastasiyaig",
      "followers_url": "https://api.github.com/users/anastasiyaig/followers",
      "following_url": "https://api.github.com/users/anastasiyaig/following{/other_user}",
      "gists_url": "https://api.github.com/users/anastasiyaig/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/anastasiyaig/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/anastasiyaig/subscriptions",
      "organizations_url": "https://api.github.com/users/anastasiyaig/orgs",
      "repos_url": "https://api.github.com/users/anastasiyaig/repos",
      "events_url": "https://api.github.com/users/anastasiyaig/events{/privacy}",
      "received_events_url": "https://api.github.com/users/anastasiyaig/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-20T07:57:22Z",
    "updated_at": "2022-05-20T07:57:22Z",
    "author_association": "CONTRIBUTOR",
    "body": "@iurimatias moved to backlog (reason - nothing to be tested here, no need to keep it in Code Review and QA column)",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1132597987/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
