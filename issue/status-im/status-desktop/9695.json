{
  "url": "https://api.github.com/repos/status-im/status-desktop/issues/9695",
  "repository_url": "https://api.github.com/repos/status-im/status-desktop",
  "labels_url": "https://api.github.com/repos/status-im/status-desktop/issues/9695/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-desktop/issues/9695/comments",
  "events_url": "https://api.github.com/repos/status-im/status-desktop/issues/9695/events",
  "html_url": "https://github.com/status-im/status-desktop/issues/9695",
  "id": 1605123076,
  "node_id": "I_kwDOD5KrTM5frDwE",
  "number": 9695,
  "title": "When the name, emoji, colour or description of a community channel that is inside a category is changed, the changes are not reflected until the app is restarted. After restart the edited channel has been moved outside of its category.",
  "user": {
    "login": "imagiMary",
    "id": 124154641,
    "node_id": "U_kgDOB2ZzEQ",
    "avatar_url": "https://avatars.githubusercontent.com/u/124154641?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/imagiMary",
    "html_url": "https://github.com/imagiMary",
    "followers_url": "https://api.github.com/users/imagiMary/followers",
    "following_url": "https://api.github.com/users/imagiMary/following{/other_user}",
    "gists_url": "https://api.github.com/users/imagiMary/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/imagiMary/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/imagiMary/subscriptions",
    "organizations_url": "https://api.github.com/users/imagiMary/orgs",
    "repos_url": "https://api.github.com/users/imagiMary/repos",
    "events_url": "https://api.github.com/users/imagiMary/events{/privacy}",
    "received_events_url": "https://api.github.com/users/imagiMary/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 2036563458,
      "node_id": "MDU6TGFiZWwyMDM2NTYzNDU4",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/bug",
      "name": "bug",
      "color": "d73a4a",
      "default": true,
      "description": "Something isn't working"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2023-03-01T14:54:36Z",
  "updated_at": "2023-03-01T15:45:11Z",
  "closed_at": "2023-03-01T15:45:11Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Version: 0.9\r\nOS: Windows 10\r\n\r\nAfter the name, emoji, colour or description of a community channel *that is inside a category* is updated using the Edit Channel dialog:\r\n\r\n- the changes are not reflected in the secondary nav (channel icon and name are not updated).\r\n\r\n- if the Edit Channel dialog is re-opened, the previous changes are not shown (it shows the channel's original name, emoji, colour and description from before the edit was made).\r\n\r\n- If a user then restarts Status Desktop, the changes that were made earlier are applied in the secondary navigation bar and saved in the Edit Channel dialog. \r\n\r\n- However at this point the channel has also been removed from the category it was in.\r\n&nbsp;\r\n\r\n**Desired behaviour:** When a user edits a channel, all changes are saved and immediately applied. The category the channel sits in should be unaffected.  \r\n\r\n***\r\n\r\n## Scenario 1\r\n\r\n<ins>Steps to reproduce:</ins>\r\n\r\n1. Navigate to a community that you are the owner of.\r\n\r\n2. In the secondary navigation bar create a new channel inside a category _or_ go to a channel that is inside an existing category\r\n\r\n3. Right click on the channel icon to open the Edit Channel dialog\r\n\r\n4. In the Edit Channel dialog change the channel name, emoji, colour and description. Save changes.\r\n\r\n\r\n<ins>What currently incorrectly happens:</ins>\r\n\r\n5. The changes to the channel name/emoji/colour/description are immediately visible in the Channels main message body header and body area (which is correct), but the channel icon and name in the secondary navigation bar **does not** update (which is incorrect)..  \r\n\r\n_Note:_ Not only are the changes made in step 4. not visible in the secondary nav bar but if the user subsequently re-opens the Edit Channel dialog, the changes made in step 4. appear to not have been saved. The information in the Edit Channel dialog has reverted back to the channel's original name, emoji, colour and description. \r\n\r\n<ins>What is supposed to happen:</ins>\r\n\r\n5. The changes made to a channel using the Edit Channel dialog should be immediately visible in both the channel message body header and body area, as well as in the secondary navigation bar.\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The information displayed in the Edit Channel dialog should reflect the user's changes.\r\n\r\n&nbsp;\r\n## Scenario 2 _(continuing from step 5. in the previous scenario)_\r\n\r\n<ins>Steps to reproduce:</ins>\r\n\r\n7. Force quit and relaunch Status Desktop\r\n\r\n<ins>What currently incorrectly happens:</ins>\r\n\r\n8. The channels that were edited in step 4 have been removed from the categories they were in (which is incorrect) but the changes to the channel name/emoji/colour/description made in step 4. are now applied. \r\n\r\n<ins>What is supposed to happen:</ins>\r\n\r\n7. The changes made in step 4. should be immediately visible in both the channel message body header and body area, as well as in the secondary navigation bar. \r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Relaunching Status should not be necessary to make the above changes nor should it affect the categorisation of the &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;community channels.\r\n\r\n\r\n<ins>Other information</ins>\r\n\r\nThis bug does not occur with uncategorised channel icons. The decategorisation of channels only happens once a user has tried to edit them. \r\n\r\n\r\n\r\nhttps://user-images.githubusercontent.com/124154641/222162759-11e15eee-81a7-43ed-8d09-1ce8d4b4ff38.mp4\r\n\r\n",
  "closed_by": {
    "login": "jrainville",
    "id": 11926403,
    "node_id": "MDQ6VXNlcjExOTI2NDAz",
    "avatar_url": "https://avatars.githubusercontent.com/u/11926403?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jrainville",
    "html_url": "https://github.com/jrainville",
    "followers_url": "https://api.github.com/users/jrainville/followers",
    "following_url": "https://api.github.com/users/jrainville/following{/other_user}",
    "gists_url": "https://api.github.com/users/jrainville/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jrainville/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jrainville/subscriptions",
    "organizations_url": "https://api.github.com/users/jrainville/orgs",
    "repos_url": "https://api.github.com/users/jrainville/repos",
    "events_url": "https://api.github.com/users/jrainville/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jrainville/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/9695/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-desktop/issues/9695/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1450369647",
    "html_url": "https://github.com/status-im/status-desktop/issues/9695#issuecomment-1450369647",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/9695",
    "id": 1450369647,
    "node_id": "IC_kwDOD5KrTM5WcuJv",
    "user": {
      "login": "jrainville",
      "id": 11926403,
      "node_id": "MDQ6VXNlcjExOTI2NDAz",
      "avatar_url": "https://avatars.githubusercontent.com/u/11926403?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jrainville",
      "html_url": "https://github.com/jrainville",
      "followers_url": "https://api.github.com/users/jrainville/followers",
      "following_url": "https://api.github.com/users/jrainville/following{/other_user}",
      "gists_url": "https://api.github.com/users/jrainville/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jrainville/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jrainville/subscriptions",
      "organizations_url": "https://api.github.com/users/jrainville/orgs",
      "repos_url": "https://api.github.com/users/jrainville/repos",
      "events_url": "https://api.github.com/users/jrainville/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jrainville/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-03-01T15:45:11Z",
    "updated_at": "2023-03-01T15:45:11Z",
    "author_association": "MEMBER",
    "body": "I just tested in master and this is fixed. We did a lot of fixes and refactors on that part of the code lately.\r\nClosing as completed",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1450369647/reactions",
      "total_count": 2,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 2,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
