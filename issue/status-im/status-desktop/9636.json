{
  "url": "https://api.github.com/repos/status-im/status-desktop/issues/9636",
  "repository_url": "https://api.github.com/repos/status-im/status-desktop",
  "labels_url": "https://api.github.com/repos/status-im/status-desktop/issues/9636/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-desktop/issues/9636/comments",
  "events_url": "https://api.github.com/repos/status-im/status-desktop/issues/9636/events",
  "html_url": "https://github.com/status-im/status-desktop/issues/9636",
  "id": 1598335254,
  "node_id": "I_kwDOD5KrTM5fRKkW",
  "number": 9636,
  "title": "Access to community without membership request",
  "user": {
    "login": "MishkaRogachev",
    "id": 2522130,
    "node_id": "MDQ6VXNlcjI1MjIxMzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2522130?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/MishkaRogachev",
    "html_url": "https://github.com/MishkaRogachev",
    "followers_url": "https://api.github.com/users/MishkaRogachev/followers",
    "following_url": "https://api.github.com/users/MishkaRogachev/following{/other_user}",
    "gists_url": "https://api.github.com/users/MishkaRogachev/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/MishkaRogachev/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/MishkaRogachev/subscriptions",
    "organizations_url": "https://api.github.com/users/MishkaRogachev/orgs",
    "repos_url": "https://api.github.com/users/MishkaRogachev/repos",
    "events_url": "https://api.github.com/users/MishkaRogachev/events{/privacy}",
    "received_events_url": "https://api.github.com/users/MishkaRogachev/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 2036563458,
      "node_id": "MDU6TGFiZWwyMDM2NTYzNDU4",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/bug",
      "name": "bug",
      "color": "d73a4a",
      "default": true,
      "description": "Something isn't working"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2023-02-24T10:20:01Z",
  "updated_at": "2023-02-27T20:13:36Z",
  "closed_at": "2023-02-27T20:13:35Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "# Bug Report\r\n\r\nThere is a possibility to get acces to the community with enabled \"request to join required\" without even sending request to join\r\n\r\n## Description\r\n<img width=\"994\" alt=\"Screenshot 2023-02-24 at 14 15 34\" src=\"https://user-images.githubusercontent.com/2522130/221153231-cbe81e4a-ee24-4b2b-9cf3-0ac94e37c830.png\">\r\n\r\n<img width=\"1387\" alt=\"Screenshot 2023-02-24 at 14 13 17\" src=\"https://user-images.githubusercontent.com/2522130/221153261-90b38756-0d4d-40b5-bd3c-4aa027df0ea5.png\">\r\n\r\n## Steps to reproduce\r\n\r\n1. Receive invitation to the community with \"request to join required\" enabled\r\n2. Visit community\r\n\r\n#### Expected behavior\r\n\r\nNo access to the community without accepted membership request\r\n\r\n#### Actual behavior\r\n\r\nAccess to the community data: channels, messages, notifications (mentions & replies) \r\n\r\n<img width=\"1126\" alt=\"Screenshot 2023-02-24 at 14 18 42\" src=\"https://user-images.githubusercontent.com/2522130/221154060-49a87dcb-7ec5-4832-9c7d-8b36f3e8806b.png\">\r\n\r\n### Additional Information\r\n\r\n- Status desktop version: master\r\n\r\n",
  "closed_by": {
    "login": "jrainville",
    "id": 11926403,
    "node_id": "MDQ6VXNlcjExOTI2NDAz",
    "avatar_url": "https://avatars.githubusercontent.com/u/11926403?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jrainville",
    "html_url": "https://github.com/jrainville",
    "followers_url": "https://api.github.com/users/jrainville/followers",
    "following_url": "https://api.github.com/users/jrainville/following{/other_user}",
    "gists_url": "https://api.github.com/users/jrainville/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jrainville/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jrainville/subscriptions",
    "organizations_url": "https://api.github.com/users/jrainville/orgs",
    "repos_url": "https://api.github.com/users/jrainville/repos",
    "events_url": "https://api.github.com/users/jrainville/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jrainville/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/9636/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-desktop/issues/9636/timeline",
  "performed_via_github_app": null,
  "state_reason": "not_planned"
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1446504329",
    "html_url": "https://github.com/status-im/status-desktop/issues/9636#issuecomment-1446504329",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/9636",
    "id": 1446504329,
    "node_id": "IC_kwDOD5KrTM5WN-eJ",
    "user": {
      "login": "jrainville",
      "id": 11926403,
      "node_id": "MDQ6VXNlcjExOTI2NDAz",
      "avatar_url": "https://avatars.githubusercontent.com/u/11926403?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jrainville",
      "html_url": "https://github.com/jrainville",
      "followers_url": "https://api.github.com/users/jrainville/followers",
      "following_url": "https://api.github.com/users/jrainville/following{/other_user}",
      "gists_url": "https://api.github.com/users/jrainville/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jrainville/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jrainville/subscriptions",
      "organizations_url": "https://api.github.com/users/jrainville/orgs",
      "repos_url": "https://api.github.com/users/jrainville/repos",
      "events_url": "https://api.github.com/users/jrainville/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jrainville/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-27T15:09:37Z",
    "updated_at": "2023-02-27T15:09:37Z",
    "author_association": "MEMBER",
    "body": "I think this is intended. It will be changed/fixed with community permissions. cc @John-44 ",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1446504329/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1446973027",
    "html_url": "https://github.com/status-im/status-desktop/issues/9636#issuecomment-1446973027",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/9636",
    "id": 1446973027,
    "node_id": "IC_kwDOD5KrTM5WPw5j",
    "user": {
      "login": "John-44",
      "id": 22846356,
      "node_id": "MDQ6VXNlcjIyODQ2MzU2",
      "avatar_url": "https://avatars.githubusercontent.com/u/22846356?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/John-44",
      "html_url": "https://github.com/John-44",
      "followers_url": "https://api.github.com/users/John-44/followers",
      "following_url": "https://api.github.com/users/John-44/following{/other_user}",
      "gists_url": "https://api.github.com/users/John-44/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/John-44/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/John-44/subscriptions",
      "organizations_url": "https://api.github.com/users/John-44/orgs",
      "repos_url": "https://api.github.com/users/John-44/repos",
      "events_url": "https://api.github.com/users/John-44/events{/privacy}",
      "received_events_url": "https://api.github.com/users/John-44/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-27T19:49:15Z",
    "updated_at": "2023-02-27T19:49:15Z",
    "author_association": "NONE",
    "body": "> I think this is intended. It will be changed/fixed with community permissions. cc @John-44\r\n\r\n@jrainville @MishkaRogachev @0x-r4bbit @endulab @mprakhov @borismelnik \r\n\r\nIf a community is a 'Open community' (aka a 'Public community') then:\r\n- The community as a whole should **not be encrypted**, only channels that are not *viewable* without token permissions should be encrypted.\r\n- It should be possible for somebody who is not a member of the community to: A) read the titles of all categories and channels in an open community including the titles (only) of encrypted channels and B) view the contents of all channels that are viewable without holding tokens (Note that I'm saying \"viewable without holding tokens\", because a channel that has a token permission to \"view and post\" **AND** a second permission to *view only without holding any tokens* set should be viewable to users who are not members of the community and should not be encrypted).\r\n\r\nIf a community is a 'Closed community' (aka a 'Private community') then:\r\n- The community as a whole should be encrypted.\r\n- If somebody is not a member of the community, they should not be able to see any of the categories and channels, and they should not be able to see the contents of any of the channels. \r\n\r\nA 'Open community' (aka a 'Public community') is a community zero token permissions to 'become a member' of the community set,  An 'Open community' may have token permissions to 'become an admin' of the community set.\r\n\r\nA 'Closed community' (aka a 'Private community') is a community with one or more token permissions to 'become a member' of the community set.\r\n\r\nWhen we introduce the token based permissions, we should remove the \"Encrypt community\" option from the Create community and Edit community screens.  This is because encryption of a whole community or individual channels inside an otherwise non-encrypted community should be switched on and off as needed depending on the token permissions that are set, as per the logic above.\r\n\r\nHappy to do a call to discuss if this would be useful, this is an important topic!",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1446973027/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 1
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1446981580",
    "html_url": "https://github.com/status-im/status-desktop/issues/9636#issuecomment-1446981580",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/9636",
    "id": 1446981580,
    "node_id": "IC_kwDOD5KrTM5WPy_M",
    "user": {
      "login": "John-44",
      "id": 22846356,
      "node_id": "MDQ6VXNlcjIyODQ2MzU2",
      "avatar_url": "https://avatars.githubusercontent.com/u/22846356?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/John-44",
      "html_url": "https://github.com/John-44",
      "followers_url": "https://api.github.com/users/John-44/followers",
      "following_url": "https://api.github.com/users/John-44/following{/other_user}",
      "gists_url": "https://api.github.com/users/John-44/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/John-44/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/John-44/subscriptions",
      "organizations_url": "https://api.github.com/users/John-44/orgs",
      "repos_url": "https://api.github.com/users/John-44/repos",
      "events_url": "https://api.github.com/users/John-44/events{/privacy}",
      "received_events_url": "https://api.github.com/users/John-44/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-27T19:53:07Z",
    "updated_at": "2023-02-27T19:53:18Z",
    "author_association": "NONE",
    "body": "Also note that \"request to join required\" being enabled or disabled should have no bearing on any of the above.  This is an entirely seperate mechanism from the token based permissions, and changing this setting does not change a community into an 'Open community' or a 'Closed community'.\r\n\r\nIt is entirely possible (and expected) that some 'Open communities' will have \"request to join required\"  enabled and other Open communities will have \"request to join required\" disabled.  Similarly It is entirely possible (and expected) that some 'Closed communities' will have \"request to join required\" disabled and other Closed communities will have \"request to join required\" enabled. ",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1446981580/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1447017269",
    "html_url": "https://github.com/status-im/status-desktop/issues/9636#issuecomment-1447017269",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/9636",
    "id": 1447017269,
    "node_id": "IC_kwDOD5KrTM5WP7s1",
    "user": {
      "login": "jrainville",
      "id": 11926403,
      "node_id": "MDQ6VXNlcjExOTI2NDAz",
      "avatar_url": "https://avatars.githubusercontent.com/u/11926403?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jrainville",
      "html_url": "https://github.com/jrainville",
      "followers_url": "https://api.github.com/users/jrainville/followers",
      "following_url": "https://api.github.com/users/jrainville/following{/other_user}",
      "gists_url": "https://api.github.com/users/jrainville/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jrainville/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jrainville/subscriptions",
      "organizations_url": "https://api.github.com/users/jrainville/orgs",
      "repos_url": "https://api.github.com/users/jrainville/repos",
      "events_url": "https://api.github.com/users/jrainville/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jrainville/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-27T20:13:35Z",
    "updated_at": "2023-02-27T20:13:35Z",
    "author_association": "MEMBER",
    "body": "Ok, that checks out with my understanding, but it clarifies some points.\r\n\r\nThis means that this issue is not actually an issue as per you second comment.\r\n\r\nThe notifications part is weird though, but that's an edge case. That means you joined the community, got mentioned, left, then re-spectated. I wouldn't bother with that for now.\r\n\r\nClosing.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1447017269/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 1
    },
    "performed_via_github_app": null
  }
]
