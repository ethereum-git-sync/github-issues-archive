{
  "url": "https://api.github.com/repos/status-im/status-desktop/issues/7787",
  "repository_url": "https://api.github.com/repos/status-im/status-desktop",
  "labels_url": "https://api.github.com/repos/status-im/status-desktop/issues/7787/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-desktop/issues/7787/comments",
  "events_url": "https://api.github.com/repos/status-im/status-desktop/issues/7787/events",
  "html_url": "https://github.com/status-im/status-desktop/issues/7787",
  "id": 1399512244,
  "node_id": "I_kwDOD5KrTM5Taty0",
  "number": 7787,
  "title": "Banner loses issue count when import progress modal is closed",
  "user": {
    "login": "0x-r4bbit",
    "id": 445106,
    "node_id": "MDQ6VXNlcjQ0NTEwNg==",
    "avatar_url": "https://avatars.githubusercontent.com/u/445106?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/0x-r4bbit",
    "html_url": "https://github.com/0x-r4bbit",
    "followers_url": "https://api.github.com/users/0x-r4bbit/followers",
    "following_url": "https://api.github.com/users/0x-r4bbit/following{/other_user}",
    "gists_url": "https://api.github.com/users/0x-r4bbit/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/0x-r4bbit/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/0x-r4bbit/subscriptions",
    "organizations_url": "https://api.github.com/users/0x-r4bbit/orgs",
    "repos_url": "https://api.github.com/users/0x-r4bbit/repos",
    "events_url": "https://api.github.com/users/0x-r4bbit/events{/privacy}",
    "received_events_url": "https://api.github.com/users/0x-r4bbit/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 2036563458,
      "node_id": "MDU6TGFiZWwyMDM2NTYzNDU4",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/bug",
      "name": "bug",
      "color": "d73a4a",
      "default": true,
      "description": "Something isn't working"
    },
    {
      "id": 2087353959,
      "node_id": "MDU6TGFiZWwyMDg3MzUzOTU5",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/ui-team",
      "name": "ui-team",
      "color": "1111ff",
      "default": false,
      "description": ""
    },
    {
      "id": 4371312179,
      "node_id": "LA_kwDOD5KrTM8AAAABBIzuMw",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/E:%20Discord-Import",
      "name": "E: Discord-Import",
      "color": "c2e0c6",
      "default": false,
      "description": "Issues related to importing discord communities into Status"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "caybro",
    "id": 5377645,
    "node_id": "MDQ6VXNlcjUzNzc2NDU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5377645?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/caybro",
    "html_url": "https://github.com/caybro",
    "followers_url": "https://api.github.com/users/caybro/followers",
    "following_url": "https://api.github.com/users/caybro/following{/other_user}",
    "gists_url": "https://api.github.com/users/caybro/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/caybro/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/caybro/subscriptions",
    "organizations_url": "https://api.github.com/users/caybro/orgs",
    "repos_url": "https://api.github.com/users/caybro/repos",
    "events_url": "https://api.github.com/users/caybro/events{/privacy}",
    "received_events_url": "https://api.github.com/users/caybro/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "caybro",
      "id": 5377645,
      "node_id": "MDQ6VXNlcjUzNzc2NDU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5377645?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/caybro",
      "html_url": "https://github.com/caybro",
      "followers_url": "https://api.github.com/users/caybro/followers",
      "following_url": "https://api.github.com/users/caybro/following{/other_user}",
      "gists_url": "https://api.github.com/users/caybro/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/caybro/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/caybro/subscriptions",
      "organizations_url": "https://api.github.com/users/caybro/orgs",
      "repos_url": "https://api.github.com/users/caybro/repos",
      "events_url": "https://api.github.com/users/caybro/events{/privacy}",
      "received_events_url": "https://api.github.com/users/caybro/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": {
    "url": "https://api.github.com/repos/status-im/status-desktop/milestones/52",
    "html_url": "https://github.com/status-im/status-desktop/milestone/52",
    "labels_url": "https://api.github.com/repos/status-im/status-desktop/milestones/52/labels",
    "id": 8473973,
    "node_id": "MI_kwDOD5KrTM4AgU11",
    "number": 52,
    "title": "0.8.0",
    "description": "Features:\r\n\r\nGeneral:\r\n- Memory Usage Improvements (part 1)\r\n\r\nChat:\r\n- Activity Center\r\n- New Profile Modal\r\n- Contacts & Profiles\r\n- Identity Verification\r\n\r\nCommunities:\r\n- Community Portal\r\n- New Join Workflow\r\n- Encrypted Communities\r\n- Import Tool\r\n\r\nWallet:\r\n- Send\r\n  - Initial Bridge integration, allow to send eth/token to best route and advanced view\r\n- Test:\r\n  - Wallet test fully automated and working\r\n- Asset\r\n  - Token view graph\r\n- Keycard \r\n   - onboarding flow  and login revision\r\n   - Rename Keycard\r\n   - Change PIN\r\n   - Create a 12-digit personal unblocking key (PUK)\r\n   - Create a new Pairing Code\r\n   - UI for the keycard settings in case user has set up a keycard\r\n\r\nAutomation:\r\n- docker setup to test message reliability & message fetching \r\n- Use local mailserver in the CI\r\n- Automation: Edit group chat name and cleanup group chat creation scenario\r\n- Automation: Can invite members to a community\r\n- Automation: Can create a contact request\r\n- Automation: Can create a 1 on 1 chat with a mutual contact\r\n- Automation: Can create a 1 on 1 chat with a mutual contactCan delete a message from another member if admin\r\n- Automation: Can create a 1 on 1 chat with a mutual contactCan reply to a message in a community channel\r\n- Wallet scenario: User adds a watch only account\r\n- Wallet scenario: User generates a new account from wallet\r\n- Wallet scenario: User imports a private key\r\n- Wallet scenario: User imports a seed phrase\r\n- Wallet scenario: User deletes a generated account\r\n- Wallet scenario: Can see collectibles for an account\r\n- Wallet scenario: User can edit the default wallet account\r\n- Wallet scenario: User can toggle network and see balances\r\n\r\nUI Storybook:\r\n- Initial Storybook app\r\n- Component Events Tracking/logging\r\n- Component properties/models Editing\r\n- Community Portal Section\r\n- Community Portal Card Component\r\n- ProfilePopup Component\r\n\r\nC++:\r\n- status-go wrapper: Login\r\n- status-go wrapper: Account Creation\r\n- status-go wrapper: get Chats\r\n",
    "creator": {
      "login": "iurimatias",
      "id": 176720,
      "node_id": "MDQ6VXNlcjE3NjcyMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/176720?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/iurimatias",
      "html_url": "https://github.com/iurimatias",
      "followers_url": "https://api.github.com/users/iurimatias/followers",
      "following_url": "https://api.github.com/users/iurimatias/following{/other_user}",
      "gists_url": "https://api.github.com/users/iurimatias/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/iurimatias/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iurimatias/subscriptions",
      "organizations_url": "https://api.github.com/users/iurimatias/orgs",
      "repos_url": "https://api.github.com/users/iurimatias/repos",
      "events_url": "https://api.github.com/users/iurimatias/events{/privacy}",
      "received_events_url": "https://api.github.com/users/iurimatias/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 0,
    "closed_issues": 233,
    "state": "closed",
    "created_at": "2022-09-28T12:52:48Z",
    "updated_at": "2023-04-24T08:51:38Z",
    "due_on": "2022-11-07T08:00:00Z",
    "closed_at": "2022-11-21T18:50:35Z"
  },
  "comments": 5,
  "created_at": "2022-10-06T12:24:27Z",
  "updated_at": "2022-10-20T10:19:04Z",
  "closed_at": "2022-10-20T10:19:04Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "When a discord import is ongoing and progress updates are received, we also show the global issue count in the application banner.\r\nWhen the modal is closed via \"hide window\", the issue count is lost until the next progress update is received (currently within 2secs).\r\n\r\nNot sure yet why this is happening. Maybe @caybro you can take a look?",
  "closed_by": {
    "login": "0x-r4bbit",
    "id": 445106,
    "node_id": "MDQ6VXNlcjQ0NTEwNg==",
    "avatar_url": "https://avatars.githubusercontent.com/u/445106?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/0x-r4bbit",
    "html_url": "https://github.com/0x-r4bbit",
    "followers_url": "https://api.github.com/users/0x-r4bbit/followers",
    "following_url": "https://api.github.com/users/0x-r4bbit/following{/other_user}",
    "gists_url": "https://api.github.com/users/0x-r4bbit/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/0x-r4bbit/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/0x-r4bbit/subscriptions",
    "organizations_url": "https://api.github.com/users/0x-r4bbit/orgs",
    "repos_url": "https://api.github.com/users/0x-r4bbit/repos",
    "events_url": "https://api.github.com/users/0x-r4bbit/events{/privacy}",
    "received_events_url": "https://api.github.com/users/0x-r4bbit/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/7787/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-desktop/issues/7787/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1282246131",
    "html_url": "https://github.com/status-im/status-desktop/issues/7787#issuecomment-1282246131",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/7787",
    "id": 1282246131,
    "node_id": "IC_kwDOD5KrTM5MbYXz",
    "user": {
      "login": "caybro",
      "id": 5377645,
      "node_id": "MDQ6VXNlcjUzNzc2NDU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5377645?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/caybro",
      "html_url": "https://github.com/caybro",
      "followers_url": "https://api.github.com/users/caybro/followers",
      "following_url": "https://api.github.com/users/caybro/following{/other_user}",
      "gists_url": "https://api.github.com/users/caybro/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/caybro/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/caybro/subscriptions",
      "organizations_url": "https://api.github.com/users/caybro/orgs",
      "repos_url": "https://api.github.com/users/caybro/repos",
      "events_url": "https://api.github.com/users/caybro/events{/privacy}",
      "received_events_url": "https://api.github.com/users/caybro/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-18T11:36:56Z",
    "updated_at": "2022-10-18T11:36:56Z",
    "author_association": "MEMBER",
    "body": "So it turns out the culprit is our (English) translation:\r\n```xml\r\n<message>\r\n  <location filename=\"../imports/shared/panels/ModuleWarning.qml\" line=\"185\" />\r\n  <location filename=\"../imports/shared/panels/ModuleWarning.qml\" line=\"185\" />\r\n    <source>%1%</source>\r\n    <translation type=\"unfinished\">%1D {1%?}</translation>\r\n</message>\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1282246131/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1282246978",
    "html_url": "https://github.com/status-im/status-desktop/issues/7787#issuecomment-1282246978",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/7787",
    "id": 1282246978,
    "node_id": "IC_kwDOD5KrTM5MbYlC",
    "user": {
      "login": "caybro",
      "id": 5377645,
      "node_id": "MDQ6VXNlcjUzNzc2NDU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5377645?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/caybro",
      "html_url": "https://github.com/caybro",
      "followers_url": "https://api.github.com/users/caybro/followers",
      "following_url": "https://api.github.com/users/caybro/following{/other_user}",
      "gists_url": "https://api.github.com/users/caybro/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/caybro/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/caybro/subscriptions",
      "organizations_url": "https://api.github.com/users/caybro/orgs",
      "repos_url": "https://api.github.com/users/caybro/repos",
      "events_url": "https://api.github.com/users/caybro/events{/privacy}",
      "received_events_url": "https://api.github.com/users/caybro/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-18T11:37:40Z",
    "updated_at": "2022-10-18T11:37:40Z",
    "author_association": "MEMBER",
    "body": "Also visible here:\r\n![](https://cdn.discordapp.com/attachments/993526936980693043/1031886500964605993/unknown.png)\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1282246978/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1282301436",
    "html_url": "https://github.com/status-im/status-desktop/issues/7787#issuecomment-1282301436",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/7787",
    "id": 1282301436,
    "node_id": "IC_kwDOD5KrTM5Mbl38",
    "user": {
      "login": "0x-r4bbit",
      "id": 445106,
      "node_id": "MDQ6VXNlcjQ0NTEwNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/445106?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/0x-r4bbit",
      "html_url": "https://github.com/0x-r4bbit",
      "followers_url": "https://api.github.com/users/0x-r4bbit/followers",
      "following_url": "https://api.github.com/users/0x-r4bbit/following{/other_user}",
      "gists_url": "https://api.github.com/users/0x-r4bbit/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/0x-r4bbit/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/0x-r4bbit/subscriptions",
      "organizations_url": "https://api.github.com/users/0x-r4bbit/orgs",
      "repos_url": "https://api.github.com/users/0x-r4bbit/repos",
      "events_url": "https://api.github.com/users/0x-r4bbit/events{/privacy}",
      "received_events_url": "https://api.github.com/users/0x-r4bbit/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-18T12:24:47Z",
    "updated_at": "2022-10-18T12:24:47Z",
    "author_association": "MEMBER",
    "body": "This issue is describing a different behaviour though.\r\n\r\n![Screenshot from 2022-10-18 14-24-05](https://user-images.githubusercontent.com/445106/196428569-e6bf4d53-01fb-4a43-adf2-447643a947a7.png)\r\n\r\nThis ^ looses its `(#n issues)` count when the modal is closed",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1282301436/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1282700133",
    "html_url": "https://github.com/status-im/status-desktop/issues/7787#issuecomment-1282700133",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/7787",
    "id": 1282700133,
    "node_id": "IC_kwDOD5KrTM5MdHNl",
    "user": {
      "login": "caybro",
      "id": 5377645,
      "node_id": "MDQ6VXNlcjUzNzc2NDU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5377645?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/caybro",
      "html_url": "https://github.com/caybro",
      "followers_url": "https://api.github.com/users/caybro/followers",
      "following_url": "https://api.github.com/users/caybro/following{/other_user}",
      "gists_url": "https://api.github.com/users/caybro/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/caybro/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/caybro/subscriptions",
      "organizations_url": "https://api.github.com/users/caybro/orgs",
      "repos_url": "https://api.github.com/users/caybro/repos",
      "events_url": "https://api.github.com/users/caybro/events{/privacy}",
      "received_events_url": "https://api.github.com/users/caybro/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-18T16:51:16Z",
    "updated_at": "2022-10-18T16:51:31Z",
    "author_association": "MEMBER",
    "body": ">  This ^ looses its (#n issues) count when the modal is closed\r\n\r\nMight be a similar problem, will look into that ",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1282700133/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1284298771",
    "html_url": "https://github.com/status-im/status-desktop/issues/7787#issuecomment-1284298771",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/7787",
    "id": 1284298771,
    "node_id": "IC_kwDOD5KrTM5MjNgT",
    "user": {
      "login": "caybro",
      "id": 5377645,
      "node_id": "MDQ6VXNlcjUzNzc2NDU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5377645?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/caybro",
      "html_url": "https://github.com/caybro",
      "followers_url": "https://api.github.com/users/caybro/followers",
      "following_url": "https://api.github.com/users/caybro/following{/other_user}",
      "gists_url": "https://api.github.com/users/caybro/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/caybro/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/caybro/subscriptions",
      "organizations_url": "https://api.github.com/users/caybro/orgs",
      "repos_url": "https://api.github.com/users/caybro/repos",
      "events_url": "https://api.github.com/users/caybro/events{/privacy}",
      "received_events_url": "https://api.github.com/users/caybro/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-19T16:46:48Z",
    "updated_at": "2022-10-19T16:46:48Z",
    "author_association": "MEMBER",
    "body": "Some investigation; I inserted this debug:\r\n```qml\r\nreadonly property int warnings: communitiesPortalLayoutContainer.communitiesStore.discordImportWarningsCount\r\nonWarningsChanged: console.warn(\"!!! WARNINGS CHANGED IN BACKEND:\", warnings)\r\n\r\nif (warnings)\r\n result += qsTr(\"Check progress (%1)\").arg(qsTr(\"%n issue(s)\", \"\", warnings))\r\nelse {\r\n  console.warn(\"!!! FOOBAR, progress with empty count\")\r\n  result += qsTr(\"Check progress\")\r\n}\r\n```\r\n\r\nAnd it yields:\r\n```\r\nqml: !!! WARNINGS CHANGED IN BACKEND: 16\r\nqml: !!! WARNINGS CHANGED IN BACKEND: 0\r\nqml: !!! FOOBAR, progress with empty count\r\nqml: !!! WARNINGS CHANGED IN BACKEND: 16\r\n```\r\n\r\nSo for whatever reason, the backend sends a `0` warnings value, resulting in the `(#n issues)` disappearing from the topbar",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1284298771/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
