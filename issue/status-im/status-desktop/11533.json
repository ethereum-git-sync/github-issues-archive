{
  "url": "https://api.github.com/repos/status-im/status-desktop/issues/11533",
  "repository_url": "https://api.github.com/repos/status-im/status-desktop",
  "labels_url": "https://api.github.com/repos/status-im/status-desktop/issues/11533/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-desktop/issues/11533/comments",
  "events_url": "https://api.github.com/repos/status-im/status-desktop/issues/11533/events",
  "html_url": "https://github.com/status-im/status-desktop/issues/11533",
  "id": 1804731817,
  "node_id": "I_kwDOD5KrTM5rkgWp",
  "number": 11533,
  "title": "Desktop keeps crashing after getting sync with mobile",
  "user": {
    "login": "churik",
    "id": 4557972,
    "node_id": "MDQ6VXNlcjQ1NTc5NzI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4557972?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/churik",
    "html_url": "https://github.com/churik",
    "followers_url": "https://api.github.com/users/churik/followers",
    "following_url": "https://api.github.com/users/churik/following{/other_user}",
    "gists_url": "https://api.github.com/users/churik/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/churik/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/churik/subscriptions",
    "organizations_url": "https://api.github.com/users/churik/orgs",
    "repos_url": "https://api.github.com/users/churik/repos",
    "events_url": "https://api.github.com/users/churik/events{/privacy}",
    "received_events_url": "https://api.github.com/users/churik/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 2036563458,
      "node_id": "MDU6TGFiZWwyMDM2NTYzNDU4",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/bug",
      "name": "bug",
      "color": "d73a4a",
      "default": true,
      "description": "Something isn't working"
    },
    {
      "id": 4548141040,
      "node_id": "LA_kwDOD5KrTM8AAAABDxcf8A",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/messenger-team",
      "name": "messenger-team",
      "color": "232858",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": {
    "login": "igor-sirotin",
    "id": 25482501,
    "node_id": "MDQ6VXNlcjI1NDgyNTAx",
    "avatar_url": "https://avatars.githubusercontent.com/u/25482501?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/igor-sirotin",
    "html_url": "https://github.com/igor-sirotin",
    "followers_url": "https://api.github.com/users/igor-sirotin/followers",
    "following_url": "https://api.github.com/users/igor-sirotin/following{/other_user}",
    "gists_url": "https://api.github.com/users/igor-sirotin/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/igor-sirotin/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/igor-sirotin/subscriptions",
    "organizations_url": "https://api.github.com/users/igor-sirotin/orgs",
    "repos_url": "https://api.github.com/users/igor-sirotin/repos",
    "events_url": "https://api.github.com/users/igor-sirotin/events{/privacy}",
    "received_events_url": "https://api.github.com/users/igor-sirotin/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "igor-sirotin",
      "id": 25482501,
      "node_id": "MDQ6VXNlcjI1NDgyNTAx",
      "avatar_url": "https://avatars.githubusercontent.com/u/25482501?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/igor-sirotin",
      "html_url": "https://github.com/igor-sirotin",
      "followers_url": "https://api.github.com/users/igor-sirotin/followers",
      "following_url": "https://api.github.com/users/igor-sirotin/following{/other_user}",
      "gists_url": "https://api.github.com/users/igor-sirotin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/igor-sirotin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/igor-sirotin/subscriptions",
      "organizations_url": "https://api.github.com/users/igor-sirotin/orgs",
      "repos_url": "https://api.github.com/users/igor-sirotin/repos",
      "events_url": "https://api.github.com/users/igor-sirotin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/igor-sirotin/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": {
    "url": "https://api.github.com/repos/status-im/status-desktop/milestones/72",
    "html_url": "https://github.com/status-im/status-desktop/milestone/72",
    "labels_url": "https://api.github.com/repos/status-im/status-desktop/milestones/72/labels",
    "id": 9656405,
    "node_id": "MI_kwDOD5KrTM4Ak1hV",
    "number": 72,
    "title": "0.13.1",
    "description": "",
    "creator": {
      "login": "iurimatias",
      "id": 176720,
      "node_id": "MDQ6VXNlcjE3NjcyMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/176720?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/iurimatias",
      "html_url": "https://github.com/iurimatias",
      "followers_url": "https://api.github.com/users/iurimatias/followers",
      "following_url": "https://api.github.com/users/iurimatias/following{/other_user}",
      "gists_url": "https://api.github.com/users/iurimatias/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/iurimatias/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iurimatias/subscriptions",
      "organizations_url": "https://api.github.com/users/iurimatias/orgs",
      "repos_url": "https://api.github.com/users/iurimatias/repos",
      "events_url": "https://api.github.com/users/iurimatias/events{/privacy}",
      "received_events_url": "https://api.github.com/users/iurimatias/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 3,
    "closed_issues": 0,
    "state": "open",
    "created_at": "2023-07-14T13:43:24Z",
    "updated_at": "2023-07-17T14:16:18Z",
    "due_on": "2023-07-28T07:00:00Z",
    "closed_at": null
  },
  "comments": 5,
  "created_at": "2023-07-14T11:40:23Z",
  "updated_at": "2023-07-18T20:02:14Z",
  "closed_at": null,
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "# Bug Report\r\n\r\n## Description\r\n\r\nOriginally issue https://github.com/status-im/status-go/pull/3743 and it is fixed and included to 1.24 on mobile side, but not on desktop side\r\n\r\n## Steps to reproduce\r\nReproduced on certain multiaccounts after sync - desktop keeps crashing after login \r\n\r\n#### Expected behavior\r\nno crash\r\n\r\n### Additional Information\r\n\r\n- Status desktop version: 0.13. RC 42\r\n- Operating System: Mac Os Ventura 13.2.1\r\n- Log: https://drive.google.com/file/d/1R19eIMwCK6tFKo-W14TygkBeZvf3kZza/view?usp=drive_link\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/11533/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-desktop/issues/11533/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1635887473",
    "html_url": "https://github.com/status-im/status-desktop/issues/11533#issuecomment-1635887473",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/11533",
    "id": 1635887473,
    "node_id": "IC_kwDOD5KrTM5hgalx",
    "user": {
      "login": "jrainville",
      "id": 11926403,
      "node_id": "MDQ6VXNlcjExOTI2NDAz",
      "avatar_url": "https://avatars.githubusercontent.com/u/11926403?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jrainville",
      "html_url": "https://github.com/jrainville",
      "followers_url": "https://api.github.com/users/jrainville/followers",
      "following_url": "https://api.github.com/users/jrainville/following{/other_user}",
      "gists_url": "https://api.github.com/users/jrainville/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jrainville/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jrainville/subscriptions",
      "organizations_url": "https://api.github.com/users/jrainville/orgs",
      "repos_url": "https://api.github.com/users/jrainville/repos",
      "events_url": "https://api.github.com/users/jrainville/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jrainville/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-14T13:44:16Z",
    "updated_at": "2023-07-14T13:44:16Z",
    "author_association": "MEMBER",
    "body": "Cherry-picking this commit in the status-go release branch should fix it https://github.com/status-im/status-go/commit/3f5f87d1d1551b2570cb662fcd9cefc051096aa",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1635887473/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1637843737",
    "html_url": "https://github.com/status-im/status-desktop/issues/11533#issuecomment-1637843737",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/11533",
    "id": 1637843737,
    "node_id": "IC_kwDOD5KrTM5hn4MZ",
    "user": {
      "login": "churik",
      "id": 4557972,
      "node_id": "MDQ6VXNlcjQ1NTc5NzI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4557972?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/churik",
      "html_url": "https://github.com/churik",
      "followers_url": "https://api.github.com/users/churik/followers",
      "following_url": "https://api.github.com/users/churik/following{/other_user}",
      "gists_url": "https://api.github.com/users/churik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/churik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/churik/subscriptions",
      "organizations_url": "https://api.github.com/users/churik/orgs",
      "repos_url": "https://api.github.com/users/churik/repos",
      "events_url": "https://api.github.com/users/churik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/churik/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-17T10:36:22Z",
    "updated_at": "2023-07-17T10:36:22Z",
    "author_association": "MEMBER",
    "body": "@jrainville \r\nstill have issues with desktop after sync - it keeps crashing from time to time (as far as I saw mostly when the messages are fetching from offline for synced device)\r\n\r\nLog: https://drive.google.com/file/d/1U4bptnJuGbt8aLhuRYASZjTRcRysZ5Fs/view?usp=sharing\r\n\r\nDesktop version: [RC #46 ](https://ci.infra.status.im/job/status-desktop/job/release/job/release%252F0.13.x/46/)",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1637843737/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1638328410",
    "html_url": "https://github.com/status-im/status-desktop/issues/11533#issuecomment-1638328410",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/11533",
    "id": 1638328410,
    "node_id": "IC_kwDOD5KrTM5hpuha",
    "user": {
      "login": "churik",
      "id": 4557972,
      "node_id": "MDQ6VXNlcjQ1NTc5NzI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4557972?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/churik",
      "html_url": "https://github.com/churik",
      "followers_url": "https://api.github.com/users/churik/followers",
      "following_url": "https://api.github.com/users/churik/following{/other_user}",
      "gists_url": "https://api.github.com/users/churik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/churik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/churik/subscriptions",
      "organizations_url": "https://api.github.com/users/churik/orgs",
      "repos_url": "https://api.github.com/users/churik/repos",
      "events_url": "https://api.github.com/users/churik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/churik/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-17T15:01:56Z",
    "updated_at": "2023-07-17T15:27:27Z",
    "author_association": "MEMBER",
    "body": "Console log: \r\n```\r\nINF 2023-07-17 17:00:39.173+02:00 history request started                    topics=\"mailservers-service\" tid=2110286 file=service.nim:178 numBatches=4\r\nWarning: qrc:/StatusQ/Components/StatusToastMessage.qml:42: TypeError: Cannot read property 'right' of null (qrc:/StatusQ/Components/StatusToastMessage.qml:42, )\r\nWarning: qrc:/StatusQ/Components/StatusToastMessage.qml:42: TypeError: Cannot read property 'right' of null (qrc:/StatusQ/Components/StatusToastMessage.qml:42, )\r\nWarning: qrc:/StatusQ/Components/StatusToastMessage.qml:42: TypeError: Cannot read property 'right' of null (qrc:/StatusQ/Components/StatusToastMessage.qml:42, )\r\nWarning: qrc:/StatusQ/Components/StatusToastMessage.qml:42: TypeError: Cannot read property 'right' of null (qrc:/StatusQ/Components/StatusToastMessage.qml:42, )\r\nINF 2023-07-17 17:00:48.890+02:00 history request completed                  topics=\"mailservers-service\" tid=2110286 file=service.nim:183\r\n2023-07-17T17:00:48.936+0200\tINFO\tcommunities/manager.go:262\tseeding torrent\t{\"id\": \"0x03dcc6838078722b8ce19b6c9e381d877f5251f45892d118d26be4d95ad5f25029\", \"magnetLink\": \"magnet:?xt=urn:btih:8c7562bb0462856eb6a79851aae18a46d8b4d76a&dn=0x03dcc6838078722b8ce19b6c9e381d877f5251f45892d118d26be4d95ad5f25029&tr=udp%3A%2F%2Ftracker.opentrackr.org%3A1337%2Fannounce&tr=udp%3A%2F%2Ftracker.openbittorrent.com%3A6969%2Fannounce\"}\r\n2023-07-17T17:00:48.936+0200\tINFO\tcommunities/manager.go:262\tstarting history archive tasks interval in\t{\"timeLeft\": \"18h47m0.063481s\"}\r\n2023-07-17T17:00:48.940+0200\tINFO\tcommunities/manager.go:262\tseeding torrent\t{\"id\": \"0x03ba44e2e3d2120fcfada2f9986890e059d99e623a4052ec402fdb7052590a8218\", \"magnetLink\": \"magnet:?xt=urn:btih:4b9180945d00d8e1bf84bac14f3564406c3a0577&dn=0x03ba44e2e3d2120fcfada2f9986890e059d99e623a4052ec402fdb7052590a8218&tr=udp%3A%2F%2Ftracker.opentrackr.org%3A1337%2Fannounce&tr=udp%3A%2F%2Ftracker.openbittorrent.com%3A6969%2Fannounce\"}\r\nINF 2023-07-17 17:00:48.965+02:00 history request started                    topics=\"mailservers-service\" tid=2110286 file=service.nim:178 numBatches=1\r\nINF 2023-07-17 17:00:53.816+02:00 received                                   topics=\"signals-manager\" tid=2110286 file=messages.nim:71 signal=messages.new messageID=0x00cdb31ad85693e4fd011dca94194d2312435afa5ad2fd66c2dd95178f13b9c2\r\nINF 2023-07-17 17:00:53.816+02:00 received                                   topics=\"signals-manager\" tid=2110286 file=messages.nim:71 signal=messages.new messageID=0x5a019cf3881537fba120fdf4a1337ffd77ed299de627a6945e03f57a2c2263ec\r\nINF 2023-07-17 17:00:53.816+02:00 received                                   topics=\"signals-manager\" tid=2110286 file=messages.nim:71 signal=messages.new messageID=0x3b6e71ebe625fa2e766148a58a5279e2105c2385ad988c088dc1cc189fc4b688\r\nINF 2023-07-17 17:00:53.816+02:00 received                                   topics=\"signals-manager\" tid=2110286 file=messages.nim:71 signal=messages.new messageID=0x54fc3347c566b7dc5f5ccddccc56e5fd1bb2a7198010404cd5ed9ebebc05813f\r\nINF 2023-07-17 17:00:53.817+02:00 received                                   topics=\"signals-manager\" tid=2110286 file=messages.nim:71 signal=messages.new messageID=0xc9b3bf13463441bef91c576224ba1143264b0817afc8b3de0752806006141f1a\r\nINF 2023-07-17 17:00:53.817+02:00 received                                   topics=\"signals-manager\" tid=2110286 file=messages.nim:71 signal=messages.new messageID=0x1ea7048e0b5a4b32a1e7c0addbfb3cd3fa3c4363cefab7724c4680e1cd5994d9\r\nINF 2023-07-17 17:00:53.817+02:00 received                                   topics=\"signals-manager\" tid=2110286 file=messages.nim:71 signal=messages.new messageID=0xa644b2204739784b2ee6b276dc75179833d11bc7f80b37740e4ddf06a0680e27\r\nINF 2023-07-17 17:00:53.817+02:00 received                                   topics=\"signals-manager\" tid=2110286 file=messages.nim:71 signal=messages.new messageID=0x828738ec633f916eb333e40d7c4dea46eb6467c53d6a698d1f4204690ba7c8b5\r\nINF 2023-07-17 17:00:53.817+02:00 received                                   topics=\"signals-manager\" tid=2110286 file=messages.nim:71 signal=messages.new messageID=0x756a2274b314fe1dd19a91f5fafeb377319d5c8a4f0b9aad3c7396af8b24ca4f\r\nINF 2023-07-17 17:00:53.817+02:00 received                                   topics=\"signals-manager\" tid=2110286 file=messages.nim:71 signal=messages.new messageID=0xa277b571163036c06488d979b6e4a727bfc2a0d865161d3651dce34ad44e0d8b\r\nERR 2023-07-17 17:00:53.817+02:00 unknown keypair type                       tid=2110286 file=keypair_dto.nim:35 kpType=\r\nINF 2023-07-17 17:00:53.817+02:00 shutting down...                           topics=\"status-app\" tid=2110286 file=nim_status_client.nim:157\r\nINF 2023-07-17 17:00:53.817+02:00 logging out...                             topics=\"app-controller\" tid=2110286 file=app_controller.nim:284\r\n2023-07-17T17:00:53.856+0200\tINFO\tcommunities/manager.go:262\tfailed to request missing messages\t{\"error\": \"sql: database is closed\"}\r\n2023-07-17T17:00:53.856+0200\tINFO\tcommunities/manager.go:262\tfailed to get community settings\t{\"error\": \"sql: database is closed\"}\r\n/Users/jenkins/workspace/status-desktop/systems/macos/aarch64/package/src/nim_status_client.nim(193) nim_status_client\r\n/Users/jenkins/workspace/status-desktop/systems/macos/aarch64/package/src/nim_status_client.nim(190) mainProc\r\n/Users/jenkins/workspace/status-desktop/systems/macos/aarch64/package/vendor/nimqml/src/nimqml/private/qguiapplication.nim(29) exec\r\n/Users/jenkins/workspace/status-desktop/systems/macos/aarch64/package/vendor/nimqml/src/nimqml/private/qobject.nim(49) qobjectCallback\r\n/Users/jenkins/workspace/status-desktop/systems/macos/aarch64/package/vendor/nimqml/src/nimqml/private/qobject.nim(34) onSlotCalled\r\n/Users/jenkins/workspace/status-desktop/systems/macos/aarch64/package/vendor/nimbus-build-system/vendor/Nim/lib/core/macros.nim(558) onSlotCalled\r\n/Users/jenkins/workspace/status-desktop/systems/macos/aarch64/package/src/app/core/signals/signals_manager.nim(70) receiveSignal\r\n/Users/jenkins/workspace/status-desktop/systems/macos/aarch64/package/src/app/core/signals/signals_manager.nim(46) processSignal\r\n/Users/jenkins/workspace/status-desktop/systems/macos/aarch64/package/src/app/core/signals/signals_manager.nim(81) decode\r\n/Users/jenkins/workspace/status-desktop/systems/macos/aarch64/package/src/app/core/signals/remote_signals/messages.nim(149) fromEvent\r\n/Users/jenkins/workspace/status-desktop/systems/macos/aarch64/package/vendor/nimbus-build-system/vendor/Nim/lib/pure/json.nim(824) toKeypairDto\r\n/Users/jenkins/workspace/status-desktop/systems/macos/aarch64/package/vendor/nimbus-build-system/vendor/Nim/lib/system/assertions.nim(38) failedAssertImpl\r\n/Users/jenkins/workspace/status-desktop/systems/macos/aarch64/package/vendor/nimbus-build-system/vendor/Nim/lib/system/assertions.nim(28) raiseAssert\r\n/Users/jenkins/workspace/status-desktop/systems/macos/aarch64/package/vendor/nimbus-build-system/vendor/Nim/lib/system/fatal.nim(54) sysFatal\r\nError: unhandled exception: /Users/jenkins/workspace/status-desktop/systems/macos/aarch64/package/vendor/nimbus-build-system/vendor/Nim/lib/pure/json.nim(824, 10) `node.kind == JArray` : items() can not iterate a JsonNode of kind JNull [AssertionDefect]\r\n\r\n```\r\nNim log (from Status/log): [app_20230717_165943.log](https://github.com/status-im/status-desktop/files/12071048/app_20230717_165943.log)\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1638328410/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1640557893",
    "html_url": "https://github.com/status-im/status-desktop/issues/11533#issuecomment-1640557893",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/11533",
    "id": 1640557893,
    "node_id": "IC_kwDOD5KrTM5hyO1F",
    "user": {
      "login": "igor-sirotin",
      "id": 25482501,
      "node_id": "MDQ6VXNlcjI1NDgyNTAx",
      "avatar_url": "https://avatars.githubusercontent.com/u/25482501?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/igor-sirotin",
      "html_url": "https://github.com/igor-sirotin",
      "followers_url": "https://api.github.com/users/igor-sirotin/followers",
      "following_url": "https://api.github.com/users/igor-sirotin/following{/other_user}",
      "gists_url": "https://api.github.com/users/igor-sirotin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/igor-sirotin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/igor-sirotin/subscriptions",
      "organizations_url": "https://api.github.com/users/igor-sirotin/orgs",
      "repos_url": "https://api.github.com/users/igor-sirotin/repos",
      "events_url": "https://api.github.com/users/igor-sirotin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/igor-sirotin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-18T16:32:15Z",
    "updated_at": "2023-07-18T18:26:44Z",
    "author_association": "CONTRIBUTOR",
    "body": "Stable reproduction steps:\r\n1. Alice [mobile]: create new account\r\n2. Alice [desktop]: local pairing from Alice [mobile]\r\n3. Bob: send CR to Alice\r\n4. Alice [desktop]: `unknown keypair type  tid=1540105 file=keypair_dto.nim:35 kpType=` (type is an empty string) and further crash on json parsing.\r\n\r\nHere's the received event that leads to a crash:\r\n```json\r\n{\r\n    \"type\": \"messages.new\",\r\n    \"event\": {\r\n        \"notifications\": null,\r\n        \"keypairs\": [\r\n            {\r\n                \"key-uid\": \"\",\r\n                \"name\": \"\",\r\n                \"type\": \"\",\r\n                \"derived-from\": \"\",\r\n                \"last-used-derivation-index\": 0,\r\n                \"synced-from\": \"\",\r\n                \"clock\": 0,\r\n                \"accounts\": null\r\n            }\r\n        ],\r\n        \"discordOldestMessageTimestamp\": 0,\r\n        \"ensUsernameDetails\": [\r\n            {\r\n                \"username\": \"\",\r\n                \"chainId\": 0,\r\n                \"clock\": 0,\r\n                \"removed\": false\r\n            }\r\n        ]\r\n    }\r\n}\r\n```\r\n\r\nhttps://github.com/status-im/status-desktop/blob/1fcdf255e41be316574d2375ab20f4012dfd4841/src/app_service/service/wallet_account/keypair_dto.nim#L39\r\n\r\nAfter restarting the desktop app the crash comes there very soon with processing the same retrieved message.\r\n\r\nI succeeded to hotfix this by skipping empty sync keypairs, but I think we also should fix this by not sending such messages in the first place. I checked DB on both devices, `keypairs` table seems fine to me, no empty rows. \r\n\r\nCan't reproduce with desktop->desktop 🙁 ",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1640557893/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1640900809",
    "html_url": "https://github.com/status-im/status-desktop/issues/11533#issuecomment-1640900809",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/11533",
    "id": 1640900809,
    "node_id": "IC_kwDOD5KrTM5hzijJ",
    "user": {
      "login": "igor-sirotin",
      "id": 25482501,
      "node_id": "MDQ6VXNlcjI1NDgyNTAx",
      "avatar_url": "https://avatars.githubusercontent.com/u/25482501?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/igor-sirotin",
      "html_url": "https://github.com/igor-sirotin",
      "followers_url": "https://api.github.com/users/igor-sirotin/followers",
      "following_url": "https://api.github.com/users/igor-sirotin/following{/other_user}",
      "gists_url": "https://api.github.com/users/igor-sirotin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/igor-sirotin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/igor-sirotin/subscriptions",
      "organizations_url": "https://api.github.com/users/igor-sirotin/orgs",
      "repos_url": "https://api.github.com/users/igor-sirotin/repos",
      "events_url": "https://api.github.com/users/igor-sirotin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/igor-sirotin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-18T19:44:37Z",
    "updated_at": "2023-07-18T20:02:14Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hmmm, I can't reproduce this on desktop `master` branch. \r\nWill push the hotfix mentioned above and hope for the best 🙂 ",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1640900809/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
