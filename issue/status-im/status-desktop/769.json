{
  "url": "https://api.github.com/repos/status-im/status-desktop/issues/769",
  "repository_url": "https://api.github.com/repos/status-im/status-desktop",
  "labels_url": "https://api.github.com/repos/status-im/status-desktop/issues/769/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-desktop/issues/769/comments",
  "events_url": "https://api.github.com/repos/status-im/status-desktop/issues/769/events",
  "html_url": "https://github.com/status-im/status-desktop/issues/769",
  "id": 686190225,
  "node_id": "MDU6SXNzdWU2ODYxOTAyMjU=",
  "number": 769,
  "title": "Mentions issues",
  "user": {
    "login": "rasom",
    "id": 2364994,
    "node_id": "MDQ6VXNlcjIzNjQ5OTQ=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2364994?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/rasom",
    "html_url": "https://github.com/rasom",
    "followers_url": "https://api.github.com/users/rasom/followers",
    "following_url": "https://api.github.com/users/rasom/following{/other_user}",
    "gists_url": "https://api.github.com/users/rasom/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/rasom/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/rasom/subscriptions",
    "organizations_url": "https://api.github.com/users/rasom/orgs",
    "repos_url": "https://api.github.com/users/rasom/repos",
    "events_url": "https://api.github.com/users/rasom/events{/privacy}",
    "received_events_url": "https://api.github.com/users/rasom/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "0x-r4bbit",
    "id": 445106,
    "node_id": "MDQ6VXNlcjQ0NTEwNg==",
    "avatar_url": "https://avatars.githubusercontent.com/u/445106?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/0x-r4bbit",
    "html_url": "https://github.com/0x-r4bbit",
    "followers_url": "https://api.github.com/users/0x-r4bbit/followers",
    "following_url": "https://api.github.com/users/0x-r4bbit/following{/other_user}",
    "gists_url": "https://api.github.com/users/0x-r4bbit/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/0x-r4bbit/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/0x-r4bbit/subscriptions",
    "organizations_url": "https://api.github.com/users/0x-r4bbit/orgs",
    "repos_url": "https://api.github.com/users/0x-r4bbit/repos",
    "events_url": "https://api.github.com/users/0x-r4bbit/events{/privacy}",
    "received_events_url": "https://api.github.com/users/0x-r4bbit/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "0x-r4bbit",
      "id": 445106,
      "node_id": "MDQ6VXNlcjQ0NTEwNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/445106?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/0x-r4bbit",
      "html_url": "https://github.com/0x-r4bbit",
      "followers_url": "https://api.github.com/users/0x-r4bbit/followers",
      "following_url": "https://api.github.com/users/0x-r4bbit/following{/other_user}",
      "gists_url": "https://api.github.com/users/0x-r4bbit/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/0x-r4bbit/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/0x-r4bbit/subscriptions",
      "organizations_url": "https://api.github.com/users/0x-r4bbit/orgs",
      "repos_url": "https://api.github.com/users/0x-r4bbit/repos",
      "events_url": "https://api.github.com/users/0x-r4bbit/events{/privacy}",
      "received_events_url": "https://api.github.com/users/0x-r4bbit/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2020-08-26T10:02:50Z",
  "updated_at": "2020-08-31T10:12:03Z",
  "closed_at": "2020-08-27T21:38:35Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "- It is case sensitive, e.g. `\"@roman\"` mention will be successfully replaced with pubkey, but `\"@Roman\"` won't be\r\n\r\n- When select some suggestion from the list, input field is messed up a bit.\r\n  **Expected behaviour:** \r\n  1. `@roman` is added to contacts\r\n  2. Start typing `\"@ro\"` in chat\r\n  3. Press on `roman.stateofus.eth`\r\n  4. See `\"@roman.stateofus.eth \"` (likely it should be `\"@roman \"`, but that's another issue) in text input with cursor after the last white space. \r\n\r\n  **Actual behaviour:**\r\n  1. `@roman` is added to contacts\r\n  2. Start typing `\"@ro\"` in chat\r\n  3. Press on `roman.stateofus.eth`\r\n  4. Input is changed to `\"@roman.stateofus.eth ro\"`, cursor is placed before the last `\"o\"`\r\n\r\n  ![ensment1](https://user-images.githubusercontent.com/2364994/91283804-be788680-e793-11ea-998d-462c1e90217b.gif)\r\n\r\n- When select the name from suggestions it is replaced with a full ENS name with domain, but after sending only actual username is replaced with pubkey. So probably better to use username without domain there \r\n\r\n  ![ensment2](https://user-images.githubusercontent.com/2364994/91284255-537b7f80-e794-11ea-8f54-98303d8a6a06.gif)\r\n\r\n- Three words usernames are not replaced with pubkey although this is recommended by spec https://github.com/status-im/specs/pull/105/files#diff-d6415c46ddd0bb7309e7ca0f73876702R169 \r\n\r\n- Three words usernames are not suggested unless there is a ENS name for the same pub key (I would suggest showing three words name along with ENS in suggestions)\r\n\r\n- Suggestions are not shown right after loading messages and ENS names, you have to switch chats and only then suggestions will appear on typing.\r\n  **Steps to reproduce:**\r\n  1. Create a new acc\r\n  2. Open `#status` channel \r\n  3. Try to suggest any of resolved ENS\r\n\r\n- If two consecutive mentions are added to input without a whitespace between them resulting message does not recognise the first replaced pub key, so probably a whitespace should be added there during ens to pub key replacement\r\n  \r\n  ![bridge](https://user-images.githubusercontent.com/2364994/91289816-7eb59d00-e79b-11ea-80e3-bc32bc6ce5e3.gif)\r\n\r\n- similar problem happens when there is no whitespace after mention but there is some non-word character: mention is parsed but then it won't be recognised in the message\r\n  \r\n  ![bridge2](https://user-images.githubusercontent.com/2364994/91290402-3a76cc80-e79c-11ea-9ed4-ab3a300132ec.gif)\r\n",
  "closed_by": {
    "login": "iurimatias",
    "id": 176720,
    "node_id": "MDQ6VXNlcjE3NjcyMA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/176720?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/iurimatias",
    "html_url": "https://github.com/iurimatias",
    "followers_url": "https://api.github.com/users/iurimatias/followers",
    "following_url": "https://api.github.com/users/iurimatias/following{/other_user}",
    "gists_url": "https://api.github.com/users/iurimatias/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/iurimatias/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/iurimatias/subscriptions",
    "organizations_url": "https://api.github.com/users/iurimatias/orgs",
    "repos_url": "https://api.github.com/users/iurimatias/repos",
    "events_url": "https://api.github.com/users/iurimatias/events{/privacy}",
    "received_events_url": "https://api.github.com/users/iurimatias/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/769/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-desktop/issues/769/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/680936655",
    "html_url": "https://github.com/status-im/status-desktop/issues/769#issuecomment-680936655",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/769",
    "id": 680936655,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4MDkzNjY1NQ==",
    "user": {
      "login": "rasom",
      "id": 2364994,
      "node_id": "MDQ6VXNlcjIzNjQ5OTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2364994?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/rasom",
      "html_url": "https://github.com/rasom",
      "followers_url": "https://api.github.com/users/rasom/followers",
      "following_url": "https://api.github.com/users/rasom/following{/other_user}",
      "gists_url": "https://api.github.com/users/rasom/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/rasom/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/rasom/subscriptions",
      "organizations_url": "https://api.github.com/users/rasom/orgs",
      "repos_url": "https://api.github.com/users/rasom/repos",
      "events_url": "https://api.github.com/users/rasom/events{/privacy}",
      "received_events_url": "https://api.github.com/users/rasom/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-26T15:02:58Z",
    "updated_at": "2020-08-26T15:02:58Z",
    "author_association": "MEMBER",
    "body": "one more problem:\r\nIf there is no whitespace before `\"@\"` suggestions won't be shown\r\n![foobridge](https://user-images.githubusercontent.com/2364994/91320174-e7b20a80-e7c5-11ea-84cc-c374f0568ef6.gif)\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/680936655/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/682083282",
    "html_url": "https://github.com/status-im/status-desktop/issues/769#issuecomment-682083282",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/769",
    "id": 682083282,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4MjA4MzI4Mg==",
    "user": {
      "login": "0x-r4bbit",
      "id": 445106,
      "node_id": "MDQ6VXNlcjQ0NTEwNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/445106?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/0x-r4bbit",
      "html_url": "https://github.com/0x-r4bbit",
      "followers_url": "https://api.github.com/users/0x-r4bbit/followers",
      "following_url": "https://api.github.com/users/0x-r4bbit/following{/other_user}",
      "gists_url": "https://api.github.com/users/0x-r4bbit/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/0x-r4bbit/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/0x-r4bbit/subscriptions",
      "organizations_url": "https://api.github.com/users/0x-r4bbit/orgs",
      "repos_url": "https://api.github.com/users/0x-r4bbit/repos",
      "events_url": "https://api.github.com/users/0x-r4bbit/events{/privacy}",
      "received_events_url": "https://api.github.com/users/0x-r4bbit/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-27T17:19:58Z",
    "updated_at": "2020-08-27T17:19:58Z",
    "author_association": "MEMBER",
    "body": "> hree words usernames are not replaced with pubkey although this is recommended by spec https://github.com/status-im/specs/pull/105/files#diff-d6415c46ddd0bb7309e7ca0f73876702R169\r\n\r\nThis is working",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/682083282/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/682083411",
    "html_url": "https://github.com/status-im/status-desktop/issues/769#issuecomment-682083411",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/769",
    "id": 682083411,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4MjA4MzQxMQ==",
    "user": {
      "login": "0x-r4bbit",
      "id": 445106,
      "node_id": "MDQ6VXNlcjQ0NTEwNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/445106?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/0x-r4bbit",
      "html_url": "https://github.com/0x-r4bbit",
      "followers_url": "https://api.github.com/users/0x-r4bbit/followers",
      "following_url": "https://api.github.com/users/0x-r4bbit/following{/other_user}",
      "gists_url": "https://api.github.com/users/0x-r4bbit/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/0x-r4bbit/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/0x-r4bbit/subscriptions",
      "organizations_url": "https://api.github.com/users/0x-r4bbit/orgs",
      "repos_url": "https://api.github.com/users/0x-r4bbit/repos",
      "events_url": "https://api.github.com/users/0x-r4bbit/events{/privacy}",
      "received_events_url": "https://api.github.com/users/0x-r4bbit/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-27T17:20:15Z",
    "updated_at": "2020-08-27T17:22:36Z",
    "author_association": "MEMBER",
    "body": "> If there is no whitespace before \"@\" suggestions won't be shown\r\n\r\nAs discussed offline, this is by design",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/682083411/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/682089510",
    "html_url": "https://github.com/status-im/status-desktop/issues/769#issuecomment-682089510",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/769",
    "id": 682089510,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4MjA4OTUxMA==",
    "user": {
      "login": "0x-r4bbit",
      "id": 445106,
      "node_id": "MDQ6VXNlcjQ0NTEwNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/445106?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/0x-r4bbit",
      "html_url": "https://github.com/0x-r4bbit",
      "followers_url": "https://api.github.com/users/0x-r4bbit/followers",
      "following_url": "https://api.github.com/users/0x-r4bbit/following{/other_user}",
      "gists_url": "https://api.github.com/users/0x-r4bbit/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/0x-r4bbit/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/0x-r4bbit/subscriptions",
      "organizations_url": "https://api.github.com/users/0x-r4bbit/orgs",
      "repos_url": "https://api.github.com/users/0x-r4bbit/repos",
      "events_url": "https://api.github.com/users/0x-r4bbit/events{/privacy}",
      "received_events_url": "https://api.github.com/users/0x-r4bbit/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-27T17:32:37Z",
    "updated_at": "2020-08-27T17:32:37Z",
    "author_association": "MEMBER",
    "body": "> Three words usernames are not suggested unless there is a ENS name for the same pub key (I would suggest showing three words name along with ENS in suggestions)\r\n\r\nActually this is more dependent who's in your contacts. E.g. if you add a contact that hasn't added you back (and therefore you don't see the EnsName yet), you'll see that contact show up in the suggestions with the three name alias\r\n\r\nBut yes, show both would be better.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/682089510/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/682100148",
    "html_url": "https://github.com/status-im/status-desktop/issues/769#issuecomment-682100148",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/769",
    "id": 682100148,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4MjEwMDE0OA==",
    "user": {
      "login": "0x-r4bbit",
      "id": 445106,
      "node_id": "MDQ6VXNlcjQ0NTEwNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/445106?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/0x-r4bbit",
      "html_url": "https://github.com/0x-r4bbit",
      "followers_url": "https://api.github.com/users/0x-r4bbit/followers",
      "following_url": "https://api.github.com/users/0x-r4bbit/following{/other_user}",
      "gists_url": "https://api.github.com/users/0x-r4bbit/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/0x-r4bbit/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/0x-r4bbit/subscriptions",
      "organizations_url": "https://api.github.com/users/0x-r4bbit/orgs",
      "repos_url": "https://api.github.com/users/0x-r4bbit/repos",
      "events_url": "https://api.github.com/users/0x-r4bbit/events{/privacy}",
      "received_events_url": "https://api.github.com/users/0x-r4bbit/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-27T17:53:29Z",
    "updated_at": "2020-08-27T17:53:29Z",
    "author_association": "MEMBER",
    "body": "Alright, most of the issues described here are handled in https://github.com/status-im/nim-status-client/pull/779\r\n\r\nThings left to do:\r\n\r\n- Ensure aliases, ensName and userName only get replaced with pubKey when there's a whitespace in front of them. Need to adjust these for that: https://github.com/status-im/nim-status-client/blob/ef22fb348dab00df8b032a47c4bfc050f52349fe/src/app/chat/view.nim#L114-L116 (/cc @emizzle might need to pick your brain for that)\r\n- Show user Alias next to EnsUsername in SuggestionBox template. This isn't supported right now because it only renders text. To keep it flexible enough I need to refactor it so it accepts a custom view component that decides what should be rendered.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/682100148/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/683690790",
    "html_url": "https://github.com/status-im/status-desktop/issues/769#issuecomment-683690790",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/769",
    "id": 683690790,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY4MzY5MDc5MA==",
    "user": {
      "login": "0x-r4bbit",
      "id": 445106,
      "node_id": "MDQ6VXNlcjQ0NTEwNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/445106?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/0x-r4bbit",
      "html_url": "https://github.com/0x-r4bbit",
      "followers_url": "https://api.github.com/users/0x-r4bbit/followers",
      "following_url": "https://api.github.com/users/0x-r4bbit/following{/other_user}",
      "gists_url": "https://api.github.com/users/0x-r4bbit/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/0x-r4bbit/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/0x-r4bbit/subscriptions",
      "organizations_url": "https://api.github.com/users/0x-r4bbit/orgs",
      "repos_url": "https://api.github.com/users/0x-r4bbit/repos",
      "events_url": "https://api.github.com/users/0x-r4bbit/events{/privacy}",
      "received_events_url": "https://api.github.com/users/0x-r4bbit/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-08-31T10:12:03Z",
    "updated_at": "2020-08-31T10:12:03Z",
    "author_association": "MEMBER",
    "body": "Fixed another bug in #797 where mentions without word boundary are replaced (which shouldn't be the case)",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/683690790/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
