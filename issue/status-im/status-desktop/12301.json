{
  "url": "https://api.github.com/repos/status-im/status-desktop/issues/12301",
  "repository_url": "https://api.github.com/repos/status-im/status-desktop",
  "labels_url": "https://api.github.com/repos/status-im/status-desktop/issues/12301/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-desktop/issues/12301/comments",
  "events_url": "https://api.github.com/repos/status-im/status-desktop/issues/12301/events",
  "html_url": "https://github.com/status-im/status-desktop/issues/12301",
  "id": 1919166001,
  "node_id": "I_kwDOD5KrTM5yZCYx",
  "number": 12301,
  "title": "Investigate the best way to implement Wallet Connect v2 in Status-Desktop",
  "user": {
    "login": "stefandunca",
    "id": 47554641,
    "node_id": "MDQ6VXNlcjQ3NTU0NjQx",
    "avatar_url": "https://avatars.githubusercontent.com/u/47554641?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/stefandunca",
    "html_url": "https://github.com/stefandunca",
    "followers_url": "https://api.github.com/users/stefandunca/followers",
    "following_url": "https://api.github.com/users/stefandunca/following{/other_user}",
    "gists_url": "https://api.github.com/users/stefandunca/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/stefandunca/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/stefandunca/subscriptions",
    "organizations_url": "https://api.github.com/users/stefandunca/orgs",
    "repos_url": "https://api.github.com/users/stefandunca/repos",
    "events_url": "https://api.github.com/users/stefandunca/events{/privacy}",
    "received_events_url": "https://api.github.com/users/stefandunca/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 2086938709,
      "node_id": "MDU6TGFiZWwyMDg2OTM4NzA5",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/Epic",
      "name": "Epic",
      "color": "3E4B9E",
      "default": false,
      "description": null
    },
    {
      "id": 2331339531,
      "node_id": "MDU6TGFiZWwyMzMxMzM5NTMx",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/wallet-team",
      "name": "wallet-team",
      "color": "b60205",
      "default": false,
      "description": ""
    },
    {
      "id": 6033502055,
      "node_id": "LA_kwDOD5KrTM8AAAABZ5_vZw",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/E:Desktop%20Wallet%20Connect",
      "name": "E:Desktop Wallet Connect",
      "color": "11FD7B",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": {
    "login": "stefandunca",
    "id": 47554641,
    "node_id": "MDQ6VXNlcjQ3NTU0NjQx",
    "avatar_url": "https://avatars.githubusercontent.com/u/47554641?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/stefandunca",
    "html_url": "https://github.com/stefandunca",
    "followers_url": "https://api.github.com/users/stefandunca/followers",
    "following_url": "https://api.github.com/users/stefandunca/following{/other_user}",
    "gists_url": "https://api.github.com/users/stefandunca/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/stefandunca/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/stefandunca/subscriptions",
    "organizations_url": "https://api.github.com/users/stefandunca/orgs",
    "repos_url": "https://api.github.com/users/stefandunca/repos",
    "events_url": "https://api.github.com/users/stefandunca/events{/privacy}",
    "received_events_url": "https://api.github.com/users/stefandunca/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "stefandunca",
      "id": 47554641,
      "node_id": "MDQ6VXNlcjQ3NTU0NjQx",
      "avatar_url": "https://avatars.githubusercontent.com/u/47554641?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stefandunca",
      "html_url": "https://github.com/stefandunca",
      "followers_url": "https://api.github.com/users/stefandunca/followers",
      "following_url": "https://api.github.com/users/stefandunca/following{/other_user}",
      "gists_url": "https://api.github.com/users/stefandunca/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stefandunca/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stefandunca/subscriptions",
      "organizations_url": "https://api.github.com/users/stefandunca/orgs",
      "repos_url": "https://api.github.com/users/stefandunca/repos",
      "events_url": "https://api.github.com/users/stefandunca/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stefandunca/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": {
    "url": "https://api.github.com/repos/status-im/status-desktop/milestones/77",
    "html_url": "https://github.com/status-im/status-desktop/milestone/77",
    "labels_url": "https://api.github.com/repos/status-im/status-desktop/milestones/77/labels",
    "id": 9909318,
    "node_id": "MI_kwDOD5KrTM4AlzRG",
    "number": 77,
    "title": "0.15.5 - Stabilizing release",
    "description": "A point milestone where we focus 100% on bug fixing, stabilisation and finishing any unfinished items from 0.15  \r\n\r\nZero new messaging and community features.\r\n\r\n--- Wallet ---\r\n\r\n- Community Asset and NFT designs for Asset screens\r\n- Community token visibility\r\n- Minor updates to Asset screens",
    "creator": {
      "login": "John-44",
      "id": 22846356,
      "node_id": "MDQ6VXNlcjIyODQ2MzU2",
      "avatar_url": "https://avatars.githubusercontent.com/u/22846356?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/John-44",
      "html_url": "https://github.com/John-44",
      "followers_url": "https://api.github.com/users/John-44/followers",
      "following_url": "https://api.github.com/users/John-44/following{/other_user}",
      "gists_url": "https://api.github.com/users/John-44/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/John-44/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/John-44/subscriptions",
      "organizations_url": "https://api.github.com/users/John-44/orgs",
      "repos_url": "https://api.github.com/users/John-44/repos",
      "events_url": "https://api.github.com/users/John-44/events{/privacy}",
      "received_events_url": "https://api.github.com/users/John-44/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 57,
    "closed_issues": 9,
    "state": "open",
    "created_at": "2023-09-11T16:40:59Z",
    "updated_at": "2023-10-02T17:41:29Z",
    "due_on": "2023-12-07T08:00:00Z",
    "closed_at": null
  },
  "comments": 0,
  "created_at": "2023-09-29T12:15:11Z",
  "updated_at": "2023-10-02T14:48:09Z",
  "closed_at": null,
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "# Wallet Connect v2\r\n\r\n## Prototype\r\n\r\n- [ ] Integrate web SDK in WebView\r\n- [ ] Communicate externally to forward actions and propagate events to/from the wallet\r\n\r\n## Implementation\r\n\r\nOptions\r\n\r\n- WebView + Web SDK\r\n  - not sure if it is properly supported on all platforms without relaying on the heavy Qt WebEngine\r\n- Cross-platform library\r\n  - It looks like there is no option. There is a [rust SDK](https://github.com/WalletConnect/WalletConnectRust/tree/main) in the work, but no guarantee it will be usable for cross-compilation\r\n\r\n## Info\r\n\r\nWeb3Wallet SDK ([web3wallet](https://github.com/WalletConnect/walletconnect-monorepo/tree/v2.0/packages/web3wallet))\r\n\r\n- Web\r\n- iOS (Swift)\r\n- Flutter\r\n- React Native\r\n- C#\r\n\r\nThe client SDKs are supported in the \"Web3Modal SDK\"\r\n\r\n- React + wagmi (react hooks for ethereum)\r\n- Vue + wagmi\r\n- HTML + wagmi\r\n- Flutter\r\n- Android\r\n\r\n## User Flow\r\n\r\n[Overview](https://specs.walletconnect.com/2.0/specs/clients/sign/session-proposal)\r\n\r\nIntegration steps\r\n\r\n```mermaid\r\nsequenceDiagram\r\n  participant dApp\r\n  participant WalletConnect\r\n  participant StatusWallet\r\n\r\n  dApp->>WalletConnect: Request Connection\r\n  WalletConnect->>StatusWallet: Show QR Code / Deep Link\r\n  StatusWallet->>WalletConnect: Scan QR Code / Follow Deep Link\r\n  WalletConnect->>dApp: Confirm Connection\r\n\r\n  dApp->>WalletConnect: Send Transaction Request\r\n  WalletConnect->>StatusWallet: Push Notification (Approve/Reject)\r\n  StatusWallet->>WalletConnect: Approve Transaction\r\n  WalletConnect->>dApp: Confirm Transaction\r\n```\r\n\r\nUX steps\r\n\r\n1. App displays qrcode or **deep link** to connect wallet\r\n2. User scans qrcode or **redirects to wallet**\r\n3. User approves session proposal from App\r\n4. User returns to app after success prompt\r\n5. App receives accounts and namespaces from Wallet\r\n6. App sends request to sign transaction or message\r\n7. User redirects to wallet to inspect request\r\n8. User approves transaction or message request\r\n9. User returns to app after success prompt\r\n10. App receives transaction confirmation or signature\r\n\r\n## APIS\r\n\r\nSign - establishes a session between a dapp and a wallet in order to expose a set of blockchain accounts that can sign transactions\r\n\r\nAuth - simple and lean interface to enable applications to authenticate wallet users to login/signin into applications with their wallets by automatically signing an authentication message.\r\n\r\nVerify - allows wallets to notify end-users when they may be connecting to a suspicious or malicious domain, helping to prevent phishing attacks across the industry.",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/12301/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-desktop/issues/12301/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[

]
