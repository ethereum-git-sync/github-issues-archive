{
  "url": "https://api.github.com/repos/status-im/status-desktop/issues/11996",
  "repository_url": "https://api.github.com/repos/status-im/status-desktop",
  "labels_url": "https://api.github.com/repos/status-im/status-desktop/issues/11996/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-desktop/issues/11996/comments",
  "events_url": "https://api.github.com/repos/status-im/status-desktop/issues/11996/events",
  "html_url": "https://github.com/status-im/status-desktop/issues/11996",
  "id": 1863544362,
  "node_id": "I_kwDOD5KrTM5vE24q",
  "number": 11996,
  "title": "Random crashes on 0.14.0 RC1",
  "user": {
    "login": "jrainville",
    "id": 11926403,
    "node_id": "MDQ6VXNlcjExOTI2NDAz",
    "avatar_url": "https://avatars.githubusercontent.com/u/11926403?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jrainville",
    "html_url": "https://github.com/jrainville",
    "followers_url": "https://api.github.com/users/jrainville/followers",
    "following_url": "https://api.github.com/users/jrainville/following{/other_user}",
    "gists_url": "https://api.github.com/users/jrainville/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jrainville/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jrainville/subscriptions",
    "organizations_url": "https://api.github.com/users/jrainville/orgs",
    "repos_url": "https://api.github.com/users/jrainville/repos",
    "events_url": "https://api.github.com/users/jrainville/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jrainville/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 2036563458,
      "node_id": "MDU6TGFiZWwyMDM2NTYzNDU4",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/bug",
      "name": "bug",
      "color": "d73a4a",
      "default": true,
      "description": "Something isn't working"
    },
    {
      "id": 4548141040,
      "node_id": "LA_kwDOD5KrTM8AAAABDxcf8A",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/messenger-team",
      "name": "messenger-team",
      "color": "232858",
      "default": false,
      "description": ""
    },
    {
      "id": 5745637395,
      "node_id": "LA_kwDOD5KrTM8AAAABVnd4Ew",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/E:Desktop%20Community%20Bugfixes%20MVP",
      "name": "E:Desktop Community Bugfixes MVP",
      "color": "01CE46",
      "default": false,
      "description": "Misc bug fixes about communities that are due for the MVP"
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": {
    "login": "jrainville",
    "id": 11926403,
    "node_id": "MDQ6VXNlcjExOTI2NDAz",
    "avatar_url": "https://avatars.githubusercontent.com/u/11926403?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jrainville",
    "html_url": "https://github.com/jrainville",
    "followers_url": "https://api.github.com/users/jrainville/followers",
    "following_url": "https://api.github.com/users/jrainville/following{/other_user}",
    "gists_url": "https://api.github.com/users/jrainville/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jrainville/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jrainville/subscriptions",
    "organizations_url": "https://api.github.com/users/jrainville/orgs",
    "repos_url": "https://api.github.com/users/jrainville/repos",
    "events_url": "https://api.github.com/users/jrainville/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jrainville/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "jrainville",
      "id": 11926403,
      "node_id": "MDQ6VXNlcjExOTI2NDAz",
      "avatar_url": "https://avatars.githubusercontent.com/u/11926403?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jrainville",
      "html_url": "https://github.com/jrainville",
      "followers_url": "https://api.github.com/users/jrainville/followers",
      "following_url": "https://api.github.com/users/jrainville/following{/other_user}",
      "gists_url": "https://api.github.com/users/jrainville/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jrainville/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jrainville/subscriptions",
      "organizations_url": "https://api.github.com/users/jrainville/orgs",
      "repos_url": "https://api.github.com/users/jrainville/repos",
      "events_url": "https://api.github.com/users/jrainville/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jrainville/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": {
    "url": "https://api.github.com/repos/status-im/status-desktop/milestones/76",
    "html_url": "https://github.com/status-im/status-desktop/milestone/76",
    "labels_url": "https://api.github.com/repos/status-im/status-desktop/milestones/76/labels",
    "id": 9826175,
    "node_id": "MI_kwDOD5KrTM4Ale9_",
    "number": 76,
    "title": "0.14.0 RC",
    "description": "",
    "creator": {
      "login": "jrainville",
      "id": 11926403,
      "node_id": "MDQ6VXNlcjExOTI2NDAz",
      "avatar_url": "https://avatars.githubusercontent.com/u/11926403?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jrainville",
      "html_url": "https://github.com/jrainville",
      "followers_url": "https://api.github.com/users/jrainville/followers",
      "following_url": "https://api.github.com/users/jrainville/following{/other_user}",
      "gists_url": "https://api.github.com/users/jrainville/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jrainville/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jrainville/subscriptions",
      "organizations_url": "https://api.github.com/users/jrainville/orgs",
      "repos_url": "https://api.github.com/users/jrainville/repos",
      "events_url": "https://api.github.com/users/jrainville/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jrainville/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 4,
    "closed_issues": 1,
    "state": "open",
    "created_at": "2023-08-22T18:32:10Z",
    "updated_at": "2023-08-23T18:15:47Z",
    "due_on": "2023-09-01T07:00:00Z",
    "closed_at": null
  },
  "comments": 2,
  "created_at": "2023-08-23T15:17:01Z",
  "updated_at": "2023-08-23T17:30:24Z",
  "closed_at": null,
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "# Bug Report\r\n\r\n## Description\r\n\r\nHard to know what's going on for real. It just crashes randomly.\r\n\r\nIt happened to me 3 times in a row when the app was loading on login. Then one time later when it was doing nothing.\r\n\r\nMy guess is that we receive a signal and we don't handle it correctly and then it crashes.\r\n\r\nThis is what the logs look like most of the time:\r\n\r\n```\r\nINF 2023-08-23 10:31:42.596-04:00 received                                   topics=\"signals-manager\" tid=250780 file=messages.nim:70 signal=messages.new messageID=0x2a66ce015d32936fcc799acbccb055a416c08bd0afeda28946864336e6f7bf65\r\nINF 2023-08-23 10:31:42.596-04:00 received                                   topics=\"signals-manager\" tid=250780 file=messages.nim:70 signal=messages.new messageID=0x83549c70da0b5f9a9795a67368e0390cf66282af36b7d915f94874f9794421da\r\nERR 2023-08-23 10:31:42.597-04:00 requested community doesn't exists         topics=\"community-service\" tid=250780 file=service.nim:721 communityId=0x04b2a87e119964bf1b338a80f5aecf8f09aa6b246172c0951bdee0ca8ef1f402e5b90eeeb48d9539ec69886ecadb070cb1e81ccc7588a2b93968b172f832745ef5\r\nSIGSEGV: Illegal storage access. (Attempt to read from nil?)\r\nSegmentation fault (core dumped)\r\n```\r\n\r\n## Steps to reproduce\r\n\r\nUnknown.\r\n\r\nAll I know is that this is my release account, so it has a lot of communities, including the Status community (the control node still uses 0.13)\r\n\r\n#### Expected behavior\r\n\r\nNo crash\r\n\r\n#### Actual behavior\r\n\r\nRandom crashes\r\n\r\n### Additional Information\r\n\r\n- Status desktop version: 0.14..0 RC1\r\n- Operating System: Ubuntu 20\r\n\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/11996/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-desktop/issues/11996/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1690158831",
    "html_url": "https://github.com/status-im/status-desktop/issues/11996#issuecomment-1690158831",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/11996",
    "id": 1690158831,
    "node_id": "IC_kwDOD5KrTM5kvcbv",
    "user": {
      "login": "MishkaRogachev",
      "id": 2522130,
      "node_id": "MDQ6VXNlcjI1MjIxMzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2522130?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MishkaRogachev",
      "html_url": "https://github.com/MishkaRogachev",
      "followers_url": "https://api.github.com/users/MishkaRogachev/followers",
      "following_url": "https://api.github.com/users/MishkaRogachev/following{/other_user}",
      "gists_url": "https://api.github.com/users/MishkaRogachev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MishkaRogachev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MishkaRogachev/subscriptions",
      "organizations_url": "https://api.github.com/users/MishkaRogachev/orgs",
      "repos_url": "https://api.github.com/users/MishkaRogachev/repos",
      "events_url": "https://api.github.com/users/MishkaRogachev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MishkaRogachev/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-08-23T15:20:06Z",
    "updated_at": "2023-08-23T15:20:06Z",
    "author_association": "CONTRIBUTOR",
    "body": "i've got several crashes with attempt to send a message:\r\n```\r\nINF 2023-08-23 17:37:53.450+03:00 history request completed                  topics=\"mailservers-service\" tid=1784975 file=service.nim:183\r\nINF 2023-08-23 17:37:53.452+03:00 history request started                    topics=\"mailservers-service\" tid=1784975 file=service.nim:178 numBatches=0\r\nINF 2023-08-23 17:37:53.452+03:00 history request completed                  topics=\"mailservers-service\" tid=1784975 file=service.nim:183\r\nERR 2023-08-23 17:39:24.837+03:00 requested community doesn't exists         topics=\"community-service\" tid=1784975 file=service.nim:721 communityId=0x0411424f9caf50bd7487495fcce6182c0a2fdd68f278f405f46d07c4607ce3084d0b1bfc9b5944e92e8283d0c7cc3838db5a51c29d1c013dbe05c3a7b53a0fc7fc\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1690158831/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1690348298",
    "html_url": "https://github.com/status-im/status-desktop/issues/11996#issuecomment-1690348298",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/11996",
    "id": 1690348298,
    "node_id": "IC_kwDOD5KrTM5kwKsK",
    "user": {
      "login": "jrainville",
      "id": 11926403,
      "node_id": "MDQ6VXNlcjExOTI2NDAz",
      "avatar_url": "https://avatars.githubusercontent.com/u/11926403?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jrainville",
      "html_url": "https://github.com/jrainville",
      "followers_url": "https://api.github.com/users/jrainville/followers",
      "following_url": "https://api.github.com/users/jrainville/following{/other_user}",
      "gists_url": "https://api.github.com/users/jrainville/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jrainville/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jrainville/subscriptions",
      "organizations_url": "https://api.github.com/users/jrainville/orgs",
      "repos_url": "https://api.github.com/users/jrainville/repos",
      "events_url": "https://api.github.com/users/jrainville/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jrainville/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-08-23T17:21:02Z",
    "updated_at": "2023-08-23T17:21:02Z",
    "author_association": "MEMBER",
    "body": "Ok, I made a discovery. I was finding suspicious that the \"community id\" was that long. That's because it's not the case, that's a chat key!\r\n\r\nSomehow, we are calling `getCommunityById` using a chat key, which is obviously not good. Let's find the culprit!",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1690348298/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
