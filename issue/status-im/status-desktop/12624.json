{
  "url": "https://api.github.com/repos/status-im/status-desktop/issues/12624",
  "repository_url": "https://api.github.com/repos/status-im/status-desktop",
  "labels_url": "https://api.github.com/repos/status-im/status-desktop/issues/12624/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-desktop/issues/12624/comments",
  "events_url": "https://api.github.com/repos/status-im/status-desktop/issues/12624/events",
  "html_url": "https://github.com/status-im/status-desktop/issues/12624",
  "id": 1975024449,
  "node_id": "I_kwDOD5KrTM51uHtB",
  "number": 12624,
  "title": "LinkPreviews mini cards in chat input should contain local nickname for contact links",
  "user": {
    "login": "igor-sirotin",
    "id": 25482501,
    "node_id": "MDQ6VXNlcjI1NDgyNTAx",
    "avatar_url": "https://avatars.githubusercontent.com/u/25482501?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/igor-sirotin",
    "html_url": "https://github.com/igor-sirotin",
    "followers_url": "https://api.github.com/users/igor-sirotin/followers",
    "following_url": "https://api.github.com/users/igor-sirotin/following{/other_user}",
    "gists_url": "https://api.github.com/users/igor-sirotin/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/igor-sirotin/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/igor-sirotin/subscriptions",
    "organizations_url": "https://api.github.com/users/igor-sirotin/orgs",
    "repos_url": "https://api.github.com/users/igor-sirotin/repos",
    "events_url": "https://api.github.com/users/igor-sirotin/events{/privacy}",
    "received_events_url": "https://api.github.com/users/igor-sirotin/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 2036563458,
      "node_id": "MDU6TGFiZWwyMDM2NTYzNDU4",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/bug",
      "name": "bug",
      "color": "d73a4a",
      "default": true,
      "description": "Something isn't working"
    },
    {
      "id": 5732778973,
      "node_id": "LA_kwDOD5KrTM8AAAABVbND3Q",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/E:Desktop%20New%20Unfurling%20API",
      "name": "E:Desktop New Unfurling API",
      "color": "BDF0DE",
      "default": false,
      "description": "Implementation of the new unfurling API for all links"
    },
    {
      "id": 6176323312,
      "node_id": "LA_kwDOD5KrTM8AAAABcCM28A",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/E:Desktop%20Bugfixes%200.15.5",
      "name": "E:Desktop Bugfixes 0.15.5",
      "color": "BFE9C3",
      "default": false,
      "description": ""
    },
    {
      "id": 6343085517,
      "node_id": "LA_kwDOD5KrTM8AAAABehPNzQ",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/sprint-12-19",
      "name": "sprint-12-19",
      "color": "FFFFFF",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": {
    "login": "igor-sirotin",
    "id": 25482501,
    "node_id": "MDQ6VXNlcjI1NDgyNTAx",
    "avatar_url": "https://avatars.githubusercontent.com/u/25482501?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/igor-sirotin",
    "html_url": "https://github.com/igor-sirotin",
    "followers_url": "https://api.github.com/users/igor-sirotin/followers",
    "following_url": "https://api.github.com/users/igor-sirotin/following{/other_user}",
    "gists_url": "https://api.github.com/users/igor-sirotin/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/igor-sirotin/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/igor-sirotin/subscriptions",
    "organizations_url": "https://api.github.com/users/igor-sirotin/orgs",
    "repos_url": "https://api.github.com/users/igor-sirotin/repos",
    "events_url": "https://api.github.com/users/igor-sirotin/events{/privacy}",
    "received_events_url": "https://api.github.com/users/igor-sirotin/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "igor-sirotin",
      "id": 25482501,
      "node_id": "MDQ6VXNlcjI1NDgyNTAx",
      "avatar_url": "https://avatars.githubusercontent.com/u/25482501?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/igor-sirotin",
      "html_url": "https://github.com/igor-sirotin",
      "followers_url": "https://api.github.com/users/igor-sirotin/followers",
      "following_url": "https://api.github.com/users/igor-sirotin/following{/other_user}",
      "gists_url": "https://api.github.com/users/igor-sirotin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/igor-sirotin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/igor-sirotin/subscriptions",
      "organizations_url": "https://api.github.com/users/igor-sirotin/orgs",
      "repos_url": "https://api.github.com/users/igor-sirotin/repos",
      "events_url": "https://api.github.com/users/igor-sirotin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/igor-sirotin/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": {
    "url": "https://api.github.com/repos/status-im/status-desktop/milestones/61",
    "html_url": "https://github.com/status-im/status-desktop/milestone/61",
    "labels_url": "https://api.github.com/repos/status-im/status-desktop/milestones/61/labels",
    "id": 8739485,
    "node_id": "MI_kwDOD5KrTM4AhVqd",
    "number": 61,
    "title": "0.16",
    "description": "## Messaging & Communities team\r\n\r\n**1.  Fix bug and stabilise Communities and Messaging functionality**\r\n\r\n**2.  Reduce size of community description metadata**\r\n- better compressions, less duplication\r\n\r\n**3. Use data sync layer (or other mechanism) to improve community description reliability**\r\n- Every time a new user joins the community, the Control Node updates and signs the description.\r\n- Random back off to stop it being too chatty \r\n\r\n**4. Continue work on profile showcase**\r\n\r\n&nbsp;\r\n\r\n## Wallet Team\r\n\r\n**1. Complete support for Community minted assets**\r\n\r\n**2. Complete token visibility management screens**\r\n\r\n**3. Continue working on WalletConnect support**\r\n\r\n**4. Minor updates to Asset screens**\r\n\r\n**5. Continue fixing bugs, making optimisations and keeping tech debt low**\r\n\r\n\r\n\r\n\r\n",
    "creator": {
      "login": "iurimatias",
      "id": 176720,
      "node_id": "MDQ6VXNlcjE3NjcyMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/176720?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/iurimatias",
      "html_url": "https://github.com/iurimatias",
      "followers_url": "https://api.github.com/users/iurimatias/followers",
      "following_url": "https://api.github.com/users/iurimatias/following{/other_user}",
      "gists_url": "https://api.github.com/users/iurimatias/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/iurimatias/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iurimatias/subscriptions",
      "organizations_url": "https://api.github.com/users/iurimatias/orgs",
      "repos_url": "https://api.github.com/users/iurimatias/repos",
      "events_url": "https://api.github.com/users/iurimatias/events{/privacy}",
      "received_events_url": "https://api.github.com/users/iurimatias/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 172,
    "closed_issues": 149,
    "state": "open",
    "created_at": "2022-12-09T15:06:43Z",
    "updated_at": "2024-01-04T13:08:31Z",
    "due_on": "2024-01-31T08:00:00Z",
    "closed_at": null
  },
  "comments": 3,
  "created_at": "2023-11-02T20:57:48Z",
  "updated_at": "2024-01-04T10:49:22Z",
  "closed_at": null,
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "> hmmm, there's something I might have missed. These sender mini cards should probably also contain \"real\" data, e.g. local nickname should be applied to contacts 🤔\r\n> <img alt=\"image\" width=\"349\" src=\"https://user-images.githubusercontent.com/25482501/280111026-0172463e-fdcf-4769-aee9-a06c2f94f98f.png\">\r\n\r\n\r\nthough @alexjba mentions this:\r\n> Good finding. But IMO the link preview shouldn't contain any local data (E.g. sender side local nickname) 🤔\r\nWouldn't it introduce some inconsistencies between what the sender think he's sending and what the receiver is actually seeing? 🤔 I think it should be transparent.\r\nIMO the only place where it's ok to use local nicknames is on receiver side.\r\n\r\n_Originally posted by @igor-sirotin in https://github.com/status-im/status-desktop/issues/12613#issuecomment-1791498268_\r\n            ",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/12624/reactions",
    "total_count": 1,
    "+1": 1,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-desktop/issues/12624/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1791529277",
    "html_url": "https://github.com/status-im/status-desktop/issues/12624#issuecomment-1791529277",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/12624",
    "id": 1791529277,
    "node_id": "IC_kwDOD5KrTM5qyJE9",
    "user": {
      "login": "igor-sirotin",
      "id": 25482501,
      "node_id": "MDQ6VXNlcjI1NDgyNTAx",
      "avatar_url": "https://avatars.githubusercontent.com/u/25482501?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/igor-sirotin",
      "html_url": "https://github.com/igor-sirotin",
      "followers_url": "https://api.github.com/users/igor-sirotin/followers",
      "following_url": "https://api.github.com/users/igor-sirotin/following{/other_user}",
      "gists_url": "https://api.github.com/users/igor-sirotin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/igor-sirotin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/igor-sirotin/subscriptions",
      "organizations_url": "https://api.github.com/users/igor-sirotin/orgs",
      "repos_url": "https://api.github.com/users/igor-sirotin/repos",
      "events_url": "https://api.github.com/users/igor-sirotin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/igor-sirotin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-11-02T20:58:59Z",
    "updated_at": "2023-11-02T20:58:59Z",
    "author_association": "CONTRIBUTOR",
    "body": "@alexjba let's discuss this tomorrow on the call with John",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1791529277/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1869085148",
    "html_url": "https://github.com/status-im/status-desktop/issues/12624#issuecomment-1869085148",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/12624",
    "id": 1869085148,
    "node_id": "IC_kwDOD5KrTM5vZ_nc",
    "user": {
      "login": "igor-sirotin",
      "id": 25482501,
      "node_id": "MDQ6VXNlcjI1NDgyNTAx",
      "avatar_url": "https://avatars.githubusercontent.com/u/25482501?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/igor-sirotin",
      "html_url": "https://github.com/igor-sirotin",
      "followers_url": "https://api.github.com/users/igor-sirotin/followers",
      "following_url": "https://api.github.com/users/igor-sirotin/following{/other_user}",
      "gists_url": "https://api.github.com/users/igor-sirotin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/igor-sirotin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/igor-sirotin/subscriptions",
      "organizations_url": "https://api.github.com/users/igor-sirotin/orgs",
      "repos_url": "https://api.github.com/users/igor-sirotin/repos",
      "events_url": "https://api.github.com/users/igor-sirotin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/igor-sirotin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-12-25T18:53:51Z",
    "updated_at": "2023-12-25T18:53:51Z",
    "author_association": "CONTRIBUTOR",
    "body": "@John-44 @benjthayer \r\n\r\nI don't remember us discussing this. Please correct me if I just forgot something.\r\n\r\nConsider this case:\r\n1. Alice, Charle: add `Bob` as a contact\r\n2. Alice: rename `Bob` to `Bobby` (local nickname)\r\n3. Charlie: rename `Bob` to `Bobo` (local nickname)\r\n4. Alice: pastes Bob's profile link to a chat with Charle\r\n❓ should Alice see `Bob` or `Bobby` in the link preview card in message composer?\r\n5. Alice: sends link to Charlie\r\nThe link preview attached to the message will contain `Bob`, not `Bobby`, as local nicknames are ignored here.\r\n6. ✅  Charlie: shows a received card with `Bobo`, as per local nickname (this is agreed and implemented).\r\n\r\n\r\nOn one side, the user should always see the local nickname, where ever it's shown\r\nOn the other side, as Alex pointed out, it creates an inconsistency between what Alice sees in UI (`Bobby`) and what's actually being sent (`Bob`).\r\n\r\nWhat do you think of this?\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1869085148/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1876889160",
    "html_url": "https://github.com/status-im/status-desktop/issues/12624#issuecomment-1876889160",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/12624",
    "id": 1876889160,
    "node_id": "IC_kwDOD5KrTM5v3w5I",
    "user": {
      "login": "John-44",
      "id": 22846356,
      "node_id": "MDQ6VXNlcjIyODQ2MzU2",
      "avatar_url": "https://avatars.githubusercontent.com/u/22846356?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/John-44",
      "html_url": "https://github.com/John-44",
      "followers_url": "https://api.github.com/users/John-44/followers",
      "following_url": "https://api.github.com/users/John-44/following{/other_user}",
      "gists_url": "https://api.github.com/users/John-44/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/John-44/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/John-44/subscriptions",
      "organizations_url": "https://api.github.com/users/John-44/orgs",
      "repos_url": "https://api.github.com/users/John-44/repos",
      "events_url": "https://api.github.com/users/John-44/events{/privacy}",
      "received_events_url": "https://api.github.com/users/John-44/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2024-01-04T10:49:21Z",
    "updated_at": "2024-01-04T10:49:21Z",
    "author_association": "NONE",
    "body": "@igor-sirotin good question, to answer:\r\n\r\n> 1. Alice, Charle: add `Bob` as a contact\r\n> 2. Alice: rename `Bob` to `Bobby` (local nickname)\r\n> 3. Charlie: rename `Bob` to `Bobo` (local nickname)\r\n> 4. Alice: pastes Bob's profile link to a chat with Charle\r\n>    ❓ should Alice see `Bob` or `Bobby` in the link preview card in message composer?\r\n\r\nA: I think Alice should see `Bobby` in the link preview card in message composer.  But let me know if you think otherwise, I'm not totally sure on this question.\r\n\r\n> 5. Alice: sends link to Charlie\r\n>    The link preview attached to the message will contain `Bob`, not `Bobby`, as local nicknames are ignored here.\r\n\r\nThis is fine\r\n\r\n> 6. ✅  Charlie: shows a received card with `Bobo`, as per local nickname (this is agreed and implemented).\r\n\r\nThis is correct :-)\r\n\r\n> On one side, the user should always see the local nickname, where ever it's shown On the other side, as Alex pointed out, it creates an inconsistency between what Alice sees in UI (`Bobby`) and what's actually being sent (`Bob`).\r\n> \r\n> What do you think of this?\r\n\r\nI think this is fine, because it's consistent behaviour.  User's are free to rename other users to anything they want, that's how they should see the other person's name, and it's only local to the user.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1876889160/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
