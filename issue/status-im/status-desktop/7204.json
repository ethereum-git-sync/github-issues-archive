{
  "url": "https://api.github.com/repos/status-im/status-desktop/issues/7204",
  "repository_url": "https://api.github.com/repos/status-im/status-desktop",
  "labels_url": "https://api.github.com/repos/status-im/status-desktop/issues/7204/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-desktop/issues/7204/comments",
  "events_url": "https://api.github.com/repos/status-im/status-desktop/issues/7204/events",
  "html_url": "https://github.com/status-im/status-desktop/issues/7204",
  "id": 1357465797,
  "node_id": "I_kwDOD5KrTM5Q6UjF",
  "number": 7204,
  "title": "Import tool: fine-tune UI for cancelled imports",
  "user": {
    "login": "0x-r4bbit",
    "id": 445106,
    "node_id": "MDQ6VXNlcjQ0NTEwNg==",
    "avatar_url": "https://avatars.githubusercontent.com/u/445106?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/0x-r4bbit",
    "html_url": "https://github.com/0x-r4bbit",
    "followers_url": "https://api.github.com/users/0x-r4bbit/followers",
    "following_url": "https://api.github.com/users/0x-r4bbit/following{/other_user}",
    "gists_url": "https://api.github.com/users/0x-r4bbit/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/0x-r4bbit/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/0x-r4bbit/subscriptions",
    "organizations_url": "https://api.github.com/users/0x-r4bbit/orgs",
    "repos_url": "https://api.github.com/users/0x-r4bbit/repos",
    "events_url": "https://api.github.com/users/0x-r4bbit/events{/privacy}",
    "received_events_url": "https://api.github.com/users/0x-r4bbit/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 4371312179,
      "node_id": "LA_kwDOD5KrTM8AAAABBIzuMw",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/E:%20Discord-Import",
      "name": "E: Discord-Import",
      "color": "c2e0c6",
      "default": false,
      "description": "Issues related to importing discord communities into Status"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "caybro",
    "id": 5377645,
    "node_id": "MDQ6VXNlcjUzNzc2NDU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5377645?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/caybro",
    "html_url": "https://github.com/caybro",
    "followers_url": "https://api.github.com/users/caybro/followers",
    "following_url": "https://api.github.com/users/caybro/following{/other_user}",
    "gists_url": "https://api.github.com/users/caybro/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/caybro/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/caybro/subscriptions",
    "organizations_url": "https://api.github.com/users/caybro/orgs",
    "repos_url": "https://api.github.com/users/caybro/repos",
    "events_url": "https://api.github.com/users/caybro/events{/privacy}",
    "received_events_url": "https://api.github.com/users/caybro/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "caybro",
      "id": 5377645,
      "node_id": "MDQ6VXNlcjUzNzc2NDU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5377645?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/caybro",
      "html_url": "https://github.com/caybro",
      "followers_url": "https://api.github.com/users/caybro/followers",
      "following_url": "https://api.github.com/users/caybro/following{/other_user}",
      "gists_url": "https://api.github.com/users/caybro/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/caybro/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/caybro/subscriptions",
      "organizations_url": "https://api.github.com/users/caybro/orgs",
      "repos_url": "https://api.github.com/users/caybro/repos",
      "events_url": "https://api.github.com/users/caybro/events{/privacy}",
      "received_events_url": "https://api.github.com/users/caybro/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": {
    "url": "https://api.github.com/repos/status-im/status-desktop/milestones/52",
    "html_url": "https://github.com/status-im/status-desktop/milestone/52",
    "labels_url": "https://api.github.com/repos/status-im/status-desktop/milestones/52/labels",
    "id": 8473973,
    "node_id": "MI_kwDOD5KrTM4AgU11",
    "number": 52,
    "title": "0.8.0",
    "description": "Features:\r\n\r\nGeneral:\r\n- Memory Usage Improvements (part 1)\r\n\r\nChat:\r\n- Activity Center\r\n- New Profile Modal\r\n- Contacts & Profiles\r\n- Identity Verification\r\n\r\nCommunities:\r\n- Community Portal\r\n- New Join Workflow\r\n- Encrypted Communities\r\n- Import Tool\r\n\r\nWallet:\r\n- Send\r\n  - Initial Bridge integration, allow to send eth/token to best route and advanced view\r\n- Test:\r\n  - Wallet test fully automated and working\r\n- Asset\r\n  - Token view graph\r\n- Keycard \r\n   - onboarding flow  and login revision\r\n   - Rename Keycard\r\n   - Change PIN\r\n   - Create a 12-digit personal unblocking key (PUK)\r\n   - Create a new Pairing Code\r\n   - UI for the keycard settings in case user has set up a keycard\r\n\r\nAutomation:\r\n- docker setup to test message reliability & message fetching \r\n- Use local mailserver in the CI\r\n- Automation: Edit group chat name and cleanup group chat creation scenario\r\n- Automation: Can invite members to a community\r\n- Automation: Can create a contact request\r\n- Automation: Can create a 1 on 1 chat with a mutual contact\r\n- Automation: Can create a 1 on 1 chat with a mutual contactCan delete a message from another member if admin\r\n- Automation: Can create a 1 on 1 chat with a mutual contactCan reply to a message in a community channel\r\n- Wallet scenario: User adds a watch only account\r\n- Wallet scenario: User generates a new account from wallet\r\n- Wallet scenario: User imports a private key\r\n- Wallet scenario: User imports a seed phrase\r\n- Wallet scenario: User deletes a generated account\r\n- Wallet scenario: Can see collectibles for an account\r\n- Wallet scenario: User can edit the default wallet account\r\n- Wallet scenario: User can toggle network and see balances\r\n\r\nUI Storybook:\r\n- Initial Storybook app\r\n- Component Events Tracking/logging\r\n- Component properties/models Editing\r\n- Community Portal Section\r\n- Community Portal Card Component\r\n- ProfilePopup Component\r\n\r\nC++:\r\n- status-go wrapper: Login\r\n- status-go wrapper: Account Creation\r\n- status-go wrapper: get Chats\r\n",
    "creator": {
      "login": "iurimatias",
      "id": 176720,
      "node_id": "MDQ6VXNlcjE3NjcyMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/176720?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/iurimatias",
      "html_url": "https://github.com/iurimatias",
      "followers_url": "https://api.github.com/users/iurimatias/followers",
      "following_url": "https://api.github.com/users/iurimatias/following{/other_user}",
      "gists_url": "https://api.github.com/users/iurimatias/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/iurimatias/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iurimatias/subscriptions",
      "organizations_url": "https://api.github.com/users/iurimatias/orgs",
      "repos_url": "https://api.github.com/users/iurimatias/repos",
      "events_url": "https://api.github.com/users/iurimatias/events{/privacy}",
      "received_events_url": "https://api.github.com/users/iurimatias/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 0,
    "closed_issues": 233,
    "state": "closed",
    "created_at": "2022-09-28T12:52:48Z",
    "updated_at": "2023-04-24T08:51:38Z",
    "due_on": "2022-11-07T08:00:00Z",
    "closed_at": "2022-11-21T18:50:35Z"
  },
  "comments": 1,
  "created_at": "2022-08-31T14:58:28Z",
  "updated_at": "2022-10-24T15:12:58Z",
  "closed_at": "2022-10-24T15:12:57Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "Users have the ability to cancel imports (#7198)\r\nAs of right now, when an import is cancelled, it looks something like this:\r\n\r\n\r\n![Screenshot from 2022-08-31 16-50-35](https://user-images.githubusercontent.com/445106/187709353-7cf7561d-91cd-4874-b287-f4566f028380.png)\r\n\r\nPer design, we actually don't stay on the import progress modal, but instead show a confirmation popup which will redirect the user to the beginning of the create community modal.\r\n\r\nBut as we can see, the current progress' state stay preserved, which also causes the banner to not disappear.\r\nWe should perform cleanup work in the client once the user has decided to cancel the import.\r\n\r\nIt's also worth noting that \"cancellation\" is an asynchronous task. This is because we might be somewhere in the middle of an import task that needs to finish first, before we can perform cleanup and cancellation.\r\n\r\nHence we need to decide to either show the user that cancellation has been requested, or optimistically update the UI and assume the needed cleanup is done in the background.\r\n\r\nEven if we go with the latter, we still need to take into account that cancellation can take a while, because if the user decide to quit the application, we as well have to perform cancellation/cleanup and first wait within the progress until we can perform cleanup.\r\n\r\n/cc @John-44  ",
  "closed_by": {
    "login": "0x-r4bbit",
    "id": 445106,
    "node_id": "MDQ6VXNlcjQ0NTEwNg==",
    "avatar_url": "https://avatars.githubusercontent.com/u/445106?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/0x-r4bbit",
    "html_url": "https://github.com/0x-r4bbit",
    "followers_url": "https://api.github.com/users/0x-r4bbit/followers",
    "following_url": "https://api.github.com/users/0x-r4bbit/following{/other_user}",
    "gists_url": "https://api.github.com/users/0x-r4bbit/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/0x-r4bbit/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/0x-r4bbit/subscriptions",
    "organizations_url": "https://api.github.com/users/0x-r4bbit/orgs",
    "repos_url": "https://api.github.com/users/0x-r4bbit/repos",
    "events_url": "https://api.github.com/users/0x-r4bbit/events{/privacy}",
    "received_events_url": "https://api.github.com/users/0x-r4bbit/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/7204/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-desktop/issues/7204/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1289190189",
    "html_url": "https://github.com/status-im/status-desktop/issues/7204#issuecomment-1289190189",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/7204",
    "id": 1289190189,
    "node_id": "IC_kwDOD5KrTM5M13st",
    "user": {
      "login": "0x-r4bbit",
      "id": 445106,
      "node_id": "MDQ6VXNlcjQ0NTEwNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/445106?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/0x-r4bbit",
      "html_url": "https://github.com/0x-r4bbit",
      "followers_url": "https://api.github.com/users/0x-r4bbit/followers",
      "following_url": "https://api.github.com/users/0x-r4bbit/following{/other_user}",
      "gists_url": "https://api.github.com/users/0x-r4bbit/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/0x-r4bbit/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/0x-r4bbit/subscriptions",
      "organizations_url": "https://api.github.com/users/0x-r4bbit/orgs",
      "repos_url": "https://api.github.com/users/0x-r4bbit/repos",
      "events_url": "https://api.github.com/users/0x-r4bbit/events{/privacy}",
      "received_events_url": "https://api.github.com/users/0x-r4bbit/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-24T15:12:57Z",
    "updated_at": "2022-10-24T15:12:57Z",
    "author_association": "MEMBER",
    "body": "What we've done so far is that, when the user cancels the import, we optimistically update the in-memory state and mark the import as cancelled. As soon as the backed gets to it, it'll then cancel the import and delete the community. \r\n\r\nSo I think for now this can be considered done.\r\n\r\nThere's still the issue though that, it **could** happen the cancellation hasn't happened **yet** and users can then close the app which would leave it in a weird state.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1289190189/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
