{
  "url": "https://api.github.com/repos/status-im/status-desktop/issues/9361",
  "repository_url": "https://api.github.com/repos/status-im/status-desktop",
  "labels_url": "https://api.github.com/repos/status-im/status-desktop/issues/9361/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-desktop/issues/9361/comments",
  "events_url": "https://api.github.com/repos/status-im/status-desktop/issues/9361/events",
  "html_url": "https://github.com/status-im/status-desktop/issues/9361",
  "id": 1562681610,
  "node_id": "I_kwDOD5KrTM5dJKEK",
  "number": 9361,
  "title": "messenger: sometimes history is not fetched",
  "user": {
    "login": "caybro",
    "id": 5377645,
    "node_id": "MDQ6VXNlcjUzNzc2NDU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5377645?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/caybro",
    "html_url": "https://github.com/caybro",
    "followers_url": "https://api.github.com/users/caybro/followers",
    "following_url": "https://api.github.com/users/caybro/following{/other_user}",
    "gists_url": "https://api.github.com/users/caybro/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/caybro/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/caybro/subscriptions",
    "organizations_url": "https://api.github.com/users/caybro/orgs",
    "repos_url": "https://api.github.com/users/caybro/repos",
    "events_url": "https://api.github.com/users/caybro/events{/privacy}",
    "received_events_url": "https://api.github.com/users/caybro/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 2036563458,
      "node_id": "MDU6TGFiZWwyMDM2NTYzNDU4",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/bug",
      "name": "bug",
      "color": "d73a4a",
      "default": true,
      "description": "Something isn't working"
    },
    {
      "id": 3205510054,
      "node_id": "MDU6TGFiZWwzMjA1NTEwMDU0",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/priority%201:%20high",
      "name": "priority 1: high",
      "color": "D93F0B",
      "default": false,
      "description": "an issue that is extremely important to fix, that interferes with the majority of users, occurs ofte"
    },
    {
      "id": 4548141040,
      "node_id": "LA_kwDOD5KrTM8AAAABDxcf8A",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/messenger-team",
      "name": "messenger-team",
      "color": "232858",
      "default": false,
      "description": ""
    },
    {
      "id": 4615213702,
      "node_id": "LA_kwDOD5KrTM8AAAABExaShg",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/cherry_picked",
      "name": "cherry_picked",
      "color": "682653",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "0x-r4bbit",
    "id": 445106,
    "node_id": "MDQ6VXNlcjQ0NTEwNg==",
    "avatar_url": "https://avatars.githubusercontent.com/u/445106?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/0x-r4bbit",
    "html_url": "https://github.com/0x-r4bbit",
    "followers_url": "https://api.github.com/users/0x-r4bbit/followers",
    "following_url": "https://api.github.com/users/0x-r4bbit/following{/other_user}",
    "gists_url": "https://api.github.com/users/0x-r4bbit/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/0x-r4bbit/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/0x-r4bbit/subscriptions",
    "organizations_url": "https://api.github.com/users/0x-r4bbit/orgs",
    "repos_url": "https://api.github.com/users/0x-r4bbit/repos",
    "events_url": "https://api.github.com/users/0x-r4bbit/events{/privacy}",
    "received_events_url": "https://api.github.com/users/0x-r4bbit/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "osmaczko",
      "id": 33099791,
      "node_id": "MDQ6VXNlcjMzMDk5Nzkx",
      "avatar_url": "https://avatars.githubusercontent.com/u/33099791?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/osmaczko",
      "html_url": "https://github.com/osmaczko",
      "followers_url": "https://api.github.com/users/osmaczko/followers",
      "following_url": "https://api.github.com/users/osmaczko/following{/other_user}",
      "gists_url": "https://api.github.com/users/osmaczko/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/osmaczko/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/osmaczko/subscriptions",
      "organizations_url": "https://api.github.com/users/osmaczko/orgs",
      "repos_url": "https://api.github.com/users/osmaczko/repos",
      "events_url": "https://api.github.com/users/osmaczko/events{/privacy}",
      "received_events_url": "https://api.github.com/users/osmaczko/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": {
    "url": "https://api.github.com/repos/status-im/status-desktop/milestones/55",
    "html_url": "https://github.com/status-im/status-desktop/milestone/55",
    "labels_url": "https://api.github.com/repos/status-im/status-desktop/milestones/55/labels",
    "id": 8475711,
    "node_id": "MI_kwDOD5KrTM4AgVQ_",
    "number": 55,
    "title": "0.11.0",
    "description": "Communities:\r\n- Token Based Functionality\r\n\r\nGeneral:\r\n- User Profile showcase\r\n",
    "creator": {
      "login": "iurimatias",
      "id": 176720,
      "node_id": "MDQ6VXNlcjE3NjcyMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/176720?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/iurimatias",
      "html_url": "https://github.com/iurimatias",
      "followers_url": "https://api.github.com/users/iurimatias/followers",
      "following_url": "https://api.github.com/users/iurimatias/following{/other_user}",
      "gists_url": "https://api.github.com/users/iurimatias/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/iurimatias/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iurimatias/subscriptions",
      "organizations_url": "https://api.github.com/users/iurimatias/orgs",
      "repos_url": "https://api.github.com/users/iurimatias/repos",
      "events_url": "https://api.github.com/users/iurimatias/events{/privacy}",
      "received_events_url": "https://api.github.com/users/iurimatias/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 0,
    "closed_issues": 193,
    "state": "closed",
    "created_at": "2022-09-28T20:32:13Z",
    "updated_at": "2023-05-24T09:07:07Z",
    "due_on": "2023-03-24T07:00:00Z",
    "closed_at": "2023-04-24T18:15:13Z"
  },
  "comments": 13,
  "created_at": "2023-01-30T15:37:38Z",
  "updated_at": "2023-02-20T17:13:37Z",
  "closed_at": "2023-02-14T15:01:02Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "# Bug Report\r\n\r\nSometimes, right after startup, only very recent message(s) is displayed but history is empty. On another start, history is back to normal\r\n\r\nEmpty history:\r\n![Snímek obrazovky z 2023-01-30 16-31-30](https://user-images.githubusercontent.com/5377645/215521800-fcd2102c-7ae5-45d6-86bc-7b615455a8db.png)\r\n\r\nCorrect history:\r\n![Snímek obrazovky z 2023-01-30 16-34-37](https://user-images.githubusercontent.com/5377645/215521809-bb0d92e0-8573-4469-80df-4fc9c4e864e0.png)\r\n\r\n### Additional Information\r\n\r\n- Status desktop version: master\r\n- Operating System: linux\r\n",
  "closed_by": {
    "login": "osmaczko",
    "id": 33099791,
    "node_id": "MDQ6VXNlcjMzMDk5Nzkx",
    "avatar_url": "https://avatars.githubusercontent.com/u/33099791?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/osmaczko",
    "html_url": "https://github.com/osmaczko",
    "followers_url": "https://api.github.com/users/osmaczko/followers",
    "following_url": "https://api.github.com/users/osmaczko/following{/other_user}",
    "gists_url": "https://api.github.com/users/osmaczko/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/osmaczko/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/osmaczko/subscriptions",
    "organizations_url": "https://api.github.com/users/osmaczko/orgs",
    "repos_url": "https://api.github.com/users/osmaczko/repos",
    "events_url": "https://api.github.com/users/osmaczko/events{/privacy}",
    "received_events_url": "https://api.github.com/users/osmaczko/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/9361/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-desktop/issues/9361/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1410105963",
    "html_url": "https://github.com/status-im/status-desktop/issues/9361#issuecomment-1410105963",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/9361",
    "id": 1410105963,
    "node_id": "IC_kwDOD5KrTM5UDIJr",
    "user": {
      "login": "0x-r4bbit",
      "id": 445106,
      "node_id": "MDQ6VXNlcjQ0NTEwNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/445106?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/0x-r4bbit",
      "html_url": "https://github.com/0x-r4bbit",
      "followers_url": "https://api.github.com/users/0x-r4bbit/followers",
      "following_url": "https://api.github.com/users/0x-r4bbit/following{/other_user}",
      "gists_url": "https://api.github.com/users/0x-r4bbit/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/0x-r4bbit/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/0x-r4bbit/subscriptions",
      "organizations_url": "https://api.github.com/users/0x-r4bbit/orgs",
      "repos_url": "https://api.github.com/users/0x-r4bbit/repos",
      "events_url": "https://api.github.com/users/0x-r4bbit/events{/privacy}",
      "received_events_url": "https://api.github.com/users/0x-r4bbit/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-31T10:23:50Z",
    "updated_at": "2023-01-31T10:23:50Z",
    "author_association": "MEMBER",
    "body": "@caybro I'm having trouble reproducing this. Anything in particular that needs to be done other than restarting the app and hoping that the history doesn't show up?\r\n\r\nFor me it always shows up. Tested this with community channels and group chats",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1410105963/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1410274129",
    "html_url": "https://github.com/status-im/status-desktop/issues/9361#issuecomment-1410274129",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/9361",
    "id": 1410274129,
    "node_id": "IC_kwDOD5KrTM5UDxNR",
    "user": {
      "login": "caybro",
      "id": 5377645,
      "node_id": "MDQ6VXNlcjUzNzc2NDU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5377645?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/caybro",
      "html_url": "https://github.com/caybro",
      "followers_url": "https://api.github.com/users/caybro/followers",
      "following_url": "https://api.github.com/users/caybro/following{/other_user}",
      "gists_url": "https://api.github.com/users/caybro/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/caybro/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/caybro/subscriptions",
      "organizations_url": "https://api.github.com/users/caybro/orgs",
      "repos_url": "https://api.github.com/users/caybro/repos",
      "events_url": "https://api.github.com/users/caybro/events{/privacy}",
      "received_events_url": "https://api.github.com/users/caybro/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-31T12:39:05Z",
    "updated_at": "2023-01-31T12:39:05Z",
    "author_association": "MEMBER",
    "body": "> @caybro I'm having trouble reproducing this. Anything in particular that needs to be done other than restarting the app and hoping that the history doesn't show up?\r\n> \r\n> For me it always shows up. Tested this with community channels and group chats\r\n\r\nHmm no, nothing in particular to reproduce this :/",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1410274129/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1410287549",
    "html_url": "https://github.com/status-im/status-desktop/issues/9361#issuecomment-1410287549",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/9361",
    "id": 1410287549,
    "node_id": "IC_kwDOD5KrTM5UD0e9",
    "user": {
      "login": "richard-ramos",
      "id": 1106587,
      "node_id": "MDQ6VXNlcjExMDY1ODc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1106587?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/richard-ramos",
      "html_url": "https://github.com/richard-ramos",
      "followers_url": "https://api.github.com/users/richard-ramos/followers",
      "following_url": "https://api.github.com/users/richard-ramos/following{/other_user}",
      "gists_url": "https://api.github.com/users/richard-ramos/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/richard-ramos/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/richard-ramos/subscriptions",
      "organizations_url": "https://api.github.com/users/richard-ramos/orgs",
      "repos_url": "https://api.github.com/users/richard-ramos/repos",
      "events_url": "https://api.github.com/users/richard-ramos/events{/privacy}",
      "received_events_url": "https://api.github.com/users/richard-ramos/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-31T12:49:31Z",
    "updated_at": "2023-01-31T12:49:31Z",
    "author_association": "MEMBER",
    "body": "In the logs for desktop do you see logs like these?\r\n```\r\nINF 2023-01-31 08:30:15.187-04:00 active mailserver changed                  topics=\"mailservers-service\" tid=1784795 file=service.nim:163 node=/dns4/node-01.gc-us-central1-a.status.prod.statusim.net/tcp/30303/p2p/16Uiu2HAkwBp8T6G77kQXSNMnxgaMky1JeyML5yqoTHRM8dbeCBNb\r\nINF 2023-01-31 08:30:15.193-04:00 mailserver available                       topics=\"mailservers-service\" tid=1784795 file=service.nim:168\r\nMAILSERVER AVAILABLE: ref 0x7fef397650d8 --> []\r\n\r\nINF 2023-01-31 08:30:15.194-04:00 history request started                    topics=\"mailservers-service\" tid=1784795 file=service.nim:178 numBatches=4\r\n```\r\nand/or `history request completed`, `history request failed`, `history request success` ?",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1410287549/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1410340577",
    "html_url": "https://github.com/status-im/status-desktop/issues/9361#issuecomment-1410340577",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/9361",
    "id": 1410340577,
    "node_id": "IC_kwDOD5KrTM5UEBbh",
    "user": {
      "login": "caybro",
      "id": 5377645,
      "node_id": "MDQ6VXNlcjUzNzc2NDU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5377645?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/caybro",
      "html_url": "https://github.com/caybro",
      "followers_url": "https://api.github.com/users/caybro/followers",
      "following_url": "https://api.github.com/users/caybro/following{/other_user}",
      "gists_url": "https://api.github.com/users/caybro/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/caybro/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/caybro/subscriptions",
      "organizations_url": "https://api.github.com/users/caybro/orgs",
      "repos_url": "https://api.github.com/users/caybro/repos",
      "events_url": "https://api.github.com/users/caybro/events{/privacy}",
      "received_events_url": "https://api.github.com/users/caybro/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-31T13:19:49Z",
    "updated_at": "2023-01-31T13:19:49Z",
    "author_association": "MEMBER",
    "body": "> In the logs for desktop do you see logs like these?\r\n> \r\n> ```\r\n> INF 2023-01-31 08:30:15.187-04:00 active mailserver changed                  topics=\"mailservers-service\" tid=1784795 file=service.nim:163 node=/dns4/node-01.gc-us-central1-a.status.prod.statusim.net/tcp/30303/p2p/16Uiu2HAkwBp8T6G77kQXSNMnxgaMky1JeyML5yqoTHRM8dbeCBNb\r\n> INF 2023-01-31 08:30:15.193-04:00 mailserver available                       topics=\"mailservers-service\" tid=1784795 file=service.nim:168\r\n> MAILSERVER AVAILABLE: ref 0x7fef397650d8 --> []\r\n> \r\n> INF 2023-01-31 08:30:15.194-04:00 history request started                    topics=\"mailservers-service\" tid=1784795 file=service.nim:178 numBatches=4\r\n> ```\r\n> \r\n> and/or `history request completed`, `history request failed`, `history request success` ?\r\n\r\n@richard-ramos yup (some of the logs might be unrelated but pasting it entirely):\r\n```\r\nINF 2023-01-31 14:16:47.034+01:00 history request started                    topics=\"mailservers-service\" tid=57741 file=service.nim:178 numBatches=4\r\n2023-01-31T14:16:47.834+0100\tWARN\tnet/identify\tidentify/peer_loop.go:93\tfailed to send Identify Push\t{\"peer\": \"16Uiu2HAmDXqkk5jopVd1Gbx2ZkRn5BN52C6xKzQfKvA3J5SiBeLr\", \"error\": \"failed to open push stream: transient connection to peer\"}\r\n2023-01-31T14:16:47.834+0100\tWARN\tnet/identify\tidentify/peer_loop.go:93\tfailed to send Identify Push\t{\"peer\": \"16Uiu2HAmS7c6cenFkN47aZMadL8Y1XcwGn5ohELR7AjDtcUj1Avn\", \"error\": \"failed to open push stream: transient connection to peer\"}\r\n2023-01-31T14:16:50.208+0100\tINFO\tnet/identify\tidentify/id.go:369\tfailed negotiate identify protocol with peer\t{\"peer\": \"16Uiu2HAm6NozKZJwkC2kC9G23fe5fbfkMBHUoCQJxLJU6hD8YLcz\", \"error\": \"stream reset\"}\r\n2023-01-31T14:16:50.208+0100\tINFO\tnet/identify\tidentify/id.go:369\tfailed negotiate identify protocol with peer\t{\"peer\": \"16Uiu2HAm6NozKZJwkC2kC9G23fe5fbfkMBHUoCQJxLJU6hD8YLcz\", \"error\": \"stream reset\"}\r\n2023-01-31T14:16:50.208+0100\tWARN\tnet/identify\tidentify/id.go:334\tfailed to identify 16Uiu2HAm6NozKZJwkC2kC9G23fe5fbfkMBHUoCQJxLJU6hD8YLcz: stream reset\r\n2023-01-31T14:16:50.208+0100\tWARN\tnet/identify\tidentify/id.go:334\tfailed to identify 16Uiu2HAm6NozKZJwkC2kC9G23fe5fbfkMBHUoCQJxLJU6hD8YLcz: stream reset\r\n2023-01-31T14:16:50.208+0100\tWARN\tnet/identify\tidentify/peer_loop.go:93\tfailed to send Identify Push\t{\"peer\": \"16Uiu2HAm6NozKZJwkC2kC9G23fe5fbfkMBHUoCQJxLJU6hD8YLcz\", \"error\": \"failed to open push stream: no usable connection to peer\"}\r\nINF 2023-01-31 14:16:50.211+01:00 history request failed                     topics=\"mailservers-service\" tid=57741 file=service.nim:188 requestId=4fe9557b34e0b798864808da6f80fbec734f86846865d8a4b017abdd04ca842f peerId=16Uiu2HAmSve7tR5YZugpskMv2dmJAsMUKmfWYEKRXNUxRaTCnsXV errorMessage=\"stream reset\"\r\nINF 2023-01-31 14:16:50.225+01:00 mailserver not working                     topics=\"mailservers-service\" tid=57741 file=service.nim:173\r\nINF 2023-01-31 14:16:50.225+01:00 removing active mailserver                 topics=\"mailservers-service\" tid=57741 file=service.nim:161\r\n2023-01-31T14:16:50.327+0100\tINFO\tnet/identify\tidentify/id.go:369\tfailed negotiate identify protocol with peer\t{\"peer\": \"16Uiu2HAm3VfcKjvavLTHCVaH3swJM4EW9y8sA11eaNN3TLHLVrKS\", \"error\": \"stream reset\"}\r\n2023-01-31T14:16:50.327+0100\tINFO\tnet/identify\tidentify/id.go:369\tfailed negotiate identify protocol with peer\t{\"peer\": \"16Uiu2HAm3VfcKjvavLTHCVaH3swJM4EW9y8sA11eaNN3TLHLVrKS\", \"error\": \"stream reset\"}\r\n2023-01-31T14:16:50.327+0100\tWARN\tnet/identify\tidentify/id.go:334\tfailed to identify 16Uiu2HAm3VfcKjvavLTHCVaH3swJM4EW9y8sA11eaNN3TLHLVrKS: stream reset\r\n2023-01-31T14:16:50.327+0100\tWARN\tnet/identify\tidentify/id.go:334\tfailed to identify 16Uiu2HAm3VfcKjvavLTHCVaH3swJM4EW9y8sA11eaNN3TLHLVrKS: stream reset\r\nINF 2023-01-31 14:16:50.725+01:00 active mailserver changed                  topics=\"mailservers-service\" tid=57741 file=service.nim:163 node=/dns4/node-01.do-ams3.status.prod.statusim.net/tcp/30303/p2p/16Uiu2HAm6HZZr7aToTvEBPpiys4UxajCTU97zj5v7RNR2gbniy1D\r\nACTIVE MAILSERVER CHANGED: ref 0x7fbdfd6f5968 --> [nodeAddress = 0x7fbd33afbba0\"/dns4/node-01.do-ams3.status.prod.statusim.net/tcp/30303/p2p/16Uiu2HAm6HZZr7aToTvEBPpiys4UxajCTU97zj5v7RNR2gbniy1D\"]\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1410340577/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1410347129",
    "html_url": "https://github.com/status-im/status-desktop/issues/9361#issuecomment-1410347129",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/9361",
    "id": 1410347129,
    "node_id": "IC_kwDOD5KrTM5UEDB5",
    "user": {
      "login": "richard-ramos",
      "id": 1106587,
      "node_id": "MDQ6VXNlcjExMDY1ODc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1106587?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/richard-ramos",
      "html_url": "https://github.com/richard-ramos",
      "followers_url": "https://api.github.com/users/richard-ramos/followers",
      "following_url": "https://api.github.com/users/richard-ramos/following{/other_user}",
      "gists_url": "https://api.github.com/users/richard-ramos/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/richard-ramos/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/richard-ramos/subscriptions",
      "organizations_url": "https://api.github.com/users/richard-ramos/orgs",
      "repos_url": "https://api.github.com/users/richard-ramos/repos",
      "events_url": "https://api.github.com/users/richard-ramos/events{/privacy}",
      "received_events_url": "https://api.github.com/users/richard-ramos/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-31T13:24:36Z",
    "updated_at": "2023-01-31T13:24:55Z",
    "author_association": "MEMBER",
    "body": "Would be interesting to see why this `stream reset` happened:\r\n```\r\nINF 2023-01-31 14:16:50.211+01:00 history request failed                     topics=\"mailservers-service\" tid=57741 file=service.nim:188 requestId=4fe9557b34e0b798864808da6f80fbec734f86846865d8a4b017abdd04ca842f peerId=16Uiu2HAmSve7tR5YZugpskMv2dmJAsMUKmfWYEKRXNUxRaTCnsXV errorMessage=\"stream reset\"\r\n```\r\n\r\nI'll look in kibana",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1410347129/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1410376588",
    "html_url": "https://github.com/status-im/status-desktop/issues/9361#issuecomment-1410376588",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/9361",
    "id": 1410376588,
    "node_id": "IC_kwDOD5KrTM5UEKOM",
    "user": {
      "login": "richard-ramos",
      "id": 1106587,
      "node_id": "MDQ6VXNlcjExMDY1ODc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1106587?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/richard-ramos",
      "html_url": "https://github.com/richard-ramos",
      "followers_url": "https://api.github.com/users/richard-ramos/followers",
      "following_url": "https://api.github.com/users/richard-ramos/following{/other_user}",
      "gists_url": "https://api.github.com/users/richard-ramos/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/richard-ramos/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/richard-ramos/subscriptions",
      "organizations_url": "https://api.github.com/users/richard-ramos/orgs",
      "repos_url": "https://api.github.com/users/richard-ramos/repos",
      "events_url": "https://api.github.com/users/richard-ramos/events{/privacy}",
      "received_events_url": "https://api.github.com/users/richard-ramos/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-31T13:39:30Z",
    "updated_at": "2023-01-31T13:39:30Z",
    "author_association": "MEMBER",
    "body": " I could not find logs in kibana related to the history request `4fe9557b34e0b798864808da6f80fbec734f86846865d8a4b017abdd04ca842f` for the peer \r\n```\r\n/dns4/node-02.do-ams3.status.prod.statusim.net/tcp/30303/p2p/16Uiu2HAmSve7tR5YZugpskMv2dmJAsMUKmfWYEKRXNUxRaTCnsXV\" \r\n```\r\n\r\nInterestingly enough there are a few `stream reset` in the logs you shared. Is your internet connection estable / are you using desktop behind a VPN or firewall?",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1410376588/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1410379754",
    "html_url": "https://github.com/status-im/status-desktop/issues/9361#issuecomment-1410379754",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/9361",
    "id": 1410379754,
    "node_id": "IC_kwDOD5KrTM5UEK_q",
    "user": {
      "login": "richard-ramos",
      "id": 1106587,
      "node_id": "MDQ6VXNlcjExMDY1ODc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1106587?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/richard-ramos",
      "html_url": "https://github.com/richard-ramos",
      "followers_url": "https://api.github.com/users/richard-ramos/followers",
      "following_url": "https://api.github.com/users/richard-ramos/following{/other_user}",
      "gists_url": "https://api.github.com/users/richard-ramos/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/richard-ramos/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/richard-ramos/subscriptions",
      "organizations_url": "https://api.github.com/users/richard-ramos/orgs",
      "repos_url": "https://api.github.com/users/richard-ramos/repos",
      "events_url": "https://api.github.com/users/richard-ramos/events{/privacy}",
      "received_events_url": "https://api.github.com/users/richard-ramos/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-31T13:41:36Z",
    "updated_at": "2023-01-31T13:41:36Z",
    "author_association": "MEMBER",
    "body": "cc: @LNSD for additional ideas to debug this in case the other stream resets are part of normal operation (i do get few of those too for peers i could not connect to)",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1410379754/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1410393566",
    "html_url": "https://github.com/status-im/status-desktop/issues/9361#issuecomment-1410393566",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/9361",
    "id": 1410393566,
    "node_id": "IC_kwDOD5KrTM5UEOXe",
    "user": {
      "login": "LNSD",
      "id": 3949095,
      "node_id": "MDQ6VXNlcjM5NDkwOTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3949095?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/LNSD",
      "html_url": "https://github.com/LNSD",
      "followers_url": "https://api.github.com/users/LNSD/followers",
      "following_url": "https://api.github.com/users/LNSD/following{/other_user}",
      "gists_url": "https://api.github.com/users/LNSD/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/LNSD/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/LNSD/subscriptions",
      "organizations_url": "https://api.github.com/users/LNSD/orgs",
      "repos_url": "https://api.github.com/users/LNSD/repos",
      "events_url": "https://api.github.com/users/LNSD/events{/privacy}",
      "received_events_url": "https://api.github.com/users/LNSD/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-31T13:50:24Z",
    "updated_at": "2023-01-31T13:50:47Z",
    "author_association": "NONE",
    "body": "If the query ID does not appear in the Kibana logs, then the nodes did not receive the query.\r\n\r\n@richard-ramos check the moment the queries happened and cross-check with the Grafana dashboard to see any anomalous behaviour (CPU peak, connection errors peak, Waku Store queries peak, etc.). \r\n\r\nThere are several reasons for a stream to reset (e.g., reaching the nwaku node's maximum concurrent connections limit).",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1410393566/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1411951114",
    "html_url": "https://github.com/status-im/status-desktop/issues/9361#issuecomment-1411951114",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/9361",
    "id": 1411951114,
    "node_id": "IC_kwDOD5KrTM5UKKoK",
    "user": {
      "login": "caybro",
      "id": 5377645,
      "node_id": "MDQ6VXNlcjUzNzc2NDU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5377645?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/caybro",
      "html_url": "https://github.com/caybro",
      "followers_url": "https://api.github.com/users/caybro/followers",
      "following_url": "https://api.github.com/users/caybro/following{/other_user}",
      "gists_url": "https://api.github.com/users/caybro/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/caybro/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/caybro/subscriptions",
      "organizations_url": "https://api.github.com/users/caybro/orgs",
      "repos_url": "https://api.github.com/users/caybro/repos",
      "events_url": "https://api.github.com/users/caybro/events{/privacy}",
      "received_events_url": "https://api.github.com/users/caybro/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-01T12:06:20Z",
    "updated_at": "2023-02-01T12:06:20Z",
    "author_association": "MEMBER",
    "body": "@0x-r4bbit I found a pattern here: this issue happens upon startup with the \"new messages marker\"; so if the channel in question has some new, only those will be displayed, and nothing else. Upon next startup, the history appears correctly as there are no new/missed messages",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1411951114/reactions",
      "total_count": 2,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 1
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1411985965",
    "html_url": "https://github.com/status-im/status-desktop/issues/9361#issuecomment-1411985965",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/9361",
    "id": 1411985965,
    "node_id": "IC_kwDOD5KrTM5UKTIt",
    "user": {
      "login": "caybro",
      "id": 5377645,
      "node_id": "MDQ6VXNlcjUzNzc2NDU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5377645?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/caybro",
      "html_url": "https://github.com/caybro",
      "followers_url": "https://api.github.com/users/caybro/followers",
      "following_url": "https://api.github.com/users/caybro/following{/other_user}",
      "gists_url": "https://api.github.com/users/caybro/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/caybro/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/caybro/subscriptions",
      "organizations_url": "https://api.github.com/users/caybro/orgs",
      "repos_url": "https://api.github.com/users/caybro/repos",
      "events_url": "https://api.github.com/users/caybro/events{/privacy}",
      "received_events_url": "https://api.github.com/users/caybro/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-01T12:33:39Z",
    "updated_at": "2023-02-01T12:33:39Z",
    "author_association": "MEMBER",
    "body": "To illustrate that, here's the only new message (a reply in fact) with its corresponding original message, and a few days gap in between:\r\n\r\n![image](https://user-images.githubusercontent.com/5377645/216043490-33928c79-60be-478a-a20c-f934070e6659.png)\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1411985965/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1424191220",
    "html_url": "https://github.com/status-im/status-desktop/issues/9361#issuecomment-1424191220",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/9361",
    "id": 1424191220,
    "node_id": "IC_kwDOD5KrTM5U4270",
    "user": {
      "login": "anastasiyaig",
      "id": 82375995,
      "node_id": "MDQ6VXNlcjgyMzc1OTk1",
      "avatar_url": "https://avatars.githubusercontent.com/u/82375995?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/anastasiyaig",
      "html_url": "https://github.com/anastasiyaig",
      "followers_url": "https://api.github.com/users/anastasiyaig/followers",
      "following_url": "https://api.github.com/users/anastasiyaig/following{/other_user}",
      "gists_url": "https://api.github.com/users/anastasiyaig/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/anastasiyaig/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/anastasiyaig/subscriptions",
      "organizations_url": "https://api.github.com/users/anastasiyaig/orgs",
      "repos_url": "https://api.github.com/users/anastasiyaig/repos",
      "events_url": "https://api.github.com/users/anastasiyaig/events{/privacy}",
      "received_events_url": "https://api.github.com/users/anastasiyaig/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-09T13:26:46Z",
    "updated_at": "2023-02-09T13:26:46Z",
    "author_association": "CONTRIBUTOR",
    "body": "I have just reproduced that. I had some messages in several groups. Then i restarted the app and all history is gone apart of 3-4 messages from today (the recent ones)\r\n\r\n<img width=\"1541\" alt=\"Screenshot 2023-02-09 at 16 05 55\" src=\"https://user-images.githubusercontent.com/82375995/217820908-95029fd6-0fb0-4732-b2ac-1cc7096e3f84.png\">\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1424191220/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1424273761",
    "html_url": "https://github.com/status-im/status-desktop/issues/9361#issuecomment-1424273761",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/9361",
    "id": 1424273761,
    "node_id": "IC_kwDOD5KrTM5U5LFh",
    "user": {
      "login": "jrainville",
      "id": 11926403,
      "node_id": "MDQ6VXNlcjExOTI2NDAz",
      "avatar_url": "https://avatars.githubusercontent.com/u/11926403?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jrainville",
      "html_url": "https://github.com/jrainville",
      "followers_url": "https://api.github.com/users/jrainville/followers",
      "following_url": "https://api.github.com/users/jrainville/following{/other_user}",
      "gists_url": "https://api.github.com/users/jrainville/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jrainville/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jrainville/subscriptions",
      "organizations_url": "https://api.github.com/users/jrainville/orgs",
      "repos_url": "https://api.github.com/users/jrainville/repos",
      "events_url": "https://api.github.com/users/jrainville/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jrainville/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-09T14:26:23Z",
    "updated_at": "2023-02-09T14:26:23Z",
    "author_association": "MEMBER",
    "body": "A couple of us are having it today 0.10 RC5 for me.\r\n\r\nThe scroll up not getting the old DB messages is the most annoying part",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1424273761/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1425905486",
    "html_url": "https://github.com/status-im/status-desktop/issues/9361#issuecomment-1425905486",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/9361",
    "id": 1425905486,
    "node_id": "IC_kwDOD5KrTM5U_ZdO",
    "user": {
      "login": "jrainville",
      "id": 11926403,
      "node_id": "MDQ6VXNlcjExOTI2NDAz",
      "avatar_url": "https://avatars.githubusercontent.com/u/11926403?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jrainville",
      "html_url": "https://github.com/jrainville",
      "followers_url": "https://api.github.com/users/jrainville/followers",
      "following_url": "https://api.github.com/users/jrainville/following{/other_user}",
      "gists_url": "https://api.github.com/users/jrainville/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jrainville/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jrainville/subscriptions",
      "organizations_url": "https://api.github.com/users/jrainville/orgs",
      "repos_url": "https://api.github.com/users/jrainville/repos",
      "events_url": "https://api.github.com/users/jrainville/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jrainville/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-02-10T14:44:10Z",
    "updated_at": "2023-02-10T14:44:10Z",
    "author_association": "MEMBER",
    "body": "Assigning to @osmaczko since he could reproduce and he probably has a clue what could be causing it. Also, Pascal is gonna help with community permission",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1425905486/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
