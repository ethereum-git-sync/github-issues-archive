{
  "url": "https://api.github.com/repos/status-im/status-desktop/issues/8560",
  "repository_url": "https://api.github.com/repos/status-im/status-desktop",
  "labels_url": "https://api.github.com/repos/status-im/status-desktop/issues/8560/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-desktop/issues/8560/comments",
  "events_url": "https://api.github.com/repos/status-im/status-desktop/issues/8560/events",
  "html_url": "https://github.com/status-im/status-desktop/issues/8560",
  "id": 1472143996,
  "node_id": "I_kwDOD5KrTM5XvyJ8",
  "number": 8560,
  "title": "Chat: the incorrect GIF address doesn't look good",
  "user": {
    "login": "elina2015",
    "id": 14942081,
    "node_id": "MDQ6VXNlcjE0OTQyMDgx",
    "avatar_url": "https://avatars.githubusercontent.com/u/14942081?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/elina2015",
    "html_url": "https://github.com/elina2015",
    "followers_url": "https://api.github.com/users/elina2015/followers",
    "following_url": "https://api.github.com/users/elina2015/following{/other_user}",
    "gists_url": "https://api.github.com/users/elina2015/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/elina2015/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/elina2015/subscriptions",
    "organizations_url": "https://api.github.com/users/elina2015/orgs",
    "repos_url": "https://api.github.com/users/elina2015/repos",
    "events_url": "https://api.github.com/users/elina2015/events{/privacy}",
    "received_events_url": "https://api.github.com/users/elina2015/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 2036563458,
      "node_id": "MDU6TGFiZWwyMDM2NTYzNDU4",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/bug",
      "name": "bug",
      "color": "d73a4a",
      "default": true,
      "description": "Something isn't working"
    },
    {
      "id": 2347610790,
      "node_id": "MDU6TGFiZWwyMzQ3NjEwNzkw",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/Chat",
      "name": "Chat",
      "color": "9279e0",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": {
    "login": "mprakhov",
    "id": 117639195,
    "node_id": "U_kgDOBwMIGw",
    "avatar_url": "https://avatars.githubusercontent.com/u/117639195?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/mprakhov",
    "html_url": "https://github.com/mprakhov",
    "followers_url": "https://api.github.com/users/mprakhov/followers",
    "following_url": "https://api.github.com/users/mprakhov/following{/other_user}",
    "gists_url": "https://api.github.com/users/mprakhov/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/mprakhov/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mprakhov/subscriptions",
    "organizations_url": "https://api.github.com/users/mprakhov/orgs",
    "repos_url": "https://api.github.com/users/mprakhov/repos",
    "events_url": "https://api.github.com/users/mprakhov/events{/privacy}",
    "received_events_url": "https://api.github.com/users/mprakhov/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [

  ],
  "milestone": {
    "url": "https://api.github.com/repos/status-im/status-desktop/milestones/64",
    "html_url": "https://github.com/status-im/status-desktop/milestone/64",
    "labels_url": "https://api.github.com/repos/status-im/status-desktop/milestones/64/labels",
    "id": 9039503,
    "node_id": "MI_kwDOD5KrTM4Aie6P",
    "number": 64,
    "title": "0.13",
    "description": "Priorities **in priority order** for the 0.13 milestone:\r\n\r\n**1. Finish items started in 0.12**\r\n- Complete any outstanding issues related to pairing (for syncing) - Igor\r\n- Implement the 'Admin' role (issue #10114) - Mykhailo\r\n- 'Featured' category curation via curation dApp - Patryk\r\n- Any remaining work to pay off tech. debt related to mutual contacts - Mishka\r\n- When creating/editing token based permission, ability to search for and selecting Collectables from OpenSea - MichaelC\r\n\r\n**2. Channel token permissions**\r\n- Create, edit and delete channel token permissions in the permissions admin screens\r\n- This includes the \"no tokens required to view this channel\" permission\r\n- All user facing channel token permissions functionality e.g. what happens when a user tries to access a token gated channel they don't have the required tokens to access, what happens when a user only has permissions to view a channel, etc...\r\n- If a community is an open (not token gated at the community level) community, if a channel is token gated AND if **no** \"no tokens required to view this channel\" permission for that channel exists, then the channel should be automatically encrypted.  If token gating is removed from a channel, the channel should become unencrypted.\r\n- Asset (ERC-20) minting and airdropping functionality - GravityBlast\r\n\r\n**3. Add some type of cache in front of sqlite to ensure that writes don't block reads (Patryk?)**\r\n- It has been discovered that one of the causes of sometimes slow channel switching is that writes to sqlite block reads, and this is the cause of slow channel switching in many cases\r\n- Investigate the feasibility of (and if feasible implement) a general purpose cache for sqlite writes, which caches sqlite writes and then only writes them to sqlite in small chunks when no read operations are taking place (so that read operations are always prioritized, and not interrupted by writes).  Such a cache should cache all or almost all write requests from all areas of status-go\r\n\r\n**_OR_**\r\n\r\n- Perhaps it's time to bite the bullet and start the work needed to migrate both Status Desktop and Status Mobile from using sqlite to using PostgreSQL?\r\n\r\n**_OR_**\r\n\r\n- Perhaps there are some other possible solutions to this issue that should be explored before embarking on either of these large items?\r\n\r\n**4. Update app to use new 'Share URL' formats**\r\n- add functionality to status-go to generate the new 'Share URL' formats for sharing links to: User Profiles, Communities, Channel inside a Community\r\n- Update everywhere a user can share a URL from to use the new URL format\r\n- Ability to share a URL that points to a specific channel in a community (issue #10160)\r\n- Update all address inputs to accept a user pasting a 'share URL' into the input (in addition to being able to input the raw address).  This includes: Start new chat input, send contact request input in Settings, the import community key input, etc...\r\n- Update Status Desktops URL handler so that if Status is installed on a computer, when a user clicks on a Status 'Share URL' the app is launched (if not already running) and after signing in the user is automatically taken to the entity the Share URL represented inside the app.  e.g. if a user clicks on a URL for a Status Community, the user should be taken to the home screen for that community inside the Status App\r\n\r\n**5. Profile showcase backend***\r\n\r\n**6. Fix bugs, bugs and more bugs!**\r\n- The 0.13 release is targeted to be Status Desktop's first \"beta\" release, and the first release of Status Desktop that will be used by people outside of the Status Org.  So we want this release to be the best possible quality so it makes a good first impression  \r\n\r\n\r\n\r\n**--- For the Wallet team ---**\r\n\r\n1. Complete any outstanding development related to the activity screens\r\n2. New settings screens\r\n3. Fix 'backup from waku' bugs\r\n4. Fix keycard bugs\r\n5. Implement 'imported key and account' syncing and transfer between devices\r\n6. Transaction signing dialogue (if designs are ready)\r\n\r\n",
    "creator": {
      "login": "iurimatias",
      "id": 176720,
      "node_id": "MDQ6VXNlcjE3NjcyMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/176720?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/iurimatias",
      "html_url": "https://github.com/iurimatias",
      "followers_url": "https://api.github.com/users/iurimatias/followers",
      "following_url": "https://api.github.com/users/iurimatias/following{/other_user}",
      "gists_url": "https://api.github.com/users/iurimatias/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/iurimatias/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iurimatias/subscriptions",
      "organizations_url": "https://api.github.com/users/iurimatias/orgs",
      "repos_url": "https://api.github.com/users/iurimatias/repos",
      "events_url": "https://api.github.com/users/iurimatias/events{/privacy}",
      "received_events_url": "https://api.github.com/users/iurimatias/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 74,
    "closed_issues": 2,
    "state": "open",
    "created_at": "2023-02-13T19:04:13Z",
    "updated_at": "2023-04-28T18:09:18Z",
    "due_on": "2023-06-16T07:00:00Z",
    "closed_at": null
  },
  "comments": 5,
  "created_at": "2022-12-02T00:35:07Z",
  "updated_at": "2023-04-20T16:30:11Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "# Bug Report\n\n## Description\n\n## Steps to reproduce\n1. Go to the test chat and send some GIF\n2. Edit the GIF message, so it becomes an incorrect GIF address (for example https://media.tenor.com/2kbyBJ60OZ0AAAACd/thank-you.gif)\n3. Save the edited GIF message\n\n#### Expected behavior\nThe correct default broken GIF image is shown \n#### Actual behavior\nThe incorrect grey form is shown\n### Additional Information\nStatus desktop version: https://github.com/status-im/status-desktop/releases/tag/0.8.0-rc.9\nOperating System: macOS Monterey\n\n\nNOTES: 43 bytes gif is received. We must do a validation on status_go side",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/8560/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-desktop/issues/8560/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1335787352",
    "html_url": "https://github.com/status-im/status-desktop/issues/8560#issuecomment-1335787352",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/8560",
    "id": 1335787352,
    "node_id": "IC_kwDOD5KrTM5Pnn9Y",
    "user": {
      "login": "jrainville",
      "id": 11926403,
      "node_id": "MDQ6VXNlcjExOTI2NDAz",
      "avatar_url": "https://avatars.githubusercontent.com/u/11926403?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jrainville",
      "html_url": "https://github.com/jrainville",
      "followers_url": "https://api.github.com/users/jrainville/followers",
      "following_url": "https://api.github.com/users/jrainville/following{/other_user}",
      "gists_url": "https://api.github.com/users/jrainville/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jrainville/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jrainville/subscriptions",
      "organizations_url": "https://api.github.com/users/jrainville/orgs",
      "repos_url": "https://api.github.com/users/jrainville/repos",
      "events_url": "https://api.github.com/users/jrainville/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jrainville/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-12-02T20:06:15Z",
    "updated_at": "2022-12-02T20:06:15Z",
    "author_association": "MEMBER",
    "body": "If the gif is not valid, we should just display the link as a link and not show the LinkMessageView",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1335787352/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1373686290",
    "html_url": "https://github.com/status-im/status-desktop/issues/8560#issuecomment-1373686290",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/8560",
    "id": 1373686290,
    "node_id": "IC_kwDOD5KrTM5R4MoS",
    "user": {
      "login": "mprakhov",
      "id": 117639195,
      "node_id": "U_kgDOBwMIGw",
      "avatar_url": "https://avatars.githubusercontent.com/u/117639195?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mprakhov",
      "html_url": "https://github.com/mprakhov",
      "followers_url": "https://api.github.com/users/mprakhov/followers",
      "following_url": "https://api.github.com/users/mprakhov/following{/other_user}",
      "gists_url": "https://api.github.com/users/mprakhov/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mprakhov/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mprakhov/subscriptions",
      "organizations_url": "https://api.github.com/users/mprakhov/orgs",
      "repos_url": "https://api.github.com/users/mprakhov/repos",
      "events_url": "https://api.github.com/users/mprakhov/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mprakhov/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-06T14:03:15Z",
    "updated_at": "2023-01-06T14:24:44Z",
    "author_association": "CONTRIBUTOR",
    "body": "Ok, so the problem is that the corrupted gif link is correct, we didn't receive an error from the server, but received a 43 bytes gif, which is empty\r\nTried to validate such a gif via QMovie->isValid() and QImage -> format - everything recognized ok\r\n\r\nThe only solution I see right now is to load the gif in memory, and check if it is bigger than 43 bytes (this is for the tenor vendor, need to check for another). If less or equal - gif is empty and should not be displayed\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1373686290/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1373867684",
    "html_url": "https://github.com/status-im/status-desktop/issues/8560#issuecomment-1373867684",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/8560",
    "id": 1373867684,
    "node_id": "IC_kwDOD5KrTM5R446k",
    "user": {
      "login": "jrainville",
      "id": 11926403,
      "node_id": "MDQ6VXNlcjExOTI2NDAz",
      "avatar_url": "https://avatars.githubusercontent.com/u/11926403?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jrainville",
      "html_url": "https://github.com/jrainville",
      "followers_url": "https://api.github.com/users/jrainville/followers",
      "following_url": "https://api.github.com/users/jrainville/following{/other_user}",
      "gists_url": "https://api.github.com/users/jrainville/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jrainville/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jrainville/subscriptions",
      "organizations_url": "https://api.github.com/users/jrainville/orgs",
      "repos_url": "https://api.github.com/users/jrainville/repos",
      "events_url": "https://api.github.com/users/jrainville/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jrainville/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-06T16:29:58Z",
    "updated_at": "2023-01-06T16:29:58Z",
    "author_association": "MEMBER",
    "body": "As discussed during the meeting, we'll try the ad hoc fix, since the issue is pretty minor and we don't want to spend too much time on a fix for that.\r\n\r\nYou can open another issue for a later milestone to move the fix to status-go and do a HEAD on the file to check filesize like you said. We just need to make sure to only do that when the gif setting is ON",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1373867684/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1453631459",
    "html_url": "https://github.com/status-im/status-desktop/issues/8560#issuecomment-1453631459",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/8560",
    "id": 1453631459,
    "node_id": "IC_kwDOD5KrTM5WpKfj",
    "user": {
      "login": "jrainville",
      "id": 11926403,
      "node_id": "MDQ6VXNlcjExOTI2NDAz",
      "avatar_url": "https://avatars.githubusercontent.com/u/11926403?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jrainville",
      "html_url": "https://github.com/jrainville",
      "followers_url": "https://api.github.com/users/jrainville/followers",
      "following_url": "https://api.github.com/users/jrainville/following{/other_user}",
      "gists_url": "https://api.github.com/users/jrainville/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jrainville/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jrainville/subscriptions",
      "organizations_url": "https://api.github.com/users/jrainville/orgs",
      "repos_url": "https://api.github.com/users/jrainville/repos",
      "events_url": "https://api.github.com/users/jrainville/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jrainville/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-03-03T14:41:25Z",
    "updated_at": "2023-03-03T14:41:25Z",
    "author_association": "MEMBER",
    "body": "@mprakhov17 you can do the fancy status-go solution for this one.\nReminder: check the setting first if gif is enabled. We **do not** want to download or HEAD any outside file unless the user actually accepted it.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1453631459/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1516623890",
    "html_url": "https://github.com/status-im/status-desktop/issues/8560#issuecomment-1516623890",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/8560",
    "id": 1516623890,
    "node_id": "IC_kwDOD5KrTM5aZdgS",
    "user": {
      "login": "iurimatias",
      "id": 176720,
      "node_id": "MDQ6VXNlcjE3NjcyMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/176720?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/iurimatias",
      "html_url": "https://github.com/iurimatias",
      "followers_url": "https://api.github.com/users/iurimatias/followers",
      "following_url": "https://api.github.com/users/iurimatias/following{/other_user}",
      "gists_url": "https://api.github.com/users/iurimatias/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/iurimatias/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iurimatias/subscriptions",
      "organizations_url": "https://api.github.com/users/iurimatias/orgs",
      "repos_url": "https://api.github.com/users/iurimatias/repos",
      "events_url": "https://api.github.com/users/iurimatias/events{/privacy}",
      "received_events_url": "https://api.github.com/users/iurimatias/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-20T16:30:05Z",
    "updated_at": "2023-04-20T16:30:05Z",
    "author_association": "MEMBER",
    "body": "![Screen Shot 2023-04-20 at 12 29 45 PM](https://user-images.githubusercontent.com/176720/233429864-5d4ce109-ef19-4490-b2cf-4a1673099ff0.png)\r\n\r\nthis is how it looks like",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1516623890/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
