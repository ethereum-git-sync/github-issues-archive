{
  "url": "https://api.github.com/repos/status-im/status-desktop/issues/7139",
  "repository_url": "https://api.github.com/repos/status-im/status-desktop",
  "labels_url": "https://api.github.com/repos/status-im/status-desktop/issues/7139/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-desktop/issues/7139/comments",
  "events_url": "https://api.github.com/repos/status-im/status-desktop/issues/7139/events",
  "html_url": "https://github.com/status-im/status-desktop/issues/7139",
  "id": 1350517625,
  "node_id": "I_kwDOD5KrTM5Qf0N5",
  "number": 7139,
  "title": "Various issues with community invitation message state",
  "user": {
    "login": "osmaczko",
    "id": 33099791,
    "node_id": "MDQ6VXNlcjMzMDk5Nzkx",
    "avatar_url": "https://avatars.githubusercontent.com/u/33099791?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/osmaczko",
    "html_url": "https://github.com/osmaczko",
    "followers_url": "https://api.github.com/users/osmaczko/followers",
    "following_url": "https://api.github.com/users/osmaczko/following{/other_user}",
    "gists_url": "https://api.github.com/users/osmaczko/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/osmaczko/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/osmaczko/subscriptions",
    "organizations_url": "https://api.github.com/users/osmaczko/orgs",
    "repos_url": "https://api.github.com/users/osmaczko/repos",
    "events_url": "https://api.github.com/users/osmaczko/events{/privacy}",
    "received_events_url": "https://api.github.com/users/osmaczko/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 2036563458,
      "node_id": "MDU6TGFiZWwyMDM2NTYzNDU4",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/bug",
      "name": "bug",
      "color": "d73a4a",
      "default": true,
      "description": "Something isn't working"
    },
    {
      "id": 2917040258,
      "node_id": "MDU6TGFiZWwyOTE3MDQwMjU4",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/tested",
      "name": "tested",
      "color": "B3DA2E",
      "default": false,
      "description": ""
    },
    {
      "id": 3205510054,
      "node_id": "MDU6TGFiZWwzMjA1NTEwMDU0",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/priority%201:%20high",
      "name": "priority 1: high",
      "color": "D93F0B",
      "default": false,
      "description": "an issue that is extremely important to fix, that interferes with the majority of users, occurs ofte"
    },
    {
      "id": 3955125927,
      "node_id": "LA_kwDOD5KrTM7rvm6n",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/E:Communities",
      "name": "E:Communities",
      "color": "E56631",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "osmaczko",
    "id": 33099791,
    "node_id": "MDQ6VXNlcjMzMDk5Nzkx",
    "avatar_url": "https://avatars.githubusercontent.com/u/33099791?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/osmaczko",
    "html_url": "https://github.com/osmaczko",
    "followers_url": "https://api.github.com/users/osmaczko/followers",
    "following_url": "https://api.github.com/users/osmaczko/following{/other_user}",
    "gists_url": "https://api.github.com/users/osmaczko/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/osmaczko/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/osmaczko/subscriptions",
    "organizations_url": "https://api.github.com/users/osmaczko/orgs",
    "repos_url": "https://api.github.com/users/osmaczko/repos",
    "events_url": "https://api.github.com/users/osmaczko/events{/privacy}",
    "received_events_url": "https://api.github.com/users/osmaczko/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "osmaczko",
      "id": 33099791,
      "node_id": "MDQ6VXNlcjMzMDk5Nzkx",
      "avatar_url": "https://avatars.githubusercontent.com/u/33099791?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/osmaczko",
      "html_url": "https://github.com/osmaczko",
      "followers_url": "https://api.github.com/users/osmaczko/followers",
      "following_url": "https://api.github.com/users/osmaczko/following{/other_user}",
      "gists_url": "https://api.github.com/users/osmaczko/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/osmaczko/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/osmaczko/subscriptions",
      "organizations_url": "https://api.github.com/users/osmaczko/orgs",
      "repos_url": "https://api.github.com/users/osmaczko/repos",
      "events_url": "https://api.github.com/users/osmaczko/events{/privacy}",
      "received_events_url": "https://api.github.com/users/osmaczko/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2022-08-25T08:21:17Z",
  "updated_at": "2022-09-21T06:57:19Z",
  "closed_at": "2022-09-21T06:57:19Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "## 1\r\n\r\n- send two invitations to the same user to the community that requires the request to join\r\n- send a request to join\r\n- accept the user\r\n- one of user invitations message is \"Pending\" instead of \"View\"\r\n\r\nhttps://user-images.githubusercontent.com/33099791/186612309-384de00d-8967-44ec-8d5b-c599352214ae.mp4\r\n\r\n#### Note\r\napplication restart fixes the issue\r\n## 2\r\n- leave the community that requires the request to join\r\n- user invitation is \"Join\" instead of \"Request access\"\r\n![image](https://user-images.githubusercontent.com/33099791/186613248-e7c79573-9146-4577-b32f-fbb5de16738f.png)\r\n",
  "closed_by": {
    "login": "osmaczko",
    "id": 33099791,
    "node_id": "MDQ6VXNlcjMzMDk5Nzkx",
    "avatar_url": "https://avatars.githubusercontent.com/u/33099791?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/osmaczko",
    "html_url": "https://github.com/osmaczko",
    "followers_url": "https://api.github.com/users/osmaczko/followers",
    "following_url": "https://api.github.com/users/osmaczko/following{/other_user}",
    "gists_url": "https://api.github.com/users/osmaczko/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/osmaczko/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/osmaczko/subscriptions",
    "organizations_url": "https://api.github.com/users/osmaczko/orgs",
    "repos_url": "https://api.github.com/users/osmaczko/repos",
    "events_url": "https://api.github.com/users/osmaczko/events{/privacy}",
    "received_events_url": "https://api.github.com/users/osmaczko/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/7139/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-desktop/issues/7139/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1246536399",
    "html_url": "https://github.com/status-im/status-desktop/issues/7139#issuecomment-1246536399",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/7139",
    "id": 1246536399,
    "node_id": "IC_kwDOD5KrTM5KTKLP",
    "user": {
      "login": "John-44",
      "id": 22846356,
      "node_id": "MDQ6VXNlcjIyODQ2MzU2",
      "avatar_url": "https://avatars.githubusercontent.com/u/22846356?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/John-44",
      "html_url": "https://github.com/John-44",
      "followers_url": "https://api.github.com/users/John-44/followers",
      "following_url": "https://api.github.com/users/John-44/following{/other_user}",
      "gists_url": "https://api.github.com/users/John-44/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/John-44/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/John-44/subscriptions",
      "organizations_url": "https://api.github.com/users/John-44/orgs",
      "repos_url": "https://api.github.com/users/John-44/repos",
      "events_url": "https://api.github.com/users/John-44/events{/privacy}",
      "received_events_url": "https://api.github.com/users/John-44/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-09-14T10:07:41Z",
    "updated_at": "2022-09-14T10:11:11Z",
    "author_association": "NONE",
    "body": "@iurimatias @osmaczko @faust4exe @jrainville  Note the behaviour shown in the 1) screencast is incorrect.  When the user in the right screen clicks \"Request Access\" (btw this button text should be changed to \"Go to Community\" in all cases), a popup *should not* appear.\r\n\r\nInstead the user should be redirected to the home screen for the community:  \r\n\r\n1) If the Community is an open community (e.g. no token permissions at the community level) and if 'manual membership approval' is set to No, then the user should see this:\r\n![2022-09-14 11_00_16-Window](https://user-images.githubusercontent.com/22846356/190124545-ad94d39f-eff8-4ea0-adbc-cc3232381a95.png)\r\n(link to figma https://www.figma.com/file/17fc13UBFvInrLgNUKJJg5/Kuba%E2%8E%9CDesktop?node-id=2244%3A260547 )\r\n\r\n2) If the Community is an open community (e.g. no token permissions at the community level) and if 'manual membership approval' is set to Yes, then the user should see this:\r\n![2022-09-14 11_01_26-Window](https://user-images.githubusercontent.com/22846356/190124756-96fd1bdf-e813-4574-93ca-f2bc9b8ed33f.png)\r\n(link to figma https://www.figma.com/file/17fc13UBFvInrLgNUKJJg5/Kuba%E2%8E%9CDesktop?node-id=2365%3A296006 )\r\n\r\n3) If the Community is a closed community (e.g. there are token permissions at the community level) and if 'manual membership approval' is set to No, then the user should see this *if they hold the tokens needed to access the community*:\r\n![2022-09-14 11_03_11-Window](https://user-images.githubusercontent.com/22846356/190125118-cf63743b-b5b6-4255-94c4-2a5b5453b564.png)\r\n(link to figma https://www.figma.com/file/17fc13UBFvInrLgNUKJJg5/Kuba%E2%8E%9CDesktop?node-id=2314%3A257946 )\r\n\r\n4) If the Community is a closed community (e.g. there are token permissions at the community level) and if 'manual membership approval' is set to No, then the user should see this *if they **do not** hold the tokens needed to access the community*:\r\n![2022-09-14 11_04_21-Window](https://user-images.githubusercontent.com/22846356/190125463-58811278-06d8-4245-95f5-f0bb89668135.png)\r\n(link to figma https://www.figma.com/file/17fc13UBFvInrLgNUKJJg5/Kuba%E2%8E%9CDesktop?node-id=2367%3A280302 )\r\n\r\n5) If the Community is a closed community (e.g. there are token permissions at the community level) and if 'manual membership approval' is set to **Yes**, then the user should see this *if they hold the tokens needed to access the community*:\r\n![2022-09-14 11_05_39-Window](https://user-images.githubusercontent.com/22846356/190125727-5cb581c7-b824-47ac-8ad5-ee2aa432672c.png)\r\n(link to figma https://www.figma.com/file/17fc13UBFvInrLgNUKJJg5/Kuba%E2%8E%9CDesktop?node-id=2365%3A317460 )\r\n\r\n6) If the Community is a closed community (e.g. there are token permissions at the community level) and if 'manual membership approval' is set to **Yes**, then the user should see this *if they **do not** hold the tokens needed to access the community*:\r\n![2022-09-14 11_06_52-Kuba⎜Desktop – Figma](https://user-images.githubusercontent.com/22846356/190126076-575acd5a-444a-4a7f-a44b-54983f79da1c.png)\r\n(link to figma https://www.figma.com/file/17fc13UBFvInrLgNUKJJg5/Kuba%E2%8E%9CDesktop?node-id=2365%3A317901)\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1246536399/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
