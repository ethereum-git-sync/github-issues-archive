{
  "url": "https://api.github.com/repos/status-im/status-desktop/issues/8184",
  "repository_url": "https://api.github.com/repos/status-im/status-desktop",
  "labels_url": "https://api.github.com/repos/status-im/status-desktop/issues/8184/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-desktop/issues/8184/comments",
  "events_url": "https://api.github.com/repos/status-im/status-desktop/issues/8184/events",
  "html_url": "https://github.com/status-im/status-desktop/issues/8184",
  "id": 1442162475,
  "node_id": "I_kwDOD5KrTM5V9acr",
  "number": 8184,
  "title": "[Dogfooding] Messages receiving can last up to 40 mins (contact requests, membership requests) on status.prod fleet",
  "user": {
    "login": "churik",
    "id": 4557972,
    "node_id": "MDQ6VXNlcjQ1NTc5NzI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4557972?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/churik",
    "html_url": "https://github.com/churik",
    "followers_url": "https://api.github.com/users/churik/followers",
    "following_url": "https://api.github.com/users/churik/following{/other_user}",
    "gists_url": "https://api.github.com/users/churik/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/churik/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/churik/subscriptions",
    "organizations_url": "https://api.github.com/users/churik/orgs",
    "repos_url": "https://api.github.com/users/churik/repos",
    "events_url": "https://api.github.com/users/churik/events{/privacy}",
    "received_events_url": "https://api.github.com/users/churik/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 2036563458,
      "node_id": "MDU6TGFiZWwyMDM2NTYzNDU4",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/bug",
      "name": "bug",
      "color": "d73a4a",
      "default": true,
      "description": "Something isn't working"
    },
    {
      "id": 3205510054,
      "node_id": "MDU6TGFiZWwzMjA1NTEwMDU0",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/priority%201:%20high",
      "name": "priority 1: high",
      "color": "D93F0B",
      "default": false,
      "description": "an issue that is extremely important to fix, that interferes with the majority of users, occurs ofte"
    },
    {
      "id": 4548141040,
      "node_id": "LA_kwDOD5KrTM8AAAABDxcf8A",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/messenger-team",
      "name": "messenger-team",
      "color": "232858",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2022-11-09T14:02:38Z",
  "updated_at": "2023-01-27T10:39:09Z",
  "closed_at": "2023-01-27T10:39:09Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "# Bug Report\r\n## Description\r\n\r\nIn order to investigate the issue of the missing messages that was experienced by a lot of people in 'Status CC' community  ( more info in #mobile channel) it was decided to create fresh users and try to reproduce it from scratch.\r\n**Important note: the whole history is loading fine on eth.prod fleet in Status mobile 1.20**\r\n\r\nThe whole flow after creating a new account and to a point, when I was able to receive a Membership request took about 1,5 hours. At this point, I do not think that it makes any sense to investigate it further with this level of message reliability on  `status.prod` fleet (desktop <-> desktop, fresh multiaccounts)\r\n\r\n## Steps to reproduce\r\n1) UserA: create new multiaccount\r\n2) UserB: create new multiaccount\r\n3) UserA: send a contact request to UserB, UserC (used Chat > Start Chat > paste the public key) \r\n\r\n**Expected result:** UserB receives contact request immediately\r\n**Actual result:** UserB receives contact request in ~40 minutes. During that time tried to re-login several times, eventually, CR went through.\r\n\r\n4) UserA: create a community, Invite UserB\r\n5) UserB: go to the community, join the community\r\n6) UserA: receive membership request \r\n\r\n**Expected result:** UserA can see membership request immediately\r\n**Actual result:**  UserA receives  membership request in ~10 minutes\r\n\r\n7) UserA: Accept pending membership request (via Community>Members>Pending requests)\r\n\r\n**Expected result:** accepted membership request is not pending anymore\r\n**Actual result:**   accepted membership request is still pending, but the member has been accepted to the community\r\n\r\nhttps://user-images.githubusercontent.com/4557972/200845366-6610482f-007e-45ee-a401-5be18a74bedb.mp4\r\n\r\n\r\n### Additional Information\r\nUser A: \r\n- Status desktop version: [master 07/11/22](https://ci.infra.status.im/job/status-desktop/job/master/567/)\r\n- Operating System: OS Ventura 13.0 (22A380)\r\n- Device: MacBook Pro, Apple M1 Pro\r\n- Geth: [geth copy.log](https://github.com/status-im/status-desktop/files/9971650/geth.copy.log)\r\n\r\nUser B: \r\n- Status desktop version: [master 07/11/22](https://ci.infra.status.im/job/status-desktop/job/master/567/)\r\n- OS: macOS Monterey 12.3.1\r\n- Device: MacBook \r\n- Geth: https://drive.google.com/file/d/1hofukYwsugu0kOEuLlyQVwF6AbN_VOqo/view?usp=sharing",
  "closed_by": {
    "login": "anastasiyaig",
    "id": 82375995,
    "node_id": "MDQ6VXNlcjgyMzc1OTk1",
    "avatar_url": "https://avatars.githubusercontent.com/u/82375995?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/anastasiyaig",
    "html_url": "https://github.com/anastasiyaig",
    "followers_url": "https://api.github.com/users/anastasiyaig/followers",
    "following_url": "https://api.github.com/users/anastasiyaig/following{/other_user}",
    "gists_url": "https://api.github.com/users/anastasiyaig/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/anastasiyaig/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/anastasiyaig/subscriptions",
    "organizations_url": "https://api.github.com/users/anastasiyaig/orgs",
    "repos_url": "https://api.github.com/users/anastasiyaig/repos",
    "events_url": "https://api.github.com/users/anastasiyaig/events{/privacy}",
    "received_events_url": "https://api.github.com/users/anastasiyaig/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/8184/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-desktop/issues/8184/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1308812263",
    "html_url": "https://github.com/status-im/status-desktop/issues/8184#issuecomment-1308812263",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/8184",
    "id": 1308812263,
    "node_id": "IC_kwDOD5KrTM5OAuPn",
    "user": {
      "login": "churik",
      "id": 4557972,
      "node_id": "MDQ6VXNlcjQ1NTc5NzI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4557972?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/churik",
      "html_url": "https://github.com/churik",
      "followers_url": "https://api.github.com/users/churik/followers",
      "following_url": "https://api.github.com/users/churik/following{/other_user}",
      "gists_url": "https://api.github.com/users/churik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/churik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/churik/subscriptions",
      "organizations_url": "https://api.github.com/users/churik/orgs",
      "repos_url": "https://api.github.com/users/churik/repos",
      "events_url": "https://api.github.com/users/churik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/churik/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-11-09T14:03:08Z",
    "updated_at": "2022-11-09T14:03:08Z",
    "author_association": "MEMBER",
    "body": "cc @anastasiyaig @qoqobolo ",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1308812263/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1313388221",
    "html_url": "https://github.com/status-im/status-desktop/issues/8184#issuecomment-1313388221",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/8184",
    "id": 1313388221,
    "node_id": "IC_kwDOD5KrTM5OSLa9",
    "user": {
      "login": "0x-r4bbit",
      "id": 445106,
      "node_id": "MDQ6VXNlcjQ0NTEwNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/445106?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/0x-r4bbit",
      "html_url": "https://github.com/0x-r4bbit",
      "followers_url": "https://api.github.com/users/0x-r4bbit/followers",
      "following_url": "https://api.github.com/users/0x-r4bbit/following{/other_user}",
      "gists_url": "https://api.github.com/users/0x-r4bbit/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/0x-r4bbit/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/0x-r4bbit/subscriptions",
      "organizations_url": "https://api.github.com/users/0x-r4bbit/orgs",
      "repos_url": "https://api.github.com/users/0x-r4bbit/repos",
      "events_url": "https://api.github.com/users/0x-r4bbit/events{/privacy}",
      "received_events_url": "https://api.github.com/users/0x-r4bbit/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-11-14T09:47:01Z",
    "updated_at": "2022-11-14T09:47:01Z",
    "author_association": "MEMBER",
    "body": "@churik can you do us a favour and do the following:\r\n\r\n1. Go to settings -> Advanced Settings\r\n2. Enable node management tab\r\n3. Go to node management tab (a new icon appears on your app nav bar on the left)\r\n4. Post a screenshot of it here, or tell us how many peers you're connected to",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1313388221/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1316979866",
    "html_url": "https://github.com/status-im/status-desktop/issues/8184#issuecomment-1316979866",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/8184",
    "id": 1316979866,
    "node_id": "IC_kwDOD5KrTM5Of4Sa",
    "user": {
      "login": "churik",
      "id": 4557972,
      "node_id": "MDQ6VXNlcjQ1NTc5NzI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4557972?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/churik",
      "html_url": "https://github.com/churik",
      "followers_url": "https://api.github.com/users/churik/followers",
      "following_url": "https://api.github.com/users/churik/following{/other_user}",
      "gists_url": "https://api.github.com/users/churik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/churik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/churik/subscriptions",
      "organizations_url": "https://api.github.com/users/churik/orgs",
      "repos_url": "https://api.github.com/users/churik/repos",
      "events_url": "https://api.github.com/users/churik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/churik/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-11-16T12:56:14Z",
    "updated_at": "2022-11-16T12:56:14Z",
    "author_association": "MEMBER",
    "body": "Sure! Sorry for a long response @PascalPrecht \r\n![image](https://user-images.githubusercontent.com/4557972/202186210-5faa3913-7d83-4f76-b056-3add13cb72dc.png)\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1316979866/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1318413033",
    "html_url": "https://github.com/status-im/status-desktop/issues/8184#issuecomment-1318413033",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/8184",
    "id": 1318413033,
    "node_id": "IC_kwDOD5KrTM5OlWLp",
    "user": {
      "login": "churik",
      "id": 4557972,
      "node_id": "MDQ6VXNlcjQ1NTc5NzI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4557972?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/churik",
      "html_url": "https://github.com/churik",
      "followers_url": "https://api.github.com/users/churik/followers",
      "following_url": "https://api.github.com/users/churik/following{/other_user}",
      "gists_url": "https://api.github.com/users/churik/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/churik/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/churik/subscriptions",
      "organizations_url": "https://api.github.com/users/churik/orgs",
      "repos_url": "https://api.github.com/users/churik/repos",
      "events_url": "https://api.github.com/users/churik/events{/privacy}",
      "received_events_url": "https://api.github.com/users/churik/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-11-17T10:23:09Z",
    "updated_at": "2022-11-17T10:23:09Z",
    "author_association": "MEMBER",
    "body": "can be related to https://github.com/status-im/status-mobile/issues/14390 as general reliability issue",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1318413033/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1406319013",
    "html_url": "https://github.com/status-im/status-desktop/issues/8184#issuecomment-1406319013",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/8184",
    "id": 1406319013,
    "node_id": "IC_kwDOD5KrTM5T0rml",
    "user": {
      "login": "qoqobolo",
      "id": 67952253,
      "node_id": "MDQ6VXNlcjY3OTUyMjUz",
      "avatar_url": "https://avatars.githubusercontent.com/u/67952253?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/qoqobolo",
      "html_url": "https://github.com/qoqobolo",
      "followers_url": "https://api.github.com/users/qoqobolo/followers",
      "following_url": "https://api.github.com/users/qoqobolo/following{/other_user}",
      "gists_url": "https://api.github.com/users/qoqobolo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/qoqobolo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/qoqobolo/subscriptions",
      "organizations_url": "https://api.github.com/users/qoqobolo/orgs",
      "repos_url": "https://api.github.com/users/qoqobolo/repos",
      "events_url": "https://api.github.com/users/qoqobolo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/qoqobolo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-27T10:38:21Z",
    "updated_at": "2023-01-27T10:38:21Z",
    "author_association": "NONE",
    "body": "@anastasiyaig just retested this with new accounts on 0.9 rc. Contact request came immediately, so confirming that the issue can be closed.\r\nThank you!",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1406319013/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 1,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1406319736",
    "html_url": "https://github.com/status-im/status-desktop/issues/8184#issuecomment-1406319736",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/8184",
    "id": 1406319736,
    "node_id": "IC_kwDOD5KrTM5T0rx4",
    "user": {
      "login": "anastasiyaig",
      "id": 82375995,
      "node_id": "MDQ6VXNlcjgyMzc1OTk1",
      "avatar_url": "https://avatars.githubusercontent.com/u/82375995?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/anastasiyaig",
      "html_url": "https://github.com/anastasiyaig",
      "followers_url": "https://api.github.com/users/anastasiyaig/followers",
      "following_url": "https://api.github.com/users/anastasiyaig/following{/other_user}",
      "gists_url": "https://api.github.com/users/anastasiyaig/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/anastasiyaig/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/anastasiyaig/subscriptions",
      "organizations_url": "https://api.github.com/users/anastasiyaig/orgs",
      "repos_url": "https://api.github.com/users/anastasiyaig/repos",
      "events_url": "https://api.github.com/users/anastasiyaig/events{/privacy}",
      "received_events_url": "https://api.github.com/users/anastasiyaig/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-27T10:39:02Z",
    "updated_at": "2023-01-27T10:39:02Z",
    "author_association": "CONTRIBUTOR",
    "body": "closing as done",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1406319736/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
