{
  "url": "https://api.github.com/repos/status-im/status-desktop/issues/11745",
  "repository_url": "https://api.github.com/repos/status-im/status-desktop",
  "labels_url": "https://api.github.com/repos/status-im/status-desktop/issues/11745/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-desktop/issues/11745/comments",
  "events_url": "https://api.github.com/repos/status-im/status-desktop/issues/11745/events",
  "html_url": "https://github.com/status-im/status-desktop/issues/11745",
  "id": 1831495134,
  "node_id": "I_kwDOD5KrTM5tKmXe",
  "number": 11745,
  "title": "Wallet -> Activity view: incoming spam token transactions are shown as bridge",
  "user": {
    "login": "anastasiyaig",
    "id": 82375995,
    "node_id": "MDQ6VXNlcjgyMzc1OTk1",
    "avatar_url": "https://avatars.githubusercontent.com/u/82375995?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/anastasiyaig",
    "html_url": "https://github.com/anastasiyaig",
    "followers_url": "https://api.github.com/users/anastasiyaig/followers",
    "following_url": "https://api.github.com/users/anastasiyaig/following{/other_user}",
    "gists_url": "https://api.github.com/users/anastasiyaig/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/anastasiyaig/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/anastasiyaig/subscriptions",
    "organizations_url": "https://api.github.com/users/anastasiyaig/orgs",
    "repos_url": "https://api.github.com/users/anastasiyaig/repos",
    "events_url": "https://api.github.com/users/anastasiyaig/events{/privacy}",
    "received_events_url": "https://api.github.com/users/anastasiyaig/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 2036563458,
      "node_id": "MDU6TGFiZWwyMDM2NTYzNDU4",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/bug",
      "name": "bug",
      "color": "d73a4a",
      "default": true,
      "description": "Something isn't working"
    },
    {
      "id": 2331339531,
      "node_id": "MDU6TGFiZWwyMzMxMzM5NTMx",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/wallet-team",
      "name": "wallet-team",
      "color": "b60205",
      "default": false,
      "description": ""
    },
    {
      "id": 5745575725,
      "node_id": "LA_kwDOD5KrTM8AAAABVnaHLQ",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/E:Desktop%20New%20Activity",
      "name": "E:Desktop New Activity",
      "color": "0052cc",
      "default": false,
      "description": "Implementation of the new Activity UI"
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": {
    "login": "dlipicar",
    "id": 11161531,
    "node_id": "MDQ6VXNlcjExMTYxNTMx",
    "avatar_url": "https://avatars.githubusercontent.com/u/11161531?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/dlipicar",
    "html_url": "https://github.com/dlipicar",
    "followers_url": "https://api.github.com/users/dlipicar/followers",
    "following_url": "https://api.github.com/users/dlipicar/following{/other_user}",
    "gists_url": "https://api.github.com/users/dlipicar/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/dlipicar/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/dlipicar/subscriptions",
    "organizations_url": "https://api.github.com/users/dlipicar/orgs",
    "repos_url": "https://api.github.com/users/dlipicar/repos",
    "events_url": "https://api.github.com/users/dlipicar/events{/privacy}",
    "received_events_url": "https://api.github.com/users/dlipicar/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "dlipicar",
      "id": 11161531,
      "node_id": "MDQ6VXNlcjExMTYxNTMx",
      "avatar_url": "https://avatars.githubusercontent.com/u/11161531?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dlipicar",
      "html_url": "https://github.com/dlipicar",
      "followers_url": "https://api.github.com/users/dlipicar/followers",
      "following_url": "https://api.github.com/users/dlipicar/following{/other_user}",
      "gists_url": "https://api.github.com/users/dlipicar/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dlipicar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dlipicar/subscriptions",
      "organizations_url": "https://api.github.com/users/dlipicar/orgs",
      "repos_url": "https://api.github.com/users/dlipicar/repos",
      "events_url": "https://api.github.com/users/dlipicar/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dlipicar/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": {
    "url": "https://api.github.com/repos/status-im/status-desktop/milestones/77",
    "html_url": "https://github.com/status-im/status-desktop/milestone/77",
    "labels_url": "https://api.github.com/repos/status-im/status-desktop/milestones/77/labels",
    "id": 9909318,
    "node_id": "MI_kwDOD5KrTM4AlzRG",
    "number": 77,
    "title": "0.15.5 - Stabilizing release",
    "description": "A point milestone where we focus 100% on bug fixing, stabilisation and finishing any unfinished items from 0.15  \r\n\r\nZero new messaging and community features.\r\n\r\n--- Wallet ---\r\n\r\n- Community Asset and NFT designs for Asset screens\r\n- Community token visibility\r\n- Minor updates to Asset screens",
    "creator": {
      "login": "John-44",
      "id": 22846356,
      "node_id": "MDQ6VXNlcjIyODQ2MzU2",
      "avatar_url": "https://avatars.githubusercontent.com/u/22846356?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/John-44",
      "html_url": "https://github.com/John-44",
      "followers_url": "https://api.github.com/users/John-44/followers",
      "following_url": "https://api.github.com/users/John-44/following{/other_user}",
      "gists_url": "https://api.github.com/users/John-44/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/John-44/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/John-44/subscriptions",
      "organizations_url": "https://api.github.com/users/John-44/orgs",
      "repos_url": "https://api.github.com/users/John-44/repos",
      "events_url": "https://api.github.com/users/John-44/events{/privacy}",
      "received_events_url": "https://api.github.com/users/John-44/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 59,
    "closed_issues": 6,
    "state": "open",
    "created_at": "2023-09-11T16:40:59Z",
    "updated_at": "2023-09-27T15:40:49Z",
    "due_on": "2023-12-07T08:00:00Z",
    "closed_at": null
  },
  "comments": 2,
  "created_at": "2023-08-01T15:11:30Z",
  "updated_at": "2023-09-27T14:02:26Z",
  "closed_at": null,
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "### Description\r\n\r\n1. i have a seed phrase for account i used to test with\r\n2. i imported that account\r\n3. i noticed weird transactions in my activity view\r\n4. i checked the DB \r\n\r\n<img width=\"1312\" alt=\"Screenshot 2023-08-01 at 18 11 01\" src=\"https://github.com/status-im/status-desktop/assets/82375995/ee067adb-5819-4e28-b065-5ff1db92a678\">\r\n\r\n\r\n```\r\nSELECT SUBSTR(HEX(address), 0, 5), datetime(timestamp, 'unixepoch'), SUBSTR(HEX(tx_from_address), 0, 5), SUBSTR(HEX(tx_to_address), 0, 5), HEX(tx_hash) FROM transfers ORDER BY timestamp DESC ;\r\n```\r\n\r\nthe most recent txn in my DB has hex `0xc256221725c50b5bbae25b7ab9637087d5c50536a304012179c9f221520d7302`\r\n\r\nI opened etherscan and realised this txn belongs to account [Binance16 ](https://goerli-optimism.etherscan.io/address/0x24d1ddca687cb784572533a97575044444444444)`0xDFd5293D8e347dFe59E90eFd55b2956a1343963d` that i think was used to spam accounts (including mine) with this contract https://goerli-optimism.etherscan.io/address/0xe8df73f38deb6a029f0806691d7fd0490eb44046 issuing dumb tokens\r\n\r\nI opened my account and indeed, there are this fake spam tokens on my account now https://goerli-optimism.etherscan.io/address/0xf38d2cd3c6ad02dd6f8b68e0a7b2f959819954b6#tokentxns\r\n\r\nBut the incoming token transaction in Status app is shown as Bridge, and when opening it, there are 0 details of that transaction (screenshot below is an example)\r\n\r\n<img width=\"2031\" alt=\"Screenshot 2023-08-02 at 13 12 24\" src=\"https://github.com/status-im/status-desktop/assets/82375995/cad939cc-7b4d-423a-b33b-7a7bb3d9cc72\">\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/11745/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-desktop/issues/11745/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1661938171",
    "html_url": "https://github.com/status-im/status-desktop/issues/11745#issuecomment-1661938171",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/11745",
    "id": 1661938171,
    "node_id": "IC_kwDOD5KrTM5jDyn7",
    "user": {
      "login": "anastasiyaig",
      "id": 82375995,
      "node_id": "MDQ6VXNlcjgyMzc1OTk1",
      "avatar_url": "https://avatars.githubusercontent.com/u/82375995?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/anastasiyaig",
      "html_url": "https://github.com/anastasiyaig",
      "followers_url": "https://api.github.com/users/anastasiyaig/followers",
      "following_url": "https://api.github.com/users/anastasiyaig/following{/other_user}",
      "gists_url": "https://api.github.com/users/anastasiyaig/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/anastasiyaig/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/anastasiyaig/subscriptions",
      "organizations_url": "https://api.github.com/users/anastasiyaig/orgs",
      "repos_url": "https://api.github.com/users/anastasiyaig/repos",
      "events_url": "https://api.github.com/users/anastasiyaig/events{/privacy}",
      "received_events_url": "https://api.github.com/users/anastasiyaig/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-08-02T10:13:36Z",
    "updated_at": "2023-08-02T10:13:36Z",
    "author_association": "CONTRIBUTOR",
    "body": "@dlipicar I've spent some time with @stefandunca to figure out this issue and updated the description. Please , check this out when u have time",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1661938171/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1662222397",
    "html_url": "https://github.com/status-im/status-desktop/issues/11745#issuecomment-1662222397",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/11745",
    "id": 1662222397,
    "node_id": "IC_kwDOD5KrTM5jE4A9",
    "user": {
      "login": "dlipicar",
      "id": 11161531,
      "node_id": "MDQ6VXNlcjExMTYxNTMx",
      "avatar_url": "https://avatars.githubusercontent.com/u/11161531?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dlipicar",
      "html_url": "https://github.com/dlipicar",
      "followers_url": "https://api.github.com/users/dlipicar/followers",
      "following_url": "https://api.github.com/users/dlipicar/following{/other_user}",
      "gists_url": "https://api.github.com/users/dlipicar/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dlipicar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dlipicar/subscriptions",
      "organizations_url": "https://api.github.com/users/dlipicar/orgs",
      "repos_url": "https://api.github.com/users/dlipicar/repos",
      "events_url": "https://api.github.com/users/dlipicar/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dlipicar/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-08-02T13:32:45Z",
    "updated_at": "2023-08-02T13:32:58Z",
    "author_association": "CONTRIBUTOR",
    "body": "From what I could see, every entry listed in the Activity tab matches a real bridge operation present in the `multi_transactions` table.\r\n\r\n![image](https://github.com/status-im/status-desktop/assets/11161531/748b0888-154e-4c5d-8143-19ecca0e3b1d)\r\n\r\nThe problem is that the L2 half of the operation normally takes much longer to get fetched and processed, but we show the activity entry when we've processed only the first half where the data we need is still not available.\r\n\r\nCreated a ticket to filter out partially-processed Bridge entries: https://github.com/status-im/status-desktop/issues/11761",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1662222397/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
