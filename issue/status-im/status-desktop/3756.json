{
  "url": "https://api.github.com/repos/status-im/status-desktop/issues/3756",
  "repository_url": "https://api.github.com/repos/status-im/status-desktop",
  "labels_url": "https://api.github.com/repos/status-im/status-desktop/issues/3756/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-desktop/issues/3756/comments",
  "events_url": "https://api.github.com/repos/status-im/status-desktop/issues/3756/events",
  "html_url": "https://github.com/status-im/status-desktop/issues/3756",
  "id": 1013366414,
  "node_id": "I_kwDOD5KrTM48Zr6O",
  "number": 3756,
  "title": "Contact request reappears even it was declined",
  "user": {
    "login": "anastasiyaig",
    "id": 82375995,
    "node_id": "MDQ6VXNlcjgyMzc1OTk1",
    "avatar_url": "https://avatars.githubusercontent.com/u/82375995?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/anastasiyaig",
    "html_url": "https://github.com/anastasiyaig",
    "followers_url": "https://api.github.com/users/anastasiyaig/followers",
    "following_url": "https://api.github.com/users/anastasiyaig/following{/other_user}",
    "gists_url": "https://api.github.com/users/anastasiyaig/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/anastasiyaig/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/anastasiyaig/subscriptions",
    "organizations_url": "https://api.github.com/users/anastasiyaig/orgs",
    "repos_url": "https://api.github.com/users/anastasiyaig/repos",
    "events_url": "https://api.github.com/users/anastasiyaig/events{/privacy}",
    "received_events_url": "https://api.github.com/users/anastasiyaig/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 2036563458,
      "node_id": "MDU6TGFiZWwyMDM2NTYzNDU4",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/bug",
      "name": "bug",
      "color": "d73a4a",
      "default": true,
      "description": "Something isn't working"
    },
    {
      "id": 2347610790,
      "node_id": "MDU6TGFiZWwyMzQ3NjEwNzkw",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/Chat",
      "name": "Chat",
      "color": "9279e0",
      "default": false,
      "description": ""
    },
    {
      "id": 3205511249,
      "node_id": "MDU6TGFiZWwzMjA1NTExMjQ5",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/priority%202:%20medium",
      "name": "priority 2: medium",
      "color": "FBCA04",
      "default": false,
      "description": "an issue that is not severely affecting the overall app, it may interfere with some users users expe"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2021-10-01T13:43:51Z",
  "updated_at": "2022-02-07T20:34:03Z",
  "closed_at": "2022-02-07T20:34:02Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "**Precondition:** u need 2 devices, ether separate instances (VM machine can help), or desktop + mobile. Enable Activity Center as well. \r\n\r\n1. as user A, copy a chat key of user B\r\n2. as user A, click + button -> start new chat\r\n3. as user A, paste the chat key and open 1x1 chat with user B\r\n4. click Send contact request button\r\n5. as user B, on chat tab receive incoming Contact Request\r\n6. as user B, open this request and click Decline\r\n7. as user A, send a message to the same chat with user B\r\n\r\nAs result, the contact request re-appears for User B. **NOTE:** could reappear after a while, need to wait\r\n\r\n<img width=\"1433\" alt=\"Screenshot 2021-10-01 at 16 29 48\" src=\"https://user-images.githubusercontent.com/82375995/135628258-bbff58bd-b985-4a99-a799-60f6a303e728.png\">\r\n\r\n**Expected result:**\r\n\r\n1. if user B declined the contact request, user A should not be able to send messages to this chat\r\n2. if user B declined the contact request, user A should see a placeholder saying that the contact request was not approved\r\n\r\n<img width=\"726\" alt=\"Screenshot 2021-10-01 at 16 38 03\" src=\"https://user-images.githubusercontent.com/82375995/135629579-7dac8c06-ff7e-4ba7-8bf6-4c0ad3aed775.png\">\r\n\r\n",
  "closed_by": {
    "login": "iurimatias",
    "id": 176720,
    "node_id": "MDQ6VXNlcjE3NjcyMA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/176720?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/iurimatias",
    "html_url": "https://github.com/iurimatias",
    "followers_url": "https://api.github.com/users/iurimatias/followers",
    "following_url": "https://api.github.com/users/iurimatias/following{/other_user}",
    "gists_url": "https://api.github.com/users/iurimatias/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/iurimatias/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/iurimatias/subscriptions",
    "organizations_url": "https://api.github.com/users/iurimatias/orgs",
    "repos_url": "https://api.github.com/users/iurimatias/repos",
    "events_url": "https://api.github.com/users/iurimatias/events{/privacy}",
    "received_events_url": "https://api.github.com/users/iurimatias/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/3756/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-desktop/issues/3756/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1031894392",
    "html_url": "https://github.com/status-im/status-desktop/issues/3756#issuecomment-1031894392",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/3756",
    "id": 1031894392,
    "node_id": "IC_kwDOD5KrTM49gXV4",
    "user": {
      "login": "iurimatias",
      "id": 176720,
      "node_id": "MDQ6VXNlcjE3NjcyMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/176720?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/iurimatias",
      "html_url": "https://github.com/iurimatias",
      "followers_url": "https://api.github.com/users/iurimatias/followers",
      "following_url": "https://api.github.com/users/iurimatias/following{/other_user}",
      "gists_url": "https://api.github.com/users/iurimatias/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/iurimatias/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iurimatias/subscriptions",
      "organizations_url": "https://api.github.com/users/iurimatias/orgs",
      "repos_url": "https://api.github.com/users/iurimatias/repos",
      "events_url": "https://api.github.com/users/iurimatias/events{/privacy}",
      "received_events_url": "https://api.github.com/users/iurimatias/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-07T20:34:02Z",
    "updated_at": "2022-02-07T20:34:02Z",
    "author_association": "MEMBER",
    "body": "tried these steps in latest master, it doesn't happen anymore",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1031894392/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
