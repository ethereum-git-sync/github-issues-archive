{
  "url": "https://api.github.com/repos/status-im/status-desktop/issues/13015",
  "repository_url": "https://api.github.com/repos/status-im/status-desktop",
  "labels_url": "https://api.github.com/repos/status-im/status-desktop/issues/13015/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-desktop/issues/13015/comments",
  "events_url": "https://api.github.com/repos/status-im/status-desktop/issues/13015/events",
  "html_url": "https://github.com/status-im/status-desktop/issues/13015",
  "id": 2041390831,
  "node_id": "I_kwDOD5KrTM55rSbv",
  "number": 13015,
  "title": "Add tests to catch RAM usage regressions",
  "user": {
    "login": "alexjba",
    "id": 47811206,
    "node_id": "MDQ6VXNlcjQ3ODExMjA2",
    "avatar_url": "https://avatars.githubusercontent.com/u/47811206?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/alexjba",
    "html_url": "https://github.com/alexjba",
    "followers_url": "https://api.github.com/users/alexjba/followers",
    "following_url": "https://api.github.com/users/alexjba/following{/other_user}",
    "gists_url": "https://api.github.com/users/alexjba/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/alexjba/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/alexjba/subscriptions",
    "organizations_url": "https://api.github.com/users/alexjba/orgs",
    "repos_url": "https://api.github.com/users/alexjba/repos",
    "events_url": "https://api.github.com/users/alexjba/events{/privacy}",
    "received_events_url": "https://api.github.com/users/alexjba/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 2087353959,
      "node_id": "MDU6TGFiZWwyMDg3MzUzOTU5",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/ui-team",
      "name": "ui-team",
      "color": "1111ff",
      "default": false,
      "description": ""
    },
    {
      "id": 3047427135,
      "node_id": "MDU6TGFiZWwzMDQ3NDI3MTM1",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/feature",
      "name": "feature",
      "color": "0E8A16",
      "default": false,
      "description": ""
    },
    {
      "id": 6177172020,
      "node_id": "LA_kwDOD5KrTM8AAAABcDAqNA",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/E:Desktop%20QML%20Monitoring%20App",
      "name": "E:Desktop QML Monitoring App",
      "color": "FC09DC",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": {
    "url": "https://api.github.com/repos/status-im/status-desktop/milestones/70",
    "html_url": "https://github.com/status-im/status-desktop/milestone/70",
    "labels_url": "https://api.github.com/repos/status-im/status-desktop/milestones/70/labels",
    "id": 9405726,
    "node_id": "MI_kwDOD5KrTM4Aj4Ue",
    "number": 70,
    "title": "0.17",
    "description": "**1. Continue to fix bugs found in dogfooding as top priority**\r\n\r\n**2. Minor communities improvements**\r\n- optional service to once a month auto-kick all members who haven't been online for between 30 and 60 days (e.g. auto-kick members whose profile information like Name, Avatar, etc... can no longer be fetched)\r\n- Ability to mark a token gated channel as 'hidden', only visible to community members with the requisite tokens\r\n\r\n**3. Refactor synchronisation of contacts**\r\n- To fix various contact request issues, is a large work item\r\n- Mishka and Igor to work on this?\r\n- https://github.com/status-im/status-go/issues/3720\r\n- https://github.com/status-im/status-go/issues/3803#issuecomment-1654588500\r\n\r\n**4. Complete work on profile showcase **\r\n\r\n**--- Wallet Team ---**\r\n\r\n1. Pre-tx signing dialog, for Community Admin, Browser, WalletConnet\r\n\r\n2. Complete WalletConnect support\r\n\r\n3. Improved 'saved accounts' functionality and 'share address' dialogue\r\n\r\n4. Start work on total balance graphs for 'All accounts' and each individual account and all graph functionality!\r\n\r\n5. Keycard certificates, associated UI and smart contract certificate registry \r\n\r\n6. Database re-encryption flows\r\n",
    "creator": {
      "login": "iurimatias",
      "id": 176720,
      "node_id": "MDQ6VXNlcjE3NjcyMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/176720?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/iurimatias",
      "html_url": "https://github.com/iurimatias",
      "followers_url": "https://api.github.com/users/iurimatias/followers",
      "following_url": "https://api.github.com/users/iurimatias/following{/other_user}",
      "gists_url": "https://api.github.com/users/iurimatias/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/iurimatias/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iurimatias/subscriptions",
      "organizations_url": "https://api.github.com/users/iurimatias/orgs",
      "repos_url": "https://api.github.com/users/iurimatias/repos",
      "events_url": "https://api.github.com/users/iurimatias/events{/privacy}",
      "received_events_url": "https://api.github.com/users/iurimatias/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 15,
    "closed_issues": 0,
    "state": "open",
    "created_at": "2023-05-16T17:34:32Z",
    "updated_at": "2023-12-14T10:24:56Z",
    "due_on": "2024-03-28T07:00:00Z",
    "closed_at": null
  },
  "comments": 2,
  "created_at": "2023-04-26T16:37:07Z",
  "updated_at": "2023-12-14T10:25:07Z",
  "closed_at": null,
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "### Description\r\n\r\nAdding squish tests to verify the RAM usage in different scenarios will help in catching and fixing regressions early and we can keep the RAM usage under control with future development.\r\n\r\nThe purpose of this task is to create a new squish test suite used for performance checks and add a minimal test that will open a `heavy` account (Status Community member with all the history available in the DB), go through different channels and assess the memory usage at 3 different stages:\r\n1. Pre-login\r\n2. Post-login\r\n3. At test end\r\n\r\nPrerequisites:\r\n- [ ] Define the acceptable RAM usage for each step\r\n- [ ] Create a \"heavy\" DB to be used by CI tests. For this we need a new account, member of Status Community, with all the message history. Here we could also make sure all the currently implemented features are active. The `shared-desktop-account` is one option, but might not be reliable because it can be used by the entire dev team and actions like joining new communities, leaving communities will be reflected in the test DB. The `shared-desktop-account` DB can be found [here](https://drive.google.com/file/d/1rtB8Dv9Oy-r2xfjZt0PgC95ndR_ge8Pf/view?usp=sharing)\r\n\r\nTo analyse:\r\n- [ ] How can we use the DB in the CI? \r\nOne option is to download the DB on each test run by using the test framework (This will probably make the tests unusable for PR checks and the test running time will probably grow in time due to migrations and lots of missed messages being fetched. Probably a nightly run is appropriate for this).\r\nAnother option would be to have the DB on the CI machine. This will make failing tests hard to debug, fixing unstable tests will be out of devs hands because CI machine access will be needed to update the DB. Adding different DB versions for different tests is hard to do in this case.",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/13015/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-desktop/issues/13015/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1855575633",
    "html_url": "https://github.com/status-im/status-desktop/issues/13015#issuecomment-1855575633",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/13015",
    "id": 1855575633,
    "node_id": "IC_kwDOD5KrTM5umdZR",
    "user": {
      "login": "anastasiyaig",
      "id": 82375995,
      "node_id": "MDQ6VXNlcjgyMzc1OTk1",
      "avatar_url": "https://avatars.githubusercontent.com/u/82375995?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/anastasiyaig",
      "html_url": "https://github.com/anastasiyaig",
      "followers_url": "https://api.github.com/users/anastasiyaig/followers",
      "following_url": "https://api.github.com/users/anastasiyaig/following{/other_user}",
      "gists_url": "https://api.github.com/users/anastasiyaig/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/anastasiyaig/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/anastasiyaig/subscriptions",
      "organizations_url": "https://api.github.com/users/anastasiyaig/orgs",
      "repos_url": "https://api.github.com/users/anastasiyaig/repos",
      "events_url": "https://api.github.com/users/anastasiyaig/events{/privacy}",
      "received_events_url": "https://api.github.com/users/anastasiyaig/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-27T07:30:19Z",
    "updated_at": "2023-04-27T07:30:19Z",
    "author_association": "CONTRIBUTOR",
    "body": "@StateOf-Vlado @glitchminer adding u for transparency",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1855575633/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1855575638",
    "html_url": "https://github.com/status-im/status-desktop/issues/13015#issuecomment-1855575638",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/13015",
    "id": 1855575638,
    "node_id": "IC_kwDOD5KrTM5umdZW",
    "user": {
      "login": "anastasiyaig",
      "id": 82375995,
      "node_id": "MDQ6VXNlcjgyMzc1OTk1",
      "avatar_url": "https://avatars.githubusercontent.com/u/82375995?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/anastasiyaig",
      "html_url": "https://github.com/anastasiyaig",
      "followers_url": "https://api.github.com/users/anastasiyaig/followers",
      "following_url": "https://api.github.com/users/anastasiyaig/following{/other_user}",
      "gists_url": "https://api.github.com/users/anastasiyaig/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/anastasiyaig/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/anastasiyaig/subscriptions",
      "organizations_url": "https://api.github.com/users/anastasiyaig/orgs",
      "repos_url": "https://api.github.com/users/anastasiyaig/repos",
      "events_url": "https://api.github.com/users/anastasiyaig/events{/privacy}",
      "received_events_url": "https://api.github.com/users/anastasiyaig/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-12-14T10:21:59Z",
    "updated_at": "2023-12-14T10:21:59Z",
    "author_association": "CONTRIBUTOR",
    "body": "i think we would do that with monitoring tool , not squish",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1855575638/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
