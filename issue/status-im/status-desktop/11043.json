{
  "url": "https://api.github.com/repos/status-im/status-desktop/issues/11043",
  "repository_url": "https://api.github.com/repos/status-im/status-desktop",
  "labels_url": "https://api.github.com/repos/status-im/status-desktop/issues/11043/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-desktop/issues/11043/comments",
  "events_url": "https://api.github.com/repos/status-im/status-desktop/issues/11043/events",
  "html_url": "https://github.com/status-im/status-desktop/issues/11043",
  "id": 1753142499,
  "node_id": "I_kwDOD5KrTM5oftTj",
  "number": 11043,
  "title": "New designs: Handling missing token metadata in Activity UI ",
  "user": {
    "login": "benjthayer",
    "id": 110033914,
    "node_id": "U_kgDOBo77-g",
    "avatar_url": "https://avatars.githubusercontent.com/u/110033914?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/benjthayer",
    "html_url": "https://github.com/benjthayer",
    "followers_url": "https://api.github.com/users/benjthayer/followers",
    "following_url": "https://api.github.com/users/benjthayer/following{/other_user}",
    "gists_url": "https://api.github.com/users/benjthayer/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/benjthayer/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/benjthayer/subscriptions",
    "organizations_url": "https://api.github.com/users/benjthayer/orgs",
    "repos_url": "https://api.github.com/users/benjthayer/repos",
    "events_url": "https://api.github.com/users/benjthayer/events{/privacy}",
    "received_events_url": "https://api.github.com/users/benjthayer/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 2331339531,
      "node_id": "MDU6TGFiZWwyMzMxMzM5NTMx",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/wallet-team",
      "name": "wallet-team",
      "color": "b60205",
      "default": false,
      "description": ""
    },
    {
      "id": 4802194893,
      "node_id": "LA_kwDOD5KrTM8AAAABHjutzQ",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/Design-QA",
      "name": "Design-QA",
      "color": "f9d0c4",
      "default": false,
      "description": ""
    },
    {
      "id": 5638577146,
      "node_id": "LA_kwDOD5KrTM8AAAABUBXb-g",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/C1",
      "name": "C1",
      "color": "F8DBA0",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": {
    "url": "https://api.github.com/repos/status-im/status-desktop/milestones/57",
    "html_url": "https://github.com/status-im/status-desktop/milestone/57",
    "labels_url": "https://api.github.com/repos/status-im/status-desktop/milestones/57/labels",
    "id": 8475715,
    "node_id": "MI_kwDOD5KrTM4AgVRD",
    "number": 57,
    "title": "0.14",
    "description": "Milestone cycles:\r\n\r\n[Cycle 1](https://github.com/status-im/status-desktop/issues?q=is%3Aopen+is%3Aissue+milestone%3A0.14+label%3AC1): 7 July\r\n[Cycle 2](https://github.com/status-im/status-desktop/issues?q=is%3Aopen+is%3Aissue+milestone%3A0.14+label%3AC2): 28 July \r\n[Cycle 3](https://github.com/status-im/status-desktop/issues?q=is%3Aopen+is%3Aissue+milestone%3A0.14+label%3AC3): 18 August\r\n\r\n**Must be complete by 28th June - Deploy Community Directory Curation dApp**\r\n- Deploy SNT contract to Optimism\r\n- Register SNT contract with Optimism bridge\r\n- Deploy Curation dApp smart contracts to Optimism mainnet (not testnet)\r\n- Deploy Community Directory Curation dApp UI to \"curate.status.app\" domain (task for PVL)\r\n\r\nThen create a public 'Status Test Community'\r\n- 1 SNT is required to join the community\r\n- The community contains some token gated channels\r\n- Mint soulbound remotely destructible admin token\r\n- Airdrop Admin token to everybody in Messaging, QA and UI teams \r\n- Setup admin permission\r\n\r\nStart vote for this community to be the first community featured in the real, mainnet Community Directory!\r\nAim for all of the above to be done by end of June.\r\n\r\n\r\n**--- Main focus ---**\r\n\r\n**1. Token permissions to enable control of community smart contracts**\r\n- Before a community founder can use any of the community token admin functionality, they first have to deploy Owner and Token Master contracts.\r\n- This work involves: new empty state screen for Mint and Airdrop tokens (before current empty state screen is revealed), new flow for deploying the community's Owner and Token Master contracts in a single step, a fixed uneditable permission giving anybody who holds the Token Master token admin rights for the community should be automatically created.\r\n- Only the holder of the single Owner token can access the Token Master airdrop, remote destruct, and view holders functions. Anybody who holds the Token Master token can access all token admin options, excluding those related to the Token Master token itself, as well as being and Admin of the community.\r\n- This will all be explained in more detail in the designs.\r\n\r\n**2. Updates to control node transfer and associated dialogues**\r\n- Remove ability for a Owner to leave a community on the computer that's running as that community's control node\r\n- Community Admin home screen cleanup (inc. adding at least one of the three graphs, whichever is easiest to implement).  \r\n\r\n**3. Ability for user to select & manage accounts shared with each community control node**\r\n- This item is quite a bit of work\r\n- Touches Community settings, as well as all of the community join flows\r\n\r\n**4. Encryption for token gated channels that are inside Open (not token gated) communities**\r\n[#10998](https://github.com/status-im/status-desktop/issues/10998)\r\n\r\n**5. Final screens and bits and bobs needed prior to public beta**\r\n- Modal that's shown every time after login, reminding user's that Status Desktop is in Beta [#11044](https://github.com/status-im/status-desktop/issues/11044)\r\n- The bug with 'requests to join' a community not constantly arriving, or sometimes arriving after a delay, must be fixed. [#8264](https://github.com/status-im/status-desktop/issues/8264)\r\n- Anything that didn't get completed in 0.13 related to new share URL format\r\n- All the outstanding bugs and small items that got pushed into the 0.14 milestone.\r\n\r\n**6. Profile showcase backend**\r\n- The long-delayed profile showcase backend!  We have the UI on the desktop ready to go for this feature, and Mobile is going to need the backend for this feature as well, so let's try to get it done in 0.14 [#11081](https://github.com/status-im/status-desktop/issues/11081)\r\n\r\n\r\n\r\n**--- Things that we SHOULD NOT work on during the 0.14 cycle ---**\r\n- Messaging and UI teams shouldn't work on perf. in 0.14 (but Wallet team should!)\r\n- Anything mutual contacts related, other than #10497 #10498 (hopefully this functionality working good enough now!)\r\n\r\n**--- Wallet Team ---**\r\n\r\n1. Finish any outstanding work related to Activity screens (top priority - aim to have complete by July 14th)\r\n\r\n2. Updated Wallet Settings screens UI inc. account syncing functionality  *Synced information should immediately be reflected in the UI after it is received (sometimes synced info is currently only displayed after the next app restart, this needs to be fixed)*\r\n\r\n3. Wallet performance and memory consumption optimisations\r\n\r\n4. Fix bugs, clean up loose ends (to get things in a good state before the work on the Mobile wallet starts)\r\n\r\n\r\n\r\n\r\n\r\n",
    "creator": {
      "login": "iurimatias",
      "id": 176720,
      "node_id": "MDQ6VXNlcjE3NjcyMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/176720?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/iurimatias",
      "html_url": "https://github.com/iurimatias",
      "followers_url": "https://api.github.com/users/iurimatias/followers",
      "following_url": "https://api.github.com/users/iurimatias/following{/other_user}",
      "gists_url": "https://api.github.com/users/iurimatias/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/iurimatias/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iurimatias/subscriptions",
      "organizations_url": "https://api.github.com/users/iurimatias/orgs",
      "repos_url": "https://api.github.com/users/iurimatias/repos",
      "events_url": "https://api.github.com/users/iurimatias/events{/privacy}",
      "received_events_url": "https://api.github.com/users/iurimatias/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 87,
    "closed_issues": 4,
    "state": "open",
    "created_at": "2022-09-28T20:32:56Z",
    "updated_at": "2023-06-19T16:21:58Z",
    "due_on": "2023-08-18T07:00:00Z",
    "closed_at": null
  },
  "comments": 0,
  "created_at": "2023-06-12T16:45:39Z",
  "updated_at": "2023-06-19T13:58:55Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "New designs have been created clarifying what we should show for Activity list items and Activity detail pages for transactions where we are unable to fetch the requisite metadata from the stack of token lists.\r\n\r\nExample send Tx with unknown asset on Mainnet (Figma):\r\nhttps://www.figma.com/file/FkFClTCYKf83RJWoifWgoX/Wallet-v2?type=design&node-id=15433-502556&t=1H8m4aX45CThv8T4-4\r\n\r\nExample send Tx with unknown asset on Arbitrum/Optimism (Figma):\r\nhttps://www.figma.com/file/FkFClTCYKf83RJWoifWgoX/Wallet-v2?type=design&node-id=15433-507143&t=1H8m4aX45CThv8T4-4\r\n\r\n--\r\n\r\n**Things to note in the design:**\r\n1) In the header, we show the number of tokens involved in the Tx but instead of showing the asset name, we show the asset contract address in parentheses.\r\n2) In the values section, for `Amount sent` we do not show the fiat conversion since the value of the token is unknown.\r\n3) In the values section, we do not show a total given this would again require knowledge of the token value. \r\n4) We do not include the button `Repeat transaction` as unknown token transactions will have been initiated outside of Status.\r\n5) We also therefore do not show the signing section (covering device used and signing method)\r\n\r\n**Activity list item:**\r\n\r\n<img width=\"772\" alt=\"Screenshot 2023-06-12 at 17 47 02\" src=\"https://github.com/status-im/status-desktop/assets/110033914/d4208c5e-4ca7-4ec4-9f89-e3687deb4806\">\r\n\r\n\r\n**Activity detail page:**\r\n\r\n<img width=\"1188\" alt=\"Send unknown token Mainnet --_ Finalised\" src=\"https://github.com/status-im/status-desktop/assets/110033914/08c7de7b-dca3-4c64-84c7-4aea9c086ddb\">\r\n\r\n--\r\n\r\n**Regarding token lists:**\r\nThe token lists we check assets against should be stored locally (e.g. JSON) and added at build time. No APIs should be used to fetch the info from the token list URL. \r\n\r\n@John-44  suggested adding the token lists for RC builds which would provide a week or so for Uniswap, Coingecko etc to remediate any scam contracts that had been mistakenly/maliciously inserted before being added into the next release.\r\n\r\nJohn also confirmed we should avoid fetching missing token metadata from Etherscan or directly from the asset contract itself given those sources could be emulating other tokens and form part of a scam. From a security perspective, we are best relying on the bonified token lists even if this means the local token lists are 'out of date' / missing newly minted tokens.\r\n\r\nUniswap default should be used first. If the token metadata is not located, the next list to check should be Coingecko. Coingecko should not be searched prior to or in parallel with Uniswap default. If the token is found on Uniswap default, the metadata should be returned without checking the next token lists in the stack. A third token list is TBD but should be a trusted source and contain the largest number of tokens to cast the widest net (something in the region of Uniswap Token Pairs which contains >30k tokens).\r\n\r\nPost MVP, users will be able to add their own token lists (with the appropriate security warning) to cover any coins they may wish to add in addition to those supported by Status\r\n\r\nhttps://tokenlists.org/\r\n\r\n\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/11043/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-desktop/issues/11043/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[

]
