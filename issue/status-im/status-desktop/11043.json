{
  "url": "https://api.github.com/repos/status-im/status-desktop/issues/11043",
  "repository_url": "https://api.github.com/repos/status-im/status-desktop",
  "labels_url": "https://api.github.com/repos/status-im/status-desktop/issues/11043/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-desktop/issues/11043/comments",
  "events_url": "https://api.github.com/repos/status-im/status-desktop/issues/11043/events",
  "html_url": "https://github.com/status-im/status-desktop/issues/11043",
  "id": 1753142499,
  "node_id": "I_kwDOD5KrTM5oftTj",
  "number": 11043,
  "title": "New designs: Handling missing token metadata in Activity UI ",
  "user": {
    "login": "benjthayer",
    "id": 110033914,
    "node_id": "U_kgDOBo77-g",
    "avatar_url": "https://avatars.githubusercontent.com/u/110033914?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/benjthayer",
    "html_url": "https://github.com/benjthayer",
    "followers_url": "https://api.github.com/users/benjthayer/followers",
    "following_url": "https://api.github.com/users/benjthayer/following{/other_user}",
    "gists_url": "https://api.github.com/users/benjthayer/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/benjthayer/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/benjthayer/subscriptions",
    "organizations_url": "https://api.github.com/users/benjthayer/orgs",
    "repos_url": "https://api.github.com/users/benjthayer/repos",
    "events_url": "https://api.github.com/users/benjthayer/events{/privacy}",
    "received_events_url": "https://api.github.com/users/benjthayer/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 2331339531,
      "node_id": "MDU6TGFiZWwyMzMxMzM5NTMx",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/wallet-team",
      "name": "wallet-team",
      "color": "b60205",
      "default": false,
      "description": ""
    },
    {
      "id": 4802194893,
      "node_id": "LA_kwDOD5KrTM8AAAABHjutzQ",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/Design-QA",
      "name": "Design-QA",
      "color": "f9d0c4",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 0,
  "created_at": "2023-06-12T16:45:39Z",
  "updated_at": "2023-06-13T14:49:03Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "New designs have been created clarifying what we should show for Activity list items and Activity detail pages for transactions where we are unable to fetch the requisite metadata from the stack of token lists.\r\n\r\nExample send Tx with unknown asset on Mainnet (Figma):\r\nhttps://www.figma.com/file/FkFClTCYKf83RJWoifWgoX/Wallet-v2?type=design&node-id=15433-502556&t=1H8m4aX45CThv8T4-4\r\n\r\nExample send Tx with unknown asset on Arbitrum/Optimism (Figma):\r\nhttps://www.figma.com/file/FkFClTCYKf83RJWoifWgoX/Wallet-v2?type=design&node-id=15433-507143&t=1H8m4aX45CThv8T4-4\r\n\r\n--\r\n\r\n**Things to note in the design:**\r\n1) In the header, we show the number of tokens involved in the Tx but instead of showing the asset name, we show the asset contract address in parentheses.\r\n2) In the values section, for `Amount sent` we do not show the fiat conversion since the value of the token is unknown.\r\n3) In the values section, we do not show a total given this would again require knowledge of the token value. \r\n4) We do not include the button `Repeat transaction` as unknown token transactions will have been initiated outside of Status.\r\n5) We also therefore do not show the signing section (covering device used and signing method)\r\n\r\n**Activity list item:**\r\n\r\n<img width=\"772\" alt=\"Screenshot 2023-06-12 at 17 47 02\" src=\"https://github.com/status-im/status-desktop/assets/110033914/d4208c5e-4ca7-4ec4-9f89-e3687deb4806\">\r\n\r\n\r\n**Activity detail page:**\r\n\r\n<img width=\"1188\" alt=\"Send unknown token Mainnet --_ Finalised\" src=\"https://github.com/status-im/status-desktop/assets/110033914/08c7de7b-dca3-4c64-84c7-4aea9c086ddb\">\r\n\r\n--\r\n\r\n**Regarding token lists:**\r\nThe token lists we check assets against should be stored locally (e.g. JSON) and added at build time. No APIs should be used to fetch the info from the token list URL. \r\n\r\n@John-44  suggested adding the token lists for RC builds which would provide a week or so for Uniswap, Coingecko etc to remediate any scam contracts that had been mistakenly/maliciously inserted before being added into the next release.\r\n\r\nJohn also confirmed we should avoid fetching missing token metadata from Etherscan or directly from the asset contract itself given those sources could be emulating other tokens and form part of a scam. From a security perspective, we are best relying on the bonified token lists even if this means the local token lists are 'out of date' / missing newly minted tokens.\r\n\r\nUniswap default should be used first. If the token metadata is not located, the next list to check should be Coingecko. Coingecko should not be searched prior to or in parallel with Uniswap default. If the token is found on Uniswap default, the metadata should be returned without checking the next token lists in the stack. A third token list is TBD but should be a trusted source and contain the largest number of tokens to cast the widest net (something in the region of Uniswap Token Pairs which contains >30k tokens).\r\n\r\nPost MVP, users will be able to add their own token lists (with the appropriate security warning) to cover any coins they may wish to add in addition to those supported by Status\r\n\r\nhttps://tokenlists.org/\r\n\r\n\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/11043/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-desktop/issues/11043/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[

]
