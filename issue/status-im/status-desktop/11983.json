{
  "url": "https://api.github.com/repos/status-im/status-desktop/issues/11983",
  "repository_url": "https://api.github.com/repos/status-im/status-desktop",
  "labels_url": "https://api.github.com/repos/status-im/status-desktop/issues/11983/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-desktop/issues/11983/comments",
  "events_url": "https://api.github.com/repos/status-im/status-desktop/issues/11983/events",
  "html_url": "https://github.com/status-im/status-desktop/issues/11983",
  "id": 1861380564,
  "node_id": "I_kwDOD5KrTM5u8mnU",
  "number": 11983,
  "title": "General approach for displaying contact details",
  "user": {
    "login": "MishkaRogachev",
    "id": 2522130,
    "node_id": "MDQ6VXNlcjI1MjIxMzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2522130?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/MishkaRogachev",
    "html_url": "https://github.com/MishkaRogachev",
    "followers_url": "https://api.github.com/users/MishkaRogachev/followers",
    "following_url": "https://api.github.com/users/MishkaRogachev/following{/other_user}",
    "gists_url": "https://api.github.com/users/MishkaRogachev/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/MishkaRogachev/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/MishkaRogachev/subscriptions",
    "organizations_url": "https://api.github.com/users/MishkaRogachev/orgs",
    "repos_url": "https://api.github.com/users/MishkaRogachev/repos",
    "events_url": "https://api.github.com/users/MishkaRogachev/events{/privacy}",
    "received_events_url": "https://api.github.com/users/MishkaRogachev/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 2036563458,
      "node_id": "MDU6TGFiZWwyMDM2NTYzNDU4",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/bug",
      "name": "bug",
      "color": "d73a4a",
      "default": true,
      "description": "Something isn't working"
    },
    {
      "id": 2987757762,
      "node_id": "MDU6TGFiZWwyOTg3NzU3NzYy",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/to%20analyze",
      "name": "to analyze",
      "color": "5CC421",
      "default": false,
      "description": ""
    },
    {
      "id": 5806024051,
      "node_id": "LA_kwDOD5KrTM8AAAABWhDlcw",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/E:Desktop%20Contact%20Requests",
      "name": "E:Desktop Contact Requests",
      "color": "F88BBF",
      "default": false,
      "description": "Anything related to mutual contacts and sending/receiving contact requests"
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 0,
  "created_at": "2023-08-22T12:41:23Z",
  "updated_at": "2023-08-22T12:44:01Z",
  "closed_at": null,
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "### The Problem\r\n\r\nIn general, we display model-based contact details using the standard QAbstractItemModel mechanisms. However, in a few\r\nIn a few places we need to display contact details based on a specific contactId. Here are just a few of them:\r\n\r\n- [Profile](https://github.com/status-im/status-desktop/blob/master/ui/imports/shared/views/ProfileDialogView.qml#L87)\r\n- [Contact Verification](https://github.com/status-im/status-desktop/blob/master/ui/imports/shared/popups/ContactVerificationRequestPopup.qml#L49)\r\n- [TransactionAddress](https://github.com/status-im/status-desktop/blob/master/ui/imports/shared/controls/TransactionAddress.qml#L128-L129)\r\n- [Activity Center](https://github.com/status-im/status-desktop/blob/master/ui/app/mainui/activitycenter/views/ActivityNotificationMessage.qml#L62) (and there are few more connections for different Actypes and this is done deliberately)\r\n- Contacts for 1-to-1 chats in [RootStore](https://github.com/status-im/status-desktop/blob/master/ui/app/AppLayouts/Chat/stores/RootStore.qml#L730)\r\n\r\nWe use the `Utils.getContactDetailsAsJson` function to retrieve the data, but we also need to know about updates to this contact's and for this we subscribe to the signal from the model in contactsStore. More precisely, to 3 different models because contacts are stored in `myContactsModel`, `receivedContactRequestsModel`, `sentContactRequestsModel`. And we don't receive signals about users who are not in contacts, and we won't see until restart that the user has changed profile pic or alias.\r\n\r\nAnother problem is that requesting contact data by id is synchronous and can lead to fritzes on UI\r\n\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/11983/reactions",
    "total_count": 1,
    "+1": 1,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-desktop/issues/11983/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[

]
