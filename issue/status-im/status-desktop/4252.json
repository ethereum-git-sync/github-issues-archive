{
  "url": "https://api.github.com/repos/status-im/status-desktop/issues/4252",
  "repository_url": "https://api.github.com/repos/status-im/status-desktop",
  "labels_url": "https://api.github.com/repos/status-im/status-desktop/issues/4252/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-desktop/issues/4252/comments",
  "events_url": "https://api.github.com/repos/status-im/status-desktop/issues/4252/events",
  "html_url": "https://github.com/status-im/status-desktop/issues/4252",
  "id": 1072048996,
  "node_id": "I_kwDOD5KrTM4_5itk",
  "number": 4252,
  "title": "[windows] Application is crashing after account creation",
  "user": {
    "login": "anastasiyaig",
    "id": 82375995,
    "node_id": "MDQ6VXNlcjgyMzc1OTk1",
    "avatar_url": "https://avatars.githubusercontent.com/u/82375995?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/anastasiyaig",
    "html_url": "https://github.com/anastasiyaig",
    "followers_url": "https://api.github.com/users/anastasiyaig/followers",
    "following_url": "https://api.github.com/users/anastasiyaig/following{/other_user}",
    "gists_url": "https://api.github.com/users/anastasiyaig/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/anastasiyaig/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/anastasiyaig/subscriptions",
    "organizations_url": "https://api.github.com/users/anastasiyaig/orgs",
    "repos_url": "https://api.github.com/users/anastasiyaig/repos",
    "events_url": "https://api.github.com/users/anastasiyaig/events{/privacy}",
    "received_events_url": "https://api.github.com/users/anastasiyaig/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 2036563458,
      "node_id": "MDU6TGFiZWwyMDM2NTYzNDU4",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/bug",
      "name": "bug",
      "color": "d73a4a",
      "default": true,
      "description": "Something isn't working"
    },
    {
      "id": 2211665815,
      "node_id": "MDU6TGFiZWwyMjExNjY1ODE1",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/windows",
      "name": "windows",
      "color": "167a78",
      "default": false,
      "description": ""
    },
    {
      "id": 3166424543,
      "node_id": "MDU6TGFiZWwzMTY2NDI0NTQz",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/general",
      "name": "general",
      "color": "427672",
      "default": false,
      "description": ""
    },
    {
      "id": 3205509102,
      "node_id": "MDU6TGFiZWwzMjA1NTA5MTAy",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/priority%200:%20blocker",
      "name": "priority 0: blocker",
      "color": "B60205",
      "default": false,
      "description": "an issues that requires immediate attention and that causes the app to not work at all (e.g a crash)"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2021-12-06T11:37:02Z",
  "updated_at": "2022-01-19T12:50:42Z",
  "closed_at": "2022-01-19T12:50:42Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "### Description\r\n\r\n1. create new account \r\n2. wait to be logged it\r\n\r\nAs result, the app is crashing. Relogin is not possible\r\n\r\n```\r\n2021-12-06 14:58:48.557+03:00 Starting application...                    topics=\"main\" tid=4928 file=nim_status_client.nim:235\r\nDBG 2021-12-06 14:59:17.683+03:00 Account logged in                          topics=\"accounts-service\" tid=4928 file=service.nim:311\r\nERR 2021-12-06 14:59:19.929+03:00 node.crashed                               topics=\"signals\" tid=4928 file=signal_controller.nim:49 error=\"{\\\"type\\\":\\\"node.crashed\\\",\\\"event\\\":{\\\"error\\\":\\\"node crashed on start: \\\\u003cnil\\\\u003e\\\"}}\"\r\nERR 2021-12-06 14:59:22.310+03:00 node.login                                 topics=\"signals\" tid=4928 file=signal_controller.nim:46 error=\"node crashed on start: <nil>\"\r\nERR 2021-12-06 14:59:22.314+03:00 error:                                     topics=\"startup-controller\" tid=4928 file=controller.nim:41 methodName=init errDesription=\"login error node crashed on start: <nil>\"\r\nINF 2021-12-06 15:01:20.032+03:00 Status app is shutting down...             topics=\"main\" tid=4928 file=nim_status_client.nim:178\r\n```\r\n\r\n<img width=\"1552\" alt=\"Screenshot 2021-12-06 at 14 59 29\" src=\"https://user-images.githubusercontent.com/82375995/144842369-db237237-9db0-4723-bea3-00d89d41d942.png\">\r\n\r\n\r\n**Build info:** `Build #1290 (6 Dec 2021, 10:29:33)` https://ci.status.im/job/status-desktop/job/branches/job/windows/job/master/1290/ , master build\r\n\r\n**OS**: Windows 11, Parallels VM\r\n\r\n\r\n\r\nhttps://user-images.githubusercontent.com/82375995/144842441-489f6219-76bd-48c3-9f4c-58cb31c25233.mov\r\n\r\n",
  "closed_by": {
    "login": "abhi-status",
    "id": 95302135,
    "node_id": "U_kgDOBa4x9w",
    "avatar_url": "https://avatars.githubusercontent.com/u/95302135?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/abhi-status",
    "html_url": "https://github.com/abhi-status",
    "followers_url": "https://api.github.com/users/abhi-status/followers",
    "following_url": "https://api.github.com/users/abhi-status/following{/other_user}",
    "gists_url": "https://api.github.com/users/abhi-status/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/abhi-status/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/abhi-status/subscriptions",
    "organizations_url": "https://api.github.com/users/abhi-status/orgs",
    "repos_url": "https://api.github.com/users/abhi-status/repos",
    "events_url": "https://api.github.com/users/abhi-status/events{/privacy}",
    "received_events_url": "https://api.github.com/users/abhi-status/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/4252/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-desktop/issues/4252/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/986871949",
    "html_url": "https://github.com/status-im/status-desktop/issues/4252#issuecomment-986871949",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/4252",
    "id": 986871949,
    "node_id": "IC_kwDOD5KrTM460niN",
    "user": {
      "login": "jrainville",
      "id": 11926403,
      "node_id": "MDQ6VXNlcjExOTI2NDAz",
      "avatar_url": "https://avatars.githubusercontent.com/u/11926403?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jrainville",
      "html_url": "https://github.com/jrainville",
      "followers_url": "https://api.github.com/users/jrainville/followers",
      "following_url": "https://api.github.com/users/jrainville/following{/other_user}",
      "gists_url": "https://api.github.com/users/jrainville/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jrainville/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jrainville/subscriptions",
      "organizations_url": "https://api.github.com/users/jrainville/orgs",
      "repos_url": "https://api.github.com/users/jrainville/repos",
      "events_url": "https://api.github.com/users/jrainville/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jrainville/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-12-06T15:16:15Z",
    "updated_at": "2021-12-06T15:16:15Z",
    "author_association": "MEMBER",
    "body": "I tried to reproduce in Windows 10 with both a dev build and a release build (the one you linked to) and both worked just fine.\r\nI created an account, joined a channel, wrote a message and it worked fine. I could even re-login afterwards.\r\nI even cleaned my data dir completely to see, and still no crash.\r\nMaybe Windows 11 is the problem?",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/986871949/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/987621169",
    "html_url": "https://github.com/status-im/status-desktop/issues/4252#issuecomment-987621169",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/4252",
    "id": 987621169,
    "node_id": "IC_kwDOD5KrTM463ecx",
    "user": {
      "login": "anastasiyaig",
      "id": 82375995,
      "node_id": "MDQ6VXNlcjgyMzc1OTk1",
      "avatar_url": "https://avatars.githubusercontent.com/u/82375995?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/anastasiyaig",
      "html_url": "https://github.com/anastasiyaig",
      "followers_url": "https://api.github.com/users/anastasiyaig/followers",
      "following_url": "https://api.github.com/users/anastasiyaig/following{/other_user}",
      "gists_url": "https://api.github.com/users/anastasiyaig/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/anastasiyaig/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/anastasiyaig/subscriptions",
      "organizations_url": "https://api.github.com/users/anastasiyaig/orgs",
      "repos_url": "https://api.github.com/users/anastasiyaig/repos",
      "events_url": "https://api.github.com/users/anastasiyaig/events{/privacy}",
      "received_events_url": "https://api.github.com/users/anastasiyaig/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-12-07T06:49:03Z",
    "updated_at": "2021-12-07T06:49:03Z",
    "author_association": "CONTRIBUTOR",
    "body": "Parallels stopped supporting windows 10 , so I can only check on windows 11 now. It was working to me a few days ago (last week). Also, release 0.4.0 works to me just fine\r\n\r\n<img width=\"1552\" alt=\"Screenshot 2021-12-07 at 09 48 46\" src=\"https://user-images.githubusercontent.com/82375995/144980421-12c2f0a1-7774-4c63-a275-5d8768ae4b03.png\">\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/987621169/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/987814020",
    "html_url": "https://github.com/status-im/status-desktop/issues/4252#issuecomment-987814020",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/4252",
    "id": 987814020,
    "node_id": "IC_kwDOD5KrTM464NiE",
    "user": {
      "login": "anastasiyaig",
      "id": 82375995,
      "node_id": "MDQ6VXNlcjgyMzc1OTk1",
      "avatar_url": "https://avatars.githubusercontent.com/u/82375995?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/anastasiyaig",
      "html_url": "https://github.com/anastasiyaig",
      "followers_url": "https://api.github.com/users/anastasiyaig/followers",
      "following_url": "https://api.github.com/users/anastasiyaig/following{/other_user}",
      "gists_url": "https://api.github.com/users/anastasiyaig/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/anastasiyaig/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/anastasiyaig/subscriptions",
      "organizations_url": "https://api.github.com/users/anastasiyaig/orgs",
      "repos_url": "https://api.github.com/users/anastasiyaig/repos",
      "events_url": "https://api.github.com/users/anastasiyaig/events{/privacy}",
      "received_events_url": "https://api.github.com/users/anastasiyaig/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-12-07T10:58:34Z",
    "updated_at": "2021-12-07T10:58:34Z",
    "author_association": "CONTRIBUTOR",
    "body": "also, i believe @abhi-status also sees the issue on windows 10. and he does not see it on 0.4.0",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/987814020/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/987829759",
    "html_url": "https://github.com/status-im/status-desktop/issues/4252#issuecomment-987829759",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/4252",
    "id": 987829759,
    "node_id": "IC_kwDOD5KrTM464RX_",
    "user": {
      "login": "anastasiyaig",
      "id": 82375995,
      "node_id": "MDQ6VXNlcjgyMzc1OTk1",
      "avatar_url": "https://avatars.githubusercontent.com/u/82375995?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/anastasiyaig",
      "html_url": "https://github.com/anastasiyaig",
      "followers_url": "https://api.github.com/users/anastasiyaig/followers",
      "following_url": "https://api.github.com/users/anastasiyaig/following{/other_user}",
      "gists_url": "https://api.github.com/users/anastasiyaig/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/anastasiyaig/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/anastasiyaig/subscriptions",
      "organizations_url": "https://api.github.com/users/anastasiyaig/orgs",
      "repos_url": "https://api.github.com/users/anastasiyaig/repos",
      "events_url": "https://api.github.com/users/anastasiyaig/events{/privacy}",
      "received_events_url": "https://api.github.com/users/anastasiyaig/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-12-07T11:18:35Z",
    "updated_at": "2021-12-07T11:43:09Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jrainville \r\n\r\nthat is what i see in geth:\r\n\r\n```\r\nt=2021-12-07T14:14:02+0300 lvl=info msg=\"end control command\"\r\nt=2021-12-07T14:14:02+0300 lvl=info msg=\"loadTransfers finished\" in=5.0045ms\r\nt=2021-12-07T14:14:02+0300 lvl=info msg=\"end control command\"\r\nt=2021-12-07T14:14:02+0300 lvl=info msg=\"handling peer\" peerID=0x507cbf6d20917b6130d232b6aace3fad3615608ea5a06ec2cb496cfd949b7916\r\nt=2021-12-07T14:14:02+0300 lvl=info msg=\"Messenger failed to process sent messages\" error=\"Can't get raw message with id 0x9a0f0e120b18570ba90fd4790ea893e6ad000e40659a1e091574be5f3434837c: sql: no rows in result set\"\r\nt=2021-12-07T14:14:04+0300 lvl=eror msg=\"error registering\" topic=whispermail rendezvous server=/ip4/178.128.138.128/tcp/30703/ethv4/16Uiu2HAmRHPzF3rQg55PgYPcQkyvPVH9n2hWsYPhUJBZ6kVjJgdV err=\"failed to dial 16Uiu2HAmRHPzF3rQg55PgYPcQkyvPVH9n2hWsYPhUJBZ6kVjJgdV:\\n  * [/ip4/178.128.138.128/tcp/30703] dial tcp4 178.128.138.128:30703: connectex: No connection could be made because the target machine actively refused it.\"\r\nt=2021-12-07T14:14:12+0300 lvl=info msg=\"fetching backup\"\r\nt=2021-12-07T14:14:12+0300 lvl=info msg=\"syncing topic\" chatIDs=[] fromString=2021-11-06T14:14:12+03:00 toString=2021-12-07T14:14:12+03:00 topic=[0xa1e4b331] from=1,636,197,252 to=1,638,875,652\r\nt=2021-12-07T14:14:18+0300 lvl=eror msg=\"error registering\" topic=whispermail rendezvous server=/ip4/178.128.138.128/tcp/30703/ethv4/16Uiu2HAmRHPzF3rQg55PgYPcQkyvPVH9n2hWsYPhUJBZ6kVjJgdV err=\"failed to dial 16Uiu2HAmRHPzF3rQg55PgYPcQkyvPVH9n2hWsYPhUJBZ6kVjJgdV:\\n  * [/ip4/178.128.138.128/tcp/30703] dial tcp4 178.128.138.128:30703: connectex: No connection could be made because the target machine actively refused it.\"\r\nt=2021-12-07T14:14:19+0300 lvl=eror msg=\"error registering\" topic=whispermail rendezvous server=/ip4/178.128.138.128/tcp/30703/ethv4/16Uiu2HAmRHPzF3rQg55PgYPcQkyvPVH9n2hWsYPhUJBZ6kVjJgdV err=\"failed to dial 16Uiu2HAmRHPzF3rQg55PgYPcQkyvPVH9n2hWsYPhUJBZ6kVjJgdV:\\n  * [/ip4/178.128.138.128/tcp/30703] dial backoff\"\r\nt=2021-12-07T14:14:24+0300 lvl=eror msg=\"error registering\" topic=whispermail rendezvous server=/ip4/178.128.138.128/tcp/30703/ethv4/16Uiu2HAmRHPzF3rQg55PgYPcQkyvPVH9n2hWsYPhUJBZ6kVjJgdV err=\"failed to dial 16Uiu2HAmRHPzF3rQg55PgYPcQkyvPVH9n2hWsYPhUJBZ6kVjJgdV:\\n  * [/ip4/178.128.138.128/tcp/30703] dial backoff\"\r\n```\r\n\r\nso i suspect it crashes right after it fetches messages. For example, i joined the status-desktop channel and send an emoji and the app crashed in a few moments.\r\nafter relogin , it crashes frequently\r\n\r\n```StatusDesktop/v0.91.12/windows-amd64/go1.15``` this is go version the app shows\r\n\r\nhttps://user-images.githubusercontent.com/82375995/145019860-6d590aef-69cb-440f-ac59-fca826cd3296.mov\r\n\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/987829759/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/988017621",
    "html_url": "https://github.com/status-im/status-desktop/issues/4252#issuecomment-988017621",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/4252",
    "id": 988017621,
    "node_id": "IC_kwDOD5KrTM464_PV",
    "user": {
      "login": "jrainville",
      "id": 11926403,
      "node_id": "MDQ6VXNlcjExOTI2NDAz",
      "avatar_url": "https://avatars.githubusercontent.com/u/11926403?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jrainville",
      "html_url": "https://github.com/jrainville",
      "followers_url": "https://api.github.com/users/jrainville/followers",
      "following_url": "https://api.github.com/users/jrainville/following{/other_user}",
      "gists_url": "https://api.github.com/users/jrainville/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jrainville/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jrainville/subscriptions",
      "organizations_url": "https://api.github.com/users/jrainville/orgs",
      "repos_url": "https://api.github.com/users/jrainville/repos",
      "events_url": "https://api.github.com/users/jrainville/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jrainville/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-12-07T15:12:46Z",
    "updated_at": "2021-12-07T15:12:46Z",
    "author_association": "MEMBER",
    "body": "I still can't reproduce.\r\nIs this on a particular fleet? Like wavuv2?\r\nAlso, is there a chance that the data dir was old and maybe there was status-go version corruption? If you remove the `USER/Local/Status` folder, does it work now?",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/988017621/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1016435753",
    "html_url": "https://github.com/status-im/status-desktop/issues/4252#issuecomment-1016435753",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/4252",
    "id": 1016435753,
    "node_id": "IC_kwDOD5KrTM48lZQp",
    "user": {
      "login": "abhi-status",
      "id": 95302135,
      "node_id": "U_kgDOBa4x9w",
      "avatar_url": "https://avatars.githubusercontent.com/u/95302135?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/abhi-status",
      "html_url": "https://github.com/abhi-status",
      "followers_url": "https://api.github.com/users/abhi-status/followers",
      "following_url": "https://api.github.com/users/abhi-status/following{/other_user}",
      "gists_url": "https://api.github.com/users/abhi-status/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/abhi-status/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/abhi-status/subscriptions",
      "organizations_url": "https://api.github.com/users/abhi-status/orgs",
      "repos_url": "https://api.github.com/users/abhi-status/repos",
      "events_url": "https://api.github.com/users/abhi-status/events{/privacy}",
      "received_events_url": "https://api.github.com/users/abhi-status/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-01-19T12:50:42Z",
    "updated_at": "2022-01-19T12:50:42Z",
    "author_association": "NONE",
    "body": "This issue seems to have sorted itself out.\r\nClosing for now.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1016435753/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
