{
  "url": "https://api.github.com/repos/status-im/status-desktop/issues/9890",
  "repository_url": "https://api.github.com/repos/status-im/status-desktop",
  "labels_url": "https://api.github.com/repos/status-im/status-desktop/issues/9890/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-desktop/issues/9890/comments",
  "events_url": "https://api.github.com/repos/status-im/status-desktop/issues/9890/events",
  "html_url": "https://github.com/status-im/status-desktop/issues/9890",
  "id": 1624348878,
  "node_id": "I_kwDOD5KrTM5g0ZjO",
  "number": 9890,
  "title": "StatusQ: implement reusable CutomDerivationPath component and integrate it with add account modal",
  "user": {
    "login": "stefandunca",
    "id": 47554641,
    "node_id": "MDQ6VXNlcjQ3NTU0NjQx",
    "avatar_url": "https://avatars.githubusercontent.com/u/47554641?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/stefandunca",
    "html_url": "https://github.com/stefandunca",
    "followers_url": "https://api.github.com/users/stefandunca/followers",
    "following_url": "https://api.github.com/users/stefandunca/following{/other_user}",
    "gists_url": "https://api.github.com/users/stefandunca/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/stefandunca/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/stefandunca/subscriptions",
    "organizations_url": "https://api.github.com/users/stefandunca/orgs",
    "repos_url": "https://api.github.com/users/stefandunca/repos",
    "events_url": "https://api.github.com/users/stefandunca/events{/privacy}",
    "received_events_url": "https://api.github.com/users/stefandunca/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 2331339531,
      "node_id": "MDU6TGFiZWwyMzMxMzM5NTMx",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/wallet-team",
      "name": "wallet-team",
      "color": "b60205",
      "default": false,
      "description": ""
    },
    {
      "id": 3047427135,
      "node_id": "MDU6TGFiZWwzMDQ3NDI3MTM1",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/feature",
      "name": "feature",
      "color": "0E8A16",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "stefandunca",
    "id": 47554641,
    "node_id": "MDQ6VXNlcjQ3NTU0NjQx",
    "avatar_url": "https://avatars.githubusercontent.com/u/47554641?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/stefandunca",
    "html_url": "https://github.com/stefandunca",
    "followers_url": "https://api.github.com/users/stefandunca/followers",
    "following_url": "https://api.github.com/users/stefandunca/following{/other_user}",
    "gists_url": "https://api.github.com/users/stefandunca/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/stefandunca/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/stefandunca/subscriptions",
    "organizations_url": "https://api.github.com/users/stefandunca/orgs",
    "repos_url": "https://api.github.com/users/stefandunca/repos",
    "events_url": "https://api.github.com/users/stefandunca/events{/privacy}",
    "received_events_url": "https://api.github.com/users/stefandunca/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "stefandunca",
      "id": 47554641,
      "node_id": "MDQ6VXNlcjQ3NTU0NjQx",
      "avatar_url": "https://avatars.githubusercontent.com/u/47554641?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stefandunca",
      "html_url": "https://github.com/stefandunca",
      "followers_url": "https://api.github.com/users/stefandunca/followers",
      "following_url": "https://api.github.com/users/stefandunca/following{/other_user}",
      "gists_url": "https://api.github.com/users/stefandunca/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stefandunca/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stefandunca/subscriptions",
      "organizations_url": "https://api.github.com/users/stefandunca/orgs",
      "repos_url": "https://api.github.com/users/stefandunca/repos",
      "events_url": "https://api.github.com/users/stefandunca/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stefandunca/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": {
    "url": "https://api.github.com/repos/status-im/status-desktop/milestones/56",
    "html_url": "https://github.com/status-im/status-desktop/milestone/56",
    "labels_url": "https://api.github.com/repos/status-im/status-desktop/milestones/56/labels",
    "id": 8475714,
    "node_id": "MI_kwDOD5KrTM4AgVRC",
    "number": 56,
    "title": "0.12",
    "description": "Priorities **in priority order** for the 0.12 milestone:  \r\n\r\n**1. Improve performance**\r\n- Focus on eliminating any UI freezes when the user clicks on something and the app does not display an immediate response.  Target: the app should ideally respond to all user input within 50ms, but let's start with identifying the longest UI freezes and trying to fix the worst UI freezes first.\r\n- Speed and responsiveness of switching between community channels, and 1on1 and ad-hoc group chats is particularly important, especially for channels and chats that contains a lot of history.  We should aim for about 250ms delay in the *worst* case if possible.  Having a lot of history in a channel should not slow channel switching down.\r\n- DB perf optimisations.  \r\n- Move things to async and off main thread\r\n- See Alex's great profiling work for possible tasks (Alex to continue focusing on perf. for this release cycle)\r\n- \"user facing performance in everyday app usage\" is the top priority, but any task that improves performance is worthwhile\r\n\r\n**2. Finish development of token based functionality from 0.11**\r\n- Optimise No. queries made by owner node when checking member tokens (Pascal)\r\n- Community encryption should automatically switch on/off depending on community permissions (issue #9942)\r\n- Implement the 'Admin' role (issue #10114)\r\n- Airdrop to community members (in addition to addresses)\r\n- Optimise gas required by collectable minting smart contracts (issue #9943, GravityBlast)\r\n--- After collectable minting gas optimisation is complete, start work on Asset minting contracts (GravityBlast)\r\n- Complete token remote destruct UI\r\n- Remove 'Community Permissions Settings', 'Community Tokens' and 'Discord Import Tool' feature flags (issue #10115)\r\n- Thoroughly test, and fix all bugs found. \r\n- Anything else related to Community level token permissions, collectable minting, airdropping, and remote destructing that didn't make it into 0.11\r\n\r\n**3. Finish implementing the ability for Community Owners and Admins to drag and drop channels and categories into different orders**\r\n\r\n**4. Finish anything related to the initial pairing process for syncing that wasn't completed in 0.11** (Igor)\r\n\r\n**5. Improve Mutual Contacts functionality to improve reliability and pay off tech debt** (Mishka)\r\n\r\n**6. Complete Community Directory Curation dApp integration inc. Featured functionality** (Patryk)\r\n \r\n**7. Backend for the Profile Showcase**\r\n\r\n**8. Identity Verification** (required for 'Profile Showcase')\r\n\r\n**9. Fix bugs, bugs and more bugs!**\r\n- Esp. find the cause of and fix the longstanding bug of some 'requests to join' not arriving for hours/days after they were sent!\r\n- Many 'fit and finish' bugs for the UI team\r\n\r\n**--- For the Wallet team ---**\r\n\r\n1. Continue feature development inc. kicking off development of the activity screens\r\n2. 'All accounts' section.  The ability to return all tokens owned by the user in all accounts (excluding watch only accounts) is also required for the Showcase functionality\r\n3. Widen scope of 'backup to waku' and 'syncing' so that all relevant Wallet user state is backed up and synced between devices\r\n4. Continue to ensure Wallet functionality is performant.\r\n5. Fix wallet bugs",
    "creator": {
      "login": "iurimatias",
      "id": 176720,
      "node_id": "MDQ6VXNlcjE3NjcyMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/176720?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/iurimatias",
      "html_url": "https://github.com/iurimatias",
      "followers_url": "https://api.github.com/users/iurimatias/followers",
      "following_url": "https://api.github.com/users/iurimatias/following{/other_user}",
      "gists_url": "https://api.github.com/users/iurimatias/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/iurimatias/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iurimatias/subscriptions",
      "organizations_url": "https://api.github.com/users/iurimatias/orgs",
      "repos_url": "https://api.github.com/users/iurimatias/repos",
      "events_url": "https://api.github.com/users/iurimatias/events{/privacy}",
      "received_events_url": "https://api.github.com/users/iurimatias/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 0,
    "closed_issues": 176,
    "state": "closed",
    "created_at": "2022-09-28T20:32:37Z",
    "updated_at": "2023-05-08T13:17:45Z",
    "due_on": "2023-05-05T07:00:00Z",
    "closed_at": "2023-05-08T13:17:45Z"
  },
  "comments": 2,
  "created_at": "2023-03-14T21:49:34Z",
  "updated_at": "2023-03-31T15:08:23Z",
  "closed_at": "2023-03-31T15:08:22Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "## UX designs: [Figma](https://www.figma.com/file/FkFClTCYKf83RJWoifWgoX/Wallet-v2?node-id=12272%3A269494&t=Azd9N7EqsqerLIHx-0)\r\n\r\n- Derivation path format: `m / <purpose>' / <coin_type>' / <account>' / <change> / <address_index>`\r\n  - \"Base\"  contains: purpose, count type, account and change\r\n\r\n## Validation steps\r\n\r\n- Users can enter a maximum of 5 slashes\r\n- The selected base path can't be edited\r\n- In the `Custom` case, the control follows ETH standard and user can't alter the separators\r\n\r\n### Details\r\n\r\n#### Predefined derivation path\r\n\r\nThe user selects one of the available predefined bases\r\n\r\n- Selection of predefined bases or switching to a custom derivation path is made by pressing the chevron that extends into a list (done externally)\r\n- Have the base locked on selected blockchain from the [supported lists of blockchains](https://www.figma.com/file/FkFClTCYKf83RJWoifWgoX/Wallet-v2?node-id=12272%3A266330&t=Azd9N7EqsqerLIHx-0)\r\n  - The [address index part](https://www.figma.com/file/FkFClTCYKf83RJWoifWgoX/Wallet-v2?node-id=12272%3A269494&t=Azd9N7EqsqerLIHx-0) should be editable\r\n- The user can extend to more elements by pressing \"space\" and deleting using \"backspace\"\r\n  - After every number (as long as the user hasn't already reached the 5 slash limit), if they press space, we will automatically add the apostrophe to the previous entered digit and add a slash. Good idea - if the user enters a number and then hits any slash instead of the space, we should add the apostrophe and slash.\r\n- The user is not allowed to edit the hardened part (we're following `BIP-44`)\r\n- The path should be selectable\r\n- Allow editing any level as it's own input but process cursor moves to sides if allowed\r\n  - the user should be able to use the arrow key to move the cursor to the beginning or end of any digit (and the middle of 2 numbers if a double digit number has been entered). If a user hits the left arrow when they are the start of a number, eg `22'/|23|` the cursor should hop over the apostrophe and slash and rest at the end of the preceding number (so after the second 2 in this example). The same behavior in reverse should be true if the user presses the right arrow.\r\n- Deleting a number completely should just remove the number and leave the preceeding slash in place.\r\n  - If the user then hits backspace again, it should delete the preceding slash and apostrophe. So `m/44'/60'/0'/0'/0|` [backspace] --> `m/44'/60'/0'/0'/|` [backspace] --> `m/44'/60'/0'/0|` etc.\r\n- Remove duplicate slashes if number is completely deleted\r\n  - If a user highlights a number in the middle of the derivation path we should remove any duplicate slashes eg: `m/44'/60'/0'/0'/0` (imagine 60 is highlighted) - user hits [backspace] --> m/44'/0'/0'/0|\r\n- the user should be able to select and delete any part of the path. When they do so, we just need to remove any duplicate slashes and apostrophes\r\n- User is allowed to enter an invalid character, we just validate it\r\n- More info: https://www.figma.com/file/FkFClTCYKf83RJWoifWgoX/Wallet-v2?node-id=12023%3A176201&t=N1bctCHrRhKgs8MO-4\r\n- Clipboard pasting is not required\r\n\r\n#### Custom derivation path\r\n\r\nThe user can select a custom derivation path\r\n\r\n- Only the `purpose` is fixed to `BIP-44` and everything else can be changed using \r\n\r\n### Questions\r\n\r\n- [x] list of predefined available path bases\r\n  - [`MyEtherWallet`](https://medium.com/myetherwallet/hd-wallets-and-derivation-paths-explained-865a643c7bf2) list was mentioned in design\r\n  - FOR MVP, only the ones listed in the design. Those are provided outside already.\r\n- [x] In design, it is mentioned: \"For MVP, we support a maximum of 5 slashes in the derivation path\" Does that mean we can't derive grandchildren addresses?\r\n  - Was confirmed by @benjthayer that we only allow one address index so no grandchildren\r\n- [x] In the custom case, how do we know if the user is editing the `address_index` given the support for short addresses? Or do we not support short addresses for the custom case?\r\n  - Allow 5 levels \r\n- [x] In [design](https://www.figma.com/file/FkFClTCYKf83RJWoifWgoX/Wallet-v2?node-id=12272%3A265118&t=Azd9N7EqsqerLIHx-0) there is an error \"Account number must be <100\" when user selects \"address_index\" bigger than 100. Shouldn't this be \"Address number must be <100\" instead? The account is represented by the third element and usually `0`\r\n\r\n### Development\r\n\r\n#### Control Interface\r\n\r\nAfter further discussions with @saledjenic the control will only support string editing and base path provided from out\r\n\r\n```qml\r\nCutomDerivationPath {\r\n  required property string initialDerivationPath\r\n  required property string initialBasePath\r\n\r\n  readonly property string derivationPath\r\n  readonly property string basePath  // Custom, Ethereum (default) ...\r\n  readonly property string errorMessage // Account number must be < 100, Please enter numbers only\r\n\r\n  function resetDerivationPath(string basePath, string newDerivationPath)\r\n}\r\n```\r\n\r\n#### QML control\r\n\r\n`StatusText` based\r\n",
  "closed_by": {
    "login": "saledjenic",
    "id": 86303051,
    "node_id": "MDQ6VXNlcjg2MzAzMDUx",
    "avatar_url": "https://avatars.githubusercontent.com/u/86303051?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/saledjenic",
    "html_url": "https://github.com/saledjenic",
    "followers_url": "https://api.github.com/users/saledjenic/followers",
    "following_url": "https://api.github.com/users/saledjenic/following{/other_user}",
    "gists_url": "https://api.github.com/users/saledjenic/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/saledjenic/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/saledjenic/subscriptions",
    "organizations_url": "https://api.github.com/users/saledjenic/orgs",
    "repos_url": "https://api.github.com/users/saledjenic/repos",
    "events_url": "https://api.github.com/users/saledjenic/events{/privacy}",
    "received_events_url": "https://api.github.com/users/saledjenic/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/9890/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-desktop/issues/9890/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1470437405",
    "html_url": "https://github.com/status-im/status-desktop/issues/9890#issuecomment-1470437405",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/9890",
    "id": 1470437405,
    "node_id": "IC_kwDOD5KrTM5XpRgd",
    "user": {
      "login": "saledjenic",
      "id": 86303051,
      "node_id": "MDQ6VXNlcjg2MzAzMDUx",
      "avatar_url": "https://avatars.githubusercontent.com/u/86303051?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/saledjenic",
      "html_url": "https://github.com/saledjenic",
      "followers_url": "https://api.github.com/users/saledjenic/followers",
      "following_url": "https://api.github.com/users/saledjenic/following{/other_user}",
      "gists_url": "https://api.github.com/users/saledjenic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/saledjenic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/saledjenic/subscriptions",
      "organizations_url": "https://api.github.com/users/saledjenic/orgs",
      "repos_url": "https://api.github.com/users/saledjenic/repos",
      "events_url": "https://api.github.com/users/saledjenic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/saledjenic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-03-15T17:17:07Z",
    "updated_at": "2023-03-15T17:17:07Z",
    "author_association": "CONTRIBUTOR",
    "body": "@stefandunca just for the reference, at the end this component will be integrated into work done in https://github.com/status-im/status-desktop/pull/9820",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1470437405/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1492005074",
    "html_url": "https://github.com/status-im/status-desktop/issues/9890#issuecomment-1492005074",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/9890",
    "id": 1492005074,
    "node_id": "IC_kwDOD5KrTM5Y7jDS",
    "user": {
      "login": "stefandunca",
      "id": 47554641,
      "node_id": "MDQ6VXNlcjQ3NTU0NjQx",
      "avatar_url": "https://avatars.githubusercontent.com/u/47554641?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stefandunca",
      "html_url": "https://github.com/stefandunca",
      "followers_url": "https://api.github.com/users/stefandunca/followers",
      "following_url": "https://api.github.com/users/stefandunca/following{/other_user}",
      "gists_url": "https://api.github.com/users/stefandunca/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stefandunca/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stefandunca/subscriptions",
      "organizations_url": "https://api.github.com/users/stefandunca/orgs",
      "repos_url": "https://api.github.com/users/stefandunca/repos",
      "events_url": "https://api.github.com/users/stefandunca/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stefandunca/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-03-31T14:24:14Z",
    "updated_at": "2023-03-31T14:24:14Z",
    "author_association": "CONTRIBUTOR",
    "body": "@glitchminer I merged the corresponding PR missing that it was not tested. Can you please have a look so I will avoid reverting it?",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1492005074/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
