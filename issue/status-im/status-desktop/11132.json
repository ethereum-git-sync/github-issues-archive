{
  "url": "https://api.github.com/repos/status-im/status-desktop/issues/11132",
  "repository_url": "https://api.github.com/repos/status-im/status-desktop",
  "labels_url": "https://api.github.com/repos/status-im/status-desktop/issues/11132/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-desktop/issues/11132/comments",
  "events_url": "https://api.github.com/repos/status-im/status-desktop/issues/11132/events",
  "html_url": "https://github.com/status-im/status-desktop/issues/11132",
  "id": 1763210693,
  "node_id": "I_kwDOD5KrTM5pGHXF",
  "number": 11132,
  "title": "Failed to migrate after updating to 0.13",
  "user": {
    "login": "igor-sirotin",
    "id": 25482501,
    "node_id": "MDQ6VXNlcjI1NDgyNTAx",
    "avatar_url": "https://avatars.githubusercontent.com/u/25482501?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/igor-sirotin",
    "html_url": "https://github.com/igor-sirotin",
    "followers_url": "https://api.github.com/users/igor-sirotin/followers",
    "following_url": "https://api.github.com/users/igor-sirotin/following{/other_user}",
    "gists_url": "https://api.github.com/users/igor-sirotin/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/igor-sirotin/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/igor-sirotin/subscriptions",
    "organizations_url": "https://api.github.com/users/igor-sirotin/orgs",
    "repos_url": "https://api.github.com/users/igor-sirotin/repos",
    "events_url": "https://api.github.com/users/igor-sirotin/events{/privacy}",
    "received_events_url": "https://api.github.com/users/igor-sirotin/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 2036563458,
      "node_id": "MDU6TGFiZWwyMDM2NTYzNDU4",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/bug",
      "name": "bug",
      "color": "d73a4a",
      "default": true,
      "description": "Something isn't working"
    },
    {
      "id": 3205514020,
      "node_id": "MDU6TGFiZWwzMjA1NTE0MDIw",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/priority%20F0:%20urgent",
      "name": "priority F0: urgent",
      "color": "B60205",
      "default": false,
      "description": "Feature that has to be implemented & released ASAP for strong urgent reasons (likely a rare tag to u"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "saledjenic",
    "id": 86303051,
    "node_id": "MDQ6VXNlcjg2MzAzMDUx",
    "avatar_url": "https://avatars.githubusercontent.com/u/86303051?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/saledjenic",
    "html_url": "https://github.com/saledjenic",
    "followers_url": "https://api.github.com/users/saledjenic/followers",
    "following_url": "https://api.github.com/users/saledjenic/following{/other_user}",
    "gists_url": "https://api.github.com/users/saledjenic/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/saledjenic/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/saledjenic/subscriptions",
    "organizations_url": "https://api.github.com/users/saledjenic/orgs",
    "repos_url": "https://api.github.com/users/saledjenic/repos",
    "events_url": "https://api.github.com/users/saledjenic/events{/privacy}",
    "received_events_url": "https://api.github.com/users/saledjenic/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "saledjenic",
      "id": 86303051,
      "node_id": "MDQ6VXNlcjg2MzAzMDUx",
      "avatar_url": "https://avatars.githubusercontent.com/u/86303051?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/saledjenic",
      "html_url": "https://github.com/saledjenic",
      "followers_url": "https://api.github.com/users/saledjenic/followers",
      "following_url": "https://api.github.com/users/saledjenic/following{/other_user}",
      "gists_url": "https://api.github.com/users/saledjenic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/saledjenic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/saledjenic/subscriptions",
      "organizations_url": "https://api.github.com/users/saledjenic/orgs",
      "repos_url": "https://api.github.com/users/saledjenic/repos",
      "events_url": "https://api.github.com/users/saledjenic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/saledjenic/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": {
    "url": "https://api.github.com/repos/status-im/status-desktop/milestones/71",
    "html_url": "https://github.com/status-im/status-desktop/milestone/71",
    "labels_url": "https://api.github.com/repos/status-im/status-desktop/milestones/71/labels",
    "id": 9543134,
    "node_id": "MI_kwDOD5KrTM4AkZ3e",
    "number": 71,
    "title": "0.13.0 RC",
    "description": "",
    "creator": {
      "login": "iurimatias",
      "id": 176720,
      "node_id": "MDQ6VXNlcjE3NjcyMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/176720?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/iurimatias",
      "html_url": "https://github.com/iurimatias",
      "followers_url": "https://api.github.com/users/iurimatias/followers",
      "following_url": "https://api.github.com/users/iurimatias/following{/other_user}",
      "gists_url": "https://api.github.com/users/iurimatias/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/iurimatias/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iurimatias/subscriptions",
      "organizations_url": "https://api.github.com/users/iurimatias/orgs",
      "repos_url": "https://api.github.com/users/iurimatias/repos",
      "events_url": "https://api.github.com/users/iurimatias/events{/privacy}",
      "received_events_url": "https://api.github.com/users/iurimatias/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 1,
    "closed_issues": 18,
    "state": "open",
    "created_at": "2023-06-15T17:36:40Z",
    "updated_at": "2023-06-26T13:44:17Z",
    "due_on": "2023-06-30T07:00:00Z",
    "closed_at": null
  },
  "comments": 36,
  "created_at": "2023-06-19T10:09:48Z",
  "updated_at": "2023-06-26T13:44:17Z",
  "closed_at": "2023-06-26T13:44:17Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "# Bug Report\r\n\r\n## Description\r\n\r\nSo my attempt to update to 0.13-rc2 didn't go quite well 🙁 \r\n\r\n1. I couldn't login with TouchID: `Couldn't retrieve private key from keystore. The specified item could not be found in the keychain.`\r\n2. After logging manually with password re-encryption started and failed with Login failed: `FAILED TO MIGRATE TO VERSION 1686048341: CHECK CONSTRAINT FAILED: LENGTH(TRIM(KEY_UID)) > 0 IN LINE O`\r\n\r\nNot sure if these is on issue.\r\n\r\n<img width=\"1518\" alt=\"Screenshot 2023-06-19 at 12 43 58\" src=\"https://github.com/status-im/status-desktop/assets/25482501/fa334058-94f3-4ad8-ab46-ac88a28ec6bf\">\r\n\r\n<img width=\"1562\" alt=\"Screenshot 2023-06-19 at 12 52 10\" src=\"https://github.com/status-im/status-desktop/assets/25482501/fd58b1f6-6da5-4b7a-906f-3582a70cca1e\">\r\n\r\n________\r\n\r\n- Status desktop version: 0.13.0-rc (downloaded from [GitHub releases](https://github.com/status-im/status-desktop/releases/tag/untagged-2e2e1217d2853d4221e7))\r\n- Operating System: MacOS 13.4\r\n- Full log: [app_20230619_124337.log](https://github.com/status-im/status-desktop/files/11786920/app_20230619_124337.log)\r\n\r\n",
  "closed_by": {
    "login": "iurimatias",
    "id": 176720,
    "node_id": "MDQ6VXNlcjE3NjcyMA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/176720?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/iurimatias",
    "html_url": "https://github.com/iurimatias",
    "followers_url": "https://api.github.com/users/iurimatias/followers",
    "following_url": "https://api.github.com/users/iurimatias/following{/other_user}",
    "gists_url": "https://api.github.com/users/iurimatias/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/iurimatias/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/iurimatias/subscriptions",
    "organizations_url": "https://api.github.com/users/iurimatias/orgs",
    "repos_url": "https://api.github.com/users/iurimatias/repos",
    "events_url": "https://api.github.com/users/iurimatias/events{/privacy}",
    "received_events_url": "https://api.github.com/users/iurimatias/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/11132/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-desktop/issues/11132/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1596904588",
    "html_url": "https://github.com/status-im/status-desktop/issues/11132#issuecomment-1596904588",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/11132",
    "id": 1596904588,
    "node_id": "IC_kwDOD5KrTM5fLtSM",
    "user": {
      "login": "igor-sirotin",
      "id": 25482501,
      "node_id": "MDQ6VXNlcjI1NDgyNTAx",
      "avatar_url": "https://avatars.githubusercontent.com/u/25482501?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/igor-sirotin",
      "html_url": "https://github.com/igor-sirotin",
      "followers_url": "https://api.github.com/users/igor-sirotin/followers",
      "following_url": "https://api.github.com/users/igor-sirotin/following{/other_user}",
      "gists_url": "https://api.github.com/users/igor-sirotin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/igor-sirotin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/igor-sirotin/subscriptions",
      "organizations_url": "https://api.github.com/users/igor-sirotin/orgs",
      "repos_url": "https://api.github.com/users/igor-sirotin/repos",
      "events_url": "https://api.github.com/users/igor-sirotin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/igor-sirotin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-19T10:10:21Z",
    "updated_at": "2023-06-19T10:10:21Z",
    "author_association": "CONTRIBUTOR",
    "body": "The migration seems to be added here: https://github.com/status-im/status-go/pull/3540/files\r\n\r\ncc @stefandunca",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1596904588/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1596998796",
    "html_url": "https://github.com/status-im/status-desktop/issues/11132#issuecomment-1596998796",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/11132",
    "id": 1596998796,
    "node_id": "IC_kwDOD5KrTM5fMESM",
    "user": {
      "login": "caybro",
      "id": 5377645,
      "node_id": "MDQ6VXNlcjUzNzc2NDU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5377645?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/caybro",
      "html_url": "https://github.com/caybro",
      "followers_url": "https://api.github.com/users/caybro/followers",
      "following_url": "https://api.github.com/users/caybro/following{/other_user}",
      "gists_url": "https://api.github.com/users/caybro/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/caybro/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/caybro/subscriptions",
      "organizations_url": "https://api.github.com/users/caybro/orgs",
      "repos_url": "https://api.github.com/users/caybro/repos",
      "events_url": "https://api.github.com/users/caybro/events{/privacy}",
      "received_events_url": "https://api.github.com/users/caybro/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-19T11:16:14Z",
    "updated_at": "2023-06-19T11:16:14Z",
    "author_association": "MEMBER",
    "body": "cc @alexjba ",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1596998796/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1596999655",
    "html_url": "https://github.com/status-im/status-desktop/issues/11132#issuecomment-1596999655",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/11132",
    "id": 1596999655,
    "node_id": "IC_kwDOD5KrTM5fMEfn",
    "user": {
      "login": "igor-sirotin",
      "id": 25482501,
      "node_id": "MDQ6VXNlcjI1NDgyNTAx",
      "avatar_url": "https://avatars.githubusercontent.com/u/25482501?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/igor-sirotin",
      "html_url": "https://github.com/igor-sirotin",
      "followers_url": "https://api.github.com/users/igor-sirotin/followers",
      "following_url": "https://api.github.com/users/igor-sirotin/following{/other_user}",
      "gists_url": "https://api.github.com/users/igor-sirotin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/igor-sirotin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/igor-sirotin/subscriptions",
      "organizations_url": "https://api.github.com/users/igor-sirotin/orgs",
      "repos_url": "https://api.github.com/users/igor-sirotin/repos",
      "events_url": "https://api.github.com/users/igor-sirotin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/igor-sirotin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-19T11:16:51Z",
    "updated_at": "2023-06-19T11:16:51Z",
    "author_association": "CONTRIBUTOR",
    "body": "We should add a scrollview to that error, that looks not beautiful 😄 ",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1596999655/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1597051550",
    "html_url": "https://github.com/status-im/status-desktop/issues/11132#issuecomment-1597051550",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/11132",
    "id": 1597051550,
    "node_id": "IC_kwDOD5KrTM5fMRKe",
    "user": {
      "login": "anastasiyaig",
      "id": 82375995,
      "node_id": "MDQ6VXNlcjgyMzc1OTk1",
      "avatar_url": "https://avatars.githubusercontent.com/u/82375995?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/anastasiyaig",
      "html_url": "https://github.com/anastasiyaig",
      "followers_url": "https://api.github.com/users/anastasiyaig/followers",
      "following_url": "https://api.github.com/users/anastasiyaig/following{/other_user}",
      "gists_url": "https://api.github.com/users/anastasiyaig/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/anastasiyaig/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/anastasiyaig/subscriptions",
      "organizations_url": "https://api.github.com/users/anastasiyaig/orgs",
      "repos_url": "https://api.github.com/users/anastasiyaig/repos",
      "events_url": "https://api.github.com/users/anastasiyaig/events{/privacy}",
      "received_events_url": "https://api.github.com/users/anastasiyaig/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-19T11:57:29Z",
    "updated_at": "2023-06-19T11:57:29Z",
    "author_association": "CONTRIBUTOR",
    "body": "i saw the first screen as well during my upgrade, but i clicked Ok and it went all good (took around 20 min to encrypt)\r\n\r\n<img width=\"1552\" alt=\"Screenshot 2023-06-19 at 14 32 35\" src=\"https://github.com/status-im/status-desktop/assets/82375995/2030f291-1637-4fa0-90af-304655c545b2\">\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1597051550/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1597074423",
    "html_url": "https://github.com/status-im/status-desktop/issues/11132#issuecomment-1597074423",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/11132",
    "id": 1597074423,
    "node_id": "IC_kwDOD5KrTM5fMWv3",
    "user": {
      "login": "alexjba",
      "id": 47811206,
      "node_id": "MDQ6VXNlcjQ3ODExMjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/47811206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexjba",
      "html_url": "https://github.com/alexjba",
      "followers_url": "https://api.github.com/users/alexjba/followers",
      "following_url": "https://api.github.com/users/alexjba/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexjba/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexjba/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexjba/subscriptions",
      "organizations_url": "https://api.github.com/users/alexjba/orgs",
      "repos_url": "https://api.github.com/users/alexjba/repos",
      "events_url": "https://api.github.com/users/alexjba/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexjba/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-19T12:10:35Z",
    "updated_at": "2023-06-19T12:10:35Z",
    "author_association": "CONTRIBUTOR",
    "body": "@igor-sirotin I assume, if the migration script started and failed, the DB re-encryption was successful and the DB can be opened. This would be the case if you've seen the re-encrypt loading screen only once.\r\n\r\nBut just to be sure, can you check if you have the new DB format in the data folder and if the DB can be opened with a sql client? This [How-to page](https://www.notion.so/How-to-browse-sqlcipher-database-3300824d1d3242ec837bf8f99adeea33) has some updates for 0.13. The DB file is different and also the page size.\r\n\r\nWe can rule out a re-encryption bug if:\r\n1. If the new DB file can be opened (`<status-appdata>/data/<pubkey>-v4.db`) using `Page size` = 8192 and has data.\r\n2. If the old DB file is deleted (`<status-appdata>/data/<pubkey>.db`)\r\n\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1597074423/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1597120900",
    "html_url": "https://github.com/status-im/status-desktop/issues/11132#issuecomment-1597120900",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/11132",
    "id": 1597120900,
    "node_id": "IC_kwDOD5KrTM5fMiGE",
    "user": {
      "login": "stefandunca",
      "id": 47554641,
      "node_id": "MDQ6VXNlcjQ3NTU0NjQx",
      "avatar_url": "https://avatars.githubusercontent.com/u/47554641?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stefandunca",
      "html_url": "https://github.com/stefandunca",
      "followers_url": "https://api.github.com/users/stefandunca/followers",
      "following_url": "https://api.github.com/users/stefandunca/following{/other_user}",
      "gists_url": "https://api.github.com/users/stefandunca/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stefandunca/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stefandunca/subscriptions",
      "organizations_url": "https://api.github.com/users/stefandunca/orgs",
      "repos_url": "https://api.github.com/users/stefandunca/repos",
      "events_url": "https://api.github.com/users/stefandunca/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stefandunca/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-19T12:42:43Z",
    "updated_at": "2023-06-19T12:46:06Z",
    "author_association": "CONTRIBUTOR",
    "body": "> The migration seems to be added here: https://github.com/status-im/status-go/pull/3540/files\r\n> \r\n> cc @stefandunca\r\n\r\nThat migration is a custom GO migration, the accompanied SQL migration you mentioned is no-op and used as a marker. The error shows that one of the SQL migrations leading to that custom migration failed.\r\n\r\nJudjing by the error it might be this one that failed: https://github.com/status-im/status-go/blob/0fcf3abd83fc4da4a072766ad953602624651e72/appdatabase/migrations/sql/1683627613_accounts_and_keycards_improvements.up.sql#LL8C6-L8C6\r\n\r\n@saledjenic might know best of the conditions leading to that constrain failure",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1597120900/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1597231386",
    "html_url": "https://github.com/status-im/status-desktop/issues/11132#issuecomment-1597231386",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/11132",
    "id": 1597231386,
    "node_id": "IC_kwDOD5KrTM5fM9Ea",
    "user": {
      "login": "igor-sirotin",
      "id": 25482501,
      "node_id": "MDQ6VXNlcjI1NDgyNTAx",
      "avatar_url": "https://avatars.githubusercontent.com/u/25482501?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/igor-sirotin",
      "html_url": "https://github.com/igor-sirotin",
      "followers_url": "https://api.github.com/users/igor-sirotin/followers",
      "following_url": "https://api.github.com/users/igor-sirotin/following{/other_user}",
      "gists_url": "https://api.github.com/users/igor-sirotin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/igor-sirotin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/igor-sirotin/subscriptions",
      "organizations_url": "https://api.github.com/users/igor-sirotin/orgs",
      "repos_url": "https://api.github.com/users/igor-sirotin/repos",
      "events_url": "https://api.github.com/users/igor-sirotin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/igor-sirotin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-19T13:51:18Z",
    "updated_at": "2023-06-19T13:51:48Z",
    "author_association": "CONTRIBUTOR",
    "body": "Thanks guys for your responses.\r\n\r\n1.  `<pubkey-v4>` exists. But I'm not able to open it\r\nI tried with `DB Browser for SQLite`, which I used many times before. No errors though, behaves like if it was an invalid pasword. Will try with new CLI instructions.\r\n\r\n2. The old `<pubkey>.db` seems to be deleted.\r\n\r\nAlso, trying to login after the migration error gives me this:\r\n<img width=\"1312\" alt=\"Screenshot 2023-06-19 at 16 06 57\" src=\"https://github.com/status-im/status-desktop/assets/25482501/564c6e98-0afe-4fc5-a27e-ad7973fb7b23\">\r\n\r\n\r\ncc @alexjba ",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1597231386/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1597246944",
    "html_url": "https://github.com/status-im/status-desktop/issues/11132#issuecomment-1597246944",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/11132",
    "id": 1597246944,
    "node_id": "IC_kwDOD5KrTM5fNA3g",
    "user": {
      "login": "dlipicar",
      "id": 11161531,
      "node_id": "MDQ6VXNlcjExMTYxNTMx",
      "avatar_url": "https://avatars.githubusercontent.com/u/11161531?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dlipicar",
      "html_url": "https://github.com/dlipicar",
      "followers_url": "https://api.github.com/users/dlipicar/followers",
      "following_url": "https://api.github.com/users/dlipicar/following{/other_user}",
      "gists_url": "https://api.github.com/users/dlipicar/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dlipicar/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dlipicar/subscriptions",
      "organizations_url": "https://api.github.com/users/dlipicar/orgs",
      "repos_url": "https://api.github.com/users/dlipicar/repos",
      "events_url": "https://api.github.com/users/dlipicar/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dlipicar/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-19T14:01:23Z",
    "updated_at": "2023-06-19T14:07:33Z",
    "author_association": "CONTRIBUTOR",
    "body": "I had the v4 db and the original one is not there.\r\nIn my `accounts` table, the second entry has an empty `key_uid`\r\n![image](https://github.com/status-im/status-desktop/assets/11161531/fffb514c-e801-4790-8f5c-39a63ccda801)\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1597246944/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1597254168",
    "html_url": "https://github.com/status-im/status-desktop/issues/11132#issuecomment-1597254168",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/11132",
    "id": 1597254168,
    "node_id": "IC_kwDOD5KrTM5fNCoY",
    "user": {
      "login": "stefandunca",
      "id": 47554641,
      "node_id": "MDQ6VXNlcjQ3NTU0NjQx",
      "avatar_url": "https://avatars.githubusercontent.com/u/47554641?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stefandunca",
      "html_url": "https://github.com/stefandunca",
      "followers_url": "https://api.github.com/users/stefandunca/followers",
      "following_url": "https://api.github.com/users/stefandunca/following{/other_user}",
      "gists_url": "https://api.github.com/users/stefandunca/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stefandunca/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stefandunca/subscriptions",
      "organizations_url": "https://api.github.com/users/stefandunca/orgs",
      "repos_url": "https://api.github.com/users/stefandunca/repos",
      "events_url": "https://api.github.com/users/stefandunca/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stefandunca/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-19T14:05:33Z",
    "updated_at": "2023-06-19T14:05:33Z",
    "author_association": "CONTRIBUTOR",
    "body": "> Thanks guys for your responses.\r\n> \r\n> 1. `<pubkey-v4>` exists. But I'm not able to open it\r\n> ...\r\n\r\nSure you used the new `Page size` = 8192 as @alexjba mentioned? I could only open the new DB after changing the used settings to the new page size",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1597254168/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1597255610",
    "html_url": "https://github.com/status-im/status-desktop/issues/11132#issuecomment-1597255610",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/11132",
    "id": 1597255610,
    "node_id": "IC_kwDOD5KrTM5fNC-6",
    "user": {
      "login": "igor-sirotin",
      "id": 25482501,
      "node_id": "MDQ6VXNlcjI1NDgyNTAx",
      "avatar_url": "https://avatars.githubusercontent.com/u/25482501?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/igor-sirotin",
      "html_url": "https://github.com/igor-sirotin",
      "followers_url": "https://api.github.com/users/igor-sirotin/followers",
      "following_url": "https://api.github.com/users/igor-sirotin/following{/other_user}",
      "gists_url": "https://api.github.com/users/igor-sirotin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/igor-sirotin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/igor-sirotin/subscriptions",
      "organizations_url": "https://api.github.com/users/igor-sirotin/orgs",
      "repos_url": "https://api.github.com/users/igor-sirotin/repos",
      "events_url": "https://api.github.com/users/igor-sirotin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/igor-sirotin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-19T14:06:20Z",
    "updated_at": "2023-06-19T14:06:20Z",
    "author_association": "CONTRIBUTOR",
    "body": "@stefandunca Yes, I did. Tried several times 😄 \r\nBut double-checking everything now.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1597255610/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1597280463",
    "html_url": "https://github.com/status-im/status-desktop/issues/11132#issuecomment-1597280463",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/11132",
    "id": 1597280463,
    "node_id": "IC_kwDOD5KrTM5fNJDP",
    "user": {
      "login": "igor-sirotin",
      "id": 25482501,
      "node_id": "MDQ6VXNlcjI1NDgyNTAx",
      "avatar_url": "https://avatars.githubusercontent.com/u/25482501?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/igor-sirotin",
      "html_url": "https://github.com/igor-sirotin",
      "followers_url": "https://api.github.com/users/igor-sirotin/followers",
      "following_url": "https://api.github.com/users/igor-sirotin/following{/other_user}",
      "gists_url": "https://api.github.com/users/igor-sirotin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/igor-sirotin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/igor-sirotin/subscriptions",
      "organizations_url": "https://api.github.com/users/igor-sirotin/orgs",
      "repos_url": "https://api.github.com/users/igor-sirotin/repos",
      "events_url": "https://api.github.com/users/igor-sirotin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/igor-sirotin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-19T14:20:44Z",
    "updated_at": "2023-06-19T14:20:44Z",
    "author_association": "CONTRIBUTOR",
    "body": "## DBBrowser\r\n<img width=\"433\" alt=\"image\" src=\"https://github.com/status-im/status-desktop/assets/25482501/b0334ac0-4796-4e91-b465-f61d01ff439e\">\r\n\r\n## CLI `sqlcipher`\r\n\r\n```bash\r\n\r\n➜  data sqlcipher accounts.sql\r\nSQLite version 3.41.2 2023-03-22 11:56:21 (SQLCipher 4.5.4 community)\r\nEnter \".help\" for usage hints.\r\nsqlite> SELECT name, keyUid FROM accounts;\r\nsirotin-1|0x1783df06f1030e3681f6fd109545ab17d247d5431022869bb8092a5a817f2912\r\nsirotin-test-1|0x34994f72ba02d1a2054164d795949eb4ee2fce3bce8335eb3e1cf22c37259960\r\nqwertyuiop|0x9955c719449eefe2ec1284928d01d84704a5d3cb41ffc0cfdb43db9207ecfa4e\r\nsirotin|0xd73baeb6587b8d979f908ecf0caa4bfb314f4c2086fd078d7c9b4e73d1250f71\r\nqwertyasdfgh|0xfe4fbeefcb8e85a2016e52034af15945e51282ab5c8605e41dc2055d760bc8a2\r\n```\r\n\r\n```bash\r\n➜  data ls -l | grep 0xd73baeb6587b8d979f908ecf0caa4bfb314f4c2086fd078d7c9b4e73d1250f71\r\n-rw-r--r--@  1 igorsirotin  staff  6344515584 Jun 19 12:47 0xd73baeb6587b8d979f908ecf0caa4bfb314f4c2086fd078d7c9b4e73d1250f71-v4.db\r\n-rw-r--r--@  1 igorsirotin  staff       32768 Jun 19 17:15 0xd73baeb6587b8d979f908ecf0caa4bfb314f4c2086fd078d7c9b4e73d1250f71-v4.db-shm\r\n-rw-r--r--@  1 igorsirotin  staff       73976 Jun 19 12:47 0xd73baeb6587b8d979f908ecf0caa4bfb314f4c2086fd078d7c9b4e73d1250f71-v4.db-wal\r\n```\r\n\r\n```bash\r\n➜  data sqlcipher 0xd73baeb6587b8d979f908ecf0caa4bfb314f4c2086fd078d7c9b4e73d1250f71-v4.db\r\nSQLite version 3.41.2 2023-03-22 11:56:21 (SQLCipher 4.5.4 community)\r\nEnter \".help\" for usage hints.\r\nsqlite> PRAGMA key = \"<my-password-hash-here>\";\r\nok\r\nsqlite> PRAGMA cipher_page_size = 8192;\r\nsqlite> PRAGMA kdf_iter = 256000;\r\nsqlite> PRAGMA cipher_hmac_algorithm = HMAC_SHA1;\r\nsqlite> PRAGMA cipher_kdf_algorithm = PBKDF2_HMAC_SHA1;\r\nsqlite> \r\nsqlite> .tables\r\nError: file is not a database\r\nsqlite> \r\n\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1597280463/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1597283357",
    "html_url": "https://github.com/status-im/status-desktop/issues/11132#issuecomment-1597283357",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/11132",
    "id": 1597283357,
    "node_id": "IC_kwDOD5KrTM5fNJwd",
    "user": {
      "login": "alexjba",
      "id": 47811206,
      "node_id": "MDQ6VXNlcjQ3ODExMjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/47811206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexjba",
      "html_url": "https://github.com/alexjba",
      "followers_url": "https://api.github.com/users/alexjba/followers",
      "following_url": "https://api.github.com/users/alexjba/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexjba/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexjba/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexjba/subscriptions",
      "organizations_url": "https://api.github.com/users/alexjba/orgs",
      "repos_url": "https://api.github.com/users/alexjba/repos",
      "events_url": "https://api.github.com/users/alexjba/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexjba/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-19T14:22:40Z",
    "updated_at": "2023-06-19T14:22:40Z",
    "author_association": "CONTRIBUTOR",
    "body": "> > Thanks guys for your responses.\r\n> > \r\n> > 1. `<pubkey-v4>` exists. But I'm not able to open it\r\n> >    ...\r\n> \r\n> Sure you used the new `Page size` = 8192 as @alexjba mentioned? I could only open the new DB after changing the used settings to the new page size\r\n\r\nAlso the lower case key hash https://www.notion.so/How-to-browse-sqlcipher-database-3300824d1d3242ec837bf8f99adeea33?pvs=4#b8c3e0ca741148fcbb0ef807554b0ba5",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1597283357/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1597298007",
    "html_url": "https://github.com/status-im/status-desktop/issues/11132#issuecomment-1597298007",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/11132",
    "id": 1597298007,
    "node_id": "IC_kwDOD5KrTM5fNNVX",
    "user": {
      "login": "igor-sirotin",
      "id": 25482501,
      "node_id": "MDQ6VXNlcjI1NDgyNTAx",
      "avatar_url": "https://avatars.githubusercontent.com/u/25482501?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/igor-sirotin",
      "html_url": "https://github.com/igor-sirotin",
      "followers_url": "https://api.github.com/users/igor-sirotin/followers",
      "following_url": "https://api.github.com/users/igor-sirotin/following{/other_user}",
      "gists_url": "https://api.github.com/users/igor-sirotin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/igor-sirotin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/igor-sirotin/subscriptions",
      "organizations_url": "https://api.github.com/users/igor-sirotin/orgs",
      "repos_url": "https://api.github.com/users/igor-sirotin/repos",
      "events_url": "https://api.github.com/users/igor-sirotin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/igor-sirotin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-19T14:32:40Z",
    "updated_at": "2023-06-19T14:32:40Z",
    "author_association": "CONTRIBUTOR",
    "body": "> Also the lower case key hash\r\n\r\n@alexjba, sure. I used `scripts/password_hash.py` for this. And tried the online tool as well.\r\nI'm able to open other databases actually with same procedure.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1597298007/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1597301474",
    "html_url": "https://github.com/status-im/status-desktop/issues/11132#issuecomment-1597301474",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/11132",
    "id": 1597301474,
    "node_id": "IC_kwDOD5KrTM5fNOLi",
    "user": {
      "login": "igor-sirotin",
      "id": 25482501,
      "node_id": "MDQ6VXNlcjI1NDgyNTAx",
      "avatar_url": "https://avatars.githubusercontent.com/u/25482501?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/igor-sirotin",
      "html_url": "https://github.com/igor-sirotin",
      "followers_url": "https://api.github.com/users/igor-sirotin/followers",
      "following_url": "https://api.github.com/users/igor-sirotin/following{/other_user}",
      "gists_url": "https://api.github.com/users/igor-sirotin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/igor-sirotin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/igor-sirotin/subscriptions",
      "organizations_url": "https://api.github.com/users/igor-sirotin/orgs",
      "repos_url": "https://api.github.com/users/igor-sirotin/repos",
      "events_url": "https://api.github.com/users/igor-sirotin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/igor-sirotin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-19T14:35:09Z",
    "updated_at": "2023-06-19T14:35:09Z",
    "author_association": "CONTRIBUTOR",
    "body": "Give me a second, checking smth.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1597301474/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1597337905",
    "html_url": "https://github.com/status-im/status-desktop/issues/11132#issuecomment-1597337905",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/11132",
    "id": 1597337905,
    "node_id": "IC_kwDOD5KrTM5fNXEx",
    "user": {
      "login": "alexjba",
      "id": 47811206,
      "node_id": "MDQ6VXNlcjQ3ODExMjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/47811206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexjba",
      "html_url": "https://github.com/alexjba",
      "followers_url": "https://api.github.com/users/alexjba/followers",
      "following_url": "https://api.github.com/users/alexjba/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexjba/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexjba/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexjba/subscriptions",
      "organizations_url": "https://api.github.com/users/alexjba/orgs",
      "repos_url": "https://api.github.com/users/alexjba/repos",
      "events_url": "https://api.github.com/users/alexjba/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexjba/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-19T14:58:41Z",
    "updated_at": "2023-06-19T14:58:41Z",
    "author_association": "CONTRIBUTOR",
    "body": ">  ```shell\r\n> ➜  data ls -l | grep 0xd73baeb6587b8d979f908ecf0caa4bfb314f4c2086fd078d7c9b4e73d1250f71\r\n> -rw-r--r--@  1 igorsirotin  staff  6344515584 Jun 19 12:47 0xd73baeb6587b8d979f908ecf0caa4bfb314f4c2086fd078d7c9b4e73d1250f71-v4.db\r\n> -rw-r--r--@  1 igorsirotin  staff       32768 Jun 19 17:15 0xd73baeb6587b8d979f908ecf0caa4bfb314f4c2086fd078d7c9b4e73d1250f71-v4.db-shm\r\n> -rw-r--r--@  1 igorsirotin  staff       73976 Jun 19 12:47 0xd73baeb6587b8d979f908ecf0caa4bfb314f4c2086fd078d7c9b4e73d1250f71-v4.db-wal\r\n> ```\r\n\r\nThe DB file looks good. I see the `wal` file there and it gives me hope 😄 . It means the DB was opened after migration and had some write operations.\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1597337905/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1597361152",
    "html_url": "https://github.com/status-im/status-desktop/issues/11132#issuecomment-1597361152",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/11132",
    "id": 1597361152,
    "node_id": "IC_kwDOD5KrTM5fNcwA",
    "user": {
      "login": "igor-sirotin",
      "id": 25482501,
      "node_id": "MDQ6VXNlcjI1NDgyNTAx",
      "avatar_url": "https://avatars.githubusercontent.com/u/25482501?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/igor-sirotin",
      "html_url": "https://github.com/igor-sirotin",
      "followers_url": "https://api.github.com/users/igor-sirotin/followers",
      "following_url": "https://api.github.com/users/igor-sirotin/following{/other_user}",
      "gists_url": "https://api.github.com/users/igor-sirotin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/igor-sirotin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/igor-sirotin/subscriptions",
      "organizations_url": "https://api.github.com/users/igor-sirotin/orgs",
      "repos_url": "https://api.github.com/users/igor-sirotin/repos",
      "events_url": "https://api.github.com/users/igor-sirotin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/igor-sirotin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-19T15:11:54Z",
    "updated_at": "2023-06-19T15:12:46Z",
    "author_association": "CONTRIBUTOR",
    "body": "Checked that the password is correct by opening `0.12.0` version.\r\nBut I'm not able to open the backed up database with DBBrowser as well 🤔 \r\n\r\nThough I was able to open it with CLI, it shows me an empty database.\r\n```bash\r\nsqlite> .tables\r\nsqlite>\r\n```\r\n\r\nAnd the `0.12.0` app works just fine 👀 \r\n\r\n_______\r\nI see from instructions that I should build latest `sqlcipher` locally. This didn't work for me, I get a build error, so I am using the one from `brew`. That might be an issue with CLI, but I'm able to open other local database.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1597361152/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1597396407",
    "html_url": "https://github.com/status-im/status-desktop/issues/11132#issuecomment-1597396407",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/11132",
    "id": 1597396407,
    "node_id": "IC_kwDOD5KrTM5fNlW3",
    "user": {
      "login": "igor-sirotin",
      "id": 25482501,
      "node_id": "MDQ6VXNlcjI1NDgyNTAx",
      "avatar_url": "https://avatars.githubusercontent.com/u/25482501?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/igor-sirotin",
      "html_url": "https://github.com/igor-sirotin",
      "followers_url": "https://api.github.com/users/igor-sirotin/followers",
      "following_url": "https://api.github.com/users/igor-sirotin/following{/other_user}",
      "gists_url": "https://api.github.com/users/igor-sirotin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/igor-sirotin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/igor-sirotin/subscriptions",
      "organizations_url": "https://api.github.com/users/igor-sirotin/orgs",
      "repos_url": "https://api.github.com/users/igor-sirotin/repos",
      "events_url": "https://api.github.com/users/igor-sirotin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/igor-sirotin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-19T15:37:01Z",
    "updated_at": "2023-06-19T15:37:22Z",
    "author_association": "CONTRIBUTOR",
    "body": "I seem to have the latest version. Also succeeded to build it locally after all, version is the same.\r\n```\r\nSQLite version 3.41.2 2023-03-22 11:56:21 (SQLCipher 4.5.4 community)\r\n```\r\n\r\nStill not able to open the backed up database, but now I get `Error: file is not a database`.\r\n```bash\r\n➜  Application Support sqlcipher Status/data/0xd73baeb6587b8d979f908ecf0caa4bfb314f4c2086fd078d7c9b4e73d1250f71.db\r\nSQLite version 3.41.2 2023-03-22 11:56:21 (SQLCipher 4.5.4 community)\r\nEnter \".help\" for usage hints.\r\nsqlite> PRAGMA key = \"0x041ae69448532a5d89533669b0125c0acec83f5db1722ee68d49f18a397427d2\";\r\nok\r\nsqlite> PRAGMA cipher_page_size = 1024;\r\nsqlite> PRAGMA kdf_iter = 256000;\r\nsqlite> PRAGMA cipher_hmac_algorithm = HMAC_SHA1;\r\nsqlite> PRAGMA cipher_kdf_algorithm = PBKDF2_HMAC_SHA1;\r\nsqlite> .tables\r\nError: file is not a database\r\nsqlite> \r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1597396407/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1597422183",
    "html_url": "https://github.com/status-im/status-desktop/issues/11132#issuecomment-1597422183",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/11132",
    "id": 1597422183,
    "node_id": "IC_kwDOD5KrTM5fNrpn",
    "user": {
      "login": "stefandunca",
      "id": 47554641,
      "node_id": "MDQ6VXNlcjQ3NTU0NjQx",
      "avatar_url": "https://avatars.githubusercontent.com/u/47554641?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stefandunca",
      "html_url": "https://github.com/stefandunca",
      "followers_url": "https://api.github.com/users/stefandunca/followers",
      "following_url": "https://api.github.com/users/stefandunca/following{/other_user}",
      "gists_url": "https://api.github.com/users/stefandunca/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stefandunca/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stefandunca/subscriptions",
      "organizations_url": "https://api.github.com/users/stefandunca/orgs",
      "repos_url": "https://api.github.com/users/stefandunca/repos",
      "events_url": "https://api.github.com/users/stefandunca/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stefandunca/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-19T15:55:31Z",
    "updated_at": "2023-06-19T15:55:46Z",
    "author_association": "CONTRIBUTOR",
    "body": "I think it was corrupted for some reason. I can't think of any reason other than stopping the encryption process. However, @alexjba saw that encryption was finished successfully.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1597422183/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1597431530",
    "html_url": "https://github.com/status-im/status-desktop/issues/11132#issuecomment-1597431530",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/11132",
    "id": 1597431530,
    "node_id": "IC_kwDOD5KrTM5fNt7q",
    "user": {
      "login": "igor-sirotin",
      "id": 25482501,
      "node_id": "MDQ6VXNlcjI1NDgyNTAx",
      "avatar_url": "https://avatars.githubusercontent.com/u/25482501?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/igor-sirotin",
      "html_url": "https://github.com/igor-sirotin",
      "followers_url": "https://api.github.com/users/igor-sirotin/followers",
      "following_url": "https://api.github.com/users/igor-sirotin/following{/other_user}",
      "gists_url": "https://api.github.com/users/igor-sirotin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/igor-sirotin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/igor-sirotin/subscriptions",
      "organizations_url": "https://api.github.com/users/igor-sirotin/orgs",
      "repos_url": "https://api.github.com/users/igor-sirotin/repos",
      "events_url": "https://api.github.com/users/igor-sirotin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/igor-sirotin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-19T16:01:53Z",
    "updated_at": "2023-06-19T16:59:33Z",
    "author_association": "CONTRIBUTOR",
    "body": "@stefandunca I am not able to open manually even the backup database that wasn't processed by `0.13-rc2`.\r\nSo I suppose that I can't open the \"processed by `0.13`\" for the same reason and it might be still be not corrupted. \r\n\r\nI'm trying to figure it out now.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1597431530/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1597444946",
    "html_url": "https://github.com/status-im/status-desktop/issues/11132#issuecomment-1597444946",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/11132",
    "id": 1597444946,
    "node_id": "IC_kwDOD5KrTM5fNxNS",
    "user": {
      "login": "igor-sirotin",
      "id": 25482501,
      "node_id": "MDQ6VXNlcjI1NDgyNTAx",
      "avatar_url": "https://avatars.githubusercontent.com/u/25482501?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/igor-sirotin",
      "html_url": "https://github.com/igor-sirotin",
      "followers_url": "https://api.github.com/users/igor-sirotin/followers",
      "following_url": "https://api.github.com/users/igor-sirotin/following{/other_user}",
      "gists_url": "https://api.github.com/users/igor-sirotin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/igor-sirotin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/igor-sirotin/subscriptions",
      "organizations_url": "https://api.github.com/users/igor-sirotin/orgs",
      "repos_url": "https://api.github.com/users/igor-sirotin/repos",
      "events_url": "https://api.github.com/users/igor-sirotin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/igor-sirotin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-19T16:11:00Z",
    "updated_at": "2023-06-19T16:12:53Z",
    "author_association": "CONTRIBUTOR",
    "body": "Just linking:\r\n- https://github.com/status-im/status-go/pull/3559",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1597444946/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1597490388",
    "html_url": "https://github.com/status-im/status-desktop/issues/11132#issuecomment-1597490388",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/11132",
    "id": 1597490388,
    "node_id": "IC_kwDOD5KrTM5fN8TU",
    "user": {
      "login": "igor-sirotin",
      "id": 25482501,
      "node_id": "MDQ6VXNlcjI1NDgyNTAx",
      "avatar_url": "https://avatars.githubusercontent.com/u/25482501?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/igor-sirotin",
      "html_url": "https://github.com/igor-sirotin",
      "followers_url": "https://api.github.com/users/igor-sirotin/followers",
      "following_url": "https://api.github.com/users/igor-sirotin/following{/other_user}",
      "gists_url": "https://api.github.com/users/igor-sirotin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/igor-sirotin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/igor-sirotin/subscriptions",
      "organizations_url": "https://api.github.com/users/igor-sirotin/orgs",
      "repos_url": "https://api.github.com/users/igor-sirotin/repos",
      "events_url": "https://api.github.com/users/igor-sirotin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/igor-sirotin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-19T16:56:59Z",
    "updated_at": "2023-06-19T16:56:59Z",
    "author_association": "CONTRIBUTOR",
    "body": "Opening database with `PRAGMA cipher_compatibility = 3;` doesn't help.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1597490388/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1598577720",
    "html_url": "https://github.com/status-im/status-desktop/issues/11132#issuecomment-1598577720",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/11132",
    "id": 1598577720,
    "node_id": "IC_kwDOD5KrTM5fSFw4",
    "user": {
      "login": "stefandunca",
      "id": 47554641,
      "node_id": "MDQ6VXNlcjQ3NTU0NjQx",
      "avatar_url": "https://avatars.githubusercontent.com/u/47554641?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stefandunca",
      "html_url": "https://github.com/stefandunca",
      "followers_url": "https://api.github.com/users/stefandunca/followers",
      "following_url": "https://api.github.com/users/stefandunca/following{/other_user}",
      "gists_url": "https://api.github.com/users/stefandunca/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stefandunca/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stefandunca/subscriptions",
      "organizations_url": "https://api.github.com/users/stefandunca/orgs",
      "repos_url": "https://api.github.com/users/stefandunca/repos",
      "events_url": "https://api.github.com/users/stefandunca/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stefandunca/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-20T11:10:03Z",
    "updated_at": "2023-06-20T11:10:03Z",
    "author_association": "CONTRIBUTOR",
    "body": "> @stefandunca I am not able to open manually even the backup database that wasn't processed by `0.13-rc2`. So I suppose that I can't open the \"processed by `0.13`\" for the same reason and it might be still be not corrupted.\r\n\r\nSounds strange. If not corrupted, may it be that the password changed in the encryption process than the one you expect? I know there was a password change some time ago (changed case) but can't imagine how that would affect the current migration.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1598577720/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1598897318",
    "html_url": "https://github.com/status-im/status-desktop/issues/11132#issuecomment-1598897318",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/11132",
    "id": 1598897318,
    "node_id": "IC_kwDOD5KrTM5fTTym",
    "user": {
      "login": "igor-sirotin",
      "id": 25482501,
      "node_id": "MDQ6VXNlcjI1NDgyNTAx",
      "avatar_url": "https://avatars.githubusercontent.com/u/25482501?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/igor-sirotin",
      "html_url": "https://github.com/igor-sirotin",
      "followers_url": "https://api.github.com/users/igor-sirotin/followers",
      "following_url": "https://api.github.com/users/igor-sirotin/following{/other_user}",
      "gists_url": "https://api.github.com/users/igor-sirotin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/igor-sirotin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/igor-sirotin/subscriptions",
      "organizations_url": "https://api.github.com/users/igor-sirotin/orgs",
      "repos_url": "https://api.github.com/users/igor-sirotin/repos",
      "events_url": "https://api.github.com/users/igor-sirotin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/igor-sirotin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-20T14:24:44Z",
    "updated_at": "2023-06-20T15:43:32Z",
    "author_association": "CONTRIBUTOR",
    "body": "sooo, we have some updates 🙂 \r\n\r\n## News\r\n\r\n1. I succeeded to open my database.\r\nThe problem was that I expected `kdfIterations` to be `256000`, but the accounts database shows that it's `3200`.\r\n\r\n2. The processed by `0.13` database is not corrupted.\r\nIt opens fine, but shows that the migration failed.\r\n```SQL\r\nSELECT * FROM status_go_schema_migrations\r\n[(1683627613, 'true')]\r\n```\r\n\r\n## Action items\r\n\r\n1. From this it seems that the migrations failed because it was using `kdfIterations = 256000` instead of the right value, just like I did.\r\n    * @dlipicar Could you please check your database (that failed to migrate) `kdfIterations` value?\r\n    * We also agreed with @alexjba that he will test this hypothesis\r\n\r\n2. Why is my database still on `kdfIterations = 3200`? 🤔 \r\nShould we have migrated after https://github.com/status-im/status-desktop/pull/6997?\r\n@jrainville probably you know overall picture?",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1598897318/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1599093502",
    "html_url": "https://github.com/status-im/status-desktop/issues/11132#issuecomment-1599093502",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/11132",
    "id": 1599093502,
    "node_id": "IC_kwDOD5KrTM5fUDr-",
    "user": {
      "login": "jrainville",
      "id": 11926403,
      "node_id": "MDQ6VXNlcjExOTI2NDAz",
      "avatar_url": "https://avatars.githubusercontent.com/u/11926403?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jrainville",
      "html_url": "https://github.com/jrainville",
      "followers_url": "https://api.github.com/users/jrainville/followers",
      "following_url": "https://api.github.com/users/jrainville/following{/other_user}",
      "gists_url": "https://api.github.com/users/jrainville/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jrainville/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jrainville/subscriptions",
      "organizations_url": "https://api.github.com/users/jrainville/orgs",
      "repos_url": "https://api.github.com/users/jrainville/repos",
      "events_url": "https://api.github.com/users/jrainville/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jrainville/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-20T16:07:19Z",
    "updated_at": "2023-06-20T16:07:19Z",
    "author_association": "MEMBER",
    "body": "> Why is my database still on kdfIterations = 3200? thinking\r\nShould we have migrated after https://github.com/status-im/status-desktop/pull/6997?\r\n@jrainville probably you know overall picture?\r\n\r\nHmm, I guess it should have migrated, though I'm not sure what could have prevented it. @richard-ramos do you have an idea?",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1599093502/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1600338136",
    "html_url": "https://github.com/status-im/status-desktop/issues/11132#issuecomment-1600338136",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/11132",
    "id": 1600338136,
    "node_id": "IC_kwDOD5KrTM5fYzjY",
    "user": {
      "login": "alexjba",
      "id": 47811206,
      "node_id": "MDQ6VXNlcjQ3ODExMjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/47811206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexjba",
      "html_url": "https://github.com/alexjba",
      "followers_url": "https://api.github.com/users/alexjba/followers",
      "following_url": "https://api.github.com/users/alexjba/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexjba/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexjba/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexjba/subscriptions",
      "organizations_url": "https://api.github.com/users/alexjba/orgs",
      "repos_url": "https://api.github.com/users/alexjba/repos",
      "events_url": "https://api.github.com/users/alexjba/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexjba/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-21T07:39:43Z",
    "updated_at": "2023-06-21T07:39:43Z",
    "author_association": "CONTRIBUTOR",
    "body": ">From this it seems that the migrations failed because it was using kdfIterations = 256000 instead of the right value, just like I did.\r\n\r\nDB re-encryption works fine with `kdfIterations = 3200`. Had no issues migrating a large DB configured with 3200 KDF iter.\r\n\r\nFixing the migration script mentioned here https://github.com/status-im/status-desktop/issues/11132#issuecomment-1597120900 should be enough to close this issue.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1600338136/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1600572195",
    "html_url": "https://github.com/status-im/status-desktop/issues/11132#issuecomment-1600572195",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/11132",
    "id": 1600572195,
    "node_id": "IC_kwDOD5KrTM5fZssj",
    "user": {
      "login": "stefandunca",
      "id": 47554641,
      "node_id": "MDQ6VXNlcjQ3NTU0NjQx",
      "avatar_url": "https://avatars.githubusercontent.com/u/47554641?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stefandunca",
      "html_url": "https://github.com/stefandunca",
      "followers_url": "https://api.github.com/users/stefandunca/followers",
      "following_url": "https://api.github.com/users/stefandunca/following{/other_user}",
      "gists_url": "https://api.github.com/users/stefandunca/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stefandunca/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stefandunca/subscriptions",
      "organizations_url": "https://api.github.com/users/stefandunca/orgs",
      "repos_url": "https://api.github.com/users/stefandunca/repos",
      "events_url": "https://api.github.com/users/stefandunca/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stefandunca/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-21T10:16:17Z",
    "updated_at": "2023-06-21T10:16:17Z",
    "author_association": "CONTRIBUTOR",
    "body": "> 1. From this it seems that the migrations failed because it was using `kdfIterations = 256000` instead of the right value, just like I did.\r\n\r\nNot sure what you mean here. From your description sounds to me like you had a failure migrating the accounts table because of the missing `key_uuid` like @dlipicar also had.\r\n\r\n@igor-sirotin this migration failure is just a side effect for the broken accounts table. looking now into what could lead to this initial outcome.\r\n\r\nCould you please look at the `accounts` table and confirm the missing key_uuid. Could you share more about your account entries (are they all as you expected)?\r\n\r\n>    * @dlipicar Could you please check your database (that failed to migrate) `kdfIterations` value?\r\n\r\nI had some debugging sessions with @dlipicar but AFAIK he didn't get into the KDF iteration issue. He had the same authenticate failure and then the expected migration failure due to a missing key_uuid entry for one of the accounts (as he posted above)\r\n\r\n> 2. Why is my database still on `kdfIterations = 3200`? 🤔\r\n\r\n@alexjba when do we change the KDF iterations? after migrating to a higher value? Might it be that we update the KDF only if we migrate successfully or after we encrypt the DB?\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1600572195/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1600641864",
    "html_url": "https://github.com/status-im/status-desktop/issues/11132#issuecomment-1600641864",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/11132",
    "id": 1600641864,
    "node_id": "IC_kwDOD5KrTM5fZ9tI",
    "user": {
      "login": "alexjba",
      "id": 47811206,
      "node_id": "MDQ6VXNlcjQ3ODExMjA2",
      "avatar_url": "https://avatars.githubusercontent.com/u/47811206?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexjba",
      "html_url": "https://github.com/alexjba",
      "followers_url": "https://api.github.com/users/alexjba/followers",
      "following_url": "https://api.github.com/users/alexjba/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexjba/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexjba/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexjba/subscriptions",
      "organizations_url": "https://api.github.com/users/alexjba/orgs",
      "repos_url": "https://api.github.com/users/alexjba/repos",
      "events_url": "https://api.github.com/users/alexjba/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexjba/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-21T11:10:30Z",
    "updated_at": "2023-06-21T11:10:30Z",
    "author_association": "CONTRIBUTOR",
    "body": "> @alexjba when do we change the KDF iterations? after migrating to a higher value? Might it be that we update the KDF only if we migrate successfully or after we encrypt the DB?\r\n\r\nAll I could find so far is that it's configurable when creating the DB, but no migration process for existing DB.\r\n\r\n> I had some debugging sessions with @dlipicar but AFAIK he didn't get into the KDF iteration issue. He had the same authenticate failure and then the expected migration failure due to a missing key_uuid entry for one of the accounts (as he posted above)\r\n\r\nNot sure yet the KDF iter number has anything to do with the migration failure. @dlipicar would be interesting to find if your account is also configured to `kdfIterations = 3200`.\r\n\r\nOne thing's for sure, would be great to reproduce it. @igor-sirotin @dlipicar Can you also reproduce it on test accounts you're comfortable sharing?",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1600641864/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1600760117",
    "html_url": "https://github.com/status-im/status-desktop/issues/11132#issuecomment-1600760117",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/11132",
    "id": 1600760117,
    "node_id": "IC_kwDOD5KrTM5faak1",
    "user": {
      "login": "stefandunca",
      "id": 47554641,
      "node_id": "MDQ6VXNlcjQ3NTU0NjQx",
      "avatar_url": "https://avatars.githubusercontent.com/u/47554641?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stefandunca",
      "html_url": "https://github.com/stefandunca",
      "followers_url": "https://api.github.com/users/stefandunca/followers",
      "following_url": "https://api.github.com/users/stefandunca/following{/other_user}",
      "gists_url": "https://api.github.com/users/stefandunca/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stefandunca/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stefandunca/subscriptions",
      "organizations_url": "https://api.github.com/users/stefandunca/orgs",
      "repos_url": "https://api.github.com/users/stefandunca/repos",
      "events_url": "https://api.github.com/users/stefandunca/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stefandunca/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-21T12:39:21Z",
    "updated_at": "2023-06-21T12:39:21Z",
    "author_association": "CONTRIBUTOR",
    "body": "For some reason, the accounts that failed the migration have invalid data for the new structure and violate this requirement https://github.com/status-im/status-go/blob/eeaaf0ce3f1faf83471b8bc5756ad169a42b2a0b/appdatabase/migrations/sql/1683627613_accounts_and_keycards_improvements.up.sql#L40\r\n\r\nAt first glance, there are old accounts with empty or `generated` types and empty `key_uid`. Looking now at how to fix this without dropping these accounts.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1600760117/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1600780289",
    "html_url": "https://github.com/status-im/status-desktop/issues/11132#issuecomment-1600780289",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/11132",
    "id": 1600780289,
    "node_id": "IC_kwDOD5KrTM5fafgB",
    "user": {
      "login": "igor-sirotin",
      "id": 25482501,
      "node_id": "MDQ6VXNlcjI1NDgyNTAx",
      "avatar_url": "https://avatars.githubusercontent.com/u/25482501?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/igor-sirotin",
      "html_url": "https://github.com/igor-sirotin",
      "followers_url": "https://api.github.com/users/igor-sirotin/followers",
      "following_url": "https://api.github.com/users/igor-sirotin/following{/other_user}",
      "gists_url": "https://api.github.com/users/igor-sirotin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/igor-sirotin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/igor-sirotin/subscriptions",
      "organizations_url": "https://api.github.com/users/igor-sirotin/orgs",
      "repos_url": "https://api.github.com/users/igor-sirotin/repos",
      "events_url": "https://api.github.com/users/igor-sirotin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/igor-sirotin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-21T12:52:50Z",
    "updated_at": "2023-06-21T12:53:45Z",
    "author_association": "CONTRIBUTOR",
    "body": "@stefandunca \r\n\r\nI have just basic accounts there. `key_uid` is empty for both of them.\r\n\r\n`accounts` before migration:\r\n\r\n<img width=\"1633\" alt=\"image\" src=\"https://github.com/status-im/status-desktop/assets/25482501/6ab95cb5-4bef-4caa-958e-3f8c695a385b\">\r\n\r\n`accounts` after migration attempt:\r\n\r\n<img width=\"1581\" alt=\"image\" src=\"https://github.com/status-im/status-desktop/assets/25482501/79fdd660-020f-4ecf-8b2c-34e841ea6481\">\r\n\r\n\r\nlooks the same.\r\nand yes, `keyUid` is empty 😐\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1600780289/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1600801071",
    "html_url": "https://github.com/status-im/status-desktop/issues/11132#issuecomment-1600801071",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/11132",
    "id": 1600801071,
    "node_id": "IC_kwDOD5KrTM5fakkv",
    "user": {
      "login": "stefandunca",
      "id": 47554641,
      "node_id": "MDQ6VXNlcjQ3NTU0NjQx",
      "avatar_url": "https://avatars.githubusercontent.com/u/47554641?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/stefandunca",
      "html_url": "https://github.com/stefandunca",
      "followers_url": "https://api.github.com/users/stefandunca/followers",
      "following_url": "https://api.github.com/users/stefandunca/following{/other_user}",
      "gists_url": "https://api.github.com/users/stefandunca/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/stefandunca/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/stefandunca/subscriptions",
      "organizations_url": "https://api.github.com/users/stefandunca/orgs",
      "repos_url": "https://api.github.com/users/stefandunca/repos",
      "events_url": "https://api.github.com/users/stefandunca/events{/privacy}",
      "received_events_url": "https://api.github.com/users/stefandunca/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-21T13:05:58Z",
    "updated_at": "2023-06-21T13:05:58Z",
    "author_association": "CONTRIBUTOR",
    "body": "> I have just basic accounts there. `key_uid` is empty for both of them.\r\n\r\nExactly this is the root cause.\r\n\r\n> `accounts` before migration:\r\n> ...\r\n> `accounts` after migration attempt:\r\n\r\nThe migration doesn't affect the old `accounts` data; it will drop the table if run successfully.\r\n\r\nThe problem is that the new migration structure enforces some requirements that not all old accounts follow. Not good that some of them are main accounts.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1600801071/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
