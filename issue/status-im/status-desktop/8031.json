{
  "url": "https://api.github.com/repos/status-im/status-desktop/issues/8031",
  "repository_url": "https://api.github.com/repos/status-im/status-desktop",
  "labels_url": "https://api.github.com/repos/status-im/status-desktop/issues/8031/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-desktop/issues/8031/comments",
  "events_url": "https://api.github.com/repos/status-im/status-desktop/issues/8031/events",
  "html_url": "https://github.com/status-im/status-desktop/issues/8031",
  "id": 1422072878,
  "node_id": "I_kwDOD5KrTM5Uwxwu",
  "number": 8031,
  "title": "Pending community membership request isn't reflected everywhere properly",
  "user": {
    "login": "0x-r4bbit",
    "id": 445106,
    "node_id": "MDQ6VXNlcjQ0NTEwNg==",
    "avatar_url": "https://avatars.githubusercontent.com/u/445106?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/0x-r4bbit",
    "html_url": "https://github.com/0x-r4bbit",
    "followers_url": "https://api.github.com/users/0x-r4bbit/followers",
    "following_url": "https://api.github.com/users/0x-r4bbit/following{/other_user}",
    "gists_url": "https://api.github.com/users/0x-r4bbit/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/0x-r4bbit/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/0x-r4bbit/subscriptions",
    "organizations_url": "https://api.github.com/users/0x-r4bbit/orgs",
    "repos_url": "https://api.github.com/users/0x-r4bbit/repos",
    "events_url": "https://api.github.com/users/0x-r4bbit/events{/privacy}",
    "received_events_url": "https://api.github.com/users/0x-r4bbit/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 2036563458,
      "node_id": "MDU6TGFiZWwyMDM2NTYzNDU4",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/bug",
      "name": "bug",
      "color": "d73a4a",
      "default": true,
      "description": "Something isn't working"
    },
    {
      "id": 2087353959,
      "node_id": "MDU6TGFiZWwyMDg3MzUzOTU5",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/ui-team",
      "name": "ui-team",
      "color": "1111ff",
      "default": false,
      "description": ""
    },
    {
      "id": 2588688093,
      "node_id": "MDU6TGFiZWwyNTg4Njg4MDkz",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/Communities",
      "name": "Communities",
      "color": "3923e0",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2022-10-25T08:28:43Z",
  "updated_at": "2023-04-21T14:54:19Z",
  "closed_at": "2023-04-21T14:54:19Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "Alright here's the scenario:\r\n\r\n1. I have two desktop instances with account A and account B respectively\r\n2. Account A creates a community with \"Request access to join\" checked\r\n3. Account A sends invite to/shares community with account B\r\n4. Account B requests access\r\n5. Account A receives request to join\r\n\r\nAt this point, account A should:\r\n\r\n1. See a little badge icon in the community tab button in the app navbar, indicating that there's **something**\r\n2. See a notification in the activity center (I believe @MishkaRogachev is working on this)\r\n3. See a \"pending\" request in the members list of the community\r\n\r\nHere's what account A sees instead:\r\n\r\n![Screenshot from 2022-10-25 10-18-46](https://user-images.githubusercontent.com/445106/197722663-55c6b00c-3f77-4e90-a116-0a4099678a35.png)\r\n\r\n1. There's no indicator in the community tab button that **something** is there the user should take a look at (I know, the community tab button is currently active so one might think this has just been marked as \"seen\", but there was no indication in the first place).\r\n\r\n2. There's a membership requests item which probably shouldn't be there anymore, but I think this will probably be removed by the time @MishkaRogachev is done with his work\r\n\r\nThen:\r\n![Screenshot from 2022-10-25 10-19-05](https://user-images.githubusercontent.com/445106/197723100-a0480408-3b2f-4172-a0fd-35317f112507.png)\r\n\r\nThere's no indication in the members list of the community that there's a pending membership request. If there wasn't the deprecated membership request item in the community view, I wouldn't know that there was a pending request!\r\n\r\nActivating the pending requests tab, does reveal the pending request:\r\n![Screenshot from 2022-10-25 10-27-32](https://user-images.githubusercontent.com/445106/197723476-b383f584-288f-42c7-8df8-9db971167650.png)\r\n\r\n\r\n",
  "closed_by": {
    "login": "iurimatias",
    "id": 176720,
    "node_id": "MDQ6VXNlcjE3NjcyMA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/176720?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/iurimatias",
    "html_url": "https://github.com/iurimatias",
    "followers_url": "https://api.github.com/users/iurimatias/followers",
    "following_url": "https://api.github.com/users/iurimatias/following{/other_user}",
    "gists_url": "https://api.github.com/users/iurimatias/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/iurimatias/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/iurimatias/subscriptions",
    "organizations_url": "https://api.github.com/users/iurimatias/orgs",
    "repos_url": "https://api.github.com/users/iurimatias/repos",
    "events_url": "https://api.github.com/users/iurimatias/events{/privacy}",
    "received_events_url": "https://api.github.com/users/iurimatias/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/8031/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-desktop/issues/8031/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1517957207",
    "html_url": "https://github.com/status-im/status-desktop/issues/8031#issuecomment-1517957207",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/8031",
    "id": 1517957207,
    "node_id": "IC_kwDOD5KrTM5aejBX",
    "user": {
      "login": "iurimatias",
      "id": 176720,
      "node_id": "MDQ6VXNlcjE3NjcyMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/176720?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/iurimatias",
      "html_url": "https://github.com/iurimatias",
      "followers_url": "https://api.github.com/users/iurimatias/followers",
      "following_url": "https://api.github.com/users/iurimatias/following{/other_user}",
      "gists_url": "https://api.github.com/users/iurimatias/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/iurimatias/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iurimatias/subscriptions",
      "organizations_url": "https://api.github.com/users/iurimatias/orgs",
      "repos_url": "https://api.github.com/users/iurimatias/repos",
      "events_url": "https://api.github.com/users/iurimatias/events{/privacy}",
      "received_events_url": "https://api.github.com/users/iurimatias/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-21T14:54:19Z",
    "updated_at": "2023-04-21T14:54:19Z",
    "author_association": "MEMBER",
    "body": "this has changed a lot and seems to be working correctly now",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1517957207/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
