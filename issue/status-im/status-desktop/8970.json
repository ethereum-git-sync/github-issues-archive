{
  "url": "https://api.github.com/repos/status-im/status-desktop/issues/8970",
  "repository_url": "https://api.github.com/repos/status-im/status-desktop",
  "labels_url": "https://api.github.com/repos/status-im/status-desktop/issues/8970/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-desktop/issues/8970/comments",
  "events_url": "https://api.github.com/repos/status-im/status-desktop/issues/8970/events",
  "html_url": "https://github.com/status-im/status-desktop/issues/8970",
  "id": 1520005328,
  "node_id": "I_kwDOD5KrTM5amXDQ",
  "number": 8970,
  "title": "Notifications: The double notification 'Community imported' appeared",
  "user": {
    "login": "elina2015",
    "id": 14942081,
    "node_id": "MDQ6VXNlcjE0OTQyMDgx",
    "avatar_url": "https://avatars.githubusercontent.com/u/14942081?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/elina2015",
    "html_url": "https://github.com/elina2015",
    "followers_url": "https://api.github.com/users/elina2015/followers",
    "following_url": "https://api.github.com/users/elina2015/following{/other_user}",
    "gists_url": "https://api.github.com/users/elina2015/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/elina2015/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/elina2015/subscriptions",
    "organizations_url": "https://api.github.com/users/elina2015/orgs",
    "repos_url": "https://api.github.com/users/elina2015/repos",
    "events_url": "https://api.github.com/users/elina2015/events{/privacy}",
    "received_events_url": "https://api.github.com/users/elina2015/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 2036563458,
      "node_id": "MDU6TGFiZWwyMDM2NTYzNDU4",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/bug",
      "name": "bug",
      "color": "d73a4a",
      "default": true,
      "description": "Something isn't working"
    },
    {
      "id": 2347610790,
      "node_id": "MDU6TGFiZWwyMzQ3NjEwNzkw",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/Chat",
      "name": "Chat",
      "color": "9279e0",
      "default": false,
      "description": ""
    },
    {
      "id": 2940749877,
      "node_id": "MDU6TGFiZWwyOTQwNzQ5ODc3",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/push_notifications",
      "name": "push_notifications",
      "color": "963962",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "igor-sirotin",
    "id": 25482501,
    "node_id": "MDQ6VXNlcjI1NDgyNTAx",
    "avatar_url": "https://avatars.githubusercontent.com/u/25482501?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/igor-sirotin",
    "html_url": "https://github.com/igor-sirotin",
    "followers_url": "https://api.github.com/users/igor-sirotin/followers",
    "following_url": "https://api.github.com/users/igor-sirotin/following{/other_user}",
    "gists_url": "https://api.github.com/users/igor-sirotin/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/igor-sirotin/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/igor-sirotin/subscriptions",
    "organizations_url": "https://api.github.com/users/igor-sirotin/orgs",
    "repos_url": "https://api.github.com/users/igor-sirotin/repos",
    "events_url": "https://api.github.com/users/igor-sirotin/events{/privacy}",
    "received_events_url": "https://api.github.com/users/igor-sirotin/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "igor-sirotin",
      "id": 25482501,
      "node_id": "MDQ6VXNlcjI1NDgyNTAx",
      "avatar_url": "https://avatars.githubusercontent.com/u/25482501?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/igor-sirotin",
      "html_url": "https://github.com/igor-sirotin",
      "followers_url": "https://api.github.com/users/igor-sirotin/followers",
      "following_url": "https://api.github.com/users/igor-sirotin/following{/other_user}",
      "gists_url": "https://api.github.com/users/igor-sirotin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/igor-sirotin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/igor-sirotin/subscriptions",
      "organizations_url": "https://api.github.com/users/igor-sirotin/orgs",
      "repos_url": "https://api.github.com/users/igor-sirotin/repos",
      "events_url": "https://api.github.com/users/igor-sirotin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/igor-sirotin/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2023-01-05T03:39:00Z",
  "updated_at": "2023-01-20T10:15:53Z",
  "closed_at": "2023-01-20T10:15:53Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "# Bug Report\r\n\r\n## Description\r\n\r\n## Steps to reproduce\r\n1. Register a new account\r\n2. Open the 'test' chat\r\n3. Check the appeared notifications\r\n#### Expected behavior\r\nThe notification is not shown because the user didn't import a community\r\n#### Actual behavior\r\nThe multiple notification 'Community imported' appeared\r\n<img width=\"720\" alt=\"image\" src=\"https://user-images.githubusercontent.com/14942081/210704583-95183287-df61-4a4f-8d45-ebc8c8c92187.png\">\r\n\r\n<img width=\"720\" alt=\"image\" src=\"https://user-images.githubusercontent.com/14942081/210695487-91c4538a-71a2-418b-a039-1e3e7615f98c.png\">\r\n\r\n### Additional Information\r\n\r\n- Status desktop version: RC 1 0.9\r\n- Operating System: macOS Monterey\r\n\r\n",
  "closed_by": {
    "login": "igor-sirotin",
    "id": 25482501,
    "node_id": "MDQ6VXNlcjI1NDgyNTAx",
    "avatar_url": "https://avatars.githubusercontent.com/u/25482501?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/igor-sirotin",
    "html_url": "https://github.com/igor-sirotin",
    "followers_url": "https://api.github.com/users/igor-sirotin/followers",
    "following_url": "https://api.github.com/users/igor-sirotin/following{/other_user}",
    "gists_url": "https://api.github.com/users/igor-sirotin/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/igor-sirotin/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/igor-sirotin/subscriptions",
    "organizations_url": "https://api.github.com/users/igor-sirotin/orgs",
    "repos_url": "https://api.github.com/users/igor-sirotin/repos",
    "events_url": "https://api.github.com/users/igor-sirotin/events{/privacy}",
    "received_events_url": "https://api.github.com/users/igor-sirotin/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/8970/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-desktop/issues/8970/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1372650387",
    "html_url": "https://github.com/status-im/status-desktop/issues/8970#issuecomment-1372650387",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/8970",
    "id": 1372650387,
    "node_id": "IC_kwDOD5KrTM5R0PuT",
    "user": {
      "login": "jrainville",
      "id": 11926403,
      "node_id": "MDQ6VXNlcjExOTI2NDAz",
      "avatar_url": "https://avatars.githubusercontent.com/u/11926403?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jrainville",
      "html_url": "https://github.com/jrainville",
      "followers_url": "https://api.github.com/users/jrainville/followers",
      "following_url": "https://api.github.com/users/jrainville/following{/other_user}",
      "gists_url": "https://api.github.com/users/jrainville/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jrainville/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jrainville/subscriptions",
      "organizations_url": "https://api.github.com/users/jrainville/orgs",
      "repos_url": "https://api.github.com/users/jrainville/repos",
      "events_url": "https://api.github.com/users/jrainville/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jrainville/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-05T19:39:18Z",
    "updated_at": "2023-01-05T19:39:18Z",
    "author_association": "MEMBER",
    "body": "I think that's intentional from a previous feature, but it's very confusing.\r\n\r\nIMO, we should only show this for communities the user intentionally wanted to import. So only when doing the import from key. cc @John-44 \r\n\r\nAlso, to whoever ends up doing this task, make sure we only import the communities once. Maybe use an array to store which communities we are importing to not do it twice or more.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1372650387/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1372653309",
    "html_url": "https://github.com/status-im/status-desktop/issues/8970#issuecomment-1372653309",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/8970",
    "id": 1372653309,
    "node_id": "IC_kwDOD5KrTM5R0Qb9",
    "user": {
      "login": "John-44",
      "id": 22846356,
      "node_id": "MDQ6VXNlcjIyODQ2MzU2",
      "avatar_url": "https://avatars.githubusercontent.com/u/22846356?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/John-44",
      "html_url": "https://github.com/John-44",
      "followers_url": "https://api.github.com/users/John-44/followers",
      "following_url": "https://api.github.com/users/John-44/following{/other_user}",
      "gists_url": "https://api.github.com/users/John-44/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/John-44/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/John-44/subscriptions",
      "organizations_url": "https://api.github.com/users/John-44/orgs",
      "repos_url": "https://api.github.com/users/John-44/repos",
      "events_url": "https://api.github.com/users/John-44/events{/privacy}",
      "received_events_url": "https://api.github.com/users/John-44/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-05T19:42:15Z",
    "updated_at": "2023-01-05T19:49:11Z",
    "author_association": "NONE",
    "body": "> I think that's intentional from a previous feature, but it's very confusing.\r\n> \r\n> IMO, we should only show this for communities the user intentionally wanted to import. So only when doing the import from key. cc @John-44\r\n> \r\n> Also, to whoever ends up doing this task, make sure we only import the communities once. Maybe use an array to store which communities we are importing to not do it twice or more.\r\n\r\n@jrainville yes correct, the \"Community imported\" notification should only appear when a user successfully imports a community manually by clicking \"Import using key\" and then pasting a community key into this dialogue.  And of course there should only be a single success notification when a user performs this action a single time. \r\n\r\nNote this notification should appear for communities that are imported via both their public key (when a user wishes to access a community via it's public key) and via a community private key (when a user wishes to make their install of Status desktop an Owner node for that community).\r\n\r\nI suppose that ideally we could also make this notification a bit more descriptive e.g. instead of just saying \"Community imported\" the notification could say \"[name of community] community imported\".  If a user clicks on the notification bubble, they should be taken to the homescreen of the community they have just imported. ",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1372653309/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
