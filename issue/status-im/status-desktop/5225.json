{
  "url": "https://api.github.com/repos/status-im/status-desktop/issues/5225",
  "repository_url": "https://api.github.com/repos/status-im/status-desktop",
  "labels_url": "https://api.github.com/repos/status-im/status-desktop/issues/5225/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-desktop/issues/5225/comments",
  "events_url": "https://api.github.com/repos/status-im/status-desktop/issues/5225/events",
  "html_url": "https://github.com/status-im/status-desktop/issues/5225",
  "id": 1183591496,
  "node_id": "I_kwDOD5KrTM5GjCxI",
  "number": 5225,
  "title": "After removing contacts, the user keeps getting contact requests from the removed users ",
  "user": {
    "login": "abhi-status",
    "id": 95302135,
    "node_id": "U_kgDOBa4x9w",
    "avatar_url": "https://avatars.githubusercontent.com/u/95302135?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/abhi-status",
    "html_url": "https://github.com/abhi-status",
    "followers_url": "https://api.github.com/users/abhi-status/followers",
    "following_url": "https://api.github.com/users/abhi-status/following{/other_user}",
    "gists_url": "https://api.github.com/users/abhi-status/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/abhi-status/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/abhi-status/subscriptions",
    "organizations_url": "https://api.github.com/users/abhi-status/orgs",
    "repos_url": "https://api.github.com/users/abhi-status/repos",
    "events_url": "https://api.github.com/users/abhi-status/events{/privacy}",
    "received_events_url": "https://api.github.com/users/abhi-status/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 2036563458,
      "node_id": "MDU6TGFiZWwyMDM2NTYzNDU4",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/bug",
      "name": "bug",
      "color": "d73a4a",
      "default": true,
      "description": "Something isn't working"
    },
    {
      "id": 2347610790,
      "node_id": "MDU6TGFiZWwyMzQ3NjEwNzkw",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/Chat",
      "name": "Chat",
      "color": "9279e0",
      "default": false,
      "description": ""
    },
    {
      "id": 3205510054,
      "node_id": "MDU6TGFiZWwzMjA1NTEwMDU0",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/priority%201:%20high",
      "name": "priority 1: high",
      "color": "D93F0B",
      "default": false,
      "description": "an issue that is extremely important to fix, that interferes with the majority of users, occurs ofte"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "saledjenic",
    "id": 86303051,
    "node_id": "MDQ6VXNlcjg2MzAzMDUx",
    "avatar_url": "https://avatars.githubusercontent.com/u/86303051?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/saledjenic",
    "html_url": "https://github.com/saledjenic",
    "followers_url": "https://api.github.com/users/saledjenic/followers",
    "following_url": "https://api.github.com/users/saledjenic/following{/other_user}",
    "gists_url": "https://api.github.com/users/saledjenic/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/saledjenic/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/saledjenic/subscriptions",
    "organizations_url": "https://api.github.com/users/saledjenic/orgs",
    "repos_url": "https://api.github.com/users/saledjenic/repos",
    "events_url": "https://api.github.com/users/saledjenic/events{/privacy}",
    "received_events_url": "https://api.github.com/users/saledjenic/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "saledjenic",
      "id": 86303051,
      "node_id": "MDQ6VXNlcjg2MzAzMDUx",
      "avatar_url": "https://avatars.githubusercontent.com/u/86303051?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/saledjenic",
      "html_url": "https://github.com/saledjenic",
      "followers_url": "https://api.github.com/users/saledjenic/followers",
      "following_url": "https://api.github.com/users/saledjenic/following{/other_user}",
      "gists_url": "https://api.github.com/users/saledjenic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/saledjenic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/saledjenic/subscriptions",
      "organizations_url": "https://api.github.com/users/saledjenic/orgs",
      "repos_url": "https://api.github.com/users/saledjenic/repos",
      "events_url": "https://api.github.com/users/saledjenic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/saledjenic/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2022-03-28T15:13:49Z",
  "updated_at": "2022-04-13T22:56:59Z",
  "closed_at": "2022-04-13T22:56:59Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "# Bug Report\r\n\r\n## Steps to reproduce\r\n\r\nThe user gets contact requests from the removed users without being sent one.\r\n\r\nThis takes a while to appear as the **_unsent contact requests_** take time to show up\r\n\r\nOn the freshly installed desktop app, create new account and add a few known contacts\r\n- start 1 to 1 chats with a couple of the added contacts\r\n- remove each of these contacts from the contacts list and wait for a few minutes\r\n\r\n#### Expected behavior\r\nThe user must not get a contact request notification without having been sent one.\r\n\r\n#### Actual behavior\r\nThe user keeps getting the contact request notification \r\n![image](https://user-images.githubusercontent.com/95302135/160429681-29ef38ce-ba06-48a4-b2de-a4d96deff463.png)\r\n![image](https://user-images.githubusercontent.com/95302135/160429768-a9dd75f0-d380-406d-82e3-f126de16c0c6.png)\r\n\r\n\r\n### Additional Information\r\n\r\n- Status desktop version: Master on commit: bc23762a05dd80204f52da692372f1e8133b7b2d\r\n\r\n\r\n",
  "closed_by": {
    "login": "iurimatias",
    "id": 176720,
    "node_id": "MDQ6VXNlcjE3NjcyMA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/176720?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/iurimatias",
    "html_url": "https://github.com/iurimatias",
    "followers_url": "https://api.github.com/users/iurimatias/followers",
    "following_url": "https://api.github.com/users/iurimatias/following{/other_user}",
    "gists_url": "https://api.github.com/users/iurimatias/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/iurimatias/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/iurimatias/subscriptions",
    "organizations_url": "https://api.github.com/users/iurimatias/orgs",
    "repos_url": "https://api.github.com/users/iurimatias/repos",
    "events_url": "https://api.github.com/users/iurimatias/events{/privacy}",
    "received_events_url": "https://api.github.com/users/iurimatias/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/5225/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-desktop/issues/5225/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1088336610",
    "html_url": "https://github.com/status-im/status-desktop/issues/5225#issuecomment-1088336610",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/5225",
    "id": 1088336610,
    "node_id": "IC_kwDOD5KrTM5A3rLi",
    "user": {
      "login": "saledjenic",
      "id": 86303051,
      "node_id": "MDQ6VXNlcjg2MzAzMDUx",
      "avatar_url": "https://avatars.githubusercontent.com/u/86303051?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/saledjenic",
      "html_url": "https://github.com/saledjenic",
      "followers_url": "https://api.github.com/users/saledjenic/followers",
      "following_url": "https://api.github.com/users/saledjenic/following{/other_user}",
      "gists_url": "https://api.github.com/users/saledjenic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/saledjenic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/saledjenic/subscriptions",
      "organizations_url": "https://api.github.com/users/saledjenic/orgs",
      "repos_url": "https://api.github.com/users/saledjenic/repos",
      "events_url": "https://api.github.com/users/saledjenic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/saledjenic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-04-05T07:01:29Z",
    "updated_at": "2022-04-05T07:01:29Z",
    "author_association": "CONTRIBUTOR",
    "body": "@abhi-status I've tried multiple scenarios to reproduce this, but was not able. Would you add more details here how exactly to reproduce this (a video would be appreciated)? \r\n\r\nIs contact you're removing a mutual contact (added from both sides) or it's enough to add contact and run 1:1 chat and remove it? (in both cases I was not able to reproduce the issue)",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1088336610/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1088531863",
    "html_url": "https://github.com/status-im/status-desktop/issues/5225#issuecomment-1088531863",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/5225",
    "id": 1088531863,
    "node_id": "IC_kwDOD5KrTM5A4a2X",
    "user": {
      "login": "abhi-status",
      "id": 95302135,
      "node_id": "U_kgDOBa4x9w",
      "avatar_url": "https://avatars.githubusercontent.com/u/95302135?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/abhi-status",
      "html_url": "https://github.com/abhi-status",
      "followers_url": "https://api.github.com/users/abhi-status/followers",
      "following_url": "https://api.github.com/users/abhi-status/following{/other_user}",
      "gists_url": "https://api.github.com/users/abhi-status/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/abhi-status/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/abhi-status/subscriptions",
      "organizations_url": "https://api.github.com/users/abhi-status/orgs",
      "repos_url": "https://api.github.com/users/abhi-status/repos",
      "events_url": "https://api.github.com/users/abhi-status/events{/privacy}",
      "received_events_url": "https://api.github.com/users/abhi-status/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-04-05T10:25:54Z",
    "updated_at": "2022-04-05T10:25:54Z",
    "author_association": "NONE",
    "body": "Yes, remove a contact after it was added on both sides. \r\n\r\nOnce you remove the contact, you need to leave the app open for a while to see the contact request coming in again.\r\n\r\nI cannot test this at the moment, as I cannot remove a contact on the latest Master due to -> #5354 \r\n\r\nI'll look for a build where the Remove Contact feature isn't broken.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1088531863/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1088558221",
    "html_url": "https://github.com/status-im/status-desktop/issues/5225#issuecomment-1088558221",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/5225",
    "id": 1088558221,
    "node_id": "IC_kwDOD5KrTM5A4hSN",
    "user": {
      "login": "saledjenic",
      "id": 86303051,
      "node_id": "MDQ6VXNlcjg2MzAzMDUx",
      "avatar_url": "https://avatars.githubusercontent.com/u/86303051?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/saledjenic",
      "html_url": "https://github.com/saledjenic",
      "followers_url": "https://api.github.com/users/saledjenic/followers",
      "following_url": "https://api.github.com/users/saledjenic/following{/other_user}",
      "gists_url": "https://api.github.com/users/saledjenic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/saledjenic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/saledjenic/subscriptions",
      "organizations_url": "https://api.github.com/users/saledjenic/orgs",
      "repos_url": "https://api.github.com/users/saledjenic/repos",
      "events_url": "https://api.github.com/users/saledjenic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/saledjenic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-04-05T10:54:27Z",
    "updated_at": "2022-04-05T10:55:14Z",
    "author_association": "CONTRIBUTOR",
    "body": "@abhi-status I assigned #5354 to myself, cause I already have #5225 and #5198 and all of them refer to the same thing, flags we have/maintain for each contact. \r\n\r\n@iurimatias I discussed with cammellos today about those flags, [here](https://discord.com/channels/624205794384281629/697843216048717905/960825670483718194) is a conclusion. In short we will remove `Rejected Requests / Sent` from the view and he will add some new flags on the `status-go` side which will (I hope) uniquely define which contact belongs to which section. \r\n\r\n@iurimatias do you agree to postpone these 3 tickets till cammellos finish that part?",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1088558221/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1088694970",
    "html_url": "https://github.com/status-im/status-desktop/issues/5225#issuecomment-1088694970",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/5225",
    "id": 1088694970,
    "node_id": "IC_kwDOD5KrTM5A5Cq6",
    "user": {
      "login": "iurimatias",
      "id": 176720,
      "node_id": "MDQ6VXNlcjE3NjcyMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/176720?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/iurimatias",
      "html_url": "https://github.com/iurimatias",
      "followers_url": "https://api.github.com/users/iurimatias/followers",
      "following_url": "https://api.github.com/users/iurimatias/following{/other_user}",
      "gists_url": "https://api.github.com/users/iurimatias/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/iurimatias/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/iurimatias/subscriptions",
      "organizations_url": "https://api.github.com/users/iurimatias/orgs",
      "repos_url": "https://api.github.com/users/iurimatias/repos",
      "events_url": "https://api.github.com/users/iurimatias/events{/privacy}",
      "received_events_url": "https://api.github.com/users/iurimatias/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-04-05T13:19:32Z",
    "updated_at": "2022-04-05T13:19:32Z",
    "author_association": "MEMBER",
    "body": "@saledjenic yes it's ok to wait for that",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1088694970/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1092734441",
    "html_url": "https://github.com/status-im/status-desktop/issues/5225#issuecomment-1092734441",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/5225",
    "id": 1092734441,
    "node_id": "IC_kwDOD5KrTM5BIc3p",
    "user": {
      "login": "saledjenic",
      "id": 86303051,
      "node_id": "MDQ6VXNlcjg2MzAzMDUx",
      "avatar_url": "https://avatars.githubusercontent.com/u/86303051?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/saledjenic",
      "html_url": "https://github.com/saledjenic",
      "followers_url": "https://api.github.com/users/saledjenic/followers",
      "following_url": "https://api.github.com/users/saledjenic/following{/other_user}",
      "gists_url": "https://api.github.com/users/saledjenic/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/saledjenic/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/saledjenic/subscriptions",
      "organizations_url": "https://api.github.com/users/saledjenic/orgs",
      "repos_url": "https://api.github.com/users/saledjenic/repos",
      "events_url": "https://api.github.com/users/saledjenic/events{/privacy}",
      "received_events_url": "https://api.github.com/users/saledjenic/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-04-08T10:51:36Z",
    "updated_at": "2022-04-08T10:51:36Z",
    "author_association": "CONTRIBUTOR",
    "body": "Just for the reference, in terms of contacts [this diagram](https://drive.google.com/file/d/1XIGChZhlSeCUlSWCcZ4QeUwYZTFf-9QT/view) should define the flow we need to follow. It's created discussing with @John-44 in `desktop-ui` channel and following design in Figma files.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1092734441/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
