{
  "url": "https://api.github.com/repos/status-im/status-desktop/issues/7836",
  "repository_url": "https://api.github.com/repos/status-im/status-desktop",
  "labels_url": "https://api.github.com/repos/status-im/status-desktop/issues/7836/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-desktop/issues/7836/comments",
  "events_url": "https://api.github.com/repos/status-im/status-desktop/issues/7836/events",
  "html_url": "https://github.com/status-im/status-desktop/issues/7836",
  "id": 1403048189,
  "node_id": "I_kwDOD5KrTM5ToND9",
  "number": 7836,
  "title": "C++ - CI: check if the app is run correctly",
  "user": {
    "login": "osmaczko",
    "id": 33099791,
    "node_id": "MDQ6VXNlcjMzMDk5Nzkx",
    "avatar_url": "https://avatars.githubusercontent.com/u/33099791?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/osmaczko",
    "html_url": "https://github.com/osmaczko",
    "followers_url": "https://api.github.com/users/osmaczko/followers",
    "following_url": "https://api.github.com/users/osmaczko/following{/other_user}",
    "gists_url": "https://api.github.com/users/osmaczko/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/osmaczko/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/osmaczko/subscriptions",
    "organizations_url": "https://api.github.com/users/osmaczko/orgs",
    "repos_url": "https://api.github.com/users/osmaczko/repos",
    "events_url": "https://api.github.com/users/osmaczko/events{/privacy}",
    "received_events_url": "https://api.github.com/users/osmaczko/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 3723566507,
      "node_id": "LA_kwDOD5KrTM7d8R2r",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/cpp-app",
      "name": "cpp-app",
      "color": "5A8B0A",
      "default": false,
      "description": ""
    },
    {
      "id": 3904297802,
      "node_id": "LA_kwDOD5KrTM7otttK",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/E:CppApp",
      "name": "E:CppApp",
      "color": "F332B3",
      "default": false,
      "description": ""
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2022-10-10T11:51:05Z",
  "updated_at": "2023-04-19T13:51:07Z",
  "closed_at": "2023-04-19T13:51:07Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "cpp app often fails to run on Linux due to plugin loading failure. The reason is the new, immature Qt6 CMake API we use, it does not produce the same results on different platforms (e.g. it does generate dynamic libraries for plugins defined on macOS but it does not generate them on linux).\r\n\r\nAcceptance criteria:\r\n- write a script that runs the app and waits for ~10s, if there is an error code returned then make the CI red\r\n- all platforms should be covered (windows, macos, linux)",
  "closed_by": {
    "login": "iurimatias",
    "id": 176720,
    "node_id": "MDQ6VXNlcjE3NjcyMA==",
    "avatar_url": "https://avatars.githubusercontent.com/u/176720?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/iurimatias",
    "html_url": "https://github.com/iurimatias",
    "followers_url": "https://api.github.com/users/iurimatias/followers",
    "following_url": "https://api.github.com/users/iurimatias/following{/other_user}",
    "gists_url": "https://api.github.com/users/iurimatias/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/iurimatias/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/iurimatias/subscriptions",
    "organizations_url": "https://api.github.com/users/iurimatias/orgs",
    "repos_url": "https://api.github.com/users/iurimatias/repos",
    "events_url": "https://api.github.com/users/iurimatias/events{/privacy}",
    "received_events_url": "https://api.github.com/users/iurimatias/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/7836/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-desktop/issues/7836/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1273206906",
    "html_url": "https://github.com/status-im/status-desktop/issues/7836#issuecomment-1273206906",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/7836",
    "id": 1273206906,
    "node_id": "IC_kwDOD5KrTM5L45h6",
    "user": {
      "login": "osmaczko",
      "id": 33099791,
      "node_id": "MDQ6VXNlcjMzMDk5Nzkx",
      "avatar_url": "https://avatars.githubusercontent.com/u/33099791?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/osmaczko",
      "html_url": "https://github.com/osmaczko",
      "followers_url": "https://api.github.com/users/osmaczko/followers",
      "following_url": "https://api.github.com/users/osmaczko/following{/other_user}",
      "gists_url": "https://api.github.com/users/osmaczko/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/osmaczko/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/osmaczko/subscriptions",
      "organizations_url": "https://api.github.com/users/osmaczko/orgs",
      "repos_url": "https://api.github.com/users/osmaczko/repos",
      "events_url": "https://api.github.com/users/osmaczko/events{/privacy}",
      "received_events_url": "https://api.github.com/users/osmaczko/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-10T11:58:50Z",
    "updated_at": "2022-10-10T11:58:50Z",
    "author_association": "CONTRIBUTOR",
    "body": "Currently, Linux is not runnable:\r\n```\r\n$ ./status-desktop \r\nQQmlApplicationEngine failed to load component\r\nqrc:/Status/Application/qml/main.qml:8:1: Type StatusWindow unavailable\r\nqrc:/Status/Application/qml/Status/Application/StatusWindow.qml:8:1: module \"Status.Controls.Navigation\" plugin \"StatusQ_Controls_Navigationplugin\" not found\r\n```\r\n\r\nthat's because `qt6_add_qml_module` does not produce libraries for some reason on Linux.",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1273206906/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1273233602",
    "html_url": "https://github.com/status-im/status-desktop/issues/7836#issuecomment-1273233602",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/7836",
    "id": 1273233602,
    "node_id": "IC_kwDOD5KrTM5L5ADC",
    "user": {
      "login": "caybro",
      "id": 5377645,
      "node_id": "MDQ6VXNlcjUzNzc2NDU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5377645?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/caybro",
      "html_url": "https://github.com/caybro",
      "followers_url": "https://api.github.com/users/caybro/followers",
      "following_url": "https://api.github.com/users/caybro/following{/other_user}",
      "gists_url": "https://api.github.com/users/caybro/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/caybro/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/caybro/subscriptions",
      "organizations_url": "https://api.github.com/users/caybro/orgs",
      "repos_url": "https://api.github.com/users/caybro/repos",
      "events_url": "https://api.github.com/users/caybro/events{/privacy}",
      "received_events_url": "https://api.github.com/users/caybro/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-10T12:22:44Z",
    "updated_at": "2022-10-10T12:22:44Z",
    "author_association": "MEMBER",
    "body": "Great idea, I'd even extend slightly to also cover the NIM app :)\r\n\r\nDon't even need some timer/wait, just setup a SignalSpy on https://doc.qt.io/qt-5/qml-qtquick-window-window.html#frameSwapped-signal (this is first emitted as soon as the window has appeared on screen)\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1273233602/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1273258363",
    "html_url": "https://github.com/status-im/status-desktop/issues/7836#issuecomment-1273258363",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/7836",
    "id": 1273258363,
    "node_id": "IC_kwDOD5KrTM5L5GF7",
    "user": {
      "login": "osmaczko",
      "id": 33099791,
      "node_id": "MDQ6VXNlcjMzMDk5Nzkx",
      "avatar_url": "https://avatars.githubusercontent.com/u/33099791?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/osmaczko",
      "html_url": "https://github.com/osmaczko",
      "followers_url": "https://api.github.com/users/osmaczko/followers",
      "following_url": "https://api.github.com/users/osmaczko/following{/other_user}",
      "gists_url": "https://api.github.com/users/osmaczko/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/osmaczko/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/osmaczko/subscriptions",
      "organizations_url": "https://api.github.com/users/osmaczko/orgs",
      "repos_url": "https://api.github.com/users/osmaczko/repos",
      "events_url": "https://api.github.com/users/osmaczko/events{/privacy}",
      "received_events_url": "https://api.github.com/users/osmaczko/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-10T12:43:11Z",
    "updated_at": "2022-10-10T12:43:11Z",
    "author_association": "CONTRIBUTOR",
    "body": "> Great idea, I'd even extend slightly to also cover the NIM app :)\r\n\r\nThanks. I don't know if it will bring any value to NIM app as we have squish tests there already :thinking: \r\n\r\n> Don't even need some timer/wait, just setup a SignalSpy on https://doc.qt.io/qt-5/qml-qtquick-window-window.html#frameSwapped-signal (this is first emitted as soon as the window has appeared on screen)\r\n\r\nHow would you do that exactly?  I imagine we could pass some flag (--quit-instantly-when-rendered) and only then setup the signal spy :thinking: IMO we shouldn't modify status-desktop cpp code in order to test if it runs.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1273258363/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
