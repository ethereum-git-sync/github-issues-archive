{
  "url": "https://api.github.com/repos/status-im/status-desktop/issues/11157",
  "repository_url": "https://api.github.com/repos/status-im/status-desktop",
  "labels_url": "https://api.github.com/repos/status-im/status-desktop/issues/11157/labels{/name}",
  "comments_url": "https://api.github.com/repos/status-im/status-desktop/issues/11157/comments",
  "events_url": "https://api.github.com/repos/status-im/status-desktop/issues/11157/events",
  "html_url": "https://github.com/status-im/status-desktop/issues/11157",
  "id": 1764715072,
  "node_id": "I_kwDOD5KrTM5pL2pA",
  "number": 11157,
  "title": "Consider doing permission checks while handling community updates",
  "user": {
    "login": "0x-r4bbit",
    "id": 445106,
    "node_id": "MDQ6VXNlcjQ0NTEwNg==",
    "avatar_url": "https://avatars.githubusercontent.com/u/445106?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/0x-r4bbit",
    "html_url": "https://github.com/0x-r4bbit",
    "followers_url": "https://api.github.com/users/0x-r4bbit/followers",
    "following_url": "https://api.github.com/users/0x-r4bbit/following{/other_user}",
    "gists_url": "https://api.github.com/users/0x-r4bbit/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/0x-r4bbit/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/0x-r4bbit/subscriptions",
    "organizations_url": "https://api.github.com/users/0x-r4bbit/orgs",
    "repos_url": "https://api.github.com/users/0x-r4bbit/repos",
    "events_url": "https://api.github.com/users/0x-r4bbit/events{/privacy}",
    "received_events_url": "https://api.github.com/users/0x-r4bbit/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 3047427135,
      "node_id": "MDU6TGFiZWwzMDQ3NDI3MTM1",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/feature",
      "name": "feature",
      "color": "0E8A16",
      "default": false,
      "description": ""
    },
    {
      "id": 3955125927,
      "node_id": "LA_kwDOD5KrTM7rvm6n",
      "url": "https://api.github.com/repos/status-im/status-desktop/labels/E:Communities",
      "name": "E:Communities",
      "color": "E56631",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2023-06-20T06:12:15Z",
  "updated_at": "2023-06-20T06:13:14Z",
  "closed_at": null,
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "As discussed in #11156, we might want to consider performing channel permission checks right when we receive and handle community description updates.\r\n\r\nThe idea would be to check the new incoming `CommunityDescription` for changes in its `TokenPermissions`. \r\nIf there are any, perform the necessary channel checks.\r\n\r\nThe channel checks will create a `CheckChannelPermissionResponse` for each channel, that can then be attached to the `MessengerResponse`.\r\n\r\nClients that receive the new community description will then also have the information of which channel permissions were satisfied.\r\n\r\nOne thing to consider though, is that it can lead to slower processing of community descriptions as clients have to wait until the channel checks are done. \r\n\r\nThe same mechanism can be done for permissions to join as well.",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/11157/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/status-im/status-desktop/issues/11157/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1598174248",
    "html_url": "https://github.com/status-im/status-desktop/issues/11157#issuecomment-1598174248",
    "issue_url": "https://api.github.com/repos/status-im/status-desktop/issues/11157",
    "id": 1598174248,
    "node_id": "IC_kwDOD5KrTM5fQjQo",
    "user": {
      "login": "0x-r4bbit",
      "id": 445106,
      "node_id": "MDQ6VXNlcjQ0NTEwNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/445106?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/0x-r4bbit",
      "html_url": "https://github.com/0x-r4bbit",
      "followers_url": "https://api.github.com/users/0x-r4bbit/followers",
      "following_url": "https://api.github.com/users/0x-r4bbit/following{/other_user}",
      "gists_url": "https://api.github.com/users/0x-r4bbit/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/0x-r4bbit/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/0x-r4bbit/subscriptions",
      "organizations_url": "https://api.github.com/users/0x-r4bbit/orgs",
      "repos_url": "https://api.github.com/users/0x-r4bbit/repos",
      "events_url": "https://api.github.com/users/0x-r4bbit/events{/privacy}",
      "received_events_url": "https://api.github.com/users/0x-r4bbit/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-06-20T06:13:14Z",
    "updated_at": "2023-06-20T06:13:14Z",
    "author_association": "MEMBER",
    "body": "Maybe @cammellos has some additional input here on why this should **not** be done (or maybe only in a particular way)",
    "reactions": {
      "url": "https://api.github.com/repos/status-im/status-desktop/issues/comments/1598174248/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
