{
  "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/4441",
  "repository_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts",
  "labels_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/4441/labels{/name}",
  "comments_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/4441/comments",
  "events_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/4441/events",
  "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/4441",
  "id": 1795884412,
  "node_id": "I_kwDOA9tCBs5rCwV8",
  "number": 4441,
  "title": "ERC20Vesting: vesting functionality for ERC20 tokens",
  "user": {
    "login": "Keref",
    "id": 10669019,
    "node_id": "MDQ6VXNlcjEwNjY5MDE5",
    "avatar_url": "https://avatars.githubusercontent.com/u/10669019?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Keref",
    "html_url": "https://github.com/Keref",
    "followers_url": "https://api.github.com/users/Keref/followers",
    "following_url": "https://api.github.com/users/Keref/following{/other_user}",
    "gists_url": "https://api.github.com/users/Keref/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Keref/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Keref/subscriptions",
    "organizations_url": "https://api.github.com/users/Keref/orgs",
    "repos_url": "https://api.github.com/users/Keref/repos",
    "events_url": "https://api.github.com/users/Keref/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Keref/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2023-07-10T03:53:36Z",
  "updated_at": "2023-07-10T13:58:54Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "**üßê Motivation**\r\nEscrowed tokens are omnipresent in DeFi, as governance, airdrops and liquidity mining use vesting to control dumping. I suggest adding an ERC20Vesting extension that easily allows vesting tokens.\r\n\r\n**üìù Details**\r\n\r\nVesting can be used in particular in combination with ERC20Wrapper.\r\nThe vesting schedule is linear by default but can be overriden (we use some exponential for our own vesting schedule).\r\nThe logic when withdrawing isn't fixed: the extension returns the amount already vested and the amount remaining, up to the implementation to choose whether to allow early unlock and which penalty to apply.\r\n\r\nI think it would make sense to add some additional virtual function to handle the data field, or to modify a schedule (eg, to allow partial withdrawal).\r\nThe function names differ from VestingWallet, maybe it would make sense to harmonize those.\r\nPlease give me feedback!\r\n\r\nDraft implementation: [https://github.com/Keref/openzeppelin-contracts/blob/master/contracts/token/ERC20/extensions/ERC20Vesting.sol](https://github.com/Keref/openzeppelin-contracts/blob/master/contracts/token/ERC20/extensions/ERC20Vesting.sol)",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/4441/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/4441/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1628619427",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/4441#issuecomment-1628619427",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/4441",
    "id": 1628619427,
    "node_id": "IC_kwDOA9tCBs5hEsKj",
    "user": {
      "login": "Amxx",
      "id": 2432299,
      "node_id": "MDQ6VXNlcjI0MzIyOTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2432299?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Amxx",
      "html_url": "https://github.com/Amxx",
      "followers_url": "https://api.github.com/users/Amxx/followers",
      "following_url": "https://api.github.com/users/Amxx/following{/other_user}",
      "gists_url": "https://api.github.com/users/Amxx/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Amxx/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Amxx/subscriptions",
      "organizations_url": "https://api.github.com/users/Amxx/orgs",
      "repos_url": "https://api.github.com/users/Amxx/repos",
      "events_url": "https://api.github.com/users/Amxx/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Amxx/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-10T09:53:44Z",
    "updated_at": "2023-07-10T09:53:44Z",
    "author_association": "COLLABORATOR",
    "body": "Hello @Keref \r\n\r\nAre you familiar with our (VestinWallet)[https://github.com/OpenZeppelin/openzeppelin-contracts/blob/master/contracts/finance/VestingWallet.sol] ? Can you tell us more about the usecases where it does not work for you ?\r\n\r\nMy first thought is that the vesting should be handled by a dedicated contract, and not by the token itself.",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1628619427/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1629025202",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/4441#issuecomment-1629025202",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/4441",
    "id": 1629025202,
    "node_id": "IC_kwDOA9tCBs5hGPOy",
    "user": {
      "login": "Keref",
      "id": 10669019,
      "node_id": "MDQ6VXNlcjEwNjY5MDE5",
      "avatar_url": "https://avatars.githubusercontent.com/u/10669019?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Keref",
      "html_url": "https://github.com/Keref",
      "followers_url": "https://api.github.com/users/Keref/followers",
      "following_url": "https://api.github.com/users/Keref/following{/other_user}",
      "gists_url": "https://api.github.com/users/Keref/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Keref/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Keref/subscriptions",
      "organizations_url": "https://api.github.com/users/Keref/orgs",
      "repos_url": "https://api.github.com/users/Keref/repos",
      "events_url": "https://api.github.com/users/Keref/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Keref/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-07-10T13:58:54Z",
    "updated_at": "2023-07-10T13:58:54Z",
    "author_association": "NONE",
    "body": "Hi, yes I'm aware. The vesting wallet is created to vest for 1 unique beneficiary provided in the constructor. This makes it only usable for initial distribution of tokens for, say, a VC who bought tokens early.\r\n\r\nWhat I'm proposing is an ERC20 extension that can be added to any token. It can be used to escrow governance tokens, in my case the esToken allows depositing Token, also extends a number of governance functions, and uses ERC20Vesting (we prefer vesting rather than the ve- model).",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1629025202/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
