{
  "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/1607",
  "repository_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts",
  "labels_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/1607/labels{/name}",
  "comments_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/1607/comments",
  "events_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/1607/events",
  "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/1607",
  "id": 399556498,
  "node_id": "MDU6SXNzdWUzOTk1NTY0OTg=",
  "number": 1607,
  "title": "Support import from syntax",
  "user": {
    "login": "frangio",
    "id": 481465,
    "node_id": "MDQ6VXNlcjQ4MTQ2NQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/481465?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/frangio",
    "html_url": "https://github.com/frangio",
    "followers_url": "https://api.github.com/users/frangio/followers",
    "following_url": "https://api.github.com/users/frangio/following{/other_user}",
    "gists_url": "https://api.github.com/users/frangio/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/frangio/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/frangio/subscriptions",
    "organizations_url": "https://api.github.com/users/frangio/orgs",
    "repos_url": "https://api.github.com/users/frangio/repos",
    "events_url": "https://api.github.com/users/frangio/events{/privacy}",
    "received_events_url": "https://api.github.com/users/frangio/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 503650860,
      "node_id": "MDU6TGFiZWw1MDM2NTA4NjA=",
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/labels/feature",
      "name": "feature",
      "color": "b9db64",
      "default": false,
      "description": "New contracts, functions, or helpers."
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2019-01-15T22:06:05Z",
  "updated_at": "2021-07-01T13:34:11Z",
  "closed_at": "2021-07-01T13:34:11Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "```solidity\r\nimport { ERC20 } from \"openzeppelin-solidity\";\r\n```\r\n\r\nThis would be very nice I think, but the tooling probably doesn't support it. Truffle needs to know how to resolve the `\"openzeppelin-solidity\"` import. Node.js solves this by importing the package's main file, or an `index.js` file if it's a directory. We should propose this feature to Truffle first.",
  "closed_by": {
    "login": "frangio",
    "id": 481465,
    "node_id": "MDQ6VXNlcjQ4MTQ2NQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/481465?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/frangio",
    "html_url": "https://github.com/frangio",
    "followers_url": "https://api.github.com/users/frangio/followers",
    "following_url": "https://api.github.com/users/frangio/following{/other_user}",
    "gists_url": "https://api.github.com/users/frangio/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/frangio/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/frangio/subscriptions",
    "organizations_url": "https://api.github.com/users/frangio/orgs",
    "repos_url": "https://api.github.com/users/frangio/repos",
    "events_url": "https://api.github.com/users/frangio/events{/privacy}",
    "received_events_url": "https://api.github.com/users/frangio/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/1607/reactions",
    "total_count": 1,
    "+1": 1,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/1607/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/869065887",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/1607#issuecomment-869065887",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/1607",
    "id": 869065887,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2OTA2NTg4Nw==",
    "user": {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-26T21:54:14Z",
    "updated_at": "2021-06-26T21:54:42Z",
    "author_association": "CONTRIBUTOR",
    "body": "Looks like Truffle does support this syntax now.",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/869065887/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/870932308",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/1607#issuecomment-870932308",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/1607",
    "id": 870932308,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3MDkzMjMwOA==",
    "user": {
      "login": "frangio",
      "id": 481465,
      "node_id": "MDQ6VXNlcjQ4MTQ2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/481465?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/frangio",
      "html_url": "https://github.com/frangio",
      "followers_url": "https://api.github.com/users/frangio/followers",
      "following_url": "https://api.github.com/users/frangio/following{/other_user}",
      "gists_url": "https://api.github.com/users/frangio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/frangio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/frangio/subscriptions",
      "organizations_url": "https://api.github.com/users/frangio/orgs",
      "repos_url": "https://api.github.com/users/frangio/repos",
      "events_url": "https://api.github.com/users/frangio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/frangio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-29T21:30:13Z",
    "updated_at": "2021-06-29T21:30:13Z",
    "author_association": "MEMBER",
    "body": "@cameel I think I meant importing from the package (`... from \"@openzeppelin/contracts\"` now) as opposed to from a specific file. Do you know if that resolves to anything in Truffle or Hardhat?",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/870932308/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/870961978",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/1607#issuecomment-870961978",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/1607",
    "id": 870961978,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3MDk2MTk3OA==",
    "user": {
      "login": "cameel",
      "id": 137030,
      "node_id": "MDQ6VXNlcjEzNzAzMA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/137030?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/cameel",
      "html_url": "https://github.com/cameel",
      "followers_url": "https://api.github.com/users/cameel/followers",
      "following_url": "https://api.github.com/users/cameel/following{/other_user}",
      "gists_url": "https://api.github.com/users/cameel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/cameel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/cameel/subscriptions",
      "organizations_url": "https://api.github.com/users/cameel/orgs",
      "repos_url": "https://api.github.com/users/cameel/repos",
      "events_url": "https://api.github.com/users/cameel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/cameel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-29T22:31:09Z",
    "updated_at": "2021-06-29T22:35:31Z",
    "author_association": "CONTRIBUTOR",
    "body": "Oh, sorry, I misunderstood the issue. I thought that it was about `import ... from ...` syntax not being supported by frameworks.\r\n\r\nAs for importing the whole package - I don't think they support that because they would have to be either rewriting imports in user's files or using remappings. As far as I know they do not do either. So if you try to import it you'll probably just get an error that the file does not exist.\r\n\r\nBut this would actually be a use case for remappings I haven't thought about before. And it's pretty nifty. Might be worth submitting feature requests in Truffle and Hardhat.\r\n\r\n### Details of potential implementation\r\nThe naive way of solving this - by just putting a copy of the code under `@openzeppelin/contracts` in Standard JSON input - will not work correctly. It might look like it works in some cases but consider this example:\r\n\r\n- `myerc20.sol`\r\n    ```solidity\r\n    import {ERC20} from \"@openzeppelin/contracts\";\r\n\r\n    contract MyERC20 is ERC20 {}\r\n    ```\r\n- `test.sol`\r\n    ```solidity\r\n    import {ERC20} from \"@openzeppelin/contracts/token/ERC20/ERC20.sol\";\r\n    import {MyERC20} from \"myerc20.sol\";\r\n\r\n    function run(ERC20 token) {}\r\n\r\n    function test() {\r\n        run(new MyERC20());\r\n    }\r\n    ```\r\n\r\nThis will not compile. You will get a very confusing error that looks something like this:\r\n```\r\nError: Invalid type for argument in function call. Invalid implicit conversion from contract MyERC20 to contract ERC20 requested.\r\n --> test.sol:8:17:\r\n  |\r\n8 |             run(new MyERC20());\r\n  |   \r\n```\r\n\r\nThis is because to compiler will see `@openzeppelin/contracts` and `@openzeppelin/contracts/token/ERC20/ERC20.sol` as two distinct source units. There will therefore be two distinct contracts named `ERC20` coming from these source units and it will look like `MyERC20` inherits from a different `ERC20` than the one you're importing.\r\n\r\nWith remappings though it wouldn't really take much effort on the part of frameworks to implement this - the support for remappings is already in the compiler and they would just have to include remappings for all installed packages in Standard JSON input:\r\n```json\r\n{\r\n    ...\r\n    \"settings\": {\r\n        \"remappings\": [\r\n            \":@openzeppelin/contracts=@openzeppelin/contracts/token/ERC20/ERC20.sol\",\r\n            \":solidity-stringutils=solidity-stringutils/src/strings.sol\",\r\n            \":solidity-jwt=solidity-jwt/contracts/Base64.sol\",\r\n            ...\r\n        ]\r\n    }\r\n}\r\n```\r\nThe biggest issue would probably be automatically deciding what to use as the target. Some convention like e.g. having a file named `index.sol` that exposes library API would have to be established.",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/870961978/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/872252495",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/1607#issuecomment-872252495",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/1607",
    "id": 872252495,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3MjI1MjQ5NQ==",
    "user": {
      "login": "frangio",
      "id": 481465,
      "node_id": "MDQ6VXNlcjQ4MTQ2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/481465?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/frangio",
      "html_url": "https://github.com/frangio",
      "followers_url": "https://api.github.com/users/frangio/followers",
      "following_url": "https://api.github.com/users/frangio/following{/other_user}",
      "gists_url": "https://api.github.com/users/frangio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/frangio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/frangio/subscriptions",
      "organizations_url": "https://api.github.com/users/frangio/orgs",
      "repos_url": "https://api.github.com/users/frangio/repos",
      "events_url": "https://api.github.com/users/frangio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/frangio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-01T13:34:11Z",
    "updated_at": "2021-07-01T13:34:11Z",
    "author_association": "MEMBER",
    "body": "Yes an `index.sol` would do the trick.\r\n\r\nI'm going to close this issue since this isn't possible to implement on our end but if you think it could be interesting and feasible and want to raise it with frameworks feel free to tag me or involve me in the conversation.",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/872252495/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
