{
  "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/2861",
  "repository_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts",
  "labels_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/2861/labels{/name}",
  "comments_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/2861/comments",
  "events_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/2861/events",
  "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/2861",
  "id": 996545465,
  "node_id": "I_kwDOA9tCBs47ZhO5",
  "number": 2861,
  "title": "Feature: Add an ‚ÄúonlyProxy‚Äù-Like Check to the Initializable Contract",
  "user": {
    "login": "Zer0dot",
    "id": 8608880,
    "node_id": "MDQ6VXNlcjg2MDg4ODA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/8608880?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Zer0dot",
    "html_url": "https://github.com/Zer0dot",
    "followers_url": "https://api.github.com/users/Zer0dot/followers",
    "following_url": "https://api.github.com/users/Zer0dot/following{/other_user}",
    "gists_url": "https://api.github.com/users/Zer0dot/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Zer0dot/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Zer0dot/subscriptions",
    "organizations_url": "https://api.github.com/users/Zer0dot/orgs",
    "repos_url": "https://api.github.com/users/Zer0dot/repos",
    "events_url": "https://api.github.com/users/Zer0dot/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Zer0dot/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2021-09-15T00:33:00Z",
  "updated_at": "2021-09-17T23:16:05Z",
  "closed_at": "2021-09-17T23:16:05Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "**üßê Motivation**\r\nCurrently the [\"Initializable\" abstract contract](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/master/contracts/proxy/utils/Initializable.sol) allows for implementations to be initialized without going through a proxy. This could cause unintended consequences where an implementation's initialization sets a contract that is then called via delegateCall.\r\n\r\n**üìù Details**\r\nI think we should implement a mechanism similar to what is implemented in the \"UUPSUpgradeable\" contract at  commit [#6241995,](https://github.com/OpenZeppelin/openzeppelin-contracts/commit/6241995ad323952e38f8d405103ed994a2dcde8e) in this case we would add a validation for `(address(this) != __self)` to the initializer modifier.\r\n\r\nThough I do understand that there are potential edge cases where implementations should be able to call initializers, I believe the \"plug and play\" nature of OpenZeppelin's (undeniably awesome) contracts library implies that contracts should be optimized for the widest possible and most secure use case. \r\n\r\nOf course I'm not saying we should add this restriction to individual upgradeable initializers (like ERC721Upgradeable for example), since there are probably a lot of projects that, likely for the sake of convenience, stick to inheriting from upgradeable contracts even in cases where the upgradeability isn't needed.\r\n\r\nInterested in hearing your thoughts!",
  "closed_by": {
    "login": "Zer0dot",
    "id": 8608880,
    "node_id": "MDQ6VXNlcjg2MDg4ODA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/8608880?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Zer0dot",
    "html_url": "https://github.com/Zer0dot",
    "followers_url": "https://api.github.com/users/Zer0dot/followers",
    "following_url": "https://api.github.com/users/Zer0dot/following{/other_user}",
    "gists_url": "https://api.github.com/users/Zer0dot/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Zer0dot/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Zer0dot/subscriptions",
    "organizations_url": "https://api.github.com/users/Zer0dot/orgs",
    "repos_url": "https://api.github.com/users/Zer0dot/repos",
    "events_url": "https://api.github.com/users/Zer0dot/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Zer0dot/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/2861/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/2861/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/919613490",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/2861#issuecomment-919613490",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/2861",
    "id": 919613490,
    "node_id": "IC_kwDOA9tCBs420DAy",
    "user": {
      "login": "Zer0dot",
      "id": 8608880,
      "node_id": "MDQ6VXNlcjg2MDg4ODA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8608880?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Zer0dot",
      "html_url": "https://github.com/Zer0dot",
      "followers_url": "https://api.github.com/users/Zer0dot/followers",
      "following_url": "https://api.github.com/users/Zer0dot/following{/other_user}",
      "gists_url": "https://api.github.com/users/Zer0dot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Zer0dot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Zer0dot/subscriptions",
      "organizations_url": "https://api.github.com/users/Zer0dot/orgs",
      "repos_url": "https://api.github.com/users/Zer0dot/repos",
      "events_url": "https://api.github.com/users/Zer0dot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Zer0dot/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-15T00:53:19Z",
    "updated_at": "2021-09-15T00:53:19Z",
    "author_association": "NONE",
    "body": "Note that this would require some changes to tests, since tests validate that an initializer can be ran by calling it via the implementation. Happy to do that in my local branch if this is something we'd like!",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/919613490/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/919850473",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/2861#issuecomment-919850473",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/2861",
    "id": 919850473,
    "node_id": "IC_kwDOA9tCBs42083p",
    "user": {
      "login": "Amxx",
      "id": 2432299,
      "node_id": "MDQ6VXNlcjI0MzIyOTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2432299?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Amxx",
      "html_url": "https://github.com/Amxx",
      "followers_url": "https://api.github.com/users/Amxx/followers",
      "following_url": "https://api.github.com/users/Amxx/following{/other_user}",
      "gists_url": "https://api.github.com/users/Amxx/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Amxx/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Amxx/subscriptions",
      "organizations_url": "https://api.github.com/users/Amxx/orgs",
      "repos_url": "https://api.github.com/users/Amxx/repos",
      "events_url": "https://api.github.com/users/Amxx/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Amxx/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-15T09:22:02Z",
    "updated_at": "2021-09-15T09:22:02Z",
    "author_association": "COLLABORATOR",
    "body": "Hello @Zer0dot, and thank you for this proposal.\r\n\r\nThis is something we have discussed, and that we might implement in the future. I do believe there are cases where `Initializable` is used in the context of \"standard\" contracts. We would kill that use-case, and we would thus be making a breaking change.\r\n\r\nWhile we are not yet certain if we want to implement that or not, feedback like yours is really valuable and appreciated!",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/919850473/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
