{
  "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3199",
  "repository_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts",
  "labels_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3199/labels{/name}",
  "comments_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3199/comments",
  "events_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3199/events",
  "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/3199",
  "id": 1143634786,
  "node_id": "I_kwDOA9tCBs5EKnti",
  "number": 3199,
  "title": "Composition over inheritance",
  "user": {
    "login": "dvird",
    "id": 42498461,
    "node_id": "MDQ6VXNlcjQyNDk4NDYx",
    "avatar_url": "https://avatars.githubusercontent.com/u/42498461?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/dvird",
    "html_url": "https://github.com/dvird",
    "followers_url": "https://api.github.com/users/dvird/followers",
    "following_url": "https://api.github.com/users/dvird/following{/other_user}",
    "gists_url": "https://api.github.com/users/dvird/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/dvird/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/dvird/subscriptions",
    "organizations_url": "https://api.github.com/users/dvird/orgs",
    "repos_url": "https://api.github.com/users/dvird/repos",
    "events_url": "https://api.github.com/users/dvird/events{/privacy}",
    "received_events_url": "https://api.github.com/users/dvird/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2022-02-18T19:24:29Z",
  "updated_at": "2022-02-18T22:31:47Z",
  "closed_at": "2022-02-18T22:31:47Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "https://en.wikipedia.org/wiki/Composition_over_inheritance\r\n\r\nHi i would like to know why everything is inheritance? is it something that related to solidity or something?\r\nI mean there are some implementations with 4 5 inheritance deep and some are even have inheritance to same code.\r\n\r\nIts impossible to understand whats happening for a giving class",
  "closed_by": {
    "login": "dvird",
    "id": 42498461,
    "node_id": "MDQ6VXNlcjQyNDk4NDYx",
    "avatar_url": "https://avatars.githubusercontent.com/u/42498461?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/dvird",
    "html_url": "https://github.com/dvird",
    "followers_url": "https://api.github.com/users/dvird/followers",
    "following_url": "https://api.github.com/users/dvird/following{/other_user}",
    "gists_url": "https://api.github.com/users/dvird/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/dvird/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/dvird/subscriptions",
    "organizations_url": "https://api.github.com/users/dvird/orgs",
    "repos_url": "https://api.github.com/users/dvird/repos",
    "events_url": "https://api.github.com/users/dvird/events{/privacy}",
    "received_events_url": "https://api.github.com/users/dvird/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3199/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3199/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1045196373",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/3199#issuecomment-1045196373",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3199",
    "id": 1045196373,
    "node_id": "IC_kwDOA9tCBs4-TG5V",
    "user": {
      "login": "frangio",
      "id": 481465,
      "node_id": "MDQ6VXNlcjQ4MTQ2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/481465?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/frangio",
      "html_url": "https://github.com/frangio",
      "followers_url": "https://api.github.com/users/frangio/followers",
      "following_url": "https://api.github.com/users/frangio/following{/other_user}",
      "gists_url": "https://api.github.com/users/frangio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/frangio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/frangio/subscriptions",
      "organizations_url": "https://api.github.com/users/frangio/orgs",
      "repos_url": "https://api.github.com/users/frangio/repos",
      "events_url": "https://api.github.com/users/frangio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/frangio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-18T21:10:45Z",
    "updated_at": "2022-02-18T21:11:21Z",
    "author_association": "MEMBER",
    "body": "Hi @dvird. We're familiar with the principle of composition over inheritance, and would love to be able to follow it. However, in current Solidity, inheritance is the only way to efficiently implement these patterns.\r\n\r\nI'm talking for example about the ability for a user to take the ERC20 implementation and extend its behavior in multiple ways by including different modules: ERC20Permit, ERC20Votes, etc., and even custom behavior.\r\n\r\nIf you want to explore alternative ways to implement this functionality using composition that would be interesting. We've thought about this in the past but didn't arrive at anything good.\r\n\r\nThat said, we definitely don't want the code to be \"impossible to understand\". If you want to point out specific things that you find hard to understand we can look into possible code improvements or comments that can clarify.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1045196373/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1045209642",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/3199#issuecomment-1045209642",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3199",
    "id": 1045209642,
    "node_id": "IC_kwDOA9tCBs4-TKIq",
    "user": {
      "login": "dvird",
      "id": 42498461,
      "node_id": "MDQ6VXNlcjQyNDk4NDYx",
      "avatar_url": "https://avatars.githubusercontent.com/u/42498461?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dvird",
      "html_url": "https://github.com/dvird",
      "followers_url": "https://api.github.com/users/dvird/followers",
      "following_url": "https://api.github.com/users/dvird/following{/other_user}",
      "gists_url": "https://api.github.com/users/dvird/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dvird/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dvird/subscriptions",
      "organizations_url": "https://api.github.com/users/dvird/orgs",
      "repos_url": "https://api.github.com/users/dvird/repos",
      "events_url": "https://api.github.com/users/dvird/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dvird/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-18T21:29:28Z",
    "updated_at": "2022-02-18T21:29:28Z",
    "author_association": "NONE",
    "body": "Ok actually im new to solidity.. can you explain what specifically is different from other languages that prevent from you to do it? i would like to know because im working on something new now, so its good to know before im making mistake haha\r\n\r\nAnd for example \r\nhttps://github.com/OpenZeppelin/openzeppelin-contracts/blob/master/contracts/token/ERC1155/presets/ERC1155PresetMinterPauser.sol\r\n\r\nThe main problem as you may know with inheritance is that you open a class and you think \"oh so nice just 80-100 lines\"\r\nbut then you understand you in 1000 lines case that hide behind, so to understand the all connections and how its connected its very hard because it splits in many places.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1045209642/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1045243072",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/3199#issuecomment-1045243072",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3199",
    "id": 1045243072,
    "node_id": "IC_kwDOA9tCBs4-TSTA",
    "user": {
      "login": "frangio",
      "id": 481465,
      "node_id": "MDQ6VXNlcjQ4MTQ2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/481465?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/frangio",
      "html_url": "https://github.com/frangio",
      "followers_url": "https://api.github.com/users/frangio/followers",
      "following_url": "https://api.github.com/users/frangio/following{/other_user}",
      "gists_url": "https://api.github.com/users/frangio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/frangio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/frangio/subscriptions",
      "organizations_url": "https://api.github.com/users/frangio/orgs",
      "repos_url": "https://api.github.com/users/frangio/repos",
      "events_url": "https://api.github.com/users/frangio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/frangio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-18T21:58:55Z",
    "updated_at": "2022-02-18T22:02:49Z",
    "author_association": "MEMBER",
    "body": "> can you explain what specifically is different from other languages that prevent from you to do it?\r\n\r\nOff the top of my head, two things that are very related:\r\n\r\n1. The language is not sufficiently high level. \r\n2. The cost model is completely different than a normal computer. Every layer of abstraction that can't be optimized away results in higher gas costs (not typical performance: it's not time but money)  for the end user as well as the developers during deployment.\r\n\r\n> but then you understand you in 1000 lines case that hide behind\r\n\r\nThis would be just as true with composition! :slightly_smiling_face: \r\n\r\n> to understand the all connections and how its connected its very hard because it splits in many places.\r\n\r\nThis is somewhat true. We try to keep it manageable by using inheritance in very simple ways. Contracts generally only use inheritance to either add new functions that use the parent functionality, or to extend the functions of their parents. For example, `ERC20Permit` adds a new function `permit` that internally uses `ERC20._approve`. Another example, `ERC20Votes` adds functionality to the `ERC20._afterTokenTransfer` [hook](https://docs.openzeppelin.com/contracts/4.x/extending-contracts#using-hooks) (just a function that can be overriden to add behavior) that can keep track of balance changes.",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1045243072/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1045244130",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/3199#issuecomment-1045244130",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3199",
    "id": 1045244130,
    "node_id": "IC_kwDOA9tCBs4-TSji",
    "user": {
      "login": "frangio",
      "id": 481465,
      "node_id": "MDQ6VXNlcjQ4MTQ2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/481465?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/frangio",
      "html_url": "https://github.com/frangio",
      "followers_url": "https://api.github.com/users/frangio/followers",
      "following_url": "https://api.github.com/users/frangio/following{/other_user}",
      "gists_url": "https://api.github.com/users/frangio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/frangio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/frangio/subscriptions",
      "organizations_url": "https://api.github.com/users/frangio/orgs",
      "repos_url": "https://api.github.com/users/frangio/repos",
      "events_url": "https://api.github.com/users/frangio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/frangio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-18T21:59:39Z",
    "updated_at": "2022-02-18T21:59:39Z",
    "author_association": "MEMBER",
    "body": "Sorry closed accidentally. Though there don't seem to be many actionable items in this issue I think it's worth to keep the discussion going, and some actionable items may arise as well.",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1045244130/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
