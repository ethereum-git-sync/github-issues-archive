{
  "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/928",
  "repository_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts",
  "labels_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/928/labels{/name}",
  "comments_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/928/comments",
  "events_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/928/events",
  "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/928",
  "id": 320131931,
  "node_id": "MDU6SXNzdWUzMjAxMzE5MzE=",
  "number": 928,
  "title": "Airdrop contract(s) using SignatureBouncer",
  "user": {
    "login": "shrugs",
    "id": 1535001,
    "node_id": "MDQ6VXNlcjE1MzUwMDE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1535001?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/shrugs",
    "html_url": "https://github.com/shrugs",
    "followers_url": "https://api.github.com/users/shrugs/followers",
    "following_url": "https://api.github.com/users/shrugs/following{/other_user}",
    "gists_url": "https://api.github.com/users/shrugs/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/shrugs/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/shrugs/subscriptions",
    "organizations_url": "https://api.github.com/users/shrugs/orgs",
    "repos_url": "https://api.github.com/users/shrugs/repos",
    "events_url": "https://api.github.com/users/shrugs/events{/privacy}",
    "received_events_url": "https://api.github.com/users/shrugs/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2018-05-04T01:42:25Z",
  "updated_at": "2019-07-13T03:01:01Z",
  "closed_at": null,
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "## 🎉 Description\r\n\r\nIt'd be cool if we had a simple `Airdrop` contract that used `SignatureBouncer.sol` to issue tokens (with emission variants like the crowdsale's Mintable/Allowance types) to those with valid signatures from a server.\r\n\r\nBonus points for a nodejs script that runs across a list of addresses and generates signatures for each of them.\r\n\r\nMore bonus points for a simple rails/express based api endpoint for generating these signatures which follows a flow like:\r\n\r\n1. user signs some challenge data using metamask/hardware-wallet/whatever\r\n2. user submits that signature to the server\r\n3. server recovers the address from the signature\r\n4. server checks to see if address is in off-chain whitelist\r\n5. if so, server signs a SignatureBouncer hash allowing the address to call the `Airdrop` contract\r\n6. user can then submit that signature to the airdrop contract and receive their tokens\r\n\r\n- [ ] 🐛 This is a bug report.\r\n- [x] 📈 This is a feature request.",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/928/reactions",
    "total_count": 6,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 6,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/928/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/387963504",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/928#issuecomment-387963504",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/928",
    "id": 387963504,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4Nzk2MzUwNA==",
    "user": {
      "login": "fgimenez",
      "id": 70376,
      "node_id": "MDQ6VXNlcjcwMzc2",
      "avatar_url": "https://avatars.githubusercontent.com/u/70376?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fgimenez",
      "html_url": "https://github.com/fgimenez",
      "followers_url": "https://api.github.com/users/fgimenez/followers",
      "following_url": "https://api.github.com/users/fgimenez/following{/other_user}",
      "gists_url": "https://api.github.com/users/fgimenez/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fgimenez/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fgimenez/subscriptions",
      "organizations_url": "https://api.github.com/users/fgimenez/orgs",
      "repos_url": "https://api.github.com/users/fgimenez/repos",
      "events_url": "https://api.github.com/users/fgimenez/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fgimenez/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-10T06:20:12Z",
    "updated_at": "2018-05-10T06:20:12Z",
    "author_association": "CONTRIBUTOR",
    "body": "hi @shrugs i've started working on the contracts, hopefully will have something ready soon, will keep you posted :)",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/387963504/reactions",
      "total_count": 2,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 1,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/389833771",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/928#issuecomment-389833771",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/928",
    "id": 389833771,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4OTgzMzc3MQ==",
    "user": {
      "login": "SylTi",
      "id": 1770876,
      "node_id": "MDQ6VXNlcjE3NzA4NzY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1770876?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SylTi",
      "html_url": "https://github.com/SylTi",
      "followers_url": "https://api.github.com/users/SylTi/followers",
      "following_url": "https://api.github.com/users/SylTi/following{/other_user}",
      "gists_url": "https://api.github.com/users/SylTi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SylTi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SylTi/subscriptions",
      "organizations_url": "https://api.github.com/users/SylTi/orgs",
      "repos_url": "https://api.github.com/users/SylTi/repos",
      "events_url": "https://api.github.com/users/SylTi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SylTi/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-17T11:24:49Z",
    "updated_at": "2018-05-17T11:24:49Z",
    "author_association": "CONTRIBUTOR",
    "body": "A simple MintableToken that take a signature of a hash (like `keccak256(address, amount, nonce)`) to mint tokens, with a simple check to stop multi-usage of the same sig, could also be nice.",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/389833771/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/389932992",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/928#issuecomment-389932992",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/928",
    "id": 389932992,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM4OTkzMjk5Mg==",
    "user": {
      "login": "shrugs",
      "id": 1535001,
      "node_id": "MDQ6VXNlcjE1MzUwMDE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1535001?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/shrugs",
      "html_url": "https://github.com/shrugs",
      "followers_url": "https://api.github.com/users/shrugs/followers",
      "following_url": "https://api.github.com/users/shrugs/following{/other_user}",
      "gists_url": "https://api.github.com/users/shrugs/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/shrugs/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/shrugs/subscriptions",
      "organizations_url": "https://api.github.com/users/shrugs/orgs",
      "repos_url": "https://api.github.com/users/shrugs/repos",
      "events_url": "https://api.github.com/users/shrugs/events{/privacy}",
      "received_events_url": "https://api.github.com/users/shrugs/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-17T16:45:28Z",
    "updated_at": "2018-05-17T16:45:28Z",
    "author_association": "CONTRIBUTOR",
    "body": "Yeah. I expect a lot of contracts will want to have single-use signatures. Do you think it would be more gas efficient to keep track of the `nonce` per-sender (with perhaps a range check like `nonce must be less than 1` for single-use) and then sign signatures with a nonce on the backend or would it be better to just do a mapping of `bytes32 -> boolean` to keep track of whether or not the signature has been used before. Probably the nonce version is better?",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/389932992/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/390036268",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/928#issuecomment-390036268",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/928",
    "id": 390036268,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MDAzNjI2OA==",
    "user": {
      "login": "SylTi",
      "id": 1770876,
      "node_id": "MDQ6VXNlcjE3NzA4NzY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1770876?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/SylTi",
      "html_url": "https://github.com/SylTi",
      "followers_url": "https://api.github.com/users/SylTi/followers",
      "following_url": "https://api.github.com/users/SylTi/following{/other_user}",
      "gists_url": "https://api.github.com/users/SylTi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/SylTi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/SylTi/subscriptions",
      "organizations_url": "https://api.github.com/users/SylTi/orgs",
      "repos_url": "https://api.github.com/users/SylTi/repos",
      "events_url": "https://api.github.com/users/SylTi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/SylTi/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-17T22:41:22Z",
    "updated_at": "2018-05-17T22:45:02Z",
    "author_association": "CONTRIBUTOR",
    "body": "Not sure, the nonce version could be more optimized but seems harder to code.\r\nThe nonce in my example was mainly to allow multiple issuances of the same amount to the same address ",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/390036268/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
