{
  "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/4711",
  "repository_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts",
  "labels_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/4711/labels{/name}",
  "comments_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/4711/comments",
  "events_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/4711/events",
  "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/4711",
  "id": 1966654280,
  "node_id": "I_kwDOA9tCBs51OMNI",
  "number": 4711,
  "title": "Repository with new OZ version updates but with solc version 0.8.19 for projects launching on PUSH0 incompatible chains",
  "user": {
    "login": "mcgrathcoutinho",
    "id": 109625274,
    "node_id": "U_kgDOBoi_ug",
    "avatar_url": "https://avatars.githubusercontent.com/u/109625274?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/mcgrathcoutinho",
    "html_url": "https://github.com/mcgrathcoutinho",
    "followers_url": "https://api.github.com/users/mcgrathcoutinho/followers",
    "following_url": "https://api.github.com/users/mcgrathcoutinho/following{/other_user}",
    "gists_url": "https://api.github.com/users/mcgrathcoutinho/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/mcgrathcoutinho/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/mcgrathcoutinho/subscriptions",
    "organizations_url": "https://api.github.com/users/mcgrathcoutinho/orgs",
    "repos_url": "https://api.github.com/users/mcgrathcoutinho/repos",
    "events_url": "https://api.github.com/users/mcgrathcoutinho/events{/privacy}",
    "received_events_url": "https://api.github.com/users/mcgrathcoutinho/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2023-10-28T16:18:44Z",
  "updated_at": "2023-10-28T20:21:04Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "**üßê Motivation**\r\nOZ's latest version contracts use v0.8.20 which require projects launching on chains like Polygon, Arbitrum to consider using older OZ versions since these EVM chains (L2s) do not support the PUSH0 opcode. I was wondering whether OZ has ever considered launching a separate repo for such chains, which includes the new version updates but with solc version 0.8.19. \r\n\r\n**üìù Details**\r\n<!-- Please describe your feature request in detail. -->\r\nWhy I think it would be good idea to launch such a repository:\r\n1. Allowing projects launching on L2s to use the latest version updates of OZ contracts. This would make the general usage of OZ contracts more standardized in the space as well since both L1 and L2 projects would use them (just with a differentiating solc version).\r\n2. Reduction in deployment issues faced when teams install OZ contracts ([since command provided on website installs latest version using solc v0.8.20](https://docs.openzeppelin.com/contracts/5.x/#hardhat_truffle_npm)).\r\n3. Some devs might not be aware of the PUSH0 opcode issue that arises when using newer OZ versions.\r\n4. In case this issue is disregarded, I would atleast recommend the team to add a note on the docs website so that deployment issues could be solved much faster.\r\n\r\n<!-- Make sure that you have reviewed the OpenZeppelin Contracts Contributor Guidelines. -->\r\n<!-- https://github.com/OpenZeppelin/openzeppelin-contracts/blob/master/CONTRIBUTING.md -->\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/4711/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/4711/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1783902448",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/4711#issuecomment-1783902448",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/4711",
    "id": 1783902448,
    "node_id": "IC_kwDOA9tCBs5qVDDw",
    "user": {
      "login": "ernestognw",
      "id": 33379285,
      "node_id": "MDQ6VXNlcjMzMzc5Mjg1",
      "avatar_url": "https://avatars.githubusercontent.com/u/33379285?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ernestognw",
      "html_url": "https://github.com/ernestognw",
      "followers_url": "https://api.github.com/users/ernestognw/followers",
      "following_url": "https://api.github.com/users/ernestognw/following{/other_user}",
      "gists_url": "https://api.github.com/users/ernestognw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ernestognw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ernestognw/subscriptions",
      "organizations_url": "https://api.github.com/users/ernestognw/orgs",
      "repos_url": "https://api.github.com/users/ernestognw/repos",
      "events_url": "https://api.github.com/users/ernestognw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ernestognw/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-10-28T19:21:08Z",
    "updated_at": "2023-10-28T19:21:08Z",
    "author_association": "MEMBER",
    "body": "Hey @mcgrathcoutinho, thanks for reporting.\r\n\r\nHave you tried compiling 5.0 contracts using `paris` as the EVM version? It will produce bytecode that doesn't include `PUSH0`.\r\n\r\nGenerally, we're opposed to having variants of this repository because it increases the maintenance surface. Although I agree users can inadvertently install Contracts 5.0 and compile for `shanghai` EVM bytecode, I'd say users should look for a note regarding version compatibility in their development environments. For example, Hardhat includes [some EVM version notes in their docs](https://hardhat.org/hardhat-runner/docs/config#default-evm-version)",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1783902448/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1783913860",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/4711#issuecomment-1783913860",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/4711",
    "id": 1783913860,
    "node_id": "IC_kwDOA9tCBs5qVF2E",
    "user": {
      "login": "mcgrathcoutinho",
      "id": 109625274,
      "node_id": "U_kgDOBoi_ug",
      "avatar_url": "https://avatars.githubusercontent.com/u/109625274?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/mcgrathcoutinho",
      "html_url": "https://github.com/mcgrathcoutinho",
      "followers_url": "https://api.github.com/users/mcgrathcoutinho/followers",
      "following_url": "https://api.github.com/users/mcgrathcoutinho/following{/other_user}",
      "gists_url": "https://api.github.com/users/mcgrathcoutinho/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/mcgrathcoutinho/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/mcgrathcoutinho/subscriptions",
      "organizations_url": "https://api.github.com/users/mcgrathcoutinho/orgs",
      "repos_url": "https://api.github.com/users/mcgrathcoutinho/repos",
      "events_url": "https://api.github.com/users/mcgrathcoutinho/events{/privacy}",
      "received_events_url": "https://api.github.com/users/mcgrathcoutinho/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-10-28T20:21:04Z",
    "updated_at": "2023-10-28T20:21:04Z",
    "author_association": "NONE",
    "body": "Hey @ernestognw, thanks for responding.\r\n\r\nI was probably tending towards the Shanghai version but considering the maintenance required, I think what you said makes sense. Nevertheless, I believe [this note in hardhat](https://hardhat.org/hardhat-runner/docs/config#default-evm-version) and [this one in foundry](https://book.getfoundry.sh/reference/config/solidity-compiler?highlight=evm%20version#evm_version) (although not that specific in foundry), should be referenced as a note on the OZ docs site since more people are tending towards foundry and might come across this PUSH0 error which is not explicitly mentioned in the foundry docs linked before. ",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1783913860/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
