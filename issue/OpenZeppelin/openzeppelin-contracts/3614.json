{
  "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3614",
  "repository_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts",
  "labels_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3614/labels{/name}",
  "comments_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3614/comments",
  "events_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3614/events",
  "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/3614",
  "id": 1337123965,
  "node_id": "I_kwDOA9tCBs5PsuR9",
  "number": 3614,
  "title": "[Actionable List] Replace revert strings with custom errors",
  "user": {
    "login": "Amxx",
    "id": 2432299,
    "node_id": "MDQ6VXNlcjI0MzIyOTk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2432299?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Amxx",
    "html_url": "https://github.com/Amxx",
    "followers_url": "https://api.github.com/users/Amxx/followers",
    "following_url": "https://api.github.com/users/Amxx/following{/other_user}",
    "gists_url": "https://api.github.com/users/Amxx/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Amxx/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Amxx/subscriptions",
    "organizations_url": "https://api.github.com/users/Amxx/orgs",
    "repos_url": "https://api.github.com/users/Amxx/repos",
    "events_url": "https://api.github.com/users/Amxx/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Amxx/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 11,
  "created_at": "2022-08-12T12:04:23Z",
  "updated_at": "2023-05-16T08:09:50Z",
  "closed_at": "2023-05-16T01:47:09Z",
  "author_association": "COLLABORATOR",
  "active_lock_reason": null,
  "body": "**üßê Motivation**\r\n\r\nCustom Errors, which were introduced in 0.8.4, contribute to reduce the contract size and improve clarity of revert reasons.\r\n\r\nA quick study shows that replacing a (short) revert string with a custom error can save 8.5k gas, and slightly decrease the run cost.\r\n```\r\nerror SomeError();\r\nerror SomeErrorWithArgs(address);\r\n\r\ncontract A { function test() external { revert(\"some short message\"); } }\r\n// deploy: 90599\r\n// run: 21288\r\n\r\ncontract B { function test() external { revert(\"some long message that will cause deployment to be more expensive, but hopefully not execution\"); } }\r\n// deploy: 109401\r\n// run: 21318\r\n\r\ncontract C { function test() external { revert SomeError(); } }\r\n// deploy: 81953\r\n// run: 21228\r\n\r\ncontract D { function test() external { revert SomeErrorWithArgs(msg.sender); } }\r\n// deploy: 83225\r\n// run: 21245\r\n```\r\n\r\n**üìù Next steps**\r\n\r\nThere are some question to resolve before moving forward with that change:\r\n\r\n- [ ] Check/validate custom error support by developer tools (hardhat + truffle / hardhat + waffle, etherscan, ...)\r\n  - Adapt our tests if needed\r\n- [ ] List all revert string, and decide what custom error to use for each one\r\n  - some custom errors might be reusable between contracts (ex: `InsufficientBalance` for ERCs 20, 777, 1155)\r\n  - decide which parameter (if any) to include in the custom error\r\n- [ ] Decide where to define the errors\r\n  - In each file: makes re-use difficult\r\n  - In a global file: messy\r\n  - Other?\r\n\r\n**See**\r\n- #3183 (uses custom errors)\r\n- #2725 (rewrite of access control around custom errors)",
  "closed_by": {
    "login": "ernestognw",
    "id": 33379285,
    "node_id": "MDQ6VXNlcjMzMzc5Mjg1",
    "avatar_url": "https://avatars.githubusercontent.com/u/33379285?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ernestognw",
    "html_url": "https://github.com/ernestognw",
    "followers_url": "https://api.github.com/users/ernestognw/followers",
    "following_url": "https://api.github.com/users/ernestognw/following{/other_user}",
    "gists_url": "https://api.github.com/users/ernestognw/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ernestognw/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ernestognw/subscriptions",
    "organizations_url": "https://api.github.com/users/ernestognw/orgs",
    "repos_url": "https://api.github.com/users/ernestognw/repos",
    "events_url": "https://api.github.com/users/ernestognw/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ernestognw/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3614/reactions",
    "total_count": 6,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 3,
    "confused": 0,
    "heart": 1,
    "rocket": 2,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3614/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1214831753",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/3614#issuecomment-1214831753",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3614",
    "id": 1214831753,
    "node_id": "IC_kwDOA9tCBs5IaNyJ",
    "user": {
      "login": "Amxx",
      "id": 2432299,
      "node_id": "MDQ6VXNlcjI0MzIyOTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2432299?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Amxx",
      "html_url": "https://github.com/Amxx",
      "followers_url": "https://api.github.com/users/Amxx/followers",
      "following_url": "https://api.github.com/users/Amxx/following{/other_user}",
      "gists_url": "https://api.github.com/users/Amxx/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Amxx/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Amxx/subscriptions",
      "organizations_url": "https://api.github.com/users/Amxx/orgs",
      "repos_url": "https://api.github.com/users/Amxx/repos",
      "events_url": "https://api.github.com/users/Amxx/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Amxx/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-15T09:47:58Z",
    "updated_at": "2022-08-15T09:47:58Z",
    "author_association": "COLLABORATOR",
    "body": "#2839",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1214831753/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1215767081",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/3614#issuecomment-1215767081",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3614",
    "id": 1215767081,
    "node_id": "IC_kwDOA9tCBs5IdyIp",
    "user": {
      "login": "akhil-is-watching",
      "id": 105096193,
      "node_id": "U_kgDOBkOkAQ",
      "avatar_url": "https://avatars.githubusercontent.com/u/105096193?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/akhil-is-watching",
      "html_url": "https://github.com/akhil-is-watching",
      "followers_url": "https://api.github.com/users/akhil-is-watching/followers",
      "following_url": "https://api.github.com/users/akhil-is-watching/following{/other_user}",
      "gists_url": "https://api.github.com/users/akhil-is-watching/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/akhil-is-watching/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/akhil-is-watching/subscriptions",
      "organizations_url": "https://api.github.com/users/akhil-is-watching/orgs",
      "repos_url": "https://api.github.com/users/akhil-is-watching/repos",
      "events_url": "https://api.github.com/users/akhil-is-watching/events{/privacy}",
      "received_events_url": "https://api.github.com/users/akhil-is-watching/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-15T20:38:38Z",
    "updated_at": "2022-08-15T20:38:38Z",
    "author_association": "NONE",
    "body": "Hi I'd really like to take up this issue.",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1215767081/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1216306424",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/3614#issuecomment-1216306424",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3614",
    "id": 1216306424,
    "node_id": "IC_kwDOA9tCBs5If1z4",
    "user": {
      "login": "Amxx",
      "id": 2432299,
      "node_id": "MDQ6VXNlcjI0MzIyOTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2432299?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Amxx",
      "html_url": "https://github.com/Amxx",
      "followers_url": "https://api.github.com/users/Amxx/followers",
      "following_url": "https://api.github.com/users/Amxx/following{/other_user}",
      "gists_url": "https://api.github.com/users/Amxx/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Amxx/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Amxx/subscriptions",
      "organizations_url": "https://api.github.com/users/Amxx/orgs",
      "repos_url": "https://api.github.com/users/Amxx/repos",
      "events_url": "https://api.github.com/users/Amxx/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Amxx/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-16T08:24:40Z",
    "updated_at": "2022-08-16T08:24:46Z",
    "author_association": "COLLABORATOR",
    "body": "Thank you @akhil-is-watching, but I think the next steps for now are mostly internal discussion with the team. While let everyone know on the issue if we can use any help.",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1216306424/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1277488049",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/3614#issuecomment-1277488049",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3614",
    "id": 1277488049,
    "node_id": "IC_kwDOA9tCBs5MJOux",
    "user": {
      "login": "wiasliaw",
      "id": 37038019,
      "node_id": "MDQ6VXNlcjM3MDM4MDE5",
      "avatar_url": "https://avatars.githubusercontent.com/u/37038019?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wiasliaw",
      "html_url": "https://github.com/wiasliaw",
      "followers_url": "https://api.github.com/users/wiasliaw/followers",
      "following_url": "https://api.github.com/users/wiasliaw/following{/other_user}",
      "gists_url": "https://api.github.com/users/wiasliaw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wiasliaw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wiasliaw/subscriptions",
      "organizations_url": "https://api.github.com/users/wiasliaw/orgs",
      "repos_url": "https://api.github.com/users/wiasliaw/repos",
      "events_url": "https://api.github.com/users/wiasliaw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wiasliaw/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-13T11:51:10Z",
    "updated_at": "2022-10-13T11:51:10Z",
    "author_association": "CONTRIBUTOR",
    "body": "There are two testing development tools had supported the custom error.\r\n- [waffle](https://ethereum-waffle.readthedocs.io/en/latest/migration-guides.html#custom-errors)\r\n- [hardhat-chai-matchers](https://hardhat.org/hardhat-chai-matchers/docs/overview)\r\n\r\nI recommend hardhat-chai-matchers. it provide better readability.\r\n```ts\r\n// hardhat-chai-matchers\r\nawait expect(contract.call()).to.be.revertedWithCustomError(\r\n  contract,\r\n  \"SomeCustomError\"\r\n);\r\n```\r\n\r\nbut waffle provider a matcher combined reason string and custom error\r\n```ts\r\n// waffle\r\n// reason string\r\nawait expect(token.checkRole('ADMIN'))\r\n  .to.be.revertedWith(/AccessControl: account .* is missing role .*/);\r\n\r\n// custom error\r\nawait expect(token.transfer(receiver, 100))\r\n    .to.be.revertedWith('InsufficientBalance')\r\n    .withArgs(0, 100);\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1277488049/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1280813677",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/3614#issuecomment-1280813677",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3614",
    "id": 1280813677,
    "node_id": "IC_kwDOA9tCBs5MV6pt",
    "user": {
      "login": "Amxx",
      "id": 2432299,
      "node_id": "MDQ6VXNlcjI0MzIyOTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2432299?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Amxx",
      "html_url": "https://github.com/Amxx",
      "followers_url": "https://api.github.com/users/Amxx/followers",
      "following_url": "https://api.github.com/users/Amxx/following{/other_user}",
      "gists_url": "https://api.github.com/users/Amxx/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Amxx/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Amxx/subscriptions",
      "organizations_url": "https://api.github.com/users/Amxx/orgs",
      "repos_url": "https://api.github.com/users/Amxx/repos",
      "events_url": "https://api.github.com/users/Amxx/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Amxx/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-17T12:52:36Z",
    "updated_at": "2022-10-17T12:52:36Z",
    "author_association": "COLLABORATOR",
    "body": "I like waffle's \"withArgs\" (its the same for events)",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1280813677/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1282195639",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/3614#issuecomment-1282195639",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3614",
    "id": 1282195639,
    "node_id": "IC_kwDOA9tCBs5MbMC3",
    "user": {
      "login": "wiasliaw",
      "id": 37038019,
      "node_id": "MDQ6VXNlcjM3MDM4MDE5",
      "avatar_url": "https://avatars.githubusercontent.com/u/37038019?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wiasliaw",
      "html_url": "https://github.com/wiasliaw",
      "followers_url": "https://api.github.com/users/wiasliaw/followers",
      "following_url": "https://api.github.com/users/wiasliaw/following{/other_user}",
      "gists_url": "https://api.github.com/users/wiasliaw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wiasliaw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wiasliaw/subscriptions",
      "organizations_url": "https://api.github.com/users/wiasliaw/orgs",
      "repos_url": "https://api.github.com/users/wiasliaw/repos",
      "events_url": "https://api.github.com/users/wiasliaw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wiasliaw/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-18T10:51:05Z",
    "updated_at": "2022-10-18T10:51:05Z",
    "author_association": "CONTRIBUTOR",
    "body": "@Amxx Hardhat supports `withArgs` too.\r\n\r\n```ts\r\nawait expect(contract.call())\r\n  .to.be.revertedWithCustomError(contract, \"SomeCustomError\")\r\n  .withArgs(anyValue, \"some error data string\");\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1282195639/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1289835944",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/3614#issuecomment-1289835944",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3614",
    "id": 1289835944,
    "node_id": "IC_kwDOA9tCBs5M4VWo",
    "user": {
      "login": "frangio",
      "id": 481465,
      "node_id": "MDQ6VXNlcjQ4MTQ2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/481465?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/frangio",
      "html_url": "https://github.com/frangio",
      "followers_url": "https://api.github.com/users/frangio/followers",
      "following_url": "https://api.github.com/users/frangio/following{/other_user}",
      "gists_url": "https://api.github.com/users/frangio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/frangio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/frangio/subscriptions",
      "organizations_url": "https://api.github.com/users/frangio/orgs",
      "repos_url": "https://api.github.com/users/frangio/repos",
      "events_url": "https://api.github.com/users/frangio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/frangio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-25T00:54:36Z",
    "updated_at": "2022-10-25T00:54:36Z",
    "author_association": "MEMBER",
    "body": "hardhat-chai-matchers should be preferred over Waffle nowadays.",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1289835944/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1295265789",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/3614#issuecomment-1295265789",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3614",
    "id": 1295265789,
    "node_id": "IC_kwDOA9tCBs5NNC_9",
    "user": {
      "login": "ItsShadowl",
      "id": 7571856,
      "node_id": "MDQ6VXNlcjc1NzE4NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7571856?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ItsShadowl",
      "html_url": "https://github.com/ItsShadowl",
      "followers_url": "https://api.github.com/users/ItsShadowl/followers",
      "following_url": "https://api.github.com/users/ItsShadowl/following{/other_user}",
      "gists_url": "https://api.github.com/users/ItsShadowl/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ItsShadowl/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ItsShadowl/subscriptions",
      "organizations_url": "https://api.github.com/users/ItsShadowl/orgs",
      "repos_url": "https://api.github.com/users/ItsShadowl/repos",
      "events_url": "https://api.github.com/users/ItsShadowl/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ItsShadowl/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-28T17:29:42Z",
    "updated_at": "2022-10-28T17:29:42Z",
    "author_association": "NONE",
    "body": "> hardhat-chai-matchers should be preferred over Waffle nowadays.\r\n\r\nI believe both supports Custom Errors, and the implementation can be tested with either.\r\n\r\nWe use Custom Error all over our codebase where possible. It is lighter. ",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1295265789/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1548846615",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/3614#issuecomment-1548846615",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3614",
    "id": 1548846615,
    "node_id": "IC_kwDOA9tCBs5cUYYX",
    "user": {
      "login": "ernestognw",
      "id": 33379285,
      "node_id": "MDQ6VXNlcjMzMzc5Mjg1",
      "avatar_url": "https://avatars.githubusercontent.com/u/33379285?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ernestognw",
      "html_url": "https://github.com/ernestognw",
      "followers_url": "https://api.github.com/users/ernestognw/followers",
      "following_url": "https://api.github.com/users/ernestognw/following{/other_user}",
      "gists_url": "https://api.github.com/users/ernestognw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ernestognw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ernestognw/subscriptions",
      "organizations_url": "https://api.github.com/users/ernestognw/orgs",
      "repos_url": "https://api.github.com/users/ernestognw/repos",
      "events_url": "https://api.github.com/users/ernestognw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ernestognw/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-16T01:47:07Z",
    "updated_at": "2023-05-16T01:47:07Z",
    "author_association": "MEMBER",
    "body": "Closing in favor of #2839 since there's more activity and attention over there",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1548846615/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1549101185",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/3614#issuecomment-1549101185",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3614",
    "id": 1549101185,
    "node_id": "IC_kwDOA9tCBs5cVWiB",
    "user": {
      "login": "radeksvarz",
      "id": 6020891,
      "node_id": "MDQ6VXNlcjYwMjA4OTE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6020891?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/radeksvarz",
      "html_url": "https://github.com/radeksvarz",
      "followers_url": "https://api.github.com/users/radeksvarz/followers",
      "following_url": "https://api.github.com/users/radeksvarz/following{/other_user}",
      "gists_url": "https://api.github.com/users/radeksvarz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/radeksvarz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/radeksvarz/subscriptions",
      "organizations_url": "https://api.github.com/users/radeksvarz/orgs",
      "repos_url": "https://api.github.com/users/radeksvarz/repos",
      "events_url": "https://api.github.com/users/radeksvarz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/radeksvarz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-16T07:02:28Z",
    "updated_at": "2023-05-16T07:02:28Z",
    "author_association": "NONE",
    "body": "> There are two testing development tools had supported the custom error.\r\n> \r\n> * [waffle](https://ethereum-waffle.readthedocs.io/en/latest/migration-guides.html#custom-errors)\r\n> * [hardhat-chai-matchers](https://hardhat.org/hardhat-chai-matchers/docs/overview)\r\n> \r\n> I recommend hardhat-chai-matchers. it provide better readability.\r\n> \r\n> ```ts\r\n> // hardhat-chai-matchers\r\n> await expect(contract.call()).to.be.revertedWithCustomError(\r\n>   contract,\r\n>   \"SomeCustomError\"\r\n> );\r\n> ```\r\n> \r\n> but waffle provider a matcher combined reason string and custom error\r\n> \r\n> ```ts\r\n> // waffle\r\n> // reason string\r\n> await expect(token.checkRole('ADMIN'))\r\n>   .to.be.revertedWith(/AccessControl: account .* is missing role .*/);\r\n> \r\n> // custom error\r\n> await expect(token.transfer(receiver, 100))\r\n>     .to.be.revertedWith('InsufficientBalance')\r\n>     .withArgs(0, 100);\r\n> ```\r\n\r\n[Foundry](https://book.getfoundry.sh/cheatcodes/expect-revert) can be also included on the list with `vm.expectRevert(CustomError.selector);`\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1549101185/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1549200107",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/3614#issuecomment-1549200107",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3614",
    "id": 1549200107,
    "node_id": "IC_kwDOA9tCBs5cVurr",
    "user": {
      "login": "Amxx",
      "id": 2432299,
      "node_id": "MDQ6VXNlcjI0MzIyOTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2432299?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Amxx",
      "html_url": "https://github.com/Amxx",
      "followers_url": "https://api.github.com/users/Amxx/followers",
      "following_url": "https://api.github.com/users/Amxx/following{/other_user}",
      "gists_url": "https://api.github.com/users/Amxx/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Amxx/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Amxx/subscriptions",
      "organizations_url": "https://api.github.com/users/Amxx/orgs",
      "repos_url": "https://api.github.com/users/Amxx/repos",
      "events_url": "https://api.github.com/users/Amxx/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Amxx/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-16T08:09:50Z",
    "updated_at": "2023-05-16T08:09:50Z",
    "author_association": "COLLABORATOR",
    "body": "@radeksvarz \r\n\r\nOur tests are written in JS for many reasons (including ensuring compatibility with libraries frequently used by frontends). We are not going to migrate everything to foundry. That would require a tremendous effort, and the added value to our end users is debatable.\r\n\r\nWe do use foundry to fusing though.",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1549200107/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
