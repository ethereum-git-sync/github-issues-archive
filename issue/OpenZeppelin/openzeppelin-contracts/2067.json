{
  "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/2067",
  "repository_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts",
  "labels_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/2067/labels{/name}",
  "comments_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/2067/comments",
  "events_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/2067/events",
  "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/2067",
  "id": 556266806,
  "node_id": "MDU6SXNzdWU1NTYyNjY4MDY=",
  "number": 2067,
  "title": "WhitelistAdminRole: possible dead-end when removing all admins",
  "user": {
    "login": "aquiladev",
    "id": 1164492,
    "node_id": "MDQ6VXNlcjExNjQ0OTI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1164492?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/aquiladev",
    "html_url": "https://github.com/aquiladev",
    "followers_url": "https://api.github.com/users/aquiladev/followers",
    "following_url": "https://api.github.com/users/aquiladev/following{/other_user}",
    "gists_url": "https://api.github.com/users/aquiladev/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/aquiladev/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/aquiladev/subscriptions",
    "organizations_url": "https://api.github.com/users/aquiladev/orgs",
    "repos_url": "https://api.github.com/users/aquiladev/repos",
    "events_url": "https://api.github.com/users/aquiladev/events{/privacy}",
    "received_events_url": "https://api.github.com/users/aquiladev/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2020-01-28T15:00:22Z",
  "updated_at": "2020-01-29T18:34:11Z",
  "closed_at": "2020-01-29T18:34:11Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "**üìù Details**\r\n\r\nAfter reviewing `WhitelistAdminRole` contract I found out possible dead-end in the code of the contract.\r\nThere is a possibility to remove all admins from the contract, while only admin can add a new admin. If there are no admins, nobody can add new admin and nobody can manage whitelist.\r\n\r\n**üî¢ Code**\r\n```\r\ncontract WhitelistAdminRole is Context {\r\n...\r\n    function addWhitelistAdmin(address account) public onlyWhitelistAdmin {\r\n        _addWhitelistAdmin(account);\r\n    }\r\n\r\n    function renounceWhitelistAdmin() public {\r\n        _removeWhitelistAdmin(_msgSender());\r\n    }\r\n...\r\n}\r\n```\r\n",
  "closed_by": {
    "login": "nventuro",
    "id": 2530770,
    "node_id": "MDQ6VXNlcjI1MzA3NzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2530770?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/nventuro",
    "html_url": "https://github.com/nventuro",
    "followers_url": "https://api.github.com/users/nventuro/followers",
    "following_url": "https://api.github.com/users/nventuro/following{/other_user}",
    "gists_url": "https://api.github.com/users/nventuro/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/nventuro/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/nventuro/subscriptions",
    "organizations_url": "https://api.github.com/users/nventuro/orgs",
    "repos_url": "https://api.github.com/users/nventuro/repos",
    "events_url": "https://api.github.com/users/nventuro/events{/privacy}",
    "received_events_url": "https://api.github.com/users/nventuro/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/2067/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/2067/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/579315524",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/2067#issuecomment-579315524",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/2067",
    "id": 579315524,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3OTMxNTUyNA==",
    "user": {
      "login": "nventuro",
      "id": 2530770,
      "node_id": "MDQ6VXNlcjI1MzA3NzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2530770?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nventuro",
      "html_url": "https://github.com/nventuro",
      "followers_url": "https://api.github.com/users/nventuro/followers",
      "following_url": "https://api.github.com/users/nventuro/following{/other_user}",
      "gists_url": "https://api.github.com/users/nventuro/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nventuro/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nventuro/subscriptions",
      "organizations_url": "https://api.github.com/users/nventuro/orgs",
      "repos_url": "https://api.github.com/users/nventuro/repos",
      "events_url": "https://api.github.com/users/nventuro/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nventuro/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-01-28T15:52:20Z",
    "updated_at": "2020-01-28T15:52:20Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hello @aquiladev! Yes, this is possible for all of our Access Control solutions, even [`Ownable`](https://docs.openzeppelin.com/contracts/2.x/api/ownership#Ownable) has [`renounceOwnership`](https://docs.openzeppelin.com/contracts/2.x/api/ownership#Ownable-renounceOwnership--), which can be used to achieve the same.\r\n\r\nThis is considered a feature: many projects find it useful to temporarily have special powers that are later relinquished after a certain condition is met. For the `WhitelistAdminRole`, it may be that you intend to dynamically create a list of whitelisted accounts and then have all admins renounce, so that the list is made final and immutable.\r\n\r\nDoes this make sense to you? Is there any particular scenario that concerns you where this could lead to an issue?\r\n\r\nThanks!",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/579315524/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/579860856",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/2067#issuecomment-579860856",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/2067",
    "id": 579860856,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3OTg2MDg1Ng==",
    "user": {
      "login": "aquiladev",
      "id": 1164492,
      "node_id": "MDQ6VXNlcjExNjQ0OTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1164492?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aquiladev",
      "html_url": "https://github.com/aquiladev",
      "followers_url": "https://api.github.com/users/aquiladev/followers",
      "following_url": "https://api.github.com/users/aquiladev/following{/other_user}",
      "gists_url": "https://api.github.com/users/aquiladev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aquiladev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aquiladev/subscriptions",
      "organizations_url": "https://api.github.com/users/aquiladev/orgs",
      "repos_url": "https://api.github.com/users/aquiladev/repos",
      "events_url": "https://api.github.com/users/aquiladev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aquiladev/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-01-29T17:09:48Z",
    "updated_at": "2020-01-29T17:09:48Z",
    "author_association": "NONE",
    "body": "Yeah, it makes sense in some cases. In case of dynamic whitelist(eg in my case), it can lead to a dead-end. Due to regulation, I need to restrict the usage of token. the whitelist should be changed when a new customer joins a service. ",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/579860856/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/579869900",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/2067#issuecomment-579869900",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/2067",
    "id": 579869900,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3OTg2OTkwMA==",
    "user": {
      "login": "nventuro",
      "id": 2530770,
      "node_id": "MDQ6VXNlcjI1MzA3NzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2530770?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nventuro",
      "html_url": "https://github.com/nventuro",
      "followers_url": "https://api.github.com/users/nventuro/followers",
      "following_url": "https://api.github.com/users/nventuro/following{/other_user}",
      "gists_url": "https://api.github.com/users/nventuro/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nventuro/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nventuro/subscriptions",
      "organizations_url": "https://api.github.com/users/nventuro/orgs",
      "repos_url": "https://api.github.com/users/nventuro/repos",
      "events_url": "https://api.github.com/users/nventuro/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nventuro/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-01-29T17:30:26Z",
    "updated_at": "2020-01-29T17:30:26Z",
    "author_association": "CONTRIBUTOR",
    "body": "Yes, that is a common scenario. Is the fact that you could potentially end up with no admins an issue? Arguably, that could also happen due to other reasons, such as losing access to your private keys.",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/579869900/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/579885606",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/2067#issuecomment-579885606",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/2067",
    "id": 579885606,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3OTg4NTYwNg==",
    "user": {
      "login": "aquiladev",
      "id": 1164492,
      "node_id": "MDQ6VXNlcjExNjQ0OTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1164492?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/aquiladev",
      "html_url": "https://github.com/aquiladev",
      "followers_url": "https://api.github.com/users/aquiladev/followers",
      "following_url": "https://api.github.com/users/aquiladev/following{/other_user}",
      "gists_url": "https://api.github.com/users/aquiladev/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/aquiladev/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/aquiladev/subscriptions",
      "organizations_url": "https://api.github.com/users/aquiladev/orgs",
      "repos_url": "https://api.github.com/users/aquiladev/repos",
      "events_url": "https://api.github.com/users/aquiladev/events{/privacy}",
      "received_events_url": "https://api.github.com/users/aquiladev/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-01-29T18:06:04Z",
    "updated_at": "2020-01-29T18:06:04Z",
    "author_association": "NONE",
    "body": "Yes, it is the same as losing private key. I've got your arguments they are reasonable. I think the issue can be closed.",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/579885606/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/579897376",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/2067#issuecomment-579897376",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/2067",
    "id": 579897376,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3OTg5NzM3Ng==",
    "user": {
      "login": "nventuro",
      "id": 2530770,
      "node_id": "MDQ6VXNlcjI1MzA3NzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2530770?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nventuro",
      "html_url": "https://github.com/nventuro",
      "followers_url": "https://api.github.com/users/nventuro/followers",
      "following_url": "https://api.github.com/users/nventuro/following{/other_user}",
      "gists_url": "https://api.github.com/users/nventuro/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nventuro/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nventuro/subscriptions",
      "organizations_url": "https://api.github.com/users/nventuro/orgs",
      "repos_url": "https://api.github.com/users/nventuro/repos",
      "events_url": "https://api.github.com/users/nventuro/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nventuro/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-01-29T18:34:11Z",
    "updated_at": "2020-01-29T18:34:11Z",
    "author_association": "CONTRIBUTOR",
    "body": "Thanks for your feedback!",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/579897376/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
