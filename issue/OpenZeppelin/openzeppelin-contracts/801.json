{
  "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/801",
  "repository_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts",
  "labels_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/801/labels{/name}",
  "comments_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/801/comments",
  "events_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/801/events",
  "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/801",
  "id": 302968924,
  "node_id": "MDU6SXNzdWUzMDI5Njg5MjQ=",
  "number": 801,
  "title": "Fast Enumerating ERC721s",
  "user": {
    "login": "klivin",
    "id": 200045,
    "node_id": "MDQ6VXNlcjIwMDA0NQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/200045?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/klivin",
    "html_url": "https://github.com/klivin",
    "followers_url": "https://api.github.com/users/klivin/followers",
    "following_url": "https://api.github.com/users/klivin/following{/other_user}",
    "gists_url": "https://api.github.com/users/klivin/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/klivin/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/klivin/subscriptions",
    "organizations_url": "https://api.github.com/users/klivin/orgs",
    "repos_url": "https://api.github.com/users/klivin/repos",
    "events_url": "https://api.github.com/users/klivin/events{/privacy}",
    "received_events_url": "https://api.github.com/users/klivin/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2018-03-07T05:23:48Z",
  "updated_at": "2018-05-28T22:26:53Z",
  "closed_at": "2018-05-28T22:26:53Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "## üéâ Description\r\n\r\nThere Is no way to enumerate through someone that may have thousands of ERC721s\r\n\r\n- [ ] üêõ This is a bug report.\r\n- [x] üìà This is a feature request.\r\n\r\n<!-- Please check one of the above by placing an x in the box. -->\r\n\r\n\r\n## üìù Details\r\n\r\nIn regards to [ERC721Token contract](https://github.com/OpenZeppelin/zeppelin-solidity/blob/master/contracts/token/ERC721/ERC721Token.sol):\r\n\r\nWant to add in subclass ERC721Token to allow more enumerable interface like shown in [this standard:](https://github.com/fulldecent/EIPs/blob/patch-2/EIPS/eip-721.md)\r\n\r\nNamely I want to add the following in a ERC721Token instance:\r\n\r\n```\r\n  function tokenOfOwnerByIndex(address _owner, uint256 _index) \r\n    external \r\n    view \r\n    returns (uint256 _tokenId) \r\n  {\r\n    require(_index < balanceOf(_owner));\r\n    return ownedTokens[_owner][_index];\r\n  }\r\n```\r\n\r\nThis is an order of magnitude faster than using public tokensOf function which returns the entire array:\r\n    return tokensOf(_owner)[_index];\r\n\r\nHowever due to \"private\" encapsulation of ownedTokens in ERC721Token subclass:\r\n  mapping (address => uint256[]) private ownedTokens;\r\n\r\nWe can't extend the functionality of that mapping, or any mapping in the base class ERC721.  To be more flexible, would it be crazy to make the mappings in the base class internal rather than private?\r\n",
  "closed_by": {
    "login": "come-maiz",
    "id": 617831,
    "node_id": "MDQ6VXNlcjYxNzgzMQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/617831?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/come-maiz",
    "html_url": "https://github.com/come-maiz",
    "followers_url": "https://api.github.com/users/come-maiz/followers",
    "following_url": "https://api.github.com/users/come-maiz/following{/other_user}",
    "gists_url": "https://api.github.com/users/come-maiz/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/come-maiz/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/come-maiz/subscriptions",
    "organizations_url": "https://api.github.com/users/come-maiz/orgs",
    "repos_url": "https://api.github.com/users/come-maiz/repos",
    "events_url": "https://api.github.com/users/come-maiz/events{/privacy}",
    "received_events_url": "https://api.github.com/users/come-maiz/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/801/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/801/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/371122691",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/801#issuecomment-371122691",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/801",
    "id": 371122691,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM3MTEyMjY5MQ==",
    "user": {
      "login": "spalladino",
      "id": 429604,
      "node_id": "MDQ6VXNlcjQyOTYwNA==",
      "avatar_url": "https://avatars.githubusercontent.com/u/429604?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/spalladino",
      "html_url": "https://github.com/spalladino",
      "followers_url": "https://api.github.com/users/spalladino/followers",
      "following_url": "https://api.github.com/users/spalladino/following{/other_user}",
      "gists_url": "https://api.github.com/users/spalladino/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/spalladino/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/spalladino/subscriptions",
      "organizations_url": "https://api.github.com/users/spalladino/orgs",
      "repos_url": "https://api.github.com/users/spalladino/repos",
      "events_url": "https://api.github.com/users/spalladino/events{/privacy}",
      "received_events_url": "https://api.github.com/users/spalladino/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-03-07T12:25:47Z",
    "updated_at": "2018-03-07T12:25:47Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hey @klivin, for the next release of 721, we are working on both adding that method and changing the mappings to internal. So we hope to have both of those issues fixed. Keep an eye on https://github.com/OpenZeppelin/zeppelin-solidity/pull/682!",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/371122691/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 1,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/392611740",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/801#issuecomment-392611740",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/801",
    "id": 392611740,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5MjYxMTc0MA==",
    "user": {
      "login": "come-maiz",
      "id": 617831,
      "node_id": "MDQ6VXNlcjYxNzgzMQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/617831?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/come-maiz",
      "html_url": "https://github.com/come-maiz",
      "followers_url": "https://api.github.com/users/come-maiz/followers",
      "following_url": "https://api.github.com/users/come-maiz/following{/other_user}",
      "gists_url": "https://api.github.com/users/come-maiz/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/come-maiz/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/come-maiz/subscriptions",
      "organizations_url": "https://api.github.com/users/come-maiz/orgs",
      "repos_url": "https://api.github.com/users/come-maiz/repos",
      "events_url": "https://api.github.com/users/come-maiz/events{/privacy}",
      "received_events_url": "https://api.github.com/users/come-maiz/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-05-28T22:26:52Z",
    "updated_at": "2018-05-28T22:26:52Z",
    "author_association": "CONTRIBUTOR",
    "body": "This was merged in #803. Please take a look and file a new issue if something is missing.\r\nThanks for the report @klivin !",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/392611740/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
