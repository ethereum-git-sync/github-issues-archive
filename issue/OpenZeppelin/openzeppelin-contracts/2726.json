{
  "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/2726",
  "repository_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts",
  "labels_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/2726/labels{/name}",
  "comments_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/2726/comments",
  "events_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/2726/events",
  "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/2726",
  "id": 924051473,
  "node_id": "MDU6SXNzdWU5MjQwNTE0NzM=",
  "number": 2726,
  "title": "[ProxyAdmin] Upgrade implementation of multiple proxies with one tx",
  "user": {
    "login": "bogdan",
    "id": 122436,
    "node_id": "MDQ6VXNlcjEyMjQzNg==",
    "avatar_url": "https://avatars.githubusercontent.com/u/122436?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/bogdan",
    "html_url": "https://github.com/bogdan",
    "followers_url": "https://api.github.com/users/bogdan/followers",
    "following_url": "https://api.github.com/users/bogdan/following{/other_user}",
    "gists_url": "https://api.github.com/users/bogdan/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/bogdan/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/bogdan/subscriptions",
    "organizations_url": "https://api.github.com/users/bogdan/orgs",
    "repos_url": "https://api.github.com/users/bogdan/repos",
    "events_url": "https://api.github.com/users/bogdan/events{/privacy}",
    "received_events_url": "https://api.github.com/users/bogdan/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2021-06-17T15:18:53Z",
  "updated_at": "2021-10-06T13:04:43Z",
  "closed_at": "2021-10-06T13:04:43Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "**üßê Motivation**\r\n<!-- Is your feature request related to a specific problem? Is it just a crazy idea? Tell us about it! -->\r\n\r\nI have 2 upgradable smart contracts that trust and interact with each other. I want to upgrade both of them in a way that changes their interaction API.\r\n\r\nUpgrading them one by one will cause the downtime of the system when first contract is upgraded and second one is not.\r\nI don't see a way to perform such operation even though proxies are owned by the same ProxyAdmin contract. \r\n\r\n**üìù Details**\r\n<!-- Please describe your feature request in detail. -->\r\n\r\n<!-- Make sure that you have reviewed the OpenZeppelin Contributor Guidelines. -->\r\n<!-- https://github.com/OpenZeppelin/openzeppelin-contracts/blob/master/CONTRIBUTING.md -->\r\n\r\n``` solidity \r\ncontract ProxyAdmin {\r\n  function upgradeAll(TransparentUpgradeableProxy[] proxies, address[] implementations) public virtual onlyOwner {\r\n    ... \r\n  }\r\n} \r\n```",
  "closed_by": {
    "login": "Amxx",
    "id": 2432299,
    "node_id": "MDQ6VXNlcjI0MzIyOTk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2432299?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Amxx",
    "html_url": "https://github.com/Amxx",
    "followers_url": "https://api.github.com/users/Amxx/followers",
    "following_url": "https://api.github.com/users/Amxx/following{/other_user}",
    "gists_url": "https://api.github.com/users/Amxx/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Amxx/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Amxx/subscriptions",
    "organizations_url": "https://api.github.com/users/Amxx/orgs",
    "repos_url": "https://api.github.com/users/Amxx/repos",
    "events_url": "https://api.github.com/users/Amxx/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Amxx/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/2726/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/2726/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/863613309",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/2726#issuecomment-863613309",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/2726",
    "id": 863613309,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2MzYxMzMwOQ==",
    "user": {
      "login": "Amxx",
      "id": 2432299,
      "node_id": "MDQ6VXNlcjI0MzIyOTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2432299?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Amxx",
      "html_url": "https://github.com/Amxx",
      "followers_url": "https://api.github.com/users/Amxx/followers",
      "following_url": "https://api.github.com/users/Amxx/following{/other_user}",
      "gists_url": "https://api.github.com/users/Amxx/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Amxx/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Amxx/subscriptions",
      "organizations_url": "https://api.github.com/users/Amxx/orgs",
      "repos_url": "https://api.github.com/users/Amxx/repos",
      "events_url": "https://api.github.com/users/Amxx/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Amxx/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-17T22:57:39Z",
    "updated_at": "2021-06-17T22:57:39Z",
    "author_association": "COLLABORATOR",
    "body": "Hello @bogdan \r\n\r\nIn my opinion, the best option for you (in the immediate future) might be to give ownership of the ProxyAdmin to a multisig/smart wallet that supports batching, and use that.\r\n\r\nYou could also write this variant of the ProxyAdmin, deploy it, transfer ownership of your proxies to this new instance, and use the batching mechanism.\r\n\r\nWe will considering adding this to future ProxyAdmin, but all existing ones won't be able to benefit from it.",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/863613309/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/863961790",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/2726#issuecomment-863961790",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/2726",
    "id": 863961790,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2Mzk2MTc5MA==",
    "user": {
      "login": "bogdan",
      "id": 122436,
      "node_id": "MDQ6VXNlcjEyMjQzNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/122436?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bogdan",
      "html_url": "https://github.com/bogdan",
      "followers_url": "https://api.github.com/users/bogdan/followers",
      "following_url": "https://api.github.com/users/bogdan/following{/other_user}",
      "gists_url": "https://api.github.com/users/bogdan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bogdan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bogdan/subscriptions",
      "organizations_url": "https://api.github.com/users/bogdan/orgs",
      "repos_url": "https://api.github.com/users/bogdan/repos",
      "events_url": "https://api.github.com/users/bogdan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bogdan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-18T11:13:48Z",
    "updated_at": "2021-06-18T11:13:48Z",
    "author_association": "NONE",
    "body": "> We will considering adding this to future ProxyAdmin, but all existing ones won't be able to benefit from it\r\n\r\nSure, I will always be able to deploy new version of `ProxyAdmin` and transfer ownership there. At the current stage of my project, we can eat a downtime, but that might not be an option in 3-6 month from now.",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/863961790/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/864081023",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/2726#issuecomment-864081023",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/2726",
    "id": 864081023,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg2NDA4MTAyMw==",
    "user": {
      "login": "Amxx",
      "id": 2432299,
      "node_id": "MDQ6VXNlcjI0MzIyOTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2432299?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Amxx",
      "html_url": "https://github.com/Amxx",
      "followers_url": "https://api.github.com/users/Amxx/followers",
      "following_url": "https://api.github.com/users/Amxx/following{/other_user}",
      "gists_url": "https://api.github.com/users/Amxx/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Amxx/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Amxx/subscriptions",
      "organizations_url": "https://api.github.com/users/Amxx/orgs",
      "repos_url": "https://api.github.com/users/Amxx/repos",
      "events_url": "https://api.github.com/users/Amxx/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Amxx/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-18T14:29:48Z",
    "updated_at": "2021-06-18T14:29:48Z",
    "author_association": "COLLABORATOR",
    "body": "You might want to do\r\n```\r\ncontract ProxyAdmin2 is ProxyAdmin, Multicall {}\r\n```\r\nusing the new multi-call utility.",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/864081023/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/935146334",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/2726#issuecomment-935146334",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/2726",
    "id": 935146334,
    "node_id": "IC_kwDOA9tCBs43vTNe",
    "user": {
      "login": "frangio",
      "id": 481465,
      "node_id": "MDQ6VXNlcjQ4MTQ2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/481465?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/frangio",
      "html_url": "https://github.com/frangio",
      "followers_url": "https://api.github.com/users/frangio/followers",
      "following_url": "https://api.github.com/users/frangio/following{/other_user}",
      "gists_url": "https://api.github.com/users/frangio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/frangio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/frangio/subscriptions",
      "organizations_url": "https://api.github.com/users/frangio/orgs",
      "repos_url": "https://api.github.com/users/frangio/repos",
      "events_url": "https://api.github.com/users/frangio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/frangio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-06T00:30:58Z",
    "updated_at": "2021-10-06T00:30:58Z",
    "author_association": "MEMBER",
    "body": "@bogdan Does this proposal to use a custom combination of `ProxyAdmin` and `Multicall` work for you? If not, please let us know where it falls short.",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/935146334/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/936082079",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/2726#issuecomment-936082079",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/2726",
    "id": 936082079,
    "node_id": "IC_kwDOA9tCBs43y3qf",
    "user": {
      "login": "bogdan",
      "id": 122436,
      "node_id": "MDQ6VXNlcjEyMjQzNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/122436?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bogdan",
      "html_url": "https://github.com/bogdan",
      "followers_url": "https://api.github.com/users/bogdan/followers",
      "following_url": "https://api.github.com/users/bogdan/following{/other_user}",
      "gists_url": "https://api.github.com/users/bogdan/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bogdan/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bogdan/subscriptions",
      "organizations_url": "https://api.github.com/users/bogdan/orgs",
      "repos_url": "https://api.github.com/users/bogdan/repos",
      "events_url": "https://api.github.com/users/bogdan/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bogdan/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-10-06T11:48:24Z",
    "updated_at": "2021-10-06T11:48:24Z",
    "author_association": "NONE",
    "body": "Yes, that works.",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/936082079/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
