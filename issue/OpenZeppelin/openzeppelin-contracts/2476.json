{
  "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/2476",
  "repository_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts",
  "labels_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/2476/labels{/name}",
  "comments_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/2476/comments",
  "events_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/2476/events",
  "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/2476",
  "id": 789594177,
  "node_id": "MDU6SXNzdWU3ODk1OTQxNzc=",
  "number": 2476,
  "title": "Merkle tree function (in JavaScript) only allows strings",
  "user": {
    "login": "fulldecent",
    "id": 382183,
    "node_id": "MDQ6VXNlcjM4MjE4Mw==",
    "avatar_url": "https://avatars.githubusercontent.com/u/382183?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/fulldecent",
    "html_url": "https://github.com/fulldecent",
    "followers_url": "https://api.github.com/users/fulldecent/followers",
    "following_url": "https://api.github.com/users/fulldecent/following{/other_user}",
    "gists_url": "https://api.github.com/users/fulldecent/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/fulldecent/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/fulldecent/subscriptions",
    "organizations_url": "https://api.github.com/users/fulldecent/orgs",
    "repos_url": "https://api.github.com/users/fulldecent/repos",
    "events_url": "https://api.github.com/users/fulldecent/events{/privacy}",
    "received_events_url": "https://api.github.com/users/fulldecent/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2021-01-20T03:26:25Z",
  "updated_at": "2021-03-10T17:30:16Z",
  "closed_at": "2021-03-10T17:30:16Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "**üßê Motivation**\r\n\r\nCurrently, the JavaScript-land function MerkleTree/constructor is expecting that input data will always be provided as variable-length \"strings\". It then appropriately hashes them to fixed-length Buffers, and processes from there.\r\n\r\nBy filtering each input this way, it limits the domain of the function and limits interoperability with other systems.\r\n\r\n**üìù Details**\r\n\r\nYou can hash this [\"a\", \"b\", \"c\"].\r\n\r\nBut you can't hash this [0x817340e.., ...].\r\n",
  "closed_by": {
    "login": "Amxx",
    "id": 2432299,
    "node_id": "MDQ6VXNlcjI0MzIyOTk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2432299?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Amxx",
    "html_url": "https://github.com/Amxx",
    "followers_url": "https://api.github.com/users/Amxx/followers",
    "following_url": "https://api.github.com/users/Amxx/following{/other_user}",
    "gists_url": "https://api.github.com/users/Amxx/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Amxx/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Amxx/subscriptions",
    "organizations_url": "https://api.github.com/users/Amxx/orgs",
    "repos_url": "https://api.github.com/users/Amxx/repos",
    "events_url": "https://api.github.com/users/Amxx/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Amxx/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/2476/reactions",
    "total_count": 1,
    "+1": 1,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/2476/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/764002282",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/2476#issuecomment-764002282",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/2476",
    "id": 764002282,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc2NDAwMjI4Mg==",
    "user": {
      "login": "abcoathup",
      "id": 28278242,
      "node_id": "MDQ6VXNlcjI4Mjc4MjQy",
      "avatar_url": "https://avatars.githubusercontent.com/u/28278242?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/abcoathup",
      "html_url": "https://github.com/abcoathup",
      "followers_url": "https://api.github.com/users/abcoathup/followers",
      "following_url": "https://api.github.com/users/abcoathup/following{/other_user}",
      "gists_url": "https://api.github.com/users/abcoathup/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/abcoathup/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/abcoathup/subscriptions",
      "organizations_url": "https://api.github.com/users/abcoathup/orgs",
      "repos_url": "https://api.github.com/users/abcoathup/repos",
      "events_url": "https://api.github.com/users/abcoathup/events{/privacy}",
      "received_events_url": "https://api.github.com/users/abcoathup/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-01-20T22:45:00Z",
    "updated_at": "2021-01-20T22:45:00Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hi @fulldecent !  Thanks for the suggestion, it is really appreciated.\r\n\r\nThe project owner will review your suggestion as soon as they can. \r\n\r\nPlease wait until we have discussed this idea before writing any more code, so we can go through the design beforehand.  We don‚Äôt want you to waste your time!",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/764002282/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/776067675",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/2476#issuecomment-776067675",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/2476",
    "id": 776067675,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3NjA2NzY3NQ==",
    "user": {
      "login": "Amxx",
      "id": 2432299,
      "node_id": "MDQ6VXNlcjI0MzIyOTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2432299?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Amxx",
      "html_url": "https://github.com/Amxx",
      "followers_url": "https://api.github.com/users/Amxx/followers",
      "following_url": "https://api.github.com/users/Amxx/following{/other_user}",
      "gists_url": "https://api.github.com/users/Amxx/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Amxx/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Amxx/subscriptions",
      "organizations_url": "https://api.github.com/users/Amxx/orgs",
      "repos_url": "https://api.github.com/users/Amxx/repos",
      "events_url": "https://api.github.com/users/Amxx/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Amxx/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-09T16:32:23Z",
    "updated_at": "2021-02-09T16:32:23Z",
    "author_association": "COLLABORATOR",
    "body": "Hello @fulldecent \r\n\r\nThe issue you raise, and the PR that addresses it, looks to only affect `/test/helpers/merkleTree.js`.\r\nThis file is not intended to be used outside the tests, and is not package as part of the repo. Furthermore, the new mechanism you add is not used in the tests.\r\n\r\nAre you using this helper in your codebase ? If so, it might make more sens to improve it further (better error handling for invalid inputs) and make it part of the `@openzeppelin/test-helpers` repo, and use this improved version in the tests.",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/776067675/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/776416028",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/2476#issuecomment-776416028",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/2476",
    "id": 776416028,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3NjQxNjAyOA==",
    "user": {
      "login": "fulldecent",
      "id": 382183,
      "node_id": "MDQ6VXNlcjM4MjE4Mw==",
      "avatar_url": "https://avatars.githubusercontent.com/u/382183?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fulldecent",
      "html_url": "https://github.com/fulldecent",
      "followers_url": "https://api.github.com/users/fulldecent/followers",
      "following_url": "https://api.github.com/users/fulldecent/following{/other_user}",
      "gists_url": "https://api.github.com/users/fulldecent/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fulldecent/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fulldecent/subscriptions",
      "organizations_url": "https://api.github.com/users/fulldecent/orgs",
      "repos_url": "https://api.github.com/users/fulldecent/repos",
      "events_url": "https://api.github.com/users/fulldecent/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fulldecent/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-10T03:36:35Z",
    "updated_at": "2021-02-10T03:36:35Z",
    "author_association": "CONTRIBUTOR",
    "body": "@momannn are we able to share our code here?",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/776416028/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/776587605",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/2476#issuecomment-776587605",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/2476",
    "id": 776587605,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc3NjU4NzYwNQ==",
    "user": {
      "login": "MoMannn",
      "id": 8865298,
      "node_id": "MDQ6VXNlcjg4NjUyOTg=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8865298?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/MoMannn",
      "html_url": "https://github.com/MoMannn",
      "followers_url": "https://api.github.com/users/MoMannn/followers",
      "following_url": "https://api.github.com/users/MoMannn/following{/other_user}",
      "gists_url": "https://api.github.com/users/MoMannn/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/MoMannn/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/MoMannn/subscriptions",
      "organizations_url": "https://api.github.com/users/MoMannn/orgs",
      "repos_url": "https://api.github.com/users/MoMannn/repos",
      "events_url": "https://api.github.com/users/MoMannn/events{/privacy}",
      "received_events_url": "https://api.github.com/users/MoMannn/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-10T09:52:52Z",
    "updated_at": "2021-02-10T09:52:52Z",
    "author_association": "NONE",
    "body": "@fulldecent I think we can but your PR already basically solves the problem. Maybe just an example of usage would be beneficial. ",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/776587605/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/795682386",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/2476#issuecomment-795682386",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/2476",
    "id": 795682386,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc5NTY4MjM4Ng==",
    "user": {
      "login": "frangio",
      "id": 481465,
      "node_id": "MDQ6VXNlcjQ4MTQ2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/481465?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/frangio",
      "html_url": "https://github.com/frangio",
      "followers_url": "https://api.github.com/users/frangio/followers",
      "following_url": "https://api.github.com/users/frangio/following{/other_user}",
      "gists_url": "https://api.github.com/users/frangio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/frangio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/frangio/subscriptions",
      "organizations_url": "https://api.github.com/users/frangio/orgs",
      "repos_url": "https://api.github.com/users/frangio/repos",
      "events_url": "https://api.github.com/users/frangio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/frangio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-10T16:21:27Z",
    "updated_at": "2021-03-10T16:25:32Z",
    "author_association": "MEMBER",
    "body": "As @Amxx pointed out, at this moment this issue and PR are updating a function that we use as a test helper only.\r\n\r\nOn the other hand, this issue is related to the usability of our `MerkleProof` library, which is something we need to make sure is right. But rather than building our own merkle tree function, it would be interesting to instead make sure that a more general purpose merkle tree library can be used together with our Solidity library.\r\n\r\nFrom a quick search I found [miguelmota/merkletreejs](https://github.com/miguelmota/merkletreejs), which in fact seems to have its corresponding Solidity verification library. I think we should instead try to change our tests to use this library, and remove our in-house helper that is not well maintained.",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/795682386/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
