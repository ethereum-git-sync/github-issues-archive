{
  "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3991",
  "repository_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts",
  "labels_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3991/labels{/name}",
  "comments_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3991/comments",
  "events_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3991/events",
  "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/3991",
  "id": 1554398051,
  "node_id": "I_kwDOA9tCBs5cpjtj",
  "number": 3991,
  "title": "Improvment Bugish Behavior to ERC-721 Token Counters ",
  "user": {
    "login": "RitzyDevBox",
    "id": 103006767,
    "node_id": "U_kgDOBiPCLw",
    "avatar_url": "https://avatars.githubusercontent.com/u/103006767?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/RitzyDevBox",
    "html_url": "https://github.com/RitzyDevBox",
    "followers_url": "https://api.github.com/users/RitzyDevBox/followers",
    "following_url": "https://api.github.com/users/RitzyDevBox/following{/other_user}",
    "gists_url": "https://api.github.com/users/RitzyDevBox/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/RitzyDevBox/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/RitzyDevBox/subscriptions",
    "organizations_url": "https://api.github.com/users/RitzyDevBox/orgs",
    "repos_url": "https://api.github.com/users/RitzyDevBox/repos",
    "events_url": "https://api.github.com/users/RitzyDevBox/events{/privacy}",
    "received_events_url": "https://api.github.com/users/RitzyDevBox/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 3,
  "created_at": "2023-01-24T06:26:58Z",
  "updated_at": "2023-01-28T00:23:11Z",
  "closed_at": "2023-01-28T00:23:11Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "I'm not sure if this is the right place to report an improvement to the Contract wizard.  I generated an ERC-721 and this is the `safeMint` function that gets generated.\r\n  \r\nfunction safeMint(address to) public onlyRole(MINTER_ROLE) {\r\n        uint256 tokenId = _tokenIdCounter.current();\r\n        _tokenIdCounter.increment();\r\n        _safeMint(to, tokenId);\r\n }\r\n\r\nThis seems like a bug to me but, its a matter of opinion.    The first Token Generated is going to be TokenId 0.\r\n\r\nGenerally Id start at 1, normally that wouldn't matter but it kinda does in solidity.  Imagine I want to keep a mapping of the token owners to the tokenId so I have a \r\n\r\n      `mapping(address => uint256) ownerToTokenIdMap`\r\n\r\nNow if I were to query a nonexistant address I would get 0.  This would create ambiguity between token 0 and default behavior.  Ideally the counter should start from 1,  \r\n",
  "closed_by": {
    "login": "RitzyDevBox",
    "id": 103006767,
    "node_id": "U_kgDOBiPCLw",
    "avatar_url": "https://avatars.githubusercontent.com/u/103006767?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/RitzyDevBox",
    "html_url": "https://github.com/RitzyDevBox",
    "followers_url": "https://api.github.com/users/RitzyDevBox/followers",
    "following_url": "https://api.github.com/users/RitzyDevBox/following{/other_user}",
    "gists_url": "https://api.github.com/users/RitzyDevBox/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/RitzyDevBox/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/RitzyDevBox/subscriptions",
    "organizations_url": "https://api.github.com/users/RitzyDevBox/orgs",
    "repos_url": "https://api.github.com/users/RitzyDevBox/repos",
    "events_url": "https://api.github.com/users/RitzyDevBox/events{/privacy}",
    "received_events_url": "https://api.github.com/users/RitzyDevBox/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3991/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3991/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1401674611",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/3991#issuecomment-1401674611",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3991",
    "id": 1401674611,
    "node_id": "IC_kwDOA9tCBs5Ti9tz",
    "user": {
      "login": "Amxx",
      "id": 2432299,
      "node_id": "MDQ6VXNlcjI0MzIyOTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2432299?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Amxx",
      "html_url": "https://github.com/Amxx",
      "followers_url": "https://api.github.com/users/Amxx/followers",
      "following_url": "https://api.github.com/users/Amxx/following{/other_user}",
      "gists_url": "https://api.github.com/users/Amxx/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Amxx/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Amxx/subscriptions",
      "organizations_url": "https://api.github.com/users/Amxx/orgs",
      "repos_url": "https://api.github.com/users/Amxx/repos",
      "events_url": "https://api.github.com/users/Amxx/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Amxx/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-24T10:10:44Z",
    "updated_at": "2023-01-24T10:10:44Z",
    "author_association": "COLLABORATOR",
    "body": "Hello @RitzyDevBox \r\n\r\nThe wizard provides simple example of how our contract can be used/assemble. The goal is not to provide contract that are ready to use, but rather to produce boilerplates that you will possibly modify (and audit!) before you go to production.\r\n\r\nIf you want your tokens to start at 1 instead of 0 (which is a personal choice), then you can easily do it, either by replacing \r\n\r\n```diff\r\n-uint256 tokenId = _tokenIdCounter.current();\r\n+uint256 tokenId = _tokenIdCounter.current() + 1;\r\n```\r\n\r\nor by adding ` _tokenIdCounter.increment();` to the constructor.\r\n\r\n---\r\n\r\n> Imagine I want to keep a mapping of the token owners to the tokenId so I have a\r\n\r\nIf that is your goal, you should use the ERC721Enumerable extension (that can be enabled in the wizard). Note that adding this feature signigicantly increasses the gas cost of minting/transfering tokens.\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1401674611/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1402526107",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/3991#issuecomment-1402526107",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3991",
    "id": 1402526107,
    "node_id": "IC_kwDOA9tCBs5TmNmb",
    "user": {
      "login": "RitzyDevBox",
      "id": 103006767,
      "node_id": "U_kgDOBiPCLw",
      "avatar_url": "https://avatars.githubusercontent.com/u/103006767?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/RitzyDevBox",
      "html_url": "https://github.com/RitzyDevBox",
      "followers_url": "https://api.github.com/users/RitzyDevBox/followers",
      "following_url": "https://api.github.com/users/RitzyDevBox/following{/other_user}",
      "gists_url": "https://api.github.com/users/RitzyDevBox/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/RitzyDevBox/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/RitzyDevBox/subscriptions",
      "organizations_url": "https://api.github.com/users/RitzyDevBox/orgs",
      "repos_url": "https://api.github.com/users/RitzyDevBox/repos",
      "events_url": "https://api.github.com/users/RitzyDevBox/events{/privacy}",
      "received_events_url": "https://api.github.com/users/RitzyDevBox/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-24T19:57:10Z",
    "updated_at": "2023-01-24T19:57:10Z",
    "author_association": "NONE",
    "body": "Yeah I know how to fix this.  But what I'm saying is, why are Ids 0 based?\nIdentifiers are not indexes, 0 ids are generally reserved for special cases\n\nAlmost all Ids, start at 1 regardless of the medium.\n\nOn Tue, Jan 24, 2023, 5:10 AM Hadrien Croubois ***@***.***>\nwrote:\n\n> Hello @RitzyDevBox <https://github.com/RitzyDevBox>\n>\n> The wizard provides simple example of how our contract can be\n> used/assemble. The goal is not to provide contract that are ready to use,\n> but rather to produce boilerplates that you will possibly modify (and\n> audit!) before you go to production.\n>\n> If you want your tokens to start at 1 instead of 0 (which is a personal\n> choice), then you can easily do it, either by replacing\n>\n> -uint256 tokenId = _tokenIdCounter.current();+uint256 tokenId = _tokenIdCounter.current() + 1;\n>\n> or by adding _tokenIdCounter.increment(); to the constructor.\n> ------------------------------\n>\n> Imagine I want to keep a mapping of the token owners to the tokenId so I\n> have a\n>\n> If that is your goal, you should use the ERC721Enumerable extension (that\n> can be enabled in the wizard). Note that adding this feature signigicantly\n> increasses the gas cost of minting/transfering tokens.\n>\n> â€”\n> Reply to this email directly, view it on GitHub\n> <https://github.com/OpenZeppelin/openzeppelin-contracts/issues/3991#issuecomment-1401674611>,\n> or unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/AYR4ELZ43LTCEXQG4OAWYQTWT6TC7ANCNFSM6AAAAAAUEWKBKM>\n> .\n> You are receiving this because you were mentioned.Message ID:\n> ***@***.***>\n>\n",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1402526107/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1407215207",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/3991#issuecomment-1407215207",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3991",
    "id": 1407215207,
    "node_id": "IC_kwDOA9tCBs5T4GZn",
    "user": {
      "login": "RitzyDevBox",
      "id": 103006767,
      "node_id": "U_kgDOBiPCLw",
      "avatar_url": "https://avatars.githubusercontent.com/u/103006767?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/RitzyDevBox",
      "html_url": "https://github.com/RitzyDevBox",
      "followers_url": "https://api.github.com/users/RitzyDevBox/followers",
      "following_url": "https://api.github.com/users/RitzyDevBox/following{/other_user}",
      "gists_url": "https://api.github.com/users/RitzyDevBox/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/RitzyDevBox/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/RitzyDevBox/subscriptions",
      "organizations_url": "https://api.github.com/users/RitzyDevBox/orgs",
      "repos_url": "https://api.github.com/users/RitzyDevBox/repos",
      "events_url": "https://api.github.com/users/RitzyDevBox/events{/privacy}",
      "received_events_url": "https://api.github.com/users/RitzyDevBox/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-01-28T00:23:11Z",
    "updated_at": "2023-01-28T00:23:11Z",
    "author_association": "NONE",
    "body": "Issue is very minor and not too important I will close this for now",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1407215207/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
