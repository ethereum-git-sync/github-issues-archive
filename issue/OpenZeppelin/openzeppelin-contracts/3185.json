{
  "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3185",
  "repository_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts",
  "labels_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3185/labels{/name}",
  "comments_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3185/comments",
  "events_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3185/events",
  "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/3185",
  "id": 1131519025,
  "node_id": "I_kwDOA9tCBs5DcZwx",
  "number": 3185,
  "title": "in VestingWallet the value was incorrectly calculated",
  "user": {
    "login": "henry-fi",
    "id": 94779913,
    "node_id": "U_kgDOBaY6CQ",
    "avatar_url": "https://avatars.githubusercontent.com/u/94779913?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/henry-fi",
    "html_url": "https://github.com/henry-fi",
    "followers_url": "https://api.github.com/users/henry-fi/followers",
    "following_url": "https://api.github.com/users/henry-fi/following{/other_user}",
    "gists_url": "https://api.github.com/users/henry-fi/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/henry-fi/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/henry-fi/subscriptions",
    "organizations_url": "https://api.github.com/users/henry-fi/orgs",
    "repos_url": "https://api.github.com/users/henry-fi/repos",
    "events_url": "https://api.github.com/users/henry-fi/events{/privacy}",
    "received_events_url": "https://api.github.com/users/henry-fi/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2022-02-11T02:35:14Z",
  "updated_at": "2022-02-15T10:26:39Z",
  "closed_at": "2022-02-15T10:26:39Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "in the release() or release(address token) method, The current value is releasable.but in the sourc code of VestingWallet.sol,the display reads \"+=\"ï¼Œplease confirm the accuracy of these two codes.",
  "closed_by": {
    "login": "Amxx",
    "id": 2432299,
    "node_id": "MDQ6VXNlcjI0MzIyOTk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2432299?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Amxx",
    "html_url": "https://github.com/Amxx",
    "followers_url": "https://api.github.com/users/Amxx/followers",
    "following_url": "https://api.github.com/users/Amxx/following{/other_user}",
    "gists_url": "https://api.github.com/users/Amxx/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Amxx/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Amxx/subscriptions",
    "organizations_url": "https://api.github.com/users/Amxx/orgs",
    "repos_url": "https://api.github.com/users/Amxx/repos",
    "events_url": "https://api.github.com/users/Amxx/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Amxx/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3185/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3185/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1036299460",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/3185#issuecomment-1036299460",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3185",
    "id": 1036299460,
    "node_id": "IC_kwDOA9tCBs49xKzE",
    "user": {
      "login": "Amxx",
      "id": 2432299,
      "node_id": "MDQ6VXNlcjI0MzIyOTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2432299?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Amxx",
      "html_url": "https://github.com/Amxx",
      "followers_url": "https://api.github.com/users/Amxx/followers",
      "following_url": "https://api.github.com/users/Amxx/following{/other_user}",
      "gists_url": "https://api.github.com/users/Amxx/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Amxx/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Amxx/subscriptions",
      "organizations_url": "https://api.github.com/users/Amxx/orgs",
      "repos_url": "https://api.github.com/users/Amxx/repos",
      "events_url": "https://api.github.com/users/Amxx/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Amxx/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-11T14:58:09Z",
    "updated_at": "2022-02-11T14:58:09Z",
    "author_association": "COLLABORATOR",
    "body": "Hello @henry-fi \r\n\r\nI'm sorry I'm not sure I clearly understand your concern. Here is how the vesting wallet works:\r\n\r\n- The `vestedAmount` is computed by applying the `_vestingSchedule` to the historical balance (all assets received to date)\r\n- The historical balance is computed by adding the current balance + the amount of assets already `released`.\r\n- At any point, if someone calls `release` we compare the `vestedAmount` (so the fraction of the historical balance that is already vested) with the amount that was already `released`\r\n  - if there are releasable assets (vested and not yet released), we release them, and we add them to the released counter to make sure the historical balance remains valid.\r\n  \r\nDoes that explanation clear your concerns?",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1036299460/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1039800824",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/3185#issuecomment-1039800824",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3185",
    "id": 1039800824,
    "node_id": "IC_kwDOA9tCBs49-hn4",
    "user": {
      "login": "henry-fi",
      "id": 94779913,
      "node_id": "U_kgDOBaY6CQ",
      "avatar_url": "https://avatars.githubusercontent.com/u/94779913?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/henry-fi",
      "html_url": "https://github.com/henry-fi",
      "followers_url": "https://api.github.com/users/henry-fi/followers",
      "following_url": "https://api.github.com/users/henry-fi/following{/other_user}",
      "gists_url": "https://api.github.com/users/henry-fi/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/henry-fi/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/henry-fi/subscriptions",
      "organizations_url": "https://api.github.com/users/henry-fi/orgs",
      "repos_url": "https://api.github.com/users/henry-fi/repos",
      "events_url": "https://api.github.com/users/henry-fi/events{/privacy}",
      "received_events_url": "https://api.github.com/users/henry-fi/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-15T03:02:22Z",
    "updated_at": "2022-02-15T03:02:22Z",
    "author_association": "NONE",
    "body": "Sorry, I didn't understand the meaning of this code well before, please close this issue",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1039800824/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
