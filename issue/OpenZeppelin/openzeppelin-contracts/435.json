{
  "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/435",
  "repository_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts",
  "labels_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/435/labels{/name}",
  "comments_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/435/comments",
  "events_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/435/events",
  "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/435",
  "id": 256617260,
  "node_id": "MDU6SXNzdWUyNTY2MTcyNjA=",
  "number": 435,
  "title": "Improper use of assert() in BasicToken and other places",
  "user": {
    "login": "3sGgpQ8H",
    "id": 3917202,
    "node_id": "MDQ6VXNlcjM5MTcyMDI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/3917202?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/3sGgpQ8H",
    "html_url": "https://github.com/3sGgpQ8H",
    "followers_url": "https://api.github.com/users/3sGgpQ8H/followers",
    "following_url": "https://api.github.com/users/3sGgpQ8H/following{/other_user}",
    "gists_url": "https://api.github.com/users/3sGgpQ8H/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/3sGgpQ8H/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/3sGgpQ8H/subscriptions",
    "organizations_url": "https://api.github.com/users/3sGgpQ8H/orgs",
    "repos_url": "https://api.github.com/users/3sGgpQ8H/repos",
    "events_url": "https://api.github.com/users/3sGgpQ8H/events{/privacy}",
    "received_events_url": "https://api.github.com/users/3sGgpQ8H/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 503650966,
      "node_id": "MDU6TGFiZWw1MDM2NTA5NjY=",
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/labels/good%20first%20issue",
      "name": "good first issue",
      "color": "0e8a16",
      "default": true,
      "description": "Low hanging fruit for new contributors to get involved!"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2017-09-11T08:15:01Z",
  "updated_at": "2018-09-25T15:37:05Z",
  "closed_at": "2017-11-21T17:54:50Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Method `transfer` of `BasicToken` smart contract uses method `sub` defined in `SafeMath` library to implicitly check that sender's balance is enough to transfer:\r\n\r\n    balances[msg.sender] = balances[msg.sender].sub(_value);\r\n\r\nMethod `sub` internally uses `assert()` function like this (`a` and `b` and method parameters):\r\n\r\n    assert(b <= a);\r\n\r\nSo, when sender's balance is insufficient, assert will fail and execution will be aborted.  According to Solidity docs:\r\n\r\n> assert(bool condition): abort execution and revert state changes if condition is false (use for internal error)\r\n\r\nbut insufficient sender's balance is not internal error, so `assert()` should not be used here.\r\n\r\nNote, that `require()` does not fit as well because:\r\n\r\n> require(bool condition): abort execution and revert state changes if condition is false (use for malformed input or error in external component)\r\n\r\nand insufficient sender's balance is neither malformed input, not error in external component.  So the best fit would be to use `revert()` here.",
  "closed_by": {
    "login": "facuspagnuolo",
    "id": 6967192,
    "node_id": "MDQ6VXNlcjY5NjcxOTI=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6967192?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/facuspagnuolo",
    "html_url": "https://github.com/facuspagnuolo",
    "followers_url": "https://api.github.com/users/facuspagnuolo/followers",
    "following_url": "https://api.github.com/users/facuspagnuolo/following{/other_user}",
    "gists_url": "https://api.github.com/users/facuspagnuolo/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/facuspagnuolo/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/facuspagnuolo/subscriptions",
    "organizations_url": "https://api.github.com/users/facuspagnuolo/orgs",
    "repos_url": "https://api.github.com/users/facuspagnuolo/repos",
    "events_url": "https://api.github.com/users/facuspagnuolo/events{/privacy}",
    "received_events_url": "https://api.github.com/users/facuspagnuolo/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/435/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/435/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/328548401",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/435#issuecomment-328548401",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/435",
    "id": 328548401,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyODU0ODQwMQ==",
    "user": {
      "login": "frangio",
      "id": 481465,
      "node_id": "MDQ6VXNlcjQ4MTQ2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/481465?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/frangio",
      "html_url": "https://github.com/frangio",
      "followers_url": "https://api.github.com/users/frangio/followers",
      "following_url": "https://api.github.com/users/frangio/following{/other_user}",
      "gists_url": "https://api.github.com/users/frangio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/frangio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/frangio/subscriptions",
      "organizations_url": "https://api.github.com/users/frangio/orgs",
      "repos_url": "https://api.github.com/users/frangio/repos",
      "events_url": "https://api.github.com/users/frangio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/frangio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-11T14:33:47Z",
    "updated_at": "2017-09-11T14:33:47Z",
    "author_association": "MEMBER",
    "body": "Thanks for reporting @mikhail-vladimirov! I agree with your assessment. Do you want to submit a PR changing to `revert`?",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/328548401/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/328551552",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/435#issuecomment-328551552",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/435",
    "id": 328551552,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMyODU1MTU1Mg==",
    "user": {
      "login": "3sGgpQ8H",
      "id": 3917202,
      "node_id": "MDQ6VXNlcjM5MTcyMDI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3917202?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/3sGgpQ8H",
      "html_url": "https://github.com/3sGgpQ8H",
      "followers_url": "https://api.github.com/users/3sGgpQ8H/followers",
      "following_url": "https://api.github.com/users/3sGgpQ8H/following{/other_user}",
      "gists_url": "https://api.github.com/users/3sGgpQ8H/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/3sGgpQ8H/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/3sGgpQ8H/subscriptions",
      "organizations_url": "https://api.github.com/users/3sGgpQ8H/orgs",
      "repos_url": "https://api.github.com/users/3sGgpQ8H/repos",
      "events_url": "https://api.github.com/users/3sGgpQ8H/events{/privacy}",
      "received_events_url": "https://api.github.com/users/3sGgpQ8H/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-09-11T14:43:06Z",
    "updated_at": "2017-09-11T15:49:13Z",
    "author_association": "NONE",
    "body": "@frangio I personally strongly prefer `return false` over `revert()`, my motivation is here: https://github.com/ethereum/EIPs/pull/610#issuecomment-305770167.  So I prefer somebody else to submit this PR.",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/328551552/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/346108604",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/435#issuecomment-346108604",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/435",
    "id": 346108604,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0NjEwODYwNA==",
    "user": {
      "login": "facuspagnuolo",
      "id": 6967192,
      "node_id": "MDQ6VXNlcjY5NjcxOTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6967192?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/facuspagnuolo",
      "html_url": "https://github.com/facuspagnuolo",
      "followers_url": "https://api.github.com/users/facuspagnuolo/followers",
      "following_url": "https://api.github.com/users/facuspagnuolo/following{/other_user}",
      "gists_url": "https://api.github.com/users/facuspagnuolo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/facuspagnuolo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/facuspagnuolo/subscriptions",
      "organizations_url": "https://api.github.com/users/facuspagnuolo/orgs",
      "repos_url": "https://api.github.com/users/facuspagnuolo/repos",
      "events_url": "https://api.github.com/users/facuspagnuolo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/facuspagnuolo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-21T17:54:50Z",
    "updated_at": "2017-11-21T18:16:38Z",
    "author_association": "CONTRIBUTOR",
    "body": "@mikhail-vladimirov sorry to disagree, require is meant to be used for validations, while assert should be used in order to prevent conditions which should never be possible, in this case, we are preventing an overflow.\r\n\r\nI highly recommend [this article](https://media.consensys.net/when-to-use-revert-assert-and-require-in-solidity-61fb2c0e5a57), a detailed explanation about this subject.",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/346108604/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/424282018",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/435#issuecomment-424282018",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/435",
    "id": 424282018,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyNDI4MjAxOA==",
    "user": {
      "login": "muellerberndt",
      "id": 5194767,
      "node_id": "MDQ6VXNlcjUxOTQ3Njc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5194767?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/muellerberndt",
      "html_url": "https://github.com/muellerberndt",
      "followers_url": "https://api.github.com/users/muellerberndt/followers",
      "following_url": "https://api.github.com/users/muellerberndt/following{/other_user}",
      "gists_url": "https://api.github.com/users/muellerberndt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/muellerberndt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/muellerberndt/subscriptions",
      "organizations_url": "https://api.github.com/users/muellerberndt/orgs",
      "repos_url": "https://api.github.com/users/muellerberndt/repos",
      "events_url": "https://api.github.com/users/muellerberndt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/muellerberndt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-25T10:02:08Z",
    "updated_at": "2018-09-25T10:02:08Z",
    "author_association": "NONE",
    "body": "Sorry to re-vitalize this old issue but I agree @3sGgpQ8H and @frangio. `assert` is meant assert invariants, i.e. conditions that are impossible to occur. If there's a way to violate and invariant it *always* means that there's a bug in the code.\r\n\r\nThe asserts in SafeMath are implicitly performing input validation and IMO should be replaced by `require`.",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/424282018/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/424389468",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/435#issuecomment-424389468",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/435",
    "id": 424389468,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyNDM4OTQ2OA==",
    "user": {
      "login": "nventuro",
      "id": 2530770,
      "node_id": "MDQ6VXNlcjI1MzA3NzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2530770?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nventuro",
      "html_url": "https://github.com/nventuro",
      "followers_url": "https://api.github.com/users/nventuro/followers",
      "following_url": "https://api.github.com/users/nventuro/following{/other_user}",
      "gists_url": "https://api.github.com/users/nventuro/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nventuro/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nventuro/subscriptions",
      "organizations_url": "https://api.github.com/users/nventuro/orgs",
      "repos_url": "https://api.github.com/users/nventuro/repos",
      "events_url": "https://api.github.com/users/nventuro/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nventuro/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-25T15:26:21Z",
    "updated_at": "2018-09-25T15:26:21Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hey @b-mueller, this was discussed recently in #1120, where we decided to switch over to `require` (https://github.com/OpenZeppelin/openzeppelin-solidity/pull/1187).",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/424389468/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/424393474",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/435#issuecomment-424393474",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/435",
    "id": 424393474,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyNDM5MzQ3NA==",
    "user": {
      "login": "muellerberndt",
      "id": 5194767,
      "node_id": "MDQ6VXNlcjUxOTQ3Njc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5194767?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/muellerberndt",
      "html_url": "https://github.com/muellerberndt",
      "followers_url": "https://api.github.com/users/muellerberndt/followers",
      "following_url": "https://api.github.com/users/muellerberndt/following{/other_user}",
      "gists_url": "https://api.github.com/users/muellerberndt/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/muellerberndt/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/muellerberndt/subscriptions",
      "organizations_url": "https://api.github.com/users/muellerberndt/orgs",
      "repos_url": "https://api.github.com/users/muellerberndt/repos",
      "events_url": "https://api.github.com/users/muellerberndt/events{/privacy}",
      "received_events_url": "https://api.github.com/users/muellerberndt/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-09-25T15:37:05Z",
    "updated_at": "2018-09-25T15:37:05Z",
    "author_association": "NONE",
    "body": "Ahh, I didn't notice! Awesome :)",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/424393474/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
