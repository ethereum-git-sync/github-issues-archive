{
  "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3575",
  "repository_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts",
  "labels_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3575/labels{/name}",
  "comments_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3575/comments",
  "events_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3575/events",
  "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/3575",
  "id": 1316415465,
  "node_id": "I_kwDOA9tCBs5Odufp",
  "number": 3575,
  "title": "Enable `supportsInterface(...)` from ERC165 on ERC20 contract implementation",
  "user": {
    "login": "CJ42",
    "id": 31145285,
    "node_id": "MDQ6VXNlcjMxMTQ1Mjg1",
    "avatar_url": "https://avatars.githubusercontent.com/u/31145285?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/CJ42",
    "html_url": "https://github.com/CJ42",
    "followers_url": "https://api.github.com/users/CJ42/followers",
    "following_url": "https://api.github.com/users/CJ42/following{/other_user}",
    "gists_url": "https://api.github.com/users/CJ42/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/CJ42/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/CJ42/subscriptions",
    "organizations_url": "https://api.github.com/users/CJ42/orgs",
    "repos_url": "https://api.github.com/users/CJ42/repos",
    "events_url": "https://api.github.com/users/CJ42/events{/privacy}",
    "received_events_url": "https://api.github.com/users/CJ42/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 8,
  "created_at": "2022-07-25T07:49:40Z",
  "updated_at": "2023-04-06T20:43:44Z",
  "closed_at": null,
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "**üßê Motivation**\r\n<!-- Is your feature request related to a specific problem? Is it just a crazy idea? Tell us about it! -->\r\n\r\nIn the current token implementations of OpenZeppelin contracts, [only the ERC721 implementation contains the `supportsInterface(...)` function](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/d1b1e17d23cc28eecd07e411a461854988803aa8/contracts/token/ERC721/ERC721.sol#L52).\r\n\r\nERC20 does not contain `supportsInterface(...)` by default.\r\n\r\nI am not sure why this is the case, but my first guess would be the order that each of these ERC20 came up?\r\n> Looking at [ERC721](https://eips.ethereum.org/EIPS/eip-721#specification) specs, ERC165 is mentioned but not in the formal [ERC20](https://eips.ethereum.org/EIPS/eip-20) specs.\r\n\r\n**üìù Details**\r\n<!-- Please describe your feature request in detail. -->\r\n\r\nWould it make sense to add `supportsInterface(...)` in ERC20, and make the contract inherit from `ERC165` as well? So that by default, both fungible and non-fungible tokens implementation from OZ library can be detected easily via this function?\r\n\r\nLet me know your thoughts @frangio @Amxx and I would be happy to make a brief PR if this feature request is accepted.\r\n\r\n<!-- Make sure that you have reviewed the OpenZeppelin Contracts Contributor Guidelines. -->\r\n<!-- https://github.com/OpenZeppelin/openzeppelin-contracts/blob/master/CONTRIBUTING.md -->\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3575/reactions",
    "total_count": 4,
    "+1": 4,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3575/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1193764676",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/3575#issuecomment-1193764676",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3575",
    "id": 1193764676,
    "node_id": "IC_kwDOA9tCBs5HJ2dE",
    "user": {
      "login": "Amxx",
      "id": 2432299,
      "node_id": "MDQ6VXNlcjI0MzIyOTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2432299?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Amxx",
      "html_url": "https://github.com/Amxx",
      "followers_url": "https://api.github.com/users/Amxx/followers",
      "following_url": "https://api.github.com/users/Amxx/following{/other_user}",
      "gists_url": "https://api.github.com/users/Amxx/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Amxx/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Amxx/subscriptions",
      "organizations_url": "https://api.github.com/users/Amxx/orgs",
      "repos_url": "https://api.github.com/users/Amxx/repos",
      "events_url": "https://api.github.com/users/Amxx/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Amxx/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-25T08:47:54Z",
    "updated_at": "2022-07-25T08:47:54Z",
    "author_association": "COLLABORATOR",
    "body": "Hello @CJ42 \r\n\r\nAs you point out:\r\n> Looking at [ERC721](https://eips.ethereum.org/EIPS/eip-721#specification) specs, ERC165 is mentioned but not in the formal [ERC20](https://eips.ethereum.org/EIPS/eip-20) specs.\r\n\r\nERC721's interfaceId is widely known, and expected in all ERC721 implementation. You can therefore rely on it to check it an unknown contract is ERC721\r\n\r\nERC20's interfaceId is not widelly accepted, ERC20 is not required to implement ERC165, and (almost) no instance of ERC20 include it. This means that you either:\r\n\r\n- know for sure the contract implements ERC165, but then you also now for sure what the contract is, and that it is an ERC20 ...\r\n- don't know the contract, and can't rely on ERC165 to detect if it is an ERC20\r\n\r\nGoing back in time, it would have been nice to have ERC165 before ERC20 (among a LOT of other things we would change about ERC20 is we were designing it today). However we have to work with the existing ecosystem, and given that ERC20 doesn't include 165, it makes very little sens to suddenly add it.\r\n\r\nNote that if you want to add it, it should be very easy for you. We are just not going to make that choice for the user.",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1193764676/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1195202484",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/3575#issuecomment-1195202484",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3575",
    "id": 1195202484,
    "node_id": "IC_kwDOA9tCBs5HPVe0",
    "user": {
      "login": "TrejGun",
      "id": 185285,
      "node_id": "MDQ6VXNlcjE4NTI4NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/185285?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TrejGun",
      "html_url": "https://github.com/TrejGun",
      "followers_url": "https://api.github.com/users/TrejGun/followers",
      "following_url": "https://api.github.com/users/TrejGun/following{/other_user}",
      "gists_url": "https://api.github.com/users/TrejGun/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TrejGun/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TrejGun/subscriptions",
      "organizations_url": "https://api.github.com/users/TrejGun/orgs",
      "repos_url": "https://api.github.com/users/TrejGun/repos",
      "events_url": "https://api.github.com/users/TrejGun/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TrejGun/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-26T08:57:25Z",
    "updated_at": "2022-07-26T08:58:23Z",
    "author_association": "NONE",
    "body": "@Amxx This would be a good start to make it a \"best practice\" to include supportsInterface into ERC20 if OZ does it.\r\n\r\nI honestly would also include erc223 too",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1195202484/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1206710054",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/3575#issuecomment-1206710054",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3575",
    "id": 1206710054,
    "node_id": "IC_kwDOA9tCBs5H7O8m",
    "user": {
      "login": "Pandapip1",
      "id": 45835846,
      "node_id": "MDQ6VXNlcjQ1ODM1ODQ2",
      "avatar_url": "https://avatars.githubusercontent.com/u/45835846?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Pandapip1",
      "html_url": "https://github.com/Pandapip1",
      "followers_url": "https://api.github.com/users/Pandapip1/followers",
      "following_url": "https://api.github.com/users/Pandapip1/following{/other_user}",
      "gists_url": "https://api.github.com/users/Pandapip1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Pandapip1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Pandapip1/subscriptions",
      "organizations_url": "https://api.github.com/users/Pandapip1/orgs",
      "repos_url": "https://api.github.com/users/Pandapip1/repos",
      "events_url": "https://api.github.com/users/Pandapip1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Pandapip1/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-05T18:00:42Z",
    "updated_at": "2022-08-05T18:01:54Z",
    "author_association": "CONTRIBUTOR",
    "body": "> erc223\r\n\r\n[\"ERC-223\"](https://github.com/ethereum/eips/issues/223) isn't an official standard. It's not even merged into the EIPs repository. There's https://eips.ethereum.org/EIPS/eip-1363 (which is final and therefore safe to use) and there's https://eips.ethereum.org/EIPS/eip-4524.",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1206710054/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1207085881",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/3575#issuecomment-1207085881",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3575",
    "id": 1207085881,
    "node_id": "IC_kwDOA9tCBs5H8qs5",
    "user": {
      "login": "TrejGun",
      "id": 185285,
      "node_id": "MDQ6VXNlcjE4NTI4NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/185285?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TrejGun",
      "html_url": "https://github.com/TrejGun",
      "followers_url": "https://api.github.com/users/TrejGun/followers",
      "following_url": "https://api.github.com/users/TrejGun/following{/other_user}",
      "gists_url": "https://api.github.com/users/TrejGun/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TrejGun/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TrejGun/subscriptions",
      "organizations_url": "https://api.github.com/users/TrejGun/orgs",
      "repos_url": "https://api.github.com/users/TrejGun/repos",
      "events_url": "https://api.github.com/users/TrejGun/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TrejGun/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-05T23:25:38Z",
    "updated_at": "2022-08-05T23:25:38Z",
    "author_association": "NONE",
    "body": "@Pandapip1 thanks for the heads-up! so far none of those are implemented, right? and it would be really nice to have one.",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1207085881/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1207119323",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/3575#issuecomment-1207119323",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3575",
    "id": 1207119323,
    "node_id": "IC_kwDOA9tCBs5H8y3b",
    "user": {
      "login": "Pandapip1",
      "id": 45835846,
      "node_id": "MDQ6VXNlcjQ1ODM1ODQ2",
      "avatar_url": "https://avatars.githubusercontent.com/u/45835846?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Pandapip1",
      "html_url": "https://github.com/Pandapip1",
      "followers_url": "https://api.github.com/users/Pandapip1/followers",
      "following_url": "https://api.github.com/users/Pandapip1/following{/other_user}",
      "gists_url": "https://api.github.com/users/Pandapip1/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Pandapip1/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Pandapip1/subscriptions",
      "organizations_url": "https://api.github.com/users/Pandapip1/orgs",
      "repos_url": "https://api.github.com/users/Pandapip1/repos",
      "events_url": "https://api.github.com/users/Pandapip1/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Pandapip1/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-06T01:29:39Z",
    "updated_at": "2022-08-06T01:29:39Z",
    "author_association": "CONTRIBUTOR",
    "body": "Yea, I would like to see an EIP-1363 implementation, but a new issue should be created for that.",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1207119323/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1498412415",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/3575#issuecomment-1498412415",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3575",
    "id": 1498412415,
    "node_id": "IC_kwDOA9tCBs5ZT_V_",
    "user": {
      "login": "CJ42",
      "id": 31145285,
      "node_id": "MDQ6VXNlcjMxMTQ1Mjg1",
      "avatar_url": "https://avatars.githubusercontent.com/u/31145285?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/CJ42",
      "html_url": "https://github.com/CJ42",
      "followers_url": "https://api.github.com/users/CJ42/followers",
      "following_url": "https://api.github.com/users/CJ42/following{/other_user}",
      "gists_url": "https://api.github.com/users/CJ42/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/CJ42/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/CJ42/subscriptions",
      "organizations_url": "https://api.github.com/users/CJ42/orgs",
      "repos_url": "https://api.github.com/users/CJ42/repos",
      "events_url": "https://api.github.com/users/CJ42/events{/privacy}",
      "received_events_url": "https://api.github.com/users/CJ42/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-06T02:42:19Z",
    "updated_at": "2023-04-06T02:43:11Z",
    "author_association": "CONTRIBUTOR",
    "body": "@Amxx going back on this topic, I do still think it would make sense to add ERC165 by default in ERC20, so to advocate this as a best practice.\n\nThe most popular standard currently in effect are ERC20, ERC721 and ERC115, and the last two (721 & 1155) implement interface detection. It sounds non-standard and not conventional to not implement it on one of the three most used.\n\nEspecially as ERC20 is cited in the motivation section of the ERC165 standard itself.\n\nAlthought \"supportsInterface\" can always be faked (a dummy/malicious function implementation that can return \"true\" for certain interface IDs), it makes it more explicit. Otherwise it feels it's more \"assumed\".\n\nI would be interested to hear @frangio opinion on this too.\n\n![image](https://user-images.githubusercontent.com/31145285/230259047-ad52e2c4-d291-4f14-a71a-319e857b04ed.png)",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1498412415/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1498437889",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/3575#issuecomment-1498437889",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3575",
    "id": 1498437889,
    "node_id": "IC_kwDOA9tCBs5ZUFkB",
    "user": {
      "login": "TrejGun",
      "id": 185285,
      "node_id": "MDQ6VXNlcjE4NTI4NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/185285?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TrejGun",
      "html_url": "https://github.com/TrejGun",
      "followers_url": "https://api.github.com/users/TrejGun/followers",
      "following_url": "https://api.github.com/users/TrejGun/following{/other_user}",
      "gists_url": "https://api.github.com/users/TrejGun/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TrejGun/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TrejGun/subscriptions",
      "organizations_url": "https://api.github.com/users/TrejGun/orgs",
      "repos_url": "https://api.github.com/users/TrejGun/repos",
      "events_url": "https://api.github.com/users/TrejGun/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TrejGun/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-06T03:21:03Z",
    "updated_at": "2023-04-06T03:21:03Z",
    "author_association": "NONE",
    "body": "there is no downside of adding erc165 to erc20 however this may be superseded with upcoming merge of erc1363",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1498437889/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1498442357",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/3575#issuecomment-1498442357",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3575",
    "id": 1498442357,
    "node_id": "IC_kwDOA9tCBs5ZUGp1",
    "user": {
      "login": "TrejGun",
      "id": 185285,
      "node_id": "MDQ6VXNlcjE4NTI4NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/185285?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TrejGun",
      "html_url": "https://github.com/TrejGun",
      "followers_url": "https://api.github.com/users/TrejGun/followers",
      "following_url": "https://api.github.com/users/TrejGun/following{/other_user}",
      "gists_url": "https://api.github.com/users/TrejGun/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TrejGun/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TrejGun/subscriptions",
      "organizations_url": "https://api.github.com/users/TrejGun/orgs",
      "repos_url": "https://api.github.com/users/TrejGun/repos",
      "events_url": "https://api.github.com/users/TrejGun/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TrejGun/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-06T03:29:51Z",
    "updated_at": "2023-04-06T03:29:51Z",
    "author_association": "NONE",
    "body": "btw @Amxx do you have some kind of discord where I can contact you directly?",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1498442357/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
