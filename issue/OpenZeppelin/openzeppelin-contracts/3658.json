{
  "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3658",
  "repository_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts",
  "labels_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3658/labels{/name}",
  "comments_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3658/comments",
  "events_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3658/events",
  "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/3658",
  "id": 1354176036,
  "node_id": "I_kwDOA9tCBs5QtxYk",
  "number": 3658,
  "title": "VestingWallet: allow to change beneficiary address",
  "user": {
    "login": "TrejGun",
    "id": 185285,
    "node_id": "MDQ6VXNlcjE4NTI4NQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/185285?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/TrejGun",
    "html_url": "https://github.com/TrejGun",
    "followers_url": "https://api.github.com/users/TrejGun/followers",
    "following_url": "https://api.github.com/users/TrejGun/following{/other_user}",
    "gists_url": "https://api.github.com/users/TrejGun/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/TrejGun/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/TrejGun/subscriptions",
    "organizations_url": "https://api.github.com/users/TrejGun/orgs",
    "repos_url": "https://api.github.com/users/TrejGun/repos",
    "events_url": "https://api.github.com/users/TrejGun/events{/privacy}",
    "received_events_url": "https://api.github.com/users/TrejGun/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2022-08-29T12:02:27Z",
  "updated_at": "2022-08-30T22:11:55Z",
  "closed_at": "2022-08-30T22:11:55Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "**üßê Motivation**\r\n<!-- Is your feature request related to a specific problem? Is it just a crazy idea? Tell us about it! -->\r\nThe whole US economy is built on debts. Here is an example from the top of my dome - USDT. It is backed by government bonds. So I want to be able to sell my vesting wallet for immediate profit rather than wait for it to be unlocked for one year. Say I have a vesting for 1000 USDT with the interest of 100 USDT in one year. This money is locked and nobody can gain profit from it. But I'm short on money and want to sell it for 900 USDT in the middle of the period. With the current implementation, I will die from starvation while the reason for vesting is not to starve me out but to prevent liquidity drops.\r\n\r\n**üìù Details**\r\n<!-- Please describe your feature request in detail. -->\r\nWhile it is perfectly aligned with other properties set in the constructor, I request to change this line \r\n```\r\naddress private immutable _beneficiary;\r\n```\r\nfor\r\n```\r\naddress private _beneficiary;\r\n```\r\nand add some setter with event\r\n```\r\n  event BeneficiaryChanged(address indexed beneficiary);\r\n\r\n  function _setBeneficiary(address beneficiary) internal {\r\n    _beneficiary = beneficiary;\r\n    emit BeneficiaryChanged(beneficiary);\r\n  }\r\n```\r\nIt has to be overridden to be used so no API change and no potential vulnerability is introduced\r\n\r\n<!-- Make sure that you have reviewed the OpenZeppelin Contracts Contributor Guidelines. -->\r\n<!-- https://github.com/OpenZeppelin/openzeppelin-contracts/blob/master/CONTRIBUTING.md -->\r\n",
  "closed_by": {
    "login": "frangio",
    "id": 481465,
    "node_id": "MDQ6VXNlcjQ4MTQ2NQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/481465?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/frangio",
    "html_url": "https://github.com/frangio",
    "followers_url": "https://api.github.com/users/frangio/followers",
    "following_url": "https://api.github.com/users/frangio/following{/other_user}",
    "gists_url": "https://api.github.com/users/frangio/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/frangio/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/frangio/subscriptions",
    "organizations_url": "https://api.github.com/users/frangio/orgs",
    "repos_url": "https://api.github.com/users/frangio/repos",
    "events_url": "https://api.github.com/users/frangio/events{/privacy}",
    "received_events_url": "https://api.github.com/users/frangio/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3658/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3658/timeline",
  "performed_via_github_app": null,
  "state_reason": "not_planned"
}
[
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1230234063",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/3658#issuecomment-1230234063",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3658",
    "id": 1230234063,
    "node_id": "IC_kwDOA9tCBs5JU-HP",
    "user": {
      "login": "Amxx",
      "id": 2432299,
      "node_id": "MDQ6VXNlcjI0MzIyOTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2432299?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Amxx",
      "html_url": "https://github.com/Amxx",
      "followers_url": "https://api.github.com/users/Amxx/followers",
      "following_url": "https://api.github.com/users/Amxx/following{/other_user}",
      "gists_url": "https://api.github.com/users/Amxx/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Amxx/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Amxx/subscriptions",
      "organizations_url": "https://api.github.com/users/Amxx/orgs",
      "repos_url": "https://api.github.com/users/Amxx/repos",
      "events_url": "https://api.github.com/users/Amxx/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Amxx/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-29T12:41:36Z",
    "updated_at": "2022-08-29T18:10:33Z",
    "author_association": "COLLABORATOR",
    "body": "Hello @TrejGun \r\n\r\n~~Doing this change in the Contracts repo would be a breaking change.~~\n\nIt is easy to override the beneficiary to use a ownership mechanism.\r\n\r\nThis was showcased:\r\n- Using NFTs in [this hackathon project](https://github.com/Amxx/NonFungibleFinance/blob/master/solidity/contracts/VestingFactory.sol)\r\n- Using ownable in [this thirdweb template](https://thirdweb.com/hadriencroubois.eth/Vesting)",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1230234063/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1230235884",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/3658#issuecomment-1230235884",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3658",
    "id": 1230235884,
    "node_id": "IC_kwDOA9tCBs5JU-js",
    "user": {
      "login": "Amxx",
      "id": 2432299,
      "node_id": "MDQ6VXNlcjI0MzIyOTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2432299?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Amxx",
      "html_url": "https://github.com/Amxx",
      "followers_url": "https://api.github.com/users/Amxx/followers",
      "following_url": "https://api.github.com/users/Amxx/following{/other_user}",
      "gists_url": "https://api.github.com/users/Amxx/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Amxx/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Amxx/subscriptions",
      "organizations_url": "https://api.github.com/users/Amxx/orgs",
      "repos_url": "https://api.github.com/users/Amxx/repos",
      "events_url": "https://api.github.com/users/Amxx/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Amxx/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-29T12:43:17Z",
    "updated_at": "2022-08-29T12:43:17Z",
    "author_association": "COLLABORATOR",
    "body": "Also note: making the beneficiary non immutable will increase the gas cost for immutable case. So I really lean toward not changing anything, and relying on user overrides.",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1230235884/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1230320107",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/3658#issuecomment-1230320107",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3658",
    "id": 1230320107,
    "node_id": "IC_kwDOA9tCBs5JVTHr",
    "user": {
      "login": "TrejGun",
      "id": 185285,
      "node_id": "MDQ6VXNlcjE4NTI4NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/185285?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/TrejGun",
      "html_url": "https://github.com/TrejGun",
      "followers_url": "https://api.github.com/users/TrejGun/followers",
      "following_url": "https://api.github.com/users/TrejGun/following{/other_user}",
      "gists_url": "https://api.github.com/users/TrejGun/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/TrejGun/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/TrejGun/subscriptions",
      "organizations_url": "https://api.github.com/users/TrejGun/orgs",
      "repos_url": "https://api.github.com/users/TrejGun/repos",
      "events_url": "https://api.github.com/users/TrejGun/events{/privacy}",
      "received_events_url": "https://api.github.com/users/TrejGun/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-29T13:37:36Z",
    "updated_at": "2022-08-29T13:37:36Z",
    "author_association": "NONE",
    "body": "nice links - thanks\r\n\r\nhowever, I do not understand why would this be a breaking change.",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1230320107/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1230678584",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/3658#issuecomment-1230678584",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3658",
    "id": 1230678584,
    "node_id": "IC_kwDOA9tCBs5JWqo4",
    "user": {
      "login": "Amxx",
      "id": 2432299,
      "node_id": "MDQ6VXNlcjI0MzIyOTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2432299?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Amxx",
      "html_url": "https://github.com/Amxx",
      "followers_url": "https://api.github.com/users/Amxx/followers",
      "following_url": "https://api.github.com/users/Amxx/following{/other_user}",
      "gists_url": "https://api.github.com/users/Amxx/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Amxx/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Amxx/subscriptions",
      "organizations_url": "https://api.github.com/users/Amxx/orgs",
      "repos_url": "https://api.github.com/users/Amxx/repos",
      "events_url": "https://api.github.com/users/Amxx/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Amxx/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-29T18:10:00Z",
    "updated_at": "2022-08-29T18:10:00Z",
    "author_association": "COLLABORATOR",
    "body": "Your right, it wouldn't ",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1230678584/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1232221520",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/3658#issuecomment-1232221520",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3658",
    "id": 1232221520,
    "node_id": "IC_kwDOA9tCBs5JcjVQ",
    "user": {
      "login": "frangio",
      "id": 481465,
      "node_id": "MDQ6VXNlcjQ4MTQ2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/481465?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/frangio",
      "html_url": "https://github.com/frangio",
      "followers_url": "https://api.github.com/users/frangio/followers",
      "following_url": "https://api.github.com/users/frangio/following{/other_user}",
      "gists_url": "https://api.github.com/users/frangio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/frangio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/frangio/subscriptions",
      "organizations_url": "https://api.github.com/users/frangio/orgs",
      "repos_url": "https://api.github.com/users/frangio/repos",
      "events_url": "https://api.github.com/users/frangio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/frangio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-30T22:11:55Z",
    "updated_at": "2022-08-30T22:11:55Z",
    "author_association": "MEMBER",
    "body": "> the reason for vesting is [...] to prevent liquidity drops.\r\n\r\nThis is not 100% true generally. The other reason for vesting is to align incentives, precisely by preventing early cashouts.\r\n\r\nFor now I would close this, as it can be implemented via overrides. I will agree that it isn't very intuitive though. Unfortunately we need to make a tradeoff given the limitations of Solidity.",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1232221520/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
