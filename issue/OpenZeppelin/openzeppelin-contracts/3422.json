{
  "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3422",
  "repository_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts",
  "labels_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3422/labels{/name}",
  "comments_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3422/comments",
  "events_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3422/events",
  "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/3422",
  "id": 1241898311,
  "node_id": "I_kwDOA9tCBs5KBd1H",
  "number": 3422,
  "title": "Documentation of events emitted by functions",
  "user": {
    "login": "Amxx",
    "id": 2432299,
    "node_id": "MDQ6VXNlcjI0MzIyOTk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2432299?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Amxx",
    "html_url": "https://github.com/Amxx",
    "followers_url": "https://api.github.com/users/Amxx/followers",
    "following_url": "https://api.github.com/users/Amxx/following{/other_user}",
    "gists_url": "https://api.github.com/users/Amxx/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Amxx/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Amxx/subscriptions",
    "organizations_url": "https://api.github.com/users/Amxx/orgs",
    "repos_url": "https://api.github.com/users/Amxx/repos",
    "events_url": "https://api.github.com/users/Amxx/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Amxx/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2022-05-19T14:43:19Z",
  "updated_at": "2022-05-19T19:37:38Z",
  "closed_at": null,
  "author_association": "COLLABORATOR",
  "active_lock_reason": null,
  "body": "Currently, we require the natspec comment of each function to include details of events emitted by this function.\r\n\r\nSome cases are however not that simple and need to be clarified:\r\n- Should a function's documentation include events emitted by sub-calls?\r\n- What if a function may or may not emit an event depending on the state? What wording should be used?\r\n- What if a function triggers another contract to emit an event? \r\n\r\nAs an example, the `PullPayment` includes a dedicated `Escrow` instance. Calling `withdrawPayments` on the pull payment contract will not directly emit any events, but will cause the `Escrow` (which is another address) to emit the `Withdrawn` event. Should that be documented in the `withdrawPayments` natspec comments?\r\n\r\nA proposal is to automate that part in the future, by analysing the function code and detecting events being emitted, but that might be difficult to do, particularly with regard to \"WILL\" vs \"MAY\"",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3422/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3422/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1132124698",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/3422#issuecomment-1132124698",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3422",
    "id": 1132124698,
    "node_id": "IC_kwDOA9tCBs5Detoa",
    "user": {
      "login": "frangio",
      "id": 481465,
      "node_id": "MDQ6VXNlcjQ4MTQ2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/481465?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/frangio",
      "html_url": "https://github.com/frangio",
      "followers_url": "https://api.github.com/users/frangio/followers",
      "following_url": "https://api.github.com/users/frangio/following{/other_user}",
      "gists_url": "https://api.github.com/users/frangio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/frangio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/frangio/subscriptions",
      "organizations_url": "https://api.github.com/users/frangio/orgs",
      "repos_url": "https://api.github.com/users/frangio/repos",
      "events_url": "https://api.github.com/users/frangio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/frangio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-19T19:37:22Z",
    "updated_at": "2022-05-19T19:37:38Z",
    "author_association": "MEMBER",
    "body": "An argument for automating it in doc generation is that if you are looking at the code it's already more or less evident what events are emitted because you can see them there. If they are indirectly emitted as part of a function call it's not so obvious but still possible to get the info, and with go-to-definition becoming more available even more so.\r\n\r\nAs for \"will emit\" vs \"may emit\", I think it would be fine to default to \"may emit\".",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1132124698/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
