{
  "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/1494",
  "repository_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts",
  "labels_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/1494/labels{/name}",
  "comments_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/1494/comments",
  "events_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/1494/events",
  "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/1494",
  "id": 379419678,
  "node_id": "MDU6SXNzdWUzNzk0MTk2Nzg=",
  "number": 1494,
  "title": "increaseAllowance and decreaseAllowance should not be in ERC20.sol",
  "user": {
    "login": "1nfinite",
    "id": 6030393,
    "node_id": "MDQ6VXNlcjYwMzAzOTM=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6030393?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/1nfinite",
    "html_url": "https://github.com/1nfinite",
    "followers_url": "https://api.github.com/users/1nfinite/followers",
    "following_url": "https://api.github.com/users/1nfinite/following{/other_user}",
    "gists_url": "https://api.github.com/users/1nfinite/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/1nfinite/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/1nfinite/subscriptions",
    "organizations_url": "https://api.github.com/users/1nfinite/orgs",
    "repos_url": "https://api.github.com/users/1nfinite/repos",
    "events_url": "https://api.github.com/users/1nfinite/events{/privacy}",
    "received_events_url": "https://api.github.com/users/1nfinite/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2018-11-10T12:50:13Z",
  "updated_at": "2023-08-17T21:41:55Z",
  "closed_at": "2018-11-20T18:17:47Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "I notice that both `increaseAllowance` and `decreaseAllowance` is public external function in the ERC20.sol.\r\nShoudn't it be internal function (like the mint() and burn()) as increaseAllowance and decreaseAllowance is not standard ERC20?\r\n\r\nWhat is the justification to this.\r\n\r\nAlso, what is the justification to not enforce `require(_value == 0 || allowed[msg.sender][_spender] == 0);` in the approve() function to mitigate the race condition instead only just write a comment on there.\r\n\r\nAny comments on how the consensus is reach here ?",
  "closed_by": {
    "login": "nventuro",
    "id": 2530770,
    "node_id": "MDQ6VXNlcjI1MzA3NzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2530770?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/nventuro",
    "html_url": "https://github.com/nventuro",
    "followers_url": "https://api.github.com/users/nventuro/followers",
    "following_url": "https://api.github.com/users/nventuro/following{/other_user}",
    "gists_url": "https://api.github.com/users/nventuro/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/nventuro/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/nventuro/subscriptions",
    "organizations_url": "https://api.github.com/users/nventuro/orgs",
    "repos_url": "https://api.github.com/users/nventuro/repos",
    "events_url": "https://api.github.com/users/nventuro/events{/privacy}",
    "received_events_url": "https://api.github.com/users/nventuro/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/1494/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/1494/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/438747974",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/1494#issuecomment-438747974",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/1494",
    "id": 438747974,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzODc0Nzk3NA==",
    "user": {
      "login": "barakman",
      "id": 7003246,
      "node_id": "MDQ6VXNlcjcwMDMyNDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7003246?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/barakman",
      "html_url": "https://github.com/barakman",
      "followers_url": "https://api.github.com/users/barakman/followers",
      "following_url": "https://api.github.com/users/barakman/following{/other_user}",
      "gists_url": "https://api.github.com/users/barakman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/barakman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/barakman/subscriptions",
      "organizations_url": "https://api.github.com/users/barakman/orgs",
      "repos_url": "https://api.github.com/users/barakman/repos",
      "events_url": "https://api.github.com/users/barakman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/barakman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-14T17:29:24Z",
    "updated_at": "2018-11-14T17:33:39Z",
    "author_association": "CONTRIBUTOR",
    "body": "@1nfinite:\r\n\r\nThese functions are not a part of the ERC20 standard, and you might notice that indeed, they are not declared in the `IERC20` interface provided by OpenZeppelin.\r\nThese functions were added in order to provide a workaround for the front-running breach embedded in the `approve` function (more precisely, in an improper usage of the `approve` function).\r\nSuch front-running can be performed if someone calls `approve` with a non-zero value, and then again with a non-zero value.\r\nOne solution is to be sure that you call this function with \"alternating\" values (i.e., non-zero, zero, non-zero, zero).\r\nSince this usage is not dictated by the ERC20 standard, it cannot be imposed by the provider (OpenZeppelin in this case).\r\nHence, an extension was added in `ERC20.sol`, which allows the user to safely work around the problem.\r\nYou can read more about the *ERC20 Approve Issue* [here](https://blog.smartdec.net/erc20-approve-issue-in-simple-words-a41aaf47bca6).",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/438747974/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/440378228",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/1494#issuecomment-440378228",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/1494",
    "id": 440378228,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ0MDM3ODIyOA==",
    "user": {
      "login": "nventuro",
      "id": 2530770,
      "node_id": "MDQ6VXNlcjI1MzA3NzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2530770?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nventuro",
      "html_url": "https://github.com/nventuro",
      "followers_url": "https://api.github.com/users/nventuro/followers",
      "following_url": "https://api.github.com/users/nventuro/following{/other_user}",
      "gists_url": "https://api.github.com/users/nventuro/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nventuro/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nventuro/subscriptions",
      "organizations_url": "https://api.github.com/users/nventuro/orgs",
      "repos_url": "https://api.github.com/users/nventuro/repos",
      "events_url": "https://api.github.com/users/nventuro/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nventuro/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-20T18:17:47Z",
    "updated_at": "2018-11-20T18:17:47Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hello @1nfinite! `increaseAllowance` and `decreaseAllowance` are, as @barakman said, extensions end-users may use to more safely manage their tokens (assuming they know the functions are available in the contract), as can any contracts that interact with a known token (e.g. a crowdsale, but not an ERC20 exchange). We do provide the `SafeMath` library for this scenario though, which [adds that very same check](\r\nhttps://github.com/OpenZeppelin/openzeppelin-solidity/blob/v2.0.0/contracts/token/ERC20/SafeERC20.sol#L47).\r\n\r\n`approve` cannot enforce that requirement because the standard explicitly disallows doing so: see [here](https://github.com/OpenZeppelin/openzeppelin-solidity/issues/438) for the discussion that prompted us removing it from OpenZeppelin.\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/440378228/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1682988201",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/1494#issuecomment-1682988201",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/1494",
    "id": 1682988201,
    "node_id": "IC_kwDOA9tCBs5kUFyp",
    "user": {
      "login": "lusuo9",
      "id": 19781944,
      "node_id": "MDQ6VXNlcjE5NzgxOTQ0",
      "avatar_url": "https://avatars.githubusercontent.com/u/19781944?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/lusuo9",
      "html_url": "https://github.com/lusuo9",
      "followers_url": "https://api.github.com/users/lusuo9/followers",
      "following_url": "https://api.github.com/users/lusuo9/following{/other_user}",
      "gists_url": "https://api.github.com/users/lusuo9/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/lusuo9/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/lusuo9/subscriptions",
      "organizations_url": "https://api.github.com/users/lusuo9/orgs",
      "repos_url": "https://api.github.com/users/lusuo9/repos",
      "events_url": "https://api.github.com/users/lusuo9/events{/privacy}",
      "received_events_url": "https://api.github.com/users/lusuo9/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-08-17T21:11:58Z",
    "updated_at": "2023-08-17T21:11:58Z",
    "author_association": "NONE",
    "body": "OMG, I am just scammed by this method, the scammer sent me a link to click, and then increaseAllowance is called: https://www.oklink.com/bsc/tx/0x8f2c1f49087c06edb3bfa1d43a5181d9904d936b2c771faf99e3a9727d467d5c\r\n\r\nAnd then my USDT was transferred: https://www.oklink.com/bsc/tx/0xd5400611185ba0529b69d35288194fe81e358ad42389b5d2ae1ee8d60ff40c23\r\n\r\nSo sad. I suggest to limit the use this method for scamming.",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1682988201/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1683017540",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/1494#issuecomment-1683017540",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/1494",
    "id": 1683017540,
    "node_id": "IC_kwDOA9tCBs5kUM9E",
    "user": {
      "login": "barakman",
      "id": 7003246,
      "node_id": "MDQ6VXNlcjcwMDMyNDY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/7003246?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/barakman",
      "html_url": "https://github.com/barakman",
      "followers_url": "https://api.github.com/users/barakman/followers",
      "following_url": "https://api.github.com/users/barakman/following{/other_user}",
      "gists_url": "https://api.github.com/users/barakman/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/barakman/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/barakman/subscriptions",
      "organizations_url": "https://api.github.com/users/barakman/orgs",
      "repos_url": "https://api.github.com/users/barakman/repos",
      "events_url": "https://api.github.com/users/barakman/events{/privacy}",
      "received_events_url": "https://api.github.com/users/barakman/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-08-17T21:41:55Z",
    "updated_at": "2023-08-17T21:41:55Z",
    "author_association": "CONTRIBUTOR",
    "body": "This function can only increase the allowance of the account which has signed a transaction of executing it.\r\n\r\nSo it is by no means a \"scam function\" as you've called it.\r\n\r\nThe scam here likely involved stealing your account's private key, and then using it in order to sign that transaction.\r\n\r\nSo sad. I suggest to think twice before clicking a link which you are not familiar with.",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1683017540/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
