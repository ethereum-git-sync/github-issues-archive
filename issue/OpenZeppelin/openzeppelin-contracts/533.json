{
  "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/533",
  "repository_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts",
  "labels_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/533/labels{/name}",
  "comments_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/533/comments",
  "events_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/533/events",
  "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/533",
  "id": 271971991,
  "node_id": "MDU6SXNzdWUyNzE5NzE5OTE=",
  "number": 533,
  "title": "Date utility",
  "user": {
    "login": "martriay",
    "id": 1703831,
    "node_id": "MDQ6VXNlcjE3MDM4MzE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1703831?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/martriay",
    "html_url": "https://github.com/martriay",
    "followers_url": "https://api.github.com/users/martriay/followers",
    "following_url": "https://api.github.com/users/martriay/following{/other_user}",
    "gists_url": "https://api.github.com/users/martriay/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/martriay/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/martriay/subscriptions",
    "organizations_url": "https://api.github.com/users/martriay/orgs",
    "repos_url": "https://api.github.com/users/martriay/repos",
    "events_url": "https://api.github.com/users/martriay/events{/privacy}",
    "received_events_url": "https://api.github.com/users/martriay/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "martriay",
    "id": 1703831,
    "node_id": "MDQ6VXNlcjE3MDM4MzE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1703831?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/martriay",
    "html_url": "https://github.com/martriay",
    "followers_url": "https://api.github.com/users/martriay/followers",
    "following_url": "https://api.github.com/users/martriay/following{/other_user}",
    "gists_url": "https://api.github.com/users/martriay/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/martriay/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/martriay/subscriptions",
    "organizations_url": "https://api.github.com/users/martriay/orgs",
    "repos_url": "https://api.github.com/users/martriay/repos",
    "events_url": "https://api.github.com/users/martriay/events{/privacy}",
    "received_events_url": "https://api.github.com/users/martriay/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "martriay",
      "id": 1703831,
      "node_id": "MDQ6VXNlcjE3MDM4MzE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1703831?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/martriay",
      "html_url": "https://github.com/martriay",
      "followers_url": "https://api.github.com/users/martriay/followers",
      "following_url": "https://api.github.com/users/martriay/following{/other_user}",
      "gists_url": "https://api.github.com/users/martriay/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/martriay/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/martriay/subscriptions",
      "organizations_url": "https://api.github.com/users/martriay/orgs",
      "repos_url": "https://api.github.com/users/martriay/repos",
      "events_url": "https://api.github.com/users/martriay/events{/privacy}",
      "received_events_url": "https://api.github.com/users/martriay/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2017-11-07T20:27:39Z",
  "updated_at": "2019-03-08T20:39:24Z",
  "closed_at": "2019-03-08T20:39:24Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "Smart contracts have to deal with dates for a multiplicity of reasons. Nowadays this is not only done by placing a [magic constant](https://en.wikipedia.org/wiki/Magic_number_(programming)#Unnamed_numerical_constants) but also by representing them as seconds since unix epoch, which is not human-readable and error prone.\r\n\r\nSmart contract programming is no different discipline from \"regular\" software programming as we tend to refactor existing code or change our minds on a given functionality. When this happens, arbitrary numbers representing old dates are difficult to catch.\r\n\r\nTo address this issue I suggest a `Date` utility for defining dates in a human-readable manner following [javascript's Date interface](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date) as it's something we're used to.\r\n\r\nThus if we wanted to state that a given crowdsale starts on October 31st at 16:30 UTC, we would write it like this:\r\n```javascript\r\nuint256 crowdsaleStartsAt = Date(2017, 9, 31, 16, 30)\r\n```\r\n\r\nOpening up the topic for discussion.",
  "closed_by": {
    "login": "nventuro",
    "id": 2530770,
    "node_id": "MDQ6VXNlcjI1MzA3NzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2530770?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/nventuro",
    "html_url": "https://github.com/nventuro",
    "followers_url": "https://api.github.com/users/nventuro/followers",
    "following_url": "https://api.github.com/users/nventuro/following{/other_user}",
    "gists_url": "https://api.github.com/users/nventuro/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/nventuro/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/nventuro/subscriptions",
    "organizations_url": "https://api.github.com/users/nventuro/orgs",
    "repos_url": "https://api.github.com/users/nventuro/repos",
    "events_url": "https://api.github.com/users/nventuro/events{/privacy}",
    "received_events_url": "https://api.github.com/users/nventuro/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/533/reactions",
    "total_count": 3,
    "+1": 3,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/533/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/343205046",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/533#issuecomment-343205046",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/533",
    "id": 343205046,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0MzIwNTA0Ng==",
    "user": {
      "login": "federicobond",
      "id": 138426,
      "node_id": "MDQ6VXNlcjEzODQyNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/138426?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/federicobond",
      "html_url": "https://github.com/federicobond",
      "followers_url": "https://api.github.com/users/federicobond/followers",
      "following_url": "https://api.github.com/users/federicobond/following{/other_user}",
      "gists_url": "https://api.github.com/users/federicobond/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/federicobond/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/federicobond/subscriptions",
      "organizations_url": "https://api.github.com/users/federicobond/orgs",
      "repos_url": "https://api.github.com/users/federicobond/repos",
      "events_url": "https://api.github.com/users/federicobond/events{/privacy}",
      "received_events_url": "https://api.github.com/users/federicobond/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-09T16:13:17Z",
    "updated_at": "2017-11-09T16:13:17Z",
    "author_association": "CONTRIBUTOR",
    "body": "@martriay I don't think this can be done efficiently with a library, but it looks like it could be a good addition to the base Solidity language. Would you mind opening an issue there?",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/343205046/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/358035982",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/533#issuecomment-358035982",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/533",
    "id": 358035982,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1ODAzNTk4Mg==",
    "user": {
      "login": "ernestas2k",
      "id": 17709867,
      "node_id": "MDQ6VXNlcjE3NzA5ODY3",
      "avatar_url": "https://avatars.githubusercontent.com/u/17709867?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ernestas2k",
      "html_url": "https://github.com/ernestas2k",
      "followers_url": "https://api.github.com/users/ernestas2k/followers",
      "following_url": "https://api.github.com/users/ernestas2k/following{/other_user}",
      "gists_url": "https://api.github.com/users/ernestas2k/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ernestas2k/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ernestas2k/subscriptions",
      "organizations_url": "https://api.github.com/users/ernestas2k/orgs",
      "repos_url": "https://api.github.com/users/ernestas2k/repos",
      "events_url": "https://api.github.com/users/ernestas2k/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ernestas2k/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-16T17:18:53Z",
    "updated_at": "2018-01-16T17:19:24Z",
    "author_association": "CONTRIBUTOR",
    "body": "Could you point me to successful uses (if any) of dates/timestamps in smart contracts? \r\nTo my best knowledge, timestamp is easily manipulated by miners, which makes them unusable (in many cases).\r\nFor instance:\r\n> when mining a block, a miner has to set the timestamp for the block (Figure 2). Normally, the timestamp is set as the current time of the miner’s local system. However, the miner can vary this value by roughly 900 seconds, while still having other miners accept the block… Thus, the adversary can choose different block timestamps to manipulate the outcome of timestamp-dependent contracts.\r\n\r\n(https://blog.acolyer.org/2017/02/23/making-smart-contracts-smarter/)",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/358035982/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/358054867",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/533#issuecomment-358054867",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/533",
    "id": 358054867,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1ODA1NDg2Nw==",
    "user": {
      "login": "federicobond",
      "id": 138426,
      "node_id": "MDQ6VXNlcjEzODQyNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/138426?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/federicobond",
      "html_url": "https://github.com/federicobond",
      "followers_url": "https://api.github.com/users/federicobond/followers",
      "following_url": "https://api.github.com/users/federicobond/following{/other_user}",
      "gists_url": "https://api.github.com/users/federicobond/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/federicobond/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/federicobond/subscriptions",
      "organizations_url": "https://api.github.com/users/federicobond/orgs",
      "repos_url": "https://api.github.com/users/federicobond/repos",
      "events_url": "https://api.github.com/users/federicobond/events{/privacy}",
      "received_events_url": "https://api.github.com/users/federicobond/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-16T18:14:06Z",
    "updated_at": "2018-01-16T18:14:06Z",
    "author_association": "CONTRIBUTOR",
    "body": "They are not unusable for many cases. You just have to be careful where you use them.",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/358054867/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/358080367",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/533#issuecomment-358080367",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/533",
    "id": 358080367,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM1ODA4MDM2Nw==",
    "user": {
      "login": "martriay",
      "id": 1703831,
      "node_id": "MDQ6VXNlcjE3MDM4MzE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1703831?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/martriay",
      "html_url": "https://github.com/martriay",
      "followers_url": "https://api.github.com/users/martriay/followers",
      "following_url": "https://api.github.com/users/martriay/following{/other_user}",
      "gists_url": "https://api.github.com/users/martriay/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/martriay/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/martriay/subscriptions",
      "organizations_url": "https://api.github.com/users/martriay/orgs",
      "repos_url": "https://api.github.com/users/martriay/repos",
      "events_url": "https://api.github.com/users/martriay/events{/privacy}",
      "received_events_url": "https://api.github.com/users/martriay/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-01-16T19:40:30Z",
    "updated_at": "2018-01-16T19:40:30Z",
    "author_association": "MEMBER",
    "body": "As @federicobond said, there are several non-critical use cases (as long as they can resist a 900s  error). That being said, dates represented in `uint256` are very common in today's smart contracts and I think we need to minimize the margin of error.",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/358080367/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/471068957",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/533#issuecomment-471068957",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/533",
    "id": 471068957,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3MTA2ODk1Nw==",
    "user": {
      "login": "nventuro",
      "id": 2530770,
      "node_id": "MDQ6VXNlcjI1MzA3NzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2530770?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nventuro",
      "html_url": "https://github.com/nventuro",
      "followers_url": "https://api.github.com/users/nventuro/followers",
      "following_url": "https://api.github.com/users/nventuro/following{/other_user}",
      "gists_url": "https://api.github.com/users/nventuro/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nventuro/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nventuro/subscriptions",
      "organizations_url": "https://api.github.com/users/nventuro/orgs",
      "repos_url": "https://api.github.com/users/nventuro/repos",
      "events_url": "https://api.github.com/users/nventuro/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nventuro/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-08T20:39:24Z",
    "updated_at": "2019-03-08T20:39:24Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hm, interesting. Closing this issue though to merge it with https://github.com/OpenZeppelin/openzeppelin-solidity/issues/1531.",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/471068957/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
