{
  "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3222",
  "repository_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts",
  "labels_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3222/labels{/name}",
  "comments_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3222/comments",
  "events_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3222/events",
  "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/3222",
  "id": 1152300330,
  "node_id": "I_kwDOA9tCBs5ErrUq",
  "number": 3222,
  "title": "Reduce contract size and deployment gas for onlyOwner modifier",
  "user": {
    "login": "uglyrobot",
    "id": 6445085,
    "node_id": "MDQ6VXNlcjY0NDUwODU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6445085?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/uglyrobot",
    "html_url": "https://github.com/uglyrobot",
    "followers_url": "https://api.github.com/users/uglyrobot/followers",
    "following_url": "https://api.github.com/users/uglyrobot/following{/other_user}",
    "gists_url": "https://api.github.com/users/uglyrobot/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/uglyrobot/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/uglyrobot/subscriptions",
    "organizations_url": "https://api.github.com/users/uglyrobot/orgs",
    "repos_url": "https://api.github.com/users/uglyrobot/repos",
    "events_url": "https://api.github.com/users/uglyrobot/events{/privacy}",
    "received_events_url": "https://api.github.com/users/uglyrobot/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 7,
  "created_at": "2022-02-26T21:05:12Z",
  "updated_at": "2022-06-07T13:21:59Z",
  "closed_at": "2022-06-07T13:21:59Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "**ðŸ§ Motivation**\r\nFor inheriting contracts that use the onlyOwner modifier significant gas savings for deployment can be made by not inlining the require statement in every modified function.\r\n\r\n**ðŸ“ Details**\r\nWhen you add a function modifier, the code of that function is picked up and put in the function modifier in place of the _ symbol. If the same code is inlined multiple times, it adds up in size. Internal functions, on the other hand, are not inlined but called as separate functions. This means they are very slightly more expensive in run time but save a lot of redundant bytecode in deployment.\r\n\r\nWe could apply this efficiency in many other modifiers in OpenZeppelin as well.\r\n\r\n",
  "closed_by": {
    "login": "Amxx",
    "id": 2432299,
    "node_id": "MDQ6VXNlcjI0MzIyOTk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2432299?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Amxx",
    "html_url": "https://github.com/Amxx",
    "followers_url": "https://api.github.com/users/Amxx/followers",
    "following_url": "https://api.github.com/users/Amxx/following{/other_user}",
    "gists_url": "https://api.github.com/users/Amxx/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Amxx/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Amxx/subscriptions",
    "organizations_url": "https://api.github.com/users/Amxx/orgs",
    "repos_url": "https://api.github.com/users/Amxx/repos",
    "events_url": "https://api.github.com/users/Amxx/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Amxx/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3222/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3222/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1052616952",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/3222#issuecomment-1052616952",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3222",
    "id": 1052616952,
    "node_id": "IC_kwDOA9tCBs4-vaj4",
    "user": {
      "login": "uglyrobot",
      "id": 6445085,
      "node_id": "MDQ6VXNlcjY0NDUwODU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6445085?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/uglyrobot",
      "html_url": "https://github.com/uglyrobot",
      "followers_url": "https://api.github.com/users/uglyrobot/followers",
      "following_url": "https://api.github.com/users/uglyrobot/following{/other_user}",
      "gists_url": "https://api.github.com/users/uglyrobot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/uglyrobot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/uglyrobot/subscriptions",
      "organizations_url": "https://api.github.com/users/uglyrobot/orgs",
      "repos_url": "https://api.github.com/users/uglyrobot/repos",
      "events_url": "https://api.github.com/users/uglyrobot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/uglyrobot/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-02-26T21:08:05Z",
    "updated_at": "2022-02-26T21:08:05Z",
    "author_association": "NONE",
    "body": "From my testing with a sample contract this simple PR saves substantial gas per modifier call in contract size. This really adds up when for example in my contract I have 18 calls to onlyOwner!:\r\n\r\nSavings per call at 10 Runs Optimization:\r\n1 modifier call: 3883700-3857256 = 26,444 Gwei\r\n2 modifier calls: 3892096-3857268 = 17,414 Gwei\r\n5 modifier calls: 3917411-3857268 = 12,028 Gwei\r\n\r\nSavings per call at 1000 Runs Optimization:\r\n1 modifier call: 4311775-4258622 = 53,153 Gwei\r\n2 modifier calls: 4329572-4258622 = 35,475 Gwei\r\n5 modifier calls: 4382740-4258622 = 24,823 Gwei",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1052616952/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1055967110",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/3222#issuecomment-1055967110",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3222",
    "id": 1055967110,
    "node_id": "IC_kwDOA9tCBs4-8MeG",
    "user": {
      "login": "frangio",
      "id": 481465,
      "node_id": "MDQ6VXNlcjQ4MTQ2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/481465?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/frangio",
      "html_url": "https://github.com/frangio",
      "followers_url": "https://api.github.com/users/frangio/followers",
      "following_url": "https://api.github.com/users/frangio/following{/other_user}",
      "gists_url": "https://api.github.com/users/frangio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/frangio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/frangio/subscriptions",
      "organizations_url": "https://api.github.com/users/frangio/orgs",
      "repos_url": "https://api.github.com/users/frangio/repos",
      "events_url": "https://api.github.com/users/frangio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/frangio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-03-01T23:29:08Z",
    "updated_at": "2022-03-01T23:30:10Z",
    "author_association": "MEMBER",
    "body": "We don't have a lot of modifiers but it would make sense to do this for `AccessControl.onlyRole` as well!\r\n\r\nEdit: It actually seems that one is already written with an internal function.\r\n\r\nFeel free to suggest others this could be applied to.",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1055967110/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1055993938",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/3222#issuecomment-1055993938",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3222",
    "id": 1055993938,
    "node_id": "IC_kwDOA9tCBs4-8TBS",
    "user": {
      "login": "uglyrobot",
      "id": 6445085,
      "node_id": "MDQ6VXNlcjY0NDUwODU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6445085?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/uglyrobot",
      "html_url": "https://github.com/uglyrobot",
      "followers_url": "https://api.github.com/users/uglyrobot/followers",
      "following_url": "https://api.github.com/users/uglyrobot/following{/other_user}",
      "gists_url": "https://api.github.com/users/uglyrobot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/uglyrobot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/uglyrobot/subscriptions",
      "organizations_url": "https://api.github.com/users/uglyrobot/orgs",
      "repos_url": "https://api.github.com/users/uglyrobot/repos",
      "events_url": "https://api.github.com/users/uglyrobot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/uglyrobot/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-03-02T00:08:30Z",
    "updated_at": "2022-03-02T00:08:30Z",
    "author_association": "NONE",
    "body": "[whenNotPaused()](https://docs.openzeppelin.com/contracts/3.x/api/utils#Pausable-whenNotPaused--)\r\n\r\n[whenPaused()](https://docs.openzeppelin.com/contracts/3.x/api/utils#Pausable-whenPaused--)\r\n\r\n[nonReentrant()](https://docs.openzeppelin.com/contracts/3.x/api/utils#ReentrancyGuard-nonReentrant--)\r\n\r\nCould benefit.",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1055993938/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1103748367",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/3222#issuecomment-1103748367",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3222",
    "id": 1103748367,
    "node_id": "IC_kwDOA9tCBs5Byd0P",
    "user": {
      "login": "jnishiyama",
      "id": 2048195,
      "node_id": "MDQ6VXNlcjIwNDgxOTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2048195?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnishiyama",
      "html_url": "https://github.com/jnishiyama",
      "followers_url": "https://api.github.com/users/jnishiyama/followers",
      "following_url": "https://api.github.com/users/jnishiyama/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnishiyama/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnishiyama/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnishiyama/subscriptions",
      "organizations_url": "https://api.github.com/users/jnishiyama/orgs",
      "repos_url": "https://api.github.com/users/jnishiyama/repos",
      "events_url": "https://api.github.com/users/jnishiyama/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnishiyama/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-04-20T10:05:40Z",
    "updated_at": "2022-04-20T10:17:23Z",
    "author_association": "CONTRIBUTOR",
    "body": "Just ran into this same potential optimization, any update on the state of [this PR](https://github.com/OpenZeppelin/openzeppelin-contracts/pull/3223)? Would be happy to create a new one if necessary.",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1103748367/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1104116120",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/3222#issuecomment-1104116120",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3222",
    "id": 1104116120,
    "node_id": "IC_kwDOA9tCBs5Bz3mY",
    "user": {
      "login": "Amxx",
      "id": 2432299,
      "node_id": "MDQ6VXNlcjI0MzIyOTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2432299?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Amxx",
      "html_url": "https://github.com/Amxx",
      "followers_url": "https://api.github.com/users/Amxx/followers",
      "following_url": "https://api.github.com/users/Amxx/following{/other_user}",
      "gists_url": "https://api.github.com/users/Amxx/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Amxx/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Amxx/subscriptions",
      "organizations_url": "https://api.github.com/users/Amxx/orgs",
      "repos_url": "https://api.github.com/users/Amxx/repos",
      "events_url": "https://api.github.com/users/Amxx/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Amxx/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-04-20T16:08:41Z",
    "updated_at": "2022-04-20T16:08:41Z",
    "author_association": "COLLABORATOR",
    "body": "> Just ran into this same potential optimization, any update on the state of [this PR](https://github.com/OpenZeppelin/openzeppelin-contracts/pull/3223)? Would be happy to create a new one if necessary.\n\nThis PR has some actionable (virtual + needs a changelog). We are currently focused on releasing 4.6 but that will definitely be on our roadmap after that.",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1104116120/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1104124677",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/3222#issuecomment-1104124677",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3222",
    "id": 1104124677,
    "node_id": "IC_kwDOA9tCBs5Bz5sF",
    "user": {
      "login": "jnishiyama",
      "id": 2048195,
      "node_id": "MDQ6VXNlcjIwNDgxOTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2048195?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnishiyama",
      "html_url": "https://github.com/jnishiyama",
      "followers_url": "https://api.github.com/users/jnishiyama/followers",
      "following_url": "https://api.github.com/users/jnishiyama/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnishiyama/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnishiyama/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnishiyama/subscriptions",
      "organizations_url": "https://api.github.com/users/jnishiyama/orgs",
      "repos_url": "https://api.github.com/users/jnishiyama/repos",
      "events_url": "https://api.github.com/users/jnishiyama/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnishiyama/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-04-20T16:15:30Z",
    "updated_at": "2022-04-20T16:15:30Z",
    "author_association": "CONTRIBUTOR",
    "body": "Ok, would it help if I open a new PR with the virtual change + changelog, or better to just wait?",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1104124677/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1104918011",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/3222#issuecomment-1104918011",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3222",
    "id": 1104918011,
    "node_id": "IC_kwDOA9tCBs5B27X7",
    "user": {
      "login": "jnishiyama",
      "id": 2048195,
      "node_id": "MDQ6VXNlcjIwNDgxOTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2048195?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jnishiyama",
      "html_url": "https://github.com/jnishiyama",
      "followers_url": "https://api.github.com/users/jnishiyama/followers",
      "following_url": "https://api.github.com/users/jnishiyama/following{/other_user}",
      "gists_url": "https://api.github.com/users/jnishiyama/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jnishiyama/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jnishiyama/subscriptions",
      "organizations_url": "https://api.github.com/users/jnishiyama/orgs",
      "repos_url": "https://api.github.com/users/jnishiyama/repos",
      "events_url": "https://api.github.com/users/jnishiyama/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jnishiyama/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-04-21T09:06:07Z",
    "updated_at": "2022-04-21T09:06:07Z",
    "author_association": "CONTRIBUTOR",
    "body": "I opened a PR because I already made the changes for a project I'm working on. Hope it's helpful.",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1104918011/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
