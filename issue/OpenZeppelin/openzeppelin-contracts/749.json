{
  "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/749",
  "repository_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts",
  "labels_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/749/labels{/name}",
  "comments_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/749/comments",
  "events_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/749/events",
  "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/749",
  "id": 297704358,
  "node_id": "MDU6SXNzdWUyOTc3MDQzNTg=",
  "number": 749,
  "title": "Add CanRefundGas contract",
  "user": {
    "login": "medvedev1088",
    "id": 930603,
    "node_id": "MDQ6VXNlcjkzMDYwMw==",
    "avatar_url": "https://avatars.githubusercontent.com/u/930603?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/medvedev1088",
    "html_url": "https://github.com/medvedev1088",
    "followers_url": "https://api.github.com/users/medvedev1088/followers",
    "following_url": "https://api.github.com/users/medvedev1088/following{/other_user}",
    "gists_url": "https://api.github.com/users/medvedev1088/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/medvedev1088/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/medvedev1088/subscriptions",
    "organizations_url": "https://api.github.com/users/medvedev1088/orgs",
    "repos_url": "https://api.github.com/users/medvedev1088/repos",
    "events_url": "https://api.github.com/users/medvedev1088/events{/privacy}",
    "received_events_url": "https://api.github.com/users/medvedev1088/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2018-02-16T07:50:30Z",
  "updated_at": "2019-03-08T21:56:43Z",
  "closed_at": "2019-03-08T21:56:43Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "## üéâ Description\r\n\r\nSomething like this:\r\n\r\n```\r\npragma solidity^0.4.11;\r\n\r\ncontract CanRefundGas {\r\n\r\n    modifier refundGasCost() {\r\n        uint remainingGasStart = msg.gas;\r\n\r\n        _;\r\n\r\n        uint remainingGasEnd = msg.gas;\r\n        uint usedGas = remainingGasStart - remainingGasEnd;\r\n        // Add intrinsic gas and transfer gas. Need to account for gas stipend as well.\r\n        usedGas += 21000 + 9700;\r\n        // Possibly need to check max gasprice and usedGas here to limit \r\n        // possibility for abuse.\r\n        uint gasCost = usedGas * tx.gasprice;\r\n        // Refund gas cost\r\n        tx.origin.transfer(gasCost);\r\n    }\r\n}\r\n```\r\n\r\n```\r\ncontract SomeContract is CanRefundGas {\r\n\r\n    event SomeEvent(address sender);\r\n\r\n    // Need to allow depositing ether to the contract\r\n    function() public payable {\r\n    }\r\n\r\n    function doSomething() external refundGasCost {\r\n        SomeEvent(msg.sender);  \r\n    }\r\n}\r\n```\r\n\r\n- [ ] üêõ This is a bug report.\r\n- [x] üìà This is a feature request.\r\n\r\n<!-- Please check one of the above by placing an x in the box. -->\r\n\r\nOriginally discussed here https://ethereum.stackexchange.com/questions/38479/how-to-make-someone-else-pay-for-gas/38517#38517\r\n\r\n\r\n",
  "closed_by": {
    "login": "nventuro",
    "id": 2530770,
    "node_id": "MDQ6VXNlcjI1MzA3NzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2530770?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/nventuro",
    "html_url": "https://github.com/nventuro",
    "followers_url": "https://api.github.com/users/nventuro/followers",
    "following_url": "https://api.github.com/users/nventuro/following{/other_user}",
    "gists_url": "https://api.github.com/users/nventuro/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/nventuro/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/nventuro/subscriptions",
    "organizations_url": "https://api.github.com/users/nventuro/orgs",
    "repos_url": "https://api.github.com/users/nventuro/repos",
    "events_url": "https://api.github.com/users/nventuro/events{/privacy}",
    "received_events_url": "https://api.github.com/users/nventuro/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/749/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/749/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/471089708",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/749#issuecomment-471089708",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/749",
    "id": 471089708,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3MTA4OTcwOA==",
    "user": {
      "login": "nventuro",
      "id": 2530770,
      "node_id": "MDQ6VXNlcjI1MzA3NzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2530770?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nventuro",
      "html_url": "https://github.com/nventuro",
      "followers_url": "https://api.github.com/users/nventuro/followers",
      "following_url": "https://api.github.com/users/nventuro/following{/other_user}",
      "gists_url": "https://api.github.com/users/nventuro/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nventuro/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nventuro/subscriptions",
      "organizations_url": "https://api.github.com/users/nventuro/orgs",
      "repos_url": "https://api.github.com/users/nventuro/repos",
      "events_url": "https://api.github.com/users/nventuro/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nventuro/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-08T21:56:43Z",
    "updated_at": "2019-03-08T21:56:43Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hm, this is rather interesting indeed! Closing due to perceived lack of interest, and the fact that we'll probably move forward with some sort of metatx solution, but we'll be keeping this in the back of our minds, thanks!",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/471089708/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
