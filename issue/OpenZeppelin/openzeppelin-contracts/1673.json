{
  "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/1673",
  "repository_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts",
  "labels_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/1673/labels{/name}",
  "comments_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/1673/comments",
  "events_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/1673/events",
  "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/1673",
  "id": 418906034,
  "node_id": "MDU6SXNzdWU0MTg5MDYwMzQ=",
  "number": 1673,
  "title": "TokenVesting :: Is there any specific reason why _releasableAmount has to be private?",
  "user": {
    "login": "valerioleo",
    "id": 13155741,
    "node_id": "MDQ6VXNlcjEzMTU1NzQx",
    "avatar_url": "https://avatars.githubusercontent.com/u/13155741?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/valerioleo",
    "html_url": "https://github.com/valerioleo",
    "followers_url": "https://api.github.com/users/valerioleo/followers",
    "following_url": "https://api.github.com/users/valerioleo/following{/other_user}",
    "gists_url": "https://api.github.com/users/valerioleo/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/valerioleo/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/valerioleo/subscriptions",
    "organizations_url": "https://api.github.com/users/valerioleo/orgs",
    "repos_url": "https://api.github.com/users/valerioleo/repos",
    "events_url": "https://api.github.com/users/valerioleo/events{/privacy}",
    "received_events_url": "https://api.github.com/users/valerioleo/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1034168915,
      "node_id": "MDU6TGFiZWwxMDM0MTY4OTE1",
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/labels/question",
      "name": "question",
      "color": "fcef8d",
      "default": true,
      "description": "Compilation errors, reverts on transactions, design questions."
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2019-03-08T18:34:28Z",
  "updated_at": "2019-03-08T19:01:24Z",
  "closed_at": "2019-03-08T19:01:24Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "**üßê Motivation**\r\nSimplify the interaction with TokenVesting\r\n\r\n**üìù Details**\r\nDirectly reading the releasable amount can be very helpful to build a UI. At the moment, to calculate the releasableAmount, it is necessary to get all the necessary variables one by one and make the calculation. If `_releasableAmount`¬†was public, it would be possible to query the releasable amount with only one query. Is there any specific reason why `_releasableAmount`is `private`? \r\n\r\nhttps://github.com/OpenZeppelin/openzeppelin-solidity/blob/master/contracts/drafts/TokenVesting.sol#L152\r\n",
  "closed_by": {
    "login": "valerioleo",
    "id": 13155741,
    "node_id": "MDQ6VXNlcjEzMTU1NzQx",
    "avatar_url": "https://avatars.githubusercontent.com/u/13155741?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/valerioleo",
    "html_url": "https://github.com/valerioleo",
    "followers_url": "https://api.github.com/users/valerioleo/followers",
    "following_url": "https://api.github.com/users/valerioleo/following{/other_user}",
    "gists_url": "https://api.github.com/users/valerioleo/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/valerioleo/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/valerioleo/subscriptions",
    "organizations_url": "https://api.github.com/users/valerioleo/orgs",
    "repos_url": "https://api.github.com/users/valerioleo/repos",
    "events_url": "https://api.github.com/users/valerioleo/events{/privacy}",
    "received_events_url": "https://api.github.com/users/valerioleo/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/1673/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/1673/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/471035791",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/1673#issuecomment-471035791",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/1673",
    "id": 471035791,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3MTAzNTc5MQ==",
    "user": {
      "login": "nventuro",
      "id": 2530770,
      "node_id": "MDQ6VXNlcjI1MzA3NzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2530770?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nventuro",
      "html_url": "https://github.com/nventuro",
      "followers_url": "https://api.github.com/users/nventuro/followers",
      "following_url": "https://api.github.com/users/nventuro/following{/other_user}",
      "gists_url": "https://api.github.com/users/nventuro/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nventuro/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nventuro/subscriptions",
      "organizations_url": "https://api.github.com/users/nventuro/orgs",
      "repos_url": "https://api.github.com/users/nventuro/repos",
      "events_url": "https://api.github.com/users/nventuro/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nventuro/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-08T18:52:22Z",
    "updated_at": "2019-03-08T18:52:22Z",
    "author_association": "CONTRIBUTOR",
    "body": "There is! An issue was identified by the Level K team during their audit of what became version v2.0.0, led by @cwhinfrey.\r\n\r\nThe original report read:\r\n>TokenVesting.sol#L162‚Äã - ‚ÄãvestedAmount()‚Äã returns a different amount if tokens areadded to the contract. The beneficiary could withdraw their currently vested tokens andsend them back to the contract in order to increase the amount returned byvestedAmount()‚Äã. Changing the function to ‚ÄãvestedPercentage()‚Äã and using that tocalculate ‚ÄãreleasableAmount()‚Äã will prevent unexpected manipulation of the amountreturned by ‚ÄãvestedAmount()‚Äã.\r\n\r\nInstead of refactoring the contract as suggested, I chose to simply remove that function from the API in https://github.com/OpenZeppelin/openzeppelin-solidity/pull/1427, since the contract _does_ work correctly as is, and we have plans to eventually replace it.\r\n\r\nYou can find the final audit report [here](https://github.com/OpenZeppelin/openzeppelin-solidity/blob/v2.2.0-rc.1/audit/2018-10.pdf).",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/471035791/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/471038690",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/1673#issuecomment-471038690",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/1673",
    "id": 471038690,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3MTAzODY5MA==",
    "user": {
      "login": "valerioleo",
      "id": 13155741,
      "node_id": "MDQ6VXNlcjEzMTU1NzQx",
      "avatar_url": "https://avatars.githubusercontent.com/u/13155741?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/valerioleo",
      "html_url": "https://github.com/valerioleo",
      "followers_url": "https://api.github.com/users/valerioleo/followers",
      "following_url": "https://api.github.com/users/valerioleo/following{/other_user}",
      "gists_url": "https://api.github.com/users/valerioleo/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/valerioleo/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/valerioleo/subscriptions",
      "organizations_url": "https://api.github.com/users/valerioleo/orgs",
      "repos_url": "https://api.github.com/users/valerioleo/repos",
      "events_url": "https://api.github.com/users/valerioleo/events{/privacy}",
      "received_events_url": "https://api.github.com/users/valerioleo/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-08T19:01:03Z",
    "updated_at": "2019-03-08T19:01:03Z",
    "author_association": "NONE",
    "body": "Amazing, thanks for the explanation. I'll look forward to seeing the `vestedPercentage()`. üëç  ",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/471038690/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
