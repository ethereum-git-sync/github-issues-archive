{
  "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/2859",
  "repository_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts",
  "labels_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/2859/labels{/name}",
  "comments_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/2859/comments",
  "events_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/2859/events",
  "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/2859",
  "id": 996157573,
  "node_id": "I_kwDOA9tCBs47YCiF",
  "number": 2859,
  "title": "Feature: Include Base64 library in utils",
  "user": {
    "login": "ernestognw",
    "id": 33379285,
    "node_id": "MDQ6VXNlcjMzMzc5Mjg1",
    "avatar_url": "https://avatars.githubusercontent.com/u/33379285?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ernestognw",
    "html_url": "https://github.com/ernestognw",
    "followers_url": "https://api.github.com/users/ernestognw/followers",
    "following_url": "https://api.github.com/users/ernestognw/following{/other_user}",
    "gists_url": "https://api.github.com/users/ernestognw/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ernestognw/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ernestognw/subscriptions",
    "organizations_url": "https://api.github.com/users/ernestognw/orgs",
    "repos_url": "https://api.github.com/users/ernestognw/repos",
    "events_url": "https://api.github.com/users/ernestognw/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ernestognw/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 14,
  "created_at": "2021-09-14T15:32:04Z",
  "updated_at": "2021-12-29T19:41:21Z",
  "closed_at": "2021-12-29T19:41:21Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "**ðŸ§ Motivation**\r\nRecently, with the NFT rising and on-chain metadata protocols such as Uniswap and Loot (including all of its derivatives), Base64 encoder has become a widely used library, but there's no further documentation about it, and everybody seems to be copying the usage from the base Uniswap and Loot contracts:\r\n\r\n- Uniswap: https://github.com/Uniswap/uniswap-v3-periphery/blob/main/contracts/libraries/NFTDescriptor.sol#L66\r\n- Loot: https://etherscan.io/address/0xff9c1b15b16263c61d017ee9f65c50e4ae0113d7#code#L1609\r\n\r\nEven though it seems to be working correctly, it might be needed to include in Open Zeppelin as one of the available libraries, so there is an official reference for it.\r\n\r\nCurrently, there is this [Base64 outdated experiment](https://github.com/OpenZeppelin/solidity-jwt/blob/master/contracts/Base64.sol), and [this is the implementation](https://github.com/Brechtpd/base64#readme) that most of the projects are using up to this date\r\n\r\n**ðŸ“ Details**\r\n\r\n- Include @Brechtpd implementation into `contracts/utils` folder\r\n- Add documentation and tests for them\r\n\r\nEdit: Base64 data prepended with its media type [is considered a valid URI](https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/Data_URIs). This library will enable NFTs on-chain `tokenURIs`\r\n\r\nI can help if there's somebody who can guide me through the process",
  "closed_by": {
    "login": "Amxx",
    "id": 2432299,
    "node_id": "MDQ6VXNlcjI0MzIyOTk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2432299?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Amxx",
    "html_url": "https://github.com/Amxx",
    "followers_url": "https://api.github.com/users/Amxx/followers",
    "following_url": "https://api.github.com/users/Amxx/following{/other_user}",
    "gists_url": "https://api.github.com/users/Amxx/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Amxx/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Amxx/subscriptions",
    "organizations_url": "https://api.github.com/users/Amxx/orgs",
    "repos_url": "https://api.github.com/users/Amxx/repos",
    "events_url": "https://api.github.com/users/Amxx/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Amxx/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/2859/reactions",
    "total_count": 3,
    "+1": 3,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/2859/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/920045803",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/2859#issuecomment-920045803",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/2859",
    "id": 920045803,
    "node_id": "IC_kwDOA9tCBs421sjr",
    "user": {
      "login": "frangio",
      "id": 481465,
      "node_id": "MDQ6VXNlcjQ4MTQ2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/481465?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/frangio",
      "html_url": "https://github.com/frangio",
      "followers_url": "https://api.github.com/users/frangio/followers",
      "following_url": "https://api.github.com/users/frangio/following{/other_user}",
      "gists_url": "https://api.github.com/users/frangio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/frangio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/frangio/subscriptions",
      "organizations_url": "https://api.github.com/users/frangio/orgs",
      "repos_url": "https://api.github.com/users/frangio/repos",
      "events_url": "https://api.github.com/users/frangio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/frangio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-15T14:00:42Z",
    "updated_at": "2021-09-15T14:00:59Z",
    "author_association": "MEMBER",
    "body": "I agree it looks like this is a useful library we should include, but there is one thing I don't understand. What is the goal of using Base64 encoding for this? I don't think it's technically necessary. Sure it will result in shorter output but at the expense of more computation. Is there a reason I'm not seeing?\r\n\r\nNote: If we agree to include this, if we want to use @Brechtpd's implementation we need to ask him if he's interested in contributing the code to the library and having us maintain it. Otherwise we need to write our own implementation from scratch.",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/920045803/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/920084522",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/2859#issuecomment-920084522",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/2859",
    "id": 920084522,
    "node_id": "IC_kwDOA9tCBs4212Aq",
    "user": {
      "login": "ernestognw",
      "id": 33379285,
      "node_id": "MDQ6VXNlcjMzMzc5Mjg1",
      "avatar_url": "https://avatars.githubusercontent.com/u/33379285?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ernestognw",
      "html_url": "https://github.com/ernestognw",
      "followers_url": "https://api.github.com/users/ernestognw/followers",
      "following_url": "https://api.github.com/users/ernestognw/following{/other_user}",
      "gists_url": "https://api.github.com/users/ernestognw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ernestognw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ernestognw/subscriptions",
      "organizations_url": "https://api.github.com/users/ernestognw/orgs",
      "repos_url": "https://api.github.com/users/ernestognw/repos",
      "events_url": "https://api.github.com/users/ernestognw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ernestognw/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-15T14:43:40Z",
    "updated_at": "2021-09-15T15:35:11Z",
    "author_association": "MEMBER",
    "body": "My best guess about its importance is that it's the only way to store JSON metadata on-chain and make it compatible with Platforms like Open Sea. Since ERC721 `tokenURI` function expects to return a URL pointing to the JSON metadata, using a Base64 encoded JSON prepended with `data:application/json;base64,` is a valid HTTP response for those platforms.\r\n\r\nActually, this is the reason why I ended up using this, and seems to be generally accepted for it (also, encoded base64 images are also read by Open Sea). Anyway, I think that lack of documentation about its usage and importance is exactly what's missing.\r\n\r\nI can try to contact @Brechtpd if needed\r\n\r\nEdit: I don't know how I missed this, but the base64 is not just a valid response for Open Sea and others. [It is considered an actual URI](https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/Data_URIs), so Base64 library will enable native on-chain tokenURIs",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/920084522/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/920146517",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/2859#issuecomment-920146517",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/2859",
    "id": 920146517,
    "node_id": "IC_kwDOA9tCBs422FJV",
    "user": {
      "login": "0xjjpa",
      "id": 1128312,
      "node_id": "MDQ6VXNlcjExMjgzMTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1128312?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/0xjjpa",
      "html_url": "https://github.com/0xjjpa",
      "followers_url": "https://api.github.com/users/0xjjpa/followers",
      "following_url": "https://api.github.com/users/0xjjpa/following{/other_user}",
      "gists_url": "https://api.github.com/users/0xjjpa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/0xjjpa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/0xjjpa/subscriptions",
      "organizations_url": "https://api.github.com/users/0xjjpa/orgs",
      "repos_url": "https://api.github.com/users/0xjjpa/repos",
      "events_url": "https://api.github.com/users/0xjjpa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/0xjjpa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-15T15:55:45Z",
    "updated_at": "2021-09-15T15:55:45Z",
    "author_association": "NONE",
    "body": "> Edit: I don't know how I missed this, but the base64 is not just a valid response for Open Sea and others. [It is considered an actual URI](https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/Data_URIs), so Base64 library will enable native on-chain tokenURIs\r\n\r\nThat's correct, by using `base64` you can display images in any format for any browser, and not only OpenSea. E.g. you can copy and paste any image encoded in your browser tab (e.g. `data:image/png;base64,iVBORw0KGgoAA...`) and it will show and display the image.",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/920146517/reactions",
      "total_count": 2,
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/920157517",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/2859#issuecomment-920157517",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/2859",
    "id": 920157517,
    "node_id": "IC_kwDOA9tCBs422H1N",
    "user": {
      "login": "ernestognw",
      "id": 33379285,
      "node_id": "MDQ6VXNlcjMzMzc5Mjg1",
      "avatar_url": "https://avatars.githubusercontent.com/u/33379285?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ernestognw",
      "html_url": "https://github.com/ernestognw",
      "followers_url": "https://api.github.com/users/ernestognw/followers",
      "following_url": "https://api.github.com/users/ernestognw/following{/other_user}",
      "gists_url": "https://api.github.com/users/ernestognw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ernestognw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ernestognw/subscriptions",
      "organizations_url": "https://api.github.com/users/ernestognw/orgs",
      "repos_url": "https://api.github.com/users/ernestognw/repos",
      "events_url": "https://api.github.com/users/ernestognw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ernestognw/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-15T16:09:14Z",
    "updated_at": "2021-09-15T16:09:14Z",
    "author_association": "MEMBER",
    "body": "> > Edit: I don't know how I missed this, but the base64 is not just a valid response for Open Sea and others. [It is considered an actual URI](https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/Data_URIs), so Base64 library will enable native on-chain tokenURIs\r\n> \r\n> That's correct, by using `base64` you can display images in any format for any browser, and not only OpenSea. E.g. you can copy and paste any image encoded in your browser tab (e.g. `data:image/png;base64,iVBORw0KGgoAA...`) and it will show and display the image.\r\n\r\nThanks for supporting @jjperezaguinaga, I think this is enough reason to include the library.\r\n\r\nAlso, @frangio, [here's a confirmation from @brechtpd ](https://twitter.com/Brechtpd/status/1438172195138809866), is there anything else needed? I can push forward to get any other formal confirmation",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/920157517/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/920394329",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/2859#issuecomment-920394329",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/2859",
    "id": 920394329,
    "node_id": "IC_kwDOA9tCBs423BpZ",
    "user": {
      "login": "frangio",
      "id": 481465,
      "node_id": "MDQ6VXNlcjQ4MTQ2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/481465?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/frangio",
      "html_url": "https://github.com/frangio",
      "followers_url": "https://api.github.com/users/frangio/followers",
      "following_url": "https://api.github.com/users/frangio/following{/other_user}",
      "gists_url": "https://api.github.com/users/frangio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/frangio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/frangio/subscriptions",
      "organizations_url": "https://api.github.com/users/frangio/orgs",
      "repos_url": "https://api.github.com/users/frangio/repos",
      "events_url": "https://api.github.com/users/frangio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/frangio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-15T21:25:54Z",
    "updated_at": "2021-09-15T21:26:07Z",
    "author_association": "MEMBER",
    "body": "But it is possible to build a data URI using ASCII/UTF8 encoding. I guess Base64 is needed when the image is a binary format like PNG, but if you're using the Base64 library you're likely producing an SVG on chain and in that case it is possible to just use ASCII and skip the conversion step.\r\n\r\n@ernestognw Thanks for going ahead and asking. I actually would like to be sure he understands we mean shipping his code as a part of OpenZeppelin Contracts.",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/920394329/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/920403939",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/2859#issuecomment-920403939",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/2859",
    "id": 920403939,
    "node_id": "IC_kwDOA9tCBs423D_j",
    "user": {
      "login": "ernestognw",
      "id": 33379285,
      "node_id": "MDQ6VXNlcjMzMzc5Mjg1",
      "avatar_url": "https://avatars.githubusercontent.com/u/33379285?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ernestognw",
      "html_url": "https://github.com/ernestognw",
      "followers_url": "https://api.github.com/users/ernestognw/followers",
      "following_url": "https://api.github.com/users/ernestognw/following{/other_user}",
      "gists_url": "https://api.github.com/users/ernestognw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ernestognw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ernestognw/subscriptions",
      "organizations_url": "https://api.github.com/users/ernestognw/orgs",
      "repos_url": "https://api.github.com/users/ernestognw/repos",
      "events_url": "https://api.github.com/users/ernestognw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ernestognw/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-15T21:44:07Z",
    "updated_at": "2021-09-15T21:46:29Z",
    "author_association": "MEMBER",
    "body": "> But it is possible to build a data URI using ASCII/UTF8 encoding. I guess Base64 is needed when the image is a binary format like PNG, but if you're using the Base64 library you're likely producing an SVG on chain and in that case it is possible to just use ASCII and skip the conversion step.\r\n> \r\n> @ernestognw Thanks for going ahead and asking. I actually would like to be sure he understands we mean shipping his code as a part of OpenZeppelin Contracts.\r\n\r\nCan you provide an example of a `tokenURI` using ASCII/UTF8 encoding? Mozilla docs states that `base64 token if non-textual`, which I understand applies for both SVG and PNG (even for JSON)\r\n\r\n```\r\nData URLs are composed of four parts: a prefix (data:), a MIME type indicating the type of data, an optional base64 token if non-textual, and the data itself:\r\n\r\ndata:[<mediatype>][;base64],<data>\r\n```\r\n\r\nMaybe there's a misunderstanding here, the Base64 doesn't aim to encode the image (which is useful too), but to encode the JSON that the `tokenURI` URI is retrieving.\r\n\r\n![Captura de Pantalla 2021-09-15 a la(s) 16 46 13](https://user-images.githubusercontent.com/33379285/133514130-b1702169-f0c2-45c6-9190-21cce844aaae.png)\r\n\r\nFrom what I understand, there's no other way to build a URI that retrieves a JSON and is on-chain.\r\n\r\nAnd sure! Let's determine first if this is needed or not, and if we proceed I can contact again with @bretchpd to formalize it  :)",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/920403939/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/920409519",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/2859#issuecomment-920409519",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/2859",
    "id": 920409519,
    "node_id": "IC_kwDOA9tCBs423FWv",
    "user": {
      "login": "frangio",
      "id": 481465,
      "node_id": "MDQ6VXNlcjQ4MTQ2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/481465?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/frangio",
      "html_url": "https://github.com/frangio",
      "followers_url": "https://api.github.com/users/frangio/followers",
      "following_url": "https://api.github.com/users/frangio/following{/other_user}",
      "gists_url": "https://api.github.com/users/frangio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/frangio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/frangio/subscriptions",
      "organizations_url": "https://api.github.com/users/frangio/orgs",
      "repos_url": "https://api.github.com/users/frangio/repos",
      "events_url": "https://api.github.com/users/frangio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/frangio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-15T21:54:33Z",
    "updated_at": "2021-09-15T21:54:33Z",
    "author_association": "MEMBER",
    "body": "Yeah sorry it was wrong to talk about SVG vs PNG. The same argument applies though.\r\n\r\nHere is an ERC721 that uses UTF8 encoding for its tokenURI: [Etherscan](https://etherscan.io/address/0x68a65e7968fbacd2387dad316918da69a7011608), [OpenSea](https://opensea.io/assets/0x68a65e7968fbacd2387dad316918da69a7011608/1).\r\n\r\nJust to clarify I'm not saying it's wrong to use Base64 but I don't understand why it's necessary and would love to know if there is a reason to prefer it.",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/920409519/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 1,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/920414736",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/2859#issuecomment-920414736",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/2859",
    "id": 920414736,
    "node_id": "IC_kwDOA9tCBs423GoQ",
    "user": {
      "login": "ernestognw",
      "id": 33379285,
      "node_id": "MDQ6VXNlcjMzMzc5Mjg1",
      "avatar_url": "https://avatars.githubusercontent.com/u/33379285?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ernestognw",
      "html_url": "https://github.com/ernestognw",
      "followers_url": "https://api.github.com/users/ernestognw/followers",
      "following_url": "https://api.github.com/users/ernestognw/following{/other_user}",
      "gists_url": "https://api.github.com/users/ernestognw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ernestognw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ernestognw/subscriptions",
      "organizations_url": "https://api.github.com/users/ernestognw/orgs",
      "repos_url": "https://api.github.com/users/ernestognw/repos",
      "events_url": "https://api.github.com/users/ernestognw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ernestognw/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-15T22:04:44Z",
    "updated_at": "2021-09-15T22:04:44Z",
    "author_association": "MEMBER",
    "body": "Wonderful, I see.\r\n\r\nThis actually solves the problem I had when I ended up using Base64 encoding. I don't see any other benefit rather than size optimization purposes but I'm not too convinced about it.\r\n\r\nIf you don't find it useful, you can close, but I'll still look into the possibility of including it given its popularity. Even some docs telling you that you can use UTF8 encoding would be great for those who ran into the dilemma of providing this on-chain metadata URI",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/920414736/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/920452712",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/2859#issuecomment-920452712",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/2859",
    "id": 920452712,
    "node_id": "IC_kwDOA9tCBs423P5o",
    "user": {
      "login": "frangio",
      "id": 481465,
      "node_id": "MDQ6VXNlcjQ4MTQ2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/481465?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/frangio",
      "html_url": "https://github.com/frangio",
      "followers_url": "https://api.github.com/users/frangio/followers",
      "following_url": "https://api.github.com/users/frangio/following{/other_user}",
      "gists_url": "https://api.github.com/users/frangio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/frangio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/frangio/subscriptions",
      "organizations_url": "https://api.github.com/users/frangio/orgs",
      "repos_url": "https://api.github.com/users/frangio/repos",
      "events_url": "https://api.github.com/users/frangio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/frangio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-15T23:11:41Z",
    "updated_at": "2021-09-15T23:11:41Z",
    "author_association": "MEMBER",
    "body": "Let's see if someone else can offer an answer to why Base64 would be preferred!\r\n\r\nIf you find a place in the docs where we should mention this, a PR would be welcome! Or you can write something more standalone and share in the [OpenZeppelin Forum](https://forum.openzeppelin.com/).",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/920452712/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/920467087",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/2859#issuecomment-920467087",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/2859",
    "id": 920467087,
    "node_id": "IC_kwDOA9tCBs423TaP",
    "user": {
      "login": "ernestognw",
      "id": 33379285,
      "node_id": "MDQ6VXNlcjMzMzc5Mjg1",
      "avatar_url": "https://avatars.githubusercontent.com/u/33379285?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ernestognw",
      "html_url": "https://github.com/ernestognw",
      "followers_url": "https://api.github.com/users/ernestognw/followers",
      "following_url": "https://api.github.com/users/ernestognw/following{/other_user}",
      "gists_url": "https://api.github.com/users/ernestognw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ernestognw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ernestognw/subscriptions",
      "organizations_url": "https://api.github.com/users/ernestognw/orgs",
      "repos_url": "https://api.github.com/users/ernestognw/repos",
      "events_url": "https://api.github.com/users/ernestognw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ernestognw/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-15T23:49:09Z",
    "updated_at": "2021-09-15T23:49:28Z",
    "author_association": "MEMBER",
    "body": "Neat,\r\n\r\nI'm planning to release a tutorial (on OZ Forum oc) on how to retrieve a base64 encoded tokenURI (as well as a UTF8), I'll add the link here once done.\r\n\r\nThanks @frangio ",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/920467087/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/920621752",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/2859#issuecomment-920621752",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/2859",
    "id": 920621752,
    "node_id": "IC_kwDOA9tCBs4235K4",
    "user": {
      "login": "Amxx",
      "id": 2432299,
      "node_id": "MDQ6VXNlcjI0MzIyOTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2432299?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Amxx",
      "html_url": "https://github.com/Amxx",
      "followers_url": "https://api.github.com/users/Amxx/followers",
      "following_url": "https://api.github.com/users/Amxx/following{/other_user}",
      "gists_url": "https://api.github.com/users/Amxx/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Amxx/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Amxx/subscriptions",
      "organizations_url": "https://api.github.com/users/Amxx/orgs",
      "repos_url": "https://api.github.com/users/Amxx/repos",
      "events_url": "https://api.github.com/users/Amxx/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Amxx/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-16T06:41:44Z",
    "updated_at": "2021-09-16T06:41:44Z",
    "author_association": "COLLABORATOR",
    "body": "Side comment: if We add base64, it could also be nice to add base58, which is is used by IPFS hashes",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/920621752/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/924921864",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/2859#issuecomment-924921864",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/2859",
    "id": 924921864,
    "node_id": "IC_kwDOA9tCBs43ITAI",
    "user": {
      "login": "0xjjpa",
      "id": 1128312,
      "node_id": "MDQ6VXNlcjExMjgzMTI=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1128312?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/0xjjpa",
      "html_url": "https://github.com/0xjjpa",
      "followers_url": "https://api.github.com/users/0xjjpa/followers",
      "following_url": "https://api.github.com/users/0xjjpa/following{/other_user}",
      "gists_url": "https://api.github.com/users/0xjjpa/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/0xjjpa/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/0xjjpa/subscriptions",
      "organizations_url": "https://api.github.com/users/0xjjpa/orgs",
      "repos_url": "https://api.github.com/users/0xjjpa/repos",
      "events_url": "https://api.github.com/users/0xjjpa/events{/privacy}",
      "received_events_url": "https://api.github.com/users/0xjjpa/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-22T13:17:16Z",
    "updated_at": "2021-09-22T13:17:16Z",
    "author_association": "NONE",
    "body": "> Just to clarify I'm not saying it's wrong to use Base64 but I don't understand why it's necessary and would love to know if there is a reason to prefer it.\r\n\r\n@frangio I believe they are encoding it to save space, as AFAIK there's a [`65k`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/Data_URIs#common_problems) limit when using `base64`. Here are some projects with their authors which could explain a bit better on why `base64` encode the metadata rather than escape it like in the [example](https://etherscan.io/address/0x68a65e7968fbacd2387dad316918da69a7011608#code) you shared.\r\n\r\n- [Animal Color Book](https://generative-transfer-art.vercel.app/) by @wilsoncusack [used the same version of](https://github.com/Generative-Transfer-Art/solidity/blob/main/contracts/project1/TransferArt.sol#L4) @Brechtpd's library to generate pixels per transfer.\r\n- [Adventure Cards](https://0xadventures.com/) by @paulmars used a [custom](https://github.com/paulmars/contracts/blob/main/contracts/Loot.sol#L259-L324) version of Loot's contract instead to paint words into the SVG.\r\n- [Rarity](https://rarity.game/) by @andrecronje, is another similar, and it used a [formatted](https://github.com/andrecronje/rarity/blob/main/core/rarity.sol#L701-L756) version of the `base64` library.\r\n\r\nThose are just some I could find from the top of my head, and as you can see, all used a different library or format for encoding `base64`, helping the case of using a standard one.\r\n\r\n@ernestognw let me know if you need help with the PR and docs.",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/924921864/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/925102854",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/2859#issuecomment-925102854",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/2859",
    "id": 925102854,
    "node_id": "IC_kwDOA9tCBs43I_MG",
    "user": {
      "login": "wilsoncusack",
      "id": 6678357,
      "node_id": "MDQ6VXNlcjY2NzgzNTc=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6678357?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/wilsoncusack",
      "html_url": "https://github.com/wilsoncusack",
      "followers_url": "https://api.github.com/users/wilsoncusack/followers",
      "following_url": "https://api.github.com/users/wilsoncusack/following{/other_user}",
      "gists_url": "https://api.github.com/users/wilsoncusack/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/wilsoncusack/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/wilsoncusack/subscriptions",
      "organizations_url": "https://api.github.com/users/wilsoncusack/orgs",
      "repos_url": "https://api.github.com/users/wilsoncusack/repos",
      "events_url": "https://api.github.com/users/wilsoncusack/events{/privacy}",
      "received_events_url": "https://api.github.com/users/wilsoncusack/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-22T16:46:39Z",
    "updated_at": "2021-09-22T16:46:39Z",
    "author_association": "NONE",
    "body": "@frangio base64 encoding is URL safe, is the reason. If you know exactly what data you are encoding, and it is all url safe with UTF8, you could use UTF8. But if you want to encode non-url-safe characters OR have any sort of user input encoded, then you want to use base64",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/925102854/reactions",
      "total_count": 2,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 2,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/925960491",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/2859#issuecomment-925960491",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/2859",
    "id": 925960491,
    "node_id": "IC_kwDOA9tCBs43MQkr",
    "user": {
      "login": "ernestognw",
      "id": 33379285,
      "node_id": "MDQ6VXNlcjMzMzc5Mjg1",
      "avatar_url": "https://avatars.githubusercontent.com/u/33379285?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ernestognw",
      "html_url": "https://github.com/ernestognw",
      "followers_url": "https://api.github.com/users/ernestognw/followers",
      "following_url": "https://api.github.com/users/ernestognw/following{/other_user}",
      "gists_url": "https://api.github.com/users/ernestognw/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ernestognw/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ernestognw/subscriptions",
      "organizations_url": "https://api.github.com/users/ernestognw/orgs",
      "repos_url": "https://api.github.com/users/ernestognw/repos",
      "events_url": "https://api.github.com/users/ernestognw/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ernestognw/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-09-23T16:15:37Z",
    "updated_at": "2021-09-23T16:15:49Z",
    "author_association": "MEMBER",
    "body": "> > Just to clarify I'm not saying it's wrong to use Base64 but I don't understand why it's necessary and would love to know if there is a reason to prefer it.\r\n> \r\n> @frangio I believe they are encoding it to save space, as AFAIK there's a [`65k`](https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/Data_URIs#common_problems) limit when using `base64`. Here are some projects with their authors which could explain a bit better on why `base64` encode the metadata rather than escape it like in the [example](https://etherscan.io/address/0x68a65e7968fbacd2387dad316918da69a7011608#code) you shared.\r\n> \r\n> * [Animal Color Book](https://generative-transfer-art.vercel.app/) by @wilsoncusack [used the same version of](https://github.com/Generative-Transfer-Art/solidity/blob/main/contracts/project1/TransferArt.sol#L4) @Brechtpd's library to generate pixels per transfer.\r\n> * [Adventure Cards](https://0xadventures.com/) by @paulmars used a [custom](https://github.com/paulmars/contracts/blob/main/contracts/Loot.sol#L259-L324) version of Loot's contract instead to paint words into the SVG.\r\n> * [Rarity](https://rarity.game/) by @andrecronje, is another similar, and it used a [formatted](https://github.com/andrecronje/rarity/blob/main/core/rarity.sol#L701-L756) version of the `base64` library.\r\n> \r\n> Those are just some I could find from the top of my head, and as you can see, all used a different library or format for encoding `base64`, helping the case of using a standard one.\r\n> \r\n> @ernestognw let me know if you need help with the PR and docs.\r\n\r\nI think this is enough to justify the inclusion of the library. I've been kinda busy but I can start opening a branch on a fork and try to document all of these things you're sharing.\r\n\r\n@frangio, what's the procedure to make a PR with their corresponding docs?\r\n\r\nI'll reach out to you on Twitter if I have any question",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/925960491/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 1,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
