{
  "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/1817",
  "repository_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts",
  "labels_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/1817/labels{/name}",
  "comments_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/1817/comments",
  "events_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/1817/events",
  "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/1817",
  "id": 466470983,
  "node_id": "MDU6SXNzdWU0NjY0NzA5ODM=",
  "number": 1817,
  "title": "Add UnorderedKeySet library",
  "user": {
    "login": "thegostep",
    "id": 15959632,
    "node_id": "MDQ6VXNlcjE1OTU5NjMy",
    "avatar_url": "https://avatars.githubusercontent.com/u/15959632?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/thegostep",
    "html_url": "https://github.com/thegostep",
    "followers_url": "https://api.github.com/users/thegostep/followers",
    "following_url": "https://api.github.com/users/thegostep/following{/other_user}",
    "gists_url": "https://api.github.com/users/thegostep/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/thegostep/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/thegostep/subscriptions",
    "organizations_url": "https://api.github.com/users/thegostep/orgs",
    "repos_url": "https://api.github.com/users/thegostep/repos",
    "events_url": "https://api.github.com/users/thegostep/events{/privacy}",
    "received_events_url": "https://api.github.com/users/thegostep/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 503650860,
      "node_id": "MDU6TGFiZWw1MDM2NTA4NjA=",
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/labels/feature",
      "name": "feature",
      "color": "b9db64",
      "default": false,
      "description": "New contracts, functions, or helpers."
    },
    {
      "id": 1000207718,
      "node_id": "MDU6TGFiZWwxMDAwMjA3NzE4",
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/labels/contracts",
      "name": "contracts",
      "color": "1d76db",
      "default": false,
      "description": "Smart contract code."
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2019-07-10T19:08:44Z",
  "updated_at": "2020-07-23T00:27:40Z",
  "closed_at": "2020-07-23T00:27:39Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "**ðŸ§ Motivation**\r\nAdd commonly used mapping key management library.\r\n\r\n**ðŸ“ Details**\r\nAdd the UnorderedKeySet library to OpenZeppelin: https://github.com/rob-Hitchens/UnorderedKeySet\r\n",
  "closed_by": {
    "login": "nventuro",
    "id": 2530770,
    "node_id": "MDQ6VXNlcjI1MzA3NzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2530770?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/nventuro",
    "html_url": "https://github.com/nventuro",
    "followers_url": "https://api.github.com/users/nventuro/followers",
    "following_url": "https://api.github.com/users/nventuro/following{/other_user}",
    "gists_url": "https://api.github.com/users/nventuro/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/nventuro/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/nventuro/subscriptions",
    "organizations_url": "https://api.github.com/users/nventuro/orgs",
    "repos_url": "https://api.github.com/users/nventuro/repos",
    "events_url": "https://api.github.com/users/nventuro/events{/privacy}",
    "received_events_url": "https://api.github.com/users/nventuro/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/1817/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/1817/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/511013738",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/1817#issuecomment-511013738",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/1817",
    "id": 511013738,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxMTAxMzczOA==",
    "user": {
      "login": "frangio",
      "id": 481465,
      "node_id": "MDQ6VXNlcjQ4MTQ2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/481465?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/frangio",
      "html_url": "https://github.com/frangio",
      "followers_url": "https://api.github.com/users/frangio/followers",
      "following_url": "https://api.github.com/users/frangio/following{/other_user}",
      "gists_url": "https://api.github.com/users/frangio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/frangio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/frangio/subscriptions",
      "organizations_url": "https://api.github.com/users/frangio/orgs",
      "repos_url": "https://api.github.com/users/frangio/repos",
      "events_url": "https://api.github.com/users/frangio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/frangio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-07-12T19:56:07Z",
    "updated_at": "2019-07-12T19:56:07Z",
    "author_association": "MEMBER",
    "body": "Thanks for the suggestion @thegostep!\r\n\r\nIf I understand correctly `UnorderedKeySet` is essentially an iterable mapping. Is that right?\r\n\r\nIn particular it provides iteration of one item at a time. I think we'll be inclined against including this feature, because this kind of iteration turns out to not be very useful for smart contracts or dapps. There's been [some discussion recently](https://forum.zeppelin.solutions/t/expose-tokensofowner-method-on-erc721enumerable/888/6?u=frangio) about having _pagination_ in smart contracts, and that's something we think would be a better fit.",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/511013738/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/511019532",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/1817#issuecomment-511019532",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/1817",
    "id": 511019532,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxMTAxOTUzMg==",
    "user": {
      "login": "thegostep",
      "id": 15959632,
      "node_id": "MDQ6VXNlcjE1OTU5NjMy",
      "avatar_url": "https://avatars.githubusercontent.com/u/15959632?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thegostep",
      "html_url": "https://github.com/thegostep",
      "followers_url": "https://api.github.com/users/thegostep/followers",
      "following_url": "https://api.github.com/users/thegostep/following{/other_user}",
      "gists_url": "https://api.github.com/users/thegostep/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thegostep/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thegostep/subscriptions",
      "organizations_url": "https://api.github.com/users/thegostep/orgs",
      "repos_url": "https://api.github.com/users/thegostep/repos",
      "events_url": "https://api.github.com/users/thegostep/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thegostep/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-07-12T20:16:14Z",
    "updated_at": "2019-07-12T20:29:08Z",
    "author_association": "NONE",
    "body": "Ah interesting, we use iterable mappings quite a bit on the dapp side though do not use it from the smart contracts for obvious reasons. \r\n\r\nIs there an alternative method for dapps to iterate over mappings?\r\n\r\nedit: After further reading seems like wrapper contract performing pagination would be interesting solution to the unbounded problem. IMO this UnorderedKeySet library would still be useful for the ability to cleanly remove mapping items. You'll notice that the library does not implement the getter functions which I can only presume is for the same reason you mentioned. It's possible to use this library + pagination!\r\n\r\nRelated: https://ethereum.stackexchange.com/questions/13167/are-there-well-solved-and-simple-storage-patterns-for-solidity/13168#13168",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/511019532/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/511057524",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/1817#issuecomment-511057524",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/1817",
    "id": 511057524,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxMTA1NzUyNA==",
    "user": {
      "login": "frangio",
      "id": 481465,
      "node_id": "MDQ6VXNlcjQ4MTQ2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/481465?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/frangio",
      "html_url": "https://github.com/frangio",
      "followers_url": "https://api.github.com/users/frangio/followers",
      "following_url": "https://api.github.com/users/frangio/following{/other_user}",
      "gists_url": "https://api.github.com/users/frangio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/frangio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/frangio/subscriptions",
      "organizations_url": "https://api.github.com/users/frangio/orgs",
      "repos_url": "https://api.github.com/users/frangio/repos",
      "events_url": "https://api.github.com/users/frangio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/frangio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-07-12T22:57:23Z",
    "updated_at": "2019-07-12T22:57:23Z",
    "author_association": "MEMBER",
    "body": ">we use iterable mappings quite a bit on the dapp side\r\n\r\nCan you share more details on how you do this? Have you run into performance problems with the approach?\r\n\r\n>cleanly remove mapping items\r\n\r\nCan you expand on this a bit? I don't see any difference from using a mapping by itself.",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/511057524/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/511579447",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/1817#issuecomment-511579447",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/1817",
    "id": 511579447,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUxMTU3OTQ0Nw==",
    "user": {
      "login": "thegostep",
      "id": 15959632,
      "node_id": "MDQ6VXNlcjE1OTU5NjMy",
      "avatar_url": "https://avatars.githubusercontent.com/u/15959632?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/thegostep",
      "html_url": "https://github.com/thegostep",
      "followers_url": "https://api.github.com/users/thegostep/followers",
      "following_url": "https://api.github.com/users/thegostep/following{/other_user}",
      "gists_url": "https://api.github.com/users/thegostep/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/thegostep/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/thegostep/subscriptions",
      "organizations_url": "https://api.github.com/users/thegostep/orgs",
      "repos_url": "https://api.github.com/users/thegostep/repos",
      "events_url": "https://api.github.com/users/thegostep/events{/privacy}",
      "received_events_url": "https://api.github.com/users/thegostep/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-07-15T21:36:01Z",
    "updated_at": "2019-07-15T21:38:37Z",
    "author_association": "NONE",
    "body": "> Can you share more details on how you do this? Have you run into performance problems with the approach?\r\n\r\nKeep a dynamic sized unordered array of the active mapping keys and access with simple getter. The array of mapping keys allows the dapp to quickly access the list of mapping entries without parsing event logs. Have not run into performance issues yet.\r\n\r\n> Can you expand on this a bit? I don't see any difference from using a mapping by itself.\r\n\r\nThe end result is the same, an item is removed from the mapping. The benefit comes from also having an array of mapping entries which includes only the active items.\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/511579447/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/662763165",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/1817#issuecomment-662763165",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/1817",
    "id": 662763165,
    "node_id": "MDEyOklzc3VlQ29tbWVudDY2Mjc2MzE2NQ==",
    "user": {
      "login": "nventuro",
      "id": 2530770,
      "node_id": "MDQ6VXNlcjI1MzA3NzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2530770?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nventuro",
      "html_url": "https://github.com/nventuro",
      "followers_url": "https://api.github.com/users/nventuro/followers",
      "following_url": "https://api.github.com/users/nventuro/following{/other_user}",
      "gists_url": "https://api.github.com/users/nventuro/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nventuro/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nventuro/subscriptions",
      "organizations_url": "https://api.github.com/users/nventuro/orgs",
      "repos_url": "https://api.github.com/users/nventuro/repos",
      "events_url": "https://api.github.com/users/nventuro/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nventuro/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-07-23T00:27:39Z",
    "updated_at": "2020-07-23T00:27:39Z",
    "author_association": "CONTRIBUTOR",
    "body": "This is basically what `EnumerableSet` and `EnumerableMap` are, right? We're discussing pagination getters in https://github.com/OpenZeppelin/openzeppelin-contracts/pull/2296.\r\n\r\nI think we can close this issue.",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/662763165/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
