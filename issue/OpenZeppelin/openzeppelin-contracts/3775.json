{
  "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3775",
  "repository_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts",
  "labels_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3775/labels{/name}",
  "comments_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3775/comments",
  "events_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3775/events",
  "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/3775",
  "id": 1418505923,
  "node_id": "I_kwDOA9tCBs5UjK7D",
  "number": 3775,
  "title": "Support for Custom Errors in ERC721 and 1155 onReceived hooks try catch",
  "user": {
    "login": "dievardump",
    "id": 1753113,
    "node_id": "MDQ6VXNlcjE3NTMxMTM=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1753113?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/dievardump",
    "html_url": "https://github.com/dievardump",
    "followers_url": "https://api.github.com/users/dievardump/followers",
    "following_url": "https://api.github.com/users/dievardump/following{/other_user}",
    "gists_url": "https://api.github.com/users/dievardump/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/dievardump/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/dievardump/subscriptions",
    "organizations_url": "https://api.github.com/users/dievardump/orgs",
    "repos_url": "https://api.github.com/users/dievardump/repos",
    "events_url": "https://api.github.com/users/dievardump/events{/privacy}",
    "received_events_url": "https://api.github.com/users/dievardump/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 503650966,
      "node_id": "MDU6TGFiZWw1MDM2NTA5NjY=",
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/labels/good%20first%20issue",
      "name": "good first issue",
      "color": "0e8a16",
      "default": true,
      "description": "Low hanging fruit for new contributors to get involved!"
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2022-10-21T15:23:04Z",
  "updated_at": "2023-04-18T20:55:40Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "**üßê Motivation**\r\n<!-- Is your feature request related to a specific problem? Is it just a crazy idea? Tell us about it! -->\r\nRight now ERC1155 and 721 checks on safeTransfers do a try {} catch {} with only a catch on string and then a global catch that returns the default `ERCXXXX: transfer to non-ERCXXXXReceiver implementer`\r\n\r\nThis leads to always getting the default revert string when reverting in an onERCXXXReceived hook with a Custom Error, which does not allow the caller to get accurate revert reasons. \r\n\r\nIt would be very nice for testing purpose and also to show the right reason of reverts on the front-end, to bubble the revert code when it's a custom error\r\n\r\n**üìù Details**\r\n<!-- Please describe your feature request in detail. -->\r\n\r\nIt is possible to easily bubble revert codes using this simple code before or after the catch on string:\r\n\r\n```\r\n} catch (bytes memory reason) {\r\n            assembly {\r\n                revert(add(32, reason), mload(reason))\r\n            }\r\n        }\r\n```",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3775/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3775/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1288946914",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/3775#issuecomment-1288946914",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3775",
    "id": 1288946914,
    "node_id": "IC_kwDOA9tCBs5M08Ti",
    "user": {
      "login": "Amxx",
      "id": 2432299,
      "node_id": "MDQ6VXNlcjI0MzIyOTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2432299?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Amxx",
      "html_url": "https://github.com/Amxx",
      "followers_url": "https://api.github.com/users/Amxx/followers",
      "following_url": "https://api.github.com/users/Amxx/following{/other_user}",
      "gists_url": "https://api.github.com/users/Amxx/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Amxx/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Amxx/subscriptions",
      "organizations_url": "https://api.github.com/users/Amxx/orgs",
      "repos_url": "https://api.github.com/users/Amxx/repos",
      "events_url": "https://api.github.com/users/Amxx/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Amxx/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-24T12:16:46Z",
    "updated_at": "2022-10-24T12:16:46Z",
    "author_association": "COLLABORATOR",
    "body": "That is indeed a very good point. \r\n\r\nI hoped solidy would support that without assemble :/\r\n\r\nCan you make a PR ?",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1288946914/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1288987095",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/3775#issuecomment-1288987095",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3775",
    "id": 1288987095,
    "node_id": "IC_kwDOA9tCBs5M1GHX",
    "user": {
      "login": "dievardump",
      "id": 1753113,
      "node_id": "MDQ6VXNlcjE3NTMxMTM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1753113?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dievardump",
      "html_url": "https://github.com/dievardump",
      "followers_url": "https://api.github.com/users/dievardump/followers",
      "following_url": "https://api.github.com/users/dievardump/following{/other_user}",
      "gists_url": "https://api.github.com/users/dievardump/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dievardump/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dievardump/subscriptions",
      "organizations_url": "https://api.github.com/users/dievardump/orgs",
      "repos_url": "https://api.github.com/users/dievardump/repos",
      "events_url": "https://api.github.com/users/dievardump/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dievardump/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-24T12:50:54Z",
    "updated_at": "2022-10-24T12:50:54Z",
    "author_association": "NONE",
    "body": "Sure, I will work on this during the week and make one.",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1288987095/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1290938391",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/3775#issuecomment-1290938391",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3775",
    "id": 1290938391,
    "node_id": "IC_kwDOA9tCBs5M8igX",
    "user": {
      "login": "Amxx",
      "id": 2432299,
      "node_id": "MDQ6VXNlcjI0MzIyOTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2432299?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Amxx",
      "html_url": "https://github.com/Amxx",
      "followers_url": "https://api.github.com/users/Amxx/followers",
      "following_url": "https://api.github.com/users/Amxx/following{/other_user}",
      "gists_url": "https://api.github.com/users/Amxx/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Amxx/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Amxx/subscriptions",
      "organizations_url": "https://api.github.com/users/Amxx/orgs",
      "repos_url": "https://api.github.com/users/Amxx/repos",
      "events_url": "https://api.github.com/users/Amxx/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Amxx/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-10-25T17:52:56Z",
    "updated_at": "2022-10-25T17:52:56Z",
    "author_association": "COLLABORATOR",
    "body": "I added check that confirm that ERC721 already support Custom error emitted by receive hook.\r\n\r\nI submitted a PR that aligns ERC1155's implementation with ERC721's",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1290938391/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1513784117",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/3775#issuecomment-1513784117",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3775",
    "id": 1513784117,
    "node_id": "IC_kwDOA9tCBs5aOoM1",
    "user": {
      "login": "Gurpreet-2602",
      "id": 91656046,
      "node_id": "U_kgDOBXaPbg",
      "avatar_url": "https://avatars.githubusercontent.com/u/91656046?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Gurpreet-2602",
      "html_url": "https://github.com/Gurpreet-2602",
      "followers_url": "https://api.github.com/users/Gurpreet-2602/followers",
      "following_url": "https://api.github.com/users/Gurpreet-2602/following{/other_user}",
      "gists_url": "https://api.github.com/users/Gurpreet-2602/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Gurpreet-2602/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Gurpreet-2602/subscriptions",
      "organizations_url": "https://api.github.com/users/Gurpreet-2602/orgs",
      "repos_url": "https://api.github.com/users/Gurpreet-2602/repos",
      "events_url": "https://api.github.com/users/Gurpreet-2602/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Gurpreet-2602/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-18T20:55:40Z",
    "updated_at": "2023-04-18T20:55:40Z",
    "author_association": "NONE",
    "body": "hey i am new to open source can you please suggest me, how to contribute\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1513784117/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
