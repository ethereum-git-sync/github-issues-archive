{
  "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3624",
  "repository_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts",
  "labels_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3624/labels{/name}",
  "comments_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3624/comments",
  "events_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3624/events",
  "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/3624",
  "id": 1340891583,
  "node_id": "I_kwDOA9tCBs5P7GG_",
  "number": 3624,
  "title": "Add a delegate function where we can specify the amount we want to delegate to Votes.sol and IVotes.sol",
  "user": {
    "login": "JoaoMorais96",
    "id": 71322340,
    "node_id": "MDQ6VXNlcjcxMzIyMzQw",
    "avatar_url": "https://avatars.githubusercontent.com/u/71322340?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/JoaoMorais96",
    "html_url": "https://github.com/JoaoMorais96",
    "followers_url": "https://api.github.com/users/JoaoMorais96/followers",
    "following_url": "https://api.github.com/users/JoaoMorais96/following{/other_user}",
    "gists_url": "https://api.github.com/users/JoaoMorais96/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/JoaoMorais96/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/JoaoMorais96/subscriptions",
    "organizations_url": "https://api.github.com/users/JoaoMorais96/orgs",
    "repos_url": "https://api.github.com/users/JoaoMorais96/repos",
    "events_url": "https://api.github.com/users/JoaoMorais96/events{/privacy}",
    "received_events_url": "https://api.github.com/users/JoaoMorais96/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2022-08-16T21:17:23Z",
  "updated_at": "2022-08-29T14:59:33Z",
  "closed_at": "2022-08-17T16:24:29Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "# Add a delegate function where we can specify the amount we want to delegate to Votes.sol and IVotes.sol\r\n```\r\ndelegate_amount(address delegatee, uint256 amount)\r\n```\r\n```\r\ndelegateBySig_amount(\r\n        address delegatee,\r\n        uint256 amount,\r\n        uint256 nonce,\r\n        uint256 expiry,\r\n        uint8 v,\r\n        bytes32 r,\r\n        bytes32 s\r\n    )\r\n```\r\n```\r\n_delegate_amount(address account, address delegatee, uint256 amount)\r\n```\r\n- This is useful in cases where the tokens are locked in a timelock contract but we still want to allow the holders to vote (even if the tokens are only promised to the address, for example after a X years lock, and are yet to actually be owned by their future owner). In this case, the contract can have a certain number of tokens in its balance and still only give a portion of the votes to each user.  \r\n- It can also be used by individuals who want to spread their vote to various entities they trust in order to avoid having a single entity abuse their voting power for malicious purposes.\r\n\r\n\r\nAn example of the possible changes in the code can be seen here: https://github.com/JoaoMorais96/openzeppelin-contracts/tree/master/contracts/governance/utils. I thought it would be best to create a discussion before a pull to get some feedback.\r\n\r\nMaybe it is easier to join the functions into only one, since the total balance of the caller of the address is always simpler to get via code, and so it can be placed in the \"amount\" variable. This would save some gas.\r\n\r\nI have made this change before for a project where the company employees had their tokens locked for 3 years and then slowly released, but they still wanted to participate in the DAO immediately. If the current delegate delegates the entire voting power of the caller (if I am reading it correctly), the contract would have to give its entire voting power to one employee.\r\n",
  "closed_by": {
    "login": "frangio",
    "id": 481465,
    "node_id": "MDQ6VXNlcjQ4MTQ2NQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/481465?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/frangio",
    "html_url": "https://github.com/frangio",
    "followers_url": "https://api.github.com/users/frangio/followers",
    "following_url": "https://api.github.com/users/frangio/following{/other_user}",
    "gists_url": "https://api.github.com/users/frangio/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/frangio/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/frangio/subscriptions",
    "organizations_url": "https://api.github.com/users/frangio/orgs",
    "repos_url": "https://api.github.com/users/frangio/repos",
    "events_url": "https://api.github.com/users/frangio/events{/privacy}",
    "received_events_url": "https://api.github.com/users/frangio/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3624/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3624/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1218240345",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/3624#issuecomment-1218240345",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3624",
    "id": 1218240345,
    "node_id": "IC_kwDOA9tCBs5InN9Z",
    "user": {
      "login": "frangio",
      "id": 481465,
      "node_id": "MDQ6VXNlcjQ4MTQ2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/481465?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/frangio",
      "html_url": "https://github.com/frangio",
      "followers_url": "https://api.github.com/users/frangio/followers",
      "following_url": "https://api.github.com/users/frangio/following{/other_user}",
      "gists_url": "https://api.github.com/users/frangio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/frangio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/frangio/subscriptions",
      "organizations_url": "https://api.github.com/users/frangio/orgs",
      "repos_url": "https://api.github.com/users/frangio/repos",
      "events_url": "https://api.github.com/users/frangio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/frangio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-17T16:24:29Z",
    "updated_at": "2022-08-17T16:29:45Z",
    "author_association": "MEMBER",
    "body": "Thanks for the suggestion @JoaoMorais96.\r\n\r\nI'd prefer to avoid adding more functions to the Votes interface. But more importantly, as far as I can tell this is not possible to implement. If an account that has multiple delegates for various portions of their tokens, and they `transfer` some of their tokens to another account, which of the delegates will have their votes reduced? The only technically feasible approach would be to proportionally reduce the votes of all delegates, but this is not necessarily what you want, and in the example you shared I'm pretty sure it is not what you would want.\r\n\r\nThere is another way to achieve what you want. See this article on [Flexible Voting](https://www.scopelift.co/blog/introducing-flexible-voting).",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1218240345/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1230432005",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/3624#issuecomment-1230432005",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3624",
    "id": 1230432005,
    "node_id": "IC_kwDOA9tCBs5JVucF",
    "user": {
      "login": "JoaoMorais96",
      "id": 71322340,
      "node_id": "MDQ6VXNlcjcxMzIyMzQw",
      "avatar_url": "https://avatars.githubusercontent.com/u/71322340?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/JoaoMorais96",
      "html_url": "https://github.com/JoaoMorais96",
      "followers_url": "https://api.github.com/users/JoaoMorais96/followers",
      "following_url": "https://api.github.com/users/JoaoMorais96/following{/other_user}",
      "gists_url": "https://api.github.com/users/JoaoMorais96/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/JoaoMorais96/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/JoaoMorais96/subscriptions",
      "organizations_url": "https://api.github.com/users/JoaoMorais96/orgs",
      "repos_url": "https://api.github.com/users/JoaoMorais96/repos",
      "events_url": "https://api.github.com/users/JoaoMorais96/events{/privacy}",
      "received_events_url": "https://api.github.com/users/JoaoMorais96/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-29T14:59:33Z",
    "updated_at": "2022-08-29T14:59:33Z",
    "author_association": "NONE",
    "body": "Thanks for the clarification and ofr the article :) !",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1230432005/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
