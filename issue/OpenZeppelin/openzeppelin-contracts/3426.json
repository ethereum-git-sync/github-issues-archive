{
  "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3426",
  "repository_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts",
  "labels_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3426/labels{/name}",
  "comments_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3426/comments",
  "events_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3426/events",
  "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/3426",
  "id": 1244237561,
  "node_id": "I_kwDOA9tCBs5KKY75",
  "number": 3426,
  "title": "Refactor `isContract()` rather than delete.",
  "user": {
    "login": "0xsomnus",
    "id": 92123154,
    "node_id": "U_kgDOBX2wEg",
    "avatar_url": "https://avatars.githubusercontent.com/u/92123154?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/0xsomnus",
    "html_url": "https://github.com/0xsomnus",
    "followers_url": "https://api.github.com/users/0xsomnus/followers",
    "following_url": "https://api.github.com/users/0xsomnus/following{/other_user}",
    "gists_url": "https://api.github.com/users/0xsomnus/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/0xsomnus/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/0xsomnus/subscriptions",
    "organizations_url": "https://api.github.com/users/0xsomnus/orgs",
    "repos_url": "https://api.github.com/users/0xsomnus/repos",
    "events_url": "https://api.github.com/users/0xsomnus/events{/privacy}",
    "received_events_url": "https://api.github.com/users/0xsomnus/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 1,
  "created_at": "2022-05-22T12:17:58Z",
  "updated_at": "2022-05-23T08:05:33Z",
  "closed_at": "2022-05-23T08:05:32Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "As discussed in https://github.com/OpenZeppelin/openzeppelin-contracts/issues/3417#issue-1238923688 and in twitter DMs with @frangio, I'd like to present and later commit a potential refactor of the isContract() function rather than deleting it entirely. This refactor would be completely safe assuming `tx.origin` is never deprecated in future solidity versions. At this point, I feel it is safe to say `tx.origin` will remain. \r\n",
  "closed_by": {
    "login": "Amxx",
    "id": 2432299,
    "node_id": "MDQ6VXNlcjI0MzIyOTk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2432299?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Amxx",
    "html_url": "https://github.com/Amxx",
    "followers_url": "https://api.github.com/users/Amxx/followers",
    "following_url": "https://api.github.com/users/Amxx/following{/other_user}",
    "gists_url": "https://api.github.com/users/Amxx/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Amxx/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Amxx/subscriptions",
    "organizations_url": "https://api.github.com/users/Amxx/orgs",
    "repos_url": "https://api.github.com/users/Amxx/repos",
    "events_url": "https://api.github.com/users/Amxx/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Amxx/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3426/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3426/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1134324595",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/3426#issuecomment-1134324595",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/3426",
    "id": 1134324595,
    "node_id": "IC_kwDOA9tCBs5DnGtz",
    "user": {
      "login": "Amxx",
      "id": 2432299,
      "node_id": "MDQ6VXNlcjI0MzIyOTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2432299?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Amxx",
      "html_url": "https://github.com/Amxx",
      "followers_url": "https://api.github.com/users/Amxx/followers",
      "following_url": "https://api.github.com/users/Amxx/following{/other_user}",
      "gists_url": "https://api.github.com/users/Amxx/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Amxx/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Amxx/subscriptions",
      "organizations_url": "https://api.github.com/users/Amxx/orgs",
      "repos_url": "https://api.github.com/users/Amxx/repos",
      "events_url": "https://api.github.com/users/Amxx/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Amxx/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-23T08:05:32Z",
    "updated_at": "2022-05-23T08:05:32Z",
    "author_association": "COLLABORATOR",
    "body": "Hello @0xsomnus \r\n\r\nThis has already been discussed many times, and as you saw yourself, there are already many discussions about it. I'm not sure if opening yet another issue is really necessary.\r\n\r\nNow, you mention `tx.origin` so I guess what you want to do is something like `msg.sender == tx.origin`.\r\n\r\n**IMO, this is a really bad thing to do**\r\n\r\nWe have documented it, and we have not changed our minds:\r\n- This doesn't actually allow you to check if some address is a live contract or not, which we need for the ERC777 and ERC1155 hooks\r\n- ERC3074 might render that ineffective (no need for tx.origin to be deprecated).\r\n- This breaks contract composability, which is one of the key features that actually make the Ethereum ecosystem great.\r\n\r\nWe are not in a position to prevent anyone from doing anything with their code, but by providing code we are possibly setting some trends, and encouraging good practices by making them easier to execute. This is not a good practice, and we are not willing to help the community shoot themselves in the foot.",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1134324595/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
