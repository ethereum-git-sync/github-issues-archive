{
  "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/1239",
  "repository_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts",
  "labels_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/1239/labels{/name}",
  "comments_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/1239/comments",
  "events_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/1239/events",
  "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/1239",
  "id": 353834331,
  "node_id": "MDU6SXNzdWUzNTM4MzQzMzE=",
  "number": 1239,
  "title": "ERC721Token doesn't compile, receiving an error.",
  "user": {
    "login": "alexacostarua",
    "id": 37335378,
    "node_id": "MDQ6VXNlcjM3MzM1Mzc4",
    "avatar_url": "https://avatars.githubusercontent.com/u/37335378?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/alexacostarua",
    "html_url": "https://github.com/alexacostarua",
    "followers_url": "https://api.github.com/users/alexacostarua/followers",
    "following_url": "https://api.github.com/users/alexacostarua/following{/other_user}",
    "gists_url": "https://api.github.com/users/alexacostarua/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/alexacostarua/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/alexacostarua/subscriptions",
    "organizations_url": "https://api.github.com/users/alexacostarua/orgs",
    "repos_url": "https://api.github.com/users/alexacostarua/repos",
    "events_url": "https://api.github.com/users/alexacostarua/events{/privacy}",
    "received_events_url": "https://api.github.com/users/alexacostarua/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 1034168915,
      "node_id": "MDU6TGFiZWwxMDM0MTY4OTE1",
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/labels/question",
      "name": "question",
      "color": "fcef8d",
      "default": true,
      "description": "Compilation errors, reverts on transactions, design questions."
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2018-08-24T15:41:52Z",
  "updated_at": "2018-08-24T21:39:01Z",
  "closed_at": "2018-08-24T21:39:01Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "## üéâ Description\r\n\r\nWas trying to compile the ERC721Token.sol using truffle.  I correctly imported the necessary files for it, but failed with an error.\r\n\r\n- [ ] üêõ This is a bug report.\r\n\r\n<!-- Please check one of the above by placing an x in the box. -->\r\n\r\n## üíª Environment\r\n\r\n\r\n- Which version of OpenZeppelin are you using? installed from the github help page using npm\r\n- What network are you deploying to? custom network (parity POA)\r\n- How are you deploying your OpenZeppelin-backed contracts? using truffle v4.1.14, solidity v0.4.24\r\nUbuntu 16.04\r\n\r\n## üìù Details\r\nTried to compile using truffle prerequisites compiled then thrown an error\r\n\r\nCompiling ./contracts/ERC721Token.sol...\r\nCompiling ./node_modules/openzeppelin-solidity/contracts/AddressUtils.sol...\r\nCompiling ./node_modules/openzeppelin-solidity/contracts/introspection/ERC165.sol...\r\nCompiling ./node_modules/openzeppelin-solidity/contracts/introspection/SupportsInterfaceWithLookup.sol...\r\nCompiling ./node_modules/openzeppelin-solidity/contracts/math/SafeMath.sol...\r\nCompiling ./node_modules/openzeppelin-solidity/contracts/token/ERC721/ERC721.sol...\r\nCompiling ./node_modules/openzeppelin-solidity/contracts/token/ERC721/ERC721Basic.sol...\r\nCompiling ./node_modules/openzeppelin-solidity/contracts/token/ERC721/ERC721BasicToken.sol...\r\nCompiling ./node_modules/openzeppelin-solidity/contracts/token/ERC721/ERC721Receiver.sol...\r\n\r\n/home/user1/ethereum-erc721-master/contracts/ERC721Token.sol:71:13: DeclarationError: Undeclared identifier. Did you mean \"exists\"?\r\n    require(_exists(_tokenId));\r\n            ^-----^\r\n,/home/user1/ethereum-erc721-master/contracts/ERC721Token.sol:120:13: DeclarationError: Undeclared identifier. Did you mean \"exists\"?\r\n    require(_exists(_tokenId));\r\n            ^-----^\r\nCompilation failed. See above.\r\n\r\n\r\n\r\n",
  "closed_by": {
    "login": "nventuro",
    "id": 2530770,
    "node_id": "MDQ6VXNlcjI1MzA3NzA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2530770?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/nventuro",
    "html_url": "https://github.com/nventuro",
    "followers_url": "https://api.github.com/users/nventuro/followers",
    "following_url": "https://api.github.com/users/nventuro/following{/other_user}",
    "gists_url": "https://api.github.com/users/nventuro/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/nventuro/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/nventuro/subscriptions",
    "organizations_url": "https://api.github.com/users/nventuro/orgs",
    "repos_url": "https://api.github.com/users/nventuro/repos",
    "events_url": "https://api.github.com/users/nventuro/events{/privacy}",
    "received_events_url": "https://api.github.com/users/nventuro/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/1239/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/1239/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/415807764",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/1239#issuecomment-415807764",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/1239",
    "id": 415807764,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxNTgwNzc2NA==",
    "user": {
      "login": "nventuro",
      "id": 2530770,
      "node_id": "MDQ6VXNlcjI1MzA3NzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2530770?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nventuro",
      "html_url": "https://github.com/nventuro",
      "followers_url": "https://api.github.com/users/nventuro/followers",
      "following_url": "https://api.github.com/users/nventuro/following{/other_user}",
      "gists_url": "https://api.github.com/users/nventuro/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nventuro/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nventuro/subscriptions",
      "organizations_url": "https://api.github.com/users/nventuro/orgs",
      "repos_url": "https://api.github.com/users/nventuro/repos",
      "events_url": "https://api.github.com/users/nventuro/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nventuro/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-24T16:14:37Z",
    "updated_at": "2018-08-24T16:14:37Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hm, I'm not sure what may be causing that issue. Something weird I noticed about your setup, however, is that you have an `ERC721Token.sol` contract in `contracts/`: you should be importing the OpenZeppelin, not copying the source code.",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/415807764/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/415815718",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/1239#issuecomment-415815718",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/1239",
    "id": 415815718,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxNTgxNTcxOA==",
    "user": {
      "login": "alexacostarua",
      "id": 37335378,
      "node_id": "MDQ6VXNlcjM3MzM1Mzc4",
      "avatar_url": "https://avatars.githubusercontent.com/u/37335378?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexacostarua",
      "html_url": "https://github.com/alexacostarua",
      "followers_url": "https://api.github.com/users/alexacostarua/followers",
      "following_url": "https://api.github.com/users/alexacostarua/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexacostarua/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexacostarua/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexacostarua/subscriptions",
      "organizations_url": "https://api.github.com/users/alexacostarua/orgs",
      "repos_url": "https://api.github.com/users/alexacostarua/repos",
      "events_url": "https://api.github.com/users/alexacostarua/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexacostarua/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-24T16:45:03Z",
    "updated_at": "2018-08-24T16:45:03Z",
    "author_association": "NONE",
    "body": "Awesome @nventuro thanks for the pointer.  Now I've correctly imported the source code and got it to compile.  My contract looks like this:\r\n-------------------------------------------------------------------------------------------------------------------------------------------\r\n pragma solidity ^0.4.23;\r\n\r\nimport \"/home/user1/ethereum-erc721-master/node_modules/openzeppelin-solidity/contracts/token/ERC721/ERC721Token.sol\";\r\n\r\ncontract MyERC721 is ERC721Token {\r\n    constructor (string _name, string _symbol) public\r\n        ERC721Token(_name, _symbol)\r\n    {\r\n    }\r\n\r\n    /**\r\n    * Custom accessor to create a unique token\r\n    */\r\n    function mintUniqueTokenTo(\r\n        address _to,\r\n        uint256 _tokenId,\r\n        string  _tokenURI\r\n    ) public\r\n    {\r\n        super._mint(_to, _tokenId);\r\n        super._setTokenURI(_tokenId, _tokenURI);\r\n    }\r\n}\r\n-------------------------------------------------------------------------------------------------------------------------------------------\r\nIt compiled.\r\nI got this error when attempting to migrate to my network:\r\nRunning migration: 1_initial_migration.js\r\n  Deploying Migrations...\r\n  ... undefined\r\nError encountered, bailing. Network state unknown. Review successful transactions manually.\r\nError: Transaction cost exceeds current gas limit. Limit: 4700000, got: 6721975. Try decreasing supplied gas.\r\n    at Object.InvalidResponse (/usr/lib/node_modules/truffle/build/webpack:/~/web3/lib/web3/errors.js:38:1)\r\n    at /usr/lib/node_modules/truffle/build/webpack:/~/web3/lib/web3/requestmanager.js:86:1\r\n    at /usr/lib/node_modules/truffle/build/webpack:/packages/truffle-migrate/index.js:225:1\r\n    at /usr/lib/node_modules/truffle/build/webpack:/packages/truffle-provider/wrapper.js:134:1\r\n    at XMLHttpRequest.request.onreadystatechange (/usr/lib/node_modules/truffle/build/webpack:/~/web3/lib/web3/httpprovider.js:128:1)\r\n    at XMLHttpRequestEventTarget.dispatchEvent (/usr/lib/node_modules/truffle/build/webpack:/~/xhr2/lib/xhr2.js:64:1)\r\n    at XMLHttpRequest._setReadyState (/usr/lib/node_modules/truffle/build/webpack:/~/xhr2/lib/xhr2.js:354:1)\r\n    at XMLHttpRequest._onHttpResponseEnd (/usr/lib/node_modules/truffle/build/webpack:/~/xhr2/lib/xhr2.js:509:1)\r\n    at IncomingMessage.<anonymous> (/usr/lib/node_modules/truffle/build/webpack:/~/xhr2/lib/xhr2.js:469:1)\r\n    at emitNone (events.js:111:20)\r\n    at IncomingMessage.emit (events.js:208:7)\r\n    at endReadableNT (_stream_readable.js:1064:12)\r\n    at _combinedTickCallback (internal/process/next_tick.js:138:11)\r\n    at process._tickCallback (internal/process/next_tick.js:180:9)\r\n-------------------------------------------------------------------------------------------------------------------------------------------\r\nI realize the error has to do with my network gas-limit not being high enough.  The one other question I have for you is where would I set the variables such as name, initial supply, and symbol.   I wonder this because I've worked with ERC20 contracts and it seems more straight forward in setting those default variables within the .sol then for the ERC721.\r\nThanks for the help.",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/415815718/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/415817333",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/1239#issuecomment-415817333",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/1239",
    "id": 415817333,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxNTgxNzMzMw==",
    "user": {
      "login": "nventuro",
      "id": 2530770,
      "node_id": "MDQ6VXNlcjI1MzA3NzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2530770?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nventuro",
      "html_url": "https://github.com/nventuro",
      "followers_url": "https://api.github.com/users/nventuro/followers",
      "following_url": "https://api.github.com/users/nventuro/following{/other_user}",
      "gists_url": "https://api.github.com/users/nventuro/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nventuro/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nventuro/subscriptions",
      "organizations_url": "https://api.github.com/users/nventuro/orgs",
      "repos_url": "https://api.github.com/users/nventuro/repos",
      "events_url": "https://api.github.com/users/nventuro/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nventuro/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-24T16:51:19Z",
    "updated_at": "2018-08-24T16:51:19Z",
    "author_association": "CONTRIBUTOR",
    "body": "Could you clarify a bit further on what you mean by setting name and symbol? You seem to be doing it just fine (as constructor arguments) in your example. If you want hardcoded values, as opposed to paramatrized during construction, you can easily do so:\r\n\r\n```\r\ncontract MyERC721 is ERC721Token {\r\n  constructor () public\r\n  ERC721Token(\"MyToken\", \"MYTKN\")\r\n  {\r\n  }\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/415817333/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/415887109",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/1239#issuecomment-415887109",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/1239",
    "id": 415887109,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxNTg4NzEwOQ==",
    "user": {
      "login": "alexacostarua",
      "id": 37335378,
      "node_id": "MDQ6VXNlcjM3MzM1Mzc4",
      "avatar_url": "https://avatars.githubusercontent.com/u/37335378?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alexacostarua",
      "html_url": "https://github.com/alexacostarua",
      "followers_url": "https://api.github.com/users/alexacostarua/followers",
      "following_url": "https://api.github.com/users/alexacostarua/following{/other_user}",
      "gists_url": "https://api.github.com/users/alexacostarua/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alexacostarua/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alexacostarua/subscriptions",
      "organizations_url": "https://api.github.com/users/alexacostarua/orgs",
      "repos_url": "https://api.github.com/users/alexacostarua/repos",
      "events_url": "https://api.github.com/users/alexacostarua/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alexacostarua/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-24T21:27:46Z",
    "updated_at": "2018-08-24T21:28:06Z",
    "author_association": "NONE",
    "body": "Ok. I've added the contract successfully.  I have access to the calls through the abi code using myetherwallet.  I can set the token id, the token uri, aswell as the address.  The issue is now making allowing the wallet client to see this information.  I'm using a fork of trustwallets code to set this collectible: it asks for the id, the contract, the name, the category, annotation, imagepath, externalpath, and unique id.  I currently know the id which is the token id, the name which I set in the constructor, the imagepath, and it claims the unique id, is the token id + the contract (as a string).  I was wondering if you knew what the other variables were?  They are all type string.  Please leave a doge donation address as well you've been greatly helpful! @nventuro ",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/415887109/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/415889395",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/1239#issuecomment-415889395",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/1239",
    "id": 415889395,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQxNTg4OTM5NQ==",
    "user": {
      "login": "nventuro",
      "id": 2530770,
      "node_id": "MDQ6VXNlcjI1MzA3NzA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2530770?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/nventuro",
      "html_url": "https://github.com/nventuro",
      "followers_url": "https://api.github.com/users/nventuro/followers",
      "following_url": "https://api.github.com/users/nventuro/following{/other_user}",
      "gists_url": "https://api.github.com/users/nventuro/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/nventuro/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/nventuro/subscriptions",
      "organizations_url": "https://api.github.com/users/nventuro/orgs",
      "repos_url": "https://api.github.com/users/nventuro/repos",
      "events_url": "https://api.github.com/users/nventuro/events{/privacy}",
      "received_events_url": "https://api.github.com/users/nventuro/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-08-24T21:39:01Z",
    "updated_at": "2018-08-24T21:39:01Z",
    "author_association": "CONTRIBUTOR",
    "body": "Sorry @alexacostarua, I'm not familiar with trustwallets, maybe you'll have better luck asking on their forums? I suspect though that those may be fields stored where the tokenURI points to. And thanks for the doge offer :)",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/415889395/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
