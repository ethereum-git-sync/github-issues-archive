{
  "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/2703",
  "repository_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts",
  "labels_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/2703/labels{/name}",
  "comments_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/2703/comments",
  "events_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/2703/events",
  "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/2703",
  "id": 907740131,
  "node_id": "MDU6SXNzdWU5MDc3NDAxMzE=",
  "number": 2703,
  "title": "[ERC20PaymentSplitter]: Missing totalPaymentsReceived event",
  "user": {
    "login": "jveer634",
    "id": 47923507,
    "node_id": "MDQ6VXNlcjQ3OTIzNTA3",
    "avatar_url": "https://avatars.githubusercontent.com/u/47923507?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jveer634",
    "html_url": "https://github.com/jveer634",
    "followers_url": "https://api.github.com/users/jveer634/followers",
    "following_url": "https://api.github.com/users/jveer634/following{/other_user}",
    "gists_url": "https://api.github.com/users/jveer634/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jveer634/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jveer634/subscriptions",
    "organizations_url": "https://api.github.com/users/jveer634/orgs",
    "repos_url": "https://api.github.com/users/jveer634/repos",
    "events_url": "https://api.github.com/users/jveer634/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jveer634/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 503650860,
      "node_id": "MDU6TGFiZWw1MDM2NTA4NjA=",
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/labels/feature",
      "name": "feature",
      "color": "b9db64",
      "default": false,
      "description": "New contracts, functions, or helpers."
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": {
    "login": "Amxx",
    "id": 2432299,
    "node_id": "MDQ6VXNlcjI0MzIyOTk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/2432299?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Amxx",
    "html_url": "https://github.com/Amxx",
    "followers_url": "https://api.github.com/users/Amxx/followers",
    "following_url": "https://api.github.com/users/Amxx/following{/other_user}",
    "gists_url": "https://api.github.com/users/Amxx/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Amxx/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Amxx/subscriptions",
    "organizations_url": "https://api.github.com/users/Amxx/orgs",
    "repos_url": "https://api.github.com/users/Amxx/repos",
    "events_url": "https://api.github.com/users/Amxx/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Amxx/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "Amxx",
      "id": 2432299,
      "node_id": "MDQ6VXNlcjI0MzIyOTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2432299?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Amxx",
      "html_url": "https://github.com/Amxx",
      "followers_url": "https://api.github.com/users/Amxx/followers",
      "following_url": "https://api.github.com/users/Amxx/following{/other_user}",
      "gists_url": "https://api.github.com/users/Amxx/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Amxx/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Amxx/subscriptions",
      "organizations_url": "https://api.github.com/users/Amxx/orgs",
      "repos_url": "https://api.github.com/users/Amxx/repos",
      "events_url": "https://api.github.com/users/Amxx/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Amxx/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 4,
  "created_at": "2021-05-31T22:27:41Z",
  "updated_at": "2022-05-04T02:49:05Z",
  "closed_at": "2022-05-04T02:49:05Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "In the [ERC20PaymentSplitter](contracts/finance/PaymentSplitter.sol), there is not any event raised when all the shares of an payment are released.\r\n\r\nI feel it will be a required feature to ensure all the payments are released.\r\n\r\nAnd I couldn't see a condition that is verifying whether all the shares provided sums up to the totalamount required to pay for the contract. ",
  "closed_by": {
    "login": "jveer634",
    "id": 47923507,
    "node_id": "MDQ6VXNlcjQ3OTIzNTA3",
    "avatar_url": "https://avatars.githubusercontent.com/u/47923507?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jveer634",
    "html_url": "https://github.com/jveer634",
    "followers_url": "https://api.github.com/users/jveer634/followers",
    "following_url": "https://api.github.com/users/jveer634/following{/other_user}",
    "gists_url": "https://api.github.com/users/jveer634/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jveer634/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jveer634/subscriptions",
    "organizations_url": "https://api.github.com/users/jveer634/orgs",
    "repos_url": "https://api.github.com/users/jveer634/repos",
    "events_url": "https://api.github.com/users/jveer634/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jveer634/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/2703/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/2703/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/856556844",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/2703#issuecomment-856556844",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/2703",
    "id": 856556844,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg1NjU1Njg0NA==",
    "user": {
      "login": "Amxx",
      "id": 2432299,
      "node_id": "MDQ6VXNlcjI0MzIyOTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2432299?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Amxx",
      "html_url": "https://github.com/Amxx",
      "followers_url": "https://api.github.com/users/Amxx/followers",
      "following_url": "https://api.github.com/users/Amxx/following{/other_user}",
      "gists_url": "https://api.github.com/users/Amxx/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Amxx/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Amxx/subscriptions",
      "organizations_url": "https://api.github.com/users/Amxx/orgs",
      "repos_url": "https://api.github.com/users/Amxx/repos",
      "events_url": "https://api.github.com/users/Amxx/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Amxx/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-08T08:10:21Z",
    "updated_at": "2021-06-08T08:10:21Z",
    "author_association": "COLLABORATOR",
    "body": "Hello @jveer634.\r\nI think you might be misunderstanding the purpose of the payment splitter.\r\n\r\nThe payment splitter ensures that any funds that is sent to it at any point (including funds that are yet to be sent to it) are split according to each payees' shares. The share are a ratio.\r\n\r\nExample:\r\n- Alice as 2 share, Bob as 3 shares, Chris as 5. (total is 10)\r\n- The payment splitter does have any ETH, no one can get anything\r\n- The payment splitter receives 1 ETH → balance is now 1.0\r\n- Alice can redeem her share (20% of 1ETH = .2ETH) → balance is now 0.8\r\n- The payment splitter received 1 more ETH → balance is now 1.8\r\n- Bob can redeem his shares (20% of 2ETH = .6ETH) → balance is now 1.2\r\n- The payment splitter received 1 more ETH → balance is now 2.8\r\n- Chris can release his share (50% of 3ETH = 1.5ETH) → balance is now 1.3\r\n- Alice can redeem her share (20% of 3ETH minus the .2ETH already released = .4ETH) → balance is now 0.9\r\n- ...\r\n\r\nThe share are never released, and you never know if everything is released, because more funds might arrive later, requiring the user to redeem the new funds. ",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/856556844/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/857254696",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/2703#issuecomment-857254696",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/2703",
    "id": 857254696,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg1NzI1NDY5Ng==",
    "user": {
      "login": "jveer634",
      "id": 47923507,
      "node_id": "MDQ6VXNlcjQ3OTIzNTA3",
      "avatar_url": "https://avatars.githubusercontent.com/u/47923507?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jveer634",
      "html_url": "https://github.com/jveer634",
      "followers_url": "https://api.github.com/users/jveer634/followers",
      "following_url": "https://api.github.com/users/jveer634/following{/other_user}",
      "gists_url": "https://api.github.com/users/jveer634/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jveer634/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jveer634/subscriptions",
      "organizations_url": "https://api.github.com/users/jveer634/orgs",
      "repos_url": "https://api.github.com/users/jveer634/repos",
      "events_url": "https://api.github.com/users/jveer634/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jveer634/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-08T23:21:16Z",
    "updated_at": "2021-06-08T23:22:25Z",
    "author_association": "NONE",
    "body": "Ok.. @Amxx , the name ERC20PaymentSplitter felt ambiguous to me, it gave me an idea that whenever a user need to pay a smart contract ( for example) could split the amount he need to pay into shares with multiple users.\r\n\r\nIt may not be the case for this contract, but could be an idea for future work..\r\n\r\n#### Use Case:\r\n'A' needs to pay to an address some eth.\r\nBut 'A' can transfers some or total portion of it to another user B.\r\n\r\n- A  needs to pay X an amount of 200 eth\r\n- A requests B to 100 eth (50%)\r\n- A requests C to pay 40 eth (20%)\r\n- A requests D to pay 20 eth(10%)\r\n- After all the amounts paid from A(40eth),  B(100eth), C(40eth) and D (20eth). The service will be provided by X.  \r\n ",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/857254696/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/857567157",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/2703#issuecomment-857567157",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/2703",
    "id": 857567157,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg1NzU2NzE1Nw==",
    "user": {
      "login": "Amxx",
      "id": 2432299,
      "node_id": "MDQ6VXNlcjI0MzIyOTk=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2432299?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Amxx",
      "html_url": "https://github.com/Amxx",
      "followers_url": "https://api.github.com/users/Amxx/followers",
      "following_url": "https://api.github.com/users/Amxx/following{/other_user}",
      "gists_url": "https://api.github.com/users/Amxx/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Amxx/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Amxx/subscriptions",
      "organizations_url": "https://api.github.com/users/Amxx/orgs",
      "repos_url": "https://api.github.com/users/Amxx/repos",
      "events_url": "https://api.github.com/users/Amxx/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Amxx/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-06-09T10:08:27Z",
    "updated_at": "2021-06-09T10:08:27Z",
    "author_association": "COLLABORATOR",
    "body": "That is an interesting use case, but that is definitely not what our payment splitter does. \r\nI'll have this to our request for features, see where it could fit in the roadmap.",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/857567157/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1116349727",
    "html_url": "https://github.com/OpenZeppelin/openzeppelin-contracts/issues/2703#issuecomment-1116349727",
    "issue_url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/2703",
    "id": 1116349727,
    "node_id": "IC_kwDOA9tCBs5CiiUf",
    "user": {
      "login": "frangio",
      "id": 481465,
      "node_id": "MDQ6VXNlcjQ4MTQ2NQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/481465?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/frangio",
      "html_url": "https://github.com/frangio",
      "followers_url": "https://api.github.com/users/frangio/followers",
      "following_url": "https://api.github.com/users/frangio/following{/other_user}",
      "gists_url": "https://api.github.com/users/frangio/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/frangio/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/frangio/subscriptions",
      "organizations_url": "https://api.github.com/users/frangio/orgs",
      "repos_url": "https://api.github.com/users/frangio/repos",
      "events_url": "https://api.github.com/users/frangio/events{/privacy}",
      "received_events_url": "https://api.github.com/users/frangio/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-03T17:18:33Z",
    "updated_at": "2022-05-03T17:18:33Z",
    "author_association": "MEMBER",
    "body": "Indeed the requested feature is not related to the functionality provided by PaymentSplitter.\r\n\r\nThis sounds very niche and we haven't heard other similar requests so I will close this issue. Feel free to share more use cases if you think we should reconsider.",
    "reactions": {
      "url": "https://api.github.com/repos/OpenZeppelin/openzeppelin-contracts/issues/comments/1116349727/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
