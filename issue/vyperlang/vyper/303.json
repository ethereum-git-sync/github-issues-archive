{
  "url": "https://api.github.com/repos/vyperlang/vyper/issues/303",
  "repository_url": "https://api.github.com/repos/vyperlang/vyper",
  "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/303/labels{/name}",
  "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/303/comments",
  "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/303/events",
  "html_url": "https://github.com/vyperlang/vyper/issues/303",
  "id": 246876788,
  "node_id": "MDU6SXNzdWUyNDY4NzY3ODg=",
  "number": 303,
  "title": "Array of bytes has infinite type size",
  "user": {
    "login": "fubuloubu",
    "id": 3859395,
    "node_id": "MDQ6VXNlcjM4NTkzOTU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/3859395?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/fubuloubu",
    "html_url": "https://github.com/fubuloubu",
    "followers_url": "https://api.github.com/users/fubuloubu/followers",
    "following_url": "https://api.github.com/users/fubuloubu/following{/other_user}",
    "gists_url": "https://api.github.com/users/fubuloubu/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/fubuloubu/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/fubuloubu/subscriptions",
    "organizations_url": "https://api.github.com/users/fubuloubu/orgs",
    "repos_url": "https://api.github.com/users/fubuloubu/repos",
    "events_url": "https://api.github.com/users/fubuloubu/events{/privacy}",
    "received_events_url": "https://api.github.com/users/fubuloubu/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 7,
  "created_at": "2017-07-31T20:38:34Z",
  "updated_at": "2017-08-02T17:36:39Z",
  "closed_at": "2017-08-02T17:36:39Z",
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "I am pretty sure this is an error, although I am a bit unclear behind the purpose of declaring the size of a type to be infinite. Is this a part of the gas estimate?\r\n\r\nAnyways, if you define an array of bytes using another type, it throws an error e.g.:\r\n```python\r\ndef __init__(test: bytes32[bool]):\r\n    pass\r\n```\r\n\r\neven though that data size should only be 64 bytes max (32 bytes x 2 possible values for bool)\r\n\r\nWould appreciate some understanding behind the purpose of this check and if there is supposed to be a deeper check occuring, like some sort of maximum (or reasonable) number of bytes we should be allowed to use? (distinct from their economic cost to store them)",
  "closed_by": {
    "login": "fubuloubu",
    "id": 3859395,
    "node_id": "MDQ6VXNlcjM4NTkzOTU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/3859395?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/fubuloubu",
    "html_url": "https://github.com/fubuloubu",
    "followers_url": "https://api.github.com/users/fubuloubu/followers",
    "following_url": "https://api.github.com/users/fubuloubu/following{/other_user}",
    "gists_url": "https://api.github.com/users/fubuloubu/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/fubuloubu/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/fubuloubu/subscriptions",
    "organizations_url": "https://api.github.com/users/fubuloubu/orgs",
    "repos_url": "https://api.github.com/users/fubuloubu/repos",
    "events_url": "https://api.github.com/users/fubuloubu/events{/privacy}",
    "received_events_url": "https://api.github.com/users/fubuloubu/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/303/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/303/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/319197066",
    "html_url": "https://github.com/vyperlang/vyper/issues/303#issuecomment-319197066",
    "issue_url": "https://api.github.com/repos/vyperlang/vyper/issues/303",
    "id": 319197066,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxOTE5NzA2Ng==",
    "user": {
      "login": "fubuloubu",
      "id": 3859395,
      "node_id": "MDQ6VXNlcjM4NTkzOTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3859395?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fubuloubu",
      "html_url": "https://github.com/fubuloubu",
      "followers_url": "https://api.github.com/users/fubuloubu/followers",
      "following_url": "https://api.github.com/users/fubuloubu/following{/other_user}",
      "gists_url": "https://api.github.com/users/fubuloubu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fubuloubu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fubuloubu/subscriptions",
      "organizations_url": "https://api.github.com/users/fubuloubu/orgs",
      "repos_url": "https://api.github.com/users/fubuloubu/repos",
      "events_url": "https://api.github.com/users/fubuloubu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fubuloubu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-07-31T21:08:28Z",
    "updated_at": "2017-07-31T21:08:28Z",
    "author_association": "MEMBER",
    "body": "I think the problem with my example is only in function arguments... hmm",
    "reactions": {
      "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/319197066/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/319246681",
    "html_url": "https://github.com/vyperlang/vyper/issues/303#issuecomment-319246681",
    "issue_url": "https://api.github.com/repos/vyperlang/vyper/issues/303",
    "id": 319246681,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxOTI0NjY4MQ==",
    "user": {
      "login": "vbuterin",
      "id": 2230894,
      "node_id": "MDQ6VXNlcjIyMzA4OTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2230894?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vbuterin",
      "html_url": "https://github.com/vbuterin",
      "followers_url": "https://api.github.com/users/vbuterin/followers",
      "following_url": "https://api.github.com/users/vbuterin/following{/other_user}",
      "gists_url": "https://api.github.com/users/vbuterin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vbuterin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vbuterin/subscriptions",
      "organizations_url": "https://api.github.com/users/vbuterin/orgs",
      "repos_url": "https://api.github.com/users/vbuterin/repos",
      "events_url": "https://api.github.com/users/vbuterin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vbuterin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-08-01T02:03:01Z",
    "updated_at": "2017-08-01T02:03:01Z",
    "author_association": "CONTRIBUTOR",
    "body": "Viper assumes maps all have infinite type size; you're right that it's incorrect in that particular case. IMO it's not worth it to have some kind of special-case support for two-item maps.",
    "reactions": {
      "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/319246681/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/319248460",
    "html_url": "https://github.com/vyperlang/vyper/issues/303#issuecomment-319248460",
    "issue_url": "https://api.github.com/repos/vyperlang/vyper/issues/303",
    "id": 319248460,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxOTI0ODQ2MA==",
    "user": {
      "login": "fubuloubu",
      "id": 3859395,
      "node_id": "MDQ6VXNlcjM4NTkzOTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3859395?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fubuloubu",
      "html_url": "https://github.com/fubuloubu",
      "followers_url": "https://api.github.com/users/fubuloubu/followers",
      "following_url": "https://api.github.com/users/fubuloubu/following{/other_user}",
      "gists_url": "https://api.github.com/users/fubuloubu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fubuloubu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fubuloubu/subscriptions",
      "organizations_url": "https://api.github.com/users/fubuloubu/orgs",
      "repos_url": "https://api.github.com/users/fubuloubu/repos",
      "events_url": "https://api.github.com/users/fubuloubu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fubuloubu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-08-01T02:16:20Z",
    "updated_at": "2017-08-01T02:16:20Z",
    "author_association": "MEMBER",
    "body": "I agree with you on that, it was a spurious example.\r\n\r\nMore for my understanding, what is the reasoning behind this decision? A viper contract can store it's own data in maps, which could reach infinite size in theory, but function arguments (or return values) are not allowed to be of variable size. Is this to ensure that gas estimates can be computed, or something more fundamental to the EVM?\r\n\r\nI'm still very much learning, excuse my ignorance!",
    "reactions": {
      "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/319248460/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/319274593",
    "html_url": "https://github.com/vyperlang/vyper/issues/303#issuecomment-319274593",
    "issue_url": "https://api.github.com/repos/vyperlang/vyper/issues/303",
    "id": 319274593,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxOTI3NDU5Mw==",
    "user": {
      "login": "vbuterin",
      "id": 2230894,
      "node_id": "MDQ6VXNlcjIyMzA4OTQ=",
      "avatar_url": "https://avatars.githubusercontent.com/u/2230894?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/vbuterin",
      "html_url": "https://github.com/vbuterin",
      "followers_url": "https://api.github.com/users/vbuterin/followers",
      "following_url": "https://api.github.com/users/vbuterin/following{/other_user}",
      "gists_url": "https://api.github.com/users/vbuterin/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/vbuterin/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/vbuterin/subscriptions",
      "organizations_url": "https://api.github.com/users/vbuterin/orgs",
      "repos_url": "https://api.github.com/users/vbuterin/repos",
      "events_url": "https://api.github.com/users/vbuterin/events{/privacy}",
      "received_events_url": "https://api.github.com/users/vbuterin/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-08-01T05:48:56Z",
    "updated_at": "2017-08-01T05:48:56Z",
    "author_association": "CONTRIBUTOR",
    "body": "The reason why infinite sized types in general are not allowed as function arguments is indeed gas estimation. The reason why maps specifically are not allowed is that there is no standard for how an entire map can be passed around as a data structure in the ABI, and the code complexity of implementing such a format, as well as the mechanisms for converting between this format and storage maps, is hard.",
    "reactions": {
      "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/319274593/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/319710196",
    "html_url": "https://github.com/vyperlang/vyper/issues/303#issuecomment-319710196",
    "issue_url": "https://api.github.com/repos/vyperlang/vyper/issues/303",
    "id": 319710196,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxOTcxMDE5Ng==",
    "user": {
      "login": "fubuloubu",
      "id": 3859395,
      "node_id": "MDQ6VXNlcjM4NTkzOTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3859395?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fubuloubu",
      "html_url": "https://github.com/fubuloubu",
      "followers_url": "https://api.github.com/users/fubuloubu/followers",
      "following_url": "https://api.github.com/users/fubuloubu/following{/other_user}",
      "gists_url": "https://api.github.com/users/fubuloubu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fubuloubu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fubuloubu/subscriptions",
      "organizations_url": "https://api.github.com/users/fubuloubu/orgs",
      "repos_url": "https://api.github.com/users/fubuloubu/repos",
      "events_url": "https://api.github.com/users/fubuloubu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fubuloubu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-08-02T15:36:59Z",
    "updated_at": "2017-08-02T15:36:59Z",
    "author_association": "MEMBER",
    "body": "@vbuterin as a suggestion, can we change that error message to \"Maps are not supported for function arguments or outputs\"? A much more descriptive error than \"has infinite size\"",
    "reactions": {
      "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/319710196/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/319740872",
    "html_url": "https://github.com/vyperlang/vyper/issues/303#issuecomment-319740872",
    "issue_url": "https://api.github.com/repos/vyperlang/vyper/issues/303",
    "id": 319740872,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxOTc0MDg3Mg==",
    "user": {
      "login": "yograterol",
      "id": 3322886,
      "node_id": "MDQ6VXNlcjMzMjI4ODY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3322886?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yograterol",
      "html_url": "https://github.com/yograterol",
      "followers_url": "https://api.github.com/users/yograterol/followers",
      "following_url": "https://api.github.com/users/yograterol/following{/other_user}",
      "gists_url": "https://api.github.com/users/yograterol/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yograterol/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yograterol/subscriptions",
      "organizations_url": "https://api.github.com/users/yograterol/orgs",
      "repos_url": "https://api.github.com/users/yograterol/repos",
      "events_url": "https://api.github.com/users/yograterol/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yograterol/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-08-02T17:24:36Z",
    "updated_at": "2017-08-02T17:24:36Z",
    "author_association": "CONTRIBUTOR",
    "body": "@fubuloubu that's great idea.",
    "reactions": {
      "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/319740872/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/319744089",
    "html_url": "https://github.com/vyperlang/vyper/issues/303#issuecomment-319744089",
    "issue_url": "https://api.github.com/repos/vyperlang/vyper/issues/303",
    "id": 319744089,
    "node_id": "MDEyOklzc3VlQ29tbWVudDMxOTc0NDA4OQ==",
    "user": {
      "login": "fubuloubu",
      "id": 3859395,
      "node_id": "MDQ6VXNlcjM4NTkzOTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3859395?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fubuloubu",
      "html_url": "https://github.com/fubuloubu",
      "followers_url": "https://api.github.com/users/fubuloubu/followers",
      "following_url": "https://api.github.com/users/fubuloubu/following{/other_user}",
      "gists_url": "https://api.github.com/users/fubuloubu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fubuloubu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fubuloubu/subscriptions",
      "organizations_url": "https://api.github.com/users/fubuloubu/orgs",
      "repos_url": "https://api.github.com/users/fubuloubu/repos",
      "events_url": "https://api.github.com/users/fubuloubu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fubuloubu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-08-02T17:36:39Z",
    "updated_at": "2017-08-02T17:36:39Z",
    "author_association": "MEMBER",
    "body": "Thanks @yograterol. I'll close this one",
    "reactions": {
      "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/319744089/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
