{
  "url": "https://api.github.com/repos/vyperlang/vyper/issues/2803",
  "repository_url": "https://api.github.com/repos/vyperlang/vyper",
  "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/2803/labels{/name}",
  "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/2803/comments",
  "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/2803/events",
  "html_url": "https://github.com/vyperlang/vyper/issues/2803",
  "id": 1206085125,
  "node_id": "I_kwDOBGDvrM5H42YF",
  "number": 2803,
  "title": "Empty contract should probably throw exceptions on calls",
  "user": {
    "login": "hedgar2017",
    "id": 31586236,
    "node_id": "MDQ6VXNlcjMxNTg2MjM2",
    "avatar_url": "https://avatars.githubusercontent.com/u/31586236?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/hedgar2017",
    "html_url": "https://github.com/hedgar2017",
    "followers_url": "https://api.github.com/users/hedgar2017/followers",
    "following_url": "https://api.github.com/users/hedgar2017/following{/other_user}",
    "gists_url": "https://api.github.com/users/hedgar2017/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/hedgar2017/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/hedgar2017/subscriptions",
    "organizations_url": "https://api.github.com/users/hedgar2017/orgs",
    "repos_url": "https://api.github.com/users/hedgar2017/repos",
    "events_url": "https://api.github.com/users/hedgar2017/events{/privacy}",
    "received_events_url": "https://api.github.com/users/hedgar2017/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 4038640292,
      "node_id": "LA_kwDOBGDvrM7wuMKk",
      "url": "https://api.github.com/repos/vyperlang/vyper/labels/bug%20-%20codegen",
      "name": "bug - codegen",
      "color": "B60205",
      "default": false,
      "description": ""
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2022-04-16T10:59:21Z",
  "updated_at": "2022-05-06T07:21:30Z",
  "closed_at": null,
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "### Version Information\r\n\r\n* vyper Version (output of `vyper --version`): 0.3.2\r\n\r\n### What's your issue about?\r\n\r\nThe empty contract has the following IR:\r\n\r\n```\r\n[seq, [deploy, 0, seq, 0]]\r\n```\r\n\r\nIn Solidity it does, but any behavior is accepted here.\r\nSuch contracts may be treated as just one single fallback.\r\nPlease close the issue if so.",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/2803/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/2803/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/1100638689",
    "html_url": "https://github.com/vyperlang/vyper/issues/2803#issuecomment-1100638689",
    "issue_url": "https://api.github.com/repos/vyperlang/vyper/issues/2803",
    "id": 1100638689,
    "node_id": "IC_kwDOBGDvrM5Bmmnh",
    "user": {
      "login": "hedgar2017",
      "id": 31586236,
      "node_id": "MDQ6VXNlcjMxNTg2MjM2",
      "avatar_url": "https://avatars.githubusercontent.com/u/31586236?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/hedgar2017",
      "html_url": "https://github.com/hedgar2017",
      "followers_url": "https://api.github.com/users/hedgar2017/followers",
      "following_url": "https://api.github.com/users/hedgar2017/following{/other_user}",
      "gists_url": "https://api.github.com/users/hedgar2017/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/hedgar2017/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/hedgar2017/subscriptions",
      "organizations_url": "https://api.github.com/users/hedgar2017/orgs",
      "repos_url": "https://api.github.com/users/hedgar2017/repos",
      "events_url": "https://api.github.com/users/hedgar2017/events{/privacy}",
      "received_events_url": "https://api.github.com/users/hedgar2017/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-04-16T11:01:32Z",
    "updated_at": "2022-04-16T11:01:32Z",
    "author_association": "NONE",
    "body": "That's right. In Yul an empty contract is just a revert:\r\n```\r\nobject \"test_1_deployed\" {\r\n        code {\r\n            {\r\n                /// @src 0:0:17  \"contract test {...\"\r\n                revert(0, 0)\r\n            }\r\n        }\r\n        data \".metadata\" hex\"a2646970667358221220c0ee3938739ac06f7623a04d58687a1d98be4d62f4fec897d0b8189d4d2b9a7564736f6c634300080d0033\"\r\n    }\r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/1100638689/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/1119330054",
    "html_url": "https://github.com/vyperlang/vyper/issues/2803#issuecomment-1119330054",
    "issue_url": "https://api.github.com/repos/vyperlang/vyper/issues/2803",
    "id": 1119330054,
    "node_id": "IC_kwDOBGDvrM5Ct58G",
    "user": {
      "login": "charles-cooper",
      "id": 3867501,
      "node_id": "MDQ6VXNlcjM4Njc1MDE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3867501?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/charles-cooper",
      "html_url": "https://github.com/charles-cooper",
      "followers_url": "https://api.github.com/users/charles-cooper/followers",
      "following_url": "https://api.github.com/users/charles-cooper/following{/other_user}",
      "gists_url": "https://api.github.com/users/charles-cooper/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/charles-cooper/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/charles-cooper/subscriptions",
      "organizations_url": "https://api.github.com/users/charles-cooper/orgs",
      "repos_url": "https://api.github.com/users/charles-cooper/repos",
      "events_url": "https://api.github.com/users/charles-cooper/events{/privacy}",
      "received_events_url": "https://api.github.com/users/charles-cooper/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-05-06T07:21:29Z",
    "updated_at": "2022-05-06T07:21:29Z",
    "author_association": "COLLABORATOR",
    "body": "I'm not convinced this is a bug. immutables provide a way to create \"data-only\" contracts. for instance,\r\n```vyper\r\nFOO: immutable(uint256)\r\n@external\r\ndef __init__():\r\n    FOO = 1\r\n```\r\nwill deploy a contract with just the bytecode `0x0000000000000000000000000000000000000000000000000000000000000001`. (Whereas if we inserted a fallback, it would have bunch of code in it besides the immutables). I'm not sure, but I feel like this may be useful in the future.",
    "reactions": {
      "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/1119330054/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
