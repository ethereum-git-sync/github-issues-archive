{
  "url": "https://api.github.com/repos/vyperlang/vyper/issues/546",
  "repository_url": "https://api.github.com/repos/vyperlang/vyper",
  "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/546/labels{/name}",
  "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/546/comments",
  "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/546/events",
  "html_url": "https://github.com/vyperlang/vyper/issues/546",
  "id": 279534078,
  "node_id": "MDU6SXNzdWUyNzk1MzQwNzg=",
  "number": 546,
  "title": "Log topic and data allow byte array longer than 32 bytes.",
  "user": {
    "login": "yzhang90",
    "id": 5641590,
    "node_id": "MDQ6VXNlcjU2NDE1OTA=",
    "avatar_url": "https://avatars.githubusercontent.com/u/5641590?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/yzhang90",
    "html_url": "https://github.com/yzhang90",
    "followers_url": "https://api.github.com/users/yzhang90/followers",
    "following_url": "https://api.github.com/users/yzhang90/following{/other_user}",
    "gists_url": "https://api.github.com/users/yzhang90/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/yzhang90/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/yzhang90/subscriptions",
    "organizations_url": "https://api.github.com/users/yzhang90/orgs",
    "repos_url": "https://api.github.com/users/yzhang90/repos",
    "events_url": "https://api.github.com/users/yzhang90/events{/privacy}",
    "received_events_url": "https://api.github.com/users/yzhang90/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2017-12-05T21:18:24Z",
  "updated_at": "2017-12-15T01:01:05Z",
  "closed_at": "2017-12-15T01:01:05Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "### What's your issue about?\r\nWhen packing data/topic for log, if the the actual argument is a byte array variable, there is no check for the actual length of the variable.\r\ne.g.,\r\n```\r\nMyLog: __log__({arg1: indexed(bytes<=2000)})\r\n\r\n@public\r\ndef foo():\r\n    a: bytes<=100\r\n    log.MyLog(a)\r\n```\r\nThis program should be rejected by is not.\r\n\r\n### How can it be fixed?\r\n\r\nAdd check in event_sig, pack_arg_by_32 and pack_logging_topic.\r\n\r\n#### Cute Animal Picture\r\n![image](https://user-images.githubusercontent.com/5641590/33631206-753fab08-d9cf-11e7-89b4-f2d71f844453.png)\r\n\r\n",
  "closed_by": {
    "login": "DavidKnott",
    "id": 17552858,
    "node_id": "MDQ6VXNlcjE3NTUyODU4",
    "avatar_url": "https://avatars.githubusercontent.com/u/17552858?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/DavidKnott",
    "html_url": "https://github.com/DavidKnott",
    "followers_url": "https://api.github.com/users/DavidKnott/followers",
    "following_url": "https://api.github.com/users/DavidKnott/following{/other_user}",
    "gists_url": "https://api.github.com/users/DavidKnott/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/DavidKnott/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/DavidKnott/subscriptions",
    "organizations_url": "https://api.github.com/users/DavidKnott/orgs",
    "repos_url": "https://api.github.com/users/DavidKnott/repos",
    "events_url": "https://api.github.com/users/DavidKnott/events{/privacy}",
    "received_events_url": "https://api.github.com/users/DavidKnott/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/546/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/546/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/349467796",
    "html_url": "https://github.com/vyperlang/vyper/issues/546#issuecomment-349467796",
    "issue_url": "https://api.github.com/repos/vyperlang/vyper/issues/546",
    "id": 349467796,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0OTQ2Nzc5Ng==",
    "user": {
      "login": "fubuloubu",
      "id": 3859395,
      "node_id": "MDQ6VXNlcjM4NTkzOTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3859395?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fubuloubu",
      "html_url": "https://github.com/fubuloubu",
      "followers_url": "https://api.github.com/users/fubuloubu/followers",
      "following_url": "https://api.github.com/users/fubuloubu/following{/other_user}",
      "gists_url": "https://api.github.com/users/fubuloubu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fubuloubu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fubuloubu/subscriptions",
      "organizations_url": "https://api.github.com/users/fubuloubu/orgs",
      "repos_url": "https://api.github.com/users/fubuloubu/repos",
      "events_url": "https://api.github.com/users/fubuloubu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fubuloubu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-05T22:49:25Z",
    "updated_at": "2017-12-05T22:49:25Z",
    "author_association": "MEMBER",
    "body": "Strictly speaking, `bytes<=100` maintains the invariant of the space provided by the log, e.g `bytes<=2000`\r\n\r\nI could see a scenario where you might want to bundle things together inside a larger allocation of bytes (you might not know the shape of the bundle beforehand). Not sure if this affects verification, in my mind all that you're verifying is the size in bytes is not exceeded. My 2 wei",
    "reactions": {
      "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/349467796/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/349476100",
    "html_url": "https://github.com/vyperlang/vyper/issues/546#issuecomment-349476100",
    "issue_url": "https://api.github.com/repos/vyperlang/vyper/issues/546",
    "id": 349476100,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0OTQ3NjEwMA==",
    "user": {
      "login": "yzhang90",
      "id": 5641590,
      "node_id": "MDQ6VXNlcjU2NDE1OTA=",
      "avatar_url": "https://avatars.githubusercontent.com/u/5641590?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/yzhang90",
      "html_url": "https://github.com/yzhang90",
      "followers_url": "https://api.github.com/users/yzhang90/followers",
      "following_url": "https://api.github.com/users/yzhang90/following{/other_user}",
      "gists_url": "https://api.github.com/users/yzhang90/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/yzhang90/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/yzhang90/subscriptions",
      "organizations_url": "https://api.github.com/users/yzhang90/orgs",
      "repos_url": "https://api.github.com/users/yzhang90/repos",
      "events_url": "https://api.github.com/users/yzhang90/events{/privacy}",
      "received_events_url": "https://api.github.com/users/yzhang90/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-12-05T23:27:41Z",
    "updated_at": "2017-12-05T23:27:41Z",
    "author_association": "NONE",
    "body": "@fubuloubu I was told by @DavidKnott that 32 byte topics is an evm constraint while 32 byte data is a Viper constraint. The length of a topic should not exceed 32 bytes (This is enforced on string literals, seehttps://github.com/ethereum/viper/blob/b0cec59d24051e3bb3577475211c277e78c68a23/viper/parser/parser.py#L665)",
    "reactions": {
      "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/349476100/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
