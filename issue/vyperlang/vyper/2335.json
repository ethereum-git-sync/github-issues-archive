{
  "url": "https://api.github.com/repos/vyperlang/vyper/issues/2335",
  "repository_url": "https://api.github.com/repos/vyperlang/vyper",
  "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/2335/labels{/name}",
  "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/2335/comments",
  "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/2335/events",
  "html_url": "https://github.com/vyperlang/vyper/issues/2335",
  "id": 837803690,
  "node_id": "MDU6SXNzdWU4Mzc4MDM2OTA=",
  "number": 2335,
  "title": "Disable overflow/underflow protection by explicit declaration",
  "user": {
    "login": "vsmelov",
    "id": 9407507,
    "node_id": "MDQ6VXNlcjk0MDc1MDc=",
    "avatar_url": "https://avatars.githubusercontent.com/u/9407507?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/vsmelov",
    "html_url": "https://github.com/vsmelov",
    "followers_url": "https://api.github.com/users/vsmelov/followers",
    "following_url": "https://api.github.com/users/vsmelov/following{/other_user}",
    "gists_url": "https://api.github.com/users/vsmelov/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/vsmelov/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/vsmelov/subscriptions",
    "organizations_url": "https://api.github.com/users/vsmelov/orgs",
    "repos_url": "https://api.github.com/users/vsmelov/repos",
    "events_url": "https://api.github.com/users/vsmelov/events{/privacy}",
    "received_events_url": "https://api.github.com/users/vsmelov/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2021-03-22T14:59:34Z",
  "updated_at": "2022-03-22T17:36:32Z",
  "closed_at": "2022-03-22T17:36:32Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "## Simple Summary\r\nAs far as I understood the overflow/underflow protection is embedded in Vyper and always works.\r\nI want to have a mechanism to explicit disable the protection for proved safe operations.\r\n\r\n## Motivation\r\ne.g.\r\n```\r\nwhile i < 10:\r\n    i += 1\r\n    # do something\r\n```\r\n\r\n```\r\nif x > y:\r\n    x = x - y\r\n```\r\n\r\nin these cases \"safemath\" protection will consume extra gas.\r\n\r\n## Specification\r\nI would make it with something like\r\n```\r\nwith math_engine.disable_safemath:\r\n    i += 1\r\n```\r\n\r\n## Copyright\r\nCopyright and related rights waived via [CC0](https://creativecommons.org/publicdomain/zero/1.0/)\r\n",
  "closed_by": {
    "login": "charles-cooper",
    "id": 3867501,
    "node_id": "MDQ6VXNlcjM4Njc1MDE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/3867501?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/charles-cooper",
    "html_url": "https://github.com/charles-cooper",
    "followers_url": "https://api.github.com/users/charles-cooper/followers",
    "following_url": "https://api.github.com/users/charles-cooper/following{/other_user}",
    "gists_url": "https://api.github.com/users/charles-cooper/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/charles-cooper/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/charles-cooper/subscriptions",
    "organizations_url": "https://api.github.com/users/charles-cooper/orgs",
    "repos_url": "https://api.github.com/users/charles-cooper/repos",
    "events_url": "https://api.github.com/users/charles-cooper/events{/privacy}",
    "received_events_url": "https://api.github.com/users/charles-cooper/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/2335/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/2335/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/804158208",
    "html_url": "https://github.com/vyperlang/vyper/issues/2335#issuecomment-804158208",
    "issue_url": "https://api.github.com/repos/vyperlang/vyper/issues/2335",
    "id": 804158208,
    "node_id": "MDEyOklzc3VlQ29tbWVudDgwNDE1ODIwOA==",
    "user": {
      "login": "fubuloubu",
      "id": 3859395,
      "node_id": "MDQ6VXNlcjM4NTkzOTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3859395?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fubuloubu",
      "html_url": "https://github.com/fubuloubu",
      "followers_url": "https://api.github.com/users/fubuloubu/followers",
      "following_url": "https://api.github.com/users/fubuloubu/following{/other_user}",
      "gists_url": "https://api.github.com/users/fubuloubu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fubuloubu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fubuloubu/subscriptions",
      "organizations_url": "https://api.github.com/users/fubuloubu/orgs",
      "repos_url": "https://api.github.com/users/fubuloubu/repos",
      "events_url": "https://api.github.com/users/fubuloubu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fubuloubu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-03-22T15:35:49Z",
    "updated_at": "2021-03-22T15:35:49Z",
    "author_association": "MEMBER",
    "body": "This would live better inside an optimization:\r\n1. Where does the variable start? Is it limited or unlimited? (e.g. is `i = 0` to start)\r\n2. Does the operation preclude overflows because of some prior assumption? (your `while i < 10` and `if x > y` conditions provide this)\r\n3. Is it impossible, due to prior assumptions, that an overflow could happen?\r\n\r\nWe'd like to avoid more complex reconfiguration of internal safety logic, even if it might be intended behavior, and instead rely on the ability of an optimization pass (in this case, using the AST as a guide to remove unnecessary SafeMath operations) to carefully make any updates required.",
    "reactions": {
      "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/804158208/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/1075429885",
    "html_url": "https://github.com/vyperlang/vyper/issues/2335#issuecomment-1075429885",
    "issue_url": "https://api.github.com/repos/vyperlang/vyper/issues/2335",
    "id": 1075429885,
    "node_id": "IC_kwDOBGDvrM5AGcH9",
    "user": {
      "login": "charles-cooper",
      "id": 3867501,
      "node_id": "MDQ6VXNlcjM4Njc1MDE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3867501?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/charles-cooper",
      "html_url": "https://github.com/charles-cooper",
      "followers_url": "https://api.github.com/users/charles-cooper/followers",
      "following_url": "https://api.github.com/users/charles-cooper/following{/other_user}",
      "gists_url": "https://api.github.com/users/charles-cooper/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/charles-cooper/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/charles-cooper/subscriptions",
      "organizations_url": "https://api.github.com/users/charles-cooper/orgs",
      "repos_url": "https://api.github.com/users/charles-cooper/repos",
      "events_url": "https://api.github.com/users/charles-cooper/events{/privacy}",
      "received_events_url": "https://api.github.com/users/charles-cooper/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-03-22T17:36:32Z",
    "updated_at": "2022-03-22T17:36:32Z",
    "author_association": "COLLABORATOR",
    "body": "should be resolved with the addition of explicit unsafe arithmetic functions in https://github.com/vyperlang/vyper/pull/2629 ",
    "reactions": {
      "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/1075429885/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
