{
  "url": "https://api.github.com/repos/vyperlang/vyper/issues/456",
  "repository_url": "https://api.github.com/repos/vyperlang/vyper",
  "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/456/labels{/name}",
  "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/456/comments",
  "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/456/events",
  "html_url": "https://github.com/vyperlang/vyper/issues/456",
  "id": 272811350,
  "node_id": "MDU6SXNzdWUyNzI4MTEzNTA=",
  "number": 456,
  "title": "Suggestion: add Solidity-like directive with compiler/language version",
  "user": {
    "login": "federicobond",
    "id": 138426,
    "node_id": "MDQ6VXNlcjEzODQyNg==",
    "avatar_url": "https://avatars.githubusercontent.com/u/138426?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/federicobond",
    "html_url": "https://github.com/federicobond",
    "followers_url": "https://api.github.com/users/federicobond/followers",
    "following_url": "https://api.github.com/users/federicobond/following{/other_user}",
    "gists_url": "https://api.github.com/users/federicobond/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/federicobond/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/federicobond/subscriptions",
    "organizations_url": "https://api.github.com/users/federicobond/orgs",
    "repos_url": "https://api.github.com/users/federicobond/repos",
    "events_url": "https://api.github.com/users/federicobond/events{/privacy}",
    "received_events_url": "https://api.github.com/users/federicobond/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 705423715,
      "node_id": "MDU6TGFiZWw3MDU0MjM3MTU=",
      "url": "https://api.github.com/repos/vyperlang/vyper/labels/Feature",
      "name": "Feature",
      "color": "0052cc",
      "default": false,
      "description": null
    },
    {
      "id": 751622094,
      "node_id": "MDU6TGFiZWw3NTE2MjIwOTQ=",
      "url": "https://api.github.com/repos/vyperlang/vyper/labels/VIP:%20Discussion",
      "name": "VIP: Discussion",
      "color": "000000",
      "default": false,
      "description": "Used to denote VIPs and more complex issues that are waiting discussion in a meeting"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 8,
  "created_at": "2017-11-10T03:47:05Z",
  "updated_at": "2019-02-06T15:56:52Z",
  "closed_at": "2018-06-14T09:22:33Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "A directive with the Viper version of a source file can help migrate code to newer versions and introduce or change functionality more smoothly.\r\n\r\nA possible, backward-compatible solution is to introduce directives inside comments:\r\n\r\n```python\r\n# pragma viper: ^0.0.2\r\n```\r\n\r\n#### Cute Animal Picture\r\n\r\n![6f09da0ba08cc20f2d5f80245e5db75a](https://user-images.githubusercontent.com/138426/32642058-8498f18c-c5b0-11e7-8705-279c9401b755.jpg)\r\n",
  "closed_by": {
    "login": "jacqueswww",
    "id": 6917456,
    "node_id": "MDQ6VXNlcjY5MTc0NTY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6917456?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jacqueswww",
    "html_url": "https://github.com/jacqueswww",
    "followers_url": "https://api.github.com/users/jacqueswww/followers",
    "following_url": "https://api.github.com/users/jacqueswww/following{/other_user}",
    "gists_url": "https://api.github.com/users/jacqueswww/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jacqueswww/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jacqueswww/subscriptions",
    "organizations_url": "https://api.github.com/users/jacqueswww/orgs",
    "repos_url": "https://api.github.com/users/jacqueswww/repos",
    "events_url": "https://api.github.com/users/jacqueswww/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jacqueswww/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/456/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/456/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/343368971",
    "html_url": "https://github.com/vyperlang/vyper/issues/456#issuecomment-343368971",
    "issue_url": "https://api.github.com/repos/vyperlang/vyper/issues/456",
    "id": 343368971,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0MzM2ODk3MQ==",
    "user": {
      "login": "fubuloubu",
      "id": 3859395,
      "node_id": "MDQ6VXNlcjM4NTkzOTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3859395?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fubuloubu",
      "html_url": "https://github.com/fubuloubu",
      "followers_url": "https://api.github.com/users/fubuloubu/followers",
      "following_url": "https://api.github.com/users/fubuloubu/following{/other_user}",
      "gists_url": "https://api.github.com/users/fubuloubu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fubuloubu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fubuloubu/subscriptions",
      "organizations_url": "https://api.github.com/users/fubuloubu/orgs",
      "repos_url": "https://api.github.com/users/fubuloubu/repos",
      "events_url": "https://api.github.com/users/fubuloubu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fubuloubu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-10T04:02:39Z",
    "updated_at": "2017-11-10T04:02:39Z",
    "author_association": "MEMBER",
    "body": "Agree with poster, we need a way to determine compiler versions of deployed contracts.\r\n\r\nMight I suggest an alternative though, that the viper compiler automagically adds a 'viper_version() -> bytesN` method returning the version of Viper the deployed contract was created with, so that 1. Developers don't have to maintain magic pragma numbers and 2. Provide a reliable way to query for this info from Deployed contracts (versus relying on published source code).\r\n\r\nIn addition this, I've had day dreams of how Viper might also add a standard method that returns the ABI (instead of having to copy that down) and maybe even someday provide a robust method that Viper can sign deployed contracts as created by a specific version, something like a cryptographic checksum of the compiler signing a checksum of the Bytecode or something along those lines.\r\n\r\nIt always seemed crazy to me some of the oddities that Solidity makes you deal with.",
    "reactions": {
      "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/343368971/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/343372283",
    "html_url": "https://github.com/vyperlang/vyper/issues/456#issuecomment-343372283",
    "issue_url": "https://api.github.com/repos/vyperlang/vyper/issues/456",
    "id": 343372283,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0MzM3MjI4Mw==",
    "user": {
      "login": "federicobond",
      "id": 138426,
      "node_id": "MDQ6VXNlcjEzODQyNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/138426?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/federicobond",
      "html_url": "https://github.com/federicobond",
      "followers_url": "https://api.github.com/users/federicobond/followers",
      "following_url": "https://api.github.com/users/federicobond/following{/other_user}",
      "gists_url": "https://api.github.com/users/federicobond/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/federicobond/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/federicobond/subscriptions",
      "organizations_url": "https://api.github.com/users/federicobond/orgs",
      "repos_url": "https://api.github.com/users/federicobond/repos",
      "events_url": "https://api.github.com/users/federicobond/events{/privacy}",
      "received_events_url": "https://api.github.com/users/federicobond/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-10T04:31:57Z",
    "updated_at": "2017-11-10T04:31:57Z",
    "author_association": "NONE",
    "body": "I think we are targetting two different use cases. Versioning the source code serves a different purpose than having a magic number in the deployed bytecode.\r\n\r\nBy requiring/encouraging users to declare a language version in their sources, language implementers have more freedom to change the syntax or semantics of the language while providing users with a clear migration path. For example, users can also opt-in to experimental features that are not available in the stable versions, or can stick to some old behavior if they don't have time to update their contracts to the latest features. When the compiler finds code that has an old version declared, it can emit warnings that help users migrate their code. Tooling can also take advantage of this information to select an appropriate parser or provide better suggestions.",
    "reactions": {
      "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/343372283/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/343374312",
    "html_url": "https://github.com/vyperlang/vyper/issues/456#issuecomment-343374312",
    "issue_url": "https://api.github.com/repos/vyperlang/vyper/issues/456",
    "id": 343374312,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0MzM3NDMxMg==",
    "user": {
      "login": "fubuloubu",
      "id": 3859395,
      "node_id": "MDQ6VXNlcjM4NTkzOTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3859395?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fubuloubu",
      "html_url": "https://github.com/fubuloubu",
      "followers_url": "https://api.github.com/users/fubuloubu/followers",
      "following_url": "https://api.github.com/users/fubuloubu/following{/other_user}",
      "gists_url": "https://api.github.com/users/fubuloubu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fubuloubu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fubuloubu/subscriptions",
      "organizations_url": "https://api.github.com/users/fubuloubu/orgs",
      "repos_url": "https://api.github.com/users/fubuloubu/repos",
      "events_url": "https://api.github.com/users/fubuloubu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fubuloubu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-10T04:51:01Z",
    "updated_at": "2017-11-10T04:51:01Z",
    "author_association": "MEMBER",
    "body": "Well, what I mean is that when you decide to target a specific version of solidity via the pragma, you still have to download and maintain that older version of solc in order to compile it. The only difference in having an explicit line in the source code describing your version is that solc barfs if you try to compile with a different version.\r\n\r\nMy suggestion is slightly different. I am of the opinion that I don't care what version of solidity you said you used to compile a program, I want to know what version you ACTUALLY used to compile a deployed program as that is more important to an auditor to replicate it. You could argue that the pragma directive acheives this, but I'd rather have the compiler sign it somehow.\r\n\r\nI think there's a place for both suggestions, having the compiler alert you if you're not using the right version you asked for is definitely a useful feature. I respectful disagree with the sentiment that this enables any more freedom on the Viper developer's part; basically you will use whatever version of Viper you feel comfortable with. But yes, having a clear upgrade/migration path (major/minor/patch versions) will be necessary beginning with our beta.",
    "reactions": {
      "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/343374312/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/343426882",
    "html_url": "https://github.com/vyperlang/vyper/issues/456#issuecomment-343426882",
    "issue_url": "https://api.github.com/repos/vyperlang/vyper/issues/456",
    "id": 343426882,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0MzQyNjg4Mg==",
    "user": {
      "login": "jacqueswww",
      "id": 6917456,
      "node_id": "MDQ6VXNlcjY5MTc0NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6917456?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jacqueswww",
      "html_url": "https://github.com/jacqueswww",
      "followers_url": "https://api.github.com/users/jacqueswww/followers",
      "following_url": "https://api.github.com/users/jacqueswww/following{/other_user}",
      "gists_url": "https://api.github.com/users/jacqueswww/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jacqueswww/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jacqueswww/subscriptions",
      "organizations_url": "https://api.github.com/users/jacqueswww/orgs",
      "repos_url": "https://api.github.com/users/jacqueswww/repos",
      "events_url": "https://api.github.com/users/jacqueswww/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jacqueswww/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-10T09:47:10Z",
    "updated_at": "2017-11-10T09:47:10Z",
    "author_association": "CONTRIBUTOR",
    "body": "+1 that we will need to do this the moment we go into beta (actually publishing releases).",
    "reactions": {
      "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/343426882/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/343451085",
    "html_url": "https://github.com/vyperlang/vyper/issues/456#issuecomment-343451085",
    "issue_url": "https://api.github.com/repos/vyperlang/vyper/issues/456",
    "id": 343451085,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0MzQ1MTA4NQ==",
    "user": {
      "login": "federicobond",
      "id": 138426,
      "node_id": "MDQ6VXNlcjEzODQyNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/138426?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/federicobond",
      "html_url": "https://github.com/federicobond",
      "followers_url": "https://api.github.com/users/federicobond/followers",
      "following_url": "https://api.github.com/users/federicobond/following{/other_user}",
      "gists_url": "https://api.github.com/users/federicobond/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/federicobond/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/federicobond/subscriptions",
      "organizations_url": "https://api.github.com/users/federicobond/orgs",
      "repos_url": "https://api.github.com/users/federicobond/repos",
      "events_url": "https://api.github.com/users/federicobond/events{/privacy}",
      "received_events_url": "https://api.github.com/users/federicobond/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-10T11:36:24Z",
    "updated_at": "2017-11-10T11:36:24Z",
    "author_association": "NONE",
    "body": "> I want to know what version you ACTUALLY used to compile a deployed program as that is more important to an auditor to replicate it.\r\n\r\nA worthy goal, but that's not what the pragma is for. The pragma should not declare a specific version, but a compatibility target. This lets you warn users compiling old contracts of potential pitfalls when updating their code to the latest version of Viper and even retaining old behavior for a while to ease migration.",
    "reactions": {
      "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/343451085/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/343471831",
    "html_url": "https://github.com/vyperlang/vyper/issues/456#issuecomment-343471831",
    "issue_url": "https://api.github.com/repos/vyperlang/vyper/issues/456",
    "id": 343471831,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0MzQ3MTgzMQ==",
    "user": {
      "login": "fubuloubu",
      "id": 3859395,
      "node_id": "MDQ6VXNlcjM4NTkzOTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3859395?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fubuloubu",
      "html_url": "https://github.com/fubuloubu",
      "followers_url": "https://api.github.com/users/fubuloubu/followers",
      "following_url": "https://api.github.com/users/fubuloubu/following{/other_user}",
      "gists_url": "https://api.github.com/users/fubuloubu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fubuloubu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fubuloubu/subscriptions",
      "organizations_url": "https://api.github.com/users/fubuloubu/orgs",
      "repos_url": "https://api.github.com/users/fubuloubu/repos",
      "events_url": "https://api.github.com/users/fubuloubu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fubuloubu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-10T13:22:12Z",
    "updated_at": "2017-11-10T13:22:12Z",
    "author_association": "MEMBER",
    "body": "Okay, I see what you're saying. As a sort of aside, I'm from the school of thought that you should copy, never reuse, code. The intention is that you copy code as a starting point for replicating a certain behavior, but never trust that you're getting that behavior until it's tested to your own satisfaction. If you have a test suite or FV model that worked for that original code module, it should still work with a newer compiler version (assuming that version retained all the same features you cared about). This ethos sort of informs my understanding around what I want to see Viper end up as, and I think with it's emphasis on copy patterns vs reuse patterns (e.g. disallowing inheritance, modifiers, etc.), my understanding is compatible with Viper's vision.\r\n\r\nI definitely want more conversation about this though. I think the biggest part of designing a new programming language isn't what features to design but what the spirit of the endevour actually is, and that takes all of us together.",
    "reactions": {
      "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/343471831/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/343477842",
    "html_url": "https://github.com/vyperlang/vyper/issues/456#issuecomment-343477842",
    "issue_url": "https://api.github.com/repos/vyperlang/vyper/issues/456",
    "id": 343477842,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM0MzQ3Nzg0Mg==",
    "user": {
      "login": "federicobond",
      "id": 138426,
      "node_id": "MDQ6VXNlcjEzODQyNg==",
      "avatar_url": "https://avatars.githubusercontent.com/u/138426?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/federicobond",
      "html_url": "https://github.com/federicobond",
      "followers_url": "https://api.github.com/users/federicobond/followers",
      "following_url": "https://api.github.com/users/federicobond/following{/other_user}",
      "gists_url": "https://api.github.com/users/federicobond/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/federicobond/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/federicobond/subscriptions",
      "organizations_url": "https://api.github.com/users/federicobond/orgs",
      "repos_url": "https://api.github.com/users/federicobond/repos",
      "events_url": "https://api.github.com/users/federicobond/events{/privacy}",
      "received_events_url": "https://api.github.com/users/federicobond/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2017-11-10T13:48:50Z",
    "updated_at": "2017-11-10T13:48:50Z",
    "author_association": "NONE",
    "body": "Fair enough. I would love to see how those principles play out in real-world examples and hopefully enrich the whole smart contract ecosystem.\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/343477842/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/397230304",
    "html_url": "https://github.com/vyperlang/vyper/issues/456#issuecomment-397230304",
    "issue_url": "https://api.github.com/repos/vyperlang/vyper/issues/456",
    "id": 397230304,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NzIzMDMwNA==",
    "user": {
      "login": "jacqueswww",
      "id": 6917456,
      "node_id": "MDQ6VXNlcjY5MTc0NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6917456?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jacqueswww",
      "html_url": "https://github.com/jacqueswww",
      "followers_url": "https://api.github.com/users/jacqueswww/followers",
      "following_url": "https://api.github.com/users/jacqueswww/following{/other_user}",
      "gists_url": "https://api.github.com/users/jacqueswww/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jacqueswww/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jacqueswww/subscriptions",
      "organizations_url": "https://api.github.com/users/jacqueswww/orgs",
      "repos_url": "https://api.github.com/users/jacqueswww/repos",
      "events_url": "https://api.github.com/users/jacqueswww/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jacqueswww/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-14T09:22:33Z",
    "updated_at": "2018-06-14T09:22:33Z",
    "author_association": "CONTRIBUTOR",
    "body": "Pragma tag was added for the beta.",
    "reactions": {
      "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/397230304/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
