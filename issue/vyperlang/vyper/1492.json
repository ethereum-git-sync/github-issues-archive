{
  "url": "https://api.github.com/repos/vyperlang/vyper/issues/1492",
  "repository_url": "https://api.github.com/repos/vyperlang/vyper",
  "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1492/labels{/name}",
  "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1492/comments",
  "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1492/events",
  "html_url": "https://github.com/vyperlang/vyper/issues/1492",
  "id": 458940907,
  "node_id": "MDU6SXNzdWU0NTg5NDA5MDc=",
  "number": 1492,
  "title": "VIP: Structured errors format",
  "user": {
    "login": "alcuadrado",
    "id": 176499,
    "node_id": "MDQ6VXNlcjE3NjQ5OQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/176499?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/alcuadrado",
    "html_url": "https://github.com/alcuadrado",
    "followers_url": "https://api.github.com/users/alcuadrado/followers",
    "following_url": "https://api.github.com/users/alcuadrado/following{/other_user}",
    "gists_url": "https://api.github.com/users/alcuadrado/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/alcuadrado/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/alcuadrado/subscriptions",
    "organizations_url": "https://api.github.com/users/alcuadrado/orgs",
    "repos_url": "https://api.github.com/users/alcuadrado/repos",
    "events_url": "https://api.github.com/users/alcuadrado/events{/privacy}",
    "received_events_url": "https://api.github.com/users/alcuadrado/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 757250644,
      "node_id": "MDU6TGFiZWw3NTcyNTA2NDQ=",
      "url": "https://api.github.com/repos/vyperlang/vyper/labels/VIP:%20Approved",
      "name": "VIP: Approved",
      "color": "98f765",
      "default": false,
      "description": "VIP Approved"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 6,
  "created_at": "2019-06-20T23:56:20Z",
  "updated_at": "2019-07-08T19:11:35Z",
  "closed_at": "2019-07-08T19:11:35Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "## Simple Summary\r\n\r\nVyper should output errors and warnings in a machine-consumable format.\r\n\r\n## Abstract\r\n\r\nIntegrating Vyper into different toolchains is not ideal. When the compilation fails the only reasonable option is to show the entire compiler's stderr. It's not clear when/how to show warnings.\r\n\r\n## Motivation\r\n\r\nI'm integrating Vyper into [Buidler](https://buidler.dev) and couldn't find a way to print compilation errors in a nice way. I'm just printing the entire content of stderr now, but not happy with the result. Parsing stderr is not an option.\r\n\r\nOn the contrary, `solc` has a json-based interface with a documented format for errors and warnings.\r\n\r\n## Specification\r\n\r\n**TODO:** I'm not familiar with the codebase, so I can't come up with a spec.\r\n\r\n## Backwards Compatibility\r\n\r\nThis could be available behind a flag, so it would be backward compatible.\r\n\r\n## Dependencies\r\n\r\n**TODO:** I'm not familiar with the rest of the VIPs.\r\n\r\n## Copyright\r\nCopyright and related rights waived via [CC0](https://creativecommons.org/publicdomain/zero/1.0/)\r\n",
  "closed_by": {
    "login": "alcuadrado",
    "id": 176499,
    "node_id": "MDQ6VXNlcjE3NjQ5OQ==",
    "avatar_url": "https://avatars.githubusercontent.com/u/176499?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/alcuadrado",
    "html_url": "https://github.com/alcuadrado",
    "followers_url": "https://api.github.com/users/alcuadrado/followers",
    "following_url": "https://api.github.com/users/alcuadrado/following{/other_user}",
    "gists_url": "https://api.github.com/users/alcuadrado/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/alcuadrado/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/alcuadrado/subscriptions",
    "organizations_url": "https://api.github.com/users/alcuadrado/orgs",
    "repos_url": "https://api.github.com/users/alcuadrado/repos",
    "events_url": "https://api.github.com/users/alcuadrado/events{/privacy}",
    "received_events_url": "https://api.github.com/users/alcuadrado/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/1492/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1492/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/504362241",
    "html_url": "https://github.com/vyperlang/vyper/issues/1492#issuecomment-504362241",
    "issue_url": "https://api.github.com/repos/vyperlang/vyper/issues/1492",
    "id": 504362241,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwNDM2MjI0MQ==",
    "user": {
      "login": "fubuloubu",
      "id": 3859395,
      "node_id": "MDQ6VXNlcjM4NTkzOTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3859395?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fubuloubu",
      "html_url": "https://github.com/fubuloubu",
      "followers_url": "https://api.github.com/users/fubuloubu/followers",
      "following_url": "https://api.github.com/users/fubuloubu/following{/other_user}",
      "gists_url": "https://api.github.com/users/fubuloubu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fubuloubu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fubuloubu/subscriptions",
      "organizations_url": "https://api.github.com/users/fubuloubu/orgs",
      "repos_url": "https://api.github.com/users/fubuloubu/repos",
      "events_url": "https://api.github.com/users/fubuloubu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fubuloubu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-06-21T09:37:04Z",
    "updated_at": "2019-06-21T09:37:04Z",
    "author_association": "MEMBER",
    "body": "So, Vyper already makes this available through the Python API for the compiler, perhaps the solution here is to write a script with your own custom handler so you can format it to whatever Buidler requires.\r\n\r\nSee [here](https://github.com/ethereum/vyper/blob/0cf2a29faea603fa38488da421892326414cd24e/bin/vyper#L136) for an example of how that's done.\r\n\r\n---\r\n\r\nAs an alternative, we could perhaps write a `vyper-json` script that gives direct access to the underlying Vyper API through JSON object structured to match the API. But, many integrations with existing tools require integration anyways, and using the Python API directly is way more expressive than making a JSON one available.",
    "reactions": {
      "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/504362241/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/504453905",
    "html_url": "https://github.com/vyperlang/vyper/issues/1492#issuecomment-504453905",
    "issue_url": "https://api.github.com/repos/vyperlang/vyper/issues/1492",
    "id": 504453905,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwNDQ1MzkwNQ==",
    "user": {
      "login": "alcuadrado",
      "id": 176499,
      "node_id": "MDQ6VXNlcjE3NjQ5OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/176499?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alcuadrado",
      "html_url": "https://github.com/alcuadrado",
      "followers_url": "https://api.github.com/users/alcuadrado/followers",
      "following_url": "https://api.github.com/users/alcuadrado/following{/other_user}",
      "gists_url": "https://api.github.com/users/alcuadrado/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alcuadrado/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alcuadrado/subscriptions",
      "organizations_url": "https://api.github.com/users/alcuadrado/orgs",
      "repos_url": "https://api.github.com/users/alcuadrado/repos",
      "events_url": "https://api.github.com/users/alcuadrado/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alcuadrado/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-06-21T14:49:36Z",
    "updated_at": "2019-06-21T14:50:00Z",
    "author_association": "NONE",
    "body": "> So, Vyper already makes this available through the Python API for the compiler, perhaps the solution here is to write a script with your own custom handler so you can format it to whatever Buidler requires.\r\n> \r\n> See [here](https://github.com/ethereum/vyper/blob/0cf2a29faea603fa38488da421892326414cd24e/bin/vyper#L136) for an example of how that's done.\r\n\r\nI agree that this is a much better option if you are working with Python. If you are not, you should implement something similar than what I propose here, or the `vyper-json` script you mentioned.\r\n\r\n> As an alternative, we could perhaps write a `vyper-json` script that gives direct access to the underlying Vyper API through JSON object structured to match the API.\r\n\r\nThis is a great alternative! If you include it in the official Docker images this would solve all my problems. ",
    "reactions": {
      "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/504453905/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/504644966",
    "html_url": "https://github.com/vyperlang/vyper/issues/1492#issuecomment-504644966",
    "issue_url": "https://api.github.com/repos/vyperlang/vyper/issues/1492",
    "id": 504644966,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwNDY0NDk2Ng==",
    "user": {
      "login": "fubuloubu",
      "id": 3859395,
      "node_id": "MDQ6VXNlcjM4NTkzOTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3859395?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fubuloubu",
      "html_url": "https://github.com/fubuloubu",
      "followers_url": "https://api.github.com/users/fubuloubu/followers",
      "following_url": "https://api.github.com/users/fubuloubu/following{/other_user}",
      "gists_url": "https://api.github.com/users/fubuloubu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fubuloubu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fubuloubu/subscriptions",
      "organizations_url": "https://api.github.com/users/fubuloubu/orgs",
      "repos_url": "https://api.github.com/users/fubuloubu/repos",
      "events_url": "https://api.github.com/users/fubuloubu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fubuloubu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-06-22T08:43:15Z",
    "updated_at": "2019-06-22T08:43:15Z",
    "author_association": "MEMBER",
    "body": "@alcuadrado can you create another VIP that walks through adding the `vyper-json` binary with the json input-output format that would work (and be similar to how it's used with Solidity), including exposing compilation errors over that API so the compiler doesn't crash when it's streaming over multiple file inputs.\r\n\r\nThen close this one as I think currently this works okay (for non-json use cases)",
    "reactions": {
      "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/504644966/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/507314806",
    "html_url": "https://github.com/vyperlang/vyper/issues/1492#issuecomment-507314806",
    "issue_url": "https://api.github.com/repos/vyperlang/vyper/issues/1492",
    "id": 507314806,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwNzMxNDgwNg==",
    "user": {
      "login": "jacqueswww",
      "id": 6917456,
      "node_id": "MDQ6VXNlcjY5MTc0NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6917456?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jacqueswww",
      "html_url": "https://github.com/jacqueswww",
      "followers_url": "https://api.github.com/users/jacqueswww/followers",
      "following_url": "https://api.github.com/users/jacqueswww/following{/other_user}",
      "gists_url": "https://api.github.com/users/jacqueswww/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jacqueswww/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jacqueswww/subscriptions",
      "organizations_url": "https://api.github.com/users/jacqueswww/orgs",
      "repos_url": "https://api.github.com/users/jacqueswww/repos",
      "events_url": "https://api.github.com/users/jacqueswww/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jacqueswww/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-07-01T15:32:59Z",
    "updated_at": "2019-07-01T15:32:59Z",
    "author_association": "CONTRIBUTOR",
    "body": "Approved for implementing a `vyper-json` command that will always output json.\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/507314806/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/507322460",
    "html_url": "https://github.com/vyperlang/vyper/issues/1492#issuecomment-507322460",
    "issue_url": "https://api.github.com/repos/vyperlang/vyper/issues/1492",
    "id": 507322460,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwNzMyMjQ2MA==",
    "user": {
      "login": "alcuadrado",
      "id": 176499,
      "node_id": "MDQ6VXNlcjE3NjQ5OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/176499?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alcuadrado",
      "html_url": "https://github.com/alcuadrado",
      "followers_url": "https://api.github.com/users/alcuadrado/followers",
      "following_url": "https://api.github.com/users/alcuadrado/following{/other_user}",
      "gists_url": "https://api.github.com/users/alcuadrado/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alcuadrado/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alcuadrado/subscriptions",
      "organizations_url": "https://api.github.com/users/alcuadrado/orgs",
      "repos_url": "https://api.github.com/users/alcuadrado/repos",
      "events_url": "https://api.github.com/users/alcuadrado/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alcuadrado/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-07-01T15:51:50Z",
    "updated_at": "2019-07-01T15:51:50Z",
    "author_association": "NONE",
    "body": "Thanks for your answers and to consider this idea.\r\n\r\n@fubuloubu I'll make a new VIP later this week, or during the weekend.",
    "reactions": {
      "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/507322460/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/509354221",
    "html_url": "https://github.com/vyperlang/vyper/issues/1492#issuecomment-509354221",
    "issue_url": "https://api.github.com/repos/vyperlang/vyper/issues/1492",
    "id": 509354221,
    "node_id": "MDEyOklzc3VlQ29tbWVudDUwOTM1NDIyMQ==",
    "user": {
      "login": "alcuadrado",
      "id": 176499,
      "node_id": "MDQ6VXNlcjE3NjQ5OQ==",
      "avatar_url": "https://avatars.githubusercontent.com/u/176499?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/alcuadrado",
      "html_url": "https://github.com/alcuadrado",
      "followers_url": "https://api.github.com/users/alcuadrado/followers",
      "following_url": "https://api.github.com/users/alcuadrado/following{/other_user}",
      "gists_url": "https://api.github.com/users/alcuadrado/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/alcuadrado/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/alcuadrado/subscriptions",
      "organizations_url": "https://api.github.com/users/alcuadrado/orgs",
      "repos_url": "https://api.github.com/users/alcuadrado/repos",
      "events_url": "https://api.github.com/users/alcuadrado/events{/privacy}",
      "received_events_url": "https://api.github.com/users/alcuadrado/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-07-08T19:11:35Z",
    "updated_at": "2019-07-08T19:11:35Z",
    "author_association": "NONE",
    "body": "Closing this issue. I created https://github.com/ethereum/vyper/issues/1520",
    "reactions": {
      "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/509354221/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
