{
  "url": "https://api.github.com/repos/vyperlang/vyper/issues/1362",
  "repository_url": "https://api.github.com/repos/vyperlang/vyper",
  "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1362/labels{/name}",
  "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1362/comments",
  "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1362/events",
  "html_url": "https://github.com/vyperlang/vyper/issues/1362",
  "id": 423040942,
  "node_id": "MDU6SXNzdWU0MjMwNDA5NDI=",
  "number": 1362,
  "title": "VIP: CREATE alternative to create_forwarder_to",
  "user": {
    "login": "haydenadams",
    "id": 9343483,
    "node_id": "MDQ6VXNlcjkzNDM0ODM=",
    "avatar_url": "https://avatars.githubusercontent.com/u/9343483?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/haydenadams",
    "html_url": "https://github.com/haydenadams",
    "followers_url": "https://api.github.com/users/haydenadams/followers",
    "following_url": "https://api.github.com/users/haydenadams/following{/other_user}",
    "gists_url": "https://api.github.com/users/haydenadams/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/haydenadams/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/haydenadams/subscriptions",
    "organizations_url": "https://api.github.com/users/haydenadams/orgs",
    "repos_url": "https://api.github.com/users/haydenadams/repos",
    "events_url": "https://api.github.com/users/haydenadams/events{/privacy}",
    "received_events_url": "https://api.github.com/users/haydenadams/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 757250644,
      "node_id": "MDU6TGFiZWw3NTcyNTA2NDQ=",
      "url": "https://api.github.com/repos/vyperlang/vyper/labels/VIP:%20Approved",
      "name": "VIP: Approved",
      "color": "98f765",
      "default": false,
      "description": "VIP Approved"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2019-03-20T02:49:24Z",
  "updated_at": "2022-06-14T19:08:27Z",
  "closed_at": "2022-06-14T19:08:27Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "## General Idea\r\nRight now `create_with_code_of(templateAddress)` creates a proxy delegatecall contract that uses the template as a library. Proxy contracts represent a tradeoff between storage at deployment and gas cost of calls. Right now there is no factory pattern available in Vyper for people who would prefer to reduce cost of calls. Having an alternate version that deploys a new contract with identical bytecode to the template would be useful. \r\n\r\n## Implementation\r\n`create_with_code_of` is named confusingly, especially since it does not actually duplicate bytecode. I suggest two new functions:\r\n\r\n`deploy_contract(template: address)` - duplicate template bytecode to new contract\r\n`deploy_proxy_contract(template: address)`  - deploy new proxy contract using template as library\r\n\r\nThis is also a good time to figure out: https://github.com/ethereum/vyper/issues/773 and maybe keep https://github.com/ethereum/vyper/issues/649 in mind!\r\n\r\nIMO it would be good to figure out the factory patterns better before the first release!",
  "closed_by": {
    "login": "charles-cooper",
    "id": 3867501,
    "node_id": "MDQ6VXNlcjM4Njc1MDE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/3867501?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/charles-cooper",
    "html_url": "https://github.com/charles-cooper",
    "followers_url": "https://api.github.com/users/charles-cooper/followers",
    "following_url": "https://api.github.com/users/charles-cooper/following{/other_user}",
    "gists_url": "https://api.github.com/users/charles-cooper/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/charles-cooper/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/charles-cooper/subscriptions",
    "organizations_url": "https://api.github.com/users/charles-cooper/orgs",
    "repos_url": "https://api.github.com/users/charles-cooper/repos",
    "events_url": "https://api.github.com/users/charles-cooper/events{/privacy}",
    "received_events_url": "https://api.github.com/users/charles-cooper/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/1362/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1362/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/474838966",
    "html_url": "https://github.com/vyperlang/vyper/issues/1362#issuecomment-474838966",
    "issue_url": "https://api.github.com/repos/vyperlang/vyper/issues/1362",
    "id": 474838966,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3NDgzODk2Ng==",
    "user": {
      "login": "jacqueswww",
      "id": 6917456,
      "node_id": "MDQ6VXNlcjY5MTc0NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6917456?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jacqueswww",
      "html_url": "https://github.com/jacqueswww",
      "followers_url": "https://api.github.com/users/jacqueswww/followers",
      "following_url": "https://api.github.com/users/jacqueswww/following{/other_user}",
      "gists_url": "https://api.github.com/users/jacqueswww/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jacqueswww/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jacqueswww/subscriptions",
      "organizations_url": "https://api.github.com/users/jacqueswww/orgs",
      "repos_url": "https://api.github.com/users/jacqueswww/repos",
      "events_url": "https://api.github.com/users/jacqueswww/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jacqueswww/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-20T13:53:50Z",
    "updated_at": "2019-03-20T13:58:51Z",
    "author_association": "CONTRIBUTOR",
    "body": "@haydenadams We've already renamed it to `create_forwarder_to`. \r\n\r\nhttps://vyper.readthedocs.io/en/v0.1.0-beta.9/built-in-functions.html#create-forwarder-to\r\n\r\nI think using `deploy_contract` or `deploy_contract_copy` are pretty good names for what above VIP does. Just to eloborate the above copies the bytecode in it's entirety using CREATE (with full EXTCODE/EXTCODESIZE)  usage.\r\n\r\nEdit: Maybe `create_code_copy` ?",
    "reactions": {
      "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/474838966/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/474982388",
    "html_url": "https://github.com/vyperlang/vyper/issues/1362#issuecomment-474982388",
    "issue_url": "https://api.github.com/repos/vyperlang/vyper/issues/1362",
    "id": 474982388,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ3NDk4MjM4OA==",
    "user": {
      "login": "haydenadams",
      "id": 9343483,
      "node_id": "MDQ6VXNlcjkzNDM0ODM=",
      "avatar_url": "https://avatars.githubusercontent.com/u/9343483?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/haydenadams",
      "html_url": "https://github.com/haydenadams",
      "followers_url": "https://api.github.com/users/haydenadams/followers",
      "following_url": "https://api.github.com/users/haydenadams/following{/other_user}",
      "gists_url": "https://api.github.com/users/haydenadams/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/haydenadams/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/haydenadams/subscriptions",
      "organizations_url": "https://api.github.com/users/haydenadams/orgs",
      "repos_url": "https://api.github.com/users/haydenadams/repos",
      "events_url": "https://api.github.com/users/haydenadams/events{/privacy}",
      "received_events_url": "https://api.github.com/users/haydenadams/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-03-20T18:54:41Z",
    "updated_at": "2019-03-20T18:57:57Z",
    "author_association": "NONE",
    "body": "@jacqueswww  \r\n\r\n> Just to eloborate the above copies the bytecode in it's entirety using CREATE (with full EXTCODE/EXTCODESIZE) usage\r\n\r\nYes, since removing the delegatecall will save gas for all transactions. I'd say `deploy_contract_copy` is the better one. ",
    "reactions": {
      "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/474982388/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
