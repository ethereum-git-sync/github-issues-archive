{
  "url": "https://api.github.com/repos/vyperlang/vyper/issues/1730",
  "repository_url": "https://api.github.com/repos/vyperlang/vyper",
  "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1730/labels{/name}",
  "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1730/comments",
  "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1730/events",
  "html_url": "https://github.com/vyperlang/vyper/issues/1730",
  "id": 523579829,
  "node_id": "MDU6SXNzdWU1MjM1Nzk4Mjk=",
  "number": 1730,
  "title": "verify calldata length",
  "user": {
    "login": "MrChico",
    "id": 8930559,
    "node_id": "MDQ6VXNlcjg5MzA1NTk=",
    "avatar_url": "https://avatars.githubusercontent.com/u/8930559?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/MrChico",
    "html_url": "https://github.com/MrChico",
    "followers_url": "https://api.github.com/users/MrChico/followers",
    "following_url": "https://api.github.com/users/MrChico/following{/other_user}",
    "gists_url": "https://api.github.com/users/MrChico/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/MrChico/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/MrChico/subscriptions",
    "organizations_url": "https://api.github.com/users/MrChico/orgs",
    "repos_url": "https://api.github.com/users/MrChico/repos",
    "events_url": "https://api.github.com/users/MrChico/events{/privacy}",
    "received_events_url": "https://api.github.com/users/MrChico/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 479554964,
      "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjQ=",
      "url": "https://api.github.com/repos/vyperlang/vyper/labels/enhancement",
      "name": "enhancement",
      "color": "84b6eb",
      "default": true,
      "description": null
    },
    {
      "id": 684449300,
      "node_id": "MDU6TGFiZWw2ODQ0NDkzMDA=",
      "url": "https://api.github.com/repos/vyperlang/vyper/labels/Easy%20Pickings",
      "name": "Easy Pickings",
      "color": "0e8a16",
      "default": false,
      "description": "Used to denote issues that should be easy to implement"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2019-11-15T16:52:15Z",
  "updated_at": "2022-06-17T02:13:40Z",
  "closed_at": "2022-06-17T02:13:40Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Vyper doesn't seem to do any verification of the calldata length currently, which can read to a whole range of problems and unintuitive behaviour. For reference, check out:\r\n\r\n- https://github.com/ethereum/eth2.0-specs/issues/1357\r\n- https://medium.com/golem-project/how-to-find-10m-by-just-reading-blockchain-6ae9d39fcd95\r\n- https://github.com/ethereum/solidity/issues/2109\r\n\r\nExpected behaviour is to REVERT if CALLDATA is smaller than expected",
  "closed_by": {
    "login": "charles-cooper",
    "id": 3867501,
    "node_id": "MDQ6VXNlcjM4Njc1MDE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/3867501?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/charles-cooper",
    "html_url": "https://github.com/charles-cooper",
    "followers_url": "https://api.github.com/users/charles-cooper/followers",
    "following_url": "https://api.github.com/users/charles-cooper/following{/other_user}",
    "gists_url": "https://api.github.com/users/charles-cooper/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/charles-cooper/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/charles-cooper/subscriptions",
    "organizations_url": "https://api.github.com/users/charles-cooper/orgs",
    "repos_url": "https://api.github.com/users/charles-cooper/repos",
    "events_url": "https://api.github.com/users/charles-cooper/events{/privacy}",
    "received_events_url": "https://api.github.com/users/charles-cooper/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/1730/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1730/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/554447423",
    "html_url": "https://github.com/vyperlang/vyper/issues/1730#issuecomment-554447423",
    "issue_url": "https://api.github.com/repos/vyperlang/vyper/issues/1730",
    "id": 554447423,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU1NDQ0NzQyMw==",
    "user": {
      "login": "charles-cooper",
      "id": 3867501,
      "node_id": "MDQ6VXNlcjM4Njc1MDE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3867501?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/charles-cooper",
      "html_url": "https://github.com/charles-cooper",
      "followers_url": "https://api.github.com/users/charles-cooper/followers",
      "following_url": "https://api.github.com/users/charles-cooper/following{/other_user}",
      "gists_url": "https://api.github.com/users/charles-cooper/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/charles-cooper/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/charles-cooper/subscriptions",
      "organizations_url": "https://api.github.com/users/charles-cooper/orgs",
      "repos_url": "https://api.github.com/users/charles-cooper/repos",
      "events_url": "https://api.github.com/users/charles-cooper/events{/privacy}",
      "received_events_url": "https://api.github.com/users/charles-cooper/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-11-15T17:14:15Z",
    "updated_at": "2019-11-15T17:14:15Z",
    "author_association": "COLLABORATOR",
    "body": "this is an interesting set of behaviors. this issue is slightly related: https://github.com/ethereum/vyper/issues/1602.\r\n\r\nso if I understand correctly, in some cases where user input is not validated, an address with fewer than 20 bytes could be input into a contract, and then following values will appear shifted in the calldata. as an example with an erc20 transfer, if the user inputs this address\r\n```\r\n0x12345678901234567890123456789012345678 # 19 bytes\r\n```\r\nthen the calldata could look like\r\n```\r\n0x12345678901234567890123456789012345678<amount>\r\n```\r\n\r\nit's a bit unclear to me though how to detect that the calldata is smaller than expected. for static data it's pretty clear since the size can only be one value but for dynamic data you could still have this issue.",
    "reactions": {
      "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/554447423/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/563305121",
    "html_url": "https://github.com/vyperlang/vyper/issues/1730#issuecomment-563305121",
    "issue_url": "https://api.github.com/repos/vyperlang/vyper/issues/1730",
    "id": 563305121,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU2MzMwNTEyMQ==",
    "user": {
      "login": "jacqueswww",
      "id": 6917456,
      "node_id": "MDQ6VXNlcjY5MTc0NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6917456?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jacqueswww",
      "html_url": "https://github.com/jacqueswww",
      "followers_url": "https://api.github.com/users/jacqueswww/followers",
      "following_url": "https://api.github.com/users/jacqueswww/following{/other_user}",
      "gists_url": "https://api.github.com/users/jacqueswww/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jacqueswww/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jacqueswww/subscriptions",
      "organizations_url": "https://api.github.com/users/jacqueswww/orgs",
      "repos_url": "https://api.github.com/users/jacqueswww/repos",
      "events_url": "https://api.github.com/users/jacqueswww/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jacqueswww/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-12-09T15:58:03Z",
    "updated_at": "2019-12-09T15:58:03Z",
    "author_association": "CONTRIBUTOR",
    "body": "Meeting Notes: Implement same checks as solidity.",
    "reactions": {
      "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/563305121/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
