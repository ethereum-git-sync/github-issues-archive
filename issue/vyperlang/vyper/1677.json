{
  "url": "https://api.github.com/repos/vyperlang/vyper/issues/1677",
  "repository_url": "https://api.github.com/repos/vyperlang/vyper",
  "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1677/labels{/name}",
  "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1677/comments",
  "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1677/events",
  "html_url": "https://github.com/vyperlang/vyper/issues/1677",
  "id": 516016696,
  "node_id": "MDU6SXNzdWU1MTYwMTY2OTY=",
  "number": 1677,
  "title": "VIP: Inlineable functions",
  "user": {
    "login": "charles-cooper",
    "id": 3867501,
    "node_id": "MDQ6VXNlcjM4Njc1MDE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/3867501?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/charles-cooper",
    "html_url": "https://github.com/charles-cooper",
    "followers_url": "https://api.github.com/users/charles-cooper/followers",
    "following_url": "https://api.github.com/users/charles-cooper/following{/other_user}",
    "gists_url": "https://api.github.com/users/charles-cooper/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/charles-cooper/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/charles-cooper/subscriptions",
    "organizations_url": "https://api.github.com/users/charles-cooper/orgs",
    "repos_url": "https://api.github.com/users/charles-cooper/repos",
    "events_url": "https://api.github.com/users/charles-cooper/events{/privacy}",
    "received_events_url": "https://api.github.com/users/charles-cooper/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 479554964,
      "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjQ=",
      "url": "https://api.github.com/repos/vyperlang/vyper/labels/enhancement",
      "name": "enhancement",
      "color": "84b6eb",
      "default": true,
      "description": null
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2019-11-01T09:54:38Z",
  "updated_at": "2020-01-24T03:57:31Z",
  "closed_at": null,
  "author_association": "COLLABORATOR",
  "active_lock_reason": null,
  "body": "## Simple Summary\r\nAllow functions to be inlined\r\n\r\n## Motivation\r\nPrivate functions are expensive because of frame switching. Allowing functions to be inlineable allows us to skip that overhead.\r\n\r\n## Specification\r\nAdd a decorator `@inline` which allows the user to force a function to be inlined. (In the future, the compiler could theoretically use heuristics to decide whether or not to inline a function but that is out of this scope). `@inline` is only compatible with `@private` functions. When the compiler sees that it should inline the code but with new variable names and so forth.\r\n\r\n(Note: parameters should either not be writeable or pass-by-copy)\r\n\r\nexample:\r\n```python\r\n@private\r\n@inline \r\ndef priv():\r\n  x: uint256 = 1\r\n  return x + 2\r\n@public\r\ndef foo():\r\n  return self.priv() + 3\r\n```\r\nshould have roughly the same output as\r\n```python\r\n@public\r\ndef foo():\r\n  priv_x: uint256 = 1\r\n  return (priv_x + 2) + 3\r\n```\r\n\r\n## Backwards Compatibility\r\nNo incompatibilities\r\n\r\n## Dependencies\r\nNo known dependencies\r\n\r\n## Copyright\r\nCopyright and related rights waived via [CC0](https://creativecommons.org/publicdomain/zero/1.0/)",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/1677/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1677/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/548811856",
    "html_url": "https://github.com/vyperlang/vyper/issues/1677#issuecomment-548811856",
    "issue_url": "https://api.github.com/repos/vyperlang/vyper/issues/1677",
    "id": 548811856,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU0ODgxMTg1Ng==",
    "user": {
      "login": "fubuloubu",
      "id": 3859395,
      "node_id": "MDQ6VXNlcjM4NTkzOTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3859395?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fubuloubu",
      "html_url": "https://github.com/fubuloubu",
      "followers_url": "https://api.github.com/users/fubuloubu/followers",
      "following_url": "https://api.github.com/users/fubuloubu/following{/other_user}",
      "gists_url": "https://api.github.com/users/fubuloubu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fubuloubu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fubuloubu/subscriptions",
      "organizations_url": "https://api.github.com/users/fubuloubu/orgs",
      "repos_url": "https://api.github.com/users/fubuloubu/repos",
      "events_url": "https://api.github.com/users/fubuloubu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fubuloubu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-11-01T14:38:05Z",
    "updated_at": "2019-11-01T14:39:34Z",
    "author_association": "MEMBER",
    "body": "The name-mangling on private variables should make it not possible to write a variable in the enclosing function that would override that behavior.\r\n\r\nOtherwise, all for this. Our private functions suck.",
    "reactions": {
      "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/548811856/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/549793871",
    "html_url": "https://github.com/vyperlang/vyper/issues/1677#issuecomment-549793871",
    "issue_url": "https://api.github.com/repos/vyperlang/vyper/issues/1677",
    "id": 549793871,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU0OTc5Mzg3MQ==",
    "user": {
      "login": "jacqueswww",
      "id": 6917456,
      "node_id": "MDQ6VXNlcjY5MTc0NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6917456?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jacqueswww",
      "html_url": "https://github.com/jacqueswww",
      "followers_url": "https://api.github.com/users/jacqueswww/followers",
      "following_url": "https://api.github.com/users/jacqueswww/following{/other_user}",
      "gists_url": "https://api.github.com/users/jacqueswww/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jacqueswww/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jacqueswww/subscriptions",
      "organizations_url": "https://api.github.com/users/jacqueswww/orgs",
      "repos_url": "https://api.github.com/users/jacqueswww/repos",
      "events_url": "https://api.github.com/users/jacqueswww/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jacqueswww/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-11-05T12:00:42Z",
    "updated_at": "2019-11-05T12:02:51Z",
    "author_association": "CONTRIBUTOR",
    "body": "This is a good idea, to be fair: @fubuloubu Our private functions are efficient in certain cases where inline functions ones wouldn't be again. Also inline increases bytecode very quickly.\r\n\r\nThe cool thing about this is that the base for this functionality already occurs in sqrt ;)",
    "reactions": {
      "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/549793871/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
