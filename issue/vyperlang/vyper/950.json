{
  "url": "https://api.github.com/repos/vyperlang/vyper/issues/950",
  "repository_url": "https://api.github.com/repos/vyperlang/vyper",
  "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/950/labels{/name}",
  "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/950/comments",
  "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/950/events",
  "html_url": "https://github.com/vyperlang/vyper/issues/950",
  "id": 340977038,
  "node_id": "MDU6SXNzdWUzNDA5NzcwMzg=",
  "number": 950,
  "title": "ABI JSON fails to be validated",
  "user": {
    "login": "ehanoc",
    "id": 1436105,
    "node_id": "MDQ6VXNlcjE0MzYxMDU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/1436105?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/ehanoc",
    "html_url": "https://github.com/ehanoc",
    "followers_url": "https://api.github.com/users/ehanoc/followers",
    "following_url": "https://api.github.com/users/ehanoc/following{/other_user}",
    "gists_url": "https://api.github.com/users/ehanoc/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/ehanoc/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/ehanoc/subscriptions",
    "organizations_url": "https://api.github.com/users/ehanoc/orgs",
    "repos_url": "https://api.github.com/users/ehanoc/repos",
    "events_url": "https://api.github.com/users/ehanoc/events{/privacy}",
    "received_events_url": "https://api.github.com/users/ehanoc/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 5,
  "created_at": "2018-07-13T11:03:24Z",
  "updated_at": "2018-07-13T15:01:51Z",
  "closed_at": "2018-07-13T15:01:51Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "## Simple Summary\r\nSeems to be a combination of issues, which i'm still trying to figure out entirely. The direct generated ABI won't go through web3.eth.Contract as valid. An Error will be through as >\r\n\r\n`Error: You must provide the json interface of the contract when instantiating a contract object`\r\n\r\nUpon investigating into web3.eth.contract, it fails with this : \r\n\r\n`    if(!jsonInterface || !(Array.isArray(jsonInterface))) {\r\n        throw new Error('You must provide the json interface of the contract when instantiating a contract object.');\r\n    }`\r\n\r\nNot an Array? We might need to use JSON.parse first. \r\n\r\n## Hack as Solution \r\n\r\nI've managed to deploy the contract doing the following: \r\n\r\nUsing JSON.parse on the returned ABI. But only after replacing ' with \". Since JSON.parse will not take in the ABI without it. \r\n\r\nAny thoughts on this? \r\n\r\n## Cute animal \r\n\r\n![g86lsij0li911](https://user-images.githubusercontent.com/1436105/42688512-68b5fdde-8694-11e8-9f9e-05faf8c626aa.jpg)\r\n\r\n",
  "closed_by": {
    "login": "jacqueswww",
    "id": 6917456,
    "node_id": "MDQ6VXNlcjY5MTc0NTY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6917456?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jacqueswww",
    "html_url": "https://github.com/jacqueswww",
    "followers_url": "https://api.github.com/users/jacqueswww/followers",
    "following_url": "https://api.github.com/users/jacqueswww/following{/other_user}",
    "gists_url": "https://api.github.com/users/jacqueswww/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jacqueswww/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jacqueswww/subscriptions",
    "organizations_url": "https://api.github.com/users/jacqueswww/orgs",
    "repos_url": "https://api.github.com/users/jacqueswww/repos",
    "events_url": "https://api.github.com/users/jacqueswww/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jacqueswww/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/950/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/950/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/404820696",
    "html_url": "https://github.com/vyperlang/vyper/issues/950#issuecomment-404820696",
    "issue_url": "https://api.github.com/repos/vyperlang/vyper/issues/950",
    "id": 404820696,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNDgyMDY5Ng==",
    "user": {
      "login": "fubuloubu",
      "id": 3859395,
      "node_id": "MDQ6VXNlcjM4NTkzOTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3859395?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fubuloubu",
      "html_url": "https://github.com/fubuloubu",
      "followers_url": "https://api.github.com/users/fubuloubu/followers",
      "following_url": "https://api.github.com/users/fubuloubu/following{/other_user}",
      "gists_url": "https://api.github.com/users/fubuloubu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fubuloubu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fubuloubu/subscriptions",
      "organizations_url": "https://api.github.com/users/fubuloubu/orgs",
      "repos_url": "https://api.github.com/users/fubuloubu/repos",
      "events_url": "https://api.github.com/users/fubuloubu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fubuloubu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-13T12:35:11Z",
    "updated_at": "2018-07-13T12:35:11Z",
    "author_association": "MEMBER",
    "body": "Can you share the line of web3js interaction code you are doing?",
    "reactions": {
      "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/404820696/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/404823054",
    "html_url": "https://github.com/vyperlang/vyper/issues/950#issuecomment-404823054",
    "issue_url": "https://api.github.com/repos/vyperlang/vyper/issues/950",
    "id": 404823054,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNDgyMzA1NA==",
    "user": {
      "login": "ehanoc",
      "id": 1436105,
      "node_id": "MDQ6VXNlcjE0MzYxMDU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1436105?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ehanoc",
      "html_url": "https://github.com/ehanoc",
      "followers_url": "https://api.github.com/users/ehanoc/followers",
      "following_url": "https://api.github.com/users/ehanoc/following{/other_user}",
      "gists_url": "https://api.github.com/users/ehanoc/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ehanoc/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ehanoc/subscriptions",
      "organizations_url": "https://api.github.com/users/ehanoc/orgs",
      "repos_url": "https://api.github.com/users/ehanoc/repos",
      "events_url": "https://api.github.com/users/ehanoc/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ehanoc/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-13T12:45:44Z",
    "updated_at": "2018-07-13T12:45:44Z",
    "author_association": "CONTRIBUTOR",
    "body": "```\r\n// pass abi_path and bytecode as arguments to process\r\n\r\n//path to abi.json (output generated from vyper -f abi [...].vy )\r\nconst abi_path = process.argv.pop();\r\nconst bytecode = process.argv.pop();\r\n\r\nvar abi;\r\ntry {\r\n    abi = fs.readFileSync(abi_path, 'utf8');\r\n} catch(e) {\r\n    console.log('Error:', e.stack);\r\n}\r\n\r\nvar account;\r\nweb3.eth.getAccounts( (err, accounts) => {\r\n    account = accounts[0];\r\n    // Contract object\r\n   //abi = JSON.parse(replaceAll(abi, \"'\", '\"').toLowerCase());\r\n    const contract = new web3.eth.Contract(abi, account);\r\n    contract.deploy({...}) \r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/404823054/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/404848003",
    "html_url": "https://github.com/vyperlang/vyper/issues/950#issuecomment-404848003",
    "issue_url": "https://api.github.com/repos/vyperlang/vyper/issues/950",
    "id": 404848003,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNDg0ODAwMw==",
    "user": {
      "login": "jacqueswww",
      "id": 6917456,
      "node_id": "MDQ6VXNlcjY5MTc0NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6917456?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jacqueswww",
      "html_url": "https://github.com/jacqueswww",
      "followers_url": "https://api.github.com/users/jacqueswww/followers",
      "following_url": "https://api.github.com/users/jacqueswww/following{/other_user}",
      "gists_url": "https://api.github.com/users/jacqueswww/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jacqueswww/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jacqueswww/subscriptions",
      "organizations_url": "https://api.github.com/users/jacqueswww/orgs",
      "repos_url": "https://api.github.com/users/jacqueswww/repos",
      "events_url": "https://api.github.com/users/jacqueswww/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jacqueswww/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-13T14:22:10Z",
    "updated_at": "2018-07-13T14:22:47Z",
    "author_association": "CONTRIBUTOR",
    "body": "@ehanoc Have a go with `-f json` instead :wink: \r\n\r\nThe `abi` flag is the python-like abi output.",
    "reactions": {
      "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/404848003/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/404856829",
    "html_url": "https://github.com/vyperlang/vyper/issues/950#issuecomment-404856829",
    "issue_url": "https://api.github.com/repos/vyperlang/vyper/issues/950",
    "id": 404856829,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNDg1NjgyOQ==",
    "user": {
      "login": "ehanoc",
      "id": 1436105,
      "node_id": "MDQ6VXNlcjE0MzYxMDU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/1436105?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/ehanoc",
      "html_url": "https://github.com/ehanoc",
      "followers_url": "https://api.github.com/users/ehanoc/followers",
      "following_url": "https://api.github.com/users/ehanoc/following{/other_user}",
      "gists_url": "https://api.github.com/users/ehanoc/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/ehanoc/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/ehanoc/subscriptions",
      "organizations_url": "https://api.github.com/users/ehanoc/orgs",
      "repos_url": "https://api.github.com/users/ehanoc/repos",
      "events_url": "https://api.github.com/users/ehanoc/events{/privacy}",
      "received_events_url": "https://api.github.com/users/ehanoc/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-13T14:52:13Z",
    "updated_at": "2018-07-13T14:52:13Z",
    "author_association": "CONTRIBUTOR",
    "body": "@jacqueswww ye, that works. thanks!",
    "reactions": {
      "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/404856829/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/404859797",
    "html_url": "https://github.com/vyperlang/vyper/issues/950#issuecomment-404859797",
    "issue_url": "https://api.github.com/repos/vyperlang/vyper/issues/950",
    "id": 404859797,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQwNDg1OTc5Nw==",
    "user": {
      "login": "jacqueswww",
      "id": 6917456,
      "node_id": "MDQ6VXNlcjY5MTc0NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6917456?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jacqueswww",
      "html_url": "https://github.com/jacqueswww",
      "followers_url": "https://api.github.com/users/jacqueswww/followers",
      "following_url": "https://api.github.com/users/jacqueswww/following{/other_user}",
      "gists_url": "https://api.github.com/users/jacqueswww/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jacqueswww/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jacqueswww/subscriptions",
      "organizations_url": "https://api.github.com/users/jacqueswww/orgs",
      "repos_url": "https://api.github.com/users/jacqueswww/repos",
      "events_url": "https://api.github.com/users/jacqueswww/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jacqueswww/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-07-13T15:01:51Z",
    "updated_at": "2018-07-13T15:01:51Z",
    "author_association": "CONTRIBUTOR",
    "body": "Closing issue as it's solved ;)",
    "reactions": {
      "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/404859797/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
