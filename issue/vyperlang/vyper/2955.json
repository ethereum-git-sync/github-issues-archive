{
  "url": "https://api.github.com/repos/vyperlang/vyper/issues/2955",
  "repository_url": "https://api.github.com/repos/vyperlang/vyper",
  "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/2955/labels{/name}",
  "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/2955/comments",
  "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/2955/events",
  "html_url": "https://github.com/vyperlang/vyper/issues/2955",
  "id": 1296191285,
  "node_id": "I_kwDOBGDvrM5NQk81",
  "number": 2955,
  "title": " Deploying vyper contract with brownie throws InvalidType ",
  "user": {
    "login": "Doc-Pixel",
    "id": 33023023,
    "node_id": "MDQ6VXNlcjMzMDIzMDIz",
    "avatar_url": "https://avatars.githubusercontent.com/u/33023023?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Doc-Pixel",
    "html_url": "https://github.com/Doc-Pixel",
    "followers_url": "https://api.github.com/users/Doc-Pixel/followers",
    "following_url": "https://api.github.com/users/Doc-Pixel/following{/other_user}",
    "gists_url": "https://api.github.com/users/Doc-Pixel/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Doc-Pixel/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Doc-Pixel/subscriptions",
    "organizations_url": "https://api.github.com/users/Doc-Pixel/orgs",
    "repos_url": "https://api.github.com/users/Doc-Pixel/repos",
    "events_url": "https://api.github.com/users/Doc-Pixel/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Doc-Pixel/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 10,
  "created_at": "2022-07-06T18:02:41Z",
  "updated_at": "2022-08-10T04:22:01Z",
  "closed_at": "2022-07-14T03:00:24Z",
  "author_association": "CONTRIBUTOR",
  "active_lock_reason": null,
  "body": "### Environment information\r\n\r\n* `brownie` Version: 1.19.1\r\n* `ganache-cli` Version: \r\n* `solc` Version: 7.0.4\r\n* Python Version: 3.8.10\r\n* OS: linux (ubuntu 20.*)\r\n* Vyper: 0.3.4+commit.ac8cb6e6\r\n\r\n### What was wrong?\r\nWhen trying to deploy a vyper contract using brownie, it throws an error\r\n\r\nCommit 3cbdf35bfd0e416eb8235a63b20921e4dc9cf293 introduced this behaviour\r\n**I walked through vyper commits and pinpointed the behavior to commit 3cbdf35bfd0e416eb8235a63b20921e4dc9cf293\r\nThe previous commit df2da6202bda1909f4f2c13fe6e1f07bcb172b9f runs test successful**\r\n```\r\nethbox@ethbox-VirtualBox:~/Vyper-Main/ERC1155$ brownie run deploy1155.py\r\nBrownie v1.19.0 - Python development framework for Ethereum\r\n\r\nCompiling contracts...\r\n  Vyper version: 0.3.4\r\nUnhandled exception in 'contracts/ERC1155ownable.vy':\r\nInvalidType: Subscript must be a literal integer\r\n  contract \"contracts/ERC1155ownable.vy\", line 35:16 \r\n       34 # the contracts URI to find the metadata\r\n  ---> 35 baseuri: String[MAX_URI_LENGTH]\r\n  ------------------------^\r\n       36 contractURI: public(String[MAX_URI_LENGTH])\r\n```\r\nMAX_URI_LENGTH is an uint256 with value 300\r\n```# URI length set to 300. \r\nMAX_URI_LENGTH: constant(uint256) = 300 \r\n```\r\n\r\nWhen compiling directly with Vyper, the compilation is successful.\r\n```\r\nethbox@ethbox-VirtualBox:~/Vyper-Main/ERC1155$ vyper ./contracts/ERC1155ownable.vy -f combined_json\r\n{\"contracts/ERC1155ownable.vy\": {\"bytecode\": \"0x602061281e600039600051600001608060208261281e0160003960005\r\n```\r\n\r\n### How can it be fixed?\r\nI don't know\r\n",
  "closed_by": {
    "login": "Doc-Pixel",
    "id": 33023023,
    "node_id": "MDQ6VXNlcjMzMDIzMDIz",
    "avatar_url": "https://avatars.githubusercontent.com/u/33023023?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Doc-Pixel",
    "html_url": "https://github.com/Doc-Pixel",
    "followers_url": "https://api.github.com/users/Doc-Pixel/followers",
    "following_url": "https://api.github.com/users/Doc-Pixel/following{/other_user}",
    "gists_url": "https://api.github.com/users/Doc-Pixel/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Doc-Pixel/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Doc-Pixel/subscriptions",
    "organizations_url": "https://api.github.com/users/Doc-Pixel/orgs",
    "repos_url": "https://api.github.com/users/Doc-Pixel/repos",
    "events_url": "https://api.github.com/users/Doc-Pixel/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Doc-Pixel/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/2955/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/2955/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/1176520892",
    "html_url": "https://github.com/vyperlang/vyper/issues/2955#issuecomment-1176520892",
    "issue_url": "https://api.github.com/repos/vyperlang/vyper/issues/2955",
    "id": 1176520892,
    "node_id": "IC_kwDOBGDvrM5GIEi8",
    "user": {
      "login": "Doc-Pixel",
      "id": 33023023,
      "node_id": "MDQ6VXNlcjMzMDIzMDIz",
      "avatar_url": "https://avatars.githubusercontent.com/u/33023023?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Doc-Pixel",
      "html_url": "https://github.com/Doc-Pixel",
      "followers_url": "https://api.github.com/users/Doc-Pixel/followers",
      "following_url": "https://api.github.com/users/Doc-Pixel/following{/other_user}",
      "gists_url": "https://api.github.com/users/Doc-Pixel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Doc-Pixel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Doc-Pixel/subscriptions",
      "organizations_url": "https://api.github.com/users/Doc-Pixel/orgs",
      "repos_url": "https://api.github.com/users/Doc-Pixel/repos",
      "events_url": "https://api.github.com/users/Doc-Pixel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Doc-Pixel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-06T18:02:47Z",
    "updated_at": "2022-07-06T18:03:05Z",
    "author_association": "CONTRIBUTOR",
    "body": "I walked through vyper commits and pinpointed the behavior to commit 3cbdf35bfd0e416eb8235a63b20921e4dc9cf293\r\nThe previous commit df2da6202bda1909f4f2c13fe6e1f07bcb172b9f runs test successful\r\n\r\nBelow the whole process.\r\n\r\nBig question: Is this a vyper or a brownie issue?\r\nVyper compiles OK from the CLI (bottom of code snip)\r\n\r\n```\r\nethbox@ethbox-VirtualBox:~/Vyper-Main/mySecretProject-contract$ pip install git+https://github.com/vyperlang/vyper.git@df2da6202bda1909f4f2c13fe6e1f07bcb172b9f --force-reinstall\r\nDefaulting to user installation because normal site-packages is not writeable\r\nCollecting git+https://github.com/vyperlang/vyper.git@df2da6202bda1909f4f2c13fe6e1f07bcb172b9f\r\n  Cloning https://github.com/vyperlang/vyper.git (to revision df2da6202bda1909f4f2c13fe6e1f07bcb172b9f) to /tmp/pip-req-build-1zu339an\r\n\r\n...................\r\n\r\nethbox@ethbox-VirtualBox:~/Vyper-Main/mySecretProject-contract$ vyper --version\r\n0.3.4+commit.df2da620\r\nethbox@ethbox-VirtualBox:~/Vyper-Main/mySecretProject-contract$ brownie test\r\nBrownie v1.19.0 - Python development framework for Ethereum\r\n\r\nCompiling contracts...\r\n  Vyper version: 0.3.4\r\nGenerating build data...\r\n - mySecretProject\r\n\r\n========================================================================================================== test session starts ==========================================================================================================\r\nplatform linux -- Python 3.10.5, pytest-6.2.5, py-1.11.0, pluggy-1.0.0\r\nrootdir: /home/ethbox/Vyper-Main/mySecretProject-contract\r\nplugins: eth-brownie-1.19.0, web3-5.29.1, xdist-1.34.0, hypothesis-6.27.3, forked-1.4.0\r\ncollected 16 items                                                                                                                                                                                                                      \r\n\r\nLaunching 'ganache-cli --chain.vmErrorsOnRPCResponse true --wallet.totalAccounts 10 --hardfork istanbul --miner.blockGasLimit 12000000 --wallet.mnemonic brownie --server.port 8545'...\r\n\r\ntests/test_mySecretProject.py ................                                                                                                                                                                                           [100%]\r\n\r\n========================================================================================================== 16 passed in 8.08s ===========================================================================================================\r\nTerminating local RPC client...\r\nethbox@ethbox-VirtualBox:~/Vyper-Main/mySecretProject-contract$ pip install git+https://github.com/vyperlang/vyper.git@3cbdf35bfd0e416eb8235a63b20921e4dc9cf293 --force-reinstall\r\nDefaulting to user installation because normal site-packages is not writeable\r\nCollecting git+https://github.com/vyperlang/vyper.git@3cbdf35bfd0e416eb8235a63b20921e4dc9cf293\r\n  Cloning https://github.com/vyperlang/vyper.git (to revision 3cbdf35bfd0e416eb8235a63b20921e4dc9cf293) to /tmp/pip-req-build-bg30h1ai\r\n\r\n...................\r\n\r\nethbox@ethbox-VirtualBox:~/Vyper-Main/mySecretProject-contract$ brownie test\r\nBrownie v1.19.0 - Python development framework for Ethereum\r\n\r\nCompiling contracts...\r\n  Vyper version: 0.3.4\r\nUnhandled exception in 'contracts/mySecretProject.vy':\r\nInvalidType: Subscript must be a literal integer\r\n  contract \"contracts/mySecretProject.vy\", line 47:9 \r\n       46 # the contracts URI to find the metadata\r\n  ---> 47 baseuri: String[MAX_URI_LENGTH]\r\n  -----------------^\r\n       48 contractURI: public(String[MAX_URI_LENGTH])\r\n\r\n\r\nERROR: Unable to load project\r\n\r\nethbox@ethbox-VirtualBox:~/Vyper-Main/mySecretProject-contract$ vyper ./contracts/mySecretProject.vy \r\n0x60206140e260003960005160806020826140e201600039600051116140dd576020816140e201600039600051806040526020820181816140e201606039505050602061410260003960005160106020826140e201600039600051116140dd576020816140e2016000396000518060e052602082016020816140e20160003960005161010052505050602061412260003960005161012c6020826140e201600039600051116140dd576020816140e20160003960005180610120526020820181816140e20161014039505050602061414260003960005161012c6020826140e201600039600051116140dd576020816140e20160003960005180610280526020820181816140e2016102a039505050604051806019556000602082601f0104600481116140dd57801561014557905b602081026060015181601a015560010181811861012d575b50505060e05180601e5561010051601f55503360015561012051806003556000602082601f0104600a81116140dd57801561019557905b602081026101400151816004015560010181811861017c575b5050506102805180600e556000602082601f0104600a81116140dd5780156101d257905b602081026102a0015181600f01556001018181186101b9575b505050613eee6101ee\r\n```\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/1176520892/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/1176960745",
    "html_url": "https://github.com/vyperlang/vyper/issues/2955#issuecomment-1176960745",
    "issue_url": "https://api.github.com/repos/vyperlang/vyper/issues/2955",
    "id": 1176960745,
    "node_id": "IC_kwDOBGDvrM5GJv7p",
    "user": {
      "login": "tserg",
      "id": 8017125,
      "node_id": "MDQ6VXNlcjgwMTcxMjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8017125?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tserg",
      "html_url": "https://github.com/tserg",
      "followers_url": "https://api.github.com/users/tserg/followers",
      "following_url": "https://api.github.com/users/tserg/following{/other_user}",
      "gists_url": "https://api.github.com/users/tserg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tserg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tserg/subscriptions",
      "organizations_url": "https://api.github.com/users/tserg/orgs",
      "repos_url": "https://api.github.com/users/tserg/repos",
      "events_url": "https://api.github.com/users/tserg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tserg/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-07T02:08:08Z",
    "updated_at": "2022-07-07T02:08:08Z",
    "author_association": "CONTRIBUTOR",
    "body": "Running `vyper CONTRACT.vy -f ast` throws the same error.\r\n\r\nThis is because user-defined constants are not folded yet when generating the AST after  https://github.com/vyperlang/vyper/commit/3cbdf35bfd0e416eb8235a63b20921e4dc9cf293, causing semantics typechecking to fail because a literal value cannot be derived for the length of a dynamic array.\r\n\r\nI think #2832 will resolve this.",
    "reactions": {
      "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/1176960745/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/1179733869",
    "html_url": "https://github.com/vyperlang/vyper/issues/2955#issuecomment-1179733869",
    "issue_url": "https://api.github.com/repos/vyperlang/vyper/issues/2955",
    "id": 1179733869,
    "node_id": "IC_kwDOBGDvrM5GUU9t",
    "user": {
      "login": "charles-cooper",
      "id": 3867501,
      "node_id": "MDQ6VXNlcjM4Njc1MDE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3867501?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/charles-cooper",
      "html_url": "https://github.com/charles-cooper",
      "followers_url": "https://api.github.com/users/charles-cooper/followers",
      "following_url": "https://api.github.com/users/charles-cooper/following{/other_user}",
      "gists_url": "https://api.github.com/users/charles-cooper/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/charles-cooper/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/charles-cooper/subscriptions",
      "organizations_url": "https://api.github.com/users/charles-cooper/orgs",
      "repos_url": "https://api.github.com/users/charles-cooper/repos",
      "events_url": "https://api.github.com/users/charles-cooper/events{/privacy}",
      "received_events_url": "https://api.github.com/users/charles-cooper/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-10T13:56:00Z",
    "updated_at": "2022-07-10T13:56:00Z",
    "author_association": "COLLABORATOR",
    "body": "@Doc-Pixel should be fixed as of #2958 - can you check again?",
    "reactions": {
      "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/1179733869/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/1179764673",
    "html_url": "https://github.com/vyperlang/vyper/issues/2955#issuecomment-1179764673",
    "issue_url": "https://api.github.com/repos/vyperlang/vyper/issues/2955",
    "id": 1179764673,
    "node_id": "IC_kwDOBGDvrM5GUcfB",
    "user": {
      "login": "Doc-Pixel",
      "id": 33023023,
      "node_id": "MDQ6VXNlcjMzMDIzMDIz",
      "avatar_url": "https://avatars.githubusercontent.com/u/33023023?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Doc-Pixel",
      "html_url": "https://github.com/Doc-Pixel",
      "followers_url": "https://api.github.com/users/Doc-Pixel/followers",
      "following_url": "https://api.github.com/users/Doc-Pixel/following{/other_user}",
      "gists_url": "https://api.github.com/users/Doc-Pixel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Doc-Pixel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Doc-Pixel/subscriptions",
      "organizations_url": "https://api.github.com/users/Doc-Pixel/orgs",
      "repos_url": "https://api.github.com/users/Doc-Pixel/repos",
      "events_url": "https://api.github.com/users/Doc-Pixel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Doc-Pixel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-10T17:07:46Z",
    "updated_at": "2022-07-10T17:07:46Z",
    "author_association": "CONTRIBUTOR",
    "body": "Updated vyper from the repo, tested again\r\n\r\n```\r\nethbox@ethbox-VirtualBox:~/Vyper-Main/ERC1155$ brownie --version\r\nBrownie v1.19.0 - Python development framework for Ethereum\r\n\r\nethbox@ethbox-VirtualBox:~/Vyper-Main/ERC1155$ vyper --version\r\n0.3.4+commit.6c363614\r\nethbox@ethbox-VirtualBox:~/Vyper-Main/ERC1155$ brownie test\r\nBrownie v1.19.0 - Python development framework for Ethereum\r\n\r\nCompiling contracts...\r\n  Vyper version: 0.3.4\r\nGenerating build data...\r\n - ERC1155ownable\r\n  File \"/usr/local/lib/python3.10/dist-packages/brownie/test/plugin.py\", line 87, in pytest_load_initial_conftests\r\n    active_project = project.load(project_path)\r\n  File \"/usr/local/lib/python3.10/dist-packages/brownie/project/main.py\", line 768, in load\r\n    return Project(name, project_path)\r\n  File \"/usr/local/lib/python3.10/dist-packages/brownie/project/main.py\", line 188, in __init__\r\n    self.load()\r\n  File \"/usr/local/lib/python3.10/dist-packages/brownie/project/main.py\", line 245, in load\r\n    self._compile(changed, self._compiler_config, False)\r\n  File \"/usr/local/lib/python3.10/dist-packages/brownie/project/main.py\", line 100, in _compile\r\n    build_json = compiler.compile_and_format(\r\n  File \"/usr/local/lib/python3.10/dist-packages/brownie/project/compiler/__init__.py\", line 142, in compile_and_format\r\n    build_json.update(generate_build_json(input_json, output_json, compiler_data, silent))\r\n  File \"/usr/local/lib/python3.10/dist-packages/brownie/project/compiler/__init__.py\", line 328, in generate_build_json\r\n    build_json[contract_alias] = vyper._get_unique_build_json(\r\n  File \"/usr/local/lib/python3.10/dist-packages/brownie/project/compiler/vyper.py\", line 255, in _get_unique_build_json\r\n    pc_map, statement_map, branch_map = _generate_coverage_data(\r\n  File \"/usr/local/lib/python3.10/dist-packages/brownie/project/compiler/vyper.py\", line 314, in _generate_coverage_data\r\n    source = source_map.popleft()\r\nIndexError: pop from an empty deque\r\n\r\nERROR: Unable to load project\r\n\r\nethbox@ethbox-VirtualBox:~/Vyper-Main/ERC1155$ \r\n```",
    "reactions": {
      "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/1179764673/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/1179764788",
    "html_url": "https://github.com/vyperlang/vyper/issues/2955#issuecomment-1179764788",
    "issue_url": "https://api.github.com/repos/vyperlang/vyper/issues/2955",
    "id": 1179764788,
    "node_id": "IC_kwDOBGDvrM5GUcg0",
    "user": {
      "login": "Doc-Pixel",
      "id": 33023023,
      "node_id": "MDQ6VXNlcjMzMDIzMDIz",
      "avatar_url": "https://avatars.githubusercontent.com/u/33023023?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Doc-Pixel",
      "html_url": "https://github.com/Doc-Pixel",
      "followers_url": "https://api.github.com/users/Doc-Pixel/followers",
      "following_url": "https://api.github.com/users/Doc-Pixel/following{/other_user}",
      "gists_url": "https://api.github.com/users/Doc-Pixel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Doc-Pixel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Doc-Pixel/subscriptions",
      "organizations_url": "https://api.github.com/users/Doc-Pixel/orgs",
      "repos_url": "https://api.github.com/users/Doc-Pixel/repos",
      "events_url": "https://api.github.com/users/Doc-Pixel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Doc-Pixel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-10T17:08:33Z",
    "updated_at": "2022-07-10T17:08:33Z",
    "author_association": "CONTRIBUTOR",
    "body": "I tested with 2 projects that have not changed since I ran into this issue.",
    "reactions": {
      "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/1179764788/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/1179953248",
    "html_url": "https://github.com/vyperlang/vyper/issues/2955#issuecomment-1179953248",
    "issue_url": "https://api.github.com/repos/vyperlang/vyper/issues/2955",
    "id": 1179953248,
    "node_id": "IC_kwDOBGDvrM5GVKhg",
    "user": {
      "login": "tserg",
      "id": 8017125,
      "node_id": "MDQ6VXNlcjgwMTcxMjU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/8017125?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/tserg",
      "html_url": "https://github.com/tserg",
      "followers_url": "https://api.github.com/users/tserg/followers",
      "following_url": "https://api.github.com/users/tserg/following{/other_user}",
      "gists_url": "https://api.github.com/users/tserg/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/tserg/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/tserg/subscriptions",
      "organizations_url": "https://api.github.com/users/tserg/orgs",
      "repos_url": "https://api.github.com/users/tserg/repos",
      "events_url": "https://api.github.com/users/tserg/events{/privacy}",
      "received_events_url": "https://api.github.com/users/tserg/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-11T04:27:04Z",
    "updated_at": "2022-07-11T04:27:04Z",
    "author_association": "CONTRIBUTOR",
    "body": "I have traced it to https://github.com/vyperlang/vyper/commit/8d869952786f6c0694ec870c8f3b2e67ad24444e. I think we need Brownie to account for this vyper signature in the bytecode.",
    "reactions": {
      "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/1179953248/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/1183331038",
    "html_url": "https://github.com/vyperlang/vyper/issues/2955#issuecomment-1183331038",
    "issue_url": "https://api.github.com/repos/vyperlang/vyper/issues/2955",
    "id": 1183331038,
    "node_id": "IC_kwDOBGDvrM5GiDLe",
    "user": {
      "login": "charles-cooper",
      "id": 3867501,
      "node_id": "MDQ6VXNlcjM4Njc1MDE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3867501?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/charles-cooper",
      "html_url": "https://github.com/charles-cooper",
      "followers_url": "https://api.github.com/users/charles-cooper/followers",
      "following_url": "https://api.github.com/users/charles-cooper/following{/other_user}",
      "gists_url": "https://api.github.com/users/charles-cooper/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/charles-cooper/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/charles-cooper/subscriptions",
      "organizations_url": "https://api.github.com/users/charles-cooper/orgs",
      "repos_url": "https://api.github.com/users/charles-cooper/repos",
      "events_url": "https://api.github.com/users/charles-cooper/events{/privacy}",
      "received_events_url": "https://api.github.com/users/charles-cooper/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-13T14:56:50Z",
    "updated_at": "2022-07-13T14:56:50Z",
    "author_association": "COLLABORATOR",
    "body": "@Doc-Pixel should be fixed as of https://github.com/eth-brownie/brownie/commit/9745b3261b462a3dc78452e559556f520f7fdf8f, can you please close if the issue is resolved?",
    "reactions": {
      "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/1183331038/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/1183929138",
    "html_url": "https://github.com/vyperlang/vyper/issues/2955#issuecomment-1183929138",
    "issue_url": "https://api.github.com/repos/vyperlang/vyper/issues/2955",
    "id": 1183929138,
    "node_id": "IC_kwDOBGDvrM5GkVMy",
    "user": {
      "login": "Doc-Pixel",
      "id": 33023023,
      "node_id": "MDQ6VXNlcjMzMDIzMDIz",
      "avatar_url": "https://avatars.githubusercontent.com/u/33023023?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/Doc-Pixel",
      "html_url": "https://github.com/Doc-Pixel",
      "followers_url": "https://api.github.com/users/Doc-Pixel/followers",
      "following_url": "https://api.github.com/users/Doc-Pixel/following{/other_user}",
      "gists_url": "https://api.github.com/users/Doc-Pixel/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/Doc-Pixel/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/Doc-Pixel/subscriptions",
      "organizations_url": "https://api.github.com/users/Doc-Pixel/orgs",
      "repos_url": "https://api.github.com/users/Doc-Pixel/repos",
      "events_url": "https://api.github.com/users/Doc-Pixel/events{/privacy}",
      "received_events_url": "https://api.github.com/users/Doc-Pixel/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-14T03:00:18Z",
    "updated_at": "2022-07-14T03:00:18Z",
    "author_association": "CONTRIBUTOR",
    "body": "Installed the mentioned commit and the very latest vyper, tested and it works!",
    "reactions": {
      "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/1183929138/reactions",
      "total_count": 1,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 1,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/1200258910",
    "html_url": "https://github.com/vyperlang/vyper/issues/2955#issuecomment-1200258910",
    "issue_url": "https://api.github.com/repos/vyperlang/vyper/issues/2955",
    "id": 1200258910,
    "node_id": "IC_kwDOBGDvrM5Hin9e",
    "user": {
      "login": "liam-ot",
      "id": 48032728,
      "node_id": "MDQ6VXNlcjQ4MDMyNzI4",
      "avatar_url": "https://avatars.githubusercontent.com/u/48032728?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/liam-ot",
      "html_url": "https://github.com/liam-ot",
      "followers_url": "https://api.github.com/users/liam-ot/followers",
      "following_url": "https://api.github.com/users/liam-ot/following{/other_user}",
      "gists_url": "https://api.github.com/users/liam-ot/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/liam-ot/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/liam-ot/subscriptions",
      "organizations_url": "https://api.github.com/users/liam-ot/orgs",
      "repos_url": "https://api.github.com/users/liam-ot/repos",
      "events_url": "https://api.github.com/users/liam-ot/events{/privacy}",
      "received_events_url": "https://api.github.com/users/liam-ot/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-07-30T17:13:39Z",
    "updated_at": "2022-07-30T17:13:39Z",
    "author_association": "NONE",
    "body": "error message:\r\n```\r\n$ brownie compile\r\nBrownie v1.19.0 - Python development framework for Ethereum\r\n\r\nCompiling contracts...\r\n  Vyper version: 0.3.4\r\nGenerating build data...\r\n - nft\r\n  File \"brownie/_cli/__main__.py\", line 64, in main\r\n    importlib.import_module(f\"brownie._cli.{cmd}\").main()\r\n  File \"brownie/_cli/compile.py\", line 50, in main\r\n    proj = project.load()\r\n  File \"brownie/project/main.py\", line 768, in load\r\n    return Project(name, project_path)\r\n  File \"brownie/project/main.py\", line 188, in __init__\r\n    self.load()\r\n  File \"brownie/project/main.py\", line 245, in load\r\n    self._compile(changed, self._compiler_config, False)\r\n  File \"brownie/project/main.py\", line 100, in _compile\r\n    build_json = compiler.compile_and_format(\r\n  File \"brownie/project/compiler/__init__.py\", line 142, in compile_and_format\r\n    build_json.update(generate_build_json(input_json, output_json, compiler_data, silent))\r\n  File \"brownie/project/compiler/__init__.py\", line 328, in generate_build_json\r\n    build_json[contract_alias] = vyper._get_unique_build_json(\r\n  File \"brownie/project/compiler/vyper.py\", line 255, in _get_unique_build_json\r\n    pc_map, statement_map, branch_map = _generate_coverage_data(\r\n  File \"brownie/project/compiler/vyper.py\", line 314, in _generate_coverage_data\r\n    source = source_map.popleft()\r\nIndexError: pop from an empty deque\r\n```\r\n\r\nvyper version:\r\n```\r\n$ vyper --version\r\n0.3.4+commit.f31f0ec\r\n```\r\n\r\ngetting the same issue when trying to compile using the latest version of vyper",
    "reactions": {
      "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/1200258910/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/1210142779",
    "html_url": "https://github.com/vyperlang/vyper/issues/2955#issuecomment-1210142779",
    "issue_url": "https://api.github.com/repos/vyperlang/vyper/issues/2955",
    "id": 1210142779,
    "node_id": "IC_kwDOBGDvrM5IIVA7",
    "user": {
      "login": "0x0077",
      "id": 42128352,
      "node_id": "MDQ6VXNlcjQyMTI4MzUy",
      "avatar_url": "https://avatars.githubusercontent.com/u/42128352?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/0x0077",
      "html_url": "https://github.com/0x0077",
      "followers_url": "https://api.github.com/users/0x0077/followers",
      "following_url": "https://api.github.com/users/0x0077/following{/other_user}",
      "gists_url": "https://api.github.com/users/0x0077/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/0x0077/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/0x0077/subscriptions",
      "organizations_url": "https://api.github.com/users/0x0077/orgs",
      "repos_url": "https://api.github.com/users/0x0077/repos",
      "events_url": "https://api.github.com/users/0x0077/events{/privacy}",
      "received_events_url": "https://api.github.com/users/0x0077/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-08-10T04:22:01Z",
    "updated_at": "2022-08-10T04:22:01Z",
    "author_association": "NONE",
    "body": "> error message:\r\n> \r\n> ```\r\n> $ brownie compile\r\n> Brownie v1.19.0 - Python development framework for Ethereum\r\n> \r\n> Compiling contracts...\r\n>   Vyper version: 0.3.4\r\n> Generating build data...\r\n>  - nft\r\n>   File \"brownie/_cli/__main__.py\", line 64, in main\r\n>     importlib.import_module(f\"brownie._cli.{cmd}\").main()\r\n>   File \"brownie/_cli/compile.py\", line 50, in main\r\n>     proj = project.load()\r\n>   File \"brownie/project/main.py\", line 768, in load\r\n>     return Project(name, project_path)\r\n>   File \"brownie/project/main.py\", line 188, in __init__\r\n>     self.load()\r\n>   File \"brownie/project/main.py\", line 245, in load\r\n>     self._compile(changed, self._compiler_config, False)\r\n>   File \"brownie/project/main.py\", line 100, in _compile\r\n>     build_json = compiler.compile_and_format(\r\n>   File \"brownie/project/compiler/__init__.py\", line 142, in compile_and_format\r\n>     build_json.update(generate_build_json(input_json, output_json, compiler_data, silent))\r\n>   File \"brownie/project/compiler/__init__.py\", line 328, in generate_build_json\r\n>     build_json[contract_alias] = vyper._get_unique_build_json(\r\n>   File \"brownie/project/compiler/vyper.py\", line 255, in _get_unique_build_json\r\n>     pc_map, statement_map, branch_map = _generate_coverage_data(\r\n>   File \"brownie/project/compiler/vyper.py\", line 314, in _generate_coverage_data\r\n>     source = source_map.popleft()\r\n> IndexError: pop from an empty deque\r\n> ```\r\n> \r\n> vyper version:\r\n> \r\n> ```\r\n> $ vyper --version\r\n> 0.3.4+commit.f31f0ec\r\n> ```\r\n> \r\n> getting the same issue when trying to compile using the latest version of vyper\r\n\r\nI encountered the same problem. I tried to update the version of brownie and solved it",
    "reactions": {
      "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/1210142779/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
