{
  "url": "https://api.github.com/repos/vyperlang/vyper/issues/3365",
  "repository_url": "https://api.github.com/repos/vyperlang/vyper",
  "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/3365/labels{/name}",
  "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/3365/comments",
  "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/3365/events",
  "html_url": "https://github.com/vyperlang/vyper/issues/3365",
  "id": 1677075866,
  "node_id": "I_kwDOBGDvrM5j9iWa",
  "number": 3365,
  "title": "VIP: only support fork rules up to 1 year old",
  "user": {
    "login": "charles-cooper",
    "id": 3867501,
    "node_id": "MDQ6VXNlcjM4Njc1MDE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/3867501?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/charles-cooper",
    "html_url": "https://github.com/charles-cooper",
    "followers_url": "https://api.github.com/users/charles-cooper/followers",
    "following_url": "https://api.github.com/users/charles-cooper/following{/other_user}",
    "gists_url": "https://api.github.com/users/charles-cooper/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/charles-cooper/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/charles-cooper/subscriptions",
    "organizations_url": "https://api.github.com/users/charles-cooper/orgs",
    "repos_url": "https://api.github.com/users/charles-cooper/repos",
    "events_url": "https://api.github.com/users/charles-cooper/events{/privacy}",
    "received_events_url": "https://api.github.com/users/charles-cooper/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 7,
  "created_at": "2023-04-20T16:47:26Z",
  "updated_at": "2023-05-07T23:03:49Z",
  "closed_at": null,
  "author_association": "COLLABORATOR",
  "active_lock_reason": null,
  "body": "## Simple Summary\r\nOnly support forks (ex. constantinople, etc) up to 1 year old\r\n\r\n## Motivation\r\nEase of maintenance, and old forks aren't really used, so it doesn't make sense to shoulder the maintenance burden.\r\n\r\n## Specification\r\n\r\n## Backwards Compatibility\r\nLose backwards compatibility with old EVM versions.\r\n\r\n## Dependencies\r\nIf this VIP depends on any other VIPs being implemented, please mention them.\r\n\r\n## References\r\nAdd any references that this VIP might reference (other VIPs/issues, links to blog posts, etc.)\r\n\r\n## Copyright\r\nCopyright and related rights waived via [CC0](https://creativecommons.org/publicdomain/zero/1.0/)\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/3365/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/3365/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/1516655735",
    "html_url": "https://github.com/vyperlang/vyper/issues/3365#issuecomment-1516655735",
    "issue_url": "https://api.github.com/repos/vyperlang/vyper/issues/3365",
    "id": 1516655735,
    "node_id": "IC_kwDOBGDvrM5aZlR3",
    "user": {
      "login": "fubuloubu",
      "id": 3859395,
      "node_id": "MDQ6VXNlcjM4NTkzOTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3859395?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fubuloubu",
      "html_url": "https://github.com/fubuloubu",
      "followers_url": "https://api.github.com/users/fubuloubu/followers",
      "following_url": "https://api.github.com/users/fubuloubu/following{/other_user}",
      "gists_url": "https://api.github.com/users/fubuloubu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fubuloubu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fubuloubu/subscriptions",
      "organizations_url": "https://api.github.com/users/fubuloubu/orgs",
      "repos_url": "https://api.github.com/users/fubuloubu/repos",
      "events_url": "https://api.github.com/users/fubuloubu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fubuloubu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-20T16:56:00Z",
    "updated_at": "2023-04-20T16:56:00Z",
    "author_association": "MEMBER",
    "body": "Maybe the best approach here would be to support different networks, vs. specific forks\r\n\r\nSo whatever the latest is across the board for N networks we support, is what we support",
    "reactions": {
      "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/1516655735/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/1519093609",
    "html_url": "https://github.com/vyperlang/vyper/issues/3365#issuecomment-1519093609",
    "issue_url": "https://api.github.com/repos/vyperlang/vyper/issues/3365",
    "id": 1519093609,
    "node_id": "IC_kwDOBGDvrM5ai4dp",
    "user": {
      "login": "charles-cooper",
      "id": 3867501,
      "node_id": "MDQ6VXNlcjM4Njc1MDE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3867501?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/charles-cooper",
      "html_url": "https://github.com/charles-cooper",
      "followers_url": "https://api.github.com/users/charles-cooper/followers",
      "following_url": "https://api.github.com/users/charles-cooper/following{/other_user}",
      "gists_url": "https://api.github.com/users/charles-cooper/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/charles-cooper/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/charles-cooper/subscriptions",
      "organizations_url": "https://api.github.com/users/charles-cooper/orgs",
      "repos_url": "https://api.github.com/users/charles-cooper/repos",
      "events_url": "https://api.github.com/users/charles-cooper/events{/privacy}",
      "received_events_url": "https://api.github.com/users/charles-cooper/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-23T15:30:37Z",
    "updated_at": "2023-04-23T15:30:37Z",
    "author_association": "COLLABORATOR",
    "body": "i mean eth mainnet is de facto standard. so we should probably just follow that, and then maybe add configurable other networks for new features that haven't made it to mainnet yet",
    "reactions": {
      "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/1519093609/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/1519117218",
    "html_url": "https://github.com/vyperlang/vyper/issues/3365#issuecomment-1519117218",
    "issue_url": "https://api.github.com/repos/vyperlang/vyper/issues/3365",
    "id": 1519117218,
    "node_id": "IC_kwDOBGDvrM5ai-Oi",
    "user": {
      "login": "fubuloubu",
      "id": 3859395,
      "node_id": "MDQ6VXNlcjM4NTkzOTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3859395?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fubuloubu",
      "html_url": "https://github.com/fubuloubu",
      "followers_url": "https://api.github.com/users/fubuloubu/followers",
      "following_url": "https://api.github.com/users/fubuloubu/following{/other_user}",
      "gists_url": "https://api.github.com/users/fubuloubu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fubuloubu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fubuloubu/subscriptions",
      "organizations_url": "https://api.github.com/users/fubuloubu/orgs",
      "repos_url": "https://api.github.com/users/fubuloubu/repos",
      "events_url": "https://api.github.com/users/fubuloubu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fubuloubu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-23T17:33:43Z",
    "updated_at": "2023-04-23T17:33:43Z",
    "author_association": "MEMBER",
    "body": "> i mean eth mainnet is de facto standard. so we should probably just follow that, and then maybe add configurable other networks for new features that haven't made it to mainnet yet\n\nSome networks like polygon, BSC, fantom, etc. May not support specific new opcodes yet, or may have already added support (berachain added transient storage) ",
    "reactions": {
      "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/1519117218/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/1519117913",
    "html_url": "https://github.com/vyperlang/vyper/issues/3365#issuecomment-1519117913",
    "issue_url": "https://api.github.com/repos/vyperlang/vyper/issues/3365",
    "id": 1519117913,
    "node_id": "IC_kwDOBGDvrM5ai-ZZ",
    "user": {
      "login": "charles-cooper",
      "id": 3867501,
      "node_id": "MDQ6VXNlcjM4Njc1MDE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3867501?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/charles-cooper",
      "html_url": "https://github.com/charles-cooper",
      "followers_url": "https://api.github.com/users/charles-cooper/followers",
      "following_url": "https://api.github.com/users/charles-cooper/following{/other_user}",
      "gists_url": "https://api.github.com/users/charles-cooper/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/charles-cooper/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/charles-cooper/subscriptions",
      "organizations_url": "https://api.github.com/users/charles-cooper/orgs",
      "repos_url": "https://api.github.com/users/charles-cooper/repos",
      "events_url": "https://api.github.com/users/charles-cooper/events{/privacy}",
      "received_events_url": "https://api.github.com/users/charles-cooper/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-23T17:37:43Z",
    "updated_at": "2023-04-23T17:37:43Z",
    "author_association": "COLLABORATOR",
    "body": "> Some networks like polygon, BSC, fantom, etc. May not support specific new opcodes yet, or may have already added support (berachain added transient storage)\r\n\r\nhow far behind are polygon, BSC, fantom etc typically from mainnet? if it's less than a few months, then we could even not support any non-current EVM versions since our release cadence is typically 1-3 months.",
    "reactions": {
      "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/1519117913/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/1519131861",
    "html_url": "https://github.com/vyperlang/vyper/issues/3365#issuecomment-1519131861",
    "issue_url": "https://api.github.com/repos/vyperlang/vyper/issues/3365",
    "id": 1519131861,
    "node_id": "IC_kwDOBGDvrM5ajBzV",
    "user": {
      "login": "fubuloubu",
      "id": 3859395,
      "node_id": "MDQ6VXNlcjM4NTkzOTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3859395?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fubuloubu",
      "html_url": "https://github.com/fubuloubu",
      "followers_url": "https://api.github.com/users/fubuloubu/followers",
      "following_url": "https://api.github.com/users/fubuloubu/following{/other_user}",
      "gists_url": "https://api.github.com/users/fubuloubu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fubuloubu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fubuloubu/subscriptions",
      "organizations_url": "https://api.github.com/users/fubuloubu/orgs",
      "repos_url": "https://api.github.com/users/fubuloubu/repos",
      "events_url": "https://api.github.com/users/fubuloubu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fubuloubu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-04-23T18:55:08Z",
    "updated_at": "2023-04-23T18:55:28Z",
    "author_association": "MEMBER",
    "body": "> > Some networks like polygon, BSC, fantom, etc. May not support specific new opcodes yet, or may have already added support (berachain added transient storage)\r\n> \r\n> how far behind are polygon, BSC, fantom etc typically from mainnet? if it's less than a few months, then we could even not support any non-current EVM versions since our release cadence is typically 1-3 months.\r\n\r\nNot completely sure. I think there's at least one example of an alt L1 that does not implement an Ethereum EVM-specific opcode, that might be a year or more out of date",
    "reactions": {
      "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/1519131861/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/1536568240",
    "html_url": "https://github.com/vyperlang/vyper/issues/3365#issuecomment-1536568240",
    "issue_url": "https://api.github.com/repos/vyperlang/vyper/issues/3365",
    "id": 1536568240,
    "node_id": "IC_kwDOBGDvrM5bliuw",
    "user": {
      "login": "bobsummerwill",
      "id": 3788156,
      "node_id": "MDQ6VXNlcjM3ODgxNTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3788156?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/bobsummerwill",
      "html_url": "https://github.com/bobsummerwill",
      "followers_url": "https://api.github.com/users/bobsummerwill/followers",
      "following_url": "https://api.github.com/users/bobsummerwill/following{/other_user}",
      "gists_url": "https://api.github.com/users/bobsummerwill/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/bobsummerwill/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/bobsummerwill/subscriptions",
      "organizations_url": "https://api.github.com/users/bobsummerwill/orgs",
      "repos_url": "https://api.github.com/users/bobsummerwill/repos",
      "events_url": "https://api.github.com/users/bobsummerwill/events{/privacy}",
      "received_events_url": "https://api.github.com/users/bobsummerwill/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-05T17:32:31Z",
    "updated_at": "2023-05-05T17:32:31Z",
    "author_association": "NONE",
    "body": "ETC Cooperative funded the conditional versioning support in Vyper in the first place back in 2020, because at that time ETC was lagging very far behind:\r\n\r\nhttps://etccooperative.org/posts/2020-01-07-vyper-support-comes-to-etc\r\n\r\nThat is not the case anymore.  We've been tracking within 6-12 months since mid-2020, but I could see how some chains could be lagging.   Without such support, users would have to use older versions of Vyper, which could be missing security or performance fixes.\r\n\r\nFrom having maintained central tech myself for years, I know the tradeoffs here.   The broader the set of versions you support, the better you serve your end users.   You always want them to be using the latest or close to latest that they can, but there might be a whole range of reasons you do not know which constrains that for them.\r\n\r\nI guess my question is how burdensome having a range of versions supported is?  How much conditional code do you have?  Is it often painful during testing?\r\n\r\nLow level technology *is* often covered with warts and hacks.\r\n\r\nETC is still \"London\" and we are not in a rush to implemented \"Shanghai\", though might do it later in the year.   How much difference is there in Vyper for London vs Shanghai?",
    "reactions": {
      "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/1536568240/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/1537561205",
    "html_url": "https://github.com/vyperlang/vyper/issues/3365#issuecomment-1537561205",
    "issue_url": "https://api.github.com/repos/vyperlang/vyper/issues/3365",
    "id": 1537561205,
    "node_id": "IC_kwDOBGDvrM5bpVJ1",
    "user": {
      "login": "charles-cooper",
      "id": 3867501,
      "node_id": "MDQ6VXNlcjM4Njc1MDE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3867501?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/charles-cooper",
      "html_url": "https://github.com/charles-cooper",
      "followers_url": "https://api.github.com/users/charles-cooper/followers",
      "following_url": "https://api.github.com/users/charles-cooper/following{/other_user}",
      "gists_url": "https://api.github.com/users/charles-cooper/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/charles-cooper/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/charles-cooper/subscriptions",
      "organizations_url": "https://api.github.com/users/charles-cooper/orgs",
      "repos_url": "https://api.github.com/users/charles-cooper/repos",
      "events_url": "https://api.github.com/users/charles-cooper/events{/privacy}",
      "received_events_url": "https://api.github.com/users/charles-cooper/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2023-05-07T23:03:48Z",
    "updated_at": "2023-05-07T23:03:48Z",
    "author_association": "COLLABORATOR",
    "body": "for vyper, london vs shanghai is mainly the ability to use the `PUSH0` opcode. and, we don't have *that* much conditional code - see hits for `check_version()` in the codebase.\r\n![Screenshot from 2023-05-07 15-59-41](https://user-images.githubusercontent.com/3867501/236706715-f6edf985-a6fd-448e-a7c1-a7a5b19bcfb0.png)\r\n\r\nit does get more complicated the more versions we have. we end up maintaining more conditional code, and there are issues with users sometimes using very old versions when they shouldn't be. i am a bit more concerned with upcoming changes: transient storage, which might result in language changes (ex. #3380 which can't be implemented pre-1153), and EOF, which if and when we need to support it, will be tantamount to having to support two different backends.",
    "reactions": {
      "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/1537561205/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
