{
  "url": "https://api.github.com/repos/vyperlang/vyper/issues/2381",
  "repository_url": "https://api.github.com/repos/vyperlang/vyper",
  "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/2381/labels{/name}",
  "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/2381/comments",
  "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/2381/events",
  "html_url": "https://github.com/vyperlang/vyper/issues/2381",
  "id": 940198776,
  "node_id": "MDU6SXNzdWU5NDAxOTg3NzY=",
  "number": 2381,
  "title": "VIP: Convert Struct construction to use kwargs",
  "user": {
    "login": "fubuloubu",
    "id": 3859395,
    "node_id": "MDQ6VXNlcjM4NTkzOTU=",
    "avatar_url": "https://avatars.githubusercontent.com/u/3859395?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/fubuloubu",
    "html_url": "https://github.com/fubuloubu",
    "followers_url": "https://api.github.com/users/fubuloubu/followers",
    "following_url": "https://api.github.com/users/fubuloubu/following{/other_user}",
    "gists_url": "https://api.github.com/users/fubuloubu/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/fubuloubu/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/fubuloubu/subscriptions",
    "organizations_url": "https://api.github.com/users/fubuloubu/orgs",
    "repos_url": "https://api.github.com/users/fubuloubu/repos",
    "events_url": "https://api.github.com/users/fubuloubu/events{/privacy}",
    "received_events_url": "https://api.github.com/users/fubuloubu/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 757250644,
      "node_id": "MDU6TGFiZWw3NTcyNTA2NDQ=",
      "url": "https://api.github.com/repos/vyperlang/vyper/labels/VIP:%20Approved",
      "name": "VIP: Approved",
      "color": "98f765",
      "default": false,
      "description": "VIP Approved"
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": {
    "url": "https://api.github.com/repos/vyperlang/vyper/milestones/4",
    "html_url": "https://github.com/vyperlang/vyper/milestone/4",
    "labels_url": "https://api.github.com/repos/vyperlang/vyper/milestones/4/labels",
    "id": 8047166,
    "node_id": "MI_kwDOBGDvrM4Aeso-",
    "number": 4,
    "title": "v0.4.0",
    "description": null,
    "creator": {
      "login": "charles-cooper",
      "id": 3867501,
      "node_id": "MDQ6VXNlcjM4Njc1MDE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3867501?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/charles-cooper",
      "html_url": "https://github.com/charles-cooper",
      "followers_url": "https://api.github.com/users/charles-cooper/followers",
      "following_url": "https://api.github.com/users/charles-cooper/following{/other_user}",
      "gists_url": "https://api.github.com/users/charles-cooper/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/charles-cooper/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/charles-cooper/subscriptions",
      "organizations_url": "https://api.github.com/users/charles-cooper/orgs",
      "repos_url": "https://api.github.com/users/charles-cooper/repos",
      "events_url": "https://api.github.com/users/charles-cooper/events{/privacy}",
      "received_events_url": "https://api.github.com/users/charles-cooper/received_events",
      "type": "User",
      "site_admin": false
    },
    "open_issues": 6,
    "closed_issues": 0,
    "state": "open",
    "created_at": "2022-06-03T16:44:20Z",
    "updated_at": "2023-05-24T15:51:35Z",
    "due_on": null,
    "closed_at": null
  },
  "comments": 8,
  "created_at": "2021-07-08T20:31:36Z",
  "updated_at": "2022-06-03T16:44:20Z",
  "closed_at": null,
  "author_association": "MEMBER",
  "active_lock_reason": null,
  "body": "## Simple Summary\r\nAdd less overhead and improve type safety of creating a struct\r\n\r\n## Motivation\r\nCurrently, to create a struct it takes a lot of overhead because of the use of modified dict syntax:\r\n```python\r\nstruct MyStruct:\r\n    a: address\r\n    b: bytes32\r\n    c: bool\r\n\r\n...\r\n\r\ns: MyStruct = MyStruct({a: a, b: b, c: True})\r\n```\r\n\r\nThis might be a little confusing to newcomers because of how we expected to write strings for dict args (most of the time), plus you don't get the benefit of additional features like struct member name matching or default values for struct members.\r\n\r\n## Specification\r\nThis proposal would modify the structure syntax to the following:\r\n\r\n```python\r\ns: MyStruct = MyStruct(a, b, c=True)\r\n```\r\n\r\nThe trick is to interpret this as using them like keyword args, where all struct members have a default value (e.g. whatever their \"empty\" value would be if the struct member didn't appear). We would gain additional type safety here via the `member_name=value` syntax, which can be bypassed *if and only if* the name of the variable matches the name of the struct member (e.g. `a` and `b` here). This would be typical for input arg names to functions, making it very easy to create a new struct from call args.\r\n\r\n## Backwards Compatibility\r\nThis would be a backwards-incompatible change to the struct creation syntax\r\n\r\n## Dependencies\r\nNo dependnecies\r\n\r\n## References\r\nNo references\r\n\r\n## Copyright\r\nCopyright and related rights waived via [CC0](https://creativecommons.org/publicdomain/zero/1.0/)\r\n",
  "closed_by": null,
  "reactions": {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/2381/reactions",
    "total_count": 1,
    "+1": 1,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/2381/timeline",
  "performed_via_github_app": null,
  "state_reason": null
}
[
  {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/876727062",
    "html_url": "https://github.com/vyperlang/vyper/issues/2381#issuecomment-876727062",
    "issue_url": "https://api.github.com/repos/vyperlang/vyper/issues/2381",
    "id": 876727062,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3NjcyNzA2Mg==",
    "user": {
      "login": "fubuloubu",
      "id": 3859395,
      "node_id": "MDQ6VXNlcjM4NTkzOTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3859395?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fubuloubu",
      "html_url": "https://github.com/fubuloubu",
      "followers_url": "https://api.github.com/users/fubuloubu/followers",
      "following_url": "https://api.github.com/users/fubuloubu/following{/other_user}",
      "gists_url": "https://api.github.com/users/fubuloubu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fubuloubu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fubuloubu/subscriptions",
      "organizations_url": "https://api.github.com/users/fubuloubu/orgs",
      "repos_url": "https://api.github.com/users/fubuloubu/repos",
      "events_url": "https://api.github.com/users/fubuloubu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fubuloubu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-08T20:31:55Z",
    "updated_at": "2021-07-08T20:31:55Z",
    "author_association": "MEMBER",
    "body": "Note: we should do the same with Event logs",
    "reactions": {
      "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/876727062/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/876752869",
    "html_url": "https://github.com/vyperlang/vyper/issues/2381#issuecomment-876752869",
    "issue_url": "https://api.github.com/repos/vyperlang/vyper/issues/2381",
    "id": 876752869,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3Njc1Mjg2OQ==",
    "user": {
      "login": "charles-cooper",
      "id": 3867501,
      "node_id": "MDQ6VXNlcjM4Njc1MDE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3867501?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/charles-cooper",
      "html_url": "https://github.com/charles-cooper",
      "followers_url": "https://api.github.com/users/charles-cooper/followers",
      "following_url": "https://api.github.com/users/charles-cooper/following{/other_user}",
      "gists_url": "https://api.github.com/users/charles-cooper/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/charles-cooper/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/charles-cooper/subscriptions",
      "organizations_url": "https://api.github.com/users/charles-cooper/orgs",
      "repos_url": "https://api.github.com/users/charles-cooper/repos",
      "events_url": "https://api.github.com/users/charles-cooper/events{/privacy}",
      "received_events_url": "https://api.github.com/users/charles-cooper/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-08T21:19:39Z",
    "updated_at": "2021-07-08T21:19:39Z",
    "author_association": "COLLABORATOR",
    "body": "I like the idea of using the kwargs syntax, not so excited about default values and positional args (both increase the risk of misleading code IMO).",
    "reactions": {
      "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/876752869/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/876787659",
    "html_url": "https://github.com/vyperlang/vyper/issues/2381#issuecomment-876787659",
    "issue_url": "https://api.github.com/repos/vyperlang/vyper/issues/2381",
    "id": 876787659,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3Njc4NzY1OQ==",
    "user": {
      "login": "fubuloubu",
      "id": 3859395,
      "node_id": "MDQ6VXNlcjM4NTkzOTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3859395?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fubuloubu",
      "html_url": "https://github.com/fubuloubu",
      "followers_url": "https://api.github.com/users/fubuloubu/followers",
      "following_url": "https://api.github.com/users/fubuloubu/following{/other_user}",
      "gists_url": "https://api.github.com/users/fubuloubu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fubuloubu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fubuloubu/subscriptions",
      "organizations_url": "https://api.github.com/users/fubuloubu/orgs",
      "repos_url": "https://api.github.com/users/fubuloubu/repos",
      "events_url": "https://api.github.com/users/fubuloubu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fubuloubu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-08T22:34:25Z",
    "updated_at": "2021-07-08T22:37:43Z",
    "author_association": "MEMBER",
    "body": "> I like the idea of using the kwargs syntax, not so excited about default values and positional args (both increase the risk of misleading code IMO).\r\n\r\nTo be clear, this proposal would not have positional args in the traditional sense, all args would be kwargs (meaning they can be in any position and still work as kwargs because we will use the actual name to determine positioning and disallow out-of-order positioning). This is more akin to how Rust's syntax for structs are, or more like how `foo(**kwargs)` applies names without using the positioning\r\n\r\nDefault values are nice for code deduplication. It's a little more opaque, but still acceptable because any good reviewer should know what the \"default\" value should be\r\n\r\n---\r\n\r\nEdit: let's talk about this more, your concern is valid, but the implementation of this would be slightly different than how Python works w/ kwargs",
    "reactions": {
      "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/876787659/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/876796706",
    "html_url": "https://github.com/vyperlang/vyper/issues/2381#issuecomment-876796706",
    "issue_url": "https://api.github.com/repos/vyperlang/vyper/issues/2381",
    "id": 876796706,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3Njc5NjcwNg==",
    "user": {
      "login": "charles-cooper",
      "id": 3867501,
      "node_id": "MDQ6VXNlcjM4Njc1MDE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3867501?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/charles-cooper",
      "html_url": "https://github.com/charles-cooper",
      "followers_url": "https://api.github.com/users/charles-cooper/followers",
      "following_url": "https://api.github.com/users/charles-cooper/following{/other_user}",
      "gists_url": "https://api.github.com/users/charles-cooper/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/charles-cooper/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/charles-cooper/subscriptions",
      "organizations_url": "https://api.github.com/users/charles-cooper/orgs",
      "repos_url": "https://api.github.com/users/charles-cooper/repos",
      "events_url": "https://api.github.com/users/charles-cooper/events{/privacy}",
      "received_events_url": "https://api.github.com/users/charles-cooper/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-08T23:00:59Z",
    "updated_at": "2021-07-08T23:00:59Z",
    "author_association": "COLLABORATOR",
    "body": "Yeah let's talk about it more. My thought right now is I think we should split out the default kwargs for its own VIP. I feel like that's a feature that's easy to add and hard to take out.\r\n\r\nAlso, defaults for kwargs is a semantic change. If we only discuss the syntax here then we can be sure the VIP deals strictly with a syntactic change to the language, that makes it simpler to reason about, any proposed semantic changes can be dealt with separately.",
    "reactions": {
      "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/876796706/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/876894278",
    "html_url": "https://github.com/vyperlang/vyper/issues/2381#issuecomment-876894278",
    "issue_url": "https://api.github.com/repos/vyperlang/vyper/issues/2381",
    "id": 876894278,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3Njg5NDI3OA==",
    "user": {
      "login": "charles-cooper",
      "id": 3867501,
      "node_id": "MDQ6VXNlcjM4Njc1MDE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3867501?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/charles-cooper",
      "html_url": "https://github.com/charles-cooper",
      "followers_url": "https://api.github.com/users/charles-cooper/followers",
      "following_url": "https://api.github.com/users/charles-cooper/following{/other_user}",
      "gists_url": "https://api.github.com/users/charles-cooper/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/charles-cooper/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/charles-cooper/subscriptions",
      "organizations_url": "https://api.github.com/users/charles-cooper/orgs",
      "repos_url": "https://api.github.com/users/charles-cooper/repos",
      "events_url": "https://api.github.com/users/charles-cooper/events{/privacy}",
      "received_events_url": "https://api.github.com/users/charles-cooper/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-09T03:59:17Z",
    "updated_at": "2021-07-09T04:01:37Z",
    "author_association": "COLLABORATOR",
    "body": "EDIT: removed my comment because I proposed something @fubuloubu proposed to begin with (because I am a derp)",
    "reactions": {
      "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/876894278/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/876894534",
    "html_url": "https://github.com/vyperlang/vyper/issues/2381#issuecomment-876894534",
    "issue_url": "https://api.github.com/repos/vyperlang/vyper/issues/2381",
    "id": 876894534,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3Njg5NDUzNA==",
    "user": {
      "login": "fubuloubu",
      "id": 3859395,
      "node_id": "MDQ6VXNlcjM4NTkzOTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3859395?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fubuloubu",
      "html_url": "https://github.com/fubuloubu",
      "followers_url": "https://api.github.com/users/fubuloubu/followers",
      "following_url": "https://api.github.com/users/fubuloubu/following{/other_user}",
      "gists_url": "https://api.github.com/users/fubuloubu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fubuloubu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fubuloubu/subscriptions",
      "organizations_url": "https://api.github.com/users/fubuloubu/orgs",
      "repos_url": "https://api.github.com/users/fubuloubu/repos",
      "events_url": "https://api.github.com/users/fubuloubu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fubuloubu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-09T04:00:14Z",
    "updated_at": "2021-07-09T04:00:14Z",
    "author_association": "MEMBER",
    "body": "> Here's an idea though, what if we allow \"positional\" args but only if the variable name is exactly the same as the parameter name.\r\n\r\nYes! This is exactly what I was trying to say above, very much like how Rust handles structs.\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/876894534/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/876895116",
    "html_url": "https://github.com/vyperlang/vyper/issues/2381#issuecomment-876895116",
    "issue_url": "https://api.github.com/repos/vyperlang/vyper/issues/2381",
    "id": 876895116,
    "node_id": "MDEyOklzc3VlQ29tbWVudDg3Njg5NTExNg==",
    "user": {
      "login": "charles-cooper",
      "id": 3867501,
      "node_id": "MDQ6VXNlcjM4Njc1MDE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3867501?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/charles-cooper",
      "html_url": "https://github.com/charles-cooper",
      "followers_url": "https://api.github.com/users/charles-cooper/followers",
      "following_url": "https://api.github.com/users/charles-cooper/following{/other_user}",
      "gists_url": "https://api.github.com/users/charles-cooper/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/charles-cooper/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/charles-cooper/subscriptions",
      "organizations_url": "https://api.github.com/users/charles-cooper/orgs",
      "repos_url": "https://api.github.com/users/charles-cooper/repos",
      "events_url": "https://api.github.com/users/charles-cooper/events{/privacy}",
      "received_events_url": "https://api.github.com/users/charles-cooper/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-09T04:01:57Z",
    "updated_at": "2021-07-09T04:02:10Z",
    "author_association": "COLLABORATOR",
    "body": "> Yes! This is exactly what I was trying to say above, very much like how Rust handles structs.\r\n\r\nYes I see that, lol! My bad",
    "reactions": {
      "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/876895116/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/882801070",
    "html_url": "https://github.com/vyperlang/vyper/issues/2381#issuecomment-882801070",
    "issue_url": "https://api.github.com/repos/vyperlang/vyper/issues/2381",
    "id": 882801070,
    "node_id": "IC_kwDOBGDvrM40nnmu",
    "user": {
      "login": "fubuloubu",
      "id": 3859395,
      "node_id": "MDQ6VXNlcjM4NTkzOTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3859395?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fubuloubu",
      "html_url": "https://github.com/fubuloubu",
      "followers_url": "https://api.github.com/users/fubuloubu/followers",
      "following_url": "https://api.github.com/users/fubuloubu/following{/other_user}",
      "gists_url": "https://api.github.com/users/fubuloubu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fubuloubu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fubuloubu/subscriptions",
      "organizations_url": "https://api.github.com/users/fubuloubu/orgs",
      "repos_url": "https://api.github.com/users/fubuloubu/repos",
      "events_url": "https://api.github.com/users/fubuloubu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fubuloubu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-07-19T19:27:39Z",
    "updated_at": "2021-07-19T19:27:39Z",
    "author_association": "MEMBER",
    "body": "Meeting: only do kwargs",
    "reactions": {
      "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/882801070/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
