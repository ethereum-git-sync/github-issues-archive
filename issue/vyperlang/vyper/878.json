{
  "url": "https://api.github.com/repos/vyperlang/vyper/issues/878",
  "repository_url": "https://api.github.com/repos/vyperlang/vyper",
  "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/878/labels{/name}",
  "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/878/comments",
  "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/878/events",
  "html_url": "https://github.com/vyperlang/vyper/issues/878",
  "id": 330145305,
  "node_id": "MDU6SXNzdWUzMzAxNDUzMDU=",
  "number": 878,
  "title": "Adding sourceMap output to the compiler",
  "user": {
    "login": "fergarrui",
    "id": 4693676,
    "node_id": "MDQ6VXNlcjQ2OTM2NzY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/4693676?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/fergarrui",
    "html_url": "https://github.com/fergarrui",
    "followers_url": "https://api.github.com/users/fergarrui/followers",
    "following_url": "https://api.github.com/users/fergarrui/following{/other_user}",
    "gists_url": "https://api.github.com/users/fergarrui/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/fergarrui/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/fergarrui/subscriptions",
    "organizations_url": "https://api.github.com/users/fergarrui/orgs",
    "repos_url": "https://api.github.com/users/fergarrui/repos",
    "events_url": "https://api.github.com/users/fergarrui/events{/privacy}",
    "received_events_url": "https://api.github.com/users/fergarrui/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 479554964,
      "node_id": "MDU6TGFiZWw0Nzk1NTQ5NjQ=",
      "url": "https://api.github.com/repos/vyperlang/vyper/labels/enhancement",
      "name": "enhancement",
      "color": "84b6eb",
      "default": true,
      "description": null
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 7,
  "created_at": "2018-06-07T07:14:59Z",
  "updated_at": "2018-11-15T11:31:22Z",
  "closed_at": "2018-11-15T10:49:26Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "I didn't follow the VIP template because this is more a question than a proposal.\r\nBasically, I am building a (for now) graphical Solidity debugger (https://github.com/fergarrui/ethereum-graph-debugger), and I would like to integrate Vyper and LLL into it.\r\nI had a look to your compiler and I couldn't find an output that I can use to map bytecode to source code (something similar to the sourceMap in Solidity or the JSON ASM output again from Solidity).\r\n\r\nAm I missing something?\r\nDo you plan to add this kind of features?\r\nDo you already have debugging tools?",
  "closed_by": {
    "login": "jacqueswww",
    "id": 6917456,
    "node_id": "MDQ6VXNlcjY5MTc0NTY=",
    "avatar_url": "https://avatars.githubusercontent.com/u/6917456?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/jacqueswww",
    "html_url": "https://github.com/jacqueswww",
    "followers_url": "https://api.github.com/users/jacqueswww/followers",
    "following_url": "https://api.github.com/users/jacqueswww/following{/other_user}",
    "gists_url": "https://api.github.com/users/jacqueswww/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/jacqueswww/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/jacqueswww/subscriptions",
    "organizations_url": "https://api.github.com/users/jacqueswww/orgs",
    "repos_url": "https://api.github.com/users/jacqueswww/repos",
    "events_url": "https://api.github.com/users/jacqueswww/events{/privacy}",
    "received_events_url": "https://api.github.com/users/jacqueswww/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/878/reactions",
    "total_count": 0,
    "+1": 0,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/878/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/395343580",
    "html_url": "https://github.com/vyperlang/vyper/issues/878#issuecomment-395343580",
    "issue_url": "https://api.github.com/repos/vyperlang/vyper/issues/878",
    "id": 395343580,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NTM0MzU4MA==",
    "user": {
      "login": "jacqueswww",
      "id": 6917456,
      "node_id": "MDQ6VXNlcjY5MTc0NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6917456?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jacqueswww",
      "html_url": "https://github.com/jacqueswww",
      "followers_url": "https://api.github.com/users/jacqueswww/followers",
      "following_url": "https://api.github.com/users/jacqueswww/following{/other_user}",
      "gists_url": "https://api.github.com/users/jacqueswww/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jacqueswww/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jacqueswww/subscriptions",
      "organizations_url": "https://api.github.com/users/jacqueswww/orgs",
      "repos_url": "https://api.github.com/users/jacqueswww/repos",
      "events_url": "https://api.github.com/users/jacqueswww/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jacqueswww/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-07T08:49:07Z",
    "updated_at": "2018-06-07T08:49:07Z",
    "author_association": "CONTRIBUTOR",
    "body": "Hi @fergarrui ,\r\n\r\nThis still has to be implemented, do you have reference for what solidity is using?",
    "reactions": {
      "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/395343580/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/395344421",
    "html_url": "https://github.com/vyperlang/vyper/issues/878#issuecomment-395344421",
    "issue_url": "https://api.github.com/repos/vyperlang/vyper/issues/878",
    "id": 395344421,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NTM0NDQyMQ==",
    "user": {
      "login": "jacqueswww",
      "id": 6917456,
      "node_id": "MDQ6VXNlcjY5MTc0NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6917456?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jacqueswww",
      "html_url": "https://github.com/jacqueswww",
      "followers_url": "https://api.github.com/users/jacqueswww/followers",
      "following_url": "https://api.github.com/users/jacqueswww/following{/other_user}",
      "gists_url": "https://api.github.com/users/jacqueswww/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jacqueswww/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jacqueswww/subscriptions",
      "organizations_url": "https://api.github.com/users/jacqueswww/orgs",
      "repos_url": "https://api.github.com/users/jacqueswww/repos",
      "events_url": "https://api.github.com/users/jacqueswww/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jacqueswww/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-07T08:52:07Z",
    "updated_at": "2018-06-07T08:52:48Z",
    "author_association": "CONTRIBUTOR",
    "body": "Ha, seem to have found the reference: https://solidity.readthedocs.io/en/develop/miscellaneous.html#source-mappings\r\n\r\nIs that the source map you use for your debugger?",
    "reactions": {
      "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/395344421/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/395347655",
    "html_url": "https://github.com/vyperlang/vyper/issues/878#issuecomment-395347655",
    "issue_url": "https://api.github.com/repos/vyperlang/vyper/issues/878",
    "id": 395347655,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NTM0NzY1NQ==",
    "user": {
      "login": "fergarrui",
      "id": 4693676,
      "node_id": "MDQ6VXNlcjQ2OTM2NzY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4693676?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fergarrui",
      "html_url": "https://github.com/fergarrui",
      "followers_url": "https://api.github.com/users/fergarrui/followers",
      "following_url": "https://api.github.com/users/fergarrui/following{/other_user}",
      "gists_url": "https://api.github.com/users/fergarrui/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fergarrui/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fergarrui/subscriptions",
      "organizations_url": "https://api.github.com/users/fergarrui/orgs",
      "repos_url": "https://api.github.com/users/fergarrui/repos",
      "events_url": "https://api.github.com/users/fergarrui/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fergarrui/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-07T09:02:26Z",
    "updated_at": "2018-06-07T09:03:30Z",
    "author_association": "NONE",
    "body": "That's the documentation they have, yes.\r\nBut I actually use a different thing to map the bytecode and the source code:\r\n```\r\nsolc --pretty-json --combined-json asm ContractName.sol\r\n```\r\nThat outputs something like:\r\n```\r\n// [...] removing non relevant output\r\n{\r\n            \"begin\" : 26,\r\n            \"end\" : 320,\r\n            \"name\" : \"PUSH\",\r\n            \"value\" : \"80\"\r\n          },\r\n          {\r\n            \"begin\" : 26,\r\n            \"end\" : 320,\r\n            \"name\" : \"PUSH\",\r\n            \"value\" : \"40\"\r\n          },\r\n          {\r\n            \"begin\" : 26,\r\n            \"end\" : 320,\r\n            \"name\" : \"MSTORE\"\r\n          },\r\n          {\r\n            \"begin\" : 26,\r\n            \"end\" : 320,\r\n            \"name\" : \"CALLVALUE\"\r\n          },\r\n          {\r\n            \"begin\" : 8,\r\n            \"end\" : 17,\r\n            \"name\" : \"DUP1\"\r\n          },\r\n          {\r\n            \"begin\" : 5,\r\n            \"end\" : 7,\r\n            \"name\" : \"ISZERO\"\r\n          }\r\n// [...] removing non relevant output\r\n```\r\nI think that's simpler to implement and to use.\r\nJust with something like that I could start integrating Vyper (I still have many things to do with the debugger, so no rush at all)",
    "reactions": {
      "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/395347655/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/395471267",
    "html_url": "https://github.com/vyperlang/vyper/issues/878#issuecomment-395471267",
    "issue_url": "https://api.github.com/repos/vyperlang/vyper/issues/878",
    "id": 395471267,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NTQ3MTI2Nw==",
    "user": {
      "login": "jacqueswww",
      "id": 6917456,
      "node_id": "MDQ6VXNlcjY5MTc0NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6917456?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jacqueswww",
      "html_url": "https://github.com/jacqueswww",
      "followers_url": "https://api.github.com/users/jacqueswww/followers",
      "following_url": "https://api.github.com/users/jacqueswww/following{/other_user}",
      "gists_url": "https://api.github.com/users/jacqueswww/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jacqueswww/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jacqueswww/subscriptions",
      "organizations_url": "https://api.github.com/users/jacqueswww/orgs",
      "repos_url": "https://api.github.com/users/jacqueswww/repos",
      "events_url": "https://api.github.com/users/jacqueswww/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jacqueswww/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-07T15:50:52Z",
    "updated_at": "2018-06-07T15:50:52Z",
    "author_association": "CONTRIBUTOR",
    "body": "@fergarrui I see... What do the begin, end, value represent exactly?",
    "reactions": {
      "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/395471267/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/395476798",
    "html_url": "https://github.com/vyperlang/vyper/issues/878#issuecomment-395476798",
    "issue_url": "https://api.github.com/repos/vyperlang/vyper/issues/878",
    "id": 395476798,
    "node_id": "MDEyOklzc3VlQ29tbWVudDM5NTQ3Njc5OA==",
    "user": {
      "login": "fergarrui",
      "id": 4693676,
      "node_id": "MDQ6VXNlcjQ2OTM2NzY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/4693676?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fergarrui",
      "html_url": "https://github.com/fergarrui",
      "followers_url": "https://api.github.com/users/fergarrui/followers",
      "following_url": "https://api.github.com/users/fergarrui/following{/other_user}",
      "gists_url": "https://api.github.com/users/fergarrui/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fergarrui/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fergarrui/subscriptions",
      "organizations_url": "https://api.github.com/users/fergarrui/orgs",
      "repos_url": "https://api.github.com/users/fergarrui/repos",
      "events_url": "https://api.github.com/users/fergarrui/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fergarrui/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-06-07T16:07:37Z",
    "updated_at": "2018-06-07T16:09:05Z",
    "author_association": "NONE",
    "body": "Begin and end represent character indexes in the source code file.\r\nFor example, let's say we have this contract in Solidity:\r\n\r\n```\r\npragma solidity ^0.4.23;\r\n\r\nimport \"./CallerCalled.sol\";\r\n\r\ncontract Caller {\r\n    \r\n    function callSomebody(address _calledcalled, address _called, uint _n) public {\r\n        CallerCalled called = CallerCalled(_calledcalled);\r\n        called.callCall(_called, _n);\r\n    }\r\n}\r\n\r\n```\r\n\r\nAnd the compiler gave us this output:\r\n\r\n```\r\n[...] // many more opcodes here\r\n     {\r\n        \"begin\" : 230,\r\n        \"end\" : 258,\r\n        \"name\" : \"CALL\"\r\n      },\r\n[...] // many more opcodes here\r\n```\r\nThat opcode, refers exactly to the source code between begin and end, that would be `called.callCall(_called, _n)`. The value in `begin` would be the start character index, and `end`, the character index that corresponds to the end of the statement.\r\n\r\nValue is only populated for PUSH opcodes, it represents the argument of the opcode, `PUSH` with a 40 `value` would add 0x40 to the stack but that's not necessary for debugging.\r\n\r\n\r\n",
    "reactions": {
      "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/395476798/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/426693327",
    "html_url": "https://github.com/vyperlang/vyper/issues/878#issuecomment-426693327",
    "issue_url": "https://api.github.com/repos/vyperlang/vyper/issues/878",
    "id": 426693327,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQyNjY5MzMyNw==",
    "user": {
      "login": "jacqueswww",
      "id": 6917456,
      "node_id": "MDQ6VXNlcjY5MTc0NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6917456?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jacqueswww",
      "html_url": "https://github.com/jacqueswww",
      "followers_url": "https://api.github.com/users/jacqueswww/followers",
      "following_url": "https://api.github.com/users/jacqueswww/following{/other_user}",
      "gists_url": "https://api.github.com/users/jacqueswww/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jacqueswww/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jacqueswww/subscriptions",
      "organizations_url": "https://api.github.com/users/jacqueswww/orgs",
      "repos_url": "https://api.github.com/users/jacqueswww/repos",
      "events_url": "https://api.github.com/users/jacqueswww/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jacqueswww/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-10-03T16:01:25Z",
    "updated_at": "2018-10-03T16:01:35Z",
    "author_association": "CONTRIBUTOR",
    "body": "@nrryuya I want to start looking into this. Could you elaborate on what type of source map you require for remix?",
    "reactions": {
      "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/426693327/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/438998658",
    "html_url": "https://github.com/vyperlang/vyper/issues/878#issuecomment-438998658",
    "issue_url": "https://api.github.com/repos/vyperlang/vyper/issues/878",
    "id": 438998658,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQzODk5ODY1OA==",
    "user": {
      "login": "jacqueswww",
      "id": 6917456,
      "node_id": "MDQ6VXNlcjY5MTc0NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6917456?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jacqueswww",
      "html_url": "https://github.com/jacqueswww",
      "followers_url": "https://api.github.com/users/jacqueswww/followers",
      "following_url": "https://api.github.com/users/jacqueswww/following{/other_user}",
      "gists_url": "https://api.github.com/users/jacqueswww/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jacqueswww/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jacqueswww/subscriptions",
      "organizations_url": "https://api.github.com/users/jacqueswww/orgs",
      "repos_url": "https://api.github.com/users/jacqueswww/repos",
      "events_url": "https://api.github.com/users/jacqueswww/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jacqueswww/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-11-15T10:49:26Z",
    "updated_at": "2018-11-15T11:31:22Z",
    "author_association": "CONTRIBUTOR",
    "body": "@fergarrui there is a simple _vyper style_ source map avialable now. It contains `breakpoints` for a list of lines with breakpoints and `pc_pos_map` which maps the PC value to [line_no, coll_offset] using `-f source_map`.\r\n\r\nI am closing this issue for now, as a source map is now available - when/if we create a solidity compatible source map this would be a second issue/task.",
    "reactions": {
      "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/438998658/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
