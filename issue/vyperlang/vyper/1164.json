{
  "url": "https://api.github.com/repos/vyperlang/vyper/issues/1164",
  "repository_url": "https://api.github.com/repos/vyperlang/vyper",
  "labels_url": "https://api.github.com/repos/vyperlang/vyper/issues/1164/labels{/name}",
  "comments_url": "https://api.github.com/repos/vyperlang/vyper/issues/1164/comments",
  "events_url": "https://api.github.com/repos/vyperlang/vyper/issues/1164/events",
  "html_url": "https://github.com/vyperlang/vyper/issues/1164",
  "id": 394859203,
  "node_id": "MDU6SXNzdWUzOTQ4NTkyMDM=",
  "number": 1164,
  "title": "VIP: Add keyword for immutable state variables",
  "user": {
    "login": "buckle2000",
    "id": 10850402,
    "node_id": "MDQ6VXNlcjEwODUwNDAy",
    "avatar_url": "https://avatars.githubusercontent.com/u/10850402?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/buckle2000",
    "html_url": "https://github.com/buckle2000",
    "followers_url": "https://api.github.com/users/buckle2000/followers",
    "following_url": "https://api.github.com/users/buckle2000/following{/other_user}",
    "gists_url": "https://api.github.com/users/buckle2000/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/buckle2000/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/buckle2000/subscriptions",
    "organizations_url": "https://api.github.com/users/buckle2000/orgs",
    "repos_url": "https://api.github.com/users/buckle2000/repos",
    "events_url": "https://api.github.com/users/buckle2000/events{/privacy}",
    "received_events_url": "https://api.github.com/users/buckle2000/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 684449300,
      "node_id": "MDU6TGFiZWw2ODQ0NDkzMDA=",
      "url": "https://api.github.com/repos/vyperlang/vyper/labels/Easy%20Pickings",
      "name": "Easy Pickings",
      "color": "0e8a16",
      "default": false,
      "description": "Used to denote issues that should be easy to implement"
    },
    {
      "id": 757250644,
      "node_id": "MDU6TGFiZWw3NTcyNTA2NDQ=",
      "url": "https://api.github.com/repos/vyperlang/vyper/labels/VIP:%20Approved",
      "name": "VIP: Approved",
      "color": "98f765",
      "default": false,
      "description": "VIP Approved"
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 11,
  "created_at": "2018-12-30T09:41:49Z",
  "updated_at": "2022-06-10T23:08:41Z",
  "closed_at": "2021-11-13T00:39:06Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "## Simple Summary\r\nAdd a keyword for state variables of a contract that ensures immutability\r\n\r\n## Abstract & Motivation\r\n\r\nData marked with this keyword **must** be set in `__init__`\r\n\r\nThis keyword will make code more readable, thus making it more secure.\r\n\r\nThe keyword might be\r\n- final\r\n- immutable\r\n- frozen\r\n- ... or whatever\r\n\r\n## Specification\r\n\r\nIf the keyword is `final`, then it can be used like this:\r\n\r\n```vyper\r\n# Auction params\r\n# Beneficiary receives money from the highest bidder\r\nbeneficiary: public(final(address))\r\nauctionStart: final(public(timestamp))\r\nauctionEnd: public(final(timestamp))\r\n```\r\n\r\nImmutability is checked **only in compile time**\r\n\r\n## Backwards Compatibility\r\nNone\r\n\r\n## Copyright\r\nCopyright and related rights waived via [CC0](https://creativecommons.org/publicdomain/zero/1.0/)\r\n",
  "closed_by": {
    "login": "charles-cooper",
    "id": 3867501,
    "node_id": "MDQ6VXNlcjM4Njc1MDE=",
    "avatar_url": "https://avatars.githubusercontent.com/u/3867501?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/charles-cooper",
    "html_url": "https://github.com/charles-cooper",
    "followers_url": "https://api.github.com/users/charles-cooper/followers",
    "following_url": "https://api.github.com/users/charles-cooper/following{/other_user}",
    "gists_url": "https://api.github.com/users/charles-cooper/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/charles-cooper/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/charles-cooper/subscriptions",
    "organizations_url": "https://api.github.com/users/charles-cooper/orgs",
    "repos_url": "https://api.github.com/users/charles-cooper/repos",
    "events_url": "https://api.github.com/users/charles-cooper/events{/privacy}",
    "received_events_url": "https://api.github.com/users/charles-cooper/received_events",
    "type": "User",
    "site_admin": false
  },
  "reactions": {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/1164/reactions",
    "total_count": 2,
    "+1": 2,
    "-1": 0,
    "laugh": 0,
    "hooray": 0,
    "confused": 0,
    "heart": 0,
    "rocket": 0,
    "eyes": 0
  },
  "timeline_url": "https://api.github.com/repos/vyperlang/vyper/issues/1164/timeline",
  "performed_via_github_app": null,
  "state_reason": "completed"
}
[
  {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/450575141",
    "html_url": "https://github.com/vyperlang/vyper/issues/1164#issuecomment-450575141",
    "issue_url": "https://api.github.com/repos/vyperlang/vyper/issues/1164",
    "id": 450575141,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1MDU3NTE0MQ==",
    "user": {
      "login": "fubuloubu",
      "id": 3859395,
      "node_id": "MDQ6VXNlcjM4NTkzOTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3859395?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fubuloubu",
      "html_url": "https://github.com/fubuloubu",
      "followers_url": "https://api.github.com/users/fubuloubu/followers",
      "following_url": "https://api.github.com/users/fubuloubu/following{/other_user}",
      "gists_url": "https://api.github.com/users/fubuloubu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fubuloubu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fubuloubu/subscriptions",
      "organizations_url": "https://api.github.com/users/fubuloubu/orgs",
      "repos_url": "https://api.github.com/users/fubuloubu/repos",
      "events_url": "https://api.github.com/users/fubuloubu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fubuloubu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2018-12-30T17:29:48Z",
    "updated_at": "2018-12-30T17:29:48Z",
    "author_association": "MEMBER",
    "body": "I like this proposal. It works for the concept of deployment parameters that is a pretty common usecase (for things like the ticker symbol of a token, withdrawal period of Plasma, etc)\r\n\r\nAs noted, it's basically a hint for auditing and a compile-time check, so not hugely necessary.\r\n\r\nMaybe we could allow `final` constants to not have to be set/accessed with the `self.CONSTANT` syntax so it fits in the same way as we use constants (only set at deployment instead of in code)",
    "reactions": {
      "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/450575141/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/450816250",
    "html_url": "https://github.com/vyperlang/vyper/issues/1164#issuecomment-450816250",
    "issue_url": "https://api.github.com/repos/vyperlang/vyper/issues/1164",
    "id": 450816250,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1MDgxNjI1MA==",
    "user": {
      "login": "jacqueswww",
      "id": 6917456,
      "node_id": "MDQ6VXNlcjY5MTc0NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6917456?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jacqueswww",
      "html_url": "https://github.com/jacqueswww",
      "followers_url": "https://api.github.com/users/jacqueswww/followers",
      "following_url": "https://api.github.com/users/jacqueswww/following{/other_user}",
      "gists_url": "https://api.github.com/users/jacqueswww/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jacqueswww/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jacqueswww/subscriptions",
      "organizations_url": "https://api.github.com/users/jacqueswww/orgs",
      "repos_url": "https://api.github.com/users/jacqueswww/repos",
      "events_url": "https://api.github.com/users/jacqueswww/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jacqueswww/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-02T09:19:46Z",
    "updated_at": "2019-01-02T09:24:13Z",
    "author_association": "CONTRIBUTOR",
    "body": "Just a note: Marking something as final means it can only be set in `__init__` which also means we need to warn that a variables is set to default/zero if not assigned in `__init__` (the alternative to the `__init__ `limitation being a check for 1 assignment maximum).",
    "reactions": {
      "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/450816250/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/450902914",
    "html_url": "https://github.com/vyperlang/vyper/issues/1164#issuecomment-450902914",
    "issue_url": "https://api.github.com/repos/vyperlang/vyper/issues/1164",
    "id": 450902914,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1MDkwMjkxNA==",
    "user": {
      "login": "fubuloubu",
      "id": 3859395,
      "node_id": "MDQ6VXNlcjM4NTkzOTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3859395?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fubuloubu",
      "html_url": "https://github.com/fubuloubu",
      "followers_url": "https://api.github.com/users/fubuloubu/followers",
      "following_url": "https://api.github.com/users/fubuloubu/following{/other_user}",
      "gists_url": "https://api.github.com/users/fubuloubu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fubuloubu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fubuloubu/subscriptions",
      "organizations_url": "https://api.github.com/users/fubuloubu/orgs",
      "repos_url": "https://api.github.com/users/fubuloubu/repos",
      "events_url": "https://api.github.com/users/fubuloubu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fubuloubu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-02T16:01:36Z",
    "updated_at": "2019-01-02T16:01:48Z",
    "author_association": "MEMBER",
    "body": "Should the compiler throw an Error if it's not set in `__init__`? I would argue that's unintended behavior and they should either set it or make it a constant.",
    "reactions": {
      "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/450902914/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/450911690",
    "html_url": "https://github.com/vyperlang/vyper/issues/1164#issuecomment-450911690",
    "issue_url": "https://api.github.com/repos/vyperlang/vyper/issues/1164",
    "id": 450911690,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1MDkxMTY5MA==",
    "user": {
      "login": "jacqueswww",
      "id": 6917456,
      "node_id": "MDQ6VXNlcjY5MTc0NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6917456?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jacqueswww",
      "html_url": "https://github.com/jacqueswww",
      "followers_url": "https://api.github.com/users/jacqueswww/followers",
      "following_url": "https://api.github.com/users/jacqueswww/following{/other_user}",
      "gists_url": "https://api.github.com/users/jacqueswww/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jacqueswww/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jacqueswww/subscriptions",
      "organizations_url": "https://api.github.com/users/jacqueswww/orgs",
      "repos_url": "https://api.github.com/users/jacqueswww/repos",
      "events_url": "https://api.github.com/users/jacqueswww/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jacqueswww/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-02T16:31:21Z",
    "updated_at": "2019-01-02T16:31:21Z",
    "author_association": "CONTRIBUTOR",
    "body": "Yes, this would definitely have to be an error as it violates `final`. ",
    "reactions": {
      "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/450911690/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/451966370",
    "html_url": "https://github.com/vyperlang/vyper/issues/1164#issuecomment-451966370",
    "issue_url": "https://api.github.com/repos/vyperlang/vyper/issues/1164",
    "id": 451966370,
    "node_id": "MDEyOklzc3VlQ29tbWVudDQ1MTk2NjM3MA==",
    "user": {
      "login": "jacqueswww",
      "id": 6917456,
      "node_id": "MDQ6VXNlcjY5MTc0NTY=",
      "avatar_url": "https://avatars.githubusercontent.com/u/6917456?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/jacqueswww",
      "html_url": "https://github.com/jacqueswww",
      "followers_url": "https://api.github.com/users/jacqueswww/followers",
      "following_url": "https://api.github.com/users/jacqueswww/following{/other_user}",
      "gists_url": "https://api.github.com/users/jacqueswww/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/jacqueswww/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/jacqueswww/subscriptions",
      "organizations_url": "https://api.github.com/users/jacqueswww/orgs",
      "repos_url": "https://api.github.com/users/jacqueswww/repos",
      "events_url": "https://api.github.com/users/jacqueswww/events{/privacy}",
      "received_events_url": "https://api.github.com/users/jacqueswww/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2019-01-07T15:12:52Z",
    "updated_at": "2019-01-07T15:12:52Z",
    "author_association": "CONTRIBUTOR",
    "body": "Approved :+1: ",
    "reactions": {
      "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/451966370/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/571215290",
    "html_url": "https://github.com/vyperlang/vyper/issues/1164#issuecomment-571215290",
    "issue_url": "https://api.github.com/repos/vyperlang/vyper/issues/1164",
    "id": 571215290,
    "node_id": "MDEyOklzc3VlQ29tbWVudDU3MTIxNTI5MA==",
    "user": {
      "login": "charles-cooper",
      "id": 3867501,
      "node_id": "MDQ6VXNlcjM4Njc1MDE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3867501?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/charles-cooper",
      "html_url": "https://github.com/charles-cooper",
      "followers_url": "https://api.github.com/users/charles-cooper/followers",
      "following_url": "https://api.github.com/users/charles-cooper/following{/other_user}",
      "gists_url": "https://api.github.com/users/charles-cooper/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/charles-cooper/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/charles-cooper/subscriptions",
      "organizations_url": "https://api.github.com/users/charles-cooper/orgs",
      "repos_url": "https://api.github.com/users/charles-cooper/repos",
      "events_url": "https://api.github.com/users/charles-cooper/events{/privacy}",
      "received_events_url": "https://api.github.com/users/charles-cooper/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2020-01-06T16:48:58Z",
    "updated_at": "2020-01-06T16:48:58Z",
    "author_association": "COLLABORATOR",
    "body": "for gas savings, we can skip SLOADing immutable variables. in the constructor, we can set the values of the immutable variables in a data section of the runtime code and then at runtime use CODECOPY to load the values.",
    "reactions": {
      "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/571215290/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/783249044",
    "html_url": "https://github.com/vyperlang/vyper/issues/1164#issuecomment-783249044",
    "issue_url": "https://api.github.com/repos/vyperlang/vyper/issues/1164",
    "id": 783249044,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4MzI0OTA0NA==",
    "user": {
      "login": "spinoch",
      "id": 73601239,
      "node_id": "MDQ6VXNlcjczNjAxMjM5",
      "avatar_url": "https://avatars.githubusercontent.com/u/73601239?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/spinoch",
      "html_url": "https://github.com/spinoch",
      "followers_url": "https://api.github.com/users/spinoch/followers",
      "following_url": "https://api.github.com/users/spinoch/following{/other_user}",
      "gists_url": "https://api.github.com/users/spinoch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/spinoch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/spinoch/subscriptions",
      "organizations_url": "https://api.github.com/users/spinoch/orgs",
      "repos_url": "https://api.github.com/users/spinoch/repos",
      "events_url": "https://api.github.com/users/spinoch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/spinoch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-22T09:55:32Z",
    "updated_at": "2021-02-22T09:55:32Z",
    "author_association": "CONTRIBUTOR",
    "body": "I would have expected this functionality to be implemented as part of `constant`, that feels more intuitive imo",
    "reactions": {
      "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/783249044/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/783562782",
    "html_url": "https://github.com/vyperlang/vyper/issues/1164#issuecomment-783562782",
    "issue_url": "https://api.github.com/repos/vyperlang/vyper/issues/1164",
    "id": 783562782,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4MzU2Mjc4Mg==",
    "user": {
      "login": "fubuloubu",
      "id": 3859395,
      "node_id": "MDQ6VXNlcjM4NTkzOTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3859395?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fubuloubu",
      "html_url": "https://github.com/fubuloubu",
      "followers_url": "https://api.github.com/users/fubuloubu/followers",
      "following_url": "https://api.github.com/users/fubuloubu/following{/other_user}",
      "gists_url": "https://api.github.com/users/fubuloubu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fubuloubu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fubuloubu/subscriptions",
      "organizations_url": "https://api.github.com/users/fubuloubu/orgs",
      "repos_url": "https://api.github.com/users/fubuloubu/repos",
      "events_url": "https://api.github.com/users/fubuloubu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fubuloubu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-22T18:05:11Z",
    "updated_at": "2021-02-22T18:05:11Z",
    "author_association": "MEMBER",
    "body": "> I would have expected this functionality to be implemented as part of `constant`, that feels more intuitive imo\r\n\r\nA constant gets injected directly into the bytecode during compilation. The suggestion here would be a state variable that can only be set once (during `__init__`, or potentially during an `initialize` method w.r.t. `create_forwarder_to`-style proxies).\r\n\r\nIt would still be a storage variable. Dynamically assembling the bytecode during deployments is a really difficult exercise, but could be done as an optimization to further reduce code size/gas cost.",
    "reactions": {
      "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/783562782/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/783588612",
    "html_url": "https://github.com/vyperlang/vyper/issues/1164#issuecomment-783588612",
    "issue_url": "https://api.github.com/repos/vyperlang/vyper/issues/1164",
    "id": 783588612,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4MzU4ODYxMg==",
    "user": {
      "login": "spinoch",
      "id": 73601239,
      "node_id": "MDQ6VXNlcjczNjAxMjM5",
      "avatar_url": "https://avatars.githubusercontent.com/u/73601239?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/spinoch",
      "html_url": "https://github.com/spinoch",
      "followers_url": "https://api.github.com/users/spinoch/followers",
      "following_url": "https://api.github.com/users/spinoch/following{/other_user}",
      "gists_url": "https://api.github.com/users/spinoch/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/spinoch/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/spinoch/subscriptions",
      "organizations_url": "https://api.github.com/users/spinoch/orgs",
      "repos_url": "https://api.github.com/users/spinoch/repos",
      "events_url": "https://api.github.com/users/spinoch/events{/privacy}",
      "received_events_url": "https://api.github.com/users/spinoch/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-22T18:44:11Z",
    "updated_at": "2021-02-22T18:44:11Z",
    "author_association": "CONTRIBUTOR",
    "body": "Right. Thanks for the low-level hints.\r\n\r\n> It would still be a storage variable. Dynamically assembling the bytecode during deployments is a really difficult exercise, but could be done as an optimization to further reduce code size/gas cost.\r\n\r\nI was thinking that one could have some sort of templating similar to say `docker-compose` or shell scripts where the contracts would get information from an environment variables kind of setup e.g. the code would look like\r\n```\r\nBENEFICIARY: public(constant(address)) = $BENEFICIARY\r\n```\r\nand at compile time the value of `$BENEFICIARY` is read from the environment and replaces the variable name.\r\n\r\nThis way, it is still a constant at compile time and we have the gas optimizations as well as relatively clean code.\r\nOf course, this would imply having some kind of wrapper at compile time which replaces the placeholder constants for the desired values. One can easily do this using shell tools, but I'm unsure if the cost of maintenance and complexity are worth it",
    "reactions": {
      "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/783588612/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/783592770",
    "html_url": "https://github.com/vyperlang/vyper/issues/1164#issuecomment-783592770",
    "issue_url": "https://api.github.com/repos/vyperlang/vyper/issues/1164",
    "id": 783592770,
    "node_id": "MDEyOklzc3VlQ29tbWVudDc4MzU5Mjc3MA==",
    "user": {
      "login": "fubuloubu",
      "id": 3859395,
      "node_id": "MDQ6VXNlcjM4NTkzOTU=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3859395?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/fubuloubu",
      "html_url": "https://github.com/fubuloubu",
      "followers_url": "https://api.github.com/users/fubuloubu/followers",
      "following_url": "https://api.github.com/users/fubuloubu/following{/other_user}",
      "gists_url": "https://api.github.com/users/fubuloubu/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/fubuloubu/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/fubuloubu/subscriptions",
      "organizations_url": "https://api.github.com/users/fubuloubu/orgs",
      "repos_url": "https://api.github.com/users/fubuloubu/repos",
      "events_url": "https://api.github.com/users/fubuloubu/events{/privacy}",
      "received_events_url": "https://api.github.com/users/fubuloubu/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2021-02-22T18:50:26Z",
    "updated_at": "2021-02-22T18:50:26Z",
    "author_association": "MEMBER",
    "body": "> at compile time the value of `$BENEFICIARY` is read from the environment and replaces the variable name.\r\n\r\nI had a similar idea too, I think it would be useful but IMO that's a new VIP.\r\n\r\nIn general, I want to support using Vyper as a templating tool too. For example, in `yearn-vaults` we have a field that's generated based on the git tag, but that requires a lot of management to use correctly. if it instead looked like:\r\n\r\n```python\r\nVERSION = public(constant(String[20])) = {{ $VERSION }}\r\nBENEFICIARY: public(constant(address)) = {{ $BENEFICIARY }}\r\n```\r\n that would be pretty cool",
    "reactions": {
      "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/783592770/reactions",
      "total_count": 1,
      "+1": 1,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  },
  {
    "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/1152792456",
    "html_url": "https://github.com/vyperlang/vyper/issues/1164#issuecomment-1152792456",
    "issue_url": "https://api.github.com/repos/vyperlang/vyper/issues/1164",
    "id": 1152792456,
    "node_id": "IC_kwDOBGDvrM5EtjeI",
    "user": {
      "login": "charles-cooper",
      "id": 3867501,
      "node_id": "MDQ6VXNlcjM4Njc1MDE=",
      "avatar_url": "https://avatars.githubusercontent.com/u/3867501?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/charles-cooper",
      "html_url": "https://github.com/charles-cooper",
      "followers_url": "https://api.github.com/users/charles-cooper/followers",
      "following_url": "https://api.github.com/users/charles-cooper/following{/other_user}",
      "gists_url": "https://api.github.com/users/charles-cooper/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/charles-cooper/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/charles-cooper/subscriptions",
      "organizations_url": "https://api.github.com/users/charles-cooper/orgs",
      "repos_url": "https://api.github.com/users/charles-cooper/repos",
      "events_url": "https://api.github.com/users/charles-cooper/events{/privacy}",
      "received_events_url": "https://api.github.com/users/charles-cooper/received_events",
      "type": "User",
      "site_admin": false
    },
    "created_at": "2022-06-10T23:08:33Z",
    "updated_at": "2022-06-10T23:08:41Z",
    "author_association": "COLLABORATOR",
    "body": "> It would still be a storage variable. Dynamically assembling the bytecode during deployments is a really difficult exercise, but could be done as an optimization to further reduce code size/gas cost.\r\n\r\nnote for those looking at this issue for implementation details: in the current implementation (v0.3.3), immutables are appended to the runtime code during deployment, there is no storage overhead.",
    "reactions": {
      "url": "https://api.github.com/repos/vyperlang/vyper/issues/comments/1152792456/reactions",
      "total_count": 0,
      "+1": 0,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 0,
      "eyes": 0
    },
    "performed_via_github_app": null
  }
]
